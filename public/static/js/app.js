(()=>{var gk=Object.create;var Uh=Object.defineProperty;var vk=Object.getOwnPropertyDescriptor;var _k=Object.getOwnPropertyNames;var bk=Object.getPrototypeOf,yk=Object.prototype.hasOwnProperty;var hl=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var se=(e,t)=>()=>(e&&(t=e(e=0)),t);var Pn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wh=(e,t)=>{for(var r in t)Uh(e,r,{get:t[r],enumerable:!0})},Bw=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of _k(t))!yk.call(e,a)&&a!==r&&Uh(e,a,{get:()=>t[a],enumerable:!(n=vk(t,a))||n.enumerable});return e};var rn=(e,t,r)=>(r=e!=null?gk(bk(e)):{},Bw(t||!e||!e.__esModule?Uh(r,"default",{value:e,enumerable:!0}):r,e)),Rw=e=>Bw(Uh({},"__esModule",{value:!0}),e);var $w=Pn(_r=>{"use strict";var pd=Symbol.for("react.element"),xk=Symbol.for("react.portal"),wk=Symbol.for("react.fragment"),Sk=Symbol.for("react.strict_mode"),Ck=Symbol.for("react.profiler"),Ek=Symbol.for("react.provider"),Mk=Symbol.for("react.context"),Dk=Symbol.for("react.forward_ref"),Ak=Symbol.for("react.suspense"),Tk=Symbol.for("react.memo"),Lk=Symbol.for("react.lazy"),Uw=Symbol.iterator;function Ok(e){return e===null||typeof e!="object"?null:(e=Uw&&e[Uw]||e["@@iterator"],typeof e=="function"?e:null)}var Gw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hw=Object.assign,Vw={};function Au(e,t,r){this.props=e,this.context=t,this.refs=Vw,this.updater=r||Gw}Au.prototype.isReactComponent={};Au.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Au.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yw(){}Yw.prototype=Au.prototype;function xv(e,t,r){this.props=e,this.context=t,this.refs=Vw,this.updater=r||Gw}var wv=xv.prototype=new Yw;wv.constructor=xv;Hw(wv,Au.prototype);wv.isPureReactComponent=!0;var Ww=Array.isArray,Kw=Object.prototype.hasOwnProperty,Sv={current:null},Zw={key:!0,ref:!0,__self:!0,__source:!0};function Xw(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Kw.call(t,n)&&!Zw.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var u=Array(l),v=0;v<l;v++)u[v]=arguments[v+2];a.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:pd,type:e,key:s,ref:o,props:a,_owner:Sv.current}}function kk(e,t){return{$$typeof:pd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cv(e){return typeof e=="object"&&e!==null&&e.$$typeof===pd}function Pk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jw=/\/+/g;function yv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pk(""+e.key):t.toString(36)}function Gh(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pd:case xk:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+yv(o,0):n,Ww(a)?(r="",e!=null&&(r=e.replace(jw,"$&/")+"/"),Gh(a,t,r,"",function(v){return v})):a!=null&&(Cv(a)&&(a=kk(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(jw,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Ww(e))for(var l=0;l<e.length;l++){s=e[l];var u=n+yv(s,l);o+=Gh(s,t,r,u,a)}else if(u=Ok(e),typeof u=="function")for(e=u.call(e),l=0;!(s=e.next()).done;)s=s.value,u=n+yv(s,l++),o+=Gh(s,t,r,u,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jh(e,t,r){if(e==null)return e;var n=[],a=0;return Gh(e,n,"","",function(s){return t.call(r,s,a++)}),n}function Nk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fi={current:null},Hh={transition:null},Ik={ReactCurrentDispatcher:fi,ReactCurrentBatchConfig:Hh,ReactCurrentOwner:Sv};_r.Children={map:jh,forEach:function(e,t,r){jh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jh(e,function(){t++}),t},toArray:function(e){return jh(e,function(t){return t})||[]},only:function(e){if(!Cv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_r.Component=Au;_r.Fragment=wk;_r.Profiler=Ck;_r.PureComponent=xv;_r.StrictMode=Sk;_r.Suspense=Ak;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;_r.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Hw({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Kw.call(t,u)&&!Zw.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var v=0;v<u;v++)l[v]=arguments[v+2];n.children=l}return{$$typeof:pd,type:e.type,key:a,ref:s,props:n,_owner:o}};_r.createContext=function(e){return e={$$typeof:Mk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ek,_context:e},e.Consumer=e};_r.createElement=Xw;_r.createFactory=function(e){var t=Xw.bind(null,e);return t.type=e,t};_r.createRef=function(){return{current:null}};_r.forwardRef=function(e){return{$$typeof:Dk,render:e}};_r.isValidElement=Cv;_r.lazy=function(e){return{$$typeof:Lk,_payload:{_status:-1,_result:e},_init:Nk}};_r.memo=function(e,t){return{$$typeof:Tk,type:e,compare:t===void 0?null:t}};_r.startTransition=function(e){var t=Hh.transition;Hh.transition={};try{e()}finally{Hh.transition=t}};_r.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_r.useCallback=function(e,t){return fi.current.useCallback(e,t)};_r.useContext=function(e){return fi.current.useContext(e)};_r.useDebugValue=function(){};_r.useDeferredValue=function(e){return fi.current.useDeferredValue(e)};_r.useEffect=function(e,t){return fi.current.useEffect(e,t)};_r.useId=function(){return fi.current.useId()};_r.useImperativeHandle=function(e,t,r){return fi.current.useImperativeHandle(e,t,r)};_r.useInsertionEffect=function(e,t){return fi.current.useInsertionEffect(e,t)};_r.useLayoutEffect=function(e,t){return fi.current.useLayoutEffect(e,t)};_r.useMemo=function(e,t){return fi.current.useMemo(e,t)};_r.useReducer=function(e,t,r){return fi.current.useReducer(e,t,r)};_r.useRef=function(e){return fi.current.useRef(e)};_r.useState=function(e){return fi.current.useState(e)};_r.useSyncExternalStore=function(e,t,r){return fi.current.useSyncExternalStore(e,t,r)};_r.useTransition=function(){return fi.current.useTransition()};_r.version="18.2.0"});var Nn=Pn((ZR,Qw)=>{"use strict";Qw.exports=$w()});var o2=Pn(Hr=>{"use strict";function Av(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(0<Vh(a,t))e[n]=t,e[r]=a,r=n;else break e}}function Ia(e){return e.length===0?null:e[0]}function Kh(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],u=o+1,v=e[u];if(0>Vh(l,r))u<a&&0>Vh(v,l)?(e[n]=v,e[u]=r,n=u):(e[n]=l,e[o]=r,n=o);else if(u<a&&0>Vh(v,r))e[n]=v,e[u]=r,n=u;else break e}}return t}function Vh(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(qw=performance,Hr.unstable_now=function(){return qw.now()}):(Ev=Date,Jw=Ev.now(),Hr.unstable_now=function(){return Ev.now()-Jw});var qw,Ev,Jw,rs=[],mo=[],zk=1,aa=null,$n=3,Zh=!1,pl=!1,gd=!1,r2=typeof setTimeout=="function"?setTimeout:null,n2=typeof clearTimeout=="function"?clearTimeout:null,e2=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Tv(e){for(var t=Ia(mo);t!==null;){if(t.callback===null)Kh(mo);else if(t.startTime<=e)Kh(mo),t.sortIndex=t.expirationTime,Av(rs,t);else break;t=Ia(mo)}}function Lv(e){if(gd=!1,Tv(e),!pl)if(Ia(rs)!==null)pl=!0,kv(Ov);else{var t=Ia(mo);t!==null&&Pv(Lv,t.startTime-e)}}function Ov(e,t){pl=!1,gd&&(gd=!1,n2(vd),vd=-1),Zh=!0;var r=$n;try{for(Tv(t),aa=Ia(rs);aa!==null&&(!(aa.expirationTime>t)||e&&!s2());){var n=aa.callback;if(typeof n=="function"){aa.callback=null,$n=aa.priorityLevel;var a=n(aa.expirationTime<=t);t=Hr.unstable_now(),typeof a=="function"?aa.callback=a:aa===Ia(rs)&&Kh(rs),Tv(t)}else Kh(rs);aa=Ia(rs)}if(aa!==null)var s=!0;else{var o=Ia(mo);o!==null&&Pv(Lv,o.startTime-t),s=!1}return s}finally{aa=null,$n=r,Zh=!1}}var Xh=!1,Yh=null,vd=-1,i2=5,a2=-1;function s2(){return!(Hr.unstable_now()-a2<i2)}function Mv(){if(Yh!==null){var e=Hr.unstable_now();a2=e;var t=!0;try{t=Yh(!0,e)}finally{t?md():(Xh=!1,Yh=null)}}else Xh=!1}var md;typeof e2=="function"?md=function(){e2(Mv)}:typeof MessageChannel<"u"?(Dv=new MessageChannel,t2=Dv.port2,Dv.port1.onmessage=Mv,md=function(){t2.postMessage(null)}):md=function(){r2(Mv,0)};var Dv,t2;function kv(e){Yh=e,Xh||(Xh=!0,md())}function Pv(e,t){vd=r2(function(){e(Hr.unstable_now())},t)}Hr.unstable_IdlePriority=5;Hr.unstable_ImmediatePriority=1;Hr.unstable_LowPriority=4;Hr.unstable_NormalPriority=3;Hr.unstable_Profiling=null;Hr.unstable_UserBlockingPriority=2;Hr.unstable_cancelCallback=function(e){e.callback=null};Hr.unstable_continueExecution=function(){pl||Zh||(pl=!0,kv(Ov))};Hr.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):i2=0<e?Math.floor(1e3/e):5};Hr.unstable_getCurrentPriorityLevel=function(){return $n};Hr.unstable_getFirstCallbackNode=function(){return Ia(rs)};Hr.unstable_next=function(e){switch($n){case 1:case 2:case 3:var t=3;break;default:t=$n}var r=$n;$n=t;try{return e()}finally{$n=r}};Hr.unstable_pauseExecution=function(){};Hr.unstable_requestPaint=function(){};Hr.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=$n;$n=e;try{return t()}finally{$n=r}};Hr.unstable_scheduleCallback=function(e,t,r){var n=Hr.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=r+a,e={id:zk++,callback:t,priorityLevel:e,startTime:r,expirationTime:a,sortIndex:-1},r>n?(e.sortIndex=r,Av(mo,e),Ia(rs)===null&&e===Ia(mo)&&(gd?(n2(vd),vd=-1):gd=!0,Pv(Lv,r-n))):(e.sortIndex=a,Av(rs,e),pl||Zh||(pl=!0,kv(Ov))),e};Hr.unstable_shouldYield=s2;Hr.unstable_wrapCallback=function(e){var t=$n;return function(){var r=$n;$n=t;try{return e.apply(this,arguments)}finally{$n=r}}}});var u2=Pn(($R,l2)=>{"use strict";l2.exports=o2()});var mC=Pn(Ki=>{"use strict";var g3=Nn(),Vi=u2();function Mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v3=new Set,Rd={};function Dl(e,t){Xu(e,t),Xu(e+"Capture",t)}function Xu(e,t){for(Rd[e]=t,e=0;e<t.length;e++)v3.add(t[e])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r1=Object.prototype.hasOwnProperty,Fk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f2={},d2={};function Bk(e){return r1.call(d2,e)?!0:r1.call(f2,e)?!1:Fk.test(e)?d2[e]=!0:(f2[e]=!0,!1)}function Rk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Uk(e,t,r,n){if(t===null||typeof t>"u"||Rk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hi(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vn[e]=new hi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vn[t]=new hi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vn[e]=new hi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vn[e]=new hi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vn[e]=new hi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vn[e]=new hi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vn[e]=new hi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vn[e]=new hi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vn[e]=new hi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z1=/[\-:]([a-z])/g;function X1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z1,X1);Vn[t]=new hi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z1,X1);Vn[t]=new hi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z1,X1);Vn[t]=new hi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vn[e]=new hi(e,1,!1,e.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vn[e]=new hi(e,1,!1,e.toLowerCase(),null,!0,!0)});function $1(e,t,r,n){var a=Vn.hasOwnProperty(t)?Vn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Uk(t,r,a,n)&&(r=null),n||a===null?Bk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zs=g3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$h=Symbol.for("react.element"),Ou=Symbol.for("react.portal"),ku=Symbol.for("react.fragment"),Q1=Symbol.for("react.strict_mode"),n1=Symbol.for("react.profiler"),_3=Symbol.for("react.provider"),b3=Symbol.for("react.context"),q1=Symbol.for("react.forward_ref"),i1=Symbol.for("react.suspense"),a1=Symbol.for("react.suspense_list"),J1=Symbol.for("react.memo"),vo=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var y3=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var c2=Symbol.iterator;function _d(e){return e===null||typeof e!="object"?null:(e=c2&&e[c2]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Object.assign,Nv;function Md(e){if(Nv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nv=t&&t[1]||""}return`
`+Nv+e}var Iv=!1;function zv(e,t){if(!e||Iv)return"";Iv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var n=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){n=v}e.call(t.prototype)}else{try{throw Error()}catch(v){n=v}e()}}catch(v){if(v&&n&&typeof v.stack=="string"){for(var a=v.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var u=`
`+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Iv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Md(e):""}function Wk(e){switch(e.tag){case 5:return Md(e.type);case 16:return Md("Lazy");case 13:return Md("Suspense");case 19:return Md("SuspenseList");case 0:case 2:case 15:return e=zv(e.type,!1),e;case 11:return e=zv(e.type.render,!1),e;case 1:return e=zv(e.type,!0),e;default:return""}}function s1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ku:return"Fragment";case Ou:return"Portal";case n1:return"Profiler";case Q1:return"StrictMode";case i1:return"Suspense";case a1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b3:return(e.displayName||"Context")+".Consumer";case _3:return(e._context.displayName||"Context")+".Provider";case q1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J1:return t=e.displayName||null,t!==null?t:s1(e.type)||"Memo";case vo:t=e._payload,e=e._init;try{return s1(e(t))}catch{}}return null}function jk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s1(t);case 8:return t===Q1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gk(e){var t=x3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qh(e){e._valueTracker||(e._valueTracker=Gk(e))}function w3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=x3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ep(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function o1(e,t){var r=t.checked;return sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function h2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Oo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function S3(e,t){t=t.checked,t!=null&&$1(e,"checked",t,!1)}function l1(e,t){S3(e,t);var r=Oo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?u1(e,t.type,r):t.hasOwnProperty("defaultValue")&&u1(e,t.type,Oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function p2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function u1(e,t,r){(t!=="number"||Ep(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dd=Array.isArray;function Gu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Oo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function f1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Mt(91));return sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function m2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Mt(92));if(Dd(r)){if(1<r.length)throw Error(Mt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Oo(r)}}function C3(e,t){var r=Oo(t.value),n=Oo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function g2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qh,M3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qh=qh||document.createElement("div"),qh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ud(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hk=["Webkit","ms","Moz","O"];Object.keys(Ld).forEach(function(e){Hk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ld[t]=Ld[e]})});function D3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ld.hasOwnProperty(e)&&Ld[e]?(""+t).trim():t+"px"}function A3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=D3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Vk=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function c1(e,t){if(t){if(Vk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Mt(62))}}function h1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p1=null;function e_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var m1=null,Hu=null,Vu=null;function v2(e){if(e=ic(e)){if(typeof m1!="function")throw Error(Mt(280));var t=e.stateNode;t&&(t=Jp(t),m1(e.stateNode,e.type,t))}}function T3(e){Hu?Vu?Vu.push(e):Vu=[e]:Hu=e}function L3(){if(Hu){var e=Hu,t=Vu;if(Vu=Hu=null,v2(e),t)for(e=0;e<t.length;e++)v2(t[e])}}function O3(e,t){return e(t)}function k3(){}var Fv=!1;function P3(e,t,r){if(Fv)return e(t,r);Fv=!0;try{return O3(e,t,r)}finally{Fv=!1,(Hu!==null||Vu!==null)&&(k3(),L3())}}function Wd(e,t){var r=e.stateNode;if(r===null)return null;var n=Jp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Mt(231,t,typeof r));return r}var g1=!1;if(Hs)try{Tu={},Object.defineProperty(Tu,"passive",{get:function(){g1=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{g1=!1}var Tu;function Yk(e,t,r,n,a,s,o,l,u){var v=Array.prototype.slice.call(arguments,3);try{t.apply(r,v)}catch(g){this.onError(g)}}var Od=!1,Mp=null,Dp=!1,v1=null,Kk={onError:function(e){Od=!0,Mp=e}};function Zk(e,t,r,n,a,s,o,l,u){Od=!1,Mp=null,Yk.apply(Kk,arguments)}function Xk(e,t,r,n,a,s,o,l,u){if(Zk.apply(this,arguments),Od){if(Od){var v=Mp;Od=!1,Mp=null}else throw Error(Mt(198));Dp||(Dp=!0,v1=v)}}function Al(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function N3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _2(e){if(Al(e)!==e)throw Error(Mt(188))}function $k(e){var t=e.alternate;if(!t){if(t=Al(e),t===null)throw Error(Mt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return _2(a),e;if(s===n)return _2(a),t;s=s.sibling}throw Error(Mt(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(Mt(189))}}if(r.alternate!==n)throw Error(Mt(190))}if(r.tag!==3)throw Error(Mt(188));return r.stateNode.current===r?e:t}function I3(e){return e=$k(e),e!==null?z3(e):null}function z3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=z3(e);if(t!==null)return t;e=e.sibling}return null}var F3=Vi.unstable_scheduleCallback,b2=Vi.unstable_cancelCallback,Qk=Vi.unstable_shouldYield,qk=Vi.unstable_requestPaint,vn=Vi.unstable_now,Jk=Vi.unstable_getCurrentPriorityLevel,t_=Vi.unstable_ImmediatePriority,B3=Vi.unstable_UserBlockingPriority,Ap=Vi.unstable_NormalPriority,eP=Vi.unstable_LowPriority,R3=Vi.unstable_IdlePriority,Xp=null,ss=null;function tP(e){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(Xp,e,void 0,(e.current.flags&128)===128)}catch{}}var Ua=Math.clz32?Math.clz32:iP,rP=Math.log,nP=Math.LN2;function iP(e){return e>>>=0,e===0?32:31-(rP(e)/nP|0)|0}var Jh=64,ep=4194304;function Ad(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Ad(l):(s&=o,s!==0&&(n=Ad(s)))}else o=r&~a,o!==0?n=Ad(o):s!==0&&(n=Ad(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ua(t),a=1<<r,n|=e[r],t&=~a;return n}function aP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ua(s),l=1<<o,u=a[o];u===-1?(!(l&r)||l&n)&&(a[o]=aP(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}}function _1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U3(){var e=Jh;return Jh<<=1,!(Jh&4194240)&&(Jh=64),e}function Bv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ua(t),e[t]=r}function oP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ua(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function r_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ua(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var zr=0;function W3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var j3,n_,G3,H3,V3,b1=!1,tp=[],So=null,Co=null,Eo=null,jd=new Map,Gd=new Map,bo=[],lP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y2(e,t){switch(e){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":jd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gd.delete(t.pointerId)}}function bd(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=ic(t),t!==null&&n_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function uP(e,t,r,n,a){switch(t){case"focusin":return So=bd(So,e,t,r,n,a),!0;case"dragenter":return Co=bd(Co,e,t,r,n,a),!0;case"mouseover":return Eo=bd(Eo,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return jd.set(s,bd(jd.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Gd.set(s,bd(Gd.get(s)||null,e,t,r,n,a)),!0}return!1}function Y3(e){var t=vl(e.target);if(t!==null){var r=Al(t);if(r!==null){if(t=r.tag,t===13){if(t=N3(r),t!==null){e.blockedOn=t,V3(e.priority,function(){G3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=y1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);p1=n,r.target.dispatchEvent(n),p1=null}else return t=ic(r),t!==null&&n_(t),e.blockedOn=r,!1;t.shift()}return!0}function x2(e,t,r){mp(e)&&r.delete(t)}function fP(){b1=!1,So!==null&&mp(So)&&(So=null),Co!==null&&mp(Co)&&(Co=null),Eo!==null&&mp(Eo)&&(Eo=null),jd.forEach(x2),Gd.forEach(x2)}function yd(e,t){e.blockedOn===t&&(e.blockedOn=null,b1||(b1=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,fP)))}function Hd(e){function t(a){return yd(a,e)}if(0<tp.length){yd(tp[0],e);for(var r=1;r<tp.length;r++){var n=tp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(So!==null&&yd(So,e),Co!==null&&yd(Co,e),Eo!==null&&yd(Eo,e),jd.forEach(t),Gd.forEach(t),r=0;r<bo.length;r++)n=bo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bo.length&&(r=bo[0],r.blockedOn===null);)Y3(r),r.blockedOn===null&&bo.shift()}var Yu=Zs.ReactCurrentBatchConfig,Lp=!0;function dP(e,t,r,n){var a=zr,s=Yu.transition;Yu.transition=null;try{zr=1,i_(e,t,r,n)}finally{zr=a,Yu.transition=s}}function cP(e,t,r,n){var a=zr,s=Yu.transition;Yu.transition=null;try{zr=4,i_(e,t,r,n)}finally{zr=a,Yu.transition=s}}function i_(e,t,r,n){if(Lp){var a=y1(e,t,r,n);if(a===null)Vv(e,t,n,Op,r),y2(e,n);else if(uP(a,e,t,r,n))n.stopPropagation();else if(y2(e,n),t&4&&-1<lP.indexOf(e)){for(;a!==null;){var s=ic(a);if(s!==null&&j3(s),s=y1(e,t,r,n),s===null&&Vv(e,t,n,Op,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Vv(e,t,n,null,r)}}var Op=null;function y1(e,t,r,n){if(Op=null,e=e_(n),e=vl(e),e!==null)if(t=Al(e),t===null)e=null;else if(r=t.tag,r===13){if(e=N3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Op=e,null}function K3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jk()){case t_:return 1;case B3:return 4;case Ap:case eP:return 16;case R3:return 536870912;default:return 16}default:return 16}}var xo=null,a_=null,gp=null;function Z3(){if(gp)return gp;var e,t=a_,r=t.length,n,a="value"in xo?xo.value:xo.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return gp=a.slice(e,1<n?1-n:void 0)}function vp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rp(){return!0}function w2(){return!1}function Yi(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rp:w2,this.isPropagationStopped=w2,this}return sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rp)},persist:function(){},isPersistent:rp}),t}var rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s_=Yi(rf),nc=sn({},rf,{view:0,detail:0}),hP=Yi(nc),Rv,Uv,xd,$p=sn({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xd&&(xd&&e.type==="mousemove"?(Rv=e.screenX-xd.screenX,Uv=e.screenY-xd.screenY):Uv=Rv=0,xd=e),Rv)},movementY:function(e){return"movementY"in e?e.movementY:Uv}}),S2=Yi($p),pP=sn({},$p,{dataTransfer:0}),mP=Yi(pP),gP=sn({},nc,{relatedTarget:0}),Wv=Yi(gP),vP=sn({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),_P=Yi(vP),bP=sn({},rf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yP=Yi(bP),xP=sn({},rf,{data:0}),C2=Yi(xP),wP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CP[e])?!!t[e]:!1}function o_(){return EP}var MP=sn({},nc,{key:function(e){if(e.key){var t=wP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o_,charCode:function(e){return e.type==="keypress"?vp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DP=Yi(MP),AP=sn({},$p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E2=Yi(AP),TP=sn({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o_}),LP=Yi(TP),OP=sn({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),kP=Yi(OP),PP=sn({},$p,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NP=Yi(PP),IP=[9,13,27,32],l_=Hs&&"CompositionEvent"in window,kd=null;Hs&&"documentMode"in document&&(kd=document.documentMode);var zP=Hs&&"TextEvent"in window&&!kd,X3=Hs&&(!l_||kd&&8<kd&&11>=kd),M2=String.fromCharCode(32),D2=!1;function $3(e,t){switch(e){case"keyup":return IP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pu=!1;function FP(e,t){switch(e){case"compositionend":return Q3(t);case"keypress":return t.which!==32?null:(D2=!0,M2);case"textInput":return e=t.data,e===M2&&D2?null:e;default:return null}}function BP(e,t){if(Pu)return e==="compositionend"||!l_&&$3(e,t)?(e=Z3(),gp=a_=xo=null,Pu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X3&&t.locale!=="ko"?null:t.data;default:return null}}var RP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RP[e.type]:t==="textarea"}function q3(e,t,r,n){T3(n),t=kp(t,"onChange"),0<t.length&&(r=new s_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pd=null,Vd=null;function UP(e){uS(e,0)}function Qp(e){var t=zu(e);if(w3(t))return e}function WP(e,t){if(e==="change")return t}var J3=!1;Hs&&(Hs?(ip="oninput"in document,ip||(jv=document.createElement("div"),jv.setAttribute("oninput","return;"),ip=typeof jv.oninput=="function"),np=ip):np=!1,J3=np&&(!document.documentMode||9<document.documentMode));var np,ip,jv;function T2(){Pd&&(Pd.detachEvent("onpropertychange",eS),Vd=Pd=null)}function eS(e){if(e.propertyName==="value"&&Qp(Vd)){var t=[];q3(t,Vd,e,e_(e)),P3(UP,t)}}function jP(e,t,r){e==="focusin"?(T2(),Pd=t,Vd=r,Pd.attachEvent("onpropertychange",eS)):e==="focusout"&&T2()}function GP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qp(Vd)}function HP(e,t){if(e==="click")return Qp(t)}function VP(e,t){if(e==="input"||e==="change")return Qp(t)}function YP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ja=typeof Object.is=="function"?Object.is:YP;function Yd(e,t){if(ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!r1.call(t,a)||!ja(e[a],t[a]))return!1}return!0}function L2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O2(e,t){var r=L2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=L2(r)}}function tS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rS(){for(var e=window,t=Ep();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ep(e.document)}return t}function u_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KP(e){var t=rS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&tS(r.ownerDocument.documentElement,r)){if(n!==null&&u_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=O2(r,s);var o=O2(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZP=Hs&&"documentMode"in document&&11>=document.documentMode,Nu=null,x1=null,Nd=null,w1=!1;function k2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;w1||Nu==null||Nu!==Ep(n)||(n=Nu,"selectionStart"in n&&u_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nd&&Yd(Nd,n)||(Nd=n,n=kp(x1,"onSelect"),0<n.length&&(t=new s_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nu)))}function ap(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Iu={animationend:ap("Animation","AnimationEnd"),animationiteration:ap("Animation","AnimationIteration"),animationstart:ap("Animation","AnimationStart"),transitionend:ap("Transition","TransitionEnd")},Gv={},nS={};Hs&&(nS=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function qp(e){if(Gv[e])return Gv[e];if(!Iu[e])return e;var t=Iu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in nS)return Gv[e]=t[r];return e}var iS=qp("animationend"),aS=qp("animationiteration"),sS=qp("animationstart"),oS=qp("transitionend"),lS=new Map,P2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){lS.set(e,t),Dl(t,[e])}for(sp=0;sp<P2.length;sp++)op=P2[sp],N2=op.toLowerCase(),I2=op[0].toUpperCase()+op.slice(1),Po(N2,"on"+I2);var op,N2,I2,sp;Po(iS,"onAnimationEnd");Po(aS,"onAnimationIteration");Po(sS,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(oS,"onTransitionEnd");Xu("onMouseEnter",["mouseout","mouseover"]);Xu("onMouseLeave",["mouseout","mouseover"]);Xu("onPointerEnter",["pointerout","pointerover"]);Xu("onPointerLeave",["pointerout","pointerover"]);Dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Td));function z2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Xk(n,t,void 0,e),e.currentTarget=null}function uS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,v=l.currentTarget;if(l=l.listener,u!==s&&a.isPropagationStopped())break e;z2(a,l,v),s=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,v=l.currentTarget,l=l.listener,u!==s&&a.isPropagationStopped())break e;z2(a,l,v),s=u}}}if(Dp)throw e=v1,Dp=!1,v1=null,e}function Zr(e,t){var r=t[D1];r===void 0&&(r=t[D1]=new Set);var n=e+"__bubble";r.has(n)||(fS(t,e,2,!1),r.add(n))}function Hv(e,t,r){var n=0;t&&(n|=4),fS(r,e,n,t)}var lp="_reactListening"+Math.random().toString(36).slice(2);function Kd(e){if(!e[lp]){e[lp]=!0,v3.forEach(function(r){r!=="selectionchange"&&(XP.has(r)||Hv(r,!1,e),Hv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lp]||(t[lp]=!0,Hv("selectionchange",!1,t))}}function fS(e,t,r,n){switch(K3(t)){case 1:var a=dP;break;case 4:a=cP;break;default:a=i_}r=a.bind(null,t,r,e),a=void 0,!g1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vv(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;o=o.return}for(;l!==null;){if(o=vl(l),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}l=l.parentNode}}n=n.return}P3(function(){var v=s,g=e_(r),_=[];e:{var y=lS.get(e);if(y!==void 0){var w=s_,x=e;switch(e){case"keypress":if(vp(r)===0)break e;case"keydown":case"keyup":w=DP;break;case"focusin":x="focus",w=Wv;break;case"focusout":x="blur",w=Wv;break;case"beforeblur":case"afterblur":w=Wv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=S2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=mP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=LP;break;case iS:case aS:case sS:w=_P;break;case oS:w=kP;break;case"scroll":w=hP;break;case"wheel":w=NP;break;case"copy":case"cut":case"paste":w=yP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=E2}var f=(t&4)!==0,b=!f&&e==="scroll",h=f?y!==null?y+"Capture":null:y;f=[];for(var S=v,C;S!==null;){C=S;var M=C.stateNode;if(C.tag===5&&M!==null&&(C=M,h!==null&&(M=Wd(S,h),M!=null&&f.push(Zd(S,M,C)))),b)break;S=S.return}0<f.length&&(y=new w(y,x,null,r,g),_.push({event:y,listeners:f}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",y&&r!==p1&&(x=r.relatedTarget||r.fromElement)&&(vl(x)||x[Vs]))break e;if((w||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,w?(x=r.relatedTarget||r.toElement,w=v,x=x?vl(x):null,x!==null&&(b=Al(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=v),w!==x)){if(f=S2,M="onMouseLeave",h="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(f=E2,M="onPointerLeave",h="onPointerEnter",S="pointer"),b=w==null?y:zu(w),C=x==null?y:zu(x),y=new f(M,S+"leave",w,r,g),y.target=b,y.relatedTarget=C,M=null,vl(g)===v&&(f=new f(h,S+"enter",x,r,g),f.target=C,f.relatedTarget=b,M=f),b=M,w&&x)t:{for(f=w,h=x,S=0,C=f;C;C=Lu(C))S++;for(C=0,M=h;M;M=Lu(M))C++;for(;0<S-C;)f=Lu(f),S--;for(;0<C-S;)h=Lu(h),C--;for(;S--;){if(f===h||h!==null&&f===h.alternate)break t;f=Lu(f),h=Lu(h)}f=null}else f=null;w!==null&&F2(_,y,w,f,!1),x!==null&&b!==null&&F2(_,b,x,f,!0)}}e:{if(y=v?zu(v):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var p=WP;else if(A2(y))if(J3)p=VP;else{p=GP;var c=jP}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(p=HP);if(p&&(p=p(e,v))){q3(_,p,r,g);break e}c&&c(e,y,v),e==="focusout"&&(c=y._wrapperState)&&c.controlled&&y.type==="number"&&u1(y,"number",y.value)}switch(c=v?zu(v):window,e){case"focusin":(A2(c)||c.contentEditable==="true")&&(Nu=c,x1=v,Nd=null);break;case"focusout":Nd=x1=Nu=null;break;case"mousedown":w1=!0;break;case"contextmenu":case"mouseup":case"dragend":w1=!1,k2(_,r,g);break;case"selectionchange":if(ZP)break;case"keydown":case"keyup":k2(_,r,g)}var E;if(l_)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Pu?$3(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(X3&&r.locale!=="ko"&&(Pu||D!=="onCompositionStart"?D==="onCompositionEnd"&&Pu&&(E=Z3()):(xo=g,a_="value"in xo?xo.value:xo.textContent,Pu=!0)),c=kp(v,D),0<c.length&&(D=new C2(D,e,null,r,g),_.push({event:D,listeners:c}),E?D.data=E:(E=Q3(r),E!==null&&(D.data=E)))),(E=zP?FP(e,r):BP(e,r))&&(v=kp(v,"onBeforeInput"),0<v.length&&(g=new C2("onBeforeInput","beforeinput",null,r,g),_.push({event:g,listeners:v}),g.data=E))}uS(_,t)})}function Zd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function kp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Wd(e,r),s!=null&&n.unshift(Zd(e,s,a)),s=Wd(e,t),s!=null&&n.push(Zd(e,s,a))),e=e.return}return n}function Lu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function F2(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,v=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&v!==null&&(l=v,a?(u=Wd(r,s),u!=null&&o.unshift(Zd(r,u,l))):a||(u=Wd(r,s),u!=null&&o.push(Zd(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var $P=/\r\n?/g,QP=/\u0000|\uFFFD/g;function B2(e){return(typeof e=="string"?e:""+e).replace($P,`
`).replace(QP,"")}function up(e,t,r){if(t=B2(t),B2(e)!==t&&r)throw Error(Mt(425))}function Pp(){}var S1=null,C1=null;function E1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var M1=typeof setTimeout=="function"?setTimeout:void 0,qP=typeof clearTimeout=="function"?clearTimeout:void 0,R2=typeof Promise=="function"?Promise:void 0,JP=typeof queueMicrotask=="function"?queueMicrotask:typeof R2<"u"?function(e){return R2.resolve(null).then(e).catch(eN)}:M1;function eN(e){setTimeout(function(){throw e})}function Yv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Hd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Hd(t)}function Mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function U2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nf=Math.random().toString(36).slice(2),as="__reactFiber$"+nf,Xd="__reactProps$"+nf,Vs="__reactContainer$"+nf,D1="__reactEvents$"+nf,tN="__reactListeners$"+nf,rN="__reactHandles$"+nf;function vl(e){var t=e[as];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vs]||r[as]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=U2(e);e!==null;){if(r=e[as])return r;e=U2(e)}return t}e=r,r=e.parentNode}return null}function ic(e){return e=e[as]||e[Vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Mt(33))}function Jp(e){return e[Xd]||null}var A1=[],Fu=-1;function No(e){return{current:e}}function Xr(e){0>Fu||(e.current=A1[Fu],A1[Fu]=null,Fu--)}function Vr(e,t){Fu++,A1[Fu]=e.current,e.current=t}var ko={},ei=No(ko),Oi=No(!1),wl=ko;function $u(e,t){var r=e.type.contextTypes;if(!r)return ko;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ki(e){return e=e.childContextTypes,e!=null}function Np(){Xr(Oi),Xr(ei)}function W2(e,t,r){if(ei.current!==ko)throw Error(Mt(168));Vr(ei,t),Vr(Oi,r)}function dS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Mt(108,jk(e)||"Unknown",a));return sn({},r,n)}function Ip(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ko,wl=ei.current,Vr(ei,e),Vr(Oi,Oi.current),!0}function j2(e,t,r){var n=e.stateNode;if(!n)throw Error(Mt(169));r?(e=dS(e,t,wl),n.__reactInternalMemoizedMergedChildContext=e,Xr(Oi),Xr(ei),Vr(ei,e)):Xr(Oi),Vr(Oi,r)}var Us=null,e0=!1,Kv=!1;function cS(e){Us===null?Us=[e]:Us.push(e)}function nN(e){e0=!0,cS(e)}function Io(){if(!Kv&&Us!==null){Kv=!0;var e=0,t=zr;try{var r=Us;for(zr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Us=null,e0=!1}catch(a){throw Us!==null&&(Us=Us.slice(e+1)),F3(t_,Io),a}finally{zr=t,Kv=!1}}return null}var Bu=[],Ru=0,zp=null,Fp=0,sa=[],oa=0,Sl=null,Ws=1,js="";function ml(e,t){Bu[Ru++]=Fp,Bu[Ru++]=zp,zp=e,Fp=t}function hS(e,t,r){sa[oa++]=Ws,sa[oa++]=js,sa[oa++]=Sl,Sl=e;var n=Ws;e=js;var a=32-Ua(n)-1;n&=~(1<<a),r+=1;var s=32-Ua(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ws=1<<32-Ua(t)+a|r<<a|n,js=s+e}else Ws=1<<s|r<<a|n,js=e}function f_(e){e.return!==null&&(ml(e,1),hS(e,1,0))}function d_(e){for(;e===zp;)zp=Bu[--Ru],Bu[Ru]=null,Fp=Bu[--Ru],Bu[Ru]=null;for(;e===Sl;)Sl=sa[--oa],sa[oa]=null,js=sa[--oa],sa[oa]=null,Ws=sa[--oa],sa[oa]=null}var Hi=null,Gi=null,Jr=!1,Ra=null;function pS(e,t){var r=la(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function G2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hi=e,Gi=Mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hi=e,Gi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sl!==null?{id:Ws,overflow:js}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=la(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Hi=e,Gi=null,!0):!1;default:return!1}}function T1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function L1(e){if(Jr){var t=Gi;if(t){var r=t;if(!G2(e,t)){if(T1(e))throw Error(Mt(418));t=Mo(r.nextSibling);var n=Hi;t&&G2(e,t)?pS(n,r):(e.flags=e.flags&-4097|2,Jr=!1,Hi=e)}}else{if(T1(e))throw Error(Mt(418));e.flags=e.flags&-4097|2,Jr=!1,Hi=e}}}function H2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hi=e}function fp(e){if(e!==Hi)return!1;if(!Jr)return H2(e),Jr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!E1(e.type,e.memoizedProps)),t&&(t=Gi)){if(T1(e))throw mS(),Error(Mt(418));for(;t;)pS(e,t),t=Mo(t.nextSibling)}if(H2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gi=Mo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gi=null}}else Gi=Hi?Mo(e.stateNode.nextSibling):null;return!0}function mS(){for(var e=Gi;e;)e=Mo(e.nextSibling)}function Qu(){Gi=Hi=null,Jr=!1}function c_(e){Ra===null?Ra=[e]:Ra.push(e)}var iN=Zs.ReactCurrentBatchConfig;function Fa(e,t){if(e&&e.defaultProps){t=sn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Bp=No(null),Rp=null,Uu=null,h_=null;function p_(){h_=Uu=Rp=null}function m_(e){var t=Bp.current;Xr(Bp),e._currentValue=t}function O1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ku(e,t){Rp=e,h_=Uu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Li=!0),e.firstContext=null)}function fa(e){var t=e._currentValue;if(h_!==e)if(e={context:e,memoizedValue:t,next:null},Uu===null){if(Rp===null)throw Error(Mt(308));Uu=e,Rp.dependencies={lanes:0,firstContext:e}}else Uu=Uu.next=e;return t}var _l=null;function g_(e){_l===null?_l=[e]:_l.push(e)}function gS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,g_(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ys(e,n)}function Ys(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _o=!1;function v_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ys(e,r)}return a=n.interleaved,a===null?(t.next=t,g_(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ys(e,r)}function _p(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,r_(e,r)}}function V2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Up(e,t,r,n){var a=e.updateQueue;_o=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var u=l,v=u.next;u.next=null,o===null?s=v:o.next=v,o=u;var g=e.alternate;g!==null&&(g=g.updateQueue,l=g.lastBaseUpdate,l!==o&&(l===null?g.firstBaseUpdate=v:l.next=v,g.lastBaseUpdate=u))}if(s!==null){var _=a.baseState;o=0,g=v=u=null,l=s;do{var y=l.lane,w=l.eventTime;if((n&y)===y){g!==null&&(g=g.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,f=l;switch(y=t,w=r,f.tag){case 1:if(x=f.payload,typeof x=="function"){_=x.call(w,_,y);break e}_=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=f.payload,y=typeof x=="function"?x.call(w,_,y):x,y==null)break e;_=sn({},_,y);break e;case 2:_o=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=a.effects,y===null?a.effects=[l]:y.push(l))}else w={eventTime:w,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},g===null?(v=g=w,u=_):g=g.next=w,o|=y;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;y=l,l=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(1);if(g===null&&(u=_),a.baseState=u,a.firstBaseUpdate=v,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);El|=o,e.lanes=o,e.memoizedState=_}}function Y2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Mt(191,a));a.call(n)}}}var _S=new g3.Component().refs;function k1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:sn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var t0={isMounted:function(e){return(e=e._reactInternals)?Al(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ci(),a=To(e),s=Gs(n,a);s.payload=t,r!=null&&(s.callback=r),t=Do(e,s,a),t!==null&&(Wa(t,e,a,n),_p(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ci(),a=To(e),s=Gs(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Do(e,s,a),t!==null&&(Wa(t,e,a,n),_p(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ci(),n=To(e),a=Gs(r,n);a.tag=2,t!=null&&(a.callback=t),t=Do(e,a,n),t!==null&&(Wa(t,e,n,r),_p(t,e,n))}};function K2(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Yd(r,n)||!Yd(a,s):!0}function bS(e,t,r){var n=!1,a=ko,s=t.contextType;return typeof s=="object"&&s!==null?s=fa(s):(a=ki(t)?wl:ei.current,n=t.contextTypes,s=(n=n!=null)?$u(e,a):ko),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=t0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Z2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&t0.enqueueReplaceState(t,t.state,null)}function P1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=_S,v_(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=fa(s):(s=ki(t)?wl:ei.current,a.context=$u(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(k1(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&t0.enqueueReplaceState(a,a.state,null),Up(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Mt(309));var n=r.stateNode}if(!n)throw Error(Mt(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;l===_S&&(l=a.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Mt(284));if(!r._owner)throw Error(Mt(290,e))}return e}function dp(e,t){throw e=Object.prototype.toString.call(t),Error(Mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function X2(e){var t=e._init;return t(e._payload)}function yS(e){function t(h,S){if(e){var C=h.deletions;C===null?(h.deletions=[S],h.flags|=16):C.push(S)}}function r(h,S){if(!e)return null;for(;S!==null;)t(h,S),S=S.sibling;return null}function n(h,S){for(h=new Map;S!==null;)S.key!==null?h.set(S.key,S):h.set(S.index,S),S=S.sibling;return h}function a(h,S){return h=Lo(h,S),h.index=0,h.sibling=null,h}function s(h,S,C){return h.index=C,e?(C=h.alternate,C!==null?(C=C.index,C<S?(h.flags|=2,S):C):(h.flags|=2,S)):(h.flags|=1048576,S)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,S,C,M){return S===null||S.tag!==6?(S=e1(C,h.mode,M),S.return=h,S):(S=a(S,C),S.return=h,S)}function u(h,S,C,M){var p=C.type;return p===ku?g(h,S,C.props.children,M,C.key):S!==null&&(S.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===vo&&X2(p)===S.type)?(M=a(S,C.props),M.ref=wd(h,S,C),M.return=h,M):(M=Cp(C.type,C.key,C.props,null,h.mode,M),M.ref=wd(h,S,C),M.return=h,M)}function v(h,S,C,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=t1(C,h.mode,M),S.return=h,S):(S=a(S,C.children||[]),S.return=h,S)}function g(h,S,C,M,p){return S===null||S.tag!==7?(S=xl(C,h.mode,M,p),S.return=h,S):(S=a(S,C),S.return=h,S)}function _(h,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=e1(""+S,h.mode,C),S.return=h,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $h:return C=Cp(S.type,S.key,S.props,null,h.mode,C),C.ref=wd(h,null,S),C.return=h,C;case Ou:return S=t1(S,h.mode,C),S.return=h,S;case vo:var M=S._init;return _(h,M(S._payload),C)}if(Dd(S)||_d(S))return S=xl(S,h.mode,C,null),S.return=h,S;dp(h,S)}return null}function y(h,S,C,M){var p=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return p!==null?null:l(h,S,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $h:return C.key===p?u(h,S,C,M):null;case Ou:return C.key===p?v(h,S,C,M):null;case vo:return p=C._init,y(h,S,p(C._payload),M)}if(Dd(C)||_d(C))return p!==null?null:g(h,S,C,M,null);dp(h,C)}return null}function w(h,S,C,M,p){if(typeof M=="string"&&M!==""||typeof M=="number")return h=h.get(C)||null,l(S,h,""+M,p);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case $h:return h=h.get(M.key===null?C:M.key)||null,u(S,h,M,p);case Ou:return h=h.get(M.key===null?C:M.key)||null,v(S,h,M,p);case vo:var c=M._init;return w(h,S,C,c(M._payload),p)}if(Dd(M)||_d(M))return h=h.get(C)||null,g(S,h,M,p,null);dp(S,M)}return null}function x(h,S,C,M){for(var p=null,c=null,E=S,D=S=0,I=null;E!==null&&D<C.length;D++){E.index>D?(I=E,E=null):I=E.sibling;var O=y(h,E,C[D],M);if(O===null){E===null&&(E=I);break}e&&E&&O.alternate===null&&t(h,E),S=s(O,S,D),c===null?p=O:c.sibling=O,c=O,E=I}if(D===C.length)return r(h,E),Jr&&ml(h,D),p;if(E===null){for(;D<C.length;D++)E=_(h,C[D],M),E!==null&&(S=s(E,S,D),c===null?p=E:c.sibling=E,c=E);return Jr&&ml(h,D),p}for(E=n(h,E);D<C.length;D++)I=w(E,h,D,C[D],M),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?D:I.key),S=s(I,S,D),c===null?p=I:c.sibling=I,c=I);return e&&E.forEach(function(P){return t(h,P)}),Jr&&ml(h,D),p}function f(h,S,C,M){var p=_d(C);if(typeof p!="function")throw Error(Mt(150));if(C=p.call(C),C==null)throw Error(Mt(151));for(var c=p=null,E=S,D=S=0,I=null,O=C.next();E!==null&&!O.done;D++,O=C.next()){E.index>D?(I=E,E=null):I=E.sibling;var P=y(h,E,O.value,M);if(P===null){E===null&&(E=I);break}e&&E&&P.alternate===null&&t(h,E),S=s(P,S,D),c===null?p=P:c.sibling=P,c=P,E=I}if(O.done)return r(h,E),Jr&&ml(h,D),p;if(E===null){for(;!O.done;D++,O=C.next())O=_(h,O.value,M),O!==null&&(S=s(O,S,D),c===null?p=O:c.sibling=O,c=O);return Jr&&ml(h,D),p}for(E=n(h,E);!O.done;D++,O=C.next())O=w(E,h,D,O.value,M),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?D:O.key),S=s(O,S,D),c===null?p=O:c.sibling=O,c=O);return e&&E.forEach(function(k){return t(h,k)}),Jr&&ml(h,D),p}function b(h,S,C,M){if(typeof C=="object"&&C!==null&&C.type===ku&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case $h:e:{for(var p=C.key,c=S;c!==null;){if(c.key===p){if(p=C.type,p===ku){if(c.tag===7){r(h,c.sibling),S=a(c,C.props.children),S.return=h,h=S;break e}}else if(c.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===vo&&X2(p)===c.type){r(h,c.sibling),S=a(c,C.props),S.ref=wd(h,c,C),S.return=h,h=S;break e}r(h,c);break}else t(h,c);c=c.sibling}C.type===ku?(S=xl(C.props.children,h.mode,M,C.key),S.return=h,h=S):(M=Cp(C.type,C.key,C.props,null,h.mode,M),M.ref=wd(h,S,C),M.return=h,h=M)}return o(h);case Ou:e:{for(c=C.key;S!==null;){if(S.key===c)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){r(h,S.sibling),S=a(S,C.children||[]),S.return=h,h=S;break e}else{r(h,S);break}else t(h,S);S=S.sibling}S=t1(C,h.mode,M),S.return=h,h=S}return o(h);case vo:return c=C._init,b(h,S,c(C._payload),M)}if(Dd(C))return x(h,S,C,M);if(_d(C))return f(h,S,C,M);dp(h,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(r(h,S.sibling),S=a(S,C),S.return=h,h=S):(r(h,S),S=e1(C,h.mode,M),S.return=h,h=S),o(h)):r(h,S)}return b}var qu=yS(!0),xS=yS(!1),ac={},os=No(ac),$d=No(ac),Qd=No(ac);function bl(e){if(e===ac)throw Error(Mt(174));return e}function __(e,t){switch(Vr(Qd,t),Vr($d,e),Vr(os,ac),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:d1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=d1(t,e)}Xr(os),Vr(os,t)}function Ju(){Xr(os),Xr($d),Xr(Qd)}function wS(e){bl(Qd.current);var t=bl(os.current),r=d1(t,e.type);t!==r&&(Vr($d,e),Vr(os,r))}function b_(e){$d.current===e&&(Xr(os),Xr($d))}var nn=No(0);function Wp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zv=[];function y_(){for(var e=0;e<Zv.length;e++)Zv[e]._workInProgressVersionPrimary=null;Zv.length=0}var bp=Zs.ReactCurrentDispatcher,Xv=Zs.ReactCurrentBatchConfig,Cl=0,an=null,En=null,In=null,jp=!1,Id=!1,qd=0,aN=0;function Qn(){throw Error(Mt(321))}function x_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ja(e[r],t[r]))return!1;return!0}function w_(e,t,r,n,a,s){if(Cl=s,an=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bp.current=e===null||e.memoizedState===null?uN:fN,e=r(n,a),Id){s=0;do{if(Id=!1,qd=0,25<=s)throw Error(Mt(301));s+=1,In=En=null,t.updateQueue=null,bp.current=dN,e=r(n,a)}while(Id)}if(bp.current=Gp,t=En!==null&&En.next!==null,Cl=0,In=En=an=null,jp=!1,t)throw Error(Mt(300));return e}function S_(){var e=qd!==0;return qd=0,e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?an.memoizedState=In=e:In=In.next=e,In}function da(){if(En===null){var e=an.alternate;e=e!==null?e.memoizedState:null}else e=En.next;var t=In===null?an.memoizedState:In.next;if(t!==null)In=t,En=e;else{if(e===null)throw Error(Mt(310));En=e,e={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},In===null?an.memoizedState=In=e:In=In.next=e}return In}function Jd(e,t){return typeof t=="function"?t(e):t}function $v(e){var t=da(),r=t.queue;if(r===null)throw Error(Mt(311));r.lastRenderedReducer=e;var n=En,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,u=null,v=s;do{var g=v.lane;if((Cl&g)===g)u!==null&&(u=u.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),n=v.hasEagerState?v.eagerState:e(n,v.action);else{var _={lane:g,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};u===null?(l=u=_,o=n):u=u.next=_,an.lanes|=g,El|=g}v=v.next}while(v!==null&&v!==s);u===null?o=n:u.next=l,ja(n,t.memoizedState)||(Li=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,an.lanes|=s,El|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qv(e){var t=da(),r=t.queue;if(r===null)throw Error(Mt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);ja(s,t.memoizedState)||(Li=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function SS(){}function CS(e,t){var r=an,n=da(),a=t(),s=!ja(n.memoizedState,a);if(s&&(n.memoizedState=a,Li=!0),n=n.queue,C_(DS.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||In!==null&&In.memoizedState.tag&1){if(r.flags|=2048,ec(9,MS.bind(null,r,n,a,t),void 0,null),zn===null)throw Error(Mt(349));Cl&30||ES(r,t,a)}return a}function ES(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=an.updateQueue,t===null?(t={lastEffect:null,stores:null},an.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function MS(e,t,r,n){t.value=r,t.getSnapshot=n,AS(t)&&TS(e)}function DS(e,t,r){return r(function(){AS(t)&&TS(e)})}function AS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ja(e,r)}catch{return!0}}function TS(e){var t=Ys(e,1);t!==null&&Wa(t,e,1,-1)}function $2(e){var t=is();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:e},t.queue=e,e=e.dispatch=lN.bind(null,an,e),[t.memoizedState,e]}function ec(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=an.updateQueue,t===null?(t={lastEffect:null,stores:null},an.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function LS(){return da().memoizedState}function yp(e,t,r,n){var a=is();an.flags|=e,a.memoizedState=ec(1|t,r,void 0,n===void 0?null:n)}function r0(e,t,r,n){var a=da();n=n===void 0?null:n;var s=void 0;if(En!==null){var o=En.memoizedState;if(s=o.destroy,n!==null&&x_(n,o.deps)){a.memoizedState=ec(t,r,s,n);return}}an.flags|=e,a.memoizedState=ec(1|t,r,s,n)}function Q2(e,t){return yp(8390656,8,e,t)}function C_(e,t){return r0(2048,8,e,t)}function OS(e,t){return r0(4,2,e,t)}function kS(e,t){return r0(4,4,e,t)}function PS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function NS(e,t,r){return r=r!=null?r.concat([e]):null,r0(4,4,PS.bind(null,t,e),r)}function E_(){}function IS(e,t){var r=da();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&x_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function zS(e,t){var r=da();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&x_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function FS(e,t,r){return Cl&21?(ja(r,t)||(r=U3(),an.lanes|=r,El|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Li=!0),e.memoizedState=r)}function sN(e,t){var r=zr;zr=r!==0&&4>r?r:4,e(!0);var n=Xv.transition;Xv.transition={};try{e(!1),t()}finally{zr=r,Xv.transition=n}}function BS(){return da().memoizedState}function oN(e,t,r){var n=To(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RS(e))US(t,r);else if(r=gS(e,t,r,n),r!==null){var a=ci();Wa(r,e,n,a),WS(r,t,n)}}function lN(e,t,r){var n=To(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RS(e))US(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,ja(l,o)){var u=t.interleaved;u===null?(a.next=a,g_(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}r=gS(e,t,a,n),r!==null&&(a=ci(),Wa(r,e,n,a),WS(r,t,n))}}function RS(e){var t=e.alternate;return e===an||t!==null&&t===an}function US(e,t){Id=jp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function WS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,r_(e,r)}}var Gp={readContext:fa,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},uN={readContext:fa,useCallback:function(e,t){return is().memoizedState=[e,t===void 0?null:t],e},useContext:fa,useEffect:Q2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yp(4194308,4,PS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yp(4194308,4,e,t)},useInsertionEffect:function(e,t){return yp(4,2,e,t)},useMemo:function(e,t){var r=is();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=is();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oN.bind(null,an,e),[n.memoizedState,e]},useRef:function(e){var t=is();return e={current:e},t.memoizedState=e},useState:$2,useDebugValue:E_,useDeferredValue:function(e){return is().memoizedState=e},useTransition:function(){var e=$2(!1),t=e[0];return e=sN.bind(null,e[1]),is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=an,a=is();if(Jr){if(r===void 0)throw Error(Mt(407));r=r()}else{if(r=t(),zn===null)throw Error(Mt(349));Cl&30||ES(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Q2(DS.bind(null,n,s,e),[e]),n.flags|=2048,ec(9,MS.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=is(),t=zn.identifierPrefix;if(Jr){var r=js,n=Ws;r=(n&~(1<<32-Ua(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fN={readContext:fa,useCallback:IS,useContext:fa,useEffect:C_,useImperativeHandle:NS,useInsertionEffect:OS,useLayoutEffect:kS,useMemo:zS,useReducer:$v,useRef:LS,useState:function(){return $v(Jd)},useDebugValue:E_,useDeferredValue:function(e){var t=da();return FS(t,En.memoizedState,e)},useTransition:function(){var e=$v(Jd)[0],t=da().memoizedState;return[e,t]},useMutableSource:SS,useSyncExternalStore:CS,useId:BS,unstable_isNewReconciler:!1},dN={readContext:fa,useCallback:IS,useContext:fa,useEffect:C_,useImperativeHandle:NS,useInsertionEffect:OS,useLayoutEffect:kS,useMemo:zS,useReducer:Qv,useRef:LS,useState:function(){return Qv(Jd)},useDebugValue:E_,useDeferredValue:function(e){var t=da();return En===null?t.memoizedState=e:FS(t,En.memoizedState,e)},useTransition:function(){var e=Qv(Jd)[0],t=da().memoizedState;return[e,t]},useMutableSource:SS,useSyncExternalStore:CS,useId:BS,unstable_isNewReconciler:!1};function ef(e,t){try{var r="",n=t;do r+=Wk(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function qv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function N1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cN=typeof WeakMap=="function"?WeakMap:Map;function jS(e,t,r){r=Gs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vp||(Vp=!0,H1=n),N1(e,t)},r}function GS(e,t,r){r=Gs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){N1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){N1(e,t),typeof n!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function q2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cN;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=MN.bind(null,e,t,r),t.then(e,e))}function J2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function e3(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gs(-1,1),t.tag=2,Do(r,t,1))),r.lanes|=1),e)}var hN=Zs.ReactCurrentOwner,Li=!1;function di(e,t,r,n){t.child=e===null?xS(t,null,r,n):qu(t,e.child,r,n)}function t3(e,t,r,n,a){r=r.render;var s=t.ref;return Ku(t,a),n=w_(e,t,r,n,s,a),r=S_(),e!==null&&!Li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a)):(Jr&&r&&f_(t),t.flags|=1,di(e,t,n,a),t.child)}function r3(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!P_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,HS(e,t,s,n,a)):(e=Cp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yd,r(o,n)&&e.ref===t.ref)return Ks(e,t,a)}return t.flags|=1,e=Lo(s,n),e.ref=t.ref,e.return=t,t.child=e}function HS(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Yd(s,n)&&e.ref===t.ref)if(Li=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Li=!0);else return t.lanes=e.lanes,Ks(e,t,a)}return I1(e,t,r,n,a)}function VS(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vr(ju,ji),ji|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vr(ju,ji),ji|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Vr(ju,ji),ji|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Vr(ju,ji),ji|=n;return di(e,t,a,r),t.child}function YS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function I1(e,t,r,n,a){var s=ki(r)?wl:ei.current;return s=$u(t,s),Ku(t,a),r=w_(e,t,r,n,s,a),n=S_(),e!==null&&!Li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a)):(Jr&&n&&f_(t),t.flags|=1,di(e,t,r,a),t.child)}function n3(e,t,r,n,a){if(ki(r)){var s=!0;Ip(t)}else s=!1;if(Ku(t,a),t.stateNode===null)xp(e,t),bS(t,r,n),P1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,v=r.contextType;typeof v=="object"&&v!==null?v=fa(v):(v=ki(r)?wl:ei.current,v=$u(t,v));var g=r.getDerivedStateFromProps,_=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==v)&&Z2(t,o,n,v),_o=!1;var y=t.memoizedState;o.state=y,Up(t,n,o,a),u=t.memoizedState,l!==n||y!==u||Oi.current||_o?(typeof g=="function"&&(k1(t,r,g,n),u=t.memoizedState),(l=_o||K2(t,r,l,n,y,u,v))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=v,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,vS(e,t),l=t.memoizedProps,v=t.type===t.elementType?l:Fa(t.type,l),o.props=v,_=t.pendingProps,y=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=fa(u):(u=ki(r)?wl:ei.current,u=$u(t,u));var w=r.getDerivedStateFromProps;(g=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==_||y!==u)&&Z2(t,o,n,u),_o=!1,y=t.memoizedState,o.state=y,Up(t,n,o,a);var x=t.memoizedState;l!==_||y!==x||Oi.current||_o?(typeof w=="function"&&(k1(t,r,w,n),x=t.memoizedState),(v=_o||K2(t,r,v,n,y,x,u)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=u,n=v):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return z1(e,t,r,n,s,a)}function z1(e,t,r,n,a,s){YS(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&j2(t,r,!1),Ks(e,t,s);n=t.stateNode,hN.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=qu(t,e.child,null,s),t.child=qu(t,null,l,s)):di(e,t,l,s),t.memoizedState=n.state,a&&j2(t,r,!0),t.child}function KS(e){var t=e.stateNode;t.pendingContext?W2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&W2(e,t.context,!1),__(e,t.containerInfo)}function i3(e,t,r,n,a){return Qu(),c_(a),t.flags|=256,di(e,t,r,n),t.child}var F1={dehydrated:null,treeContext:null,retryLane:0};function B1(e){return{baseLanes:e,cachePool:null,transitions:null}}function ZS(e,t,r){var n=t.pendingProps,a=nn.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Vr(nn,a&1),e===null)return L1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=a0(o,n,0,null),e=xl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=B1(r),t.memoizedState=F1,e):M_(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return pN(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Lo(a,u),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Lo(l,s):(s=xl(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?B1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=F1,n}return s=e.child,e=s.sibling,n=Lo(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function M_(e,t){return t=a0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cp(e,t,r,n){return n!==null&&c_(n),qu(t,e.child,null,r),e=M_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pN(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=qv(Error(Mt(422))),cp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=a0({mode:"visible",children:n.children},a,0,null),s=xl(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&qu(t,e.child,null,o),t.child.memoizedState=B1(o),t.memoizedState=F1,s);if(!(t.mode&1))return cp(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Mt(419)),n=qv(s,n,void 0),cp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Li||l){if(n=zn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ys(e,a),Wa(n,e,a,-1))}return k_(),n=qv(Error(Mt(421))),cp(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=DN.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Gi=Mo(a.nextSibling),Hi=t,Jr=!0,Ra=null,e!==null&&(sa[oa++]=Ws,sa[oa++]=js,sa[oa++]=Sl,Ws=e.id,js=e.overflow,Sl=t),t=M_(t,n.children),t.flags|=4096,t)}function a3(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),O1(e.return,t,r)}function Jv(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function XS(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(di(e,t,n.children,r),n=nn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&a3(e,r,t);else if(e.tag===19)a3(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Vr(nn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Wp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Jv(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Wp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Jv(t,!0,r,null,s);break;case"together":Jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),El|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Mt(153));if(t.child!==null){for(e=t.child,r=Lo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mN(e,t,r){switch(t.tag){case 3:KS(t),Qu();break;case 5:wS(t);break;case 1:ki(t.type)&&Ip(t);break;case 4:__(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Vr(Bp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Vr(nn,nn.current&1),t.flags|=128,null):r&t.child.childLanes?ZS(e,t,r):(Vr(nn,nn.current&1),e=Ks(e,t,r),e!==null?e.sibling:null);Vr(nn,nn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return XS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Vr(nn,nn.current),n)break;return null;case 22:case 23:return t.lanes=0,VS(e,t,r)}return Ks(e,t,r)}var $S,R1,QS,qS;$S=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};R1=function(){};QS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,bl(os.current);var s=null;switch(r){case"input":a=o1(e,a),n=o1(e,n),s=[];break;case"select":a=sn({},a,{value:void 0}),n=sn({},n,{value:void 0}),s=[];break;case"textarea":a=f1(e,a),n=f1(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pp)}c1(r,n);var o;r=null;for(v in a)if(!n.hasOwnProperty(v)&&a.hasOwnProperty(v)&&a[v]!=null)if(v==="style"){var l=a[v];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Rd.hasOwnProperty(v)?s||(s=[]):(s=s||[]).push(v,null));for(v in n){var u=n[v];if(l=a?.[v],n.hasOwnProperty(v)&&u!==l&&(u!=null||l!=null))if(v==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(v,r)),r=u;else v==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(v,u)):v==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(v,""+u):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Rd.hasOwnProperty(v)?(u!=null&&v==="onScroll"&&Zr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(v,u))}r&&(s=s||[]).push("style",r);var v=s;(t.updateQueue=v)&&(t.flags|=4)}};qS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Sd(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gN(e,t,r){var n=t.pendingProps;switch(d_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(t),null;case 1:return ki(t.type)&&Np(),qn(t),null;case 3:return n=t.stateNode,Ju(),Xr(Oi),Xr(ei),y_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ra!==null&&(K1(Ra),Ra=null))),R1(e,t),qn(t),null;case 5:b_(t);var a=bl(Qd.current);if(r=t.type,e!==null&&t.stateNode!=null)QS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Mt(166));return qn(t),null}if(e=bl(os.current),fp(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[as]=t,n[Xd]=s,e=(t.mode&1)!==0,r){case"dialog":Zr("cancel",n),Zr("close",n);break;case"iframe":case"object":case"embed":Zr("load",n);break;case"video":case"audio":for(a=0;a<Td.length;a++)Zr(Td[a],n);break;case"source":Zr("error",n);break;case"img":case"image":case"link":Zr("error",n),Zr("load",n);break;case"details":Zr("toggle",n);break;case"input":h2(n,s),Zr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Zr("invalid",n);break;case"textarea":m2(n,s),Zr("invalid",n)}c1(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&up(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&up(n.textContent,l,e),a=["children",""+l]):Rd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Zr("scroll",n)}switch(r){case"input":Qh(n),p2(n,s,!0);break;case"textarea":Qh(n),g2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Pp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[as]=t,e[Xd]=n,$S(e,t,!1,!1),t.stateNode=e;e:{switch(o=h1(r,n),r){case"dialog":Zr("cancel",e),Zr("close",e),a=n;break;case"iframe":case"object":case"embed":Zr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Td.length;a++)Zr(Td[a],e);a=n;break;case"source":Zr("error",e),a=n;break;case"img":case"image":case"link":Zr("error",e),Zr("load",e),a=n;break;case"details":Zr("toggle",e),a=n;break;case"input":h2(e,n),a=o1(e,n),Zr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=sn({},n,{value:void 0}),Zr("invalid",e);break;case"textarea":m2(e,n),a=f1(e,n),Zr("invalid",e);break;default:a=n}c1(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?A3(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&M3(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Ud(e,u):typeof u=="number"&&Ud(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Rd.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Zr("scroll",e):u!=null&&$1(e,s,u,o))}switch(r){case"input":Qh(e),p2(e,n,!1);break;case"textarea":Qh(e),g2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Oo(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Gu(e,!!n.multiple,s,!1):n.defaultValue!=null&&Gu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Pp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qn(t),null;case 6:if(e&&t.stateNode!=null)qS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Mt(166));if(r=bl(Qd.current),bl(os.current),fp(t)){if(n=t.stateNode,r=t.memoizedProps,n[as]=t,(s=n.nodeValue!==r)&&(e=Hi,e!==null))switch(e.tag){case 3:up(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&up(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[as]=t,t.stateNode=n}return qn(t),null;case 13:if(Xr(nn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jr&&Gi!==null&&t.mode&1&&!(t.flags&128))mS(),Qu(),t.flags|=98560,s=!1;else if(s=fp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Mt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Mt(317));s[as]=t}else Qu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qn(t),s=!1}else Ra!==null&&(K1(Ra),Ra=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nn.current&1?Mn===0&&(Mn=3):k_())),t.updateQueue!==null&&(t.flags|=4),qn(t),null);case 4:return Ju(),R1(e,t),e===null&&Kd(t.stateNode.containerInfo),qn(t),null;case 10:return m_(t.type._context),qn(t),null;case 17:return ki(t.type)&&Np(),qn(t),null;case 19:if(Xr(nn),s=t.memoizedState,s===null)return qn(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Sd(s,!1);else{if(Mn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Wp(e),o!==null){for(t.flags|=128,Sd(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Vr(nn,nn.current&1|2),t.child}e=e.sibling}s.tail!==null&&vn()>tf&&(t.flags|=128,n=!0,Sd(s,!1),t.lanes=4194304)}else{if(!n)if(e=Wp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Sd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Jr)return qn(t),null}else 2*vn()-s.renderingStartTime>tf&&r!==1073741824&&(t.flags|=128,n=!0,Sd(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=vn(),t.sibling=null,r=nn.current,Vr(nn,n?r&1|2:r&1),t):(qn(t),null);case 22:case 23:return O_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ji&1073741824&&(qn(t),t.subtreeFlags&6&&(t.flags|=8192)):qn(t),null;case 24:return null;case 25:return null}throw Error(Mt(156,t.tag))}function vN(e,t){switch(d_(t),t.tag){case 1:return ki(t.type)&&Np(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ju(),Xr(Oi),Xr(ei),y_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return b_(t),null;case 13:if(Xr(nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Mt(340));Qu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xr(nn),null;case 4:return Ju(),null;case 10:return m_(t.type._context),null;case 22:case 23:return O_(),null;case 24:return null;default:return null}}var hp=!1,Jn=!1,_N=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Wu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fn(e,t,n)}else r.current=null}function U1(e,t,r){try{r()}catch(n){fn(e,t,n)}}var s3=!1;function bN(e,t){if(S1=Lp,e=rS(),u_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,v=0,g=0,_=e,y=null;t:for(;;){for(var w;_!==r||a!==0&&_.nodeType!==3||(l=o+a),_!==s||n!==0&&_.nodeType!==3||(u=o+n),_.nodeType===3&&(o+=_.nodeValue.length),(w=_.firstChild)!==null;)y=_,_=w;for(;;){if(_===e)break t;if(y===r&&++v===a&&(l=o),y===s&&++g===n&&(u=o),(w=_.nextSibling)!==null)break;_=y,y=_.parentNode}_=w}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(C1={focusedElem:e,selectionRange:r},Lp=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){t=Rt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var f=x.memoizedProps,b=x.memoizedState,h=t.stateNode,S=h.getSnapshotBeforeUpdate(t.elementType===t.type?f:Fa(t.type,f),b);h.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Mt(163))}}catch(M){fn(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}return x=s3,s3=!1,x}function zd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&U1(t,r,s)}a=a.next}while(a!==n)}}function n0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function W1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function JS(e){var t=e.alternate;t!==null&&(e.alternate=null,JS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[as],delete t[Xd],delete t[D1],delete t[tN],delete t[rN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eC(e){return e.tag===5||e.tag===3||e.tag===4}function o3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function j1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pp));else if(n!==4&&(e=e.child,e!==null))for(j1(e,t,r),e=e.sibling;e!==null;)j1(e,t,r),e=e.sibling}function G1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(G1(e,t,r),e=e.sibling;e!==null;)G1(e,t,r),e=e.sibling}var Gn=null,Ba=!1;function go(e,t,r){for(r=r.child;r!==null;)tC(e,t,r),r=r.sibling}function tC(e,t,r){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Xp,r)}catch{}switch(r.tag){case 5:Jn||Wu(r,t);case 6:var n=Gn,a=Ba;Gn=null,go(e,t,r),Gn=n,Ba=a,Gn!==null&&(Ba?(e=Gn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Gn.removeChild(r.stateNode));break;case 18:Gn!==null&&(Ba?(e=Gn,r=r.stateNode,e.nodeType===8?Yv(e.parentNode,r):e.nodeType===1&&Yv(e,r),Hd(e)):Yv(Gn,r.stateNode));break;case 4:n=Gn,a=Ba,Gn=r.stateNode.containerInfo,Ba=!0,go(e,t,r),Gn=n,Ba=a;break;case 0:case 11:case 14:case 15:if(!Jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&U1(r,t,o),a=a.next}while(a!==n)}go(e,t,r);break;case 1:if(!Jn&&(Wu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fn(r,t,l)}go(e,t,r);break;case 21:go(e,t,r);break;case 22:r.mode&1?(Jn=(n=Jn)||r.memoizedState!==null,go(e,t,r),Jn=n):go(e,t,r);break;default:go(e,t,r)}}function l3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _N),t.forEach(function(n){var a=AN.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function za(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gn=l.stateNode,Ba=!1;break e;case 3:Gn=l.stateNode.containerInfo,Ba=!0;break e;case 4:Gn=l.stateNode.containerInfo,Ba=!0;break e}l=l.return}if(Gn===null)throw Error(Mt(160));tC(s,o,a),Gn=null,Ba=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(v){fn(a,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rC(t,e),t=t.sibling}function rC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(za(t,e),ns(e),n&4){try{zd(3,e,e.return),n0(3,e)}catch(f){fn(e,e.return,f)}try{zd(5,e,e.return)}catch(f){fn(e,e.return,f)}}break;case 1:za(t,e),ns(e),n&512&&r!==null&&Wu(r,r.return);break;case 5:if(za(t,e),ns(e),n&512&&r!==null&&Wu(r,r.return),e.flags&32){var a=e.stateNode;try{Ud(a,"")}catch(f){fn(e,e.return,f)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&S3(a,s),h1(l,o);var v=h1(l,s);for(o=0;o<u.length;o+=2){var g=u[o],_=u[o+1];g==="style"?A3(a,_):g==="dangerouslySetInnerHTML"?M3(a,_):g==="children"?Ud(a,_):$1(a,g,_,v)}switch(l){case"input":l1(a,s);break;case"textarea":C3(a,s);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Gu(a,!!s.multiple,w,!1):y!==!!s.multiple&&(s.defaultValue!=null?Gu(a,!!s.multiple,s.defaultValue,!0):Gu(a,!!s.multiple,s.multiple?[]:"",!1))}a[Xd]=s}catch(f){fn(e,e.return,f)}}break;case 6:if(za(t,e),ns(e),n&4){if(e.stateNode===null)throw Error(Mt(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(f){fn(e,e.return,f)}}break;case 3:if(za(t,e),ns(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hd(t.containerInfo)}catch(f){fn(e,e.return,f)}break;case 4:za(t,e),ns(e);break;case 13:za(t,e),ns(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(T_=vn())),n&4&&l3(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Jn=(v=Jn)||g,za(t,e),Jn=v):za(t,e),ns(e),n&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!g&&e.mode&1)for(Rt=e,g=e.child;g!==null;){for(_=Rt=g;Rt!==null;){switch(y=Rt,w=y.child,y.tag){case 0:case 11:case 14:case 15:zd(4,y,y.return);break;case 1:Wu(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(f){fn(n,r,f)}}break;case 5:Wu(y,y.return);break;case 22:if(y.memoizedState!==null){f3(_);continue}}w!==null?(w.return=y,Rt=w):f3(_)}g=g.sibling}e:for(g=null,_=e;;){if(_.tag===5){if(g===null){g=_;try{a=_.stateNode,v?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=_.stateNode,u=_.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=D3("display",o))}catch(f){fn(e,e.return,f)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=v?"":_.memoizedProps}catch(f){fn(e,e.return,f)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:za(t,e),ns(e),n&4&&l3(e);break;case 21:break;default:za(t,e),ns(e)}}function ns(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(eC(r)){var n=r;break e}r=r.return}throw Error(Mt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ud(a,""),n.flags&=-33);var s=o3(e);G1(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=o3(e);j1(e,l,o);break;default:throw Error(Mt(161))}}catch(u){fn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yN(e,t,r){Rt=e,nC(e,t,r)}function nC(e,t,r){for(var n=(e.mode&1)!==0;Rt!==null;){var a=Rt,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||hp;if(!o){var l=a.alternate,u=l!==null&&l.memoizedState!==null||Jn;l=hp;var v=Jn;if(hp=o,(Jn=u)&&!v)for(Rt=a;Rt!==null;)o=Rt,u=o.child,o.tag===22&&o.memoizedState!==null?d3(a):u!==null?(u.return=o,Rt=u):d3(a);for(;s!==null;)Rt=s,nC(s,t,r),s=s.sibling;Rt=a,hp=l,Jn=v}u3(e,t,r)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Rt=s):u3(e,t,r)}}function u3(e){for(;Rt!==null;){var t=Rt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jn||n0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Jn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Fa(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Y2(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Y2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var g=v.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&Hd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Mt(163))}Jn||t.flags&512&&W1(t)}catch(y){fn(t,t.return,y)}}if(t===e){Rt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function f3(e){for(;Rt!==null;){var t=Rt;if(t===e){Rt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function d3(e){for(;Rt!==null;){var t=Rt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{n0(4,t)}catch(u){fn(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(u){fn(t,a,u)}}var s=t.return;try{W1(t)}catch(u){fn(t,s,u)}break;case 5:var o=t.return;try{W1(t)}catch(u){fn(t,o,u)}}}catch(u){fn(t,t.return,u)}if(t===e){Rt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Rt=l;break}Rt=t.return}}var xN=Math.ceil,Hp=Zs.ReactCurrentDispatcher,D_=Zs.ReactCurrentOwner,ua=Zs.ReactCurrentBatchConfig,Dr=0,zn=null,xn=null,Hn=0,ji=0,ju=No(0),Mn=0,tc=null,El=0,i0=0,A_=0,Fd=null,Ti=null,T_=0,tf=1/0,Rs=null,Vp=!1,H1=null,Ao=null,pp=!1,wo=null,Yp=0,Bd=0,V1=null,wp=-1,Sp=0;function ci(){return Dr&6?vn():wp!==-1?wp:wp=vn()}function To(e){return e.mode&1?Dr&2&&Hn!==0?Hn&-Hn:iN.transition!==null?(Sp===0&&(Sp=U3()),Sp):(e=zr,e!==0||(e=window.event,e=e===void 0?16:K3(e.type)),e):1}function Wa(e,t,r,n){if(50<Bd)throw Bd=0,V1=null,Error(Mt(185));rc(e,r,n),(!(Dr&2)||e!==zn)&&(e===zn&&(!(Dr&2)&&(i0|=r),Mn===4&&yo(e,Hn)),Pi(e,n),r===1&&Dr===0&&!(t.mode&1)&&(tf=vn()+500,e0&&Io()))}function Pi(e,t){var r=e.callbackNode;sP(e,t);var n=Tp(e,e===zn?Hn:0);if(n===0)r!==null&&b2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&b2(r),t===1)e.tag===0?nN(c3.bind(null,e)):cS(c3.bind(null,e)),JP(function(){!(Dr&6)&&Io()}),r=null;else{switch(W3(n)){case 1:r=t_;break;case 4:r=B3;break;case 16:r=Ap;break;case 536870912:r=R3;break;default:r=Ap}r=dC(r,iC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iC(e,t){if(wp=-1,Sp=0,Dr&6)throw Error(Mt(327));var r=e.callbackNode;if(Zu()&&e.callbackNode!==r)return null;var n=Tp(e,e===zn?Hn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Kp(e,n);else{t=n;var a=Dr;Dr|=2;var s=sC();(zn!==e||Hn!==t)&&(Rs=null,tf=vn()+500,yl(e,t));do try{CN();break}catch(l){aC(e,l)}while(1);p_(),Hp.current=s,Dr=a,xn!==null?t=0:(zn=null,Hn=0,t=Mn)}if(t!==0){if(t===2&&(a=_1(e),a!==0&&(n=a,t=Y1(e,a))),t===1)throw r=tc,yl(e,0),yo(e,n),Pi(e,vn()),r;if(t===6)yo(e,n);else{if(a=e.current.alternate,!(n&30)&&!wN(a)&&(t=Kp(e,n),t===2&&(s=_1(e),s!==0&&(n=s,t=Y1(e,s))),t===1))throw r=tc,yl(e,0),yo(e,n),Pi(e,vn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Mt(345));case 2:gl(e,Ti,Rs);break;case 3:if(yo(e,n),(n&130023424)===n&&(t=T_+500-vn(),10<t)){if(Tp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ci(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=M1(gl.bind(null,e,Ti,Rs),t);break}gl(e,Ti,Rs);break;case 4:if(yo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ua(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xN(n/1960))-n,10<n){e.timeoutHandle=M1(gl.bind(null,e,Ti,Rs),n);break}gl(e,Ti,Rs);break;case 5:gl(e,Ti,Rs);break;default:throw Error(Mt(329))}}}return Pi(e,vn()),e.callbackNode===r?iC.bind(null,e):null}function Y1(e,t){var r=Fd;return e.current.memoizedState.isDehydrated&&(yl(e,t).flags|=256),e=Kp(e,t),e!==2&&(t=Ti,Ti=r,t!==null&&K1(t)),e}function K1(e){Ti===null?Ti=e:Ti.push.apply(Ti,e)}function wN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ja(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yo(e,t){for(t&=~A_,t&=~i0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ua(t),n=1<<r;e[r]=-1,t&=~n}}function c3(e){if(Dr&6)throw Error(Mt(327));Zu();var t=Tp(e,0);if(!(t&1))return Pi(e,vn()),null;var r=Kp(e,t);if(e.tag!==0&&r===2){var n=_1(e);n!==0&&(t=n,r=Y1(e,n))}if(r===1)throw r=tc,yl(e,0),yo(e,t),Pi(e,vn()),r;if(r===6)throw Error(Mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gl(e,Ti,Rs),Pi(e,vn()),null}function L_(e,t){var r=Dr;Dr|=1;try{return e(t)}finally{Dr=r,Dr===0&&(tf=vn()+500,e0&&Io())}}function Ml(e){wo!==null&&wo.tag===0&&!(Dr&6)&&Zu();var t=Dr;Dr|=1;var r=ua.transition,n=zr;try{if(ua.transition=null,zr=1,e)return e()}finally{zr=n,ua.transition=r,Dr=t,!(Dr&6)&&Io()}}function O_(){ji=ju.current,Xr(ju)}function yl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qP(r)),xn!==null)for(r=xn.return;r!==null;){var n=r;switch(d_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Np();break;case 3:Ju(),Xr(Oi),Xr(ei),y_();break;case 5:b_(n);break;case 4:Ju();break;case 13:Xr(nn);break;case 19:Xr(nn);break;case 10:m_(n.type._context);break;case 22:case 23:O_()}r=r.return}if(zn=e,xn=e=Lo(e.current,null),Hn=ji=t,Mn=0,tc=null,A_=i0=El=0,Ti=Fd=null,_l!==null){for(t=0;t<_l.length;t++)if(r=_l[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}_l=null}return e}function aC(e,t){do{var r=xn;try{if(p_(),bp.current=Gp,jp){for(var n=an.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}jp=!1}if(Cl=0,In=En=an=null,Id=!1,qd=0,D_.current=null,r===null||r.return===null){Mn=1,tc=t,xn=null;break}e:{var s=e,o=r.return,l=r,u=t;if(t=Hn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var v=u,g=l,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=J2(o);if(w!==null){w.flags&=-257,e3(w,o,l,s,t),w.mode&1&&q2(s,v,t),t=w,u=v;var x=t.updateQueue;if(x===null){var f=new Set;f.add(u),t.updateQueue=f}else x.add(u);break e}else{if(!(t&1)){q2(s,v,t),k_();break e}u=Error(Mt(426))}}else if(Jr&&l.mode&1){var b=J2(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),e3(b,o,l,s,t),c_(ef(u,l));break e}}s=u=ef(u,l),Mn!==4&&(Mn=2),Fd===null?Fd=[s]:Fd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=jS(s,u,t);V2(s,h);break e;case 1:l=u;var S=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ao===null||!Ao.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var M=GS(s,l,t);V2(s,M);break e}}s=s.return}while(s!==null)}lC(r)}catch(p){t=p,xn===r&&r!==null&&(xn=r=r.return);continue}break}while(1)}function sC(){var e=Hp.current;return Hp.current=Gp,e===null?Gp:e}function k_(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),zn===null||!(El&268435455)&&!(i0&268435455)||yo(zn,Hn)}function Kp(e,t){var r=Dr;Dr|=2;var n=sC();(zn!==e||Hn!==t)&&(Rs=null,yl(e,t));do try{SN();break}catch(a){aC(e,a)}while(1);if(p_(),Dr=r,Hp.current=n,xn!==null)throw Error(Mt(261));return zn=null,Hn=0,Mn}function SN(){for(;xn!==null;)oC(xn)}function CN(){for(;xn!==null&&!Qk();)oC(xn)}function oC(e){var t=fC(e.alternate,e,ji);e.memoizedProps=e.pendingProps,t===null?lC(e):xn=t,D_.current=null}function lC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vN(r,t),r!==null){r.flags&=32767,xn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mn=6,xn=null;return}}else if(r=gN(r,t,ji),r!==null){xn=r;return}if(t=t.sibling,t!==null){xn=t;return}xn=t=e}while(t!==null);Mn===0&&(Mn=5)}function gl(e,t,r){var n=zr,a=ua.transition;try{ua.transition=null,zr=1,EN(e,t,r,n)}finally{ua.transition=a,zr=n}return null}function EN(e,t,r,n){do Zu();while(wo!==null);if(Dr&6)throw Error(Mt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Mt(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(oP(e,s),e===zn&&(xn=zn=null,Hn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pp||(pp=!0,dC(Ap,function(){return Zu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ua.transition,ua.transition=null;var o=zr;zr=1;var l=Dr;Dr|=4,D_.current=null,bN(e,r),rC(r,e),KP(C1),Lp=!!S1,C1=S1=null,e.current=r,yN(r,e,a),qk(),Dr=l,zr=o,ua.transition=s}else e.current=r;if(pp&&(pp=!1,wo=e,Yp=a),s=e.pendingLanes,s===0&&(Ao=null),tP(r.stateNode,n),Pi(e,vn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vp)throw Vp=!1,e=H1,H1=null,e;return Yp&1&&e.tag!==0&&Zu(),s=e.pendingLanes,s&1?e===V1?Bd++:(Bd=0,V1=e):Bd=0,Io(),null}function Zu(){if(wo!==null){var e=W3(Yp),t=ua.transition,r=zr;try{if(ua.transition=null,zr=16>e?16:e,wo===null)var n=!1;else{if(e=wo,wo=null,Yp=0,Dr&6)throw Error(Mt(331));var a=Dr;for(Dr|=4,Rt=e.current;Rt!==null;){var s=Rt,o=s.child;if(Rt.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var v=l[u];for(Rt=v;Rt!==null;){var g=Rt;switch(g.tag){case 0:case 11:case 15:zd(8,g,s)}var _=g.child;if(_!==null)_.return=g,Rt=_;else for(;Rt!==null;){g=Rt;var y=g.sibling,w=g.return;if(JS(g),g===v){Rt=null;break}if(y!==null){y.return=w,Rt=y;break}Rt=w}}}var x=s.alternate;if(x!==null){var f=x.child;if(f!==null){x.child=null;do{var b=f.sibling;f.sibling=null,f=b}while(f!==null)}}Rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Rt=o;else e:for(;Rt!==null;){if(s=Rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zd(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,Rt=h;break e}Rt=s.return}}var S=e.current;for(Rt=S;Rt!==null;){o=Rt;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Rt=C;else e:for(o=S;Rt!==null;){if(l=Rt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:n0(9,l)}}catch(p){fn(l,l.return,p)}if(l===o){Rt=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,Rt=M;break e}Rt=l.return}}if(Dr=a,Io(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Xp,e)}catch{}n=!0}return n}finally{zr=r,ua.transition=t}}return!1}function h3(e,t,r){t=ef(r,t),t=jS(e,t,1),e=Do(e,t,1),t=ci(),e!==null&&(rc(e,1,t),Pi(e,t))}function fn(e,t,r){if(e.tag===3)h3(e,e,r);else for(;t!==null;){if(t.tag===3){h3(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ao===null||!Ao.has(n))){e=ef(r,e),e=GS(t,e,1),t=Do(t,e,1),e=ci(),t!==null&&(rc(t,1,e),Pi(t,e));break}}t=t.return}}function MN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ci(),e.pingedLanes|=e.suspendedLanes&r,zn===e&&(Hn&r)===r&&(Mn===4||Mn===3&&(Hn&130023424)===Hn&&500>vn()-T_?yl(e,0):A_|=r),Pi(e,t)}function uC(e,t){t===0&&(e.mode&1?(t=ep,ep<<=1,!(ep&130023424)&&(ep=4194304)):t=1);var r=ci();e=Ys(e,t),e!==null&&(rc(e,t,r),Pi(e,r))}function DN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uC(e,r)}function AN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Mt(314))}n!==null&&n.delete(t),uC(e,r)}var fC;fC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oi.current)Li=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Li=!1,mN(e,t,r);Li=!!(e.flags&131072)}else Li=!1,Jr&&t.flags&1048576&&hS(t,Fp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xp(e,t),e=t.pendingProps;var a=$u(t,ei.current);Ku(t,r),a=w_(null,t,n,e,a,r);var s=S_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ki(n)?(s=!0,Ip(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,v_(t),a.updater=t0,t.stateNode=a,a._reactInternals=t,P1(t,n,e,r),t=z1(null,t,n,!0,s,r)):(t.tag=0,Jr&&s&&f_(t),di(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=LN(n),e=Fa(n,e),a){case 0:t=I1(null,t,n,e,r);break e;case 1:t=n3(null,t,n,e,r);break e;case 11:t=t3(null,t,n,e,r);break e;case 14:t=r3(null,t,n,Fa(n.type,e),r);break e}throw Error(Mt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fa(n,a),I1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fa(n,a),n3(e,t,n,a,r);case 3:e:{if(KS(t),e===null)throw Error(Mt(387));n=t.pendingProps,s=t.memoizedState,a=s.element,vS(e,t),Up(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=ef(Error(Mt(423)),t),t=i3(e,t,n,r,a);break e}else if(n!==a){a=ef(Error(Mt(424)),t),t=i3(e,t,n,r,a);break e}else for(Gi=Mo(t.stateNode.containerInfo.firstChild),Hi=t,Jr=!0,Ra=null,r=xS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qu(),n===a){t=Ks(e,t,r);break e}di(e,t,n,r)}t=t.child}return t;case 5:return wS(t),e===null&&L1(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,E1(n,a)?o=null:s!==null&&E1(n,s)&&(t.flags|=32),YS(e,t),di(e,t,o,r),t.child;case 6:return e===null&&L1(t),null;case 13:return ZS(e,t,r);case 4:return __(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qu(t,null,n,r):di(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fa(n,a),t3(e,t,n,a,r);case 7:return di(e,t,t.pendingProps,r),t.child;case 8:return di(e,t,t.pendingProps.children,r),t.child;case 12:return di(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Vr(Bp,n._currentValue),n._currentValue=o,s!==null)if(ja(s.value,o)){if(s.children===a.children&&!Oi.current){t=Ks(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Gs(-1,r&-r),u.tag=2;var v=s.updateQueue;if(v!==null){v=v.shared;var g=v.pending;g===null?u.next=u:(u.next=g.next,g.next=u),v.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),O1(s.return,r,t),l.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Mt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),O1(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}di(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ku(t,r),a=fa(a),n=n(a),t.flags|=1,di(e,t,n,r),t.child;case 14:return n=t.type,a=Fa(n,t.pendingProps),a=Fa(n.type,a),r3(e,t,n,a,r);case 15:return HS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fa(n,a),xp(e,t),t.tag=1,ki(n)?(e=!0,Ip(t)):e=!1,Ku(t,r),bS(t,n,a),P1(t,n,a,r),z1(null,t,n,!0,e,r);case 19:return XS(e,t,r);case 22:return VS(e,t,r)}throw Error(Mt(156,t.tag))};function dC(e,t){return F3(e,t)}function TN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(e,t,r,n){return new TN(e,t,r,n)}function P_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LN(e){if(typeof e=="function")return P_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===q1)return 11;if(e===J1)return 14}return 2}function Lo(e,t){var r=e.alternate;return r===null?(r=la(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cp(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")P_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ku:return xl(r.children,a,s,t);case Q1:o=8,a|=8;break;case n1:return e=la(12,r,t,a|2),e.elementType=n1,e.lanes=s,e;case i1:return e=la(13,r,t,a),e.elementType=i1,e.lanes=s,e;case a1:return e=la(19,r,t,a),e.elementType=a1,e.lanes=s,e;case y3:return a0(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _3:o=10;break e;case b3:o=9;break e;case q1:o=11;break e;case J1:o=14;break e;case vo:o=16,n=null;break e}throw Error(Mt(130,e==null?e:typeof e,""))}return t=la(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function xl(e,t,r,n){return e=la(7,e,n,t),e.lanes=r,e}function a0(e,t,r,n){return e=la(22,e,n,t),e.elementType=y3,e.lanes=r,e.stateNode={isHidden:!1},e}function e1(e,t,r){return e=la(6,e,null,t),e.lanes=r,e}function t1(e,t,r){return t=la(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ON(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bv(0),this.expirationTimes=Bv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function N_(e,t,r,n,a,s,o,l,u){return e=new ON(e,t,r,l,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=la(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},v_(s),e}function kN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ou,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function cC(e){if(!e)return ko;e=e._reactInternals;e:{if(Al(e)!==e||e.tag!==1)throw Error(Mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Mt(171))}if(e.tag===1){var r=e.type;if(ki(r))return dS(e,r,t)}return t}function hC(e,t,r,n,a,s,o,l,u){return e=N_(r,n,!0,e,a,s,o,l,u),e.context=cC(null),r=e.current,n=ci(),a=To(r),s=Gs(n,a),s.callback=t??null,Do(r,s,a),e.current.lanes=a,rc(e,a,n),Pi(e,n),e}function s0(e,t,r,n){var a=t.current,s=ci(),o=To(a);return r=cC(r),t.context===null?t.context=r:t.pendingContext=r,t=Gs(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Do(a,t,o),e!==null&&(Wa(e,a,o,s),_p(e,a,o)),o}function Zp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function p3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function I_(e,t){p3(e,t),(e=e.alternate)&&p3(e,t)}function PN(){return null}var pC=typeof reportError=="function"?reportError:function(e){console.error(e)};function z_(e){this._internalRoot=e}o0.prototype.render=z_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Mt(409));s0(e,t,null,null)};o0.prototype.unmount=z_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ml(function(){s0(null,e,null,null)}),t[Vs]=null}};function o0(e){this._internalRoot=e}o0.prototype.unstable_scheduleHydration=function(e){if(e){var t=H3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bo.length&&t!==0&&t<bo[r].priority;r++);bo.splice(r,0,e),r===0&&Y3(e)}};function F_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function m3(){}function NN(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var v=Zp(o);s.call(v)}}var o=hC(t,n,e,0,null,!1,!1,"",m3);return e._reactRootContainer=o,e[Vs]=o.current,Kd(e.nodeType===8?e.parentNode:e),Ml(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var v=Zp(u);l.call(v)}}var u=N_(e,0,!1,null,null,!1,!1,"",m3);return e._reactRootContainer=u,e[Vs]=u.current,Kd(e.nodeType===8?e.parentNode:e),Ml(function(){s0(t,u,r,n)}),u}function u0(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var u=Zp(o);l.call(u)}}s0(t,o,e,a)}else o=NN(r,t,e,a,n);return Zp(o)}j3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ad(t.pendingLanes);r!==0&&(r_(t,r|1),Pi(t,vn()),!(Dr&6)&&(tf=vn()+500,Io()))}break;case 13:Ml(function(){var n=Ys(e,1);if(n!==null){var a=ci();Wa(n,e,1,a)}}),I_(e,1)}};n_=function(e){if(e.tag===13){var t=Ys(e,134217728);if(t!==null){var r=ci();Wa(t,e,134217728,r)}I_(e,134217728)}};G3=function(e){if(e.tag===13){var t=To(e),r=Ys(e,t);if(r!==null){var n=ci();Wa(r,e,t,n)}I_(e,t)}};H3=function(){return zr};V3=function(e,t){var r=zr;try{return zr=e,t()}finally{zr=r}};m1=function(e,t,r){switch(t){case"input":if(l1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Jp(n);if(!a)throw Error(Mt(90));w3(n),l1(n,a)}}}break;case"textarea":C3(e,r);break;case"select":t=r.value,t!=null&&Gu(e,!!r.multiple,t,!1)}};O3=L_;k3=Ml;var IN={usingClientEntryPoint:!1,Events:[ic,zu,Jp,T3,L3,L_]},Cd={findFiberByHostInstance:vl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zN={bundleType:Cd.bundleType,version:Cd.version,rendererPackageName:Cd.rendererPackageName,rendererConfig:Cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=I3(e),e===null?null:e.stateNode},findFiberByHostInstance:Cd.findFiberByHostInstance||PN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Ed.isDisabled&&Ed.supportsFiber))try{Xp=Ed.inject(zN),ss=Ed}catch{}var Ed;Ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IN;Ki.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F_(t))throw Error(Mt(200));return kN(e,t,null,r)};Ki.createRoot=function(e,t){if(!F_(e))throw Error(Mt(299));var r=!1,n="",a=pC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=N_(e,1,!1,null,null,r,!1,n,a),e[Vs]=t.current,Kd(e.nodeType===8?e.parentNode:e),new z_(t)};Ki.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Mt(188)):(e=Object.keys(e).join(","),Error(Mt(268,e)));return e=I3(t),e=e===null?null:e.stateNode,e};Ki.flushSync=function(e){return Ml(e)};Ki.hydrate=function(e,t,r){if(!l0(t))throw Error(Mt(200));return u0(null,e,t,!0,r)};Ki.hydrateRoot=function(e,t,r){if(!F_(e))throw Error(Mt(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=pC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=hC(t,null,e,1,r??null,a,!1,s,o),e[Vs]=t.current,Kd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new o0(t)};Ki.render=function(e,t,r){if(!l0(t))throw Error(Mt(200));return u0(null,e,t,!1,r)};Ki.unmountComponentAtNode=function(e){if(!l0(e))throw Error(Mt(40));return e._reactRootContainer?(Ml(function(){u0(null,null,e,!1,function(){e._reactRootContainer=null,e[Vs]=null})}),!0):!1};Ki.unstable_batchedUpdates=L_;Ki.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!l0(r))throw Error(Mt(200));if(e==null||e._reactInternals===void 0)throw Error(Mt(38));return u0(e,t,r,!1,n)};Ki.version="18.2.0-next-9e3b772b8-20220608"});var _C=Pn((qR,vC)=>{"use strict";function gC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gC)}catch(e){console.error(e)}}gC(),vC.exports=mC()});var yC=Pn(B_=>{"use strict";var bC=_C();B_.createRoot=bC.createRoot,B_.hydrateRoot=bC.hydrateRoot;var JR});var xC=Pn((exports,module)=>{(function(t,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define([],r):typeof exports=="object"?exports["3Dmol"]=r():t["3Dmol"]=r()})(exports,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{IOBuffer:()=>l});var n=r("./node_modules/iobuffer/lib-esm/text.browser.js");let a=1024*8,s=(()=>{let u=new Uint8Array(4),v=new Uint32Array(u.buffer);return!((v[0]=1)&u[0])})(),o={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class l{constructor(v=a,g={}){let _=!1;typeof v=="number"?v=new ArrayBuffer(v):(_=!0,this.lastWrittenByte=v.byteLength);let y=g.offset?g.offset>>>0:0,w=v.byteLength-y,x=y;(ArrayBuffer.isView(v)||v instanceof l)&&(v.byteLength!==v.buffer.byteLength&&(x=v.byteOffset+y),v=v.buffer),_?this.lastWrittenByte=w:this.lastWrittenByte=0,this.buffer=v,this.length=w,this.byteLength=w,this.byteOffset=x,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,x,w),this._mark=0,this._marks=[]}available(v=1){return this.offset+v<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(v=1){return this.offset+=v,this}back(v=1){return this.offset-=v,this}seek(v){return this.offset=v,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let v=this._marks.pop();if(v===void 0)throw new Error("Mark stack empty");return this.seek(v),this}rewind(){return this.offset=0,this}ensureAvailable(v=1){if(!this.available(v)){let _=(this.offset+v)*2,y=new Uint8Array(_);y.set(new Uint8Array(this.buffer)),this.buffer=y.buffer,this.length=this.byteLength=_,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(v=1){return this.readArray(v,"uint8")}readArray(v,g){let _=o[g].BYTES_PER_ELEMENT*v,y=this.byteOffset+this.offset,w=this.buffer.slice(y,y+_);if(this.littleEndian===s&&g!=="uint8"&&g!=="int8"){let f=new Uint8Array(this.buffer.slice(y,y+_));f.reverse();let b=new o[g](f.buffer);return this.offset+=_,b.reverse(),b}let x=new o[g](w);return this.offset+=_,x}readInt16(){let v=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,v}readUint16(){let v=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,v}readInt32(){let v=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,v}readUint32(){let v=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,v}readFloat32(){let v=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,v}readFloat64(){let v=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,v}readBigInt64(){let v=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,v}readBigUint64(){let v=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,v}readChar(){return String.fromCharCode(this.readInt8())}readChars(v=1){let g="";for(let _=0;_<v;_++)g+=this.readChar();return g}readUtf8(v=1){return(0,n.decode)(this.readBytes(v))}decodeText(v=1,g="utf-8"){return(0,n.decode)(this.readBytes(v),g)}writeBoolean(v){return this.writeUint8(v?255:0),this}writeInt8(v){return this.ensureAvailable(1),this._data.setInt8(this.offset++,v),this._updateLastWrittenByte(),this}writeUint8(v){return this.ensureAvailable(1),this._data.setUint8(this.offset++,v),this._updateLastWrittenByte(),this}writeByte(v){return this.writeUint8(v)}writeBytes(v){this.ensureAvailable(v.length);for(let g=0;g<v.length;g++)this._data.setUint8(this.offset++,v[g]);return this._updateLastWrittenByte(),this}writeInt16(v){return this.ensureAvailable(2),this._data.setInt16(this.offset,v,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(v){return this.ensureAvailable(2),this._data.setUint16(this.offset,v,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(v){return this.ensureAvailable(4),this._data.setInt32(this.offset,v,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(v){return this.ensureAvailable(4),this._data.setUint32(this.offset,v,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(v){return this.ensureAvailable(4),this._data.setFloat32(this.offset,v,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(v){return this.ensureAvailable(8),this._data.setFloat64(this.offset,v,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(v){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,v,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(v){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,v,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(v){return this.writeUint8(v.charCodeAt(0))}writeChars(v){for(let g=0;g<v.length;g++)this.writeUint8(v.charCodeAt(g));return this}writeUtf8(v){return this.writeBytes((0,n.encode)(v))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){"use strict";(function(e){"use strict";if(e.TextEncoder&&e.TextDecoder)return!1;function t(n="utf-8"){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${n}') is invalid.`)}Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let s=0,o=n.length,l=[],u=0,v=Math.max(32,o+(o>>1)+7),g=new Uint8Array(v>>3<<3);for(;s<o;){let _=n.charCodeAt(s++);if(_>=55296&&_<=56319){if(s<o){let y=n.charCodeAt(s);(y&64512)===56320&&(++s,_=((_&1023)<<10)+(y&1023)+65536)}if(_>=55296&&_<=56319)continue}if(u+4>g.length){v+=8,v*=1+s/n.length*2,v=v>>3<<3;let y=new Uint8Array(v);y.set(g),g=y}if(_&4294967168)if(!(_&4294965248))g[u++]=_>>6&31|192;else if(!(_&4294901760))g[u++]=_>>12&15|224,g[u++]=_>>6&63|128;else if(!(_&4292870144))g[u++]=_>>18&7|240,g[u++]=_>>12&63|128,g[u++]=_>>6&63|128;else continue;else{g[u++]=_;continue}g[u++]=_&63|128}return g.slice(0,u)};function r(n="utf-8",a={fatal:!1}){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${n}') is invalid.`);if(a.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");let s=new Uint8Array(n),o=0,l=s.length,u=[];for(;o<l;){let v=s[o++];if(v===0)break;if(!(v&128))u.push(v);else if((v&224)===192){let g=s[o++]&63;u.push((v&31)<<6|g)}else if((v&240)===224){let g=s[o++]&63,_=s[o++]&63;u.push((v&31)<<12|g<<6|_)}else if((v&248)===240){let g=s[o++]&63,_=s[o++]&63,y=s[o++]&63,w=(v&7)<<18|g<<12|_<<6|y;w>65535&&(w-=65536,u.push(w>>>10&1023|55296),w=56320|w&1023),u.push(w)}}return String.fromCharCode.apply(null,u)},e.TextEncoder=t,e.TextDecoder=r})(typeof window<"u"?window:typeof self<"u"?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>s,encode:()=>l});var n=r("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js"),a=r.n(n);function s(u,v="utf8"){return new TextDecoder(v).decode(u)}let o=new TextEncoder;function l(u){return o.encode(u)}},"./node_modules/netcdfjs/src/data.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{nonRecord:()=>a,record:()=>s});var n=r("./node_modules/netcdfjs/src/types.js");function a(o,l){let u=(0,n.str2num)(l.type),v=l.size/(0,n.num2bytes)(u),g=new Array(v);for(let _=0;_<v;_++)g[_]=(0,n.readType)(o,u,1);return g}function s(o,l,u){let v=(0,n.str2num)(l.type),g=l.size?l.size/(0,n.num2bytes)(v):1,_=u.length,y=new Array(_),w=u.recordStep;for(let x=0;x<_;x++){let f=o.offset;y[x]=(0,n.readType)(o,v,g),o.seek(f+w)}return y}},"./node_modules/netcdfjs/src/header.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{header:()=>v});var n=r("./node_modules/netcdfjs/src/types.js"),a=r("./node_modules/netcdfjs/src/utils.js");let s=0,o=10,l=11,u=12;function v(x,f){let b={recordDimension:{length:x.readUint32()}};b.version=f;let h=_(x);b.recordDimension.id=h.recordId,b.recordDimension.name=h.recordName,b.dimensions=h.dimensions,b.globalAttributes=y(x);let S=w(x,h.recordId,f);return b.variables=S.variables,b.recordDimension.recordStep=S.recordStep,b}let g=0;function _(x){let f,b,h=x.readUint32(),S;if(h===s)return(0,a.notNetcdf)(x.readUint32()!==s,"wrong empty tag for list of dimensions"),[];{(0,a.notNetcdf)(h!==o,"wrong tag for list of dimensions");let C=x.readUint32();S=new Array(C);for(let M=0;M<C;M++){let p=(0,a.readName)(x),c=x.readUint32();c===g&&(f=M,b=p),S[M]={name:p,size:c}}}return{dimensions:S,recordId:f,recordName:b}}function y(x){let f=x.readUint32(),b;if(f===s)return(0,a.notNetcdf)(x.readUint32()!==s,"wrong empty tag for list of attributes"),[];{(0,a.notNetcdf)(f!==u,"wrong tag for list of attributes");let h=x.readUint32();b=new Array(h);for(let S=0;S<h;S++){let C=(0,a.readName)(x),M=x.readUint32();(0,a.notNetcdf)(M<1||M>6,`non valid type ${M}`);let p=x.readUint32(),c=(0,n.readType)(x,M,p);(0,a.padding)(x),b[S]={name:C,type:(0,n.num2str)(M),value:c}}}return b}function w(x,f,b){let h=x.readUint32(),S=0,C;if(h===s)return(0,a.notNetcdf)(x.readUint32()!==s,"wrong empty tag for list of variables"),[];{(0,a.notNetcdf)(h!==l,"wrong tag for list of variables");let M=x.readUint32();C=new Array(M);for(let p=0;p<M;p++){let c=(0,a.readName)(x),E=x.readUint32(),D=new Array(E);for(let G=0;G<E;G++)D[G]=x.readUint32();let I=y(x),O=x.readUint32();(0,a.notNetcdf)(O<1&&O>6,`non valid type ${O}`);let P=x.readUint32(),k=x.readUint32();b===2&&((0,a.notNetcdf)(k>0,"offsets larger than 4GB not supported"),k=x.readUint32());let B=!1;typeof f<"u"&&D[0]===f&&(S+=P,B=!0),C[p]={name:c,dimensions:D,attributes:I,type:(0,n.num2str)(O),size:P,offset:k,record:B}}}return{variables:C,recordStep:S}}},"./node_modules/netcdfjs/src/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NetCDFReader:()=>u});var n=r("./node_modules/iobuffer/lib-esm/IOBuffer.js"),a=r("./node_modules/netcdfjs/src/data.js"),s=r("./node_modules/netcdfjs/src/header.js"),o=r("./node_modules/netcdfjs/src/toString.js"),l=r("./node_modules/netcdfjs/src/utils.js");class u{constructor(g){let _=new n.IOBuffer(g);_.setBigEndian(),(0,l.notNetcdf)(_.readChars(3)!=="CDF","should start with CDF");let y=_.readByte();(0,l.notNetcdf)(y>2,"unknown version"),this.header=(0,s.header)(_,y),this.buffer=_}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(g){let _=this.globalAttributes.find(y=>y.name===g);return _?_.value:null}getDataVariableAsString(g){let _=this.getDataVariable(g);return _?_.join(""):null}get variables(){return this.header.variables}toString(){return o.toString.call(this)}getDataVariable(g){let _;return typeof g=="string"?_=this.header.variables.find(y=>y.name===g):_=g,(0,l.notNetcdf)(_===void 0,`variable not found: ${g}`),this.buffer.seek(_.offset),_.record?(0,a.record)(this.buffer,_,this.header.recordDimension):(0,a.nonRecord)(this.buffer,_)}dataVariableExists(g){return this.header.variables.find(y=>y.name===g)!==void 0}attributeExists(g){return this.globalAttributes.find(y=>y.name===g)!==void 0}}},"./node_modules/netcdfjs/src/toString.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{toString:()=>n});function n(){let a=[];a.push("DIMENSIONS");for(let o of this.dimensions)a.push(`  ${o.name.padEnd(30)} = size: ${o.size}`);a.push(""),a.push("GLOBAL ATTRIBUTES");for(let o of this.globalAttributes)a.push(`  ${o.name.padEnd(30)} = ${o.value}`);let s=JSON.parse(JSON.stringify(this.variables));a.push(""),a.push("VARIABLES:");for(let o of s){o.value=this.getDataVariable(o);let l=JSON.stringify(o.value);l.length>50&&(l=l.substring(0,50)),isNaN(o.value.length)||(l+=` (length: ${o.value.length})`),a.push(`  ${o.name.padEnd(30)} = ${l}`)}return a.join(`
`)}},"./node_modules/netcdfjs/src/types.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{num2bytes:()=>o,num2str:()=>s,readType:()=>v,str2num:()=>l});var n=r("./node_modules/netcdfjs/src/utils.js");let a={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function s(_){switch(Number(_)){case a.BYTE:return"byte";case a.CHAR:return"char";case a.SHORT:return"short";case a.INT:return"int";case a.FLOAT:return"float";case a.DOUBLE:return"double";default:return"undefined"}}function o(_){switch(Number(_)){case a.BYTE:return 1;case a.CHAR:return 1;case a.SHORT:return 2;case a.INT:return 4;case a.FLOAT:return 4;case a.DOUBLE:return 8;default:return-1}}function l(_){switch(String(_)){case"byte":return a.BYTE;case"char":return a.CHAR;case"short":return a.SHORT;case"int":return a.INT;case"float":return a.FLOAT;case"double":return a.DOUBLE;default:return-1}}function u(_,y){if(_!==1){let w=new Array(_);for(let x=0;x<_;x++)w[x]=y();return w}else return y()}function v(_,y,w){switch(y){case a.BYTE:return _.readBytes(w);case a.CHAR:return g(_.readChars(w));case a.SHORT:return u(w,_.readInt16.bind(_));case a.INT:return u(w,_.readInt32.bind(_));case a.FLOAT:return u(w,_.readFloat32.bind(_));case a.DOUBLE:return u(w,_.readFloat64.bind(_));default:(0,n.notNetcdf)(!0,`non valid type ${y}`);return}}function g(_){return _.charCodeAt(_.length-1)===0?_.substring(0,_.length-1):_}},"./node_modules/netcdfjs/src/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{notNetcdf:()=>n,padding:()=>a,readName:()=>s});function n(o,l){if(o)throw new TypeError(`Not a valid NetCDF v3.x file: ${l}`)}function a(o){o.offset%4!==0&&o.skip(4-o.offset%4)}function s(o){let l=o.readUint32(),u=o.readChars(l);return a(o),u}},"./src/WebGL/shaders/lib/basic/basic.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/instanced/instanced.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambert/lambert.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/outline/outline.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    gl_Position = projectionMatrix * mvPosition;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/screen/screen.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;

// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0

vec4 applyFXAA(vec2 fragCoord, sampler2D tex)
{
    vec4 color;
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;
    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;
    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;
    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;
    vec3 rgbM  = texture2D(tex, fragCoord  * inverseVP).xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5).xyz +
        texture2D(tex, fragCoord  + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, 1.0);
    else
        color = vec4(rgbB, 1.0);
    return color;
}
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    gl_FragColor = vec4(vLight*vColor, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );


}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);
    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+adjust;
}

`},"./src/WebGL/shaders/lib/sprite/sprite.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform int fogType;
uniform vec3 fogColor;
uniform float fogDensity;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a < alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogType > 0) {

        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = 0.0;

        if (fogType == 1) {
            fogFactor = smoothstep(fogNear, fogFar, depth);
        }

        else {
            const float LOG2 = 1.442695;
            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);
            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);
        }

        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    gl_FragColor = vec4(light*color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
    mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    to.xyz += normalize(to.xyz)*outlinePushback;
    pt.xyz += normalize(pt.xyz)*outlinePushback;

    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/GLDraw.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CAP:()=>a,GLDraw:()=>s});var n=r("./src/WebGL/math/index.ts"),a;(function(o){o[o.NONE=0]="NONE",o[o.FLAT=1]="FLAT",o[o.ROUND=2]="ROUND"})(a||(a={}));var s;(function(o){function l(f,b,h){var S=Math.sqrt(f*f+b*b),C,M,p,c,E;S<1e-4?(M=0,p=1):(M=-f/S,p=b/S),b=-M*f+p*b,C=Math.sqrt(b*b+h*h),C<1e-4?(c=0,E=1):(c=h/C,E=b/C);var D=new Float32Array(9);return D[0]=p,D[1]=M,D[2]=0,D[3]=-M*E,D[4]=p*E,D[5]=c,D[6]=M*c,D[7]=-p*c,D[8]=E,D}class u{constructor(){this.cache={};let b=[],h=4,S=Math.pow(2,h),C=2,M=Math.pow(2,C),p=S/M,c;for(b[0]=new n.Vector3(-1,0,0),b[p]=new n.Vector3(0,0,1),b[p*2]=new n.Vector3(1,0,0),b[p*3]=new n.Vector3(0,0,-1),C=3;C<=h;C++){for(M=Math.pow(2,C-1),p=S/M,c=0;c<M-1;c++)b[p/2+c*p]=b[c*p].clone().add(b[(c+1)*p]).normalize();c=M-1,b[p/2+c*p]=b[c*p].clone().add(b[0]).normalize()}this.basisVectors=b}getVerticesForRadius(b,h,S){if(typeof this.cache<"u"&&this.cache[b]!==void 0&&this.cache[b][h+S]!==void 0)return this.cache[b][h+S];for(var C=this.basisVectors.length,M=[],p=[],c,E=0;E<C;E++)M.push(this.basisVectors[E].clone().multiplyScalar(b)),M.push(this.basisVectors[E].clone().multiplyScalar(b)),c=this.basisVectors[E].clone().normalize(),p.push(c),p.push(c);var D=[],I=10,O=C;if(I%2!==0||!I)return console.error("heightSegments must be even"),null;var P=0,k=Math.PI*2,B=0,G=Math.PI,K,q,H=!1,$=!1;for(q=0;q<=I;q++){H=q===0||q===I,$=q===I/2;var W=[],V=[];for(K=0;K<=O;K++){if($){var Z=K<O?2*K:0;V.push(Z+1),W.push(Z);continue}var Q=K/O,ie=q/I;if(!H||K===0)if(K<O){var Ce=new n.Vector3;Ce.x=-b*Math.cos(P+Q*k)*Math.sin(B+ie*G),h==1?Ce.y=0:Ce.y=b*Math.cos(B+ie*G),Ce.z=b*Math.sin(P+Q*k)*Math.sin(B+ie*G),Math.abs(Ce.x)<1e-5&&(Ce.x=0),Math.abs(Ce.y)<1e-5&&(Ce.y=0),Math.abs(Ce.z)<1e-5&&(Ce.z=0),h==a.FLAT?(c=new n.Vector3(0,Math.cos(B+ie*G),0),c.normalize()):(c=new n.Vector3(Ce.x,Ce.y,Ce.z),c.normalize()),M.push(Ce),p.push(c),W.push(M.length-1)}else W.push(M.length-O);else H&&W.push(M.length-1)}$&&D.push(V),D.push(W)}var De={vertices:M,normals:p,verticesRows:D,w:O,h:I};return b in this.cache||(this.cache[b]={}),this.cache[b][h+S]=De,De}}var v=new u;function g(f,b,h,S,C,M=0,p=0){if(!(!b||!h)){var c=p||M;C=C||{r:0,g:0,b:0};var E=l(h.x-b.x,h.y-b.y,h.z-b.z),D=v.getVerticesForRadius(S,p,"to"),I=D.w,O=D.h,P=c?O*I+2:2*I,k=f.updateGeoGroup(P),B=D.vertices,G=D.normals,K=D.verticesRows,q=K[O/2],H=K[O/2+1],$=k.vertices,W,V,Z,Q,ie,Ce,De=k.vertexArray,Me=k.normalArray,Ne=k.colorArray,Te=k.faceArray;for(Z=0;Z<I;++Z){var be=2*Z;Q=E[0]*B[be].x+E[3]*B[be].y+E[6]*B[be].z,ie=E[1]*B[be].x+E[4]*B[be].y+E[7]*B[be].z,Ce=E[5]*B[be].y+E[8]*B[be].z,W=3*($+be),V=k.faceidx,De[W]=Q+b.x,De[W+1]=ie+b.y,De[W+2]=Ce+b.z,De[W+3]=Q+h.x,De[W+4]=ie+h.y,De[W+5]=Ce+h.z,Me[W]=Q,Me[W+3]=Q,Me[W+1]=ie,Me[W+4]=ie,Me[W+2]=Ce,Me[W+5]=Ce,Ne[W]=C.r,Ne[W+3]=C.r,Ne[W+1]=C.g,Ne[W+4]=C.g,Ne[W+2]=C.b,Ne[W+5]=C.b,Te[V]=H[Z]+$,Te[V+1]=H[Z+1]+$,Te[V+2]=q[Z]+$,Te[V+3]=q[Z]+$,Te[V+4]=H[Z+1]+$,Te[V+5]=q[Z+1]+$,k.faceidx+=6}if(c){var Xe=p?0:O/2,$e=M?O+1:O/2+1,R,me,ge,ne,fe,ye,He,Be,_e,Fe,Ge,Ve,Pe,vt,_t,le,ue,ve,Ke,ke,rt,st,ae,Ue,Je,ct,Le,ot,oe,ut,At,j;for(ie=Xe;ie<$e;ie++)if(ie!==O/2){var Ye=ie<=O/2?h:b,qe=v.getVerticesForRadius(S,p,"to"),ce=v.getVerticesForRadius(S,M,"from");for(Ye===h?(B=qe.vertices,G=qe.normals,K=qe.verticesRows):Ye==b&&(B=ce.vertices,G=ce.normals,K=ce.verticesRows),Q=0;Q<I;Q++)V=k.faceidx,R=K[ie][Q+1],oe=(R+$)*3,me=K[ie][Q],ut=(me+$)*3,ge=K[ie+1][Q],At=(ge+$)*3,ne=K[ie+1][Q+1],j=(ne+$)*3,fe=E[0]*B[R].x+E[3]*B[R].y+E[6]*B[R].z,ye=E[0]*B[me].x+E[3]*B[me].y+E[6]*B[me].z,He=E[0]*B[ge].x+E[3]*B[ge].y+E[6]*B[ge].z,Be=E[0]*B[ne].x+E[3]*B[ne].y+E[6]*B[ne].z,_e=E[1]*B[R].x+E[4]*B[R].y+E[7]*B[R].z,Fe=E[1]*B[me].x+E[4]*B[me].y+E[7]*B[me].z,Ge=E[1]*B[ge].x+E[4]*B[ge].y+E[7]*B[ge].z,Ve=E[1]*B[ne].x+E[4]*B[ne].y+E[7]*B[ne].z,Pe=E[5]*B[R].y+E[8]*B[R].z,vt=E[5]*B[me].y+E[8]*B[me].z,_t=E[5]*B[ge].y+E[8]*B[ge].z,le=E[5]*B[ne].y+E[8]*B[ne].z,De[oe]=fe+Ye.x,De[ut]=ye+Ye.x,De[At]=He+Ye.x,De[j]=Be+Ye.x,De[oe+1]=_e+Ye.y,De[ut+1]=Fe+Ye.y,De[At+1]=Ge+Ye.y,De[j+1]=Ve+Ye.y,De[oe+2]=Pe+Ye.z,De[ut+2]=vt+Ye.z,De[At+2]=_t+Ye.z,De[j+2]=le+Ye.z,Ne[oe]=C.r,Ne[ut]=C.r,Ne[At]=C.r,Ne[j]=C.r,Ne[oe+1]=C.g,Ne[ut+1]=C.g,Ne[At+1]=C.g,Ne[j+1]=C.g,Ne[oe+2]=C.b,Ne[ut+2]=C.b,Ne[At+2]=C.b,Ne[j+2]=C.b,ue=E[0]*G[R].x+E[3]*G[R].y+E[6]*G[R].z,ve=E[0]*G[me].x+E[3]*G[me].y+E[6]*G[me].z,Ke=E[0]*G[ge].x+E[3]*G[ge].y+E[6]*G[ge].z,ke=E[0]*G[ne].x+E[3]*G[ne].y+E[6]*G[ne].z,rt=E[1]*G[R].x+E[4]*G[R].y+E[7]*G[R].z,st=E[1]*G[me].x+E[4]*G[me].y+E[7]*G[me].z,ae=E[1]*G[ge].x+E[4]*G[ge].y+E[7]*G[ge].z,Ue=E[1]*G[ne].x+E[4]*G[ne].y+E[7]*G[ne].z,Je=E[5]*G[R].y+E[8]*G[R].z,ct=E[5]*G[me].y+E[8]*G[me].z,Le=E[5]*G[ge].y+E[8]*G[ge].z,ot=E[5]*G[ne].y+E[8]*G[ne].z,ie===0?(Me[oe]=ue,Me[At]=Ke,Me[j]=ke,Me[oe+1]=rt,Me[At+1]=ae,Me[j+1]=Ue,Me[oe+2]=Je,Me[At+2]=Le,Me[j+2]=ot,Te[V]=R+$,Te[V+1]=ge+$,Te[V+2]=ne+$,k.faceidx+=3):ie===$e-1?(Me[oe]=ue,Me[ut]=ve,Me[At]=Ke,Me[oe+1]=rt,Me[ut+1]=st,Me[At+1]=ae,Me[oe+2]=Je,Me[ut+2]=ct,Me[At+2]=Le,Te[V]=R+$,Te[V+1]=me+$,Te[V+2]=ge+$,k.faceidx+=3):(Me[oe]=ue,Me[ut]=ve,Me[j]=ke,Me[oe+1]=rt,Me[ut+1]=st,Me[j+1]=Ue,Me[oe+2]=Je,Me[ut+2]=ct,Me[j+2]=ot,Me[ut]=ve,Me[At]=Ke,Me[j]=ke,Me[ut+1]=st,Me[At+1]=ae,Me[j+1]=Ue,Me[ut+2]=ct,Me[At+2]=Le,Me[j+2]=ot,Te[V]=R+$,Te[V+1]=me+$,Te[V+2]=ne+$,Te[V+3]=me+$,Te[V+4]=ge+$,Te[V+5]=ne+$,k.faceidx+=6)}}k.vertices+=P}}o.drawCylinder=g;function _(f,b,h,S,C){if(!b||!h)return;C=C||{r:0,g:0,b:0};let M=new n.Vector3(h.x-b.x,h.y-b.y,h.z-b.z);var p=l(M.x,M.y,M.z);M=M.normalize();var c=v.basisVectors.length,E=v.basisVectors,D=c+2,I=f.updateGeoGroup(D),O=I.vertices,P,k,B,G,K,q,H=I.vertexArray,$=I.normalArray,W=I.colorArray,V=I.faceArray;for(P=O*3,H[P]=b.x,H[P+1]=b.y,H[P+2]=b.z,$[P]=-M.x,$[P+1]=-M.y,$[P+2]=-M.z,W[P]=C.r,W[P+1]=C.g,W[P+2]=C.b,H[P+3]=h.x,H[P+4]=h.y,H[P+5]=h.z,$[P+3]=M.x,$[P+4]=M.y,$[P+5]=M.z,W[P+3]=C.r,W[P+4]=C.g,W[P+5]=C.b,P+=6,B=0;B<c;++B){var Z=E[B].clone();Z.multiplyScalar(S),G=p[0]*Z.x+p[3]*Z.y+p[6]*Z.z,K=p[1]*Z.x+p[4]*Z.y+p[7]*Z.z,q=p[5]*Z.y+p[8]*Z.z,H[P]=G+b.x,H[P+1]=K+b.y,H[P+2]=q+b.z,$[P]=G,$[P+1]=K,$[P+2]=q,W[P]=C.r,W[P+1]=C.g,W[P+2]=C.b,P+=3}for(I.vertices+=c+2,k=I.faceidx,B=0;B<c;B++){var Q=O+2+B,ie=O+2+(B+1)%c;V[k]=Q,V[k+1]=ie,V[k+2]=O,k+=3,V[k]=Q,V[k+1]=ie,V[k+2]=O+1,k+=3}I.faceidx+=6*c}o.drawCone=_;class y{constructor(){this.cache=new Map}getVerticesForRadius(b,h){h=h||2,this.cache.has(h)||this.cache.set(h,new Map);let S=this.cache.get(h);if(S.has(b))return S.get(b);var C={vertices:[],verticesRows:[],normals:[]},M=16*h,p=10*h;b<1&&(M=10*h,p=8*h);var c=0,E=Math.PI*2,D=0,I=Math.PI,O,P;for(P=0;P<=p;P++){let B=[];for(O=0;O<=M;O++){let G=O/M,K=P/p,q=-b*Math.cos(c+G*E)*Math.sin(D+K*I),H=b*Math.cos(D+K*I),$=b*Math.sin(c+G*E)*Math.sin(D+K*I);var k=new n.Vector3(q,H,$);k.normalize(),C.vertices.push({x:q,y:H,z:$}),C.normals.push(k),B.push(C.vertices.length-1)}C.verticesRows.push(B)}return S.set(b,C),C}}var w=new y;function x(f,b,h,S,C){var M=w.getVerticesForRadius(h,C),p=M.vertices,c=M.normals,E=f.updateGeoGroup(p.length),D=E.vertices,I=E.vertexArray,O=E.colorArray,P=E.faceArray,k=E.lineArray,B=E.normalArray;for(let q=0,H=p.length;q<H;++q){let $=3*(D+q),W=p[q];I[$]=W.x+b.x,I[$+1]=W.y+b.y,I[$+2]=W.z+b.z,O[$]=S.r,O[$+1]=S.g,O[$+2]=S.b}E.vertices+=p.length;let G=M.verticesRows,K=G.length-1;for(let q=0;q<K;q++){let H=G[q].length-1;for(let $=0;$<H;$++){let W=E.faceidx,V=E.lineidx,Z=G[q][$+1]+D,Q=Z*3,ie=G[q][$]+D,Ce=ie*3,De=G[q+1][$]+D,Me=De*3,Ne=G[q+1][$+1]+D,Te=Ne*3,be=c[Z-D],Xe=c[ie-D],$e=c[De-D],R=c[Ne-D];Math.abs(p[Z-D].y)===h?(B[Q]=be.x,B[Me]=$e.x,B[Te]=R.x,B[Q+1]=be.y,B[Me+1]=$e.y,B[Te+1]=R.y,B[Q+2]=be.z,B[Me+2]=$e.z,B[Te+2]=R.z,P[W]=Z,P[W+1]=De,P[W+2]=Ne,k[V]=Z,k[V+1]=De,k[V+2]=Z,k[V+3]=Ne,k[V+4]=De,k[V+5]=Ne,E.faceidx+=3,E.lineidx+=6):Math.abs(p[De-D].y)===h?(B[Q]=be.x,B[Ce]=Xe.x,B[Me]=$e.x,B[Q+1]=be.y,B[Ce+1]=Xe.y,B[Me+1]=$e.y,B[Q+2]=be.z,B[Ce+2]=Xe.z,B[Me+2]=$e.z,P[W]=Z,P[W+1]=ie,P[W+2]=De,k[V]=Z,k[V+1]=ie,k[V+2]=Z,k[V+3]=De,k[V+4]=ie,k[V+5]=De,E.faceidx+=3,E.lineidx+=6):(B[Q]=be.x,B[Ce]=Xe.x,B[Te]=R.x,B[Q+1]=be.y,B[Ce+1]=Xe.y,B[Te+1]=R.y,B[Q+2]=be.z,B[Ce+2]=Xe.z,B[Te+2]=R.z,B[Ce]=Xe.x,B[Me]=$e.x,B[Te]=R.x,B[Ce+1]=Xe.y,B[Me+1]=$e.y,B[Te+1]=R.y,B[Ce+2]=Xe.z,B[Me+2]=$e.z,B[Te+2]=R.z,P[W]=Z,P[W+1]=ie,P[W+2]=Ne,P[W+3]=ie,P[W+4]=De,P[W+5]=Ne,k[V]=Z,k[V+1]=ie,k[V+2]=Z,k[V+3]=Ne,k[V+4]=ie,k[V+5]=De,k[V+6]=De,k[V+7]=Ne,E.faceidx+=6,E.lineidx+=8)}}}o.drawSphere=x})(s||(s={}))},"./src/GLModel.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLModel:()=>f});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts"),l=r("./src/GLDraw.ts"),u=r("./src/glcartoon.ts"),v=r("./src/utilities.ts"),g=r("./src/Gradient.ts"),_=r("./src/parsers/index.ts"),y=r("./node_modules/netcdfjs/src/index.js"),w=r("./node_modules/pako/dist/pako.esm.mjs"),x=r("./src/parsers/utils/assignBonds.ts");class f{static sameObj(h,S){return h&&S?JSON.stringify(h)==JSON.stringify(S):h==S}constructor(h,S){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new s.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=o.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=S||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:o.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=h}getRadiusFromStyle(h,S){var C=this.defaultSphereRadius;if(typeof S.radius<"u")C=S.radius;else if(f.vdwRadii[h.elem])C=f.vdwRadii[h.elem];else if(h.elem.length>1){let M=h.elem;M=M[0].toUpperCase()+M[1].toLowerCase(),f.vdwRadii[M]&&(C=f.vdwRadii[M])}return typeof S.scale<"u"&&(C*=S.scale),C}drawAtomCross(h,S){if(h.style.cross){var C=h.style.cross;if(!C.hidden){var M=C.linewidth||f.defaultlineWidth;S[M]||(S[M]=new n.Geometry);var p=S[M].updateGeoGroup(6),c=this.getRadiusFromStyle(h,C),E=[[c,0,0],[-c,0,0],[0,c,0],[0,-c,0],[0,0,c],[0,0,-c]],D=h.clickable||h.hoverable;D&&h.intersectionShape===void 0&&(h.intersectionShape={sphere:[],cylinder:[],line:[]});for(var I=(0,v.getColorFromStyle)(h,C),O=p.vertexArray,P=p.colorArray,k=0;k<6;k++){var B=p.vertices*3;if(p.vertices++,O[B]=h.x+E[k][0],O[B+1]=h.y+E[k][1],O[B+2]=h.z+E[k][2],P[B]=I.r,P[B+1]=I.g,P[B+2]=I.b,D){var G=new s.Vector3(E[k][0],E[k][1],E[k][2]);G.multiplyScalar(.1),G.set(G.x+h.x,G.y+h.y,G.z+h.z),h.intersectionShape.line.push(G)}}}}}getGoodCross(h,S,C,M){for(var p=null,c=-1,E=0,D=h.bonds.length;E<D;E++)if(h.bonds[E]!=S.index){let O=h.bonds[E],P=this.atoms[O],B=new s.Vector3(P.x,P.y,P.z).clone();B.sub(C);let G=B.clone();G.cross(M);var I=G.lengthSq();if(I>c&&(c=I,p=G,c>.1))return p}return p}getSideBondV(h,S,C){var M,p,c,E,D,I=new s.Vector3(h.x,h.y,h.z),O=new s.Vector3(S.x,S.y,S.z),P=O.clone(),k=null;if(P.sub(I),h.bonds.length===1)S.bonds.length===1?(k=P.clone(),Math.abs(k.x)>1e-4?k.y+=1:k.x+=1):(M=(C+1)%S.bonds.length,p=S.bonds[M],c=this.atoms[p],E=new s.Vector3(c.x,c.y,c.z),D=E.clone(),D.sub(I),k=D.clone(),k.cross(P));else if(k=this.getGoodCross(h,S,I,P),k.lengthSq()<.01){var B=this.getGoodCross(S,h,I,P);B!=null&&(k=B)}return k.lengthSq()<.01&&(k=P.clone(),Math.abs(k.x)>1e-4?k.y+=1:k.x+=1),k.cross(P),k.normalize(),k}addLine(h,S,C,M,p,c){h[C]=M.x,h[C+1]=M.y,h[C+2]=M.z,S[C]=c.r,S[C+1]=c.g,S[C+2]=c.b,h[C+3]=p.x,h[C+4]=p.y,h[C+5]=p.z,S[C+3]=c.r,S[C+4]=c.g,S[C+5]=c.b}drawBondLines(h,S,C){if(h.style.line){var M=h.style.line;if(!M.hidden){var p,c,E,D,I=M.linewidth||f.defaultlineWidth;C[I]||(C[I]=new n.Geometry);for(var O=C[I].updateGeoGroup(6*h.bonds.length),P=O.vertexArray,k=O.colorArray,B=0;B<h.bonds.length;B++){var G=h.bonds[B],K=S[G];if(K.style.line&&!(h.index>=K.index)){var q=new s.Vector3(h.x,h.y,h.z),H=new s.Vector3(K.x,K.y,K.z),$=q.clone().add(H).multiplyScalar(.5),W=!1,V=h.clickable||h.hoverable,Z=K.clickable||K.hoverable;(V||Z)&&(V&&(h.intersectionShape===void 0&&(h.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),h.intersectionShape.line.push(q),h.intersectionShape.line.push($)),Z&&(K.intersectionShape===void 0&&(K.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),K.intersectionShape.line.push($),K.intersectionShape.line.push(H)));var Q=(0,v.getColorFromStyle)(h,h.style.line),ie=(0,v.getColorFromStyle)(K,K.style.line);if(h.bondStyles&&h.bondStyles[B]){var Ce=h.bondStyles[B];if(!Ce.iswire)continue;Ce.singleBond&&(W=!0),typeof Ce.color1<"u"&&(Q=o.CC.color(Ce.color1)),typeof Ce.color2<"u"&&(ie=o.CC.color(Ce.color2))}var De=O.vertices*3,Me,Ne;if(h.bondOrder[B]>1&&h.bondOrder[B]<4&&!W){var Te=this.getSideBondV(h,K,B),be=H.clone();be.sub(q),h.bondOrder[B]==2?(Te.multiplyScalar(.1),p=q.clone(),p.add(Te),c=q.clone(),c.sub(Te),E=p.clone(),E.add(be),D=c.clone(),D.add(be),Q==ie?(O.vertices+=4,this.addLine(P,k,De,p,E,Q),this.addLine(P,k,De+6,c,D,Q)):(O.vertices+=8,be.multiplyScalar(.5),Me=p.clone(),Me.add(be),Ne=c.clone(),Ne.add(be),this.addLine(P,k,De,p,Me,Q),this.addLine(P,k,De+6,Me,E,ie),this.addLine(P,k,De+12,c,Ne,Q),this.addLine(P,k,De+18,Ne,D,ie))):h.bondOrder[B]==3&&(Te.multiplyScalar(.1),p=q.clone(),p.add(Te),c=q.clone(),c.sub(Te),E=p.clone(),E.add(be),D=c.clone(),D.add(be),Q==ie?(O.vertices+=6,this.addLine(P,k,De,q,H,Q),this.addLine(P,k,De+6,p,E,Q),this.addLine(P,k,De+12,c,D,Q)):(O.vertices+=12,be.multiplyScalar(.5),Me=p.clone(),Me.add(be),Ne=c.clone(),Ne.add(be),this.addLine(P,k,De,q,$,Q),this.addLine(P,k,De+6,$,H,ie),this.addLine(P,k,De+12,p,Me,Q),this.addLine(P,k,De+18,Me,E,ie),this.addLine(P,k,De+24,c,Ne,Q),this.addLine(P,k,De+30,Ne,D,ie)))}else Q==ie?(O.vertices+=2,this.addLine(P,k,De,q,H,Q)):(O.vertices+=4,this.addLine(P,k,De,q,$,Q),this.addLine(P,k,De+6,$,H,ie))}}}}}drawAtomSphere(h,S){if(h.style.sphere){var C=h.style.sphere;if(!C.hidden){var M=(0,v.getColorFromStyle)(h,C),p=this.getRadiusFromStyle(h,C);if((h.clickable===!0||h.hoverable)&&h.intersectionShape!==void 0){var c=new s.Vector3(h.x,h.y,h.z);h.intersectionShape.sphere.push(new a.Sphere(c,p))}l.GLDraw.drawSphere(S,h,p,M)}}}drawAtomClickSphere(h){if(h.style.clicksphere){var S=h.style.clicksphere;if(!S.hidden){var C=this.getRadiusFromStyle(h,S);if((h.clickable===!0||h.hoverable)&&h.intersectionShape!==void 0){var M=new s.Vector3(h.x,h.y,h.z);h.intersectionShape.sphere.push(new a.Sphere(M,C))}}}}drawAtomInstanced(h,S){if(h.style.sphere){var C=h.style.sphere;if(!C.hidden){var M=this.getRadiusFromStyle(h,C),p=(0,v.getColorFromStyle)(h,C),c=S.updateGeoGroup(1),E=c.vertices,D=E*3,I=c.vertexArray,O=c.colorArray,P=c.radiusArray;if(I[D]=h.x,I[D+1]=h.y,I[D+2]=h.z,O[D]=p.r,O[D+1]=p.g,O[D+2]=p.b,P[E]=M,(h.clickable===!0||h.hoverable)&&h.intersectionShape!==void 0){var k=new s.Vector3(h.x,h.y,h.z);h.intersectionShape.sphere.push(new a.Sphere(k,M))}c.vertices+=1}}}drawSphereImposter(h,S,C,M){var p=h.updateGeoGroup(4),c,E=p.vertices,D=E*3,I=p.vertexArray,O=p.colorArray;for(c=0;c<4;c++)I[D+3*c]=S.x,I[D+3*c+1]=S.y,I[D+3*c+2]=S.z;var P=p.normalArray;for(c=0;c<4;c++)O[D+3*c]=M.r,O[D+3*c+1]=M.g,O[D+3*c+2]=M.b;P[D+0]=-C,P[D+1]=C,P[D+2]=0,P[D+3]=-C,P[D+4]=-C,P[D+5]=0,P[D+6]=C,P[D+7]=-C,P[D+8]=0,P[D+9]=C,P[D+10]=C,P[D+11]=0,p.vertices+=4;var k=p.faceArray,B=p.faceidx;k[B+0]=E,k[B+1]=E+1,k[B+2]=E+2,k[B+3]=E+2,k[B+4]=E+3,k[B+5]=E,p.faceidx+=6}drawAtomImposter(h,S){if(h.style.sphere){var C=h.style.sphere;if(!C.hidden){var M=this.getRadiusFromStyle(h,C),p=(0,v.getColorFromStyle)(h,C);if((h.clickable===!0||h.hoverable)&&h.intersectionShape!==void 0){var c=new s.Vector3(h.x,h.y,h.z);h.intersectionShape.sphere.push(new a.Sphere(c,M))}this.drawSphereImposter(S,h,M,p)}}}static drawStickImposter(h,S,C,M,p){for(var c=h.updateGeoGroup(4),E=c.vertices,D=E*3,I=c.vertexArray,O=c.colorArray,P=c.radiusArray,k=c.normalArray,B=p.r,G=p.g,K=p.b,q=function(Z){var Q=-Z;return Q==0&&(Q=-1e-4),Q},H=D,$=0;$<4;$++)I[H]=S.x,k[H]=C.x,O[H]=B,H++,I[H]=S.y,k[H]=C.y,O[H]=G,H++,I[H]=S.z,k[H]=C.z,$<2?O[H]=K:O[H]=q(K),H++;c.vertices+=4,P[E]=-M,P[E+1]=M,P[E+2]=-M,P[E+3]=M;var W=c.faceArray,V=c.faceidx;W[V+0]=E,W[V+1]=E+1,W[V+2]=E+2,W[V+3]=E+2,W[V+4]=E+3,W[V+5]=E,c.faceidx+=6}drawBondSticks(h,S,C){if(h.style.stick){var M=h.style.stick;if(!M.hidden){var p=M.radius||this.defaultStickRadius,c=p,E=M.singleBonds||!1,D=0,I=0,O,P,k,B,G,K,q,H,$,W,V,Z=(0,v.getColorFromStyle)(h,M),Q,ie,Ce;!h.capDrawn&&h.bonds.length<4&&(D=2);var De=l.GLDraw.drawCylinder;for(C.imposter&&(De=f.drawStickImposter),k=0;k<h.bonds.length;k++){var Me=h.bonds[k],Ne=S[Me];if(Q=ie=Ce=null,h.index<Ne.index){var Te=Ne.style;if(!Te.stick||Te.stick.hidden)continue;var be=(0,v.getColorFromStyle)(Ne,Te.stick);if(c=p,B=E,h.bondStyles&&h.bondStyles[k]){if(G=h.bondStyles[k],G.iswire)continue;G.radius&&(c=G.radius),G.singleBond&&(B=!0),typeof G.color1<"u"&&(Z=o.CC.color(G.color1)),typeof G.color2<"u"&&(be=o.CC.color(G.color2))}var Xe=new s.Vector3(h.x,h.y,h.z),$e=new s.Vector3(Ne.x,Ne.y,Ne.z);if(h.bondOrder[k]<=1||B||h.bondOrder[k]>3){if(h.bondOrder[k]<1&&(c*=h.bondOrder[k]),!Ne.capDrawn&&Ne.bonds.length<4&&(I=2),Z!=be?(Q=new s.Vector3().addVectors(Xe,$e).multiplyScalar(.5),De(C,Xe,Q,c,Z,D,0),De(C,Q,$e,c,be,0,I)):De(C,Xe,$e,c,Z,D,I),O=h.clickable||h.hoverable,P=Ne.clickable||Ne.hoverable,O||P){if(Q||(Q=new s.Vector3().addVectors(Xe,$e).multiplyScalar(.5)),O){var R=new a.Cylinder(Xe,Q,c),me=new a.Sphere(Xe,c);h.intersectionShape.cylinder.push(R),h.intersectionShape.sphere.push(me)}if(P){var ge=new a.Cylinder($e,Q,c),ne=new a.Sphere($e,c);Ne.intersectionShape.cylinder.push(ge),Ne.intersectionShape.sphere.push(ne)}}}else if(h.bondOrder[k]>1){var fe=0,ye=0;c!=p&&(fe=2,ye=2);var He=$e.clone(),Be=null;He.sub(Xe);var _e,Fe,Ge,Ve,Pe;Be=this.getSideBondV(h,Ne,k),h.bondOrder[k]==2?(_e=c/2.5,Be.multiplyScalar(_e*1.5),Fe=Xe.clone(),Fe.add(Be),Ge=Xe.clone(),Ge.sub(Be),Ve=Fe.clone(),Ve.add(He),Pe=Ge.clone(),Pe.add(He),Z!=be?(Q=new s.Vector3().addVectors(Fe,Ve).multiplyScalar(.5),ie=new s.Vector3().addVectors(Ge,Pe).multiplyScalar(.5),De(C,Fe,Q,_e,Z,fe,0),De(C,Q,Ve,_e,be,0,ye),De(C,Ge,ie,_e,Z,fe,0),De(C,ie,Pe,_e,be,0,ye)):(De(C,Fe,Ve,_e,Z,fe,ye),De(C,Ge,Pe,_e,Z,fe,ye)),O=h.clickable||h.hoverable,P=Ne.clickable||Ne.hoverable,(O||P)&&(Q||(Q=new s.Vector3().addVectors(Fe,Ve).multiplyScalar(.5)),ie||(ie=new s.Vector3().addVectors(Ge,Pe).multiplyScalar(.5)),O&&(K=new a.Cylinder(Fe,Q,_e),q=new a.Cylinder(Ge,ie,_e),h.intersectionShape.cylinder.push(K),h.intersectionShape.cylinder.push(q)),P&&($=new a.Cylinder(Ve,Q,_e),W=new a.Cylinder(Pe,ie,_e),Ne.intersectionShape.cylinder.push($),Ne.intersectionShape.cylinder.push(W)))):h.bondOrder[k]==3&&(_e=c/4,Be.cross(He),Be.normalize(),Be.multiplyScalar(_e*3),Fe=Xe.clone(),Fe.add(Be),Ge=Xe.clone(),Ge.sub(Be),Ve=Fe.clone(),Ve.add(He),Pe=Ge.clone(),Pe.add(He),Z!=be?(Q=new s.Vector3().addVectors(Fe,Ve).multiplyScalar(.5),ie=new s.Vector3().addVectors(Ge,Pe).multiplyScalar(.5),Ce=new s.Vector3().addVectors(Xe,$e).multiplyScalar(.5),De(C,Fe,Q,_e,Z,fe,0),De(C,Q,Ve,_e,be,0,ye),De(C,Xe,Ce,_e,Z,D,0),De(C,Ce,$e,_e,be,0,I),De(C,Ge,ie,_e,Z,fe,0),De(C,ie,Pe,_e,be,0,ye)):(De(C,Fe,Ve,_e,Z,fe,ye),De(C,Xe,$e,_e,Z,D,I),De(C,Ge,Pe,_e,Z,fe,ye)),O=h.clickable||h.hoverable,P=Ne.clickable||Ne.hoverable,(O||P)&&(Q||(Q=new s.Vector3().addVectors(Fe,Ve).multiplyScalar(.5)),ie||(ie=new s.Vector3().addVectors(Ge,Pe).multiplyScalar(.5)),Ce||(Ce=new s.Vector3().addVectors(Xe,$e).multiplyScalar(.5)),O&&(K=new a.Cylinder(Fe.clone(),Q.clone(),_e),q=new a.Cylinder(Ge.clone(),ie.clone(),_e),H=new a.Cylinder(Xe.clone(),Ce.clone(),_e),h.intersectionShape.cylinder.push(K),h.intersectionShape.cylinder.push(q),h.intersectionShape.cylinder.push(H)),P&&($=new a.Cylinder(Ve.clone(),Q.clone(),_e),W=new a.Cylinder(Pe.clone(),ie.clone(),_e),V=new a.Cylinder($e.clone(),Ce.clone(),_e),Ne.intersectionShape.cylinder.push($),Ne.intersectionShape.cylinder.push(W),Ne.intersectionShape.cylinder.push(V))))}}}var vt=!1,_t=0,le=!1;for(k=0;k<h.bonds.length;k++)B=E,h.bondStyles&&h.bondStyles[k]&&(G=h.bondStyles[k],G.singleBond&&(B=!0),G.radius&&G.radius!=p&&(le=!0)),(B||h.bondOrder[k]==1)&&_t++;le?_t>0&&(vt=!0):_t==0&&(h.bonds.length>0||M.showNonBonded)&&(vt=!0),vt&&(c=p,C.imposter?this.drawSphereImposter(C.sphereGeometry,h,c,Z):l.GLDraw.drawSphere(C,h,c,Z))}}}createMolObj(h,S){S=S||{};var C=new n.Object3D,M=[],p={},c={},E=this.drawAtomSphere,D=null,I=null;S.supportsImposters?(E=this.drawAtomImposter,D=new n.Geometry(!0),D.imposter=!0,I=new n.Geometry(!0,!0),I.imposter=!0,I.sphereGeometry=new n.Geometry(!0),I.sphereGeometry.imposter=!0,I.drawnCaps={}):S.supportsAIA?(E=this.drawAtomInstanced,D=new n.Geometry(!1,!0,!0),D.instanced=!0,I=new n.Geometry(!0)):(D=new n.Geometry(!0),I=new n.Geometry(!0));var O,P,k,B,G={},K=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(O=0,k=h.length;O<k;O++){var q=h[O];if(q&&q.style){(q.clickable||q.hoverable)&&q.intersectionShape===void 0&&(q.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),B={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(P in B)q.style[P]?q.style[P].opacity?B[P]=parseFloat(q.style[P].opacity):B[P]=1:B[P]=void 0,G[P]?B[P]!=null&&G[P]!=B[P]&&(console.log("Warning: "+P+" opacity is ambiguous"),G[P]=1):G[P]=B[P];E.call(this,q,D),this.drawAtomClickSphere(q),this.drawAtomCross(q,c),this.drawBondLines(q,h,p),this.drawBondSticks(q,h,I),typeof q.style.cartoon<"u"&&!q.style.cartoon.hidden&&(q.style.cartoon.color==="spectrum"&&typeof q.resi=="number"&&!q.hetflag&&(q.resi<K[0]&&(K[0]=q.resi),q.resi>K[1]&&(K[1]=q.resi)),M.push(q))}}if(M.length>0&&(0,u.drawCartoon)(C,M,K,this.defaultCartoonQuality),D&&D.vertices>0){D.initTypedArrays();var H=null,$=null;D.imposter?H=new n.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):D.instanced?($=new n.Geometry(!0),l.GLDraw.drawSphere($,{x:0,y:0,z:0},1,new o.Color(.5,.5,.5)),$.initTypedArrays(),H=new n.InstancedMaterial({sphereMaterial:new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:$})):H=new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),G.sphere<1&&G.sphere>=0&&(H.transparent=!0,H.opacity=G.sphere),$=new n.Mesh(D,H),C.add($)}if(I.vertices>0){var W=null,V=null,Z=I.sphereGeometry;(!Z||typeof Z.vertices>"u"||Z.vertices==0)&&(Z=null),I.initTypedArrays(),Z&&Z.initTypedArrays();var Q={ambient:0,vertexColors:!0,reflectivity:0};I.imposter?(W=new n.StickImposterMaterial(Q),V=new n.SphereImposterMaterial(Q)):(W=new n.MeshLambertMaterial(Q),V=new n.MeshLambertMaterial(Q),W.wireframe&&(I.setUpWireframe(),Z&&Z.setUpWireframe())),G.stick<1&&G.stick>=0&&(W.transparent=!0,W.opacity=G.stick,V.transparent=!0,V.opacity=G.stick);var ie=new n.Mesh(I,W);if(C.add(ie),Z){var Ce=new n.Mesh(Z,V);C.add(Ce)}}var De;for(O in p)if(p.hasOwnProperty(O)){De=O;var Me=new n.LineBasicMaterial({linewidth:De,vertexColors:!0});G.line<1&&G.line>=0&&(Me.transparent=!0,Me.opacity=G.line),p[O].initTypedArrays();var Ne=new n.Line(p[O],Me,n.LineStyle.LinePieces);C.add(Ne)}for(O in c)if(c.hasOwnProperty(O)){De=O;var Te=new n.LineBasicMaterial({linewidth:De,vertexColors:!0});G.cross<1&&G.cross>=0&&(Te.transparent=!0,Te.opacity=G.cross),c[O].initTypedArrays();var be=new n.Line(c[O],Te,n.LineStyle.LinePieces);C.add(be)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Xe=new n.Object3D,$e;for($e=0;$e<this.modelData.symmetries.length;$e++){var R=new n.Object3D;R=C.clone(),R.matrix.copy(this.modelData.symmetries[$e]),R.matrixAutoUpdate=!1,Xe.add(R)}return Xe}return C}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(h){this.atoms=h.atoms,this.frames=h.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){let h=this.modelData.cryst;this.modelData.cryst.matrix=(0,s.conversionMatrix3)(h.a,h.b,h.c,h.alpha,h.beta,h.gamma)}return this.modelData.cryst}else return null}setCrystData(h,S,C,M,p,c){h=h||1,S=S||1,C=C||1,M=M||90,p=p||90,c=c||90;let E=(0,s.conversionMatrix3)(h,S,C,M,p,c);this.modelData.cryst={a:h,b:S,c:C,alpha:M,beta:p,gamma:c,matrix:E}}setCrystMatrix(h){h=h||new s.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:h}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(h){typeof h>"u"?this.modelData.symmetries=[this.idMatrix]:this.modelData.symmetries=h}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(h,S,C,M){var p=S-h;return p<-C?S+M:p>C?S-M:S}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var h=this.box[0],S=this.box[1],C=this.box[2],M=h*.9,p=S*.9,c=C*.9,E=0;E<this.atomdfs.length;E++)for(var D=this.atomdfs[E],I=1;I<D.length;I++){var O=this.atoms[D[I][0]],P=this.atoms[D[I][1]];O.x=this.adjustCoord(P.x,O.x,M,h),O.y=this.adjustCoord(P.y,O.y,p,S),O.z=this.adjustCoord(P.z,O.z,c,C)}}setFrame(h,S){var C=this.getNumFrames();let M=this;return new Promise(function(p,c){if(C==0&&p(),(h<0||h>=C)&&(h=C-1),M.frames.url!=null){var E=M.frames.url;(0,v.getbin)(E+"/traj/frame/"+h+"/"+M.frames.path,void 0,"POST",void 0).then(function(D){for(var I=new Float32Array(D,44),O=0,P=0;P<M.atoms.length;P++)M.atoms[P].x=I[O++],M.atoms[P].y=I[O++],M.atoms[P].z=I[O++];M.box&&M.atomdfs&&M.adjustCoordinatesToBox(),p()}).catch(c)}else M.atoms=M.frames[h],p();M.molObj=null,M.modelDatas&&h<M.modelDatas.length&&(M.modelData=M.modelDatas[h],M.unitCellObjects&&S&&(S.removeUnitCell(M),S.addUnitCell(M)))})}addFrame(h){this.frames.push(h)}vibrate(h=10,S=1,C=!1,M,p){var c=0,E=h;C&&(c=-h,E=h),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),c<E&&(this.frames=[]),C&&(this.frames.origIndex=h);for(var D=c;D<E;D++){var I=[],O=this.frames.length;if(D==0&&!p){this.frames.push(this.atoms);continue}for(var P=0;P<this.atoms.length;P++){var k=(0,v.getAtomProperty)(this.atoms[P],"dx"),B=(0,v.getAtomProperty)(this.atoms[P],"dy"),G=(0,v.getAtomProperty)(this.atoms[P],"dz"),K=new s.Vector3(k,B,G),q=new s.Vector3(this.atoms[P].x,this.atoms[P].y,this.atoms[P].z),H=D*S/h;K.multiplyScalar(H),q.add(K);var $={};for(var W in this.atoms[P])$[W]=this.atoms[P][W];if($.x=q.x,$.y=q.y,$.z=q.z,I.push($),M&&p){var V=(0,v.extend)({},p),Z=new s.Vector3(k,B,G);if(Z.multiplyScalar(S),Z.add(q),V.start=q,V.end=Z,V.frame=O,!V.color){var Q=$.style.sphere;Q||(Q=$.style.stick),Q||(Q=$.style.line),V.color=(0,v.getColorFromStyle)($,Q)}M.addArrow(V)}}this.frames.push(I)}}setAtomDefaults(h){for(let S=0;S<h.length;S++){let C=h[S];C&&(C.style=C.style||(0,v.deepCopy)(f.defaultAtomStyle),C.color=C.color||this.ElementColors[C.elem]||this.defaultColor,C.model=this.id,(C.clickable||C.hoverable)&&(C.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(h,S,C={}){var M=f.parseMolData(h,S,C);this.dontDuplicateAtoms=!C.duplicateAssemblyAtoms;var p=M.modelData;if(p&&(Array.isArray(p)?(this.modelData=p[0],C.frames&&(this.modelDatas=p)):this.modelData=p),M.box?this.box=M.box:this.box=null,this.frames.length==0){for(let E=0;E<M.length;E++)M[E].length!=0&&this.frames.push(M[E]);this.frames[0]&&(this.atoms=this.frames[0])}else if(C.frames)for(let E=0;E<M.length;E++)this.frames.push(M[E]);else for(var c=0;c<M.length;c++)this.addAtoms(M[c]);for(let E=0;E<this.frames.length;E++)this.setAtomDefaults(this.frames[E]);C.vibrate&&C.vibrate.frames&&C.vibrate.amplitude&&this.vibrate(C.vibrate.frames,C.vibrate.amplitude),C.style&&this.setStyle({},C.style)}setDontDuplicateAtoms(h){this.dontDuplicateAtoms=h}setModelData(h){this.modelData=h}propertyMatches(h,S){if(h==S)return!0;if(typeof S=="string"&&typeof h=="number"){var C=S.match(/(-?\d+)\s*-\s*(-?\d+)/);if(C){var M=parseInt(C[1]),p=parseInt(C[2]);if(C&&h>=M&&h<=p)return!0}}return!1}static deepCopyAndCache(h,S){if(typeof h!="object"||h==null||h.__cache_created)return h;let C={};for(let M in h){let p=h[M];if(Array.isArray(p)){C[M]=[];for(let c=0;c<p.length;c++)C[M].push(f.deepCopyAndCache(p[c],S))}else typeof p=="object"&&M!="properties"&&M!="model"?C[M]=f.deepCopyAndCache(p,S):C[M]=p;if(M=="and"||M=="or"){let c=[];for(let E of C[M]){let D=new Set;for(let I of S.selectedAtoms(E))D.add(I.index);c.push(D)}if(M=="and"){let E=function(I,O){let P=new Set;for(let k of O)I.has(k)&&P.add(k);return P},D=new Set(c[0]);for(let I of c.splice(1))D=E(D,I);C[M].__cached_results=D}else if(M=="or"){let E=new Set;for(let D of c)for(let I of D)E.add(I);C[M].__cached_results=E}}}return C.__cache_created=!0,C}atomIsSelected(h,S){if(typeof S>"u")return!0;var C=!!S.invert,M=!0;for(var p in S)if(p=="and"||p=="or"||p=="not"){if(p=="not"){if(this.atomIsSelected(h,S[p])){M=!1;break}}else if(S[p].__cached_results===void 0&&(S=f.deepCopyAndCache(S,this)),M=S[p].__cached_results.has(h.index),!M)break}else if(p==="predicate"){if(!S.predicate(h)){M=!1;break}}else if(p=="properties"&&h[p]){for(var c in S.properties)if(!c.startsWith("__cache")){if(typeof h.properties[c]>"u"){M=!1;break}if(h.properties[c]!=S.properties[c]){M=!1;break}}}else if(S.hasOwnProperty(p)&&p!="props"&&p!="invert"&&p!="model"&&p!="byres"&&p!="expand"&&p!="within"&&p!="and"&&p!="or"&&p!="not"&&!p.startsWith("__cache")){if(typeof h[p]>"u"){M=!1;break}var E=!1;if(p==="bonds"){var D=S[p];if(D!=h.bonds.length){M=!1;break}}else if(Array.isArray(S[p])){var I=S[p],O=h[p];for(let P=0;P<I.length;P++)if(this.propertyMatches(O,I[P])){E=!0;break}if(!E){M=!1;break}}else{let P=S[p];if(!this.propertyMatches(h[p],P)){M=!1;break}}}return C?!M:M}static squaredDistance(h,S){var C=S.x-h.x,M=S.y-h.y,p=S.z-h.z;return C*C+M*M+p*p}expandAtomList(h,S){if(S<=0)return h;for(var C=(0,v.getExtent)(h,void 0),M=[[],[],[]],p=0;p<3;p++)M[0][p]=C[0][p]-S,M[1][p]=C[1][p]+S,M[2][p]=C[2][p];var c=[];for(let O=0;O<this.atoms.length;O++){var E=this.atoms[O].x,D=this.atoms[O].y,I=this.atoms[O].z;E>=M[0][0]&&E<=M[1][0]&&D>=M[0][1]&&D<=M[1][1]&&I>=M[0][2]&&I<=M[1][2]&&(E>=C[0][0]&&E<=C[1][0]&&D>=C[0][1]&&D<=C[1][1]&&I>=C[0][2]&&I<=C[1][2]||c.push(this.atoms[O]))}return c}static getFloat(h){return typeof h=="number"?h:parseFloat(h)}selectedAtoms(h,S){var C=[];h=f.deepCopyAndCache(h||{},this),S||(S=this.atoms);for(var M=S.length,p=0;p<M;p++){var c=S[p];c&&this.atomIsSelected(c,h)&&C.push(c)}if(h.hasOwnProperty("expand")){let $=f.getFloat(h.expand),W=this.expandAtomList(C,$),V=C.length,Z=$*$;for(let Q=0;Q<W.length;Q++)for(let ie=0;ie<V;ie++){var E=f.squaredDistance(W[Q],C[ie]);E<Z&&E>0&&C.push(W[Q])}}if(h.hasOwnProperty("within")&&h.within.hasOwnProperty("sel")&&h.within.hasOwnProperty("distance")){var D=this.selectedAtoms(h.within.sel,this.atoms),I={};let $=f.getFloat(h.within.distance),W=$*$;for(let V=0;V<D.length;V++)for(let Z=0;Z<C.length;Z++){let Q=f.squaredDistance(D[V],C[Z]);Q<W&&Q>0&&(I[Z]=1)}var O=[];if(h.within.invert)for(let V=0;V<C.length;V++)I[V]||O.push(C[V]);else for(let V in I)O.push(C[V]);C=O}if(h.hasOwnProperty("byres")){var P={},k=[],B=[];for(let $=0;$<C.length;$++){let W=C[$];var G=W.chain,K=W.resi;if(P[G]===void 0&&(P[G]={}),W.hasOwnProperty("resi")&&P[G][K]===void 0){for(P[G][K]=!0,B.push(W);B.length>0;)if(W=B.pop(),G=W.chain,K=W.resi,k[W.index]===void 0){k[W.index]=!0;for(var q=0;q<W.bonds.length;q++){var H=this.atoms[W.bonds[q]];k[H.index]===void 0&&H.hasOwnProperty("resi")&&H.chain==G&&H.resi==K&&(B.push(H),C.push(H))}}}}}return C}addAtoms(h){this.molObj=null;var S=this.atoms.length,C=[],M;for(M=0;M<h.length;M++)typeof h[M].index>"u"&&(h[M].index=M),typeof h[M].serial>"u"&&(h[M].serial=M),C[h[M].index]=S+M;for(M=0;M<h.length;M++){var p=h[M],c=C[p.index],E=(0,v.extend)({},p);E.index=c,E.bonds=[],E.bondOrder=[],E.model=this.id,E.style=E.style||(0,v.deepCopy)(f.defaultAtomStyle),typeof E.color>"u"&&(E.color=this.ElementColors[E.elem]||this.defaultColor);for(var D=p.bonds?p.bonds.length:0,I=0;I<D;I++){var O=C[p.bonds[I]];typeof O<"u"&&(E.bonds.push(O),E.bondOrder.push(p.bondOrder?p.bondOrder[I]:1))}this.atoms.push(E)}}assignBonds(){(0,x.assignBonds)(this.atoms)}removeAtoms(h){this.molObj=null;var S=[],C;for(C=0;C<h.length;C++)S[h[C].index]=!0;var M=[];for(C=0;C<this.atoms.length;C++){var p=this.atoms[C];S[p.index]||M.push(p)}this.atoms=[],this.addAtoms(M)}setStyle(h,S,C){typeof S>"u"&&typeof C>"u"&&(S=h,h={}),typeof S=="string"&&(S=(0,v.specStringToObject)(S));var M=!1,p=this,c=function(D){var I=p.selectedAtoms(h,D);for(let O=0;O<D.length;O++)D[O]&&(D[O].capDrawn=!1);for(let O=0;O<I.length;O++){M=!0,(I[O].clickable||I[O].hoverable)&&(I[O].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),C||(I[O].style={});for(let P in S)S.hasOwnProperty(P)&&(I[O].style[P]=I[O].style[P]||{},Object.assign(I[O].style[P],S[P]))}};c(this.atoms);for(var E=0;E<this.frames.length;E++)this.frames[E]!==this.atoms&&c(this.frames[E]);M&&(this.molObj=null)}setClickable(h,S,C){if(S=!!S,C=(0,v.makeFunction)(C),C===null){console.log("Callback is not a function");return}var M=this.selectedAtoms(h,this.atoms),p=M.length;for(let c=0;c<p;c++)M[c].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},M[c].clickable=S,C&&(M[c].callback=C);p>0&&(this.molObj=null)}setHoverable(h,S,C,M){if(S=!!S,C=(0,v.makeFunction)(C),M=(0,v.makeFunction)(M),C===null){console.log("Hover_callback is not a function");return}if(M===null){console.log("Unhover_callback is not a function");return}var p=this.selectedAtoms(h,this.atoms),c=p.length;for(let E=0;E<c;E++)p[E].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},p[E].hoverable=S,C&&(p[E].hover_callback=C),M&&(p[E].unhover_callback=M);c>0&&(this.molObj=null)}enableContextMenu(h,S){S=!!S;var C,M=this.selectedAtoms(h,this.atoms),p=M.length;for(C=0;C<p;C++)M[C].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},M[C].contextMenuEnabled=S;p>0&&(this.molObj=null)}setColorByElement(h,S){if(!(this.molObj!==null&&f.sameObj(S,this.lastColors))){this.lastColors=S;var C=this.selectedAtoms(h,C);C.length>0&&(this.molObj=null);for(var M=0;M<C.length;M++){var p=C[M];typeof S[p.elem]<"u"&&(p.color=S[p.elem])}}}setColorByProperty(h,S,C,M){var p,c,E=this.selectedAtoms(h,E);for(this.lastColors=null,E.length>0&&(this.molObj=null),typeof C=="string"&&typeof g.Gradient.builtinGradients[C]<"u"&&(C=new g.Gradient.builtinGradients[C]),C=C,M||(M=C.range()),M||(M=(0,v.getPropertyRange)(E,S)),p=0;p<E.length;p++){c=E[p];var D=(0,v.getAtomProperty)(c,S);D!=null&&(c.color=C.valueToHex(parseFloat(c.properties[S]),M))}}setColorByFunction(h,S){var C=this.selectedAtoms(h,C);if(typeof S=="function"){this.lastColors=null,C.length>0&&(this.molObj=null);for(let M=0;M<C.length;M++){let p=C[M];p.color=S(p)}}}toCDObject(h=!1){var S={a:[],b:[]};h&&(S.s=[]);for(let M=0;M<this.atoms.length;M++){let p={},c=this.atoms[M];if(p.x=c.x,p.y=c.y,p.z=c.z,c.elem!="C"&&(p.l=c.elem),h){for(var C=0;C<S.s.length&&JSON.stringify(c.style)!==JSON.stringify(S.s[C]);)C++;C===S.s.length&&S.s.push(c.style),C!==0&&(p.s=C)}S.a.push(p);for(let E=0;E<c.bonds.length;E++){let D=M,I=c.bonds[E];if(D>=I)continue;let O={b:D,e:I},P=c.bondOrder[E];P!=1&&(O.o=P),S.b.push(O)}}return S}globj(h,S){(this.molObj===null||S.regen)&&(this.molObj=this.createMolObj(this.atoms,S),this.renderedMolObj&&(h.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),h.add(this.renderedMolObj))}exportVRML(){var h=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return h.vrml()}removegl(h){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),h.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(h,S,C,M){for(var p=this.selectedAtoms(S,p),c=(0,v.deepCopy)(M),E=0;E<p.length;E++){var D=p[E],I=null;typeof D[h]<"u"?I=String(D[h]):typeof D.properties[h]<"u"&&(I=String(D.properties[h])),I!=null&&(c.position=D,C.addLabel(I,c))}}addResLabels(h,S,C,M=!1){var p=[],c=function(D,I){for(var O=D.selectedAtoms(h,O),P={},k=0;k<O.length;k++){var B=O[k],G=B.chain,K=B.resn,q=B.resi,H=K+""+q;P[G]||(P[G]={}),P[G][H]||(P[G][H]=[]),P[G][H].push(B)}var $=(0,v.deepCopy)(C);for(let V in P)if(P.hasOwnProperty(V)){var W=P[V];for(let Z in W)if(W.hasOwnProperty(Z)){let Q=W[Z],ie=new s.Vector3(0,0,0);for(let De=0;De<Q.length;De++){let Me=Q[De];ie.x+=Me.x,ie.y+=Me.y,ie.z+=Me.z}ie.divideScalar(Q.length),$.position=ie,$.frame=I;let Ce=S.addLabel(Z,$,void 0,!0);p.push(Ce)}}};if(M){var E=this.getNumFrames();let D=this.atoms;for(let I=0;I<E;I++)this.frames[I]&&(this.atoms=this.frames[I],c(this,I));this.atoms=D}else c(this);return p}setupDFS(){this.atomdfs=[];var h=this,S=new Int8Array(this.atoms.length);S.fill(0);for(var C=function(E,D,I){I.push([E,D]);var O=h.atoms[E];S[E]=1;for(var P=0;P<O.bonds.length;P++){var k=O.bonds[P];h.atoms[k]&&!S[k]&&C(k,E,I)}},M=0;M<this.atoms.length;M++){var p=this.atoms[M];if(p&&!S[M]){var c=[];C(M,-1,c),this.atomdfs.push(c)}}}setCoordinatesFromURL(h,S){this.frames=[];var C=this;return this.box&&this.setupDFS(),h.startsWith("http")||(h="http://"+h),(0,v.get)(h+"/traj/numframes/"+S,function(M){if(!isNaN(parseInt(M)))return C.frames.push(C.atoms),C.frames.numFrames=M,C.frames.url=h,C.frames.path=S,C.setFrame(0)})}setCoordinates(h,S){if(S=S||"",!h)return[];if(/\.gz$/.test(S)){S=S.replace(/\.gz$/,"");try{h=(0,w.inflate)(h,{to:"string"})}catch(P){console.log(P)}}var C={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(C.hasOwnProperty(S)){this.frames=[];for(var M=this.atoms.length,p=f.parseCrd(h,S),c=0;c<p.length;){for(var E=[],D=0;D<M;D++){var I={};for(var O in this.atoms[D])I[O]=this.atoms[D][O];E[D]=I,E[D].x=p[c++],E[D].y=p[c++],E[D].z=p[c++]}this.frames.push(E)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(h){}static parseCrd(h,S){var C=[],M=0;if(S=="pdb")for(var p=h.indexOf(`
ATOM`);p!=-1;){for(;h.slice(p,p+5)==`
ATOM`||h.slice(p,p+7)==`
HETATM`;)C[M++]=parseFloat(h.slice(p+31,p+39)),C[M++]=parseFloat(h.slice(p+39,p+47)),C[M++]=parseFloat(h.slice(p+47,p+55)),p=h.indexOf(`
`,p+54),h.slice(p,p+4)==`
TER`&&(p=h.indexOf(`
`,p+5));p=h.indexOf(`
ATOM`,p)}else if(S=="netcdf"){var c=new y.NetCDFReader(h);C=[].concat.apply([],c.getDataVariable("coordinates"))}else{if(S=="array"||Array.isArray(h))return h.flat(2);{let E=h.indexOf(`
`);S=="inpcrd"&&(E=h.indexOf(`
`,E+1)),h=h.slice(E+1),C=h.match(/\S+/g).map(parseFloat)}}return C}static parseMolData(h,S="",C){if(!h)return[];if(/\.gz$/.test(S)){S=S.replace(/\.gz$/,"");try{h=(0,w.inflate)(h,{to:"string"})}catch(c){console.log(c)}}typeof _.Parsers[S]>"u"&&(S=S.split(".").pop(),typeof _.Parsers[S]>"u"&&(console.log("Unknown format: "+S),h instanceof Uint8Array?S="mmtf":h.match(/^@<TRIPOS>MOLECULE/gm)?S="mol2":h.match(/^data_/gm)&&h.match(/^loop_/gm)?S="cif":h.match(/^HETATM/gm)||h.match(/^ATOM/gm)?S="pdb":h.match(/ITEM: TIMESTEP/gm)?S="lammpstrj":h.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?S="sdf":h.match(/^%VERSION\s+VERSION_STAMP/gm)?S="prmtop":S="xyz",console.log("Best guess: "+S)));var M=_.Parsers[S],p=M(h,C);return p}}f.defaultAtomStyle={line:{}},f.defaultlineWidth=1,f.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86}},"./src/GLShape.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLShape:()=>y,splitMesh:()=>w});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts"),l=r("./src/ProteinSurface4.ts"),u=r("./src/VolumeData.ts"),v=r("./src/GLDraw.ts"),g=r("./src/glcartoon.ts"),_=r("./src/utilities.ts");class y{static finalizeGeo(f){var b=f.updateGeoGroup(0);b.vertices>0&&b.truncateArrayBuffers(!0,!0)}static updateColor(f,b){b=b||o.CC.color(b),f.colorsNeedUpdate=!0;var h,S,C;b.constructor!==Array&&(h=b.r,S=b.g,C=b.b);for(let M in f.geometryGroups){let p=f.geometryGroups[M],c=p.colorArray;for(let E=0,D=p.vertices;E<D;++E){if(b.constructor===Array){let I=b[E];h=I.r,S=I.g,C=I.b}c[E*3]=h,c[E*3+1]=S,c[E*3+2]=C}}}static drawArrow(f,b,h){var S=h.start,C=h.end,M=h.radius,p=h.radiusRatio,c=h.mid,E=h.midpos;if(!(S&&C))return;var D=b.updateGeoGroup(51),I=new s.Vector3(C.x,C.y,C.z).sub(S);if(E){let Le=I.length();E>0?c=E/Le:c=(Le+E)/Le}I.multiplyScalar(c);var O=new s.Vector3(S.x,S.y,S.z).add(I),P=I.clone().negate();let k=new s.Vector3(S.x,S.y,S.z);f.intersectionShape.cylinder.push(new a.Cylinder(k,O.clone(),M)),f.intersectionShape.sphere.push(new a.Sphere(k,M));var B=[];B[0]=I.clone(),Math.abs(B[0].x)>1e-4?B[0].y+=1:B[0].x+=1,B[0].cross(I),B[0].normalize(),B[4]=B[0].clone(),B[4].crossVectors(B[0],I),B[4].normalize(),B[8]=B[0].clone().negate(),B[12]=B[4].clone().negate(),B[2]=B[0].clone().add(B[4]).normalize(),B[6]=B[4].clone().add(B[8]).normalize(),B[10]=B[8].clone().add(B[12]).normalize(),B[14]=B[12].clone().add(B[0]).normalize(),B[1]=B[0].clone().add(B[2]).normalize(),B[3]=B[2].clone().add(B[4]).normalize(),B[5]=B[4].clone().add(B[6]).normalize(),B[7]=B[6].clone().add(B[8]).normalize(),B[9]=B[8].clone().add(B[10]).normalize(),B[11]=B[10].clone().add(B[12]).normalize(),B[13]=B[12].clone().add(B[14]).normalize(),B[15]=B[14].clone().add(B[0]).normalize();var G=D.vertices,K=D.vertexArray,q=D.faceArray,H=D.normalArray,$=D.lineArray,W,V,Z;for(V=0,Z=B.length;V<Z;++V){W=3*(G+3*V);var Q=B[V].clone().multiplyScalar(M).add(S),ie=B[V].clone().multiplyScalar(M).add(O),Ce=B[V].clone().multiplyScalar(M*p).add(O);if(K[W]=Q.x,K[W+1]=Q.y,K[W+2]=Q.z,K[W+3]=ie.x,K[W+4]=ie.y,K[W+5]=ie.z,K[W+6]=Ce.x,K[W+7]=Ce.y,K[W+8]=Ce.z,V>0){var De=K[W-3],Me=K[W-2],Ne=K[W-1],Te=new s.Vector3(De,Me,Ne),be=new s.Vector3(C.x,C.y,C.z),Xe=O.clone(),$e=new s.Vector3(Ce.x,Ce.y,Ce.z);f.intersectionShape.triangle.push(new a.Triangle($e,be,Te)),f.intersectionShape.triangle.push(new a.Triangle(Te.clone(),Xe,$e.clone()))}}D.vertices+=48,W=D.vertices*3,K[W]=S.x,K[W+1]=S.y,K[W+2]=S.z,K[W+3]=O.x,K[W+4]=O.y,K[W+5]=O.z,K[W+6]=C.x,K[W+7]=C.y,K[W+8]=C.z,D.vertices+=3;var R,me,ge,ne,fe,ye,He,Be,_e,Fe,Ge,Ve,Pe,vt,_t,le,ue,ve,Ke,ke=D.vertices-3,rt=D.vertices-2,st=D.vertices-1,ae=ke*3,Ue=rt*3,Je=st*3;for(V=0,Z=B.length-1;V<Z;++V){var ct=G+3*V;W=ct*3,me=D.faceidx,ge=D.lineidx,ne=ct,Fe=ne*3,fe=ct+1,Ge=fe*3,ye=ct+2,Ve=ye*3,He=ct+4,Pe=He*3,Be=ct+5,vt=Be*3,_e=ct+3,_t=_e*3,le=ue=B[V],ve=Ke=B[V+1],H[Fe]=le.x,H[Ge]=ue.x,H[_t]=Ke.x,H[Fe+1]=le.y,H[Ge+1]=ue.y,H[_t+1]=Ke.y,H[Fe+2]=le.z,H[Ge+2]=ue.z,H[_t+2]=Ke.z,H[Ge]=ue.x,H[Pe]=ve.x,H[_t]=Ke.x,H[Ge+1]=ue.y,H[Pe+1]=ve.y,H[_t+1]=Ke.y,H[Ge+2]=ue.z,H[Pe+2]=ve.z,H[_t+2]=Ke.z,H[Ve]=ue.x,H[vt]=ve.x,H[Ve+1]=ue.y,H[vt+1]=ve.y,H[Ve+2]=ue.z,H[vt+2]=ve.z,q[me]=ne,q[me+1]=fe,q[me+2]=_e,q[me+3]=fe,q[me+4]=He,q[me+5]=_e,q[me+6]=ne,q[me+7]=_e,q[me+8]=ke,q[me+9]=ye,q[me+10]=rt,q[me+11]=Be,q[me+12]=ye,q[me+13]=st,q[me+14]=Be,$[ge]=ne,$[ge+1]=fe,$[ge+2]=ne,$[ge+3]=_e,$[ge+4]=He,$[ge+5]=_e,$[ge+6]=ne,$[ge+7]=_e,$[ge+8]=ye,$[ge+9]=fe,$[ge+10]=ye,$[ge+11]=Be,$[ge+12]=He,$[ge+13]=Be,$[ge+14]=ye,$[ge+15]=st,$[ge+16]=ye,$[ge+17]=Be,$[ge+18]=st,$[ge+19]=Be,D.faceidx+=15,D.lineidx+=20}R=[G+45,G+46,G+1,G,G+47,G+2],me=D.faceidx,ge=D.lineidx,ne=R[0],Fe=ne*3,fe=R[1],Ge=fe*3,ye=R[4],Ve=ye*3,He=R[2],Pe=He*3,Be=R[5],vt=Be*3,_e=R[3],_t=_e*3,le=ue=B[15],ve=Ke=B[0],H[Fe]=le.x,H[Ge]=ue.x,H[_t]=Ke.x,H[Fe+1]=le.y,H[Ge+1]=ue.y,H[_t+1]=Ke.y,H[Fe+2]=le.z,H[Ge+2]=ue.z,H[_t+2]=Ke.z,H[Ge]=ue.x,H[Pe]=ve.x,H[_t]=Ke.x,H[Ge+1]=ue.y,H[Pe+1]=ve.y,H[_t+1]=Ke.y,H[Ge+2]=ue.z,H[Pe+2]=ve.z,H[_t+2]=Ke.z,H[Ve]=ue.x,H[vt]=ve.x,H[Ve+1]=ue.y,H[vt+1]=ve.y,H[Ve+2]=ue.z,H[vt+2]=ve.z,I.normalize(),P.normalize(),H[ae]=P.x,H[Ue]=H[Je]=I.x,H[ae+1]=P.y,H[Ue+1]=H[Je+1]=I.y,H[ae+2]=P.z,H[Ue+2]=H[Je+2]=I.z,q[me]=ne,q[me+1]=fe,q[me+2]=_e,q[me+3]=fe,q[me+4]=He,q[me+5]=_e,q[me+6]=ne,q[me+7]=_e,q[me+8]=ke,q[me+9]=ye,q[me+10]=rt,q[me+11]=Be,q[me+12]=ye,q[me+13]=st,q[me+14]=Be,$[ge]=ne,$[ge+1]=fe,$[ge+2]=ne,$[ge+3]=_e,$[ge+4]=He,$[ge+5]=_e,$[ge+6]=ne,$[ge+7]=_e,$[ge+8]=ye,$[ge+9]=fe,$[ge+10]=ye,$[ge+11]=Be,$[ge+12]=He,$[ge+13]=Be,$[ge+14]=ye,$[ge+15]=st,$[ge+16]=ye,$[ge+17]=Be,$[ge+18]=st,$[ge+19]=Be,D.faceidx+=15,D.lineidx+=20}static updateBoundingFromPoints(f,b,h,S){f.center.set(0,0,0);let C=1/0,M=1/0,p=1/0,c=-1/0,E=-1/0,D=-1/0;f.box&&(C=f.box.min.x,c=f.box.max.x,M=f.box.min.y,E=f.box.max.y,p=f.box.min.z,D=f.box.max.z);for(let k=0,B=S;k<B;k++){var I=h[k*3],O=h[k*3+1],P=h[k*3+2];I<C&&(C=I),O<M&&(M=O),P<p&&(p=P),I>c&&(c=I),O>E&&(E=O),P>D&&(D=P)}f.center.set((c+C)/2,(E+M)/2,(D+p)/2),f.radius=f.center.distanceTo({x:c,y:E,z:D}),f.box={min:{x:C,y:M,z:p},max:{x:c,y:E,z:D}}}static addCustomGeo(f,b,h,S,C){var M=b.addGeoGroup(),p=h.vertexArr,c=h.normalArr,E=h.faceArr;M.vertices=p.length,M.faceidx=E.length;var D,I,O,P,k,B,G,K,q,H=M.vertexArray,$=M.colorArray;for(S.constructor!==Array&&(K=S.r,q=S.g,P=S.b),B=0,G=M.vertices;B<G;++B)D=B*3,I=p[B],H[D]=I.x,H[D+1]=I.y,H[D+2]=I.z,S.constructor===Array&&(k=S[B],K=k.r,q=k.g,P=k.b),$[D]=K,$[D+1]=q,$[D+2]=P;if(C)for(B=0,G=M.faceidx/3;B<G;++B){D=B*3,O=E[D],P=E[D+1],k=E[D+2];var W=new s.Vector3,V=new s.Vector3,Z=new s.Vector3;f.intersectionShape.triangle.push(new a.Triangle(W.copy(p[O]),V.copy(p[P]),Z.copy(p[k])))}if(C){var Q=new s.Vector3(0,0,0),ie=0;for(let Me=0;Me<b.geometryGroups.length;Me++)Q.add(b.geometryGroups[Me].getCentroid()),ie++;Q.divideScalar(ie),y.updateBoundingFromPoints(f.boundingSphere,{centroid:Q},H,M.vertices)}if(M.faceArray=new Uint16Array(E),M.truncateArrayBuffers(!0,!0),c.length<M.vertices)M.setNormals();else{var Ce=M.normalArray=new Float32Array(M.vertices*3),De;for(B=0,G=M.vertices;B<G;++B)D=B*3,De=c[B],Ce[D]=De.x,Ce[D+1]=De.y,Ce[D+2]=De.z}M.setLineIndices(),M.lineidx=M.lineArray.length}static updateFromStyle(f,b){typeof b.color<"u"?(f.color=b.color||new o.Color,b.color instanceof o.Color||(f.color=o.CC.color(b.color))):f.color=o.CC.color(0),f.wireframe=!!b.wireframe,f.opacity=b.alpha?(0,s.clamp)(b.alpha,0,1):1,typeof b.opacity<"u"&&(f.opacity=(0,s.clamp)(b.opacity,0,1)),f.side=b.side!==void 0?b.side:n.DoubleSide,f.linewidth=typeof b.linewidth>"u"?1:b.linewidth,f.clickable=!!b.clickable,f.callback=(0,_.makeFunction)(b.callback),f.hoverable=!!b.hoverable,f.hover_callback=(0,_.makeFunction)(b.hover_callback),f.unhover_callback=(0,_.makeFunction)(b.unhover_callback),f.hidden=b.hidden,f.frame=b.frame}constructor(f){this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.side=n.DoubleSide,this.stylespec=f||{},this.boundingSphere=new a.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},y.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new n.Geometry(!0),this.linegeo=new n.Geometry(!0)}updateStyle(f){for(var b in f)this.stylespec[b]=f[b];if(y.updateFromStyle(this,this.stylespec),f.voldata&&f.volscheme){(0,_.adjustVolumeStyle)(f);let h=f.volscheme,S=f.voldata,C=o.CC,M=h.range()||[-1,1];this.geo.setColors(function(p,c,E){let D=S.getVal(p,c,E);return C.color(h.valueToHex(D,M))}),delete this.color}}addCustom(f){f.vertexArr=f.vertexArr||[],f.faceArr=f.faceArr||[],f.normalArr=f.normalArr||[],y.drawCustom(this,this.geo,f)}addSphere(f){f.center||(f.center=new s.Vector3(0,0,0)),f.radius=f.radius?(0,s.clamp)(f.radius,0,1/0):1.5,f.color=o.CC.color(f.color),this.intersectionShape.sphere.push(new a.Sphere(f.center,f.radius)),v.GLDraw.drawSphere(this.geo,f.center,f.radius,f.color,f.quality),this.components.push({centroid:new s.Vector3(f.center.x,f.center.y,f.center.z)});var b=this.geo.updateGeoGroup(0);y.updateBoundingFromPoints(this.boundingSphere,this.components,b.vertexArray,b.vertices)}addBox(f){var b=f.dimensions||{w:1,h:1,d:1},h;typeof b.w=="number"?h={x:b.w,y:0,z:0}:h=b.w;var S;typeof b.h=="number"?S={x:0,y:b.h,z:0}:S=b.h;var C;typeof b.d=="number"?C={x:0,y:0,z:b.d}:C=b.d;var M=f.corner;M==null&&(f.center!==void 0?M={x:f.center.x-.5*(h.x+S.x+C.x),y:f.center.y-.5*(h.y+S.y+C.y),z:f.center.z-.5*(h.z+S.z+C.z)}:M={x:0,y:0,z:0});var p=[{x:M.x,y:M.y,z:M.z},{x:M.x+h.x,y:M.y+h.y,z:M.z+h.z},{x:M.x+S.x,y:M.y+S.y,z:M.z+S.z},{x:M.x+h.x+S.x,y:M.y+h.y+S.y,z:M.z+h.z+S.z},{x:M.x+C.x,y:M.y+C.y,z:M.z+C.z},{x:M.x+h.x+C.x,y:M.y+h.y+C.y,z:M.z+h.z+C.z},{x:M.x+S.x+C.x,y:M.y+S.y+C.y,z:M.z+S.z+C.z},{x:M.x+h.x+S.x+C.x,y:M.y+h.y+S.y+C.y,z:M.z+h.z+S.z+C.z}],c=[],E=[];c.splice(c.length,0,p[0],p[1],p[2],p[3]),E.splice(E.length,0,0,2,1,1,2,3);var D=4;c.splice(c.length,0,p[2],p[3],p[6],p[7]),E.splice(E.length,0,D+0,D+2,D+1,D+1,D+2,D+3),D+=4,c.splice(c.length,0,p[4],p[5],p[0],p[1]),E.splice(E.length,0,D+0,D+2,D+1,D+1,D+2,D+3),D+=4,c.splice(c.length,0,p[6],p[7],p[4],p[5]),E.splice(E.length,0,D+0,D+2,D+1,D+1,D+2,D+3),D+=4,c.splice(c.length,0,p[3],p[1],p[7],p[5]),E.splice(E.length,0,D+0,D+2,D+1,D+1,D+2,D+3),D+=4,c.splice(c.length,0,p[2],p[6],p[0],p[4]),E.splice(E.length,0,D+0,D+2,D+1,D+1,D+2,D+3),D+=4;var I=(0,_.extend)({},f);I.vertexArr=c,I.faceArr=E,I.normalArr=[],y.drawCustom(this,this.geo,I);var O=new s.Vector3;this.components.push({centroid:O.addVectors(p[0],p[7]).multiplyScalar(.5)});var P=this.geo.updateGeoGroup(0);y.updateBoundingFromPoints(this.boundingSphere,this.components,P.vertexArray,P.vertices)}addCylinder(f){var b,h;f.start?b=new s.Vector3(f.start.x||0,f.start.y||0,f.start.z||0):b=new s.Vector3(0,0,0),f.end?(h=new s.Vector3(f.end.x,f.end.y||0,f.end.z||0),typeof h.x>"u"&&(h.x=3)):h=new s.Vector3(0,0,0);var S=f.radius||.1,C=o.CC.color(f.color);this.intersectionShape.cylinder.push(new a.Cylinder(b,h,S)),v.GLDraw.drawCylinder(this.geo,b,h,S,C,f.fromCap,f.toCap);var M=new s.Vector3;this.components.push({centroid:M.addVectors(b,h).multiplyScalar(.5)});var p=this.geo.updateGeoGroup(0);y.updateBoundingFromPoints(this.boundingSphere,this.components,p.vertexArray,p.vertices)}addDashedCylinder(f){f.dashLength=f.dashLength||.25,f.gapLength=f.gapLength||.25;var b;f.start?b=new s.Vector3(f.start.x||0,f.start.y||0,f.start.z||0):b=new s.Vector3(0,0,0);var h;f.end?(h=new s.Vector3(f.end.x,f.end.y||0,f.end.z||0),typeof h.x>"u"&&(h.x=3)):h=new s.Vector3(3,0,0);for(var S=f.radius||.1,C=o.CC.color(f.color),M=Math.sqrt(Math.pow(b.x-h.x,2)+Math.pow(b.y-h.y,2)+Math.pow(b.z-h.z,2)),p=M/(f.gapLength+f.dashLength),c=new s.Vector3(f.start.x||0,f.start.y||0,f.start.z||0),E=new s.Vector3(f.end.x,f.end.y||0,f.end.z||0),D=new s.Vector3((h.x-b.x)/(M/f.gapLength),(h.y-b.y)/(M/f.gapLength),(h.z-b.z)/(M/f.gapLength)),I=new s.Vector3((h.x-b.x)/(M/f.dashLength),(h.y-b.y)/(M/f.dashLength),(h.z-b.z)/(M/f.dashLength)),O=0;O<p;O++)E=new s.Vector3(c.x+I.x,c.y+I.y,c.z+I.z),this.intersectionShape.cylinder.push(new a.Cylinder(c,E,S)),v.GLDraw.drawCylinder(this.geo,c,E,S,C,f.fromCap,f.toCap),c=new s.Vector3(E.x+D.x,E.y+D.y,E.z+D.z);var P=new s.Vector3;this.components.push({centroid:P.addVectors(b,h).multiplyScalar(.5)});var k=this.geo.updateGeoGroup(0);y.updateBoundingFromPoints(this.boundingSphere,this.components,k.vertexArray,k.vertices)}addCurve(f){f.points=f.points||[],f.smooth=f.smooth||10,typeof f.fromCap>"u"&&(f.fromCap=2),typeof f.toCap>"u"&&(f.toCap=2);var b=(0,g.subdivide_spline)(f.points,f.smooth);if(b.length<3){console.log("Too few points in addCurve");return}var h=f.radius||.1,S=o.CC.color(f.color),C=0,M=b.length-1,p=b[0].distanceTo(b[1]),c=Math.ceil(2*h/p);if(f.toArrow){M-=c;let O={start:b[M],end:b[b.length-1],radius:h,color:S,mid:1e-4};this.addArrow(O)}if(f.fromArrow){C+=c;let O={start:b[C],end:b[0],radius:h,color:S,mid:1e-4};this.addArrow(O)}for(var E=Math.ceil(b.length/2),D={radius:h,color:S,fromCap:2,toCap:2},I=C;I<M;I++)D.start=b[I],D.end=b[I+1],D.fromCap=2,D.toCap=2,I<E?(D.fromCap=2,D.toCap=0):I>E?(D.fromCap=0,D.toCap=2):(D.fromCap=2,D.toCap=2),this.addCylinder(D)}addLine(f){var b,h;f.start?b=new s.Vector3(f.start.x||0,f.start.y||0,f.start.z||0):b=new s.Vector3(0,0,0),f.end?(h=new s.Vector3(f.end.x,f.end.y||0,f.end.z||0),typeof h.x>"u"&&(h.x=3)):h=new s.Vector3(3,0,0);var S=this.geo.updateGeoGroup(2),C=S.vertices,M=C*3,p=S.vertexArray;p[M]=b.x,p[M+1]=b.y,p[M+2]=b.z,p[M+3]=h.x,p[M+4]=h.y,p[M+5]=h.z,S.vertices+=2;var c=S.lineArray,E=S.lineidx;c[E]=C,c[E+1]=C+1,S.lineidx+=2;var D=new s.Vector3;this.components.push({centroid:D.addVectors(b,h).multiplyScalar(.5)}),S=this.geo.updateGeoGroup(0),y.updateBoundingFromPoints(this.boundingSphere,this.components,S.vertexArray,S.vertices)}addArrow(f){if(f.start?f.start=new s.Vector3(f.start.x||0,f.start.y||0,f.start.z||0):f.start=new s.Vector3(0,0,0),f.dir instanceof s.Vector3&&typeof f.length=="number"){var b=f.dir.clone().multiplyScalar(f.length).add(f.start);f.end=b}else f.end?(f.end=new s.Vector3(f.end.x,f.end.y||0,f.end.z||0),typeof f.end.x>"u"&&(f.end.x=3)):f.end=new s.Vector3(3,0,0);f.radius=f.radius||.1,f.radiusRatio=f.radiusRatio||1.618034,f.mid=0<f.mid&&f.mid<1?f.mid:.618034,y.drawArrow(this,this.geo,f);var h=new s.Vector3;this.components.push({centroid:h.addVectors(f.start,f.end).multiplyScalar(.5)});var S=this.geo.updateGeoGroup(0);y.updateBoundingFromPoints(this.boundingSphere,this.components,S.vertexArray,S.vertices)}static distance_from(f,b){return Math.sqrt(Math.pow(f.x-b.x,2)+Math.pow(f.y-b.y,2)+Math.pow(f.z-b.z,2))}static inSelectedRegion(f,b,h){for(var S=0;S<b.length;S++)if(y.distance_from(b[S],f)<=h)return!0;return!1}addIsosurface(f,b,h){var S=b.isoval!==void 0&&typeof b.isoval=="number"?b.isoval:0,C=!!b.voxel,M=b.smoothness===void 0?1:b.smoothness,p=f.size.x,c=f.size.y,E=f.size.z,D=new Int16Array(p*c*E),I=f.data,O,P;for(O=0,P=D.length;O<P;++O)D[O]=-1;var k=new Uint8Array(p*c*E);for(O=0,P=I.length;O<P;++O){var B=S>=0?I[O]-S:S-I[O];B>0&&(k[O]|=y.ISDONE)}var G=[],K=[];l.MarchingCube.march(k,G,K,{fulltable:!0,voxel:C,unitCube:f.unit,origin:f.origin,matrix:f.matrix,nX:p,nY:c,nZ:E}),!C&&M>0&&l.MarchingCube.laplacianSmooth(M,G,K);var q=[],H=[],$=[];if(b.selectedRegion&&b.coords===void 0&&(b.coords=b.selectedRegion),b.coords!==void 0){var W=b.coords[0].x,V=b.coords[0].y,Z=b.coords[0].z,Q=b.coords[0].x,ie=b.coords[0].y,Ce=b.coords[0].z;for(let me=0;me<b.coords.length;me++)b.coords[me].x>W?W=b.coords[me].x:b.coords[me].x<Q&&(Q=b.coords[me].x),b.coords[me].y>V?V=b.coords[me].y:b.coords[me].y<ie&&(ie=b.coords[me].y),b.coords[me].z>Z?Z=b.coords[me].z:b.coords[me].z<Ce&&(Ce=b.coords[me].z);var De=2;b.radius!==void 0&&(De=b.radius),b.selectedOffset!==void 0&&(De=b.selectedOffset),b.seldist!==void 0&&(De=b.seldist),Q-=De,W+=De,ie-=De,V+=De,Ce-=De,Z+=De;for(let me=0;me<G.length;me++)G[me].x>Q&&G[me].x<W&&G[me].y>ie&&G[me].y<V&&G[me].z>Ce&&G[me].z<Z&&y.inSelectedRegion(G[me],b.coords,De)?(q.push(H.length),H.push(G[me])):q.push(-1);for(let me=0;me+2<K.length;me+=3)q[K[me]]!==-1&&q[K[me+1]]!==-1&&q[K[me+2]]!==-1&&($.push(K[me]-(K[me]-q[K[me]])),$.push(K[me+1]-(K[me+1]-q[K[me+1]])),$.push(K[me+2]-(K[me+2]-q[K[me+2]])));G=H,K=$}y.drawCustom(this,this.geo,{vertexArr:G,faceArr:K,normalArr:[],clickable:b.clickable,hoverable:b.hoverable}),this.updateStyle(b);var Me=new s.Vector3(f.origin.x,f.origin.y,f.origin.z),Ne=new s.Vector3(f.size.x*f.unit.x,f.size.y*f.unit.y,f.size.z*f.unit.z),Te=new s.Vector3(0,0,0),be=Me.clone(),Xe=Me.clone().add(Ne);for(let me=0;me<G.length;me++)Te.add(G[me]),be.max(G[me]),Xe.min(G[me]);Te.divideScalar(G.length);var $e=Te.distanceTo(Xe),R=Te.distanceTo(be);this.boundingSphere.center=Te,this.boundingSphere.radius=Math.max($e,R),typeof h=="function"&&h()}addVolumetricData(f,b,h){f=new u.VolumeData(f,b),this.addIsosurface(f,h)}finalize(){return y.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(f){if(this.renderedShapeObj&&(f.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){y.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&y.updateColor(this.geo,this.color),this.shapeObj=new n.Object3D;var b=null;this.side==n.DoubleSide?b=new n.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors}):b=new n.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors});var h=new n.Mesh(this.geo,b);this.shapeObj.add(h);var S=new n.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),C=new n.Line(this.linegeo,S,n.LineStyle.LinePieces);this.shapeObj.add(C),this.renderedShapeObj=this.shapeObj.clone(),f.add(this.renderedShapeObj)}}removegl(f){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),f.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}y.ISDONE=2,y.drawCustom=function(x,f,b){var h=b,S=h.vertexArr,C=h.faceArr;(S.length===0||C.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var M=b.color;typeof M>"u"&&(M=x.color),M=o.CC.color(M);for(var p=w(h),c=0,E=p.length;c<E;c++)y.addCustomGeo(x,f,p[c],p[c].colorArr?p[c].colorArr:M,b.clickable)};function w(x){var f=64e3;if(x.vertexArr.length<f)return[x];var b=[{vertexArr:[],normalArr:[],faceArr:[]}];x.colorArr&&(b.colorArr=[]);var h=[],S=[],C=0,M=x.faceArr;for(let c=0,E=M.length;c<E;c+=3){let D=b[C];for(let I=0;I<3;I++){var p=M[c+I];h[p]!==C&&(h[p]=C,S[p]=D.vertexArr.length,D.vertexArr.push(x.vertexArr[p]),x.normalArr&&x.normalArr[p]&&D.normalArr.push(x.normalArr[p]),x.colorArr&&x.colorArr[p]&&D.colorArr.push(x.colorArr[p])),D.faceArr.push(S[p])}D.vertexArr.length>=f&&(b.push({vertexArr:[],normalArr:[],faceArr:[]}),x.colorArr&&(b.colorArr=[]),C++)}return b}},"./src/GLViewer.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLViewer:()=>b,createStereoViewer:()=>C,createViewer:()=>h,createViewerGrid:()=>S});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/colors.ts"),o=r("./src/utilities.ts"),l=r("./src/Gradient.ts"),u=r("./src/GLModel.ts"),v=r("./src/Label.ts"),g=r("./src/GLShape.ts"),_=r("./src/VolumeData.ts"),y=r("./src/ProteinSurface4.ts"),w=r("./src/VolumetricRender.ts"),x=r("./node_modules/upng-js/UPNG.js"),f=r.n(x);class b{getRect(){let p=this.container,c=p.getBoundingClientRect();if(c.width==0&&c.height==0&&p.style.display==="none"){let E=p.style.position,D=p.style.visibility;p.style.display="block",p.style.visibility="hidden",p.style.position="absolute",c=p.getBoundingClientRect(),p.style.display="none",p.style.visibility=D,p.style.position=E}return c}getWidth(){return this.getRect().width}getHeight(){return this.getRect().height}setupRenderer(){this.renderer=new n.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH||1,containerHeight:this.HEIGHT||1}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new n.Scene,this.scene.fog=new n.Fog(this.bgColor,100,200),this.modelGroup=new n.Object3D,this.rotationGroup=new n.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new a.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var p=new n.Light(16777215);p.position=new a.Vector3(.2,.2,1).normalize(),p.intensity=1,this.scene.add(p)}initContainer(p){this.container=p,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var p=0;for(let E in this.surfaces)if(this.surfaces.hasOwnProperty(E)){var c=parseInt(E);isNaN(c)||c>p&&(p=c)}return p+1}setSlabAndFog(){let p=this.camera.position.z-this.rotationGroup.position.z;p<1&&(p=1),this.camera.near=p+this.slabNear,this.camera.near<1&&(this.camera.near=1),this.camera.far=p+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=p*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(p){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!p&&this.linkedViewers.length>0))for(var c=this._viewer.getView(),E=0;E<this.linkedViewers.length;E++){var D=this.linkedViewers[E];D.setView(c,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledAtoms.splice(0,this.contextMenuEnabledAtoms.length);for(let p=0,c=this.models.length;p<c;p++){let E=this.models[p];if(E){let D=E.selectedAtoms({clickable:!0}),I=E.selectedAtoms({hoverable:!0}),O=E.selectedAtoms({contextMenuEnabled:!0});for(let P=0;P<I.length;P++)this.hoverables.push(I[P]);for(let P=0;P<D.length;P++)this.clickables.push(D[P]);for(let P=0;P<O.length;P++)this.contextMenuEnabledAtoms.push(O[P])}}for(let p=0,c=this.shapes.length;p<c;p++){let E=this.shapes[p];E&&E.clickable&&this.clickables.push(E),E&&E.hoverable&&this.hoverables.push(E)}}handleClickSelection(p,c,E){let D=this.targetedObjects(p,c,this.clickables);if(D.length){var I=D[0].clickable;I.callback!==void 0&&(typeof I.callback!="function"&&(I.callback=(0,o.makeFunction)(I.callback)),typeof I.callback=="function"&&I.callback(I,this._viewer,E,this.container,D))}}canvasOffset(){let p=this.glDOM,c=p.getBoundingClientRect(),E=p.ownerDocument,D=E.documentElement,I=E.defaultView;return{top:c.top+I.pageYOffset-D.clientTop,left:c.left+I.pageXOffset-D.clientLeft}}setHover(p,c,E){this.current_hover!=p&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,o.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,c,this.container,E)),this.current_hover=p,p&&p.hover_callback!==void 0&&(typeof p.hover_callback!="function"&&(p.hover_callback=(0,o.makeFunction)(p.hover_callback)),typeof p.hover_callback=="function"&&p.hover_callback(p,this._viewer,c,this.container,E)))}handleHoverSelection(p,c,E){if(this.hoverables.length==0)return;let D=this.targetedObjects(p,c,this.hoverables);if(D.length){var I=D[0].clickable;this.setHover(I,E,D),this.current_hover=I}else this.setHover(null)}handleHoverContinue(p,c){let E=this.targetedObjects(p,c,this.hoverables);(E.length==0||E[0]===void 0)&&this.setHover(null),E[0]!==void 0&&E[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(p,{allowTolerance:c=p.targetTouches,tolerance:E=5}={}){let D=this.getX(p),I=this.getY(p);if(c){let O=Math.abs(D-this.mouseStartX),P=Math.abs(I-this.mouseStartY);return O<=E&&P<=E}else return D===this.mouseStartX&&I===this.mouseStartY}calcTouchDistance(p){var c=p.targetTouches[0].pageX-p.targetTouches[1].pageX,E=p.targetTouches[0].pageY-p.targetTouches[1].pageY;return Math.sqrt(c*c+E*E)}getX(p){var c=p.pageX;return c==null&&(c=p.pageX),p.targetTouches&&p.targetTouches[0]?c=p.targetTouches[0].pageX:p.changedTouches&&p.changedTouches[0]&&(c=p.changedTouches[0].pageX),c}getY(p){var c=p.pageY;return c==null&&(c=p.pageY),p.targetTouches&&p.targetTouches[0]?c=p.targetTouches[0].pageY:p.changedTouches&&p.changedTouches[0]&&(c=p.changedTouches[0].pageY),c}isInViewer(p,c){if(this.viewers!=null&&!this.control_all){var E=this.WIDTH/this.cols,D=this.HEIGHT/this.rows,I=this.canvasOffset(),O=p-I.left,P=c-I.top,k=this.rows-Math.floor(P/D)-1,B=Math.floor(O/E);if(k!=this.row||B!=this.col)return!1}return!0}adjustZoomToLimits(p){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let c=this.CAMERA_Z-this.config.lowerZoomLimit;p>c&&(p=c)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let c=this.CAMERA_Z-this.config.upperZoomLimit;p<c&&(p=c)}return p>this.CAMERA_Z&&(p=this.CAMERA_Z*.999),p}static slerp(p,c,E){if(E==1)return c.clone();if(E==0)return p.clone();let D=p.x*c.x+p.y*c.y+p.z*c.z+p.w*c.w;if(D>.9995){let K=new a.Quaternion(p.x+E*(c.x-p.x),p.y+E*(c.y-p.y),p.z+E*(c.z-p.z),p.w+E*(c.w-p.w));return K.normalize(),K}D<0&&(c=c.clone().multiplyScalar(-1),D=-D),D>1?D=1:D<-1&&(D=-1);var I=Math.acos(D),O=I*E,P=c.clone();P.sub(p.clone().multiplyScalar(D)),P.normalize();var k=Math.cos(O),B=Math.sin(O),G=new a.Quaternion(p.x*k+P.x*B,p.y*k+P.y*B,p.z*k+P.z*B,p.w*k+P.w*B);return G.normalize(),G}constructor(p,c={}){this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledAtoms=[],this.current_hover=null,this.hoverDuration=500,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new a.Quaternion(0,0,0,1),this.dq=new a.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=c,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=s.elementColors.defaultColors),this.nomouse=this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=s.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=parseFloat(this.config.camerax)),this._viewer=this,this.container=p,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row,this.col=this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new n.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new a.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new a.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new n.Raycaster(new a.Vector3(0,0,0),new a.Vector3(0,0,0)),this.projector=new n.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=s.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container));try{typeof this.callback=="function"&&this.callback(this)}catch(E){console.log("error with glviewer callback: "+E)}}targetedObjects(p,c,E){var D={x:p,y:c,z:-1};return Array.isArray(E)||(E=this.selectedAtoms(E)),E.length==0?[]:(this.raycaster.setFromCamera(D,this.camera),this.raycaster.intersectObjects(this.modelGroup,E))}modelToScreen(p){let c=!1;Array.isArray(p)||(p=[p],c=!0);let E=[],D=this.canvasOffset();return p.forEach(I=>{let O=new a.Vector3(I.x,I.y,I.z);O.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(O,this.camera);let P=this.WIDTH*(O.x+1)/2+D.left,k=-this.HEIGHT*(O.y-1)/2+D.top;E.push({x:P,y:k})}),c&&(E=E[0]),E}screenOffsetToModel(p,c,E){var D=p/this.WIDTH,I=c/this.HEIGHT,O=E===void 0?this.rotationGroup.position.z:E,P=this.rotationGroup.quaternion,k=new a.Vector3(0,0,O);return this.projector.projectVector(k,this.camera),k.x+=D*2,k.y-=I*2,this.projector.unprojectVector(k,this.camera),k.z=0,k.applyQuaternion(P),k}screenToModelDistance(p,c){let E=this.canvasOffset(),D=new a.Vector3(c.x,c.y,c.z);D.applyMatrix4(this.modelGroup.matrixWorld);let I=D.clone();this.projector.projectVector(D,this.camera);let O=new a.Vector3((p.x-E.left)*2/this.WIDTH-1,(p.y-E.top)*2/-this.HEIGHT+1,D.z);return this.projector.unprojectVector(O,this.camera),O.distanceTo(I)}setViewChangeCallback(p){(typeof p=="function"||p==null)&&(this.viewChangeCallback=p)}setStateChangeCallback(p){(typeof p=="function"||p==null)&&(this.stateChangeCallback=p)}getConfig(){return this.config}setConfig(p){this.config=p}getInternalState(){var p={models:[],surfaces:[],shapes:[],labels:[]};for(let c=0;c<this.models.length;c++)this.models[c]&&(p.models[c]=this.models[c].getInternalState());return p}setInternalState(p){this.clear();var c=p.models;for(let E=0;E<c.length;E++)c[E]&&(this.models[E]=new u.GLModel(E),this.models[E].setInternalState(c[E]));this.render()}setZoomLimits(p,c){typeof p<"u"&&(this.config.lowerZoomLimit=p),c&&(this.config.upperZoomLimit=c),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(p){p.fov!==void 0&&(this.fov=p.fov,this.camera.fov=this.fov),p.z!==void 0&&(this.CAMERA_Z=p.z,this.camera.z=this.CAMERA_Z),p.orthographic!==void 0&&(this.camera.ortho=p.orthographic)}_handleMouseDown(p){if(p.preventDefault(),!this.scene)return;var c=this.getX(p),E=this.getY(p);if(c===void 0)return;this.isDragging=!0,this.mouseButton=p.which,this.mouseStartX=c,this.mouseStartY=E,this.touchHold=!0,this.touchDistanceStart=0,p.targetTouches&&p.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(p)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let D=this;setTimeout(function(){p.targetTouches&&D.touchHold==!0&&(D.glDOM=D.renderer.domElement,D.glDOM.dispatchEvent(new Event("contextmenu")))},1e3)}_handleMouseUp(p){if(this.touchHold=!1,this.isDragging&&this.scene){var c=this.getX(p),E=this.getY(p);if(this.closeEnoughForClick(p)){var D=this.canvasOffset(),I=(c-D.left)/this.WIDTH*2-1,O=-((E-D.top)/this.HEIGHT)*2+1;this.handleClickSelection(I,O,p)}}this.isDragging=!1}_handleMouseScroll(p){if(p.preventDefault(),!!this.scene){var c=this.getX(p),E=this.getY(p);if(c!==void 0&&this.isInViewer(c,E)){var D=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,I=1;p.ctrlKey&&(I=-1),p.detail?this.rotationGroup.position.z+=I*D*p.detail/10:p.wheelDelta&&(this.rotationGroup.position.z-=I*D*p.wheelDelta/400),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(p){let c=this;return p=p||1,new Promise(function(E){let D=0,I=c.viewChangeCallback,O=[],P=[],k=Date.now();c.viewChangeCallback=function(){P.push(Date.now()-k),k=Date.now(),O.push(new Promise(B=>{c.getCanvas().toBlob(function(G){G.arrayBuffer().then(B)},"image/png")})),D+=1,D==p&&(c.viewChangeCallback=I,Promise.all(O).then(B=>{let G=[];for(let V=0;V<B.length;V++){let Z=(0,x.decode)(B[V]);G.push((0,x.toRGBA8)(Z)[0])}let K=c.getCanvas().width,q=c.getCanvas().height,H=(0,x.encode)(G,K,q,0,P),$=new Blob([H],{type:"image/png"}),W=new FileReader;W.onload=function(V){E(V.target.result)},W.readAsDataURL($)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(p){this.hoverDuration=p}_handleMouseMove(p){clearTimeout(this.hoverTimeout);var c=this.canvasOffset(),E=(this.getX(p)-c.left)/this.WIDTH*2-1,D=-((this.getY(p)-c.top)/this.HEIGHT)*2+1;let I=this;if(this.current_hover!==null&&this.handleHoverContinue(E,D),this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){I.handleHoverSelection(E,D,p)},this.hoverDuration)),p.preventDefault(),!!this.scene&&this.isDragging){var O=0,P=this.getX(p),k=this.getY(p);if(P!==void 0&&this.isInViewer(P,k)){var B=(P-this.mouseStartX)/this.WIDTH,G=(k-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&p.targetTouches&&p.targetTouches.length==2){var K=this.calcTouchDistance(p);O=2,G=(K-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else p.targetTouches&&p.targetTouches.length==3&&(O=1);var q=this.renderer.getXRatio(),H=this.renderer.getYRatio();B*=q,G*=H;var $=Math.sqrt(B*B+G*G),W;if(O==3||this.mouseButton==3&&p.ctrlKey)this.slabNear=this.cslabNear+B*100,this.slabFar=this.cslabFar-G*100;else if(O==2||this.mouseButton==3||p.shiftKey)W=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,W<80&&(W=80),this.rotationGroup.position.z=this.cz+G*W,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(O==1||this.mouseButton==2||p.ctrlKey){var V=this.screenOffsetToModel(q*(P-this.mouseStartX),H*(k-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,V)}else if((O===0||this.mouseButton==1)&&$!==0){var Z=Math.sin($*Math.PI)/$;this.dq.x=Math.cos($*Math.PI),this.dq.y=0,this.dq.z=Z*B,this.dq.w=-Z*G,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}}_handleContextMenu(p){p.preventDefault();var c=this.getX(p),E=this.getY(p);if(!(c!=this.mouseStartX||E!=this.mouseStartY)){var k=this.mouseStartX,B=this.mouseStartY,P=this.canvasOffset(),D=(k-P.left)/this.WIDTH*2-1,I=-((B-P.top)/this.HEIGHT)*2+1;let G=this.targetedObjects(D,I,this.contextMenuEnabledAtoms);var O=null;G.length&&(O=G[0].clickable);var P=this.canvasOffset(),k=this.mouseStartX-P.left,B=this.mouseStartY-P.top;this.userContextMenuHandler&&this.userContextMenuHandler(O,k,B,G)}}setContainer(p){let c=(0,o.getElement)(p)||this.container;return this.initContainer(c),this}setBackgroundColor(p,c){(typeof c>"u"||c<0||c>1)&&(c=1);var E=s.CC.color(p);return this.scene.fog.color=E,this.bgColor=E.getHex(),this.renderer.setClearColorHex(E.getHex(),c),this.show(),this}setProjection(p){this.camera.ortho=p==="orthographic",this.setSlabAndFog()}setViewStyle(p){if(p.style==="outline"){var c={};p.color&&(c.color=s.CC.color(p.color)),p.width&&(c.width=p.width),this.renderer.enableOutline(c)}else this.renderer.disableOutline();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(p){return this.WIDTH=p||this.WIDTH,this.updateSize(),this}setHeight(p){return this.HEIGHT=p||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let p=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0&&(this.container.querySelector("canvas").remove(),this.setupRenderer(),this.initContainer(this.container),p=!0),this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),p){let c=this.renderer.supportedExtensions();c.regen=!0,this._viewer.render(null,c)}else this.show();return this}getModel(p){return p===void 0?this.models.length==0?null:this.models[this.models.length-1]:p instanceof u.GLModel?p:p in this.models?this.models[p]:this.models.length==0?null:this.models[this.models.length-1]}spin(p,c=1){if(clearInterval(this.spinInterval),typeof p>"u"&&(p="y"),typeof p=="boolean")if(p)p="y";else return;Array.isArray(p)&&(p={x:p[0],y:p[1],z:p[2]});var E=this;this.spinInterval=setInterval(function(){!E.getCanvas().isConnected&&E.renderer.isLost()&&clearInterval(E.spinInterval),E.rotate(1*c,p)},25)}animateMotion(p,c,E,D,I,O){var P=20,k=Math.ceil(p/P);k<1&&(k=1),this.incAnim();var B={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(c){let q=new Array(k);for(let V=0;V<k;V++){let Z=(V+1)/k,Q={mpos:B.mpos,rz:B.rz,rot:B.rot};Q.mpos=E.clone().sub(B.mpos).multiplyScalar(Z).add(B.mpos),Q.rz=B.rz+Z*(D-B.rz),Q.rot=b.slerp(B.rot,I,Z),Q.cam=O.clone().sub(B.cam).multiplyScalar(Z).add(B.cam),q[V]=Q}let H=0,$=this,W=function(){var V=q[H];H+=1,$.modelGroup.position=V.mpos,$.rotationGroup.position.z=V.rz,$.rotationGroup.quaternion=V.rot,$.camera.lookAt(V.cam),H<q.length?setTimeout(W,P):$.decAnim(),$.show()};setTimeout(W,P)}else{var G={};let q=1/k;if(E&&(G.mpos=E.clone().sub(B.mpos).multiplyScalar(q)),typeof D<"u"&&D!=null&&(G.rz=q*(D-B.rz)),I){var K=b.slerp(B.rot,I,q);G.rot=B.rot.clone().inverse().multiply(K)}O&&(G.cam=O.clone().sub(B.cam).multiplyScalar(q));let H=0,$=this,W=function(){H+=1,G.mpos&&$.modelGroup.position.add(G.mpos),G.rz&&($.rotationGroup.position.z+=G.rz),G.rot&&$.rotationGroup.quaternion.multiply(G.rot),G.cam&&($.lookingAt.add(G.cam),$.camera.lookAt($.lookingAt)),H<k?setTimeout(W,P):$.decAnim(),$.show()};setTimeout(W,P)}}rotate(p,c="y",E=0,D=!1){if(c=="x"?c={x:1,y:0,z:0}:c=="y"?c={x:0,y:1,z:0}:c=="z"&&(c={x:0,y:0,z:1}),c=="vx"?c={vx:1,vy:0,vz:0}:c=="vy"?c={vx:0,vy:1,vz:0}:c=="vz"&&(c={vx:0,vy:0,vz:1}),typeof c.vx<"u"){var I=new a.Vector3(c.vx,c.vy,c.vz);I.applyQuaternion(this.rotationGroup.quaternion),c={x:I.x,y:I.y,z:I.z}}var O=function(G){var K=Math.sin(G/2),q=Math.cos(G/2),H=0,$=0,W=0;return H=c.x*K,$=c.y*K,W=c.z*K,new a.Quaternion(H,$,W,q).normalize()},P=Math.PI*p/180,k=O(P);if(E){var B=new a.Quaternion().copy(this.rotationGroup.quaternion).multiply(k);this.animateMotion(E,D,this.modelGroup.position,this.rotationGroup.position.z,B,this.lookingAt)}else this.rotationGroup.quaternion.multiply(k),this.show();return this}surfacesFinished(){for(var p in this.surfaces)if(!this.surfaces[p][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var p=this.modelGroup.position,c=this.rotationGroup.quaternion;return[p.x,p.y,p.z,this.rotationGroup.position.z,c.x,c.y,c.z,c.w]}setView(p,c){return p===void 0||!(p instanceof Array||p.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=p[0],this.modelGroup.position.y=p[1],this.modelGroup.position.z=p[2],this.rotationGroup.position.z=p[3],this.rotationGroup.quaternion.x=p[4],this.rotationGroup.quaternion.y=p[5],this.rotationGroup.quaternion.z=p[6],this.rotationGroup.quaternion.w=p[7],typeof p[8]<"u"&&(this.rotationGroup.position.x=p[8],this.rotationGroup.position.y=p[9]),this.show(c),this)}render(p,c){this.renderer.setViewport(),this.updateClickables();var E=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var D,I;for(c||(c=this.renderer.supportedExtensions()),D=0;D<this.models.length;D++)this.models[D]&&this.models[D].globj(this.modelGroup,c);for(D=0;D<this.shapes.length;D++)this.shapes[D]&&(typeof this.shapes[D].frame>"u"||this.viewer_frame<0||this.shapes[D].frame<0||this.shapes[D].frame==this.viewer_frame?this.shapes[D].globj(this.modelGroup,c):this.shapes[D].removegl(this.modelGroup));for(D=0;D<this.labels.length;D++)this.labels[D]&&typeof this.labels[D].frame<"u"&&this.labels[D].frame>=0&&(this.modelGroup.remove(this.labels[D].sprite),(this.viewer_frame<0||this.labels[D].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[D].sprite));for(D in this.surfaces)if(this.surfaces.hasOwnProperty(D)){var O=this.surfaces[D];for(I=0;I<O.length;I++)if(O.hasOwnProperty(I)){var P=O[I].geo;if(!O[I].finished||c.regen){P.verticesNeedUpdate=!0,P.elementsNeedUpdate=!0,P.normalsNeedUpdate=!0,P.colorsNeedUpdate=!0,P.buffersNeedUpdate=!0,P.boundingSphere=null,O[I].done&&(O[I].finished=!0),O[I].lastGL&&this.modelGroup.remove(O[I].lastGL);var k=null;if(O[I].mat instanceof n.LineBasicMaterial?k=new n.Line(P,O[I].mat):k=new n.Mesh(P,O[I].mat),O[I].mat.transparent&&O[I].mat.opacity==0?k.visible=!1:k.visible=!0,O[I].symmetries.length>1||O[I].symmetries.length==1&&!O[I].symmetries[I].isIdentity()){var B,G=new n.Object3D;for(B=0;B<O[I].symmetries.length;B++){var K=k.clone();K.matrix=O[I].symmetries[B],K.matrixAutoUpdate=!1,G.add(K)}O[I].lastGL=G,this.modelGroup.add(G)}else O[I].lastGL=k,this.modelGroup.add(k)}}}return this.setView(E),typeof p=="function"&&p(this),this}getModelList(p){let c=[];if(typeof p>"u"||typeof p.model>"u")for(let D=0;D<this.models.length;D++)this.models[D]&&c.push(this.models[D]);else{let D=p.model;Array.isArray(D)||(D=[D]);for(let I=0;I<D.length;I++)if(typeof D[I]=="number"){var E=D[I];E<0&&(E+=this.models.length),c.push(this.models[E])}else c.push(D[I])}return c}getAtomsFromSel(p){var c=[];typeof p>"u"&&(p={});var E=this.getModelList(p);for(let D=0;D<E.length;D++)c=c.concat(E[D].selectedAtoms(p));return c}atomIsSelected(p,c){typeof c>"u"&&(c={});for(var E=this.getModelList(c),D=0;D<E.length;D++)if(E[D].atomIsSelected(p,c))return!0;return!1}selectedAtoms(p){return this.getAtomsFromSel(p)}getUniqueValues(p,c){typeof c>"u"&&(c={});var E=this.getAtomsFromSel(c),D={};for(var I in E)if(E[I].hasOwnProperty(p)){var O=E[I][p];D[O]=!0}return Object.keys(D)}pdbData(p){for(var c=this.getAtomsFromSel(p),E="",D=0,I=c.length;D<I;++D)E+=c[D].pdbline+`
`;return E}zoom(p=2,c=0,E=!1){var D=(this.CAMERA_Z-this.rotationGroup.position.z)/p,I=this.CAMERA_Z-D;return c>0?this.animateMotion(c,E,this.modelGroup.position,this.adjustZoomToLimits(I),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(I),this.show()),this}translate(p,c,E=0,D=!1){var I=p/this.WIDTH,O=c/this.HEIGHT,P=new a.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(P,this.camera),P.x-=I,P.y-=O,this.projector.unprojectVector(P,this.camera),P.z=0;var k=this.lookingAt.clone().add(P);return E>0?this.animateMotion(E,D,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,k):(this.lookingAt=k,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(p,c,E=0,D=!1){var I=this.screenOffsetToModel(p,c),O=this.modelGroup.position.clone().add(I);return E>0?this.animateMotion(E,D,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=O,this.show()),this}fitSlab(p){p=p||{};var c=this.getAtomsFromSel(p),E=(0,o.getExtent)(c),D=E[1][0]-E[0][0],I=E[1][1]-E[0][1],O=E[1][2]-E[0][2],P=Math.sqrt(D*D+I*I+O*O);return P<5&&(P=5),this.slabNear=-P/1.9,this.slabFar=P/2,this}center(p={},c=0,E=!1){var D,I,O=this.getAtomsFromSel(p),P=(0,o.getExtent)(O);(0,o.isEmptyObject)(p)?(this.shapes.forEach(Z=>{if(Z&&Z.boundingSphere&&Z.boundingSphere.center){var Q=Z.boundingSphere.center,ie=Z.boundingSphere.radius;ie>0?(O.push(new a.Vector3(Q.x+ie,Q.y,Q.z)),O.push(new a.Vector3(Q.x-ie,Q.y,Q.z)),O.push(new a.Vector3(Q.x,Q.y+ie,Q.z)),O.push(new a.Vector3(Q.x,Q.y-ie,Q.z)),O.push(new a.Vector3(Q.x,Q.y,Q.z+ie)),O.push(new a.Vector3(Q.x,Q.y,Q.z-ie))):O.push(Q)}}),P=(0,o.getExtent)(O),D=O,I=P):(D=this.getAtomsFromSel({}),I=(0,o.getExtent)(D));var k=new a.Vector3(P[2][0],P[2][1],P[2][2]),B=I[1][0]-I[0][0],G=I[1][1]-I[0][1],K=I[1][2]-I[0][2],q=Math.sqrt(B*B+G*G+K*K);q<5&&(q=5),this.slabNear=-q/1.9,this.slabFar=q/2,B=P[1][0]-P[0][0],G=P[1][1]-P[0][1],K=P[1][2]-P[0][2],q=Math.sqrt(B*B+G*G+K*K),q<5&&(q=5);for(var H=25,$=0;$<O.length;$++)if(O[$]){var W=k.distanceToSquared(O[$]);W>H&&(H=W)}q=Math.sqrt(H)*2;var V=k.clone().multiplyScalar(-1);return c>0?this.animateMotion(c,E,V,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=V,this.show()),this}zoomTo(p={},c=0,E=!1){let D=this.getAtomsFromSel(p),I=(0,o.getExtent)(D),O=I;if((0,o.isEmptyObject)(p)){let Q=D&&D.length;if(this.shapes.forEach(ie=>{if(ie&&ie.boundingSphere){if(ie.boundingSphere.box){let Me=ie.boundingSphere.box;D.push(new a.Vector3(Me.min.x,Me.min.y,Me.min.z)),D.push(new a.Vector3(Me.max.x,Me.max.y,Me.max.z))}else if(ie.boundingSphere.center){var Ce=ie.boundingSphere.center,De=ie.boundingSphere.radius;De>0?(D.push(new a.Vector3(Ce.x+De,Ce.y,Ce.z)),D.push(new a.Vector3(Ce.x-De,Ce.y,Ce.z)),D.push(new a.Vector3(Ce.x,Ce.y+De,Ce.z)),D.push(new a.Vector3(Ce.x,Ce.y-De,Ce.z)),D.push(new a.Vector3(Ce.x,Ce.y,Ce.z+De)),D.push(new a.Vector3(Ce.x,Ce.y,Ce.z-De))):D.push(Ce)}}}),O=(0,o.getExtent)(D),!Q)for(let ie=0;ie<3;ie++)I[2][ie]=(O[0][ie]+O[1][ie])/2}else{let Q=this.getAtomsFromSel({});O=(0,o.getExtent)(Q)}var P=new a.Vector3(I[2][0],I[2][1],I[2][2]),k=O[1][0]-O[0][0],B=O[1][1]-O[0][1],G=O[1][2]-O[0][2],K=Math.sqrt(k*k+B*B+G*G);K<5&&(K=5),this.slabNear=-K/1.9,this.slabFar=K/2,Object.keys(p).length===0&&(this.slabNear=Math.min(-K*2,-50),this.slabFar=Math.max(K*2,50));var q=this.config.minimumZoomToDistance||5;k=I[1][0]-I[0][0],B=I[1][1]-I[0][1],G=I[1][2]-I[0][2],K=Math.sqrt(k*k+B*B+G*G),K<q&&(K=q);for(var H=q*q,$=0;$<D.length;$++)if(D[$]){var W=P.distanceToSquared(D[$]);W>H&&(H=W)}K=Math.sqrt(H)*2;var V=P.clone().multiplyScalar(-1),Z=-(K*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return Z=this.adjustZoomToLimits(Z),c>0?this.animateMotion(c,E,V,Z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=V,this.rotationGroup.position.z=Z,this.show()),this}setSlab(p,c){this.slabNear=p,this.slabFar=c}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(p,c={},E,D=!1){if(E){var I=(0,o.getExtent)(this.getAtomsFromSel(E));c.position={x:I[2][0],y:I[2][1],z:I[2][2]}}var O=new v.Label(p,c);return O.setContext(),this.modelGroup.add(O.sprite),this.labels.push(O),D||this.show(),O}addResLabels(p,c,E=!1){let D=this.labels.length;return this.applyToModels("addResLabels",p,this,c,E),this.show(),this.labels.slice(D)}addPropertyLabels(p,c,E){return this.applyToModels("addPropertyLabels",p,c,this,E),this.show(),this}removeLabel(p){for(var c=0;c<this.labels.length;c++)if(this.labels[c]==p){this.labels.splice(c,1),p.dispose(),this.modelGroup.remove(p.sprite);break}return this.show(),this}removeAllLabels(){for(var p=0;p<this.labels.length;p++)this.labels[p]&&this.labels[p].sprite&&this.modelGroup.remove(this.labels[p].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}setLabelStyle(p,c){return this.modelGroup.remove(p.sprite),p.dispose(),p.stylespec=c,p.setContext(),this.modelGroup.add(p.sprite),this.show(),p}setLabelText(p,c){return this.modelGroup.remove(p.sprite),p.dispose(),p.text=c,p.setContext(),this.modelGroup.add(p.sprite),this.show(),p}addShape(p){p=p||{};var c=new g.GLShape(p);return c.shapePosition=this.shapes.length,this.shapes.push(c),c}removeShape(p){if(!p)return this;for(p.removegl(this.modelGroup),delete this.shapes[p.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var p=0;p<this.shapes.length;p++){var c=this.shapes[p];c&&c.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(p){if(p.hasOwnProperty("x")&&p.hasOwnProperty("y")&&p.hasOwnProperty("z"))return p;var c=this.getAtomsFromSel(p);if(c.length==0)return{x:0,y:0,z:0};var E=(0,o.getExtent)(c);return{x:E[0][0]+(E[1][0]-E[0][0])/2,y:E[0][1]+(E[1][1]-E[0][1])/2,z:E[0][2]+(E[1][2]-E[0][2])/2}}addSphere(p){p=p||{},p.center=this.getSelectionCenter(p.center);var c=new g.GLShape(p);return c.shapePosition=this.shapes.length,c.addSphere(p),this.shapes.push(c),c.finalize(),c}addBox(p={}){p.corner!=null&&(p.corner=this.getSelectionCenter(p.corner)),p.center!=null&&(p.center=this.getSelectionCenter(p.center));var c=new g.GLShape(p);return c.shapePosition=this.shapes.length,c.addBox(p),this.shapes.push(c),c.finalize(),c}addArrow(p={}){p.start=this.getSelectionCenter(p.start),p.end=this.getSelectionCenter(p.end);var c=new g.GLShape(p);return c.shapePosition=this.shapes.length,c.addArrow(p),this.shapes.push(c),c.finalize(),c}addCylinder(p={}){p.start=this.getSelectionCenter(p.start),p.end=this.getSelectionCenter(p.end);var c=new g.GLShape(p);return c.shapePosition=this.shapes.length,p.dashed?c.addDashedCylinder(p):c.addCylinder(p),this.shapes.push(c),c.finalize(),c}addCurve(p={}){var c=new g.GLShape(p);return c.shapePosition=this.shapes.length,c.addCurve(p),this.shapes.push(c),c.finalize(),c}addLine(p={}){p.start=this.getSelectionCenter(p.start),p.end=this.getSelectionCenter(p.end),p.wireframe=!0;var c=new g.GLShape(p);return c.shapePosition=this.shapes.length,p.dashed?c=this.addLineDashed(p,c):c.addLine(p),this.shapes.push(c),c.finalize(),c}addUnitCell(p,c){p=this.getModel(p),c=c||{alabel:"a",blabel:"b",clabel:"c"},c.box=c.box||{},c.astyle=c.astyle||{color:"red",radius:.1,midpos:-1},c.bstyle=c.bstyle||{color:"green",radius:.1,midpos:-1},c.cstyle=c.cstyle||{color:"blue",radius:.1,midpos:-1},c.alabelstyle=c.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},c.blabelstyle=c.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},c.clabelstyle=c.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},p.unitCellObjects&&this.removeUnitCell(p),p.unitCellObjects={shapes:[],labels:[]};var E=p.getCrystData(),D=null;if(E){if(E.matrix)D=E.matrix;else{var I=E.a,O=E.b,P=E.c,k=E.alpha,B=E.beta,G=E.gamma;k=k*Math.PI/180,B=B*Math.PI/180,G=G*Math.PI/180;var K,q,H;K=Math.cos(B),q=(Math.cos(k)-Math.cos(B)*Math.cos(G))/Math.sin(G),H=Math.sqrt(Math.max(0,1-K*K-q*q)),D=new a.Matrix3(I,O*Math.cos(G),P*K,0,O*Math.sin(G),P*q,0,0,P*H)}var $=[new a.Vector3(0,0,0),new a.Vector3(1,0,0),new a.Vector3(0,1,0),new a.Vector3(0,0,1),new a.Vector3(1,1,0),new a.Vector3(0,1,1),new a.Vector3(1,0,1),new a.Vector3(1,1,1)];if(E.matrix4)for(let V=0;V<$.length;V++)E.size&&$[V].multiplyVectors($[V],E.size),$[V]=$[V].applyMatrix4(E.matrix4);else for(let V=0;V<$.length;V++)$[V]=$[V].applyMatrix3(D);if(c.box&&!c.box.hidden){c.box.wireframe=!0;var W=new g.GLShape(c.box);W.shapePosition=this.shapes.length,W.addLine({start:$[0],end:$[1]}),W.addLine({start:$[0],end:$[2]}),W.addLine({start:$[1],end:$[4]}),W.addLine({start:$[2],end:$[4]}),W.addLine({start:$[0],end:$[3]}),W.addLine({start:$[3],end:$[5]}),W.addLine({start:$[2],end:$[5]}),W.addLine({start:$[1],end:$[6]}),W.addLine({start:$[4],end:$[7]}),W.addLine({start:$[6],end:$[7]}),W.addLine({start:$[3],end:$[6]}),W.addLine({start:$[5],end:$[7]}),this.shapes.push(W),p.unitCellObjects.shapes.push(W),W.finalize()}if(!c.astyle.hidden){c.astyle.start=$[0],c.astyle.end=$[1];let V=this.addArrow(c.astyle);p.unitCellObjects.shapes.push(V)}if(!c.bstyle.hidden){c.bstyle.start=$[0],c.bstyle.end=$[2];let V=this.addArrow(c.bstyle);p.unitCellObjects.shapes.push(V)}if(!c.cstyle.hidden){c.cstyle.start=$[0],c.cstyle.end=$[3];let V=this.addArrow(c.cstyle);p.unitCellObjects.shapes.push(V)}if(c.alabel){c.alabelstyle.position=$[1];let V=this.addLabel(c.alabel,c.alabelstyle);p.unitCellObjects.labels.push(V)}if(c.blabel){c.blabelstyle.position=$[2];let V=this.addLabel(c.blabel,c.blabelstyle);p.unitCellObjects.labels.push(V)}if(c.clabel){c.clabelstyle.position=$[3];let V=this.addLabel(c.clabel,c.clabelstyle);p.unitCellObjects.labels.push(V)}}}removeUnitCell(p){if(p=this.getModel(p),p.unitCellObjects){let c=this;p.unitCellObjects.shapes.forEach(function(E){c.removeShape(E)}),p.unitCellObjects.labels.forEach(function(E){c.removeLabel(E)})}delete p.unitCellObjects}replicateUnitCell(p=3,c=p,E=c,D,I){D=this.getModel(D);let O=D.getCrystData();if(O){let P=D.selectedAtoms({}),k=O.matrix,B=function(G){return G%2==0?-G/2:Math.ceil(G/2)};for(let G=0;G<p;G++)for(let K=0;K<c;K++)for(let q=0;q<E;q++){if(G==0&&K==0&&q==0)continue;let H=new a.Vector3(B(G),B(K),B(q));H.applyMatrix3(k);let $=[];for(let W=0;W<P.length;W++){let V={};for(let Z in P[W])V[Z]=P[W][Z];V.x+=H.x,V.y+=H.y,V.z+=H.z,$.push(V)}D.addAtoms($)}I&&D.assignBonds()}}addLineDashed(p,c){p.dashLength=p.dashLength||.5,p.gapLength=p.gapLength||.5;var E;p.start?E=new a.Vector3(p.start.x||0,p.start.y||0,p.start.z||0):E=new a.Vector3(0,0,0);var D;p.end?D=new a.Vector3(p.end.x,p.end.y||0,p.end.z||0):D=new a.Vector3(0,0,0);var I=new a.Vector3,O=new a.Vector3,P=new a.Vector3,k,B,G,K=E.clone(),q=0;for(I.subVectors(D,E),k=I.length(),I.normalize(),O=I.clone(),P=I.clone(),O.multiplyScalar(p.dashLength),P.multiplyScalar(p.gapLength),B=O.length(),G=P.length();q<k;){if(q+B>k){p.start=E,p.end=D,c.addLine(p);break}K.addVectors(E,O),p.start=E,p.end=K,c.addLine(p),E=K.clone(),q+=B,K.addVectors(E,P),E=K.clone(),q+=G}return c.finalize(),c}addCustom(p){p=p||{};var c=new g.GLShape(p);return c.shapePosition=this.shapes.length,c.addCustom(p),this.shapes.push(c),c.finalize(),c}addVolumetricData(p,c,E={}){var D=new _.VolumeData(p,c);return E.hasOwnProperty("transferfn")?this.addVolumetricRender(D,E):this.addIsosurface(D,E)}addIsosurface(p,c={},E){var D=new g.GLShape(c);return D.shapePosition=this.shapes.length,D.addIsosurface(p,c,E),this.shapes.push(D),D}addVolumetricRender(p,c){c=c||{};var E=new w.GLVolumetricRender(p,c);return E.shapePosition=this.shapes.length,this.shapes.push(E),E}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(p){p?this.scene.fog=new n.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(p){this.viewer_frame=p;let c=this;return new Promise(function(E){var D=c.models.map(function(I){return I.setFrame(p,c)});Promise.all(D).then(function(){E()})})}getFrame(){return this.viewer_frame}getNumFrames(){var p=0;for(let c=0;c<this.models.length;c++)this.models[c].getNumFrames()>p&&(p=this.models[c].getNumFrames());for(let c=0;c<this.shapes.length;c++)this.shapes[c].frame&&this.shapes[c].frame>=p&&(p=this.shapes[c].frame+1);for(let c=0;c<this.labels.length;c++)this.labels[c].frame&&this.labels[c].frame>=p&&(p=this.labels[c].frame+1);return p}animate(p){this.incAnim();var c=100,E="forward",D=0;p=p||{},p.interval&&(c=p.interval),p.loop&&(E=p.loop),p.reps&&(D=p.reps);var I=this.getNumFrames(),O=this,P=0;p.startFrame&&(P=p.startFrame%I);var k=1;p.step&&(k=p.step,D/=k);var B=0,G=I*D,K=new Date,q,H,$=function(W){K=new Date,W=="forward"?O.setFrame(P).then(function(){P=(P+k)%I,q()}):W=="backward"?O.setFrame(I-1-P).then(function(){P=(P+k)%I,q()}):O.setFrame(P).then(function(){P+=k,k*=P%(I-1)==0?-1:1,q()})};return q=function(){if(O.render(),!O.getCanvas().isConnected)O.stopAnimate();else if(++B==G||!O.isAnimated())H.cancel(),O.animationTimers.delete(H),O.decAnim();else{var W=c-(new Date().getTime()-K.getTime());W=W>0?W:0,O.animationTimers.delete(H),H=new o.PausableTimer($,W,E),O.animationTimers.add(H)}},H=new o.PausableTimer($,0,E),this.animationTimers.add(H),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(p){p.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(p){p.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(p){p.resume()}),this}isAnimated(){return this.animated>0}addModel(p,c="",E){E&&!E.defaultcolors?(E.defaultcolors=this.defaultcolors,E.cartoonQuality=E.cartoonQuality||this.config.cartoonQuality):typeof E>"u"&&(E={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality});var D=new u.GLModel(this.models.length,E);return D.addMolData(p,c,E),this.models.push(D),D}addModels(p,c,E){E=E||{},E.multimodel=!0,E.frames=!0;for(var D=u.GLModel.parseMolData(p,c,E),I=0;I<D.length;I++){var O=new u.GLModel(this.models.length,this.defaultcolors);O.setAtomDefaults(D[I]),O.addFrame(D[I]),O.setFrame(0),D.modelData&&O.setModelData(D.modelData[I]),O.setDontDuplicateAtoms(!E.duplicateAssemblyAtoms),this.models.push(O)}return this.models}addModelsAsFrames(p,c,E){E=E||{},E.multimodel=!0,E.frames=!0;var D=new u.GLModel(this.models.length,this.defaultcolors);return D.addMolData(p,c,E),this.models.push(D),D}addAsOneMolecule(p,c,E){E=E||{},E.multimodel=!0,E.onemol=!0;var D=new u.GLModel(this.models.length,this.defaultcolors);return D.addMolData(p,c,E),this.models.push(D),D}removeModel(p){if(p=this.getModel(p),!!p){for(p.removegl(this.modelGroup),delete this.models[p.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var p=0;p<this.models.length;p++){var c=this.models[p];c&&c.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(p,c){var E={};return c===void 0?E.m=this.models.map(function(D){return D.toCDObject(p)}):E.m=[this.models[c].toCDObject()],JSON.stringify(E)}exportVRML(){var p=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new n.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var c=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=p,c}createModelFrom(p,c=!1){for(var E=new u.GLModel(this.models.length,this.defaultcolors),D=0;D<this.models.length;D++)if(this.models[D]){var I=this.models[D].selectedAtoms(p);E.addAtoms(I),c&&this.models[D].removeAtoms(I)}return this.models.push(E),E}applyToModels(p,c,E,D,I,O,P){for(var k=this.getModelList(c),B=0;B<k.length;B++)k[B][p](c,E,D,I,O,P)}setStyle(p,c){return typeof c>"u"&&(c=p,p={}),this.applyToModels("setStyle",p,c,!1),this}addStyle(p,c){return typeof c>"u"&&(c=p,p={}),this.applyToModels("setStyle",p,c,!0),this}setClickable(p,c,E){return this.applyToModels("setClickable",p,c,E),this}setHoverable(p,c,E,D){return this.applyToModels("setHoverable",p,c,E,D),this}enableContextMenu(p,c){return this.applyToModels("enableContextMenu",p,c),this}vibrate(p,c,E,D){return this.applyToModels("vibrate",p,c,E,this,D),this}setColorByProperty(p,c,E,D){return this.applyToModels("setColorByProperty",p,c,E,D),this}setColorByElement(p,c){return this.applyToModels("setColorByElement",p,c),this}static getAtomsWithin(p,c){var E=[];for(let I=0;I<p.length;I++){var D=p[I];typeof D>"u"||D.x<c[0][0]||D.x>c[1][0]||D.y<c[0][1]||D.y>c[1][1]||D.z<c[0][2]||D.z>c[1][2]||E.push(D)}return E}static volume(p){var c=p[1][0]-p[0][0],E=p[1][1]-p[0][1],D=p[1][2]-p[0][2];return c*E*D}carveUpExtent(p,c,E){let D=[],I={};for(let K=0,q=c.length;K<q;K++)I[c[K].index]=K;let O=function(K){let q=[];for(let H=0,$=K.length;H<$;H++)K[H].index in I&&q.push(I[K[H].index]);return q},P=function(K){let q=[];return q[0]=[K[0][0],K[0][1],K[0][2]],q[1]=[K[1][0],K[1][1],K[1][2]],q},k=function(K){if(b.volume(K)<b.maxVolume)return[K];var q=K[1][0]-K[0][0],H=K[1][1]-K[0][1],$=K[1][2]-K[0][2],W;q>H&&q>$?W=0:H>q&&H>$?W=1:W=2;var V=P(K),Z=P(K),Q=(K[1][W]-K[0][W])/2+K[0][W];V[1][W]=Q,Z[0][W]=Q;var ie=k(V),Ce=k(Z);return ie.concat(Ce)},B=k(p),G=6;for(let K=0,q=B.length;K<q;K++){let H=P(B[K]);H[0][0]-=G,H[0][1]-=G,H[0][2]-=G,H[1][0]+=G,H[1][1]+=G,H[1][2]+=G;let $=b.getAtomsWithin(c,H),W=b.getAtomsWithin(E,B[K]);D.push({extent:B[K],atoms:O($),toshow:O(W)})}return D}static generateSurfaceMesh(p,c,E){var D=new n.Geometry(!0),I=D.updateGeoGroup(0),O=[];for(let R=0,me=p.length;R<me;R++){var P=p[R];P&&(typeof P.surfaceColor<"u"?O[R]=P.surfaceColor:P.color&&(O[R]=s.CC.color(P.color)))}var k=I.vertexArray,B=c.vertices;for(let R=0,me=B.length;R<me;R++){let ge=I.vertices*3;k[ge]=B[R].x,k[ge+1]=B[R].y,k[ge+2]=B[R].z,I.vertices++}var G=I.colorArray;if(E.voldata&&E.volscheme){var K=E.volscheme,q=E.voldata,H=K.range()||[-1,1];for(let R=0,me=B.length;R<me;R++){let ge=q.getVal(B[R].x,B[R].y,B[R].z),ne=s.CC.color(K.valueToHex(ge,H)),fe=R*3;G[fe]=ne.r,G[fe+1]=ne.g,G[fe+2]=ne.b}}else if(O.length>0)for(let R=0,me=B.length;R<me;R++){let ge=B[R].atomid,ne=R*3;G[ne]=O[ge].r,G[ne+1]=O[ge].g,G[ne+2]=O[ge].b}var $=c.faces;I.faceidx=$.length,D.initTypedArrays();var W=I.vertexArray,V=I.normalArray,Z,Q,ie,Ce;for(let R=0,me=$.length;R<me;R+=3){var De=$[R],Me=$[R+1],Ne=$[R+2],Te=De*3,be=Me*3,Xe=Ne*3;Z=new a.Vector3(W[Te],W[Te+1],W[Te+2]),Q=new a.Vector3(W[be],W[be+1],W[be+2]),ie=new a.Vector3(W[Xe],W[Xe+1],W[Xe+2]),ie.subVectors(ie,Q),Z.subVectors(Z,Q),ie.cross(Z),Ce=ie,Ce.normalize(),V[Te]+=Ce.x,V[be]+=Ce.x,V[Xe]+=Ce.x,V[Te+1]+=Ce.y,V[be+1]+=Ce.y,V[Xe+1]+=Ce.y,V[Te+2]+=Ce.z,V[be+2]+=Ce.z,V[Xe+2]+=Ce.z}I.faceArray=new Uint16Array($);var $e=new n.Mesh(D,E);return $e}static generateMeshSyncHelper(p,c,E,D,I,O){var P=new y.ProteinSurface;return P.initparm(c,p!==1,O),P.fillvoxels(I,E),P.buildboundary(),(p==y.SurfaceType.SES||p==y.SurfaceType.MS)&&(P.fastdistancemap(),P.boundingatom(!1),P.fillvoxelswaals(I,E)),P.marchingcube(p),P.getFacesAndVertices(D)}static getMatWithStyle(p){var c=new n.MeshLambertMaterial;c.vertexColors=n.Coloring.VertexColors;for(var E in p)E==="color"||E==="map"||p.hasOwnProperty(E)&&(c[E]=p[E]);return p.opacity!==void 0&&(p.opacity===1?c.transparent=!1:c.transparent=!0),c}addMesh(p){var c={geo:p.geometry,mat:p.material,done:!0,finished:!1},E=this.nextSurfID();return this.surfaces[E]=c,E}static shallowCopy(p){var c=[];let E=p.length;for(let D=0;D<E;D++)c[D]=(0,o.extend)({},p[D]);return c}addSurface(p,c={},E={},D,I,O){let P=this.nextSurfID(),k=null,B=this,G=y.SurfaceType.VDW;typeof p=="string"?b.surfaceTypeMap[p.toUpperCase()]!==void 0?G=b.surfaceTypeMap[p]:console.log("Surface type : "+p+" is not recognized"):typeof p=="number"&&(G=p);var K=null,q=null,H=b.shallowCopy(this.getAtomsFromSel(E));D?K=b.shallowCopy(this.getAtomsFromSel(D)):K=H,(0,o.adjustVolumeStyle)(c);var $=!1,W;for(W=0;W<this.models.length;W++)if(this.models[W]){var V=this.models[W].getSymmetries();if(V.length>1||V.length==1&&!V[0].isIdentity()){$=!0;break}}var Z=function(Te,be,Xe){I?q=b.shallowCopy(B.getAtomsFromSel(I)):q=Xe;var $e,R=(0,o.getExtent)(Xe,!0);if(c.map&&c.map.prop){var me=c.map.prop;let Pe=(0,l.getGradient)(c.map.scheme||c.map.gradient||new l.Gradient.RWB),vt=Pe.range();vt||(vt=(0,o.getPropertyRange)(Xe,me)),c.colorscheme={prop:me,gradient:Pe}}for(let Pe=0,vt=be.length;Pe<vt;Pe++)$e=be[Pe],$e.surfaceColor=(0,o.getColorFromStyle)($e,c);var ge=b.volume(R),ne=B.carveUpExtent(R,be,Xe);if(q&&q.length&&q.length>0){var fe=(0,o.getExtent)(q,!0),ye=function(Pe,vt){var _t=function(ve,Ke){var ke=ve.extent,rt=ke[1][0]-ke[0][0],st=ke[1][1]-ke[0][1],ae=ke[1][2]-ke[0][2],Ue=rt-Ke[2][0];Ue*=Ue;var Je=st-Ke[2][1];Je*=Je;var ct=ae-Ke[2][2];return ct*=ct,Ue+Je+ct},le=_t(Pe,fe),ue=_t(vt,fe);return le-ue};ne.sort(ye)}var He=[];for(let Pe=0,vt=be.length;Pe<vt;Pe++)$e=be[Pe],He[Pe]={x:$e.x,y:$e.y,z:$e.z,serial:Pe,elem:$e.elem};var Be=!!y.syncSurface;if(Be){var _e=function(vt){return new Promise(function(_t){for(var le=b.generateMeshSyncHelper(G,ne[vt].extent,ne[vt].atoms,ne[vt].toshow,He,ge),ue=(0,g.splitMesh)({vertexArr:le.vertices,faceArr:le.faces}),ve=0,Ke=ue.length;ve<Ke;ve++){le={vertices:ue[ve].vertexArr,faces:ue[ve].faceArr};var ke=b.generateSurfaceMesh(be,le,k);(0,o.mergeGeos)(Te.geo,ke)}B.render(),_t()})},Fe=[];for(let Pe=0;Pe<ne.length;Pe++)Fe.push(_e(Pe));return Promise.all(Fe).then(function(){return Te.done=!0,Promise.resolve(P)})}else{var Ge=[];G<0&&(G=0);for(let Pe=0,vt=b.numWorkers;Pe<vt;Pe++){var Ve=new Worker($3Dmol.SurfaceWorker);Ge.push(Ve),Ve.postMessage({type:-1,atoms:He,volume:ge})}return new Promise(function(Pe,vt){var _t=0,le=function(){!Ge||!Ge.length||Ge.forEach(function(ke){ke&&ke.terminate&&ke.terminate()})},ue=function(ke){for(var rt=(0,g.splitMesh)({vertexArr:ke.data.vertices,faceArr:ke.data.faces}),st=0,ae=rt.length;st<ae;st++){var Ue={vertices:rt[st].vertexArr,faces:rt[st].faceArr},Je=b.generateSurfaceMesh(be,Ue,k);(0,o.mergeGeos)(Te.geo,Je)}B.render(),_t++,_t==ne.length&&(Te.done=!0,le(),Pe(P))},ve=function(ke){le(),console.log(ke.message+" ("+ke.filename+":"+ke.lineno+")"),vt(ke)};for(let ke=0;ke<ne.length;ke++){var Ke=Ge[ke%Ge.length];Ke.onmessage=ue,Ke.onerror=ve,Ke.postMessage({type:G,expandedExtent:ne[ke].extent,extendedAtoms:ne[ke].atoms,atomsToShow:ne[ke].toshow})}})}};c=c||{},k=b.getMatWithStyle(c);var Q=[];Q.style=c,Q.atomsel=E,Q.allsel=D,Q.focus=I;var ie=null;if($){var Ce={},De={};for(W=0;W<this.models.length;W++)Ce[W]=[],De[W]=[];for(W=0;W<K.length;W++)Ce[K[W].model].push(K[W]);for(W=0;W<H.length;W++)De[H[W].model].push(H[W]);var Me=[];for(W=0;W<this.models.length;W++)De[W].length>0&&(Q.push({geo:new n.Geometry(!0),mat:k,done:!1,finished:!1,symmetries:this.models[W].getSymmetries()}),Me.push(Z(Q[Q.length-1],Ce[W],De[W])));ie=Promise.all(Me)}else Q.push({geo:new n.Geometry(!0),mat:k,done:!1,finished:!1,symmetries:[new a.Matrix4]}),ie=Z(Q[Q.length-1],K,H);return this.surfaces[P]=Q,ie.surfid=P,O&&typeof O=="function"?(ie.then(function(Ne){O(Ne)}),P):ie}setSurfaceMaterialStyle(p,c){if((0,o.adjustVolumeStyle)(c),this.surfaces[p]){var E=this.surfaces[p];E.style=c;for(var D=0;D<E.length;D++){var I=E[D].mat=b.getMatWithStyle(c);if(E[D].mat.side=n.FrontSide,c.color){E[D].mat.color=c.color,E[D].geo.colorsNeedUpdate=!0;let O=s.CC.color(c.color);E[D].geo.setColors(function(){return O})}else if(I.voldata&&I.volscheme){let O=I.volscheme,P=I.voldata,k=s.CC,B=O.range()||[-1,1];E[D].geo.setColors(function(G,K,q){let H=P.getVal(G,K,q);return k.color(O.valueToHex(H,B))})}E[D].finished=!1}}return this}getSurface(p){return this.surfaces[p]}removeSurface(p){for(var c=this.surfaces[p],E=0;E<c.length;E++)c[E]&&c[E].lastGL&&(c[E].geo!==void 0&&c[E].geo.dispose(),c[E].mat!==void 0&&c[E].mat.dispose(),this.modelGroup.remove(c[E].lastGL));return delete this.surfaces[p],this.show(),this}removeAllSurfaces(){for(var p in this.surfaces)if(this.surfaces.hasOwnProperty(p)){for(var c=this.surfaces[p],E=0;E<c.length;E++)c[E]&&c[E].lastGL&&(c[E].geo!==void 0&&c[E].geo.dispose(),c[E].mat!==void 0&&c[E].mat.dispose(),this.modelGroup.remove(c[E].lastGL));delete this.surfaces[p]}return this.show(),this}jmolMoveTo(){var p=this.modelGroup.position,c="center { "+-p.x+" "+-p.y+" "+-p.z+" }; ",E=this.rotationGroup.quaternion;return c+="moveto .5 quaternion { "+E.x+" "+E.y+" "+E.z+" "+E.w+" };",c}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(p,c){c=c||{};var E=this.getAtomsFromSel(c);if(typeof p=="function")for(let O=0,P=E.length;O<P;O++){let k=E[O];p(k)}else for(let O=0,P=E.length;O<P;O++){var D=E[O];for(let k=0,B=p.length;k<B;k++){let G=p[k];if(G.props)for(var I in G.props)G.props.hasOwnProperty(I)&&this.atomIsSelected(D,G)&&(D.properties||(D.properties={}),D.properties[I]=G.props[I])}}return this}linkViewer(p){return this.linkedViewers.push(p),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(p){this.rotationGroup.position.z=this.CAMERA_Z-p}setAutoEyeSeparation(p,c){var E=this.getPerceivedDistance();return c||(c=5),p||this.camera.position.x>0?this.camera.position.x=E*Math.tan(Math.PI/180*c):this.camera.position.x=-E*Math.tan(Math.PI/180*c),this.camera.lookAt(new a.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(p){this.config.cartoonQuality=p}}b.numWorkers=4,b.maxVolume=64e3,b.surfaceTypeMap={VDW:y.SurfaceType.VDW,MS:y.SurfaceType.MS,SAS:y.SurfaceType.SAS,SES:y.SurfaceType.SES};function h(M,p){if(M=(0,o.getElement)(M),!!M){p=p||{};try{var c=new b(M,p);return c}catch(E){throw"error creating viewer: "+E}}}function S(M,p={},c={}){if(M=(0,o.getElement)(M),!!M){var E=[],D=document.createElement("canvas");c.rows=p.rows,c.cols=p.cols,c.control_all=p.control_all!=null?p.control_all:!1,M.appendChild(D);try{for(var I=0;I<p.rows;I++){for(var O=[],P=0;P<p.cols;P++){c.row=I,c.col=P,c.canvas=D,c.viewers=E,c.control_all=p.control_all;var k=h(M,c);O.push(k)}E.unshift(O)}}catch(B){throw"error creating viewer grid: "+B}return E}}function C(M){var p=this;if(M=(0,o.getElement)(M),!!M){var c=S(M,{rows:1,cols:2,control_all:!0});this.glviewer1=c[0][0],this.glviewer2=c[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var E=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(I){return typeof p.glviewer1[I]=="function"}),D=0;D<E.length;D++)this[E[D]]=function(I){return function(){var O=this.glviewer1[I].apply(this.glviewer1,arguments),P=this.glviewer2[I].apply(this.glviewer2,arguments);return[O,P]}}(E[D]);this.setCoordinates=function(I,O,P){for(var k=0;k<I.length;k++)I[k].setCoordinates(O,P)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(I){this.glviewer1.render(),this.glviewer2.render(),I&&I(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CustomLinear:()=>g,Gradient:()=>y,GradientType:()=>a,ROYGB:()=>u,RWB:()=>l,Sinebow:()=>v,builtinGradients:()=>_,getGradient:()=>o,normalizeValue:()=>s});var n=r("./src/colors.ts");class a{}function s(w,x,f){return x>=w?(f<w&&(f=w),f>x&&(f=x),{lo:w,hi:x,val:f}):(f>w&&(f=w),f<x&&(f=x),f=w-f+x,{lo:x,hi:w,val:f})}function o(w){if(w instanceof a)return w;if(w.gradient!==void 0&&_[w.gradient]){let x=w.min===void 0?-1:w.min,f=w.max===void 0?1:w.max;return w.mid===void 0?w.colors===void 0?new _[w.gradient](x,f):new _[w.gradient](x,f,w.colors):new _[w.gradient](x,f,w.mid)}return w}class l extends a{constructor(x,f,b){super(),this.gradient="RWB",this.mult=1,this.mid=b,this.min=x,this.max=f,typeof f>"u"&&Array.isArray(x)&&x.length>=2?(this.max=x[1],this.min=x[0]):x&&f&&!Array.isArray(x)&&(this.min=x,this.max=f)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(x,f){var b,h;if(x=this.mult*x,f?(b=f[0],h=f[1]):(b=this.min,h=this.max),x===void 0)return 16777215;var S=s(b,h,x);b=S.lo,h=S.hi,x=S.val;var C=(h+b)/2;f&&typeof f[2]<"u"?C=f[2]:typeof this.mid<"u"?C=this.mid:C=(b+h)/2;var M,p;return x<C?(M=Math.floor(255*Math.sqrt((x-b)/(C-b))),p=16711680+256*M+M,p):x>C?(M=Math.floor(255*Math.sqrt(1-(x-C)/(h-C))),p=65536*M+256*M+255,p):16777215}}class u extends a{constructor(x,f){super(),this.gradient="ROYGB",this.mult=1,this.min=x,this.max=f,typeof f>"u"&&Array.isArray(x)&&x.length>=2?(this.max=x[1],this.min=x[0]):x&&f&&!Array.isArray(x)&&(this.min=x,this.max=f)}valueToHex(x,f){var b,h;if(x=this.mult*x,f?(b=f[0],h=f[1]):(b=this.min,h=this.max),typeof x>"u")return 16777215;var S=s(b,h,x);b=S.lo,h=S.hi,x=S.val;var C=(b+h)/2,M=(b+C)/2,p=(C+h)/2,c,E;return x<M?(c=Math.floor(255*Math.sqrt((x-b)/(M-b))),E=16711680+256*c+0,E):x<C?(c=Math.floor(255*Math.sqrt(1-(x-M)/(C-M))),E=65536*c+65280+0,E):x<p?(c=Math.floor(255*Math.sqrt((x-C)/(p-C))),E=65280+1*c,E):(c=Math.floor(255*Math.sqrt(1-(x-p)/(h-p))),E=0+256*c+255,E)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class v extends a{constructor(x,f){super(),this.gradient="Sinebow",this.mult=1,this.min=x,this.max=f,typeof f>"u"&&Array.isArray(x)&&x.length>=2&&(this.max=x[1],this.min=x[0]),f<x&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(x,f){var b,h;if(x=this.mult*x,f?(b=f[0],h=f[1]):(b=this.min,h=this.max),typeof x>"u")return 16777215;var S=y.normalizeValue(b,h,x);b=S.lo,h=S.hi,x=S.val;var C=(x-b)/(h-b),M=5*C/6+.5,p=Math.sin(Math.PI*M);p*=p*255;var c=Math.sin(Math.PI*(M+1/3));c*=c*255;var E=Math.sin(Math.PI*(M+2/3));return E*=E*255,65536*Math.floor(p)+256*Math.floor(E)+1*Math.floor(c)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class g extends a{constructor(x,f,b){super(),this.gradient="linear",this.colors=new Array;var h;if(Array.isArray(x)&&x.length>=2?(this.max=x[1],this.min=x[0],h=f):(this.min=x,this.max=f,h=b),h)for(let S of h)this.colors.push(n.CC.color(S));else this.colors.push(n.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(x,f){var b,h;if(f?(b=f[0],h=f[1]):(b=this.min,h=this.max),x===void 0)return 16777215;var S=s(b,h,x);b=S.lo,h=S.hi,x=S.val;let C=this.colors.length,M=(h-b)/C,p=Math.min(Math.floor((x-b)/M),C-1),c=Math.min(p+1,C-1),E=(x-b-p*M)/M,D=this.colors[p],I=this.colors[c];return new n.Color(D.r+E*(I.r-D.r),D.g+E*(I.g-D.g),D.b+E*(I.b-D.b)).getHex()}}let _={rwb:l,RWB:l,roygb:u,ROYGB:u,sinebow:v,linear:g};class y extends a{valueToHex(x,f){return 0}range(){return null}}y.RWB=l,y.ROYGB=u,y.Sinebow=v,y.CustomLinear=g,y.builtinGradients=_,y.normalizeValue=s,y.getGradient=o},"./src/Label.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Label:()=>v,LabelCount:()=>o});var n=r("./src/WebGL/index.ts"),a=r("./src/Gradient.ts"),s=r("./src/colors.ts");let o=0;function l(g,_,y,w,x,f,b){g.beginPath(),g.moveTo(_+f,y),g.lineTo(_+w-f,y),g.quadraticCurveTo(_+w,y,_+w,y+f),g.lineTo(_+w,y+x-f),g.quadraticCurveTo(_+w,y+x,_+w-f,y+x),g.lineTo(_+f,y+x),g.quadraticCurveTo(_,y+x,_,y+x-f),g.lineTo(_,y+f),g.quadraticCurveTo(_,y,_+f,y),g.closePath(),g.fill(),b&&g.stroke()}function u(g,_,y){var w=y;return typeof g<"u"&&(g instanceof s.Color?w=g.scaled():(w=s.CC.color(g),typeof w.scaled<"u"&&(w=w.scaled()))),typeof _<"u"&&(w.a=parseFloat(_)),w}class v{constructor(_,y){this.id=o++,this.stylespec=y||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new n.Sprite,this.text=_,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}setContext(){var _=this.stylespec,y=typeof _.useScreen>"u"?!1:_.useScreen,w=_.showBackground;(w==="0"||w==="false")&&(w=!1),typeof w>"u"&&(w=!0);var x=_.font?_.font:"sans-serif",f=parseInt(_.fontSize)?parseInt(_.fontSize):18,b=u(_.fontColor,_.fontOpacity,{r:255,g:255,b:255,a:1}),h=_.padding?_.padding:4,S=_.borderThickness?_.borderThickness:0,C=u(_.backgroundColor,_.backgroundOpacity,{r:0,g:0,b:0,a:1}),M=u(_.borderColor,_.borderOpacity,C),p=_.position?_.position:{x:-10,y:1,z:1},c=_.inFront!==void 0?_.inFront:!0;(c==="false"||c==="0")&&(c=!1);var E=_.alignment||n.SpriteAlignment.topLeft;typeof E=="string"&&E in n.SpriteAlignment&&(E=n.SpriteAlignment[E]);var D="";_.bold&&(D="bold "),this.context.font=D+f+"px  "+x;var I=this.context.measureText(this.text),O=I.width;w||(S=0);var P=O+2.5*S+2*h,k=f*1.25+2*S+2*h;if(_.backgroundImage){var B=_.backgroundImage,G=_.backgroundWidth?_.backgroundWidth:B.width,K=_.backgroundHeight?_.backgroundHeight:B.height;G>P&&(P=G),K>k&&(k=K)}if(this.canvas.width=P,this.canvas.height=k,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),D="",_.bold&&(D="bold "),this.context.font=D+f+"px  "+x,this.context.fillStyle="rgba("+C.r+","+C.g+","+C.b+","+C.a+")",this.context.strokeStyle="rgba("+M.r+","+M.g+","+M.b+","+M.a+")",_.backgroundGradient){let H=this.context.createLinearGradient(0,k/2,P,k/2),$=a.Gradient.getGradient(_.backgroundGradient),W=$.range(),V=-1,Z=1;W&&(V=W[0],Z=W[1]);let Q=Z-V;for(let ie=0;ie<1.01;ie+=.1){let Ce=u($.valueToHex(V+Q*ie)),De="rgba("+Ce.r+","+Ce.g+","+Ce.b+","+Ce.a+")";H.addColorStop(ie,De)}this.context.fillStyle=H}this.context.lineWidth=S,w&&l(this.context,S,S,P-2*S,k-2*S,6,S>0),_.backgroundImage&&this.context.drawImage(B,0,0,P,k),this.context.fillStyle="rgba("+b.r+","+b.g+","+b.b+","+b.a+")",this.context.fillText(this.text,S+h,f+S+h,O);var q=new n.Texture(this.canvas);q.needsUpdate=!0,this.sprite.material=new n.SpriteMaterial({map:q,useScreenCoordinates:y,alignment:E,depthTest:!c,screenOffset:_.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(p.x,p.y,p.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MarchingCube:()=>u,MarchingCubeInitializer:()=>l,PointGrid:()=>v,ProteinSurface:()=>g,SurfaceType:()=>a,setSyncSurface:()=>o,syncSurface:()=>s});var n=r("./src/WebGL/math/index.ts"),a;(function(_){_[_.VDW=1]="VDW",_[_.MS=2]="MS",_[_.SAS=3]="SAS",_[_.SES=4]="SES"})(a||(a={}));var s=!1;function o(_){s=_}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(s=!0);class l{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(y,w,x,f){let b=!!f.fulltable,h=f.hasOwnProperty("origin")&&f.origin.hasOwnProperty("x")?f.origin:{x:0,y:0,z:0},S=!!f.voxel,C=f.matrix,M=f.nX||0,p=f.nY||0,c=f.nZ||0,E=f.scale||1,D=null;f.unitCube?D=f.unitCube:D={x:E,y:E,z:E};let I=new Int32Array(M*p*c),O,P;for(O=0,P=I.length;O<P;++O)I[O]=-1;let k=function(q,H,$,W,V,Z){let Q={x:0,y:0,z:0},ie=!!(W&1<<V),Ce=!!(W&1<<Z),De=V;if(!ie&&Ce&&(De=Z),De&1&&$++,De&2&&H++,De&4&&q++,C){let Ne=new n.Vector3(q,H,$);Ne=Ne.applyMatrix4(C),Q={x:Ne.x,y:Ne.y,z:Ne.z}}else Q.x=h.x+D.x*q,Q.y=h.y+D.y*H,Q.z=h.z+D.z*$;let Me=(p*q+H)*c+$;return S?(w.push(Q),w.length-1):(I[Me]<0&&(I[Me]=w.length,w.push(Q)),I[Me])},B=new Int32Array(12),G=b?this.edgeTable2:this.edgeTable,K=b?this.triTable2:this.triTable;for(O=0;O<M-1;++O)for(let q=0;q<p-1;++q)for(let H=0;H<c-1;++H){let $=0;for(let Z=0;Z<8;++Z){let Q=(p*(O+((Z&4)>>2))+q+((Z&2)>>1))*c+H+(Z&1),ie=!!(y[Q]&this.ISDONE);$|=ie<<Z}if($===0||$===255)continue;let W=G[$];if(W===0)continue;let V=K[$];W&1&&(B[0]=k(O,q,H,$,0,1)),W&2&&(B[1]=k(O,q,H,$,1,3)),W&4&&(B[2]=k(O,q,H,$,3,2)),W&8&&(B[3]=k(O,q,H,$,2,0)),W&16&&(B[4]=k(O,q,H,$,4,5)),W&32&&(B[5]=k(O,q,H,$,5,7)),W&64&&(B[6]=k(O,q,H,$,7,6)),W&128&&(B[7]=k(O,q,H,$,6,4)),W&256&&(B[8]=k(O,q,H,$,0,4)),W&512&&(B[9]=k(O,q,H,$,1,5)),W&1024&&(B[10]=k(O,q,H,$,3,7)),W&2048&&(B[11]=k(O,q,H,$,2,6));for(let Z=0;Z<V.length;Z+=3){let Q=B[V[Z]],ie=B[V[Z+1]],Ce=B[V[Z+2]];S&&Z>=3&&(w.push(w[Q]),Q=w.length-1,w.push(w[ie]),ie=w.length-1,w.push(w[Ce]),Ce=w.length-1),x.push(Q),x.push(ie),x.push(Ce)}}}laplacianSmooth(y,w,x){let f=new Array(w.length),b,h,S,C,M;for(b=0,h=w.length;b<h;b++)f[b]={x:0,y:0,z:0};let p=new Array(20),c;for(b=0;b<20;b++)p[b]=new Array(w.length);for(b=0,h=w.length;b<h;b++)p[0][b]=0;for(b=0,h=x.length/3;b<h;b++){let I=b*3,O=b*3+1,P=b*3+2;for(c=!0,S=0,C=p[0][x[I]];S<C;S++)if(x[O]==p[S+1][x[I]]){c=!1;break}for(c&&(p[0][x[I]]++,p[p[0][x[I]]][x[I]]=x[O]),c=!0,S=0,C=p[0][x[I]];S<C;S++)if(x[P]==p[S+1][x[I]]){c=!1;break}for(c&&(p[0][x[I]]++,p[p[0][x[I]]][x[I]]=x[P]),c=!0,S=0,C=p[0][x[O]];S<C;S++)if(x[I]==p[S+1][x[O]]){c=!1;break}for(c&&(p[0][x[O]]++,p[p[0][x[O]]][x[O]]=x[I]),c=!0,S=0,C=p[0][x[O]];S<C;S++)if(x[P]==p[S+1][x[O]]){c=!1;break}for(c&&(p[0][x[O]]++,p[p[0][x[O]]][x[O]]=x[P]),c=!0,S=0;S<p[0][x[P]];S++)if(x[I]==p[S+1][x[P]]){c=!1;break}for(c&&(p[0][x[P]]++,p[p[0][x[P]]][x[P]]=x[I]),c=!0,S=0,C=p[0][x[P]];S<C;S++)if(x[O]==p[S+1][x[P]]){c=!1;break}c&&(p[0][x[P]]++,p[p[0][x[P]]][x[P]]=x[O])}let E=1,D=.5;for(M=0;M<y;M++){for(b=0,h=w.length;b<h;b++)if(p[0][b]<3)f[b].x=w[b].x,f[b].y=w[b].y,f[b].z=w[b].z;else if(p[0][b]==3||p[0][b]==4){for(f[b].x=0,f[b].y=0,f[b].z=0,S=0,C=p[0][b];S<C;S++)f[b].x+=w[p[S+1][b]].x,f[b].y+=w[p[S+1][b]].y,f[b].z+=w[p[S+1][b]].z;f[b].x+=D*w[b].x,f[b].y+=D*w[b].y,f[b].z+=D*w[b].z,f[b].x/=D+p[0][b],f[b].y/=D+p[0][b],f[b].z/=D+p[0][b]}else{for(f[b].x=0,f[b].y=0,f[b].z=0,S=0,C=p[0][b];S<C;S++)f[b].x+=w[p[S+1][b]].x,f[b].y+=w[p[S+1][b]].y,f[b].z+=w[p[S+1][b]].z;f[b].x+=E*w[b].x,f[b].y+=E*w[b].y,f[b].z+=E*w[b].z,f[b].x/=E+p[0][b],f[b].y/=E+p[0][b],f[b].z/=E+p[0][b]}for(b=0,h=w.length;b<h;b++)w[b].x=f[b].x,w[b].y=f[b].y,w[b].z=f[b].z}}}let u=new l;class v{constructor(y,w,x){this.data=new Int32Array(y*w*x*3),this.width=w,this.height=x}set(y,w,x,f){let b=((y*this.width+w)*this.height+x)*3;this.data[b]=f.ix,this.data[b+1]=f.iy,this.data[b+2]=f.iz}get(y,w,x){let f=((y*this.width+w)*this.height+x)*3;return{ix:this.data[f],iy:this.data[f+1],iz:this.data[f+2]}}}class g{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])]}getVDWIndex(y){return!y.elem||typeof this.vdwRadii[y.elem]>"u"?"X":y.elem}getFacesAndVertices(y){let w={};for(let b=0,h=y.length;b<h;b++)w[y[b]]=!0;let x=this.verts;for(let b=0,h=x.length;b<h;b++)x[b].x=x[b].x/this.scaleFactor-this.ptranx,x[b].y=x[b].y/this.scaleFactor-this.ptrany,x[b].z=x[b].z/this.scaleFactor-this.ptranz;let f=[];for(let b=0,h=this.faces.length;b<h;b+=3){let S=this.faces[b],C=this.faces[b+1],M=this.faces[b+2],p=x[S].atomid,c=x[C].atomid,E=x[M].atomid,D=p;c<D&&(D=c),E<D&&(D=E),w[D]&&S!==C&&C!==M&&S!==M&&(f.push(S),f.push(C),f.push(M))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:x,faces:f}}initparm(y,w,x){x>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let f=1/this.scaleFactor*5.5;this.pminx=y[0][0],this.pmaxx=y[1][0],this.pminy=y[0][1],this.pmaxy=y[1][1],this.pminz=y[0][2],this.pmaxz=y[1][2],w?(this.pminx-=this.probeRadius+f,this.pminy-=this.probeRadius+f,this.pminz-=this.probeRadius+f,this.pmaxx+=this.probeRadius+f,this.pmaxy+=this.probeRadius+f,this.pmaxz+=this.probeRadius+f):(this.pminx-=f,this.pminy-=f,this.pminz-=f,this.pmaxx+=f,this.pmaxy+=f,this.pmaxz+=f),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(w),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(y){let w={};for(let x in this.vdwRadii){let f=this.vdwRadii[x];y?w[x]=(f+this.probeRadius)*this.scaleFactor+.5:w[x]=f*this.scaleFactor+.5;let b=w[x]*w[x];this.widxz[x]=Math.floor(w[x])+1,this.depty[x]=new Int32Array(this.widxz[x]*this.widxz[x]);let h=0;for(let S=0;S<this.widxz[x];S++)for(let C=0;C<this.widxz[x];C++){let M=S*S+C*C;if(M>b)this.depty[x][h]=-1;else{let p=Math.sqrt(b-M);this.depty[x][h]=Math.floor(p)}h++}}}fillvoxels(y,w){for(let x=0,f=this.vpBits.length;x<f;x++)this.vpBits[x]=0,this.vpDistance[x]=-1,this.vpAtomID[x]=-1;for(let x in w){let f=y[w[x]];f!==void 0&&this.fillAtom(f,y)}for(let x=0,f=this.vpBits.length;x<f;x++)this.vpBits[x]&this.INOUT&&(this.vpBits[x]|=this.ISDONE)}fillAtom(y,w){let x=Math.floor(.5+this.scaleFactor*(y.x+this.ptranx)),f=Math.floor(.5+this.scaleFactor*(y.y+this.ptrany)),b=Math.floor(.5+this.scaleFactor*(y.z+this.ptranz)),h=this.getVDWIndex(y),S=0,C=this.pWidth*this.pHeight;for(let M=0,p=this.widxz[h];M<p;M++)for(let c=0;c<p;c++){if(this.depty[h][S]!=-1){for(let E=-1;E<2;E++)for(let D=-1;D<2;D++)for(let I=-1;I<2;I++)if(E!==0&&D!==0&&I!==0){let O=E*M,P=I*c;for(let k=0;k<=this.depty[h][S];k++){let B=k*D,G=x+O,K=f+B,q=b+P;if(G<0||K<0||q<0||G>=this.pLength||K>=this.pWidth||q>=this.pHeight)continue;let H=G*C+K*this.pHeight+q;if(!(this.vpBits[H]&this.INOUT))this.vpBits[H]|=this.INOUT,this.vpAtomID[H]=y.serial;else{let $=w[this.vpAtomID[H]];if($.serial!=y.serial){let W=x+O-Math.floor(.5+this.scaleFactor*($.x+this.ptranx)),V=f+B-Math.floor(.5+this.scaleFactor*($.y+this.ptrany)),Z=b+P-Math.floor(.5+this.scaleFactor*($.z+this.ptranz));O*O+B*B+P*P<W*W+V*V+Z*Z&&(this.vpAtomID[H]=y.serial)}}}}}S++}}fillvoxelswaals(y,w){for(let x=0,f=this.vpBits.length;x<f;x++)this.vpBits[x]&=~this.ISDONE;for(let x in w){let f=y[w[x]];f!==void 0&&this.fillAtomWaals(f,y)}}fillAtomWaals(y,w){let x=0,f=Math.floor(.5+this.scaleFactor*(y.x+this.ptranx)),b=Math.floor(.5+this.scaleFactor*(y.y+this.ptrany)),h=Math.floor(.5+this.scaleFactor*(y.z+this.ptranz)),S=this.getVDWIndex(y),C=this.pWidth*this.pHeight;for(let M=0,p=this.widxz[S];M<p;M++)for(let c=0;c<p;c++){if(this.depty[S][x]!=-1){for(let E=-1;E<2;E++)for(let D=-1;D<2;D++)for(let I=-1;I<2;I++)if(E!==0&&D!==0&&I!==0){let O=E*M,P=I*c;for(let k=0;k<=this.depty[S][x];k++){let B=k*D,G=f+O,K=b+B,q=h+P;if(G<0||K<0||q<0||G>=this.pLength||K>=this.pWidth||q>=this.pHeight)continue;let H=G*C+K*this.pHeight+q;if(!(this.vpBits[H]&this.ISDONE))this.vpBits[H]|=this.ISDONE,this.vpAtomID[H]=y.serial;else{let $=w[this.vpAtomID[H]];if($.serial!=y.serial){let W=f+O-Math.floor(.5+this.scaleFactor*($.x+this.ptranx)),V=b+B-Math.floor(.5+this.scaleFactor*($.y+this.ptrany)),Z=h+P-Math.floor(.5+this.scaleFactor*($.z+this.ptranz));O*O+B*B+P*P<W*W+V*V+Z*Z&&(this.vpAtomID[H]=y.serial)}}}}}x++}}buildboundary(){let y=this.pWidth*this.pHeight;for(let w=0;w<this.pLength;w++)for(let x=0;x<this.pHeight;x++)for(let f=0;f<this.pWidth;f++){let b=w*y+f*this.pHeight+x;if(this.vpBits[b]&this.INOUT){let h=0;for(;h<26;){let S=w+this.nb[h][0],C=x+this.nb[h][2],M=f+this.nb[h][1];if(S>-1&&S<this.pLength&&M>-1&&M<this.pWidth&&C>-1&&C<this.pHeight&&!(this.vpBits[S*y+M*this.pHeight+C]&this.INOUT)){this.vpBits[b]|=this.ISBOUND;break}else h++}}}}fastdistancemap(){let y=new v(this.pLength,this.pWidth,this.pHeight),w=this.pWidth*this.pHeight,x=this.cutRadius*this.cutRadius,f=[],b=[],h;for(let M=0;M<this.pLength;M++)for(let p=0;p<this.pWidth;p++)for(let c=0;c<this.pHeight;c++)if(h=M*w+p*this.pHeight+c,this.vpBits[h]&=~this.ISDONE,this.vpBits[h]&this.INOUT&&this.vpBits[h]&this.ISBOUND){let E={ix:M,iy:p,iz:c};y.set(M,p,c,E),f.push(E),this.vpDistance[h]=0,this.vpBits[h]|=this.ISDONE,this.vpBits[h]&=~this.ISBOUND}do{b=this.fastoneshell(f,y),f=[];for(let M=0,p=b.length;M<p;M++)h=w*b[M].ix+this.pHeight*b[M].iy+b[M].iz,this.vpBits[h]&=~this.ISBOUND,this.vpDistance[h]<=1.0404*x&&f.push({ix:b[M].ix,iy:b[M].iy,iz:b[M].iz})}while(f.length!==0);f=[],b=[],y=null;let S=this.scaleFactor-.5;S<0&&(S=0);let C=x-.5/(.1+S);for(let M=0;M<this.pLength;M++)for(let p=0;p<this.pWidth;p++)for(let c=0;c<this.pHeight;c++)h=M*w+p*this.pHeight+c,this.vpBits[h]&=~this.ISBOUND,this.vpBits[h]&this.INOUT&&(!(this.vpBits[h]&this.ISDONE)||this.vpBits[h]&this.ISDONE&&this.vpDistance[h]>=C)&&(this.vpBits[h]|=this.ISBOUND)}fastoneshell(y,w){let x,f,b,h,S,C,M,p,c,E=[];if(y.length===0)return E;let D={ix:-1,iy:-1,iz:-1},I=this.pWidth*this.pHeight;for(let O=0,P=y.length;O<P;O++){x=y[O].ix,f=y[O].iy,b=y[O].iz,p=w.get(x,f,b);for(let k=0;k<6;k++)D.ix=x+this.nb[k][0],D.iy=f+this.nb[k][1],D.iz=b+this.nb[k][2],D.ix<this.pLength&&D.ix>-1&&D.iy<this.pWidth&&D.iy>-1&&D.iz<this.pHeight&&D.iz>-1&&(c=D.ix*I+this.pHeight*D.iy+D.iz,this.vpBits[c]&this.INOUT&&!(this.vpBits[c]&this.ISDONE)?(w.set(D.ix,D.iy,b+this.nb[k][2],p),h=D.ix-p.ix,S=D.iy-p.iy,C=D.iz-p.iz,M=h*h+S*S+C*C,this.vpDistance[c]=M,this.vpBits[c]|=this.ISDONE,this.vpBits[c]|=this.ISBOUND,E.push({ix:D.ix,iy:D.iy,iz:D.iz})):this.vpBits[c]&this.INOUT&&this.vpBits[c]&this.ISDONE&&(h=D.ix-p.ix,S=D.iy-p.iy,C=D.iz-p.iz,M=h*h+S*S+C*C,M<this.vpDistance[c]&&(w.set(D.ix,D.iy,D.iz,p),this.vpDistance[c]=M,this.vpBits[c]&this.ISBOUND||(this.vpBits[c]|=this.ISBOUND,E.push({ix:D.ix,iy:D.iy,iz:D.iz})))))}for(let O=0,P=y.length;O<P;O++){x=y[O].ix,f=y[O].iy,b=y[O].iz,p=w.get(x,f,b);for(let k=6;k<18;k++)D.ix=x+this.nb[k][0],D.iy=f+this.nb[k][1],D.iz=b+this.nb[k][2],D.ix<this.pLength&&D.ix>-1&&D.iy<this.pWidth&&D.iy>-1&&D.iz<this.pHeight&&D.iz>-1&&(c=D.ix*I+this.pHeight*D.iy+D.iz,this.vpBits[c]&this.INOUT&&!(this.vpBits[c]&this.ISDONE)?(w.set(D.ix,D.iy,b+this.nb[k][2],p),h=D.ix-p.ix,S=D.iy-p.iy,C=D.iz-p.iz,M=h*h+S*S+C*C,this.vpDistance[c]=M,this.vpBits[c]|=this.ISDONE,this.vpBits[c]|=this.ISBOUND,E.push({ix:D.ix,iy:D.iy,iz:D.iz})):this.vpBits[c]&this.INOUT&&this.vpBits[c]&this.ISDONE&&(h=D.ix-p.ix,S=D.iy-p.iy,C=D.iz-p.iz,M=h*h+S*S+C*C,M<this.vpDistance[c]&&(w.set(D.ix,D.iy,D.iz,p),this.vpDistance[c]=M,this.vpBits[c]&this.ISBOUND||(this.vpBits[c]|=this.ISBOUND,E.push({ix:D.ix,iy:D.iy,iz:D.iz})))))}for(let O=0,P=y.length;O<P;O++){x=y[O].ix,f=y[O].iy,b=y[O].iz,p=w.get(x,f,b);for(let k=18;k<26;k++)D.ix=x+this.nb[k][0],D.iy=f+this.nb[k][1],D.iz=b+this.nb[k][2],D.ix<this.pLength&&D.ix>-1&&D.iy<this.pWidth&&D.iy>-1&&D.iz<this.pHeight&&D.iz>-1&&(c=D.ix*I+this.pHeight*D.iy+D.iz,this.vpBits[c]&this.INOUT&&!(this.vpBits[c]&this.ISDONE)?(w.set(D.ix,D.iy,b+this.nb[k][2],p),h=D.ix-p.ix,S=D.iy-p.iy,C=D.iz-p.iz,M=h*h+S*S+C*C,this.vpDistance[c]=M,this.vpBits[c]|=this.ISDONE,this.vpBits[c]|=this.ISBOUND,E.push({ix:D.ix,iy:D.iy,iz:D.iz})):this.vpBits[c]&this.INOUT&&this.vpBits[c]&this.ISDONE&&(h=D.ix-p.ix,S=D.iy-p.iy,C=D.iz-p.iz,M=h*h+S*S+C*C,M<this.vpDistance[c]&&(w.set(D.ix,D.iy,D.iz,p),this.vpDistance[c]=M,this.vpBits[c]&this.ISBOUND||(this.vpBits[c]|=this.ISBOUND,E.push({ix:D.ix,iy:D.iy,iz:D.iz})))))}return E}marchingcubeinit(y){for(let w=0,x=this.vpBits.length;w<x;w++)y==1?this.vpBits[w]&=~this.ISBOUND:y==4?(this.vpBits[w]&=~this.ISDONE,this.vpBits[w]&this.ISBOUND&&(this.vpBits[w]|=this.ISDONE),this.vpBits[w]&=~this.ISBOUND):y==2?this.vpBits[w]&this.ISBOUND&&this.vpBits[w]&this.ISDONE?this.vpBits[w]&=~this.ISBOUND:this.vpBits[w]&this.ISBOUND&&!(this.vpBits[w]&this.ISDONE)&&(this.vpBits[w]|=this.ISDONE):y==3&&(this.vpBits[w]&=~this.ISBOUND)}marchingcube(y){this.marchingcubeinit(y),this.verts=[],this.faces=[],u.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let w=this.pWidth*this.pHeight;for(let x=0,f=this.verts.length;x<f;x++)this.verts[x].atomid=this.vpAtomID[this.verts[x].x*w+this.pHeight*this.verts[x].y+this.verts[x].z];u.laplacianSmooth(1,this.verts,this.faces)}}},"./src/VolumeData.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VolumeData:()=>u});var n=r("./src/utilities.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/parsers/VASP.ts"),o=r("./src/parsers/CUBE.ts"),l=r("./node_modules/pako/dist/pako.esm.mjs");class u{constructor(g,_,y){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(h){var S=h/(this.size.y*this.size.z),C=h%(this.size.y*this.size.z),M=h%this.size.z;return S*=this.unit.x,C*=this.unit.y,M*=this.unit.z,S+=this.origin.x,C+=this.origin.y,M+=this.origin.z,{x:S,y:C,z:M}},this.vasp=function(h){var S=h.replace(/^\s+/,"").split(/[\n\r]/),C=(0,s.VASP)(h)[0],M=C.length;if(M==0){console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var p=1.889725992,c=.036749309,E=parseFloat(S[1]),D;D=S[2].replace(/^\s+/,"").split(/\s+/);var I=new a.Vector3(parseFloat(D[0]),parseFloat(D[1]),parseFloat(D[2])).multiplyScalar(E*p);D=S[3].replace(/^\s+/,"").split(/\s+/);var O=new a.Vector3(parseFloat(D[0]),parseFloat(D[1]),parseFloat(D[2])).multiplyScalar(E*p);D=S[4].replace(/^\s+/,"").split(/\s+/);var P=new a.Vector3(parseFloat(D[0]),parseFloat(D[1]),parseFloat(D[2])).multiplyScalar(E*p),k=I.x*(O.y*P.z-P.y*O.z)-O.x*(I.y*P.z-P.y*I.z)+P.x*(I.y*O.z-O.y*I.z);k=Math.abs(k)/Math.pow(p,3);var B=1/k;S.splice(0,8+M+1);var G=S[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),K=Math.abs(G[0]),q=Math.abs(G[1]),H=Math.abs(G[2]),$=this.origin=new a.Vector3(0,0,0);this.size={x:K,y:q,z:H},this.unit=new a.Vector3(I.x,O.y,P.z),I=I.multiplyScalar(1/(p*K)),O=O.multiplyScalar(1/(p*q)),P=P.multiplyScalar(1/(p*H)),(I.y!=0||I.z!=0||O.x!=0||O.z!=0||P.x!=0||P.y!=0)&&(this.matrix=new a.Matrix4(I.x,O.x,P.x,0,I.y,O.y,P.y,0,I.z,O.z,P.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new a.Matrix4().makeTranslation($.x,$.y,$.z)),this.origin=new a.Vector3(0,0,0),this.unit=new a.Vector3(1,1,1)),S.splice(0,1);var W=S.join(" ");W=W.replace(/^\s+/,""),W=W.split(/[\s\r]+/),W.splice(K*q*H+1);for(var V=new Float32Array(W),Z=0;Z<V.length;Z++)V[Z]=V[Z]*B*c;this.data=V},this.dx=function(h){var S=h.split(/[\n\r]+/),C,M=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,p=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,c=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,E=/data follows/,D=0;for(D=0;D<S.length;D++){var I=S[D];if(C=M.exec(I)){var O=parseInt(C[1]),P=parseInt(C[2]),k=parseInt(C[3]);this.size={x:O,y:P,z:k}}else if(C=c.exec(I)){var B=parseFloat(C[1]);if((parseFloat(C[2])!=0||parseFloat(C[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),D+=1,I=S[D],C=c.exec(I),C==null){console.log("Parse error in dx delta matrix");return}var G=parseFloat(C[2]);if((parseFloat(C[1])!=0||parseFloat(C[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),D+=1,I=S[D],C=c.exec(I),C==null){console.log("Parse error in dx delta matrix");return}var K=parseFloat(C[3]);(parseFloat(C[1])!=0||parseFloat(C[2])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new a.Vector3(B,G,K)}else if(C=p.exec(I)){var q=parseFloat(C[1]),H=parseFloat(C[2]),$=parseFloat(C[3]);this.origin=new a.Vector3(q,H,$)}else if(C=E.exec(I))break}if(D+=1,!this.size||!this.origin||!this.unit||!this.size){console.log("Error parsing dx format");return}var W=S.splice(D).join(" ");W=W.split(/[\s\r]+/),this.data=new Float32Array(W)},_=_.toLowerCase(),/\.gz$/.test(_)){_=_.replace(/\.gz$/,"");try{this[_]&&this.isbinary.has(_)?(typeof g=="string"&&(g=(0,n.base64ToArray)(g)),g=(0,l.inflate)(g)):g=new TextDecoder("utf-8").decode((0,l.inflate)(g))}catch(h){console.log(h)}}if(this[_]&&(this.isbinary.has(_)&&typeof g=="string"&&(g=(0,n.base64ToArray)(g)),this[_](g)),y){if(y.negate)for(let h=0,S=this.data.length;h<S;h++)this.data[h]=-this.data[h];if(y.normalize){var w=0;for(let h=0,S=this.data.length;h<S;h++)w+=this.data[h];var x=w/this.data.length;w=0;for(let h=0,S=this.data.length;h<S;h++){var f=this.data[h]-x;w+=f*f}var b=w/this.data.length;for(let h=0,S=this.data.length;h<S;h++)this.data[h]=(this.data[h]-x)/b}}}getIndex(g,_,y){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new a.Matrix4().getInverse(this.matrix));var w=new a.Vector3(g,_,y);w=w.applyMatrix4(this.inversematrix),g=w.x,_=w.y,y=w.z}else g-=this.origin.x,_-=this.origin.y,y-=this.origin.z,g/=this.unit.x,_/=this.unit.y,y/=this.unit.z;return g=Math.round(g),_=Math.round(_),y=Math.round(y),g<0||g>=this.size.x||_<0||_>=this.size.y||y<0||y>=this.size.z?-1:g*this.size.y*this.size.z+_*this.size.z+y}getVal(g,_,y){let w=this.getIndex(g,_,y);return w<0?0:this.data[w]}cube(g){var _=g.split(/\r?\n/);if(!(_.length<6)){var y=(0,o.CUBE)(g,{}).modelData[0].cryst,w=_[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),x=parseFloat(w[0]),f=Math.abs(x);this.origin=y.origin,this.size=y.size,this.unit=y.unit,this.matrix=y.matrix4;var b=6;x<0&&b++;var h=_.splice(f+b).join(" ");h=h.replace(/^\s+/,""),h=h.split(/[\s\r]+/),this.data=new Float32Array(h)}}ccp4(g){var _={};g=new Int8Array(g);var y=new Int32Array(g.buffer,0,56),w=new Float32Array(g.buffer,0,56),x=new DataView(g.buffer);if(_.MAP=String.fromCharCode(x.getUint8(208),x.getUint8(209),x.getUint8(210),x.getUint8(211)),_.MACHST=[x.getUint8(212),x.getUint8(213)],_.MACHST[0]===17&&_.MACHST[1]===17)for(var f=g.byteLength,b=0;b<f;b+=4)x.setFloat32(b,x.getFloat32(b),!0);_.NX=y[0],_.NY=y[1],_.NZ=y[2],_.MODE=y[3],_.NXSTART=y[4],_.NYSTART=y[5],_.NZSTART=y[6],_.MX=y[7],_.MY=y[8],_.MZ=y[9],_.xlen=w[10],_.ylen=w[11],_.zlen=w[12],_.alpha=w[13],_.beta=w[14],_.gamma=w[15],_.MAPC=y[16],_.MAPR=y[17],_.MAPS=y[18],_.DMIN=w[19],_.DMAX=w[20],_.DMEAN=w[21],_.ISPG=y[22],_.NSYMBT=y[23],_.LSKFLG=y[24],_.originX=w[49],_.originY=w[50],_.originZ=w[51],_.ARMS=w[54];var h=_,S=[h.xlen,0,0],C=[h.ylen*Math.cos(Math.PI/180*h.gamma),h.ylen*Math.sin(Math.PI/180*h.gamma),0],M=[h.zlen*Math.cos(Math.PI/180*h.beta),h.zlen*(Math.cos(Math.PI/180*h.alpha)-Math.cos(Math.PI/180*h.gamma)*Math.cos(Math.PI/180*h.beta))/Math.sin(Math.PI/180*h.gamma),0];M[2]=Math.sqrt(h.zlen*h.zlen*Math.sin(Math.PI/180*h.beta)*Math.sin(Math.PI/180*h.beta)-M[1]*M[1]);var p=[0,S,C,M],c=[0,h.MX,h.MY,h.MZ],E=[0,h.MAPC,h.MAPR,h.MAPS];this.matrix=new a.Matrix4,this.matrix.set(p[E[1]][0]/c[E[1]],p[E[2]][0]/c[E[2]],p[E[3]][0]/c[E[3]],0,p[E[1]][1]/c[E[1]],p[E[2]][1]/c[E[2]],p[E[3]][1]/c[E[3]],0,p[E[1]][2]/c[E[1]],p[E[2]][2]/c[E[2]],p[E[3]][2]/c[E[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new a.Matrix4().makeTranslation(h.NXSTART+h.originX,h.NYSTART+h.originY,h.NZSTART+h.originZ)),this.origin=new a.Vector3(0,0,0),this.unit=new a.Vector3(1,1,1),this.size={x:_.NX,y:_.NY,z:_.NZ},this.dimensionorder=[_.MAPC,_.MAPR,_.MAPS];var D=new Float32Array(g.buffer,1024+_.NSYMBT),I=_.NX,O=_.NY,P=_.NZ;this.data=new Float32Array(I*O*P);for(let k=0;k<I;k++)for(let B=0;B<O;B++)for(let G=0;G<P;G++)this.data[(k*O+B)*P+G]=D[(G*O+B)*I+k]}}},"./src/VolumetricRender.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLVolumetricRender:()=>u});var n=r("./src/WebGL/shapes/index.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/index.ts"),o=r("./src/colors.ts"),l=r("./src/GLShape.ts");class u{static interpolateArray(g,_){function y(M,p,c){return M+(p-M)*c}var w=[],x=(g.length-1)/(_-1);w[0]=g[0];for(var f=1;f<_-1;f++){var b=f*x,h=Math.floor(b),S=Math.ceil(b),C=b-h;w[f]=y(g[h],g[S],C)}return w[_-1]=g[g.length-1],w}constructor(g,_){this.hidden=!1,this.boundingSphere=new n.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,_=_||{};var y=Object.assign([],_.transferfn);this.subsamples=_.subsamples||5;let w=256;y.forEach(function(I){I.value=parseFloat(I.value)}),y.sort(function(I,O){return I.value-O.value}),this.min=y[0].value,y.length==0&&y.push(y[0]),this.max=y[y.length-1].value;var x,f,b,h,S,C,M,p,c,E;for(let I=0;I<y.length-1;I++)if(b=o.CC.color(y[I].color),h=o.CC.color(y[I+1].color),c=y[I].opacity,E=y[I+1].opacity,x=Math.floor((y[I].value-this.min)*w/(this.max-this.min)),f=Math.floor((y[I+1].value-this.min)*w/(this.max-this.min)),x!=f){S=u.interpolateArray([b.r*255,h.r*255],f-x),C=u.interpolateArray([b.g*255,h.g*255],f-x),M=u.interpolateArray([b.b*255,h.b*255],f-x),p=u.interpolateArray([c*255,E*255],f-x);for(let O=0;O<S.length;O++)this.transferfunctionbuffer.push(S[O]),this.transferfunctionbuffer.push(C[O]),this.transferfunctionbuffer.push(M[O]),this.transferfunctionbuffer.push(p[O])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),g.matrix){let I=new a.Vector3(0,0,0),O=new a.Vector3(g.size.x,g.size.y,g.size.z),P=new a.Vector3(1,1,1);I.applyMatrix4(g.matrix),O.applyMatrix4(g.matrix),P.applyMatrix4(g.matrix).sub(I),this.extent=[[I.x,I.y,I.z],[O.x,O.y,O.z]];for(let K=1;K<7;K++)O.x=K&1?g.size.x:0,O.y=K&2?g.size.y:0,O.z=K&4?g.size.z:0,O.applyMatrix4(g.matrix),this.extent[0][0]=Math.min(this.extent[0][0],O.x),this.extent[0][1]=Math.min(this.extent[0][1],O.y),this.extent[0][2]=Math.min(this.extent[0][2],O.z),this.extent[1][0]=Math.max(this.extent[1][0],O.x),this.extent[1][1]=Math.max(this.extent[1][1],O.y),this.extent[1][2]=Math.max(this.extent[1][2],O.z);let k=O.x-I.x,B=O.y-I.y,G=O.z-I.z;this.maxdepth=Math.sqrt(k*k+B*B+G*G),this.minunit=Math.min(Math.min(P.x,P.y),P.z),this.texmatrix=new a.Matrix4().identity().scale({x:g.size.x,y:g.size.y,z:g.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(g.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new a.Matrix4().identity();let I=g.unit.x*g.size.x,O=g.unit.y*g.size.y,P=g.unit.z*g.size.z;this.texmatrix.makeTranslation(-g.origin.x/I,-g.origin.y/O,-g.origin.z/P),this.texmatrix.scale({x:1/I,y:1/O,z:1/P}),this.minunit=Math.min(Math.min(g.unit.x,g.unit.y),g.unit.z),this.extent=[[g.origin.x,g.origin.y,g.origin.z],[g.origin.x+I,g.origin.y+O,g.origin.z+P]],this.maxdepth=Math.sqrt(I*I+O*O+P*P)}var D=new l.GLShape({});if(D.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=D.finalize(),this.boundingSphere.center=new a.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,_.coords!==void 0&&_.seldist!==void 0){let I=new Uint8Array(g.data.length),O=_.seldist,P=O*O;for(let k=0,B=_.coords.length;k<B;k++){let G=_.coords[k],K=G.x-O,q=G.y-O,H=G.z-O,$=G.x+O,W=G.y+O,V=G.z+O;if(g.getIndex(K,q,H)>=0||g.getIndex($,W,V)>=0)for(let Z=K;Z<$;Z+=this.minunit)for(let Q=q;Q<W;Q+=this.minunit)for(let ie=H;ie<V;ie+=this.minunit){let Ce=g.getIndex(Z,Q,ie);Ce>=0&&!I[Ce]&&(Z-G.x)*(Z-G.x)+(Q-G.y)*(Q-G.y)+(ie-G.z)*(ie-G.z)<P&&(I[Ce]=1)}}for(let k=0,B=g.data.length;k<B;k++)I[k]==0&&(g.data[k]=1/0)}this.data=g}globj(g){if(this.renderedShapeObj&&(g.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new s.Object3D;var _=null,y=new s.Texture(this.data,!0),w=new s.Texture(this.transferfunctionbuffer,!1);y.needsUpdate=!0,w.needsUpdate=!0,w.flipY=!1,_=new s.VolumetricMaterial({transferfn:w,transfermin:this.min,transfermax:this.max,map:y,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var x=new s.Mesh(this.geo,_);this.shapeObj.add(x),this.renderedShapeObj=this.shapeObj.clone(),g.add(this.renderedShapeObj)}}removegl(g){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),g.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Camera:()=>s});var n=r("./src/WebGL/core/index.ts"),a=r("./src/WebGL/math/index.ts");class s extends n.Object3D{constructor(l=50,u=1,v=.1,g=2e3,_=!1){super(),this.projectionMatrix=new a.Matrix4,this.projectionMatrixInverse=new a.Matrix4,this.matrixWorldInverse=new a.Matrix4,this.fov=l,this.aspect=u,this.near=v,this.far=g;var y=this.position.z;this.right=y*Math.tan(Math.PI/180*l),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!_,this.updateProjectionMatrix()}lookAt(l){this.matrix.lookAt(this.position,l,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof a.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Fog:()=>a});var n=r("./src/colors.ts");class a{constructor(o,l=1,u=1e3){this.name="",this.color=new n.Color(o),this.near=l,this.far=u}clone(){return new a(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Renderer:()=>w});var n=r("./src/WebGL/Camera.ts"),a=r("./src/WebGL/constants/Sides.ts"),s=r("./src/WebGL/constants/TextureConstants.ts"),o=r("./src/WebGL/core/index.ts"),l=r("./src/colors.ts"),u=r("./src/WebGL/materials/index.ts"),v=r("./src/WebGL/math/index.ts"),g=r("./src/WebGL/objects/index.ts"),_=r("./src/WebGL/shaders/index.ts"),y=r("./src/WebGL/SpritePlugin.ts");class w{constructor(f){this.context=null,this.devicePixelRatio=1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldBlending=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._projScreenMatrix=new v.Matrix4,this._vector3=new v.Vector3,this._worldInverse=new v.Matrix4,this._projInverse=new v.Matrix4,this._textureMatrix=new v.Matrix4,this._direction=new v.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new y.SpritePlugin,this._screenshader=null,this._vertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,f=f||{},this.row=f.row,this.col=f.col,this.rows=f.rows,this.cols=f.cols,this._canvas=f.canvas!==void 0?f.canvas:document.createElement("canvas"),this._precision=f.precision!==void 0?f.precision:"highp",this._alpha=f.alpha!==void 0?f.alpha:!0,this._premultipliedAlpha=f.premultipliedAlpha!==void 0?f.premultipliedAlpha:!0,this._antialias=f.antialias!==void 0?f.antialias:!1,this._stencil=f.stencil!==void 0?f.stencil:!0,this._preserveDrawingBuffer=f.preserveDrawingBuffer!==void 0?f.preserveDrawingBuffer:!1,this._clearColor=f.clearColor!==void 0?new l.Color(f.clearColor):new l.Color(0),this._clearAlpha=f.clearAlpha!==void 0?f.clearAlpha:0,this._outlineMaterial=new u.MeshOutlineMaterial(f.outline),this._outlineSphereImposterMaterial=new u.SphereImposterOutlineMaterial(f.outline),this._outlineStickImposterMaterial=new u.StickImposterOutlineMaterial(f.outline),this._outlineEnabled=!!f.outline,this.domElement=this._canvas,this._canvas.id=f.id,this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this)}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1()}}getContext(){return this._gl}isLost(){return this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(f,b){this._clearColor.setHex(f),this._clearAlpha=b,this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(f){this._outlineMaterial=new u.MeshOutlineMaterial(f),this._outlineSphereImposterMaterial=new u.SphereImposterOutlineMaterial(f),this._outlineStickImposterMaterial=new u.StickImposterOutlineMaterial(f),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}setViewport(){if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var f=this._canvas.width/this.cols,b=this._canvas.height/this.rows;this._viewportWidth=f,this._viewportHeight=b,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(f*this.col,b*this.row,f,b),this._gl.viewport(f*this.col,b*this.row,f,b)}}setSize(f,b){if(this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var h=f/this.cols,S=b/this.rows;this._canvas.width=f*this.devicePixelRatio,this._canvas.height=b*this.devicePixelRatio,this._viewportWidth=h*this.devicePixelRatio,this._viewportHeight=S*this.devicePixelRatio,this._canvas.style.width=f+"px",this._canvas.style.height=b+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=f*this.devicePixelRatio,this._viewportHeight=this._canvas.height=b*this.devicePixelRatio,this._canvas.style.width=f+"px",this._canvas.style.height=b+"px",this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(f,b,h){var S=0;(f===void 0||f)&&(S|=this._gl.COLOR_BUFFER_BIT),(b===void 0||b)&&(S|=this._gl.DEPTH_BUFFER_BIT),(h===void 0||h)&&(S|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(S)}clearTarget(f,b,h){this.clear(f,b,h)}setMaterialFaces(f,b){var h=f.side===a.DoubleSide,S=f.side===a.BackSide;f.imposter||(S=b?!S:S),this._oldDoubleSided!==h&&(h?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=h),this._oldFlipSided!==S&&(S?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=S),this._gl.cullFace(this._gl.BACK)}setDepthTest(f){this._oldDepthTest!==f&&(f?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=f)}setDepthWrite(f){this._oldDepthWrite!==f&&(this._gl.depthMask(f),this._oldDepthWrite=f)}setBlending(f){f?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND),this._oldBlending=f}initMaterial(f,b,h,S){f.addEventListener("dispose",this.onMaterialDispose.bind(this));var C,M;if(M=f.shaderID,M){var p=_.ShaderLib[M];f.vertexShader=p.vertexShader,f.fragmentShader=p.fragmentShader,f.uniforms=_.ShaderUtils.clone(p.uniforms)}C={wireframe:f.wireframe,fragdepth:f.imposter,volumetric:f.volumetric},f.program=this.buildProgram(f.fragmentShader,f.vertexShader,f.uniforms,C)}renderBuffer(f,b,h,S,C,M){if(S.visible){var p,c;p=this.setProgram(f,b,h,S,M,this),c=p.attributes;var E=!1,D=S.wireframe?1:0,I=C.id*16777215+p.id*2+D;I!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=I,E=!0),E&&(this.disableAttributes(),c.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglVertexBuffer),this.enableAttribute(c.position),this._gl.vertexAttribPointer(c.position,3,this._gl.FLOAT,!1,0,0)),c.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglColorBuffer),this.enableAttribute(c.color),this._gl.vertexAttribPointer(c.color,3,this._gl.FLOAT,!1,0,0)),c.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglNormalBuffer),this.enableAttribute(c.normal),this._gl.vertexAttribPointer(c.normal,3,this._gl.FLOAT,!1,0,0)),c.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglOffsetBuffer),this.enableAttribute(c.offset),this._gl.vertexAttribPointer(c.offset,3,this._gl.FLOAT,!1,0,0)),c.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglRadiusBuffer),this.enableAttribute(c.radius),this._gl.vertexAttribPointer(c.radius,1,this._gl.FLOAT,!1,0,0)));var O,P;if(M instanceof g.Mesh){if(S.shaderID==="instanced"){var k=S.sphere.geometryGroups[0];E&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,k.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,k.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,k.faceArray,this._gl.STATIC_DRAW)),O=k.faceidx,this._extInstanced.vertexAttribDivisorANGLE(c.offset,1),this._extInstanced.vertexAttribDivisorANGLE(c.radius,1),this._extInstanced.vertexAttribDivisorANGLE(c.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,O,this._gl.UNSIGNED_SHORT,0,C.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(c.offset,0),this._extInstanced.vertexAttribDivisorANGLE(c.radius,0),this._extInstanced.vertexAttribDivisorANGLE(c.color,0)}else S.wireframe?(P=C.lineidx,this.setLineWidth(S.wireframeLinewidth),E&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,P,this._gl.UNSIGNED_SHORT,0)):(O=C.faceidx,E&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,O,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=O,this.info.render.faces+=O/3}else M instanceof g.Line&&(P=C.vertices,this.setLineWidth(S.linewidth),this._gl.drawArrays(this._gl.LINES,0,P),this.info.render.calls++)}}render(f,b,h){if(!(b instanceof n.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var S,C,M,p,c,E=f.__lights,D=f.fog;this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&f.updateMatrixWorld(),b.parent===void 0&&b.updateMatrixWorld(),b.matrixWorldInverse.getInverse(b.matrixWorld),this._projScreenMatrix.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(f),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),(this.autoClear||h)&&(this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)),c=f.__webglObjects;var I=!1;for(S=0,C=c.length;S<C;S++)M=c[S],p=M.object,M.render=!1,p.visible&&(this.setupMatrices(p,b),this.unrollBufferMaterial(M),M.render=!0,M.volumetric&&(I=!0));var O=null;this.setBlending(!1),this.renderObjects(f.__webglObjects,!0,"opaque",b,E,D,!1,O),this.renderSprites(f,b,!1),this.renderObjects(f.__webglObjects,!0,"blank",b,E,D,!0,O),this.renderObjects(f.__webglObjects,!1,"transparent",b,E,D,!0,O),I&&this._fb&&(this.reinitFrameBuffer(),this.renderObjects(f.__webglObjects,!1,"volumetric",b,E,D,!0,O)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(f,b,!0)}reinitFrameBuffer(){this.isWebGL1()||(this._fb=this._gl.createFramebuffer(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0))}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let f=this._viewportWidth,b=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,f,b),this._gl.viewport(0,0,f,b),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,f,b,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,f,b,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let f=this._viewportWidth,b=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,f,b),this._gl.viewport(0,0,f,b),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var h=_.ShaderLib.screen;this._screenshader=this.buildProgram(h.fragmentShader,h.vertexShader,h.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var S=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(S),this._gl.STATIC_DRAW)}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(f){if(f.__webglObjects||(f.__webglObjects=[],f.__webglObjectsImmediate=[],f.__webglSprites=[],f.__webglFlares=[]),f.__objectsAdded.length){for(;f.__objectsAdded.length;)this.addObject(f.__objectsAdded[0],f),f.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;f.__objectsRemoved.length;)this.removeObject(f.__objectsRemoved[0],f),f.__objectsRemoved.splice(0,1);for(var b=0,h=f.__webglObjects.length;b<h;b++)this.updateObject(f.__webglObjects[b].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(f,b){(f==null||b==null)&&(f=this._canvas.width,b=this._canvas.height);var h=f/b;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var S=f/this.cols,C=b/this.rows;h=S/C}return h}setTexture(f,b,h){if(f.needsUpdate){f.__webglInit||(f.__webglInit=!0,f.addEventListener("dispose",this.onTextureDispose.bind(this)),f.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+b);var S=h?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(S,f.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,f.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,f.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,f.unpackAlignment);var C=this.paramToGL(f.format),M=this.paramToGL(f.type);if(h)this.setTextureParameters(this._gl.TEXTURE_3D,f),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,f.image.size.z,f.image.size.y,f.image.size.x,0,this._gl.RED,this._gl.FLOAT,f.image.data);else{var p=f.image,c=p.width,E=p.height;typeof c>"u"&&(c=p.length,C==this._gl.RGBA&&(c/=4),E=1),this.setTextureParameters(this._gl.TEXTURE_2D,f),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,C,C,M,f.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,C,c,E,0,C,M,f.image)}f.needsUpdate=!1,f.onUpdate&&f.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+b),h?this._gl.bindTexture(this._gl.TEXTURE_3D,f.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,f.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(f){this._enabledAttributes[f]||(this._gl.enableVertexAttribArray(f),this._enabledAttributes[f]=!0)}disableAttributes(){for(let f in this._enabledAttributes)this._enabledAttributes[f]&&(this._gl.disableVertexAttribArray(f),this._enabledAttributes[f]=!1)}setPolygonOffset(f,b,h){this._oldPolygonOffset!==f&&(f?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(f){f!==this._oldLineWidth&&(this._gl.lineWidth(f),this._oldLineWidth=f)}deallocateGeometry(f){if(f.__webglInit=void 0,f.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(f.__webglVertexBuffer),f.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(f.__webglColorBuffer),f.geometryGroups!==void 0)for(var b=0,h=f.groups;b<h;b++){var S=f.geometryGroups[b];S.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(S.__webglVertexBuffer),S.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(S.__webglColorBuffer),S.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(S.__webglNormalBuffer),S.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(S.__webglFaceBuffer),S.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(S.__webglLineBuffer)}}deallocateMaterial(f){var b=f.program;if(b!==void 0){f.program=void 0;var h,S,C,M=!1;for(h=0,S=this._programs.length;h<S;h++)if(C=this._programs[h],C.program===b){C.usedTimes--,C.usedTimes===0&&(M=!0);break}if(M===!0){var p=[];for(h=0,S=this._programs.length;h<S;h++)C=this._programs[h],C.program!==b&&p.push(C);this._programs=p,this._gl.deleteProgram(b),this.info.memory.programs--}}}deallocateTexture(f){if(f.image&&f.image.__webglTextureCube)this._gl.deleteTexture(f.image.__webglTextureCube);else{if(!f.__webglInit)return;f.__webglInit=!1,this._gl.deleteTexture(f.__webglTexture)}}onGeometryDispose(f){var b=f.target;b.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(b),this.info.memory.geometries--}onTextureDispose(f){var b=f.target;b.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(b),this.info.memory.textures--}onMaterialDispose(f){var b=f.target;b.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(b)}getShader(f,b){var h;return!this.isWebGL1()&&!b.startsWith("#version")&&(b=b.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),f=="fragment"?b=b.replace(/varying/g,"in"):b=b.replace(/varying/g,"out"),b=b.replace(/attribute/g,"in"),b=b.replace(/texture2D/g,"texture"),b=b.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),b=b.replace(/gl_FragColor/g,"glFragColor"),b=`#version 300 es
`+b),f==="fragment"?h=this._gl.createShader(this._gl.FRAGMENT_SHADER):f==="vertex"&&(h=this._gl.createShader(this._gl.VERTEX_SHADER)),this._gl.shaderSource(h,b),this._gl.compileShader(h),this._gl.getShaderParameter(h,this._gl.COMPILE_STATUS)?h:(console.error(this._gl.getShaderInfoLog(h)),console.error("could not initialize shader"),null)}buildProgram(f,b,h,S){var C,M,p,c,E=[];E.push(f),E.push(b);for(C in S)E.push(C),E.push(S[C]);for(c=E.join(),C=0,M=this._programs.length;C<M;C++){var D=this._programs[C];if(D.code===c)return D.usedTimes++,D.program}if(this.isWebGL1()&&S.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");p=this._gl.createProgram();var I=this._precision,O="precision "+I+" float;",P=[S.volumetric?"#version 300 es":"",O].join(`
`),k=[S.volumetric?"#version 300 es":"",S.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",S.wireframe?"#define WIREFRAME 1":"",O].join(`
`),B=this.getShader("fragment",k+f),G=this.getShader("vertex",P+b);this._gl.attachShader(p,G),this._gl.attachShader(p,B),this._gl.linkProgram(p),this._gl.getProgramParameter(p,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),p.uniforms={},p.attributes={};var K,q,H;K=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"];for(q in h)K.push(q);for(H=0;H<K.length;H++){var $=K[H];p.uniforms[$]=this._gl.getUniformLocation(p,$)}for(K=["position","normal","color","lineDistance","offset","radius"],H=0;H<K.length;H++){var W=K[H];p.attributes[W]=this._gl.getAttribLocation(p,W)}return p.id=this._programs_counter++,this._programs.push({program:p,code:c,usedTimes:1}),this.info.memory.programs=this._programs.length,p}setProgram(f,b,h,S,C,M){S.needsUpdate&&(S.program&&this.deallocateMaterial(S),this.initMaterial(S,b,h,C),S.needsUpdate=!1);var p=!1,c=S.program,E=c.uniforms,D=S.uniforms;if(c!=this._currentProgram&&(this._gl.useProgram(c),this._currentProgram=c,p=!0),S.id!=this._currentMaterialId&&(this._currentMaterialId=S.id,p=!0),f!=this._currentCamera&&(this._currentCamera=f,p=!0),this._gl.uniformMatrix4fv(E.projectionMatrix,!1,f.projectionMatrix.elements),this._gl.uniformMatrix4fv(E.modelViewMatrix,!1,C._modelViewMatrix.elements),this._gl.uniformMatrix3fv(E.normalMatrix,!1,C._normalMatrix.elements),p){if(D.fogColor.value=h.color,D.fogNear.value=h.near,D.fogFar.value=h.far,S.shaderID.startsWith("lambert")||S.shaderID==="instanced"||S.shaderID.endsWith("imposter"))this._gl.uniformMatrix4fv(E.viewMatrix,!1,f.matrixWorldInverse.elements),this._lightsNeedUpdate&&(this.setupLights(c,b),this._lightsNeedUpdate=!1),D.directionalLightColor.value=this._lights.directional.colors,D.directionalLightDirection.value=this._lights.directional.positions;else if(S.shaderID.endsWith("outline"))D.outlineColor.value=S.outlineColor,D.outlineWidth.value=S.outlineWidth,D.outlinePushback.value=S.outlinePushback;else if(S.shaderID==="volumetric"){C._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(C._modelViewMatrix),this._projInverse.getInverse(f.projectionMatrix),this._textureMatrix.multiplyMatrices(C.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(E.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(E.projinv,!1,this._projInverse.elements);let I=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);D.step.value=C.material.unit*I,D.maxdepth.value=C.material.maxdepth*I,D.transfermax.value=C.material.transfermax,D.transfermin.value=C.material.transfermin,D.subsamples.value=C.material.subsamples,M.setTexture(C.material.transferfn,4,!1),M.setTexture(C.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}D.opacity.value=S.opacity,this.loadMaterialUniforms(E,D)}return c}loadMaterialUniforms(f,b){var h,S,C,M;for(h in b)f[h]&&(S=b[h].type,C=b[h].value,M=f[h],S==="f"?this._gl.uniform1f(M,C):S==="i"?this._gl.uniform1i(M,C):S==="fv"?this._gl.uniform3fv(M,C):S==="c"?this._gl.uniform3f(M,C.r,C.g,C.b):S==="f4"&&this._gl.uniform4f(M,C[0],C[1],C[2],C[3]))}addObject(f,b){var h,S,C,M,p;if(!f.__webglInit&&(f.__webglInit=!0,f._modelViewMatrix=new v.Matrix4,f._normalMatrix=new v.Matrix3,f.geometry!==void 0&&f.geometry.__webglInit===void 0&&(f.geometry.__webglInit=!0,f.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),f instanceof g.Mesh||f instanceof g.Line))for(C=f.geometry,M=f.material,h=0,S=C.geometryGroups.length;h<S;h++)p=C.geometryGroups[h],p.id=this._geometryGroupCounter++,p.__webglVertexBuffer||(f instanceof g.Mesh?(this.createMeshBuffers(p),C.elementsNeedUpdate=!0,C.normalsNeedUpdate=!0):f instanceof g.Line&&this.createLineBuffers(p),C.verticesNeedUpdate=!0,C.colorsNeedUpdate=!0);if(!f.__webglActive){if(f instanceof g.Mesh||f instanceof g.Line)for(C=f.geometry,h=0,S=C.geometryGroups.length;h<S;h++)p=C.geometryGroups[h],this.addBuffer(b.__webglObjects,p,f);else f instanceof g.Sprite&&b.__webglSprites.push(f);f.__webglActive=!0}}updateObject(f){var b=f.geometry,h;if(f instanceof g.Mesh||f instanceof g.Line){for(var S=0,C=b.geometryGroups.length;S<C;S++)h=b.geometryGroups[S],(b.verticesNeedUpdate||b.elementsNeedUpdate||b.colorsNeedUpdate||b.normalsNeedUpdate)&&this.setBuffers(h,this._gl.STATIC_DRAW);b.verticesNeedUpdate=!1,b.elementsNeedUpdate=!1,b.normalsNeedUpdate=!1,b.colorsNeedUpdate=!1,b.buffersNeedUpdate=!1}}removeObject(f,b){f instanceof g.Mesh||f instanceof g.Line?this.removeInstances(b.__webglObjects,f):f instanceof g.Sprite&&this.removeInstancesDirect(b.__webglSprites,f),f.__webglActive=!1}removeInstances(f,b){for(var h=f.length-1;h>=0;--h)f[h].object===b&&f.splice(h,1)}removeInstancesDirect(f,b){for(var h=f.length-1;h>=0;--h)f[h]===b&&f.splice(h,1)}unrollBufferMaterial(f){var b=f.object,h=b.material;if(h.volumetric)f.opaque=null,f.transparent=null,f.volumetric=h;else if(h.transparent){if(f.opaque=null,f.volumetric=null,f.transparent=h,!h.wireframe){var S=h.clone();S.opacity=0,f.blank=S}}else f.opaque=h,f.transparent=null,f.volumetric=null}setBuffers(f,b){var h=f.vertexArray,S=f.colorArray;if(f.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,f.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,h,b)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,f.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,h,b)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,f.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,S,b),f.normalArray&&f.__webglNormalBuffer!==void 0){var C=f.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,f.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,C,b)}if(f.radiusArray&&f.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,f.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,f.radiusArray,b)),f.faceArray&&f.__webglFaceBuffer!==void 0){var M=f.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,f.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,M,b)}if(f.lineArray&&f.__webglLineBuffer!==void 0){var p=f.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,f.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,p,b)}}createMeshBuffers(f){f.radiusArray&&(f.__webglRadiusBuffer=this._gl.createBuffer()),f.useOffset&&(f.__webglOffsetBuffer=this._gl.createBuffer()),f.__webglVertexBuffer=this._gl.createBuffer(),f.__webglNormalBuffer=this._gl.createBuffer(),f.__webglColorBuffer=this._gl.createBuffer(),f.__webglFaceBuffer=this._gl.createBuffer(),f.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(f){f.__webglVertexBuffer=this._gl.createBuffer(),f.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(f,b,h){f.push({buffer:b,object:h,opaque:null,transparent:null})}setupMatrices(f,b){f._modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,f.matrixWorld),f._normalMatrix.getInverse(f._modelViewMatrix),f._normalMatrix.transpose()}filterFallback(f){return this._gl.LINEAR}setTextureParameters(f,b){f==this._gl.TEXTURE_2D?(this._gl.texParameteri(f,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(f,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(f,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(b.magFilter)),this._gl.texParameteri(f,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(b.minFilter))):(this._gl.texParameteri(f,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(f,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(f,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(f,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(f,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(f,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(f,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(f){return f===s.UnsignedByteType?this._gl.UNSIGNED_BYTE:f===s.RGBAFormat?this._gl.RGBA:f===s.NearestFilter?this._gl.NEAREST:0}setupLights(f,b){var h,S,C,M=0,p=0,c=0,E,D,I,O=this._lights,P=O.directional.colors,k=O.directional.positions,B=0,G=0,K=0;for(h=0,S=b.length;h<S;h++)if(C=b[h],E=C.color,D=C.intensity,I=C.distance,C instanceof o.Light){if(B++,this._direction.getPositionFromMatrix(C.matrixWorld),this._vector3.getPositionFromMatrix(C.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;k[K]=this._direction.x,k[K+1]=this._direction.y,k[K+2]=this._direction.z,P[K]=E.r*D,P[K+1]=E.g*D,P[K+2]=E.b*D,K+=3,G++}O.ambient[0]=M,O.ambient[1]=p,O.ambient[2]=c,O.directional.length=G}initGL(){try{if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var f=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(f[6])}catch(b){console.error(b)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearColor(0,0,0,1),this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(f,b,h,S,C,M,p,O){var E,D,I,O,P,k,B;b?(P=f.length-1,k=-1,B=-1):(P=0,k=f.length,B=1);for(var G=P;G!==k;G+=B)if(E=f[G],E.render){if(D=E.object,I=E.buffer,O=E[h],!O)continue;p&&this.setBlending(!0),this.setDepthTest(O.depthTest),this.setDepthWrite(O.depthWrite),this.setPolygonOffset(O.polygonOffset,O.polygonOffsetFactor,O.polygonOffsetUnits);var K=D._modelViewMatrix.isReflected();this.setMaterialFaces(O,K),this.renderBuffer(S,C,M,O,I,D),(this._outlineEnabled||O.outline)&&(O.shaderID=="sphereimposter"?this.renderBuffer(S,C,M,this._outlineSphereImposterMaterial,I,D):O.shaderID=="stickimposter"?this.renderBuffer(S,C,M,this._outlineStickImposterMaterial,I,D):!O.wireframe&&O.shaderID!=="basic"&&O.opacity!==0&&this.renderBuffer(S,C,M,this._outlineMaterial,I,D))}}renderSprites(f,b,h){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldBlending=-1,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(f,b,this._currentWidth,this._currentHeight,h),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldBlending=-1,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpritePlugin:()=>a});var n=r("./src/WebGL/shaders/index.ts");class a{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(l){this.gl=l.context,this.renderer=l,this.precision=l.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var u=0;this.sprite.vertices[u++]=-1,this.sprite.vertices[u++]=-1,this.sprite.vertices[u++]=0,this.sprite.vertices[u++]=0,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=-1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=0,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=-1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=0,this.sprite.vertices[u++]=1,u=0,this.sprite.faces[u++]=0,this.sprite.faces[u++]=1,this.sprite.faces[u++]=2,this.sprite.faces[u++]=0,this.sprite.faces[u++]=2,this.sprite.faces[u++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(n.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};let v={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),v.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),v.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),v.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),v.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),v.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),v.color=this.gl.getUniformLocation(this.sprite.program,"color"),v.map=this.gl.getUniformLocation(this.sprite.program,"map"),v.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),v.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),v.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),v.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),v.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),v.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),v.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),v.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),v.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),v.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),v.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=v}render(l,u,v,g,_){var y,w,x,f,b,h,S,C,M,p;if(!this.gl)throw new Error("WebGLRenderer not initialized");let c=[];(y=l?.__webglSprites)===null||y===void 0||y.forEach(ie=>{(_&&ie.material.depthTest==!1||!_&&ie.material.depthTest)&&c.push(ie)});let E=c.length;if(!E)return;let D=this.sprite.attributes,I=this.sprite.uniforms;if(!I)throw new Error("Uniforms not defined");var O=v*.5,P=g*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(D.position),this.gl.enableVertexAttribArray(D.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(D.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(D.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(I.projectionMatrix,!1,u.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(I.map,0);var k=0,B=0,G=l.fog;G?(this.gl.uniform3f(I.fogColor,G.color.r,G.color.g,G.color.b),this.gl.uniform1f(I.fogNear,G.near),this.gl.uniform1f(I.fogFar,G.far),this.gl.uniform1i(I.fogType,1),k=1,B=1):(this.gl.uniform1i(I.fogType,0),k=0,B=0);var K;let q,H,$,W,V=[];for(K=0;K<E;K++)q=c[K],H=q.material,H&&(H.depthTest==!1&&!_||!q.visible||H.opacity===0||(H.useScreenCoordinates?q.z=-q.position.z:(q._modelViewMatrix.multiplyMatrices(u.matrixWorldInverse,q.matrixWorld),q.z=-q._modelViewMatrix.elements[14])));for(c.sort(s),K=0;K<E;K++)if(q=c[K],H=q.material,!!H&&!(!q.visible||H.opacity===0)&&H.map&&H.map.image&&H.map.image.width){this.gl.uniform1f(I?.alphaTest||null,H.alphaTest);var Z=H.map.image.width,Q=H.map.image.height;V[0]=Z*this.renderer.devicePixelRatio/v,V[1]=Q*this.renderer.devicePixelRatio/g,H.useScreenCoordinates===!0?(this.gl.uniform1i(I.useScreenCoordinates,1),this.gl.uniform3f(I.screenPosition,(q.position.x*this.renderer.devicePixelRatio-O)/O,(P-q.position.y*this.renderer.devicePixelRatio)/P,Math.max(0,Math.min(1,q.position.z)))):(this.gl.uniform1i(I.useScreenCoordinates,0),this.gl.uniformMatrix4fv(I.modelViewMatrix,!1,q._modelViewMatrix.elements)),l.fog&&H.fog?W=B:W=0,k!==W&&(this.gl.uniform1i(I.fogType,W),k=W),$=1/(H.scaleByViewport?g:1),V[0]*=$*q.scale.x,V[1]*=$*q.scale.y;let ie=(w=H?.alignment)===null||w===void 0?void 0:w.x,Ce=(x=H?.alignment)===null||x===void 0?void 0:x.y;H.screenOffset&&(ie=(ie||0)+2*H.screenOffset.x/Z,Ce=(Ce||0)+2*H.screenOffset.y/Q),this.gl.uniform2f(I.uvScale,((f=H?.uvScale)===null||f===void 0?void 0:f.x)||1,((b=H?.uvScale)===null||b===void 0?void 0:b.y)||1),this.gl.uniform2f(I.uvOffset,((h=H?.uvOffset)===null||h===void 0?void 0:h.x)||0,((S=H?.uvOffset)===null||S===void 0?void 0:S.y)||0),this.gl.uniform2f(I.alignment,ie||0,Ce||0),this.gl.uniform1f(I.opacity,H.opacity),this.gl.uniform3f(I.color,((C=H?.color)===null||C===void 0?void 0:C.r)||0,((M=H?.color)===null||M===void 0?void 0:M.g)||0,((p=H?.color)===null||p===void 0?void 0:p.b)||0),this.gl.uniform1f(I.rotation,q.rotation),this.gl.uniform2fv(I.scale,V),this.renderer.setDepthTest(H.depthTest),this.renderer.setDepthWrite(H.depthWrite),this.renderer.setTexture(H.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(l,u){if(!this.gl)throw new Error("WebGL Rendering context not found");var v=this.gl.createProgram();if(!v)throw new Error("Error creating webgl program");var g=this.gl.createShader(this.gl.FRAGMENT_SHADER),_=this.gl.createShader(this.gl.VERTEX_SHADER);if(!g)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!_)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var y="precision "+u+` float;
`;if(this.gl.shaderSource(g,y+l.fragmentShader),this.gl.shaderSource(_,y+l.vertexShader),this.gl.compileShader(g),this.gl.compileShader(_),!this.gl.getShaderParameter(g,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(_,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(g)} 
      ${this.gl.getShaderInfoLog(_)}`);return this.gl.attachShader(v,g),this.gl.attachShader(v,_),this.gl.linkProgram(v),this.gl.getProgramParameter(v,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),v}}function s(o,l){return o.z!==l.z?l.z-o.z:l.id-o.id}},"./src/WebGL/constants/Coloring.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Coloring:()=>n});var n;(function(a){a[a.NoColors=0]="NoColors",a[a.FaceColors=1]="FaceColors",a[a.VertexColors=2]="VertexColors"})(n||(n={}))},"./src/WebGL/constants/Shading.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Shading:()=>n});var n;(function(a){a[a.NoShading=0]="NoShading",a[a.FlatShading=1]="FlatShading",a[a.SmoothShading=2]="SmoothShading"})(n||(n={}))},"./src/WebGL/constants/Sides.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>a,DoubleSide:()=>s,FrontSide:()=>n});let n=0,a=1,s=2},"./src/WebGL/constants/SpriteAlignment.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpriteAlignment:()=>a});var n=r("./src/WebGL/math/index.ts");let a={topLeft:new n.Vector2(1,-1),topCenter:new n.Vector2(0,-1),topRight:new n.Vector2(-1,-1),centerLeft:new n.Vector2(1,0),center:new n.Vector2(0,0),centerRight:new n.Vector2(-1,0),bottomLeft:new n.Vector2(1,1),bottomCenter:new n.Vector2(0,1),bottomRight:new n.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ClampToEdgeWrapping:()=>n,FloatType:()=>u,LinearFilter:()=>a,LinearMipMapLinearFilter:()=>o,NearestFilter:()=>s,R32Format:()=>_,RFormat:()=>g,RGBAFormat:()=>v,UnsignedByteType:()=>l});let n=1001,a=1006,s=1007,o=1008,l=1009,u=1010,v=1021,g=1022,_=1023},"./src/WebGL/constants/TextureOperations.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TextureOperations:()=>n});var n;(function(a){a[a.MultiplyOperation=0]="MultiplyOperation",a[a.MixOperation=1]="MixOperation",a[a.AddOperation=2]="AddOperation"})(n||(n={}))},"./src/WebGL/constants/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>a.BackSide,ClampToEdgeWrapping:()=>l.ClampToEdgeWrapping,Coloring:()=>n.Coloring,DoubleSide:()=>a.DoubleSide,FloatType:()=>l.FloatType,FrontSide:()=>a.FrontSide,LinearFilter:()=>l.LinearFilter,LinearMipMapLinearFilter:()=>l.LinearMipMapLinearFilter,NearestFilter:()=>l.NearestFilter,R32Format:()=>l.R32Format,RFormat:()=>l.RFormat,RGBAFormat:()=>l.RGBAFormat,Shading:()=>s.Shading,SpriteAlignment:()=>o.SpriteAlignment,TextureOperations:()=>u.TextureOperations,UnsignedByteType:()=>l.UnsignedByteType});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Sides.ts"),s=r("./src/WebGL/constants/Shading.ts"),o=r("./src/WebGL/constants/SpriteAlignment.ts"),l=r("./src/WebGL/constants/TextureConstants.ts"),u=r("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{EventDispatcher:()=>n});class n{constructor(){this.listeners={}}dispatchEvent(s){var o=this.listeners[s.type];if(o!==void 0){s.target=this;for(var l=0,u=o.length;l<u;l++)o[l].call(this,s)}}removeEventListener(s,o){if(!o)this.listeners[s]=[];else{var l=this.listeners[s].indexOf(o);l!==-1&&this.listeners[s].splice(l,1)}}addEventListener(s,o){this.listeners[s]===void 0&&(this.listeners[s]=[]),this.listeners[s].indexOf(o)===-1&&this.listeners[s].push(o)}}},"./src/WebGL/core/Geometry.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Geometry:()=>v,GeometryGroup:()=>u,GeometryIDCount:()=>g});var n=r("./src/WebGL/materials/LineBasicMaterial.ts"),a=r("./src/WebGL/core/EventDispatcher.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts");let l=65535;class u{constructor(y=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=y}setColors(y){var w=this.vertexArray,x=this.colorArray;if(!w)throw new Error("vertex array not initialized");if(!x)throw new Error("color array not initialized");if(w.length!=x.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var f=0;f<w.length;f+=3){var b=y(w[f],w[f+1],w[f+2]);b instanceof o.Color||(b=o.CC.color(b)),x[f]=b.r,x[f+1]=b.g,x[f+2]=b.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var y=new s.Vector3,w,x,f,b,h=0;h<this.vertices;++h)w=h*3,x=this.vertexArray[w],f=this.vertexArray[w+1],b=this.vertexArray[w+2],y.x+=x,y.y+=f,y.z+=b;return y.divideScalar(this.vertices),y}setNormals(){var y=this.faceArray,w=this.vertexArray,x=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!y)throw new Error("face array not initialized");if(!w)throw new Error("vertex array not initialized");if(!x)throw new Error("normal array not initialized");for(var f,b,h,S,C,M,p,c=0;c<y.length/3;++c)f=y[c*3]*3,b=y[c*3+1]*3,h=y[c*3+2]*3,S=new s.Vector3(w[f],w[f+1],w[f+2]),C=new s.Vector3(w[b],w[b+1],w[b+2]),M=new s.Vector3(w[h],w[h+1],w[h+2]),S.subVectors(S,C),M.subVectors(M,C),M.cross(S),p=M,p.normalize(),x[f]+=p.x,x[b]+=p.x,x[h]+=p.x,x[f+1]+=p.y,x[b+1]+=p.y,x[h+1]+=p.y,x[f+2]+=p.z,x[b+2]+=p.z,x[h+2]+=p.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var y=this.faceArray,w=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!y)throw new Error("face array not initialized");for(var x=0;x<this.faceidx/3;++x){var f=x*3,b=f*2,h=y[f],S=y[f+1],C=y[f+2];w[b]=h,w[b+1]=S,w[b+2]=h,w[b+3]=C,w[b+4]=S,w[b+5]=C}}}vrml(y,w){var x,f,b,h,S,C,M,p,c,E,D,I,O,P,k,B="";B+=y+`Shape {
`+y+` appearance Appearance {
`+y+`  material Material {
`+y+"   diffuseColor "+((x=w?.color)===null||x===void 0?void 0:x.r)+" "+((f=w?.color)===null||f===void 0?void 0:f.g)+" "+((b=w?.color)===null||b===void 0?void 0:b.b)+`
`,w?.transparent&&(B+=y+"   transparency "+(1-w.opacity)+`
`),B+=y+`  }
`,B+=y+` }
`;var G=y;if(y+=" ",w instanceof n.LineBasicMaterial){B+=y+`geometry IndexedLineSet {
`+y+` colorPerVertex TRUE
`+y+` coord Coordinate {
`+y+`  point [
`;let q,H,$;for(let W=0;W<this.vertices;++W){let V=W*3;q=(h=this.vertexArray)===null||h===void 0?void 0:h[V],H=(S=this.vertexArray)===null||S===void 0?void 0:S[V+1],$=(C=this.vertexArray)===null||C===void 0?void 0:C[V+2],B+=y+"   "+q+" "+H+" "+$+`,
`}if(B+=y+`  ]
`,B+=y+` }
`,this.colorArray){B+=y+` color Color {
`+y+`  color [
`;for(let W=0;W<this.vertices;++W){let V=W*3;q=this.colorArray[V],H=this.colorArray[V+1],$=this.colorArray[V+2],B+=y+"   "+q+" "+H+" "+$+`,
`}B+=y+`  ]
`,B+=y+` }
`}B+=y+` coordIndex [
`;for(let W=0;W<this.vertices;W+=2)B+=y+"  "+W+", "+(W+1)+`, -1,
`;B+=y+` ]
`,B+=y+`}
`}else{B+=y+`geometry IndexedFaceSet {
`+y+` colorPerVertex TRUE
`+y+` normalPerVertex TRUE
`+y+` solid FALSE
`,B+=y+` coord Coordinate {
`+y+`  point [
`;let q,H,$;for(let W=0;W<this.vertices;++W){let V=W*3;q=(M=this.vertexArray)===null||M===void 0?void 0:M[V],H=(p=this.vertexArray)===null||p===void 0?void 0:p[V+1],$=(c=this.vertexArray)===null||c===void 0?void 0:c[V+2],B+=y+"   "+q+" "+H+" "+$+`,
`}B+=y+`  ]
`,B+=y+` }
`,B+=y+` normal Normal {
`+y+`  vector [
`;for(let W=0;W<this.vertices;++W){let V=W*3;q=(E=this.normalArray)===null||E===void 0?void 0:E[V],H=(D=this.normalArray)===null||D===void 0?void 0:D[V+1],$=(I=this.normalArray)===null||I===void 0?void 0:I[V+2],B+=y+"   "+q+" "+H+" "+$+`,
`}if(B+=y+`  ]
`,B+=y+` }
`,this.colorArray){B+=y+` color Color {
`+y+`  color [
`;for(let W=0;W<this.vertices;++W){let V=W*3;q=this.colorArray[V],H=this.colorArray[V+1],$=this.colorArray[V+2],B+=y+"   "+q+" "+H+" "+$+`,
`}B+=y+`  ]
`,B+=y+` }
`}B+=y+` coordIndex [
`;for(var K=0;K<this.faceidx;K+=3)q=(O=this.faceArray)===null||O===void 0?void 0:O[K],H=(P=this.faceArray)===null||P===void 0?void 0:P[K+1],$=(k=this.faceArray)===null||k===void 0?void 0:k[K+2],B+=y+"  "+q+", "+H+", "+$+`, -1,
`;B+=y+` ]
`,B+=y+`}
`}return B+=G+"}",B}truncateArrayBuffers(y=!0,w=!1){var x=this.vertexArray,f=this.colorArray,b=this.normalArray,h=this.faceArray,S=this.lineArray,C=this.radiusArray;this.vertexArray=x?.subarray(0,this.vertices*3)||null,this.colorArray=f?.subarray(0,this.vertices*3)||null,y?(this.normalArray=b?.subarray(0,this.vertices*3)||null,this.faceArray=h?.subarray(0,this.faceidx)||null,this.lineidx>0?this.lineArray=S?.subarray(0,this.lineidx)||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),C&&(this.radiusArray=C.subarray(0,this.vertices)),w&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class v extends a.EventDispatcher{constructor(y=!1,w=!1,x=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=g++,this.mesh=y,this.radii=w,this.offset=x}updateGeoGroup(y=0){var w,x=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!x||x.vertices+y>(((w=x?.vertexArray)===null||w===void 0?void 0:w.length)||0)/3)&&(x=this.addGeoGroup()),x}vrml(y,w){for(var x="",f=this.geometryGroups.length,b=0;b<f;b++){var h=this.geometryGroups[b];x+=h.vrml(y,w)+`,
`}return x}addGeoGroup(){var y=new u(this.geometryGroups.length);return this.geometryGroups.push(y),this.groups=this.geometryGroups.length,y.vertexArray=new Float32Array(l*3),y.colorArray=new Float32Array(l*3),this.mesh&&(y.normalArray=new Float32Array(l*3),y.faceArray=new Uint16Array(l*6),y.lineArray=new Uint16Array(l*6)),this.radii&&(y.radiusArray=new Float32Array(l)),y.useOffset=this.offset,y}setUpNormals(...y){for(var w=0;w<this.groups;w++){var x=this.geometryGroups[w];x.setNormals(...y)}}setColors(...y){for(var w=this.geometryGroups.length,x=0;x<w;x++){var f=this.geometryGroups[x];f.setColors(...y)}}setUpWireframe(...y){for(var w=0;w<this.groups;w++){var x=this.geometryGroups[w];x.setLineIndices(...y)}}initTypedArrays(){for(var y=0;y<this.groups;y++){var w=this.geometryGroups[y];w.__inittedArrays!==!0&&w.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var y=0,w=0;w<this.groups;w++)y+=this.geometryGroups[w].vertices;return y}}let g=0},"./src/WebGL/core/Object3D.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Light:()=>u,Object3D:()=>o,Object3DIDCount:()=>s,Scene:()=>l});var n=r("./src/WebGL/math/index.ts"),a=r("./src/colors.ts");let s=0;class o{constructor(){this.id=s++,this.name="",this.children=[],this.position=new n.Vector3,this.rotation=new n.Vector3,this.matrix=new n.Matrix4,this.matrixWorld=new n.Matrix4,this.quaternion=new n.Quaternion,this.eulerOrder="XYZ",this.up=new n.Vector3(0,1,0),this.scale=new n.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(g){this.matrix.lookAt(g,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof n.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(g){if(g===this){console.error("Can't add $3Dmol.Object3D to itself");return}g.parent=this,this.children.push(g);for(var _=this;_.parent!==void 0;)_=_.parent;_!==void 0&&_ instanceof l&&_.__addObject(g)}remove(g){var _=this.children.indexOf(g);if(_!==-1){g.parent=void 0,this.children.splice(_,1);for(var y=this;y.parent!==void 0;)y=y.parent;y!==void 0&&y instanceof l&&y.__removeObject(g)}}vrml(g){g||(g=" ");var _=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),y=0,w=0,x=0;if(_!=0){let h=Math.sin(_/2);y=this.quaternion.x/h,w=this.quaternion.y/h,x=this.quaternion.z/h}var f=g+`Transform {
`+g+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+g+" rotation "+y+" "+w+" "+x+" "+_+`
`+g+` children [
`;this.geometry&&(f+=this.geometry.vrml(g,this.material));for(var b=0;b<this.children.length;b++)f+=this.children[b].vrml(g+" ")+`,
`;return f+=` ]
`,f+="}",f}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof n.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(g){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||g===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var _=0;_<this.children.length;_++)this.children[_].updateMatrixWorld(!0)}clone(g){g===void 0&&(g=new o),g.name=this.name,g.up.copy(this.up),g.position.copy(this.position),g.rotation instanceof n.Vector3&&this.rotation instanceof n.Vector3?g.rotation.copy(this.rotation):g.rotation=this.rotation,g.eulerOrder=this.eulerOrder,g.scale.copy(this.scale),g.rotationAutoUpdate=this.rotationAutoUpdate,g.matrix.copy(this.matrix),g.matrixWorld.copy(this.matrixWorld),g.quaternion.copy(this.quaternion),g.matrixAutoUpdate=this.matrixAutoUpdate,g.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,g.useQuaternion=this.useQuaternion,g.visible=this.visible;for(var _=0;_<this.children.length;_++){var y=this.children[_];g.add(y.clone())}return g}setVisible(g){this.visible=g;for(var _=0;_<this.children.length;_++){var y=this.children[_];y.setVisible(g)}}}class l extends o{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(g){if(g instanceof u)this.__lights.indexOf(g)===-1&&this.__lights.push(g),g.target&&g.target.parent===void 0&&this.add(g.target);else if(this.__objects.indexOf(g)===-1){this.__objects.push(g),this.__objectsAdded.push(g);var _=this.__objectsRemoved.indexOf(g);_!==-1&&this.__objectsRemoved.splice(_,1)}for(var y=0;y<g.children.length;y++)this.__addObject(g.children[y])}__removeObject(g){var _;if(g instanceof u)_=this.__lights.indexOf(g),_!==-1&&this.__lights.splice(_,1);else if(_=this.__objects.indexOf(g),_!==-1){this.__objects.splice(_,1),this.__objectsRemoved.push(g);var y=this.__objectsAdded.indexOf(g);y!==-1&&this.__objectsAdded.splice(_,1)}for(var w=0;w<g.children.length;w++)this.__removeObject(g.children[w])}}class u extends o{constructor(g,_=1){super(),this.position=new n.Vector3(0,1,0),this.target=new o,this.castShadow=!1,this.onlyShadow=!1,this.color=new a.Color(g),this.intensity=_}}},"./src/WebGL/core/Projector.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Projector:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Matrix4;class s{static unprojectVector(l,u){return u.projectionMatrixInverse.getInverse(u.projectionMatrix),a.multiplyMatrices(u.matrixWorld,u.projectionMatrixInverse),l.applyProjection(a)}static projectVector(l,u){return u.matrixWorldInverse.getInverse(u.matrixWorld),a.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse),l.applyProjection(a)}projectVector(l,u){return s.projectVector(l,u)}unprojectVector(l,u){return s.unprojectVector(l,u)}}},"./src/WebGL/core/Raycaster.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Raycaster:()=>l,intersectObject:()=>h});var n=r("./src/WebGL/math/index.ts"),a=r("./src/WebGL/shapes/index.ts");let s=(S,C)=>S.distance-C.distance,o=new n.Matrix4;class l{constructor(C,M,p,c){this.precision=1e-4,this.linePrecision=.2,this.ray=new n.Ray(C,M),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=c||0,this.far=p||1/0}set(C,M){this.ray.set(C,M)}setFromCamera(C,M){M.ortho?(this.ray.origin.set(C.x,C.y,(M.near+M.far)/(M.near-M.far)).unproject(M),this.ray.direction.set(0,0,-1).transformDirection(M.matrixWorld)):(this.ray.origin.setFromMatrixPosition(M.matrixWorld),this.ray.direction.set(C.x,C.y,C.z),M.projectionMatrixInverse.getInverse(M.projectionMatrix),o.multiplyMatrices(M.matrixWorld,M.projectionMatrixInverse),this.ray.direction.applyProjection(o),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(C,M){for(var p=[],c=0,E=M.length;c<E;c++)h(C,M[c],this,p);return p.sort(s),p}}let u=S=>Math.min(Math.max(S,-1),1);var v=new a.Sphere,g=new a.Cylinder,_=new a.Triangle,y=new n.Vector3,w=new n.Vector3,x=new n.Vector3,f=new n.Vector3,b=new n.Vector3;function h(S,C,M,p){if(b.getPositionFromMatrix(S.matrixWorld),C.intersectionShape===void 0)return p;var c=C.intersectionShape,E=M.linePrecision;E*=S.matrixWorld.getMaxScaleOnAxis();var D=E*E;if(C.boundingSphere!==void 0&&C.boundingSphere instanceof a.Sphere&&(v.copy(C.boundingSphere),v.applyMatrix4(S.matrixWorld),!M.ray.isIntersectionSphere(v)))return p;var I,O,P,k,B,G,K,q,H,$,W,V,Z,Q;for(I=0,O=c.triangle.length;I<O;I++)if(c.triangle[I]instanceof a.Triangle){if(_.copy(c.triangle[I]),_.applyMatrix4(S.matrixWorld),P=_.getNormal(),k=M.ray.direction.dot(P),k>=0||(y.subVectors(_.a,M.ray.origin),K=P.dot(y)/k,K<0))continue;w.copy(M.ray.direction).multiplyScalar(K).add(M.ray.origin),w.sub(_.a),x.copy(_.b).sub(_.a),f.copy(_.c).sub(_.a);var ie=x.dot(f),Ce=x.lengthSq(),De=f.lengthSq();if(V=(Ce*w.dot(f)-ie*w.dot(x))/(Ce*De-ie*ie),V<0||V>1||(W=(w.dot(x)-V*ie)/Ce,W<0||W>1||W+V>1))continue;p.push({clickable:C,distance:K})}for(I=0,O=c.cylinder.length;I<O;I++)if(c.cylinder[I]instanceof a.Cylinder){if(g.copy(c.cylinder[I]),g.applyMatrix4(S.matrixWorld),y.subVectors(g.c1,M.ray.origin),B=y.dot(g.direction),G=y.dot(M.ray.direction),k=u(M.ray.direction.dot(g.direction)),H=1-k*k,H===0)continue;Z=(k*G-B)/H,Q=(G-k*B)/H,w.copy(g.direction).multiplyScalar(Z).add(g.c1),x.copy(M.ray.direction).multiplyScalar(Q).add(M.ray.origin),q=f.subVectors(w,x).lengthSq();var Me=g.radius*g.radius;if(q<=Me){if($=(k*B-G)*(k*B-G)-H*(y.lengthSq()-B*B-Me),$<=0?V=K=Math.sqrt(q):V=K=(G-k*B-Math.sqrt($))/H,W=k*V-B,W<0||W*W>g.lengthSq()||V<0)continue;p.push({clickable:C,distance:K})}}for(I=0,O=c.line.length;I<O;I+=2){w.copy(c.line[I]),w.applyMatrix4(S.matrixWorld),x.copy(c.line[I+1]),x.applyMatrix4(S.matrixWorld),f.subVectors(x,w);var Ne=f.lengthSq();f.normalize(),y.subVectors(w,M.ray.origin);var Te=y.dot(f);G=y.dot(M.ray.direction),k=u(M.ray.direction.dot(f)),H=1-k*k,H!==0&&(Z=(k*G-Te)/H,Q=(G-k*Te)/H,w.add(f.multiplyScalar(Z)),x.copy(M.ray.direction).multiplyScalar(Q).add(M.ray.origin),q=f.subVectors(x,w).lengthSq(),q<D&&Z*Z<Ne&&p.push({clickable:C,distance:Q}))}for(I=0,O=c.sphere.length;I<O;I++)if(c.sphere[I]instanceof a.Sphere&&(v.copy(c.sphere[I]),v.applyMatrix4(S.matrixWorld),M.ray.isIntersectionSphere(v))){w.subVectors(v.center,M.ray.origin);var be=w.dot(M.ray.direction);if($=be*be-(w.lengthSq()-v.radius*v.radius),be<0)return p;$<=0?K=be:K=be-Math.sqrt($),p.push({clickable:C,distance:K})}return p}},"./src/WebGL/core/Texture.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Texture:()=>l,TextureIdCount:()=>u});var n=r("./src/WebGL/constants/TextureConstants.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/core/EventDispatcher.ts"),o=r("./src/WebGL/core/UVMapping.ts");class l extends s.EventDispatcher{constructor(g,_){super(),this.id=u++,this.name="",this.image=g,this.mapping=new o.UVMapping,this.wrapS=n.ClampToEdgeWrapping,this.wrapT=n.ClampToEdgeWrapping,this.anisotropy=1,_?(this.format=n.RFormat,this.type=n.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=n.NearestFilter,this.minFilter=n.NearestFilter):(this.format=n.RGBAFormat,this.type=n.UnsignedByteType,this.offset=new a.Vector2(0,0),this.repeat=new a.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=n.LinearFilter,this.minFilter=n.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(g=new l){return g.image=this.image,g.mapping=this.mapping,g.wrapS=this.wrapS,g.wrapT=this.wrapT,g.magFilter=this.magFilter,g.minFilter=this.minFilter,g.anisotropy=this.anisotropy,g.format=this.format,g.type=this.type,g.offset.copy(this.offset),g.repeat.copy(this.repeat),g.premultiplyAlpha=this.premultiplyAlpha,g.flipY=this.flipY,g.unpackAlignment=this.unpackAlignment,g}dispose(){this.dispatchEvent({type:"dispose"})}}let u=0},"./src/WebGL/core/UVMapping.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{UVMapping:()=>n});class n{}},"./src/WebGL/core/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{EventDispatcher:()=>n.EventDispatcher,Geometry:()=>a.Geometry,GeometryGroup:()=>a.GeometryGroup,GeometryIDCount:()=>a.GeometryIDCount,Light:()=>s.Light,Object3D:()=>s.Object3D,Object3DIDCount:()=>s.Object3DIDCount,Projector:()=>o.Projector,Raycaster:()=>l.Raycaster,Scene:()=>s.Scene,Texture:()=>u.Texture,TextureIdCount:()=>u.TextureIdCount,UVMapping:()=>v.UVMapping,intersectObject:()=>l.intersectObject});var n=r("./src/WebGL/core/EventDispatcher.ts"),a=r("./src/WebGL/core/Geometry.ts"),s=r("./src/WebGL/core/Object3D.ts"),o=r("./src/WebGL/core/Projector.ts"),l=r("./src/WebGL/core/Raycaster.ts"),u=r("./src/WebGL/core/Texture.ts"),v=r("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>n.BackSide,Camera:()=>g.Camera,ClampToEdgeWrapping:()=>n.ClampToEdgeWrapping,Coloring:()=>n.Coloring,Cylinder:()=>v.Cylinder,DoubleSide:()=>n.DoubleSide,EventDispatcher:()=>a.EventDispatcher,FloatType:()=>n.FloatType,Fog:()=>_.Fog,FrontSide:()=>n.FrontSide,Geometry:()=>a.Geometry,GeometryGroup:()=>a.GeometryGroup,GeometryIDCount:()=>a.GeometryIDCount,ImposterMaterial:()=>s.ImposterMaterial,InstancedMaterial:()=>s.InstancedMaterial,Light:()=>a.Light,Line:()=>l.Line,LineBasicMaterial:()=>s.LineBasicMaterial,LineStyle:()=>l.LineStyle,LinearFilter:()=>n.LinearFilter,LinearMipMapLinearFilter:()=>n.LinearMipMapLinearFilter,Material:()=>s.Material,MaterialIdCount:()=>s.MaterialIdCount,Matrix3:()=>o.Matrix3,Matrix4:()=>o.Matrix4,Mesh:()=>l.Mesh,MeshDoubleLambertMaterial:()=>s.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>s.MeshLambertMaterial,MeshOutlineMaterial:()=>s.MeshOutlineMaterial,NearestFilter:()=>n.NearestFilter,Object3D:()=>a.Object3D,Object3DIDCount:()=>a.Object3DIDCount,Projector:()=>a.Projector,Quaternion:()=>o.Quaternion,R32Format:()=>n.R32Format,RFormat:()=>n.RFormat,RGBAFormat:()=>n.RGBAFormat,Ray:()=>o.Ray,Raycaster:()=>a.Raycaster,Renderer:()=>y.Renderer,Scene:()=>a.Scene,ShaderLib:()=>u.ShaderLib,ShaderUtils:()=>u.ShaderUtils,Shading:()=>n.Shading,Sphere:()=>v.Sphere,SphereImposterMaterial:()=>s.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>s.SphereImposterOutlineMaterial,Sprite:()=>l.Sprite,SpriteAlignment:()=>n.SpriteAlignment,SpriteMaterial:()=>s.SpriteMaterial,SpritePlugin:()=>w.SpritePlugin,StickImposterMaterial:()=>s.StickImposterMaterial,StickImposterOutlineMaterial:()=>s.StickImposterOutlineMaterial,Texture:()=>a.Texture,TextureIdCount:()=>a.TextureIdCount,TextureOperations:()=>n.TextureOperations,Triangle:()=>v.Triangle,UVMapping:()=>a.UVMapping,UnsignedByteType:()=>n.UnsignedByteType,Vector2:()=>o.Vector2,Vector3:()=>o.Vector3,VolumetricMaterial:()=>s.VolumetricMaterial,basic:()=>u.basic,clamp:()=>o.clamp,clone:()=>u.clone,conversionMatrix3:()=>o.conversionMatrix3,degToRad:()=>o.degToRad,instanced:()=>u.instanced,intersectObject:()=>a.intersectObject,lambert:()=>u.lambert,lambertdouble:()=>u.lambertdouble,outline:()=>u.outline,screen:()=>u.screen,screenaa:()=>u.screenaa,sphereimposter:()=>u.sphereimposter,sphereimposteroutline:()=>u.sphereimposteroutline,sprite:()=>u.sprite,stickimposter:()=>u.stickimposter,stickimposteroutline:()=>u.stickimposteroutline,volumetric:()=>u.volumetric});var n=r("./src/WebGL/constants/index.ts"),a=r("./src/WebGL/core/index.ts"),s=r("./src/WebGL/materials/index.ts"),o=r("./src/WebGL/math/index.ts"),l=r("./src/WebGL/objects/index.ts"),u=r("./src/WebGL/shaders/index.ts"),v=r("./src/WebGL/shapes/index.ts"),g=r("./src/WebGL/Camera.ts"),_=r("./src/WebGL/Fog.ts"),y=r("./src/WebGL/Renderer.ts"),w=r("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ImposterMaterial:()=>u});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),l=r("./src/WebGL/materials/Material.ts");class u extends l.Material{constructor(g){super(),this.color=new s.Color(16777215),this.ambient=new s.Color(1048575),this.emissive=new s.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new o.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID=null,this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(g)}clone(g=new u){return super.clone.call(this,g),g.color.copy(this.color),g.ambient.copy(this.ambient),g.emissive.copy(this.emissive),g.wrapAround=this.wrapAround,g.wrapRGB.copy(this.wrapRGB),g.map=this.map,g.lightMap=this.lightMap,g.specularMap=this.specularMap,g.envMap=this.envMap,g.combine=this.combine,g.reflectivity=this.reflectivity,g.refractionRatio=this.refractionRatio,g.fog=this.fog,g.shading=this.shading,g.shaderID=this.shaderID,g.vertexColors=this.vertexColors,g.skinning=this.skinning,g.morphTargets=this.morphTargets,g.morphNormals=this.morphNormals,g}}},"./src/WebGL/materials/InstancedMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstancedMaterial:()=>u});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),l=r("./src/WebGL/materials/Material.ts");class u extends l.Material{constructor(g){super(),this.color=new s.Color(16777215),this.ambient=new s.Color(1048575),this.emissive=new s.Color(0),this.wrapAround=!1,this.wrapRGB=new o.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(g)}clone(g=new u){return super.clone.call(this,g),g.color.copy(this.color),g.ambient.copy(this.ambient),g.emissive.copy(this.emissive),g.wrapAround=this.wrapAround,g.wrapRGB.copy(this.wrapRGB),g.map=this.map,g.lightMap=this.lightMap,g.specularMap=this.specularMap,g.envMap=this.envMap,g.combine=this.combine,g.reflectivity=this.reflectivity,g.refractionRatio=this.refractionRatio,g.fog=this.fog,g.shading=this.shading,g.shaderID=this.shaderID,g.vertexColors=this.vertexColors,g.skinning=this.skinning,g.morphTargets=this.morphTargets,g.morphNormals=this.morphNormals,g.sphere=this.sphere,g}}},"./src/WebGL/materials/LineBasicMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{LineBasicMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/Material.ts");class s extends a.Material{constructor(l){super(),this.color=new n.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(l)}clone(l=new s){return super.clone.call(this,l),l.color.copy(this.color),l}}},"./src/WebGL/materials/Material.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Material:()=>l,MaterialIdCount:()=>u});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/WebGL/core/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts");class l extends a.EventDispatcher{constructor(){super(...arguments),this.id=u++,this.name="",this.side=n.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.stencilTest=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1}setValues(g={}){if(g!==void 0)for(var _ in g){var y=g[_];if(y===void 0){console.warn("$3Dmol.Material: '"+_+"' parameter is undefined.");continue}if(_ in this){var w=this[_];w instanceof o.Color&&y instanceof o.Color?w.copy(y):w instanceof o.Color?w.set(y):w instanceof s.Vector3&&y instanceof s.Vector3?w.copy(y):this[_]=y}}}clone(g=new l){return g.name=this.name,g.side=this.side,g.opacity=this.opacity,g.transparent=this.transparent,g.depthTest=this.depthTest,g.depthWrite=this.depthWrite,g.stencilTest=this.stencilTest,g.polygonOffset=this.polygonOffset,g.polygonOffsetFactor=this.polygonOffsetFactor,g.polygonOffsetUnits=this.polygonOffsetUnits,g.alphaTest=this.alphaTest,g.overdraw=this.overdraw,g.visible=this.visible,g}dispose(){this.dispatchEvent({type:"dispose"})}}let u=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshDoubleLambertMaterial:()=>s});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/WebGL/materials/MeshLambertMaterial.ts");class s extends a.MeshLambertMaterial{constructor(l){super(l),this.shaderID="lambertdouble",this.side=n.DoubleSide,this.outline=!1}clone(l=new s){return super.clone.call(this,l),l}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshLambertMaterial:()=>u});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/WebGL/materials/Material.ts"),o=r("./src/colors.ts"),l=r("./src/WebGL/math/index.ts");class u extends s.Material{constructor(g){super(),this.color=new o.Color(16777215),this.ambient=new o.Color(1048575),this.emissive=new o.Color(0),this.wrapAround=!1,this.wrapRGB=new l.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(g)}clone(g=new u){return super.clone.call(this,g),g.color.copy(this.color),g.ambient.copy(this.ambient),g.emissive.copy(this.emissive),g.wrapAround=this.wrapAround,g.wrapRGB.copy(this.wrapRGB),g.map=this.map,g.lightMap=this.lightMap,g.specularMap=this.specularMap,g.envMap=this.envMap,g.combine=this.combine,g.reflectivity=this.reflectivity,g.refractionRatio=this.refractionRatio,g.fog=this.fog,g.shading=this.shading,g.shaderID=this.shaderID,g.vertexColors=this.vertexColors,g.skinning=this.skinning,g.morphTargets=this.morphTargets,g.morphNormals=this.morphNormals,g}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/Material.ts");class s extends a.Material{constructor(l){super(),l=l||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=l.color||new n.Color(0,0,0),this.outlineWidth=l.width||.1,this.outlinePushback=l.pushback||1}clone(l=new s){return super.clone.call(this,l),l.fog=this.fog,l.shaderID=this.shaderID,l.wireframe=this.wireframe,l}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SphereImposterMaterial:()=>a});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class a extends n.ImposterMaterial{constructor(o){super(o),this.shaderID="sphereimposter",this.setValues(o)}clone(o=new a){return super.clone.call(this,o),o}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SphereImposterOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/ImposterMaterial.ts");class s extends a.ImposterMaterial{constructor(l){super(l),l=l||{},this.shaderID="sphereimposteroutline",this.outlineColor=l.color||new n.Color(0,0,0),this.outlineWidth=l.width||.1,this.outlinePushback=l.pushback||1,this.setValues(l)}clone(l=new s){return super.clone.call(this,l),l.outlineColor=this.outlineColor,l.outlineWidth=this.outlineWidth,l.outlinePushback=this.outlinePushback,l}}},"./src/WebGL/materials/SpriteMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpriteMaterial:()=>u});var n=r("./src/WebGL/constants/SpriteAlignment.ts"),a=r("./src/WebGL/core/Texture.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),l=r("./src/WebGL/materials/Material.ts");class u extends l.Material{constructor(g){super(),this.color=new s.Color(16777215),this.map=new a.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new o.Vector2(0,0),this.uvScale=new o.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=n.SpriteAlignment.center.clone(),this.setValues(g),g=g||{},g.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),g.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),g.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(g=new u){return super.clone.call(this,g),g.color.copy(this.color),g.map=this.map,g.useScreenCoordinates=this.useScreenCoordinates,g.screenOffset=this.screenOffset,g.sizeAttenuation=this.sizeAttenuation,g.scaleByViewport=this.scaleByViewPort,g.alignment.copy(this.alignment),g.uvOffset.copy(this.uvOffset),g}}},"./src/WebGL/materials/StickImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StickImposterMaterial:()=>a});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class a extends n.ImposterMaterial{constructor(o){super(o),this.shaderID="stickimposter",this.setValues(o)}clone(o=new a){return super.clone.call(this,o),o}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StickImposterOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/ImposterMaterial.ts");class s extends a.ImposterMaterial{constructor(l={}){super(l),this.shaderID="stickimposteroutline",this.outlineColor=new n.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,l.color&&(this.outlineColor=l.color),l.width&&(this.outlineWidth=l.width),l.pushback&&(this.outlinePushback=l.pushback),this.setValues(l)}clone(l=new s){return super.clone.call(this,l),l.outlineColor=this.outlineColor,l.outlineWidth=this.outlineWidth,l.outlinePushback=this.outlinePushback,l}}},"./src/WebGL/materials/VolumetricMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VolumetricMaterial:()=>o});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/colors.ts"),s=r("./src/WebGL/materials/Material.ts");class o extends s.Material{constructor(u){super(),this.transparent=!1,this.volumetric=!0,this.color=new a.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=n.FrontSide,this.setValues(u)}clone(u=new o){return super.clone.call(this,u),u.transparent=this.transparent,u.volumetric=this.volumetric,u.color=this.color,u.transferfn=this.transferfn,u.map=this.map,u.extent=this.extent,u.maxdepth=this.maxdepth,u.unit=this.unit,u.texmatrix=this.texmatrix,u.transfermin=this.transfermin,u.transfermax=this.transfermax,u.subsamples=this.subsamples,u.shaderID=this.shaderID,u.side=this.side,u}}},"./src/WebGL/materials/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ImposterMaterial:()=>n.ImposterMaterial,InstancedMaterial:()=>a.InstancedMaterial,LineBasicMaterial:()=>s.LineBasicMaterial,Material:()=>o.Material,MaterialIdCount:()=>o.MaterialIdCount,MeshDoubleLambertMaterial:()=>l.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>u.MeshLambertMaterial,MeshOutlineMaterial:()=>v.MeshOutlineMaterial,SphereImposterMaterial:()=>g.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>_.SphereImposterOutlineMaterial,SpriteMaterial:()=>y.SpriteMaterial,StickImposterMaterial:()=>w.StickImposterMaterial,StickImposterOutlineMaterial:()=>x.StickImposterOutlineMaterial,VolumetricMaterial:()=>f.VolumetricMaterial});var n=r("./src/WebGL/materials/ImposterMaterial.ts"),a=r("./src/WebGL/materials/InstancedMaterial.ts"),s=r("./src/WebGL/materials/LineBasicMaterial.ts"),o=r("./src/WebGL/materials/Material.ts"),l=r("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),u=r("./src/WebGL/materials/MeshLambertMaterial.ts"),v=r("./src/WebGL/materials/MeshOutlineMaterial.ts"),g=r("./src/WebGL/materials/SphereImposterMaterial.ts"),_=r("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),y=r("./src/WebGL/materials/SpriteMaterial.ts"),w=r("./src/WebGL/materials/StickImposterMaterial.ts"),x=r("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),f=r("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Quaternion:()=>n});class n{constructor(s,o,l,u){this.x=s||0,this.y=o||0,this.z=l||0,this.w=u!==void 0?u:1}set(s,o,l,u){return this.x=s,this.y=o,this.z=l,this.w=u,this}copy(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let s=this.length();return s===0?(this.x=0,this.y=0,this.z=0,this.w=1):(s=1/s,this.x*=s,this.y*=s,this.z*=s,this.w*=s),this}multiply(s){return this.multiplyQuaternions(this,s)}multiplyScalar(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this}multiplyQuaternions(s,o){let l=s.x,u=s.y,v=s.z,g=s.w,_=o.x,y=o.y,w=o.z,x=o.w;return this.x=l*x+g*_+u*w-v*y,this.y=u*x+g*y+v*_-l*w,this.z=v*x+g*w+l*y-u*_,this.w=g*x-l*_-u*y-v*w,this}sub(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this.w-=s.w,this}clone(){return new n(this.x,this.y,this.z,this.w)}setFromEuler(s){let o=Math.cos(s.x/2),l=Math.cos(s.y/2),u=Math.cos(s.z/2),v=Math.sin(s.x/2),g=Math.sin(s.y/2),_=Math.sin(s.z/2);return this.x=v*l*u+o*g*_,this.y=o*g*u-v*l*_,this.z=o*l*_+v*g*u,this.w=o*l*u-v*g*_,this}}},"./src/WebGL/math/Vector2.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Vector2:()=>n});class n{constructor(s,o){this.x=s||0,this.y=o||0}set(s,o){return this.x=s,this.y=o,this}subVectors(s,o){return this.x=s.x-o.x,this.y=s.y-o.y,this}copy(s){return this.x=s.x,this.y=s.y,this}clone(){return new n(this.x,this.y)}}},"./src/WebGL/math/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Matrix3:()=>u.Matrix3,Matrix4:()=>u.Matrix4,Quaternion:()=>n.Quaternion,Ray:()=>u.Ray,Vector2:()=>a.Vector2,Vector3:()=>u.Vector3,clamp:()=>s.clamp,conversionMatrix3:()=>o.conversionMatrix3,degToRad:()=>l.degToRad});var n=r("./src/WebGL/math/Quaternion.ts"),a=r("./src/WebGL/math/Vector2.ts"),s=r("./src/WebGL/math/utils/clamp.ts"),o=r("./src/WebGL/math/utils/conversionMatrix3.ts"),l=r("./src/WebGL/math/utils/degToRad.ts"),u=r("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Matrix3:()=>y,Matrix4:()=>g,Ray:()=>w,Vector3:()=>_});var n=r("./src/WebGL/math/utils/degToRad.ts"),a=r("./src/WebGL/math/utils/clamp.ts"),s,o,l,u,v;class g{constructor(f=1,b=0,h=0,S=0,C=0,M=1,p=0,c=0,E=0,D=0,I=1,O=0,P=0,k=0,B=0,G=1){typeof f<"u"&&typeof f!="number"?this.elements=new Float32Array(f):(this.elements=new Float32Array(16),this.elements[0]=f,this.elements[4]=b,this.elements[8]=h,this.elements[12]=S,this.elements[1]=C,this.elements[5]=M,this.elements[9]=p,this.elements[13]=c,this.elements[2]=E,this.elements[6]=D,this.elements[10]=I,this.elements[14]=O,this.elements[3]=P,this.elements[7]=k,this.elements[11]=B,this.elements[15]=G)}makeScale(f,b,h){throw new Error("Method not implemented.")}set(f,b,h,S,C,M,p,c,E,D,I,O,P,k,B,G){let K=this.elements;return K[0]=f,K[4]=b,K[8]=h,K[12]=S,K[1]=C,K[5]=M,K[9]=p,K[13]=c,K[2]=E,K[6]=D,K[10]=I,K[14]=O,K[3]=P,K[7]=k,K[11]=B,K[15]=G,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(f){let b=f.elements;return this.set(b[0],b[4],b[8],b[12],b[1],b[5],b[9],b[13],b[2],b[6],b[10],b[14],b[3],b[7],b[11],b[15]),this}matrix3FromTopLeft(){let f=this.elements;return new y(f[0],f[4],f[8],f[1],f[5],f[9],f[2],f[6],f[10])}setRotationFromEuler(f,b){let h=this.elements,{x:S,y:C,z:M}=f,p=Math.cos(S),c=Math.sin(S),E=Math.cos(C),D=Math.sin(C),I=Math.cos(M),O=Math.sin(M);if(b===void 0||b==="XYZ"){let P=p*I,k=p*O,B=c*I,G=c*O;h[0]=E*I,h[4]=-E*O,h[8]=D,h[1]=k+B*D,h[5]=P-G*D,h[9]=-c*E,h[2]=G-P*D,h[6]=B+k*D,h[10]=p*E}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${b}`);return this}setRotationFromQuaternion(f){let b=this.elements,{x:h,y:S,z:C,w:M}=f,p=h+h,c=S+S,E=C+C,D=h*p,I=h*c,O=h*E,P=S*c,k=S*E,B=C*E,G=M*p,K=M*c,q=M*E;return b[0]=1-(P+B),b[4]=I-q,b[8]=O+K,b[1]=I+q,b[5]=1-(D+B),b[9]=k-G,b[2]=O-K,b[6]=k+G,b[10]=1-(D+P),this}multiplyMatrices(f,b){let h=f.elements,S=b.elements,C=this.elements,M=h[0],p=h[4],c=h[8],E=h[12],D=h[1],I=h[5],O=h[9],P=h[13],k=h[2],B=h[6],G=h[10],K=h[14],q=h[3],H=h[7],$=h[11],W=h[15],V=S[0],Z=S[4],Q=S[8],ie=S[12],Ce=S[1],De=S[5],Me=S[9],Ne=S[13],Te=S[2],be=S[6],Xe=S[10],$e=S[14],R=S[3],me=S[7],ge=S[11],ne=S[15];return C[0]=M*V+p*Ce+c*Te+E*R,C[4]=M*Z+p*De+c*be+E*me,C[8]=M*Q+p*Me+c*Xe+E*ge,C[12]=M*ie+p*Ne+c*$e+E*ne,C[1]=D*V+I*Ce+O*Te+P*R,C[5]=D*Z+I*De+O*be+P*me,C[9]=D*Q+I*Me+O*Xe+P*ge,C[13]=D*ie+I*Ne+O*$e+P*ne,C[2]=k*V+B*Ce+G*Te+K*R,C[6]=k*Z+B*De+G*be+K*me,C[10]=k*Q+B*Me+G*Xe+K*ge,C[14]=k*ie+B*Ne+G*$e+K*ne,C[3]=q*V+H*Ce+$*Te+W*R,C[7]=q*Z+H*De+$*be+W*me,C[11]=q*Q+H*Me+$*Xe+W*ge,C[15]=q*ie+H*Ne+$*$e+W*ne,this}multiplyScalar(f){let b=this.elements;return b[0]*=f,b[4]*=f,b[8]*=f,b[12]*=f,b[1]*=f,b[5]*=f,b[9]*=f,b[13]*=f,b[2]*=f,b[6]*=f,b[10]*=f,b[14]*=f,b[3]*=f,b[7]*=f,b[11]*=f,b[15]*=f,this}makeTranslation(f,b,h){return this.set(1,0,0,f,0,1,0,b,0,0,1,h,0,0,0,1),this}snap(f){f||(f=4);let b=Math.pow(10,4),h=this.elements;for(let S=0;S<16;S++){let C=Math.round(h[S]);C===Math.round(h[S]*b)/b&&(h[S]=C)}return this}transpose(){let f=this.elements,b;return b=f[1],f[1]=f[4],f[4]=b,b=f[2],f[2]=f[8],f[8]=b,b=f[6],f[6]=f[9],f[9]=b,b=f[3],f[3]=f[12],f[12]=b,b=f[7],f[7]=f[13],f[13]=b,b=f[11],f[11]=f[14],f[14]=b,this}setPosition(f){let b=this.elements;return b[12]=f.x,b[13]=f.y,b[14]=f.z,this}translate(f){let b=this.elements;return b[12]+=f.x,b[13]+=f.y,b[14]+=f.z,this}getInverse(f,b){let h=this.elements,S=f.elements,C=S[0],M=S[4],p=S[8],c=S[12],E=S[1],D=S[5],I=S[9],O=S[13],P=S[2],k=S[6],B=S[10],G=S[14],K=S[3],q=S[7],H=S[11],$=S[15];h[0]=I*G*q-O*B*q+O*k*H-D*G*H-I*k*$+D*B*$,h[4]=c*B*q-p*G*q-c*k*H+M*G*H+p*k*$-M*B*$,h[8]=p*O*q-c*I*q+c*D*H-M*O*H-p*D*$+M*I*$,h[12]=c*I*k-p*O*k-c*D*B+M*O*B+p*D*G-M*I*G,h[1]=O*B*K-I*G*K-O*P*H+E*G*H+I*P*$-E*B*$,h[5]=p*G*K-c*B*K+c*P*H-C*G*H-p*P*$+C*B*$,h[9]=c*I*K-p*O*K-c*E*H+C*O*H+p*E*$-C*I*$,h[13]=p*O*P-c*I*P+c*E*B-C*O*B-p*E*G+C*I*G,h[2]=D*G*K-O*k*K+O*P*q-E*G*q-D*P*$+E*k*$,h[6]=c*k*K-M*G*K-c*P*q+C*G*q+M*P*$-C*k*$,h[10]=M*O*K-c*D*K+c*E*q-C*O*q-M*E*$+C*D*$,h[14]=c*D*P-M*O*P-c*E*k+C*O*k+M*E*G-C*D*G,h[3]=I*k*K-D*B*K-I*P*q+E*B*q+D*P*H-E*k*H,h[7]=M*B*K-p*k*K+p*P*q-C*B*q-M*P*H+C*k*H,h[11]=p*D*K-M*I*K-p*E*q+C*I*q+M*E*H-C*D*H,h[15]=M*I*P-p*D*P+p*E*k-C*I*k-M*E*B+C*D*B;let W=C*h[0]+E*h[4]+P*h[8]+K*h[12];if(W===0){let V="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(b)throw new Error(V);return console.warn(V),this.identity(),this}return this.multiplyScalar(1/W),this}isReflected(){let f=this.elements,b=f[0],h=f[4],S=f[8],C=f[1],M=f[5],p=f[9],c=f[2],E=f[6],D=f[10];return b*M*D+C*E*S+c*h*p-c*M*S-C*h*D-b*E*p<0}scale(f){let b=this.elements,{x:h}=f,{y:S}=f,{z:C}=f;return b[0]*=h,b[4]*=S,b[8]*=C,b[1]*=h,b[5]*=S,b[9]*=C,b[2]*=h,b[6]*=S,b[10]*=C,b[3]*=h,b[7]*=S,b[11]*=C,this}getMaxScaleOnAxis(){let f=this.elements,b=f[0]*f[0]+f[1]*f[1]+f[2]*f[2],h=f[4]*f[4]+f[5]*f[5]+f[6]*f[6],S=f[8]*f[8]+f[9]*f[9]+f[10]*f[10];return Math.sqrt(Math.max(b,Math.max(h,S)))}makeFrustum(f,b,h,S,C,M){let p=this.elements,c=2*C/(b-f),E=2*C/(S-h),D=(b+f)/(b-f),I=(S+h)/(S-h),O=-(M+C)/(M-C),P=-2*M*C/(M-C);return p[0]=c,p[4]=0,p[8]=D,p[12]=0,p[1]=0,p[5]=E,p[9]=I,p[13]=0,p[2]=0,p[6]=0,p[10]=O,p[14]=P,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makePerspective(f,b,h,S){let C=h*Math.tan((0,n.degToRad)(f*.5)),M=-C,p=M*b,c=C*b;return this.makeFrustum(p,c,M,C,h,S)}makeOrthographic(f,b,h,S,C,M){let p=this.elements,c=1/(b-f),E=1/(h-S),D=1/(M-C),I=(b+f)*c,O=(h+S)*E,P=(M+C)*D;return p[0]=2*c,p[4]=0,p[8]=0,p[12]=-I,p[1]=0,p[5]=2*E,p[9]=0,p[13]=-O,p[2]=0,p[6]=0,p[10]=-2*D,p[14]=-P,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}isEqual(f){let b=f.elements,h=this.elements;return h[0]===b[0]&&h[4]===b[4]&&h[8]===b[8]&&h[12]===b[12]&&h[1]===b[1]&&h[5]===b[5]&&h[9]===b[9]&&h[13]===b[13]&&h[2]===b[2]&&h[6]===b[6]&&h[10]===b[10]&&h[14]===b[14]&&h[3]===b[3]&&h[7]===b[7]&&h[11]===b[11]&&h[15]===b[15]}clone(){let f=this.elements;return new g(f[0],f[4],f[8],f[12],f[1],f[5],f[9],f[13],f[2],f[6],f[10],f[14],f[3],f[7],f[11],f[15])}isIdentity(){let f=this.elements;return f[0]===1&&f[4]===0&&f[8]===0&&f[12]===0&&f[1]===0&&f[5]===1&&f[9]===0&&f[13]===0&&f[2]===0&&f[6]===0&&f[10]===1&&f[14]===0&&f[3]===0&&f[7]===0&&f[11]===0&&f[15]===1}isNearlyIdentity(f){return this.clone().snap(f).isIdentity()}getScale(f){let b=this.elements;return f=f||new _,l.set(b[0],b[1],b[2]),u.set(b[4],b[5],b[6]),v.set(b[8],b[9],b[10]),f.x=l.length(),f.y=u.length(),f.z=v.length(),f}lookAt(f,b,h){let S=this.elements;return v.subVectors(f,b).normalize(),v.length()===0&&(v.z=1),l.crossVectors(h,v).normalize(),l.length()===0&&(v.x+=1e-4,l.crossVectors(h,v).normalize()),u.crossVectors(v,l),S[0]=l.x,S[4]=u.x,S[8]=v.x,S[1]=l.y,S[5]=u.y,S[9]=v.y,S[2]=l.z,S[6]=u.z,S[10]=v.z,this}compose(f,b,h){let S=this.elements;return s.identity(),s.setRotationFromQuaternion(b),o.makeScale(h.x,h.y,h.z),this.multiplyMatrices(s,o),S[12]=f.x,S[13]=f.y,S[14]=f.z,this}}s=new g,o=new g;class _{constructor(f,b,h){this.x=f||0,this.y=b||0,this.z=h||0,this.atomid=void 0}set(f,b,h){return this.x=f,this.y=b,this.z=h,this}copy(f){return this.x=f.x,this.y=f.y,this.z=f.z,this}add(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z,this}addVectors(f,b){return this.x=f.x+b.x,this.y=f.y+b.y,this.z=f.z+b.z,this}multiplyVectors(f,b){return this.x=f.x*b.x,this.y=f.y*b.y,this.z=f.z*b.z,this}sub(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z,this}subVectors(f,b){return this.x=f.x-b.x,this.y=f.y-b.y,this.z=f.z-b.z,this}multiplyScalar(f){return this.x*=f,this.y*=f,this.z*=f,this}divideScalar(f){return f!==0?(this.x/=f,this.y/=f,this.z/=f):(this.x=0,this.y=0,this.z=0),this}max(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this}min(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this}distanceTo(f){return Math.sqrt(this.distanceToSquared(f))}distanceToSquared(f){let b=this.x-f.x,h=this.y-f.y,S=this.z-f.z;return b*b+h*h+S*S}applyMatrix3(f){let{x:b}=this,{y:h}=this,{z:S}=this,C=f.elements;return this.x=C[0]*b+C[3]*h+C[6]*S,this.y=C[1]*b+C[4]*h+C[7]*S,this.z=C[2]*b+C[5]*h+C[8]*S,this}applyMatrix4(f){let{x:b}=this,{y:h}=this,{z:S}=this,C=f.elements;return this.x=C[0]*b+C[4]*h+C[8]*S+C[12],this.y=C[1]*b+C[5]*h+C[9]*S+C[13],this.z=C[2]*b+C[6]*h+C[10]*S+C[14],this}applyProjection(f){let{x:b}=this,{y:h}=this,{z:S}=this,C=f.elements,M=C[3]*b+C[7]*h+C[11]*S+C[15];return this.x=(C[0]*b+C[4]*h+C[8]*S+C[12])/M,this.y=(C[1]*b+C[5]*h+C[9]*S+C[13])/M,this.z=(C[2]*b+C[6]*h+C[10]*S+C[14])/M,this}applyQuaternion(f){let{x:b}=this,{y:h}=this,{z:S}=this,C=f.x,M=f.y,p=f.z,c=f.w,E={};E.x=2*(h*p-S*M),E.y=2*(S*C-b*p),E.z=2*(b*M-h*C);let D={};return D.x=E.y*p-E.z*M,D.y=E.z*C-E.x*p,D.z=E.x*M-E.y*C,this.x=b+c*E.x+D.x,this.y=h+c*E.y+D.y,this.z=S+c*E.z+D.z,this}negate(){return this.multiplyScalar(-1)}dot(f){return this.x*f.x+this.y*f.y+this.z*f.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(f){let{x:b}=this,{y:h}=this,{z:S}=this;return this.x=h*f.z-S*f.y,this.y=S*f.x-b*f.z,this.z=b*f.y-h*f.x,this}crossVectors(f,b){return this.x=f.y*b.z-f.z*b.y,this.y=f.z*b.x-f.x*b.z,this.z=f.x*b.y-f.y*b.x,this}equals(f){return this.x==f.x&&this.y==f.y&&this.z==f.z}getPositionFromMatrix(f){return this.x=f.elements[12],this.y=f.elements[13],this.z=f.elements[14],this}setEulerFromRotationMatrix(f,b){let h=f.elements,S=h[0],C=h[4],M=h[8],p=h[5],c=h[9],E=h[6],D=h[10];return b===void 0||b==="XYZ"?(this.y=Math.asin((0,a.clamp)(M,-1,1)),Math.abs(M)<.99999?(this.x=Math.atan2(-c,D),this.z=Math.atan2(-C,S)):(this.x=Math.atan2(E,p),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${b}`),this}rotateAboutVector(f,b){f.normalize();let h=Math.cos(b),S=Math.sin(b),C=this.clone().multiplyScalar(h),M=f.clone().cross(this).multiplyScalar(S),p=f.clone().multiplyScalar(f.clone().dot(this)).multiplyScalar(1-h),c=C.add(M).add(p);return this.x=c.x,this.y=c.y,this.z=c.z,this}setFromMatrixPosition(f){let b=f.elements;return this.x=b[12],this.y=b[13],this.z=b[14],this}transformDirection(f){let{x:b}=this,{y:h}=this,{z:S}=this,C=f.elements;return this.x=C[0]*b+C[4]*h+C[8]*S,this.y=C[1]*b+C[5]*h+C[9]*S,this.z=C[2]*b+C[6]*h+C[10]*S,this.normalize()}clone(){return new _(this.x,this.y,this.z)}unproject(f){let b=s;return b.multiplyMatrices(f.matrixWorld,b.getInverse(f.projectionMatrix)),this.applyMatrix4(b)}}l=new _,u=new _,v=new _;class y{constructor(f=1,b=0,h=0,S=0,C=1,M=0,p=0,c=0,E=1){this.elements=new Float32Array(9),this.set(f,b,h,S,C,M,p,c,E)}set(f,b,h,S,C,M,p,c,E){let D=this.elements;return D[0]=f,D[3]=b,D[6]=h,D[1]=S,D[4]=C,D[7]=M,D[2]=p,D[5]=c,D[8]=E,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(f){let b=f.elements;this.set(b[0],b[3],b[6],b[1],b[4],b[7],b[2],b[5],b[8])}multiplyScalar(f){let b=this.elements;return b[0]*=f,b[3]*=f,b[6]*=f,b[1]*=f,b[4]*=f,b[7]*=f,b[2]*=f,b[5]*=f,b[8]*=f,this}getInverse3(f){let b=f.elements,h=this.elements;h[0]=b[4]*b[8]-b[5]*b[7],h[3]=b[6]*b[5]-b[3]*b[8],h[6]=b[3]*b[7]-b[6]*b[4],h[1]=b[7]*b[2]-b[1]*b[8],h[4]=b[0]*b[8]-b[6]*b[2],h[7]=b[1]*b[6]-b[0]*b[7],h[2]=b[1]*b[5]-b[2]*b[4],h[5]=b[2]*b[3]-b[0]*b[5],h[8]=b[0]*b[4]-b[1]*b[3];let S=b[0]*h[0]+b[3]*h[1]+b[6]*h[2];return this.multiplyScalar(1/S),this}getInverse(f,b){let h=f.elements,S=this.elements;S[0]=h[10]*h[5]-h[6]*h[9],S[1]=-h[10]*h[1]+h[2]*h[9],S[2]=h[6]*h[1]-h[2]*h[5],S[3]=-h[10]*h[4]+h[6]*h[8],S[4]=h[10]*h[0]-h[2]*h[8],S[5]=-h[6]*h[0]+h[2]*h[4],S[6]=h[9]*h[4]-h[5]*h[8],S[7]=-h[9]*h[0]+h[1]*h[8],S[8]=h[5]*h[0]-h[1]*h[4];let C=h[0]*S[0]+h[1]*S[3]+h[2]*S[6];if(C===0){let M="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(b)throw new Error(M);return console.warn(M),this.identity(),this}return this.multiplyScalar(1/C),this}getDeterminant(){let f=this.elements;return f[0]*f[4]*f[8]+f[1]*f[5]*f[6]+f[2]*f[3]*f[7]-f[2]*f[4]*f[6]-f[1]*f[3]*f[8]-f[0]*f[5]*f[7]}transpose(){let f,b=this.elements;return f=b[1],b[1]=b[3],b[3]=f,f=b[2],b[2]=b[6],b[6]=f,f=b[5],b[5]=b[7],b[7]=f,this}clone(){let f=this.elements;return new y(f[0],f[3],f[6],f[1],f[4],f[7],f[2],f[5],f[8])}getMatrix4(){let f=this.elements;return new g(f[0],f[3],f[6],0,f[1],f[4],f[7],0,f[2],f[5],f[8],0)}}class w{constructor(f,b){this.origin=f!==void 0?f:new _,this.direction=b!==void 0?b:new _}set(f,b){return this.origin.copy(f),this.direction.copy(b),this}copy(f){return this.origin.copy(f.origin),this.direction.copy(f.direction),this}at(f,b){return(b||new _).copy(this.direction).multiplyScalar(f).add(this.origin)}recast(f){let b=l;return this.origin.copy(this.at(f,b)),this}closestPointToPoint(f,b){let h=b||new _;h.subVectors(f,this.origin);let S=h.dot(this.direction);return h.copy(this.direction).multiplyScalar(S).add(this.origin)}distanceToPoint(f){let b=l,h=b.subVectors(f,this.origin).dot(this.direction);return b.copy(this.direction).multiplyScalar(h).add(this.origin),b.distanceTo(f)}isIntersectionCylinder(){}isIntersectionSphere(f){return this.distanceToPoint(f.center)<=f.radius}isIntersectionPlane(f){return f.normal.dot(this.direction)!==0||f.distanceToPoint(this.origin)===0}distanceToPlane(f){let b=f.normal.dot(this.direction);return b===0?f.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(f.normal)+f.constant)/b}intersectPlane(f,b){let h=this.distanceToPlane(f);if(h!==void 0)return this.at(h,b)}applyMatrix4(f){return this.direction.add(this.origin).applyMatrix4(f),this.origin.applyMatrix4(f),this.direction.sub(this.origin),this}clone(){return new w().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{clamp:()=>n});function n(a,s,o){return Math.min(Math.max(a,s),o)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{conversionMatrix3:()=>a});var n=r("./src/WebGL/math/math.ts");function a(s,o,l,u,v,g){u=u*Math.PI/180,v=v*Math.PI/180,g=g*Math.PI/180;let _=h=>h*h,y=Math.cos(u),w=Math.cos(v),x=Math.cos(g),f=Math.sin(g);return new n.Matrix3(s,o*x,l*w,0,o*f,l*(y-w*x)/f,0,0,l*Math.sqrt(1-_(y)-_(w)-_(x)+2*y*w*x)/f)}},"./src/WebGL/math/utils/degToRad.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{degToRad:()=>a});let n=Math.PI/180;function a(s){return s*n}},"./src/WebGL/objects/Line.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Line:()=>o,LineStyle:()=>s});var n=r("./src/WebGL/materials/index.ts"),a=r("./src/WebGL/core/index.ts"),s;(function(l){l[l.LineStrip=0]="LineStrip",l[l.LinePieces=1]="LinePieces"})(s||(s={}));class o extends a.Object3D{constructor(u,v=new n.LineBasicMaterial({color:Math.random()*16777215}),g=s.LineStrip){super(),this.geometry=u,this.material=v,this.type=g}clone(u=new o(this.geometry,this.material,this.type)){return super.clone.call(this,u),u}}},"./src/WebGL/objects/Mesh.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Mesh:()=>a});var n=r("./src/WebGL/core/index.ts");class a extends n.Object3D{constructor(o,l){super(),this.geometry=o,this.material=l}clone(o){return o===void 0&&(o=new a(this.geometry,this.material)),super.clone.call(this,o),o}}},"./src/WebGL/objects/Sprite.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Sprite:()=>s});var n=r("./src/WebGL/materials/index.ts"),a=r("./src/WebGL/core/index.ts");class s extends a.Object3D{constructor(l=new n.SpriteMaterial){super(),this.material=l,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(l=new s(this.material)){return a.Object3D.prototype.clone.call(this,l),l}}},"./src/WebGL/objects/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Line:()=>n.Line,LineStyle:()=>n.LineStyle,Mesh:()=>a.Mesh,Sprite:()=>s.Sprite});var n=r("./src/WebGL/objects/Line.ts"),a=r("./src/WebGL/objects/Mesh.ts"),s=r("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(e,t,r)=>{"use strict";r.r(t)},"./src/WebGL/shaders/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderLib:()=>n.ShaderLib,ShaderUtils:()=>a.ShaderUtils,basic:()=>n.basic,clone:()=>a.clone,instanced:()=>n.instanced,lambert:()=>n.lambert,lambertdouble:()=>n.lambertdouble,outline:()=>n.outline,screen:()=>n.screen,screenaa:()=>n.screenaa,sphereimposter:()=>n.sphereimposter,sphereimposteroutline:()=>n.sphereimposteroutline,sprite:()=>n.sprite,stickimposter:()=>n.stickimposter,stickimposteroutline:()=>n.stickimposteroutline,volumetric:()=>n.volumetric});var n=r("./src/WebGL/shaders/lib/index.ts"),a=r("./src/WebGL/shaders/utils/index.ts"),s=r("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{basic:()=>o});var n=r("./src/WebGL/shaders/lib/basic/uniforms.ts"),a=r("./src/WebGL/shaders/lib/basic/basic.frag"),s=r("./src/WebGL/shaders/lib/basic/basic.vert");let o={vertexShader:s.default.replace("#define GLSLIFY 1",""),fragmentShader:a.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderLib:()=>b,basic:()=>n.basic,instanced:()=>a.instanced,lambert:()=>s.lambert,lambertdouble:()=>o.lambertdouble,outline:()=>l.outline,screen:()=>u.screen,screenaa:()=>v.screenaa,sphereimposter:()=>g.sphereimposter,sphereimposteroutline:()=>_.sphereimposteroutline,sprite:()=>y.sprite,stickimposter:()=>w.stickimposter,stickimposteroutline:()=>x.stickimposteroutline,volumetric:()=>f.volumetric});var n=r("./src/WebGL/shaders/lib/basic/index.ts"),a=r("./src/WebGL/shaders/lib/instanced/index.ts"),s=r("./src/WebGL/shaders/lib/lambert/index.ts"),o=r("./src/WebGL/shaders/lib/lambertdouble/index.ts"),l=r("./src/WebGL/shaders/lib/outline/index.ts"),u=r("./src/WebGL/shaders/lib/screen/index.ts"),v=r("./src/WebGL/shaders/lib/screenaa/index.ts"),g=r("./src/WebGL/shaders/lib/sphereimposter/index.ts"),_=r("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),y=r("./src/WebGL/shaders/lib/sprite/index.ts"),w=r("./src/WebGL/shaders/lib/stickimposter/index.ts"),x=r("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),f=r("./src/WebGL/shaders/lib/volumetric/index.ts");let b={basic:n.basic,instanced:a.instanced,lambert:s.lambert,lambertdouble:o.lambertdouble,outline:l.outline,screen:u.screen,screenaa:v.screenaa,sphereimposter:g.sphereimposter,sphereimposteroutline:_.sphereimposteroutline,sprite:y.sprite,stickimposter:w.stickimposter,stickimposteroutline:x.stickimposteroutline,volumetric:f.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{instanced:()=>o});var n=r("./src/WebGL/shaders/lib/instanced/uniforms.ts"),a=r("./src/WebGL/shaders/lib/instanced/instanced.frag"),s=r("./src/WebGL/shaders/lib/instanced/instanced.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{lambert:()=>o});var n=r("./src/WebGL/shaders/lib/lambert/uniforms.ts"),a=r("./src/WebGL/shaders/lib/lambert/lambert.frag"),s=r("./src/WebGL/shaders/lib/lambert/lambert.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{lambertdouble:()=>o});var n=r("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),a=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),s=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{outline:()=>o});var n=r("./src/WebGL/shaders/lib/outline/uniforms.ts"),a=r("./src/WebGL/shaders/lib/outline/outline.frag"),s=r("./src/WebGL/shaders/lib/outline/outline.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/screen/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{screen:()=>o});var n=r("./src/WebGL/shaders/lib/screen/uniforms.ts"),a=r("./src/WebGL/shaders/lib/screen/screen.frag"),s=r("./src/WebGL/shaders/lib/screen/screen.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{screenaa:()=>o});var n=r("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),a=r("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),s=r("./src/WebGL/shaders/lib/screenaa/screenaa.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sphereimposter:()=>o});var n=r("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),s=r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");let o={vertexShader:s.default.replace("#define GLSLIFY 1",""),fragmentShader:a.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sphereimposteroutline:()=>o});var n=r("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),s=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/sprite/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sprite:()=>o});var n=r("./src/WebGL/shaders/lib/sprite/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sprite/sprite.frag"),s=r("./src/WebGL/shaders/lib/sprite/sprite.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{stickimposter:()=>u});var n=r("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),s=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),o=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");let u={fragmentShader:[a.default,s.default].join(`
`).replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{stickimposteroutline:()=>l});var n=r("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),s=r("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");let l={fragmentShader:(a.default+"gl_FragColor = vec4(color,1.0);}").replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new n.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{volumetric:()=>o});var n=r("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),a=r("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),s=r("./src/WebGL/shaders/lib/volumetric/volumetric.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{clone:()=>a});var n=r("./src/colors.ts");function a(s){let o={};for(let u in s){o[u]={},o[u].type=s[u].type;var l=s[u].value;l instanceof n.Color?o[u].value=l.clone():typeof l=="number"?o[u].value=l:l instanceof Array?o[u].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return o}},"./src/WebGL/shaders/utils/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderUtils:()=>s,clone:()=>n.clone});var n=r("./src/WebGL/shaders/utils/clone.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag");let s={clone:n.clone,stickimposterFragmentShader:a.default}},"./src/WebGL/shapes/Cylinder.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Cylinder:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Vector3;class s{constructor(l=new n.Vector3,u=new n.Vector3,v=0){this.c1=l,this.c2=u,this.radius=v,this.direction=new n.Vector3().subVectors(this.c2,this.c1).normalize()}copy(l){return this.c1.copy(l.c1),this.c2.copy(l.c2),this.direction.copy(l.direction),this.radius=l.radius,this}lengthSq(){return a.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(l){return this.direction.add(this.c1).applyMatrix4(l),this.c1.applyMatrix4(l),this.c2.applyMatrix4(l),this.direction.sub(this.c1).normalize(),this.radius=this.radius*l.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Sphere:()=>a});var n=r("./src/WebGL/math/index.ts");class a{constructor(o={x:0,y:0,z:0},l=0){this.center=new n.Vector3(o.x,o.y,o.z),this.radius=l}set(o,l){return this.center.copy(o),this.radius=l,this}copy(o){return this.center.copy(o.center),this.radius=o.radius,this}applyMatrix4(o){return this.center.applyMatrix4(o),this.radius=this.radius*o.getMaxScaleOnAxis(),this}translate(o){return this.center.add(o),this}equals(o){return o.center.equals(this.center)&&o.radius===this.radius}clone(){return new a().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Triangle:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Vector3;class s{constructor(l=new n.Vector3,u=new n.Vector3,v=new n.Vector3){this.a=l,this.b=u,this.c=v}copy(l){return this.a.copy(l.a),this.b.copy(l.b),this.c.copy(l.c),this}applyMatrix4(l){return this.a.applyMatrix4(l),this.b.applyMatrix4(l),this.c.applyMatrix4(l),this}getNormal(){var l=this.a.clone();return l.sub(this.b),a.subVectors(this.c,this.b),l.cross(a),l.normalize(),l}}},"./src/WebGL/shapes/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Cylinder:()=>a.Cylinder,Sphere:()=>n.Sphere,Triangle:()=>s.Triangle});var n=r("./src/WebGL/shapes/Sphere.ts"),a=r("./src/WebGL/shapes/Cylinder.ts"),s=r("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{autoinit:()=>autoinit,autoload:()=>autoload,processing_autoinit:()=>processing_autoinit,viewers:()=>viewers});var _GLViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/GLViewer.ts"),_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ProteinSurface4.ts"),_utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utilities.ts"),_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/colors.ts"),autoinit=!1,processing_autoinit=!1,viewers={};function autoload(viewer,callback){var i,dataname,type;if(document.querySelector(".viewer_3Dmoljs")!=null&&(autoinit=!0),autoinit){processing_autoinit=!0,viewer=viewer??null;var nviewers=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(viewerdiv=>{var datauri=[],datatypes=[],uri="";viewerdiv.style.position=="static"&&(viewerdiv.style.position="relative");var UI=null;if(type=null,viewerdiv.dataset.pdb)datauri.push("https://files.rcsb.org/view/"+viewerdiv.dataset.pdb+".pdb"),datatypes.push("pdb");else if(viewerdiv.dataset.cid)datatypes.push("sdf"),datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+viewerdiv.dataset.cid+"/SDF?record_type=3d");else if(viewerdiv.dataset.href||viewerdiv.dataset.url){viewerdiv.dataset.href?uri=viewerdiv.dataset.href:uri=viewerdiv.dataset.url,datauri.push(uri),type=uri.substring(uri.lastIndexOf(".")+1),datatypes.push(type);var molName=uri.substring(uri.lastIndexOf("/")+1,uri.lastIndexOf("."));molName=="/"&&(molName=uri.substring(uri.lastIndexOf("/")+1)),viewerdiv.dataset[datatypes[datatypes.length-1]]=molName}var divdata=viewerdiv.dataset;for(i in divdata)i.substring(0,3)==="pdb"&&i!=="pdb"?(datauri.push("https://files.rcsb.org/view/"+divdata[i]+".pdb"),datatypes.push("pdb")):i.substring(0,4)==="href"&&i!=="href"?(uri=divdata[i],datauri.push(uri),datatypes.push(uri.substr(uri.lastIndexOf(".")+1))):i.substring(0,3)==="cid"&&i!=="cid"&&(datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+divdata[i]+"/SDF?record_type=3d"),datatypes.push("sdf"));var options={};viewerdiv.dataset.options&&(options=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.options));var bgcolor=_colors__WEBPACK_IMPORTED_MODULE_3__.CC.color(viewerdiv.dataset.backgroundcolor),bgalpha=viewerdiv.dataset.backgroundalpha;bgalpha=bgalpha==null?1:parseFloat(bgalpha);var style={line:{}};viewerdiv.dataset.style&&(style=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.style));var select={};viewerdiv.dataset.select&&(select=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.select));var selectstylelist=[],surfaces=[],labels=[],zoomto={},spin=null,d=viewerdiv.dataset,stylere=/style(.+)/,surfre=/surface(.*)/,reslabre=/labelres(.*)/,keys=[];for(dataname in d)Object.prototype.hasOwnProperty.call(d,dataname)&&keys.push(dataname);for(keys.sort(),i=0;i<keys.length;i++){dataname=keys[i];var m=stylere.exec(dataname),selname,newsel,styleobj;m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),selectstylelist.push([newsel,styleobj])),m=surfre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),surfaces.push([newsel,styleobj])),m=reslabre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),labels.push([newsel,styleobj])),dataname=="zoomto"&&(zoomto=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname])),dataname=="spin"&&(spin=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]))}var applyStyles=function(e){for(e.setStyle(select,style),UI&&UI.createSelectionAndStyle(select,style),i=0;i<selectstylelist.length;i++){let t=selectstylelist[i][0]||{},r=selectstylelist[i][1]||{line:{}};e.setStyle(t,r),UI&&UI.createSelectionAndStyle(select,style)}for(i=0;i<surfaces.length;i++){let t=surfaces[i][0]||{},r=surfaces[i][1]||{};UI?e.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,r,t,t).then(a=>{UI.loadSurface("VDW",t,r,a)}):e.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,r,t,t)}for(i=0;i<labels.length;i++){let t=labels[i][0]||{},r=labels[i][1]||{};e.addResLabels(t,r)}e.render(),e.zoomTo(zoomto),spin&&e.spin(spin.axis,spin.speed)},glviewer=viewer;try{var config=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.config)||{};config.backgroundColor===void 0&&(config.backgroundColor=bgcolor),config.backgroundAlpha===void 0&&(config.backgroundAlpha=bgalpha),glviewer==null?glviewer=viewers[viewerdiv.id||nviewers++]=(0,_GLViewer__WEBPACK_IMPORTED_MODULE_0__.createViewer)(viewerdiv,config):(glviewer.setBackgroundColor(bgcolor,bgalpha),glviewer.setConfig(config),UI&&UI.initiateUI()),viewerdiv.dataset.ui&&$3Dmol.StateManager&&(UI=new $3Dmol.StateManager(glviewer))}catch(e){console.log(e),viewerdiv.textContent="WebGL appears to be disabled."}if(datauri.length!=0){i=0;var process=function(moldata){uri=datauri[i];var type=viewerdiv.dataset.type||viewerdiv.dataset.datatype||datatypes[i];if(glviewer.addModel(moldata,type,options),UI){var modelName=viewerdiv.dataset[datatypes[i]];UI.setModelTitle(modelName)}if(i+=1,i<datauri.length)(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[i]).then(process);else{if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}};(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[0]).then(process)}else{if(viewerdiv.dataset.element){var moldataid="#"+viewerdiv.dataset.element,molelem=document.querySelector(moldataid),moldata=molelem?molelem.textContent:"";type=viewerdiv.dataset.type||viewerdiv.dataset.datatype,glviewer.addModel(moldata,type,options)}if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&autoload()}},"./src/colors.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CC:()=>a,Color:()=>n,builtinColorSchemes:()=>_,chains:()=>g,elementColors:()=>u,htmlColors:()=>s,residues:()=>v,ssColors:()=>o});class n{constructor(w,x,f){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof w=="number"?(this.r=w||0,this.g=x||0,this.b=f||0,this):this.set(w||0)}set(w){return w instanceof n?w.clone():(typeof w=="number"?this.setHex(w):typeof w=="object"&&(this.r=w?.r||0,this.g=w?.g||0,this.b=w?.b||0),this)}setHex(w){return w=Math.floor(w),this.r=(w>>16&255)/255,this.g=(w>>8&255)/255,this.b=(w&255)/255,this}getHex(){var w=Math.round(this.r*255),x=Math.round(this.g*255),f=Math.round(this.b*255);return w<<16|x<<8|f}clone(){return new n(this.r,this.g,this.b)}copy(w){return this.r=w.r,this.g=w.g,this.b=w.b,this}scaled(){var w={};return w.r=Math.round(this.r*255),w.g=Math.round(this.g*255),w.b=Math.round(this.b*255),w.a=1,w}}class a{static color(w){if(!w)return a.cache[0];if(w instanceof n)return w;if(typeof w=="number"&&typeof a.cache[w]<"u")return a.cache[w];if(w&&Array.isArray(w))return w.map(a.color);let x=a.getHex(w),f=new n(x);return a.cache[x]=f,f}static getHex(w){var x;if(Array.isArray(w))return w.map(a.getHex);if(typeof w=="string"){let f=w;if(!isNaN(parseInt(f)))return parseInt(f);if(f=f.trim(),f.length==4&&f[0]=="#"&&(f="#"+f[1]+f[1]+f[2]+f[2]+f[3]+f[3]),f.length==7&&f[0]=="#")return parseInt(f.substring(1),16);let b=a.rgbRegEx.exec(f);if(b){b[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let h=0;for(let S=2;S<5;S++){h*=256;let C=b[S].endsWith("%")?255*parseFloat(b[S])/100:parseFloat(b[S]);h+=Math.round(C)}return h}return((x=window?.$3Dmol)===null||x===void 0?void 0:x.htmlColors[w.toLowerCase()])||0}return w}}a.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,a.cache={0:new n(0)};let s={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},o={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},l={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},u={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:l,defaultColors:Object.assign({},l),greenCarbon:Object.assign(Object.assign({},l),{C:65280}),cyanCarbon:Object.assign(Object.assign({},l),{C:65535}),magentaCarbon:Object.assign(Object.assign({},l),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},l),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},l),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},l),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},l),{C:8388736}),blueCarbon:Object.assign(Object.assign({},l),{C:255})},v={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},g={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},_={ssPyMol:{prop:"ss",map:o.pyMol},ssJmol:{prop:"ss",map:o.Jmol},Jmol:{prop:"elem",map:u.Jmol},amino:{prop:"resn",map:v.amino},shapely:{prop:"resn",map:v.shapely},nucleic:{prop:"resn",map:v.nucleic},chain:{prop:"chain",map:g.atom},rasmol:{prop:"elem",map:u.rasmol},default:{prop:"elem",map:u.defaultColors},greenCarbon:{prop:"elem",map:u.greenCarbon},chainHetatm:{prop:"chain",map:g.hetatm},cyanCarbon:{prop:"elem",map:u.cyanCarbon},magentaCarbon:{prop:"elem",map:u.magentaCarbon},purpleCarbon:{prop:"elem",map:u.purpleCarbon},whiteCarbon:{prop:"elem",map:u.whiteCarbon},orangeCarbon:{prop:"elem",map:u.orangeCarbon},yellowCarbon:{prop:"elem",map:u.yellowCarbon},blueCarbon:{prop:"elem",map:u.blueCarbon}}},"./src/glcartoon.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{drawCartoon:()=>k,subdivide_spline:()=>g});var n=r("./src/WebGL/math/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/index.ts"),o=r("./src/Gradient.ts"),l=r("./src/colors.ts"),u=r("./src/GLDraw.ts"),v=r("./src/utilities.ts");function g(B,G){var K=[],q=B;q=[],q.push(B[0]);var H,$,W,V,Z,Q,ie,Ce,De;for(H=1,$=B.length-1;H<$;H++)if(Z=B[H],Q=B[H+1],Z.smoothen){var Me=new n.Vector3((Z.x+Q.x)/2,(Z.y+Q.y)/2,(Z.z+Q.z)/2);Me.atom=Z.atom,q.push(Me)}else q.push(Z);for(q.push(B[B.length-1]),H=-1,W=q.length;H<=W-3;H++)if(V=q[H===-1?0:H],Z=q[H+1],Q=q[H+2],ie=q[H===W-3?W-1:H+3],Ce=new n.Vector3().subVectors(Q,V).multiplyScalar(.5),De=new n.Vector3().subVectors(ie,Z).multiplyScalar(.5),!Q.skip)for(var Ne=0;Ne<G;Ne++){var Te=1/G*Ne,be=Z.x+Te*Ce.x+Te*Te*(-3*Z.x+3*Q.x-2*Ce.x-De.x)+Te*Te*Te*(2*Z.x-2*Q.x+Ce.x+De.x),Xe=Z.y+Te*Ce.y+Te*Te*(-3*Z.y+3*Q.y-2*Ce.y-De.y)+Te*Te*Te*(2*Z.y-2*Q.y+Ce.y+De.y),$e=Z.z+Te*Ce.z+Te*Te*(-3*Z.z+3*Q.z-2*Ce.z-De.z)+Te*Te*Te*(2*Z.z-2*Q.z+Ce.z+De.z),R=new n.Vector3(be,Xe,$e);Ne<G/2?R.atom=Z.atom:R.atom=Q.atom,K.push(R)}return K.push(q[q.length-1]),K}let _=.5,y=1.3,w=.8,x=.4,f=.4;function b(B,G,K,q){for(var H,$,W,V,Z=0,Q=G.length;Z<Q;Z++){V=Math.round(Z*(q.length-1)/Q),W=l.CC.color(q[V]);var ie=B.updateGeoGroup(2),Ce=ie.vertexArray,De=ie.colorArray,Me=ie.faceArray;H=ie.vertices,$=H*3,Ce[$]=G[Z].x,Ce[$+1]=G[Z].y,Ce[$+2]=G[Z].z,Ce[$+3]=K[Z].x,Ce[$+4]=K[Z].y,Ce[$+5]=K[Z].z;for(var Ne=0;Ne<6;++Ne)De[$+3*Ne]=W.r,De[$+1+3*Ne]=W.g,De[$+2+3*Ne]=W.b;if(Z>0){var Te=[H,H+1,H-1,H-2],be=ie.faceidx;Me[be]=Te[0],Me[be+1]=Te[1],Me[be+2]=Te[3],Me[be+3]=Te[1],Me[be+4]=Te[2],Me[be+5]=Te[3],ie.faceidx+=6}ie.vertices+=2}}function h(B,G,K,q,H,$,W){var V,Z,Q,ie;if(Q=G.length,Q<2||G[0].length<2)return;for(V=0;V<Q;V++)G[V]=g(G[V],q);if(ie=G[0].length,!H)return b(B,G[0],G[Q-1],K);var Ce,De,Me,Ne,Te,be,Xe=[],$e=[],R=[];for(Z=0;Z<Q;Z++)Xe.push(.25+1.5*Math.sqrt((Q-1)*Z-Math.pow(Z,2))/(Q-1)),$e.push(.5),R.push(2*(Math.pow(Z/Q,2)-Z/Q)+.6);var me=[];for(Z=0;Z<Q*2-1;Z++)me[Z]=[Z,Z+1,Z+1-2*Q,Z-2*Q];me[Q*2-1]=[Z,Z+1-2*Q,Z+1-4*Q,Z-2*Q];var ge,ne,fe,ye,He,Be,_e,Fe,Ge,Ve;let Pe=B.updateGeoGroup();for(V=0;V<ie;V++){let ue=B.groups,ve=!1;Pe=B.updateGeoGroup(2*Q),ue!=B.groups&&V>0&&(V=V-1,ve=!0),Be=Math.round(V*(K.length-1)/ie),He=l.CC.color(K[Be]),Te=Me,be=Ne,Me=[],Ne=[],Ce=[],G[0][V].atom!==void 0&&(ye=G[0][V].atom,W==="oval"?De=Xe:W==="rectangle"?De=$e:W==="parabola"&&(De=R)),De||(De=$e);var vt,_t;for(Z=0;Z<Q;Z++)V<ie-1?vt=G[Z][V+1].clone().sub(G[Z][V]):vt=G[Z][V-1].clone().sub(G[Z][V]).negate(),Z<Q-1?_t=G[Z+1][V].clone().sub(G[Z][V]):_t=G[Z-1][V].clone().sub(G[Z][V]).negate(),Ce[Z]=_t.cross(vt).normalize().multiplyScalar(H*De[Z]);for(Z=0;Z<Q;Z++)Me[Z]=G[Z][V].clone().add(Ce[Z].clone().negate());for(Z=0;Z<Q;Z++)Ne[Z]=G[Z][V].clone().add(Ce[Z]);for(_e=Pe.vertexArray,Fe=Pe.colorArray,Ge=Pe.faceArray,ge=Pe.vertices,ne=ge*3,Z=0;Z<Q;Z++)_e[ne+3*Z+0]=Me[Z].x,_e[ne+3*Z+1]=Me[Z].y,_e[ne+3*Z+2]=Me[Z].z;for(Z=0;Z<Q;Z++)_e[ne+3*Z+0+3*Q]=Ne[Q-1-Z].x,_e[ne+3*Z+1+3*Q]=Ne[Q-1-Z].y,_e[ne+3*Z+2+3*Q]=Ne[Q-1-Z].z;for(Z=0;Z<2*Q;++Z)Fe[ne+3*Z+0]=He.r,Fe[ne+3*Z+1]=He.g,Fe[ne+3*Z+2]=He.b;if(V>0&&!ve){for(Z=0;Z<Q*2;Z++)Ve=[ge+me[Z][0],ge+me[Z][1],ge+me[Z][2],ge+me[Z][3]],fe=Pe.faceidx,Ge[fe]=Ve[0],Ge[fe+1]=Ve[1],Ge[fe+2]=Ve[3],Ge[fe+3]=Ve[1],Ge[fe+4]=Ve[2],Ge[fe+5]=Ve[3],Pe.faceidx+=6;if(ye.clickable||ye.hoverable){var le=[];le.push(new a.Triangle(Te[0],Me[0],Me[Q-1])),le.push(new a.Triangle(Te[0],Me[Q-1],Te[Q-1])),le.push(new a.Triangle(Te[Q-1],Me[Q-1],Ne[Q-1])),le.push(new a.Triangle(Te[Q-1],Ne[Q-1],be[Q-1])),le.push(new a.Triangle(Ne[0],be[0],be[Q-1])),le.push(new a.Triangle(Ne[Q-1],Ne[0],be[Q-1])),le.push(new a.Triangle(Me[0],Te[0],be[0])),le.push(new a.Triangle(Ne[0],Me[0],be[0]));for(Z in le)ye.intersectionShape.triangle.push(le[Z])}}Pe.vertices+=2*Q}for(_e=Pe.vertexArray,Fe=Pe.colorArray,Ge=Pe.faceArray,ge=Pe.vertices,ne=ge*3,fe=Pe.faceidx,V=0;V<Q-1;V++)Ve=[V,V+1,2*Q-2-V,2*Q-1-V],fe=Pe.faceidx,Ge[fe]=Ve[0],Ge[fe+1]=Ve[1],Ge[fe+2]=Ve[3],Ge[fe+3]=Ve[1],Ge[fe+4]=Ve[2],Ge[fe+5]=Ve[3],Pe.faceidx+=6;for(V=0;V<Q-1;V++)Ve=[ge-1-V,ge-2-V,ge-2*Q+V+1,ge-2*Q+V],fe=Pe.faceidx,Ge[fe]=Ve[0],Ge[fe+1]=Ve[1],Ge[fe+2]=Ve[3],Ge[fe+3]=Ve[1],Ge[fe+4]=Ve[2],Ge[fe+5]=Ve[3],Pe.faceidx+=6}function S(B,G,K,q,H,$){if(!(G.length<2)){var W,V;if(W=G[0],V=G[G.length-1],W=g(W,q),V=g(V,q),!H)return b(B,W,V,K);var Z=[],Q,ie,Ce,De,Me,Ne=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],Te,be,Xe,$e,R,me,ge,ne,fe,ye,He,Be,_e,Fe,Ge,Ve,Pe;for(ne=0,fe=W.length;ne<fe;ne++){if(R=Math.round(ne*(K.length-1)/fe),$e=l.CC.color(K[R]),Z.push(ie=W[ne]),Z.push(ie),Z.push(Ce=V[ne]),Z.push(Ce),ne<fe-1){var vt=W[ne+1].clone().sub(W[ne]),_t=V[ne].clone().sub(W[ne]);Q=_t.cross(vt).normalize().multiplyScalar(H)}for(Z.push(De=W[ne].clone().add(Q)),Z.push(De),Z.push(Me=V[ne].clone().add(Q)),Z.push(Me),ie.atom!==void 0&&(me=ie.atom),Fe=B.updateGeoGroup(8),Ge=Fe.vertexArray,Ve=Fe.colorArray,Pe=Fe.faceArray,Te=Fe.vertices,be=Te*3,Ge[be]=ie.x,Ge[be+1]=ie.y,Ge[be+2]=ie.z,Ge[be+3]=ie.x,Ge[be+4]=ie.y,Ge[be+5]=ie.z,Ge[be+6]=Ce.x,Ge[be+7]=Ce.y,Ge[be+8]=Ce.z,Ge[be+9]=Ce.x,Ge[be+10]=Ce.y,Ge[be+11]=Ce.z,Ge[be+12]=De.x,Ge[be+13]=De.y,Ge[be+14]=De.z,Ge[be+15]=De.x,Ge[be+16]=De.y,Ge[be+17]=De.z,Ge[be+18]=Me.x,Ge[be+19]=Me.y,Ge[be+20]=Me.z,Ge[be+21]=Me.x,Ge[be+22]=Me.y,Ge[be+23]=Me.z,ye=0;ye<8;++ye)Ve[be+3*ye]=$e.r,Ve[be+1+3*ye]=$e.g,Ve[be+2+3*ye]=$e.b;if(ne>0){var le=ge!==void 0&&me!==void 0&&ge.serial!==me.serial;for(ye=0;ye<4;ye++){var ue=[Te+Ne[ye][0],Te+Ne[ye][1],Te+Ne[ye][2],Te+Ne[ye][3]];if(Xe=Fe.faceidx,Pe[Xe]=ue[0],Pe[Xe+1]=ue[1],Pe[Xe+2]=ue[3],Pe[Xe+3]=ue[1],Pe[Xe+4]=ue[2],Pe[Xe+5]=ue[3],Fe.faceidx+=6,me.clickable||ge.clickable||me.hoverable||ge.hoverable){var ve=Z[ue[3]].clone(),Ke=Z[ue[0]].clone(),ke=Z[ue[2]].clone(),rt=Z[ue[1]].clone();if(ve.atom=Z[ue[3]].atom||null,ke.atom=Z[ue[2]].atom||null,Ke.atom=Z[ue[0]].atom||null,rt.atom=Z[ue[1]].atom||null,le){var st=ve.clone().add(Ke).multiplyScalar(.5),ae=ke.clone().add(rt).multiplyScalar(.5),Ue=ve.clone().add(rt).multiplyScalar(.5);ye%2===0?((ge.clickable||ge.hoverable)&&(He=new a.Triangle(st,Ue,ve),Be=new a.Triangle(ae,ke,Ue),_e=new a.Triangle(Ue,ke,ve),ge.intersectionShape.triangle.push(He),ge.intersectionShape.triangle.push(Be),ge.intersectionShape.triangle.push(_e)),(me.clickable||me.hoverable)&&(He=new a.Triangle(Ke,rt,Ue),Be=new a.Triangle(rt,ae,Ue),_e=new a.Triangle(Ke,Ue,st),me.intersectionShape.triangle.push(He),me.intersectionShape.triangle.push(Be),me.intersectionShape.triangle.push(_e))):((me.clickable||me.hoverable)&&(He=new a.Triangle(st,Ue,ve),Be=new a.Triangle(ae,ke,Ue),_e=new a.Triangle(Ue,ke,ve),me.intersectionShape.triangle.push(He),me.intersectionShape.triangle.push(Be),me.intersectionShape.triangle.push(_e)),(ge.clickable||ge.hoverable)&&(He=new a.Triangle(Ke,rt,Ue),Be=new a.Triangle(rt,ae,Ue),_e=new a.Triangle(Ke,Ue,st),ge.intersectionShape.triangle.push(He),ge.intersectionShape.triangle.push(Be),ge.intersectionShape.triangle.push(_e)))}else(me.clickable||me.hoverable)&&(He=new a.Triangle(Ke,rt,ve),Be=new a.Triangle(rt,ke,ve),me.intersectionShape.triangle.push(He),me.intersectionShape.triangle.push(Be))}}}Fe.vertices+=8,ge=me}var Je=Z.length-8;for(Fe=B.updateGeoGroup(8),Ge=Fe.vertexArray,Ve=Fe.colorArray,Pe=Fe.faceArray,Te=Fe.vertices,be=Te*3,Xe=Fe.faceidx,ne=0;ne<4;ne++){Z.push(Z[ne*2]),Z.push(Z[Je+ne*2]);var ct=Z[ne*2],Le=Z[Je+ne*2];Ge[be+6*ne]=ct.x,Ge[be+1+6*ne]=ct.y,Ge[be+2+6*ne]=ct.z,Ge[be+3+6*ne]=Le.x,Ge[be+4+6*ne]=Le.y,Ge[be+5+6*ne]=Le.z,Ve[be+6*ne]=$e.r,Ve[be+1+6*ne]=$e.g,Ve[be+2+6*ne]=$e.b,Ve[be+3+6*ne]=$e.r,Ve[be+4+6*ne]=$e.g,Ve[be+5+6*ne]=$e.b}Je+=8,He=[Te,Te+2,Te+6,Te+4],Be=[Te+1,Te+5,Te+7,Te+3],Pe[Xe]=He[0],Pe[Xe+1]=He[1],Pe[Xe+2]=He[3],Pe[Xe+3]=He[1],Pe[Xe+4]=He[2],Pe[Xe+5]=He[3],Pe[Xe+6]=Be[0],Pe[Xe+7]=Be[1],Pe[Xe+8]=Be[3],Pe[Xe+9]=Be[1],Pe[Xe+10]=Be[2],Pe[Xe+11]=Be[3],Fe.faceidx+=12,Fe.vertices+=8}}function C(B,G,K,q,H,$,W){(!W||W==="default")&&(W="rectangle"),W==="edged"?S(B,G,K,q,H,$):(W==="rectangle"||W==="oval"||W==="parabola")&&h(B,G,K,q,H,$,W)}function M(B){return B&&B.elem==="C"&&B.atom==="CA"}function p(B,G){if(B&&G&&B.chain===G.chain){if(!B.hetflag&&!G.hetflag&&B.reschain===G.reschain&&(B.resi===G.resi||B.resi===G.resi-1))return!0;if(B.resi<G.resi){var K=B.x-G.x,q=B.y-G.y,H=B.z-G.z,$=K*K+q*q+H*H;if(B.atom=="CA"&&G.atom=="CA"&&$<16)return!0;if((B.atom=="P"||G.atom=="P")&&$<64)return!0}}return!1}function c(B,G,K,q,H){if(!(G==null||G.vertices==0)){H&&(G.initTypedArrays(),G.setUpNormals());var $=new s.MeshDoubleLambertMaterial;$.vertexColors=s.Coloring.FaceColors,typeof K=="number"&&K>=0&&K<1&&($.transparent=!0,$.opacity=K),$.outline=q;var W=new s.Mesh(G,$);B.add(W)}}function E(B,G,K,q,H,$,W,V,Z){var Q,ie,Ce,De,Me,Ne;if(!(!q||!H||!W)){var Te=H.sub(q);Te.normalize();var be=V[Z];for(ie=Z+1;ie<V.length&&(be=V[ie],be.atom!=W.atom);ie++);if(be=be?new n.Vector3(be.x,be.y,be.z):new n.Vector3(0,0,0),be.sub(q),W.ss==="arrow start"){var Xe=be.clone().multiplyScalar(.3).cross(H);q.add(Xe);var $e=be.clone().cross(Te).normalize();Te.rotateAboutVector($e,.43)}for(W.style.cartoon.ribbon?Q=W.style.cartoon.thickness||x:W.style.cartoon.width?Q=W.style.cartoon.width:W.ss==="c"?W.atom==="P"?Q=w:Q=_:W.ss==="arrow start"?(Q=y,Me=!0):W.ss==="arrow end"||W.ss==="h"&&W.style.cartoon.tubes||W.ss==="tube start"?Q=_:Q=y,$!=null&&Te.dot($)<0&&Te.negate(),Te.multiplyScalar(Q),ie=0;ie<G;ie++)Ce=-1+ie*2/(G-1),De=new n.Vector3(q.x+Ce*Te.x,q.y+Ce*Te.y,q.z+Ce*Te.z),De.atom=W,K&&W.ss==="s"&&(De.smoothen=!0),B[ie].push(De);if(Me)for(Te.multiplyScalar(2),ie=0;ie<G;ie++)Ce=-1+ie*2/(G-1),De=new n.Vector3(q.x+Ce*Te.x,q.y+Ce*Te.y,q.z+Ce*Te.z),De.atom=W,De.smoothen=!1,De.skip=!0,B[ie].push(De);return Ne=W.style.cartoon.style||"default",B.style?B.style!=Ne&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),B.style="default"):B.style=Ne,(W.ss==="arrow start"||W.ss==="arrow end")&&(W.ss="s"),Me}}let D={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},I={DA:!0,DG:!0,A:!0,G:!0},O={DT:!0,DC:!0,U:!0,C:!0,T:!0},P={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function k(B,G,K,q=10){let H=q,$=q;var W,V,Z,Q,ie,Ce,De,Me,Ne,Te,be,Xe,$e,R,me,ge,ne,fe,ye=new s.Geometry(!0),He=new s.Geometry(!0),Be=[],_e=[],Fe=1,Ge=!1,Ve={};for(var Pe in o.Gradient.builtinGradients)o.Gradient.builtinGradients.hasOwnProperty(Pe)&&(Ve[Pe]=new o.Gradient.builtinGradients[Pe](K[1],K[0]));var vt=function(oe,ut){return K&&ut.color==="spectrum"?ut.colorscheme in Ve?Ve[ut.colorscheme].valueToHex(oe.resi):Ve.sinebow.valueToHex(oe.resi):(0,v.getColorFromStyle)(oe,ut).getHex()};for(Me=0;Me<H;Me++)_e[Me]=[];var _t=!1,le=!1,ue=[];for(Me in G){if(Q=G[Me],Q.elem==="C"&&Q.atom==="CA"){var ve=p(Z,Q);ve&&Q.ss==="s"?_t=!0:_t&&(Z&&V&&Z.style.cartoon.arrows&&V.style.cartoon.arrows&&(Z.ss="arrow end",V.ss="arrow start"),_t=!1),ve&&(Z.ss==="h"||Z.ss=="tube start")&&Z.style.cartoon.tubes?!le&&Z.ss!="tube start"&&Q.style.cartoon.tubes&&(Q.ss="tube start",le=!0):le&&(Z.ss==="tube start"?Z.ss="tube end":V&&V.style.cartoon.tubes&&(V.ss="tube end"),le=!1),V=Z,Z=Q}Q&&Q.atom in D&&ue.push(Q)}le&&Z.style.cartoon.tubes&&(Z.ss="tube end",le=!1);var Ke=function(oe){_e[0].length>0&&C(He,_e,Be,$,De,Fe,_e.style);var ut=[],At=null;if(oe){for(Me=0;Me<H;Me++)ut[Me]=_e[Me][_e[Me].length-1];At=Be[Be.length-1]}for(_e=[],Me=0;Me<H;Me++)_e[Me]=[];if(Be=[],oe){for(Me=0;Me<H;Me++)_e[Me].push(ut[Me]);Be.push(At)}c(B,He,Fe,Ge,!0),c(B,ye,Fe,Ge,!1),He=new s.Geometry(!0),ye=new s.Geometry(!0)};Z=void 0;for(var ke=0;ke<ue.length;ke++){Q=ue[ke];var rt=Q.resn.trim(),st=rt in P;if(Fe=1,W=Q.style.cartoon,Z&&Z.style.cartoon&&(Fe=Z.style.cartoon.opacity),Z&&Z.style.cartoon&&Z.style.cartoon.outline&&(Ge=Z.style.cartoon.outline),Z&&Z.style.cartoon&&(!Q.style.cartoon||Z.style.cartoon.opacity!=Q.style.cartoon.opacity)&&Ke(Z.chain==Q.chain),W.style==="trace"){if(!Q.hetflag){if(Q.elem==="C"&&Q.atom==="CA"||st&&Q.atom==="P"||Q.atom==="BB"){if(Ce=vt(Q,W),(0,v.isNumeric)(W.thickness)?De=W.thickness:De=x,p(Z,Q))if(Ce==ie){var ae=l.CC.color(Ce);u.GLDraw.drawCylinder(ye,Z,Q,De,ae,2,2)}else{var Ue=new n.Vector3().addVectors(Z,Q).multiplyScalar(.5),Je=l.CC.color(ie),ct=l.CC.color(Ce);u.GLDraw.drawCylinder(ye,Z,Ue,De,Je,2,0),u.GLDraw.drawCylinder(ye,Ue,Q,De,ct,0,2)}if((Q.clickable===!0||Q.hoverable)&&Q.intersectionShape!==void 0){var Le=new n.Vector3(Q.x,Q.y,Q.z);Q.intersectionShape.sphere.push(new a.Sphere(Le,De))}Z=Q,ie=Ce}}}else{if(M(Q)||st&&(Q.atom==="P"||Q.atom.indexOf("O5")==0)){if(fe)if(Q.ss==="tube end")fe=!1,ne=new n.Vector3(Q.x,Q.y,Q.z),u.GLDraw.drawCylinder(ye,ge,ne,2,l.CC.color(ie),1,1),Q.ss="h";else if(Z.chain!=Q.chain||Z.ss==="tube end")fe=!1,Z.ss="h",ne=new n.Vector3(Z.x,Z.y,Z.z),u.GLDraw.drawCylinder(ye,ge,ne,2,l.CC.color(ie),1,1);else continue;if(Z&&(!p(Z,Q)||Z.ss==="tube start")){for(Z.ss==="tube start"&&(fe=!0,ge=new n.Vector3(Z.x,Z.y,Z.z),Z.ss="h"),me&&(Xe?R=new n.Vector3().addVectors(Z,Xe).multiplyScalar(.5):R=new n.Vector3(Z.x,Z.y,Z.z),u.GLDraw.drawCylinder(ye,R,me,f,l.CC.color(me.color),0,2),E(_e,H,!0,Xe,$e,be,Z,ue,ke),Be.push(Ce),R=null,me=null),_e[0].length>0&&C(He,_e,Be,$,De,Fe,_e.style),_e=[],Me=0;Me<H;Me++)_e[Me]=[];Be=[]}if(Z===void 0||Z.rescode!=Q.rescode||Z.resi!=Q.resi){if(me){R=new n.Vector3().addVectors(Z,Q).multiplyScalar(.5);var ot=R.clone().sub(me).multiplyScalar(.02);R.add(ot),u.GLDraw.drawCylinder(ye,R,me,f,l.CC.color(me.color),0,2),R=null,me=null}Ce=vt(Q,W),Be.push(Ce),(0,v.isNumeric)(W.thickness)?De=W.thickness:De=x,Z=Q,Ne=new n.Vector3(Z.x,Z.y,Z.z),Ne.resi=Z.resi,ie=Ce}(Q.clickable===!0||Q.hoverable===!0)&&(Q.intersectionShape===void 0||Q.intersectionShape.triangle===void 0)&&(Q.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else M(Z)&&Q.atom==="O"||st&&Z.atom==="P"&&(Q.atom==="OP2"||Q.atom==="O2P")||st&&Z.atom.indexOf("O5")==0&&Q.atom.indexOf("C5")==0?(Te=new n.Vector3(Q.x,Q.y,Q.z),Te.resi=Q.resi,(Q.atom==="OP2"||Q.atom==="O2P")&&($e=new n.Vector3(Q.x,Q.y,Q.z))):st&&Q.atom.indexOf("O3")==0?Xe=new n.Vector3(Q.x,Q.y,Q.z):(Q.atom==="N1"&&rt in I||Q.atom==="N3"&&rt in O)&&(me=new n.Vector3(Q.x,Q.y,Q.z),me.color=(0,v.getColorFromStyle)(Q,W).getHex());Te&&Ne&&Te.resi===Ne.resi&&(E(_e,H,!0,Ne,Te,be,Z,ue,ke),be=Te,Ne=null,Te=null,Be.push(Ce))}}me&&(Xe?R=new n.Vector3().addVectors(Z,Xe).multiplyScalar(.5):R=new n.Vector3(Z.x,Z.y,Z.z),u.GLDraw.drawCylinder(ye,R,me,f,l.CC.color(me.color),0,2),E(_e,H,!0,Xe,$e,be,Z,ue,ke),Be.push(Ce)),Ke(!1)}},"./src/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CAP:()=>f.CAP,CC:()=>a.CC,Color:()=>a.Color,CustomLinear:()=>n.CustomLinear,Cylinder:()=>v.Cylinder,GLDraw:()=>f.GLDraw,GLModel:()=>h.GLModel,GLShape:()=>x.GLShape,GLViewer:()=>S.GLViewer,GLVolumetricRender:()=>w.GLVolumetricRender,Gradient:()=>n.Gradient,GradientType:()=>n.GradientType,Label:()=>s.Label,LabelCount:()=>s.LabelCount,MarchingCube:()=>_.MarchingCube,MarchingCubeInitializer:()=>_.MarchingCubeInitializer,Matrix3:()=>u.Matrix3,Matrix4:()=>u.Matrix4,Parsers:()=>l.Parsers,PausableTimer:()=>g.PausableTimer,PointGrid:()=>_.PointGrid,ProteinSurface:()=>_.ProteinSurface,Quaternion:()=>u.Quaternion,ROYGB:()=>n.ROYGB,RWB:()=>n.RWB,Ray:()=>u.Ray,Sinebow:()=>n.Sinebow,Sphere:()=>v.Sphere,SurfaceType:()=>_.SurfaceType,Triangle:()=>v.Triangle,Vector2:()=>u.Vector2,Vector3:()=>u.Vector3,VolumeData:()=>y.VolumeData,adjustVolumeStyle:()=>g.adjustVolumeStyle,applyPartialCharges:()=>o.applyPartialCharges,autoinit:()=>C.autoinit,autoload:()=>C.autoload,base64ToArray:()=>g.base64ToArray,bondLength:()=>l.bondLength,builtinColorSchemes:()=>a.builtinColorSchemes,builtinGradients:()=>n.builtinGradients,chains:()=>a.chains,clamp:()=>u.clamp,conversionMatrix3:()=>u.conversionMatrix3,createStereoViewer:()=>S.createStereoViewer,createViewer:()=>S.createViewer,createViewerGrid:()=>S.createViewerGrid,deepCopy:()=>g.deepCopy,degToRad:()=>u.degToRad,download:()=>g.download,drawCartoon:()=>b.drawCartoon,elementColors:()=>a.elementColors,extend:()=>g.extend,get:()=>g.get,getAtomProperty:()=>g.getAtomProperty,getColorFromStyle:()=>g.getColorFromStyle,getElement:()=>g.getElement,getExtent:()=>g.getExtent,getGradient:()=>n.getGradient,getPropertyRange:()=>g.getPropertyRange,getbin:()=>g.getbin,htmlColors:()=>a.htmlColors,isEmptyObject:()=>g.isEmptyObject,isNumeric:()=>g.isNumeric,makeFunction:()=>g.makeFunction,mergeGeos:()=>g.mergeGeos,normalizeValue:()=>n.normalizeValue,partialCharges:()=>o.partialCharges,processing_autoinit:()=>C.processing_autoinit,residues:()=>a.residues,setBondLength:()=>l.setBondLength,setSyncSurface:()=>_.setSyncSurface,specStringToObject:()=>g.specStringToObject,splitMesh:()=>x.splitMesh,ssColors:()=>a.ssColors,subdivide_spline:()=>b.subdivide_spline,syncSurface:()=>_.syncSurface,viewers:()=>C.viewers});var n=r("./src/Gradient.ts"),a=r("./src/colors.ts"),s=r("./src/Label.ts"),o=r("./src/partialCharges.ts"),l=r("./src/parsers/index.ts"),u=r("./src/WebGL/math/index.ts"),v=r("./src/WebGL/shapes/index.ts"),g=r("./src/utilities.ts"),_=r("./src/ProteinSurface4.ts"),y=r("./src/VolumeData.ts"),w=r("./src/VolumetricRender.ts"),x=r("./src/GLShape.ts"),f=r("./src/GLDraw.ts"),b=r("./src/glcartoon.ts"),h=r("./src/GLModel.ts"),S=r("./src/GLViewer.ts"),C=r("./src/autoload.ts"),M=r("./src/specs.ts");window&&(window.$3Dmol=t)},"./src/parsers/CDJSON.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CDJSON:()=>n});function n(a,s){var o=[[]];typeof a=="string"&&(a=JSON.parse(a));for(var l=a.m,u=l[0].a,v=l[0].b,g=l[0].s,_=s!==void 0&&s.parseStyle!==void 0?s.parseStyle:g!==void 0,y=o[o.length-1].length,w=0;w<u.length;w++){var x=u[w],f={};f.id=x.i,f.x=x.x,f.y=x.y,f.z=x.z||0,f.bonds=[],f.bondOrder=[];var b=x.l||"C";f.elem=b[0].toUpperCase()+b.substr(1).toLowerCase(),f.serial=o[o.length-1].length,_&&(f.style=g[x.s||0]),o[o.length-1].push(f)}for(let h=0;h<v.length;h++){let S=v[h],C=S.b+y,M=S.e+y,p=S.o||1,c=o[o.length-1][C],E=o[o.length-1][M];c.bonds.push(M),c.bondOrder.push(p),E.bonds.push(C),E.bondOrder.push(p)}return o}},"./src/parsers/CIF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CIF:()=>l});var n=r("./src/parsers/utils/assignBonds.ts"),a=r("./src/parsers/utils/computeSecondaryStructure.ts"),s=r("./src/parsers/utils/processSymmetries.ts"),o=r("./src/WebGL/index.ts");function l(u,v={}){var g=[],_=!v.doAssembly,y=g.modelData=[],w=v.assignBonds===void 0?!0:v.assignBonds,x=function(ue,ve,Ke,ke){return new o.Vector3(ve,Ke,ke).applyMatrix3(ue)};function f(ue,ve){for(var Ke=[],ke=0,rt=0;rt<ue.length;){for(;ue.substr(rt,ve.length)!==ve&&rt<ue.length;){if(ue[rt]==="'")for(rt++;rt<ue.length&&ue[rt]!=="'";)rt++;else if(ue[rt]==='"')for(rt++;rt<ue.length&&ue[rt]!=='"';)rt++;rt++}Ke.push(ue.substr(ke,rt-ke)),ke=rt=rt+ve.length}return Ke}var b=u.split(/\r?\n|\r/),h=[],S=!1;for(let ue=0;ue<b.length;ue++){var C=b[ue].split("#")[0];if(S?C[0]===";"&&(S=!1):C[0]===";"&&(S=!0),S||C!==""){if(!S&&(C=C.trim(),C[0]==="_")){var M=C.split(/\s/)[0].indexOf(".");if(M>-1){let ve=C.split("");ve[M]="_",C=ve.join(""),C=C.substr(0,M)+"_"+C.substr(M+1)}}h.push(C)}}for(var p=0;p<h.length;){for(;!h[p].startsWith("data_")||h[p]==="data_global";)p++;p++;for(var c={};p<h.length&&!h[p].startsWith("data_");)if(h[p][0]===void 0)p++;else if(h[p][0]==="_"){var E=h[p].split(/\s/)[0].toLowerCase(),D=c[E]=c[E]||[],I=h[p].substr(h[p].indexOf(E)+E.length);if(I==="")if(p++,h[p][0]===";"){var O=h[p].substr(1);for(p++;h[p]!==";";)O=O+`
`+h[p],p++;D.push(O)}else D.push(h[p]);else D.push(I.trim());p++}else if(h[p].substr(0,5)==="loop_"){p++;for(var P=[];h[p]===""||h[p][0]==="_";){if(h[p]!==""){let ue=h[p].split(/\s/)[0].toLowerCase(),ve=c[ue]=c[ue]||[];P.push(ve)}p++}for(var k=0;p<h.length&&h[p][0]!=="_"&&!h[p].startsWith("loop_")&&!h[p].startsWith("data_");){let ue=f(h[p]," ");for(var B=0;B<ue.length;B++)ue[B]!==""&&(P[k].push(ue[B]),k=(k+1)%P.length);p++}}else p++;y.push({symmetries:[]}),g.push([]);var G=c._atom_site_id!==void 0?c._atom_site_id.length:c._atom_site_label.length,K;if(c._cell_length_a!==void 0){var q=parseFloat(c._cell_length_a),H=parseFloat(c._cell_length_b),$=parseFloat(c._cell_length_c),W=parseFloat(c._cell_angle_alpha)||90,V=parseFloat(c._cell_angle_beta)||90,Z=parseFloat(c._cell_angle_gamma)||90;K=(0,o.conversionMatrix3)(q,H,$,W,V,Z),y[y.length-1].cryst={a:q,b:H,c:$,alpha:W,beta:V,gamma:Z}}for(var Q=0;Q<G;Q++)if(!(c._atom_site_group_pdb!==void 0&&c._atom_site_group_pdb[Q]==="TER")){var ie={};if(c._atom_site_cartn_x!==void 0)ie.x=parseFloat(c._atom_site_cartn_x[Q]),ie.y=parseFloat(c._atom_site_cartn_y[Q]),ie.z=parseFloat(c._atom_site_cartn_z[Q]);else{var Ce=x(K,parseFloat(c._atom_site_fract_x[Q]),parseFloat(c._atom_site_fract_y[Q]),parseFloat(c._atom_site_fract_z[Q]));ie.x=Ce.x,ie.y=Ce.y,ie.z=Ce.z}ie.chain=c._atom_site_auth_asym_id?c._atom_site_auth_asym_id[Q]:void 0,ie.resi=c._atom_site_auth_seq_id?parseInt(c._atom_site_auth_seq_id[Q]):void 0,ie.resn=c._atom_site_auth_comp_id?c._atom_site_auth_comp_id[Q].trim():void 0,ie.atom=c._atom_site_auth_atom_id?c._atom_site_auth_atom_id[Q].replace(/"/gm,""):void 0,ie.hetflag=!c._atom_site_group_pdb||c._atom_site_group_pdb[Q]==="HETA"||c._atom_site_group_pdb[Q]==="HETATM";var De="X";c._atom_site_type_symbol?De=c._atom_site_type_symbol[Q].replace(/\(?\+?\d+.*/,""):c._atom_site_label&&(De=c._atom_site_label[Q].split("_")[0].replace(/\(?\d+.*/,"")),ie.elem=De[0].toUpperCase()+De.substr(1,1).toLowerCase(),ie.bonds=[],ie.ss="c",ie.serial=Q,ie.bondOrder=[],ie.properties={},g[g.length-1].push(ie)}if(c._pdbx_struct_oper_list_id!==void 0&&!_)for(let ue=0;ue<c._pdbx_struct_oper_list_id.length;ue++){var Me=parseFloat(c["_pdbx_struct_oper_list_matrix[1][1]"][ue]),Ne=parseFloat(c["_pdbx_struct_oper_list_matrix[1][2]"][ue]),Te=parseFloat(c["_pdbx_struct_oper_list_matrix[1][3]"][ue]),be=parseFloat(c["_pdbx_struct_oper_list_vector[1]"][ue]),Xe=parseFloat(c["_pdbx_struct_oper_list_matrix[2][1]"][ue]),$e=parseFloat(c["_pdbx_struct_oper_list_matrix[2][2]"][ue]),R=parseFloat(c["_pdbx_struct_oper_list_matrix[2][3]"][ue]),me=parseFloat(c["_pdbx_struct_oper_list_vector[2]"][ue]),ge=parseFloat(c["_pdbx_struct_oper_list_matrix[3][1]"][ue]),ne=parseFloat(c["_pdbx_struct_oper_list_matrix[3][2]"][ue]),fe=parseFloat(c["_pdbx_struct_oper_list_matrix[3][3]"][ue]),ye=parseFloat(c["_pdbx_struct_oper_list_vector[3]"][ue]),He=new o.Matrix4(Me,Ne,Te,be,Xe,$e,R,me,ge,ne,fe,ye);y[y.length-1].symmetries.push(He)}var Be=function(ue){var ve=ue.match("-");ue=ue.replace(/[-xyz]/g,"");var Ke=ue.split("/"),ke,rt;return Ke[1]===void 0?rt=1:rt=parseInt(Ke[1]),Ke[0]===""?ke=1:ke=parseInt(Ke[0]),ke/rt*(ve?-1:1)};if(c._symmetry_equiv_pos_as_xyz!==void 0&&!_)for(var _e=0;_e<c._symmetry_equiv_pos_as_xyz.length;_e++){var Fe=c._symmetry_equiv_pos_as_xyz[_e].replace(/["' ]/g,""),Ge=Fe.split(",").map(function(ve){return ve.replace(/-/g,"+-")});let ue=new o.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let ve=0;ve<3;ve++){var Ve=Ge[ve].split("+");for(let Ke=0;Ke<Ve.length;Ke++){var Pe=Ve[Ke];if(Pe!==""){var vt=Be(Pe);Pe.match("x")?ue.elements[ve+0]=vt:Pe.match("y")?ue.elements[ve+4]=vt:Pe.match("z")?ue.elements[ve+8]=vt:ue.elements[ve+12]=vt}}}var _t=K.getMatrix4(),le=new o.Matrix4().getInverse(_t,!0);ue=new o.Matrix4().multiplyMatrices(ue,le),ue=new o.Matrix4().multiplyMatrices(_t,ue),y[y.length-1].symmetries.push(ue)}}for(let ue=0;ue<g.length;ue++)w&&(0,n.assignBonds)(g[ue]),(0,a.computeSecondaryStructure)(g[ue],v.hbondCutoff),(0,s.processSymmetries)(y[ue].symmetries,g[ue],v,y[ue].cryst),v.duplicateAssemblyAtoms&&!v.dontConnectDuplicatedAtoms&&w&&(0,n.assignBonds)(g[ue]);return g}},"./src/parsers/CUBE.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CUBE:()=>o});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/assignBonds.ts"),s=r("./src/parsers/utils/anumToSymbol.ts");function o(l,u){u=u||{};var v=[[]],g=l.split(/\r?\n/),_=u.assignBonds===void 0?!0:u.assignBonds;if(g.length<6)return v;var y=g[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w=Math.abs(parseFloat(y[0]));let x={};var f=x.origin=new n.Vector3(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3]));y=g[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),y=g[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var b=y[0]>0?.529177:1;f.multiplyScalar(b);var h=Math.abs(y[0]),S=new n.Vector3(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])).multiplyScalar(b);y=g[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var C=Math.abs(y[0]),M=new n.Vector3(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])).multiplyScalar(b);y=g[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var p=Math.abs(y[0]),c=new n.Vector3(parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])).multiplyScalar(b);if(x.size={x:h,y:C,z:p},x.unit=new n.Vector3(S.x,M.y,c.z),S.y!=0||S.z!=0||M.x!=0||M.z!=0||c.x!=0||c.y!=0){x.matrix4=new n.Matrix4(S.x,M.x,c.x,0,S.y,M.y,c.y,0,S.z,M.z,c.z,0,0,0,0,1);let B=new n.Matrix4().makeTranslation(f.x,f.y,f.z);x.matrix4=x.matrix4.multiplyMatrices(B,x.matrix4),x.matrix=x.matrix4.matrix3FromTopLeft(),x.origin=new n.Vector3(0,0,0),x.unit=new n.Vector3(1,1,1)}v.modelData=[{cryst:x}],g=g.splice(6,w);for(var E=v[v.length-1].length,D=E+g.length,I=E;I<D;++I){var O={};O.serial=I;var P=g[I-E],k=P.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");O.elem=s.anumToSymbol[k[0]],O.x=parseFloat(k[2])*b,O.y=parseFloat(k[3])*b,O.z=parseFloat(k[4])*b,O.hetflag=!0,O.bonds=[],O.bondOrder=[],O.properties={},v[v.length-1].push(O)}if(_)for(let B=0;B<v.length;B++)(0,a.assignBonds)(v[B]);return v}},"./src/parsers/GRO.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GRO:()=>s});var n=r("./src/parsers/utils/assignPDBBonds.ts"),a=r("./src/parsers/utils/atomNameToElem.ts");function s(o){for(var l=[],u=o.split(/\r?\n|\r/);u.length>0&&!(u.length<3);){var v=parseInt(u[1]);if(isNaN(v)||v<=0||u.length<v+3)break;var g=[];l.push(g);for(var _=2,y=g.length,w=y+v,x=y;x<w;x++){var f=u[_++],b={};b.serial=x,b.atom=f.slice(10,15).trim(),b.elem=(0,a.atomNameToElem)(b.atom,!0),b.x=10*parseFloat(f.slice(20,28)),b.y=10*parseFloat(f.slice(28,36)),b.z=10*parseFloat(f.slice(36,44)),b.resi=parseInt(f.slice(0,5)),b.resn=f.slice(5,10).trim(),b.bonds=[],b.bondOrder=[],b.properties={},f.length>44&&(b.dx=10*parseFloat(f.slice(44,52)),b.dy=10*parseFloat(f.slice(52,60)),b.dz=10*parseFloat(f.slice(60,68))),g[x]=b}if(u.length<=_+3){var h=u[_++],S=h.trim().split(/\s+/);if(S.length==3){for(var C=0;C<3;C++)S[C]=parseFloat(S[C])*10;l.box=S}}u.splice(0,++_)}for(let M=0;M<l.length;M++)(0,n.assignPDBBonds)(l[M]);return l}},"./src/parsers/LAMMPSTRJ.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{LAMMPSTRJ:()=>a});var n=r("./src/parsers/utils/assignBonds.ts");function a(s,o){for(var l=[],u={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"},v=s.split(/\r?\n|\r/),g=0,_=0,y=0;y<v.length-9;){for(var w=y;w<v.length;w++)if(v[w].match(/ITEM: NUMBER OF ATOMS/)&&(_=parseInt(v[w+1])),v[w].match(/ITEM: ATOMS/)){g=w+1;break}var x=v[g-1].replace("ITEM: ATOMS ","").split(" ");l.push([]);for(let p=g;p<g+_;p++){for(var f={},b={},h=v[p].split(" "),S=0;S<h.length;S++){var C=u[x[S]];C!=null&&(C=="serial"?f[C]=parseInt(h[S]):C=="x"||C=="y"||C==="z"?f[C]=parseFloat(h[S]):C=="charge"||C=="radius"?b[C]=parseFloat(h[S]):f[C]=h[S]),f.properties=b,f.bonds=[],f.bondOrder=[]}l[l.length-1][p-g]=f}y=g+_-1}if(o.assignBonds)for(var M=0;M<l.length;M++)(0,n.assignBonds)(l[M]);return l}},"./src/parsers/MMTF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MMTFparser:()=>_});var n=r("./src/utilities.ts"),a=r("./src/WebGL/index.ts"),s=r("./src/parsers/utils/computeSecondaryStructure.ts"),o=r("./src/parsers/utils/processSymmetries.ts"),l=r("./src/vendor/mmtf.js"),u=function(y){return String.fromCharCode.apply(null,y).replace(/\0/g,"")},v=function(y){return y==0||y==2||y==4?"h":y==3?"s":"c"};let g=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function _(y,w){var x=!w.keepH,f=w.altLoc?w.altLoc:"A",b=!!w.noSecondaryStructure,h=!w.noComputeSecondaryStructure,S=!w.doAssembly,C=w.assemblyIndex?w.assemblyIndex:0;typeof y=="string"?y=(0,n.base64ToArray)(y):y=new Uint8Array(y);var M=l.decode(y),p=[[]],c=p.modelData=[],E=0,D=0,I=0,O=0,P=M.secStructList,k=M.insCodeList,B=M.sequenceIndexList,G=M.bFactorList,K=M.altLocList,q=M.occupancyList,H=M.bondAtomList,$=M.bondOrderList,W=M.numModels;if(W==0)return p;w.multimodel||(W=1);var V,Z,Q,ie,Ce,De,Me=[];if(!S&&M.bioAssemblyList&&M.bioAssemblyList.length>0){var Ne=M.bioAssemblyList[C].transformList;for(V=0,De=Ne.length;V<De;V++){var Te=new a.Matrix4(Ne[V].matrix);Te.transpose(),Me.push(Te)}}var be=null;if(M.unitCell){var Xe=M.unitCell;be={a:Xe[0],b:Xe[1],c:Xe[2],alpha:Xe[3],beta:Xe[4],gamma:Xe[5]}}let $e=[];M.entityList.forEach(yt=>{yt.chainIndexList.forEach(nt=>{$e[nt]=yt.type=="polymer"})});var R=0;for(Ce=0;Ce<W;Ce++){var me=M.chainsPerModel[Ce],ge=p[p.length-1],ne=[];for(c.push({symmetries:Me,cryst:be}),V=0;V<me;++V){var fe=M.groupsPerChain[D],ye=u(M.chainIdList.subarray(D*4,D*4+4));M.chainNameList&&(ye=u(M.chainNameList.subarray(D*4,D*4+4)));var He=I,Be="";for(Z=0;Z<fe;++Z){var _e=M.groupList[M.groupTypeList[I]],Fe=_e.atomNameList.length,Ge=0,Ve=!1,Pe=!1;if(P){Ge=P[I];var vt=v(Ge);(I==0||vt!=Be)&&(Ve=!0),Be=vt;var _t=I+1;(_t>=P.length||v(P[_t]!=vt))&&(Pe=!0)}var le=null;M.insCodeList&&(le=String.fromCharCode(k[I]));var ue=null;B&&(ue=B[I]);var ve=M.groupIdList[I],Ke=_e.groupName;let yt=_e.chemCompType;var ke=O;let nt=g.has(yt)||!$e[D];for(Q=0;Q<Fe;++Q){var rt=_e.elementList[Q];if(x&&rt=="H"){O+=1;continue}var st="";G&&(st=G[O]);var ae="";K&&K[O]&&(ae=String.fromCharCode(K[O]));var Ue="";if(q&&(Ue=q[O]),ae!=""&&ae!=f&&f!="*"){O+=1;continue}var Je=M.atomIdList[O],ct=_e.atomNameList[Q],Le=0;_e.atomChargeList&&(Le=_e.atomChargeList[Q]);var ot=M.xCoordList[O],oe=M.yCoordList[O],ut=M.zCoordList[O];ne[O]=ge.length,ge.push({resn:Ke,x:ot,y:oe,z:ut,elem:rt,hetflag:nt,chain:ye,resi:ve,icode:ae,rescode:ve+(ae!=" "?"^"+ae:""),serial:Je,altLoc:ae,index:O,atom:ct,bonds:[],ss:v(Ge),ssbegin:Ve,ssend:Pe,bondOrder:[],properties:{charge:Le,occupancy:Ue},b:st}),O+=1}var At=_e.bondAtomList;for(Q=0,ie=_e.bondOrderList.length;Q<ie;++Q){var j=ke+At[Q*2],Ye=ke+At[Q*2+1],qe=_e.bondOrderList[Q],ce=ne[j],ze=ne[Ye],et=ge[ce],Lt=ge[ze];et&&Lt&&(et.bonds.push(ze),et.bondOrder.push(qe),Lt.bonds.push(ce),Lt.bondOrder.push(qe))}I+=1}for(I=He,Z=0;Z<fe;++Z)I+=1;D+=1}if(H)for(let yt=R,nt=H.length;yt<nt;yt+=2){let qt=H[yt],en=H[yt+1],jt=$?$[yt/2]:1;if(qt>=O){R=yt;break}let Jt=ne[qt],Ot=ne[en],yr=ge[Jt],mr=ge[Ot];yr&&mr&&(yr.bonds.push(Ot),yr.bondOrder.push(jt),mr.bonds.push(Jt),mr.bondOrder.push(jt))}w.multimodel&&(w.onemol||p.push([])),E+=1}if(!S)for(let yt=0;yt<p.length;yt++)(0,o.processSymmetries)(c[yt].symmetries,p[yt],w,c[yt].cryst);return h&&!b&&(0,s.computeSecondaryStructure)(p,w.hbondCutoff),p}},"./src/parsers/MOL2.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MOL2:()=>a});let n={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function a(s,o){var l=[[]],u=!1;typeof o.keepH<"u"&&(u=!o.keepH);var v=s.search(/@<TRIPOS>MOLECULE/),g=s.search(/@<TRIPOS>ATOM/);if(v==-1||g==-1)return l;for(var _=s.substr(v,s.length).split(/\r?\n|\r/);_.length>0;){var y=[],w=_[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),x=parseInt(w[0]),f=0;w.length>1&&(f=parseInt(w[1]));var b=4,h;for(h=3;h<_.length;h++)if(_[h]=="@<TRIPOS>ATOM"){b=h+1;break}var S=l[l.length-1].length,C=S+x,M;for(h=S;h<C;h++){M=_[b++],w=M.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var p={},c=w[5];if(n[c]!==void 0?c=n[c]:(c=c.split(".")[0],c=c[0].toUpperCase()+c.substr(1).toLowerCase()),p.atom=w[1],p.elem=c,!(p.elem=="H"&&u)){var E=l[l.length-1].length,D=parseInt(w[0]);p.serial=D,p.x=parseFloat(w[2]),p.y=parseFloat(w[3]),p.z=parseFloat(w[4]),p.atom=w[5];var I=parseFloat(w[8]);p.index=E,p.bonds=[],p.bondOrder=[],p.properties={charge:I,partialCharge:I},y[D]=E,l[l.length-1].push(p)}}for(var O=!1;b<_.length;)if(_[b++]=="@<TRIPOS>BOND"){O=!0;break}if(O&&f)for(h=0;h<f;h++){M=_[b++],w=M.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var P=parseInt(w[1]),k=l[l.length-1][y[P]],B=parseInt(w[2]),G=l[l.length-1][y[B]],K=parseInt(w[3]);isNaN(K)&&(K=1),k!==void 0&&G!==void 0&&(k.bonds.push(y[B]),k.bondOrder.push(K),G.bonds.push(y[P]),G.bondOrder.push(K))}if(o.multimodel){o.onemol||l.push([]),_.splice(0,b),s=_.join(`
`);continue}else break}return l}},"./src/parsers/PDB.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PDB:()=>a});var n=r("./src/parsers/utils/getSinglePDB.ts");function a(s,o){o=o||{};var l=[],u={};l.modelData=[];for(var v=s.split(/\r?\n|\r/);v.length>0;){var g=(0,n.getSinglePDB)(v,o,u),_=g[0],y=g[1];if(v=g[2],_.length!=0){if(o.multimodel&&o.onemol&&l.length>0)for(var w=l[0].length,x=0;x<_.length;x++){var f=_[x];f.index=x;for(var b=0;b<f.bonds.length;b++)f.bonds[b]+=w;l[0].push(f)}else l.modelData.push(y),l.push(_);if(!o.multimodel)break}}return l}},"./src/parsers/PQR.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PQR:()=>s});var n=r("./src/parsers/utils/assignPDBBonds.ts"),a=r("./src/parsers/utils/computeSecondaryStructure.ts");function s(o,l){var u=[[]],v=!l.noSecondaryStructure;u.modelData=[{symmetries:[]}];var g=[],_=o.split(/\r?\n|\r/),y;for(let O=0;O<_.length;O++){y=_[O].replace(/^\s*/,"");var w=y.substr(0,6);if(w.indexOf("END")==0)if(l.multimodel){l.onemol||u.push([]);continue}else break;else if(w=="ATOM  "||w=="HETATM"){var x;let P=parseInt(y.substr(6,5)),k=y.substr(12,4).replace(/ /g,""),B=y.substr(17,3).trim(),G=y.substr(21,1),K=parseInt(y.substr(22,4));var f=y.substr(30).trim().split(/\s+/),b=parseFloat(f[0]),h=parseFloat(f[1]),S=parseFloat(f[2]),C=parseFloat(f[3]),M=parseFloat(f[4]),p=k[0];k.length>1&&k[1].toUpperCase()!=k[1]&&(p=k.substr(0,2)),y[0]=="H"?x=!0:x=!1,g[P]=u[u.length-1].length,u[u.length-1].push({resn:B,x:b,y:h,z:S,elem:p,hetflag:x,chain:G,resi:K,serial:P,atom:k,bonds:[],ss:"c",bondOrder:[],properties:{charge:C,partialCharge:C,radius:M},pdbline:y})}else if(w=="CONECT"){var c=parseInt(y.substr(6,5)),E=u[u.length-1][g[c]];for(let P=0;P<4;P++){var D=parseInt(y.substr([11,16,21,26][P],5)),I=u[u.length-1][g[D]];E!==void 0&&I!==void 0&&(E.bonds.push(g[D]),E.bondOrder.push(1))}}}for(let O=0;O<u.length;O++)(0,n.assignPDBBonds)(u[O]),v&&(0,a.computeSecondaryStructure)(u[O],l.hbondCutoff);return u}},"./src/parsers/PRMTOP.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PRMTOP:()=>n});function n(a){var s=[],o,l=0,u=a.split(/\r?\n|\r/);if(u.length>0&&u[0].includes("VERSION")){var v=u.filter(function(b){return b.includes("POINTERS")||b.includes("ATOM_NAME")||b.includes("CHARGE")||b.includes("RADII")||b.includes("BONDS_INC_HYDROGEN")||b.includes("BONDS_WITHOUT_HYDROGEN")}),g=x("POINTERS");if(g==-1)return[];var _=f(g),y=parseInt(u[g+1].slice(0,_[1]));if(isNaN(y)||y<=0)return[];if(g=x("ATOM_NAME"),g==-1)return[];_=f(g);var w=_[0];for(let b=0;b<y/_[0];b++){b==parseInt(y/_[0])&&(w=y%_[0]);for(let h=0;h<w;h++){let S={},C={charge:"",radii:""};S.serial=l,S.x=0,S.y=0,S.z=0,S.atom=u[g+1].slice(_[1]*h,_[1]*(h+1)),S.elem=u[g+1].slice(_[1]*h,_[1]*h+1),S.properties=C,S.bonds=[],S.bondOrder=[],s.push(S),l++}g++}if(g=x("CHARGE"),g!=-1){_=f(g),l=0,w=_[0];for(let b=0;b<y/_[0];b++){b==parseInt(y/_[0])&&(w=y%_[0]);for(let h=0;h<w;h++)s[l].properties.charge=parseFloat(u[g+1].slice(_[1]*h,_[1]*(h+1))),l++;g++}}if(g=x("RADII"),g!=-1){_=f(g),l=0,w=_[0];for(let b=0;b<y/_[0];b++){b==parseInt(y/_[0])&&(w=y%_[0]);for(let h=0;h<w;h++)s[l].properties.radii=parseFloat(u[g+1].slice(_[1]*h,_[1]*(h+1))),l++;g++}}if(g=x("BONDS_WITHOUT_HYDROGEN"),g!=-1)for(_=f(g),l=0,w=_[0],g=g+1;!u[g].match(/^%FLAG/);){u[g+1].match(/^%FLAG/)&&(w=y%_[0]);for(let b=0;b<w;b++)l%3==0?o=parseInt(u[g].slice(_[1]*b,_[1]*(b+1))/3):l%3==1&&s[o].bonds.push(parseInt(u[g].slice(_[1]*b,_[1]*(b+1))/3)),l++;g++}if(g=x("BONDS_INC_HYDROGEN"),g!=-1)for(_=f(g),l=0,w=_[0],g=g+1;!u[g].match(/^%FLAG/);){u[g+1].match(/^%FLAG/)&&(w=y%_[0]);for(let b=0;b<w;b++)l%3==0?o=parseInt(u[g].slice(_[1]*b,_[1]*(b+1))/3):l%3==1&&s[o].bonds.push(parseInt(u[g].slice(_[1]*b,_[1]*(b+1))/3)),l++;g++}}else return[];function x(b){var h=u.indexOf(v.filter(function(S){return S.includes(b)})[0]);if(Number.isInteger(h)&&h>0){for(;!u[h].includes("FORMAT");)h++;return h}else return-1}function f(b){var h=u[b].match(/\((\d*)\S*/),S=u[b].match(/[a-zA-Z](\d*)\)\s*/);return S==null&&(S=u[b].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[h[1],S[1]]}return[s]}},"./src/parsers/SDF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SDF:()=>s});var n=function(o,l){var u=[[]],v=!1;for(typeof l.keepH<"u"&&(v=!l.keepH);o.length>0&&!(o.length<4);){var g=parseInt(o[3].substr(0,3));if(isNaN(g)||g<=0)break;var _=parseInt(o[3].substr(3,3)),y=4;if(o.length<4+g+_)break;var w=[],x=u[u.length-1].length,f=x+g,b,h;for(b=x;b<f;b++,y++){h=o[y];var S={},C=h.substr(31,3).replace(/ /g,"");S.atom=S.elem=C[0].toUpperCase()+C.substr(1).toLowerCase(),(S.elem!=="H"||!v)&&(S.serial=b,w[b]=u[u.length-1].length,S.x=parseFloat(h.substr(0,10)),S.y=parseFloat(h.substr(10,10)),S.z=parseFloat(h.substr(20,10)),S.hetflag=!0,S.bonds=[],S.bondOrder=[],S.properties={},S.index=u[u.length-1].length,u[u.length-1].push(S))}for(b=0;b<_;b++,y++){h=o[y];var M=w[parseInt(h.substr(0,3))-1+x],p=w[parseInt(h.substr(3,3))-1+x],c=parseFloat(h.substr(6));typeof M<"u"&&typeof p<"u"&&(u[u.length-1][M].bonds.push(p),u[u.length-1][M].bondOrder.push(c),u[u.length-1][p].bonds.push(M),u[u.length-1][p].bondOrder.push(c))}if(l.multimodel){for(l.onemol||u.push([]);o[y]!=="$$$$";)y++;o.splice(0,++y)}else break}return u},a=function(o,l){var u=[[]],v=!1;for(typeof l.keepH<"u"&&(v=!l.keepH);o.length>0&&!(o.length<8||!o[4].startsWith("M  V30 BEGIN CTAB")||!o[5].startsWith("M  V30 COUNTS")||o[5].length<14);){var g=o[5].substr(13).match(/\S+/g);if(g.length<2)break;var _=parseInt(g[0]);if(isNaN(_)||_<=0)break;var y=parseInt(g[1]),w=7;if(o.length<8+_+y)break;var x=[],f=u[u.length-1].length,b=f+_,h,S;for(h=f;h<b;h++,w++){S=o[w];var C=S.substr(6).match(/\S+/g);if(C.length>4){var M={},p=C[1].replace(/ /g,"");M.atom=M.elem=p[0].toUpperCase()+p.substr(1).toLowerCase(),(M.elem!=="H"||!v)&&(M.serial=h,x[h]=u[u.length-1].length,M.x=parseFloat(C[2]),M.y=parseFloat(C[3]),M.z=parseFloat(C[4]),M.hetflag=!0,M.bonds=[],M.bondOrder=[],M.properties={},M.index=u[u.length-1].length,u[u.length-1].push(M))}}if(o[w]==="M  V30 END ATOM")w++;else break;if(y!==0&&o[w]==="M  V30 BEGIN BOND")w++;else break;for(h=0;h<y;h++,w++){S=o[w];var c=S.substr(6).match(/\S+/g);if(c.length>3){var E=x[parseInt(c[2])-1+f],D=x[parseInt(c[3])-1+f],I=parseFloat(c[1]);typeof E<"u"&&typeof D<"u"&&(u[u.length-1][E].bonds.push(D),u[u.length-1][E].bondOrder.push(I),u[u.length-1][D].bonds.push(E),u[u.length-1][D].bondOrder.push(I))}}if(l.multimodel){for(l.onemol||u.push([]);o[w]!=="$$$$";)w++;o.splice(0,++w)}else break}return u};function s(o,l){var u="V2000",v=o.split(/\r?\n|\r/);return v.length>3&&v[3].length>38&&(u=v[3].substr(34,5)),u==="V2000"?n(v,l):u==="V3000"?a(v,l):[[]]}},"./src/parsers/VASP.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VASP:()=>a});var n=r("./src/WebGL/index.ts");function a(s){var o=[[]],l={},u=s.replace(/^\s+/,"").split(/\r?\n/);if(u.length<3)return o;if(u[1].match(/\d+/))l.length=parseFloat(u[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),o;if(l.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),o;l.xVec=new Float32Array(u[2].replace(/^\s+/,"").split(/\s+/)),l.yVec=new Float32Array(u[3].replace(/^\s+/,"").split(/\s+/)),l.zVec=new Float32Array(u[4].replace(/^\s+/,"").split(/\s+/));var v=new n.Matrix3(l.xVec[0],l.xVec[1],l.xVec[2],l.yVec[0],l.yVec[1],l.yVec[2],l.zVec[0],l.zVec[1],l.zVec[2]);v.multiplyScalar(l.length),o.modelData=[{symmetries:[],cryst:{matrix:v}}];var g=u[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/),_=new Int16Array(u[6].replace(/^\s+/,"").split(/\s+/)),y=u[7].replace(/\s+/,"");if(y.match(/C/))y="cartesian";else if(y.match(/D/))y="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),o;if(g.length!=_.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(g),console.log(_),o;u.splice(0,8);for(var w=0,x=0,f=g.length;x<f;x++){for(var b=g[x],h=0,S=_[x];h<S;h++){var C=new Float32Array(u[w+h].replace(/^\s+/,"").split(/\s+/)),M={};M.elem=b,y=="cartesian"?(M.x=l.length*C[0],M.y=l.length*C[1],M.z=l.length*C[2]):(M.x=l.length*(C[0]*l.xVec[0]+C[1]*l.yVec[0]+C[2]*l.zVec[0]),M.y=l.length*(C[0]*l.xVec[1]+C[1]*l.yVec[1]+C[2]*l.zVec[1]),M.z=l.length*(C[0]*l.xVec[2]+C[1]*l.yVec[2]+C[2]*l.zVec[2])),M.bonds=[],o[0].push(M)}w+=_[x]}return o}},"./src/parsers/XYZ.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{XYZ:()=>s});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/assignBonds.ts");function s(o,l){l=l||{};for(var u=[[]],v=l.assignBonds===void 0?!0:l.assignBonds,g=o.split(/\r?\n|\r/);g.length>0&&!(g.length<3);){var _=parseInt(g[0]);if(isNaN(_)||_<=0||g.length<_+2)break;var y=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,w=y.exec(g[1]);if(w!=null&&w.length>1){var x=new Float32Array(w[1].split(/\s+/)),f=new n.Matrix3(x[0],x[3],x[6],x[1],x[4],x[7],x[2],x[5],x[8]);u.modelData=[{cryst:{matrix:f}}]}for(var b=2,h=u[u.length-1].length,S=h+_,C=h;C<S;C++){var M=g[b++],p=M.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),c={};c.serial=C;var E=p[0];c.atom=c.elem=E[0].toUpperCase()+E.substr(1,1).toLowerCase(),c.x=parseFloat(p[1]),c.y=parseFloat(p[2]),c.z=parseFloat(p[3]),c.hetflag=!0,c.bonds=[],c.bondOrder=[],c.properties={},u[u.length-1][C]=c,p.length>=7&&(c.dx=parseFloat(p[4]),c.dy=parseFloat(p[5]),c.dz=parseFloat(p[6]))}if(l.multimodel)u.push([]),g.splice(0,b);else break}if(v)for(let I=0;I<u.length;I++)(0,a.assignBonds)(u[I]);if(l.onemol){var D=u;u=[],u.push(D[0]);for(let I=1;I<D.length;I++){let O=u[0].length;for(let P=0;P<D[I].length;P++){let k=D[I][P];for(let B=0;B<k.bonds.length;B++)k.bonds[B]=k.bonds[B]+O;k.index=u[0].length,k.serial=u[0].length,u[0].push(k)}}}return u}},"./src/parsers/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Parsers:()=>h,bondLength:()=>b.bondLength,setBondLength:()=>b.setBondLength});var n=r("./src/parsers/VASP.ts"),a=r("./src/parsers/CUBE.ts"),s=r("./src/parsers/XYZ.ts"),o=r("./src/parsers/SDF.ts"),l=r("./src/parsers/CDJSON.ts"),u=r("./src/parsers/CIF.ts"),v=r("./src/parsers/MOL2.ts"),g=r("./src/parsers/PDB.ts"),_=r("./src/parsers/PQR.ts"),y=r("./src/parsers/MMTF.ts"),w=r("./src/parsers/PRMTOP.ts"),x=r("./src/parsers/GRO.ts"),f=r("./src/parsers/LAMMPSTRJ.ts"),b=r("./src/parsers/utils/bondLength.ts");let h={vasp:n.VASP,VASP:n.VASP,cube:a.CUBE,CUBE:a.CUBE,xyz:s.XYZ,XYZ:s.XYZ,sdf:o.SDF,SDF:o.SDF,json:l.CDJSON,cdjson:l.CDJSON,CDJSON:l.CDJSON,mcif:u.CIF,cif:u.CIF,CIF:u.CIF,mol2:v.MOL2,MOL2:v.MOL2,pdb:g.PDB,PDB:g.PDB,pdbqt:g.PDB,PDBQT:g.PDB,pqr:_.PQR,PQR:_.PQR,mmtf:y.MMTFparser,MMTF:y.MMTFparser,prmtop:w.PRMTOP,PRMTOP:w.PRMTOP,gro:x.GRO,GRO:x.GRO,lammpstrj:f.LAMMPSTRJ,LAMMPSTRJ:f.LAMMPSTRJ}},"./src/parsers/utils/anumToSymbol.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{anumToSymbol:()=>n});let n={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{areConnected:()=>a});var n=r("./src/parsers/utils/bondLength.ts");function a(s,o){var l=(0,n.bondLength)(s.elem)+(0,n.bondLength)(o.elem);l+=.25,l*=l;var u=s.x-o.x;if(u*=u,u>l)return!1;var v=s.y-o.y;if(v*=v,v>l)return!1;var g=s.z-o.z;if(g*=g,g>l)return!1;var _=u+v+g;return isNaN(_)||_<.5||_>l?!1:!(s.altLoc!=o.altLoc&&s.altLoc!=" "&&o.altLoc!=" ")}},"./src/parsers/utils/assignBackboneHBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignBackboneHBonds:()=>n});function n(a,s){let o=s||3.2,l=o*o,u=[];for(let b=0,h=a.length;b<h;b++){a[b].index=b;var v=a[b];!v.hetflag&&(v.atom==="N"||v.atom==="O")&&(u.push(v),v.hbondOther=null,v.hbondDistanceSq=Number.POSITIVE_INFINITY)}u.sort(function(b,h){return b.z-h.z});for(let b=0,h=u.length;b<h;b++){var g=u[b];for(let S=b+1;S<h;S++){var _=u[S],y=_.z-g.z;if(y>o)break;if(_.atom!=g.atom){var w=Math.abs(_.y-g.y);if(!(w>o)){var x=Math.abs(_.x-g.x);if(!(x>o)){var f=x*x+w*w+y*y;f>l||_.chain==g.chain&&Math.abs(_.resi-g.resi)<4||(f<g.hbondDistanceSq&&(g.hbondOther=_,g.hbondDistanceSq=f),f<_.hbondDistanceSq&&(_.hbondOther=g,_.hbondDistanceSq=f))}}}}}}},"./src/parsers/utils/assignBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignBonds:()=>a});var n=r("./src/parsers/utils/areConnected.ts");function a(s){for(var o=0,l=s.length;o<l;o++)s[o].index||(s[o].index=o);for(var u={},v=4.95,g=0;g<s.length;g++){var _=s[g],y=Math.floor(_.x/v),w=Math.floor(_.y/v),x=Math.floor(_.z/v);u[y]||(u[y]={}),u[y][w]||(u[y][w]={}),u[y][w][x]||(u[y][w][x]=[]),u[y][w][x].push(_)}var f=function(h,S){for(var C=0;C<h.length;C++)for(var M=h[C],p=0;p<S.length;p++){var c=S[p];if((0,n.areConnected)(M,c)){var E=M.bonds.indexOf(c.index),D=c.bonds.indexOf(M.index);E==-1&&D==-1?(M.bonds.push(c.index),M.bondOrder.push(1),c.bonds.push(M.index),c.bondOrder.push(1)):E==-1?(M.bonds.push(c.index),M.bondOrder.push(c.bondOrder[D])):D==-1&&(c.bonds.push(M.index),c.bondOrder.push(M.bondOrder[E]))}}},b=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(let h in u){let S=parseInt(h);for(let C in u[S]){let M=parseInt(C);for(let p in u[S][M]){let c=parseInt(p),E=u[S][M][c];for(let D=0;D<E.length;D++){let I=E[D];for(let O=D+1;O<E.length;O++){let P=E[O];(0,n.areConnected)(I,P)&&I.bonds.indexOf(P.index)==-1&&(I.bonds.push(P.index),I.bondOrder.push(1),P.bonds.push(I.index),P.bondOrder.push(1))}}for(let D=0;D<b.length;D++){let I=b[D];if(!u[S+I.x]||!u[S+I.x][M+I.y]||!u[S+I.x][M+I.y][c+I.z])continue;let O=u[S+I.x][M+I.y][c+I.z];f(E,O)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignPDBBonds:()=>o});var n=r("./src/parsers/utils/areConnected.ts"),a=r("./src/parsers/utils/assignBonds.ts"),s=r("./src/parsers/utils/standardResidues.ts");function o(l){var u=[],v=[],g,_;for(g=0,_=l.length;g<_;g++){var y=l[g];y.index=g,y.hetflag||!s.standardResidues.has(y.resn)?v.push(y):u.push(y)}(0,a.assignBonds)(v),u.sort(function(C,M){return C.chain!=M.chain?C.chain<M.chain?-1:1:C.resi-M.resi});var w=-1,x=-1,f;for(g=0,_=u.length;g<_;g++){var b=u[g];b.resi!==w&&(w=b.resi,f||x++,f=!1),b.reschain=x;for(var h=g+1;h<u.length;h++){var S=u[h];if(S.chain!=b.chain||S.resi-b.resi>1)break;(0,n.areConnected)(b,S)&&(b.bonds.indexOf(S.index)===-1&&(b.bonds.push(S.index),b.bondOrder.push(1),S.bonds.push(b.index),S.bondOrder.push(1)),b.resi!==S.resi&&(f=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{atomNameToElem:()=>a});var n=r("./src/parsers/utils/bondLength.ts");function a(s,o){var l=s.replace(/ /g,"");return l.length>0&&l[0]=="H"&&l!="Hg"&&l!="He"&&l!="Hf"&&l!="Hs"&&l!="Ho"&&(l="H"),l.length>1&&(l=l[0].toUpperCase()+l.substr(1).toLowerCase(),typeof n.bondTable[l]>"u"?l=l[0]:o&&(l=="Ca"||l=="Cd")&&(l="C")),l}},"./src/parsers/utils/bondLength.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{bondLength:()=>a,bondTable:()=>n,setBondLength:()=>s});let n={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function a(o){return n[o]||1.6}function s(o,l){l<0&&(l=0),n[o]=l}},"./src/parsers/utils/computeSecondaryStructure.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{computeSecondaryStructure:()=>a});var n=r("./src/parsers/utils/assignBackboneHBonds.ts");function a(s,o){(0,n.assignBackboneHBonds)(s,o);var l={},u,v,g,_,y,w;for(u=0,v=s.length;u<v;u++)if(y=s[u],typeof l[y.chain]>"u"&&(l[y.chain]=[]),isFinite(y.hbondDistanceSq)){var x=y.hbondOther;typeof l[x.chain]>"u"&&(l[x.chain]=[]),Math.abs(x.resi-y.resi)===4&&(l[y.chain][y.resi]="h")}for(g in l)for(_=1;_<l[g].length-1;_++){var f=l[g][_-1],b=l[g][_+1];w=l[g][_],f=="h"&&f==b&&w!=f&&(l[g][_]=f)}for(u=0,v=s.length;u<v;u++)y=s[u],isFinite(y.hbondDistanceSq)&&l[y.chain][y.resi]!="h"&&y.ss!="h"&&(l[y.chain][y.resi]="maybesheet");for(let h=0,S=s.length;h<S;h++)if(y=s[h],isFinite(y.hbondDistanceSq)&&l[y.chain][y.resi]=="maybesheet"){let C=y.hbondOther,M=l[C.chain][C.resi];(M=="maybesheet"||M=="s")&&(l[y.chain][y.resi]="s",l[C.chain][C.resi]="s")}for(let h in l){for(let S=1;S<l[h].length-1;S++){let C=l[h][S-1],M=l[h][S+1];w=l[h][S],C=="s"&&C==M&&w!=C&&(l[h][S]=C)}for(let S=0;S<l[h].length;S++){let C=l[h][S];(C=="h"||C=="s")&&l[h][S-1]!=C&&l[h][S+1]!=C&&delete l[h][S]}}for(u=0,v=s.length;u<v;u++)y=s[u],w=l[y.chain][y.resi],delete y.hbondOther,delete y.hbondDistanceSq,!(typeof w>"u"||w=="maybesheet")&&(y.ss=w,l[y.chain][y.resi-1]!=w&&(y.ssbegin=!0),l[y.chain][y.resi+1]!=w&&(y.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getSinglePDB:()=>_});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/atomNameToElem.ts"),s=r("./src/parsers/utils/bondLength.ts"),o=r("./src/parsers/utils/computeSecondaryStructure.ts"),l=r("./src/parsers/utils/isEmpty.ts"),u=r("./src/parsers/utils/processSymmetries.ts"),v=r("./src/parsers/utils/assignPDBBonds.ts"),g=r("./src/parsers/utils/validateBonds.ts");function _(y,w,x){var f=[],b=w.assignBonds===void 0?!0:w.assignBonds,h=!w.keepH,S=!!w.noSecondaryStructure,C=!w.noComputeSecondaryStructure,M=!w.doAssembly,p=w.altLoc?w.altLoc:"A",c={symmetries:[]},E,D=[],I=!1,O=[],P,k={};for(let le=0;le<y.length;le++){P=y[le].replace(/^\s*/,"");var B=P.substr(0,6),G,K,q,H;if(B.indexOf("END")==0){if(D=y.slice(le+1),B=="END")for(var $ in x)x.hasOwnProperty($)&&delete x[$];break}else if(B=="ATOM  "||B=="HETATM"){var W,V,Z,Q,ie,Ce,De,Me,Ne,Te,be,Xe;if(be=P.substr(16,1),be!=" "&&be!=p&&p!="*"||(Te=parseInt(P.substr(6,5)),E=P.substr(12,4).replace(/ /g,""),W=P.substr(17,3).replace(/ /g,""),V=P.substr(21,1),Z=parseInt(P.substr(22,4)),Q=P.substr(26,1),ie=parseFloat(P.substr(30,8)),Ce=parseFloat(P.substr(38,8)),De=parseFloat(P.substr(46,8)),Xe=parseFloat(P.substr(60,8)),Ne=P.substr(76,2).replace(/ /g,""),Ne===""||typeof s.bondTable[Ne]>"u"?Ne=(0,a.atomNameToElem)(P.substr(12,2),P[0]=="A"):Ne=Ne[0].toUpperCase()+Ne.substr(1).toLowerCase(),Ne=="H"&&h))continue;B[0]=="H"?Me=!0:Me=!1,O[Te]=f.length,f.push({resn:W,x:ie,y:Ce,z:De,elem:Ne,hetflag:Me,altLoc:be,chain:V,resi:Z,icode:Q,rescode:Z+(Q!=" "?"^"+Q:""),serial:Te,atom:E,bonds:[],ss:"c",bondOrder:[],properties:{},b:Xe,pdbline:P})}else if(B=="SHEET "){I=!0,G=P.substr(21,1),K=parseInt(P.substr(22,4)),q=P.substr(32,1),H=parseInt(P.substr(33,4)),G in x||(x[G]={}),x[G][K]="s1";for(var $e=K+1;$e<H;$e++)x[G][$e]="s";x[G][H]="s2"}else if(B=="CONECT"){var R=parseInt(P.substr(6,5)),me=O[R],ge=f[me],ne=[11,16,21,26];for(let ue=0;ue<4;ue++){var fe=parseInt(P.substr(ne[ue],5)),ye=O[fe];let ve=me+":"+ye;var He=f[ye];if(ge!==void 0&&He!==void 0)if(!k[ve])k[ve]=1,(ge.bonds.length==0||ge.bonds[ge.bonds.length-1]!=ye)&&(ge.bonds.push(ye),ge.bondOrder.push(1));else{k[ve]+=1;for(let Ke=0;Ke<ge.bonds.length;Ke++)if(ge.bonds[Ke]==ye){var Be=k[ve];Be>=4?ge.bondOrder[Ke]=1:ge.bondOrder[Ke]=Be}}}}else if(B=="HELIX "){I=!0,G=P.substr(19,1),K=parseInt(P.substr(21,4)),q=P.substr(31,1),H=parseInt(P.substr(33,4)),G in x||(x[G]={}),x[G][K]="h1";for(let ue=K+1;ue<H;ue++)x[G][ue]="h";x[G][H]="h2"}else if(!M&&B=="REMARK"&&P.substr(13,5)=="BIOMT"){var _e,Fe=new n.Matrix4;for(_e=1;_e<=3;_e++)if(P=y[le].replace(/^\s*/,""),parseInt(P.substr(18,1))==_e)Fe.elements[_e-1]=parseFloat(P.substr(23,10)),Fe.elements[_e-1+4]=parseFloat(P.substr(33,10)),Fe.elements[_e-1+8]=parseFloat(P.substr(43,10)),Fe.elements[_e-1+12]=parseFloat(P.substr(53)),le++;else for(;P.substr(13,5)=="BIOMT";)le++,P=y[le].replace(/^\s*/,"");Fe.elements[3]=0,Fe.elements[7]=0,Fe.elements[11]=0,Fe.elements[15]=1,c.symmetries.push(Fe),le--}else if(B=="CRYST1"){let ue,ve,Ke,ke,rt,st;ue=parseFloat(P.substr(7,8)),ve=parseFloat(P.substr(16,8)),Ke=parseFloat(P.substr(25,8)),ke=parseFloat(P.substr(34,6)),rt=parseFloat(P.substr(41,6)),st=parseFloat(P.substr(48,6)),c.cryst={a:ue,b:ve,c:Ke,alpha:ke,beta:rt,gamma:st}}else if(B=="ANISOU"){let ue=parseInt(P.substr(6,5));var Ge=O[ue],Ve=f[Ge];if(Ve){var Pe=P.substr(30).trim().split(/\s+/),vt={u11:parseInt(Pe[0]),u22:parseInt(Pe[1]),u33:parseInt(Pe[2]),u12:parseInt(Pe[3]),u13:parseInt(Pe[4]),u23:parseInt(Pe[5])};Ve.uMat=vt}}}if((0,g.validateBonds)(f,O),b&&(0,v.assignPDBBonds)(f),M||(0,u.processSymmetries)(c.symmetries,f,w,c.cryst),C&&!S&&(0,o.computeSecondaryStructure)(f,w.hbondCutoff),!(0,l.isEmpty)(x)){for(let le=0;le<f.length;le++)if(E=f[le],E!==void 0&&E.chain in x&&E.resi in x[E.chain]){var _t=x[E.chain][E.resi];E.ss=_t[0],_t.length>1&&(_t[1]=="1"?E.ssbegin=!0:_t[1]=="2"&&(E.ssend=!0))}}return[f,c,D]}},"./src/parsers/utils/isEmpty.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isEmpty:()=>n});function n(a){var s;for(s in a)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{processSymmetries:()=>a});var n=r("./src/WebGL/index.ts");function a(s,o,l,u){var v=!l.duplicateAssemblyAtoms,g=o.length,_=g,y,w,x;let f=-1;if(l.normalizeAssembly&&u){let p=(0,n.conversionMatrix3)(u.a,u.b,u.c,u.alpha,u.beta,u.gamma),c=new n.Matrix3;for(c.getInverse3(p),y=0;y<s.length;y++){let E=new n.Vector3(0,0,0);for(x=0;x<g;x++){let P=new n.Vector3(o[x].x,o[x].y,o[x].z);P.applyMatrix4(s[y]),P.applyMatrix3(c),E.add(P)}E.divideScalar(g);let D=[E.x,E.y,E.z],I=[0,0,0];for(let P=0;P<3;P++){for(;D[P]<-.001;)D[P]+=1,I[P]+=1;for(;D[P]>1.001;)D[P]-=1,I[P]-=1}let O=new n.Vector3(I[0],I[1],I[2]);O.applyMatrix3(p),s[y].isNearlyIdentity()&&O.lengthSq()>.001&&(f=y),s[y].translate(O)}}if(v){if(s.length>1)for(y=0;y<o.length;y++){var C=[];for(w=0;w<s.length;w++)if(!s[w].isNearlyIdentity()){var M=new n.Vector3;M.set(o[y].x,o[y].y,o[y].z),M.applyMatrix4(s[w]),C.push(M)}o[y].symmetries=C}}else{for(x=0;x<g;x++)o[x].sym=-1;for(y=0;y<s.length;y++)if(!s[y].isNearlyIdentity()&&f!=y){let p=new n.Vector3;for(x=0;x<g;x++){var b=[];for(w=0;w<o[x].bonds.length;w++)b.push(o[x].bonds[w]+_);p.set(o[x].x,o[x].y,o[x].z),p.applyMatrix4(s[y]);var h={};for(var S in o[x])h[S]=o[x][S];h.x=p.x,h.y=p.y,h.z=p.z,h.bonds=b,h.sym=y,h.index=o.length,o.push(h)}_=o.length}else for(x=0;x<g;x++)o[x].sym=y;if(f>=0){let p=new n.Vector3;for(x=0;x<g;x++)p.set(o[x].x,o[x].y,o[x].z),p.applyMatrix4(s[f]),o[x].x=p.x,o[x].y=p.y,o[x].z=p.z}s.length=0}}},"./src/parsers/utils/standardResidues.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{standardResidues:()=>n});let n=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{validateBonds:()=>n});function n(a,s){for(var o=0,l=a.length;o<l;o++)for(var u=a[o],v=0;v<u.bonds.length;v++){var g=u.bonds[v],_=a[g],y=s[u.serial];if(_&&y){var w=_.bonds.indexOf(y);w<0&&(_.bonds.push(y),_.bondOrder.push(u.bondOrder[v]))}}}},"./src/partialCharges.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{applyPartialCharges:()=>a,partialCharges:()=>n});let n={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function a(s,o){if((!o||typeof s.partialCharge>"u")&&s.resn&&s.atom){var l=s.resn+":"+s.atom;s.properties.partialCharge=n[l]}}},"./src/specs.ts":(e,t,r)=>{"use strict";r.r(t)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts");function extend(e,t){for(var r in t)t.hasOwnProperty(r)&&t[r]!==void 0&&(e[r]=t[r]);return e}function deepCopy(e){let t,r,n;if(e==null)return{};if(typeof e!="object"||e===null)return e;t=Array.isArray(e)?[]:{};for(n in e)r=e[n],t[n]=deepCopy(r);return t}function isNumeric(e){var t=typeof e;return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))}function isEmptyObject(e){var t;for(t in e)return!1;return!0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?null:callback}function adjustVolumeStyle(e){e&&(e.volformat&&!(e.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(e.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(e.voldata,e.volformat)),e.volscheme&&(e.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(e.volscheme)))}function getExtent(e,t){var r,n,a,s,o,l,u,v,g,_,y=!t;if(r=n=a=9999,s=o=l=-9999,u=v=g=_=0,e.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var w=0;w<e.length;w++){var x=e[w];if(!(typeof x>"u"||!isFinite(x.x)||!isFinite(x.y)||!isFinite(x.z))&&(_++,u+=x.x,v+=x.y,g+=x.z,r=r<x.x?r:x.x,n=n<x.y?n:x.y,a=a<x.z?a:x.z,s=s>x.x?s:x.x,o=o>x.y?o:x.y,l=l>x.z?l:x.z,x.symmetries&&y))for(var f=0;f<x.symmetries.length;f++)_++,u+=x.symmetries[f].x,v+=x.symmetries[f].y,g+=x.symmetries[f].z,r=r<x.symmetries[f].x?r:x.symmetries[f].x,n=n<x.symmetries[f].y?n:x.symmetries[f].y,a=a<x.symmetries[f].z?a:x.symmetries[f].z,s=s>x.symmetries[f].x?s:x.symmetries[f].x,o=o>x.symmetries[f].y?o:x.symmetries[f].y,l=l>x.symmetries[f].z?l:x.symmetries[f].z}return[[r,n,a],[s,o,l],[u/_,v/_,g/_]]}function getPropertyRange(e,t){for(var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=0,s=e.length;a<s;a++){var o=e[a],l=getAtomProperty(o,t);l!=null&&(l<r&&(r=l),l>n&&(n=l))}return!isFinite(r)&&!isFinite(n)?r=n=0:isFinite(r)?isFinite(n)||(n=r):r=n,[r,n]}class PausableTimer{constructor(t,r,n){this.total_time_run=0,this.fn=t,this.arg=n,this.countdown=r,this.start_time=new Date().getTime(),this.ident=setTimeout(t,r,n)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(e){for(var t=window.atob(e),r=t.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=t.charCodeAt(a);return n}function getAtomProperty(e,t){var r=null;return e.properties&&typeof e.properties[t]<"u"?r=e.properties[t]:typeof e[t]<"u"&&(r=e[t]),r}function mergeGeos(e,t){var r=t.geometry;r!==void 0&&e.geometryGroups.push(r.geometryGroups[0])}function specStringToObject(e){if(typeof e=="object")return e;if(typeof e>"u"||e==null)return e;try{return JSON.parse(e)}catch{}e=e.replace(/%7E/,"~");var t=function(y){return isNumeric(y)?Math.floor(parseFloat(y))==parseInt(y)||y.indexOf(".")>=0?parseFloat(y):parseInt(y):y==="true"?!0:y==="false"?!1:y},r={};if(e==="all")return r;for(var n=e.split(";"),a=0;a<n.length;a++){var s=n[a].split(":"),o=s[0],l={},u=s[1];if(u)if(u=u.replace(/~/g,"="),u.indexOf("=")!==-1)for(var v=u.split(","),g=0;g<v.length;g++){var _=v[g].split("=",2);l[_[0]]=t(_[1])}else u.indexOf(",")!==-1?l=u.split(","):l=t(u);r[o]=l}return r}function checkStatus(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}function get(e,t){var r=fetch(e).then(checkStatus).then(n=>n.text());return t?r.then(t):r}function getbin(e,t,r,n){var a;return r=="POST"?a=fetch(e,{method:"POST",body:n}).then(s=>checkStatus(s)).then(s=>s.arrayBuffer()):a=fetch(e).then(s=>checkStatus(s)).then(s=>s.arrayBuffer()),t?a.then(t):a}function download(e,t,r,n){var a="",s="",o="",l="",u=null,v=t.addModel();if(e.indexOf(":")<0&&(e.length==4?e="pdb:"+e:isNaN(e)?e="url:"+e:e="cid:"+e),e.substr(0,5)==="mmtf:")s=r&&r.pdbUri?r.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",e=e.substr(5).toUpperCase(),l=s+e,r&&typeof r.noComputeSecondaryStructure>"u"&&(r.noComputeSecondaryStructure=!0),u=new Promise(function(_){getbin(l).then(function(y){v.addMolData(y,"mmtf",r),t.zoomTo(),t.render(),_(v)},function(){console.log("fetch of "+l+" failed.")})});else{if(e.substr(0,4)==="pdb:"){if(a="mmtf",r&&r.format&&(a=r.format),r&&typeof r.noComputeSecondaryStructure>"u"&&(r.noComputeSecondaryStructure=!0),e=e.substr(4).toUpperCase(),!e.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}a=="mmtf"?(o=r&&r.mmtfUri?r.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",l=o+e.toUpperCase()):(s=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",l=s+e+"."+a)}else if(e.substr(0,4)=="cid:"){if(a="sdf",e=e.substr(4),!e.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}l="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else e.substr(0,4)=="url:"&&(l=e.substr(4),a=l);var g=function(_){v.addMolData(_,a,r),t.zoomTo(),t.render()};u=new Promise(function(_){a=="mmtf"?getbin(l).then(function(y){g(y),_(v)}).catch(function(){s=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",l=s+e+".pdb",a="pdb",console.log("falling back to pdb format"),get(l).then(function(y){g(y),_(v)}).catch(function(y){g(""),_(v),console.log("fetch of "+l+" failed: "+y.statusText)})}):get(l).then(function(y){g(y),_(v)}).catch(function(y){g(""),_(v),console.log("fetch of "+l+" failed: "+y.statusText)})})}return n?(u.then(function(_){n(_)}),v):u}function getColorFromStyle(e,t){let r=t.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]<"u")r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r];else if(typeof r=="string"&&r.endsWith("Carbon")){let o=r.substring(0,r.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[o]<"u"){let l=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);l.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[o],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]={prop:"elem",map:l},r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]}}let n=e.color;if(typeof t.color<"u"&&t.color!="spectrum"&&(n=t.color),typeof r<"u"){let o,l;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r]<"u")r=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r],typeof r[e[r.prop]]<"u"&&(n=r.map[e[r.prop]]);else if(typeof r[e[r.prop]]<"u")n=r.map[e[r.prop]];else if(typeof r.prop<"u"&&typeof r.gradient<"u"){o=r.prop;var a=r.gradient;typeof _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[a]<"u"&&(a=new _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[a](r.min,r.max,r.mid?r.mid:r.colors));let u=a.range()||[-1,1];l=getAtomProperty(e,o),l!=null&&(n=a.valueToHex(l,u))}else typeof r.prop<"u"&&typeof r.map<"u"?(o=r.prop,l=getAtomProperty(e,o),typeof r.map[l]<"u"&&(n=r.map[l])):typeof t.colorscheme[e.elem]<"u"?n=t.colorscheme[e.elem]:console.log("Could not interpret colorscheme "+r)}else typeof t.colorfunc<"u"&&(n=t.colorfunc(e));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(n)}function getElement(e){let t=e;return typeof e=="string"?t=document.querySelector("#"+e):typeof e=="object"&&e.get&&(t=e.get(0)),t}},"./node_modules/upng-js/UPNG.js":(e,t,r)=>{(function(){var n={},a;e.exports=n,a=r("./node_modules/upng-js/node_modules/pako/index.js");function s(){typeof process>"u",console.log.apply(console,arguments)}(function(o,l){o.toRGBA8=function(u){var v=u.width,g=u.height;if(u.tabs.acTL==null)return[o.toRGBA8.decodeImage(u.data,v,g,u).buffer];var _=[];u.frames[0].data==null&&(u.frames[0].data=u.data);for(var y,w=new Uint8Array(v*g*4),x=0;x<u.frames.length;x++){var f=u.frames[x],b=f.rect.x,h=f.rect.y,S=f.rect.width,C=f.rect.height,M=o.toRGBA8.decodeImage(f.data,S,C,u);if(x==0?y=M:f.blend==0?o._copyTile(M,S,C,y,v,g,b,h,0):f.blend==1&&o._copyTile(M,S,C,y,v,g,b,h,1),_.push(y.buffer),y=y.slice(0),f.dispose!=0){if(f.dispose==1)o._copyTile(w,S,C,y,v,g,b,h,0);else if(f.dispose==2){for(var p=x-1;u.frames[p].dispose==2;)p--;y=new Uint8Array(_[p]).slice(0)}}}return _},o.toRGBA8.decodeImage=function(u,v,g,_){var y=v*g,w=o.decode._getBPP(_),x=Math.ceil(v*w/8),f=new Uint8Array(y*4),b=new Uint32Array(f.buffer),h=_.ctype,S=_.depth,C=o._bin.readUshort;if(h==6){var M=y<<2;if(S==8)for(var p=0;p<M;p++)f[p]=u[p];if(S==16)for(var p=0;p<M;p++)f[p]=u[p<<1]}else if(h==2){var c=_.tabs.tRNS,E=-1,D=-1,I=-1;if(c&&(E=c[0],D=c[1],I=c[2]),S==8)for(var p=0;p<y;p++){var O=p<<2,P=p*3;f[O]=u[P],f[O+1]=u[P+1],f[O+2]=u[P+2],f[O+3]=255,E!=-1&&u[P]==E&&u[P+1]==D&&u[P+2]==I&&(f[O+3]=0)}if(S==16)for(var p=0;p<y;p++){var O=p<<2,P=p*6;f[O]=u[P],f[O+1]=u[P+2],f[O+2]=u[P+4],f[O+3]=255,E!=-1&&C(u,P)==E&&C(u,P+2)==D&&C(u,P+4)==I&&(f[O+3]=0)}}else if(h==3){var k=_.tabs.PLTE,B=_.tabs.tRNS,G=B?B.length:0;if(S==1)for(var K=0;K<g;K++)for(var q=K*x,H=K*v,p=0;p<v;p++){var O=H+p<<2,$=u[q+(p>>3)]>>7-((p&7)<<0)&1,W=3*$;f[O]=k[W],f[O+1]=k[W+1],f[O+2]=k[W+2],f[O+3]=$<G?B[$]:255}if(S==2)for(var K=0;K<g;K++)for(var q=K*x,H=K*v,p=0;p<v;p++){var O=H+p<<2,$=u[q+(p>>2)]>>6-((p&3)<<1)&3,W=3*$;f[O]=k[W],f[O+1]=k[W+1],f[O+2]=k[W+2],f[O+3]=$<G?B[$]:255}if(S==4)for(var K=0;K<g;K++)for(var q=K*x,H=K*v,p=0;p<v;p++){var O=H+p<<2,$=u[q+(p>>1)]>>4-((p&1)<<2)&15,W=3*$;f[O]=k[W],f[O+1]=k[W+1],f[O+2]=k[W+2],f[O+3]=$<G?B[$]:255}if(S==8)for(var p=0;p<y;p++){var O=p<<2,$=u[p],W=3*$;f[O]=k[W],f[O+1]=k[W+1],f[O+2]=k[W+2],f[O+3]=$<G?B[$]:255}}else if(h==4){if(S==8)for(var p=0;p<y;p++){var O=p<<2,V=p<<1,Z=u[V];f[O]=Z,f[O+1]=Z,f[O+2]=Z,f[O+3]=u[V+1]}if(S==16)for(var p=0;p<y;p++){var O=p<<2,V=p<<2,Z=u[V];f[O]=Z,f[O+1]=Z,f[O+2]=Z,f[O+3]=u[V+2]}}else if(h==0){var E=_.tabs.tRNS?_.tabs.tRNS:-1;if(S==1)for(var p=0;p<y;p++){var Z=255*(u[p>>3]>>7-(p&7)&1),Q=Z==E*255?0:255;b[p]=Q<<24|Z<<16|Z<<8|Z}if(S==2)for(var p=0;p<y;p++){var Z=85*(u[p>>2]>>6-((p&3)<<1)&3),Q=Z==E*85?0:255;b[p]=Q<<24|Z<<16|Z<<8|Z}if(S==4)for(var p=0;p<y;p++){var Z=17*(u[p>>1]>>4-((p&1)<<2)&15),Q=Z==E*17?0:255;b[p]=Q<<24|Z<<16|Z<<8|Z}if(S==8)for(var p=0;p<y;p++){var Z=u[p],Q=Z==E?0:255;b[p]=Q<<24|Z<<16|Z<<8|Z}if(S==16)for(var p=0;p<y;p++){var Z=u[p<<1],Q=C(u,p<<1)==E?0:255;b[p]=Q<<24|Z<<16|Z<<8|Z}}return f},o.decode=function(u){for(var v=new Uint8Array(u),g=8,_=o._bin,y=_.readUshort,w=_.readUint,x={tabs:{},frames:[]},f=new Uint8Array(v.length),b=0,h,S=0,C=[137,80,78,71,13,10,26,10],M=0;M<8;M++)if(v[M]!=C[M])throw"The input is not a PNG file!";for(;g<v.length;){var p=_.readUint(v,g);g+=4;var c=_.readASCII(v,g,4);if(g+=4,c=="IHDR")o.decode._IHDR(v,g,x);else if(c=="IDAT"){for(var M=0;M<p;M++)f[b+M]=v[g+M];b+=p}else if(c=="acTL")x.tabs[c]={num_frames:w(v,g),num_plays:w(v,g+4)},h=new Uint8Array(v.length);else if(c=="fcTL"){if(S!=0){var E=x.frames[x.frames.length-1];E.data=o.decode._decompress(x,h.slice(0,S),E.rect.width,E.rect.height),S=0}var D={x:w(v,g+12),y:w(v,g+16),width:w(v,g+4),height:w(v,g+8)},I=y(v,g+22);I=y(v,g+20)/(I==0?100:I);var O={rect:D,delay:Math.round(I*1e3),dispose:v[g+24],blend:v[g+25]};x.frames.push(O)}else if(c=="fdAT"){for(var M=0;M<p-4;M++)h[S+M]=v[g+M+4];S+=p-4}else if(c=="pHYs")x.tabs[c]=[_.readUint(v,g),_.readUint(v,g+4),v[g+8]];else if(c=="cHRM"){x.tabs[c]=[];for(var M=0;M<8;M++)x.tabs[c].push(_.readUint(v,g+M*4))}else if(c=="tEXt"){x.tabs[c]==null&&(x.tabs[c]={});var P=_.nextZero(v,g),k=_.readASCII(v,g,P-g),B=_.readASCII(v,P+1,g+p-P-1);x.tabs[c][k]=B}else if(c=="iTXt"){x.tabs[c]==null&&(x.tabs[c]={});var P=0,G=g;P=_.nextZero(v,G);var k=_.readASCII(v,G,P-G);G=P+1;var K=v[G],q=v[G+1];G+=2,P=_.nextZero(v,G);var H=_.readASCII(v,G,P-G);G=P+1,P=_.nextZero(v,G);var $=_.readUTF8(v,G,P-G);G=P+1;var B=_.readUTF8(v,G,p-(G-g));x.tabs[c][k]=B}else if(c=="PLTE")x.tabs[c]=_.readBytes(v,g,p);else if(c=="hIST"){var W=x.tabs.PLTE.length/3;x.tabs[c]=[];for(var M=0;M<W;M++)x.tabs[c].push(y(v,g+M*2))}else if(c=="tRNS")x.ctype==3?x.tabs[c]=_.readBytes(v,g,p):x.ctype==0?x.tabs[c]=y(v,g):x.ctype==2&&(x.tabs[c]=[y(v,g),y(v,g+2),y(v,g+4)]);else if(c=="gAMA")x.tabs[c]=_.readUint(v,g)/1e5;else if(c=="sRGB")x.tabs[c]=v[g];else if(c=="bKGD")x.ctype==0||x.ctype==4?x.tabs[c]=[y(v,g)]:x.ctype==2||x.ctype==6?x.tabs[c]=[y(v,g),y(v,g+2),y(v,g+4)]:x.ctype==3&&(x.tabs[c]=v[g]);else if(c=="IEND"){if(S!=0){var E=x.frames[x.frames.length-1];E.data=o.decode._decompress(x,h.slice(0,S),E.rect.width,E.rect.height),S=0}x.data=o.decode._decompress(x,f,x.width,x.height);break}g+=p;var V=_.readUint(v,g);g+=4}return delete x.compress,delete x.interlace,delete x.filter,x},o.decode._decompress=function(u,v,g,_){return u.compress==0&&(v=o.decode._inflate(v)),u.interlace==0?v=o.decode._filterZero(v,u,0,g,_):u.interlace==1&&(v=o.decode._readInterlace(v,u)),v},o.decode._inflate=function(u){return l.inflate(u)},o.decode._readInterlace=function(u,v){for(var g=v.width,_=v.height,y=o.decode._getBPP(v),w=y>>3,x=Math.ceil(g*y/8),f=new Uint8Array(_*x),b=0,h=[0,0,4,0,2,0,1],S=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],M=[8,8,4,4,2,2,1],p=0;p<7;){for(var c=C[p],E=M[p],D=0,I=0,O=h[p];O<_;)O+=c,I++;for(var P=S[p];P<g;)P+=E,D++;var k=Math.ceil(D*y/8);o.decode._filterZero(u,v,b,D,I);for(var B=0,G=h[p];G<_;){for(var K=S[p],q=b+B*k<<3;K<g;){if(y==1){var H=u[q>>3];H=H>>7-(q&7)&1,f[G*x+(K>>3)]|=H<<7-((K&3)<<0)}if(y==2){var H=u[q>>3];H=H>>6-(q&7)&3,f[G*x+(K>>2)]|=H<<6-((K&3)<<1)}if(y==4){var H=u[q>>3];H=H>>4-(q&7)&15,f[G*x+(K>>1)]|=H<<4-((K&1)<<2)}if(y>=8)for(var $=G*x+K*w,W=0;W<w;W++)f[$+W]=u[(q>>3)+W];q+=y,K+=E}B++,G+=c}D*I!=0&&(b+=I*(1+k)),p=p+1}return f},o.decode._getBPP=function(u){var v=[1,null,3,1,2,null,4][u.ctype];return v*u.depth},o.decode._filterZero=function(u,v,g,_,y){var w=o.decode._getBPP(v),x=Math.ceil(_*w/8),f=o.decode._paeth;w=Math.ceil(w/8);for(var b=0;b<y;b++){var h=g+b*x,S=h+b+1,C=u[S-1];if(C==0)for(var M=0;M<x;M++)u[h+M]=u[S+M];else if(C==1){for(var M=0;M<w;M++)u[h+M]=u[S+M];for(var M=w;M<x;M++)u[h+M]=u[S+M]+u[h+M-w]&255}else if(b==0){for(var M=0;M<w;M++)u[h+M]=u[S+M];if(C==2)for(var M=w;M<x;M++)u[h+M]=u[S+M]&255;if(C==3)for(var M=w;M<x;M++)u[h+M]=u[S+M]+(u[h+M-w]>>1)&255;if(C==4)for(var M=w;M<x;M++)u[h+M]=u[S+M]+f(u[h+M-w],0,0)&255}else{if(C==2)for(var M=0;M<x;M++)u[h+M]=u[S+M]+u[h+M-x]&255;if(C==3){for(var M=0;M<w;M++)u[h+M]=u[S+M]+(u[h+M-x]>>1)&255;for(var M=w;M<x;M++)u[h+M]=u[S+M]+(u[h+M-x]+u[h+M-w]>>1)&255}if(C==4){for(var M=0;M<w;M++)u[h+M]=u[S+M]+f(0,u[h+M-x],0)&255;for(var M=w;M<x;M++)u[h+M]=u[S+M]+f(u[h+M-w],u[h+M-x],u[h+M-w-x])&255}}}return u},o.decode._paeth=function(u,v,g){var _=u+v-g,y=Math.abs(_-u),w=Math.abs(_-v),x=Math.abs(_-g);return y<=w&&y<=x?u:w<=x?v:g},o.decode._IHDR=function(u,v,g){var _=o._bin;g.width=_.readUint(u,v),v+=4,g.height=_.readUint(u,v),v+=4,g.depth=u[v],v++,g.ctype=u[v],v++,g.compress=u[v],v++,g.filter=u[v],v++,g.interlace=u[v],v++},o._bin={nextZero:function(u,v){for(;u[v]!=0;)v++;return v},readUshort:function(u,v){return u[v]<<8|u[v+1]},writeUshort:function(u,v,g){u[v]=g>>8&255,u[v+1]=g&255},readUint:function(u,v){return u[v]*16777216+(u[v+1]<<16|u[v+2]<<8|u[v+3])},writeUint:function(u,v,g){u[v]=g>>24&255,u[v+1]=g>>16&255,u[v+2]=g>>8&255,u[v+3]=g&255},readASCII:function(u,v,g){for(var _="",y=0;y<g;y++)_+=String.fromCharCode(u[v+y]);return _},writeASCII:function(u,v,g){for(var _=0;_<g.length;_++)u[v+_]=g.charCodeAt(_)},readBytes:function(u,v,g){for(var _=[],y=0;y<g;y++)_.push(u[v+y]);return _},pad:function(u){return u.length<2?"0"+u:u},readUTF8:function(u,v,g){for(var _="",y,w=0;w<g;w++)_+="%"+o._bin.pad(u[v+w].toString(16));try{y=decodeURIComponent(_)}catch{return o._bin.readASCII(u,v,g)}return y}},o._copyTile=function(u,v,g,_,y,w,x,f,b){for(var h=Math.min(v,y),S=Math.min(g,w),C=0,M=0,p=0;p<S;p++)for(var c=0;c<h;c++)if(x>=0&&f>=0?(C=p*v+c<<2,M=(f+p)*y+x+c<<2):(C=(-f+p)*v-x+c<<2,M=p*y+c<<2),b==0)_[M]=u[C],_[M+1]=u[C+1],_[M+2]=u[C+2],_[M+3]=u[C+3];else if(b==1){var E=u[C+3]*.00392156862745098,D=u[C]*E,I=u[C+1]*E,O=u[C+2]*E,P=_[M+3]*(1/255),k=_[M]*P,B=_[M+1]*P,G=_[M+2]*P,K=1-E,q=E+P*K,H=q==0?0:1/q;_[M+3]=255*q,_[M+0]=(D+k*K)*H,_[M+1]=(I+B*K)*H,_[M+2]=(O+G*K)*H}else if(b==2){var E=u[C+3],D=u[C],I=u[C+1],O=u[C+2],P=_[M+3],k=_[M],B=_[M+1],G=_[M+2];E==P&&D==k&&I==B&&O==G?(_[M]=0,_[M+1]=0,_[M+2]=0,_[M+3]=0):(_[M]=D,_[M+1]=I,_[M+2]=O,_[M+3]=E)}else if(b==3){var E=u[C+3],D=u[C],I=u[C+1],O=u[C+2],P=_[M+3],k=_[M],B=_[M+1],G=_[M+2];if(E==P&&D==k&&I==B&&O==G)continue;if(E<220&&P>20)return!1}return!0},o.encode=function(u,v,g,_,y,w){_==null&&(_=0),w==null&&(w=!1);for(var x=new Uint8Array(u[0].byteLength*u.length+100),f=[137,80,78,71,13,10,26,10],b=0;b<8;b++)x[b]=f[b];var h=8,S=o._bin,C=o.crc.crc,M=S.writeUint,p=S.writeUshort,c=S.writeASCII,E=o.encode.compressPNG(u,v,g,_,w);M(x,h,13),h+=4,c(x,h,"IHDR"),h+=4,M(x,h,v),h+=4,M(x,h,g),h+=4,x[h]=E.depth,h++,x[h]=E.ctype,h++,x[h]=0,h++,x[h]=0,h++,x[h]=0,h++,M(x,h,C(x,h-17,17)),h+=4,M(x,h,1),h+=4,c(x,h,"sRGB"),h+=4,x[h]=1,h++,M(x,h,C(x,h-5,5)),h+=4;var D=u.length>1;if(D&&(M(x,h,8),h+=4,c(x,h,"acTL"),h+=4,M(x,h,u.length),h+=4,M(x,h,0),h+=4,M(x,h,C(x,h-12,12)),h+=4),E.ctype==3){var I=E.plte.length;M(x,h,I*3),h+=4,c(x,h,"PLTE"),h+=4;for(var b=0;b<I;b++){var O=b*3,P=E.plte[b],k=P&255,B=P>>8&255,G=P>>16&255;x[h+O+0]=k,x[h+O+1]=B,x[h+O+2]=G}if(h+=I*3,M(x,h,C(x,h-I*3-4,I*3+4)),h+=4,E.gotAlpha){M(x,h,I),h+=4,c(x,h,"tRNS"),h+=4;for(var b=0;b<I;b++)x[h+b]=E.plte[b]>>24&255;h+=I,M(x,h,C(x,h-I-4,I+4)),h+=4}}for(var K=0,q=0;q<E.frames.length;q++){var H=E.frames[q];D&&(M(x,h,26),h+=4,c(x,h,"fcTL"),h+=4,M(x,h,K++),h+=4,M(x,h,H.rect.width),h+=4,M(x,h,H.rect.height),h+=4,M(x,h,H.rect.x),h+=4,M(x,h,H.rect.y),h+=4,p(x,h,y[q]),h+=2,p(x,h,1e3),h+=2,x[h]=H.dispose,h++,x[h]=H.blend,h++,M(x,h,C(x,h-30,30)),h+=4);var $=H.cimg,I=$.length;M(x,h,I+(q==0?0:4)),h+=4;var W=h;c(x,h,q==0?"IDAT":"fdAT"),h+=4,q!=0&&(M(x,h,K++),h+=4);for(var b=0;b<I;b++)x[h+b]=$[b];h+=I,M(x,h,C(x,W,h-W)),h+=4}return M(x,h,0),h+=4,c(x,h,"IEND"),h+=4,M(x,h,C(x,h-4,4)),h+=4,x.buffer.slice(0,h)},o.encode.compressPNG=function(u,v,g,_,y){for(var w=o.encode.compress(u,v,g,_,!1,y),x=0;x<u.length;x++){var f=w.frames[x],b=f.rect.width,h=f.rect.height,S=f.bpl,C=f.bpp,M=new Uint8Array(h*S+h);f.cimg=o.encode._filterZero(f.img,h,C,S,M)}return w},o.encode.compress=function(u,v,g,_,y,w){w==null&&(w=!1);for(var x=6,f=8,b=4,h=255,S=0;S<u.length;S++)for(var C=new Uint8Array(u[S]),M=C.length,p=0;p<M;p+=4)h&=C[p+3];var c=h!=255,E={},D=[];if(u.length!=0&&(E[0]=0,D.push(0),_!=0&&_--),_!=0){var I=o.quantize(u,_,y);u=I.bufs;for(var p=0;p<I.plte.length;p++){var O=I.plte[p].est.rgba;E[O]==null&&(E[O]=D.length,D.push(O))}}else for(var S=0;S<u.length;S++)for(var P=new Uint32Array(u[S]),M=P.length,p=0;p<M;p++){var O=P[p];if((p<v||O!=P[p-1]&&O!=P[p-v])&&E[O]==null&&(E[O]=D.length,D.push(O),D.length>=300))break}var k=c?y:!1,B=D.length;B<=256&&w==!1&&(B<=2?f=1:B<=4?f=2:B<=16?f=4:f=8,y&&(f=8),c=!0);for(var G=[],S=0;S<u.length;S++){var K=new Uint8Array(u[S]),q=new Uint32Array(K.buffer),H=0,$=0,W=v,V=g,Z=0;if(S!=0&&!k){for(var Q=y||S==1||G[G.length-2].dispose==2?1:2,ie=0,Ce=1e9,De=0;De<Q;De++){for(var ge=new Uint8Array(u[S-1-De]),Me=new Uint32Array(u[S-1-De]),Ne=v,Te=g,be=-1,Xe=-1,$e=0;$e<g;$e++)for(var R=0;R<v;R++){var p=$e*v+R;q[p]!=Me[p]&&(R<Ne&&(Ne=R),R>be&&(be=R),$e<Te&&(Te=$e),$e>Xe&&(Xe=$e))}var me=be==-1?1:(be-Ne+1)*(Xe-Te+1);me<Ce&&(Ce=me,ie=De,be==-1?(H=$=0,W=V=1):(H=Ne,$=Te,W=be-Ne+1,V=Xe-Te+1))}var ge=new Uint8Array(u[S-1-ie]);ie==1&&(G[G.length-1].dispose=2);var ne=new Uint8Array(W*V*4),fe=new Uint32Array(ne.buffer);o._copyTile(ge,v,g,ne,W,V,-H,-$,0),o._copyTile(K,v,g,ne,W,V,-H,-$,3)?(o._copyTile(K,v,g,ne,W,V,-H,-$,2),Z=1):(o._copyTile(K,v,g,ne,W,V,-H,-$,0),Z=0),K=ne,q=new Uint32Array(K.buffer)}var ye=4*W;if(B<=256&&w==!1){ye=Math.ceil(f*W/8);for(var ne=new Uint8Array(ye*V),$e=0;$e<V;$e++){var p=$e*ye,He=$e*W;if(f==8)for(var R=0;R<W;R++)ne[p+R]=E[q[He+R]];else if(f==4)for(var R=0;R<W;R++)ne[p+(R>>1)]|=E[q[He+R]]<<4-(R&1)*4;else if(f==2)for(var R=0;R<W;R++)ne[p+(R>>2)]|=E[q[He+R]]<<6-(R&3)*2;else if(f==1)for(var R=0;R<W;R++)ne[p+(R>>3)]|=E[q[He+R]]<<7-(R&7)*1}K=ne,x=3,b=1}else if(c==!1&&u.length==1){for(var ne=new Uint8Array(W*V*3),Be=W*V,p=0;p<Be;p++){var _e=p*3,Fe=p*4;ne[_e]=K[Fe],ne[_e+1]=K[Fe+1],ne[_e+2]=K[Fe+2]}K=ne,x=2,b=3,ye=3*W}G.push({rect:{x:H,y:$,width:W,height:V},img:K,bpl:ye,bpp:b,blend:Z,dispose:k?1:0})}return{ctype:x,depth:f,plte:D,gotAlpha:c,frames:G}},o.encode._filterZero=function(u,v,g,_,y){for(var w=[],x=0;x<5;x++)if(!(v*_>5e5&&(x==2||x==3||x==4))){for(var f=0;f<v;f++)o.encode._filterLine(y,u,f,_,g,x);if(w.push(l.deflate(y)),g==1)break}for(var b,h=1e9,S=0;S<w.length;S++)w[S].length<h&&(b=S,h=w[S].length);return w[b]},o.encode._filterLine=function(u,v,g,_,y,w){var x=g*_,f=x+g,b=o.decode._paeth;if(u[f]=w,f++,w==0)for(var h=0;h<_;h++)u[f+h]=v[x+h];else if(w==1){for(var h=0;h<y;h++)u[f+h]=v[x+h];for(var h=y;h<_;h++)u[f+h]=v[x+h]-v[x+h-y]+256&255}else if(g==0){for(var h=0;h<y;h++)u[f+h]=v[x+h];if(w==2)for(var h=y;h<_;h++)u[f+h]=v[x+h];if(w==3)for(var h=y;h<_;h++)u[f+h]=v[x+h]-(v[x+h-y]>>1)+256&255;if(w==4)for(var h=y;h<_;h++)u[f+h]=v[x+h]-b(v[x+h-y],0,0)+256&255}else{if(w==2)for(var h=0;h<_;h++)u[f+h]=v[x+h]+256-v[x+h-_]&255;if(w==3){for(var h=0;h<y;h++)u[f+h]=v[x+h]+256-(v[x+h-_]>>1)&255;for(var h=y;h<_;h++)u[f+h]=v[x+h]+256-(v[x+h-_]+v[x+h-y]>>1)&255}if(w==4){for(var h=0;h<y;h++)u[f+h]=v[x+h]+256-b(0,v[x+h-_],0)&255;for(var h=y;h<_;h++)u[f+h]=v[x+h]+256-b(v[x+h-y],v[x+h-_],v[x+h-y-_])&255}}},o.crc={table:function(){for(var u=new Uint32Array(256),v=0;v<256;v++){for(var g=v,_=0;_<8;_++)g&1?g=3988292384^g>>>1:g=g>>>1;u[v]=g}return u}(),update:function(u,v,g,_){for(var y=0;y<_;y++)u=o.crc.table[(u^v[g+y])&255]^u>>>8;return u},crc:function(u,v,g){return o.crc.update(4294967295,u,v,g)^4294967295}},o.quantize=function(u,v,g){for(var _=[],y=0,w=0;w<u.length;w++)_.push(o.encode.alphaMul(new Uint8Array(u[w]),g)),y+=u[w].byteLength;for(var x=new Uint8Array(y),f=new Uint32Array(x.buffer),b=0,w=0;w<_.length;w++){for(var h=_[w],S=h.length,C=0;C<S;C++)x[b+C]=h[C];b+=S}var M={i0:0,i1:x.length,bst:null,est:null,tdst:0,left:null,right:null};M.bst=o.quantize.stats(x,M.i0,M.i1),M.est=o.quantize.estats(M.bst);for(var p=[M];p.length<v;){for(var c=0,E=0,w=0;w<p.length;w++)p[w].est.L>c&&(c=p[w].est.L,E=w);if(c<.001)break;var D=p[E],I=o.quantize.splitPixels(x,f,D.i0,D.i1,D.est.e,D.est.eMq255),O={i0:D.i0,i1:I,bst:null,est:null,tdst:0,left:null,right:null};O.bst=o.quantize.stats(x,O.i0,O.i1),O.est=o.quantize.estats(O.bst);var P={i0:I,i1:D.i1,bst:null,est:null,tdst:0,left:null,right:null};P.bst={R:[],m:[],N:D.bst.N-O.bst.N};for(var w=0;w<16;w++)P.bst.R[w]=D.bst.R[w]-O.bst.R[w];for(var w=0;w<4;w++)P.bst.m[w]=D.bst.m[w]-O.bst.m[w];P.est=o.quantize.estats(P.bst),D.left=O,D.right=P,p[E]=O,p.push(P)}p.sort(function(Ce,De){return De.bst.N-Ce.bst.N});for(var k=0;k<_.length;k++){for(var B=o.quantize.planeDst,G=new Uint8Array(_[k].buffer),K=new Uint32Array(_[k].buffer),q=G.length,H=[],$=0,w=0;w<q;w+=4){for(var W=G[w]*.00392156862745098,V=G[w+1]*(1/255),Z=G[w+2]*(1/255),Q=G[w+3]*(1/255),ie=M;ie.left;)ie=B(ie.est,W,V,Z,Q)<=0?ie.left:ie.right;K[w>>2]=ie.est.rgba}_[k]=K.buffer}return{bufs:_,plte:p}},o.quantize.getNearest=function(u,v,g,_,y){if(u.left==null)return u.tdst=o.quantize.dist(u.est.q,v,g,_,y),u;var w=o.quantize.planeDst(u.est,v,g,_,y),x=u.left,f=u.right;w>0&&(x=u.right,f=u.left);var b=o.quantize.getNearest(x,v,g,_,y);if(b.tdst<=w*w)return b;var h=o.quantize.getNearest(f,v,g,_,y);return h.tdst<b.tdst?h:b},o.quantize.planeDst=function(u,v,g,_,y){var w=u.e;return w[0]*v+w[1]*g+w[2]*_+w[3]*y-u.eMq},o.quantize.dist=function(u,v,g,_,y){var w=v-u[0],x=g-u[1],f=_-u[2],b=y-u[3];return w*w+x*x+f*f+b*b},o.quantize.splitPixels=function(u,v,g,_,y,w){var x=o.quantize.vecDot;_-=4;for(var f=0;g<_;){for(;x(u,g,y)<=w;)g+=4;for(;x(u,_,y)>w;)_-=4;if(g>=_)break;var b=v[g>>2];v[g>>2]=v[_>>2],v[_>>2]=b,g+=4,_-=4}for(;x(u,g,y)>w;)g-=4;return g+4},o.quantize.vecDot=function(u,v,g){return u[v]*g[0]+u[v+1]*g[1]+u[v+2]*g[2]+u[v+3]*g[3]},o.quantize.stats=function(u,v,g){for(var _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=[0,0,0,0],w=g-v>>2,x=v;x<g;x+=4){var f=u[x]*.00392156862745098,b=u[x+1]*(1/255),h=u[x+2]*(1/255),S=u[x+3]*(1/255);y[0]+=f,y[1]+=b,y[2]+=h,y[3]+=S,_[0]+=f*f,_[1]+=f*b,_[2]+=f*h,_[3]+=f*S,_[5]+=b*b,_[6]+=b*h,_[7]+=b*S,_[10]+=h*h,_[11]+=h*S,_[15]+=S*S}return _[4]=_[1],_[8]=_[2],_[12]=_[3],_[9]=_[6],_[13]=_[7],_[14]=_[11],{R:_,m:y,N:w}},o.quantize.estats=function(u){var v=u.R,g=u.m,_=u.N,y=g[0],w=g[1],x=g[2],f=g[3],b=_==0?0:1/_,h=[v[0]-y*y*b,v[1]-y*w*b,v[2]-y*x*b,v[3]-y*f*b,v[4]-w*y*b,v[5]-w*w*b,v[6]-w*x*b,v[7]-w*f*b,v[8]-x*y*b,v[9]-x*w*b,v[10]-x*x*b,v[11]-x*f*b,v[12]-f*y*b,v[13]-f*w*b,v[14]-f*x*b,v[15]-f*f*b],S=h,C=o.M4,M=[.5,.5,.5,.5],p=0,c=0;if(_!=0)for(var E=0;E<10&&(M=C.multVec(S,M),c=Math.sqrt(C.dot(M,M)),M=C.sml(1/c,M),!(Math.abs(c-p)<1e-9));E++)p=c;var D=[y*b,w*b,x*b,f*b],I=C.dot(C.sml(255,D),M),O=D[3]<.001?0:1/D[3];return{Cov:h,q:D,e:M,L:p,eMq255:I,eMq:C.dot(M,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2]*O)<<16|Math.round(255*D[1]*O)<<8|Math.round(255*D[0]*O)<<0)>>>0}},o.M4={multVec:function(u,v){return[u[0]*v[0]+u[1]*v[1]+u[2]*v[2]+u[3]*v[3],u[4]*v[0]+u[5]*v[1]+u[6]*v[2]+u[7]*v[3],u[8]*v[0]+u[9]*v[1]+u[10]*v[2]+u[11]*v[3],u[12]*v[0]+u[13]*v[1]+u[14]*v[2]+u[15]*v[3]]},dot:function(u,v){return u[0]*v[0]+u[1]*v[1]+u[2]*v[2]+u[3]*v[3]},sml:function(u,v){return[u*v[0],u*v[1],u*v[2],u*v[3]]}},o.encode.alphaMul=function(u,v){for(var g=new Uint8Array(u.length),_=u.length>>2,y=0;y<_;y++){var w=y<<2,x=u[w+3];v&&(x=x<128?0:255);var f=x*(1/255);g[w+0]=u[w+0]*f,g[w+1]=u[w+1]*f,g[w+2]=u[w+2]*f,g[w+3]=x}return g}})(n,a)})()},"./node_modules/upng-js/node_modules/pako/index.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,a=r("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),l={};n(l,a,s,o),e.exports=l},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),u=Object.prototype.toString,v=0,g=4,_=0,y=1,w=2,x=-1,f=0,b=8;function h(p){if(!(this instanceof h))return new h(p);this.options=a.assign({level:x,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},p||{});var c=this.options;c.raw&&c.windowBits>0?c.windowBits=-c.windowBits:c.gzip&&c.windowBits>0&&c.windowBits<16&&(c.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var E=n.deflateInit2(this.strm,c.level,c.method,c.windowBits,c.memLevel,c.strategy);if(E!==_)throw new Error(o[E]);if(c.header&&n.deflateSetHeader(this.strm,c.header),c.dictionary){var D;if(typeof c.dictionary=="string"?D=s.string2buf(c.dictionary):u.call(c.dictionary)==="[object ArrayBuffer]"?D=new Uint8Array(c.dictionary):D=c.dictionary,E=n.deflateSetDictionary(this.strm,D),E!==_)throw new Error(o[E]);this._dict_set=!0}}h.prototype.push=function(p,c){var E=this.strm,D=this.options.chunkSize,I,O;if(this.ended)return!1;O=c===~~c?c:c===!0?g:v,typeof p=="string"?E.input=s.string2buf(p):u.call(p)==="[object ArrayBuffer]"?E.input=new Uint8Array(p):E.input=p,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new a.Buf8(D),E.next_out=0,E.avail_out=D),I=n.deflate(E,O),I!==y&&I!==_)return this.onEnd(I),this.ended=!0,!1;(E.avail_out===0||E.avail_in===0&&(O===g||O===w))&&(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(E.output,E.next_out))):this.onData(a.shrinkBuf(E.output,E.next_out)))}while((E.avail_in>0||E.avail_out===0)&&I!==y);return O===g?(I=n.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===_):(O===w&&(this.onEnd(_),E.avail_out=0),!0)},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function S(p,c){var E=new h(c);if(E.push(p,!0),E.err)throw E.msg||o[E.err];return E.result}function C(p,c){return c=c||{},c.raw=!0,S(p,c)}function M(p,c){return c=c||{},c.gzip=!0,S(p,c)}t.Deflate=h,t.deflate=S,t.deflateRaw=C,t.gzip=M},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),v=r("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),g=Object.prototype.toString;function _(x){if(!(this instanceof _))return new _(x);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},x||{});var f=this.options;f.raw&&f.windowBits>=0&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),f.windowBits>=0&&f.windowBits<16&&!(x&&x.windowBits)&&(f.windowBits+=32),f.windowBits>15&&f.windowBits<48&&(f.windowBits&15||(f.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=n.inflateInit2(this.strm,f.windowBits);if(b!==o.Z_OK)throw new Error(l[b]);if(this.header=new v,n.inflateGetHeader(this.strm,this.header),f.dictionary&&(typeof f.dictionary=="string"?f.dictionary=s.string2buf(f.dictionary):g.call(f.dictionary)==="[object ArrayBuffer]"&&(f.dictionary=new Uint8Array(f.dictionary)),f.raw&&(b=n.inflateSetDictionary(this.strm,f.dictionary),b!==o.Z_OK)))throw new Error(l[b])}_.prototype.push=function(x,f){var b=this.strm,h=this.options.chunkSize,S=this.options.dictionary,C,M,p,c,E,D=!1;if(this.ended)return!1;M=f===~~f?f:f===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof x=="string"?b.input=s.binstring2buf(x):g.call(x)==="[object ArrayBuffer]"?b.input=new Uint8Array(x):b.input=x,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new a.Buf8(h),b.next_out=0,b.avail_out=h),C=n.inflate(b,o.Z_NO_FLUSH),C===o.Z_NEED_DICT&&S&&(C=n.inflateSetDictionary(this.strm,S)),C===o.Z_BUF_ERROR&&D===!0&&(C=o.Z_OK,D=!1),C!==o.Z_STREAM_END&&C!==o.Z_OK)return this.onEnd(C),this.ended=!0,!1;b.next_out&&(b.avail_out===0||C===o.Z_STREAM_END||b.avail_in===0&&(M===o.Z_FINISH||M===o.Z_SYNC_FLUSH))&&(this.options.to==="string"?(p=s.utf8border(b.output,b.next_out),c=b.next_out-p,E=s.buf2string(b.output,p),b.next_out=c,b.avail_out=h-c,c&&a.arraySet(b.output,b.output,p,c,0),this.onData(E)):this.onData(a.shrinkBuf(b.output,b.next_out))),b.avail_in===0&&b.avail_out===0&&(D=!0)}while((b.avail_in>0||b.avail_out===0)&&C!==o.Z_STREAM_END);return C===o.Z_STREAM_END&&(M=o.Z_FINISH),M===o.Z_FINISH?(C=n.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===o.Z_OK):(M===o.Z_SYNC_FLUSH&&(this.onEnd(o.Z_OK),b.avail_out=0),!0)},_.prototype.onData=function(x){this.chunks.push(x)},_.prototype.onEnd=function(x){x===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg};function y(x,f){var b=new _(f);if(b.push(x,!0),b.err)throw b.msg||l[b.err];return b.result}function w(x,f){return f=f||{},f.raw=!0,y(x,f)}t.Inflate=_,t.inflate=y,t.inflateRaw=w,t.ungzip=y},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(e,t)=>{"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,l){return Object.prototype.hasOwnProperty.call(o,l)}t.assign=function(o){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var v in u)n(u,v)&&(o[v]=u[v])}}return o},t.shrinkBuf=function(o,l){return o.length===l?o:o.subarray?o.subarray(0,l):(o.length=l,o)};var a={arraySet:function(o,l,u,v,g){if(l.subarray&&o.subarray){o.set(l.subarray(u,u+v),g);return}for(var _=0;_<v;_++)o[g+_]=l[u+_]},flattenChunks:function(o){var l,u,v,g,_,y;for(v=0,l=0,u=o.length;l<u;l++)v+=o[l].length;for(y=new Uint8Array(v),g=0,l=0,u=o.length;l<u;l++)_=o[l],y.set(_,g),g+=_.length;return y}},s={arraySet:function(o,l,u,v,g){for(var _=0;_<v;_++)o[g+_]=l[u+_]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,t.string2buf=function(v){var g,_,y,w,x,f=v.length,b=0;for(w=0;w<f;w++)_=v.charCodeAt(w),(_&64512)===55296&&w+1<f&&(y=v.charCodeAt(w+1),(y&64512)===56320&&(_=65536+(_-55296<<10)+(y-56320),w++)),b+=_<128?1:_<2048?2:_<65536?3:4;for(g=new n.Buf8(b),x=0,w=0;x<b;w++)_=v.charCodeAt(w),(_&64512)===55296&&w+1<f&&(y=v.charCodeAt(w+1),(y&64512)===56320&&(_=65536+(_-55296<<10)+(y-56320),w++)),_<128?g[x++]=_:_<2048?(g[x++]=192|_>>>6,g[x++]=128|_&63):_<65536?(g[x++]=224|_>>>12,g[x++]=128|_>>>6&63,g[x++]=128|_&63):(g[x++]=240|_>>>18,g[x++]=128|_>>>12&63,g[x++]=128|_>>>6&63,g[x++]=128|_&63);return g};function u(v,g){if(g<65534&&(v.subarray&&s||!v.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(v,g));for(var _="",y=0;y<g;y++)_+=String.fromCharCode(v[y]);return _}t.buf2binstring=function(v){return u(v,v.length)},t.binstring2buf=function(v){for(var g=new n.Buf8(v.length),_=0,y=g.length;_<y;_++)g[_]=v.charCodeAt(_);return g},t.buf2string=function(v,g){var _,y,w,x,f=g||v.length,b=new Array(f*2);for(y=0,_=0;_<f;){if(w=v[_++],w<128){b[y++]=w;continue}if(x=o[w],x>4){b[y++]=65533,_+=x-1;continue}for(w&=x===2?31:x===3?15:7;x>1&&_<f;)w=w<<6|v[_++]&63,x--;if(x>1){b[y++]=65533;continue}w<65536?b[y++]=w:(w-=65536,b[y++]=55296|w>>10&1023,b[y++]=56320|w&1023)}return u(b,y)},t.utf8border=function(v,g){var _;for(g=g||v.length,g>v.length&&(g=v.length),_=g-1;_>=0&&(v[_]&192)===128;)_--;return _<0||_===0?g:_+o[v[_]]>g?_:g}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":e=>{"use strict";function t(r,n,a,s){for(var o=r&65535|0,l=r>>>16&65535|0,u=0;a!==0;){u=a>2e3?2e3:a,a-=u;do o=o+n[s++]|0,l=l+o|0;while(--u);o%=65521,l%=65521}return o|l<<16|0}e.exports=t},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":e=>{"use strict";function t(){for(var a,s=[],o=0;o<256;o++){a=o;for(var l=0;l<8;l++)a=a&1?3988292384^a>>>1:a>>>1;s[o]=a}return s}var r=t();function n(a,s,o,l){var u=r,v=l+o;a^=-1;for(var g=l;g<v;g++)a=a>>>8^u[(a^s[g])&255];return a^-1}e.exports=n},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),u=0,v=1,g=3,_=4,y=5,w=0,x=1,f=-2,b=-3,h=-5,S=-1,C=1,M=2,p=3,c=4,E=0,D=2,I=8,O=9,P=15,k=8,B=29,G=256,K=G+1+B,q=30,H=19,$=2*K+1,W=15,V=3,Z=258,Q=Z+V+1,ie=32,Ce=42,De=69,Me=73,Ne=91,Te=103,be=113,Xe=666,$e=1,R=2,me=3,ge=4,ne=3;function fe(j,Ye){return j.msg=l[Ye],Ye}function ye(j){return(j<<1)-(j>4?9:0)}function He(j){for(var Ye=j.length;--Ye>=0;)j[Ye]=0}function Be(j){var Ye=j.state,qe=Ye.pending;qe>j.avail_out&&(qe=j.avail_out),qe!==0&&(n.arraySet(j.output,Ye.pending_buf,Ye.pending_out,qe,j.next_out),j.next_out+=qe,Ye.pending_out+=qe,j.total_out+=qe,j.avail_out-=qe,Ye.pending-=qe,Ye.pending===0&&(Ye.pending_out=0))}function _e(j,Ye){a._tr_flush_block(j,j.block_start>=0?j.block_start:-1,j.strstart-j.block_start,Ye),j.block_start=j.strstart,Be(j.strm)}function Fe(j,Ye){j.pending_buf[j.pending++]=Ye}function Ge(j,Ye){j.pending_buf[j.pending++]=Ye>>>8&255,j.pending_buf[j.pending++]=Ye&255}function Ve(j,Ye,qe,ce){var ze=j.avail_in;return ze>ce&&(ze=ce),ze===0?0:(j.avail_in-=ze,n.arraySet(Ye,j.input,j.next_in,ze,qe),j.state.wrap===1?j.adler=s(j.adler,Ye,ze,qe):j.state.wrap===2&&(j.adler=o(j.adler,Ye,ze,qe)),j.next_in+=ze,j.total_in+=ze,ze)}function Pe(j,Ye){var qe=j.max_chain_length,ce=j.strstart,ze,et,Lt=j.prev_length,yt=j.nice_match,nt=j.strstart>j.w_size-Q?j.strstart-(j.w_size-Q):0,qt=j.window,en=j.w_mask,jt=j.prev,Jt=j.strstart+Z,Ot=qt[ce+Lt-1],yr=qt[ce+Lt];j.prev_length>=j.good_match&&(qe>>=2),yt>j.lookahead&&(yt=j.lookahead);do if(ze=Ye,!(qt[ze+Lt]!==yr||qt[ze+Lt-1]!==Ot||qt[ze]!==qt[ce]||qt[++ze]!==qt[ce+1])){ce+=2,ze++;do;while(qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&ce<Jt);if(et=Z-(Jt-ce),ce=Jt-Z,et>Lt){if(j.match_start=Ye,Lt=et,et>=yt)break;Ot=qt[ce+Lt-1],yr=qt[ce+Lt]}}while((Ye=jt[Ye&en])>nt&&--qe!==0);return Lt<=j.lookahead?Lt:j.lookahead}function vt(j){var Ye=j.w_size,qe,ce,ze,et,Lt;do{if(et=j.window_size-j.lookahead-j.strstart,j.strstart>=Ye+(Ye-Q)){n.arraySet(j.window,j.window,Ye,Ye,0),j.match_start-=Ye,j.strstart-=Ye,j.block_start-=Ye,ce=j.hash_size,qe=ce;do ze=j.head[--qe],j.head[qe]=ze>=Ye?ze-Ye:0;while(--ce);ce=Ye,qe=ce;do ze=j.prev[--qe],j.prev[qe]=ze>=Ye?ze-Ye:0;while(--ce);et+=Ye}if(j.strm.avail_in===0)break;if(ce=Ve(j.strm,j.window,j.strstart+j.lookahead,et),j.lookahead+=ce,j.lookahead+j.insert>=V)for(Lt=j.strstart-j.insert,j.ins_h=j.window[Lt],j.ins_h=(j.ins_h<<j.hash_shift^j.window[Lt+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[Lt+V-1])&j.hash_mask,j.prev[Lt&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=Lt,Lt++,j.insert--,!(j.lookahead+j.insert<V)););}while(j.lookahead<Q&&j.strm.avail_in!==0)}function _t(j,Ye){var qe=65535;for(qe>j.pending_buf_size-5&&(qe=j.pending_buf_size-5);;){if(j.lookahead<=1){if(vt(j),j.lookahead===0&&Ye===u)return $e;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var ce=j.block_start+qe;if((j.strstart===0||j.strstart>=ce)&&(j.lookahead=j.strstart-ce,j.strstart=ce,_e(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-Q&&(_e(j,!1),j.strm.avail_out===0))return $e}return j.insert=0,Ye===_?(_e(j,!0),j.strm.avail_out===0?me:ge):(j.strstart>j.block_start&&(_e(j,!1),j.strm.avail_out===0),$e)}function le(j,Ye){for(var qe,ce;;){if(j.lookahead<Q){if(vt(j),j.lookahead<Q&&Ye===u)return $e;if(j.lookahead===0)break}if(qe=0,j.lookahead>=V&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+V-1])&j.hash_mask,qe=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),qe!==0&&j.strstart-qe<=j.w_size-Q&&(j.match_length=Pe(j,qe)),j.match_length>=V)if(ce=a._tr_tally(j,j.strstart-j.match_start,j.match_length-V),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=V){j.match_length--;do j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+V-1])&j.hash_mask,qe=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart;while(--j.match_length!==0);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else ce=a._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(ce&&(_e(j,!1),j.strm.avail_out===0))return $e}return j.insert=j.strstart<V-1?j.strstart:V-1,Ye===_?(_e(j,!0),j.strm.avail_out===0?me:ge):j.last_lit&&(_e(j,!1),j.strm.avail_out===0)?$e:R}function ue(j,Ye){for(var qe,ce,ze;;){if(j.lookahead<Q){if(vt(j),j.lookahead<Q&&Ye===u)return $e;if(j.lookahead===0)break}if(qe=0,j.lookahead>=V&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+V-1])&j.hash_mask,qe=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=V-1,qe!==0&&j.prev_length<j.max_lazy_match&&j.strstart-qe<=j.w_size-Q&&(j.match_length=Pe(j,qe),j.match_length<=5&&(j.strategy===C||j.match_length===V&&j.strstart-j.match_start>4096)&&(j.match_length=V-1)),j.prev_length>=V&&j.match_length<=j.prev_length){ze=j.strstart+j.lookahead-V,ce=a._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-V),j.lookahead-=j.prev_length-1,j.prev_length-=2;do++j.strstart<=ze&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+V-1])&j.hash_mask,qe=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart);while(--j.prev_length!==0);if(j.match_available=0,j.match_length=V-1,j.strstart++,ce&&(_e(j,!1),j.strm.avail_out===0))return $e}else if(j.match_available){if(ce=a._tr_tally(j,0,j.window[j.strstart-1]),ce&&_e(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return $e}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(ce=a._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<V-1?j.strstart:V-1,Ye===_?(_e(j,!0),j.strm.avail_out===0?me:ge):j.last_lit&&(_e(j,!1),j.strm.avail_out===0)?$e:R}function ve(j,Ye){for(var qe,ce,ze,et,Lt=j.window;;){if(j.lookahead<=Z){if(vt(j),j.lookahead<=Z&&Ye===u)return $e;if(j.lookahead===0)break}if(j.match_length=0,j.lookahead>=V&&j.strstart>0&&(ze=j.strstart-1,ce=Lt[ze],ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze])){et=j.strstart+Z;do;while(ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ze<et);j.match_length=Z-(et-ze),j.match_length>j.lookahead&&(j.match_length=j.lookahead)}if(j.match_length>=V?(qe=a._tr_tally(j,1,j.match_length-V),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(qe=a._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),qe&&(_e(j,!1),j.strm.avail_out===0))return $e}return j.insert=0,Ye===_?(_e(j,!0),j.strm.avail_out===0?me:ge):j.last_lit&&(_e(j,!1),j.strm.avail_out===0)?$e:R}function Ke(j,Ye){for(var qe;;){if(j.lookahead===0&&(vt(j),j.lookahead===0)){if(Ye===u)return $e;break}if(j.match_length=0,qe=a._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++,qe&&(_e(j,!1),j.strm.avail_out===0))return $e}return j.insert=0,Ye===_?(_e(j,!0),j.strm.avail_out===0?me:ge):j.last_lit&&(_e(j,!1),j.strm.avail_out===0)?$e:R}function ke(j,Ye,qe,ce,ze){this.good_length=j,this.max_lazy=Ye,this.nice_length=qe,this.max_chain=ce,this.func=ze}var rt;rt=[new ke(0,0,0,0,_t),new ke(4,4,8,4,le),new ke(4,5,16,8,le),new ke(4,6,32,32,le),new ke(4,4,16,16,ue),new ke(8,16,32,32,ue),new ke(8,16,128,128,ue),new ke(8,32,128,256,ue),new ke(32,128,258,1024,ue),new ke(32,258,258,4096,ue)];function st(j){j.window_size=2*j.w_size,He(j.head),j.max_lazy_match=rt[j.level].max_lazy,j.good_match=rt[j.level].good_length,j.nice_match=rt[j.level].nice_length,j.max_chain_length=rt[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=V-1,j.match_available=0,j.ins_h=0}function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16($*2),this.dyn_dtree=new n.Buf16((2*q+1)*2),this.bl_tree=new n.Buf16((2*H+1)*2),He(this.dyn_ltree),He(this.dyn_dtree),He(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(W+1),this.heap=new n.Buf16(2*K+1),He(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*K+1),He(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ue(j){var Ye;return!j||!j.state?fe(j,f):(j.total_in=j.total_out=0,j.data_type=D,Ye=j.state,Ye.pending=0,Ye.pending_out=0,Ye.wrap<0&&(Ye.wrap=-Ye.wrap),Ye.status=Ye.wrap?Ce:be,j.adler=Ye.wrap===2?0:1,Ye.last_flush=u,a._tr_init(Ye),w)}function Je(j){var Ye=Ue(j);return Ye===w&&st(j.state),Ye}function ct(j,Ye){return!j||!j.state||j.state.wrap!==2?f:(j.state.gzhead=Ye,w)}function Le(j,Ye,qe,ce,ze,et){if(!j)return f;var Lt=1;if(Ye===S&&(Ye=6),ce<0?(Lt=0,ce=-ce):ce>15&&(Lt=2,ce-=16),ze<1||ze>O||qe!==I||ce<8||ce>15||Ye<0||Ye>9||et<0||et>c)return fe(j,f);ce===8&&(ce=9);var yt=new ae;return j.state=yt,yt.strm=j,yt.wrap=Lt,yt.gzhead=null,yt.w_bits=ce,yt.w_size=1<<yt.w_bits,yt.w_mask=yt.w_size-1,yt.hash_bits=ze+7,yt.hash_size=1<<yt.hash_bits,yt.hash_mask=yt.hash_size-1,yt.hash_shift=~~((yt.hash_bits+V-1)/V),yt.window=new n.Buf8(yt.w_size*2),yt.head=new n.Buf16(yt.hash_size),yt.prev=new n.Buf16(yt.w_size),yt.lit_bufsize=1<<ze+6,yt.pending_buf_size=yt.lit_bufsize*4,yt.pending_buf=new n.Buf8(yt.pending_buf_size),yt.d_buf=1*yt.lit_bufsize,yt.l_buf=3*yt.lit_bufsize,yt.level=Ye,yt.strategy=et,yt.method=qe,Je(j)}function ot(j,Ye){return Le(j,Ye,I,P,k,E)}function oe(j,Ye){var qe,ce,ze,et;if(!j||!j.state||Ye>y||Ye<0)return j?fe(j,f):f;if(ce=j.state,!j.output||!j.input&&j.avail_in!==0||ce.status===Xe&&Ye!==_)return fe(j,j.avail_out===0?h:f);if(ce.strm=j,qe=ce.last_flush,ce.last_flush=Ye,ce.status===Ce)if(ce.wrap===2)j.adler=0,Fe(ce,31),Fe(ce,139),Fe(ce,8),ce.gzhead?(Fe(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),Fe(ce,ce.gzhead.time&255),Fe(ce,ce.gzhead.time>>8&255),Fe(ce,ce.gzhead.time>>16&255),Fe(ce,ce.gzhead.time>>24&255),Fe(ce,ce.level===9?2:ce.strategy>=M||ce.level<2?4:0),Fe(ce,ce.gzhead.os&255),ce.gzhead.extra&&ce.gzhead.extra.length&&(Fe(ce,ce.gzhead.extra.length&255),Fe(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(j.adler=o(j.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=De):(Fe(ce,0),Fe(ce,0),Fe(ce,0),Fe(ce,0),Fe(ce,0),Fe(ce,ce.level===9?2:ce.strategy>=M||ce.level<2?4:0),Fe(ce,ne),ce.status=be);else{var Lt=I+(ce.w_bits-8<<4)<<8,yt=-1;ce.strategy>=M||ce.level<2?yt=0:ce.level<6?yt=1:ce.level===6?yt=2:yt=3,Lt|=yt<<6,ce.strstart!==0&&(Lt|=ie),Lt+=31-Lt%31,ce.status=be,Ge(ce,Lt),ce.strstart!==0&&(Ge(ce,j.adler>>>16),Ge(ce,j.adler&65535)),j.adler=1}if(ce.status===De)if(ce.gzhead.extra){for(ze=ce.pending;ce.gzindex<(ce.gzhead.extra.length&65535)&&!(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(j.adler=o(j.adler,ce.pending_buf,ce.pending-ze,ze)),Be(j),ze=ce.pending,ce.pending===ce.pending_buf_size));)Fe(ce,ce.gzhead.extra[ce.gzindex]&255),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>ze&&(j.adler=o(j.adler,ce.pending_buf,ce.pending-ze,ze)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=Me)}else ce.status=Me;if(ce.status===Me)if(ce.gzhead.name){ze=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(j.adler=o(j.adler,ce.pending_buf,ce.pending-ze,ze)),Be(j),ze=ce.pending,ce.pending===ce.pending_buf_size)){et=1;break}ce.gzindex<ce.gzhead.name.length?et=ce.gzhead.name.charCodeAt(ce.gzindex++)&255:et=0,Fe(ce,et)}while(et!==0);ce.gzhead.hcrc&&ce.pending>ze&&(j.adler=o(j.adler,ce.pending_buf,ce.pending-ze,ze)),et===0&&(ce.gzindex=0,ce.status=Ne)}else ce.status=Ne;if(ce.status===Ne)if(ce.gzhead.comment){ze=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(j.adler=o(j.adler,ce.pending_buf,ce.pending-ze,ze)),Be(j),ze=ce.pending,ce.pending===ce.pending_buf_size)){et=1;break}ce.gzindex<ce.gzhead.comment.length?et=ce.gzhead.comment.charCodeAt(ce.gzindex++)&255:et=0,Fe(ce,et)}while(et!==0);ce.gzhead.hcrc&&ce.pending>ze&&(j.adler=o(j.adler,ce.pending_buf,ce.pending-ze,ze)),et===0&&(ce.status=Te)}else ce.status=Te;if(ce.status===Te&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&Be(j),ce.pending+2<=ce.pending_buf_size&&(Fe(ce,j.adler&255),Fe(ce,j.adler>>8&255),j.adler=0,ce.status=be)):ce.status=be),ce.pending!==0){if(Be(j),j.avail_out===0)return ce.last_flush=-1,w}else if(j.avail_in===0&&ye(Ye)<=ye(qe)&&Ye!==_)return fe(j,h);if(ce.status===Xe&&j.avail_in!==0)return fe(j,h);if(j.avail_in!==0||ce.lookahead!==0||Ye!==u&&ce.status!==Xe){var nt=ce.strategy===M?Ke(ce,Ye):ce.strategy===p?ve(ce,Ye):rt[ce.level].func(ce,Ye);if((nt===me||nt===ge)&&(ce.status=Xe),nt===$e||nt===me)return j.avail_out===0&&(ce.last_flush=-1),w;if(nt===R&&(Ye===v?a._tr_align(ce):Ye!==y&&(a._tr_stored_block(ce,0,0,!1),Ye===g&&(He(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),Be(j),j.avail_out===0))return ce.last_flush=-1,w}return Ye!==_?w:ce.wrap<=0?x:(ce.wrap===2?(Fe(ce,j.adler&255),Fe(ce,j.adler>>8&255),Fe(ce,j.adler>>16&255),Fe(ce,j.adler>>24&255),Fe(ce,j.total_in&255),Fe(ce,j.total_in>>8&255),Fe(ce,j.total_in>>16&255),Fe(ce,j.total_in>>24&255)):(Ge(ce,j.adler>>>16),Ge(ce,j.adler&65535)),Be(j),ce.wrap>0&&(ce.wrap=-ce.wrap),ce.pending!==0?w:x)}function ut(j){var Ye;return!j||!j.state?f:(Ye=j.state.status,Ye!==Ce&&Ye!==De&&Ye!==Me&&Ye!==Ne&&Ye!==Te&&Ye!==be&&Ye!==Xe?fe(j,f):(j.state=null,Ye===be?fe(j,b):w))}function At(j,Ye){var qe=Ye.length,ce,ze,et,Lt,yt,nt,qt,en;if(!j||!j.state||(ce=j.state,Lt=ce.wrap,Lt===2||Lt===1&&ce.status!==Ce||ce.lookahead))return f;for(Lt===1&&(j.adler=s(j.adler,Ye,qe,0)),ce.wrap=0,qe>=ce.w_size&&(Lt===0&&(He(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),en=new n.Buf8(ce.w_size),n.arraySet(en,Ye,qe-ce.w_size,ce.w_size,0),Ye=en,qe=ce.w_size),yt=j.avail_in,nt=j.next_in,qt=j.input,j.avail_in=qe,j.next_in=0,j.input=Ye,vt(ce);ce.lookahead>=V;){ze=ce.strstart,et=ce.lookahead-(V-1);do ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ze+V-1])&ce.hash_mask,ce.prev[ze&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ze,ze++;while(--et);ce.strstart=ze,ce.lookahead=V-1,vt(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=V-1,ce.match_available=0,j.next_in=nt,j.input=qt,j.avail_in=yt,ce.wrap=Lt,w}t.deflateInit=ot,t.deflateInit2=Le,t.deflateReset=Je,t.deflateResetKeep=Ue,t.deflateSetHeader=ct,t.deflate=oe,t.deflateEnd=ut,t.deflateSetDictionary=At,t.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":e=>{"use strict";function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=t},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":e=>{"use strict";var t=30,r=12;e.exports=function(a,s){var o,l,u,v,g,_,y,w,x,f,b,h,S,C,M,p,c,E,D,I,O,P,k,B,G;o=a.state,l=a.next_in,B=a.input,u=l+(a.avail_in-5),v=a.next_out,G=a.output,g=v-(s-a.avail_out),_=v+(a.avail_out-257),y=o.dmax,w=o.wsize,x=o.whave,f=o.wnext,b=o.window,h=o.hold,S=o.bits,C=o.lencode,M=o.distcode,p=(1<<o.lenbits)-1,c=(1<<o.distbits)-1;e:do{S<15&&(h+=B[l++]<<S,S+=8,h+=B[l++]<<S,S+=8),E=C[h&p];t:for(;;){if(D=E>>>24,h>>>=D,S-=D,D=E>>>16&255,D===0)G[v++]=E&65535;else if(D&16){I=E&65535,D&=15,D&&(S<D&&(h+=B[l++]<<S,S+=8),I+=h&(1<<D)-1,h>>>=D,S-=D),S<15&&(h+=B[l++]<<S,S+=8,h+=B[l++]<<S,S+=8),E=M[h&c];r:for(;;){if(D=E>>>24,h>>>=D,S-=D,D=E>>>16&255,D&16){if(O=E&65535,D&=15,S<D&&(h+=B[l++]<<S,S+=8,S<D&&(h+=B[l++]<<S,S+=8)),O+=h&(1<<D)-1,O>y){a.msg="invalid distance too far back",o.mode=t;break e}if(h>>>=D,S-=D,D=v-g,O>D){if(D=O-D,D>x&&o.sane){a.msg="invalid distance too far back",o.mode=t;break e}if(P=0,k=b,f===0){if(P+=w-D,D<I){I-=D;do G[v++]=b[P++];while(--D);P=v-O,k=G}}else if(f<D){if(P+=w+f-D,D-=f,D<I){I-=D;do G[v++]=b[P++];while(--D);if(P=0,f<I){D=f,I-=D;do G[v++]=b[P++];while(--D);P=v-O,k=G}}}else if(P+=f-D,D<I){I-=D;do G[v++]=b[P++];while(--D);P=v-O,k=G}for(;I>2;)G[v++]=k[P++],G[v++]=k[P++],G[v++]=k[P++],I-=3;I&&(G[v++]=k[P++],I>1&&(G[v++]=k[P++]))}else{P=v-O;do G[v++]=G[P++],G[v++]=G[P++],G[v++]=G[P++],I-=3;while(I>2);I&&(G[v++]=G[P++],I>1&&(G[v++]=G[P++]))}}else if(D&64){a.msg="invalid distance code",o.mode=t;break e}else{E=M[(E&65535)+(h&(1<<D)-1)];continue r}break}}else if(D&64)if(D&32){o.mode=r;break e}else{a.msg="invalid literal/length code",o.mode=t;break e}else{E=C[(E&65535)+(h&(1<<D)-1)];continue t}break}}while(l<u&&v<_);I=S>>3,l-=I,S-=I<<3,h&=(1<<S)-1,a.next_in=l,a.next_out=v,a.avail_in=l<u?5+(u-l):5-(l-u),a.avail_out=v<_?257+(_-v):257-(v-_),o.hold=h,o.bits=S}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),u=0,v=1,g=2,_=4,y=5,w=6,x=0,f=1,b=2,h=-2,S=-3,C=-4,M=-5,p=8,c=1,E=2,D=3,I=4,O=5,P=6,k=7,B=8,G=9,K=10,q=11,H=12,$=13,W=14,V=15,Z=16,Q=17,ie=18,Ce=19,De=20,Me=21,Ne=22,Te=23,be=24,Xe=25,$e=26,R=27,me=28,ge=29,ne=30,fe=31,ye=32,He=852,Be=592,_e=15,Fe=_e;function Ge(Le){return(Le>>>24&255)+(Le>>>8&65280)+((Le&65280)<<8)+((Le&255)<<24)}function Ve(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Pe(Le){var ot;return!Le||!Le.state?h:(ot=Le.state,Le.total_in=Le.total_out=ot.total=0,Le.msg="",ot.wrap&&(Le.adler=ot.wrap&1),ot.mode=c,ot.last=0,ot.havedict=0,ot.dmax=32768,ot.head=null,ot.hold=0,ot.bits=0,ot.lencode=ot.lendyn=new n.Buf32(He),ot.distcode=ot.distdyn=new n.Buf32(Be),ot.sane=1,ot.back=-1,x)}function vt(Le){var ot;return!Le||!Le.state?h:(ot=Le.state,ot.wsize=0,ot.whave=0,ot.wnext=0,Pe(Le))}function _t(Le,ot){var oe,ut;return!Le||!Le.state||(ut=Le.state,ot<0?(oe=0,ot=-ot):(oe=(ot>>4)+1,ot<48&&(ot&=15)),ot&&(ot<8||ot>15))?h:(ut.window!==null&&ut.wbits!==ot&&(ut.window=null),ut.wrap=oe,ut.wbits=ot,vt(Le))}function le(Le,ot){var oe,ut;return Le?(ut=new Ve,Le.state=ut,ut.window=null,oe=_t(Le,ot),oe!==x&&(Le.state=null),oe):h}function ue(Le){return le(Le,Fe)}var ve=!0,Ke,ke;function rt(Le){if(ve){var ot;for(Ke=new n.Buf32(512),ke=new n.Buf32(32),ot=0;ot<144;)Le.lens[ot++]=8;for(;ot<256;)Le.lens[ot++]=9;for(;ot<280;)Le.lens[ot++]=7;for(;ot<288;)Le.lens[ot++]=8;for(l(v,Le.lens,0,288,Ke,0,Le.work,{bits:9}),ot=0;ot<32;)Le.lens[ot++]=5;l(g,Le.lens,0,32,ke,0,Le.work,{bits:5}),ve=!1}Le.lencode=Ke,Le.lenbits=9,Le.distcode=ke,Le.distbits=5}function st(Le,ot,oe,ut){var At,j=Le.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new n.Buf8(j.wsize)),ut>=j.wsize?(n.arraySet(j.window,ot,oe-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(At=j.wsize-j.wnext,At>ut&&(At=ut),n.arraySet(j.window,ot,oe-ut,At,j.wnext),ut-=At,ut?(n.arraySet(j.window,ot,oe-ut,ut,0),j.wnext=ut,j.whave=j.wsize):(j.wnext+=At,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=At))),0}function ae(Le,ot){var oe,ut,At,j,Ye,qe,ce,ze,et,Lt,yt,nt,qt,en,jt=0,Jt,Ot,yr,mr,Fr,tn,fr,Zt,nr=new n.Buf8(4),Br,Wr,yi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Le||!Le.state||!Le.output||!Le.input&&Le.avail_in!==0)return h;oe=Le.state,oe.mode===H&&(oe.mode=$),Ye=Le.next_out,At=Le.output,ce=Le.avail_out,j=Le.next_in,ut=Le.input,qe=Le.avail_in,ze=oe.hold,et=oe.bits,Lt=qe,yt=ce,Zt=x;e:for(;;)switch(oe.mode){case c:if(oe.wrap===0){oe.mode=$;break}for(;et<16;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if(oe.wrap&2&&ze===35615){oe.check=0,nr[0]=ze&255,nr[1]=ze>>>8&255,oe.check=s(oe.check,nr,2,0),ze=0,et=0,oe.mode=E;break}if(oe.flags=0,oe.head&&(oe.head.done=!1),!(oe.wrap&1)||(((ze&255)<<8)+(ze>>8))%31){Le.msg="incorrect header check",oe.mode=ne;break}if((ze&15)!==p){Le.msg="unknown compression method",oe.mode=ne;break}if(ze>>>=4,et-=4,fr=(ze&15)+8,oe.wbits===0)oe.wbits=fr;else if(fr>oe.wbits){Le.msg="invalid window size",oe.mode=ne;break}oe.dmax=1<<fr,Le.adler=oe.check=1,oe.mode=ze&512?K:H,ze=0,et=0;break;case E:for(;et<16;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if(oe.flags=ze,(oe.flags&255)!==p){Le.msg="unknown compression method",oe.mode=ne;break}if(oe.flags&57344){Le.msg="unknown header flags set",oe.mode=ne;break}oe.head&&(oe.head.text=ze>>8&1),oe.flags&512&&(nr[0]=ze&255,nr[1]=ze>>>8&255,oe.check=s(oe.check,nr,2,0)),ze=0,et=0,oe.mode=D;case D:for(;et<32;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}oe.head&&(oe.head.time=ze),oe.flags&512&&(nr[0]=ze&255,nr[1]=ze>>>8&255,nr[2]=ze>>>16&255,nr[3]=ze>>>24&255,oe.check=s(oe.check,nr,4,0)),ze=0,et=0,oe.mode=I;case I:for(;et<16;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}oe.head&&(oe.head.xflags=ze&255,oe.head.os=ze>>8),oe.flags&512&&(nr[0]=ze&255,nr[1]=ze>>>8&255,oe.check=s(oe.check,nr,2,0)),ze=0,et=0,oe.mode=O;case O:if(oe.flags&1024){for(;et<16;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}oe.length=ze,oe.head&&(oe.head.extra_len=ze),oe.flags&512&&(nr[0]=ze&255,nr[1]=ze>>>8&255,oe.check=s(oe.check,nr,2,0)),ze=0,et=0}else oe.head&&(oe.head.extra=null);oe.mode=P;case P:if(oe.flags&1024&&(nt=oe.length,nt>qe&&(nt=qe),nt&&(oe.head&&(fr=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Array(oe.head.extra_len)),n.arraySet(oe.head.extra,ut,j,nt,fr)),oe.flags&512&&(oe.check=s(oe.check,ut,nt,j)),qe-=nt,j+=nt,oe.length-=nt),oe.length))break e;oe.length=0,oe.mode=k;case k:if(oe.flags&2048){if(qe===0)break e;nt=0;do fr=ut[j+nt++],oe.head&&fr&&oe.length<65536&&(oe.head.name+=String.fromCharCode(fr));while(fr&&nt<qe);if(oe.flags&512&&(oe.check=s(oe.check,ut,nt,j)),qe-=nt,j+=nt,fr)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=B;case B:if(oe.flags&4096){if(qe===0)break e;nt=0;do fr=ut[j+nt++],oe.head&&fr&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(fr));while(fr&&nt<qe);if(oe.flags&512&&(oe.check=s(oe.check,ut,nt,j)),qe-=nt,j+=nt,fr)break e}else oe.head&&(oe.head.comment=null);oe.mode=G;case G:if(oe.flags&512){for(;et<16;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if(ze!==(oe.check&65535)){Le.msg="header crc mismatch",oe.mode=ne;break}ze=0,et=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),Le.adler=oe.check=0,oe.mode=H;break;case K:for(;et<32;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}Le.adler=oe.check=Ge(ze),ze=0,et=0,oe.mode=q;case q:if(oe.havedict===0)return Le.next_out=Ye,Le.avail_out=ce,Le.next_in=j,Le.avail_in=qe,oe.hold=ze,oe.bits=et,b;Le.adler=oe.check=1,oe.mode=H;case H:if(ot===y||ot===w)break e;case $:if(oe.last){ze>>>=et&7,et-=et&7,oe.mode=R;break}for(;et<3;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}switch(oe.last=ze&1,ze>>>=1,et-=1,ze&3){case 0:oe.mode=W;break;case 1:if(rt(oe),oe.mode=De,ot===w){ze>>>=2,et-=2;break e}break;case 2:oe.mode=Q;break;case 3:Le.msg="invalid block type",oe.mode=ne}ze>>>=2,et-=2;break;case W:for(ze>>>=et&7,et-=et&7;et<32;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if((ze&65535)!==(ze>>>16^65535)){Le.msg="invalid stored block lengths",oe.mode=ne;break}if(oe.length=ze&65535,ze=0,et=0,oe.mode=V,ot===w)break e;case V:oe.mode=Z;case Z:if(nt=oe.length,nt){if(nt>qe&&(nt=qe),nt>ce&&(nt=ce),nt===0)break e;n.arraySet(At,ut,j,nt,Ye),qe-=nt,j+=nt,ce-=nt,Ye+=nt,oe.length-=nt;break}oe.mode=H;break;case Q:for(;et<14;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if(oe.nlen=(ze&31)+257,ze>>>=5,et-=5,oe.ndist=(ze&31)+1,ze>>>=5,et-=5,oe.ncode=(ze&15)+4,ze>>>=4,et-=4,oe.nlen>286||oe.ndist>30){Le.msg="too many length or distance symbols",oe.mode=ne;break}oe.have=0,oe.mode=ie;case ie:for(;oe.have<oe.ncode;){for(;et<3;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}oe.lens[yi[oe.have++]]=ze&7,ze>>>=3,et-=3}for(;oe.have<19;)oe.lens[yi[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,Br={bits:oe.lenbits},Zt=l(u,oe.lens,0,19,oe.lencode,0,oe.work,Br),oe.lenbits=Br.bits,Zt){Le.msg="invalid code lengths set",oe.mode=ne;break}oe.have=0,oe.mode=Ce;case Ce:for(;oe.have<oe.nlen+oe.ndist;){for(;jt=oe.lencode[ze&(1<<oe.lenbits)-1],Jt=jt>>>24,Ot=jt>>>16&255,yr=jt&65535,!(Jt<=et);){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if(yr<16)ze>>>=Jt,et-=Jt,oe.lens[oe.have++]=yr;else{if(yr===16){for(Wr=Jt+2;et<Wr;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if(ze>>>=Jt,et-=Jt,oe.have===0){Le.msg="invalid bit length repeat",oe.mode=ne;break}fr=oe.lens[oe.have-1],nt=3+(ze&3),ze>>>=2,et-=2}else if(yr===17){for(Wr=Jt+3;et<Wr;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}ze>>>=Jt,et-=Jt,fr=0,nt=3+(ze&7),ze>>>=3,et-=3}else{for(Wr=Jt+7;et<Wr;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}ze>>>=Jt,et-=Jt,fr=0,nt=11+(ze&127),ze>>>=7,et-=7}if(oe.have+nt>oe.nlen+oe.ndist){Le.msg="invalid bit length repeat",oe.mode=ne;break}for(;nt--;)oe.lens[oe.have++]=fr}}if(oe.mode===ne)break;if(oe.lens[256]===0){Le.msg="invalid code -- missing end-of-block",oe.mode=ne;break}if(oe.lenbits=9,Br={bits:oe.lenbits},Zt=l(v,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,Br),oe.lenbits=Br.bits,Zt){Le.msg="invalid literal/lengths set",oe.mode=ne;break}if(oe.distbits=6,oe.distcode=oe.distdyn,Br={bits:oe.distbits},Zt=l(g,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,Br),oe.distbits=Br.bits,Zt){Le.msg="invalid distances set",oe.mode=ne;break}if(oe.mode=De,ot===w)break e;case De:oe.mode=Me;case Me:if(qe>=6&&ce>=258){Le.next_out=Ye,Le.avail_out=ce,Le.next_in=j,Le.avail_in=qe,oe.hold=ze,oe.bits=et,o(Le,yt),Ye=Le.next_out,At=Le.output,ce=Le.avail_out,j=Le.next_in,ut=Le.input,qe=Le.avail_in,ze=oe.hold,et=oe.bits,oe.mode===H&&(oe.back=-1);break}for(oe.back=0;jt=oe.lencode[ze&(1<<oe.lenbits)-1],Jt=jt>>>24,Ot=jt>>>16&255,yr=jt&65535,!(Jt<=et);){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if(Ot&&!(Ot&240)){for(mr=Jt,Fr=Ot,tn=yr;jt=oe.lencode[tn+((ze&(1<<mr+Fr)-1)>>mr)],Jt=jt>>>24,Ot=jt>>>16&255,yr=jt&65535,!(mr+Jt<=et);){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}ze>>>=mr,et-=mr,oe.back+=mr}if(ze>>>=Jt,et-=Jt,oe.back+=Jt,oe.length=yr,Ot===0){oe.mode=$e;break}if(Ot&32){oe.back=-1,oe.mode=H;break}if(Ot&64){Le.msg="invalid literal/length code",oe.mode=ne;break}oe.extra=Ot&15,oe.mode=Ne;case Ne:if(oe.extra){for(Wr=oe.extra;et<Wr;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}oe.length+=ze&(1<<oe.extra)-1,ze>>>=oe.extra,et-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=Te;case Te:for(;jt=oe.distcode[ze&(1<<oe.distbits)-1],Jt=jt>>>24,Ot=jt>>>16&255,yr=jt&65535,!(Jt<=et);){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if(!(Ot&240)){for(mr=Jt,Fr=Ot,tn=yr;jt=oe.distcode[tn+((ze&(1<<mr+Fr)-1)>>mr)],Jt=jt>>>24,Ot=jt>>>16&255,yr=jt&65535,!(mr+Jt<=et);){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}ze>>>=mr,et-=mr,oe.back+=mr}if(ze>>>=Jt,et-=Jt,oe.back+=Jt,Ot&64){Le.msg="invalid distance code",oe.mode=ne;break}oe.offset=yr,oe.extra=Ot&15,oe.mode=be;case be:if(oe.extra){for(Wr=oe.extra;et<Wr;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}oe.offset+=ze&(1<<oe.extra)-1,ze>>>=oe.extra,et-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){Le.msg="invalid distance too far back",oe.mode=ne;break}oe.mode=Xe;case Xe:if(ce===0)break e;if(nt=yt-ce,oe.offset>nt){if(nt=oe.offset-nt,nt>oe.whave&&oe.sane){Le.msg="invalid distance too far back",oe.mode=ne;break}nt>oe.wnext?(nt-=oe.wnext,qt=oe.wsize-nt):qt=oe.wnext-nt,nt>oe.length&&(nt=oe.length),en=oe.window}else en=At,qt=Ye-oe.offset,nt=oe.length;nt>ce&&(nt=ce),ce-=nt,oe.length-=nt;do At[Ye++]=en[qt++];while(--nt);oe.length===0&&(oe.mode=Me);break;case $e:if(ce===0)break e;At[Ye++]=oe.length,ce--,oe.mode=Me;break;case R:if(oe.wrap){for(;et<32;){if(qe===0)break e;qe--,ze|=ut[j++]<<et,et+=8}if(yt-=ce,Le.total_out+=yt,oe.total+=yt,yt&&(Le.adler=oe.check=oe.flags?s(oe.check,At,yt,Ye-yt):a(oe.check,At,yt,Ye-yt)),yt=ce,(oe.flags?ze:Ge(ze))!==oe.check){Le.msg="incorrect data check",oe.mode=ne;break}ze=0,et=0}oe.mode=me;case me:if(oe.wrap&&oe.flags){for(;et<32;){if(qe===0)break e;qe--,ze+=ut[j++]<<et,et+=8}if(ze!==(oe.total&4294967295)){Le.msg="incorrect length check",oe.mode=ne;break}ze=0,et=0}oe.mode=ge;case ge:Zt=f;break e;case ne:Zt=S;break e;case fe:return C;case ye:default:return h}return Le.next_out=Ye,Le.avail_out=ce,Le.next_in=j,Le.avail_in=qe,oe.hold=ze,oe.bits=et,(oe.wsize||yt!==Le.avail_out&&oe.mode<ne&&(oe.mode<R||ot!==_))&&st(Le,Le.output,Le.next_out,yt-Le.avail_out)?(oe.mode=fe,C):(Lt-=Le.avail_in,yt-=Le.avail_out,Le.total_in+=Lt,Le.total_out+=yt,oe.total+=yt,oe.wrap&&yt&&(Le.adler=oe.check=oe.flags?s(oe.check,At,yt,Le.next_out-yt):a(oe.check,At,yt,Le.next_out-yt)),Le.data_type=oe.bits+(oe.last?64:0)+(oe.mode===H?128:0)+(oe.mode===De||oe.mode===V?256:0),(Lt===0&&yt===0||ot===_)&&Zt===x&&(Zt=M),Zt)}function Ue(Le){if(!Le||!Le.state)return h;var ot=Le.state;return ot.window&&(ot.window=null),Le.state=null,x}function Je(Le,ot){var oe;return!Le||!Le.state||(oe=Le.state,!(oe.wrap&2))?h:(oe.head=ot,ot.done=!1,x)}function ct(Le,ot){var oe=ot.length,ut,At,j;return!Le||!Le.state||(ut=Le.state,ut.wrap!==0&&ut.mode!==q)?h:ut.mode===q&&(At=1,At=a(At,ot,oe,0),At!==ut.check)?S:(j=st(Le,ot,oe,oe),j?(ut.mode=fe,C):(ut.havedict=1,x))}t.inflateReset=vt,t.inflateReset2=_t,t.inflateResetKeep=Pe,t.inflateInit=ue,t.inflateInit2=le,t.inflate=ae,t.inflateEnd=Ue,t.inflateGetHeader=Je,t.inflateSetDictionary=ct,t.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=15,s=852,o=592,l=0,u=1,v=2,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(f,b,h,S,C,M,p,c){var E=c.bits,D=0,I=0,O=0,P=0,k=0,B=0,G=0,K=0,q=0,H=0,$,W,V,Z,Q,ie=null,Ce=0,De,Me=new n.Buf16(a+1),Ne=new n.Buf16(a+1),Te=null,be=0,Xe,$e,R;for(D=0;D<=a;D++)Me[D]=0;for(I=0;I<S;I++)Me[b[h+I]]++;for(k=E,P=a;P>=1&&Me[P]===0;P--);if(k>P&&(k=P),P===0)return C[M++]=20971520,C[M++]=20971520,c.bits=1,0;for(O=1;O<P&&Me[O]===0;O++);for(k<O&&(k=O),K=1,D=1;D<=a;D++)if(K<<=1,K-=Me[D],K<0)return-1;if(K>0&&(f===l||P!==1))return-1;for(Ne[1]=0,D=1;D<a;D++)Ne[D+1]=Ne[D]+Me[D];for(I=0;I<S;I++)b[h+I]!==0&&(p[Ne[b[h+I]]++]=I);if(f===l?(ie=Te=p,De=19):f===u?(ie=g,Ce-=257,Te=_,be-=257,De=256):(ie=y,Te=w,De=-1),H=0,I=0,D=O,Q=M,B=k,G=0,V=-1,q=1<<k,Z=q-1,f===u&&q>s||f===v&&q>o)return 1;for(;;){Xe=D-G,p[I]<De?($e=0,R=p[I]):p[I]>De?($e=Te[be+p[I]],R=ie[Ce+p[I]]):($e=96,R=0),$=1<<D-G,W=1<<B,O=W;do W-=$,C[Q+(H>>G)+W]=Xe<<24|$e<<16|R|0;while(W!==0);for($=1<<D-1;H&$;)$>>=1;if($!==0?(H&=$-1,H+=$):H=0,I++,--Me[D]===0){if(D===P)break;D=b[h+p[I]]}if(D>k&&(H&Z)!==V){for(G===0&&(G=k),Q+=O,B=D-G,K=1<<B;B+G<P&&(K-=Me[B+G],!(K<=0));)B++,K<<=1;if(q+=1<<B,f===u&&q>s||f===v&&q>o)return 1;V=H&Z,C[V]=k<<24|B<<16|Q-M|0}}return H!==0&&(C[Q+H]=D-G<<24|4194304|0),c.bits=k,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=4,s=0,o=1,l=2;function u(ae){for(var Ue=ae.length;--Ue>=0;)ae[Ue]=0}var v=0,g=1,_=2,y=3,w=258,x=29,f=256,b=f+1+x,h=30,S=19,C=2*b+1,M=15,p=16,c=7,E=256,D=16,I=17,O=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=512,q=new Array((b+2)*2);u(q);var H=new Array(h*2);u(H);var $=new Array(K);u($);var W=new Array(w-y+1);u(W);var V=new Array(x);u(V);var Z=new Array(h);u(Z);function Q(ae,Ue,Je,ct,Le){this.static_tree=ae,this.extra_bits=Ue,this.extra_base=Je,this.elems=ct,this.max_length=Le,this.has_stree=ae&&ae.length}var ie,Ce,De;function Me(ae,Ue){this.dyn_tree=ae,this.max_code=0,this.stat_desc=Ue}function Ne(ae){return ae<256?$[ae]:$[256+(ae>>>7)]}function Te(ae,Ue){ae.pending_buf[ae.pending++]=Ue&255,ae.pending_buf[ae.pending++]=Ue>>>8&255}function be(ae,Ue,Je){ae.bi_valid>p-Je?(ae.bi_buf|=Ue<<ae.bi_valid&65535,Te(ae,ae.bi_buf),ae.bi_buf=Ue>>p-ae.bi_valid,ae.bi_valid+=Je-p):(ae.bi_buf|=Ue<<ae.bi_valid&65535,ae.bi_valid+=Je)}function Xe(ae,Ue,Je){be(ae,Je[Ue*2],Je[Ue*2+1])}function $e(ae,Ue){var Je=0;do Je|=ae&1,ae>>>=1,Je<<=1;while(--Ue>0);return Je>>>1}function R(ae){ae.bi_valid===16?(Te(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):ae.bi_valid>=8&&(ae.pending_buf[ae.pending++]=ae.bi_buf&255,ae.bi_buf>>=8,ae.bi_valid-=8)}function me(ae,Ue){var Je=Ue.dyn_tree,ct=Ue.max_code,Le=Ue.stat_desc.static_tree,ot=Ue.stat_desc.has_stree,oe=Ue.stat_desc.extra_bits,ut=Ue.stat_desc.extra_base,At=Ue.stat_desc.max_length,j,Ye,qe,ce,ze,et,Lt=0;for(ce=0;ce<=M;ce++)ae.bl_count[ce]=0;for(Je[ae.heap[ae.heap_max]*2+1]=0,j=ae.heap_max+1;j<C;j++)Ye=ae.heap[j],ce=Je[Je[Ye*2+1]*2+1]+1,ce>At&&(ce=At,Lt++),Je[Ye*2+1]=ce,!(Ye>ct)&&(ae.bl_count[ce]++,ze=0,Ye>=ut&&(ze=oe[Ye-ut]),et=Je[Ye*2],ae.opt_len+=et*(ce+ze),ot&&(ae.static_len+=et*(Le[Ye*2+1]+ze)));if(Lt!==0){do{for(ce=At-1;ae.bl_count[ce]===0;)ce--;ae.bl_count[ce]--,ae.bl_count[ce+1]+=2,ae.bl_count[At]--,Lt-=2}while(Lt>0);for(ce=At;ce!==0;ce--)for(Ye=ae.bl_count[ce];Ye!==0;)qe=ae.heap[--j],!(qe>ct)&&(Je[qe*2+1]!==ce&&(ae.opt_len+=(ce-Je[qe*2+1])*Je[qe*2],Je[qe*2+1]=ce),Ye--)}}function ge(ae,Ue,Je){var ct=new Array(M+1),Le=0,ot,oe;for(ot=1;ot<=M;ot++)ct[ot]=Le=Le+Je[ot-1]<<1;for(oe=0;oe<=Ue;oe++){var ut=ae[oe*2+1];ut!==0&&(ae[oe*2]=$e(ct[ut]++,ut))}}function ne(){var ae,Ue,Je,ct,Le,ot=new Array(M+1);for(Je=0,ct=0;ct<x-1;ct++)for(V[ct]=Je,ae=0;ae<1<<P[ct];ae++)W[Je++]=ct;for(W[Je-1]=ct,Le=0,ct=0;ct<16;ct++)for(Z[ct]=Le,ae=0;ae<1<<k[ct];ae++)$[Le++]=ct;for(Le>>=7;ct<h;ct++)for(Z[ct]=Le<<7,ae=0;ae<1<<k[ct]-7;ae++)$[256+Le++]=ct;for(Ue=0;Ue<=M;Ue++)ot[Ue]=0;for(ae=0;ae<=143;)q[ae*2+1]=8,ae++,ot[8]++;for(;ae<=255;)q[ae*2+1]=9,ae++,ot[9]++;for(;ae<=279;)q[ae*2+1]=7,ae++,ot[7]++;for(;ae<=287;)q[ae*2+1]=8,ae++,ot[8]++;for(ge(q,b+1,ot),ae=0;ae<h;ae++)H[ae*2+1]=5,H[ae*2]=$e(ae,5);ie=new Q(q,P,f+1,b,M),Ce=new Q(H,k,0,h,M),De=new Q(new Array(0),B,0,S,c)}function fe(ae){var Ue;for(Ue=0;Ue<b;Ue++)ae.dyn_ltree[Ue*2]=0;for(Ue=0;Ue<h;Ue++)ae.dyn_dtree[Ue*2]=0;for(Ue=0;Ue<S;Ue++)ae.bl_tree[Ue*2]=0;ae.dyn_ltree[E*2]=1,ae.opt_len=ae.static_len=0,ae.last_lit=ae.matches=0}function ye(ae){ae.bi_valid>8?Te(ae,ae.bi_buf):ae.bi_valid>0&&(ae.pending_buf[ae.pending++]=ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0}function He(ae,Ue,Je,ct){ye(ae),ct&&(Te(ae,Je),Te(ae,~Je)),n.arraySet(ae.pending_buf,ae.window,Ue,Je,ae.pending),ae.pending+=Je}function Be(ae,Ue,Je,ct){var Le=Ue*2,ot=Je*2;return ae[Le]<ae[ot]||ae[Le]===ae[ot]&&ct[Ue]<=ct[Je]}function _e(ae,Ue,Je){for(var ct=ae.heap[Je],Le=Je<<1;Le<=ae.heap_len&&(Le<ae.heap_len&&Be(Ue,ae.heap[Le+1],ae.heap[Le],ae.depth)&&Le++,!Be(Ue,ct,ae.heap[Le],ae.depth));)ae.heap[Je]=ae.heap[Le],Je=Le,Le<<=1;ae.heap[Je]=ct}function Fe(ae,Ue,Je){var ct,Le,ot=0,oe,ut;if(ae.last_lit!==0)do ct=ae.pending_buf[ae.d_buf+ot*2]<<8|ae.pending_buf[ae.d_buf+ot*2+1],Le=ae.pending_buf[ae.l_buf+ot],ot++,ct===0?Xe(ae,Le,Ue):(oe=W[Le],Xe(ae,oe+f+1,Ue),ut=P[oe],ut!==0&&(Le-=V[oe],be(ae,Le,ut)),ct--,oe=Ne(ct),Xe(ae,oe,Je),ut=k[oe],ut!==0&&(ct-=Z[oe],be(ae,ct,ut)));while(ot<ae.last_lit);Xe(ae,E,Ue)}function Ge(ae,Ue){var Je=Ue.dyn_tree,ct=Ue.stat_desc.static_tree,Le=Ue.stat_desc.has_stree,ot=Ue.stat_desc.elems,oe,ut,At=-1,j;for(ae.heap_len=0,ae.heap_max=C,oe=0;oe<ot;oe++)Je[oe*2]!==0?(ae.heap[++ae.heap_len]=At=oe,ae.depth[oe]=0):Je[oe*2+1]=0;for(;ae.heap_len<2;)j=ae.heap[++ae.heap_len]=At<2?++At:0,Je[j*2]=1,ae.depth[j]=0,ae.opt_len--,Le&&(ae.static_len-=ct[j*2+1]);for(Ue.max_code=At,oe=ae.heap_len>>1;oe>=1;oe--)_e(ae,Je,oe);j=ot;do oe=ae.heap[1],ae.heap[1]=ae.heap[ae.heap_len--],_e(ae,Je,1),ut=ae.heap[1],ae.heap[--ae.heap_max]=oe,ae.heap[--ae.heap_max]=ut,Je[j*2]=Je[oe*2]+Je[ut*2],ae.depth[j]=(ae.depth[oe]>=ae.depth[ut]?ae.depth[oe]:ae.depth[ut])+1,Je[oe*2+1]=Je[ut*2+1]=j,ae.heap[1]=j++,_e(ae,Je,1);while(ae.heap_len>=2);ae.heap[--ae.heap_max]=ae.heap[1],me(ae,Ue),ge(Je,At,ae.bl_count)}function Ve(ae,Ue,Je){var ct,Le=-1,ot,oe=Ue[0*2+1],ut=0,At=7,j=4;for(oe===0&&(At=138,j=3),Ue[(Je+1)*2+1]=65535,ct=0;ct<=Je;ct++)ot=oe,oe=Ue[(ct+1)*2+1],!(++ut<At&&ot===oe)&&(ut<j?ae.bl_tree[ot*2]+=ut:ot!==0?(ot!==Le&&ae.bl_tree[ot*2]++,ae.bl_tree[D*2]++):ut<=10?ae.bl_tree[I*2]++:ae.bl_tree[O*2]++,ut=0,Le=ot,oe===0?(At=138,j=3):ot===oe?(At=6,j=3):(At=7,j=4))}function Pe(ae,Ue,Je){var ct,Le=-1,ot,oe=Ue[0*2+1],ut=0,At=7,j=4;for(oe===0&&(At=138,j=3),ct=0;ct<=Je;ct++)if(ot=oe,oe=Ue[(ct+1)*2+1],!(++ut<At&&ot===oe)){if(ut<j)do Xe(ae,ot,ae.bl_tree);while(--ut!==0);else ot!==0?(ot!==Le&&(Xe(ae,ot,ae.bl_tree),ut--),Xe(ae,D,ae.bl_tree),be(ae,ut-3,2)):ut<=10?(Xe(ae,I,ae.bl_tree),be(ae,ut-3,3)):(Xe(ae,O,ae.bl_tree),be(ae,ut-11,7));ut=0,Le=ot,oe===0?(At=138,j=3):ot===oe?(At=6,j=3):(At=7,j=4)}}function vt(ae){var Ue;for(Ve(ae,ae.dyn_ltree,ae.l_desc.max_code),Ve(ae,ae.dyn_dtree,ae.d_desc.max_code),Ge(ae,ae.bl_desc),Ue=S-1;Ue>=3&&ae.bl_tree[G[Ue]*2+1]===0;Ue--);return ae.opt_len+=3*(Ue+1)+5+5+4,Ue}function _t(ae,Ue,Je,ct){var Le;for(be(ae,Ue-257,5),be(ae,Je-1,5),be(ae,ct-4,4),Le=0;Le<ct;Le++)be(ae,ae.bl_tree[G[Le]*2+1],3);Pe(ae,ae.dyn_ltree,Ue-1),Pe(ae,ae.dyn_dtree,Je-1)}function le(ae){var Ue=4093624447,Je;for(Je=0;Je<=31;Je++,Ue>>>=1)if(Ue&1&&ae.dyn_ltree[Je*2]!==0)return s;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return o;for(Je=32;Je<f;Je++)if(ae.dyn_ltree[Je*2]!==0)return o;return s}var ue=!1;function ve(ae){ue||(ne(),ue=!0),ae.l_desc=new Me(ae.dyn_ltree,ie),ae.d_desc=new Me(ae.dyn_dtree,Ce),ae.bl_desc=new Me(ae.bl_tree,De),ae.bi_buf=0,ae.bi_valid=0,fe(ae)}function Ke(ae,Ue,Je,ct){be(ae,(v<<1)+(ct?1:0),3),He(ae,Ue,Je,!0)}function ke(ae){be(ae,g<<1,3),Xe(ae,E,q),R(ae)}function rt(ae,Ue,Je,ct){var Le,ot,oe=0;ae.level>0?(ae.strm.data_type===l&&(ae.strm.data_type=le(ae)),Ge(ae,ae.l_desc),Ge(ae,ae.d_desc),oe=vt(ae),Le=ae.opt_len+3+7>>>3,ot=ae.static_len+3+7>>>3,ot<=Le&&(Le=ot)):Le=ot=Je+5,Je+4<=Le&&Ue!==-1?Ke(ae,Ue,Je,ct):ae.strategy===a||ot===Le?(be(ae,(g<<1)+(ct?1:0),3),Fe(ae,q,H)):(be(ae,(_<<1)+(ct?1:0),3),_t(ae,ae.l_desc.max_code+1,ae.d_desc.max_code+1,oe+1),Fe(ae,ae.dyn_ltree,ae.dyn_dtree)),fe(ae),ct&&ye(ae)}function st(ae,Ue,Je){return ae.pending_buf[ae.d_buf+ae.last_lit*2]=Ue>>>8&255,ae.pending_buf[ae.d_buf+ae.last_lit*2+1]=Ue&255,ae.pending_buf[ae.l_buf+ae.last_lit]=Je&255,ae.last_lit++,Ue===0?ae.dyn_ltree[Je*2]++:(ae.matches++,Ue--,ae.dyn_ltree[(W[Je]+f+1)*2]++,ae.dyn_dtree[Ne(Ue)*2]++),ae.last_lit===ae.lit_bufsize-1}t._tr_init=ve,t._tr_stored_block=Ke,t._tr_flush_block=rt,t._tr_tally=st,t._tr_align=ke},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":e=>{"use strict";function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=t},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=function(){self.onmessage=function(e){var t=e.data,r=t.type;if(r<0)self.atomData=t.atoms,self.volume=t.volume,self.ps=new ProteinSurface;else{var n=self.ps;n.initparm(t.expandedExtent,r!=1,self.volume),n.fillvoxels(self.atomData,t.extendedAtoms),n.buildboundary(),(r===4||r===2)&&(n.fastdistancemap(),n.boundingatom(!1),n.fillvoxelswaals(self.atomData,t.extendedAtoms)),n.marchingcube(r);var a=n.getFacesAndVertices(t.atomsToShow);self.postMessage(a)}}}.toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;
var MarchingCube = new MarchingCubeInitializer();`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.workerString=$3Dmol.workerString.replace(/[a-zA-Z_$]{1}[0-9a-zA-Z_$]*WEBPACK_IMPORTED_MODULE_[0-9]__\./g,""),$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":e=>{typeof e.exports=="object"&&(e.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(e,t){(function(r,n){n(t)})(this,function(r){"use strict";function n(le,ue,ve){for(var Ke=(le.byteLength,0),ke=ve.length;ke>Ke;Ke++){var rt=ve.charCodeAt(Ke);if(128>rt)le.setUint8(ue++,rt>>>0&127|0);else if(2048>rt)le.setUint8(ue++,rt>>>6&31|192),le.setUint8(ue++,rt>>>0&63|128);else if(65536>rt)le.setUint8(ue++,rt>>>12&15|224),le.setUint8(ue++,rt>>>6&63|128),le.setUint8(ue++,rt>>>0&63|128);else{if(!(1114112>rt))throw new Error("bad codepoint "+rt);le.setUint8(ue++,rt>>>18&7|240),le.setUint8(ue++,rt>>>12&63|128),le.setUint8(ue++,rt>>>6&63|128),le.setUint8(ue++,rt>>>0&63|128)}}}function a(le){for(var ue=0,ve=0,Ke=le.length;Ke>ve;ve++){var ke=le.charCodeAt(ve);if(128>ke)ue+=1;else if(2048>ke)ue+=2;else if(65536>ke)ue+=3;else{if(!(1114112>ke))throw new Error("bad codepoint "+ke);ue+=4}}return ue}function s(le,ue,ve){var Ke=typeof le;if(Ke==="string"){var ke=a(le);if(32>ke)return ue.setUint8(ve,160|ke),n(ue,ve+1,le),1+ke;if(256>ke)return ue.setUint8(ve,217),ue.setUint8(ve+1,ke),n(ue,ve+2,le),2+ke;if(65536>ke)return ue.setUint8(ve,218),ue.setUint16(ve+1,ke),n(ue,ve+3,le),3+ke;if(4294967296>ke)return ue.setUint8(ve,219),ue.setUint32(ve+1,ke),n(ue,ve+5,le),5+ke}if(le instanceof Uint8Array){var ke=le.byteLength,rt=new Uint8Array(ue.buffer);if(256>ke)return ue.setUint8(ve,196),ue.setUint8(ve+1,ke),rt.set(le,ve+2),2+ke;if(65536>ke)return ue.setUint8(ve,197),ue.setUint16(ve+1,ke),rt.set(le,ve+3),3+ke;if(4294967296>ke)return ue.setUint8(ve,198),ue.setUint32(ve+1,ke),rt.set(le,ve+5),5+ke}if(Ke==="number"){if(!isFinite(le))throw new Error("Number not finite: "+le);if(Math.floor(le)!==le)return ue.setUint8(ve,203),ue.setFloat64(ve+1,le),9;if(le>=0){if(128>le)return ue.setUint8(ve,le),1;if(256>le)return ue.setUint8(ve,204),ue.setUint8(ve+1,le),2;if(65536>le)return ue.setUint8(ve,205),ue.setUint16(ve+1,le),3;if(4294967296>le)return ue.setUint8(ve,206),ue.setUint32(ve+1,le),5;throw new Error("Number too big 0x"+le.toString(16))}if(le>=-32)return ue.setInt8(ve,le),1;if(le>=-128)return ue.setUint8(ve,208),ue.setInt8(ve+1,le),2;if(le>=-32768)return ue.setUint8(ve,209),ue.setInt16(ve+1,le),3;if(le>=-2147483648)return ue.setUint8(ve,210),ue.setInt32(ve+1,le),5;throw new Error("Number too small -0x"+(-le).toString(16).substr(1))}if(le===null)return ue.setUint8(ve,192),1;if(Ke==="boolean")return ue.setUint8(ve,le?195:194),1;if(Ke==="object"){var ke,Ue=0,st=Array.isArray(le);if(st)ke=le.length;else{var ae=Object.keys(le);ke=ae.length}var Ue;if(16>ke?(ue.setUint8(ve,ke|(st?144:128)),Ue=1):65536>ke?(ue.setUint8(ve,st?220:222),ue.setUint16(ve+1,ke),Ue=3):4294967296>ke&&(ue.setUint8(ve,st?221:223),ue.setUint32(ve+1,ke),Ue=5),st)for(var Je=0;ke>Je;Je++)Ue+=s(le[Je],ue,ve+Ue);else for(var Je=0;ke>Je;Je++){var ct=ae[Je];Ue+=s(ct,ue,ve+Ue),Ue+=s(le[ct],ue,ve+Ue)}return Ue}throw new Error("Unknown type "+Ke)}function o(le){var ue=typeof le;if(ue==="string"){var ve=a(le);if(32>ve)return 1+ve;if(256>ve)return 2+ve;if(65536>ve)return 3+ve;if(4294967296>ve)return 5+ve}if(le instanceof Uint8Array){var ve=le.byteLength;if(256>ve)return 2+ve;if(65536>ve)return 3+ve;if(4294967296>ve)return 5+ve}if(ue==="number"){if(Math.floor(le)!==le)return 9;if(le>=0){if(128>le)return 1;if(256>le)return 2;if(65536>le)return 3;if(4294967296>le)return 5;throw new Error("Number too big 0x"+le.toString(16))}if(le>=-32)return 1;if(le>=-128)return 2;if(le>=-32768)return 3;if(le>=-2147483648)return 5;throw new Error("Number too small -0x"+le.toString(16).substr(1))}if(ue==="boolean"||le===null)return 1;if(ue==="object"){var ve,Ke=0;if(Array.isArray(le)){ve=le.length;for(var ke=0;ve>ke;ke++)Ke+=o(le[ke])}else{var rt=Object.keys(le);ve=rt.length;for(var ke=0;ve>ke;ke++){var st=rt[ke];Ke+=o(st)+o(le[st])}}if(16>ve)return 1+Ke;if(65536>ve)return 3+Ke;if(4294967296>ve)return 5+Ke;throw new Error("Array or object too long 0x"+ve.toString(16))}throw new Error("Unknown type "+ue)}function l(le){var ue=new ArrayBuffer(o(le)),ve=new DataView(ue);return s(le,ve,0),new Uint8Array(ue)}function u(le,ue,ve){return ue?new le(ue.buffer,ue.byteOffset,ue.byteLength/(ve||1)):void 0}function v(le){return u(DataView,le)}function g(le){return u(Uint8Array,le)}function _(le){return u(Int8Array,le)}function y(le){return u(Int32Array,le,4)}function w(le){return u(Float32Array,le,4)}function x(le,ue){var ve=le.length/2;ue||(ue=new Int16Array(ve));for(var Ke=0,ke=0;ve>Ke;++Ke,ke+=2)ue[Ke]=le[ke]<<8^le[ke+1]<<0;return ue}function f(le,ue){var ve=le.length;ue||(ue=new Uint8Array(2*ve));for(var Ke=v(ue),ke=0;ve>ke;++ke)Ke.setInt16(2*ke,le[ke]);return g(ue)}function b(le,ue){var ve=le.length/4;ue||(ue=new Int32Array(ve));for(var Ke=0,ke=0;ve>Ke;++Ke,ke+=4)ue[Ke]=le[ke]<<24^le[ke+1]<<16^le[ke+2]<<8^le[ke+3]<<0;return ue}function h(le,ue){var ve=le.length;ue||(ue=new Uint8Array(4*ve));for(var Ke=v(ue),ke=0;ve>ke;++ke)Ke.setInt32(4*ke,le[ke]);return g(ue)}function S(le,ue){var ve=le.length;ue||(ue=new Float32Array(ve/4));for(var Ke=v(ue),ke=v(le),rt=0,st=0,ae=ve/4;ae>rt;++rt,st+=4)Ke.setFloat32(st,ke.getFloat32(st),!0);return ue}function C(le,ue,ve){var Ke=le.length,ke=1/ue;ve||(ve=new Float32Array(Ke));for(var rt=0;Ke>rt;++rt)ve[rt]=le[rt]*ke;return ve}function M(le,ue,ve){var Ke=le.length;ve||(ve=new Int32Array(Ke));for(var ke=0;Ke>ke;++ke)ve[ke]=Math.round(le[ke]*ue);return ve}function p(le,ue){var ve,Ke;if(!ue){var ke=0;for(ve=0,Ke=le.length;Ke>ve;ve+=2)ke+=le[ve+1];ue=new le.constructor(ke)}var rt=0;for(ve=0,Ke=le.length;Ke>ve;ve+=2)for(var st=le[ve],ae=le[ve+1],Ue=0;ae>Ue;++Ue)ue[rt]=st,++rt;return ue}function c(le){if(le.length===0)return new Int32Array;var ue,ve,Ke=2;for(ue=1,ve=le.length;ve>ue;++ue)le[ue-1]!==le[ue]&&(Ke+=2);var ke=new Int32Array(Ke),rt=0,st=1;for(ue=1,ve=le.length;ve>ue;++ue)le[ue-1]!==le[ue]?(ke[rt]=le[ue-1],ke[rt+1]=st,st=1,rt+=2):++st;return ke[rt]=le[le.length-1],ke[rt+1]=st,ke}function E(le,ue){var ve=le.length;ue||(ue=new le.constructor(ve)),ve&&(ue[0]=le[0]);for(var Ke=1;ve>Ke;++Ke)ue[Ke]=le[Ke]+ue[Ke-1];return ue}function D(le,ue){var ve=le.length;ue||(ue=new le.constructor(ve)),ue[0]=le[0];for(var Ke=1;ve>Ke;++Ke)ue[Ke]=le[Ke]-le[Ke-1];return ue}function I(le,ue){var ve,Ke,ke=le instanceof Int8Array?127:32767,rt=-ke-1,st=le.length;if(!ue){var ae=0;for(ve=0;st>ve;++ve)le[ve]<ke&&le[ve]>rt&&++ae;ue=new Int32Array(ae)}for(ve=0,Ke=0;st>ve;){for(var Ue=0;le[ve]===ke||le[ve]===rt;)Ue+=le[ve],++ve;Ue+=le[ve],++ve,ue[Ke]=Ue,++Ke}return ue}function O(le,ue){var ve,Ke=ue?127:32767,ke=-Ke-1,rt=le.length,st=0;for(ve=0;rt>ve;++ve){var ae=le[ve];ae===0?++st:ae>0?(st+=Math.ceil(ae/Ke),ae%Ke===0&&(st+=1)):(st+=Math.ceil(ae/ke),ae%ke===0&&(st+=1))}var Ue=ue?new Int8Array(st):new Int16Array(st),Je=0;for(ve=0;rt>ve;++ve){var ae=le[ve];if(ae>=0)for(;ae>=Ke;)Ue[Je]=Ke,++Je,ae-=Ke;else for(;ke>=ae;)Ue[Je]=ke,++Je,ae-=ke;Ue[Je]=ae,++Je}return Ue}function P(le,ue){return E(p(le),ue)}function k(le){return c(D(le))}function B(le,ue,ve){return C(p(le,y(ve)),ue,ve)}function G(le,ue){return c(M(le,ue))}function K(le,ue,ve){return C(E(le,y(ve)),ue,ve)}function q(le,ue,ve){return D(M(le,ue),ve)}function H(le,ue,ve){return C(I(le,y(ve)),ue,ve)}function $(le,ue,ve){var Ke=I(le,y(ve));return K(Ke,ue,w(Ke))}function W(le,ue,ve){return O(q(le,ue),ve)}function V(rt){var ue=v(rt),ve=ue.getInt32(0),Ke=ue.getInt32(4),ke=rt.subarray(8,12),rt=rt.subarray(12);return[ve,rt,Ke,ke]}function Z(le,ue,ve,Ke){var ke=new ArrayBuffer(12+Ke.byteLength),rt=new Uint8Array(ke),st=new DataView(ke);return st.setInt32(0,le),st.setInt32(4,ue),ve&&rt.set(ve,8),rt.set(Ke,12),rt}function Q(le){var ue=le.length,ve=g(le);return Z(2,ue,void 0,ve)}function ie(le){var ue=le.length,ve=h(le);return Z(4,ue,void 0,ve)}function Ce(le,ue){var ve=le.length/ue,Ke=h([ue]),ke=g(le);return Z(5,ve,Ke,ke)}function De(le){var ue=le.length,ve=h(c(le));return Z(6,ue,void 0,ve)}function Me(le){var ue=le.length,ve=h(k(le));return Z(8,ue,void 0,ve)}function Ne(le,ue){var ve=le.length,Ke=h([ue]),ke=h(G(le,ue));return Z(9,ve,Ke,ke)}function Te(le,ue){var ve=le.length,Ke=h([ue]),ke=f(W(le,ue));return Z(10,ve,Ke,ke)}function be(le){var ue={};return _e.forEach(function(ve){le[ve]!==void 0&&(ue[ve]=le[ve])}),le.bondAtomList&&(ue.bondAtomList=ie(le.bondAtomList)),le.bondOrderList&&(ue.bondOrderList=Q(le.bondOrderList)),ue.xCoordList=Te(le.xCoordList,1e3),ue.yCoordList=Te(le.yCoordList,1e3),ue.zCoordList=Te(le.zCoordList,1e3),le.bFactorList&&(ue.bFactorList=Te(le.bFactorList,100)),le.atomIdList&&(ue.atomIdList=Me(le.atomIdList)),le.altLocList&&(ue.altLocList=De(le.altLocList)),le.occupancyList&&(ue.occupancyList=Ne(le.occupancyList,100)),ue.groupIdList=Me(le.groupIdList),ue.groupTypeList=ie(le.groupTypeList),le.secStructList&&(ue.secStructList=Q(le.secStructList)),le.insCodeList&&(ue.insCodeList=De(le.insCodeList)),le.sequenceIndexList&&(ue.sequenceIndexList=Me(le.sequenceIndexList)),ue.chainIdList=Ce(le.chainIdList,4),le.chainNameList&&(ue.chainNameList=Ce(le.chainNameList,4)),ue}function Xe(le){function ue(Ue){for(var Je={},ct=0;Ue>ct;ct++){var Le=rt();Je[Le]=rt()}return Je}function ve(Ue){var Je=le.subarray(st,st+Ue);return st+=Ue,Je}function Ke(Ue){var Je=le.subarray(st,st+Ue);st+=Ue;var ct=65535;if(Ue>ct){for(var Le=[],ot=0;ot<Je.length;ot+=ct)Le.push(String.fromCharCode.apply(null,Je.subarray(ot,ot+ct)));return Le.join("")}return String.fromCharCode.apply(null,Je)}function ke(Ue){for(var Je=new Array(Ue),ct=0;Ue>ct;ct++)Je[ct]=rt();return Je}function rt(){var Ue,Je,ct=le[st];if(!(128&ct))return st++,ct;if((240&ct)===128)return Je=15&ct,st++,ue(Je);if((240&ct)===144)return Je=15&ct,st++,ke(Je);if((224&ct)===160)return Je=31&ct,st++,Ke(Je);if((224&ct)===224)return Ue=ae.getInt8(st),st++,Ue;switch(ct){case 192:return st++,null;case 194:return st++,!1;case 195:return st++,!0;case 196:return Je=ae.getUint8(st+1),st+=2,ve(Je);case 197:return Je=ae.getUint16(st+1),st+=3,ve(Je);case 198:return Je=ae.getUint32(st+1),st+=5,ve(Je);case 202:return Ue=ae.getFloat32(st+1),st+=5,Ue;case 203:return Ue=ae.getFloat64(st+1),st+=9,Ue;case 204:return Ue=le[st+1],st+=2,Ue;case 205:return Ue=ae.getUint16(st+1),st+=3,Ue;case 206:return Ue=ae.getUint32(st+1),st+=5,Ue;case 208:return Ue=ae.getInt8(st+1),st+=2,Ue;case 209:return Ue=ae.getInt16(st+1),st+=3,Ue;case 210:return Ue=ae.getInt32(st+1),st+=5,Ue;case 217:return Je=ae.getUint8(st+1),st+=2,Ke(Je);case 218:return Je=ae.getUint16(st+1),st+=3,Ke(Je);case 219:return Je=ae.getUint32(st+1),st+=5,Ke(Je);case 220:return Je=ae.getUint16(st+1),st+=3,ke(Je);case 221:return Je=ae.getUint32(st+1),st+=5,ke(Je);case 222:return Je=ae.getUint16(st+1),st+=3,ue(Je);case 223:return Je=ae.getUint32(st+1),st+=5,ue(Je)}throw new Error("Unknown type 0x"+ct.toString(16))}var st=0,ae=new DataView(le.buffer);return rt()}function $e(le,ue,ve,Ke){switch(le){case 1:return S(ue);case 2:return _(ue);case 3:return x(ue);case 4:return b(ue);case 5:return g(ue);case 6:return p(b(ue),new Uint8Array(ve));case 7:return p(b(ue));case 8:return P(b(ue));case 9:return B(b(ue),b(Ke)[0]);case 10:return $(x(ue),b(Ke)[0]);case 11:return C(x(ue),b(Ke)[0]);case 12:return H(x(ue),b(Ke)[0]);case 13:return H(_(ue),b(Ke)[0]);case 14:return I(x(ue));case 15:return I(_(ue))}}function R(le,ue){ue=ue||{};var ve=ue.ignoreFields,Ke={};return Ge.forEach(function(ke){var rt=ve?ve.indexOf(ke)!==-1:!1,st=le[ke];rt||st===void 0||(st instanceof Uint8Array?Ke[ke]=$e.apply(null,V(st)):Ke[ke]=st)}),Ke}function me(le){return String.fromCharCode.apply(null,le).replace(/\0/g,"")}function ge(le,ue,ve){ve=ve||{};var Ke,ke,rt,st,ae,Ue,Je=ve.firstModelOnly,ct=ue.onModel,Le=ue.onChain,ot=ue.onGroup,oe=ue.onAtom,ut=ue.onBond,At=0,j=0,Ye=0,qe=0,ce=0,ze=-1,et=le.chainNameList,Lt=le.secStructList,yt=le.insCodeList,nt=le.sequenceIndexList,qt=le.atomIdList,en=le.bFactorList,jt=le.altLocList,Jt=le.occupancyList,Ot=le.bondAtomList,yr=le.bondOrderList;for(Ke=0,ke=le.chainsPerModel.length;ke>Ke&&!(Je&&At>0);++Ke){var mr=le.chainsPerModel[At];for(ct&&ct({chainCount:mr,modelIndex:At}),rt=0;mr>rt;++rt){var Fr=le.groupsPerChain[j];if(Le){var tn=me(le.chainIdList.subarray(4*j,4*j+4)),fr=null;et&&(fr=me(et.subarray(4*j,4*j+4))),Le({groupCount:Fr,chainIndex:j,modelIndex:At,chainId:tn,chainName:fr})}for(st=0;Fr>st;++st){var Zt=le.groupList[le.groupTypeList[Ye]],nr=Zt.atomNameList.length;if(ot){var Br=null;Lt&&(Br=Lt[Ye]);var Wr=null;le.insCodeList&&(Wr=String.fromCharCode(yt[Ye]));var yi=null;nt&&(yi=nt[Ye]),ot({atomCount:nr,groupIndex:Ye,chainIndex:j,modelIndex:At,groupId:le.groupIdList[Ye],groupType:le.groupTypeList[Ye],groupName:Zt.groupName,singleLetterCode:Zt.singleLetterCode,chemCompType:Zt.chemCompType,secStruct:Br,insCode:Wr,sequenceIndex:yi})}for(ae=0;nr>ae;++ae){if(oe){var ws=null;qt&&(ws=qt[qe]);var ba=null;en&&(ba=en[qe]);var Ar=null;jt&&(Ar=String.fromCharCode(jt[qe]));var ea=null;Jt&&(ea=Jt[qe]),oe({atomIndex:qe,groupIndex:Ye,chainIndex:j,modelIndex:At,atomId:ws,element:Zt.elementList[ae],atomName:Zt.atomNameList[ae],formalCharge:Zt.formalChargeList[ae],xCoord:le.xCoordList[qe],yCoord:le.yCoordList[qe],zCoord:le.zCoordList[qe],bFactor:ba,altLoc:Ar,occupancy:ea})}qe+=1}if(ut){var Ss=Zt.bondAtomList;for(ae=0,Ue=Zt.bondOrderList.length;Ue>ae;++ae)ut({atomIndex1:qe-nr+Ss[2*ae],atomIndex2:qe-nr+Ss[2*ae+1],bondOrder:Zt.bondOrderList[ae]})}Ye+=1}j+=1}if(ce=ze+1,ze=qe-1,ut&&Ot)for(ae=0,Ue=Ot.length;Ue>ae;ae+=2){var ya=Ot[ae],Za=Ot[ae+1];(ya>=ce&&ze>=ya||Za>=ce&&ze>=Za)&&ut({atomIndex1:ya,atomIndex2:Za,bondOrder:yr?yr[ae/2]:null})}At+=1}}function ne(le){return l(be(le))}function fe(le,ue){le instanceof ArrayBuffer&&(le=new Uint8Array(le));var ve;return ve=le instanceof Uint8Array?Xe(le):le,R(ve,ue)}function ye(le,ue,ve,Ke){function ke(){try{var st=fe(rt.response);ve(st)}catch(ae){Ke(ae)}}var rt=new XMLHttpRequest;rt.addEventListener("load",ke,!0),rt.addEventListener("error",Ke,!0),rt.responseType="arraybuffer",rt.open("GET",ue+le.toUpperCase()),rt.send()}function He(le,ue,ve){ye(le,vt,ue,ve)}function Be(le,ue,ve){ye(le,_t,ue,ve)}var _e=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],Fe=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],Ge=_e.concat(Fe),Ve="v1.0.1",Pe="//mmtf.rcsb.org/v1.0/",vt=Pe+"full/",_t=Pe+"reduced/";r.encode=ne,r.decode=fe,r.traverse=ge,r.fetch=He,r.fetchReduced=Be,r.version=Ve,r.fetchUrl=vt,r.fetchReducedUrl=_t,r.encodeMsgpack=l,r.encodeMmtf=be,r.decodeMsgpack=Xe,r.decodeMmtf=R})},"./node_modules/pako/dist/pako.esm.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Deflate:()=>Ph,Inflate:()=>zh,constants:()=>cl,default:()=>Bh,deflate:()=>Nh,deflateRaw:()=>Ih,gzip:()=>Et,inflate:()=>Fh,inflateRaw:()=>hd,ungzip:()=>xr});let n=4,a=0,s=1,o=2;function l(L){let re=L.length;for(;--re>=0;)L[re]=0}let u=0,v=1,g=2,_=3,y=258,w=29,x=256,f=x+1+w,b=30,h=19,S=2*f+1,C=15,M=16,p=7,c=256,E=16,D=17,I=18,O=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),P=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),k=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G=512,K=new Array((f+2)*2);l(K);let q=new Array(b*2);l(q);let H=new Array(G);l(H);let $=new Array(y-_+1);l($);let W=new Array(w);l(W);let V=new Array(b);l(V);function Z(L,re,F,pe,Ee){this.static_tree=L,this.extra_bits=re,this.extra_base=F,this.elems=pe,this.max_length=Ee,this.has_stree=L&&L.length}let Q,ie,Ce;function De(L,re){this.dyn_tree=L,this.max_code=0,this.stat_desc=re}let Me=L=>L<256?H[L]:H[256+(L>>>7)],Ne=(L,re)=>{L.pending_buf[L.pending++]=re&255,L.pending_buf[L.pending++]=re>>>8&255},Te=(L,re,F)=>{L.bi_valid>M-F?(L.bi_buf|=re<<L.bi_valid&65535,Ne(L,L.bi_buf),L.bi_buf=re>>M-L.bi_valid,L.bi_valid+=F-M):(L.bi_buf|=re<<L.bi_valid&65535,L.bi_valid+=F)},be=(L,re,F)=>{Te(L,F[re*2],F[re*2+1])},Xe=(L,re)=>{let F=0;do F|=L&1,L>>>=1,F<<=1;while(--re>0);return F>>>1},$e=L=>{L.bi_valid===16?(Ne(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=L.bi_buf&255,L.bi_buf>>=8,L.bi_valid-=8)},R=(L,re)=>{let F=re.dyn_tree,pe=re.max_code,Ee=re.stat_desc.static_tree,Se=re.stat_desc.has_stree,at=re.stat_desc.extra_bits,Qe=re.stat_desc.extra_base,zt=re.stat_desc.max_length,je,lt,wr,It,St,Yt,Kr=0;for(It=0;It<=C;It++)L.bl_count[It]=0;for(F[L.heap[L.heap_max]*2+1]=0,je=L.heap_max+1;je<S;je++)lt=L.heap[je],It=F[F[lt*2+1]*2+1]+1,It>zt&&(It=zt,Kr++),F[lt*2+1]=It,!(lt>pe)&&(L.bl_count[It]++,St=0,lt>=Qe&&(St=at[lt-Qe]),Yt=F[lt*2],L.opt_len+=Yt*(It+St),Se&&(L.static_len+=Yt*(Ee[lt*2+1]+St)));if(Kr!==0){do{for(It=zt-1;L.bl_count[It]===0;)It--;L.bl_count[It]--,L.bl_count[It+1]+=2,L.bl_count[zt]--,Kr-=2}while(Kr>0);for(It=zt;It!==0;It--)for(lt=L.bl_count[It];lt!==0;)wr=L.heap[--je],!(wr>pe)&&(F[wr*2+1]!==It&&(L.opt_len+=(It-F[wr*2+1])*F[wr*2],F[wr*2+1]=It),lt--)}},me=(L,re,F)=>{let pe=new Array(C+1),Ee=0,Se,at;for(Se=1;Se<=C;Se++)Ee=Ee+F[Se-1]<<1,pe[Se]=Ee;for(at=0;at<=re;at++){let Qe=L[at*2+1];Qe!==0&&(L[at*2]=Xe(pe[Qe]++,Qe))}},ge=()=>{let L,re,F,pe,Ee,Se=new Array(C+1);for(F=0,pe=0;pe<w-1;pe++)for(W[pe]=F,L=0;L<1<<O[pe];L++)$[F++]=pe;for($[F-1]=pe,Ee=0,pe=0;pe<16;pe++)for(V[pe]=Ee,L=0;L<1<<P[pe];L++)H[Ee++]=pe;for(Ee>>=7;pe<b;pe++)for(V[pe]=Ee<<7,L=0;L<1<<P[pe]-7;L++)H[256+Ee++]=pe;for(re=0;re<=C;re++)Se[re]=0;for(L=0;L<=143;)K[L*2+1]=8,L++,Se[8]++;for(;L<=255;)K[L*2+1]=9,L++,Se[9]++;for(;L<=279;)K[L*2+1]=7,L++,Se[7]++;for(;L<=287;)K[L*2+1]=8,L++,Se[8]++;for(me(K,f+1,Se),L=0;L<b;L++)q[L*2+1]=5,q[L*2]=Xe(L,5);Q=new Z(K,O,x+1,f,C),ie=new Z(q,P,0,b,C),Ce=new Z(new Array(0),k,0,h,p)},ne=L=>{let re;for(re=0;re<f;re++)L.dyn_ltree[re*2]=0;for(re=0;re<b;re++)L.dyn_dtree[re*2]=0;for(re=0;re<h;re++)L.bl_tree[re*2]=0;L.dyn_ltree[c*2]=1,L.opt_len=L.static_len=0,L.sym_next=L.matches=0},fe=L=>{L.bi_valid>8?Ne(L,L.bi_buf):L.bi_valid>0&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0},ye=(L,re,F,pe)=>{let Ee=re*2,Se=F*2;return L[Ee]<L[Se]||L[Ee]===L[Se]&&pe[re]<=pe[F]},He=(L,re,F)=>{let pe=L.heap[F],Ee=F<<1;for(;Ee<=L.heap_len&&(Ee<L.heap_len&&ye(re,L.heap[Ee+1],L.heap[Ee],L.depth)&&Ee++,!ye(re,pe,L.heap[Ee],L.depth));)L.heap[F]=L.heap[Ee],F=Ee,Ee<<=1;L.heap[F]=pe},Be=(L,re,F)=>{let pe,Ee,Se=0,at,Qe;if(L.sym_next!==0)do pe=L.pending_buf[L.sym_buf+Se++]&255,pe+=(L.pending_buf[L.sym_buf+Se++]&255)<<8,Ee=L.pending_buf[L.sym_buf+Se++],pe===0?be(L,Ee,re):(at=$[Ee],be(L,at+x+1,re),Qe=O[at],Qe!==0&&(Ee-=W[at],Te(L,Ee,Qe)),pe--,at=Me(pe),be(L,at,F),Qe=P[at],Qe!==0&&(pe-=V[at],Te(L,pe,Qe)));while(Se<L.sym_next);be(L,c,re)},_e=(L,re)=>{let F=re.dyn_tree,pe=re.stat_desc.static_tree,Ee=re.stat_desc.has_stree,Se=re.stat_desc.elems,at,Qe,zt=-1,je;for(L.heap_len=0,L.heap_max=S,at=0;at<Se;at++)F[at*2]!==0?(L.heap[++L.heap_len]=zt=at,L.depth[at]=0):F[at*2+1]=0;for(;L.heap_len<2;)je=L.heap[++L.heap_len]=zt<2?++zt:0,F[je*2]=1,L.depth[je]=0,L.opt_len--,Ee&&(L.static_len-=pe[je*2+1]);for(re.max_code=zt,at=L.heap_len>>1;at>=1;at--)He(L,F,at);je=Se;do at=L.heap[1],L.heap[1]=L.heap[L.heap_len--],He(L,F,1),Qe=L.heap[1],L.heap[--L.heap_max]=at,L.heap[--L.heap_max]=Qe,F[je*2]=F[at*2]+F[Qe*2],L.depth[je]=(L.depth[at]>=L.depth[Qe]?L.depth[at]:L.depth[Qe])+1,F[at*2+1]=F[Qe*2+1]=je,L.heap[1]=je++,He(L,F,1);while(L.heap_len>=2);L.heap[--L.heap_max]=L.heap[1],R(L,re),me(F,zt,L.bl_count)},Fe=(L,re,F)=>{let pe,Ee=-1,Se,at=re[0*2+1],Qe=0,zt=7,je=4;for(at===0&&(zt=138,je=3),re[(F+1)*2+1]=65535,pe=0;pe<=F;pe++)Se=at,at=re[(pe+1)*2+1],!(++Qe<zt&&Se===at)&&(Qe<je?L.bl_tree[Se*2]+=Qe:Se!==0?(Se!==Ee&&L.bl_tree[Se*2]++,L.bl_tree[E*2]++):Qe<=10?L.bl_tree[D*2]++:L.bl_tree[I*2]++,Qe=0,Ee=Se,at===0?(zt=138,je=3):Se===at?(zt=6,je=3):(zt=7,je=4))},Ge=(L,re,F)=>{let pe,Ee=-1,Se,at=re[0*2+1],Qe=0,zt=7,je=4;for(at===0&&(zt=138,je=3),pe=0;pe<=F;pe++)if(Se=at,at=re[(pe+1)*2+1],!(++Qe<zt&&Se===at)){if(Qe<je)do be(L,Se,L.bl_tree);while(--Qe!==0);else Se!==0?(Se!==Ee&&(be(L,Se,L.bl_tree),Qe--),be(L,E,L.bl_tree),Te(L,Qe-3,2)):Qe<=10?(be(L,D,L.bl_tree),Te(L,Qe-3,3)):(be(L,I,L.bl_tree),Te(L,Qe-11,7));Qe=0,Ee=Se,at===0?(zt=138,je=3):Se===at?(zt=6,je=3):(zt=7,je=4)}},Ve=L=>{let re;for(Fe(L,L.dyn_ltree,L.l_desc.max_code),Fe(L,L.dyn_dtree,L.d_desc.max_code),_e(L,L.bl_desc),re=h-1;re>=3&&L.bl_tree[B[re]*2+1]===0;re--);return L.opt_len+=3*(re+1)+5+5+4,re},Pe=(L,re,F,pe)=>{let Ee;for(Te(L,re-257,5),Te(L,F-1,5),Te(L,pe-4,4),Ee=0;Ee<pe;Ee++)Te(L,L.bl_tree[B[Ee]*2+1],3);Ge(L,L.dyn_ltree,re-1),Ge(L,L.dyn_dtree,F-1)},vt=L=>{let re=4093624447,F;for(F=0;F<=31;F++,re>>>=1)if(re&1&&L.dyn_ltree[F*2]!==0)return a;if(L.dyn_ltree[9*2]!==0||L.dyn_ltree[10*2]!==0||L.dyn_ltree[13*2]!==0)return s;for(F=32;F<x;F++)if(L.dyn_ltree[F*2]!==0)return s;return a},_t=!1,le=L=>{_t||(ge(),_t=!0),L.l_desc=new De(L.dyn_ltree,Q),L.d_desc=new De(L.dyn_dtree,ie),L.bl_desc=new De(L.bl_tree,Ce),L.bi_buf=0,L.bi_valid=0,ne(L)},ue=(L,re,F,pe)=>{Te(L,(u<<1)+(pe?1:0),3),fe(L),Ne(L,F),Ne(L,~F),F&&L.pending_buf.set(L.window.subarray(re,re+F),L.pending),L.pending+=F},ve=L=>{Te(L,v<<1,3),be(L,c,K),$e(L)},Ke=(L,re,F,pe)=>{let Ee,Se,at=0;L.level>0?(L.strm.data_type===o&&(L.strm.data_type=vt(L)),_e(L,L.l_desc),_e(L,L.d_desc),at=Ve(L),Ee=L.opt_len+3+7>>>3,Se=L.static_len+3+7>>>3,Se<=Ee&&(Ee=Se)):Ee=Se=F+5,F+4<=Ee&&re!==-1?ue(L,re,F,pe):L.strategy===n||Se===Ee?(Te(L,(v<<1)+(pe?1:0),3),Be(L,K,q)):(Te(L,(g<<1)+(pe?1:0),3),Pe(L,L.l_desc.max_code+1,L.d_desc.max_code+1,at+1),Be(L,L.dyn_ltree,L.dyn_dtree)),ne(L),pe&&fe(L)},ke=(L,re,F)=>(L.pending_buf[L.sym_buf+L.sym_next++]=re,L.pending_buf[L.sym_buf+L.sym_next++]=re>>8,L.pending_buf[L.sym_buf+L.sym_next++]=F,re===0?L.dyn_ltree[F*2]++:(L.matches++,re--,L.dyn_ltree[($[F]+x+1)*2]++,L.dyn_dtree[Me(re)*2]++),L.sym_next===L.sym_end);var rt=le,st=ue,ae=Ke,Ue=ke,Je=ve,ct={_tr_init:rt,_tr_stored_block:st,_tr_flush_block:ae,_tr_tally:Ue,_tr_align:Je},ot=(L,re,F,pe)=>{let Ee=L&65535|0,Se=L>>>16&65535|0,at=0;for(;F!==0;){at=F>2e3?2e3:F,F-=at;do Ee=Ee+re[pe++]|0,Se=Se+Ee|0;while(--at);Ee%=65521,Se%=65521}return Ee|Se<<16|0};let oe=()=>{let L,re=[];for(var F=0;F<256;F++){L=F;for(var pe=0;pe<8;pe++)L=L&1?3988292384^L>>>1:L>>>1;re[F]=L}return re},ut=new Uint32Array(oe());var j=(L,re,F,pe)=>{let Ee=ut,Se=pe+F;L^=-1;for(let at=pe;at<Se;at++)L=L>>>8^Ee[(L^re[at])&255];return L^-1},Ye={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:ce,_tr_stored_block:ze,_tr_flush_block:et,_tr_tally:Lt,_tr_align:yt}=ct,{Z_NO_FLUSH:nt,Z_PARTIAL_FLUSH:qt,Z_FULL_FLUSH:en,Z_FINISH:jt,Z_BLOCK:Jt,Z_OK:Ot,Z_STREAM_END:yr,Z_STREAM_ERROR:mr,Z_DATA_ERROR:Fr,Z_BUF_ERROR:tn,Z_DEFAULT_COMPRESSION:fr,Z_FILTERED:Zt,Z_HUFFMAN_ONLY:nr,Z_RLE:Br,Z_FIXED:Wr,Z_DEFAULT_STRATEGY:yi,Z_UNKNOWN:ws,Z_DEFLATED:ba}=qe,Ar=9,ea=15,Ss=8,ya=29,qo=256+1+ya,Jo=30,Kf=19,Zf=2*qo+1,hu=15,ar=3,si=258,Kn=si+ar+1,Tn=32,oi=42,Xa=57,ao=69,xa=73,$a=91,so=103,xi=113,wi=666,un=1,wa=2,Yr=3,Cn=4,Cs=3,Sa=(L,re)=>(L.msg=Ye[re],re),pu=L=>L*2-(L>4?9:0),Ln=L=>{let re=L.length;for(;--re>=0;)L[re]=0},Ca=L=>{let re,F,pe,Ee=L.w_size;re=L.hash_size,pe=re;do F=L.head[--pe],L.head[pe]=F>=Ee?F-Ee:0;while(--re);re=Ee,pe=re;do F=L.prev[--pe],L.prev[pe]=F>=Ee?F-Ee:0;while(--re)},ta=(L,re,F)=>(re<<L.hash_shift^F)&L.hash_mask,hn=L=>{let re=L.state,F=re.pending;F>L.avail_out&&(F=L.avail_out),F!==0&&(L.output.set(re.pending_buf.subarray(re.pending_out,re.pending_out+F),L.next_out),L.next_out+=F,re.pending_out+=F,L.total_out+=F,L.avail_out-=F,re.pending-=F,re.pending===0&&(re.pending_out=0))},_n=(L,re)=>{et(L,L.block_start>=0?L.block_start:-1,L.strstart-L.block_start,re),L.block_start=L.strstart,hn(L.strm)},cr=(L,re)=>{L.pending_buf[L.pending++]=re},Ea=(L,re)=>{L.pending_buf[L.pending++]=re>>>8&255,L.pending_buf[L.pending++]=re&255},oo=(L,re,F,pe)=>{let Ee=L.avail_in;return Ee>pe&&(Ee=pe),Ee===0?0:(L.avail_in-=Ee,re.set(L.input.subarray(L.next_in,L.next_in+Ee),F),L.state.wrap===1?L.adler=ot(L.adler,re,Ee,F):L.state.wrap===2&&(L.adler=j(L.adler,re,Ee,F)),L.next_in+=Ee,L.total_in+=Ee,Ee)},gu=(L,re)=>{let F=L.max_chain_length,pe=L.strstart,Ee,Se,at=L.prev_length,Qe=L.nice_match,zt=L.strstart>L.w_size-Kn?L.strstart-(L.w_size-Kn):0,je=L.window,lt=L.w_mask,wr=L.prev,It=L.strstart+si,St=je[pe+at-1],Yt=je[pe+at];L.prev_length>=L.good_match&&(F>>=2),Qe>L.lookahead&&(Qe=L.lookahead);do if(Ee=re,!(je[Ee+at]!==Yt||je[Ee+at-1]!==St||je[Ee]!==je[pe]||je[++Ee]!==je[pe+1])){pe+=2,Ee++;do;while(je[++pe]===je[++Ee]&&je[++pe]===je[++Ee]&&je[++pe]===je[++Ee]&&je[++pe]===je[++Ee]&&je[++pe]===je[++Ee]&&je[++pe]===je[++Ee]&&je[++pe]===je[++Ee]&&je[++pe]===je[++Ee]&&pe<It);if(Se=si-(It-pe),pe=It-si,Se>at){if(L.match_start=re,at=Se,Se>=Qe)break;St=je[pe+at-1],Yt=je[pe+at]}}while((re=wr[re&lt])>zt&&--F!==0);return at<=L.lookahead?at:L.lookahead},Ma=L=>{let re=L.w_size,F,pe,Ee;do{if(pe=L.window_size-L.lookahead-L.strstart,L.strstart>=re+(re-Kn)&&(L.window.set(L.window.subarray(re,re+re-pe),0),L.match_start-=re,L.strstart-=re,L.block_start-=re,L.insert>L.strstart&&(L.insert=L.strstart),Ca(L),pe+=re),L.strm.avail_in===0)break;if(F=oo(L.strm,L.window,L.strstart+L.lookahead,pe),L.lookahead+=F,L.lookahead+L.insert>=ar)for(Ee=L.strstart-L.insert,L.ins_h=L.window[Ee],L.ins_h=ta(L,L.ins_h,L.window[Ee+1]);L.insert&&(L.ins_h=ta(L,L.ins_h,L.window[Ee+ar-1]),L.prev[Ee&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=Ee,Ee++,L.insert--,!(L.lookahead+L.insert<ar)););}while(L.lookahead<Kn&&L.strm.avail_in!==0)},vu=(L,re)=>{let F=L.pending_buf_size-5>L.w_size?L.w_size:L.pending_buf_size-5,pe,Ee,Se,at=0,Qe=L.strm.avail_in;do{if(pe=65535,Se=L.bi_valid+42>>3,L.strm.avail_out<Se||(Se=L.strm.avail_out-Se,Ee=L.strstart-L.block_start,pe>Ee+L.strm.avail_in&&(pe=Ee+L.strm.avail_in),pe>Se&&(pe=Se),pe<F&&(pe===0&&re!==jt||re===nt||pe!==Ee+L.strm.avail_in)))break;at=re===jt&&pe===Ee+L.strm.avail_in?1:0,ze(L,0,0,at),L.pending_buf[L.pending-4]=pe,L.pending_buf[L.pending-3]=pe>>8,L.pending_buf[L.pending-2]=~pe,L.pending_buf[L.pending-1]=~pe>>8,hn(L.strm),Ee&&(Ee>pe&&(Ee=pe),L.strm.output.set(L.window.subarray(L.block_start,L.block_start+Ee),L.strm.next_out),L.strm.next_out+=Ee,L.strm.avail_out-=Ee,L.strm.total_out+=Ee,L.block_start+=Ee,pe-=Ee),pe&&(oo(L.strm,L.strm.output,L.strm.next_out,pe),L.strm.next_out+=pe,L.strm.avail_out-=pe,L.strm.total_out+=pe)}while(at===0);return Qe-=L.strm.avail_in,Qe&&(Qe>=L.w_size?(L.matches=2,L.window.set(L.strm.input.subarray(L.strm.next_in-L.w_size,L.strm.next_in),0),L.strstart=L.w_size,L.insert=L.strstart):(L.window_size-L.strstart<=Qe&&(L.strstart-=L.w_size,L.window.set(L.window.subarray(L.w_size,L.w_size+L.strstart),0),L.matches<2&&L.matches++,L.insert>L.strstart&&(L.insert=L.strstart)),L.window.set(L.strm.input.subarray(L.strm.next_in-Qe,L.strm.next_in),L.strstart),L.strstart+=Qe,L.insert+=Qe>L.w_size-L.insert?L.w_size-L.insert:Qe),L.block_start=L.strstart),L.high_water<L.strstart&&(L.high_water=L.strstart),at?Cn:re!==nt&&re!==jt&&L.strm.avail_in===0&&L.strstart===L.block_start?wa:(Se=L.window_size-L.strstart,L.strm.avail_in>Se&&L.block_start>=L.w_size&&(L.block_start-=L.w_size,L.strstart-=L.w_size,L.window.set(L.window.subarray(L.w_size,L.w_size+L.strstart),0),L.matches<2&&L.matches++,Se+=L.w_size,L.insert>L.strstart&&(L.insert=L.strstart)),Se>L.strm.avail_in&&(Se=L.strm.avail_in),Se&&(oo(L.strm,L.window,L.strstart,Se),L.strstart+=Se,L.insert+=Se>L.w_size-L.insert?L.w_size-L.insert:Se),L.high_water<L.strstart&&(L.high_water=L.strstart),Se=L.bi_valid+42>>3,Se=L.pending_buf_size-Se>65535?65535:L.pending_buf_size-Se,F=Se>L.w_size?L.w_size:Se,Ee=L.strstart-L.block_start,(Ee>=F||(Ee||re===jt)&&re!==nt&&L.strm.avail_in===0&&Ee<=Se)&&(pe=Ee>Se?Se:Ee,at=re===jt&&L.strm.avail_in===0&&pe===Ee?1:0,ze(L,L.block_start,pe,at),L.block_start+=pe,hn(L.strm)),at?Yr:un)},el=(L,re)=>{let F,pe;for(;;){if(L.lookahead<Kn){if(Ma(L),L.lookahead<Kn&&re===nt)return un;if(L.lookahead===0)break}if(F=0,L.lookahead>=ar&&(L.ins_h=ta(L,L.ins_h,L.window[L.strstart+ar-1]),F=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),F!==0&&L.strstart-F<=L.w_size-Kn&&(L.match_length=gu(L,F)),L.match_length>=ar)if(pe=Lt(L,L.strstart-L.match_start,L.match_length-ar),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=ar){L.match_length--;do L.strstart++,L.ins_h=ta(L,L.ins_h,L.window[L.strstart+ar-1]),F=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart;while(--L.match_length!==0);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=ta(L,L.ins_h,L.window[L.strstart+1]);else pe=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(pe&&(_n(L,!1),L.strm.avail_out===0))return un}return L.insert=L.strstart<ar-1?L.strstart:ar-1,re===jt?(_n(L,!0),L.strm.avail_out===0?Yr:Cn):L.sym_next&&(_n(L,!1),L.strm.avail_out===0)?un:wa},ra=(L,re)=>{let F,pe,Ee;for(;;){if(L.lookahead<Kn){if(Ma(L),L.lookahead<Kn&&re===nt)return un;if(L.lookahead===0)break}if(F=0,L.lookahead>=ar&&(L.ins_h=ta(L,L.ins_h,L.window[L.strstart+ar-1]),F=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=ar-1,F!==0&&L.prev_length<L.max_lazy_match&&L.strstart-F<=L.w_size-Kn&&(L.match_length=gu(L,F),L.match_length<=5&&(L.strategy===Zt||L.match_length===ar&&L.strstart-L.match_start>4096)&&(L.match_length=ar-1)),L.prev_length>=ar&&L.match_length<=L.prev_length){Ee=L.strstart+L.lookahead-ar,pe=Lt(L,L.strstart-1-L.prev_match,L.prev_length-ar),L.lookahead-=L.prev_length-1,L.prev_length-=2;do++L.strstart<=Ee&&(L.ins_h=ta(L,L.ins_h,L.window[L.strstart+ar-1]),F=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart);while(--L.prev_length!==0);if(L.match_available=0,L.match_length=ar-1,L.strstart++,pe&&(_n(L,!1),L.strm.avail_out===0))return un}else if(L.match_available){if(pe=Lt(L,0,L.window[L.strstart-1]),pe&&_n(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return un}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(pe=Lt(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<ar-1?L.strstart:ar-1,re===jt?(_n(L,!0),L.strm.avail_out===0?Yr:Cn):L.sym_next&&(_n(L,!1),L.strm.avail_out===0)?un:wa},Xf=(L,re)=>{let F,pe,Ee,Se,at=L.window;for(;;){if(L.lookahead<=si){if(Ma(L),L.lookahead<=si&&re===nt)return un;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=ar&&L.strstart>0&&(Ee=L.strstart-1,pe=at[Ee],pe===at[++Ee]&&pe===at[++Ee]&&pe===at[++Ee])){Se=L.strstart+si;do;while(pe===at[++Ee]&&pe===at[++Ee]&&pe===at[++Ee]&&pe===at[++Ee]&&pe===at[++Ee]&&pe===at[++Ee]&&pe===at[++Ee]&&pe===at[++Ee]&&Ee<Se);L.match_length=si-(Se-Ee),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=ar?(F=Lt(L,1,L.match_length-ar),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(F=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),F&&(_n(L,!1),L.strm.avail_out===0))return un}return L.insert=0,re===jt?(_n(L,!0),L.strm.avail_out===0?Yr:Cn):L.sym_next&&(_n(L,!1),L.strm.avail_out===0)?un:wa},$f=(L,re)=>{let F;for(;;){if(L.lookahead===0&&(Ma(L),L.lookahead===0)){if(re===nt)return un;break}if(L.match_length=0,F=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,F&&(_n(L,!1),L.strm.avail_out===0))return un}return L.insert=0,re===jt?(_n(L,!0),L.strm.avail_out===0?Yr:Cn):L.sym_next&&(_n(L,!1),L.strm.avail_out===0)?un:wa};function Si(L,re,F,pe,Ee){this.good_length=L,this.max_lazy=re,this.nice_length=F,this.max_chain=pe,this.func=Ee}let Es=[new Si(0,0,0,0,vu),new Si(4,4,8,4,el),new Si(4,5,16,8,el),new Si(4,6,32,32,el),new Si(4,4,16,16,ra),new Si(8,16,32,32,ra),new Si(8,16,128,128,ra),new Si(8,32,128,256,ra),new Si(32,128,258,1024,ra),new Si(32,258,258,4096,ra)],Qf=L=>{L.window_size=2*L.w_size,Ln(L.head),L.max_lazy_match=Es[L.level].max_lazy,L.good_match=Es[L.level].good_length,L.nice_match=Es[L.level].nice_length,L.max_chain_length=Es[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=ar-1,L.match_available=0,L.ins_h=0};function qf(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ba,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Zf*2),this.dyn_dtree=new Uint16Array((2*Jo+1)*2),this.bl_tree=new Uint16Array((2*Kf+1)*2),Ln(this.dyn_ltree),Ln(this.dyn_dtree),Ln(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(hu+1),this.heap=new Uint16Array(2*qo+1),Ln(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*qo+1),Ln(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let Ms=L=>{if(!L)return 1;let re=L.state;return!re||re.strm!==L||re.status!==oi&&re.status!==Xa&&re.status!==ao&&re.status!==xa&&re.status!==$a&&re.status!==so&&re.status!==xi&&re.status!==wi?1:0},tl=L=>{if(Ms(L))return Sa(L,mr);L.total_in=L.total_out=0,L.data_type=ws;let re=L.state;return re.pending=0,re.pending_out=0,re.wrap<0&&(re.wrap=-re.wrap),re.status=re.wrap===2?Xa:re.wrap?oi:xi,L.adler=re.wrap===2?0:1,re.last_flush=-2,ce(re),Ot},lo=L=>{let re=tl(L);return re===Ot&&Qf(L.state),re},uo=(L,re)=>Ms(L)||L.state.wrap!==2?mr:(L.state.gzhead=re,Ot),Qa=(L,re,F,pe,Ee,Se)=>{if(!L)return mr;let at=1;if(re===fr&&(re=6),pe<0?(at=0,pe=-pe):pe>15&&(at=2,pe-=16),Ee<1||Ee>Ar||F!==ba||pe<8||pe>15||re<0||re>9||Se<0||Se>Wr||pe===8&&at!==1)return Sa(L,mr);pe===8&&(pe=9);let Qe=new qf;return L.state=Qe,Qe.strm=L,Qe.status=oi,Qe.wrap=at,Qe.gzhead=null,Qe.w_bits=pe,Qe.w_size=1<<Qe.w_bits,Qe.w_mask=Qe.w_size-1,Qe.hash_bits=Ee+7,Qe.hash_size=1<<Qe.hash_bits,Qe.hash_mask=Qe.hash_size-1,Qe.hash_shift=~~((Qe.hash_bits+ar-1)/ar),Qe.window=new Uint8Array(Qe.w_size*2),Qe.head=new Uint16Array(Qe.hash_size),Qe.prev=new Uint16Array(Qe.w_size),Qe.lit_bufsize=1<<Ee+6,Qe.pending_buf_size=Qe.lit_bufsize*4,Qe.pending_buf=new Uint8Array(Qe.pending_buf_size),Qe.sym_buf=Qe.lit_bufsize,Qe.sym_end=(Qe.lit_bufsize-1)*3,Qe.level=re,Qe.strategy=Se,Qe.method=F,lo(L)},_u=(L,re)=>Qa(L,re,ba,ea,Ss,yi),rl=(L,re)=>{if(Ms(L)||re>Jt||re<0)return L?Sa(L,mr):mr;let F=L.state;if(!L.output||L.avail_in!==0&&!L.input||F.status===wi&&re!==jt)return Sa(L,L.avail_out===0?tn:mr);let pe=F.last_flush;if(F.last_flush=re,F.pending!==0){if(hn(L),L.avail_out===0)return F.last_flush=-1,Ot}else if(L.avail_in===0&&pu(re)<=pu(pe)&&re!==jt)return Sa(L,tn);if(F.status===wi&&L.avail_in!==0)return Sa(L,tn);if(F.status===oi&&F.wrap===0&&(F.status=xi),F.status===oi){let Ee=ba+(F.w_bits-8<<4)<<8,Se=-1;if(F.strategy>=nr||F.level<2?Se=0:F.level<6?Se=1:F.level===6?Se=2:Se=3,Ee|=Se<<6,F.strstart!==0&&(Ee|=Tn),Ee+=31-Ee%31,Ea(F,Ee),F.strstart!==0&&(Ea(F,L.adler>>>16),Ea(F,L.adler&65535)),L.adler=1,F.status=xi,hn(L),F.pending!==0)return F.last_flush=-1,Ot}if(F.status===Xa){if(L.adler=0,cr(F,31),cr(F,139),cr(F,8),F.gzhead)cr(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),cr(F,F.gzhead.time&255),cr(F,F.gzhead.time>>8&255),cr(F,F.gzhead.time>>16&255),cr(F,F.gzhead.time>>24&255),cr(F,F.level===9?2:F.strategy>=nr||F.level<2?4:0),cr(F,F.gzhead.os&255),F.gzhead.extra&&F.gzhead.extra.length&&(cr(F,F.gzhead.extra.length&255),cr(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(L.adler=j(L.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=ao;else if(cr(F,0),cr(F,0),cr(F,0),cr(F,0),cr(F,0),cr(F,F.level===9?2:F.strategy>=nr||F.level<2?4:0),cr(F,Cs),F.status=xi,hn(L),F.pending!==0)return F.last_flush=-1,Ot}if(F.status===ao){if(F.gzhead.extra){let Ee=F.pending,Se=(F.gzhead.extra.length&65535)-F.gzindex;for(;F.pending+Se>F.pending_buf_size;){let Qe=F.pending_buf_size-F.pending;if(F.pending_buf.set(F.gzhead.extra.subarray(F.gzindex,F.gzindex+Qe),F.pending),F.pending=F.pending_buf_size,F.gzhead.hcrc&&F.pending>Ee&&(L.adler=j(L.adler,F.pending_buf,F.pending-Ee,Ee)),F.gzindex+=Qe,hn(L),F.pending!==0)return F.last_flush=-1,Ot;Ee=0,Se-=Qe}let at=new Uint8Array(F.gzhead.extra);F.pending_buf.set(at.subarray(F.gzindex,F.gzindex+Se),F.pending),F.pending+=Se,F.gzhead.hcrc&&F.pending>Ee&&(L.adler=j(L.adler,F.pending_buf,F.pending-Ee,Ee)),F.gzindex=0}F.status=xa}if(F.status===xa){if(F.gzhead.name){let Ee=F.pending,Se;do{if(F.pending===F.pending_buf_size){if(F.gzhead.hcrc&&F.pending>Ee&&(L.adler=j(L.adler,F.pending_buf,F.pending-Ee,Ee)),hn(L),F.pending!==0)return F.last_flush=-1,Ot;Ee=0}F.gzindex<F.gzhead.name.length?Se=F.gzhead.name.charCodeAt(F.gzindex++)&255:Se=0,cr(F,Se)}while(Se!==0);F.gzhead.hcrc&&F.pending>Ee&&(L.adler=j(L.adler,F.pending_buf,F.pending-Ee,Ee)),F.gzindex=0}F.status=$a}if(F.status===$a){if(F.gzhead.comment){let Ee=F.pending,Se;do{if(F.pending===F.pending_buf_size){if(F.gzhead.hcrc&&F.pending>Ee&&(L.adler=j(L.adler,F.pending_buf,F.pending-Ee,Ee)),hn(L),F.pending!==0)return F.last_flush=-1,Ot;Ee=0}F.gzindex<F.gzhead.comment.length?Se=F.gzhead.comment.charCodeAt(F.gzindex++)&255:Se=0,cr(F,Se)}while(Se!==0);F.gzhead.hcrc&&F.pending>Ee&&(L.adler=j(L.adler,F.pending_buf,F.pending-Ee,Ee))}F.status=so}if(F.status===so){if(F.gzhead.hcrc){if(F.pending+2>F.pending_buf_size&&(hn(L),F.pending!==0))return F.last_flush=-1,Ot;cr(F,L.adler&255),cr(F,L.adler>>8&255),L.adler=0}if(F.status=xi,hn(L),F.pending!==0)return F.last_flush=-1,Ot}if(L.avail_in!==0||F.lookahead!==0||re!==nt&&F.status!==wi){let Ee=F.level===0?vu(F,re):F.strategy===nr?$f(F,re):F.strategy===Br?Xf(F,re):Es[F.level].func(F,re);if((Ee===Yr||Ee===Cn)&&(F.status=wi),Ee===un||Ee===Yr)return L.avail_out===0&&(F.last_flush=-1),Ot;if(Ee===wa&&(re===qt?yt(F):re!==Jt&&(ze(F,0,0,!1),re===en&&(Ln(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),hn(L),L.avail_out===0))return F.last_flush=-1,Ot}return re!==jt?Ot:F.wrap<=0?yr:(F.wrap===2?(cr(F,L.adler&255),cr(F,L.adler>>8&255),cr(F,L.adler>>16&255),cr(F,L.adler>>24&255),cr(F,L.total_in&255),cr(F,L.total_in>>8&255),cr(F,L.total_in>>16&255),cr(F,L.total_in>>24&255)):(Ea(F,L.adler>>>16),Ea(F,L.adler&65535)),hn(L),F.wrap>0&&(F.wrap=-F.wrap),F.pending!==0?Ot:yr)},fo=L=>{if(Ms(L))return mr;let re=L.state.status;return L.state=null,re===xi?Sa(L,Fr):Ot},Jf=(L,re)=>{let F=re.length;if(Ms(L))return mr;let pe=L.state,Ee=pe.wrap;if(Ee===2||Ee===1&&pe.status!==oi||pe.lookahead)return mr;if(Ee===1&&(L.adler=ot(L.adler,re,F,0)),pe.wrap=0,F>=pe.w_size){Ee===0&&(Ln(pe.head),pe.strstart=0,pe.block_start=0,pe.insert=0);let zt=new Uint8Array(pe.w_size);zt.set(re.subarray(F-pe.w_size,F),0),re=zt,F=pe.w_size}let Se=L.avail_in,at=L.next_in,Qe=L.input;for(L.avail_in=F,L.next_in=0,L.input=re,Ma(pe);pe.lookahead>=ar;){let zt=pe.strstart,je=pe.lookahead-(ar-1);do pe.ins_h=ta(pe,pe.ins_h,pe.window[zt+ar-1]),pe.prev[zt&pe.w_mask]=pe.head[pe.ins_h],pe.head[pe.ins_h]=zt,zt++;while(--je);pe.strstart=zt,pe.lookahead=ar-1,Ma(pe)}return pe.strstart+=pe.lookahead,pe.block_start=pe.strstart,pe.insert=pe.lookahead,pe.lookahead=0,pe.match_length=pe.prev_length=ar-1,pe.match_available=0,L.next_in=at,L.input=Qe,L.avail_in=Se,pe.wrap=Ee,Ot};var ed=_u,td=Qa,Ds=lo,nl=tl,Nr=uo,As=rl,Ts=fo,rd=Jf,A="pako deflate (from Nodeca project)",N={deflateInit:ed,deflateInit2:td,deflateReset:Ds,deflateResetKeep:nl,deflateSetHeader:Nr,deflate:As,deflateEnd:Ts,deflateSetDictionary:rd,deflateInfo:A};let U=(L,re)=>Object.prototype.hasOwnProperty.call(L,re);var Y=function(L){let re=Array.prototype.slice.call(arguments,1);for(;re.length;){let F=re.shift();if(F){if(typeof F!="object")throw new TypeError(F+"must be non-object");for(let pe in F)U(F,pe)&&(L[pe]=F[pe])}}return L},ee=L=>{let re=0;for(let pe=0,Ee=L.length;pe<Ee;pe++)re+=L[pe].length;let F=new Uint8Array(re);for(let pe=0,Ee=0,Se=L.length;pe<Se;pe++){let at=L[pe];F.set(at,Ee),Ee+=at.length}return F},te={assign:Y,flattenChunks:ee};let de=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{de=!1}let Oe=new Uint8Array(256);for(let L=0;L<256;L++)Oe[L]=L>=252?6:L>=248?5:L>=240?4:L>=224?3:L>=192?2:1;Oe[254]=Oe[254]=1;var Ae=L=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(L);let re,F,pe,Ee,Se,at=L.length,Qe=0;for(Ee=0;Ee<at;Ee++)F=L.charCodeAt(Ee),(F&64512)===55296&&Ee+1<at&&(pe=L.charCodeAt(Ee+1),(pe&64512)===56320&&(F=65536+(F-55296<<10)+(pe-56320),Ee++)),Qe+=F<128?1:F<2048?2:F<65536?3:4;for(re=new Uint8Array(Qe),Se=0,Ee=0;Se<Qe;Ee++)F=L.charCodeAt(Ee),(F&64512)===55296&&Ee+1<at&&(pe=L.charCodeAt(Ee+1),(pe&64512)===56320&&(F=65536+(F-55296<<10)+(pe-56320),Ee++)),F<128?re[Se++]=F:F<2048?(re[Se++]=192|F>>>6,re[Se++]=128|F&63):F<65536?(re[Se++]=224|F>>>12,re[Se++]=128|F>>>6&63,re[Se++]=128|F&63):(re[Se++]=240|F>>>18,re[Se++]=128|F>>>12&63,re[Se++]=128|F>>>6&63,re[Se++]=128|F&63);return re};let Ze=(L,re)=>{if(re<65534&&L.subarray&&de)return String.fromCharCode.apply(null,L.length===re?L:L.subarray(0,re));let F="";for(let pe=0;pe<re;pe++)F+=String.fromCharCode(L[pe]);return F};var dt=(L,re)=>{let F=re||L.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(L.subarray(0,re));let pe,Ee,Se=new Array(F*2);for(Ee=0,pe=0;pe<F;){let at=L[pe++];if(at<128){Se[Ee++]=at;continue}let Qe=Oe[at];if(Qe>4){Se[Ee++]=65533,pe+=Qe-1;continue}for(at&=Qe===2?31:Qe===3?15:7;Qe>1&&pe<F;)at=at<<6|L[pe++]&63,Qe--;if(Qe>1){Se[Ee++]=65533;continue}at<65536?Se[Ee++]=at:(at-=65536,Se[Ee++]=55296|at>>10&1023,Se[Ee++]=56320|at&1023)}return Ze(Se,Ee)},mt=(L,re)=>{re=re||L.length,re>L.length&&(re=L.length);let F=re-1;for(;F>=0&&(L[F]&192)===128;)F--;return F<0||F===0?re:F+Oe[L[F]]>re?F:re},it={string2buf:Ae,buf2string:dt,utf8border:mt};function xt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kt=xt;let lr=Object.prototype.toString,{Z_NO_FLUSH:tr,Z_SYNC_FLUSH:pn,Z_FULL_FLUSH:qr,Z_FINISH:Ci,Z_OK:Un,Z_STREAM_END:sr,Z_DEFAULT_COMPRESSION:Da,Z_DEFAULT_STRATEGY:hr,Z_DEFLATED:jr}=qe;function Bi(L){this.options=te.assign({level:Da,method:jr,chunkSize:16384,windowBits:15,memLevel:8,strategy:hr},L||{});let re=this.options;re.raw&&re.windowBits>0?re.windowBits=-re.windowBits:re.gzip&&re.windowBits>0&&re.windowBits<16&&(re.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let F=N.deflateInit2(this.strm,re.level,re.method,re.windowBits,re.memLevel,re.strategy);if(F!==Un)throw new Error(Ye[F]);if(re.header&&N.deflateSetHeader(this.strm,re.header),re.dictionary){let pe;if(typeof re.dictionary=="string"?pe=it.string2buf(re.dictionary):lr.call(re.dictionary)==="[object ArrayBuffer]"?pe=new Uint8Array(re.dictionary):pe=re.dictionary,F=N.deflateSetDictionary(this.strm,pe),F!==Un)throw new Error(Ye[F]);this._dict_set=!0}}Bi.prototype.push=function(L,re){let F=this.strm,pe=this.options.chunkSize,Ee,Se;if(this.ended)return!1;for(re===~~re?Se=re:Se=re===!0?Ci:tr,typeof L=="string"?F.input=it.string2buf(L):lr.call(L)==="[object ArrayBuffer]"?F.input=new Uint8Array(L):F.input=L,F.next_in=0,F.avail_in=F.input.length;;){if(F.avail_out===0&&(F.output=new Uint8Array(pe),F.next_out=0,F.avail_out=pe),(Se===pn||Se===qr)&&F.avail_out<=6){this.onData(F.output.subarray(0,F.next_out)),F.avail_out=0;continue}if(Ee=N.deflate(F,Se),Ee===sr)return F.next_out>0&&this.onData(F.output.subarray(0,F.next_out)),Ee=N.deflateEnd(this.strm),this.onEnd(Ee),this.ended=!0,Ee===Un;if(F.avail_out===0){this.onData(F.output);continue}if(Se>0&&F.next_out>0){this.onData(F.output.subarray(0,F.next_out)),F.avail_out=0;continue}if(F.avail_in===0)break}return!0},Bi.prototype.onData=function(L){this.chunks.push(L)},Bi.prototype.onEnd=function(L){L===Un&&(this.result=te.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function Ei(L,re){let F=new Bi(re);if(F.push(L,!0),F.err)throw F.msg||Ye[F.err];return F.result}function Mi(L,re){return re=re||{},re.raw=!0,Ei(L,re)}function Aa(L,re){return re=re||{},re.gzip=!0,Ei(L,re)}var Di=Bi,Ai=Ei,na=Mi,Zn=Aa,il=qe,Ri={Deflate:Di,deflate:Ai,deflateRaw:na,gzip:Zn,constants:il};let Wn=16209,nd=16191;var bu=function(re,F){let pe,Ee,Se,at,Qe,zt,je,lt,wr,It,St,Yt,Kr,gr,Qt,Tr,dr,Nt,Mr,yn,Xt,Ir,vr,er,pr=re.state;pe=re.next_in,vr=re.input,Ee=pe+(re.avail_in-5),Se=re.next_out,er=re.output,at=Se-(F-re.avail_out),Qe=Se+(re.avail_out-257),zt=pr.dmax,je=pr.wsize,lt=pr.whave,wr=pr.wnext,It=pr.window,St=pr.hold,Yt=pr.bits,Kr=pr.lencode,gr=pr.distcode,Qt=(1<<pr.lenbits)-1,Tr=(1<<pr.distbits)-1;e:do{Yt<15&&(St+=vr[pe++]<<Yt,Yt+=8,St+=vr[pe++]<<Yt,Yt+=8),dr=Kr[St&Qt];t:for(;;){if(Nt=dr>>>24,St>>>=Nt,Yt-=Nt,Nt=dr>>>16&255,Nt===0)er[Se++]=dr&65535;else if(Nt&16){Mr=dr&65535,Nt&=15,Nt&&(Yt<Nt&&(St+=vr[pe++]<<Yt,Yt+=8),Mr+=St&(1<<Nt)-1,St>>>=Nt,Yt-=Nt),Yt<15&&(St+=vr[pe++]<<Yt,Yt+=8,St+=vr[pe++]<<Yt,Yt+=8),dr=gr[St&Tr];r:for(;;){if(Nt=dr>>>24,St>>>=Nt,Yt-=Nt,Nt=dr>>>16&255,Nt&16){if(yn=dr&65535,Nt&=15,Yt<Nt&&(St+=vr[pe++]<<Yt,Yt+=8,Yt<Nt&&(St+=vr[pe++]<<Yt,Yt+=8)),yn+=St&(1<<Nt)-1,yn>zt){re.msg="invalid distance too far back",pr.mode=Wn;break e}if(St>>>=Nt,Yt-=Nt,Nt=Se-at,yn>Nt){if(Nt=yn-Nt,Nt>lt&&pr.sane){re.msg="invalid distance too far back",pr.mode=Wn;break e}if(Xt=0,Ir=It,wr===0){if(Xt+=je-Nt,Nt<Mr){Mr-=Nt;do er[Se++]=It[Xt++];while(--Nt);Xt=Se-yn,Ir=er}}else if(wr<Nt){if(Xt+=je+wr-Nt,Nt-=wr,Nt<Mr){Mr-=Nt;do er[Se++]=It[Xt++];while(--Nt);if(Xt=0,wr<Mr){Nt=wr,Mr-=Nt;do er[Se++]=It[Xt++];while(--Nt);Xt=Se-yn,Ir=er}}}else if(Xt+=wr-Nt,Nt<Mr){Mr-=Nt;do er[Se++]=It[Xt++];while(--Nt);Xt=Se-yn,Ir=er}for(;Mr>2;)er[Se++]=Ir[Xt++],er[Se++]=Ir[Xt++],er[Se++]=Ir[Xt++],Mr-=3;Mr&&(er[Se++]=Ir[Xt++],Mr>1&&(er[Se++]=Ir[Xt++]))}else{Xt=Se-yn;do er[Se++]=er[Xt++],er[Se++]=er[Xt++],er[Se++]=er[Xt++],Mr-=3;while(Mr>2);Mr&&(er[Se++]=er[Xt++],Mr>1&&(er[Se++]=er[Xt++]))}}else if(Nt&64){re.msg="invalid distance code",pr.mode=Wn;break e}else{dr=gr[(dr&65535)+(St&(1<<Nt)-1)];continue r}break}}else if(Nt&64)if(Nt&32){pr.mode=nd;break e}else{re.msg="invalid literal/length code",pr.mode=Wn;break e}else{dr=Kr[(dr&65535)+(St&(1<<Nt)-1)];continue t}break}}while(pe<Ee&&Se<Qe);Mr=Yt>>3,pe-=Mr,Yt-=Mr<<3,St&=(1<<Yt)-1,re.next_in=pe,re.next_out=Se,re.avail_in=pe<Ee?5+(Ee-pe):5-(pe-Ee),re.avail_out=Se<Qe?257+(Qe-Se):257-(Se-Qe),pr.hold=St,pr.bits=Yt};let Sr=15,Er=852,Ls=592,jn=0,ia=1,yu=2,id=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),qa=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ta=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),al=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ui=(L,re,F,pe,Ee,Se,at,Qe)=>{let zt=Qe.bits,je=0,lt=0,wr=0,It=0,St=0,Yt=0,Kr=0,gr=0,Qt=0,Tr=0,dr,Nt,Mr,yn,Xt,Ir=null,vr,er=new Uint16Array(Sr+1),pr=new Uint16Array(Sr+1),zs=null,ts,Cu,Eu;for(je=0;je<=Sr;je++)er[je]=0;for(lt=0;lt<pe;lt++)er[re[F+lt]]++;for(St=zt,It=Sr;It>=1&&er[It]===0;It--);if(St>It&&(St=It),It===0)return Ee[Se++]=1<<24|64<<16|0,Ee[Se++]=1<<24|64<<16|0,Qe.bits=1,0;for(wr=1;wr<It&&er[wr]===0;wr++);for(St<wr&&(St=wr),gr=1,je=1;je<=Sr;je++)if(gr<<=1,gr-=er[je],gr<0)return-1;if(gr>0&&(L===jn||It!==1))return-1;for(pr[1]=0,je=1;je<Sr;je++)pr[je+1]=pr[je]+er[je];for(lt=0;lt<pe;lt++)re[F+lt]!==0&&(at[pr[re[F+lt]]++]=lt);if(L===jn?(Ir=zs=at,vr=20):L===ia?(Ir=id,zs=qa,vr=257):(Ir=Ta,zs=al,vr=0),Tr=0,lt=0,je=wr,Xt=Se,Yt=St,Kr=0,Mr=-1,Qt=1<<St,yn=Qt-1,L===ia&&Qt>Er||L===yu&&Qt>Ls)return 1;for(;;){ts=je-Kr,at[lt]+1<vr?(Cu=0,Eu=at[lt]):at[lt]>=vr?(Cu=zs[at[lt]-vr],Eu=Ir[at[lt]-vr]):(Cu=32+64,Eu=0),dr=1<<je-Kr,Nt=1<<Yt,wr=Nt;do Nt-=dr,Ee[Xt+(Tr>>Kr)+Nt]=ts<<24|Cu<<16|Eu|0;while(Nt!==0);for(dr=1<<je-1;Tr&dr;)dr>>=1;if(dr!==0?(Tr&=dr-1,Tr+=dr):Tr=0,lt++,--er[je]===0){if(je===It)break;je=re[F+at[lt]]}if(je>St&&(Tr&yn)!==Mr){for(Kr===0&&(Kr=St),Xt+=wr,Yt=je-Kr,gr=1<<Yt;Yt+Kr<It&&(gr-=er[Yt+Kr],!(gr<=0));)Yt++,gr<<=1;if(Qt+=1<<Yt,L===ia&&Qt>Er||L===yu&&Qt>Ls)return 1;Mr=Tr&yn,Ee[Mr]=St<<24|Yt<<16|Xt-Se|0}}return Tr!==0&&(Ee[Xt+Tr]=je-Kr<<24|64<<16|0),Qe.bits=St,0};let Oa=0,ka=1,Os=2,{Z_FINISH:ks,Z_BLOCK:ad,Z_TREES:Wi,Z_OK:li,Z_STREAM_END:Ps,Z_NEED_DICT:sd,Z_STREAM_ERROR:On,Z_DATA_ERROR:sl,Z_MEM_ERROR:xe,Z_BUF_ERROR:We,Z_DEFLATED:tt}=qe,ft=16180,pt=16181,Tt=16182,kt=16183,Bt=16184,Pt=16185,ir=16186,Ut=16187,Gt=16188,rr=16189,Wt=16190,ur=16191,mn=16192,gn=16193,kn=16194,Xn=16195,Pa=16196,bn=16197,vh=16198,xu=16199,wu=16200,_h=16201,bh=16202,yh=16203,xh=16204,wh=16205,od=16206,Sh=16207,Ch=16208,Gr=16209,ol=16210,Eh=16211,Bg=852,Rg=592,Ug=15,Mh=L=>(L>>>24&255)+(L>>>8&65280)+((L&65280)<<8)+((L&255)<<24);function Wg(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let Ns=L=>{if(!L)return 1;let re=L.state;return!re||re.strm!==L||re.mode<ft||re.mode>Eh?1:0},ld=L=>{if(Ns(L))return On;let re=L.state;return L.total_in=L.total_out=re.total=0,L.msg="",re.wrap&&(L.adler=re.wrap&1),re.mode=ft,re.last=0,re.havedict=0,re.flags=-1,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new Int32Array(Bg),re.distcode=re.distdyn=new Int32Array(Rg),re.sane=1,re.back=-1,li},ud=L=>{if(Ns(L))return On;let re=L.state;return re.wsize=0,re.whave=0,re.wnext=0,ld(L)},fd=(L,re)=>{let F;if(Ns(L))return On;let pe=L.state;return re<0?(F=0,re=-re):(F=(re>>4)+5,re<48&&(re&=15)),re&&(re<8||re>15)?On:(pe.window!==null&&pe.wbits!==re&&(pe.window=null),pe.wrap=F,pe.wbits=re,ud(L))},ll=(L,re)=>{if(!L)return On;let F=new Wg;L.state=F,F.strm=L,F.window=null,F.mode=ft;let pe=fd(L,re);return pe!==li&&(L.state=null),pe},co=L=>ll(L,Ug),ul=!0,Su,Ja,Dh=L=>{if(ul){Su=new Int32Array(512),Ja=new Int32Array(32);let re=0;for(;re<144;)L.lens[re++]=8;for(;re<256;)L.lens[re++]=9;for(;re<280;)L.lens[re++]=7;for(;re<288;)L.lens[re++]=8;for(Ui(ka,L.lens,0,288,Su,0,L.work,{bits:9}),re=0;re<32;)L.lens[re++]=5;Ui(Os,L.lens,0,32,Ja,0,L.work,{bits:5}),ul=!1}L.lencode=Su,L.lenbits=9,L.distcode=Ja,L.distbits=5},dd=(L,re,F,pe)=>{let Ee,Se=L.state;return Se.window===null&&(Se.wsize=1<<Se.wbits,Se.wnext=0,Se.whave=0,Se.window=new Uint8Array(Se.wsize)),pe>=Se.wsize?(Se.window.set(re.subarray(F-Se.wsize,F),0),Se.wnext=0,Se.whave=Se.wsize):(Ee=Se.wsize-Se.wnext,Ee>pe&&(Ee=pe),Se.window.set(re.subarray(F-pe,F-pe+Ee),Se.wnext),pe-=Ee,pe?(Se.window.set(re.subarray(F-pe,F),0),Se.wnext=pe,Se.whave=Se.wsize):(Se.wnext+=Ee,Se.wnext===Se.wsize&&(Se.wnext=0),Se.whave<Se.wsize&&(Se.whave+=Ee))),0},jg=(L,re)=>{let F,pe,Ee,Se,at,Qe,zt,je,lt,wr,It,St,Yt,Kr,gr=0,Qt,Tr,dr,Nt,Mr,yn,Xt,Ir,vr=new Uint8Array(4),er,pr,zs=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ns(L)||!L.output||!L.input&&L.avail_in!==0)return On;F=L.state,F.mode===ur&&(F.mode=mn),at=L.next_out,Ee=L.output,zt=L.avail_out,Se=L.next_in,pe=L.input,Qe=L.avail_in,je=F.hold,lt=F.bits,wr=Qe,It=zt,Ir=li;e:for(;;)switch(F.mode){case ft:if(F.wrap===0){F.mode=mn;break}for(;lt<16;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if(F.wrap&2&&je===35615){F.wbits===0&&(F.wbits=15),F.check=0,vr[0]=je&255,vr[1]=je>>>8&255,F.check=j(F.check,vr,2,0),je=0,lt=0,F.mode=pt;break}if(F.head&&(F.head.done=!1),!(F.wrap&1)||(((je&255)<<8)+(je>>8))%31){L.msg="incorrect header check",F.mode=Gr;break}if((je&15)!==tt){L.msg="unknown compression method",F.mode=Gr;break}if(je>>>=4,lt-=4,Xt=(je&15)+8,F.wbits===0&&(F.wbits=Xt),Xt>15||Xt>F.wbits){L.msg="invalid window size",F.mode=Gr;break}F.dmax=1<<F.wbits,F.flags=0,L.adler=F.check=1,F.mode=je&512?rr:ur,je=0,lt=0;break;case pt:for(;lt<16;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if(F.flags=je,(F.flags&255)!==tt){L.msg="unknown compression method",F.mode=Gr;break}if(F.flags&57344){L.msg="unknown header flags set",F.mode=Gr;break}F.head&&(F.head.text=je>>8&1),F.flags&512&&F.wrap&4&&(vr[0]=je&255,vr[1]=je>>>8&255,F.check=j(F.check,vr,2,0)),je=0,lt=0,F.mode=Tt;case Tt:for(;lt<32;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}F.head&&(F.head.time=je),F.flags&512&&F.wrap&4&&(vr[0]=je&255,vr[1]=je>>>8&255,vr[2]=je>>>16&255,vr[3]=je>>>24&255,F.check=j(F.check,vr,4,0)),je=0,lt=0,F.mode=kt;case kt:for(;lt<16;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}F.head&&(F.head.xflags=je&255,F.head.os=je>>8),F.flags&512&&F.wrap&4&&(vr[0]=je&255,vr[1]=je>>>8&255,F.check=j(F.check,vr,2,0)),je=0,lt=0,F.mode=Bt;case Bt:if(F.flags&1024){for(;lt<16;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}F.length=je,F.head&&(F.head.extra_len=je),F.flags&512&&F.wrap&4&&(vr[0]=je&255,vr[1]=je>>>8&255,F.check=j(F.check,vr,2,0)),je=0,lt=0}else F.head&&(F.head.extra=null);F.mode=Pt;case Pt:if(F.flags&1024&&(St=F.length,St>Qe&&(St=Qe),St&&(F.head&&(Xt=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Uint8Array(F.head.extra_len)),F.head.extra.set(pe.subarray(Se,Se+St),Xt)),F.flags&512&&F.wrap&4&&(F.check=j(F.check,pe,St,Se)),Qe-=St,Se+=St,F.length-=St),F.length))break e;F.length=0,F.mode=ir;case ir:if(F.flags&2048){if(Qe===0)break e;St=0;do Xt=pe[Se+St++],F.head&&Xt&&F.length<65536&&(F.head.name+=String.fromCharCode(Xt));while(Xt&&St<Qe);if(F.flags&512&&F.wrap&4&&(F.check=j(F.check,pe,St,Se)),Qe-=St,Se+=St,Xt)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=Ut;case Ut:if(F.flags&4096){if(Qe===0)break e;St=0;do Xt=pe[Se+St++],F.head&&Xt&&F.length<65536&&(F.head.comment+=String.fromCharCode(Xt));while(Xt&&St<Qe);if(F.flags&512&&F.wrap&4&&(F.check=j(F.check,pe,St,Se)),Qe-=St,Se+=St,Xt)break e}else F.head&&(F.head.comment=null);F.mode=Gt;case Gt:if(F.flags&512){for(;lt<16;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if(F.wrap&4&&je!==(F.check&65535)){L.msg="header crc mismatch",F.mode=Gr;break}je=0,lt=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),L.adler=F.check=0,F.mode=ur;break;case rr:for(;lt<32;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}L.adler=F.check=Mh(je),je=0,lt=0,F.mode=Wt;case Wt:if(F.havedict===0)return L.next_out=at,L.avail_out=zt,L.next_in=Se,L.avail_in=Qe,F.hold=je,F.bits=lt,sd;L.adler=F.check=1,F.mode=ur;case ur:if(re===ad||re===Wi)break e;case mn:if(F.last){je>>>=lt&7,lt-=lt&7,F.mode=od;break}for(;lt<3;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}switch(F.last=je&1,je>>>=1,lt-=1,je&3){case 0:F.mode=gn;break;case 1:if(Dh(F),F.mode=xu,re===Wi){je>>>=2,lt-=2;break e}break;case 2:F.mode=Pa;break;case 3:L.msg="invalid block type",F.mode=Gr}je>>>=2,lt-=2;break;case gn:for(je>>>=lt&7,lt-=lt&7;lt<32;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if((je&65535)!==(je>>>16^65535)){L.msg="invalid stored block lengths",F.mode=Gr;break}if(F.length=je&65535,je=0,lt=0,F.mode=kn,re===Wi)break e;case kn:F.mode=Xn;case Xn:if(St=F.length,St){if(St>Qe&&(St=Qe),St>zt&&(St=zt),St===0)break e;Ee.set(pe.subarray(Se,Se+St),at),Qe-=St,Se+=St,zt-=St,at+=St,F.length-=St;break}F.mode=ur;break;case Pa:for(;lt<14;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if(F.nlen=(je&31)+257,je>>>=5,lt-=5,F.ndist=(je&31)+1,je>>>=5,lt-=5,F.ncode=(je&15)+4,je>>>=4,lt-=4,F.nlen>286||F.ndist>30){L.msg="too many length or distance symbols",F.mode=Gr;break}F.have=0,F.mode=bn;case bn:for(;F.have<F.ncode;){for(;lt<3;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}F.lens[zs[F.have++]]=je&7,je>>>=3,lt-=3}for(;F.have<19;)F.lens[zs[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,er={bits:F.lenbits},Ir=Ui(Oa,F.lens,0,19,F.lencode,0,F.work,er),F.lenbits=er.bits,Ir){L.msg="invalid code lengths set",F.mode=Gr;break}F.have=0,F.mode=vh;case vh:for(;F.have<F.nlen+F.ndist;){for(;gr=F.lencode[je&(1<<F.lenbits)-1],Qt=gr>>>24,Tr=gr>>>16&255,dr=gr&65535,!(Qt<=lt);){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if(dr<16)je>>>=Qt,lt-=Qt,F.lens[F.have++]=dr;else{if(dr===16){for(pr=Qt+2;lt<pr;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if(je>>>=Qt,lt-=Qt,F.have===0){L.msg="invalid bit length repeat",F.mode=Gr;break}Xt=F.lens[F.have-1],St=3+(je&3),je>>>=2,lt-=2}else if(dr===17){for(pr=Qt+3;lt<pr;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}je>>>=Qt,lt-=Qt,Xt=0,St=3+(je&7),je>>>=3,lt-=3}else{for(pr=Qt+7;lt<pr;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}je>>>=Qt,lt-=Qt,Xt=0,St=11+(je&127),je>>>=7,lt-=7}if(F.have+St>F.nlen+F.ndist){L.msg="invalid bit length repeat",F.mode=Gr;break}for(;St--;)F.lens[F.have++]=Xt}}if(F.mode===Gr)break;if(F.lens[256]===0){L.msg="invalid code -- missing end-of-block",F.mode=Gr;break}if(F.lenbits=9,er={bits:F.lenbits},Ir=Ui(ka,F.lens,0,F.nlen,F.lencode,0,F.work,er),F.lenbits=er.bits,Ir){L.msg="invalid literal/lengths set",F.mode=Gr;break}if(F.distbits=6,F.distcode=F.distdyn,er={bits:F.distbits},Ir=Ui(Os,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,er),F.distbits=er.bits,Ir){L.msg="invalid distances set",F.mode=Gr;break}if(F.mode=xu,re===Wi)break e;case xu:F.mode=wu;case wu:if(Qe>=6&&zt>=258){L.next_out=at,L.avail_out=zt,L.next_in=Se,L.avail_in=Qe,F.hold=je,F.bits=lt,bu(L,It),at=L.next_out,Ee=L.output,zt=L.avail_out,Se=L.next_in,pe=L.input,Qe=L.avail_in,je=F.hold,lt=F.bits,F.mode===ur&&(F.back=-1);break}for(F.back=0;gr=F.lencode[je&(1<<F.lenbits)-1],Qt=gr>>>24,Tr=gr>>>16&255,dr=gr&65535,!(Qt<=lt);){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if(Tr&&!(Tr&240)){for(Nt=Qt,Mr=Tr,yn=dr;gr=F.lencode[yn+((je&(1<<Nt+Mr)-1)>>Nt)],Qt=gr>>>24,Tr=gr>>>16&255,dr=gr&65535,!(Nt+Qt<=lt);){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}je>>>=Nt,lt-=Nt,F.back+=Nt}if(je>>>=Qt,lt-=Qt,F.back+=Qt,F.length=dr,Tr===0){F.mode=wh;break}if(Tr&32){F.back=-1,F.mode=ur;break}if(Tr&64){L.msg="invalid literal/length code",F.mode=Gr;break}F.extra=Tr&15,F.mode=_h;case _h:if(F.extra){for(pr=F.extra;lt<pr;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}F.length+=je&(1<<F.extra)-1,je>>>=F.extra,lt-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=bh;case bh:for(;gr=F.distcode[je&(1<<F.distbits)-1],Qt=gr>>>24,Tr=gr>>>16&255,dr=gr&65535,!(Qt<=lt);){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if(!(Tr&240)){for(Nt=Qt,Mr=Tr,yn=dr;gr=F.distcode[yn+((je&(1<<Nt+Mr)-1)>>Nt)],Qt=gr>>>24,Tr=gr>>>16&255,dr=gr&65535,!(Nt+Qt<=lt);){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}je>>>=Nt,lt-=Nt,F.back+=Nt}if(je>>>=Qt,lt-=Qt,F.back+=Qt,Tr&64){L.msg="invalid distance code",F.mode=Gr;break}F.offset=dr,F.extra=Tr&15,F.mode=yh;case yh:if(F.extra){for(pr=F.extra;lt<pr;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}F.offset+=je&(1<<F.extra)-1,je>>>=F.extra,lt-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){L.msg="invalid distance too far back",F.mode=Gr;break}F.mode=xh;case xh:if(zt===0)break e;if(St=It-zt,F.offset>St){if(St=F.offset-St,St>F.whave&&F.sane){L.msg="invalid distance too far back",F.mode=Gr;break}St>F.wnext?(St-=F.wnext,Yt=F.wsize-St):Yt=F.wnext-St,St>F.length&&(St=F.length),Kr=F.window}else Kr=Ee,Yt=at-F.offset,St=F.length;St>zt&&(St=zt),zt-=St,F.length-=St;do Ee[at++]=Kr[Yt++];while(--St);F.length===0&&(F.mode=wu);break;case wh:if(zt===0)break e;Ee[at++]=F.length,zt--,F.mode=wu;break;case od:if(F.wrap){for(;lt<32;){if(Qe===0)break e;Qe--,je|=pe[Se++]<<lt,lt+=8}if(It-=zt,L.total_out+=It,F.total+=It,F.wrap&4&&It&&(L.adler=F.check=F.flags?j(F.check,Ee,It,at-It):ot(F.check,Ee,It,at-It)),It=zt,F.wrap&4&&(F.flags?je:Mh(je))!==F.check){L.msg="incorrect data check",F.mode=Gr;break}je=0,lt=0}F.mode=Sh;case Sh:if(F.wrap&&F.flags){for(;lt<32;){if(Qe===0)break e;Qe--,je+=pe[Se++]<<lt,lt+=8}if(F.wrap&4&&je!==(F.total&4294967295)){L.msg="incorrect length check",F.mode=Gr;break}je=0,lt=0}F.mode=Ch;case Ch:Ir=Ps;break e;case Gr:Ir=sl;break e;case ol:return xe;case Eh:default:return On}return L.next_out=at,L.avail_out=zt,L.next_in=Se,L.avail_in=Qe,F.hold=je,F.bits=lt,(F.wsize||It!==L.avail_out&&F.mode<Gr&&(F.mode<od||re!==ks))&&dd(L,L.output,L.next_out,It-L.avail_out),wr-=L.avail_in,It-=L.avail_out,L.total_in+=wr,L.total_out+=It,F.total+=It,F.wrap&4&&It&&(L.adler=F.check=F.flags?j(F.check,Ee,It,L.next_out-It):ot(F.check,Ee,It,L.next_out-It)),L.data_type=F.bits+(F.last?64:0)+(F.mode===ur?128:0)+(F.mode===xu||F.mode===kn?256:0),(wr===0&&It===0||re===ks)&&Ir===li&&(Ir=We),Ir},Gg=L=>{if(Ns(L))return On;let re=L.state;return re.window&&(re.window=null),L.state=null,li},Hg=(L,re)=>{if(Ns(L))return On;let F=L.state;return F.wrap&2?(F.head=re,re.done=!1,li):On},Vg=(L,re)=>{let F=re.length,pe,Ee,Se;return Ns(L)||(pe=L.state,pe.wrap!==0&&pe.mode!==Wt)?On:pe.mode===Wt&&(Ee=1,Ee=ot(Ee,re,F,0),Ee!==pe.check)?sl:(Se=dd(L,re,F,F),Se?(pe.mode=ol,xe):(pe.havedict=1,li))};var Yg=ud,Kg=fd,Zg=ld,Xg=co,$g=ll,Qg=jg,qg=Gg,Jg=Hg,ev=Vg,tv="pako inflate (from Nodeca project)",Na={inflateReset:Yg,inflateReset2:Kg,inflateResetKeep:Zg,inflateInit:Xg,inflateInit2:$g,inflate:Qg,inflateEnd:qg,inflateGetHeader:Jg,inflateSetDictionary:ev,inflateInfo:tv};function rv(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nv=rv;let Ah=Object.prototype.toString,{Z_NO_FLUSH:iv,Z_FINISH:av,Z_OK:fl,Z_STREAM_END:cd,Z_NEED_DICT:dl,Z_STREAM_ERROR:sv,Z_DATA_ERROR:Th,Z_MEM_ERROR:ov}=qe;function Is(L){this.options=te.assign({chunkSize:65536,windowBits:15,to:""},L||{});let re=this.options;re.raw&&re.windowBits>=0&&re.windowBits<16&&(re.windowBits=-re.windowBits,re.windowBits===0&&(re.windowBits=-15)),re.windowBits>=0&&re.windowBits<16&&!(L&&L.windowBits)&&(re.windowBits+=32),re.windowBits>15&&re.windowBits<48&&(re.windowBits&15||(re.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let F=Na.inflateInit2(this.strm,re.windowBits);if(F!==fl)throw new Error(Ye[F]);if(this.header=new nv,Na.inflateGetHeader(this.strm,this.header),re.dictionary&&(typeof re.dictionary=="string"?re.dictionary=it.string2buf(re.dictionary):Ah.call(re.dictionary)==="[object ArrayBuffer]"&&(re.dictionary=new Uint8Array(re.dictionary)),re.raw&&(F=Na.inflateSetDictionary(this.strm,re.dictionary),F!==fl)))throw new Error(Ye[F])}Is.prototype.push=function(L,re){let F=this.strm,pe=this.options.chunkSize,Ee=this.options.dictionary,Se,at,Qe;if(this.ended)return!1;for(re===~~re?at=re:at=re===!0?av:iv,Ah.call(L)==="[object ArrayBuffer]"?F.input=new Uint8Array(L):F.input=L,F.next_in=0,F.avail_in=F.input.length;;){for(F.avail_out===0&&(F.output=new Uint8Array(pe),F.next_out=0,F.avail_out=pe),Se=Na.inflate(F,at),Se===dl&&Ee&&(Se=Na.inflateSetDictionary(F,Ee),Se===fl?Se=Na.inflate(F,at):Se===Th&&(Se=dl));F.avail_in>0&&Se===cd&&F.state.wrap>0&&L[F.next_in]!==0;)Na.inflateReset(F),Se=Na.inflate(F,at);switch(Se){case sv:case Th:case dl:case ov:return this.onEnd(Se),this.ended=!0,!1}if(Qe=F.avail_out,F.next_out&&(F.avail_out===0||Se===cd))if(this.options.to==="string"){let zt=it.utf8border(F.output,F.next_out),je=F.next_out-zt,lt=it.buf2string(F.output,zt);F.next_out=je,F.avail_out=pe-je,je&&F.output.set(F.output.subarray(zt,zt+je),0),this.onData(lt)}else this.onData(F.output.length===F.next_out?F.output:F.output.subarray(0,F.next_out));if(!(Se===fl&&Qe===0)){if(Se===cd)return Se=Na.inflateEnd(this.strm),this.onEnd(Se),this.ended=!0,!0;if(F.avail_in===0)break}}return!0},Is.prototype.onData=function(L){this.chunks.push(L)},Is.prototype.onEnd=function(L){L===fl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=te.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function ho(L,re){let F=new Is(re);if(F.push(L),F.err)throw F.msg||Ye[F.err];return F.result}function lv(L,re){return re=re||{},re.raw=!0,ho(L,re)}var uv=Is,fv=ho,dv=lv,cv=ho,hv=qe,Lh={Inflate:uv,inflate:fv,inflateRaw:dv,ungzip:cv,constants:hv};let{Deflate:pv,deflate:mv,deflateRaw:Oh,gzip:gv}=Ri,{Inflate:vv,inflate:_v,inflateRaw:es,ungzip:kh}=Lh;var Ph=pv,Nh=mv,Ih=Oh,Et=gv,zh=vv,Fh=_v,hd=es,xr=kh,cl=qe,Bh={Deflate:Ph,deflate:Nh,deflateRaw:Ih,gzip:Et,Inflate:zh,inflate:Fh,inflateRaw:hd,ungzip:xr,constants:cl}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())});var Dt,f0,R_,U_,W_,j_,G_,wC=se(()=>{Dt=rn(Nn()),f0=class extends Dt.default.Component{render(){return Dt.default.createElement("div",{className:"box box-primary",id:"main_form"},Dt.default.createElement("div",{className:"box-header with-border"},Dt.default.createElement("h5",{className:"box-title"},"Required Options")),Dt.default.createElement("div",{className:"box-body"},Dt.default.createElement("div",{className:"col-md-12"},this.props.analyses.includes(this.props.job_strings.dompred.jobName)&&Dt.default.createElement(j_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.ffpred.jobName)&&Dt.default.createElement(G_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.metsite.jobName)&&Dt.default.createElement(R_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.hspred.jobName)&&Dt.default.createElement(U_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.memembed.jobName)&&Dt.default.createElement(W_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}))))}},R_=class extends Dt.default.Component{render(){return Dt.default.createElement("div",{className:"row form-header-row"},Dt.default.createElement("h4",null,this.props.job_strings.metsite.fullName),Dt.default.createElement("strong",null,"Select Metal:"),Dt.default.createElement("br",null),Dt.default.createElement("select",{id:"metsite_metal_type",size:"6",name:"metsite_metal_type",value:this.props.metsite_metal_type,onChange:this.props.handleSidebarChange},Dt.default.createElement("option",{value:"CA"},"Calcium"),Dt.default.createElement("option",{value:"ZN"},"Zinc"),Dt.default.createElement("option",{value:"MG"},"Magnesium"),Dt.default.createElement("option",{value:"FE"},"Iron"),Dt.default.createElement("option",{value:"CU"},"Copper"),Dt.default.createElement("option",{value:"MN"},"Manganese")),Dt.default.createElement("br",null),Dt.default.createElement("br",null),Dt.default.createElement("strong",null,"Chain ID:"),Dt.default.createElement("input",{type:"text",id:"metsite_chain_id",name:"metsite_chain_id",value:this.props.metsite_chain_id,onChange:this.props.handleSidebarChange}),Dt.default.createElement("br",null),Dt.default.createElement("br",null),Dt.default.createElement("strong",null,"False Positive Rate:"),Dt.default.createElement("br",null),Dt.default.createElement("select",{id:"metsite_fpr",size:"1",name:"metsite_fpr",value:this.props.metsite_fpr,onChange:this.props.handleSidebarChange},Dt.default.createElement("option",{value:"0"},"1%"),Dt.default.createElement("option",{value:"1"},"5%"),Dt.default.createElement("option",{value:"2"},"10%"),Dt.default.createElement("option",{value:"3"},"20%")))}},U_=class extends Dt.default.Component{render(){return Dt.default.createElement("div",{className:"row form-header-row"},Dt.default.createElement("h4",null,this.props.job_strings.hspred.fullName),Dt.default.createElement("strong",null,"Protein 1:"),Dt.default.createElement("input",{type:"text",id:"hspred_protein_1",name:"hspred_protein_1",value:this.props.hspred_protein_1,onChange:this.props.handleSidebarChange}),Dt.default.createElement("br",null),Dt.default.createElement("br",null),Dt.default.createElement("strong",null,"Protein 2:")," ",Dt.default.createElement("input",{type:"text",id:"hspred_protein_2",name:"hspred_protein_2",value:this.props.hspred_protein_2,onChange:this.props.handleSidebarChange}))}},W_=class extends Dt.default.Component{render(){return Dt.default.createElement("div",{className:"row form-header-row"},Dt.default.createElement("h4",null,this.props.job_strings.memembed.fullName),Dt.default.createElement("strong",null,"Search Type:"),Dt.default.createElement("select",{id:"memembed_algorithm",size:"1",name:"memembed_algorithm",value:this.props.memembed_algorithm,onChange:this.props.handleSidebarChange},Dt.default.createElement("option",{value:"0"},"Genetic Algorithm"),Dt.default.createElement("option",{value:"1"},"Grid Search"),Dt.default.createElement("option",{value:"2"},"Direct"),Dt.default.createElement("option",{value:"3"},"GA x 5")),Dt.default.createElement("br",null),Dt.default.createElement("br",null),Dt.default.createElement("strong",null,"Target is Beta Barrel:"),Dt.default.createElement("br",null),Dt.default.createElement("input",{type:"radio",id:"memembed_barrel_yes",name:"memembed_barrel",value:"TRUE",checked:this.props.memembed_barrel==="TRUE",onChange:this.props.handleSidebarChange})," ",Dt.default.createElement("label",{htmlFor:"memembed_barrel_yes"},"Yes"),Dt.default.createElement("br",null),Dt.default.createElement("input",{type:"radio",id:"memembed_barrel_no",name:"memembed_barrel",value:"FALSE",checked:this.props.memembed_barrel==="FALSE",onChange:this.props.handleSidebarChange})," ",Dt.default.createElement("label",{htmlFor:"memembed_barrel_no"},"No"),Dt.default.createElement("br",null),Dt.default.createElement("br",null),Dt.default.createElement("strong",null,"N-Terminal Location:"),Dt.default.createElement("br",null),Dt.default.createElement("input",{type:"radio",id:"memembed_terminal_in",name:"memembed_terminal",value:"in",checked:this.props.memembed_terminal==="in",onChange:this.props.handleSidebarChange})," ",Dt.default.createElement("label",{htmlFor:"memembed_terminal_in"},"Cytoplasmic"),Dt.default.createElement("br",null),Dt.default.createElement("input",{type:"radio",id:"memembed_terminal_out",name:"memembed_terminal",value:"out",checked:this.props.memembed_terminal==="out",onChange:this.props.handleSidebarChange})," ",Dt.default.createElement("label",{htmlFor:"memembed_terminal_out"},"Extra Cellular"),Dt.default.createElement("br",null),Dt.default.createElement("br",null))}},j_=class extends Dt.default.Component{render(){return Dt.default.createElement("div",{className:"row form-header-row"},Dt.default.createElement("h4",null,this.props.job_strings.dompred.fullName),Dt.default.createElement("strong",null,"PSI-BLAST e-value cutoff:"),Dt.default.createElement("input",{type:"text",id:"dompred_e_value_cutoff",name:"dompred_e_value_cutoff",value:this.props.dompred_e_value_cutoff,onChange:this.props.handleSidebarChange}),Dt.default.createElement("br",null),Dt.default.createElement("br",null),Dt.default.createElement("strong",null,"PSI-BLAST Iterations:")," ",Dt.default.createElement("input",{type:"text",id:"dompred_psiblast_iterations",name:"dompred_psiblast_iterations",value:this.props.dompred_psiblast_iterations,onChange:this.props.handleSidebarChange}))}},G_=class extends Dt.default.Component{render(){return Dt.default.createElement("div",{className:"row form-header-row"},Dt.default.createElement("h4",null,this.props.job_strings.ffpred.fullName),Dt.default.createElement("input",{type:"radio",id:"ffpred_human",name:"ffpred_selection",value:"human",checked:this.props.ffpred_selection==="human",onChange:this.props.handleSidebarChange})," ",Dt.default.createElement("label",{htmlFor:"ffpred_human"},"Human Prediction"),Dt.default.createElement("br",null),Dt.default.createElement("input",{type:"radio",id:"ffpred_fly",name:"ffpred_selection",value:"fly",checked:this.props.ffpred_selection==="fly",onChange:this.props.handleSidebarChange})," ",Dt.default.createElement("label",{htmlFor:"ffpred_fly"},"Fly Prediction"))}}});var Ie,H_,V_,Y_,d0,SC=se(()=>{Ie=rn(Nn()),H_=class extends Ie.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("div",{className:"col-md-12"},Ie.default.createElement("div",{className:"row form-header-row"},Ie.default.createElement("br",null),Ie.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},Ie.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("table",{className:"full-width-table"},Ie.default.createElement("tbody",null,Ie.default.createElement("tr",null,Ie.default.createElement("td",{colSpan:"2"},Ie.default.createElement("h4",null,"Popular Analyses"))),Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.psipred.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.psipred.jobName,value:this.props.job_strings.psipred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.psipred.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_psipred_job"},this.props.job_strings.psipred.describedName)),Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.disopred.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_disopred_job",name:this.props.job_strings.disopred.jobName,value:this.props.job_strings.disopred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.disopred.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_disopred_job"},this.props.job_strings.disopred.describedName))),Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memsatsvm.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_memsatsvm_job",name:this.props.job_strings.memsatsvm.jobName,value:this.props.job_strings.memsatsvm.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.memsatsvm.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_memsatsvm_job"},this.props.job_strings.memsatsvm.describedName)),Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pgenthreader.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_pgenthreader_job",name:this.props.job_strings.pgenthreader.jobName,value:this.props.job_strings.pgenthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.pgenthreader.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_pgenthreader_job"},this.props.job_strings.pgenthreader.describedName))),Ie.default.createElement("tr",null,Ie.default.createElement("td",{className:"input_table",colSpan:"2"},Ie.default.createElement("hr",null))),Ie.default.createElement("tr",null,Ie.default.createElement("td",null,Ie.default.createElement("h4",null,"Structure Modelling")),Ie.default.createElement("td",null)),Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpfold.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_dmpfold_job",name:this.props.job_strings.dmpfold.jobName,value:this.props.job_strings.dmpfold.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmpfold.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_dmpfold_job"},this.props.job_strings.dmpfold.describedName)),Ie.default.createElement("td",null)),Ie.default.createElement("tr",null,Ie.default.createElement("td",{className:"input_table",colSpan:"2"},Ie.default.createElement("hr",null))),Ie.default.createElement("tr",null,Ie.default.createElement("td",null,Ie.default.createElement("h4",null,"Single Sequence Prediction")),Ie.default.createElement("td",null)),Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.s4pred.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_s4pred_job",name:this.props.job_strings.s4pred.jobName,value:this.props.job_strings.s4pred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.s4pred.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_s4pred_job"},this.props.job_strings.s4pred.describedName)),Ie.default.createElement("td",null)),Ie.default.createElement("tr",null,Ie.default.createElement("td",{className:"input_table",colSpan:"2"},Ie.default.createElement("hr",null))),Ie.default.createElement("tr",null,Ie.default.createElement("td",{colSpan:"2"},Ie.default.createElement("h4",null,"Contact Analysis"))),Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmp.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_dmp_job",name:this.props.job_strings.dmp.jobName,value:this.props.job_strings.dmp.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmp.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_dmp_job"},this.props.job_strings.dmp.describedName)),Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.mempack.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_mempack_job",name:this.props.job_strings.mempack.jobName,value:this.props.job_strings.mempack.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.mempack.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_mempack_job"},this.props.job_strings.mempack.describedName))),Ie.default.createElement("tr",null,Ie.default.createElement("td",{className:"input_table",colSpan:"2"},Ie.default.createElement("hr",null))),Ie.default.createElement("tr",null,Ie.default.createElement("td",null,Ie.default.createElement("h4",null,"Fold Recognition")),Ie.default.createElement("td",null)),Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.genthreader.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_genthreader_job",name:this.props.job_strings.genthreader.jobName,value:this.props.job_strings.genthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.genthreader.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_genthreader_job"},this.props.job_strings.genthreader.describedName)),Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pdomthreader.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_pdomthreader_job",name:this.props.job_strings.pdomthreader.jobName,value:this.props.job_strings.pdomthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.pdomthreader.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_pdomthreader_job"},this.props.job_strings.pdomthreader.describedName))),Ie.default.createElement("tr",null,Ie.default.createElement("td",{className:"input_table",colSpan:"2"},Ie.default.createElement("hr",null))),Ie.default.createElement("tr",null,Ie.default.createElement("td",null,Ie.default.createElement("h4",null,"Domain Prediction")),Ie.default.createElement("td",null)),Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dompred.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_dompred_job",name:this.props.job_strings.dompred.jobName,value:this.props.job_strings.dompred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dompred.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_dompred_job"},this.props.job_strings.dompred.describedName)),Ie.default.createElement("td",null)),Ie.default.createElement("tr",null,Ie.default.createElement("td",{className:"input_table",colSpan:"2"},Ie.default.createElement("hr",null))),Ie.default.createElement("tr",null,Ie.default.createElement("td",null,Ie.default.createElement("h4",null,"Function Prediction")),Ie.default.createElement("td",null)),Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.ffpred.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_ffpred_job",name:this.props.job_strings.ffpred.jobName,value:this.props.job_strings.ffpred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.ffpred.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_ffpred_job"},this.props.job_strings.ffpred.describedName)," "),Ie.default.createElement("td",null)),Ie.default.createElement("tr",null,Ie.default.createElement("td",{colSpan:"2"},Ie.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),Ie.default.createElement("br",null)))))),Ie.default.createElement("div",{className:"col-sm-12 form-header-blue"},Ie.default.createElement("div",{className:"row form-header-row"},Ie.default.createElement("h5",{className:"float-header"},"Submission details"))),Ie.default.createElement("br",null),Ie.default.createElement("br",null),Ie.default.createElement("p",{className:"form_error"}),Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("label",{className:"control-label",htmlFor:"id_input_data"},"Protein Sequence"),Ie.default.createElement("textarea",{className:"form-control",cols:"40",rows:"3",placeholder:"Protein Sequence",title:"",required:"",id:"id_input_data",name:"input_data",value:this.props.input_data,onChange:this.handleChange}))),Ie.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),Ie.default.createElement("br",null)," If you wish to test these services follow this link to retrieve ",Ie.default.createElement("a",{className:"form-link",href:"http://www.uniprot.org/uniprot/B0R5N9.fasta"},"a test fasta sequence"),".",Ie.default.createElement("br",null),Ie.default.createElement("br",null),Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),Ie.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),Ie.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?Ie.default.createElement("div",null,Ie.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",Ie.default.createElement("input",{className:"btn btn-primary",name:"submit",type:"submit",value:"submit"}))))))}},V_=class extends Ie.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("div",{className:"col-md-12"},Ie.default.createElement("div",{className:"row form-header-row"},Ie.default.createElement("br",null),Ie.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},Ie.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("table",{className:"full-width-table"},Ie.default.createElement("tbody",null,Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.metsite.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_metsite_job",name:this.props.job_strings.metsite.jobName,value:this.props.job_strings.metsite.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.metsite.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_metsite_job"},this.props.job_strings.metsite.describedName)),Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.hspred.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_hspred_job",name:this.props.job_strings.hspred.jobName,value:this.props.job_strings.hspred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.hspred.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_hspred_job"},this.props.job_strings.hspred.describedName))),Ie.default.createElement("tr",null,Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memembed.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_memembed_job",name:this.props.job_strings.memembed.jobName,value:this.props.job_strings.memembed.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.memembed.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_memembed_job"},this.props.job_strings.memembed.describedName)),Ie.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.merizo.tooltip},Ie.default.createElement("input",{type:"checkbox",id:"id_merizo_job",name:this.props.job_strings.merizo.jobName,value:this.props.job_strings.merizo.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.merizo.jobName)}),"\xA0",Ie.default.createElement("label",{htmlFor:"id_merizo_job"},this.props.job_strings.merizo.describedName))),Ie.default.createElement("tr",null,Ie.default.createElement("td",{colSpan:"2"},Ie.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),Ie.default.createElement("br",null)))))),Ie.default.createElement("div",{className:"col-sm-12 form-header-red"},Ie.default.createElement("div",{className:"row form-header-row"},Ie.default.createElement("h5",{className:"float-header"},"Submission details"))),Ie.default.createElement("p",{className:"form_error"})," ",Ie.default.createElement("br",null),Ie.default.createElement("br",null),Ie.default.createElement("br",null)," Select PDB file",Ie.default.createElement("br",null)," ",Ie.default.createElement("input",{type:"file",id:"pdbFile",name:"pdbFile",defaultValue:""}),Ie.default.createElement("br",null),Ie.default.createElement("br",null),Ie.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),Ie.default.createElement("br",null),"If you wish to tryMetsite or HSPred follow this link to retrieve ",Ie.default.createElement("a",{className:"form-link",href:"http://www.rcsb.org/pdb/download/downloadFile.do?fileFormat=pdb&compression=NO&structureId=1IAR"},"a test pdb file."),Ie.default.createElement("br",null),Ie.default.createElement("br",null),Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),Ie.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),Ie.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?Ie.default.createElement("div",null,Ie.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):Ie.default.createElement("div",{className:"form-group"},Ie.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",Ie.default.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))))))}},Y_=class extends Ie.default.Component{render(t){return Ie.default.createElement("div",{className:"box-body"},Ie.default.createElement("div",{className:"form-group"},this.props.formSelectedOption==="SeqForm"?Ie.default.createElement("div",{className:"col-md-12 form-header-blue"},Ie.default.createElement("div",{className:"row form-header-row"},Ie.default.createElement("h5",{className:"float-header"},"Select input data type"))):Ie.default.createElement("div",{className:"col-md-12 form-header-red"},Ie.default.createElement("div",{className:"row form-header-row"},Ie.default.createElement("h5",{className:"float-header"},"Select input data type"))),Ie.default.createElement("div",{className:"col-md-12"},Ie.default.createElement("div",{className:"row form-header-row"},Ie.default.createElement("div",{className:"funkyradio"},Ie.default.createElement("div",{className:"funkyradio-primary"},Ie.default.createElement("input",{type:"radio",id:"radio1",name:"radio",value:"SeqForm",checked:this.props.formSelectedOption==="SeqForm",onChange:this.props.handleInputChange})," ",Ie.default.createElement("label",{htmlFor:"radio1"},Ie.default.createElement("b",null,"Sequence Data\xA0\xA0"))),"\xA0\xA0\xA0",Ie.default.createElement("div",{className:"funkyradio-danger"},Ie.default.createElement("input",{type:"radio",id:"radio2",name:"radio",value:"StructForm",checked:this.props.formSelectedOption==="StructForm",onChange:this.props.handleInputChange})," ",Ie.default.createElement("label",{htmlFor:"radio2"},Ie.default.createElement("b",null,"PDB Structure Data\xA0\xA0")))),Ie.default.createElement("br",null)))),Ie.default.createElement("div",{className:"form-group"},this.props.formSelectedOption==="SeqForm"?Ie.default.createElement("div",{className:"col-md-12 form-header-blue"},Ie.default.createElement("div",{className:"row form-header-row"},Ie.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)"))):Ie.default.createElement("div",{className:"col-md-12 form-header-red"},Ie.default.createElement("div",{className:"row form-header-row"},Ie.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)")))),this.props.formSelectedOption==="SeqForm"?Ie.default.createElement(H_,{...this.props,handleChange:this.props.handleSeqChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit}):Ie.default.createElement(V_,{...this.props,handleChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit}))}},d0=class extends Ie.default.Component{render(){return Ie.default.createElement("div",{id:"main_form",className:"box box-primary"},Ie.default.createElement("div",{className:"box-header with-border"},Ie.default.createElement("p",null,"The PSIPRED Workbench provides a range of protein structure prediction methods. The site can be used interactively via a web browser or programmatically via our REST API. For high-throughput analyses, downloads of all the algorithms are available."),Ie.default.createElement("p",null,Ie.default.createElement("b",null,"Amino acid")," sequences enable: secondary structure prediction, including regions of disorder and transmembrane helix packing; contact analysis; fold recognition; structure modelling; and prediction of domains and function. In addition ",Ie.default.createElement("b",null,"PDB Structure files")," allow prediction of protein-metal ion contacts, protein-protein hotspot residues, and membrane protein orientation."),Ie.default.createElement("hr",{id:"hr_form"})),Ie.default.createElement("div",{className:"box-header with-border"},Ie.default.createElement("h5",{className:"box-title"},"Data Input")),Ie.default.createElement(Y_,{...this.props,handleSubmit:this.props.handleSubmit,handleInputChange:this.props.handleInputChange,handleStructChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSeqChange:this.props.handleSeqChange}))}}});var h0=Pn((CC,c0)=>{(function(e,t){"use strict";typeof c0=="object"&&typeof c0.exports=="object"?c0.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return t(r)}:t(e)})(typeof window<"u"?window:CC,function(e,t){"use strict";var r=[],n=Object.getPrototypeOf,a=r.slice,s=r.flat?function(A){return r.flat.call(A)}:function(A){return r.concat.apply([],A)},o=r.push,l=r.indexOf,u={},v=u.toString,g=u.hasOwnProperty,_=g.toString,y=_.call(Object),w={},x=function(N){return typeof N=="function"&&typeof N.nodeType!="number"&&typeof N.item!="function"},f=function(N){return N!=null&&N===N.window},b=e.document,h={type:!0,src:!0,nonce:!0,noModule:!0};function S(A,N,U){U=U||b;var Y,ee,te=U.createElement("script");if(te.text=A,N)for(Y in h)ee=N[Y]||N.getAttribute&&N.getAttribute(Y),ee&&te.setAttribute(Y,ee);U.head.appendChild(te).parentNode.removeChild(te)}function C(A){return A==null?A+"":typeof A=="object"||typeof A=="function"?u[v.call(A)]||"object":typeof A}var M="3.7.0",p=/HTML$/i,c=function(A,N){return new c.fn.init(A,N)};c.fn=c.prototype={jquery:M,constructor:c,length:0,toArray:function(){return a.call(this)},get:function(A){return A==null?a.call(this):A<0?this[A+this.length]:this[A]},pushStack:function(A){var N=c.merge(this.constructor(),A);return N.prevObject=this,N},each:function(A){return c.each(this,A)},map:function(A){return this.pushStack(c.map(this,function(N,U){return A.call(N,U,N)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(c.grep(this,function(A,N){return(N+1)%2}))},odd:function(){return this.pushStack(c.grep(this,function(A,N){return N%2}))},eq:function(A){var N=this.length,U=+A+(A<0?N:0);return this.pushStack(U>=0&&U<N?[this[U]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:r.sort,splice:r.splice},c.extend=c.fn.extend=function(){var A,N,U,Y,ee,te,de=arguments[0]||{},Oe=1,Ae=arguments.length,Ze=!1;for(typeof de=="boolean"&&(Ze=de,de=arguments[Oe]||{},Oe++),typeof de!="object"&&!x(de)&&(de={}),Oe===Ae&&(de=this,Oe--);Oe<Ae;Oe++)if((A=arguments[Oe])!=null)for(N in A)Y=A[N],!(N==="__proto__"||de===Y)&&(Ze&&Y&&(c.isPlainObject(Y)||(ee=Array.isArray(Y)))?(U=de[N],ee&&!Array.isArray(U)?te=[]:!ee&&!c.isPlainObject(U)?te={}:te=U,ee=!1,de[N]=c.extend(Ze,te,Y)):Y!==void 0&&(de[N]=Y));return de},c.extend({expando:"jQuery"+(M+Math.random()).replace(/\D/g,""),isReady:!0,error:function(A){throw new Error(A)},noop:function(){},isPlainObject:function(A){var N,U;return!A||v.call(A)!=="[object Object]"?!1:(N=n(A),N?(U=g.call(N,"constructor")&&N.constructor,typeof U=="function"&&_.call(U)===y):!0)},isEmptyObject:function(A){var N;for(N in A)return!1;return!0},globalEval:function(A,N,U){S(A,{nonce:N&&N.nonce},U)},each:function(A,N){var U,Y=0;if(E(A))for(U=A.length;Y<U&&N.call(A[Y],Y,A[Y])!==!1;Y++);else for(Y in A)if(N.call(A[Y],Y,A[Y])===!1)break;return A},text:function(A){var N,U="",Y=0,ee=A.nodeType;if(ee){if(ee===1||ee===9||ee===11)return A.textContent;if(ee===3||ee===4)return A.nodeValue}else for(;N=A[Y++];)U+=c.text(N);return U},makeArray:function(A,N){var U=N||[];return A!=null&&(E(Object(A))?c.merge(U,typeof A=="string"?[A]:A):o.call(U,A)),U},inArray:function(A,N,U){return N==null?-1:l.call(N,A,U)},isXMLDoc:function(A){var N=A&&A.namespaceURI,U=A&&(A.ownerDocument||A).documentElement;return!p.test(N||U&&U.nodeName||"HTML")},merge:function(A,N){for(var U=+N.length,Y=0,ee=A.length;Y<U;Y++)A[ee++]=N[Y];return A.length=ee,A},grep:function(A,N,U){for(var Y,ee=[],te=0,de=A.length,Oe=!U;te<de;te++)Y=!N(A[te],te),Y!==Oe&&ee.push(A[te]);return ee},map:function(A,N,U){var Y,ee,te=0,de=[];if(E(A))for(Y=A.length;te<Y;te++)ee=N(A[te],te,U),ee!=null&&de.push(ee);else for(te in A)ee=N(A[te],te,U),ee!=null&&de.push(ee);return s(de)},guid:1,support:w}),typeof Symbol=="function"&&(c.fn[Symbol.iterator]=r[Symbol.iterator]),c.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(A,N){u["[object "+N+"]"]=N.toLowerCase()});function E(A){var N=!!A&&"length"in A&&A.length,U=C(A);return x(A)||f(A)?!1:U==="array"||N===0||typeof N=="number"&&N>0&&N-1 in A}function D(A,N){return A.nodeName&&A.nodeName.toLowerCase()===N.toLowerCase()}var I=r.pop,O=r.sort,P=r.splice,k="[\\x20\\t\\r\\n\\f]",B=new RegExp("^"+k+"+|((?:^|[^\\\\])(?:\\\\.)*)"+k+"+$","g");c.contains=function(A,N){var U=N&&N.parentNode;return A===U||!!(U&&U.nodeType===1&&(A.contains?A.contains(U):A.compareDocumentPosition&&A.compareDocumentPosition(U)&16))};var G=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function K(A,N){return N?A==="\0"?"\uFFFD":A.slice(0,-1)+"\\"+A.charCodeAt(A.length-1).toString(16)+" ":"\\"+A}c.escapeSelector=function(A){return(A+"").replace(G,K)};var q=b,H=o;(function(){var A,N,U,Y,ee,te=H,de,Oe,Ae,Ze,dt,mt=c.expando,it=0,xt=0,Kt=Ls(),lr=Ls(),tr=Ls(),pn=Ls(),qr=function(xe,We){return xe===We&&(ee=!0),0},Ci="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Un="(?:\\\\[\\da-fA-F]{1,6}"+k+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",sr="\\["+k+"*("+Un+")(?:"+k+"*([*^$|!~]?=)"+k+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Un+"))|)"+k+"*\\]",Da=":("+Un+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+sr+")*)|.*)\\)|)",hr=new RegExp(k+"+","g"),jr=new RegExp("^"+k+"*,"+k+"*"),Bi=new RegExp("^"+k+"*([>+~]|"+k+")"+k+"*"),Ei=new RegExp(k+"|>"),Mi=new RegExp(Da),Aa=new RegExp("^"+Un+"$"),Di={ID:new RegExp("^#("+Un+")"),CLASS:new RegExp("^\\.("+Un+")"),TAG:new RegExp("^("+Un+"|[*])"),ATTR:new RegExp("^"+sr),PSEUDO:new RegExp("^"+Da),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+k+"*(even|odd|(([+-]|)(\\d*)n|)"+k+"*(?:([+-]|)"+k+"*(\\d+)|))"+k+"*\\)|)","i"),bool:new RegExp("^(?:"+Ci+")$","i"),needsContext:new RegExp("^"+k+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+k+"*((?:-\\d)?\\d*)"+k+"*\\)|)(?=[^-]|$)","i")},Ai=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,Zn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,il=/[+~]/,Ri=new RegExp("\\\\[\\da-fA-F]{1,6}"+k+"?|\\\\([^\\r\\n\\f])","g"),Wn=function(xe,We){var tt="0x"+xe.slice(1)-65536;return We||(tt<0?String.fromCharCode(tt+65536):String.fromCharCode(tt>>10|55296,tt&1023|56320))},nd=function(){La()},bu=Os(function(xe){return xe.disabled===!0&&D(xe,"fieldset")},{dir:"parentNode",next:"legend"});function Sr(){try{return de.activeElement}catch{}}try{te.apply(r=a.call(q.childNodes),q.childNodes),r[q.childNodes.length].nodeType}catch{te={apply:function(We,tt){H.apply(We,a.call(tt))},call:function(We){H.apply(We,a.call(arguments,1))}}}function Er(xe,We,tt,ft){var pt,Tt,kt,Bt,Pt,ir,Ut,Gt=We&&We.ownerDocument,rr=We?We.nodeType:9;if(tt=tt||[],typeof xe!="string"||!xe||rr!==1&&rr!==9&&rr!==11)return tt;if(!ft&&(La(We),We=We||de,Ae)){if(rr!==11&&(Pt=Zn.exec(xe)))if(pt=Pt[1]){if(rr===9)if(kt=We.getElementById(pt)){if(kt.id===pt)return te.call(tt,kt),tt}else return tt;else if(Gt&&(kt=Gt.getElementById(pt))&&Er.contains(We,kt)&&kt.id===pt)return te.call(tt,kt),tt}else{if(Pt[2])return te.apply(tt,We.getElementsByTagName(xe)),tt;if((pt=Pt[3])&&We.getElementsByClassName)return te.apply(tt,We.getElementsByClassName(pt)),tt}if(!pn[xe+" "]&&(!Ze||!Ze.test(xe))){if(Ut=xe,Gt=We,rr===1&&(Ei.test(xe)||Bi.test(xe))){for(Gt=il.test(xe)&&al(We.parentNode)||We,(Gt!=We||!w.scope)&&((Bt=We.getAttribute("id"))?Bt=c.escapeSelector(Bt):We.setAttribute("id",Bt=mt)),ir=Oa(xe),Tt=ir.length;Tt--;)ir[Tt]=(Bt?"#"+Bt:":scope")+" "+ka(ir[Tt]);Ut=ir.join(",")}try{return te.apply(tt,Gt.querySelectorAll(Ut)),tt}catch{pn(xe,!0)}finally{Bt===mt&&We.removeAttribute("id")}}}return sl(xe.replace(B,"$1"),We,tt,ft)}function Ls(){var xe=[];function We(tt,ft){return xe.push(tt+" ")>N.cacheLength&&delete We[xe.shift()],We[tt+" "]=ft}return We}function jn(xe){return xe[mt]=!0,xe}function ia(xe){var We=de.createElement("fieldset");try{return!!xe(We)}catch{return!1}finally{We.parentNode&&We.parentNode.removeChild(We),We=null}}function yu(xe){return function(We){return D(We,"input")&&We.type===xe}}function id(xe){return function(We){return(D(We,"input")||D(We,"button"))&&We.type===xe}}function qa(xe){return function(We){return"form"in We?We.parentNode&&We.disabled===!1?"label"in We?"label"in We.parentNode?We.parentNode.disabled===xe:We.disabled===xe:We.isDisabled===xe||We.isDisabled!==!xe&&bu(We)===xe:We.disabled===xe:"label"in We?We.disabled===xe:!1}}function Ta(xe){return jn(function(We){return We=+We,jn(function(tt,ft){for(var pt,Tt=xe([],tt.length,We),kt=Tt.length;kt--;)tt[pt=Tt[kt]]&&(tt[pt]=!(ft[pt]=tt[pt]))})})}function al(xe){return xe&&typeof xe.getElementsByTagName<"u"&&xe}function La(xe){var We,tt=xe?xe.ownerDocument||xe:q;return tt==de||tt.nodeType!==9||!tt.documentElement||(de=tt,Oe=de.documentElement,Ae=!c.isXMLDoc(de),dt=Oe.matches||Oe.webkitMatchesSelector||Oe.msMatchesSelector,q!=de&&(We=de.defaultView)&&We.top!==We&&We.addEventListener("unload",nd),w.getById=ia(function(ft){return Oe.appendChild(ft).id=c.expando,!de.getElementsByName||!de.getElementsByName(c.expando).length}),w.disconnectedMatch=ia(function(ft){return dt.call(ft,"*")}),w.scope=ia(function(){return de.querySelectorAll(":scope")}),w.cssHas=ia(function(){try{return de.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),w.getById?(N.filter.ID=function(ft){var pt=ft.replace(Ri,Wn);return function(Tt){return Tt.getAttribute("id")===pt}},N.find.ID=function(ft,pt){if(typeof pt.getElementById<"u"&&Ae){var Tt=pt.getElementById(ft);return Tt?[Tt]:[]}}):(N.filter.ID=function(ft){var pt=ft.replace(Ri,Wn);return function(Tt){var kt=typeof Tt.getAttributeNode<"u"&&Tt.getAttributeNode("id");return kt&&kt.value===pt}},N.find.ID=function(ft,pt){if(typeof pt.getElementById<"u"&&Ae){var Tt,kt,Bt,Pt=pt.getElementById(ft);if(Pt){if(Tt=Pt.getAttributeNode("id"),Tt&&Tt.value===ft)return[Pt];for(Bt=pt.getElementsByName(ft),kt=0;Pt=Bt[kt++];)if(Tt=Pt.getAttributeNode("id"),Tt&&Tt.value===ft)return[Pt]}return[]}}),N.find.TAG=function(ft,pt){return typeof pt.getElementsByTagName<"u"?pt.getElementsByTagName(ft):pt.querySelectorAll(ft)},N.find.CLASS=function(ft,pt){if(typeof pt.getElementsByClassName<"u"&&Ae)return pt.getElementsByClassName(ft)},Ze=[],ia(function(ft){var pt;Oe.appendChild(ft).innerHTML="<a id='"+mt+"' href='' disabled='disabled'></a><select id='"+mt+"-\r\\' disabled='disabled'><option selected=''></option></select>",ft.querySelectorAll("[selected]").length||Ze.push("\\["+k+"*(?:value|"+Ci+")"),ft.querySelectorAll("[id~="+mt+"-]").length||Ze.push("~="),ft.querySelectorAll("a#"+mt+"+*").length||Ze.push(".#.+[+~]"),ft.querySelectorAll(":checked").length||Ze.push(":checked"),pt=de.createElement("input"),pt.setAttribute("type","hidden"),ft.appendChild(pt).setAttribute("name","D"),Oe.appendChild(ft).disabled=!0,ft.querySelectorAll(":disabled").length!==2&&Ze.push(":enabled",":disabled"),pt=de.createElement("input"),pt.setAttribute("name",""),ft.appendChild(pt),ft.querySelectorAll("[name='']").length||Ze.push("\\["+k+"*name"+k+"*="+k+`*(?:''|"")`)}),w.cssHas||Ze.push(":has"),Ze=Ze.length&&new RegExp(Ze.join("|")),qr=function(ft,pt){if(ft===pt)return ee=!0,0;var Tt=!ft.compareDocumentPosition-!pt.compareDocumentPosition;return Tt||(Tt=(ft.ownerDocument||ft)==(pt.ownerDocument||pt)?ft.compareDocumentPosition(pt):1,Tt&1||!w.sortDetached&&pt.compareDocumentPosition(ft)===Tt?ft===de||ft.ownerDocument==q&&Er.contains(q,ft)?-1:pt===de||pt.ownerDocument==q&&Er.contains(q,pt)?1:Y?l.call(Y,ft)-l.call(Y,pt):0:Tt&4?-1:1)}),de}Er.matches=function(xe,We){return Er(xe,null,null,We)},Er.matchesSelector=function(xe,We){if(La(xe),Ae&&!pn[We+" "]&&(!Ze||!Ze.test(We)))try{var tt=dt.call(xe,We);if(tt||w.disconnectedMatch||xe.document&&xe.document.nodeType!==11)return tt}catch{pn(We,!0)}return Er(We,de,null,[xe]).length>0},Er.contains=function(xe,We){return(xe.ownerDocument||xe)!=de&&La(xe),c.contains(xe,We)},Er.attr=function(xe,We){(xe.ownerDocument||xe)!=de&&La(xe);var tt=N.attrHandle[We.toLowerCase()],ft=tt&&g.call(N.attrHandle,We.toLowerCase())?tt(xe,We,!Ae):void 0;return ft!==void 0?ft:xe.getAttribute(We)},Er.error=function(xe){throw new Error("Syntax error, unrecognized expression: "+xe)},c.uniqueSort=function(xe){var We,tt=[],ft=0,pt=0;if(ee=!w.sortStable,Y=!w.sortStable&&a.call(xe,0),O.call(xe,qr),ee){for(;We=xe[pt++];)We===xe[pt]&&(ft=tt.push(pt));for(;ft--;)P.call(xe,tt[ft],1)}return Y=null,xe},c.fn.uniqueSort=function(){return this.pushStack(c.uniqueSort(a.apply(this)))},N=c.expr={cacheLength:50,createPseudo:jn,match:Di,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(xe){return xe[1]=xe[1].replace(Ri,Wn),xe[3]=(xe[3]||xe[4]||xe[5]||"").replace(Ri,Wn),xe[2]==="~="&&(xe[3]=" "+xe[3]+" "),xe.slice(0,4)},CHILD:function(xe){return xe[1]=xe[1].toLowerCase(),xe[1].slice(0,3)==="nth"?(xe[3]||Er.error(xe[0]),xe[4]=+(xe[4]?xe[5]+(xe[6]||1):2*(xe[3]==="even"||xe[3]==="odd")),xe[5]=+(xe[7]+xe[8]||xe[3]==="odd")):xe[3]&&Er.error(xe[0]),xe},PSEUDO:function(xe){var We,tt=!xe[6]&&xe[2];return Di.CHILD.test(xe[0])?null:(xe[3]?xe[2]=xe[4]||xe[5]||"":tt&&Mi.test(tt)&&(We=Oa(tt,!0))&&(We=tt.indexOf(")",tt.length-We)-tt.length)&&(xe[0]=xe[0].slice(0,We),xe[2]=tt.slice(0,We)),xe.slice(0,3))}},filter:{TAG:function(xe){var We=xe.replace(Ri,Wn).toLowerCase();return xe==="*"?function(){return!0}:function(tt){return D(tt,We)}},CLASS:function(xe){var We=Kt[xe+" "];return We||(We=new RegExp("(^|"+k+")"+xe+"("+k+"|$)"))&&Kt(xe,function(tt){return We.test(typeof tt.className=="string"&&tt.className||typeof tt.getAttribute<"u"&&tt.getAttribute("class")||"")})},ATTR:function(xe,We,tt){return function(ft){var pt=Er.attr(ft,xe);return pt==null?We==="!=":We?(pt+="",We==="="?pt===tt:We==="!="?pt!==tt:We==="^="?tt&&pt.indexOf(tt)===0:We==="*="?tt&&pt.indexOf(tt)>-1:We==="$="?tt&&pt.slice(-tt.length)===tt:We==="~="?(" "+pt.replace(hr," ")+" ").indexOf(tt)>-1:We==="|="?pt===tt||pt.slice(0,tt.length+1)===tt+"-":!1):!0}},CHILD:function(xe,We,tt,ft,pt){var Tt=xe.slice(0,3)!=="nth",kt=xe.slice(-4)!=="last",Bt=We==="of-type";return ft===1&&pt===0?function(Pt){return!!Pt.parentNode}:function(Pt,ir,Ut){var Gt,rr,Wt,ur,mn,gn=Tt!==kt?"nextSibling":"previousSibling",kn=Pt.parentNode,Xn=Bt&&Pt.nodeName.toLowerCase(),Pa=!Ut&&!Bt,bn=!1;if(kn){if(Tt){for(;gn;){for(Wt=Pt;Wt=Wt[gn];)if(Bt?D(Wt,Xn):Wt.nodeType===1)return!1;mn=gn=xe==="only"&&!mn&&"nextSibling"}return!0}if(mn=[kt?kn.firstChild:kn.lastChild],kt&&Pa){for(rr=kn[mt]||(kn[mt]={}),Gt=rr[xe]||[],ur=Gt[0]===it&&Gt[1],bn=ur&&Gt[2],Wt=ur&&kn.childNodes[ur];Wt=++ur&&Wt&&Wt[gn]||(bn=ur=0)||mn.pop();)if(Wt.nodeType===1&&++bn&&Wt===Pt){rr[xe]=[it,ur,bn];break}}else if(Pa&&(rr=Pt[mt]||(Pt[mt]={}),Gt=rr[xe]||[],ur=Gt[0]===it&&Gt[1],bn=ur),bn===!1)for(;(Wt=++ur&&Wt&&Wt[gn]||(bn=ur=0)||mn.pop())&&!((Bt?D(Wt,Xn):Wt.nodeType===1)&&++bn&&(Pa&&(rr=Wt[mt]||(Wt[mt]={}),rr[xe]=[it,bn]),Wt===Pt)););return bn-=pt,bn===ft||bn%ft===0&&bn/ft>=0}}},PSEUDO:function(xe,We){var tt,ft=N.pseudos[xe]||N.setFilters[xe.toLowerCase()]||Er.error("unsupported pseudo: "+xe);return ft[mt]?ft(We):ft.length>1?(tt=[xe,xe,"",We],N.setFilters.hasOwnProperty(xe.toLowerCase())?jn(function(pt,Tt){for(var kt,Bt=ft(pt,We),Pt=Bt.length;Pt--;)kt=l.call(pt,Bt[Pt]),pt[kt]=!(Tt[kt]=Bt[Pt])}):function(pt){return ft(pt,0,tt)}):ft}},pseudos:{not:jn(function(xe){var We=[],tt=[],ft=On(xe.replace(B,"$1"));return ft[mt]?jn(function(pt,Tt,kt,Bt){for(var Pt,ir=ft(pt,null,Bt,[]),Ut=pt.length;Ut--;)(Pt=ir[Ut])&&(pt[Ut]=!(Tt[Ut]=Pt))}):function(pt,Tt,kt){return We[0]=pt,ft(We,null,kt,tt),We[0]=null,!tt.pop()}}),has:jn(function(xe){return function(We){return Er(xe,We).length>0}}),contains:jn(function(xe){return xe=xe.replace(Ri,Wn),function(We){return(We.textContent||c.text(We)).indexOf(xe)>-1}}),lang:jn(function(xe){return Aa.test(xe||"")||Er.error("unsupported lang: "+xe),xe=xe.replace(Ri,Wn).toLowerCase(),function(We){var tt;do if(tt=Ae?We.lang:We.getAttribute("xml:lang")||We.getAttribute("lang"))return tt=tt.toLowerCase(),tt===xe||tt.indexOf(xe+"-")===0;while((We=We.parentNode)&&We.nodeType===1);return!1}}),target:function(xe){var We=e.location&&e.location.hash;return We&&We.slice(1)===xe.id},root:function(xe){return xe===Oe},focus:function(xe){return xe===Sr()&&de.hasFocus()&&!!(xe.type||xe.href||~xe.tabIndex)},enabled:qa(!1),disabled:qa(!0),checked:function(xe){return D(xe,"input")&&!!xe.checked||D(xe,"option")&&!!xe.selected},selected:function(xe){return xe.parentNode&&xe.parentNode.selectedIndex,xe.selected===!0},empty:function(xe){for(xe=xe.firstChild;xe;xe=xe.nextSibling)if(xe.nodeType<6)return!1;return!0},parent:function(xe){return!N.pseudos.empty(xe)},header:function(xe){return na.test(xe.nodeName)},input:function(xe){return Ai.test(xe.nodeName)},button:function(xe){return D(xe,"input")&&xe.type==="button"||D(xe,"button")},text:function(xe){var We;return D(xe,"input")&&xe.type==="text"&&((We=xe.getAttribute("type"))==null||We.toLowerCase()==="text")},first:Ta(function(){return[0]}),last:Ta(function(xe,We){return[We-1]}),eq:Ta(function(xe,We,tt){return[tt<0?tt+We:tt]}),even:Ta(function(xe,We){for(var tt=0;tt<We;tt+=2)xe.push(tt);return xe}),odd:Ta(function(xe,We){for(var tt=1;tt<We;tt+=2)xe.push(tt);return xe}),lt:Ta(function(xe,We,tt){var ft;for(tt<0?ft=tt+We:tt>We?ft=We:ft=tt;--ft>=0;)xe.push(ft);return xe}),gt:Ta(function(xe,We,tt){for(var ft=tt<0?tt+We:tt;++ft<We;)xe.push(ft);return xe})}},N.pseudos.nth=N.pseudos.eq;for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[A]=yu(A);for(A in{submit:!0,reset:!0})N.pseudos[A]=id(A);function Ui(){}Ui.prototype=N.filters=N.pseudos,N.setFilters=new Ui;function Oa(xe,We){var tt,ft,pt,Tt,kt,Bt,Pt,ir=lr[xe+" "];if(ir)return We?0:ir.slice(0);for(kt=xe,Bt=[],Pt=N.preFilter;kt;){(!tt||(ft=jr.exec(kt)))&&(ft&&(kt=kt.slice(ft[0].length)||kt),Bt.push(pt=[])),tt=!1,(ft=Bi.exec(kt))&&(tt=ft.shift(),pt.push({value:tt,type:ft[0].replace(B," ")}),kt=kt.slice(tt.length));for(Tt in N.filter)(ft=Di[Tt].exec(kt))&&(!Pt[Tt]||(ft=Pt[Tt](ft)))&&(tt=ft.shift(),pt.push({value:tt,type:Tt,matches:ft}),kt=kt.slice(tt.length));if(!tt)break}return We?kt.length:kt?Er.error(xe):lr(xe,Bt).slice(0)}function ka(xe){for(var We=0,tt=xe.length,ft="";We<tt;We++)ft+=xe[We].value;return ft}function Os(xe,We,tt){var ft=We.dir,pt=We.next,Tt=pt||ft,kt=tt&&Tt==="parentNode",Bt=xt++;return We.first?function(Pt,ir,Ut){for(;Pt=Pt[ft];)if(Pt.nodeType===1||kt)return xe(Pt,ir,Ut);return!1}:function(Pt,ir,Ut){var Gt,rr,Wt=[it,Bt];if(Ut){for(;Pt=Pt[ft];)if((Pt.nodeType===1||kt)&&xe(Pt,ir,Ut))return!0}else for(;Pt=Pt[ft];)if(Pt.nodeType===1||kt)if(rr=Pt[mt]||(Pt[mt]={}),pt&&D(Pt,pt))Pt=Pt[ft]||Pt;else{if((Gt=rr[Tt])&&Gt[0]===it&&Gt[1]===Bt)return Wt[2]=Gt[2];if(rr[Tt]=Wt,Wt[2]=xe(Pt,ir,Ut))return!0}return!1}}function ks(xe){return xe.length>1?function(We,tt,ft){for(var pt=xe.length;pt--;)if(!xe[pt](We,tt,ft))return!1;return!0}:xe[0]}function ad(xe,We,tt){for(var ft=0,pt=We.length;ft<pt;ft++)Er(xe,We[ft],tt);return tt}function Wi(xe,We,tt,ft,pt){for(var Tt,kt=[],Bt=0,Pt=xe.length,ir=We!=null;Bt<Pt;Bt++)(Tt=xe[Bt])&&(!tt||tt(Tt,ft,pt))&&(kt.push(Tt),ir&&We.push(Bt));return kt}function li(xe,We,tt,ft,pt,Tt){return ft&&!ft[mt]&&(ft=li(ft)),pt&&!pt[mt]&&(pt=li(pt,Tt)),jn(function(kt,Bt,Pt,ir){var Ut,Gt,rr,Wt,ur=[],mn=[],gn=Bt.length,kn=kt||ad(We||"*",Pt.nodeType?[Pt]:Pt,[]),Xn=xe&&(kt||!We)?Wi(kn,ur,xe,Pt,ir):kn;if(tt?(Wt=pt||(kt?xe:gn||ft)?[]:Bt,tt(Xn,Wt,Pt,ir)):Wt=Xn,ft)for(Ut=Wi(Wt,mn),ft(Ut,[],Pt,ir),Gt=Ut.length;Gt--;)(rr=Ut[Gt])&&(Wt[mn[Gt]]=!(Xn[mn[Gt]]=rr));if(kt){if(pt||xe){if(pt){for(Ut=[],Gt=Wt.length;Gt--;)(rr=Wt[Gt])&&Ut.push(Xn[Gt]=rr);pt(null,Wt=[],Ut,ir)}for(Gt=Wt.length;Gt--;)(rr=Wt[Gt])&&(Ut=pt?l.call(kt,rr):ur[Gt])>-1&&(kt[Ut]=!(Bt[Ut]=rr))}}else Wt=Wi(Wt===Bt?Wt.splice(gn,Wt.length):Wt),pt?pt(null,Bt,Wt,ir):te.apply(Bt,Wt)})}function Ps(xe){for(var We,tt,ft,pt=xe.length,Tt=N.relative[xe[0].type],kt=Tt||N.relative[" "],Bt=Tt?1:0,Pt=Os(function(Gt){return Gt===We},kt,!0),ir=Os(function(Gt){return l.call(We,Gt)>-1},kt,!0),Ut=[function(Gt,rr,Wt){var ur=!Tt&&(Wt||rr!=U)||((We=rr).nodeType?Pt(Gt,rr,Wt):ir(Gt,rr,Wt));return We=null,ur}];Bt<pt;Bt++)if(tt=N.relative[xe[Bt].type])Ut=[Os(ks(Ut),tt)];else{if(tt=N.filter[xe[Bt].type].apply(null,xe[Bt].matches),tt[mt]){for(ft=++Bt;ft<pt&&!N.relative[xe[ft].type];ft++);return li(Bt>1&&ks(Ut),Bt>1&&ka(xe.slice(0,Bt-1).concat({value:xe[Bt-2].type===" "?"*":""})).replace(B,"$1"),tt,Bt<ft&&Ps(xe.slice(Bt,ft)),ft<pt&&Ps(xe=xe.slice(ft)),ft<pt&&ka(xe))}Ut.push(tt)}return ks(Ut)}function sd(xe,We){var tt=We.length>0,ft=xe.length>0,pt=function(Tt,kt,Bt,Pt,ir){var Ut,Gt,rr,Wt=0,ur="0",mn=Tt&&[],gn=[],kn=U,Xn=Tt||ft&&N.find.TAG("*",ir),Pa=it+=kn==null?1:Math.random()||.1,bn=Xn.length;for(ir&&(U=kt==de||kt||ir);ur!==bn&&(Ut=Xn[ur])!=null;ur++){if(ft&&Ut){for(Gt=0,!kt&&Ut.ownerDocument!=de&&(La(Ut),Bt=!Ae);rr=xe[Gt++];)if(rr(Ut,kt||de,Bt)){te.call(Pt,Ut);break}ir&&(it=Pa)}tt&&((Ut=!rr&&Ut)&&Wt--,Tt&&mn.push(Ut))}if(Wt+=ur,tt&&ur!==Wt){for(Gt=0;rr=We[Gt++];)rr(mn,gn,kt,Bt);if(Tt){if(Wt>0)for(;ur--;)mn[ur]||gn[ur]||(gn[ur]=I.call(Pt));gn=Wi(gn)}te.apply(Pt,gn),ir&&!Tt&&gn.length>0&&Wt+We.length>1&&c.uniqueSort(Pt)}return ir&&(it=Pa,U=kn),mn};return tt?jn(pt):pt}function On(xe,We){var tt,ft=[],pt=[],Tt=tr[xe+" "];if(!Tt){for(We||(We=Oa(xe)),tt=We.length;tt--;)Tt=Ps(We[tt]),Tt[mt]?ft.push(Tt):pt.push(Tt);Tt=tr(xe,sd(pt,ft)),Tt.selector=xe}return Tt}function sl(xe,We,tt,ft){var pt,Tt,kt,Bt,Pt,ir=typeof xe=="function"&&xe,Ut=!ft&&Oa(xe=ir.selector||xe);if(tt=tt||[],Ut.length===1){if(Tt=Ut[0]=Ut[0].slice(0),Tt.length>2&&(kt=Tt[0]).type==="ID"&&We.nodeType===9&&Ae&&N.relative[Tt[1].type]){if(We=(N.find.ID(kt.matches[0].replace(Ri,Wn),We)||[])[0],We)ir&&(We=We.parentNode);else return tt;xe=xe.slice(Tt.shift().value.length)}for(pt=Di.needsContext.test(xe)?0:Tt.length;pt--&&(kt=Tt[pt],!N.relative[Bt=kt.type]);)if((Pt=N.find[Bt])&&(ft=Pt(kt.matches[0].replace(Ri,Wn),il.test(Tt[0].type)&&al(We.parentNode)||We))){if(Tt.splice(pt,1),xe=ft.length&&ka(Tt),!xe)return te.apply(tt,ft),tt;break}}return(ir||On(xe,Ut))(ft,We,!Ae,tt,!We||il.test(xe)&&al(We.parentNode)||We),tt}w.sortStable=mt.split("").sort(qr).join("")===mt,La(),w.sortDetached=ia(function(xe){return xe.compareDocumentPosition(de.createElement("fieldset"))&1}),c.find=Er,c.expr[":"]=c.expr.pseudos,c.unique=c.uniqueSort,Er.compile=On,Er.select=sl,Er.setDocument=La,Er.escape=c.escapeSelector,Er.getText=c.text,Er.isXML=c.isXMLDoc,Er.selectors=c.expr,Er.support=c.support,Er.uniqueSort=c.uniqueSort})();var $=function(A,N,U){for(var Y=[],ee=U!==void 0;(A=A[N])&&A.nodeType!==9;)if(A.nodeType===1){if(ee&&c(A).is(U))break;Y.push(A)}return Y},W=function(A,N){for(var U=[];A;A=A.nextSibling)A.nodeType===1&&A!==N&&U.push(A);return U},V=c.expr.match.needsContext,Z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(A,N,U){return x(N)?c.grep(A,function(Y,ee){return!!N.call(Y,ee,Y)!==U}):N.nodeType?c.grep(A,function(Y){return Y===N!==U}):typeof N!="string"?c.grep(A,function(Y){return l.call(N,Y)>-1!==U}):c.filter(N,A,U)}c.filter=function(A,N,U){var Y=N[0];return U&&(A=":not("+A+")"),N.length===1&&Y.nodeType===1?c.find.matchesSelector(Y,A)?[Y]:[]:c.find.matches(A,c.grep(N,function(ee){return ee.nodeType===1}))},c.fn.extend({find:function(A){var N,U,Y=this.length,ee=this;if(typeof A!="string")return this.pushStack(c(A).filter(function(){for(N=0;N<Y;N++)if(c.contains(ee[N],this))return!0}));for(U=this.pushStack([]),N=0;N<Y;N++)c.find(A,ee[N],U);return Y>1?c.uniqueSort(U):U},filter:function(A){return this.pushStack(Q(this,A||[],!1))},not:function(A){return this.pushStack(Q(this,A||[],!0))},is:function(A){return!!Q(this,typeof A=="string"&&V.test(A)?c(A):A||[],!1).length}});var ie,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,De=c.fn.init=function(A,N,U){var Y,ee;if(!A)return this;if(U=U||ie,typeof A=="string")if(A[0]==="<"&&A[A.length-1]===">"&&A.length>=3?Y=[null,A,null]:Y=Ce.exec(A),Y&&(Y[1]||!N))if(Y[1]){if(N=N instanceof c?N[0]:N,c.merge(this,c.parseHTML(Y[1],N&&N.nodeType?N.ownerDocument||N:b,!0)),Z.test(Y[1])&&c.isPlainObject(N))for(Y in N)x(this[Y])?this[Y](N[Y]):this.attr(Y,N[Y]);return this}else return ee=b.getElementById(Y[2]),ee&&(this[0]=ee,this.length=1),this;else return!N||N.jquery?(N||U).find(A):this.constructor(N).find(A);else{if(A.nodeType)return this[0]=A,this.length=1,this;if(x(A))return U.ready!==void 0?U.ready(A):A(c)}return c.makeArray(A,this)};De.prototype=c.fn,ie=c(b);var Me=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({has:function(A){var N=c(A,this),U=N.length;return this.filter(function(){for(var Y=0;Y<U;Y++)if(c.contains(this,N[Y]))return!0})},closest:function(A,N){var U,Y=0,ee=this.length,te=[],de=typeof A!="string"&&c(A);if(!V.test(A)){for(;Y<ee;Y++)for(U=this[Y];U&&U!==N;U=U.parentNode)if(U.nodeType<11&&(de?de.index(U)>-1:U.nodeType===1&&c.find.matchesSelector(U,A))){te.push(U);break}}return this.pushStack(te.length>1?c.uniqueSort(te):te)},index:function(A){return A?typeof A=="string"?l.call(c(A),this[0]):l.call(this,A.jquery?A[0]:A):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(A,N){return this.pushStack(c.uniqueSort(c.merge(this.get(),c(A,N))))},addBack:function(A){return this.add(A==null?this.prevObject:this.prevObject.filter(A))}});function Te(A,N){for(;(A=A[N])&&A.nodeType!==1;);return A}c.each({parent:function(A){var N=A.parentNode;return N&&N.nodeType!==11?N:null},parents:function(A){return $(A,"parentNode")},parentsUntil:function(A,N,U){return $(A,"parentNode",U)},next:function(A){return Te(A,"nextSibling")},prev:function(A){return Te(A,"previousSibling")},nextAll:function(A){return $(A,"nextSibling")},prevAll:function(A){return $(A,"previousSibling")},nextUntil:function(A,N,U){return $(A,"nextSibling",U)},prevUntil:function(A,N,U){return $(A,"previousSibling",U)},siblings:function(A){return W((A.parentNode||{}).firstChild,A)},children:function(A){return W(A.firstChild)},contents:function(A){return A.contentDocument!=null&&n(A.contentDocument)?A.contentDocument:(D(A,"template")&&(A=A.content||A),c.merge([],A.childNodes))}},function(A,N){c.fn[A]=function(U,Y){var ee=c.map(this,N,U);return A.slice(-5)!=="Until"&&(Y=U),Y&&typeof Y=="string"&&(ee=c.filter(Y,ee)),this.length>1&&(Ne[A]||c.uniqueSort(ee),Me.test(A)&&ee.reverse()),this.pushStack(ee)}});var be=/[^\x20\t\r\n\f]+/g;function Xe(A){var N={};return c.each(A.match(be)||[],function(U,Y){N[Y]=!0}),N}c.Callbacks=function(A){A=typeof A=="string"?Xe(A):c.extend({},A);var N,U,Y,ee,te=[],de=[],Oe=-1,Ae=function(){for(ee=ee||A.once,Y=N=!0;de.length;Oe=-1)for(U=de.shift();++Oe<te.length;)te[Oe].apply(U[0],U[1])===!1&&A.stopOnFalse&&(Oe=te.length,U=!1);A.memory||(U=!1),N=!1,ee&&(U?te=[]:te="")},Ze={add:function(){return te&&(U&&!N&&(Oe=te.length-1,de.push(U)),function dt(mt){c.each(mt,function(it,xt){x(xt)?(!A.unique||!Ze.has(xt))&&te.push(xt):xt&&xt.length&&C(xt)!=="string"&&dt(xt)})}(arguments),U&&!N&&Ae()),this},remove:function(){return c.each(arguments,function(dt,mt){for(var it;(it=c.inArray(mt,te,it))>-1;)te.splice(it,1),it<=Oe&&Oe--}),this},has:function(dt){return dt?c.inArray(dt,te)>-1:te.length>0},empty:function(){return te&&(te=[]),this},disable:function(){return ee=de=[],te=U="",this},disabled:function(){return!te},lock:function(){return ee=de=[],!U&&!N&&(te=U=""),this},locked:function(){return!!ee},fireWith:function(dt,mt){return ee||(mt=mt||[],mt=[dt,mt.slice?mt.slice():mt],de.push(mt),N||Ae()),this},fire:function(){return Ze.fireWith(this,arguments),this},fired:function(){return!!Y}};return Ze};function $e(A){return A}function R(A){throw A}function me(A,N,U,Y){var ee;try{A&&x(ee=A.promise)?ee.call(A).done(N).fail(U):A&&x(ee=A.then)?ee.call(A,N,U):N.apply(void 0,[A].slice(Y))}catch(te){U.apply(void 0,[te])}}c.extend({Deferred:function(A){var N=[["notify","progress",c.Callbacks("memory"),c.Callbacks("memory"),2],["resolve","done",c.Callbacks("once memory"),c.Callbacks("once memory"),0,"resolved"],["reject","fail",c.Callbacks("once memory"),c.Callbacks("once memory"),1,"rejected"]],U="pending",Y={state:function(){return U},always:function(){return ee.done(arguments).fail(arguments),this},catch:function(te){return Y.then(null,te)},pipe:function(){var te=arguments;return c.Deferred(function(de){c.each(N,function(Oe,Ae){var Ze=x(te[Ae[4]])&&te[Ae[4]];ee[Ae[1]](function(){var dt=Ze&&Ze.apply(this,arguments);dt&&x(dt.promise)?dt.promise().progress(de.notify).done(de.resolve).fail(de.reject):de[Ae[0]+"With"](this,Ze?[dt]:arguments)})}),te=null}).promise()},then:function(te,de,Oe){var Ae=0;function Ze(dt,mt,it,xt){return function(){var Kt=this,lr=arguments,tr=function(){var qr,Ci;if(!(dt<Ae)){if(qr=it.apply(Kt,lr),qr===mt.promise())throw new TypeError("Thenable self-resolution");Ci=qr&&(typeof qr=="object"||typeof qr=="function")&&qr.then,x(Ci)?xt?Ci.call(qr,Ze(Ae,mt,$e,xt),Ze(Ae,mt,R,xt)):(Ae++,Ci.call(qr,Ze(Ae,mt,$e,xt),Ze(Ae,mt,R,xt),Ze(Ae,mt,$e,mt.notifyWith))):(it!==$e&&(Kt=void 0,lr=[qr]),(xt||mt.resolveWith)(Kt,lr))}},pn=xt?tr:function(){try{tr()}catch(qr){c.Deferred.exceptionHook&&c.Deferred.exceptionHook(qr,pn.error),dt+1>=Ae&&(it!==R&&(Kt=void 0,lr=[qr]),mt.rejectWith(Kt,lr))}};dt?pn():(c.Deferred.getErrorHook?pn.error=c.Deferred.getErrorHook():c.Deferred.getStackHook&&(pn.error=c.Deferred.getStackHook()),e.setTimeout(pn))}}return c.Deferred(function(dt){N[0][3].add(Ze(0,dt,x(Oe)?Oe:$e,dt.notifyWith)),N[1][3].add(Ze(0,dt,x(te)?te:$e)),N[2][3].add(Ze(0,dt,x(de)?de:R))}).promise()},promise:function(te){return te!=null?c.extend(te,Y):Y}},ee={};return c.each(N,function(te,de){var Oe=de[2],Ae=de[5];Y[de[1]]=Oe.add,Ae&&Oe.add(function(){U=Ae},N[3-te][2].disable,N[3-te][3].disable,N[0][2].lock,N[0][3].lock),Oe.add(de[3].fire),ee[de[0]]=function(){return ee[de[0]+"With"](this===ee?void 0:this,arguments),this},ee[de[0]+"With"]=Oe.fireWith}),Y.promise(ee),A&&A.call(ee,ee),ee},when:function(A){var N=arguments.length,U=N,Y=Array(U),ee=a.call(arguments),te=c.Deferred(),de=function(Oe){return function(Ae){Y[Oe]=this,ee[Oe]=arguments.length>1?a.call(arguments):Ae,--N||te.resolveWith(Y,ee)}};if(N<=1&&(me(A,te.done(de(U)).resolve,te.reject,!N),te.state()==="pending"||x(ee[U]&&ee[U].then)))return te.then();for(;U--;)me(ee[U],de(U),te.reject);return te.promise()}});var ge=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;c.Deferred.exceptionHook=function(A,N){e.console&&e.console.warn&&A&&ge.test(A.name)&&e.console.warn("jQuery.Deferred exception: "+A.message,A.stack,N)},c.readyException=function(A){e.setTimeout(function(){throw A})};var ne=c.Deferred();c.fn.ready=function(A){return ne.then(A).catch(function(N){c.readyException(N)}),this},c.extend({isReady:!1,readyWait:1,ready:function(A){(A===!0?--c.readyWait:c.isReady)||(c.isReady=!0,!(A!==!0&&--c.readyWait>0)&&ne.resolveWith(b,[c]))}}),c.ready.then=ne.then;function fe(){b.removeEventListener("DOMContentLoaded",fe),e.removeEventListener("load",fe),c.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?e.setTimeout(c.ready):(b.addEventListener("DOMContentLoaded",fe),e.addEventListener("load",fe));var ye=function(A,N,U,Y,ee,te,de){var Oe=0,Ae=A.length,Ze=U==null;if(C(U)==="object"){ee=!0;for(Oe in U)ye(A,N,Oe,U[Oe],!0,te,de)}else if(Y!==void 0&&(ee=!0,x(Y)||(de=!0),Ze&&(de?(N.call(A,Y),N=null):(Ze=N,N=function(dt,mt,it){return Ze.call(c(dt),it)})),N))for(;Oe<Ae;Oe++)N(A[Oe],U,de?Y:Y.call(A[Oe],Oe,N(A[Oe],U)));return ee?A:Ze?N.call(A):Ae?N(A[0],U):te},He=/^-ms-/,Be=/-([a-z])/g;function _e(A,N){return N.toUpperCase()}function Fe(A){return A.replace(He,"ms-").replace(Be,_e)}var Ge=function(A){return A.nodeType===1||A.nodeType===9||!+A.nodeType};function Ve(){this.expando=c.expando+Ve.uid++}Ve.uid=1,Ve.prototype={cache:function(A){var N=A[this.expando];return N||(N={},Ge(A)&&(A.nodeType?A[this.expando]=N:Object.defineProperty(A,this.expando,{value:N,configurable:!0}))),N},set:function(A,N,U){var Y,ee=this.cache(A);if(typeof N=="string")ee[Fe(N)]=U;else for(Y in N)ee[Fe(Y)]=N[Y];return ee},get:function(A,N){return N===void 0?this.cache(A):A[this.expando]&&A[this.expando][Fe(N)]},access:function(A,N,U){return N===void 0||N&&typeof N=="string"&&U===void 0?this.get(A,N):(this.set(A,N,U),U!==void 0?U:N)},remove:function(A,N){var U,Y=A[this.expando];if(Y!==void 0){if(N!==void 0)for(Array.isArray(N)?N=N.map(Fe):(N=Fe(N),N=N in Y?[N]:N.match(be)||[]),U=N.length;U--;)delete Y[N[U]];(N===void 0||c.isEmptyObject(Y))&&(A.nodeType?A[this.expando]=void 0:delete A[this.expando])}},hasData:function(A){var N=A[this.expando];return N!==void 0&&!c.isEmptyObject(N)}};var Pe=new Ve,vt=new Ve,_t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;function ue(A){return A==="true"?!0:A==="false"?!1:A==="null"?null:A===+A+""?+A:_t.test(A)?JSON.parse(A):A}function ve(A,N,U){var Y;if(U===void 0&&A.nodeType===1)if(Y="data-"+N.replace(le,"-$&").toLowerCase(),U=A.getAttribute(Y),typeof U=="string"){try{U=ue(U)}catch{}vt.set(A,N,U)}else U=void 0;return U}c.extend({hasData:function(A){return vt.hasData(A)||Pe.hasData(A)},data:function(A,N,U){return vt.access(A,N,U)},removeData:function(A,N){vt.remove(A,N)},_data:function(A,N,U){return Pe.access(A,N,U)},_removeData:function(A,N){Pe.remove(A,N)}}),c.fn.extend({data:function(A,N){var U,Y,ee,te=this[0],de=te&&te.attributes;if(A===void 0){if(this.length&&(ee=vt.get(te),te.nodeType===1&&!Pe.get(te,"hasDataAttrs"))){for(U=de.length;U--;)de[U]&&(Y=de[U].name,Y.indexOf("data-")===0&&(Y=Fe(Y.slice(5)),ve(te,Y,ee[Y])));Pe.set(te,"hasDataAttrs",!0)}return ee}return typeof A=="object"?this.each(function(){vt.set(this,A)}):ye(this,function(Oe){var Ae;if(te&&Oe===void 0)return Ae=vt.get(te,A),Ae!==void 0||(Ae=ve(te,A),Ae!==void 0)?Ae:void 0;this.each(function(){vt.set(this,A,Oe)})},null,N,arguments.length>1,null,!0)},removeData:function(A){return this.each(function(){vt.remove(this,A)})}}),c.extend({queue:function(A,N,U){var Y;if(A)return N=(N||"fx")+"queue",Y=Pe.get(A,N),U&&(!Y||Array.isArray(U)?Y=Pe.access(A,N,c.makeArray(U)):Y.push(U)),Y||[]},dequeue:function(A,N){N=N||"fx";var U=c.queue(A,N),Y=U.length,ee=U.shift(),te=c._queueHooks(A,N),de=function(){c.dequeue(A,N)};ee==="inprogress"&&(ee=U.shift(),Y--),ee&&(N==="fx"&&U.unshift("inprogress"),delete te.stop,ee.call(A,de,te)),!Y&&te&&te.empty.fire()},_queueHooks:function(A,N){var U=N+"queueHooks";return Pe.get(A,U)||Pe.access(A,U,{empty:c.Callbacks("once memory").add(function(){Pe.remove(A,[N+"queue",U])})})}}),c.fn.extend({queue:function(A,N){var U=2;return typeof A!="string"&&(N=A,A="fx",U--),arguments.length<U?c.queue(this[0],A):N===void 0?this:this.each(function(){var Y=c.queue(this,A,N);c._queueHooks(this,A),A==="fx"&&Y[0]!=="inprogress"&&c.dequeue(this,A)})},dequeue:function(A){return this.each(function(){c.dequeue(this,A)})},clearQueue:function(A){return this.queue(A||"fx",[])},promise:function(A,N){var U,Y=1,ee=c.Deferred(),te=this,de=this.length,Oe=function(){--Y||ee.resolveWith(te,[te])};for(typeof A!="string"&&(N=A,A=void 0),A=A||"fx";de--;)U=Pe.get(te[de],A+"queueHooks"),U&&U.empty&&(Y++,U.empty.add(Oe));return Oe(),ee.promise(N)}});var Ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=new RegExp("^(?:([+-])=|)("+Ke+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],st=b.documentElement,ae=function(A){return c.contains(A.ownerDocument,A)},Ue={composed:!0};st.getRootNode&&(ae=function(A){return c.contains(A.ownerDocument,A)||A.getRootNode(Ue)===A.ownerDocument});var Je=function(A,N){return A=N||A,A.style.display==="none"||A.style.display===""&&ae(A)&&c.css(A,"display")==="none"};function ct(A,N,U,Y){var ee,te,de=20,Oe=Y?function(){return Y.cur()}:function(){return c.css(A,N,"")},Ae=Oe(),Ze=U&&U[3]||(c.cssNumber[N]?"":"px"),dt=A.nodeType&&(c.cssNumber[N]||Ze!=="px"&&+Ae)&&ke.exec(c.css(A,N));if(dt&&dt[3]!==Ze){for(Ae=Ae/2,Ze=Ze||dt[3],dt=+Ae||1;de--;)c.style(A,N,dt+Ze),(1-te)*(1-(te=Oe()/Ae||.5))<=0&&(de=0),dt=dt/te;dt=dt*2,c.style(A,N,dt+Ze),U=U||[]}return U&&(dt=+dt||+Ae||0,ee=U[1]?dt+(U[1]+1)*U[2]:+U[2],Y&&(Y.unit=Ze,Y.start=dt,Y.end=ee)),ee}var Le={};function ot(A){var N,U=A.ownerDocument,Y=A.nodeName,ee=Le[Y];return ee||(N=U.body.appendChild(U.createElement(Y)),ee=c.css(N,"display"),N.parentNode.removeChild(N),ee==="none"&&(ee="block"),Le[Y]=ee,ee)}function oe(A,N){for(var U,Y,ee=[],te=0,de=A.length;te<de;te++)Y=A[te],Y.style&&(U=Y.style.display,N?(U==="none"&&(ee[te]=Pe.get(Y,"display")||null,ee[te]||(Y.style.display="")),Y.style.display===""&&Je(Y)&&(ee[te]=ot(Y))):U!=="none"&&(ee[te]="none",Pe.set(Y,"display",U)));for(te=0;te<de;te++)ee[te]!=null&&(A[te].style.display=ee[te]);return A}c.fn.extend({show:function(){return oe(this,!0)},hide:function(){return oe(this)},toggle:function(A){return typeof A=="boolean"?A?this.show():this.hide():this.each(function(){Je(this)?c(this).show():c(this).hide()})}});var ut=/^(?:checkbox|radio)$/i,At=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,j=/^$|^module$|\/(?:java|ecma)script/i;(function(){var A=b.createDocumentFragment(),N=A.appendChild(b.createElement("div")),U=b.createElement("input");U.setAttribute("type","radio"),U.setAttribute("checked","checked"),U.setAttribute("name","t"),N.appendChild(U),w.checkClone=N.cloneNode(!0).cloneNode(!0).lastChild.checked,N.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!N.cloneNode(!0).lastChild.defaultValue,N.innerHTML="<option></option>",w.option=!!N.lastChild})();var Ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,w.option||(Ye.optgroup=Ye.option=[1,"<select multiple='multiple'>","</select>"]);function qe(A,N){var U;return typeof A.getElementsByTagName<"u"?U=A.getElementsByTagName(N||"*"):typeof A.querySelectorAll<"u"?U=A.querySelectorAll(N||"*"):U=[],N===void 0||N&&D(A,N)?c.merge([A],U):U}function ce(A,N){for(var U=0,Y=A.length;U<Y;U++)Pe.set(A[U],"globalEval",!N||Pe.get(N[U],"globalEval"))}var ze=/<|&#?\w+;/;function et(A,N,U,Y,ee){for(var te,de,Oe,Ae,Ze,dt,mt=N.createDocumentFragment(),it=[],xt=0,Kt=A.length;xt<Kt;xt++)if(te=A[xt],te||te===0)if(C(te)==="object")c.merge(it,te.nodeType?[te]:te);else if(!ze.test(te))it.push(N.createTextNode(te));else{for(de=de||mt.appendChild(N.createElement("div")),Oe=(At.exec(te)||["",""])[1].toLowerCase(),Ae=Ye[Oe]||Ye._default,de.innerHTML=Ae[1]+c.htmlPrefilter(te)+Ae[2],dt=Ae[0];dt--;)de=de.lastChild;c.merge(it,de.childNodes),de=mt.firstChild,de.textContent=""}for(mt.textContent="",xt=0;te=it[xt++];){if(Y&&c.inArray(te,Y)>-1){ee&&ee.push(te);continue}if(Ze=ae(te),de=qe(mt.appendChild(te),"script"),Ze&&ce(de),U)for(dt=0;te=de[dt++];)j.test(te.type||"")&&U.push(te)}return mt}var Lt=/^([^.]*)(?:\.(.+)|)/;function yt(){return!0}function nt(){return!1}function qt(A,N,U,Y,ee,te){var de,Oe;if(typeof N=="object"){typeof U!="string"&&(Y=Y||U,U=void 0);for(Oe in N)qt(A,Oe,U,Y,N[Oe],te);return A}if(Y==null&&ee==null?(ee=U,Y=U=void 0):ee==null&&(typeof U=="string"?(ee=Y,Y=void 0):(ee=Y,Y=U,U=void 0)),ee===!1)ee=nt;else if(!ee)return A;return te===1&&(de=ee,ee=function(Ae){return c().off(Ae),de.apply(this,arguments)},ee.guid=de.guid||(de.guid=c.guid++)),A.each(function(){c.event.add(this,N,ee,Y,U)})}c.event={global:{},add:function(A,N,U,Y,ee){var te,de,Oe,Ae,Ze,dt,mt,it,xt,Kt,lr,tr=Pe.get(A);if(Ge(A))for(U.handler&&(te=U,U=te.handler,ee=te.selector),ee&&c.find.matchesSelector(st,ee),U.guid||(U.guid=c.guid++),(Ae=tr.events)||(Ae=tr.events=Object.create(null)),(de=tr.handle)||(de=tr.handle=function(pn){return typeof c<"u"&&c.event.triggered!==pn.type?c.event.dispatch.apply(A,arguments):void 0}),N=(N||"").match(be)||[""],Ze=N.length;Ze--;)Oe=Lt.exec(N[Ze])||[],xt=lr=Oe[1],Kt=(Oe[2]||"").split(".").sort(),xt&&(mt=c.event.special[xt]||{},xt=(ee?mt.delegateType:mt.bindType)||xt,mt=c.event.special[xt]||{},dt=c.extend({type:xt,origType:lr,data:Y,handler:U,guid:U.guid,selector:ee,needsContext:ee&&c.expr.match.needsContext.test(ee),namespace:Kt.join(".")},te),(it=Ae[xt])||(it=Ae[xt]=[],it.delegateCount=0,(!mt.setup||mt.setup.call(A,Y,Kt,de)===!1)&&A.addEventListener&&A.addEventListener(xt,de)),mt.add&&(mt.add.call(A,dt),dt.handler.guid||(dt.handler.guid=U.guid)),ee?it.splice(it.delegateCount++,0,dt):it.push(dt),c.event.global[xt]=!0)},remove:function(A,N,U,Y,ee){var te,de,Oe,Ae,Ze,dt,mt,it,xt,Kt,lr,tr=Pe.hasData(A)&&Pe.get(A);if(!(!tr||!(Ae=tr.events))){for(N=(N||"").match(be)||[""],Ze=N.length;Ze--;){if(Oe=Lt.exec(N[Ze])||[],xt=lr=Oe[1],Kt=(Oe[2]||"").split(".").sort(),!xt){for(xt in Ae)c.event.remove(A,xt+N[Ze],U,Y,!0);continue}for(mt=c.event.special[xt]||{},xt=(Y?mt.delegateType:mt.bindType)||xt,it=Ae[xt]||[],Oe=Oe[2]&&new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"),de=te=it.length;te--;)dt=it[te],(ee||lr===dt.origType)&&(!U||U.guid===dt.guid)&&(!Oe||Oe.test(dt.namespace))&&(!Y||Y===dt.selector||Y==="**"&&dt.selector)&&(it.splice(te,1),dt.selector&&it.delegateCount--,mt.remove&&mt.remove.call(A,dt));de&&!it.length&&((!mt.teardown||mt.teardown.call(A,Kt,tr.handle)===!1)&&c.removeEvent(A,xt,tr.handle),delete Ae[xt])}c.isEmptyObject(Ae)&&Pe.remove(A,"handle events")}},dispatch:function(A){var N,U,Y,ee,te,de,Oe=new Array(arguments.length),Ae=c.event.fix(A),Ze=(Pe.get(this,"events")||Object.create(null))[Ae.type]||[],dt=c.event.special[Ae.type]||{};for(Oe[0]=Ae,N=1;N<arguments.length;N++)Oe[N]=arguments[N];if(Ae.delegateTarget=this,!(dt.preDispatch&&dt.preDispatch.call(this,Ae)===!1)){for(de=c.event.handlers.call(this,Ae,Ze),N=0;(ee=de[N++])&&!Ae.isPropagationStopped();)for(Ae.currentTarget=ee.elem,U=0;(te=ee.handlers[U++])&&!Ae.isImmediatePropagationStopped();)(!Ae.rnamespace||te.namespace===!1||Ae.rnamespace.test(te.namespace))&&(Ae.handleObj=te,Ae.data=te.data,Y=((c.event.special[te.origType]||{}).handle||te.handler).apply(ee.elem,Oe),Y!==void 0&&(Ae.result=Y)===!1&&(Ae.preventDefault(),Ae.stopPropagation()));return dt.postDispatch&&dt.postDispatch.call(this,Ae),Ae.result}},handlers:function(A,N){var U,Y,ee,te,de,Oe=[],Ae=N.delegateCount,Ze=A.target;if(Ae&&Ze.nodeType&&!(A.type==="click"&&A.button>=1)){for(;Ze!==this;Ze=Ze.parentNode||this)if(Ze.nodeType===1&&!(A.type==="click"&&Ze.disabled===!0)){for(te=[],de={},U=0;U<Ae;U++)Y=N[U],ee=Y.selector+" ",de[ee]===void 0&&(de[ee]=Y.needsContext?c(ee,this).index(Ze)>-1:c.find(ee,this,null,[Ze]).length),de[ee]&&te.push(Y);te.length&&Oe.push({elem:Ze,handlers:te})}}return Ze=this,Ae<N.length&&Oe.push({elem:Ze,handlers:N.slice(Ae)}),Oe},addProp:function(A,N){Object.defineProperty(c.Event.prototype,A,{enumerable:!0,configurable:!0,get:x(N)?function(){if(this.originalEvent)return N(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[A]},set:function(U){Object.defineProperty(this,A,{enumerable:!0,configurable:!0,writable:!0,value:U})}})},fix:function(A){return A[c.expando]?A:new c.Event(A)},special:{load:{noBubble:!0},click:{setup:function(A){var N=this||A;return ut.test(N.type)&&N.click&&D(N,"input")&&en(N,"click",!0),!1},trigger:function(A){var N=this||A;return ut.test(N.type)&&N.click&&D(N,"input")&&en(N,"click"),!0},_default:function(A){var N=A.target;return ut.test(N.type)&&N.click&&D(N,"input")&&Pe.get(N,"click")||D(N,"a")}},beforeunload:{postDispatch:function(A){A.result!==void 0&&A.originalEvent&&(A.originalEvent.returnValue=A.result)}}}};function en(A,N,U){if(!U){Pe.get(A,N)===void 0&&c.event.add(A,N,yt);return}Pe.set(A,N,!1),c.event.add(A,N,{namespace:!1,handler:function(Y){var ee,te=Pe.get(this,N);if(Y.isTrigger&1&&this[N]){if(te)(c.event.special[N]||{}).delegateType&&Y.stopPropagation();else if(te=a.call(arguments),Pe.set(this,N,te),this[N](),ee=Pe.get(this,N),Pe.set(this,N,!1),te!==ee)return Y.stopImmediatePropagation(),Y.preventDefault(),ee}else te&&(Pe.set(this,N,c.event.trigger(te[0],te.slice(1),this)),Y.stopPropagation(),Y.isImmediatePropagationStopped=yt)}})}c.removeEvent=function(A,N,U){A.removeEventListener&&A.removeEventListener(N,U)},c.Event=function(A,N){if(!(this instanceof c.Event))return new c.Event(A,N);A&&A.type?(this.originalEvent=A,this.type=A.type,this.isDefaultPrevented=A.defaultPrevented||A.defaultPrevented===void 0&&A.returnValue===!1?yt:nt,this.target=A.target&&A.target.nodeType===3?A.target.parentNode:A.target,this.currentTarget=A.currentTarget,this.relatedTarget=A.relatedTarget):this.type=A,N&&c.extend(this,N),this.timeStamp=A&&A.timeStamp||Date.now(),this[c.expando]=!0},c.Event.prototype={constructor:c.Event,isDefaultPrevented:nt,isPropagationStopped:nt,isImmediatePropagationStopped:nt,isSimulated:!1,preventDefault:function(){var A=this.originalEvent;this.isDefaultPrevented=yt,A&&!this.isSimulated&&A.preventDefault()},stopPropagation:function(){var A=this.originalEvent;this.isPropagationStopped=yt,A&&!this.isSimulated&&A.stopPropagation()},stopImmediatePropagation:function(){var A=this.originalEvent;this.isImmediatePropagationStopped=yt,A&&!this.isSimulated&&A.stopImmediatePropagation(),this.stopPropagation()}},c.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},c.event.addProp),c.each({focus:"focusin",blur:"focusout"},function(A,N){function U(Y){if(b.documentMode){var ee=Pe.get(this,"handle"),te=c.event.fix(Y);te.type=Y.type==="focusin"?"focus":"blur",te.isSimulated=!0,ee(Y),te.target===te.currentTarget&&ee(te)}else c.event.simulate(N,Y.target,c.event.fix(Y))}c.event.special[A]={setup:function(){var Y;if(en(this,A,!0),b.documentMode)Y=Pe.get(this,N),Y||this.addEventListener(N,U),Pe.set(this,N,(Y||0)+1);else return!1},trigger:function(){return en(this,A),!0},teardown:function(){var Y;if(b.documentMode)Y=Pe.get(this,N)-1,Y?Pe.set(this,N,Y):(this.removeEventListener(N,U),Pe.remove(this,N));else return!1},_default:function(Y){return Pe.get(Y.target,A)},delegateType:N},c.event.special[N]={setup:function(){var Y=this.ownerDocument||this.document||this,ee=b.documentMode?this:Y,te=Pe.get(ee,N);te||(b.documentMode?this.addEventListener(N,U):Y.addEventListener(A,U,!0)),Pe.set(ee,N,(te||0)+1)},teardown:function(){var Y=this.ownerDocument||this.document||this,ee=b.documentMode?this:Y,te=Pe.get(ee,N)-1;te?Pe.set(ee,N,te):(b.documentMode?this.removeEventListener(N,U):Y.removeEventListener(A,U,!0),Pe.remove(ee,N))}}}),c.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(A,N){c.event.special[A]={delegateType:N,bindType:N,handle:function(U){var Y,ee=this,te=U.relatedTarget,de=U.handleObj;return(!te||te!==ee&&!c.contains(ee,te))&&(U.type=de.origType,Y=de.handler.apply(this,arguments),U.type=N),Y}}}),c.fn.extend({on:function(A,N,U,Y){return qt(this,A,N,U,Y)},one:function(A,N,U,Y){return qt(this,A,N,U,Y,1)},off:function(A,N,U){var Y,ee;if(A&&A.preventDefault&&A.handleObj)return Y=A.handleObj,c(A.delegateTarget).off(Y.namespace?Y.origType+"."+Y.namespace:Y.origType,Y.selector,Y.handler),this;if(typeof A=="object"){for(ee in A)this.off(ee,N,A[ee]);return this}return(N===!1||typeof N=="function")&&(U=N,N=void 0),U===!1&&(U=nt),this.each(function(){c.event.remove(this,A,U,N)})}});var jt=/<script|<style|<link/i,Jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function yr(A,N){return D(A,"table")&&D(N.nodeType!==11?N:N.firstChild,"tr")&&c(A).children("tbody")[0]||A}function mr(A){return A.type=(A.getAttribute("type")!==null)+"/"+A.type,A}function Fr(A){return(A.type||"").slice(0,5)==="true/"?A.type=A.type.slice(5):A.removeAttribute("type"),A}function tn(A,N){var U,Y,ee,te,de,Oe,Ae;if(N.nodeType===1){if(Pe.hasData(A)&&(te=Pe.get(A),Ae=te.events,Ae)){Pe.remove(N,"handle events");for(ee in Ae)for(U=0,Y=Ae[ee].length;U<Y;U++)c.event.add(N,ee,Ae[ee][U])}vt.hasData(A)&&(de=vt.access(A),Oe=c.extend({},de),vt.set(N,Oe))}}function fr(A,N){var U=N.nodeName.toLowerCase();U==="input"&&ut.test(A.type)?N.checked=A.checked:(U==="input"||U==="textarea")&&(N.defaultValue=A.defaultValue)}function Zt(A,N,U,Y){N=s(N);var ee,te,de,Oe,Ae,Ze,dt=0,mt=A.length,it=mt-1,xt=N[0],Kt=x(xt);if(Kt||mt>1&&typeof xt=="string"&&!w.checkClone&&Jt.test(xt))return A.each(function(lr){var tr=A.eq(lr);Kt&&(N[0]=xt.call(this,lr,tr.html())),Zt(tr,N,U,Y)});if(mt&&(ee=et(N,A[0].ownerDocument,!1,A,Y),te=ee.firstChild,ee.childNodes.length===1&&(ee=te),te||Y)){for(de=c.map(qe(ee,"script"),mr),Oe=de.length;dt<mt;dt++)Ae=ee,dt!==it&&(Ae=c.clone(Ae,!0,!0),Oe&&c.merge(de,qe(Ae,"script"))),U.call(A[dt],Ae,dt);if(Oe)for(Ze=de[de.length-1].ownerDocument,c.map(de,Fr),dt=0;dt<Oe;dt++)Ae=de[dt],j.test(Ae.type||"")&&!Pe.access(Ae,"globalEval")&&c.contains(Ze,Ae)&&(Ae.src&&(Ae.type||"").toLowerCase()!=="module"?c._evalUrl&&!Ae.noModule&&c._evalUrl(Ae.src,{nonce:Ae.nonce||Ae.getAttribute("nonce")},Ze):S(Ae.textContent.replace(Ot,""),Ae,Ze))}return A}function nr(A,N,U){for(var Y,ee=N?c.filter(N,A):A,te=0;(Y=ee[te])!=null;te++)!U&&Y.nodeType===1&&c.cleanData(qe(Y)),Y.parentNode&&(U&&ae(Y)&&ce(qe(Y,"script")),Y.parentNode.removeChild(Y));return A}c.extend({htmlPrefilter:function(A){return A},clone:function(A,N,U){var Y,ee,te,de,Oe=A.cloneNode(!0),Ae=ae(A);if(!w.noCloneChecked&&(A.nodeType===1||A.nodeType===11)&&!c.isXMLDoc(A))for(de=qe(Oe),te=qe(A),Y=0,ee=te.length;Y<ee;Y++)fr(te[Y],de[Y]);if(N)if(U)for(te=te||qe(A),de=de||qe(Oe),Y=0,ee=te.length;Y<ee;Y++)tn(te[Y],de[Y]);else tn(A,Oe);return de=qe(Oe,"script"),de.length>0&&ce(de,!Ae&&qe(A,"script")),Oe},cleanData:function(A){for(var N,U,Y,ee=c.event.special,te=0;(U=A[te])!==void 0;te++)if(Ge(U)){if(N=U[Pe.expando]){if(N.events)for(Y in N.events)ee[Y]?c.event.remove(U,Y):c.removeEvent(U,Y,N.handle);U[Pe.expando]=void 0}U[vt.expando]&&(U[vt.expando]=void 0)}}}),c.fn.extend({detach:function(A){return nr(this,A,!0)},remove:function(A){return nr(this,A)},text:function(A){return ye(this,function(N){return N===void 0?c.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=N)})},null,A,arguments.length)},append:function(){return Zt(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=yr(this,A);N.appendChild(A)}})},prepend:function(){return Zt(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=yr(this,A);N.insertBefore(A,N.firstChild)}})},before:function(){return Zt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this)})},after:function(){return Zt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this.nextSibling)})},empty:function(){for(var A,N=0;(A=this[N])!=null;N++)A.nodeType===1&&(c.cleanData(qe(A,!1)),A.textContent="");return this},clone:function(A,N){return A=A??!1,N=N??A,this.map(function(){return c.clone(this,A,N)})},html:function(A){return ye(this,function(N){var U=this[0]||{},Y=0,ee=this.length;if(N===void 0&&U.nodeType===1)return U.innerHTML;if(typeof N=="string"&&!jt.test(N)&&!Ye[(At.exec(N)||["",""])[1].toLowerCase()]){N=c.htmlPrefilter(N);try{for(;Y<ee;Y++)U=this[Y]||{},U.nodeType===1&&(c.cleanData(qe(U,!1)),U.innerHTML=N);U=0}catch{}}U&&this.empty().append(N)},null,A,arguments.length)},replaceWith:function(){var A=[];return Zt(this,arguments,function(N){var U=this.parentNode;c.inArray(this,A)<0&&(c.cleanData(qe(this)),U&&U.replaceChild(N,this))},A)}}),c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,N){c.fn[A]=function(U){for(var Y,ee=[],te=c(U),de=te.length-1,Oe=0;Oe<=de;Oe++)Y=Oe===de?this:this.clone(!0),c(te[Oe])[N](Y),o.apply(ee,Y.get());return this.pushStack(ee)}});var Br=new RegExp("^("+Ke+")(?!px)[a-z%]+$","i"),Wr=/^--/,yi=function(A){var N=A.ownerDocument.defaultView;return(!N||!N.opener)&&(N=e),N.getComputedStyle(A)},ws=function(A,N,U){var Y,ee,te={};for(ee in N)te[ee]=A.style[ee],A.style[ee]=N[ee];Y=U.call(A);for(ee in N)A.style[ee]=te[ee];return Y},ba=new RegExp(rt.join("|"),"i");(function(){function A(){if(Ze){Ae.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ze.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(Ae).appendChild(Ze);var dt=e.getComputedStyle(Ze);U=dt.top!=="1%",Oe=N(dt.marginLeft)===12,Ze.style.right="60%",te=N(dt.right)===36,Y=N(dt.width)===36,Ze.style.position="absolute",ee=N(Ze.offsetWidth/3)===12,st.removeChild(Ae),Ze=null}}function N(dt){return Math.round(parseFloat(dt))}var U,Y,ee,te,de,Oe,Ae=b.createElement("div"),Ze=b.createElement("div");Ze.style&&(Ze.style.backgroundClip="content-box",Ze.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle=Ze.style.backgroundClip==="content-box",c.extend(w,{boxSizingReliable:function(){return A(),Y},pixelBoxStyles:function(){return A(),te},pixelPosition:function(){return A(),U},reliableMarginLeft:function(){return A(),Oe},scrollboxSize:function(){return A(),ee},reliableTrDimensions:function(){var dt,mt,it,xt;return de==null&&(dt=b.createElement("table"),mt=b.createElement("tr"),it=b.createElement("div"),dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",mt.style.cssText="border:1px solid",mt.style.height="1px",it.style.height="9px",it.style.display="block",st.appendChild(dt).appendChild(mt).appendChild(it),xt=e.getComputedStyle(mt),de=parseInt(xt.height,10)+parseInt(xt.borderTopWidth,10)+parseInt(xt.borderBottomWidth,10)===mt.offsetHeight,st.removeChild(dt)),de}}))})();function Ar(A,N,U){var Y,ee,te,de,Oe=Wr.test(N),Ae=A.style;return U=U||yi(A),U&&(de=U.getPropertyValue(N)||U[N],Oe&&de&&(de=de.replace(B,"$1")||void 0),de===""&&!ae(A)&&(de=c.style(A,N)),!w.pixelBoxStyles()&&Br.test(de)&&ba.test(N)&&(Y=Ae.width,ee=Ae.minWidth,te=Ae.maxWidth,Ae.minWidth=Ae.maxWidth=Ae.width=de,de=U.width,Ae.width=Y,Ae.minWidth=ee,Ae.maxWidth=te)),de!==void 0?de+"":de}function ea(A,N){return{get:function(){if(A()){delete this.get;return}return(this.get=N).apply(this,arguments)}}}var Ss=["Webkit","Moz","ms"],ya=b.createElement("div").style,Za={};function qo(A){for(var N=A[0].toUpperCase()+A.slice(1),U=Ss.length;U--;)if(A=Ss[U]+N,A in ya)return A}function Jo(A){var N=c.cssProps[A]||Za[A];return N||(A in ya?A:Za[A]=qo(A)||A)}var Kf=/^(none|table(?!-c[ea]).+)/,Zf={position:"absolute",visibility:"hidden",display:"block"},hu={letterSpacing:"0",fontWeight:"400"};function ar(A,N,U){var Y=ke.exec(N);return Y?Math.max(0,Y[2]-(U||0))+(Y[3]||"px"):N}function si(A,N,U,Y,ee,te){var de=N==="width"?1:0,Oe=0,Ae=0,Ze=0;if(U===(Y?"border":"content"))return 0;for(;de<4;de+=2)U==="margin"&&(Ze+=c.css(A,U+rt[de],!0,ee)),Y?(U==="content"&&(Ae-=c.css(A,"padding"+rt[de],!0,ee)),U!=="margin"&&(Ae-=c.css(A,"border"+rt[de]+"Width",!0,ee))):(Ae+=c.css(A,"padding"+rt[de],!0,ee),U!=="padding"?Ae+=c.css(A,"border"+rt[de]+"Width",!0,ee):Oe+=c.css(A,"border"+rt[de]+"Width",!0,ee));return!Y&&te>=0&&(Ae+=Math.max(0,Math.ceil(A["offset"+N[0].toUpperCase()+N.slice(1)]-te-Ae-Oe-.5))||0),Ae+Ze}function Kn(A,N,U){var Y=yi(A),ee=!w.boxSizingReliable()||U,te=ee&&c.css(A,"boxSizing",!1,Y)==="border-box",de=te,Oe=Ar(A,N,Y),Ae="offset"+N[0].toUpperCase()+N.slice(1);if(Br.test(Oe)){if(!U)return Oe;Oe="auto"}return(!w.boxSizingReliable()&&te||!w.reliableTrDimensions()&&D(A,"tr")||Oe==="auto"||!parseFloat(Oe)&&c.css(A,"display",!1,Y)==="inline")&&A.getClientRects().length&&(te=c.css(A,"boxSizing",!1,Y)==="border-box",de=Ae in A,de&&(Oe=A[Ae])),Oe=parseFloat(Oe)||0,Oe+si(A,N,U||(te?"border":"content"),de,Y,Oe)+"px"}c.extend({cssHooks:{opacity:{get:function(A,N){if(N){var U=Ar(A,"opacity");return U===""?"1":U}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(A,N,U,Y){if(!(!A||A.nodeType===3||A.nodeType===8||!A.style)){var ee,te,de,Oe=Fe(N),Ae=Wr.test(N),Ze=A.style;if(Ae||(N=Jo(Oe)),de=c.cssHooks[N]||c.cssHooks[Oe],U!==void 0){if(te=typeof U,te==="string"&&(ee=ke.exec(U))&&ee[1]&&(U=ct(A,N,ee),te="number"),U==null||U!==U)return;te==="number"&&!Ae&&(U+=ee&&ee[3]||(c.cssNumber[Oe]?"":"px")),!w.clearCloneStyle&&U===""&&N.indexOf("background")===0&&(Ze[N]="inherit"),(!de||!("set"in de)||(U=de.set(A,U,Y))!==void 0)&&(Ae?Ze.setProperty(N,U):Ze[N]=U)}else return de&&"get"in de&&(ee=de.get(A,!1,Y))!==void 0?ee:Ze[N]}},css:function(A,N,U,Y){var ee,te,de,Oe=Fe(N),Ae=Wr.test(N);return Ae||(N=Jo(Oe)),de=c.cssHooks[N]||c.cssHooks[Oe],de&&"get"in de&&(ee=de.get(A,!0,U)),ee===void 0&&(ee=Ar(A,N,Y)),ee==="normal"&&N in hu&&(ee=hu[N]),U===""||U?(te=parseFloat(ee),U===!0||isFinite(te)?te||0:ee):ee}}),c.each(["height","width"],function(A,N){c.cssHooks[N]={get:function(U,Y,ee){if(Y)return Kf.test(c.css(U,"display"))&&(!U.getClientRects().length||!U.getBoundingClientRect().width)?ws(U,Zf,function(){return Kn(U,N,ee)}):Kn(U,N,ee)},set:function(U,Y,ee){var te,de=yi(U),Oe=!w.scrollboxSize()&&de.position==="absolute",Ae=Oe||ee,Ze=Ae&&c.css(U,"boxSizing",!1,de)==="border-box",dt=ee?si(U,N,ee,Ze,de):0;return Ze&&Oe&&(dt-=Math.ceil(U["offset"+N[0].toUpperCase()+N.slice(1)]-parseFloat(de[N])-si(U,N,"border",!1,de)-.5)),dt&&(te=ke.exec(Y))&&(te[3]||"px")!=="px"&&(U.style[N]=Y,Y=c.css(U,N)),ar(U,Y,dt)}}}),c.cssHooks.marginLeft=ea(w.reliableMarginLeft,function(A,N){if(N)return(parseFloat(Ar(A,"marginLeft"))||A.getBoundingClientRect().left-ws(A,{marginLeft:0},function(){return A.getBoundingClientRect().left}))+"px"}),c.each({margin:"",padding:"",border:"Width"},function(A,N){c.cssHooks[A+N]={expand:function(U){for(var Y=0,ee={},te=typeof U=="string"?U.split(" "):[U];Y<4;Y++)ee[A+rt[Y]+N]=te[Y]||te[Y-2]||te[0];return ee}},A!=="margin"&&(c.cssHooks[A+N].set=ar)}),c.fn.extend({css:function(A,N){return ye(this,function(U,Y,ee){var te,de,Oe={},Ae=0;if(Array.isArray(Y)){for(te=yi(U),de=Y.length;Ae<de;Ae++)Oe[Y[Ae]]=c.css(U,Y[Ae],!1,te);return Oe}return ee!==void 0?c.style(U,Y,ee):c.css(U,Y)},A,N,arguments.length>1)}});function Tn(A,N,U,Y,ee){return new Tn.prototype.init(A,N,U,Y,ee)}c.Tween=Tn,Tn.prototype={constructor:Tn,init:function(A,N,U,Y,ee,te){this.elem=A,this.prop=U,this.easing=ee||c.easing._default,this.options=N,this.start=this.now=this.cur(),this.end=Y,this.unit=te||(c.cssNumber[U]?"":"px")},cur:function(){var A=Tn.propHooks[this.prop];return A&&A.get?A.get(this):Tn.propHooks._default.get(this)},run:function(A){var N,U=Tn.propHooks[this.prop];return this.options.duration?this.pos=N=c.easing[this.easing](A,this.options.duration*A,0,1,this.options.duration):this.pos=N=A,this.now=(this.end-this.start)*N+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),U&&U.set?U.set(this):Tn.propHooks._default.set(this),this}},Tn.prototype.init.prototype=Tn.prototype,Tn.propHooks={_default:{get:function(A){var N;return A.elem.nodeType!==1||A.elem[A.prop]!=null&&A.elem.style[A.prop]==null?A.elem[A.prop]:(N=c.css(A.elem,A.prop,""),!N||N==="auto"?0:N)},set:function(A){c.fx.step[A.prop]?c.fx.step[A.prop](A):A.elem.nodeType===1&&(c.cssHooks[A.prop]||A.elem.style[Jo(A.prop)]!=null)?c.style(A.elem,A.prop,A.now+A.unit):A.elem[A.prop]=A.now}}},Tn.propHooks.scrollTop=Tn.propHooks.scrollLeft={set:function(A){A.elem.nodeType&&A.elem.parentNode&&(A.elem[A.prop]=A.now)}},c.easing={linear:function(A){return A},swing:function(A){return .5-Math.cos(A*Math.PI)/2},_default:"swing"},c.fx=Tn.prototype.init,c.fx.step={};var oi,Xa,ao=/^(?:toggle|show|hide)$/,xa=/queueHooks$/;function $a(){Xa&&(b.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame($a):e.setTimeout($a,c.fx.interval),c.fx.tick())}function so(){return e.setTimeout(function(){oi=void 0}),oi=Date.now()}function xi(A,N){var U,Y=0,ee={height:A};for(N=N?1:0;Y<4;Y+=2-N)U=rt[Y],ee["margin"+U]=ee["padding"+U]=A;return N&&(ee.opacity=ee.width=A),ee}function wi(A,N,U){for(var Y,ee=(Yr.tweeners[N]||[]).concat(Yr.tweeners["*"]),te=0,de=ee.length;te<de;te++)if(Y=ee[te].call(U,N,A))return Y}function un(A,N,U){var Y,ee,te,de,Oe,Ae,Ze,dt,mt="width"in N||"height"in N,it=this,xt={},Kt=A.style,lr=A.nodeType&&Je(A),tr=Pe.get(A,"fxshow");U.queue||(de=c._queueHooks(A,"fx"),de.unqueued==null&&(de.unqueued=0,Oe=de.empty.fire,de.empty.fire=function(){de.unqueued||Oe()}),de.unqueued++,it.always(function(){it.always(function(){de.unqueued--,c.queue(A,"fx").length||de.empty.fire()})}));for(Y in N)if(ee=N[Y],ao.test(ee)){if(delete N[Y],te=te||ee==="toggle",ee===(lr?"hide":"show"))if(ee==="show"&&tr&&tr[Y]!==void 0)lr=!0;else continue;xt[Y]=tr&&tr[Y]||c.style(A,Y)}if(Ae=!c.isEmptyObject(N),!(!Ae&&c.isEmptyObject(xt))){mt&&A.nodeType===1&&(U.overflow=[Kt.overflow,Kt.overflowX,Kt.overflowY],Ze=tr&&tr.display,Ze==null&&(Ze=Pe.get(A,"display")),dt=c.css(A,"display"),dt==="none"&&(Ze?dt=Ze:(oe([A],!0),Ze=A.style.display||Ze,dt=c.css(A,"display"),oe([A]))),(dt==="inline"||dt==="inline-block"&&Ze!=null)&&c.css(A,"float")==="none"&&(Ae||(it.done(function(){Kt.display=Ze}),Ze==null&&(dt=Kt.display,Ze=dt==="none"?"":dt)),Kt.display="inline-block")),U.overflow&&(Kt.overflow="hidden",it.always(function(){Kt.overflow=U.overflow[0],Kt.overflowX=U.overflow[1],Kt.overflowY=U.overflow[2]})),Ae=!1;for(Y in xt)Ae||(tr?"hidden"in tr&&(lr=tr.hidden):tr=Pe.access(A,"fxshow",{display:Ze}),te&&(tr.hidden=!lr),lr&&oe([A],!0),it.done(function(){lr||oe([A]),Pe.remove(A,"fxshow");for(Y in xt)c.style(A,Y,xt[Y])})),Ae=wi(lr?tr[Y]:0,Y,it),Y in tr||(tr[Y]=Ae.start,lr&&(Ae.end=Ae.start,Ae.start=0))}}function wa(A,N){var U,Y,ee,te,de;for(U in A)if(Y=Fe(U),ee=N[Y],te=A[U],Array.isArray(te)&&(ee=te[1],te=A[U]=te[0]),U!==Y&&(A[Y]=te,delete A[U]),de=c.cssHooks[Y],de&&"expand"in de){te=de.expand(te),delete A[Y];for(U in te)U in A||(A[U]=te[U],N[U]=ee)}else N[Y]=ee}function Yr(A,N,U){var Y,ee,te=0,de=Yr.prefilters.length,Oe=c.Deferred().always(function(){delete Ae.elem}),Ae=function(){if(ee)return!1;for(var mt=oi||so(),it=Math.max(0,Ze.startTime+Ze.duration-mt),xt=it/Ze.duration||0,Kt=1-xt,lr=0,tr=Ze.tweens.length;lr<tr;lr++)Ze.tweens[lr].run(Kt);return Oe.notifyWith(A,[Ze,Kt,it]),Kt<1&&tr?it:(tr||Oe.notifyWith(A,[Ze,1,0]),Oe.resolveWith(A,[Ze]),!1)},Ze=Oe.promise({elem:A,props:c.extend({},N),opts:c.extend(!0,{specialEasing:{},easing:c.easing._default},U),originalProperties:N,originalOptions:U,startTime:oi||so(),duration:U.duration,tweens:[],createTween:function(mt,it){var xt=c.Tween(A,Ze.opts,mt,it,Ze.opts.specialEasing[mt]||Ze.opts.easing);return Ze.tweens.push(xt),xt},stop:function(mt){var it=0,xt=mt?Ze.tweens.length:0;if(ee)return this;for(ee=!0;it<xt;it++)Ze.tweens[it].run(1);return mt?(Oe.notifyWith(A,[Ze,1,0]),Oe.resolveWith(A,[Ze,mt])):Oe.rejectWith(A,[Ze,mt]),this}}),dt=Ze.props;for(wa(dt,Ze.opts.specialEasing);te<de;te++)if(Y=Yr.prefilters[te].call(Ze,A,dt,Ze.opts),Y)return x(Y.stop)&&(c._queueHooks(Ze.elem,Ze.opts.queue).stop=Y.stop.bind(Y)),Y;return c.map(dt,wi,Ze),x(Ze.opts.start)&&Ze.opts.start.call(A,Ze),Ze.progress(Ze.opts.progress).done(Ze.opts.done,Ze.opts.complete).fail(Ze.opts.fail).always(Ze.opts.always),c.fx.timer(c.extend(Ae,{elem:A,anim:Ze,queue:Ze.opts.queue})),Ze}c.Animation=c.extend(Yr,{tweeners:{"*":[function(A,N){var U=this.createTween(A,N);return ct(U.elem,A,ke.exec(N),U),U}]},tweener:function(A,N){x(A)?(N=A,A=["*"]):A=A.match(be);for(var U,Y=0,ee=A.length;Y<ee;Y++)U=A[Y],Yr.tweeners[U]=Yr.tweeners[U]||[],Yr.tweeners[U].unshift(N)},prefilters:[un],prefilter:function(A,N){N?Yr.prefilters.unshift(A):Yr.prefilters.push(A)}}),c.speed=function(A,N,U){var Y=A&&typeof A=="object"?c.extend({},A):{complete:U||!U&&N||x(A)&&A,duration:A,easing:U&&N||N&&!x(N)&&N};return c.fx.off?Y.duration=0:typeof Y.duration!="number"&&(Y.duration in c.fx.speeds?Y.duration=c.fx.speeds[Y.duration]:Y.duration=c.fx.speeds._default),(Y.queue==null||Y.queue===!0)&&(Y.queue="fx"),Y.old=Y.complete,Y.complete=function(){x(Y.old)&&Y.old.call(this),Y.queue&&c.dequeue(this,Y.queue)},Y},c.fn.extend({fadeTo:function(A,N,U,Y){return this.filter(Je).css("opacity",0).show().end().animate({opacity:N},A,U,Y)},animate:function(A,N,U,Y){var ee=c.isEmptyObject(A),te=c.speed(N,U,Y),de=function(){var Oe=Yr(this,c.extend({},A),te);(ee||Pe.get(this,"finish"))&&Oe.stop(!0)};return de.finish=de,ee||te.queue===!1?this.each(de):this.queue(te.queue,de)},stop:function(A,N,U){var Y=function(ee){var te=ee.stop;delete ee.stop,te(U)};return typeof A!="string"&&(U=N,N=A,A=void 0),N&&this.queue(A||"fx",[]),this.each(function(){var ee=!0,te=A!=null&&A+"queueHooks",de=c.timers,Oe=Pe.get(this);if(te)Oe[te]&&Oe[te].stop&&Y(Oe[te]);else for(te in Oe)Oe[te]&&Oe[te].stop&&xa.test(te)&&Y(Oe[te]);for(te=de.length;te--;)de[te].elem===this&&(A==null||de[te].queue===A)&&(de[te].anim.stop(U),ee=!1,de.splice(te,1));(ee||!U)&&c.dequeue(this,A)})},finish:function(A){return A!==!1&&(A=A||"fx"),this.each(function(){var N,U=Pe.get(this),Y=U[A+"queue"],ee=U[A+"queueHooks"],te=c.timers,de=Y?Y.length:0;for(U.finish=!0,c.queue(this,A,[]),ee&&ee.stop&&ee.stop.call(this,!0),N=te.length;N--;)te[N].elem===this&&te[N].queue===A&&(te[N].anim.stop(!0),te.splice(N,1));for(N=0;N<de;N++)Y[N]&&Y[N].finish&&Y[N].finish.call(this);delete U.finish})}}),c.each(["toggle","show","hide"],function(A,N){var U=c.fn[N];c.fn[N]=function(Y,ee,te){return Y==null||typeof Y=="boolean"?U.apply(this,arguments):this.animate(xi(N,!0),Y,ee,te)}}),c.each({slideDown:xi("show"),slideUp:xi("hide"),slideToggle:xi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(A,N){c.fn[A]=function(U,Y,ee){return this.animate(N,U,Y,ee)}}),c.timers=[],c.fx.tick=function(){var A,N=0,U=c.timers;for(oi=Date.now();N<U.length;N++)A=U[N],!A()&&U[N]===A&&U.splice(N--,1);U.length||c.fx.stop(),oi=void 0},c.fx.timer=function(A){c.timers.push(A),c.fx.start()},c.fx.interval=13,c.fx.start=function(){Xa||(Xa=!0,$a())},c.fx.stop=function(){Xa=null},c.fx.speeds={slow:600,fast:200,_default:400},c.fn.delay=function(A,N){return A=c.fx&&c.fx.speeds[A]||A,N=N||"fx",this.queue(N,function(U,Y){var ee=e.setTimeout(U,A);Y.stop=function(){e.clearTimeout(ee)}})},function(){var A=b.createElement("input"),N=b.createElement("select"),U=N.appendChild(b.createElement("option"));A.type="checkbox",w.checkOn=A.value!=="",w.optSelected=U.selected,A=b.createElement("input"),A.value="t",A.type="radio",w.radioValue=A.value==="t"}();var Cn,Cs=c.expr.attrHandle;c.fn.extend({attr:function(A,N){return ye(this,c.attr,A,N,arguments.length>1)},removeAttr:function(A){return this.each(function(){c.removeAttr(this,A)})}}),c.extend({attr:function(A,N,U){var Y,ee,te=A.nodeType;if(!(te===3||te===8||te===2)){if(typeof A.getAttribute>"u")return c.prop(A,N,U);if((te!==1||!c.isXMLDoc(A))&&(ee=c.attrHooks[N.toLowerCase()]||(c.expr.match.bool.test(N)?Cn:void 0)),U!==void 0){if(U===null){c.removeAttr(A,N);return}return ee&&"set"in ee&&(Y=ee.set(A,U,N))!==void 0?Y:(A.setAttribute(N,U+""),U)}return ee&&"get"in ee&&(Y=ee.get(A,N))!==null?Y:(Y=c.find.attr(A,N),Y??void 0)}},attrHooks:{type:{set:function(A,N){if(!w.radioValue&&N==="radio"&&D(A,"input")){var U=A.value;return A.setAttribute("type",N),U&&(A.value=U),N}}}},removeAttr:function(A,N){var U,Y=0,ee=N&&N.match(be);if(ee&&A.nodeType===1)for(;U=ee[Y++];)A.removeAttribute(U)}}),Cn={set:function(A,N,U){return N===!1?c.removeAttr(A,U):A.setAttribute(U,U),U}},c.each(c.expr.match.bool.source.match(/\w+/g),function(A,N){var U=Cs[N]||c.find.attr;Cs[N]=function(Y,ee,te){var de,Oe,Ae=ee.toLowerCase();return te||(Oe=Cs[Ae],Cs[Ae]=de,de=U(Y,ee,te)!=null?Ae:null,Cs[Ae]=Oe),de}});var Sa=/^(?:input|select|textarea|button)$/i,pu=/^(?:a|area)$/i;c.fn.extend({prop:function(A,N){return ye(this,c.prop,A,N,arguments.length>1)},removeProp:function(A){return this.each(function(){delete this[c.propFix[A]||A]})}}),c.extend({prop:function(A,N,U){var Y,ee,te=A.nodeType;if(!(te===3||te===8||te===2))return(te!==1||!c.isXMLDoc(A))&&(N=c.propFix[N]||N,ee=c.propHooks[N]),U!==void 0?ee&&"set"in ee&&(Y=ee.set(A,U,N))!==void 0?Y:A[N]=U:ee&&"get"in ee&&(Y=ee.get(A,N))!==null?Y:A[N]},propHooks:{tabIndex:{get:function(A){var N=c.find.attr(A,"tabindex");return N?parseInt(N,10):Sa.test(A.nodeName)||pu.test(A.nodeName)&&A.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(c.propHooks.selected={get:function(A){var N=A.parentNode;return N&&N.parentNode&&N.parentNode.selectedIndex,null},set:function(A){var N=A.parentNode;N&&(N.selectedIndex,N.parentNode&&N.parentNode.selectedIndex)}}),c.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){c.propFix[this.toLowerCase()]=this});function Ln(A){var N=A.match(be)||[];return N.join(" ")}function Ca(A){return A.getAttribute&&A.getAttribute("class")||""}function mu(A){return Array.isArray(A)?A:typeof A=="string"?A.match(be)||[]:[]}c.fn.extend({addClass:function(A){var N,U,Y,ee,te,de;return x(A)?this.each(function(Oe){c(this).addClass(A.call(this,Oe,Ca(this)))}):(N=mu(A),N.length?this.each(function(){if(Y=Ca(this),U=this.nodeType===1&&" "+Ln(Y)+" ",U){for(te=0;te<N.length;te++)ee=N[te],U.indexOf(" "+ee+" ")<0&&(U+=ee+" ");de=Ln(U),Y!==de&&this.setAttribute("class",de)}}):this)},removeClass:function(A){var N,U,Y,ee,te,de;return x(A)?this.each(function(Oe){c(this).removeClass(A.call(this,Oe,Ca(this)))}):arguments.length?(N=mu(A),N.length?this.each(function(){if(Y=Ca(this),U=this.nodeType===1&&" "+Ln(Y)+" ",U){for(te=0;te<N.length;te++)for(ee=N[te];U.indexOf(" "+ee+" ")>-1;)U=U.replace(" "+ee+" "," ");de=Ln(U),Y!==de&&this.setAttribute("class",de)}}):this):this.attr("class","")},toggleClass:function(A,N){var U,Y,ee,te,de=typeof A,Oe=de==="string"||Array.isArray(A);return x(A)?this.each(function(Ae){c(this).toggleClass(A.call(this,Ae,Ca(this),N),N)}):typeof N=="boolean"&&Oe?N?this.addClass(A):this.removeClass(A):(U=mu(A),this.each(function(){if(Oe)for(te=c(this),ee=0;ee<U.length;ee++)Y=U[ee],te.hasClass(Y)?te.removeClass(Y):te.addClass(Y);else(A===void 0||de==="boolean")&&(Y=Ca(this),Y&&Pe.set(this,"__className__",Y),this.setAttribute&&this.setAttribute("class",Y||A===!1?"":Pe.get(this,"__className__")||""))}))},hasClass:function(A){var N,U,Y=0;for(N=" "+A+" ";U=this[Y++];)if(U.nodeType===1&&(" "+Ln(Ca(U))+" ").indexOf(N)>-1)return!0;return!1}});var ta=/\r/g;c.fn.extend({val:function(A){var N,U,Y,ee=this[0];return arguments.length?(Y=x(A),this.each(function(te){var de;this.nodeType===1&&(Y?de=A.call(this,te,c(this).val()):de=A,de==null?de="":typeof de=="number"?de+="":Array.isArray(de)&&(de=c.map(de,function(Oe){return Oe==null?"":Oe+""})),N=c.valHooks[this.type]||c.valHooks[this.nodeName.toLowerCase()],(!N||!("set"in N)||N.set(this,de,"value")===void 0)&&(this.value=de))})):ee?(N=c.valHooks[ee.type]||c.valHooks[ee.nodeName.toLowerCase()],N&&"get"in N&&(U=N.get(ee,"value"))!==void 0?U:(U=ee.value,typeof U=="string"?U.replace(ta,""):U??"")):void 0}}),c.extend({valHooks:{option:{get:function(A){var N=c.find.attr(A,"value");return N??Ln(c.text(A))}},select:{get:function(A){var N,U,Y,ee=A.options,te=A.selectedIndex,de=A.type==="select-one",Oe=de?null:[],Ae=de?te+1:ee.length;for(te<0?Y=Ae:Y=de?te:0;Y<Ae;Y++)if(U=ee[Y],(U.selected||Y===te)&&!U.disabled&&(!U.parentNode.disabled||!D(U.parentNode,"optgroup"))){if(N=c(U).val(),de)return N;Oe.push(N)}return Oe},set:function(A,N){for(var U,Y,ee=A.options,te=c.makeArray(N),de=ee.length;de--;)Y=ee[de],(Y.selected=c.inArray(c.valHooks.option.get(Y),te)>-1)&&(U=!0);return U||(A.selectedIndex=-1),te}}}}),c.each(["radio","checkbox"],function(){c.valHooks[this]={set:function(A,N){if(Array.isArray(N))return A.checked=c.inArray(c(A).val(),N)>-1}},w.checkOn||(c.valHooks[this].get=function(A){return A.getAttribute("value")===null?"on":A.value})});var hn=e.location,_n={guid:Date.now()},cr=/\?/;c.parseXML=function(A){var N,U;if(!A||typeof A!="string")return null;try{N=new e.DOMParser().parseFromString(A,"text/xml")}catch{}return U=N&&N.getElementsByTagName("parsererror")[0],(!N||U)&&c.error("Invalid XML: "+(U?c.map(U.childNodes,function(Y){return Y.textContent}).join(`
`):A)),N};var Ea=/^(?:focusinfocus|focusoutblur)$/,oo=function(A){A.stopPropagation()};c.extend(c.event,{trigger:function(A,N,U,Y){var ee,te,de,Oe,Ae,Ze,dt,mt,it=[U||b],xt=g.call(A,"type")?A.type:A,Kt=g.call(A,"namespace")?A.namespace.split("."):[];if(te=mt=de=U=U||b,!(U.nodeType===3||U.nodeType===8)&&!Ea.test(xt+c.event.triggered)&&(xt.indexOf(".")>-1&&(Kt=xt.split("."),xt=Kt.shift(),Kt.sort()),Ae=xt.indexOf(":")<0&&"on"+xt,A=A[c.expando]?A:new c.Event(xt,typeof A=="object"&&A),A.isTrigger=Y?2:3,A.namespace=Kt.join("."),A.rnamespace=A.namespace?new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,A.result=void 0,A.target||(A.target=U),N=N==null?[A]:c.makeArray(N,[A]),dt=c.event.special[xt]||{},!(!Y&&dt.trigger&&dt.trigger.apply(U,N)===!1))){if(!Y&&!dt.noBubble&&!f(U)){for(Oe=dt.delegateType||xt,Ea.test(Oe+xt)||(te=te.parentNode);te;te=te.parentNode)it.push(te),de=te;de===(U.ownerDocument||b)&&it.push(de.defaultView||de.parentWindow||e)}for(ee=0;(te=it[ee++])&&!A.isPropagationStopped();)mt=te,A.type=ee>1?Oe:dt.bindType||xt,Ze=(Pe.get(te,"events")||Object.create(null))[A.type]&&Pe.get(te,"handle"),Ze&&Ze.apply(te,N),Ze=Ae&&te[Ae],Ze&&Ze.apply&&Ge(te)&&(A.result=Ze.apply(te,N),A.result===!1&&A.preventDefault());return A.type=xt,!Y&&!A.isDefaultPrevented()&&(!dt._default||dt._default.apply(it.pop(),N)===!1)&&Ge(U)&&Ae&&x(U[xt])&&!f(U)&&(de=U[Ae],de&&(U[Ae]=null),c.event.triggered=xt,A.isPropagationStopped()&&mt.addEventListener(xt,oo),U[xt](),A.isPropagationStopped()&&mt.removeEventListener(xt,oo),c.event.triggered=void 0,de&&(U[Ae]=de)),A.result}},simulate:function(A,N,U){var Y=c.extend(new c.Event,U,{type:A,isSimulated:!0});c.event.trigger(Y,null,N)}}),c.fn.extend({trigger:function(A,N){return this.each(function(){c.event.trigger(A,N,this)})},triggerHandler:function(A,N){var U=this[0];if(U)return c.event.trigger(A,N,U,!0)}});var gu=/\[\]$/,Ma=/\r?\n/g,vu=/^(?:submit|button|image|reset|file)$/i,el=/^(?:input|select|textarea|keygen)/i;function ra(A,N,U,Y){var ee;if(Array.isArray(N))c.each(N,function(te,de){U||gu.test(A)?Y(A,de):ra(A+"["+(typeof de=="object"&&de!=null?te:"")+"]",de,U,Y)});else if(!U&&C(N)==="object")for(ee in N)ra(A+"["+ee+"]",N[ee],U,Y);else Y(A,N)}c.param=function(A,N){var U,Y=[],ee=function(te,de){var Oe=x(de)?de():de;Y[Y.length]=encodeURIComponent(te)+"="+encodeURIComponent(Oe??"")};if(A==null)return"";if(Array.isArray(A)||A.jquery&&!c.isPlainObject(A))c.each(A,function(){ee(this.name,this.value)});else for(U in A)ra(U,A[U],N,ee);return Y.join("&")},c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var A=c.prop(this,"elements");return A?c.makeArray(A):this}).filter(function(){var A=this.type;return this.name&&!c(this).is(":disabled")&&el.test(this.nodeName)&&!vu.test(A)&&(this.checked||!ut.test(A))}).map(function(A,N){var U=c(this).val();return U==null?null:Array.isArray(U)?c.map(U,function(Y){return{name:N.name,value:Y.replace(Ma,`\r
`)}}):{name:N.name,value:U.replace(Ma,`\r
`)}}).get()}});var Xf=/%20/g,$f=/#.*$/,Si=/([?&])_=[^&]*/,Es=/^(.*?):[ \t]*([^\r\n]*)$/mg,Qf=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qf=/^(?:GET|HEAD)$/,Ms=/^\/\//,tl={},lo={},uo="*/".concat("*"),Qa=b.createElement("a");Qa.href=hn.href;function _u(A){return function(N,U){typeof N!="string"&&(U=N,N="*");var Y,ee=0,te=N.toLowerCase().match(be)||[];if(x(U))for(;Y=te[ee++];)Y[0]==="+"?(Y=Y.slice(1)||"*",(A[Y]=A[Y]||[]).unshift(U)):(A[Y]=A[Y]||[]).push(U)}}function rl(A,N,U,Y){var ee={},te=A===lo;function de(Oe){var Ae;return ee[Oe]=!0,c.each(A[Oe]||[],function(Ze,dt){var mt=dt(N,U,Y);if(typeof mt=="string"&&!te&&!ee[mt])return N.dataTypes.unshift(mt),de(mt),!1;if(te)return!(Ae=mt)}),Ae}return de(N.dataTypes[0])||!ee["*"]&&de("*")}function fo(A,N){var U,Y,ee=c.ajaxSettings.flatOptions||{};for(U in N)N[U]!==void 0&&((ee[U]?A:Y||(Y={}))[U]=N[U]);return Y&&c.extend(!0,A,Y),A}function Jf(A,N,U){for(var Y,ee,te,de,Oe=A.contents,Ae=A.dataTypes;Ae[0]==="*";)Ae.shift(),Y===void 0&&(Y=A.mimeType||N.getResponseHeader("Content-Type"));if(Y){for(ee in Oe)if(Oe[ee]&&Oe[ee].test(Y)){Ae.unshift(ee);break}}if(Ae[0]in U)te=Ae[0];else{for(ee in U){if(!Ae[0]||A.converters[ee+" "+Ae[0]]){te=ee;break}de||(de=ee)}te=te||de}if(te)return te!==Ae[0]&&Ae.unshift(te),U[te]}function ed(A,N,U,Y){var ee,te,de,Oe,Ae,Ze={},dt=A.dataTypes.slice();if(dt[1])for(de in A.converters)Ze[de.toLowerCase()]=A.converters[de];for(te=dt.shift();te;)if(A.responseFields[te]&&(U[A.responseFields[te]]=N),!Ae&&Y&&A.dataFilter&&(N=A.dataFilter(N,A.dataType)),Ae=te,te=dt.shift(),te){if(te==="*")te=Ae;else if(Ae!=="*"&&Ae!==te){if(de=Ze[Ae+" "+te]||Ze["* "+te],!de){for(ee in Ze)if(Oe=ee.split(" "),Oe[1]===te&&(de=Ze[Ae+" "+Oe[0]]||Ze["* "+Oe[0]],de)){de===!0?de=Ze[ee]:Ze[ee]!==!0&&(te=Oe[0],dt.unshift(Oe[1]));break}}if(de!==!0)if(de&&A.throws)N=de(N);else try{N=de(N)}catch(mt){return{state:"parsererror",error:de?mt:"No conversion from "+Ae+" to "+te}}}}return{state:"success",data:N}}c.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:hn.href,type:"GET",isLocal:Qf.test(hn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":uo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":c.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(A,N){return N?fo(fo(A,c.ajaxSettings),N):fo(c.ajaxSettings,A)},ajaxPrefilter:_u(tl),ajaxTransport:_u(lo),ajax:function(A,N){typeof A=="object"&&(N=A,A=void 0),N=N||{};var U,Y,ee,te,de,Oe,Ae,Ze,dt,mt,it=c.ajaxSetup({},N),xt=it.context||it,Kt=it.context&&(xt.nodeType||xt.jquery)?c(xt):c.event,lr=c.Deferred(),tr=c.Callbacks("once memory"),pn=it.statusCode||{},qr={},Ci={},Un="canceled",sr={readyState:0,getResponseHeader:function(hr){var jr;if(Ae){if(!te)for(te={};jr=Es.exec(ee);)te[jr[1].toLowerCase()+" "]=(te[jr[1].toLowerCase()+" "]||[]).concat(jr[2]);jr=te[hr.toLowerCase()+" "]}return jr==null?null:jr.join(", ")},getAllResponseHeaders:function(){return Ae?ee:null},setRequestHeader:function(hr,jr){return Ae==null&&(hr=Ci[hr.toLowerCase()]=Ci[hr.toLowerCase()]||hr,qr[hr]=jr),this},overrideMimeType:function(hr){return Ae==null&&(it.mimeType=hr),this},statusCode:function(hr){var jr;if(hr)if(Ae)sr.always(hr[sr.status]);else for(jr in hr)pn[jr]=[pn[jr],hr[jr]];return this},abort:function(hr){var jr=hr||Un;return U&&U.abort(jr),Da(0,jr),this}};if(lr.promise(sr),it.url=((A||it.url||hn.href)+"").replace(Ms,hn.protocol+"//"),it.type=N.method||N.type||it.method||it.type,it.dataTypes=(it.dataType||"*").toLowerCase().match(be)||[""],it.crossDomain==null){Oe=b.createElement("a");try{Oe.href=it.url,Oe.href=Oe.href,it.crossDomain=Qa.protocol+"//"+Qa.host!=Oe.protocol+"//"+Oe.host}catch{it.crossDomain=!0}}if(it.data&&it.processData&&typeof it.data!="string"&&(it.data=c.param(it.data,it.traditional)),rl(tl,it,N,sr),Ae)return sr;Ze=c.event&&it.global,Ze&&c.active++===0&&c.event.trigger("ajaxStart"),it.type=it.type.toUpperCase(),it.hasContent=!qf.test(it.type),Y=it.url.replace($f,""),it.hasContent?it.data&&it.processData&&(it.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(it.data=it.data.replace(Xf,"+")):(mt=it.url.slice(Y.length),it.data&&(it.processData||typeof it.data=="string")&&(Y+=(cr.test(Y)?"&":"?")+it.data,delete it.data),it.cache===!1&&(Y=Y.replace(Si,"$1"),mt=(cr.test(Y)?"&":"?")+"_="+_n.guid+++mt),it.url=Y+mt),it.ifModified&&(c.lastModified[Y]&&sr.setRequestHeader("If-Modified-Since",c.lastModified[Y]),c.etag[Y]&&sr.setRequestHeader("If-None-Match",c.etag[Y])),(it.data&&it.hasContent&&it.contentType!==!1||N.contentType)&&sr.setRequestHeader("Content-Type",it.contentType),sr.setRequestHeader("Accept",it.dataTypes[0]&&it.accepts[it.dataTypes[0]]?it.accepts[it.dataTypes[0]]+(it.dataTypes[0]!=="*"?", "+uo+"; q=0.01":""):it.accepts["*"]);for(dt in it.headers)sr.setRequestHeader(dt,it.headers[dt]);if(it.beforeSend&&(it.beforeSend.call(xt,sr,it)===!1||Ae))return sr.abort();if(Un="abort",tr.add(it.complete),sr.done(it.success),sr.fail(it.error),U=rl(lo,it,N,sr),!U)Da(-1,"No Transport");else{if(sr.readyState=1,Ze&&Kt.trigger("ajaxSend",[sr,it]),Ae)return sr;it.async&&it.timeout>0&&(de=e.setTimeout(function(){sr.abort("timeout")},it.timeout));try{Ae=!1,U.send(qr,Da)}catch(hr){if(Ae)throw hr;Da(-1,hr)}}function Da(hr,jr,Bi,Ei){var Mi,Aa,Di,Ai,na,Zn=jr;Ae||(Ae=!0,de&&e.clearTimeout(de),U=void 0,ee=Ei||"",sr.readyState=hr>0?4:0,Mi=hr>=200&&hr<300||hr===304,Bi&&(Ai=Jf(it,sr,Bi)),!Mi&&c.inArray("script",it.dataTypes)>-1&&c.inArray("json",it.dataTypes)<0&&(it.converters["text script"]=function(){}),Ai=ed(it,Ai,sr,Mi),Mi?(it.ifModified&&(na=sr.getResponseHeader("Last-Modified"),na&&(c.lastModified[Y]=na),na=sr.getResponseHeader("etag"),na&&(c.etag[Y]=na)),hr===204||it.type==="HEAD"?Zn="nocontent":hr===304?Zn="notmodified":(Zn=Ai.state,Aa=Ai.data,Di=Ai.error,Mi=!Di)):(Di=Zn,(hr||!Zn)&&(Zn="error",hr<0&&(hr=0))),sr.status=hr,sr.statusText=(jr||Zn)+"",Mi?lr.resolveWith(xt,[Aa,Zn,sr]):lr.rejectWith(xt,[sr,Zn,Di]),sr.statusCode(pn),pn=void 0,Ze&&Kt.trigger(Mi?"ajaxSuccess":"ajaxError",[sr,it,Mi?Aa:Di]),tr.fireWith(xt,[sr,Zn]),Ze&&(Kt.trigger("ajaxComplete",[sr,it]),--c.active||c.event.trigger("ajaxStop")))}return sr},getJSON:function(A,N,U){return c.get(A,N,U,"json")},getScript:function(A,N){return c.get(A,void 0,N,"script")}}),c.each(["get","post"],function(A,N){c[N]=function(U,Y,ee,te){return x(Y)&&(te=te||ee,ee=Y,Y=void 0),c.ajax(c.extend({url:U,type:N,dataType:te,data:Y,success:ee},c.isPlainObject(U)&&U))}}),c.ajaxPrefilter(function(A){var N;for(N in A.headers)N.toLowerCase()==="content-type"&&(A.contentType=A.headers[N]||"")}),c._evalUrl=function(A,N,U){return c.ajax({url:A,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Y){c.globalEval(Y,N,U)}})},c.fn.extend({wrapAll:function(A){var N;return this[0]&&(x(A)&&(A=A.call(this[0])),N=c(A,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&N.insertBefore(this[0]),N.map(function(){for(var U=this;U.firstElementChild;)U=U.firstElementChild;return U}).append(this)),this},wrapInner:function(A){return x(A)?this.each(function(N){c(this).wrapInner(A.call(this,N))}):this.each(function(){var N=c(this),U=N.contents();U.length?U.wrapAll(A):N.append(A)})},wrap:function(A){var N=x(A);return this.each(function(U){c(this).wrapAll(N?A.call(this,U):A)})},unwrap:function(A){return this.parent(A).not("body").each(function(){c(this).replaceWith(this.childNodes)}),this}}),c.expr.pseudos.hidden=function(A){return!c.expr.pseudos.visible(A)},c.expr.pseudos.visible=function(A){return!!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)},c.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var td={0:200,1223:204},Ds=c.ajaxSettings.xhr();w.cors=!!Ds&&"withCredentials"in Ds,w.ajax=Ds=!!Ds,c.ajaxTransport(function(A){var N,U;if(w.cors||Ds&&!A.crossDomain)return{send:function(Y,ee){var te,de=A.xhr();if(de.open(A.type,A.url,A.async,A.username,A.password),A.xhrFields)for(te in A.xhrFields)de[te]=A.xhrFields[te];A.mimeType&&de.overrideMimeType&&de.overrideMimeType(A.mimeType),!A.crossDomain&&!Y["X-Requested-With"]&&(Y["X-Requested-With"]="XMLHttpRequest");for(te in Y)de.setRequestHeader(te,Y[te]);N=function(Oe){return function(){N&&(N=U=de.onload=de.onerror=de.onabort=de.ontimeout=de.onreadystatechange=null,Oe==="abort"?de.abort():Oe==="error"?typeof de.status!="number"?ee(0,"error"):ee(de.status,de.statusText):ee(td[de.status]||de.status,de.statusText,(de.responseType||"text")!=="text"||typeof de.responseText!="string"?{binary:de.response}:{text:de.responseText},de.getAllResponseHeaders()))}},de.onload=N(),U=de.onerror=de.ontimeout=N("error"),de.onabort!==void 0?de.onabort=U:de.onreadystatechange=function(){de.readyState===4&&e.setTimeout(function(){N&&U()})},N=N("abort");try{de.send(A.hasContent&&A.data||null)}catch(Oe){if(N)throw Oe}},abort:function(){N&&N()}}}),c.ajaxPrefilter(function(A){A.crossDomain&&(A.contents.script=!1)}),c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(A){return c.globalEval(A),A}}}),c.ajaxPrefilter("script",function(A){A.cache===void 0&&(A.cache=!1),A.crossDomain&&(A.type="GET")}),c.ajaxTransport("script",function(A){if(A.crossDomain||A.scriptAttrs){var N,U;return{send:function(Y,ee){N=c("<script>").attr(A.scriptAttrs||{}).prop({charset:A.scriptCharset,src:A.url}).on("load error",U=function(te){N.remove(),U=null,te&&ee(te.type==="error"?404:200,te.type)}),b.head.appendChild(N[0])},abort:function(){U&&U()}}}});var nl=[],Nr=/(=)\?(?=&|$)|\?\?/;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var A=nl.pop()||c.expando+"_"+_n.guid++;return this[A]=!0,A}}),c.ajaxPrefilter("json jsonp",function(A,N,U){var Y,ee,te,de=A.jsonp!==!1&&(Nr.test(A.url)?"url":typeof A.data=="string"&&(A.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Nr.test(A.data)&&"data");if(de||A.dataTypes[0]==="jsonp")return Y=A.jsonpCallback=x(A.jsonpCallback)?A.jsonpCallback():A.jsonpCallback,de?A[de]=A[de].replace(Nr,"$1"+Y):A.jsonp!==!1&&(A.url+=(cr.test(A.url)?"&":"?")+A.jsonp+"="+Y),A.converters["script json"]=function(){return te||c.error(Y+" was not called"),te[0]},A.dataTypes[0]="json",ee=e[Y],e[Y]=function(){te=arguments},U.always(function(){ee===void 0?c(e).removeProp(Y):e[Y]=ee,A[Y]&&(A.jsonpCallback=N.jsonpCallback,nl.push(Y)),te&&x(ee)&&ee(te[0]),te=ee=void 0}),"script"}),w.createHTMLDocument=function(){var A=b.implementation.createHTMLDocument("").body;return A.innerHTML="<form></form><form></form>",A.childNodes.length===2}(),c.parseHTML=function(A,N,U){if(typeof A!="string")return[];typeof N=="boolean"&&(U=N,N=!1);var Y,ee,te;return N||(w.createHTMLDocument?(N=b.implementation.createHTMLDocument(""),Y=N.createElement("base"),Y.href=b.location.href,N.head.appendChild(Y)):N=b),ee=Z.exec(A),te=!U&&[],ee?[N.createElement(ee[1])]:(ee=et([A],N,te),te&&te.length&&c(te).remove(),c.merge([],ee.childNodes))},c.fn.load=function(A,N,U){var Y,ee,te,de=this,Oe=A.indexOf(" ");return Oe>-1&&(Y=Ln(A.slice(Oe)),A=A.slice(0,Oe)),x(N)?(U=N,N=void 0):N&&typeof N=="object"&&(ee="POST"),de.length>0&&c.ajax({url:A,type:ee||"GET",dataType:"html",data:N}).done(function(Ae){te=arguments,de.html(Y?c("<div>").append(c.parseHTML(Ae)).find(Y):Ae)}).always(U&&function(Ae,Ze){de.each(function(){U.apply(this,te||[Ae.responseText,Ze,Ae])})}),this},c.expr.pseudos.animated=function(A){return c.grep(c.timers,function(N){return A===N.elem}).length},c.offset={setOffset:function(A,N,U){var Y,ee,te,de,Oe,Ae,Ze,dt=c.css(A,"position"),mt=c(A),it={};dt==="static"&&(A.style.position="relative"),Oe=mt.offset(),te=c.css(A,"top"),Ae=c.css(A,"left"),Ze=(dt==="absolute"||dt==="fixed")&&(te+Ae).indexOf("auto")>-1,Ze?(Y=mt.position(),de=Y.top,ee=Y.left):(de=parseFloat(te)||0,ee=parseFloat(Ae)||0),x(N)&&(N=N.call(A,U,c.extend({},Oe))),N.top!=null&&(it.top=N.top-Oe.top+de),N.left!=null&&(it.left=N.left-Oe.left+ee),"using"in N?N.using.call(A,it):mt.css(it)}},c.fn.extend({offset:function(A){if(arguments.length)return A===void 0?this:this.each(function(ee){c.offset.setOffset(this,A,ee)});var N,U,Y=this[0];if(Y)return Y.getClientRects().length?(N=Y.getBoundingClientRect(),U=Y.ownerDocument.defaultView,{top:N.top+U.pageYOffset,left:N.left+U.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var A,N,U,Y=this[0],ee={top:0,left:0};if(c.css(Y,"position")==="fixed")N=Y.getBoundingClientRect();else{for(N=this.offset(),U=Y.ownerDocument,A=Y.offsetParent||U.documentElement;A&&(A===U.body||A===U.documentElement)&&c.css(A,"position")==="static";)A=A.parentNode;A&&A!==Y&&A.nodeType===1&&(ee=c(A).offset(),ee.top+=c.css(A,"borderTopWidth",!0),ee.left+=c.css(A,"borderLeftWidth",!0))}return{top:N.top-ee.top-c.css(Y,"marginTop",!0),left:N.left-ee.left-c.css(Y,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var A=this.offsetParent;A&&c.css(A,"position")==="static";)A=A.offsetParent;return A||st})}}),c.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(A,N){var U=N==="pageYOffset";c.fn[A]=function(Y){return ye(this,function(ee,te,de){var Oe;if(f(ee)?Oe=ee:ee.nodeType===9&&(Oe=ee.defaultView),de===void 0)return Oe?Oe[N]:ee[te];Oe?Oe.scrollTo(U?Oe.pageXOffset:de,U?de:Oe.pageYOffset):ee[te]=de},A,Y,arguments.length)}}),c.each(["top","left"],function(A,N){c.cssHooks[N]=ea(w.pixelPosition,function(U,Y){if(Y)return Y=Ar(U,N),Br.test(Y)?c(U).position()[N]+"px":Y})}),c.each({Height:"height",Width:"width"},function(A,N){c.each({padding:"inner"+A,content:N,"":"outer"+A},function(U,Y){c.fn[Y]=function(ee,te){var de=arguments.length&&(U||typeof ee!="boolean"),Oe=U||(ee===!0||te===!0?"margin":"border");return ye(this,function(Ae,Ze,dt){var mt;return f(Ae)?Y.indexOf("outer")===0?Ae["inner"+A]:Ae.document.documentElement["client"+A]:Ae.nodeType===9?(mt=Ae.documentElement,Math.max(Ae.body["scroll"+A],mt["scroll"+A],Ae.body["offset"+A],mt["offset"+A],mt["client"+A])):dt===void 0?c.css(Ae,Ze,Oe):c.style(Ae,Ze,dt,Oe)},N,de?ee:void 0,de)}})}),c.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(A,N){c.fn[N]=function(U){return this.on(N,U)}}),c.fn.extend({bind:function(A,N,U){return this.on(A,null,N,U)},unbind:function(A,N){return this.off(A,null,N)},delegate:function(A,N,U,Y){return this.on(N,A,U,Y)},undelegate:function(A,N,U){return arguments.length===1?this.off(A,"**"):this.off(N,A||"**",U)},hover:function(A,N){return this.mouseenter(A).mouseleave(N||A)}}),c.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(A,N){c.fn[N]=function(U,Y){return arguments.length>0?this.on(N,null,U,Y):this.trigger(N)}});var As=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;c.proxy=function(A,N){var U,Y,ee;if(typeof N=="string"&&(U=A[N],N=A,A=U),!!x(A))return Y=a.call(arguments,2),ee=function(){return A.apply(N||this,Y.concat(a.call(arguments)))},ee.guid=A.guid=A.guid||c.guid++,ee},c.holdReady=function(A){A?c.readyWait++:c.ready(!0)},c.isArray=Array.isArray,c.parseJSON=JSON.parse,c.nodeName=D,c.isFunction=x,c.isWindow=f,c.camelCase=Fe,c.type=C,c.now=Date.now,c.isNumeric=function(A){var N=c.type(A);return(N==="number"||N==="string")&&!isNaN(A-parseFloat(A))},c.trim=function(A){return A==null?"":(A+"").replace(As,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return c});var Ts=e.jQuery,rd=e.$;return c.noConflict=function(A){return e.$===c&&(e.$=rd),A&&e.jQuery===c&&(e.jQuery=Ts),c},typeof t>"u"&&(e.jQuery=e.$=c),c})});function cc(e){var t="a aa ai ao as b fn i m o s ",r,n,a={};we.each(e,function(s,o){r=s.match(/^([^A-Z]+?)([A-Z])/),r&&t.indexOf(r[1]+" ")!==-1&&(n=s.replace(r[0],r[2].toLowerCase()),a[n]=s,r[1]==="o"&&cc(e[s]))}),e._hungarianMap=a}function Xs(e,t,r){e._hungarianMap||cc(e);var n;we.each(t,function(a,s){n=e._hungarianMap[a],n!==void 0&&(r||t[n]===void 0)&&(n.charAt(0)==="o"?(t[n]||(t[n]={}),we.extend(!0,t[n],t[a]),Xs(e[n],t[n],r)):t[n]=t[a])})}function Q_(e){var t=wt.defaults.oLanguage,r=t.sDecimal;if(r&&nb(r),e){var n=e.sZeroRecords;!e.sEmptyTable&&n&&t.sEmptyTable==="No data available in table"&&Ga(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&t.sLoadingRecords==="Loading..."&&Ga(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var a=e.sDecimal;a&&r!==a&&nb(a)}}function DC(e){Ni(e,"ordering","bSort"),Ni(e,"orderMulti","bSortMulti"),Ni(e,"orderClasses","bSortClasses"),Ni(e,"orderCellsTop","bSortCellsTop"),Ni(e,"order","aaSorting"),Ni(e,"orderFixed","aaSortingFixed"),Ni(e,"paging","bPaginate"),Ni(e,"pagingType","sPaginationType"),Ni(e,"pageLength","iDisplayLength"),Ni(e,"searching","bFilter"),typeof e.sScrollX=="boolean"&&(e.sScrollX=e.sScrollX?"100%":""),typeof e.scrollX=="boolean"&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var r=0,n=t.length;r<n;r++)t[r]&&Xs(wt.models.oSearch,t[r])}function RC(e){Ni(e,"orderable","bSortable"),Ni(e,"orderData","aDataSort"),Ni(e,"orderSequence","asSorting"),Ni(e,"orderDataType","sortDataType");var t=e.aDataSort;typeof t=="number"&&!Array.isArray(t)&&(e.aDataSort=[t])}function UC(e){if(!wt.__browser){var t={};wt.__browser=t;var r=we("<div/>").css({position:"fixed",top:0,left:we(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append(we("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(we("<div/>").css({width:"100%",height:10}))).appendTo("body"),n=r.children(),a=n.children();t.barWidth=n[0].offsetWidth-n[0].clientWidth,t.bScrollOversize=a[0].offsetWidth===100&&n[0].clientWidth!==100,t.bScrollbarLeft=Math.round(a.offset().left)!==1,t.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}we.extend(e.oBrowser,wt.__browser),e.oScroll.iBarWidth=wt.__browser.barWidth}function AC(e,t,r,n,a,s){var o=n,l,u=!1;for(r!==void 0&&(l=r,u=!0);o!==a;)e.hasOwnProperty(o)&&(l=u?t(l,e[o],o,e):e[o],u=!0,o+=s);return l}function ib(e,t){var r=wt.defaults.column,n=e.aoColumns.length,a=we.extend({},wt.models.oColumn,r,{nTh:t||document.createElement("th"),sTitle:r.sTitle?r.sTitle:t?t.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[n],mData:r.mData?r.mData:n,idx:n});e.aoColumns.push(a);var s=e.aoPreSearchCols;s[n]=we.extend({},wt.models.oSearch,s[n]),b0(e,n,we(t).data())}function b0(e,t,r){var n=e.aoColumns[t],a=e.oClasses,s=we(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var o=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);o&&(n.sWidthOrig=o[1])}if(r!=null){RC(r),Xs(wt.defaults.column,r,!0),r.mDataProp!==void 0&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&s.addClass(r.sClass);var l=n.sClass;we.extend(n,r),Ga(n,r,"sWidth","sWidthOrig"),l!==n.sClass&&(n.sClass=l+" "+n.sClass),r.iDataSort!==void 0&&(n.aDataSort=[r.iDataSort]),Ga(n,r,"aDataSort")}var u=n.mData,v=lf(u),g=n.mRender?lf(n.mRender):null,_=function(x){return typeof x=="string"&&x.indexOf("@")!==-1};n._bAttrSrc=we.isPlainObject(u)&&(_(u.sort)||_(u.type)||_(u.filter)),n._setter=null,n.fnGetData=function(x,f,b){var h=v(x,f,void 0,b);return g&&f?g(h,f,x,b):h},n.fnSetData=function(x,f,b){return zo(u)(x,f,b)},typeof u!="number"&&!n._isArrayHost&&(e._rowReadObject=!0),e.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone));var y=we.inArray("asc",n.asSorting)!==-1,w=we.inArray("desc",n.asSorting)!==-1;!n.bSortable||!y&&!w?(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI=""):y&&!w?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!y&&w?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI)}function hc(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;cb(e);for(var r=0,n=t.length;r<n;r++)t[r].nTh.style.width=t[r].sWidth}var a=e.oScroll;(a.sY!==""||a.sX!=="")&&O0(e),kr(e,null,"column-sizing",[e])}function pc(e,t){var r=E0(e,"bVisible");return typeof r[t]=="number"?r[t]:null}function mc(e,t){var r=E0(e,"bVisible"),n=we.inArray(t,r);return n!==-1?n:null}function uf(e){var t=0;return we.each(e.aoColumns,function(r,n){n.bVisible&&we(n.nTh).css("display")!=="none"&&t++}),t}function E0(e,t){var r=[];return we.map(e.aoColumns,function(n,a){n[t]&&r.push(a)}),r}function ab(e){var t=e.aoColumns,r=e.aoData,n=wt.ext.type.detect,a,s,o,l,u,v,g,_,y,w;for(a=0,s=t.length;a<s;a++)if(g=t[a],w=[],!g.sType&&g._sManualType)g.sType=g._sManualType;else if(!g.sType){for(o=0,l=n.length;o<l;o++){for(u=0,v=r.length;u<v&&(w[u]===void 0&&(w[u]=Ii(e,u,a,"type")),y=n[o](w[u],e),!(!y&&o!==n.length-1||y==="html"&&!us(w[u])));u++);if(y){g.sType=y;break}}g.sType||(g.sType="string")}}function WC(e,t,r,n){var a,s,o,l,u,v,g,_=e.aoColumns;if(t)for(a=t.length-1;a>=0;a--){g=t[a];var y=g.target!==void 0?g.target:g.targets!==void 0?g.targets:g.aTargets;for(Array.isArray(y)||(y=[y]),o=0,l=y.length;o<l;o++)if(typeof y[o]=="number"&&y[o]>=0){for(;_.length<=y[o];)ib(e);n(y[o],g)}else if(typeof y[o]=="number"&&y[o]<0)n(_.length+y[o],g);else if(typeof y[o]=="string")for(u=0,v=_.length;u<v;u++)(y[o]=="_all"||we(_[u].nTh).hasClass(y[o]))&&n(u,g)}if(r)for(a=0,s=r.length;a<s;a++)n(a,r[a])}function Fo(e,t,r,n){var a=e.aoData.length,s=we.extend(!0,{},wt.models.oRow,{src:r?"dom":"data",idx:a});s._aData=t,e.aoData.push(s);for(var o,l,u=e.aoColumns,v=0,g=u.length;v<g;v++)u[v].sType=null;e.aiDisplayMaster.push(a);var _=e.rowIdFn(t);return _!==void 0&&(e.aIds[_]=s),(r||!e.oFeatures.bDeferRender)&&ob(e,a,r,n),a}function M0(e,t){var r;return t instanceof we||(t=we(t)),t.map(function(n,a){return r=sb(e,a),Fo(e,r.data,a,r.cells)})}function jN(e,t){return t._DT_RowIndex!==void 0?t._DT_RowIndex:null}function GN(e,t,r){return we.inArray(r,e.aoData[t].anCells)}function Ii(e,t,r,n){n==="search"?n="filter":n==="order"&&(n="sort");var a=e.iDraw,s=e.aoColumns[r],o=e.aoData[t]._aData,l=s.sDefaultContent,u=s.fnGetData(o,n,{settings:e,row:t,col:r});if(u===void 0)return e.iDrawError!=a&&l===null&&(ca(e,0,"Requested unknown parameter "+(typeof s.mData=="function"?"{function}":"'"+s.mData+"'")+" for row "+t+", column "+r,4),e.iDrawError=a),l;if((u===o||u===null)&&l!==null&&n!==void 0)u=l;else if(typeof u=="function")return u.call(o);if(u===null&&n==="display")return"";if(n==="filter"){var v=wt.ext.type.search;v[s.sType]&&(u=v[s.sType](u))}return u}function jC(e,t,r,n){var a=e.aoColumns[r],s=e.aoData[t]._aData;a.fnSetData(s,n,{settings:e,row:t,col:r})}function q_(e){return we.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function J_(e){return Xi(e.aoData,"_aData")}function D0(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function m0(e,t,r){for(var n=-1,a=0,s=e.length;a<s;a++)e[a]==t?n=a:e[a]>t&&e[a]--;n!=-1&&r===void 0&&e.splice(n,1)}function gc(e,t,r,n){var a=e.aoData[t],s,o,l=function(g,_){for(;g.childNodes.length;)g.removeChild(g.firstChild);g.innerHTML=Ii(e,t,_,"display")};if(r==="dom"||(!r||r==="auto")&&a.src==="dom")a._aData=sb(e,a,n,n===void 0?void 0:a._aData).data;else{var u=a.anCells;if(u)if(n!==void 0)l(u[n],n);else for(s=0,o=u.length;s<o;s++)l(u[s],s)}a._aSortData=null,a._aFilterData=null;var v=e.aoColumns;if(n!==void 0)v[n].sType=null;else{for(s=0,o=v.length;s<o;s++)v[s].sType=null;lb(e,a)}}function sb(e,t,r,n){var a=[],s=t.firstChild,o,l,u,v=0,g,_=e.aoColumns,y=e._rowReadObject;n=n!==void 0?n:y?{}:[];var w=function(C,M){if(typeof C=="string"){var p=C.indexOf("@");if(p!==-1){var c=C.substring(p+1),E=zo(C);E(n,M.getAttribute(c))}}},x=function(C){if(r===void 0||r===v)if(l=_[v],g=C.innerHTML.trim(),l&&l._bAttrSrc){var M=zo(l.mData._);M(n,g),w(l.mData.sort,C),w(l.mData.type,C),w(l.mData.filter,C)}else y?(l._setter||(l._setter=zo(l.mData)),l._setter(n,g)):n[v]=g;v++};if(s)for(;s;)o=s.nodeName.toUpperCase(),(o=="TD"||o=="TH")&&(x(s),a.push(s)),s=s.nextSibling;else{a=t.anCells;for(var f=0,b=a.length;f<b;f++)x(a[f])}var h=t.firstChild?t:t.nTr;if(h){var S=h.getAttribute("id");S&&zo(e.rowId)(n,S)}return{data:n,cells:a}}function ob(e,t,r,n){var a=e.aoData[t],s=a._aData,o=[],l,u,v,g,_,y;if(a.nTr===null){for(l=r||document.createElement("tr"),a.nTr=l,a.anCells=o,l._DT_RowIndex=t,lb(e,a),g=0,_=e.aoColumns.length;g<_;g++)v=e.aoColumns[g],y=!r,u=y?document.createElement(v.sCellType):n[g],u||ca(e,0,"Incorrect column count",18),u._DT_CellIndex={row:t,column:g},o.push(u),(y||(v.mRender||v.mData!==g)&&(!we.isPlainObject(v.mData)||v.mData._!==g+".display"))&&(u.innerHTML=Ii(e,t,g,"display")),v.sClass&&(u.className+=" "+v.sClass),v.bVisible&&!r?l.appendChild(u):!v.bVisible&&r&&u.parentNode.removeChild(u),v.fnCreatedCell&&v.fnCreatedCell.call(e.oInstance,u,Ii(e,t,g),s,t,g);kr(e,"aoRowCreatedCallback",null,[l,s,t,o])}}function lb(e,t){var r=t.nTr,n=t._aData;if(r){var a=e.rowIdFn(n);if(a&&(r.id=a),n.DT_RowClass){var s=n.DT_RowClass.split(" ");t.__rowc=t.__rowc?C0(t.__rowc.concat(s)):s,we(r).removeClass(t.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&we(r).attr(n.DT_RowAttr),n.DT_RowData&&we(r).data(n.DT_RowData)}}function GC(e){var t,r,n,a,s,o=e.nTHead,l=e.nTFoot,u=we("th, td",o).length===0,v=e.oClasses,g=e.aoColumns;for(u&&(a=we("<tr/>").appendTo(o)),t=0,r=g.length;t<r;t++)s=g[t],n=we(s.nTh).addClass(s.sClass),u&&n.appendTo(a),e.oFeatures.bSort&&(n.addClass(s.sSortingClass),s.bSortable!==!1&&(n.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),pb(e,s.nTh,t))),s.sTitle!=n[0].innerHTML&&n.html(s.sTitle),vb(e,"header")(e,n,s,v);if(u&&fc(e.aoHeader,o),we(o).children("tr").children("th, td").addClass(v.sHeaderTH),we(l).children("tr").children("th, td").addClass(v.sFooterTH),l!==null){var _=e.aoFooter[0];for(t=0,r=_.length;t<r;t++)s=g[t],s?(s.nTf=_[t].cell,s.sClass&&we(s.nTf).addClass(s.sClass)):ca(e,0,"Incorrect column count",18)}}function uc(e,t,r){var n,a,s,o,l,u,v,g,_=[],y=[],w=e.aoColumns.length,x,f;if(t){for(r===void 0&&(r=!1),n=0,a=t.length;n<a;n++){for(_[n]=t[n].slice(),_[n].nTr=t[n].nTr,s=w-1;s>=0;s--)!e.aoColumns[s].bVisible&&!r&&_[n].splice(s,1);y.push([])}for(n=0,a=_.length;n<a;n++){if(g=_[n].nTr,g)for(;v=g.firstChild;)g.removeChild(v);for(s=0,o=_[n].length;s<o;s++)if(x=1,f=1,y[n][s]===void 0){for(g.appendChild(_[n][s].cell),y[n][s]=1;_[n+x]!==void 0&&_[n][s].cell==_[n+x][s].cell;)y[n+x][s]=1,x++;for(;_[n][s+f]!==void 0&&_[n][s].cell==_[n][s+f].cell;){for(l=0;l<x;l++)y[n+l][s+f]=1;f++}we(_[n][s].cell).attr("rowspan",x).attr("colspan",f)}}}}function Bo(e,t){HN(e);var r=kr(e,"aoPreDrawCallback","preDraw",[e]);if(we.inArray(!1,r)!==-1){Zi(e,!1);return}var n=[],a=0,s=e.asStripeClasses,o=s.length,l=e.oLanguage,u=ti(e)=="ssp",v=e.aiDisplay,g=e._iDisplayStart,_=e.fnDisplayEnd();if(e.bDrawing=!0,e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,Zi(e,!1);else if(!u)e.iDraw++;else if(!e.bDestroying&&!t){VC(e);return}if(v.length!==0)for(var y=u?0:g,w=u?e.aoData.length:_,x=y;x<w;x++){var f=v[x],b=e.aoData[f];b.nTr===null&&ob(e,f);var h=b.nTr;if(o!==0){var S=s[a%o];b._sRowStripe!=S&&(we(h).removeClass(b._sRowStripe).addClass(S),b._sRowStripe=S)}kr(e,"aoRowCallback",null,[h,b._aData,a,x,f]),n.push(h),a++}else{var C=l.sZeroRecords;e.iDraw==1&&ti(e)=="ajax"?C=l.sLoadingRecords:l.sEmptyTable&&e.fnRecordsTotal()===0&&(C=l.sEmptyTable),n[0]=we("<tr/>",{class:o?s[0]:""}).append(we("<td />",{valign:"top",colSpan:uf(e),class:e.oClasses.sRowEmpty}).html(C))[0]}kr(e,"aoHeaderCallback","header",[we(e.nTHead).children("tr")[0],J_(e),g,_,v]),kr(e,"aoFooterCallback","footer",[we(e.nTFoot).children("tr")[0],J_(e),g,_,v]);var M=we(e.nTBody);M.children().detach(),M.append(we(n)),kr(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function Ll(e,t){var r=e.oFeatures,n=r.bSort,a=r.bFilter;n&&uE(e),a?_c(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,Bo(e),e._drawHold=!1}function HC(e){var t=e.oClasses,r=we(e.nTable),n=we("<div/>").insertBefore(r),a=e.oFeatures,s=we("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=s[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o=e.sDom.split(""),l,u,v,g,_,y,w=0;w<o.length;w++){if(l=null,u=o[w],u=="<"){if(v=we("<div/>")[0],g=o[w+1],g=="'"||g=='"'){for(_="",y=2;o[w+y]!=g;)_+=o[w+y],y++;if(_=="H"?_=t.sJUIHeader:_=="F"&&(_=t.sJUIFooter),_.indexOf(".")!=-1){var x=_.split(".");v.id=x[0].substr(1,x[0].length-1),v.className=x[1]}else _.charAt(0)=="#"?v.id=_.substr(1,_.length-1):v.className=_;w+=y}s.append(v),s=we(v)}else if(u==">")s=s.parent();else if(u=="l"&&a.bPaginate&&a.bLengthChange)l=rE(e);else if(u=="f"&&a.bFilter)l=ZC(e);else if(u=="r"&&a.bProcessing)l=iE(e);else if(u=="t")l=aE(e);else if(u=="i"&&a.bInfo)l=JC(e);else if(u=="p"&&a.bPaginate)l=nE(e);else if(wt.ext.feature.length!==0){for(var f=wt.ext.feature,b=0,h=f.length;b<h;b++)if(u==f[b].cFeature){l=f[b].fnInit(e);break}}if(l){var S=e.aanFeatures;S[u]||(S[u]=[]),S[u].push(l),s.append(l)}}n.replaceWith(s),e.nHolding=null}function fc(e,t){var r=we(t).children("tr"),n,a,s,o,l,u,v,g,_,y,w,x,f=function(b,h,S){for(var C=b[h];C[S];)S++;return S};for(e.splice(0,e.length),s=0,u=r.length;s<u;s++)e.push([]);for(s=0,u=r.length;s<u;s++)for(n=r[s],_=0,a=n.firstChild;a;){if(a.nodeName.toUpperCase()=="TD"||a.nodeName.toUpperCase()=="TH")for(y=a.getAttribute("colspan")*1,w=a.getAttribute("rowspan")*1,y=!y||y===0||y===1?1:y,w=!w||w===0||w===1?1:w,g=f(e,s,_),x=y===1,l=0;l<y;l++)for(o=0;o<w;o++)e[s+o][g+l]={cell:a,unique:x},e[s+o].nTr=n;a=a.nextSibling}}function A0(e,t,r){var n=[];r||(r=e.aoHeader,t&&(r=[],fc(r,t)));for(var a=0,s=r.length;a<s;a++)for(var o=0,l=r[a].length;o<l;o++)r[a][o].unique&&(!n[o]||!e.bSortCellsTop)&&(n[o]=r[a][o].cell);return n}function HN(e){var t=ti(e)=="ssp",r=e.iInitDisplayStart;r!==void 0&&r!==-1&&(e._iDisplayStart=t?r:r>=e.fnRecordsDisplay()?0:r,e.iInitDisplayStart=-1)}function T0(e,t,r){if(kr(e,"aoServerParams","serverParams",[t]),t&&Array.isArray(t)){var n={},a=/(.*?)\[\]$/;we.each(t,function(_,y){var w=y.name.match(a);if(w){var x=w[0];n[x]||(n[x]=[]),n[x].push(y.value)}else n[y.name]=y.value}),t=n}var s,o=e.ajax,l=e.oInstance,u=function(_){var y=e.jqXHR?e.jqXHR.status:null;(_===null||typeof y=="number"&&y==204)&&(_={},vc(e,_,[]));var w=_.error||_.sError;w&&ca(e,0,w),e.json=_,kr(e,null,"xhr",[e,_,e.jqXHR]),r(_)};if(we.isPlainObject(o)&&o.data){s=o.data;var v=typeof s=="function"?s(t,e):s;t=typeof s=="function"&&v?v:we.extend(!0,t,v),delete o.data}var g={data:t,success:u,dataType:"json",cache:!1,type:e.sServerMethod,error:function(_,y,w){var x=kr(e,null,"xhr",[e,null,e.jqXHR]);we.inArray(!0,x)===-1&&(y=="parsererror"?ca(e,0,"Invalid JSON response",1):_.readyState===4&&ca(e,0,"Ajax error",7)),Zi(e,!1)}};e.oAjaxData=t,kr(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,we.map(t,function(_,y){return{name:y,value:_}}),u,e):e.sAjaxSource||typeof o=="string"?e.jqXHR=we.ajax(we.extend(g,{url:o||e.sAjaxSource})):typeof o=="function"?e.jqXHR=o.call(l,t,u,e):(e.jqXHR=we.ajax(we.extend(g,o)),o.data=s)}function VC(e){e.iDraw++,Zi(e,!0);var t=e._drawHold;T0(e,YC(e),function(r){e._drawHold=t,KC(e,r),e._drawHold=!1})}function YC(e){var t=e.aoColumns,r=t.length,n=e.oFeatures,a=e.oPreviousSearch,s=e.aoPreSearchCols,o,l=[],u,v,g,_=ff(e),y=e._iDisplayStart,w=n.bPaginate!==!1?e._iDisplayLength:-1,x=function(h,S){l.push({name:h,value:S})};x("sEcho",e.iDraw),x("iColumns",r),x("sColumns",Xi(t,"sName").join(",")),x("iDisplayStart",y),x("iDisplayLength",w);var f={draw:e.iDraw,columns:[],order:[],start:y,length:w,search:{value:a.sSearch,regex:a.bRegex}};for(o=0;o<r;o++)v=t[o],g=s[o],u=typeof v.mData=="function"?"function":v.mData,f.columns.push({data:u,name:v.sName,searchable:v.bSearchable,orderable:v.bSortable,search:{value:g.sSearch,regex:g.bRegex}}),x("mDataProp_"+o,u),n.bFilter&&(x("sSearch_"+o,g.sSearch),x("bRegex_"+o,g.bRegex),x("bSearchable_"+o,v.bSearchable)),n.bSort&&x("bSortable_"+o,v.bSortable);n.bFilter&&(x("sSearch",a.sSearch),x("bRegex",a.bRegex)),n.bSort&&(we.each(_,function(h,S){f.order.push({column:S.col,dir:S.dir}),x("iSortCol_"+h,S.col),x("sSortDir_"+h,S.dir)}),x("iSortingCols",_.length));var b=wt.ext.legacy.ajax;return b===null?e.sAjaxSource?l:f:b?l:f}function KC(e,t){var r=function(v,g){return t[v]!==void 0?t[v]:t[g]},n=vc(e,t),a=r("sEcho","draw"),s=r("iTotalRecords","recordsTotal"),o=r("iTotalDisplayRecords","recordsFiltered");if(a!==void 0){if(a*1<e.iDraw)return;e.iDraw=a*1}n||(n=[]),D0(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(o,10);for(var l=0,u=n.length;l<u;l++)Fo(e,n[l]);e.aiDisplay=e.aiDisplayMaster.slice(),Bo(e,!0),e._bInitComplete||y0(e,t),Zi(e,!1)}function vc(e,t,r){var n=we.isPlainObject(e.ajax)&&e.ajax.dataSrc!==void 0?e.ajax.dataSrc:e.sAjaxDataProp;if(!r)return n==="data"?t.aaData||t[n]:n!==""?lf(n)(t):t;zo(n)(t,r)}function ZC(e){var t=e.oClasses,r=e.sTableId,n=e.oLanguage,a=e.oPreviousSearch,s=e.aanFeatures,o='<input type="search" class="'+t.sFilterInput+'"/>',l=n.sSearch;l=l.match(/_INPUT_/)?l.replace("_INPUT_",o):l+o;var u=we("<div/>",{id:s.f?null:r+"_filter",class:t.sFilter}).append(we("<label/>").append(l)),v=function(y){var w=s.f,x=this.value?this.value:"";a.return&&y.key!=="Enter"||x!=a.sSearch&&(_c(e,{sSearch:x,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive,return:a.return}),e._iDisplayStart=0,Bo(e))},g=e.searchDelay!==null?e.searchDelay:ti(e)==="ssp"?400:0,_=we("input",u).val(a.sSearch).attr("placeholder",n.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",g?hb(v,g):v).on("mouseup.DT",function(y){setTimeout(function(){v.call(_[0],y)},10)}).on("keypress.DT",function(y){if(y.keyCode==13)return!1}).attr("aria-controls",r);return we(e.nTable).on("search.dt.DT",function(y,w){if(e===w)try{_[0]!==document.activeElement&&_.val(a.sSearch)}catch{}}),u[0]}function _c(e,t,r){var n=e.oPreviousSearch,a=e.aoPreSearchCols,s=function(u){n.sSearch=u.sSearch,n.bRegex=u.bRegex,n.bSmart=u.bSmart,n.bCaseInsensitive=u.bCaseInsensitive,n.return=u.return},o=function(u){return u.bEscapeRegex!==void 0?!u.bEscapeRegex:u.bRegex};if(ab(e),ti(e)!="ssp"){QC(e,t.sSearch,r,o(t),t.bSmart,t.bCaseInsensitive),s(t);for(var l=0;l<a.length;l++)$C(e,a[l].sSearch,l,o(a[l]),a[l].bSmart,a[l].bCaseInsensitive);XC(e)}else s(t);e.bFiltered=!0,kr(e,null,"search",[e])}function XC(e){for(var t=wt.ext.search,r=e.aiDisplay,n,a,s=0,o=t.length;s<o;s++){for(var l=[],u=0,v=r.length;u<v;u++)a=r[u],n=e.aoData[a],t[s](e,n._aFilterData,a,n._aData,u)&&l.push(a);r.length=0,we.merge(r,l)}}function $C(e,t,r,n,a,s){if(t!==""){for(var o,l=[],u=e.aiDisplay,v=ub(t,n,a,s),g=0;g<u.length;g++)o=e.aoData[u[g]]._aFilterData[r],v.test(o)&&l.push(u[g]);e.aiDisplay=l}}function QC(e,t,r,n,a,s){var o=ub(t,n,a,s),l=e.oPreviousSearch.sSearch,u=e.aiDisplayMaster,v,g,_,y=[];if(wt.ext.search.length!==0&&(r=!0),g=qC(e),t.length<=0)e.aiDisplay=u.slice();else{for((g||r||n||l.length>t.length||t.indexOf(l)!==0||e.bSorted)&&(e.aiDisplay=u.slice()),v=e.aiDisplay,_=0;_<v.length;_++)o.test(e.aoData[v[_]]._sFilterRow)&&y.push(v[_]);e.aiDisplay=y}}function ub(e,t,r,n){if(e=t?e:fb(e),r){var a=we.map(e.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(s){if(s.charAt(0)==='"'){var o=s.match(/^"(.*)"$/);s=o?o[1]:s}else if(s.charAt(0)==="\u201C"){var o=s.match(/^\u201C(.*)\u201D$/);s=o?o[1]:s}return s.replace('"',"")});e="^(?=.*?"+a.join(")(?=.*?")+").*$"}return new RegExp(e,n?"i":"")}function qC(e){var t=e.aoColumns,r,n,a,s,o,l,u,v,g=!1;for(n=0,s=e.aoData.length;n<s;n++)if(v=e.aoData[n],!v._aFilterData){for(l=[],a=0,o=t.length;a<o;a++)r=t[a],r.bSearchable?(u=Ii(e,n,a,"filter"),u===null&&(u=""),typeof u!="string"&&u.toString&&(u=u.toString())):u="",u.indexOf&&u.indexOf("&")!==-1&&(g0.innerHTML=u,u=VN?g0.textContent:g0.innerText),u.replace&&(u=u.replace(/[\r\n\u2028]/g,"")),l.push(u);v._aFilterData=l,v._sFilterRow=l.join("  "),g=!0}return g}function TC(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function LC(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function JC(e){var t=e.sTableId,r=e.aanFeatures.i,n=we("<div/>",{class:e.oClasses.sInfo,id:r?null:t+"_info"});return r||(e.aoDrawCallback.push({fn:eE,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),we(e.nTable).attr("aria-describedby",t+"_info")),n[0]}function eE(e){var t=e.aanFeatures.i;if(t.length!==0){var r=e.oLanguage,n=e._iDisplayStart+1,a=e.fnDisplayEnd(),s=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),l=o?r.sInfo:r.sInfoEmpty;o!==s&&(l+=" "+r.sInfoFiltered),l+=r.sInfoPostFix,l=tE(e,l);var u=r.fnInfoCallback;u!==null&&(l=u.call(e.oInstance,e,n,a,s,o,l)),we(t).html(l)}}function tE(e,t){var r=e.fnFormatNumber,n=e._iDisplayStart+1,a=e._iDisplayLength,s=e.fnRecordsDisplay(),o=a===-1;return t.replace(/_START_/g,r.call(e,n)).replace(/_END_/g,r.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,r.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,r.call(e,s)).replace(/_PAGE_/g,r.call(e,o?1:Math.ceil(n/a))).replace(/_PAGES_/g,r.call(e,o?1:Math.ceil(s/a)))}function lc(e){var t,r,n=e.iInitDisplayStart,a=e.aoColumns,s,o=e.oFeatures,l=e.bDeferLoading;if(!e.bInitialised){setTimeout(function(){lc(e)},200);return}for(HC(e),GC(e),uc(e,e.aoHeader),uc(e,e.aoFooter),Zi(e,!0),o.bAutoWidth&&cb(e),t=0,r=a.length;t<r;t++)s=a[t],s.sWidth&&(s.nTh.style.width=dn(s.sWidth));kr(e,null,"preInit",[e]),Ll(e);var u=ti(e);(u!="ssp"||l)&&(u=="ajax"?T0(e,[],function(v){var g=vc(e,v);for(t=0;t<g.length;t++)Fo(e,g[t]);e.iInitDisplayStart=n,Ll(e),Zi(e,!1),y0(e,v)},e):(Zi(e,!1),y0(e)))}function y0(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&hc(e),kr(e,null,"plugin-init",[e,t]),kr(e,"aoInitComplete","init",[e,t])}function db(e,t){var r=parseInt(t,10);e._iDisplayLength=r,gb(e),kr(e,null,"length",[e,r])}function rE(e){for(var t=e.oClasses,r=e.sTableId,n=e.aLengthMenu,a=Array.isArray(n[0]),s=a?n[0]:n,o=a?n[1]:n,l=we("<select/>",{name:r+"_length","aria-controls":r,class:t.sLengthSelect}),u=0,v=s.length;u<v;u++)l[0][u]=new Option(typeof o[u]=="number"?e.fnFormatNumber(o[u]):o[u],s[u]);var g=we("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(g[0].id=r+"_length"),g.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),we("select",g).val(e._iDisplayLength).on("change.DT",function(_){db(e,we(this).val()),Bo(e)}),we(e.nTable).on("length.dt.DT",function(_,y,w){e===y&&we("select",g).val(w)}),g[0]}function nE(e){var t=e.sPaginationType,r=wt.ext.pager[t],n=typeof r=="function",a=function(l){Bo(l)},s=we("<div/>").addClass(e.oClasses.sPaging+t)[0],o=e.aanFeatures;return n||r.fnInit(e,s,a),o.p||(s.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(l){if(n){var u=l._iDisplayStart,v=l._iDisplayLength,g=l.fnRecordsDisplay(),_=v===-1,y=_?0:Math.ceil(u/v),w=_?1:Math.ceil(g/v),x=r(y,w),f,b;for(f=0,b=o.p.length;f<b;f++)vb(l,"pageButton")(l,o.p[f],f,x,y,w)}else r.fnUpdate(l,a)},sName:"pagination"})),s}function L0(e,t,r){var n=e._iDisplayStart,a=e._iDisplayLength,s=e.fnRecordsDisplay();s===0||a===-1?n=0:typeof t=="number"?(n=t*a,n>s&&(n=0)):t=="first"?n=0:t=="previous"?(n=a>=0?n-a:0,n<0&&(n=0)):t=="next"?n+a<s&&(n+=a):t=="last"?n=Math.floor((s-1)/a)*a:ca(e,0,"Unknown paging action: "+t,5);var o=e._iDisplayStart!==n;return e._iDisplayStart=n,o?(kr(e,null,"page",[e]),r&&Bo(e)):kr(e,null,"page-nc",[e]),o}function iE(e){return we("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing,role:"status"}).html(e.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(e.nTable)[0]}function Zi(e,t){e.oFeatures.bProcessing&&we(e.aanFeatures.r).css("display",t?"block":"none"),kr(e,null,"processing",[e,t])}function aE(e){var t=we(e.nTable),r=e.oScroll;if(r.sX===""&&r.sY==="")return e.nTable;var n=r.sX,a=r.sY,s=e.oClasses,o=t.children("caption"),l=o.length?o[0]._captionSide:null,u=we(t[0].cloneNode(!1)),v=we(t[0].cloneNode(!1)),g=t.children("tfoot"),_="<div/>",y=function(S){return S?dn(S):null};g.length||(g=null);var w=we(_,{class:s.sScrollWrapper}).append(we(_,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?y(n):"100%"}).append(we(_,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:r.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append(l==="top"?o:null).append(t.children("thead"))))).append(we(_,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:y(n)}).append(t));g&&w.append(we(_,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:n?y(n):"100%"}).append(we(_,{class:s.sScrollFootInner}).append(v.removeAttr("id").css("margin-left",0).append(l==="bottom"?o:null).append(t.children("tfoot")))));var x=w.children(),f=x[0],b=x[1],h=g?x[2]:null;return n&&we(b).on("scroll.DT",function(S){var C=this.scrollLeft;f.scrollLeft=C,g&&(h.scrollLeft=C)}),we(b).css("max-height",a),r.bCollapse||we(b).css("height",a),e.nScrollHead=f,e.nScrollBody=b,e.nScrollFoot=h,e.aoDrawCallback.push({fn:O0,sName:"scrolling"}),w[0]}function O0(e){var t=e.oScroll,r=t.sX,n=t.sXInner,a=t.sY,s=t.iBarWidth,o=we(e.nScrollHead),l=o[0].style,u=o.children("div"),v=u[0].style,g=u.children("table"),_=e.nScrollBody,y=we(_),w=_.style,x=we(e.nScrollFoot),f=x.children("div"),b=f.children("table"),h=we(e.nTHead),S=we(e.nTable),C=S[0],M=C.style,p=e.nTFoot?we(e.nTFoot):null,c=e.oBrowser,E=c.bScrollOversize,D=Xi(e.aoColumns,"nTh"),I,O,P,k,B,G,K=[],q=[],H=[],$=[],W,V,Z,Q=function(Ne){var Te=Ne.style;Te.paddingTop="0",Te.paddingBottom="0",Te.borderTopWidth="0",Te.borderBottomWidth="0",Te.height=0},ie=_.scrollHeight>_.clientHeight;if(e.scrollBarVis!==ie&&e.scrollBarVis!==void 0){e.scrollBarVis=ie,hc(e);return}else e.scrollBarVis=ie;S.children("thead, tfoot").remove(),p&&(G=p.clone().prependTo(S),O=p.find("tr"),k=G.find("tr"),G.find("[id]").removeAttr("id")),B=h.clone().prependTo(S),I=h.find("tr"),P=B.find("tr"),B.find("th, td").removeAttr("tabindex"),B.find("[id]").removeAttr("id"),r||(w.width="100%",o[0].style.width="100%"),we.each(A0(e,B),function(Ne,Te){W=pc(e,Ne),Te.style.width=e.aoColumns[W].sWidth}),p&&ls(function(Ne){Ne.style.width=""},k),Z=S.outerWidth(),r===""?(M.width="100%",E&&(S.find("tbody").height()>_.offsetHeight||y.css("overflow-y")=="scroll")&&(M.width=dn(S.outerWidth()-s)),Z=S.outerWidth()):n!==""&&(M.width=dn(n),Z=S.outerWidth()),ls(Q,P),ls(function(Ne){var Te=window.getComputedStyle?window.getComputedStyle(Ne).width:dn(we(Ne).width());H.push(Ne.innerHTML),K.push(Te)},P),ls(function(Ne,Te){Ne.style.width=K[Te]},I),we(P).css("height",0),p&&(ls(Q,k),ls(function(Ne){$.push(Ne.innerHTML),q.push(dn(we(Ne).css("width")))},k),ls(function(Ne,Te){Ne.style.width=q[Te]},O),we(k).height(0)),ls(function(Ne,Te){Ne.innerHTML='<div class="dataTables_sizing">'+H[Te]+"</div>",Ne.childNodes[0].style.height="0",Ne.childNodes[0].style.overflow="hidden",Ne.style.width=K[Te]},P),p&&ls(function(Ne,Te){Ne.innerHTML='<div class="dataTables_sizing">'+$[Te]+"</div>",Ne.childNodes[0].style.height="0",Ne.childNodes[0].style.overflow="hidden",Ne.style.width=q[Te]},k),Math.round(S.outerWidth())<Math.round(Z)?(V=_.scrollHeight>_.offsetHeight||y.css("overflow-y")=="scroll"?Z+s:Z,E&&(_.scrollHeight>_.offsetHeight||y.css("overflow-y")=="scroll")&&(M.width=dn(V-s)),(r===""||n!=="")&&ca(e,1,"Possible column misalignment",6)):V="100%",w.width=dn(V),l.width=dn(V),p&&(e.nScrollFoot.style.width=dn(V)),a||E&&(w.height=dn(C.offsetHeight+s));var Ce=S.outerWidth();g[0].style.width=dn(Ce),v.width=dn(Ce);var De=S.height()>_.clientHeight||y.css("overflow-y")=="scroll",Me="padding"+(c.bScrollbarLeft?"Left":"Right");v[Me]=De?s+"px":"0px",p&&(b[0].style.width=dn(Ce),f[0].style.width=dn(Ce),f[0].style[Me]=De?s+"px":"0px"),S.children("colgroup").insertBefore(S.children("thead")),y.trigger("scroll"),(e.bSorted||e.bFiltered)&&!e._drawHold&&(_.scrollTop=0)}function ls(e,t,r){for(var n=0,a=0,s=t.length,o,l;a<s;){for(o=t[a].firstChild,l=r?r[a].firstChild:null;o;)o.nodeType===1&&(r?e(o,l,n):e(o,n),n++),o=o.nextSibling,l=r?l.nextSibling:null;a++}}function cb(e){var t=e.nTable,r=e.aoColumns,n=e.oScroll,a=n.sY,s=n.sX,o=n.sXInner,l=r.length,u=E0(e,"bVisible"),v=we("th",e.nTHead),g=t.getAttribute("width"),_=t.parentNode,y=!1,w,x,f,b,h,S=e.oBrowser,C=S.bScrollOversize,M=t.style.width;for(M&&M.indexOf("%")!==-1&&(g=M),w=0;w<u.length;w++)x=r[u[w]],x.sWidth!==null&&(x.sWidth=sE(x.sWidthOrig,_),y=!0);if(C||!y&&!s&&!a&&l==uf(e)&&l==v.length)for(w=0;w<l;w++){var p=pc(e,w);p!==null&&(r[p].sWidth=dn(v.eq(w).width()))}else{var c=we(t).clone().css("visibility","hidden").removeAttr("id");c.find("tbody tr").remove();var E=we("<tr/>").appendTo(c.find("tbody"));for(c.find("thead, tfoot").remove(),c.append(we(e.nTHead).clone()).append(we(e.nTFoot).clone()),c.find("tfoot th, tfoot td").css("width",""),v=A0(e,c.find("thead")[0]),w=0;w<u.length;w++)x=r[u[w]],v[w].style.width=x.sWidthOrig!==null&&x.sWidthOrig!==""?dn(x.sWidthOrig):"",x.sWidthOrig&&s&&we(v[w]).append(we("<div/>").css({width:x.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(e.aoData.length)for(w=0;w<u.length;w++)f=u[w],x=r[f],we(oE(e,f)).clone(!1).append(x.sContentPadding).appendTo(E);we("[name]",c).removeAttr("name");var D=we("<div/>").css(s||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(c).appendTo(_);s&&o?c.width(o):s?(c.css("width","auto"),c.removeAttr("width"),c.width()<_.clientWidth&&g&&c.width(_.clientWidth)):a?c.width(_.clientWidth):g&&c.width(g);var I=0;for(w=0;w<u.length;w++){var O=we(v[w]),P=O.outerWidth()-O.width(),k=S.bBounding?Math.ceil(v[w].getBoundingClientRect().width):O.outerWidth();I+=k,r[u[w]].sWidth=dn(k-P)}t.style.width=dn(I),D.remove()}if(g&&(t.style.width=dn(g)),(g||s)&&!e._reszEvt){var B=function(){we(window).on("resize.DT-"+e.sInstance,hb(function(){hc(e)}))};C?setTimeout(B,1e3):B(),e._reszEvt=!0}}function sE(e,t){if(!e)return 0;var r=we("<div/>").css("width",dn(e)).appendTo(t||document.body),n=r[0].offsetWidth;return r.remove(),n}function oE(e,t){var r=lE(e,t);if(r<0)return null;var n=e.aoData[r];return n.nTr?n.anCells[t]:we("<td/>").html(Ii(e,r,t,"display"))[0]}function lE(e,t){for(var r,n=-1,a=-1,s=0,o=e.aoData.length;s<o;s++)r=Ii(e,s,t,"display")+"",r=r.replace(YN,""),r=r.replace(/&nbsp;/g," "),r.length>n&&(n=r.length,a=s);return a}function dn(e){return e===null?"0px":typeof e=="number"?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function ff(e){var t,r,n,a,s=[],o=[],l=e.aoColumns,u,v,g,_,y=e.aaSortingFixed,w=we.isPlainObject(y),x=[],f=function(b){b.length&&!Array.isArray(b[0])?x.push(b):we.merge(x,b)};for(Array.isArray(y)&&f(y),w&&y.pre&&f(y.pre),f(e.aaSorting),w&&y.post&&f(y.post),t=0;t<x.length;t++)for(_=x[t][0],u=l[_].aDataSort,n=0,a=u.length;n<a;n++)v=u[n],g=l[v].sType||"string",x[t]._idx===void 0&&(x[t]._idx=we.inArray(x[t][1],l[v].asSorting)),s.push({src:_,col:v,dir:x[t][1],index:x[t]._idx,type:g,formatter:wt.ext.type.order[g+"-pre"]});return s}function uE(e){var t,r,n,a,s,o,l,u,v,g=[],_=wt.ext.type.order,y=e.aoData,w=e.aoColumns,x,f,b,h,S,C=0,M,p=e.aiDisplayMaster,c;for(ab(e),c=ff(e),t=0,r=c.length;t<r;t++)M=c[t],M.formatter&&C++,dE(e,M.col);if(ti(e)!="ssp"&&c.length!==0){for(t=0,n=p.length;t<n;t++)g[p[t]]=t;C===c.length?p.sort(function(E,D){var I,O,P,k,B,G=c.length,K=y[E]._aSortData,q=y[D]._aSortData;for(P=0;P<G;P++)if(B=c[P],I=K[B.col],O=q[B.col],k=I<O?-1:I>O?1:0,k!==0)return B.dir==="asc"?k:-k;return I=g[E],O=g[D],I<O?-1:I>O?1:0}):p.sort(function(E,D){var I,O,P,k,B,G,K,q=c.length,H=y[E]._aSortData,$=y[D]._aSortData;for(P=0;P<q;P++)if(G=c[P],I=H[G.col],O=$[G.col],K=_[G.type+"-"+G.dir]||_["string-"+G.dir],B=K(I,O),B!==0)return B;return I=g[E],O=g[D],I<O?-1:I>O?1:0})}e.bSorted=!0}function fE(e){for(var t,r,n=e.aoColumns,a=ff(e),s=e.oLanguage.oAria,o=0,l=n.length;o<l;o++){var u=n[o],v=u.asSorting,g=u.ariaTitle||u.sTitle.replace(/<.*?>/g,""),_=u.nTh;_.removeAttribute("aria-sort"),u.bSortable?(a.length>0&&a[0].col==o?(_.setAttribute("aria-sort",a[0].dir=="asc"?"ascending":"descending"),r=v[a[0].index+1]||v[0]):r=v[0],t=g+(r==="asc"?s.sSortAscending:s.sSortDescending)):t=g,_.setAttribute("aria-label",t)}}function eb(e,t,r,n){var a=e.aoColumns[t],s=e.aaSorting,o=a.asSorting,l,u=function(g,_){var y=g._idx;return y===void 0&&(y=we.inArray(g[1],o)),y+1<o.length?y+1:_?null:0};if(typeof s[0]=="number"&&(s=e.aaSorting=[s]),r&&e.oFeatures.bSortMulti){var v=we.inArray(t,Xi(s,"0"));v!==-1?(l=u(s[v],!0),l===null&&s.length===1&&(l=0),l===null?s.splice(v,1):(s[v][1]=o[l],s[v]._idx=l)):(s.push([t,o[0],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==t?(l=u(s[0]),s.length=1,s[0][1]=o[l],s[0]._idx=l):(s.length=0,s.push([t,o[0]]),s[0]._idx=0);Ll(e),typeof n=="function"&&n(e)}function pb(e,t,r,n){var a=e.aoColumns[r];mb(t,{},function(s){a.bSortable!==!1&&(e.oFeatures.bProcessing?(Zi(e,!0),setTimeout(function(){eb(e,r,s.shiftKey,n),ti(e)!=="ssp"&&Zi(e,!1)},0)):eb(e,r,s.shiftKey,n))})}function x0(e){var t=e.aLastSort,r=e.oClasses.sSortColumn,n=ff(e),a=e.oFeatures,s,o,l;if(a.bSort&&a.bSortClasses){for(s=0,o=t.length;s<o;s++)l=t[s].src,we(Xi(e.aoData,"anCells",l)).removeClass(r+(s<2?s+1:3));for(s=0,o=n.length;s<o;s++)l=n[s].src,we(Xi(e.aoData,"anCells",l)).addClass(r+(s<2?s+1:3))}e.aLastSort=n}function dE(e,t){var r=e.aoColumns[t],n=wt.ext.order[r.sSortDataType],a;n&&(a=n.call(e.oInstance,e,t,mc(e,t)));for(var s,o,l=wt.ext.type.order[r.sType+"-pre"],u=0,v=e.aoData.length;u<v;u++)s=e.aoData[u],s._aSortData||(s._aSortData=[]),(!s._aSortData[t]||n)&&(o=n?a[u]:Ii(e,u,t,"sort"),s._aSortData[t]=l?l(o):o)}function bc(e){if(!e._bLoadingState){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:we.extend(!0,[],e.aaSorting),search:TC(e.oPreviousSearch),columns:we.map(e.aoColumns,function(r,n){return{visible:r.bVisible,search:TC(e.aoPreSearchCols[n])}})};e.oSavedState=t,kr(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oFeatures.bStateSave&&!e.bDestroying&&e.fnStateSaveCallback.call(e.oInstance,e,t)}}function cE(e,t,r){if(!e.oFeatures.bStateSave){r();return}var n=function(s){tb(e,s,r)},a=e.fnStateLoadCallback.call(e.oInstance,e,n);return a!==void 0&&tb(e,a,r),!0}function tb(e,t,r){var n,a,s=e.aoColumns;e._bLoadingState=!0;var o=e._bInitComplete?new wt.Api(e):null;if(!t||!t.time){e._bLoadingState=!1,r();return}var l=kr(e,"aoStateLoadParams","stateLoadParams",[e,t]);if(we.inArray(!1,l)!==-1){e._bLoadingState=!1,r();return}var u=e.iStateDuration;if(u>0&&t.time<+new Date-u*1e3){e._bLoadingState=!1,r();return}if(t.columns&&s.length!==t.columns.length){e._bLoadingState=!1,r();return}if(e.oLoadedState=we.extend(!0,{},t),t.length!==void 0&&(o?o.page.len(t.length):e._iDisplayLength=t.length),t.start!==void 0&&(o===null?(e._iDisplayStart=t.start,e.iInitDisplayStart=t.start):L0(e,t.start/e._iDisplayLength)),t.order!==void 0&&(e.aaSorting=[],we.each(t.order,function(g,_){e.aaSorting.push(_[0]>=s.length?[0,_[1]]:_)})),t.search!==void 0&&we.extend(e.oPreviousSearch,LC(t.search)),t.columns){for(n=0,a=t.columns.length;n<a;n++){var v=t.columns[n];v.visible!==void 0&&(o?o.column(n).visible(v.visible,!1):s[n].bVisible=v.visible),v.search!==void 0&&we.extend(e.aoPreSearchCols[n],LC(v.search))}o&&o.columns.adjust()}e._bLoadingState=!1,kr(e,"aoStateLoaded","stateLoaded",[e,t]),r()}function w0(e){var t=wt.settings,r=we.inArray(e,Xi(t,"nTable"));return r!==-1?t[r]:null}function ca(e,t,r,n){if(r="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+r,n&&(r+=". For more information about this error, please see http://datatables.net/tn/"+n),t)window.console&&console.log&&console.log(r);else{var a=wt.ext,s=a.sErrMode||a.errMode;if(e&&kr(e,null,"error",[e,n,r]),s=="alert")alert(r);else{if(s=="throw")throw new Error(r);typeof s=="function"&&s(e,n,r)}}}function Ga(e,t,r,n){if(Array.isArray(r)){we.each(r,function(a,s){Array.isArray(s)?Ga(e,t,s[0],s[1]):Ga(e,t,s)});return}n===void 0&&(n=r),t[r]!==void 0&&(e[n]=t[r])}function rb(e,t,r){var n;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],we.isPlainObject(n)?(we.isPlainObject(e[a])||(e[a]={}),we.extend(!0,e[a],n)):r&&a!=="data"&&a!=="aaData"&&Array.isArray(n)?e[a]=n.slice():e[a]=n);return e}function mb(e,t,r){we(e).on("click.DT",t,function(n){we(e).trigger("blur"),r(n)}).on("keypress.DT",t,function(n){n.which===13&&(n.preventDefault(),r(n))}).on("selectstart.DT",function(){return!1})}function pi(e,t,r,n){r&&e[t].push({fn:r,sName:n})}function kr(e,t,r,n){var a=[];if(t&&(a=we.map(e[t].slice().reverse(),function(l,u){return l.fn.apply(e.oInstance,n)})),r!==null){var s=we.Event(r+".dt"),o=we(e.nTable);o.trigger(s,n),o.parents("body").length===0&&we("body").trigger(s,n),a.push(s.result)}return a}function gb(e){var t=e._iDisplayStart,r=e.fnDisplayEnd(),n=e._iDisplayLength;t>=r&&(t=r-n),t-=t%n,(n===-1||t<0)&&(t=0),e._iDisplayStart=t}function vb(e,t){var r=e.renderer,n=wt.ext.renderer[t];return we.isPlainObject(r)&&r[t]?n[r[t]]||n._:typeof r=="string"&&n[r]||n._}function ti(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function oc(e,t){var r=[],n=bE.numbers_length,a=Math.floor(n/2),s=1;return t<=n?r=of(0,t):e<=a?(r=of(0,n-2),r.push("ellipsis"),r.push(t-1)):e>=t-1-a?(r=of(t-(n-2),t),r.splice(0,0,"ellipsis"),r.splice(0,0,0)):(r=of(e-a+2,e+a-1),r.push("ellipsis"),r.push(t-1),r.splice(0,0,"ellipsis"),r.splice(0,0,0)),r.DT_el="span",r}function nb(e){we.each({num:function(t){return p0(t,e)},"num-fmt":function(t){return p0(t,e,X_)},"html-num":function(t){return p0(t,e,_0)},"html-num-fmt":function(t){return p0(t,e,_0,X_)}},function(t,r){wn.type.order[t+e+"-pre"]=r,t.match(/^html\-/)&&(wn.type.search[t+e]=wn.type.search.html)})}function OC(e,t,r,n,a){return window.moment?e[t](a):window.luxon?e[r](a):n?e[n](a):e}function S0(e,t,r){var n;if(window.moment){if(n=window.moment.utc(e,t,r,!0),!n.isValid())return null}else if(window.luxon){if(n=t&&typeof e=="string"?window.luxon.DateTime.fromFormat(e,t):window.luxon.DateTime.fromISO(e),!n.isValid)return null;n.setLocale(r)}else t?(kC||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),kC=!0):n=new Date(e);return n}function Z_(e){return function(t,r,n,a){arguments.length===0?(n="en",r=null,t=null):arguments.length===1?(n="en",r=t,t=null):arguments.length===2&&(n=r,r=t,t=null);var s="datetime-"+r;return wt.ext.type.order[s]||(wt.ext.type.detect.unshift(function(o){return o===s?s:!1}),wt.ext.type.order[s+"-asc"]=function(o,l){var u=o.valueOf(),v=l.valueOf();return u===v?0:u<v?-1:1},wt.ext.type.order[s+"-desc"]=function(o,l){var u=o.valueOf(),v=l.valueOf();return u===v?0:u>v?-1:1}),function(o,l){if(o==null)if(a==="--now"){var u=new Date;o=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds()))}else o="";if(l==="type")return s;if(o==="")return l!=="sort"?"":S0("0000-01-01 00:00:00",null,n);if(r!==null&&t===r&&l!=="sort"&&l!=="type"&&!(o instanceof Date))return o;var v=S0(o,t,n);if(v===null)return o;if(l==="sort")return v;var g=r===null?OC(v,"toDate","toJSDate","")[e]():OC(v,"format","toFormat","toISOString",r);return l==="display"?v0(g):g}}}function wE(e){return function(){var t=[w0(this[wt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return wt.ext.internal[e].apply(this,t)}}var PC,we,wt,wn,br,$t,$r,K_,EC,_0,FN,BN,X_,us,NC,IC,$_,RN,MC,Xi,dc,of,zC,UN,WN,C0,FC,BC,Ni,sc,af,lf,zo,fb,g0,VN,YN,hb,hE,Fn,KN,pE,mE,_b,bb,yb,k0,ZN,XN,gE,xb,vE,$N,QN,yc,P0,qN,_E,JN,eI,tI,bE,p0,v0,kC,yE,xE,sf,Tl,SE=se(()=>{PC=rn(h0(),1);we=PC.default,wt=function(e,t){if(wt.factory(e,t))return wt;if(this instanceof wt)return we(e).DataTable(t);t=e,this.$=function(o,l){return this.api(!0).$(o,l)},this._=function(o,l){return this.api(!0).rows(o,l).data()},this.api=function(o){return o?new br(w0(this[wn.iApiIndex])):new br(this)},this.fnAddData=function(o,l){var u=this.api(!0),v=Array.isArray(o)&&(Array.isArray(o[0])||we.isPlainObject(o[0]))?u.rows.add(o):u.row.add(o);return(l===void 0||l)&&u.draw(),v.flatten().toArray()},this.fnAdjustColumnSizing=function(o){var l=this.api(!0).columns.adjust(),u=l.settings()[0],v=u.oScroll;o===void 0||o?l.draw(!1):(v.sX!==""||v.sY!=="")&&O0(u)},this.fnClearTable=function(o){var l=this.api(!0).clear();(o===void 0||o)&&l.draw()},this.fnClose=function(o){this.api(!0).row(o).child.hide()},this.fnDeleteRow=function(o,l,u){var v=this.api(!0),g=v.rows(o),_=g.settings()[0],y=_.aoData[g[0][0]];return g.remove(),l&&l.call(this,_,y),(u===void 0||u)&&v.draw(),y},this.fnDestroy=function(o){this.api(!0).destroy(o)},this.fnDraw=function(o){this.api(!0).draw(o)},this.fnFilter=function(o,l,u,v,g,_){var y=this.api(!0);l==null?y.search(o,u,v,_):y.column(l).search(o,u,v,_),y.draw()},this.fnGetData=function(o,l){var u=this.api(!0);if(o!==void 0){var v=o.nodeName?o.nodeName.toLowerCase():"";return l!==void 0||v=="td"||v=="th"?u.cell(o,l).data():u.row(o).data()||null}return u.data().toArray()},this.fnGetNodes=function(o){var l=this.api(!0);return o!==void 0?l.row(o).node():l.rows().nodes().flatten().toArray()},this.fnGetPosition=function(o){var l=this.api(!0),u=o.nodeName.toUpperCase();if(u=="TR")return l.row(o).index();if(u=="TD"||u=="TH"){var v=l.cell(o).index();return[v.row,v.columnVisible,v.column]}return null},this.fnIsOpen=function(o){return this.api(!0).row(o).child.isShown()},this.fnOpen=function(o,l,u){return this.api(!0).row(o).child(l,u).show().child()[0]},this.fnPageChange=function(o,l){var u=this.api(!0).page(o);(l===void 0||l)&&u.draw(!1)},this.fnSetColumnVis=function(o,l,u){var v=this.api(!0).column(o).visible(l);(u===void 0||u)&&v.columns.adjust().draw()},this.fnSettings=function(){return w0(this[wn.iApiIndex])},this.fnSort=function(o){this.api(!0).order(o).draw()},this.fnSortListener=function(o,l,u){this.api(!0).order.listener(o,l,u)},this.fnUpdate=function(o,l,u,v,g){var _=this.api(!0);return u==null?_.row(l).data(o):_.cell(l,u).data(o),(g===void 0||g)&&_.columns.adjust(),(v===void 0||v)&&_.draw(),0},this.fnVersionCheck=wn.fnVersionCheck;var r=this,n=t===void 0,a=this.length;n&&(t={}),this.oApi=this.internal=wn.internal;for(var s in wt.ext.internal)s&&(this[s]=wE(s));return this.each(function(){var o={},l=a>1?rb(o,t,!0):t,u=0,v,g,_,y,w,x=this.getAttribute("id"),f=!1,b=wt.defaults,h=we(this);if(this.nodeName.toLowerCase()!="table"){ca(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}DC(b),RC(b.column),Xs(b,b,!0),Xs(b.column,b.column,!0),Xs(b,we.extend(l,h.data()),!0);var S=wt.settings;for(u=0,v=S.length;u<v;u++){var C=S[u];if(C.nTable==this||C.nTHead&&C.nTHead.parentNode==this||C.nTFoot&&C.nTFoot.parentNode==this){var M=l.bRetrieve!==void 0?l.bRetrieve:b.bRetrieve,p=l.bDestroy!==void 0?l.bDestroy:b.bDestroy;if(n||M)return C.oInstance;if(p){C.oInstance.fnDestroy();break}else{ca(C,0,"Cannot reinitialise DataTable",3);return}}if(C.sTableId==this.id){S.splice(u,1);break}}(x===null||x==="")&&(x="DataTables_Table_"+wt.ext._unique++,this.id=x);var c=we.extend(!0,{},wt.models.oSettings,{sDestroyWidth:h[0].style.width,sInstance:x,sTableId:x});c.nTable=this,c.oApi=r.internal,c.oInit=l,S.push(c),c.oInstance=r.length===1?r:h.dataTable(),DC(l),Q_(l.oLanguage),l.aLengthMenu&&!l.iDisplayLength&&(l.iDisplayLength=Array.isArray(l.aLengthMenu[0])?l.aLengthMenu[0][0]:l.aLengthMenu[0]),l=rb(we.extend(!0,{},b),l),Ga(c.oFeatures,l,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Ga(c,l,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Ga(c.oScroll,l,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ga(c.oLanguage,l,"fnInfoCallback"),pi(c,"aoDrawCallback",l.fnDrawCallback,"user"),pi(c,"aoServerParams",l.fnServerParams,"user"),pi(c,"aoStateSaveParams",l.fnStateSaveParams,"user"),pi(c,"aoStateLoadParams",l.fnStateLoadParams,"user"),pi(c,"aoStateLoaded",l.fnStateLoaded,"user"),pi(c,"aoRowCallback",l.fnRowCallback,"user"),pi(c,"aoRowCreatedCallback",l.fnCreatedRow,"user"),pi(c,"aoHeaderCallback",l.fnHeaderCallback,"user"),pi(c,"aoFooterCallback",l.fnFooterCallback,"user"),pi(c,"aoInitComplete",l.fnInitComplete,"user"),pi(c,"aoPreDrawCallback",l.fnPreDrawCallback,"user"),c.rowIdFn=lf(l.rowId),UC(c);var E=c.oClasses;if(we.extend(E,wt.ext.classes,l.oClasses),h.addClass(E.sTable),c.iInitDisplayStart===void 0&&(c.iInitDisplayStart=l.iDisplayStart,c._iDisplayStart=l.iDisplayStart),l.iDeferLoading!==null){c.bDeferLoading=!0;var D=Array.isArray(l.iDeferLoading);c._iRecordsDisplay=D?l.iDeferLoading[0]:l.iDeferLoading,c._iRecordsTotal=D?l.iDeferLoading[1]:l.iDeferLoading}var I=c.oLanguage;we.extend(!0,I,l.oLanguage),I.sUrl?(we.ajax({dataType:"json",url:I.sUrl,success:function($){Xs(b.oLanguage,$),Q_($),we.extend(!0,I,$,c.oInit.oLanguage),kr(c,null,"i18n",[c]),lc(c)},error:function(){lc(c)}}),f=!0):kr(c,null,"i18n",[c]),l.asStripeClasses===null&&(c.asStripeClasses=[E.sStripeOdd,E.sStripeEven]);var O=c.asStripeClasses,P=h.children("tbody").find("tr").eq(0);we.inArray(!0,we.map(O,function($,W){return P.hasClass($)}))!==-1&&(we("tbody tr",this).removeClass(O.join(" ")),c.asDestroyStripes=O.slice());var k=[],B,G=this.getElementsByTagName("thead");if(G.length!==0&&(fc(c.aoHeader,G[0]),k=A0(c)),l.aoColumns===null)for(B=[],u=0,v=k.length;u<v;u++)B.push(null);else B=l.aoColumns;for(u=0,v=B.length;u<v;u++)ib(c,k?k[u]:null);if(WC(c,l.aoColumnDefs,B,function($,W){b0(c,$,W)}),P.length){var K=function($,W){return $.getAttribute("data-"+W)!==null?W:null};we(P[0]).children("th, td").each(function($,W){var V=c.aoColumns[$];if(V||ca(c,0,"Incorrect column count",18),V.mData===$){var Z=K(W,"sort")||K(W,"order"),Q=K(W,"filter")||K(W,"search");(Z!==null||Q!==null)&&(V.mData={_:$+".display",sort:Z!==null?$+".@data-"+Z:void 0,type:Z!==null?$+".@data-"+Z:void 0,filter:Q!==null?$+".@data-"+Q:void 0},V._isArrayHost=!0,b0(c,$))}})}var q=c.oFeatures,H=function(){if(l.aaSorting===void 0){var $=c.aaSorting;for(u=0,v=$.length;u<v;u++)$[u][1]=c.aoColumns[u].asSorting[0]}x0(c),q.bSort&&pi(c,"aoDrawCallback",function(){if(c.bSorted){var ie=ff(c),Ce={};we.each(ie,function(De,Me){Ce[Me.src]=Me.dir}),kr(c,null,"order",[c,ie,Ce]),fE(c)}}),pi(c,"aoDrawCallback",function(){(c.bSorted||ti(c)==="ssp"||q.bDeferRender)&&x0(c)},"sc");var W=h.children("caption").each(function(){this._captionSide=we(this).css("caption-side")}),V=h.children("thead");V.length===0&&(V=we("<thead/>").appendTo(h)),c.nTHead=V[0];var Z=h.children("tbody");Z.length===0&&(Z=we("<tbody/>").insertAfter(V)),c.nTBody=Z[0];var Q=h.children("tfoot");if(Q.length===0&&W.length>0&&(c.oScroll.sX!==""||c.oScroll.sY!=="")&&(Q=we("<tfoot/>").appendTo(h)),Q.length===0||Q.children().length===0?h.addClass(E.sNoFooter):Q.length>0&&(c.nTFoot=Q[0],fc(c.aoFooter,c.nTFoot)),l.aaData)for(u=0;u<l.aaData.length;u++)Fo(c,l.aaData[u]);else(c.bDeferLoading||ti(c)=="dom")&&M0(c,we(c.nTBody).children("tr"));c.aiDisplay=c.aiDisplayMaster.slice(),c.bInitialised=!0,f===!1&&lc(c)};pi(c,"aoDrawCallback",bc,"state_save"),l.bStateSave?(q.bStateSave=!0,cE(c,l,H)):H()}),r=null,this},K_={},EC=/[\r\n\u2028]/g,_0=/<.*?>/g,FN=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,BN=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),X_=/['\u00A0,$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,us=function(e){return!e||e===!0||e==="-"},NC=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},IC=function(e,t){return K_[t]||(K_[t]=new RegExp(fb(t),"g")),typeof e=="string"&&t!=="."?e.replace(/\./g,"").replace(K_[t],"."):e},$_=function(e,t,r){var n=typeof e,a=n==="string";return n==="number"||n==="bigint"||us(e)?!0:(t&&a&&(e=IC(e,t)),r&&a&&(e=e.replace(X_,"")),!isNaN(parseFloat(e))&&isFinite(e))},RN=function(e){return us(e)||typeof e=="string"},MC=function(e,t,r){if(us(e))return!0;var n=RN(e);return n&&$_(UN(e),t,r)?!0:null},Xi=function(e,t,r){var n=[],a=0,s=e.length;if(r!==void 0)for(;a<s;a++)e[a]&&e[a][t]&&n.push(e[a][t][r]);else for(;a<s;a++)e[a]&&n.push(e[a][t]);return n},dc=function(e,t,r,n){var a=[],s=0,o=t.length;if(n!==void 0)for(;s<o;s++)e[t[s]][r]&&a.push(e[t[s]][r][n]);else for(;s<o;s++)a.push(e[t[s]][r]);return a},of=function(e,t){var r=[],n;t===void 0?(t=0,n=e):(n=t,t=e);for(var a=t;a<n;a++)r.push(a);return r},zC=function(e){for(var t=[],r=0,n=e.length;r<n;r++)e[r]&&t.push(e[r]);return t},UN=function(e){return e.replace(_0,"").replace(/<script/i,"")},WN=function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),r=t[0],n=1,a=t.length;n<a;n++){if(t[n]===r)return!1;r=t[n]}return!0},C0=function(e){if(WN(e))return e.slice();var t=[],r,n,a=e.length,s,o=0;e:for(n=0;n<a;n++){for(r=e[n],s=0;s<o;s++)if(t[s]===r)continue e;t.push(r),o++}return t},FC=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)FC(e,t[r]);else e.push(t);return e},BC=function(e,t){return t===void 0&&(t=0),this.indexOf(e,t)!==-1};Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});Array.prototype.includes||(Array.prototype.includes=BC);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=BC);wt.util={throttle:function(e,t){var r=t!==void 0?t:200,n,a;return function(){var s=this,o=+new Date,l=arguments;n&&o<n+r?(clearTimeout(a),a=setTimeout(function(){n=void 0,e.apply(s,l)},r)):(n=o,e.apply(s,l))}},escapeRegex:function(e){return e.replace(BN,"\\$1")},set:function(e){if(we.isPlainObject(e))return wt.util.set(e._);if(e===null)return function(){};if(typeof e=="function")return function(r,n,a){e(r,"set",n,a)};if(typeof e=="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var t=function(r,n,a){for(var s=q_(a),o,l=s[s.length-1],u,v,g,_,y=0,w=s.length-1;y<w;y++){if(s[y]==="__proto__"||s[y]==="constructor")throw new Error("Cannot set prototype values");if(u=s[y].match(sc),v=s[y].match(af),u){if(s[y]=s[y].replace(sc,""),r[s[y]]=[],o=s.slice(),o.splice(0,y+1),_=o.join("."),Array.isArray(n))for(var x=0,f=n.length;x<f;x++)g={},t(g,n[x],_),r[s[y]].push(g);else r[s[y]]=n;return}else v&&(s[y]=s[y].replace(af,""),r=r[s[y]](n));(r[s[y]]===null||r[s[y]]===void 0)&&(r[s[y]]={}),r=r[s[y]]}l.match(af)?r=r[l.replace(af,"")](n):r[l.replace(sc,"")]=n};return function(r,n){return t(r,n,e)}}else return function(r,n){r[e]=n}},get:function(e){if(we.isPlainObject(e)){var t={};return we.each(e,function(n,a){a&&(t[n]=wt.util.get(a))}),function(n,a,s,o){var l=t[a]||t._;return l!==void 0?l(n,a,s,o):n}}else{if(e===null)return function(n){return n};if(typeof e=="function")return function(n,a,s,o){return e(n,a,s,o)};if(typeof e=="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var r=function(n,a,s){var o,l,u,v;if(s!=="")for(var g=q_(s),_=0,y=g.length;_<y;_++){if(o=g[_].match(sc),l=g[_].match(af),o){if(g[_]=g[_].replace(sc,""),g[_]!==""&&(n=n[g[_]]),u=[],g.splice(0,_+1),v=g.join("."),Array.isArray(n))for(var w=0,x=n.length;w<x;w++)u.push(r(n[w],a,v));var f=o[0].substring(1,o[0].length-1);n=f===""?u:u.join(f);break}else if(l){g[_]=g[_].replace(af,""),n=n[g[_]]();continue}if(n===null||n[g[_]]===null)return null;if(n===void 0||n[g[_]]===void 0)return;n=n[g[_]]}return n};return function(n,a){return r(n,a,e)}}else return function(n,a){return n[e]}}}};Ni=function(e,t,r){e[t]!==void 0&&(e[r]=e[t])};sc=/\[.*?\]$/,af=/\(\)$/;lf=wt.util.get,zo=wt.util.set;fb=wt.util.escapeRegex,g0=we("<div>")[0],VN=g0.textContent!==void 0;YN=/<.*?>/g;hb=wt.util.throttle;hE=[],Fn=Array.prototype,KN=function(e){var t,r,n=wt.settings,a=we.map(n,function(s,o){return s.nTable});if(e){if(e.nTable&&e.oApi)return[e];if(e.nodeName&&e.nodeName.toLowerCase()==="table")return t=we.inArray(e,a),t!==-1?[n[t]]:null;if(e&&typeof e.settings=="function")return e.settings().toArray();typeof e=="string"?r=we(e):e instanceof we&&(r=e)}else return[];if(r)return r.map(function(s){return t=we.inArray(this,a),t!==-1?n[t]:null}).toArray()};br=function(e,t){if(!(this instanceof br))return new br(e,t);var r=[],n=function(o){var l=KN(o);l&&r.push.apply(r,l)};if(Array.isArray(e))for(var a=0,s=e.length;a<s;a++)n(e[a]);else n(e);this.context=C0(r),t&&we.merge(this,t),this.selector={rows:null,cols:null,opts:null},br.extend(this,this,hE)};wt.Api=br;we.extend(br.prototype,{any:function(){return this.count()!==0},concat:Fn.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,r=this.length;t<r;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new br(t[e],this[e]):null},filter:function(e){var t=[];if(Fn.filter)t=Fn.filter.call(this,e,this);else for(var r=0,n=this.length;r<n;r++)e.call(this,this[r],r,this)&&t.push(this[r]);return new br(this.context,t)},flatten:function(){var e=[];return new br(this.context,e.concat.apply(e,this.toArray()))},join:Fn.join,indexOf:Fn.indexOf||function(e,t){for(var r=t||0,n=this.length;r<n;r++)if(this[r]===e)return r;return-1},iterator:function(e,t,r,n){var a=[],s,o,l,u,v,g=this.context,_,y,w,x=this.selector;for(typeof e=="string"&&(n=r,r=t,t=e,e=!1),o=0,l=g.length;o<l;o++){var f=new br(g[o]);if(t==="table")s=r.call(f,g[o],o),s!==void 0&&a.push(s);else if(t==="columns"||t==="rows")s=r.call(f,g[o],this[o],o),s!==void 0&&a.push(s);else if(t==="column"||t==="column-rows"||t==="row"||t==="cell")for(y=this[o],t==="column-rows"&&(_=k0(g[o],x.opts)),u=0,v=y.length;u<v;u++)w=y[u],t==="cell"?s=r.call(f,g[o],w.row,w.column,o,u):s=r.call(f,g[o],w,o,u,_),s!==void 0&&a.push(s)}if(a.length||n){var b=new br(g,e?a.concat.apply([],a):a),h=b.selector;return h.rows=x.rows,h.cols=x.cols,h.opts=x.opts,b}return this},lastIndexOf:Fn.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Fn.map)t=Fn.map.call(this,e,this);else for(var r=0,n=this.length;r<n;r++)t.push(e.call(this,this[r],r));return new br(this.context,t)},pluck:function(e){var t=wt.util.get(e);return this.map(function(r){return t(r)})},pop:Fn.pop,push:Fn.push,reduce:Fn.reduce||function(e,t){return AC(this,e,t,0,this.length,1)},reduceRight:Fn.reduceRight||function(e,t){return AC(this,e,t,this.length-1,-1,-1)},reverse:Fn.reverse,selector:null,shift:Fn.shift,slice:function(){return new br(this.context,this)},sort:Fn.sort,splice:Fn.splice,toArray:function(){return Fn.slice.call(this)},to$:function(){return we(this)},toJQuery:function(){return we(this)},unique:function(){return new br(this.context,C0(this))},unshift:Fn.unshift});br.extend=function(e,t,r){if(!(!r.length||!t||!(t instanceof br)&&!t.__dt_wrapper)){var n,a,s,o=function(l,u,v){return function(){var g=u.apply(l,arguments);return br.extend(g,g,v.methodExt),g}};for(n=0,a=r.length;n<a;n++)s=r[n],t[s.name]=s.type==="function"?o(e,s.val,s):s.type==="object"?{}:s.val,t[s.name].__dt_wrapper=!0,br.extend(e,t[s.name],s.propExt)}};br.register=$t=function(e,t){if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)br.register(e[r],t);return}var a,s,o=e.split("."),l=hE,u,v,g=function(y,w){for(var x=0,f=y.length;x<f;x++)if(y[x].name===w)return y[x];return null};for(a=0,s=o.length;a<s;a++){v=o[a].indexOf("()")!==-1,u=v?o[a].replace("()",""):o[a];var _=g(l,u);_||(_={name:u,val:{},methodExt:[],propExt:[],type:"object"},l.push(_)),a===s-1?(_.val=t,_.type=typeof t=="function"?"function":we.isPlainObject(t)?"object":"other"):l=v?_.methodExt:_.propExt}};br.registerPlural=$r=function(e,t,r){br.register(e,r),br.register(t,function(){var n=r.apply(this,arguments);return n===this?this:n instanceof br?n.length?Array.isArray(n[0])?new br(n.context,n[0]):n[0]:void 0:n})};pE=function(e,t){if(Array.isArray(e))return we.map(e,function(n){return pE(n,t)});if(typeof e=="number")return[t[e]];var r=we.map(t,function(n,a){return n.nTable});return we(r).filter(e).map(function(n){var a=we.inArray(this,r);return t[a]}).toArray()};$t("tables()",function(e){return e!=null?new br(pE(e,this.context)):this});$t("table()",function(e){var t=this.tables(e),r=t.context;return r.length?new br(r[0]):t});$r("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)});$r("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)});$r("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)});$r("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)});$r("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)});$t("draw()",function(e){return this.iterator("table",function(t){e==="page"?Bo(t):(typeof e=="string"&&(e=e!=="full-hold"),Ll(t,e===!1))})});$t("page()",function(e){return e===void 0?this.page.info().page:this.iterator("table",function(t){L0(t,e)})});$t("page.info()",function(e){if(this.context.length!==0){var t=this.context[0],r=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,a=t.fnRecordsDisplay(),s=n===-1;return{page:s?0:Math.floor(r/n),pages:s?1:Math.ceil(a/n),start:r,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:a,serverSide:ti(t)==="ssp"}}});$t("page.len()",function(e){return e===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(t){db(t,e)})});mE=function(e,t,r){if(r){var n=new br(e);n.one("draw",function(){r(n.ajax.json())})}if(ti(e)=="ssp")Ll(e,t);else{Zi(e,!0);var a=e.jqXHR;a&&a.readyState!==4&&a.abort(),T0(e,[],function(s){D0(e);for(var o=vc(e,s),l=0,u=o.length;l<u;l++)Fo(e,o[l]);Ll(e,t),Zi(e,!1)})}};$t("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json});$t("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData});$t("ajax.reload()",function(e,t){return this.iterator("table",function(r){mE(r,t===!1,e)})});$t("ajax.url()",function(e){var t=this.context;return e===void 0?t.length===0?void 0:(t=t[0],t.ajax?we.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(r){we.isPlainObject(r.ajax)?r.ajax.url=e:r.ajax=e})});$t("ajax.url().load()",function(e,t){return this.iterator("table",function(r){mE(r,t===!1,e)})});_b=function(e,t,r,n,a){var s=[],o,l,u,v,g,_,y=typeof t;for((!t||y==="string"||y==="function"||t.length===void 0)&&(t=[t]),u=0,v=t.length;u<v;u++)for(l=t[u]&&t[u].split&&!t[u].match(/[\[\(:]/)?t[u].split(","):[t[u]],g=0,_=l.length;g<_;g++)o=r(typeof l[g]=="string"?l[g].trim():l[g]),o&&o.length&&(s=s.concat(o));var w=wn.selector[e];if(w.length)for(u=0,v=w.length;u<v;u++)s=w[u](n,a,s);return C0(s)},bb=function(e){return e||(e={}),e.filter&&e.search===void 0&&(e.search=e.filter),we.extend({search:"none",order:"current",page:"all"},e)},yb=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},k0=function(e,t){var r,n,a,s=[],o=e.aiDisplay,l=e.aiDisplayMaster,u=t.search,v=t.order,g=t.page;if(ti(e)=="ssp")return u==="removed"?[]:of(0,l.length);if(g=="current")for(r=e._iDisplayStart,n=e.fnDisplayEnd();r<n;r++)s.push(o[r]);else if(v=="current"||v=="applied"){if(u=="none")s=l.slice();else if(u=="applied")s=o.slice();else if(u=="removed"){for(var _={},r=0,n=o.length;r<n;r++)_[o[r]]=null;s=we.map(l,function(y){return _.hasOwnProperty(y)?null:y})}}else if(v=="index"||v=="original")for(r=0,n=e.aoData.length;r<n;r++)u=="none"?s.push(r):(a=we.inArray(r,o),(a===-1&&u=="removed"||a>=0&&u=="applied")&&s.push(r));return s},ZN=function(e,t,r){var n,a=function(s){var o=NC(s),l,u,v=e.aoData;if(o!==null&&!r)return[o];if(n||(n=k0(e,r)),o!==null&&we.inArray(o,n)!==-1)return[o];if(s==null||s==="")return n;if(typeof s=="function")return we.map(n,function(f){var b=v[f];return s(f,b._aData,b.nTr)?f:null});if(s.nodeName){var g=s._DT_RowIndex,_=s._DT_CellIndex;if(g!==void 0)return v[g]&&v[g].nTr===s?[g]:[];if(_)return v[_.row]&&v[_.row].nTr===s.parentNode?[_.row]:[];var y=we(s).closest("*[data-dt-row]");return y.length?[y.data("dt-row")]:[]}if(typeof s=="string"&&s.charAt(0)==="#"){var w=e.aIds[s.replace(/^#/,"")];if(w!==void 0)return[w.idx]}var x=zC(dc(e.aoData,n,"nTr"));return we(x).filter(s).map(function(){return this._DT_RowIndex}).toArray()};return _b("row",t,a,e,r)};$t("rows()",function(e,t){e===void 0?e="":we.isPlainObject(e)&&(t=e,e=""),t=bb(t);var r=this.iterator("table",function(n){return ZN(n,e,t)},1);return r.selector.rows=e,r.selector.opts=t,r});$t("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||void 0},1)});$t("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return dc(e.aoData,t,"_aData")},1)});$r("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,r){var n=t.aoData[r];return e==="search"?n._aFilterData:n._aSortData},1)});$r("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,r){gc(t,r,e)})});$r("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)});$r("rows().ids()","row().id()",function(e){for(var t=[],r=this.context,n=0,a=r.length;n<a;n++)for(var s=0,o=this[n].length;s<o;s++){var l=r[n].rowIdFn(r[n].aoData[this[n][s]]._aData);t.push((e===!0?"#":"")+l)}return new br(r,t)});$r("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,r,n){var a=t.aoData,s=a[r],o,l,u,v,g,_;for(a.splice(r,1),o=0,l=a.length;o<l;o++)if(g=a[o],_=g.anCells,g.nTr!==null&&(g.nTr._DT_RowIndex=o),_!==null)for(u=0,v=_.length;u<v;u++)_[u]._DT_CellIndex.row=o;m0(t.aiDisplayMaster,r),m0(t.aiDisplay,r),m0(e[n],r,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,gb(t);var y=t.rowIdFn(s._aData);y!==void 0&&delete t.aIds[y]}),this.iterator("table",function(t){for(var r=0,n=t.aoData.length;r<n;r++)t.aoData[r].idx=r}),this});$t("rows.add()",function(e){var t=this.iterator("table",function(n){var a,s,o,l=[];for(s=0,o=e.length;s<o;s++)a=e[s],a.nodeName&&a.nodeName.toUpperCase()==="TR"?l.push(M0(n,a)[0]):l.push(Fo(n,a));return l},1),r=this.rows(-1);return r.pop(),we.merge(r,t),r});$t("row()",function(e,t){return yb(this.rows(e,t))});$t("row().data()",function(e){var t=this.context;if(e===void 0)return t.length&&this.length?t[0].aoData[this[0]]._aData:void 0;var r=t[0].aoData[this[0]];return r._aData=e,Array.isArray(e)&&r.nTr&&r.nTr.id&&zo(t[0].rowId)(e,r.nTr.id),gc(t[0],this[0],"data"),this});$t("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null});$t("row.add()",function(e){e instanceof we&&e.length&&(e=e[0]);var t=this.iterator("table",function(r){return e.nodeName&&e.nodeName.toUpperCase()==="TR"?M0(r,e)[0]:Fo(r,e)});return this.row(t[0])});we(document).on("plugin-init.dt",function(e,t){var r=new br(t),n="on-plugin-init",a="stateSaveParams."+n,s="destroy. "+n;r.on(a,function(l,u,v){for(var g=u.rowIdFn,_=u.aoData,y=[],w=0;w<_.length;w++)_[w]._detailsShow&&y.push("#"+g(_[w]._aData));v.childRows=y}),r.on(s,function(){r.off(a+" "+s)});var o=r.state.loaded();o&&o.childRows&&r.rows(we.map(o.childRows,function(l){return l.replace(/:/g,"\\:")})).every(function(){kr(t,null,"requestChild",[this])})});XN=function(e,t,r,n){var a=[],s=function(o,l){if(Array.isArray(o)||o instanceof we){for(var u=0,v=o.length;u<v;u++)s(o[u],l);return}if(o.nodeName&&o.nodeName.toLowerCase()==="tr")a.push(o);else{var g=we("<tr><td></td></tr>").addClass(l);we("td",g).addClass(l).html(o)[0].colSpan=uf(e),a.push(g[0])}};s(r,n),t._details&&t._details.detach(),t._details=we(a),t._detailsShow&&t._details.insertAfter(t.nTr)},gE=wt.util.throttle(function(e){bc(e[0])},500),xb=function(e,t){var r=e.context;if(r.length){var n=r[0].aoData[t!==void 0?t:e[0]];n&&n._details&&(n._details.remove(),n._detailsShow=void 0,n._details=void 0,we(n.nTr).removeClass("dt-hasChild"),gE(r))}},vE=function(e,t){var r=e.context;if(r.length&&e.length){var n=r[0].aoData[e[0]];n._details&&(n._detailsShow=t,t?(n._details.insertAfter(n.nTr),we(n.nTr).addClass("dt-hasChild")):(n._details.detach(),we(n.nTr).removeClass("dt-hasChild")),kr(r[0],null,"childRow",[t,e.row(e[0])]),$N(r[0]),gE(r))}},$N=function(e){var t=new br(e),r=".dt.DT_details",n="draw"+r,a="column-sizing"+r,s="destroy"+r,o=e.aoData;t.off(n+" "+a+" "+s),Xi(o,"_details").length>0&&(t.on(n,function(l,u){e===u&&t.rows({page:"current"}).eq(0).each(function(v){var g=o[v];g._detailsShow&&g._details.insertAfter(g.nTr)})}),t.on(a,function(l,u,v,g){if(e===u)for(var _,y=uf(u),w=0,x=o.length;w<x;w++)_=o[w],_._details&&_._details.children("td[colspan]").attr("colspan",y)}),t.on(s,function(l,u){if(e===u)for(var v=0,g=o.length;v<g;v++)o[v]._details&&xb(t,v)}))},QN="",yc=QN+"row().child",P0=yc+"()";$t(P0,function(e,t){var r=this.context;return e===void 0?r.length&&this.length?r[0].aoData[this[0]]._details:void 0:(e===!0?this.child.show():e===!1?xb(this):r.length&&this.length&&XN(r[0],r[0].aoData[this[0]],e,t),this)});$t([yc+".show()",P0+".show()"],function(e){return vE(this,!0),this});$t([yc+".hide()",P0+".hide()"],function(){return vE(this,!1),this});$t([yc+".remove()",P0+".remove()"],function(){return xb(this),this});$t(yc+".isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});qN=/^([^:]+):(name|visIdx|visible)$/,_E=function(e,t,r,n,a){for(var s=[],o=0,l=a.length;o<l;o++)s.push(Ii(e,a[o],t));return s},JN=function(e,t,r){var n=e.aoColumns,a=Xi(n,"sName"),s=Xi(n,"nTh"),o=function(l){var u=NC(l);if(l==="")return of(n.length);if(u!==null)return[u>=0?u:n.length+u];if(typeof l=="function"){var v=k0(e,r);return we.map(n,function(f,b){return l(b,_E(e,b,0,0,v),s[b])?b:null})}var g=typeof l=="string"?l.match(qN):"";if(g)switch(g[2]){case"visIdx":case"visible":var _=parseInt(g[1],10);if(_<0){var y=we.map(n,function(f,b){return f.bVisible?b:null});return[y[y.length+_]]}return[pc(e,_)];case"name":return we.map(a,function(f,b){return f===g[1]?b:null});default:return[]}if(l.nodeName&&l._DT_CellIndex)return[l._DT_CellIndex.column];var w=we(s).filter(l).map(function(){return we.inArray(this,s)}).toArray();if(w.length||!l.nodeName)return w;var x=we(l).closest("*[data-dt-column]");return x.length?[x.data("dt-column")]:[]};return _b("column",t,o,e,r)},eI=function(e,t,r){var n=e.aoColumns,a=n[t],s=e.aoData,o,l,u,v,g;if(r===void 0)return a.bVisible;if(a.bVisible!==r){if(r){var _=we.inArray(!0,Xi(n,"bVisible"),t+1);for(u=0,v=s.length;u<v;u++)g=s[u].nTr,l=s[u].anCells,g&&g.insertBefore(l[t],l[_]||null)}else we(Xi(e.aoData,"anCells",t)).detach();a.bVisible=r}};$t("columns()",function(e,t){e===void 0?e="":we.isPlainObject(e)&&(t=e,e=""),t=bb(t);var r=this.iterator("table",function(n){return JN(n,e,t)},1);return r.selector.cols=e,r.selector.opts=t,r});$r("columns().header()","column().header()",function(e,t){return this.iterator("column",function(r,n){return r.aoColumns[n].nTh},1)});$r("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(r,n){return r.aoColumns[n].nTf},1)});$r("columns().data()","column().data()",function(){return this.iterator("column-rows",_E,1)});$r("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)});$r("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,r,n,a,s){return dc(t.aoData,s,e==="search"?"_aFilterData":"_aSortData",r)},1)});$r("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,r,n,a){return dc(e.aoData,a,"anCells",t)},1)});$r("columns().visible()","column().visible()",function(e,t){var r=this,n=this.iterator("column",function(a,s){if(e===void 0)return a.aoColumns[s].bVisible;eI(a,s,e)});return e!==void 0&&this.iterator("table",function(a){uc(a,a.aoHeader),uc(a,a.aoFooter),a.aiDisplay.length||we(a.nTBody).find("td[colspan]").attr("colspan",uf(a)),bc(a),r.iterator("column",function(s,o){kr(s,null,"column-visibility",[s,o,e,t])}),(t===void 0||t)&&r.columns.adjust()}),n});$r("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,r){return e==="visible"?mc(t,r):r},1)});$t("columns.adjust()",function(){return this.iterator("table",function(e){hc(e)},1)});$t("column.index()",function(e,t){if(this.context.length!==0){var r=this.context[0];if(e==="fromVisible"||e==="toData")return pc(r,t);if(e==="fromData"||e==="toVisible")return mc(r,t)}});$t("column()",function(e,t){return yb(this.columns(e,t))});tI=function(e,t,r){var n=e.aoData,a=k0(e,r),s=zC(dc(n,a,"anCells")),o=we(FC([],s)),l,u=e.aoColumns.length,v,g,_,y,w,x,f=function(b){var h=typeof b=="function";if(b==null||h){for(v=[],g=0,_=a.length;g<_;g++)for(l=a[g],y=0;y<u;y++)w={row:l,column:y},h?(x=n[l],b(w,Ii(e,l,y),x.anCells?x.anCells[y]:null)&&v.push(w)):v.push(w);return v}if(we.isPlainObject(b))return b.column!==void 0&&b.row!==void 0&&we.inArray(b.row,a)!==-1?[b]:[];var S=o.filter(b).map(function(C,M){return{row:M._DT_CellIndex.row,column:M._DT_CellIndex.column}}).toArray();return S.length||!b.nodeName?S:(x=we(b).closest("*[data-dt-row]"),x.length?[{row:x.data("dt-row"),column:x.data("dt-column")}]:[])};return _b("cell",t,f,e,r)};$t("cells()",function(e,t,r){if(we.isPlainObject(e)&&(e.row===void 0?(r=e,e=null):(r=t,t=null)),we.isPlainObject(t)&&(r=t,t=null),t==null)return this.iterator("table",function(y){return tI(y,e,bb(r))});var n=r?{page:r.page,order:r.order,search:r.search}:{},a=this.columns(t,n),s=this.rows(e,n),o,l,u,v,g=this.iterator("table",function(y,w){var x=[];for(o=0,l=s[w].length;o<l;o++)for(u=0,v=a[w].length;u<v;u++)x.push({row:s[w][o],column:a[w][u]});return x},1),_=r&&r.selected?this.cells(g,r):g;return we.extend(_.selector,{cols:t,rows:e,opts:r}),_});$r("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,r){var n=e.aoData[t];return n&&n.anCells?n.anCells[r]:void 0},1)});$t("cells().data()",function(){return this.iterator("cell",function(e,t,r){return Ii(e,t,r)},1)});$r("cells().cache()","cell().cache()",function(e){return e=e==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(t,r,n){return t.aoData[r][e][n]},1)});$r("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,r,n){return Ii(t,r,n,e)},1)});$r("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,r){return{row:t,column:r,columnVisible:mc(e,r)}},1)});$r("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,r,n){gc(t,r,e,n)})});$t("cell()",function(e,t,r){return yb(this.cells(e,t,r))});$t("cell().data()",function(e){var t=this.context,r=this[0];return e===void 0?t.length&&r.length?Ii(t[0],r[0].row,r[0].column):void 0:(jC(t[0],r[0].row,r[0].column,e),gc(t[0],r[0].row,"data",r[0].column),this)});$t("order()",function(e,t){var r=this.context;return e===void 0?r.length!==0?r[0].aaSorting:void 0:(typeof e=="number"?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(n){n.aaSorting=e.slice()}))});$t("order.listener()",function(e,t,r){return this.iterator("table",function(n){pb(n,e,t,r)})});$t("order.fixed()",function(e){if(!e){var t=this.context,r=t.length?t[0].aaSortingFixed:void 0;return Array.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=we.extend(!0,{},e)})});$t(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(r,n){var a=[];we.each(t[n],function(s,o){a.push([o,e])}),r.aaSorting=a})});$t("search()",function(e,t,r,n){var a=this.context;return e===void 0?a.length!==0?a[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(s){s.oFeatures.bFilter&&_c(s,we.extend({},s.oPreviousSearch,{sSearch:e+"",bRegex:t===null?!1:t,bSmart:r===null?!0:r,bCaseInsensitive:n===null?!0:n}),1)})});$r("columns().search()","column().search()",function(e,t,r,n){return this.iterator("column",function(a,s){var o=a.aoPreSearchCols;if(e===void 0)return o[s].sSearch;a.oFeatures.bFilter&&(we.extend(o[s],{sSearch:e+"",bRegex:t===null?!1:t,bSmart:r===null?!0:r,bCaseInsensitive:n===null?!0:n}),_c(a,a.oPreviousSearch,1))})});$t("state()",function(){return this.context.length?this.context[0].oSavedState:null});$t("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})});$t("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});$t("state.save()",function(){return this.iterator("table",function(e){bc(e)})});wt.use=function(e,t){t==="lib"||e.fn?we=e:t=="win"||e.document?(window=e,document=e.document):(t==="datetime"||e.type==="DateTime")&&(wt.DateTime=e)};wt.factory=function(e,t){var r=!1;return e&&e.document&&(window=e,document=e.document),t&&t.fn&&t.fn.jquery&&(we=t,r=!0),r};wt.versionCheck=wt.fnVersionCheck=function(e){for(var t=wt.version.split("."),r=e.split("."),n,a,s=0,o=r.length;s<o;s++)if(n=parseInt(t[s],10)||0,a=parseInt(r[s],10)||0,n!==a)return n>a;return!0};wt.isDataTable=wt.fnIsDataTable=function(e){var t=we(e).get(0),r=!1;return e instanceof wt.Api?!0:(we.each(wt.settings,function(n,a){var s=a.nScrollHead?we("table",a.nScrollHead)[0]:null,o=a.nScrollFoot?we("table",a.nScrollFoot)[0]:null;(a.nTable===t||s===t||o===t)&&(r=!0)}),r)};wt.tables=wt.fnTables=function(e){var t=!1;we.isPlainObject(e)&&(t=e.api,e=e.visible);var r=we.map(wt.settings,function(n){if(!e||e&&we(n.nTable).is(":visible"))return n.nTable});return t?new br(r):r};wt.camelToHungarian=Xs;$t("$()",function(e,t){var r=this.rows(t).nodes(),n=we(r);return we([].concat(n.filter(e).toArray(),n.find(e).toArray()))});we.each(["on","one","off"],function(e,t){$t(t+"()",function(){var r=Array.prototype.slice.call(arguments);r[0]=we.map(r[0].split(/\s/),function(a){return a.match(/\.dt\b/)?a:a+".dt"}).join(" ");var n=we(this.tables().nodes());return n[t].apply(n,r),this})});$t("clear()",function(){return this.iterator("table",function(e){D0(e)})});$t("settings()",function(){return new br(this.context,this.context)});$t("init()",function(){var e=this.context;return e.length?e[0].oInit:null});$t("data()",function(){return this.iterator("table",function(e){return Xi(e.aoData,"_aData")}).flatten()});$t("destroy()",function(e){return e=e||!1,this.iterator("table",function(t){var r=t.oClasses,n=t.nTable,a=t.nTBody,s=t.nTHead,o=t.nTFoot,l=we(n),u=we(a),v=we(t.nTableWrapper),g=we.map(t.aoData,function(b){return b.nTr}),_,y;t.bDestroying=!0,kr(t,"aoDestroyCallback","destroy",[t]),e||new br(t).columns().visible(!0),v.off(".DT").find(":not(tbody *)").off(".DT"),we(window).off(".DT-"+t.sInstance),n!=s.parentNode&&(l.children("thead").detach(),l.append(s)),o&&n!=o.parentNode&&(l.children("tfoot").detach(),l.append(o)),t.aaSorting=[],t.aaSortingFixed=[],x0(t),we(g).removeClass(t.asStripeClasses.join(" ")),we("th, td",s).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),u.children().detach(),u.append(g);var w=t.nTableWrapper.parentNode,x=e?"remove":"detach";l[x](),v[x](),!e&&w&&(w.insertBefore(n,t.nTableReinsertBefore),l.css("width",t.sDestroyWidth).removeClass(r.sTable),y=t.asDestroyStripes.length,y&&u.children().each(function(b){we(this).addClass(t.asDestroyStripes[b%y])}));var f=we.inArray(t,wt.settings);f!==-1&&wt.settings.splice(f,1)})});we.each(["column","row","cell"],function(e,t){$t(t+"s().every()",function(r){var n=this.selector.opts,a=this;return this.iterator(t,function(s,o,l,u,v){r.call(a[t](o,t==="cell"?l:n,t==="cell"?n:void 0),o,l,u,v)})})});$t("i18n()",function(e,t,r){var n=this.context[0],a=lf(e)(n.oLanguage);return a===void 0&&(a=t),r!==void 0&&we.isPlainObject(a)&&(a=a[r]!==void 0?a[r]:a._),typeof a=="string"?a.replace("%d",r):a});wt.version="1.13.5";wt.settings=[];wt.models={};wt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1};wt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};wt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};wt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:we.extend({},wt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};cc(wt.defaults);wt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};cc(wt.defaults.column);wt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return ti(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return ti(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,r=t+e,n=this.aiDisplay.length,a=this.oFeatures,s=a.bPaginate;return a.bServerSide?s===!1||e===-1?t+n:Math.min(t+e,this._iRecordsDisplay):!s||r>n||e===-1?n:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};wt.ext=wn={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:wt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:wt.version};we.extend(wn,{afnFiltering:wn.search,aTypes:wn.type.detect,ofnSearch:wn.type.search,oSort:wn.type.order,afnSortData:wn.order,aoFeatures:wn.feature,oApi:wn.internal,oStdClasses:wn.classes,oPagination:wn.pager});we.extend(wt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});bE=wt.ext.pager;we.extend(bE,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[oc(e,t)]},simple_numbers:function(e,t){return["previous",oc(e,t),"next"]},full_numbers:function(e,t){return["first","previous",oc(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",oc(e,t),"last"]},_numbers:oc,numbers_length:7});we.extend(!0,wt.ext.renderer,{pageButton:{_:function(e,t,r,n,a,s){var o=e.oClasses,l=e.oLanguage.oPaginate,u=e.oLanguage.oAria.paginate||{},v,g,_=function(w,x){var f,b,h,S,C,M=o.sPageButtonDisabled,p=function(I){L0(e,I.data.action,!0)};for(f=0,b=x.length;f<b;f++)if(S=x[f],Array.isArray(S)){var c=we("<"+(S.DT_el||"div")+"/>").appendTo(w);_(c,S)}else{switch(v=null,g=S,C=e.iTabIndex,S){case"ellipsis":w.append('<span class="ellipsis">&#x2026;</span>');break;case"first":v=l.sFirst,a===0&&(C=-1,g+=" "+M);break;case"previous":v=l.sPrevious,a===0&&(C=-1,g+=" "+M);break;case"next":v=l.sNext,(s===0||a===s-1)&&(C=-1,g+=" "+M);break;case"last":v=l.sLast,(s===0||a===s-1)&&(C=-1,g+=" "+M);break;default:v=e.fnFormatNumber(S+1),g=a===S?o.sPageButtonActive:"";break}if(v!==null){var E=e.oInit.pagingTag||"a",D=g.indexOf(M)!==-1;h=we("<"+E+">",{class:o.sPageButton+" "+g,"aria-controls":e.sTableId,"aria-disabled":D?"true":null,"aria-label":u[S],role:"link","aria-current":g===o.sPageButtonActive?"page":null,"data-dt-idx":S,tabindex:C,id:r===0&&typeof S=="string"?e.sTableId+"_"+S:null}).html(v).appendTo(w),mb(h,{action:S},p)}}},y;try{y=we(t).find(document.activeElement).data("dt-idx")}catch{}_(we(t).empty(),n),y!==void 0&&we(t).find("[data-dt-idx="+y+"]").trigger("focus")}}});we.extend(wt.ext.type.detect,[function(e,t){var r=t.oLanguage.sDecimal;return $_(e,r)?"num"+r:null},function(e,t){if(e&&!(e instanceof Date)&&!FN.test(e))return null;var r=Date.parse(e);return r!==null&&!isNaN(r)||us(e)?"date":null},function(e,t){var r=t.oLanguage.sDecimal;return $_(e,r,!0)?"num-fmt"+r:null},function(e,t){var r=t.oLanguage.sDecimal;return MC(e,r)?"html-num"+r:null},function(e,t){var r=t.oLanguage.sDecimal;return MC(e,r,!0)?"html-num-fmt"+r:null},function(e,t){return us(e)||typeof e=="string"&&e.indexOf("<")!==-1?"html":null}]);we.extend(wt.ext.type.search,{html:function(e){return us(e)?e:typeof e=="string"?e.replace(EC," ").replace(_0,""):""},string:function(e){return us(e)?e:typeof e=="string"?e.replace(EC," "):e}});p0=function(e,t,r,n){if(e!==0&&(!e||e==="-"))return-1/0;var a=typeof e;return a==="number"||a==="bigint"?e:(t&&(e=IC(e,t)),e.replace&&(r&&(e=e.replace(r,"")),n&&(e=e.replace(n,""))),e*1)};we.extend(wn.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return us(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return us(e)?"":typeof e=="string"?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}});nb("");we.extend(!0,wt.ext.renderer,{header:{_:function(e,t,r,n){we(e.nTable).on("order.dt.DT",function(a,s,o,l){if(e===s){var u=r.idx;t.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass(l[u]=="asc"?n.sSortAsc:l[u]=="desc"?n.sSortDesc:r.sSortingClass)}})},jqueryui:function(e,t,r,n){we("<div/>").addClass(n.sSortJUIWrapper).append(t.contents()).append(we("<span/>").addClass(n.sSortIcon+" "+r.sSortingClassJUI)).appendTo(t),we(e.nTable).on("order.dt.DT",function(a,s,o,l){if(e===s){var u=r.idx;t.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass(l[u]=="asc"?n.sSortAsc:l[u]=="desc"?n.sSortDesc:r.sSortingClass),t.find("span."+n.sSortIcon).removeClass(n.sSortJUIAsc+" "+n.sSortJUIDesc+" "+n.sSortJUI+" "+n.sSortJUIAscAllowed+" "+n.sSortJUIDescAllowed).addClass(l[u]=="asc"?n.sSortJUIAsc:l[u]=="desc"?n.sSortJUIDesc:r.sSortingClassJUI)}})}}});v0=function(e){return Array.isArray(e)&&(e=e.join(",")),typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};kC=!1;yE=",",xE=".";if(window.Intl!==void 0)try{for(sf=new Intl.NumberFormat().formatToParts(100000.1),Tl=0;Tl<sf.length;Tl++)sf[Tl].type==="group"?yE=sf[Tl].value:sf[Tl].type==="decimal"&&(xE=sf[Tl].value)}catch{}wt.datetime=function(e,t){var r="datetime-detect-"+e;t||(t="en"),wt.ext.type.order[r]||(wt.ext.type.detect.unshift(function(n){var a=S0(n,e,t);return n===""||a?r:!1}),wt.ext.type.order[r+"-pre"]=function(n){return S0(n,e,t)||0})};wt.render={date:Z_("toLocaleDateString"),datetime:Z_("toLocaleString"),time:Z_("toLocaleTimeString"),number:function(e,t,r,n,a){return e==null&&(e=yE),t==null&&(t=xE),{display:function(s){if(typeof s!="number"&&typeof s!="string"||s===""||s===null)return s;var o=s<0?"-":"",l=parseFloat(s);if(isNaN(l))return v0(s);l=l.toFixed(r),s=Math.abs(l);var u=parseInt(s,10),v=r?t+(s-u).toFixed(r).substring(2):"";return u===0&&parseFloat(v)===0&&(o=""),o+(n||"")+u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+v+(a||"")}}},text:function(){return{display:v0,filter:v0}}};we.extend(wt.ext.internal,{_fnExternApiFunc:wE,_fnBuildAjax:T0,_fnAjaxUpdate:VC,_fnAjaxParameters:YC,_fnAjaxUpdateDraw:KC,_fnAjaxDataSrc:vc,_fnAddColumn:ib,_fnColumnOptions:b0,_fnAdjustColumnSizing:hc,_fnVisibleToColumnIndex:pc,_fnColumnIndexToVisible:mc,_fnVisbleColumns:uf,_fnGetColumns:E0,_fnColumnTypes:ab,_fnApplyColumnDefs:WC,_fnHungarianMap:cc,_fnCamelToHungarian:Xs,_fnLanguageCompat:Q_,_fnBrowserDetect:UC,_fnAddData:Fo,_fnAddTr:M0,_fnNodeToDataIndex:jN,_fnNodeToColumnIndex:GN,_fnGetCellData:Ii,_fnSetCellData:jC,_fnSplitObjNotation:q_,_fnGetObjectDataFn:lf,_fnSetObjectDataFn:zo,_fnGetDataMaster:J_,_fnClearTable:D0,_fnDeleteIndex:m0,_fnInvalidate:gc,_fnGetRowElements:sb,_fnCreateTr:ob,_fnBuildHead:GC,_fnDrawHead:uc,_fnDraw:Bo,_fnReDraw:Ll,_fnAddOptionsHtml:HC,_fnDetectHeader:fc,_fnGetUniqueThs:A0,_fnFeatureHtmlFilter:ZC,_fnFilterComplete:_c,_fnFilterCustom:XC,_fnFilterColumn:$C,_fnFilter:QC,_fnFilterCreateSearch:ub,_fnEscapeRegex:fb,_fnFilterData:qC,_fnFeatureHtmlInfo:JC,_fnUpdateInfo:eE,_fnInfoMacros:tE,_fnInitialise:lc,_fnInitComplete:y0,_fnLengthChange:db,_fnFeatureHtmlLength:rE,_fnFeatureHtmlPaginate:nE,_fnPageChange:L0,_fnFeatureHtmlProcessing:iE,_fnProcessingDisplay:Zi,_fnFeatureHtmlTable:aE,_fnScrollDraw:O0,_fnApplyToChildren:ls,_fnCalculateColumnWidths:cb,_fnThrottle:hb,_fnConvertToWidth:sE,_fnGetWidestNode:oE,_fnGetMaxLenString:lE,_fnStringToCss:dn,_fnSortFlatten:ff,_fnSort:uE,_fnSortAria:fE,_fnSortListener:eb,_fnSortAttachListener:pb,_fnSortingClasses:x0,_fnSortData:dE,_fnSaveState:bc,_fnLoadState:cE,_fnImplementState:tb,_fnSettingsFromNode:w0,_fnLog:ca,_fnMap:Ga,_fnBindAction:mb,_fnCallbackReg:pi,_fnCallbackFire:kr,_fnLengthOverflow:gb,_fnRenderer:vb,_fnDataSource:ti,_fnRowAttributes:lb,_fnExtend:rb,_fnCalculateEnd:function(){}});we.fn.dataTable=wt;wt.$=we;we.fn.dataTableSettings=wt.settings;we.fn.dataTableExt=wt.ext;we.fn.DataTable=function(e){return we(this).dataTable(e).api()};we.each(wt,function(e,t){we.fn.DataTable[e]=t})});var rI,CE=se(()=>{rI=rn(h0(),1);SE();});var EE=se(()=>{});var ME=se(()=>{});function fs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Ol=se(()=>{});function N0(e){return e.length===1&&(e=nI(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)<0?n=s+1:a=s}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)>0?a=s:n=s+1}return n}}}function nI(e){return function(t,r){return fs(e(t),r)}}var wb=se(()=>{Ol()});var DE,AE,iI,Ro,Sb=se(()=>{Ol();wb();DE=N0(fs),AE=DE.right,iI=DE.left,Ro=AE});var Cb=se(()=>{});var TE=se(()=>{Cb()});var LE=se(()=>{});var df=se(()=>{});var Eb=se(()=>{df()});var Mb=se(()=>{Eb()});function ds(e,t){var r=e.length,n=-1,a,s,o;if(t==null){for(;++n<r;)if((a=e[n])!=null&&a>=a)for(s=o=a;++n<r;)(a=e[n])!=null&&(s>a&&(s=a),o<a&&(o=a))}else for(;++n<r;)if((a=t(e[n],n,e))!=null&&a>=a)for(s=o=a;++n<r;)(a=t(e[n],n,e))!=null&&(s>a&&(s=a),o<a&&(o=a));return[s,o]}var Db=se(()=>{});var OE,sI,oI,Ab=se(()=>{OE=Array.prototype,sI=OE.slice,oI=OE.map});var kE=se(()=>{});var PE=se(()=>{});function Ha(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}var Tb=se(()=>{});function z0(e,t,r){var n,a=-1,s,o,l;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(s=e,e=t,t=s),(l=cf(e,t,r))===0||!isFinite(l))return[];if(l>0)for(e=Math.ceil(e/l),t=Math.floor(t/l),o=new Array(s=Math.ceil(t-e+1));++a<s;)o[a]=(e+a)*l;else for(e=Math.floor(e*l),t=Math.ceil(t*l),o=new Array(s=Math.ceil(e-t+1));++a<s;)o[a]=(e-a)/l;return n&&o.reverse(),o}function cf(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,a);return a>=0?(s>=Lb?10:s>=Ob?5:s>=kb?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=Lb?10:s>=Ob?5:s>=kb?2:1)}function kl(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=Lb?a*=10:s>=Ob?a*=5:s>=kb&&(a*=2),t<e?-a:a}var Lb,Ob,kb,Pb=se(()=>{Lb=Math.sqrt(50),Ob=Math.sqrt(10),kb=Math.sqrt(2)});var Nb=se(()=>{});var IE=se(()=>{Ab();Sb();kE();Db();PE();Tb();Pb();Nb()});var F0=se(()=>{df()});var zE=se(()=>{Ab();Ol();df();F0()});var FE=se(()=>{Mb()});var BE=se(()=>{});var RE=se(()=>{df()});var UE=se(()=>{Ol();df();F0()});var WE=se(()=>{});var zb=se(()=>{});var jE=se(()=>{});var GE=se(()=>{Ol()});var HE=se(()=>{});var VE=se(()=>{});var Fb=se(()=>{zb()});var YE=se(()=>{Fb()});var mi=se(()=>{Sb();Ol();wb();TE();LE();Mb();Db();IE();zE();FE();Nb();BE();RE();UE();WE();zb();Cb();jE();F0();Tb();GE();HE();VE();Pb();Fb();Eb();YE()});var B0,KE=se(()=>{B0=Array.prototype.slice});function ZE(e){return e}var XE=se(()=>{});function cI(e){return"translate("+(e+.5)+",0)"}function hI(e){return"translate(0,"+(e+.5)+")"}function pI(e){return function(t){return+e(t)}}function mI(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(r){return+e(r)+t}}function gI(){return!this.__axis}function W0(e,t){var r=[],n=null,a=null,s=6,o=6,l=3,u=e===R0||e===xc?-1:1,v=e===xc||e===U0?"x":"y",g=e===R0||e===Bb?cI:hI;function _(y){var w=n??(t.ticks?t.ticks.apply(t,r):t.domain()),x=a??(t.tickFormat?t.tickFormat.apply(t,r):ZE),f=Math.max(s,0)+l,b=t.range(),h=+b[0]+.5,S=+b[b.length-1]+.5,C=(t.bandwidth?mI:pI)(t.copy()),M=y.selection?y.selection():y,p=M.selectAll(".domain").data([null]),c=M.selectAll(".tick").data(w,t).order(),E=c.exit(),D=c.enter().append("g").attr("class","tick"),I=c.select("line"),O=c.select("text");p=p.merge(p.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),c=c.merge(D),I=I.merge(D.append("line").attr("stroke","currentColor").attr(v+"2",u*s)),O=O.merge(D.append("text").attr("fill","currentColor").attr(v,u*f).attr("dy",e===R0?"0em":e===Bb?"0.71em":"0.32em")),y!==M&&(p=p.transition(y),c=c.transition(y),I=I.transition(y),O=O.transition(y),E=E.transition(y).attr("opacity",$E).attr("transform",function(P){return isFinite(P=C(P))?g(P):this.getAttribute("transform")}),D.attr("opacity",$E).attr("transform",function(P){var k=this.parentNode.__axis;return g(k&&isFinite(k=k(P))?k:C(P))})),E.remove(),p.attr("d",e===xc||e==U0?o?"M"+u*o+","+h+"H0.5V"+S+"H"+u*o:"M0.5,"+h+"V"+S:o?"M"+h+","+u*o+"V0.5H"+S+"V"+u*o:"M"+h+",0.5H"+S),c.attr("opacity",1).attr("transform",function(P){return g(C(P))}),I.attr(v+"2",u*s),O.attr(v,u*f).text(x),M.filter(gI).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===U0?"start":e===xc?"end":"middle"),M.each(function(){this.__axis=C})}return _.scale=function(y){return arguments.length?(t=y,_):t},_.ticks=function(){return r=B0.call(arguments),_},_.tickArguments=function(y){return arguments.length?(r=y==null?[]:B0.call(y),_):r.slice()},_.tickValues=function(y){return arguments.length?(n=y==null?null:B0.call(y),_):n&&n.slice()},_.tickFormat=function(y){return arguments.length?(a=y,_):a},_.tickSize=function(y){return arguments.length?(s=o=+y,_):s},_.tickSizeInner=function(y){return arguments.length?(s=+y,_):s},_.tickSizeOuter=function(y){return arguments.length?(o=+y,_):o},_.tickPadding=function(y){return arguments.length?(l=+y,_):l},_}function Rb(e){return W0(R0,e)}function Ub(e){return W0(U0,e)}function Pl(e){return W0(Bb,e)}function Nl(e){return W0(xc,e)}var R0,U0,Bb,xc,$E,QE=se(()=>{KE();XE();R0=1,U0=2,Bb=3,xc=4,$E=1e-6});var qE=se(()=>{QE()});function eM(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new j0(r)}function j0(e){this._=e}function _I(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function bI(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function JE(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=vI,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var vI,Wb,tM=se(()=>{vI={value:function(){}};j0.prototype=eM.prototype={constructor:j0,on:function(e,t){var r=this._,n=_I(e+"",r),a,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((a=(e=n[s]).type)&&(a=bI(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=n[s]).type)r[a]=JE(r[a],e.name,t);else if(t==null)for(a in r)r[a]=JE(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new j0(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};Wb=eM});var jb=se(()=>{tM()});var G0,Gb,Hb=se(()=>{G0="http://www.w3.org/1999/xhtml",Gb={svg:"http://www.w3.org/2000/svg",xhtml:G0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function $s(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Gb.hasOwnProperty(t)?{space:Gb[t],local:e}:e}var H0=se(()=>{Hb()});function yI(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===G0&&t.documentElement.namespaceURI===G0?t.createElement(e):t.createElementNS(r,e)}}function xI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function V0(e){var t=$s(e);return(t.local?xI:yI)(t)}var Vb=se(()=>{H0();Hb()});function wI(){}function Il(e){return e==null?wI:function(){return this.querySelector(e)}}var Y0=se(()=>{});function rM(e){typeof e!="function"&&(e=Il(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=new Array(o),u,v,g=0;g<o;++g)(u=s[g])&&(v=e.call(u,u.__data__,g,s))&&("__data__"in u&&(v.__data__=u.__data__),l[g]=v);return new cn(n,this._parents)}var nM=se(()=>{Va();Y0()});function SI(){return[]}function wc(e){return e==null?SI:function(){return this.querySelectorAll(e)}}var Yb=se(()=>{});function iM(e){typeof e!="function"&&(e=wc(e));for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var o=t[s],l=o.length,u,v=0;v<l;++v)(u=o[v])&&(n.push(e.call(u,u.__data__,v,o)),a.push(u));return new cn(n,a)}var aM=se(()=>{Va();Yb()});function Sc(e){return function(){return this.matches(e)}}var Kb=se(()=>{});function sM(e){typeof e!="function"&&(e=Sc(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=[],u,v=0;v<o;++v)(u=s[v])&&e.call(u,u.__data__,v,s)&&l.push(u);return new cn(n,this._parents)}var oM=se(()=>{Va();Kb()});function K0(e){return new Array(e.length)}var Zb=se(()=>{});function lM(){return new cn(this._enter||this._groups.map(K0),this._parents)}function Cc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var Xb=se(()=>{Zb();Va();Cc.prototype={constructor:Cc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function uM(e){return function(){return e}}var fM=se(()=>{});function CI(e,t,r,n,a,s){for(var o=0,l,u=t.length,v=s.length;o<v;++o)(l=t[o])?(l.__data__=s[o],n[o]=l):r[o]=new Cc(e,s[o]);for(;o<u;++o)(l=t[o])&&(a[o]=l)}function EI(e,t,r,n,a,s,o){var l,u,v={},g=t.length,_=s.length,y=new Array(g),w;for(l=0;l<g;++l)(u=t[l])&&(y[l]=w=dM+o.call(u,u.__data__,l,t),w in v?a[l]=u:v[w]=u);for(l=0;l<_;++l)w=dM+o.call(e,s[l],l,s),(u=v[w])?(n[l]=u,u.__data__=s[l],v[w]=null):r[l]=new Cc(e,s[l]);for(l=0;l<g;++l)(u=t[l])&&v[y[l]]===u&&(a[l]=u)}function cM(e,t){if(!e)return w=new Array(this.size()),v=-1,this.each(function(c){w[++v]=c}),w;var r=t?EI:CI,n=this._parents,a=this._groups;typeof e!="function"&&(e=uM(e));for(var s=a.length,o=new Array(s),l=new Array(s),u=new Array(s),v=0;v<s;++v){var g=n[v],_=a[v],y=_.length,w=e.call(g,g&&g.__data__,v,n),x=w.length,f=l[v]=new Array(x),b=o[v]=new Array(x),h=u[v]=new Array(y);r(g,_,f,b,h,w,t);for(var S=0,C=0,M,p;S<x;++S)if(M=f[S]){for(S>=C&&(C=S+1);!(p=b[C])&&++C<x;);M._next=p||null}}return o=new cn(o,n),o._enter=l,o._exit=u,o}var dM,hM=se(()=>{Va();Xb();fM();dM="$"});function pM(){return new cn(this._exit||this._groups.map(K0),this._parents)}var mM=se(()=>{Zb();Va()});function gM(e,t,r){var n=this.enter(),a=this,s=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(a=t(a)),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}var vM=se(()=>{});function _M(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),l=0;l<s;++l)for(var u=t[l],v=r[l],g=u.length,_=o[l]=new Array(g),y,w=0;w<g;++w)(y=u[w]||v[w])&&(_[w]=y);for(;l<n;++l)o[l]=t[l];return new cn(o,this._parents)}var bM=se(()=>{Va()});function yM(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],o;--a>=0;)(o=n[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}var xM=se(()=>{});function wM(e){e||(e=MI);function t(_,y){return _&&y?e(_.__data__,y.__data__):!_-!y}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var o=r[s],l=o.length,u=a[s]=new Array(l),v,g=0;g<l;++g)(v=o[g])&&(u[g]=v);u.sort(t)}return new cn(a,this._parents).order()}function MI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var SM=se(()=>{Va()});function CM(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var EM=se(()=>{});function MM(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}var DM=se(()=>{});function AM(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null}var TM=se(()=>{});function LM(){var e=0;return this.each(function(){++e}),e}var OM=se(()=>{});function kM(){return!this.node()}var PM=se(()=>{});function NM(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}var IM=se(()=>{});function DI(e){return function(){this.removeAttribute(e)}}function AI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TI(e,t){return function(){this.setAttribute(e,t)}}function LI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function OI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function kI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function zM(e,t){var r=$s(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?AI:DI:typeof t=="function"?r.local?kI:OI:r.local?LI:TI)(r,t))}var FM=se(()=>{H0()});function Z0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var $b=se(()=>{});function PI(e){return function(){this.style.removeProperty(e)}}function NI(e,t,r){return function(){this.style.setProperty(e,t,r)}}function II(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function BM(e,t,r){return arguments.length>1?this.each((t==null?PI:typeof t=="function"?II:NI)(e,t,r??"")):Uo(this.node(),e)}function Uo(e,t){return e.style.getPropertyValue(t)||Z0(e).getComputedStyle(e,null).getPropertyValue(t)}var Qb=se(()=>{$b()});function zI(e){return function(){delete this[e]}}function FI(e,t){return function(){this[e]=t}}function BI(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function RM(e,t){return arguments.length>1?this.each((t==null?zI:typeof t=="function"?BI:FI)(e,t)):this.node()[e]}var UM=se(()=>{});function WM(e){return e.trim().split(/^|\s+/)}function qb(e){return e.classList||new jM(e)}function jM(e){this._node=e,this._names=WM(e.getAttribute("class")||"")}function GM(e,t){for(var r=qb(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function HM(e,t){for(var r=qb(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function RI(e){return function(){GM(this,e)}}function WI(e){return function(){HM(this,e)}}function jI(e,t){return function(){(t.apply(this,arguments)?GM:HM)(this,e)}}function VM(e,t){var r=WM(e+"");if(arguments.length<2){for(var n=qb(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?jI:t?RI:WI)(r,t))}var YM=se(()=>{jM.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function GI(){this.textContent=""}function HI(e){return function(){this.textContent=e}}function VI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function KM(e){return arguments.length?this.each(e==null?GI:(typeof e=="function"?VI:HI)(e)):this.node().textContent}var ZM=se(()=>{});function YI(){this.innerHTML=""}function KI(e){return function(){this.innerHTML=e}}function ZI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function XM(e){return arguments.length?this.each(e==null?YI:(typeof e=="function"?ZI:KI)(e)):this.node().innerHTML}var $M=se(()=>{});function XI(){this.nextSibling&&this.parentNode.appendChild(this)}function QM(){return this.each(XI)}var qM=se(()=>{});function $I(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function JM(){return this.each($I)}var eD=se(()=>{});function tD(e){var t=typeof e=="function"?e:V0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var rD=se(()=>{Vb()});function QI(){return null}function nD(e,t){var r=typeof e=="function"?e:V0(e),n=t==null?QI:typeof t=="function"?t:Il(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var iD=se(()=>{Vb();Y0()});function qI(){var e=this.parentNode;e&&e.removeChild(this)}function aD(){return this.each(qI)}var sD=se(()=>{});function JI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ez(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oD(e){return this.select(e?ez:JI)}var lD=se(()=>{});function uD(e){return arguments.length?this.property("__data__",e):this.node().__data__}var fD=se(()=>{});function tz(e,t,r){return e=hD(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function hD(e,t,r){return function(n){var a=Jb;Jb=n;try{e.call(this,this.__data__,t,r)}finally{Jb=a}}}function rz(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function nz(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++n]=s;++n?t.length=n:delete this.__on}}}function iz(e,t,r){var n=cD.hasOwnProperty(e.type)?tz:hD;return function(a,s,o){var l=this.__on,u,v=n(t,s,o);if(l){for(var g=0,_=l.length;g<_;++g)if((u=l[g]).type===e.type&&u.name===e.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=v,u.capture=r),u.value=t;return}}this.addEventListener(e.type,v,r),u={type:e.type,name:e.name,value:t,listener:v,capture:r},l?l.push(u):this.__on=[u]}}function pD(e,t,r){var n=rz(e+""),a,s=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,v=l.length,g;u<v;++u)for(a=0,g=l[u];a<s;++a)if((o=n[a]).type===g.type&&o.name===g.name)return g.value}return}for(l=t?iz:nz,r==null&&(r=!1),a=0;a<s;++a)this.each(l(n[a],t,r));return this}var cD,Jb,dD,mD=se(()=>{cD={},Jb=null;typeof document<"u"&&(dD=document.documentElement,"onmouseenter"in dD||(cD={mouseenter:"mouseover",mouseleave:"mouseout"}))});function gD(e,t,r){var n=Z0(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function az(e,t){return function(){return gD(this,e,t)}}function sz(e,t){return function(){return gD(this,e,t.apply(this,arguments))}}function vD(e,t){return this.each((typeof t=="function"?sz:az)(e,t))}var _D=se(()=>{$b()});function cn(e,t){this._groups=e,this._parents=t}function bD(){return new cn([[document.documentElement]],ey)}var ey,Qs,Va=se(()=>{nM();aM();oM();hM();Xb();mM();vM();bM();xM();SM();EM();DM();TM();OM();PM();IM();FM();Qb();UM();YM();ZM();$M();qM();eD();rD();iD();sD();lD();fD();mD();_D();ey=[null];cn.prototype=bD.prototype={constructor:cn,select:rM,selectAll:iM,filter:sM,data:cM,enter:lM,exit:pM,join:gM,merge:_M,order:yM,sort:wM,call:CM,nodes:MM,node:AM,size:LM,empty:kM,each:NM,attr:zM,style:BM,property:RM,classed:VM,text:KM,html:XM,raise:QM,lower:JM,append:tD,insert:nD,remove:aD,clone:oD,datum:uD,on:pD,dispatch:vD};Qs=bD});function Qr(e){return typeof e=="string"?new cn([[document.querySelector(e)]],[document.documentElement]):new cn([[e]],ey)}var yD=se(()=>{Va()});var ha=se(()=>{Kb();H0();yD();Va();Y0();Yb();Qb()});var xD=se(()=>{});function hf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ec(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var ty=se(()=>{});function Fl(){}function SD(){return this.rgb().formatHex()}function pz(){return TD(this).formatHsl()}function CD(){return this.rgb().formatRgb()}function Ya(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=oz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ED(t):r===3?new ri(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?X0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?X0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lz.exec(e))?new ri(t[1],t[2],t[3],1):(t=uz.exec(e))?new ri(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fz.exec(e))?X0(t[1],t[2],t[3],t[4]):(t=dz.exec(e))?X0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cz.exec(e))?AD(t[1],t[2]/100,t[3]/100,1):(t=hz.exec(e))?AD(t[1],t[2]/100,t[3]/100,t[4]):wD.hasOwnProperty(e)?ED(wD[e]):e==="transparent"?new ri(NaN,NaN,NaN,0):null}function ED(e){return new ri(e>>16&255,e>>8&255,e&255,1)}function X0(e,t,r,n){return n<=0&&(e=t=r=NaN),new ri(e,t,r,n)}function iy(e){return e instanceof Fl||(e=Ya(e)),e?(e=e.rgb(),new ri(e.r,e.g,e.b,e.opacity)):new ri}function mf(e,t,r,n){return arguments.length===1?iy(e):new ri(e,t,r,n??1)}function ri(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function MD(){return"#"+ry(this.r)+ry(this.g)+ry(this.b)}function DD(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function ry(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function AD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cs(e,t,r,n)}function TD(e){if(e instanceof cs)return new cs(e.h,e.s,e.l,e.opacity);if(e instanceof Fl||(e=Ya(e)),!e)return new cs;if(e instanceof cs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,u=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new cs(o,l,u,e.opacity)}function LD(e,t,r,n){return arguments.length===1?TD(e):new cs(e,t,r,n??1)}function cs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function ny(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Wo,zl,pf,Mc,hs,oz,lz,uz,fz,dz,cz,hz,wD,ay=se(()=>{ty();Wo=.7,zl=1/Wo,pf="\\s*([+-]?\\d+)\\s*",Mc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hs="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oz=/^#([0-9a-f]{3,8})$/,lz=new RegExp("^rgb\\("+[pf,pf,pf]+"\\)$"),uz=new RegExp("^rgb\\("+[hs,hs,hs]+"\\)$"),fz=new RegExp("^rgba\\("+[pf,pf,pf,Mc]+"\\)$"),dz=new RegExp("^rgba\\("+[hs,hs,hs,Mc]+"\\)$"),cz=new RegExp("^hsl\\("+[Mc,hs,hs]+"\\)$"),hz=new RegExp("^hsla\\("+[Mc,hs,hs,Mc]+"\\)$"),wD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hf(Fl,Ya,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:SD,formatHex:SD,formatHsl:pz,formatRgb:CD,toString:CD});hf(ri,mf,Ec(Fl,{brighter:function(e){return e=e==null?zl:Math.pow(zl,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Wo:Math.pow(Wo,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MD,formatHex:MD,formatRgb:DD,toString:DD}));hf(cs,LD,Ec(Fl,{brighter:function(e){return e=e==null?zl:Math.pow(zl,e),new cs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Wo:Math.pow(Wo,e),new cs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ri(ny(e>=240?e-240:e+120,a,n),ny(e,a,n),ny(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}))});var OD,kD,PD=se(()=>{OD=Math.PI/180,kD=180/Math.PI});function mz(e){if(e instanceof Bl)return new Bl(e.h,e.s,e.l,e.opacity);e instanceof ri||(e=iy(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(zD*n+ND*t-ID*r)/(zD+ND-ID),s=n-a,o=(Dc*(r-a)-oy*s)/$0,l=Math.sqrt(o*o+s*s)/(Dc*a*(1-a)),u=l?Math.atan2(o,s)*kD-120:NaN;return new Bl(u<0?u+360:u,l,a,e.opacity)}function gi(e,t,r,n){return arguments.length===1?mz(e):new Bl(e,t,r,n??1)}function Bl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}var FD,sy,oy,$0,Dc,ND,ID,zD,BD=se(()=>{ty();ay();PD();FD=-.14861,sy=1.78277,oy=-.29227,$0=-.90649,Dc=1.97294,ND=Dc*$0,ID=Dc*sy,zD=sy*oy-$0*FD;hf(Bl,gi,Ec(Fl,{brighter:function(e){return e=e==null?zl:Math.pow(zl,e),new Bl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Wo:Math.pow(Wo,e),new Bl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*OD,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new ri(255*(t+r*(FD*n+sy*a)),255*(t+r*(oy*n+$0*a)),255*(t+r*(Dc*n)),this.opacity)}}))});var jo=se(()=>{ay();BD()});function ly(e,t,r,n,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*a)/6}function RD(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],s=e[n+1],o=n>0?e[n-1]:2*a-s,l=n<t-1?e[n+2]:2*s-a;return ly((r-n/t)*t,o,a,s,l)}}var uy=se(()=>{});function UD(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],l=e[(n+2)%t];return ly((r-n/t)*t,a,s,o,l)}}var WD=se(()=>{uy()});function gf(e){return function(){return e}}var fy=se(()=>{});function jD(e,t){return function(r){return e+r*t}}function gz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GD(e,t){var r=t-e;return r?jD(e,r>180||r<-180?r-360*Math.round(r/360):r):gf(isNaN(e)?t:e)}function HD(e){return(e=+e)==1?qs:function(t,r){return r-t?gz(t,r,e):gf(isNaN(t)?r:t)}}function qs(e,t){var r=t-e;return r?jD(e,r):gf(isNaN(e)?t:e)}var dy=se(()=>{fy()});function VD(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),s=new Array(r),o,l;for(o=0;o<r;++o)l=mf(t[o]),n[o]=l.r||0,a[o]=l.g||0,s[o]=l.b||0;return n=e(n),a=e(a),s=e(s),l.opacity=1,function(u){return l.r=n(u),l.g=a(u),l.b=s(u),l+""}}}var Rl,vz,_z,cy=se(()=>{jo();uy();WD();dy();Rl=function e(t){var r=HD(t);function n(a,s){var o=r((a=mf(a)).r,(s=mf(s)).r),l=r(a.g,s.g),u=r(a.b,s.b),v=qs(a.opacity,s.opacity);return function(g){return a.r=o(g),a.g=l(g),a.b=u(g),a.opacity=v(g),a+""}}return n.gamma=e,n}(1);vz=VD(RD),_z=VD(UD)});function YD(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function KD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var ZD=se(()=>{});function XD(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Js(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}var $D=se(()=>{Q0()});function QD(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var qD=se(()=>{});function Dn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Ac=se(()=>{});function JD(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Js(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var e5=se(()=>{Q0()});function bz(e){return function(){return e}}function yz(e){return function(t){return e(t)+""}}function Tc(e,t){var r=py.lastIndex=hy.lastIndex=0,n,a,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=py.exec(e))&&(a=hy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:Dn(n,a)})),r=hy.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?yz(u[0].x):bz(t):(t=u.length,function(v){for(var g=0,_;g<t;++g)l[(_=u[g]).i]=_.x(v);return l.join("")})}var py,hy,my=se(()=>{Ac();py=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hy=new RegExp(py.source,"g")});function Js(e,t){var r=typeof t,n;return t==null||r==="boolean"?gf(t):(r==="number"?Dn:r==="string"?(n=Ya(t))?(t=n,Rl):Tc:t instanceof Ya?Rl:t instanceof Date?QD:KD(t)?YD:Array.isArray(t)?XD:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JD:Dn)(e,t)}var Q0=se(()=>{jo();cy();$D();qD();Ac();e5();my();fy();ZD()});function Lc(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var t5=se(()=>{});function gy(e,t,r,n,a,s){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*r5,skewX:Math.atan(u)*r5,scaleX:o,scaleY:l}}var r5,q0,n5=se(()=>{r5=180/Math.PI,q0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function a5(e){return e==="none"?q0:(Oc||(Oc=document.createElement("DIV"),vy=document.documentElement,i5=document.defaultView),Oc.style.transform=e,e=i5.getComputedStyle(vy.appendChild(Oc),null).getPropertyValue("transform"),vy.removeChild(Oc),e=e.slice(7,-1).split(","),gy(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function s5(e){return e==null?q0:(J0||(J0=document.createElementNS("http://www.w3.org/2000/svg","g")),J0.setAttribute("transform",e),(e=J0.transform.baseVal.consolidate())?(e=e.matrix,gy(e.a,e.b,e.c,e.d,e.e,e.f)):q0)}var Oc,vy,i5,J0,o5=se(()=>{n5()});function l5(e,t,r,n){function a(v){return v.length?v.pop()+" ":""}function s(v,g,_,y,w,x){if(v!==_||g!==y){var f=w.push("translate(",null,t,null,r);x.push({i:f-4,x:Dn(v,_)},{i:f-2,x:Dn(g,y)})}else(_||y)&&w.push("translate("+_+t+y+r)}function o(v,g,_,y){v!==g?(v-g>180?g+=360:g-v>180&&(v+=360),y.push({i:_.push(a(_)+"rotate(",null,n)-2,x:Dn(v,g)})):g&&_.push(a(_)+"rotate("+g+n)}function l(v,g,_,y){v!==g?y.push({i:_.push(a(_)+"skewX(",null,n)-2,x:Dn(v,g)}):g&&_.push(a(_)+"skewX("+g+n)}function u(v,g,_,y,w,x){if(v!==_||g!==y){var f=w.push(a(w)+"scale(",null,",",null,")");x.push({i:f-4,x:Dn(v,_)},{i:f-2,x:Dn(g,y)})}else(_!==1||y!==1)&&w.push(a(w)+"scale("+_+","+y+")")}return function(v,g){var _=[],y=[];return v=e(v),g=e(g),s(v.translateX,v.translateY,g.translateX,g.translateY,_,y),o(v.rotate,g.rotate,_,y),l(v.skewX,g.skewX,_,y),u(v.scaleX,v.scaleY,g.scaleX,g.scaleY,_,y),v=g=null,function(w){for(var x=-1,f=y.length,b;++x<f;)_[(b=y[x]).i]=b.x(w);return _.join("")}}}var _y,by,u5=se(()=>{Ac();o5();_y=l5(a5,"px, ","px)","deg)"),by=l5(s5,", ",")",")")});function f5(e){return function t(r){r=+r;function n(a,s){var o=e((a=gi(a)).h,(s=gi(s)).h),l=qs(a.s,s.s),u=qs(a.l,s.l),v=qs(a.opacity,s.opacity);return function(g){return a.h=o(g),a.s=l(g),a.l=u(Math.pow(g,r)),a.opacity=v(g),a+""}}return n.gamma=t,n}(1)}var xz,vf,d5=se(()=>{jo();dy();xz=f5(GD),vf=f5(qs)});var ps=se(()=>{Q0();Ac();t5();my();u5();cy();d5()});function bf(){return Ul||(p5(wz),Ul=Ic.now()+rm)}function wz(){Ul=0}function zc(){this._call=this._time=this._next=null}function nm(e,t,r){var n=new zc;return n.restart(e,t,r),n}function m5(){bf(),++_f;for(var e=em,t;e;)(t=Ul-e._time)>=0&&e._call.call(null,t),e=e._next;--_f}function c5(){Ul=(tm=Ic.now())+rm,_f=Pc=0;try{m5()}finally{_f=0,Cz(),Ul=0}}function Sz(){var e=Ic.now(),t=e-tm;t>h5&&(rm-=t,tm=e)}function Cz(){for(var e,t=em,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:em=r);Nc=e,yy(n)}function yy(e){if(!_f){Pc&&(Pc=clearTimeout(Pc));var t=e-Ul;t>24?(e<1/0&&(Pc=setTimeout(c5,e-Ic.now()-rm)),kc&&(kc=clearInterval(kc))):(kc||(tm=Ic.now(),kc=setInterval(Sz,h5)),_f=1,p5(c5))}}var _f,Pc,kc,h5,em,Nc,tm,Ul,rm,Ic,p5,xy=se(()=>{_f=0,Pc=0,kc=0,h5=1e3,tm=0,Ul=0,rm=0,Ic=typeof performance=="object"&&performance.now?performance:Date,p5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};zc.prototype=nm.prototype={constructor:zc,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?bf():+r)+(t==null?0:+t),!this._next&&Nc!==this&&(Nc?Nc._next=this:em=this,Nc=this),this._call=e,this._time=r,yy()},stop:function(){this._call&&(this._call=null,this._time=1/0,yy())}}});function im(e,t,r){var n=new zc;return t=t==null?0:+t,n.restart(function(a){n.stop(),e(a+t)},t,r),n}var g5=se(()=>{xy()});var am=se(()=>{xy();g5()});function Go(e,t,r,n,a,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;Dz(e,r,{name:t,index:n,group:a,on:Ez,tween:Mz,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:_5})}function Bc(e,t){var r=An(e,t);if(r.state>_5)throw new Error("too late; already scheduled");return r}function vi(e,t){var r=An(e,t);if(r.state>sm)throw new Error("too late; already running");return r}function An(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Dz(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=nm(s,0,r.time);function s(v){r.state=wy,r.timer.restart(o,r.delay,r.time),r.delay<=v&&o(v-r.delay)}function o(v){var g,_,y,w;if(r.state!==wy)return u();for(g in n)if(w=n[g],w.name===r.name){if(w.state===sm)return im(o);w.state===v5?(w.state=Fc,w.timer.stop(),w.on.call("interrupt",e,e.__data__,w.index,w.group),delete n[g]):+g<t&&(w.state=Fc,w.timer.stop(),w.on.call("cancel",e,e.__data__,w.index,w.group),delete n[g])}if(im(function(){r.state===sm&&(r.state=v5,r.timer.restart(l,r.delay,r.time),l(v))}),r.state=om,r.on.call("start",e,e.__data__,r.index,r.group),r.state===om){for(r.state=sm,a=new Array(y=r.tween.length),g=0,_=-1;g<y;++g)(w=r.tween[g].value.call(e,e.__data__,r.index,r.group))&&(a[++_]=w);a.length=_+1}}function l(v){for(var g=v<r.duration?r.ease.call(null,v/r.duration):(r.timer.restart(u),r.state=lm,1),_=-1,y=a.length;++_<y;)a[_].call(e,g);r.state===lm&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Fc,r.timer.stop(),delete n[t];for(var v in n)return;delete e.__transition}}var Ez,Mz,_5,wy,om,sm,v5,lm,Fc,zi=se(()=>{jb();am();Ez=Wb("start","end","cancel","interrupt"),Mz=[],_5=0,wy=1,om=2,sm=3,v5=4,lm=5,Fc=6});function Rc(e,t){var r=e.__transition,n,a,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}a=n.state>om&&n.state<lm,n.state=Fc,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}var Sy=se(()=>{zi()});function b5(e){return this.each(function(){Rc(this,e)})}var y5=se(()=>{Sy()});function Az(e,t){var r,n;return function(){var a=vi(this,e),s=a.tween;if(s!==r){n=r=s;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function Tz(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=vi(this,e),o=s.tween;if(o!==n){a=(n=o).slice();for(var l={name:t,value:r},u=0,v=a.length;u<v;++u)if(a[u].name===t){a[u]=l;break}u===v&&a.push(l)}s.tween=a}}function x5(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=An(this.node(),r).tween,a=0,s=n.length,o;a<s;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?Az:Tz)(r,e,t))}function yf(e,t,r){var n=e._id;return e.each(function(){var a=vi(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return An(a,n).value[t]}}var Uc=se(()=>{zi()});function um(e,t){var r;return(typeof t=="number"?Dn:t instanceof Ya?Rl:(r=Ya(t))?(t=r,Rl):Tc)(e,t)}var Cy=se(()=>{jo();ps()});function Lz(e){return function(){this.removeAttribute(e)}}function Oz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kz(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===n?s:s=t(n=o,r)}}function Pz(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?s:s=t(n=o,r)}}function Nz(e,t,r){var n,a,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===n&&u===a?s:(a=u,s=t(n=o,l)))}}function Iz(e,t,r){var n,a,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===n&&u===a?s:(a=u,s=t(n=o,l)))}}function w5(e,t){var r=$s(e),n=r==="transform"?by:um;return this.attrTween(e,typeof t=="function"?(r.local?Iz:Nz)(r,n,yf(this,"attr."+e,t)):t==null?(r.local?Oz:Lz)(r):(r.local?Pz:kz)(r,n,t))}var S5=se(()=>{ps();ha();Uc();Cy()});function zz(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Fz(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Bz(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Fz(e,s)),r}return a._value=t,a}function Rz(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&zz(e,s)),r}return a._value=t,a}function C5(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=$s(e);return this.tween(r,(n.local?Bz:Rz)(n,t))}var E5=se(()=>{ha()});function Uz(e,t){return function(){Bc(this,e).delay=+t.apply(this,arguments)}}function Wz(e,t){return t=+t,function(){Bc(this,e).delay=t}}function M5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Uz:Wz)(t,e)):An(this.node(),t).delay}var D5=se(()=>{zi()});function jz(e,t){return function(){vi(this,e).duration=+t.apply(this,arguments)}}function Gz(e,t){return t=+t,function(){vi(this,e).duration=t}}function A5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jz:Gz)(t,e)):An(this.node(),t).duration}var T5=se(()=>{zi()});function Hz(e,t){if(typeof t!="function")throw new Error;return function(){vi(this,e).ease=t}}function L5(e){var t=this._id;return arguments.length?this.each(Hz(t,e)):An(this.node(),t).ease}var O5=se(()=>{zi()});function k5(e){typeof e!="function"&&(e=Sc(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=[],u,v=0;v<o;++v)(u=s[v])&&e.call(u,u.__data__,v,s)&&l.push(u);return new ni(n,this._parents,this._name,this._id)}var P5=se(()=>{ha();eo()});function N5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),l=0;l<s;++l)for(var u=t[l],v=r[l],g=u.length,_=o[l]=new Array(g),y,w=0;w<g;++w)(y=u[w]||v[w])&&(_[w]=y);for(;l<n;++l)o[l]=t[l];return new ni(o,this._parents,this._name,this._id)}var I5=se(()=>{eo()});function Vz(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Yz(e,t,r){var n,a,s=Vz(t)?Bc:vi;return function(){var o=s(this,e),l=o.on;l!==n&&(a=(n=l).copy()).on(t,r),o.on=a}}function z5(e,t){var r=this._id;return arguments.length<2?An(this.node(),r).on.on(e):this.each(Yz(r,e,t))}var F5=se(()=>{zi()});function Kz(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function B5(){return this.on("end.remove",Kz(this._id))}var R5=se(()=>{});function U5(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Il(e));for(var n=this._groups,a=n.length,s=new Array(a),o=0;o<a;++o)for(var l=n[o],u=l.length,v=s[o]=new Array(u),g,_,y=0;y<u;++y)(g=l[y])&&(_=e.call(g,g.__data__,y,l))&&("__data__"in g&&(_.__data__=g.__data__),v[y]=_,Go(v[y],t,r,y,v,An(g,r)));return new ni(s,this._parents,t,r)}var W5=se(()=>{ha();eo();zi()});function j5(e){var t=this._name,r=this._id;typeof e!="function"&&(e=wc(e));for(var n=this._groups,a=n.length,s=[],o=[],l=0;l<a;++l)for(var u=n[l],v=u.length,g,_=0;_<v;++_)if(g=u[_]){for(var y=e.call(g,g.__data__,_,u),w,x=An(g,r),f=0,b=y.length;f<b;++f)(w=y[f])&&Go(w,t,r,f,y,x);s.push(y),o.push(g)}return new ni(s,o,t,r)}var G5=se(()=>{ha();eo();zi()});function H5(){return new Zz(this._groups,this._parents)}var Zz,V5=se(()=>{ha();Zz=Qs.prototype.constructor});function Xz(e,t){var r,n,a;return function(){var s=Uo(this,e),o=(this.style.removeProperty(e),Uo(this,e));return s===o?null:s===r&&o===n?a:a=t(r=s,n=o)}}function Y5(e){return function(){this.style.removeProperty(e)}}function $z(e,t,r){var n,a=r+"",s;return function(){var o=Uo(this,e);return o===a?null:o===n?s:s=t(n=o,r)}}function Qz(e,t,r){var n,a,s;return function(){var o=Uo(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Uo(this,e))),o===u?null:o===n&&u===a?s:(a=u,s=t(n=o,l))}}function qz(e,t){var r,n,a,s="style."+t,o="end."+s,l;return function(){var u=vi(this,e),v=u.on,g=u.value[s]==null?l||(l=Y5(t)):void 0;(v!==r||a!==g)&&(n=(r=v).copy()).on(o,a=g),u.on=n}}function K5(e,t,r){var n=(e+="")=="transform"?_y:um;return t==null?this.styleTween(e,Xz(e,n)).on("end.style."+e,Y5(e)):typeof t=="function"?this.styleTween(e,Qz(e,n,yf(this,"style."+e,t))).each(qz(this._id,e)):this.styleTween(e,$z(e,n,t),r).on("end.style."+e,null)}var Z5=se(()=>{ps();ha();zi();Uc();Cy()});function Jz(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function e9(e,t,r){var n,a;function s(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&Jz(e,o,r)),n}return s._value=t,s}function X5(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,e9(e,t,r??""))}var $5=se(()=>{});function t9(e){return function(){this.textContent=e}}function r9(e){return function(){var t=e(this);this.textContent=t??""}}function Q5(e){return this.tween("text",typeof e=="function"?r9(yf(this,"text",e)):t9(e==null?"":e+""))}var q5=se(()=>{Uc()});function n9(e){return function(t){this.textContent=e.call(this,t)}}function i9(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&n9(a)),t}return n._value=e,n}function J5(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,i9(e))}var eA=se(()=>{});function tA(){for(var e=this._name,t=this._id,r=fm(),n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],l=o.length,u,v=0;v<l;++v)if(u=o[v]){var g=An(u,t);Go(u,e,r,v,o,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new ni(n,this._parents,e,r)}var rA=se(()=>{eo();zi()});function nA(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--a===0&&s()}};r.each(function(){var v=vi(this,n),g=v.on;g!==e&&(t=(e=g).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),v.on=t})})}var iA=se(()=>{zi()});function ni(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Ey(e){return Qs().transition(e)}function fm(){return++a9}var a9,xf,eo=se(()=>{ha();S5();E5();D5();T5();O5();P5();I5();F5();R5();W5();G5();V5();Z5();$5();q5();eA();rA();Uc();iA();a9=0;xf=Qs.prototype;ni.prototype=Ey.prototype={constructor:ni,select:U5,selectAll:j5,filter:k5,merge:N5,selection:H5,transition:tA,call:xf.call,nodes:xf.nodes,node:xf.node,size:xf.size,empty:xf.empty,each:xf.each,on:z5,attr:w5,attrTween:C5,style:K5,styleTween:X5,text:Q5,textTween:J5,remove:B5,tween:x5,delay:M5,duration:A5,ease:L5,end:nA}});function dm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var aA=se(()=>{});var My=se(()=>{aA()});function s9(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return Dy.time=bf(),Dy;return r}function sA(e){var t,r;e instanceof ni?(t=e._id,e=e._name):(t=fm(),(r=Dy).time=bf(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],l=o.length,u,v=0;v<l;++v)(u=o[v])&&Go(u,e,t,v,o,r||s9(u,t));return new ni(n,this._parents,e,t)}var Dy,oA=se(()=>{eo();zi();My();am();Dy={time:null,delay:0,duration:250,ease:dm}});var lA=se(()=>{ha();y5();oA();Qs.prototype.interrupt=b5;Qs.prototype.transition=sA});var uA=se(()=>{eo();zi()});var Wl=se(()=>{lA();eo();uA();Sy()});var fA=se(()=>{});var dA=se(()=>{});var cA=se(()=>{});function hA(e){return[+e[0],+e[1]]}function o9(e){return[hA(e[0]),hA(e[1])]}function Ay(e){return{type:e}}var OK,kK,PK,pA=se(()=>{Wl();fA();dA();cA();OK={name:"x",handles:["w","e"].map(Ay),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},kK={name:"y",handles:["n","s"].map(Ay),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},PK={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ay),input:function(e){return e==null?null:o9(e)},output:function(e){return e}}});var mA=se(()=>{pA()});var gA,l9,u9,Ty=se(()=>{gA=Math.PI,l9=gA/2,u9=gA*2});var vA=se(()=>{mi();Ty()});var f9,_A=se(()=>{f9=Array.prototype.slice});var bA=se(()=>{});function ky(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yA(){return new ky}var Ly,Oy,jl,d9,Wc,xA=se(()=>{Ly=Math.PI,Oy=2*Ly,jl=1e-6,d9=Oy-jl;ky.prototype=yA.prototype={constructor:ky,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,s){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+s)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var s=this._x1,o=this._y1,l=r-e,u=n-t,v=s-e,g=o-t,_=v*v+g*g;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(_>jl)if(!(Math.abs(g*l-u*v)>jl)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var y=r-s,w=n-o,x=l*l+u*u,f=y*y+w*w,b=Math.sqrt(x),h=Math.sqrt(_),S=a*Math.tan((Ly-Math.acos((x+_-f)/(2*b*h)))/2),C=S/h,M=S/b;Math.abs(C-1)>jl&&(this._+="L"+(e+C*v)+","+(t+C*g)),this._+="A"+a+","+a+",0,0,"+ +(g*y>v*w)+","+(this._x1=e+M*l)+","+(this._y1=t+M*u)}},arc:function(e,t,r,n,a,s){e=+e,t=+t,r=+r,s=!!s;var o=r*Math.cos(n),l=r*Math.sin(n),u=e+o,v=t+l,g=1^s,_=s?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+v:(Math.abs(this._x1-u)>jl||Math.abs(this._y1-v)>jl)&&(this._+="L"+u+","+v),r&&(_<0&&(_=_%Oy+Oy),_>d9?this._+="A"+r+","+r+",0,1,"+g+","+(e-o)+","+(t-l)+"A"+r+","+r+",0,1,"+g+","+(this._x1=u)+","+(this._y1=v):_>jl&&(this._+="A"+r+","+r+",0,"+ +(_>=Ly)+","+g+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};Wc=yA});var cm=se(()=>{xA()});var wA=se(()=>{_A();bA();Ty()});var SA=se(()=>{vA();wA()});function hm(){}function CA(e,t){var r=new hm;if(e instanceof hm)e.each(function(l,u){r.set(u,l)});else if(Array.isArray(e)){var n=-1,a=e.length,s;if(t==null)for(;++n<a;)r.set(n,e[n]);else for(;++n<a;)r.set(t(s=e[n],n,e),s)}else if(e)for(var o in e)r.set(o,e[o]);return r}var $i,ms,pm=se(()=>{$i="$";hm.prototype=CA.prototype={constructor:hm,has:function(e){return $i+e in this},get:function(e){return this[$i+e]},set:function(e,t){return this[$i+e]=t,this},remove:function(e){var t=$i+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===$i&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===$i&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===$i&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===$i&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===$i&&++e;return e},empty:function(){for(var e in this)if(e[0]===$i)return!1;return!0},each:function(e){for(var t in this)t[0]===$i&&e(this[t],t.slice(1),this)}};ms=CA});var EA=se(()=>{pm()});function mm(){}function c9(e,t){var r=new mm;if(e instanceof mm)e.each(function(s){r.add(s)});else if(e){var n=-1,a=e.length;if(t==null)for(;++n<a;)r.add(e[n]);else for(;++n<a;)r.add(t(e[n],n,e))}return r}var Gl,MA=se(()=>{pm();Gl=ms.prototype;mm.prototype=c9.prototype={constructor:mm,has:Gl.has,add:function(e){return e+="",this[$i+e]=e,this},remove:Gl.remove,clear:Gl.clear,values:Gl.keys,size:Gl.size,empty:Gl.empty,each:Gl.each}});var DA=se(()=>{});var AA=se(()=>{});var TA=se(()=>{});var wf=se(()=>{EA();MA();pm();DA();AA();TA()});var h9,LA,Py=se(()=>{h9=Array.prototype,LA=h9.slice});var OA=se(()=>{});var kA=se(()=>{});var Ny=se(()=>{});var PA=se(()=>{});var NA=se(()=>{});var Iy=se(()=>{mi();Py();OA();kA();Ny();PA();NA()});var IA=se(()=>{});var zA=se(()=>{mi();Py();IA();Ny();Iy()});var FA=se(()=>{Iy();zA()});var BA=se(()=>{});var RA=se(()=>{});var UA=se(()=>{});var Hl=se(()=>{});var gm=se(()=>{});var WA=se(()=>{});var GA=se(()=>{Hl();gm()});var HA=se(()=>{Hl();gm();wf()});var yX,zy=se(()=>{wf();yX=Math.PI*(3-Math.sqrt(5))});var VA=se(()=>{Hl();gm();zy()});var YA=se(()=>{Hl()});var KA=se(()=>{Hl()});var ZA=se(()=>{Hl()});var XA=se(()=>{UA();GA();HA();VA();YA();zy();KA();ZA()});function $A(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vl(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var Gc=se(()=>{});function gs(e){return e=Vl(Math.abs(e)),e?e[1]:NaN}var Hc=se(()=>{Gc()});function QA(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}var qA=se(()=>{});function JA(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eT=se(()=>{});function Ho(e){if(!(t=g9.exec(e)))throw new Error("invalid format: "+e);var t;return new vm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function vm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var g9,Fy=se(()=>{g9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ho.prototype=vm.prototype;vm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function tT(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var rT=se(()=>{});function nT(e,t){var r=Vl(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(By=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Vl(e,Math.max(0,t+s-1))[0]}var By,Ry=se(()=>{Gc()});function Uy(e,t){var r=Vl(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var iT=se(()=>{Gc()});var Wy,aT=se(()=>{Gc();Ry();iT();Wy={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:$A,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Uy(e*100,t)},r:Uy,s:nT,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}});function jy(e){return e}var sT=se(()=>{});function uT(e){var t=e.grouping===void 0||e.thousands===void 0?jy:QA(oT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?jy:JA(oT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"-":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function v(_){_=Ho(_);var y=_.fill,w=_.align,x=_.sign,f=_.symbol,b=_.zero,h=_.width,S=_.comma,C=_.precision,M=_.trim,p=_.type;p==="n"?(S=!0,p="g"):Wy[p]||(C===void 0&&(C=12),M=!0,p="g"),(b||y==="0"&&w==="=")&&(b=!0,y="0",w="=");var c=f==="$"?r:f==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",E=f==="$"?n:/[%p]/.test(p)?o:"",D=Wy[p],I=/[defgprs%]/.test(p);C=C===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function O(P){var k=c,B=E,G,K,q;if(p==="c")B=D(P)+B,P="";else{P=+P;var H=P<0||1/P<0;if(P=isNaN(P)?u:D(Math.abs(P),C),M&&(P=tT(P)),H&&+P==0&&x!=="+"&&(H=!1),k=(H?x==="("?x:l:x==="-"||x==="("?"":x)+k,B=(p==="s"?lT[8+By/3]:"")+B+(H&&x==="("?")":""),I){for(G=-1,K=P.length;++G<K;)if(q=P.charCodeAt(G),48>q||q>57){B=(q===46?a+P.slice(G+1):P.slice(G))+B,P=P.slice(0,G);break}}}S&&!b&&(P=t(P,1/0));var $=k.length+P.length+B.length,W=$<h?new Array(h-$+1).join(y):"";switch(S&&b&&(P=t(W+P,W.length?h-B.length:1/0),W=""),w){case"<":P=k+P+B+W;break;case"=":P=k+W+P+B;break;case"^":P=W.slice(0,$=W.length>>1)+k+P+B+W.slice($);break;default:P=W+k+P+B;break}return s(P)}return O.toString=function(){return _+""},O}function g(_,y){var w=v((_=Ho(_),_.type="f",_)),x=Math.max(-8,Math.min(8,Math.floor(gs(y)/3)))*3,f=Math.pow(10,-x),b=lT[8+x/3];return function(h){return w(f*h)+b}}return{format:v,formatPrefix:g}}var oT,lT,fT=se(()=>{Hc();qA();eT();Fy();rT();aT();Ry();sT();oT=Array.prototype.map,lT=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function Gy(e){return _m=uT(e),bm=_m.format,ym=_m.formatPrefix,_m}var _m,bm,ym,dT=se(()=>{fT();Gy({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})});function Hy(e){return Math.max(0,-gs(Math.abs(e)))}var cT=se(()=>{Hc()});function Vy(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gs(t)/3)))*3-gs(Math.abs(e)))}var hT=se(()=>{Hc()});function Yy(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gs(t)-gs(e))+1}var pT=se(()=>{Hc()});var Ky=se(()=>{dT();Fy();cT();hT();pT()});var mT=se(()=>{});var gT=se(()=>{});var vT=se(()=>{});function pa(){return Math.random()}var Yl=se(()=>{});var v9,_T=se(()=>{Yl();v9=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,arguments.length===1?(a=n,n=0):a-=n,function(){return t()*a+n}}return r.source=e,r}(pa)});var Zy,Xy=se(()=>{Yl();Zy=function e(t){function r(n,a){var s,o;return n=n==null?0:+n,a=a==null?1:+a,function(){var l;if(s!=null)l=s,s=null;else do s=t()*2-1,l=t()*2-1,o=s*s+l*l;while(!o||o>1);return n+a*l*Math.sqrt(-2*Math.log(o)/o)}}return r.source=e,r}(pa)});var _9,bT=se(()=>{Yl();Xy();_9=function e(t){function r(){var n=Zy.source(t).apply(this,arguments);return function(){return Math.exp(n())}}return r.source=e,r}(pa)});var $y,Qy=se(()=>{Yl();$y=function e(t){function r(n){return function(){for(var a=0,s=0;s<n;++s)a+=t();return a}}return r.source=e,r}(pa)});var b9,yT=se(()=>{Yl();Qy();b9=function e(t){function r(n){var a=$y.source(t)(n);return function(){return a()/n}}return r.source=e,r}(pa)});var y9,xT=se(()=>{Yl();y9=function e(t){function r(n){return function(){return-Math.log(1-t())/n}}return r.source=e,r}(pa)});var wT=se(()=>{_T();Xy();bT();yT();Qy();xT()});function Fi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var _i=se(()=>{});var ST,xm,Vo,Yo=se(()=>{ST=Array.prototype,xm=ST.map,Vo=ST.slice});function Kl(){var e=ms(),t=[],r=[],n=qy;function a(s){var o=s+"",l=e.get(o);if(!l){if(n!==qy)return n;e.set(o,l=t.push(s))}return r[(l-1)%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=ms();for(var o=-1,l=s.length,u,v;++o<l;)e.has(v=(u=s[o])+"")||e.set(v,t.push(u));return a},a.range=function(s){return arguments.length?(r=Vo.call(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Kl(t,r).unknown(n)},Fi.apply(a,arguments),a}var qy,Jy=se(()=>{wf();Yo();_i();qy={name:"implicit"}});function Qi(){var e=Kl().unknown(void 0),t=e.domain,r=e.range,n=[0,1],a,s,o=!1,l=0,u=0,v=.5;delete e.unknown;function g(){var _=t().length,y=n[1]<n[0],w=n[y-0],x=n[1-y];a=(x-w)/Math.max(1,_-l+u*2),o&&(a=Math.floor(a)),w+=(x-w-a*(_-l))*v,s=a*(1-l),o&&(w=Math.round(w),s=Math.round(s));var f=Ha(_).map(function(b){return w+a*b});return r(y?f.reverse():f)}return e.domain=function(_){return arguments.length?(t(_),g()):t()},e.range=function(_){return arguments.length?(n=[+_[0],+_[1]],g()):n.slice()},e.rangeRound=function(_){return n=[+_[0],+_[1]],o=!0,g()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(_){return arguments.length?(o=!!_,g()):o},e.padding=function(_){return arguments.length?(l=Math.min(1,u=+_),g()):l},e.paddingInner=function(_){return arguments.length?(l=Math.min(1,_),g()):l},e.paddingOuter=function(_){return arguments.length?(u=+_,g()):u},e.align=function(_){return arguments.length?(v=Math.max(0,Math.min(1,_)),g()):v},e.copy=function(){return Qi(t(),n).round(o).paddingInner(l).paddingOuter(u).align(v)},Fi.apply(g(),arguments)}var CT=se(()=>{mi();_i();Jy()});function ET(e){return function(){return e}}var MT=se(()=>{});function ex(e){return+e}var tx=se(()=>{});function ma(e){return e}function rx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ET(isNaN(t)?NaN:.5)}function AT(e){var t=e[0],r=e[e.length-1],n;return t>r&&(n=t,t=r,r=n),function(a){return Math.max(t,Math.min(r,a))}}function x9(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=rx(a,n),s=r(o,s)):(n=rx(n,a),s=r(s,o)),function(l){return s(n(l))}}function w9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=rx(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var u=Ro(e,l,1,n)-1;return s[u](a[u](l))}}function Sf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wm(){var e=DT,t=DT,r=Js,n,a,s,o=ma,l,u,v;function g(){return l=Math.min(e.length,t.length)>2?w9:x9,u=v=null,_}function _(y){return isNaN(y=+y)?s:(u||(u=l(e.map(n),t,r)))(n(o(y)))}return _.invert=function(y){return o(a((v||(v=l(t,e.map(n),Dn)))(y)))},_.domain=function(y){return arguments.length?(e=xm.call(y,ex),o===ma||(o=AT(e)),g()):e.slice()},_.range=function(y){return arguments.length?(t=Vo.call(y),g()):t.slice()},_.rangeRound=function(y){return t=Vo.call(y),r=Lc,g()},_.clamp=function(y){return arguments.length?(o=y?AT(e):ma,_):o!==ma},_.interpolate=function(y){return arguments.length?(r=y,g()):r},_.unknown=function(y){return arguments.length?(s=y,_):s},function(y,w){return n=y,a=w,g()}}function Sm(e,t){return wm()(e,t)}var DT,to=se(()=>{mi();ps();Yo();MT();tx();DT=[0,1]});function nx(e,t,r,n){var a=kl(e,t,r),s;switch(n=Ho(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Vy(a,o))&&(n.precision=s),ym(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Yy(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Hy(a))&&(n.precision=s-(n.type==="%")*2);break}}return bm(n)}var ix=se(()=>{mi();Ky()});function Zl(e){var t=e.domain;return e.ticks=function(r){var n=t();return z0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return nx(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],u;return l<o&&(u=o,o=l,l=u,u=a,a=s,s=u),u=cf(o,l,r),u>0?(o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u,u=cf(o,l,r)):u<0&&(o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u,u=cf(o,l,r)),u>0?(n[a]=Math.floor(o/u)*u,n[s]=Math.ceil(l/u)*u,t(n)):u<0&&(n[a]=Math.ceil(o*u)/u,n[s]=Math.floor(l*u)/u,t(n)),e},e}function ga(){var e=Sm(ma,ma);return e.copy=function(){return Sf(e,ga())},Fi.apply(e,arguments),Zl(e)}var Ko=se(()=>{mi();to();_i();ix()});var TT=se(()=>{Yo();Ko();tx()});var ax=se(()=>{});var Cm=se(()=>{mi();ax();to();_i()});var Em=se(()=>{Ko();to();_i()});var Mm=se(()=>{Ko();to();_i()});var LT=se(()=>{mi();Yo();_i()});var OT=se(()=>{mi();Yo();Ko();_i()});var kT=se(()=>{mi();Yo();_i()});function ii(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=function(s){return e(s=new Date(+s)),s},a.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},a.round=function(s){var o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},a.range=function(s,o,l){var u=[],v;if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;do u.push(v=new Date(+s)),t(s,l),e(s);while(v<s&&s<o);return u},a.filter=function(s){return ii(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,l){if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););})},r&&(a.count=function(s,o){return sx.setTime(+s),ox.setTime(+o),e(sx),e(ox),Math.floor(r(sx,ox))},a.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?function(o){return n(o)%s===0}:function(o){return a.count(0,o)%s===0}):a}),a}var sx,ox,Xl=se(()=>{sx=new Date,ox=new Date});var Dm,Am,Tm,Vc=se(()=>{Dm=6e4,Am=864e5,Tm=6048e5});var PT,Lm,C9,NT=se(()=>{Xl();Vc();PT=ii(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dm)/Am},function(e){return e.getDate()-1}),Lm=PT,C9=PT.range});function $l(e){return ii(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dm)/Tm})}var Yc,Cf,IT,zT,Zo,FT,BT,RT,E9,M9,D9,A9,T9,L9,UT=se(()=>{Xl();Vc();Yc=$l(0),Cf=$l(1),IT=$l(2),zT=$l(3),Zo=$l(4),FT=$l(5),BT=$l(6),RT=Yc.range,E9=Cf.range,M9=IT.range,D9=zT.range,A9=Zo.range,T9=FT.range,L9=BT.range});var lx,Ql,O9,WT=se(()=>{Xl();lx=ii(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});lx.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ii(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};Ql=lx,O9=lx.range});var jT,Om,k9,GT=se(()=>{Xl();Vc();jT=ii(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Am},function(e){return e.getUTCDate()-1}),Om=jT,k9=jT.range});function ql(e){return ii(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/Tm})}var Kc,Ef,HT,VT,Xo,YT,KT,ZT,P9,N9,I9,z9,F9,B9,XT=se(()=>{Xl();Vc();Kc=ql(0),Ef=ql(1),HT=ql(2),VT=ql(3),Xo=ql(4),YT=ql(5),KT=ql(6),ZT=Kc.range,P9=Ef.range,N9=HT.range,I9=VT.range,z9=Xo.range,F9=YT.range,B9=KT.range});var ux,Jl,R9,$T=se(()=>{Xl();ux=ii(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ux.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ii(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};Jl=ux,R9=ux.range});var fx=se(()=>{NT();UT();WT();GT();XT();$T()});function dx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hx(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,v=Xc(a),g=$c(a),_=Xc(s),y=$c(s),w=Xc(o),x=$c(o),f=Xc(l),b=$c(l),h=Xc(u),S=$c(u),C={a:H,A:$,b:W,B:V,c:null,d:r4,e:r4,f:l7,g:_7,G:y7,H:a7,I:s7,j:o7,L:o4,m:u7,M:f7,p:Z,q:Q,Q:a4,s:s4,S:d7,u:c7,U:h7,V:p7,w:m7,W:g7,x:null,X:null,y:v7,Y:b7,Z:x7,"%":i4},M={a:ie,A:Ce,b:De,B:Me,c:null,d:n4,e:n4,f:E7,g:I7,G:F7,H:w7,I:S7,j:C7,L:u4,m:M7,M:D7,p:Ne,q:Te,Q:a4,s:s4,S:A7,u:T7,U:L7,V:O7,w:k7,W:P7,x:null,X:null,y:N7,Y:z7,Z:B7,"%":i4},p={a:O,A:P,b:k,B,c:G,d:e4,e:e4,f:t7,g:JT,G:qT,H:t4,I:t4,j:Q9,L:e7,m:$9,M:q9,p:I,q:X9,Q:n7,s:i7,S:J9,u:H9,U:V9,V:Y9,w:G9,W:K9,x:K,X:q,y:JT,Y:qT,Z:Z9,"%":r7};C.x=c(r,C),C.X=c(n,C),C.c=c(t,C),M.x=c(r,M),M.X=c(n,M),M.c=c(t,M);function c(be,Xe){return function($e){var R=[],me=-1,ge=0,ne=be.length,fe,ye,He;for($e instanceof Date||($e=new Date(+$e));++me<ne;)be.charCodeAt(me)===37&&(R.push(be.slice(ge,me)),(ye=QT[fe=be.charAt(++me)])!=null?fe=be.charAt(++me):ye=fe==="e"?" ":"0",(He=Xe[fe])&&(fe=He($e,ye)),R.push(fe),ge=me+1);return R.push(be.slice(ge,me)),R.join("")}}function E(be,Xe){return function($e){var R=Zc(1900,void 0,1),me=D(R,be,$e+="",0),ge,ne;if(me!=$e.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(Xe&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(ge=cx(Zc(R.y,0,1)),ne=ge.getUTCDay(),ge=ne>4||ne===0?Ef.ceil(ge):Ef(ge),ge=Om.offset(ge,(R.V-1)*7),R.y=ge.getUTCFullYear(),R.m=ge.getUTCMonth(),R.d=ge.getUTCDate()+(R.w+6)%7):(ge=dx(Zc(R.y,0,1)),ne=ge.getDay(),ge=ne>4||ne===0?Cf.ceil(ge):Cf(ge),ge=Lm.offset(ge,(R.V-1)*7),R.y=ge.getFullYear(),R.m=ge.getMonth(),R.d=ge.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),ne="Z"in R?cx(Zc(R.y,0,1)).getUTCDay():dx(Zc(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(ne+5)%7:R.w+R.U*7-(ne+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,cx(R)):dx(R)}}function D(be,Xe,$e,R){for(var me=0,ge=Xe.length,ne=$e.length,fe,ye;me<ge;){if(R>=ne)return-1;if(fe=Xe.charCodeAt(me++),fe===37){if(fe=Xe.charAt(me++),ye=p[fe in QT?Xe.charAt(me++):fe],!ye||(R=ye(be,$e,R))<0)return-1}else if(fe!=$e.charCodeAt(R++))return-1}return R}function I(be,Xe,$e){var R=v.exec(Xe.slice($e));return R?(be.p=g[R[0].toLowerCase()],$e+R[0].length):-1}function O(be,Xe,$e){var R=w.exec(Xe.slice($e));return R?(be.w=x[R[0].toLowerCase()],$e+R[0].length):-1}function P(be,Xe,$e){var R=_.exec(Xe.slice($e));return R?(be.w=y[R[0].toLowerCase()],$e+R[0].length):-1}function k(be,Xe,$e){var R=h.exec(Xe.slice($e));return R?(be.m=S[R[0].toLowerCase()],$e+R[0].length):-1}function B(be,Xe,$e){var R=f.exec(Xe.slice($e));return R?(be.m=b[R[0].toLowerCase()],$e+R[0].length):-1}function G(be,Xe,$e){return D(be,t,Xe,$e)}function K(be,Xe,$e){return D(be,r,Xe,$e)}function q(be,Xe,$e){return D(be,n,Xe,$e)}function H(be){return o[be.getDay()]}function $(be){return s[be.getDay()]}function W(be){return u[be.getMonth()]}function V(be){return l[be.getMonth()]}function Z(be){return a[+(be.getHours()>=12)]}function Q(be){return 1+~~(be.getMonth()/3)}function ie(be){return o[be.getUTCDay()]}function Ce(be){return s[be.getUTCDay()]}function De(be){return u[be.getUTCMonth()]}function Me(be){return l[be.getUTCMonth()]}function Ne(be){return a[+(be.getUTCHours()>=12)]}function Te(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Xe=c(be+="",C);return Xe.toString=function(){return be},Xe},parse:function(be){var Xe=E(be+="",!1);return Xe.toString=function(){return be},Xe},utcFormat:function(be){var Xe=c(be+="",M);return Xe.toString=function(){return be},Xe},utcParse:function(be){var Xe=E(be+="",!0);return Xe.toString=function(){return be},Xe}}}function Lr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function j9(e){return e.replace(W9,"\\$&")}function Xc(e){return new RegExp("^(?:"+e.map(j9).join("|")+")","i")}function $c(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function G9(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function H9(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function V9(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Y9(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function K9(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function qT(e,t,r){var n=Bn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function JT(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Z9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function X9(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $9(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function e4(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Q9(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function t4(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function q9(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function J9(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function e7(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function t7(e,t,r){var n=Bn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function r7(e,t,r){var n=U9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function n7(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function i7(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function r4(e,t){return Lr(e.getDate(),t,2)}function a7(e,t){return Lr(e.getHours(),t,2)}function s7(e,t){return Lr(e.getHours()%12||12,t,2)}function o7(e,t){return Lr(1+Lm.count(Ql(e),e),t,3)}function o4(e,t){return Lr(e.getMilliseconds(),t,3)}function l7(e,t){return o4(e,t)+"000"}function u7(e,t){return Lr(e.getMonth()+1,t,2)}function f7(e,t){return Lr(e.getMinutes(),t,2)}function d7(e,t){return Lr(e.getSeconds(),t,2)}function c7(e){var t=e.getDay();return t===0?7:t}function h7(e,t){return Lr(Yc.count(Ql(e)-1,e),t,2)}function l4(e){var t=e.getDay();return t>=4||t===0?Zo(e):Zo.ceil(e)}function p7(e,t){return e=l4(e),Lr(Zo.count(Ql(e),e)+(Ql(e).getDay()===4),t,2)}function m7(e){return e.getDay()}function g7(e,t){return Lr(Cf.count(Ql(e)-1,e),t,2)}function v7(e,t){return Lr(e.getFullYear()%100,t,2)}function _7(e,t){return e=l4(e),Lr(e.getFullYear()%100,t,2)}function b7(e,t){return Lr(e.getFullYear()%1e4,t,4)}function y7(e,t){var r=e.getDay();return e=r>=4||r===0?Zo(e):Zo.ceil(e),Lr(e.getFullYear()%1e4,t,4)}function x7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lr(t/60|0,"0",2)+Lr(t%60,"0",2)}function n4(e,t){return Lr(e.getUTCDate(),t,2)}function w7(e,t){return Lr(e.getUTCHours(),t,2)}function S7(e,t){return Lr(e.getUTCHours()%12||12,t,2)}function C7(e,t){return Lr(1+Om.count(Jl(e),e),t,3)}function u4(e,t){return Lr(e.getUTCMilliseconds(),t,3)}function E7(e,t){return u4(e,t)+"000"}function M7(e,t){return Lr(e.getUTCMonth()+1,t,2)}function D7(e,t){return Lr(e.getUTCMinutes(),t,2)}function A7(e,t){return Lr(e.getUTCSeconds(),t,2)}function T7(e){var t=e.getUTCDay();return t===0?7:t}function L7(e,t){return Lr(Kc.count(Jl(e)-1,e),t,2)}function f4(e){var t=e.getUTCDay();return t>=4||t===0?Xo(e):Xo.ceil(e)}function O7(e,t){return e=f4(e),Lr(Xo.count(Jl(e),e)+(Jl(e).getUTCDay()===4),t,2)}function k7(e){return e.getUTCDay()}function P7(e,t){return Lr(Ef.count(Jl(e)-1,e),t,2)}function N7(e,t){return Lr(e.getUTCFullYear()%100,t,2)}function I7(e,t){return e=f4(e),Lr(e.getUTCFullYear()%100,t,2)}function z7(e,t){return Lr(e.getUTCFullYear()%1e4,t,4)}function F7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xo(e):Xo.ceil(e),Lr(e.getUTCFullYear()%1e4,t,4)}function B7(){return"+0000"}function i4(){return"%"}function a4(e){return+e}function s4(e){return Math.floor(+e/1e3)}var QT,Bn,U9,W9,d4=se(()=>{fx();QT={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,U9=/^%/,W9=/[\\^$*+?|[\]().{}]/g});function px(e){return Mf=hx(e),c4=Mf.format,h4=Mf.parse,p4=Mf.utcFormat,m4=Mf.utcParse,Mf}var Mf,c4,h4,p4,m4,g4=se(()=>{d4();px({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var v4=se(()=>{g4()});var R7,U7,W7,mx,Yq,Kq,Zq,gx=se(()=>{mi();Yo();to();_i();ax();R7=1e3,U7=R7*60,W7=U7*60,mx=W7*24,Yq=mx*7,Kq=mx*30,Zq=mx*365});var _4=se(()=>{gx();_i()});var vx=se(()=>{to();_i();Ko();Cm();Em();Mm()});var y4=se(()=>{mi();to();_i()});var x4=se(()=>{to();_i();Ko();Cm();vx();Em();Mm()});var w4=se(()=>{CT();TT();Ko();Cm();Em();Jy();Mm();LT();OT();kT();gx();_4();vx();y4();x4();ix()});var S4=se(()=>{});function vs(e){return function(){return e}}var _x=se(()=>{});var km,oee,C4,E4=se(()=>{km=Math.PI,oee=km/2,C4=2*km});function M4(e){this._context=e}function Qc(e){return new M4(e)}var bx=se(()=>{M4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function D4(e){return e[0]}function A4(e){return e[1]}var T4=se(()=>{});function Pm(){var e=D4,t=A4,r=vs(!0),n=null,a=Qc,s=null;function o(l){var u,v=l.length,g,_=!1,y;for(n==null&&(s=a(y=Wc())),u=0;u<=v;++u)!(u<v&&r(g=l[u],u,l))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+e(g,u,l),+t(g,u,l));if(y)return s=null,y+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:vs(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:vs(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:vs(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(s=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=s=null:s=a(n=l),o):n},o}var L4=se(()=>{cm();_x();bx();T4()});var O4,k4=se(()=>{E4();O4={draw:function(e,t){var r=Math.sqrt(t/km);e.moveTo(r,0),e.arc(0,0,r,0,C4)}}});var yx,P4=se(()=>{yx={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}}});function xx(){var e=vs(O4),t=vs(64),r=null;function n(){var a;if(r||(r=a=Wc()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return n.type=function(a){return arguments.length?(e=typeof a=="function"?a:vs(a),n):e},n.size=function(a){return arguments.length?(t=typeof a=="function"?a:vs(+a),n):t},n.context=function(a){return arguments.length?(r=a??null,n):r},n}var N4=se(()=>{cm();k4();_x()});function I4(e){return e<0?-1:1}function z4(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(I4(s)+I4(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function F4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wx(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Nm(e){this._context=e}function V7(e){this._context=new B4(e)}function B4(e){this._context=e}function Sx(e){return new Nm(e)}var R4=se(()=>{Nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wx(this,this._t0,F4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wx(this,F4(this,r=z4(this,e,t)),r);break;default:wx(this,this._t0,r=z4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};(V7.prototype=Object.create(Nm.prototype)).point=function(e,t){Nm.prototype.point.call(this,t,e)};B4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}}});var U4=se(()=>{L4();N4();P4();bx();R4()});var W4=se(()=>{});var j4=se(()=>{});function Cx(){this._=null}function Df(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function qc(e,t){var r=t,n=t.R,a=r.U;a?a.L===r?a.L=n:a.R=n:e._=n,n.U=a,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function Jc(e,t){var r=t,n=t.L,a=r.U;a?a.L===r?a.L=n:a.R=n:e._=n,n.U=a,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function G4(e){for(;e.L;)e=e.L;return e}var Ex,Im=se(()=>{Cx.prototype={constructor:Cx,insert:function(e,t){var r,n,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;r=e}else this._?(e=G4(this._),t.P=null,t.N=e,e.P=e.L=t,r=e):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,e=t;r&&r.C;)n=r.U,r===n.L?(a=n.R,a&&a.C?(r.C=a.C=!1,n.C=!0,e=n):(e===r.R&&(qc(this,r),e=r,r=e.U),r.C=!1,n.C=!0,Jc(this,n))):(a=n.L,a&&a.C?(r.C=a.C=!1,n.C=!0,e=n):(e===r.L&&(Jc(this,r),e=r,r=e.U),r.C=!1,n.C=!0,qc(this,n))),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,r,n=e.L,a=e.R,s,o;if(n?a?s=G4(a):s=n:s=a,t?t.L===e?t.L=s:t.R=s:this._=s,n&&a?(o=s.C,s.C=e.C,s.L=n,n.U=s,s!==a?(t=s.U,s.U=e.U,e=s.R,t.L=e,s.R=a,a.U=s):(s.U=t,t=s,e=s.R)):(o=e.C,e=s),e&&(e.U=t),!o){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(r=t.R,r.C&&(r.C=!1,t.C=!0,qc(this,t),r=t.R),r.L&&r.L.C||r.R&&r.R.C){(!r.R||!r.R.C)&&(r.L.C=!1,r.C=!0,Jc(this,r),r=t.R),r.C=t.C,t.C=r.R.C=!1,qc(this,t),e=this._;break}}else if(r=t.L,r.C&&(r.C=!1,t.C=!0,Jc(this,t),r=t.L),r.L&&r.L.C||r.R&&r.R.C){(!r.L||!r.L.C)&&(r.R.C=!1,r.C=!0,qc(this,r),r=t.L),r.C=t.C,t.C=r.L.C=!1,Jc(this,t),e=this._;break}r.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};Ex=Cx});function Af(e,t,r,n){var a=[null,null],s=Rn.push(a)-1;return a.left=e,a.right=t,r&&eh(a,e,t,r),n&&eh(a,t,e,n),bi[e.index].halfedges.push(s),bi[t.index].halfedges.push(s),a}function Tf(e,t,r){var n=[t,r];return n.left=e,n}function eh(e,t,r,n){!e[0]&&!e[1]?(e[0]=n,e.left=t,e.right=r):e.left===r?e[1]=n:e[0]=n}function Y7(e,t,r,n,a){var s=e[0],o=e[1],l=s[0],u=s[1],v=o[0],g=o[1],_=0,y=1,w=v-l,x=g-u,f;if(f=t-l,!(!w&&f>0)){if(f/=w,w<0){if(f<_)return;f<y&&(y=f)}else if(w>0){if(f>y)return;f>_&&(_=f)}if(f=n-l,!(!w&&f<0)){if(f/=w,w<0){if(f>y)return;f>_&&(_=f)}else if(w>0){if(f<_)return;f<y&&(y=f)}if(f=r-u,!(!x&&f>0)){if(f/=x,x<0){if(f<_)return;f<y&&(y=f)}else if(x>0){if(f>y)return;f>_&&(_=f)}if(f=a-u,!(!x&&f<0)){if(f/=x,x<0){if(f>y)return;f>_&&(_=f)}else if(x>0){if(f<_)return;f<y&&(y=f)}return!(_>0)&&!(y<1)||(_>0&&(e[0]=[l+_*w,u+_*x]),y<1&&(e[1]=[l+y*w,u+y*x])),!0}}}}}function K7(e,t,r,n,a){var s=e[1];if(s)return!0;var o=e[0],l=e.left,u=e.right,v=l[0],g=l[1],_=u[0],y=u[1],w=(v+_)/2,x=(g+y)/2,f,b;if(y===g){if(w<t||w>=n)return;if(v>_){if(!o)o=[w,r];else if(o[1]>=a)return;s=[w,a]}else{if(!o)o=[w,a];else if(o[1]<r)return;s=[w,r]}}else if(f=(v-_)/(y-g),b=x-f*w,f<-1||f>1)if(v>_){if(!o)o=[(r-b)/f,r];else if(o[1]>=a)return;s=[(a-b)/f,a]}else{if(!o)o=[(a-b)/f,a];else if(o[1]<r)return;s=[(r-b)/f,r]}else if(g<y){if(!o)o=[t,f*t+b];else if(o[0]>=n)return;s=[n,f*n+b]}else{if(!o)o=[n,f*n+b];else if(o[0]<t)return;s=[t,f*t+b]}return e[0]=o,e[1]=s,!0}function H4(e,t,r,n){for(var a=Rn.length,s;a--;)(!K7(s=Rn[a],e,t,r,n)||!Y7(s,e,t,r,n)||!(Math.abs(s[0][0]-s[1][0])>Ur||Math.abs(s[0][1]-s[1][1])>Ur))&&delete Rn[a]}var zm=se(()=>{Lf()});function V4(e){return bi[e.index]={site:e,halfedges:[]}}function Z7(e,t){var r=e.site,n=t.left,a=t.right;return r===a&&(a=n,n=r),a?Math.atan2(a[1]-n[1],a[0]-n[0]):(r===n?(n=t[1],a=t[0]):(n=t[0],a=t[1]),Math.atan2(n[0]-a[0],a[1]-n[1]))}function Mx(e,t){return t[+(t.left!==e.site)]}function X7(e,t){return t[+(t.left===e.site)]}function Y4(){for(var e=0,t=bi.length,r,n,a,s;e<t;++e)if((r=bi[e])&&(s=(n=r.halfedges).length)){var o=new Array(s),l=new Array(s);for(a=0;a<s;++a)o[a]=a,l[a]=Z7(r,Rn[n[a]]);for(o.sort(function(u,v){return l[v]-l[u]}),a=0;a<s;++a)l[a]=n[o[a]];for(a=0;a<s;++a)n[a]=l[a]}}function K4(e,t,r,n){var a=bi.length,s,o,l,u,v,g,_,y,w,x,f,b,h=!0;for(s=0;s<a;++s)if(o=bi[s]){for(l=o.site,v=o.halfedges,u=v.length;u--;)Rn[v[u]]||v.splice(u,1);for(u=0,g=v.length;u<g;)x=X7(o,Rn[v[u]]),f=x[0],b=x[1],_=Mx(o,Rn[v[++u%g]]),y=_[0],w=_[1],(Math.abs(f-y)>Ur||Math.abs(b-w)>Ur)&&(v.splice(u,0,Rn.push(Tf(l,x,Math.abs(f-e)<Ur&&n-b>Ur?[e,Math.abs(y-e)<Ur?w:n]:Math.abs(b-n)<Ur&&r-f>Ur?[Math.abs(w-n)<Ur?y:r,n]:Math.abs(f-r)<Ur&&b-t>Ur?[r,Math.abs(y-r)<Ur?w:t]:Math.abs(b-t)<Ur&&f-e>Ur?[Math.abs(w-t)<Ur?y:e,t]:null))-1),++g);g&&(h=!1)}if(h){var S,C,M,p=1/0;for(s=0,h=null;s<a;++s)(o=bi[s])&&(l=o.site,S=l[0]-e,C=l[1]-t,M=S*S+C*C,M<p&&(p=M,h=o));if(h){var c=[e,t],E=[e,n],D=[r,n],I=[r,t];h.halfedges.push(Rn.push(Tf(l=h.site,c,E))-1,Rn.push(Tf(l,E,D))-1,Rn.push(Tf(l,D,I))-1,Rn.push(Tf(l,I,c))-1)}}for(s=0;s<a;++s)(o=bi[s])&&(o.halfedges.length||delete bi[s])}var Dx=se(()=>{zm();Lf()});function $7(){Df(this),this.x=this.y=this.arc=this.site=this.cy=null}function eu(e){var t=e.P,r=e.N;if(!(!t||!r)){var n=t.site,a=e.site,s=r.site;if(n!==s){var o=a[0],l=a[1],u=n[0]-o,v=n[1]-l,g=s[0]-o,_=s[1]-l,y=2*(u*_-v*g);if(!(y>=-X4)){var w=u*u+v*v,x=g*g+_*_,f=(_*w-v*x)/y,b=(u*x-g*w)/y,h=Z4.pop()||new $7;h.arc=e,h.site=a,h.x=f+o,h.y=(h.cy=b+l)+Math.sqrt(f*f+b*b),e.circle=h;for(var S=null,C=Of._;C;)if(h.y<C.y||h.y===C.y&&h.x<=C.x)if(C.L)C=C.L;else{S=C.P;break}else if(C.R)C=C.R;else{S=C;break}Of.insert(S,h),S||(Fm=h)}}}}function tu(e){var t=e.circle;t&&(t.P||(Fm=t.N),Of.remove(t),Z4.push(t),Df(t),e.circle=null)}var Z4,Fm,Ax=se(()=>{Im();Lf();Z4=[]});function Q7(){Df(this),this.edge=this.site=this.circle=null}function $4(e){var t=Q4.pop()||new Q7;return t.site=e,t}function Tx(e){tu(e),ru.remove(e),Q4.push(e),Df(e)}function q4(e){var t=e.circle,r=t.x,n=t.cy,a=[r,n],s=e.P,o=e.N,l=[e];Tx(e);for(var u=s;u.circle&&Math.abs(r-u.circle.x)<Ur&&Math.abs(n-u.circle.cy)<Ur;)s=u.P,l.unshift(u),Tx(u),u=s;l.unshift(u),tu(u);for(var v=o;v.circle&&Math.abs(r-v.circle.x)<Ur&&Math.abs(n-v.circle.cy)<Ur;)o=v.N,l.push(v),Tx(v),v=o;l.push(v),tu(v);var g=l.length,_;for(_=1;_<g;++_)v=l[_],u=l[_-1],eh(v.edge,u.site,v.site,a);u=l[0],v=l[g-1],v.edge=Af(u.site,v.site,null,a),eu(u),eu(v)}function J4(e){for(var t=e[0],r=e[1],n,a,s,o,l=ru._;l;)if(s=e8(l,r)-t,s>Ur)l=l.L;else if(o=t-q7(l,r),o>Ur){if(!l.R){n=l;break}l=l.R}else{s>-Ur?(n=l.P,a=l):o>-Ur?(n=l,a=l.N):n=a=l;break}V4(e);var u=$4(e);if(ru.insert(n,u),!(!n&&!a)){if(n===a){tu(n),a=$4(n.site),ru.insert(u,a),u.edge=a.edge=Af(n.site,u.site),eu(n),eu(a);return}if(!a){u.edge=Af(n.site,u.site);return}tu(n),tu(a);var v=n.site,g=v[0],_=v[1],y=e[0]-g,w=e[1]-_,x=a.site,f=x[0]-g,b=x[1]-_,h=2*(y*b-w*f),S=y*y+w*w,C=f*f+b*b,M=[(b*S-w*C)/h+g,(y*C-f*S)/h+_];eh(a.edge,v,x,M),u.edge=Af(v,e,null,M),a.edge=Af(e,x,null,M),eu(n),eu(a)}}function e8(e,t){var r=e.site,n=r[0],a=r[1],s=a-t;if(!s)return n;var o=e.P;if(!o)return-1/0;r=o.site;var l=r[0],u=r[1],v=u-t;if(!v)return l;var g=l-n,_=1/s-1/v,y=g/v;return _?(-y+Math.sqrt(y*y-2*_*(g*g/(-2*v)-u+v/2+a-s/2)))/_+n:(n+l)/2}function q7(e,t){var r=e.N;if(r)return e8(r,t);var n=e.site;return n[1]===t?n[0]:1/0}var Q4,t8=se(()=>{Im();Dx();Ax();zm();Lf();Q4=[]});function J7(e,t,r){return(e[0]-r[0])*(t[1]-e[1])-(e[0]-t[0])*(r[1]-e[1])}function eF(e,t){return t[1]-e[1]||t[0]-e[0]}function Bm(e,t){var r=e.sort(eF).pop(),n,a,s;for(Rn=[],bi=new Array(e.length),ru=new Ex,Of=new Ex;;)if(s=Fm,r&&(!s||r[1]<s.y||r[1]===s.y&&r[0]<s.x))(r[0]!==n||r[1]!==a)&&(J4(r),n=r[0],a=r[1]),r=e.pop();else if(s)q4(s.arc);else break;if(Y4(),t){var o=+t[0][0],l=+t[0][1],u=+t[1][0],v=+t[1][1];H4(o,l,u,v),K4(o,l,u,v)}this.edges=Rn,this.cells=bi,ru=Of=Rn=bi=null}var Ur,X4,ru,bi,Of,Rn,Lf=se(()=>{t8();Dx();Ax();zm();Im();Ur=1e-6,X4=1e-12;Bm.prototype={constructor:Bm,polygons:function(){var e=this.edges;return this.cells.map(function(t){var r=t.halfedges.map(function(n){return Mx(t,e[n])});return r.data=t.site.data,r})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(r,n){if(l=(s=r.halfedges).length)for(var a=r.site,s,o=-1,l,u,v=t[s[l-1]],g=v.left===a?v.right:v.left;++o<l;)u=g,v=t[s[o]],g=v.left===a?v.right:v.left,u&&g&&n<u.index&&n<g.index&&J7(a,u,g)<0&&e.push([a.data,u.data,g.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,r){for(var n=this,a,s=n._found||0,o=n.cells.length,l;!(l=n.cells[s]);)if(++s>=o)return null;var u=e-l.site[0],v=t-l.site[1],g=u*u+v*v;do l=n.cells[a=s],s=null,l.halfedges.forEach(function(_){var y=n.edges[_],w=y.left;if(!((w===l.site||!w)&&!(w=y.right))){var x=e-w[0],f=t-w[1],b=x*x+f*f;b<g&&(g=b,s=w.index)}});while(s!==null);return n._found=a,r==null||g<=r*r?l.site:null}}});var r8=se(()=>{W4();j4();Lf()});var n8=se(()=>{r8()});var i8=se(()=>{});var a8=se(()=>{});function nu(e,t,r){this.k=e,this.x=t,this.y=r}function Ox(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Lx;return e.__zoom}var Lx,kx=se(()=>{nu.prototype={constructor:nu,scale:function(e){return e===1?this:new nu(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new nu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Lx=new nu(1,0,0);Ox.prototype=nu.prototype});var s8=se(()=>{});var o8=se(()=>{Wl();i8();a8();kx();s8()});var l8=se(()=>{o8();kx()});var th=se(()=>{ME();mi();qE();mA();SA();wf();jo();FA();jb();xD();BA();My();RA();XA();Ky();mT();gT();ps();cm();vT();WA();wT();w4();S4();ha();U4();fx();v4();am();Wl();n8();l8()});var Um,Wm,jm=se(()=>{Um="http://www.w3.org/1999/xhtml",Wm={svg:"http://www.w3.org/2000/svg",xhtml:Um,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function rh(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Wm.hasOwnProperty(t)?{space:Wm[t],local:e}:e}var Gm=se(()=>{jm()});function tF(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Um&&t.documentElement.namespaceURI===Um?t.createElement(e):t.createElementNS(r,e)}}function rF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nh(e){var t=rh(e);return(t.local?rF:tF)(t)}var Hm=se(()=>{Gm();jm()});function Nx(){return new Px}function Px(){this._="@"+(++nF).toString(36)}var nF,u8=se(()=>{nF=0;Px.prototype=Nx.prototype={constructor:Px,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});var d8,kf,f8,Ix,zx=se(()=>{d8=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(kf=document.documentElement,kf.matches||(f8=kf.webkitMatchesSelector||kf.msMatchesSelector||kf.mozMatchesSelector||kf.oMatchesSelector,d8=function(e){return function(){return f8.call(this,e)}}));Ix=d8});function iF(e,t,r){return e=p8(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function p8(e,t,r){return function(n){var a=ih;ih=n;try{e.call(this,this.__data__,t,r)}finally{ih=a}}}function aF(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function sF(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++n]=s;++n?t.length=n:delete this.__on}}}function oF(e,t,r){var n=h8.hasOwnProperty(e.type)?iF:p8;return function(a,s,o){var l=this.__on,u,v=n(t,s,o);if(l){for(var g=0,_=l.length;g<_;++g)if((u=l[g]).type===e.type&&u.name===e.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=v,u.capture=r),u.value=t;return}}this.addEventListener(e.type,v,r),u={type:e.type,name:e.name,value:t,listener:v,capture:r},l?l.push(u):this.__on=[u]}}function m8(e,t,r){var n=aF(e+""),a,s=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,v=l.length,g;u<v;++u)for(a=0,g=l[u];a<s;++a)if((o=n[a]).type===g.type&&o.name===g.name)return g.value}return}for(l=t?oF:sF,r==null&&(r=!1),a=0;a<s;++a)this.each(l(n[a],t,r));return this}var h8,ih,c8,Vm=se(()=>{h8={},ih=null;typeof document<"u"&&(c8=document.documentElement,"onmouseenter"in c8||(h8={mouseenter:"mouseover",mouseleave:"mouseout"}))});var Ym=se(()=>{Vm()});var Km=se(()=>{});var _8=se(()=>{Ym();Km()});function lF(){}function ah(e){return e==null?lF:function(){return this.querySelector(e)}}var Zm=se(()=>{});function b8(e){typeof e!="function"&&(e=ah(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=new Array(o),u,v,g=0;g<o;++g)(u=s[g])&&(v=e.call(u,u.__data__,g,s))&&("__data__"in u&&(v.__data__=u.__data__),l[g]=v);return new on(n,this._parents)}var y8=se(()=>{va();Zm()});function uF(){return[]}function Fx(e){return e==null?uF:function(){return this.querySelectorAll(e)}}var Bx=se(()=>{});function x8(e){typeof e!="function"&&(e=Fx(e));for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var o=t[s],l=o.length,u,v=0;v<l;++v)(u=o[v])&&(n.push(e.call(u,u.__data__,v,o)),a.push(u));return new on(n,a)}var w8=se(()=>{va();Bx()});function S8(e){typeof e!="function"&&(e=Ix(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=[],u,v=0;v<o;++v)(u=s[v])&&e.call(u,u.__data__,v,s)&&l.push(u);return new on(n,this._parents)}var C8=se(()=>{va();zx()});function Xm(e){return new Array(e.length)}var Rx=se(()=>{});function E8(){return new on(this._enter||this._groups.map(Xm),this._parents)}function sh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var Ux=se(()=>{Rx();va();sh.prototype={constructor:sh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function M8(e){return function(){return e}}var D8=se(()=>{});function fF(e,t,r,n,a,s){for(var o=0,l,u=t.length,v=s.length;o<v;++o)(l=t[o])?(l.__data__=s[o],n[o]=l):r[o]=new sh(e,s[o]);for(;o<u;++o)(l=t[o])&&(a[o]=l)}function dF(e,t,r,n,a,s,o){var l,u,v={},g=t.length,_=s.length,y=new Array(g),w;for(l=0;l<g;++l)(u=t[l])&&(y[l]=w=A8+o.call(u,u.__data__,l,t),w in v?a[l]=u:v[w]=u);for(l=0;l<_;++l)w=A8+o.call(e,s[l],l,s),(u=v[w])?(n[l]=u,u.__data__=s[l],v[w]=null):r[l]=new sh(e,s[l]);for(l=0;l<g;++l)(u=t[l])&&v[y[l]]===u&&(a[l]=u)}function T8(e,t){if(!e)return w=new Array(this.size()),v=-1,this.each(function(c){w[++v]=c}),w;var r=t?dF:fF,n=this._parents,a=this._groups;typeof e!="function"&&(e=M8(e));for(var s=a.length,o=new Array(s),l=new Array(s),u=new Array(s),v=0;v<s;++v){var g=n[v],_=a[v],y=_.length,w=e.call(g,g&&g.__data__,v,n),x=w.length,f=l[v]=new Array(x),b=o[v]=new Array(x),h=u[v]=new Array(y);r(g,_,f,b,h,w,t);for(var S=0,C=0,M,p;S<x;++S)if(M=f[S]){for(S>=C&&(C=S+1);!(p=b[C])&&++C<x;);M._next=p||null}}return o=new on(o,n),o._enter=l,o._exit=u,o}var A8,L8=se(()=>{va();Ux();D8();A8="$"});function O8(){return new on(this._exit||this._groups.map(Xm),this._parents)}var k8=se(()=>{Rx();va()});function P8(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),l=0;l<s;++l)for(var u=t[l],v=r[l],g=u.length,_=o[l]=new Array(g),y,w=0;w<g;++w)(y=u[w]||v[w])&&(_[w]=y);for(;l<n;++l)o[l]=t[l];return new on(o,this._parents)}var N8=se(()=>{va()});function I8(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],o;--a>=0;)(o=n[a])&&(s&&s!==o.nextSibling&&s.parentNode.insertBefore(o,s),s=o);return this}var z8=se(()=>{});function F8(e){e||(e=cF);function t(_,y){return _&&y?e(_.__data__,y.__data__):!_-!y}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var o=r[s],l=o.length,u=a[s]=new Array(l),v,g=0;g<l;++g)(v=o[g])&&(u[g]=v);u.sort(t)}return new on(a,this._parents).order()}function cF(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var B8=se(()=>{va()});function R8(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var U8=se(()=>{});function W8(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}var j8=se(()=>{});function G8(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null}var H8=se(()=>{});function V8(){var e=0;return this.each(function(){++e}),e}var Y8=se(()=>{});function K8(){return!this.node()}var Z8=se(()=>{});function X8(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}var $8=se(()=>{});function hF(e){return function(){this.removeAttribute(e)}}function pF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mF(e,t){return function(){this.setAttribute(e,t)}}function gF(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function vF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function _F(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Q8(e,t){var r=rh(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?pF:hF:typeof t=="function"?r.local?_F:vF:r.local?gF:mF)(r,t))}var q8=se(()=>{Gm()});function oh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var $m=se(()=>{});function bF(e){return function(){this.style.removeProperty(e)}}function yF(e,t,r){return function(){this.style.setProperty(e,t,r)}}function xF(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function J8(e,t,r){var n;return arguments.length>1?this.each((t==null?bF:typeof t=="function"?xF:yF)(e,t,r??"")):oh(n=this.node()).getComputedStyle(n,null).getPropertyValue(e)}var e6=se(()=>{$m()});function wF(e){return function(){delete this[e]}}function SF(e,t){return function(){this[e]=t}}function CF(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function t6(e,t){return arguments.length>1?this.each((t==null?wF:typeof t=="function"?CF:SF)(e,t)):this.node()[e]}var r6=se(()=>{});function n6(e){return e.trim().split(/^|\s+/)}function Wx(e){return e.classList||new i6(e)}function i6(e){this._node=e,this._names=n6(e.getAttribute("class")||"")}function a6(e,t){for(var r=Wx(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function s6(e,t){for(var r=Wx(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function EF(e){return function(){a6(this,e)}}function MF(e){return function(){s6(this,e)}}function DF(e,t){return function(){(t.apply(this,arguments)?a6:s6)(this,e)}}function o6(e,t){var r=n6(e+"");if(arguments.length<2){for(var n=Wx(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?DF:t?EF:MF)(r,t))}var l6=se(()=>{i6.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function AF(){this.textContent=""}function TF(e){return function(){this.textContent=e}}function LF(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function u6(e){return arguments.length?this.each(e==null?AF:(typeof e=="function"?LF:TF)(e)):this.node().textContent}var f6=se(()=>{});function OF(){this.innerHTML=""}function kF(e){return function(){this.innerHTML=e}}function PF(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function d6(e){return arguments.length?this.each(e==null?OF:(typeof e=="function"?PF:kF)(e)):this.node().innerHTML}var c6=se(()=>{});function NF(){this.nextSibling&&this.parentNode.appendChild(this)}function h6(){return this.each(NF)}var p6=se(()=>{});function IF(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function m6(){return this.each(IF)}var g6=se(()=>{});function v6(e){var t=typeof e=="function"?e:nh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var _6=se(()=>{Hm()});function zF(){return null}function b6(e,t){var r=typeof e=="function"?e:nh(e),n=t==null?zF:typeof t=="function"?t:ah(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var y6=se(()=>{Hm();Zm()});function FF(){var e=this.parentNode;e&&e.removeChild(this)}function x6(){return this.each(FF)}var w6=se(()=>{});function S6(e){return arguments.length?this.property("__data__",e):this.node().__data__}var C6=se(()=>{});function E6(e,t,r){var n=oh(e),a=n.CustomEvent;a?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function BF(e,t){return function(){return E6(this,e,t)}}function RF(e,t){return function(){return E6(this,e,t.apply(this,arguments))}}function M6(e,t){return this.each((typeof t=="function"?RF:BF)(e,t))}var D6=se(()=>{$m()});function on(e,t){this._groups=e,this._parents=t}function UF(){return new on([[document.documentElement]],Qm)}var Qm,va=se(()=>{y8();w8();C8();L8();Ux();k8();N8();z8();B8();U8();j8();H8();Y8();Z8();$8();q8();e6();r6();l6();f6();c6();p6();g6();_6();y6();w6();C6();Vm();D6();Qm=[null];on.prototype=UF.prototype={constructor:on,select:b8,selectAll:x8,filter:S8,data:T8,enter:E8,exit:O8,merge:P8,order:I8,sort:F8,call:R8,nodes:W8,node:G8,size:V8,empty:K8,each:X8,attr:Q8,style:J8,property:t6,classed:o6,text:u6,html:d6,raise:h6,lower:m6,append:v6,insert:b6,remove:x6,datum:S6,on:m8,dispatch:M6}});function jx(e){return typeof e=="string"?new on([[document.querySelector(e)]],[document.documentElement]):new on([[e]],Qm)}var A6=se(()=>{va()});var T6=se(()=>{va()});var L6=se(()=>{Ym();Km()});var O6=se(()=>{Ym();Km()});var k6=se(()=>{Hm();u8();zx();_8();Gm();jm();A6();T6();va();Zm();Bx();L6();O6();$m();Vm()});function iu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var qm=se(()=>{});function _s(e){return e=iu(Math.abs(e)),e?e[1]:NaN}var lh=se(()=>{qm()});function P6(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}var N6=se(()=>{});function I6(e,t){e=e.toPrecision(t);e:for(var r=e.length,n=1,a=-1,s;n<r;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;case"e":break e;default:a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var z6=se(()=>{});function F6(e,t){var r=iu(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Gx=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+iu(e,Math.max(0,t+s-1))[0]}var Gx,Hx=se(()=>{qm()});function Vx(e,t){var r=iu(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var B6=se(()=>{qm()});var Jm,Yx=se(()=>{z6();Hx();B6();Jm={"":I6,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Vx(e*100,t)},r:Vx,s:F6,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}});function bs(e){return new R6(e)}function R6(e){if(!(t=WF.exec(e)))throw new Error("invalid format: "+e);var t,r=t[1]||" ",n=t[2]||">",a=t[3]||"-",s=t[4]||"",o=!!t[5],l=t[6]&&+t[6],u=!!t[7],v=t[8]&&+t[8].slice(1),g=t[9]||"";g==="n"?(u=!0,g="g"):Jm[g]||(g=""),(o||r==="0"&&n==="=")&&(o=!0,r="0",n="="),this.fill=r,this.align=n,this.sign=a,this.symbol=s,this.zero=o,this.width=l,this.comma=u,this.precision=v,this.type=g}var WF,Kx=se(()=>{Yx();WF=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;R6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type}});function jF(e){return e}function au(e){var t=e.grouping&&e.thousands?P6(e.grouping,e.thousands):jF,r=e.currency,n=e.decimal;function a(o){o=bs(o);var l=o.fill,u=o.align,v=o.sign,g=o.symbol,_=o.zero,y=o.width,w=o.comma,x=o.precision,f=o.type,b=g==="$"?r[0]:g==="#"&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",h=g==="$"?r[1]:/[%p]/.test(f)?"%":"",S=Jm[f],C=!f||/[defgprs%]/.test(f);x=x==null?f?6:12:/[gprs]/.test(f)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function M(p){var c=b,E=h,D,I,O;if(f==="c")E=S(p)+E,p="";else{p=+p;var P=(p<0||1/p<0)&&(p*=-1,!0);if(p=S(p,x),P){for(D=-1,I=p.length,P=!1;++D<I;)if(O=p.charCodeAt(D),48<O&&O<58||f==="x"&&96<O&&O<103||f==="X"&&64<O&&O<71){P=!0;break}}if(c=(P?v==="("?v:"-":v==="-"||v==="("?"":v)+c,E=E+(f==="s"?U6[8+Gx/3]:"")+(P&&v==="("?")":""),C){for(D=-1,I=p.length;++D<I;)if(O=p.charCodeAt(D),48>O||O>57){E=(O===46?n+p.slice(D+1):p.slice(D))+E,p=p.slice(0,D);break}}}w&&!_&&(p=t(p,1/0));var k=c.length+p.length+E.length,B=k<y?new Array(y-k+1).join(l):"";switch(w&&_&&(p=t(B+p,B.length?y-E.length:1/0),B=""),u){case"<":return c+p+E+B;case"=":return c+B+p+E;case"^":return B.slice(0,k=B.length>>1)+c+p+E+B.slice(k)}return B+c+p+E}return M.toString=function(){return o+""},M}function s(o,l){var u=a((o=bs(o),o.type="f",o)),v=Math.max(-8,Math.min(8,Math.floor(_s(l)/3)))*3,g=Math.pow(10,-v),_=U6[8+v/3];return function(y){return u(g*y)+_}}return{format:a,formatPrefix:s}}var U6,Zx=se(()=>{lh();N6();Kx();Yx();Hx();U6=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function Xx(e){return eg=au(e),su=eg.format,Pf=eg.formatPrefix,eg}var eg,su,Pf,W6=se(()=>{Zx();Xx({decimal:".",thousands:",",grouping:[3],currency:["$",""]})});function $x(e){return Math.max(0,-_s(Math.abs(e)))}var j6=se(()=>{lh()});function Qx(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_s(t)/3)))*3-_s(Math.abs(e)))}var G6=se(()=>{lh()});function qx(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_s(t)-_s(e))+1}var H6=se(()=>{lh()});var tg=se(()=>{W6();Zx();Kx();j6();G6();H6()});function Y6(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new rg(r)}function rg(e){this._=e}function HF(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function VF(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function V6(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=GF,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var GF,uh,K6=se(()=>{GF={value:function(){}};rg.prototype=Y6.prototype={constructor:rg,on:function(e,t){var r=this._,n=HF(e+"",r),a,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((a=(e=n[s]).type)&&(a=VF(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=n[s]).type)r[a]=V6(r[a],e.name,t);else if(t==null)for(a in r)r[a]=V6(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new rg(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};uh=Y6});var Z6=se(()=>{K6()});function ro(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var ou=se(()=>{});function ng(e){return e.length===1&&(e=YF(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)<0?n=s+1:a=s}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)>0?a=s:n=s+1}return n}}}function YF(e){return function(t,r){return ro(e(t),r)}}var Jx=se(()=>{ou()});var X6,$6,KF,lu,ew=se(()=>{ou();Jx();X6=ng(ro),$6=X6.right,KF=X6.left,lu=$6});var Q6=se(()=>{});var Nf=se(()=>{});var tw=se(()=>{Nf()});var rw=se(()=>{tw()});var nw=se(()=>{});var q6,XF,$F,iw=se(()=>{q6=Array.prototype,XF=q6.slice,$F=q6.map});var J6=se(()=>{});var eL=se(()=>{});function ag(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}var aw=se(()=>{});function fh(e,t,r){var n=$o(e,t,r);return ag(Math.ceil(e/n)*n,Math.floor(t/n)*n+n/2,n)}function $o(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=QF?a*=10:s>=qF?a*=5:s>=JF&&(a*=2),t<e?-a:a}var QF,qF,JF,sw=se(()=>{aw();QF=Math.sqrt(50),qF=Math.sqrt(10),JF=Math.sqrt(2)});var ow=se(()=>{});var tL=se(()=>{iw();ew();J6();nw();eL();sw();ow()});var sg=se(()=>{Nf()});var rL=se(()=>{iw();ou();Nf();sg()});var nL=se(()=>{rw()});function If(e,t){var r=-1,n=e.length,a,s;if(t==null){for(;++r<n;)if((s=e[r])!=null&&s>=s){a=s;break}for(;++r<n;)(s=e[r])!=null&&s>a&&(a=s)}else{for(;++r<n;)if((s=t(e[r],r,e))!=null&&s>=s){a=s;break}for(;++r<n;)(s=t(e[r],r,e))!=null&&s>a&&(a=s)}return a}var iL=se(()=>{});var aL=se(()=>{Nf()});var sL=se(()=>{ou();Nf();sg()});var oL=se(()=>{});var uw=se(()=>{});var lL=se(()=>{});var uL=se(()=>{});var fL=se(()=>{ou()});var dL=se(()=>{});function zf(e,t){var r=0,n=e.length,a,s=-1;if(t==null)for(;++s<n;)(a=+e[s])&&(r+=a);else for(;++s<n;)(a=+t(e[s],s,e))&&(r+=a);return r}var cL=se(()=>{});var fw=se(()=>{uw()});var hL=se(()=>{fw()});var Ka=se(()=>{ew();ou();Jx();Q6();rw();nw();tL();rL();nL();ow();iL();aL();sL();oL();uw();lL();uL();sg();aw();fL();dL();cL();sw();fw();tw();hL()});var pL,og,uu,Qo=se(()=>{pL=Array.prototype,og=pL.map,uu=pL.slice});var dw=se(()=>{wf();Qo()});var mL=se(()=>{Ka();dw()});function lg(e){return function(){return e}}var ug=se(()=>{});function cw(e){return+e}var hw=se(()=>{});function fg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lg(t)}function sB(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=t?0:a>=r?1:n(a)}}}function oB(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=0?t:a>=1?r:n(a)}}}function lB(e,t,r,n){var a=e[0],s=e[1],o=t[0],l=t[1];return s<a?(a=r(s,a),o=n(l,o)):(a=r(a,s),o=n(o,l)),function(u){return o(a(u))}}function uB(e,t,r,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),o=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=r(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var v=lu(e,u,1,a)-1;return o[v](s[v](u))}}function dh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function Ff(e,t){var r=gL,n=gL,a=Js,s=!1,o,l,u;function v(){return o=Math.min(r.length,n.length)>2?uB:lB,l=u=null,g}function g(_){return(l||(l=o(r,n,s?sB(e):e,a)))(+_)}return g.invert=function(_){return(u||(u=o(n,r,fg,s?oB(t):t)))(+_)},g.domain=function(_){return arguments.length?(r=og.call(_,cw),v()):r.slice()},g.range=function(_){return arguments.length?(n=uu.call(_),v()):n.slice()},g.rangeRound=function(_){return n=uu.call(_),a=Lc,v()},g.clamp=function(_){return arguments.length?(s=!!_,v()):s},g.interpolate=function(_){return arguments.length?(a=_,v()):a},v()}var gL,ch=se(()=>{Ka();ps();Qo();ug();hw();gL=[0,1]});function vL(e,t,r){var n=e[0],a=e[e.length-1],s=$o(n,a,t??10),o;switch(r=bs(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(n),Math.abs(a));return r.precision==null&&!isNaN(o=Qx(s,l))&&(r.precision=o),Pf(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=qx(s,Math.max(Math.abs(n),Math.abs(a))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$x(s))&&(r.precision=o-(r.type==="%")*2);break}}return su(r)}var _L=se(()=>{Ka();tg()});function hh(e){var t=e.domain;return e.ticks=function(r){var n=t();return fh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){return vL(t(),r,n)},e.nice=function(r){var n=t(),a=n.length-1,s=r??10,o=n[0],l=n[a],u=$o(o,l,s);return u&&(u=$o(Math.floor(o/u)*u,Math.ceil(l/u)*u,s),n[0]=Math.floor(o/u)*u,n[a]=Math.ceil(l/u)*u,t(n)),e},e}function fu(){var e=Ff(fg,Dn);return e.copy=function(){return dh(e,fu())},hh(e)}var Bf=se(()=>{Ka();ps();ch();_L()});var bL=se(()=>{Qo();Bf();hw()});var pw=se(()=>{});var yL=se(()=>{Ka();tg();ug();pw();ch()});var xL=se(()=>{ug();Bf();ch()});var wL=se(()=>{Ka();Qo()});var SL=se(()=>{Ka();Qo();Bf()});var CL=se(()=>{Ka();Qo()});var dB,cB,hB,mw,nle,ile,ale,gw=se(()=>{Ka();Qo();ch();pw();dB=1e3,cB=dB*60,hB=cB*60,mw=hB*24,nle=mw*7,ile=mw*30,ale=mw*365});var EL=se(()=>{gw()});function qi(e){return e.match(/.{6}/g).map(function(t){return"#"+t})}var Rf=se(()=>{});var pB,ML=se(()=>{Rf();pB=qi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var mB,DL=se(()=>{Rf();mB=qi("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")});var gB,AL=se(()=>{Rf();gB=qi("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")});var vB,TL=se(()=>{Rf();vB=qi("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")});var _B,LL=se(()=>{jo();ps();_B=vf(gi(300,.5,0),gi(-240,.5,1))});var bB,yB,Cle,OL=se(()=>{jo();ps();bB=vf(gi(-100,.75,.35),gi(80,1.5,.8)),yB=vf(gi(260,.75,.35),gi(80,1.5,.8)),Cle=gi()});function dg(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var xB,wB,SB,CB,kL=se(()=>{Rf();xB=dg(qi("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),wB=dg(qi("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),SB=dg(qi("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),CB=dg(qi("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var PL=se(()=>{Bf()});var NL=se(()=>{mL();bL();Bf();yL();dw();xL();wL();SL();CL();gw();EL();ML();DL();AL();TL();LL();OL();kL();PL()});function PB(){var e=fu(),t="rect",r=15,n=15,a=10,s=2,o=[5],l=void 0,u=[],v="",g=!1,_="",y=Pr.d3_defaultLocale,w=Pr.d3_defaultFormatSpecifier,x=10,f="middle",b=Pr.d3_defaultDelimiter,h=void 0,S="vertical",C=!1,M=void 0,p=void 0,c=uh("cellover","cellout","cellclick");function E(D){var I=Pr.d3_calcType(e,C,o,u,y.format(w),b),O=D.selectAll("g").data([e]);O.enter().append("g").attr("class",v+"legendCells"),l&&Pr.d3_filterCells(I,l);var P=D.select("."+v+"legendCells").selectAll("."+v+"cell").data(I.data),k=P.enter().append("g").attr("class",v+"cell");k.append(t).attr("class",v+"swatch");var B=D.selectAll("g."+v+"cell "+t+"."+v+"swatch").data(I.data);Pr.d3_addEvents(k,c),P.exit().transition().style("opacity",0).remove(),B.exit().transition().style("opacity",0).remove(),B=B.merge(B),Pr.d3_drawShapes(t,B,n,r,a,M);var G=Pr.d3_addText(D,k,I.labels,v,h);P=k.merge(P);var K=G.nodes().map(function(V){return V.getBBox()}),q=B.nodes().map(function(V){return V.getBBox()});g?B.attr("class",function(V){return v+"swatch "+I.feature(V)}):t=="line"?B.style("stroke",I.feature):B.style("fill",I.feature);var H=void 0,$=void 0,W=f=="start"?0:f=="middle"?.5:1;S==="vertical"?function(){var V=K.map(function(Z,Q){return Math.max(Z.height,q[Q].height)});H=function(Q,ie){var Ce=zf(V.slice(0,ie));return"translate(0, "+(Ce+ie*s)+")"},$=function(Q,ie){return"translate( "+(q[ie].width+q[ie].x+x)+", "+(q[ie].y+q[ie].height/2+5)+")"}}():S==="horizontal"&&(H=function(Z,Q){return"translate("+Q*(q[Q].width+s)+",0)"},$=function(Z,Q){return"translate("+(q[Q].width*W+q[Q].x)+`,
          `+(q[Q].height+q[Q].y+x+8)+")"}),Pr.d3_placement(S,P,H,G,$,f),Pr.d3_title(D,_,v,p),P.transition().style("opacity",1)}return E.scale=function(D){return arguments.length?(e=D,E):e},E.cells=function(D){return arguments.length?((D.length>1||D>=2)&&(o=D),E):o},E.cellFilter=function(D){return arguments.length?(l=D,E):l},E.shape=function(D,I){return arguments.length?((D=="rect"||D=="circle"||D=="line"||D=="path"&&typeof I=="string")&&(t=D,M=I),E):t},E.shapeWidth=function(D){return arguments.length?(r=+D,E):r},E.shapeHeight=function(D){return arguments.length?(n=+D,E):n},E.shapeRadius=function(D){return arguments.length?(a=+D,E):a},E.shapePadding=function(D){return arguments.length?(s=+D,E):s},E.labels=function(D){return arguments.length?(u=D,E):u},E.labelAlign=function(D){return arguments.length?((D=="start"||D=="end"||D=="middle")&&(f=D),E):f},E.locale=function(D){return arguments.length?(y=au(D),E):y},E.labelFormat=function(D){return arguments.length?(w=bs(D),E):E.locale().format(w)},E.labelOffset=function(D){return arguments.length?(x=+D,E):x},E.labelDelimiter=function(D){return arguments.length?(b=D,E):b},E.labelWrap=function(D){return arguments.length?(h=D,E):h},E.useClass=function(D){return arguments.length?((D===!0||D===!1)&&(g=D),E):g},E.orient=function(D){return arguments.length?(D=D.toLowerCase(),(D=="horizontal"||D=="vertical")&&(S=D),E):S},E.ascending=function(D){return arguments.length?(C=!!D,E):C},E.classPrefix=function(D){return arguments.length?(v=D,E):v},E.title=function(D){return arguments.length?(_=D,E):_},E.titleWidth=function(D){return arguments.length?(p=D,E):p},E.textWrap=function(D){return arguments.length?(textWrap=D,E):textWrap},E.on=function(){var D=c.on.apply(c,arguments);return D===c?E:D},E}function NB(){var e=fu(),t="rect",r=15,n=2,a=[5],s=void 0,o=[],l="",u="",v=Pr.d3_defaultLocale,g=Pr.d3_defaultFormatSpecifier,_=10,y="middle",w=Pr.d3_defaultDelimiter,x=void 0,f="vertical",b=!1,h=void 0,S=void 0,C=uh("cellover","cellout","cellclick");function M(p){var c=Pr.d3_calcType(e,b,a,o,v.format(g),w),E=p.selectAll("g").data([e]);s&&Pr.d3_filterCells(c,s),E.enter().append("g").attr("class",l+"legendCells");var D=p.select("."+l+"legendCells").selectAll("."+l+"cell").data(c.data),I=D.enter().append("g").attr("class",l+"cell");I.append(t).attr("class",l+"swatch");var O=p.selectAll("g."+l+"cell "+t+"."+l+"swatch");Pr.d3_addEvents(I,C),D.exit().transition().style("opacity",0).remove(),O.exit().transition().style("opacity",0).remove(),O=O.merge(O),t==="line"?(Pr.d3_drawShapes(t,O,0,r),O.attr("stroke-width",c.feature)):Pr.d3_drawShapes(t,O,c.feature,c.feature,c.feature,h);var P=Pr.d3_addText(p,I,c.labels,l,x);D=I.merge(D);var k=P.nodes().map(function(W){return W.getBBox()}),B=O.nodes().map(function(W,V){var Z=W.getBBox(),Q=e(c.data[V]);return t==="line"&&f==="horizontal"?Z.height=Z.height+Q:t==="line"&&f==="vertical"&&(Z.width=Z.width),Z}),G=If(B,function(W){return W.height+W.y}),K=If(B,function(W){return W.width+W.x}),q=void 0,H=void 0,$=y=="start"?0:y=="middle"?.5:1;f==="vertical"?function(){var W=k.map(function(Z,Q){return Math.max(Z.height,B[Q].height)}),V=t=="circle"||t=="line"?B[0].height/2:0;q=function(Q,ie){var Ce=zf(W.slice(0,ie));return"translate(0, "+(V+Ce+ie*n)+")"},H=function(Q,ie){return"translate( "+(K+_)+`,
          `+(B[ie].y+B[ie].height/2+5)+")"}}():f==="horizontal"&&function(){q=function(Z,Q){var ie=zf(B.slice(0,Q),function(De){return De.width}),Ce=t=="circle"||t=="line"?G/2:0;return"translate("+(ie+Q*n)+", "+Ce+")"};var W=t=="line"?G/2:G;H=function(Z,Q){return"translate( "+(B[Q].width*$+B[Q].x)+`,
              `+(W+_)+")"}}(),Pr.d3_placement(f,D,q,P,H,y),Pr.d3_title(p,u,l,S),D.transition().style("opacity",1)}return M.scale=function(p){return arguments.length?(e=p,M):e},M.cells=function(p){return arguments.length?((p.length>1||p>=2)&&(a=p),M):a},M.cellFilter=function(p){return arguments.length?(s=p,M):s},M.shape=function(p,c){return arguments.length?((p=="rect"||p=="circle"||p=="line")&&(t=p,h=c),M):t},M.shapeWidth=function(p){return arguments.length?(r=+p,M):r},M.shapePadding=function(p){return arguments.length?(n=+p,M):n},M.labels=function(p){return arguments.length?(o=p,M):o},M.labelAlign=function(p){return arguments.length?((p=="start"||p=="end"||p=="middle")&&(y=p),M):y},M.locale=function(p){return arguments.length?(v=au(p),M):v},M.labelFormat=function(p){return arguments.length?(g=bs(p),M):M.locale().format(g)},M.labelOffset=function(p){return arguments.length?(_=+p,M):_},M.labelDelimiter=function(p){return arguments.length?(w=p,M):w},M.labelWrap=function(p){return arguments.length?(x=p,M):x},M.orient=function(p){return arguments.length?(p=p.toLowerCase(),(p=="horizontal"||p=="vertical")&&(f=p),M):f},M.ascending=function(p){return arguments.length?(b=!!p,M):b},M.classPrefix=function(p){return arguments.length?(l=p,M):l},M.title=function(p){return arguments.length?(u=p,M):u},M.titleWidth=function(p){return arguments.length?(S=p,M):S},M.on=function(){var p=C.on.apply(C,arguments);return p===C?M:p},M}function IB(){var e=fu(),t="path",r=15,n=15,a=10,s=5,o=[5],l=void 0,u=[],v="",g="",_=Pr.d3_defaultLocale,y=Pr.d3_defaultFormatSpecifier,w="middle",x=10,f=Pr.d3_defaultDelimiter,b=void 0,h="vertical",S=!1,C=void 0,M=uh("cellover","cellout","cellclick");function p(c){var E=Pr.d3_calcType(e,S,o,u,_.format(y),f),D=c.selectAll("g").data([e]);l&&Pr.d3_filterCells(E,l),D.enter().append("g").attr("class",v+"legendCells");var I=c.select("."+v+"legendCells").selectAll("."+v+"cell").data(E.data),O=I.enter().append("g").attr("class",v+"cell");O.append(t).attr("class",v+"swatch");var P=c.selectAll("g."+v+"cell "+t+"."+v+"swatch");Pr.d3_addEvents(O,M),I.exit().transition().style("opacity",0).remove(),P.exit().transition().style("opacity",0).remove(),P=P.merge(P),Pr.d3_drawShapes(t,P,n,r,a,E.feature);var k=Pr.d3_addText(c,O,E.labels,v,b);I=O.merge(I);var B=k.nodes().map(function(V){return V.getBBox()}),G=P.nodes().map(function(V){return V.getBBox()}),K=If(G,function(V){return V.height}),q=If(G,function(V){return V.width}),H=void 0,$=void 0,W=w=="start"?0:w=="middle"?.5:1;h==="vertical"?function(){var V=B.map(function(Z,Q){return Math.max(K,Z.height)});H=function(Q,ie){var Ce=zf(V.slice(0,ie));return"translate(0, "+(Ce+ie*s)+" )"},$=function(Q,ie){return"translate( "+(q+x)+`,
              `+(G[ie].y+G[ie].height/2+5)+")"}}():h==="horizontal"&&(H=function(Z,Q){return"translate( "+Q*(q+s)+",0)"},$=function(Z,Q){return"translate( "+(G[Q].width*W+G[Q].x)+`,
              `+(K+x)+")"}),Pr.d3_placement(h,I,H,k,$,w),Pr.d3_title(c,g,v,C),I.transition().style("opacity",1)}return p.scale=function(c){return arguments.length?(e=c,p):e},p.cells=function(c){return arguments.length?((c.length>1||c>=2)&&(o=c),p):o},p.cellFilter=function(c){return arguments.length?(l=c,p):l},p.shapePadding=function(c){return arguments.length?(s=+c,p):s},p.labels=function(c){return arguments.length?(u=c,p):u},p.labelAlign=function(c){return arguments.length?((c=="start"||c=="end"||c=="middle")&&(w=c),p):w},p.locale=function(c){return arguments.length?(_=au(c),p):_},p.labelFormat=function(c){return arguments.length?(y=bs(c),p):p.locale().format(y)},p.labelOffset=function(c){return arguments.length?(x=+c,p):x},p.labelDelimiter=function(c){return arguments.length?(f=c,p):f},p.labelWrap=function(c){return arguments.length?(b=c,p):b},p.orient=function(c){return arguments.length?(c=c.toLowerCase(),(c=="horizontal"||c=="vertical")&&(h=c),p):h},p.ascending=function(c){return arguments.length?(S=!!c,p):S},p.classPrefix=function(c){return arguments.length?(v=c,p):v},p.title=function(c){return arguments.length?(g=c,p):g},p.titleWidth=function(c){return arguments.length?(C=c,p):C},p.on=function(){var c=M.on.apply(M,arguments);return c===M?p:c},p}var EB,FL,IL,zL,MB,DB,AB,TB,LB,OB,kB,Pr,zB,FB,BB,BL,cg=se(()=>{k6();tg();Z6();NL();Ka();EB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FL=function(t){return t},IL=function(t){for(var r=[],n=0,a=t.length;n<a;n++)r[n]=t[a-n-1];return r},zL=function(t,r){t.each(function(){for(var n=jx(this),a=n.text().split(/\s+/).reverse(),s,o=[],l=0,u=1.2,v=n.attr("y"),g=parseFloat(n.attr("dy"))||0,_=n.text(null).append("tspan").attr("x",0).attr("dy",g+"em");s=a.pop();)o.push(s),_.text(o.join(" ")),_.node().getComputedTextLength()>r&&o.length>1&&(o.pop(),_.text(o.join(" ")),o=[s],_=n.append("tspan").attr("x",0).attr("dy",u+g+"em").text(s))})},MB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments[1],n=arguments[2],a=arguments[3],s=arguments[4];if((typeof r>"u"?"undefined":EB(r))==="object"){if(r.length===0)return t;for(var o=r.length;o<t.length;o++)r.push(t[o]);return r}else if(typeof r=="function"){for(var l=[],u=t.length,v=0;v<u;v++)l.push(r({i:v,genLength:u,generatedLabels:t,domain:n,range:a,labelDelimiter:s}));return l}return t},DB=function(t,r,n){var a=[];if(r.length>1)a=r;else for(var s=t.domain(),o=(s[s.length-1]-s[0])/(r-1),l=0;l<r;l++)a.push(s[0]+l*o);var u=a.map(n);return{data:a,labels:u,feature:function(g){return t(g)}}},AB=function(t,r,n){var a=t.range().map(function(s){var o=t.invertExtent(s);return r(o[0])+" "+n+" "+r(o[1])});return{data:t.range(),labels:a,feature:FL}},TB=function(t){return{data:t.domain(),labels:t.domain(),feature:function(n){return t(n)}}},LB=function(t,r,n){t.call("cellover",n,r)},OB=function(t,r,n){t.call("cellout",n,r)},kB=function(t,r,n){t.call("cellclick",n,r)},Pr={d3_drawShapes:function(t,r,n,a,s,o){t==="rect"?r.attr("height",n).attr("width",a):t==="circle"?r.attr("r",s):t==="line"?r.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&r.attr("d",o)},d3_addText:function(t,r,n,a,s){r.append("text").attr("class",a+"label");var o=t.selectAll("g."+a+"cell text."+a+"label").data(n).text(FL);return s&&t.selectAll("g."+a+"cell text."+a+"label").call(zL,s),o},d3_calcType:function(t,r,n,a,s,o){var l=t.invertExtent?AB(t,s,o):t.ticks?DB(t,n,s):TB(t),u=t.range&&t.range()||t.domain();return l.labels=MB(l.labels,a,t.domain(),u,o),r&&(l.labels=IL(l.labels),l.data=IL(l.data)),l},d3_filterCells:function(t,r){var n=t.data.map(function(o,l){return{data:o,label:t.labels[l]}}).filter(r),a=n.map(function(o){return o.data}),s=n.map(function(o){return o.label});return t.data=t.data.filter(function(o){return a.indexOf(o)!==-1}),t.labels=t.labels.filter(function(o){return s.indexOf(o)!==-1}),t},d3_placement:function(t,r,n,a,s,o){r.attr("transform",n),a.attr("transform",s),t==="horizontal"&&a.style("text-anchor",o)},d3_addEvents:function(t,r){t.on("mouseover.legend",function(n){LB(r,n,this)}).on("mouseout.legend",function(n){OB(r,n,this)}).on("click.legend",function(n){kB(r,n,this)})},d3_title:function(t,r,n,a){if(r!==""){var s=t.selectAll("text."+n+"legendTitle");s.data([r]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(r),a&&t.selectAll("text."+n+"legendTitle").call(zL,a);var o=t.select("."+n+"legendCells"),l=t.select("."+n+"legendTitle").nodes().map(function(v){return v.getBBox().height})[0],u=-o.nodes().map(function(v){return v.getBBox().x})[0];o.attr("transform","translate("+u+","+l+")")}},d3_defaultLocale:{format:su,formatPrefix:Pf},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};zB=function(t){var r=t.i,n=t.genLength,a=t.generatedLabels,s=t.labelDelimiter;if(r===0){var o=a[r].split(" "+s+" ");return"Less than "+o[1]}else if(r===n-1){var l=a[r].split(" "+s+" ");return l[0]+" or more"}return a[r]},FB={thresholdLabels:zB},BB={legendColor:PB,legendSize:NB,legendSymbol:IB,legendHelpers:FB},BL=BB});var RL=Pn((gue,hg)=>{(function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),n=r&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,s=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,o=(r||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(l){var u,v,g,_,y,w,x,f,b;if(u=l.match(s),!u)throw new Error("invalid data URI");for(v=u[2]?u[1]:"text/plain"+(u[3]||";charset=US-ASCII"),g=!!u[4],_=l.slice(u[0].length),g?y=atob(_):y=decodeURIComponent(_),w=new ArrayBuffer(y.length),x=new Uint8Array(w),f=0;f<y.length;f+=1)x[f]=y.charCodeAt(f);return r?new Blob([n?x:w],{type:v}):(b=new a,b.append(w),b.getBlob(v))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(l,u,v){var g=this;setTimeout(function(){v&&t.toDataURL&&o?l(o(g.toDataURL(u,v))):l(g.mozGetAsFile("blob",u))})}:t.toDataURL&&o&&(t.msToBlob?t.toBlob=function(l,u,v){var g=this;setTimeout(function(){(u&&u!=="image/png"||v)&&t.toDataURL&&o?l(o(g.toDataURL(u,v))):l(g.msToBlob(u))})}:t.toBlob=function(l,u,v){var g=this;setTimeout(function(){l(o(g.toDataURL(u,v)))})})),typeof define=="function"&&define.amd?define(function(){return o}):typeof hg=="object"&&hg.exports?hg.exports=o:e.dataURLtoBlob=o})(window)});var Uf=Pn((vw,_w)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof vw<"u"?t():(t(),e.FileSaver={})})(vw,function(){"use strict";function e(l,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function t(l,u,v){var g=new XMLHttpRequest;g.open("GET",l),g.responseType="blob",g.onload=function(){o(g.response,u,v)},g.onerror=function(){console.error("could not download file")},g.send()}function r(l){var u=new XMLHttpRequest;u.open("HEAD",l,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function n(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(l,u,v){var g=a.URL||a.webkitURL,_=document.createElement("a");u=u||l.name||"download",_.download=u,_.rel="noopener",typeof l=="string"?(_.href=l,_.origin===location.origin?n(_):r(_.href)?t(l,u,v):n(_,_.target="_blank")):(_.href=g.createObjectURL(l),setTimeout(function(){g.revokeObjectURL(_.href)},4e4),setTimeout(function(){n(_)},0))}:"msSaveOrOpenBlob"in navigator?function(l,u,v){if(u=u||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(e(l,v),u);else if(r(l))t(l,u,v);else{var g=document.createElement("a");g.href=l,g.target="_blank",setTimeout(function(){n(g)})}}:function(l,u,v,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof l=="string")return t(l,u,v);var _=l.type==="application/octet-stream",y=/constructor/i.test(a.HTMLElement)||a.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||_&&y||s)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var h=x.result;h=w?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=h:location=h,g=null},x.readAsDataURL(l)}else{var f=a.URL||a.webkitURL,b=f.createObjectURL(l);g?g.location=b:location.href=b,g=null,setTimeout(function(){f.revokeObjectURL(b)},4e4)}});a.saveAs=o.saveAs=o,typeof _w<"u"&&(_w.exports=o)})});function UB(e,t){var r="!important;",n="position:absolute"+r+"visibility:hidden"+r+"width:1em"+r+"font-size:1em"+r+"padding:0"+r,a;t||(t=a=e.createElement("body"),a.style.cssText="font-size:1em"+r,t.insertAfter(a,e.body));var s=e.createElement("i");s.style.cssText=n,t.appendChild(s);var o=s.clientWidth;return a?t.removeChild(a):t.removeChild(s),o}function Wf(e,t=RB){let r=Object.assign({},t,e);r.em_size=UB(document,document.documentElement),r.margin.left=r.em_size*r.margin_scaler,r.margin.right=r.em_size*r.margin_scaler,r.margin.top=r.em_size*r.margin_scaler,r.margin.bottom=r.em_size*r.margin_scaler,Qr(r.parent).select("svg").remove(),r.svg=Qr(r.parent).append("svg").attr("id",r.id||"chart").attr("width",r.width).attr("height",r.height),r.svg.style("text-rendering","optimizeLegibility").style("shape-rendering","default").style("font-family","sans-serif"),r.download_buttons&&(r.key_panel=!0),r.key_panel&&(r.chartType==="line"?r.container_width=r.container_width*.9:r.container_height=r.container_height-r.container_height*.2),r.container_width<r.margin.left+r.margin.right&&(r.container_width=r.margin.left+r.margin.right+r.em_size),r.assignment_ribbon&&(r.container_height=r.container_height-r.container_height*.1);let n=r.margin.top,a=0;r.annotation_sets&&(n=r.em_size*5,a=r.em_size*3);let s=0,o=r.container_height-r.margin.bottom;r.chartType,s=r.width-r.margin.right-r.em_size*4,o=r.margin.top,r.chartType==="annotationGrid"&&(s=0,o=r.container_height);let l=r.container_width-r.em_size*10,u=r.container_height-r.margin.bottom;return r.chartType,l=r.width-10*r.em_size,u=r.height-10*r.em_size,r.chartType==="annotationGrid"&&(l=r.width-r.margin.right-r.em_size*10,u=r.container_height),r.container=r.svg.append("g").attr("id","container").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.height-r.margin.top-r.margin.bottom).attr("transform","translate("+[r.margin.left,n]+")"),r.axes=r.svg.append("g").attr("id","axes").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[0,a]+")"),r.key=r.svg.append("g").attr("id","key").attr("width",r.width*.2-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[s,o]+")"),r.buttons=r.svg.append("g").attr("id","buttons").attr("width",r.width*.2-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[l,u]+")"),r.ribbon=r.svg.append("g").attr("id","ribbon").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.margin.top).attr("transform","translate("+[r.margin.left,0]+")"),r.annotationToggle=r.svg.append("g").attr("id","toggle").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.margin.top).attr("transform","translate("+[r.margin.left/2,n/3]+")"),r}function jL(e){console.log("parent: "+e.parent),console.log("emsize: "+e.em_size),console.log("width: "+e.width),console.log("height: "+e.height),console.log("container_width: "+e.container_width),console.log("container_height: "+e.container_height),console.log("margin scaler: "+e.margin_scaler),console.log("margin.left: "+e.margin.left),console.log("margin.right: "+e.margin.right),console.log("margin.top: "+e.margin.top),console.log("margin.bottom: "+e.margin.bottom)}function WB(e){e.setAttribute("xlink","http://www.w3.org/1999/xlink");var t=a(e);s(t,e);var r=new XMLSerializer,n=r.serializeToString(e);return n=n.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),n=n.replace(/NS\d+:href/g,"xlink:href"),n;function a(o){var l=[];l.push("#"+o.id);for(var u=0;u<o.classList.length;u++)h("."+o.classList[u],l)||l.push("."+o.classList[u]);for(var v=o.getElementsByTagName("*"),g=0;g<v.length;g++){var _=v[g].id;h("#"+_,l)||l.push("#"+_);var y=v[g].classList;for(let S=0;S<y.length;S++)h("."+y[S],l)||l.push("."+y[S])}var w="";for(let S=0;S<document.styleSheets.length;S++){var x=document.styleSheets[S];try{if(!x.cssRules)continue}catch(C){if(C.name!=="SecurityError")throw C;continue}for(var f=x.cssRules,b=0;b<f.length;b++)h(f[b].selectorText,l)&&(w+=f[b].cssText)}return w;function h(S,C){return C.indexOf(S)!==-1}}function s(o,l){var u=document.createElement("style");u.setAttribute("type","text/css"),u.innerHTML=o;var v=l.hasChildNodes()?l.children[0]:null;l.insertBefore(u,v)}}function jB(e,t,r,n,a){n=n||"png";var s="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),o=document.createElement("canvas"),l=o.getContext("2d");o.width=t,o.height=r;var u=new Image;u.onload=function(){l.clearRect(0,0,t,r),l.drawImage(u,0,0,t,r),o.toBlob(function(v){var g=Math.round(v.length/1024)+" KB";a&&a(v,g)})},u.src=s}function GB(e){try{let n=!!new Blob}catch{alert("blob not supported. Can't save file from the browser you are using")}console.log(e);let t=Qr("#"+e).attr("title",e).attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML;console.log(t),t=t.substring(t.indexOf("<svg")),t=t.replace(/<g id="toggle".+?<\/g>/,""),t=t.replace(/<g id="buttons".+?<\/g>/,"");let r=new Blob([t],{type:"image/svg+xml"});WL.saveAs(r,e+".svg")}function no(e,t,r,n,a="buttons",s=0,o=0){let l=n+s,u=0+o;e[a].append("rect").attr("x",l).attr("y",u).attr("id",t+r+"Button").attr("width",e.em_size*4.5).attr("height",e.em_size*2).attr("class",r+"button").on("mouseover",function(){Qr("#"+t+r+"Button").attr("fill","").classed("active",!0),Qr("#"+t+r+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(){Qr("#"+t+r+"Button").classed("active",!1),Qr("#"+t+r+"Text").classed("active",!1)}),e[a].append("text").attr("id",t+r+"Text").attr("class","buttonText").attr("x",e.em_size/2+l).attr("y",e.em_size+u).attr("dy",".35em").text("Get "+r.toUpperCase()).on("mouseover",function(){Qr("#"+t+r+"Button").attr("fill","").classed("active",!0),Qr("#"+t+r+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(){Qr("#"+t+r+"Button").classed("active",!1),Qr("#"+t+r+"Text").classed("active",!1)})}function jf(e,t){UL(e,"Button",t),UL(e,"Text",t)}function UL(e,t,r){console.log(r),Qr("#"+r+"png"+t).on("click",function(){var n=WB(e.svg.node());console.log(n),n=n.replace(/<g id="toggle".+?<\/g>/,""),n=n.replace(/<g id="buttons".+?<\/g>/,""),jB(n,2*e.width,2*e.height,"png",a);function a(s,o){WL.saveAs(s,r+".png")}}),Qr("#"+r+"svg"+t).on("click",function(){GB(r)})}function GL(e,t,r){var n=1;return r&&(n=-1),e.sort(function(a,s){var o=a[t],l=s[t];return n*(o<l?-1:o>l?1:0)})}function pg(e,t){let r=[];return Object.keys(e).forEach(function(n){r.push(e[n][t])}),r}function du(e,t){let r=[];for(var n=e;n<=t;n++)r.push(n);return r}var WL,RB,Yn=se(()=>{ha();th();RL();WL=Uf(),RB={chartType:!1,em_size:!1,width:window.innerWidth,height:window.innerHeight,container_width:window.innerWidth,container_height:window.innerHeight,parent:"body",key_panel:!0,y_axis_label:!1,x_axis_label:!1,ribbon_label:!1,y_cutoff:!1,x_cutoff:!1,x_cutoff_text:"Cutoff",y_cutoff_text:"Cutoff",assignment_ribbon:!1,assignment_label:"",download_buttons:!1,grid_label:!1,grid_colour_type:!1,grid_colour_annotations:!1,x_grid_labels:!1,y_grid_labels:!1,y_labels:!1,x_labels:!1,custom_grid_palette:!1,grid_key:!1,annotation_sets:!1,margin_scaler:5,margin:{left:!1,right:!1,top:!1,bottom:!1}};(function(e,t){"use strict";var r="!important;",n="position:absolute"+r+"visibility:hidden"+r+"width:1em"+r+"font-size:1em"+r+"padding:0"+r;window.getEmPixels=function(a){var s;a||(a=s=e.createElement("body"),s.style.cssText="font-size:1em"+r,t.insertBefore(s,e.body));var o=e.createElement("i");o.style.cssText=n,a.appendChild(o);var l=o.clientWidth;return s?t.removeChild(s):a.removeChild(o),l}})(document,document.documentElement)});function VL(e,t,r,n,a="xyLineChart",s={}){s=Object.assign(s,{chartType:"line"});let o=Wf(s),l=e.reduce(function(y,w){return y.concat(Number(w[t]))},[]),u=function(y){return g.x(y[t])},v=[];r.forEach(function(y){v=v.concat(e.reduce(function(w,x){return w.concat(Number(x[y]))},[]))});let g=YL(o,l,v,o.height-o.margin.bottom*2);KB(o,"axes",g.x,g.y);let _={};r.forEach(function(y){_[y]=function(w){return g.y(w[y])}}),YB(o,e,u,_,g,t),o.key_panel&&VB(o,r,n),o.download_buttons&&(no(o,a,"png",0),no(o,a,"svg",o.em_size*5),jf(o,a)),o.assignment_ribbon&&HB(e,o,l,g),o.x_cutoff&&HL(o,g,o.x_cutoff,"x"),o.y_cutoff&&HL(o,g,o.y_cutoff,"y")}function HB(e,t,r,n){let a=e.reduce(function(l,u){let v=u[t.assignment_label],g=l[v]||[];return l[v]=g.concat({x:Number(u.pos),y:1}),l},[]);Object.keys(a).forEach(function(l){let u=r.slice(0);a[l].forEach(function(v){u=u.filter(function(g){return g!==v.x})}),u.forEach(function(v){let g=a[l]||[];a[l]=g.concat({x:Number(v),y:null})}),a[l]=GL(a[l],"x")});let o=YL(t,r,[1],t.margin.top/4);Object.keys(a).forEach(function(l){let u=Pm().defined(function(g){return g.y}).x(function(g){return n.x(g.x)}).y(function(g){return o.y(g.y)}).curve(Qc),v=t.ribbon.selectAll("."+l+"line").data([a[l]]);v.enter().append("path").classed(l,!0).merge(v).attr("d",u).attr("fill","none")}),t.ribbon_label&&t.ribbon.append("text").attr("transform","translate("+t.margin.left/2+", 10)").style("text-anchor","middle").text(t.ribbon_label)}function HL(e,t,r,n){let a="x",s=1,o=e.y_cutoff_text,l=5;n==="x"&&(a="y",s=0,o=e.x_cutoff_text,l=-3);let u=e.container.append("line").classed("cutoff_line",!0).attr(a+"1",0).attr(n+"1",t[n](r)).attr(a+"2",t[a].range()[s]).attr(n+"2",t[n](r)),v=e.container.append("text").attr("class","cutoffText").attr(a,5).attr(n,t[n](r)-l).attr("dy",".1em").text(o+": "+r.toString())}function VB(e,t,r){var n=Kl().domain(t).range(r),a=BL.legendColor().shape("path",xx().type(yx).size(e.em_size*10)()).shapePadding(10).scale(n);e.key.append("g").attr("class","legendOrdinal").call(a)}function YB(e,t,r,n,a,s){Object.keys(n).forEach(function(o){let l=n[o],u=Pm().x(r).y(l).curve(Sx),v=e.container.selectAll("."+o+"line").data([t]);v.enter().append("path").classed(o,!0).merge(v).attr("d",u).attr("fill","none"),e.container.selectAll(".dot").data(t).enter().append("circle").classed(o,!0).attr("r",1.5).attr("cx",r).attr("cy",l).attr("fill","black").append("svg:title").text(function(g,_){return s+": "+g[s]+`
val: `+g[o]+`
type: `+g[e.assignment_label]})})}function YL(e,t,r,n){let a=ga().range([0,e.container_width-e.margin.left-e.margin.right]).domain(ds(t)),s=ga().range([n,0]).domain(ds(r));return{x:a,y:s}}function KB(e,t,r,n){let a=Pl().scale(r),s=Nl().scale(n);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(s),e.y_axis_label&&e.container.append("text").attr("transform","rotate(-90)").attr("y",0-e.margin.left/2).attr("x",0-e.container_height/2).attr("dy","1em").style("text-anchor","middle").text(e.y_axis_label),console.log(e.container_height-100),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,e.height-e.margin.bottom]+")").call(a),e.x_axis_label&&e.container.append("text").attr("transform","translate("+e.container_width/2+" ,"+(e.height-e.margin.bottom-e.em_size*3)+")").style("text-anchor","middle").text(e.x_axis_label)}var Eue,bw=se(()=>{th();Wl();cg();Yn();Yn();Yn();Yn();Eue=Uf()});var yw={};Wh(yw,{aatypes:()=>tR,aatypes_annotations:()=>rR,clustal:()=>QB,clustal_annotations:()=>qB,colorbrewer:()=>ZB,lesk:()=>JB,lesk_annotations:()=>eR,secondary_structure:()=>nR,taylor:()=>XB,taylor_annotations:()=>$B,transmembrane:()=>iR});var ZB,XB,$B,QB,qB,JB,eR,tR,rR,nR,iR,xw=se(()=>{ZB={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}},XB={A:{fill:"#ccff00"},V:{fill:"#99ff00"},I:{fill:"#66ff00"},L:{fill:"#33ff00"},M:{fill:"#00ff00"},F:{fill:"#00ff66"},Y:{fill:"#00ffcc"},W:{fill:"#00ccff"},H:{fill:"#0066ff"},R:{fill:"#0000ff"},K:{fill:"#6600ff"},N:{fill:"#cc00ff"},Q:{fill:"#ff00cc"},E:{fill:"#ff0066"},D:{fill:"#ff0000"},S:{fill:"#ff3300"},T:{fill:"#ff6600"},G:{fill:"#ff9900"},P:{fill:"#ffcc00"},C:{fill:"#ffff00"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},$B={S:{fill:"#ffff00",name:"Small axis"},B:{fill:"#00ff00",name:"Big axis"},P:{fill:"#ff0000",name:"Positive axis"},N:{fill:"#0000ff",name:"Negative axis"}},QB={A:{fill:"#c23f35"},V:{fill:"#c23f35"},F:{fill:"#c23f35"},P:{fill:"#c23f35"},I:{fill:"#c23f35"},L:{fill:"#c23f35"},M:{fill:"#c23f35"},W:{fill:"#c23f35"},D:{fill:"#6e6caa"},E:{fill:"#6e6caa"},K:{fill:"#b73c86"},R:{fill:"#b73c86"},C:{fill:"#319900"},N:{fill:"#319900"},Q:{fill:"#319900"},G:{fill:"#319900"},S:{fill:"#319900"},T:{fill:"#319900"},H:{fill:"#319900"},Y:{fill:"#319900"}},qB={S:{fill:"#c23f35",name:"Small and hydrophobic"},A:{fill:"#6e6caa",name:"Acidic"},B:{fill:"#b73c86",name:"Basic"},H:{fill:"#319900",name:"Hydroxyl, sulfhydril, amine"},O:{fill:"LightGrey",name:"Other"}},JB={G:{fill:"#e18f27"},A:{fill:"#e18f27"},S:{fill:"#e18f27"},T:{fill:"#e18f27"},C:{fill:"#319900"},V:{fill:"#319900"},I:{fill:"#319900"},L:{fill:"#319900"},P:{fill:"#319900"},F:{fill:"#319900"},Y:{fill:"#319900"},M:{fill:"#319900"},W:{fill:"#319900"},N:{fill:"#b73c86"},Q:{fill:"#b73c86"},H:{fill:"#b73c86"},D:{fill:"#c23f35"},E:{fill:"#c23f35"},K:{fill:"#6e6caa"},R:{fill:"#6e6caa"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},eR={S:{fill:"#e18f27",name:"Small nonpolar"},H:{fill:"#319900",name:"Hydrophobic"},P:{fill:"#b73c86",name:"Polar"},N:{fill:"#c23f35",name:"Negatively charged"},E:{fill:"#6e6caa",name:"Positively charged"}},tR={A:{fill:"#e18f27"},S:{fill:"#e18f27"},T:{fill:"#e18f27"},G:{fill:"#e18f27"},P:{fill:"#e18f27"},M:{fill:"#319900"},I:{fill:"#319900"},L:{fill:"#319900"},V:{fill:"#319900"},K:{fill:"#c23f35"},R:{fill:"#c23f35"},E:{fill:"#c23f35"},N:{fill:"#c23f35"},D:{fill:"#c23f35"},H:{fill:"#c23f35"},Q:{fill:"#c23f35"},W:{fill:"#7ebfd3"},Y:{fill:"#7ebfd3"},F:{fill:"#7ebfd3"},C:{fill:"#7ebfd3"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},rR={S:{fill:"#e18f27",name:"Small nonpolar"},H:{fill:"#319900",name:"Hydrophobic"},P:{fill:"#c23f35",name:"Polar"},A:{fill:"#7ebfd3",name:"Aromatics plus cystiene"}},nR={E:{fill:"Gold"},H:{fill:"HotPink"},C:{fill:"LightGrey"}},iR={C:{fill:"LightGrey"},H:{fill:"#e18f27"}}});function KL(e,t={}){let r={id:"annotationGrid",chartType:"annotationGrid",annotation_sets:sR,download_buttons:!0,grid_label:!0,grid_colour_type:"custom",grid_colour_annotations:["ss","disopred","dompred","memsat"],custom_grid_palette:aR};r=Object.assign(r,t),ZL(e,"res",50,"annotationGrid",r)}function ZL(e,t,r,n="seqAnnotationChart",a={}){a=Object.assign(a,{});let s=Wf(a),o=e.length,l=Math.ceil(o/r),u=uR(s,[1,r],[1,l],l*(s.em_size+3),r,l,o);a.debug===!0&&jL(s),lR(s,"axes",u.x,u.y,u.x_top,u.y_right,l*(s.em_size+3)),$L(s,e,u,r),s.key_panel&&XL(s),s.download_buttons&&(no(s,n,"png",0),no(s,n,"svg",s.em_size*5),jf(s,n)),s.annotation_sets&&oR(s,e,u,r)}function oR(e,t,r,n){let a=function(v){e.grid_colour_type=v.name,e.grid_colour_annotations=v.values,e.container.selectAll(".rect").remove(),e.container.selectAll(".text").remove(),$L(e,t,r,n),e.key.selectAll(".rect").remove(),e.key.selectAll("text").remove(),XL(e)},s=e.annotationToggle.selectAll(".rect").data(e.annotation_sets),o=function(v){return v.name+"button"},l=function(v){return v.label?v.label:v.name};s.enter().append("rect").attr("x",e.em_size*4).attr("id",function(v){return l(v)+"button"}).attr("width",function(v){let g="";return v.label?g="Show "+v.label:g="Show "+v.name,g.length*e.em_size/1.8}).attr("height",e.em_size*1.5).attr("transform",function(v,g){return"translate("+[g*e.em_size*10,0]+")"}).attr("class",function(v){return l(v)+"button"}).on("mouseover",function(v){Qr("#"+l(v)+"button").attr("fill","").classed("active",!0),Qr("#"+l(v)+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(v){Qr("#"+l(v)+"button").classed("active",!1),Qr("#"+l(v)+"Text").classed("active",!1)}).on("click",a),e.annotationToggle.selectAll(".text").data(e.annotation_sets).enter().append("text").attr("id",function(v){return l(v)+"Text"}).attr("class","buttonText").attr("x",10+e.em_size*4).attr("y",e.em_size*.8).attr("dy",".35em").attr("transform",function(v,g){return"translate("+[g*e.em_size*10,0]+")"}).text(function(v){return"Show "+l(v)}).on("mouseover",function(v){Qr("#"+l(v)+"button").attr("fill","").classed("active",!0),Qr("#"+l(v)+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(v){Qr("#"+l(v)+"button").classed("active",!0),Qr("#"+l(v)+"Text").classed("active",!0)}).on("click",a)}function XL(e){let t;e.grid_colour_type==="lesk"&&(t=io.lesk_annotations),e.grid_colour_type==="aatypes"&&(t=io.aatypes_annotations),e.grid_colour_type==="clustal"&&(t=io.clustal_annotations),e.grid_colour_type==="taylor"&&(t=io.taylor_annotations),e.custom_grid_palette&&e.grid_colour_type==="custom"&&(t=e.custom_grid_palette);let r=0,n=0;e.key.selectAll(".rect").data(Object.keys(t)).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",e.em_size).attr("transform",function(o,l){r===4&&(r=0,n+=1);let u=[r*11*e.em_size+e.margin.left,n*e.em_size*1.4];return r+=1,"translate("+u+")"}).attr("stroke",function(o){let l="white";return t[o].stroke?t[o].stroke:l}).attr("fill",function(o){let l="white";return t[o].fill?t[o].fill:l}),r=0,n=0,e.key.selectAll(".text").data(Object.keys(t)).enter().append("text").attr("transform",function(o,l){r===4&&(r=0,n+=1);let u=[r*11*e.em_size+e.margin.left+e.em_size*1.2,n*e.em_size*1.4+e.em_size/1.5];return r+=1,"translate("+u+")"}).text(function(o){return t[o].name}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","bold").attr("fill","black")}function $L(e,t,r,n){let a=0,s=0,o=ga().domain(Ha(0,1,1/(io.colorbrewer.RdYlGn[11].length-1))).range(io.colorbrewer.RdYlGn[11]),l=ga().domain(ds(pg(t,e.grid_colour_annotations))).range([0,1]),u=function(y,w){let x="Pos: "+(w+1)+`
`;if(e.grid_colour_type&&e.grid_colour_annotations)return e.grid_colour_type==="heatmap"&&(x+=y[e.grid_colour_annotations[0]]),(e.grid_colour_type==="lesk"||e.grid_colour_type==="aatypes"||e.grid_colour_type==="clustal"||e.grid_colour_type==="taylor"||e.grid_colour_type==="secondary_structure"||e.grid_colour_type==="transmembrane")&&(x+=y[e.grid_colour_annotations]),e.grid_colour_type==="custom"&&e.grid_colour_annotations.forEach(function(f,b){e.custom_grid_palette[y[f]]&&(x+=f+": "+y[f]+`
`)}),x},v=function(y,w){let x="white";if(e.grid_colour_type&&e.grid_colour_annotations){if(e.grid_colour_type==="heatmap")return o(l(y[e.grid_colour_annotations[0]]));(e.grid_colour_type==="lesk"||e.grid_colour_type==="aatypes"||e.grid_colour_type==="clustal"||e.grid_colour_type==="taylor"||e.grid_colour_type==="secondary_structure"||e.grid_colour_type==="transmembrane")&&io[e.grid_colour_type].hasOwnProperty(y[e.grid_colour_annotations[0]])&&io[e.grid_colour_type][y[e.grid_colour_annotations[0]]].hasOwnProperty(w)&&(x=io[e.grid_colour_type][y[e.grid_colour_annotations[0]]][w]),e.grid_colour_type==="custom"&&e.grid_colour_annotations.forEach(function(f,b){e.custom_grid_palette[y[f]]&&e.custom_grid_palette[y[f]].hasOwnProperty(w)&&(x=e.custom_grid_palette[y[f]][w])})}return x},g=e.container.selectAll(".rect").data(t);if(g.enter().append("rect").attr("class","rect").attr("width",e.em_size*1.1).attr("height",e.em_size*1.1).attr("transform",function(y){return s===n&&(s=0,a+=e.em_size*1.2),s+=1,"translate("+[r.x(s),a]+")"}).attr("fill",function(y){return v(y,"fill")}).attr("stroke",function(y){return v(y,"stroke")}).append("svg:title").text(u),g.exit().transition().remove(),e.grid_label){a=e.em_size*.8,s=0;var _=e.container.selectAll(".text").data(t);_.enter().append("text").attr("transform",function(y){return s===n&&(s=0,a+=e.em_size*1.2),s+=1,"translate("+[r.x(s)+5,a]+")"}).text(function(y){return y.res}).attr("font-family","sans-serif").attr("font-size",e.em_size*.66).attr("font-weight","bold").attr("fill","black").append("svg:title").text(u),_.exit().transition().remove()}}function lR(e,t,r,n,a,s,o){let l=Pl().scale(r).tickValues(r.domain().filter(function(y,w){return!((w+1)%10)})),u=Rb().scale(a).tickValues(r.domain().filter(function(y,w){return!((w+1)%10)})),v=Nl().scale(n),g=Ub().scale(s);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(v).select(".domain").remove(),e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.container_width-e.margin.right,e.margin.top]+")").call(g).selectAll(".domain").remove(),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,o+e.margin.top]+")").call(l).selectAll(".domain").remove();let _=e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(u);e.x_labels&&_.selectAll("text").attr("y",0).attr("x",e.em_size/2).attr("dy",".35em").attr("transform","rotate(-60)").style("text-anchor","start"),_.selectAll(".domain").remove(),e[t].selectAll("line").remove()}function uR(e,t,r,n,a,s,o){let l=Qi().range([0,e.container_width-e.margin.left-e.margin.right]).domain(du(t[0],t[1])),u=du(r[0],r[1]);u.forEach(function(w,x){w===1?u[x]=1:u[x]=(w-1)*a+1});let v=Qi().range([0,n]).domain(u),g=Qi().range([0,e.container_width-e.margin.left-e.margin.right]).domain(du(t[0],t[1]));if(e.x_labels){let w=[];if(e.x_labels.length<a){let x=-1;for(let f=0;f<=a;f+=1)f%e.x_labels.length===0&&(x+=1),w.push(e.x_labels[f%e.x_labels.length]+"_"+x)}else w=e.x_labels;g=Qi().range([0,e.container_width-e.margin.left-e.margin.right]).domain(w.slice(0,a))}let _=du(r[0],r[1]);_.forEach(function(w,x){_[x]=w*a,x===_.length-1&&(_[x]=o)});let y=Qi().range([0,n]).domain(_);if(e.y_labels){let w=[];if(e.y_labels.length<s){let x=-1;for(let f=0;f<=s;f+=1)f%e.y_labels.length===0&&(x+=1),w.push(e.y_labels[f%e.y_labels.length]+"_"+x)}else w=e.y_labels;y=Qi().range([0,n]).domain(w.slice(0,s))}return{x:l,y:v,x_top:g,y_right:y}}var io,zue,aR,sR,mg=se(()=>{th();Wl();cg();Yn();Yn();Yn();Yn();Yn();Yn();io=(xw(),Rw(yw)),zue=Uf(),aR={E:{fill:"Gold",name:"Strand"},H:{fill:"HotPink",name:"Helix"},C:{fill:"LightGrey",name:"Coil"},D:{stroke:"blue",name:"Disordered"},PB:{stroke:"green",name:"Disordered, protein binding"},B:{fill:"#7ebfd3",name:"Putative Domain Boundary"},I:{fill:"DarkGrey",name:"Membrane Interaction"},TM:{fill:"DarkGrey",name:"Transmembrane Helix"},EC:{fill:"Orange",name:"Extracellular"},RH:{fill:"Green",name:"Re-entrant Helix"},CY:{fill:"White",name:"Cytoplasmic"},S:{fill:"Pink",name:"Signal Peptide"}},sR=[{name:"custom",values:["ss","disopred","dompred"],label:"psipred"},{name:"custom",values:["memsat"],label:"memsat"},{name:"aatypes",values:["res"]}]});function QL(e,t="psipredChart",r={}){let a=mR(e),s=Math.ceil(a.length/50);r=Object.assign(r,{key_panel:!1,download_buttons:!0,id:"psipredChart"});let o=Wf(r);o.height=7*o.em_size*(s+1),o.container_height=o.height,o.width=o.em_size*50,o.container_width=o.em_size*50,o.chartType="psipred";let l=0;for(let u=0;u<s;u+=1){let v=1+u*50,g=50+u*50,_=0+u*(10*o.em_size),y=7*o.em_size+u*(10*o.em_size),w=hR(o,v,g,7*o.em_size);pR(o,"axes",w.x,w.y,y,_);let x=a.slice(v-1,g);l=cR(o,x,y,_,v)}fR(o,a,l+2*o.em_size,t)}function fR(e,t,r,n){let a=e.container;r+=e.em_size,e.download_buttons&&(no(e,n,"png",0,"buttons",0,3),no(e,n,"svg",e.em_size*5,"buttons",0,3),jf(e,n)),a.append("text").attr("transform",function(s,o){return"translate("+[0,r]+")"}).text("Legend:").attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black"),r+=e.em_size,ww(e,a,r,"Strand","Gold"),gg(e,a,r,"Conf:","-"),dR(e,a,r),a.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*17.5,r+e.em_size*.8]+")"}).text("+ Confidence of prediction").attr("font-family","sans-serif").attr("fill","black"),r+=e.em_size,ww(e,a,r,"Helix","HotPink"),gg(e,a,r,"Cart:","3-state assignment cartoon"),r+=e.em_size,ww(e,a,r,"Coil","DimGrey"),gg(e,a,r,"Pred:","3-state prediction"),r+=e.em_size,gg(e,a,r,"AA:","Target Sequence")}function dR(e,t,r){let n=9,a=0;for(let s=0;s<9;s+=1)t.append("rect").attr("class","rect").attr("width",e.em_size/2).attr("height",e.em_size*(s/10)).attr("transform",function(o,l){let u=e.em_size-e.em_size*(s/10);return"translate("+[e.em_size*13+e.em_size*a,r+u]+")"}).attr("stroke","black").attr("fill",Cw.colorbrewer.PuBu[9][s]),n-=1,a+=.5}function gg(e,t,r,n,a){t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*10,r+e.em_size*.8]+")"}).text(n).attr("font-family","sans-serif").attr("fill","black").attr("font-weight","bold"),t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*13,r+e.em_size*.8]+")"}).text(a).attr("font-family","sans-serif").attr("fill","black")}function ww(e,t,r,n,a){t.append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(s){return n==="Coil"?e.em_size/4:e.em_size}).attr("transform",function(s,o){let l=0;return n==="Coil"&&(l+=e.em_size/2),"translate("+[0,r+l]+")"}).attr("stroke","White").attr("fill",a),t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*1.5,r+e.em_size*.8]+")"}).text(n).attr("font-family","sans-serif").attr("fill","black")}function cR(e,t,r,n,a){let s=0,o=0,l=ga().domain(Ha(0,1,1/(Cw.colorbrewer.PuBu[9].length-1))).range(Cw.colorbrewer.PuBu[9]),u=ga().domain(ds(pg(t,"conf"))).range([0,1]);return e.container.selectAll("g").data(t).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(w){return e.em_size*((w.conf+1)/10)}).attr("transform",function(w,x){let f=e.em_size-e.em_size*((w.conf+1)/10);return"translate("+[x*e.em_size,n+f]+")"}).attr("fill",function(w){return l(u(w.conf))}).attr("stroke","black").append("svg:title").text(function(w){return w.conf}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(w){return w.pred==="C"?e.em_size/4:e.em_size}).attr("transform",function(w,x){let f=0;return w.pred==="C"&&(f+=e.em_size/3),"translate("+[x*e.em_size,n+f]+")"}).attr("fill",function(w){if(w.pred==="C")return"DimGrey";if(w.pred==="E")return"Gold";if(w.pred==="H")return"HotPink"}).attr("stroke",function(w){if(w.pred==="C")return"DimGrey";if(w.pred==="E")return"Gold";if(w.pred==="H")return"HotPink"}).append("svg:title").text(function(w){return w.pred}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("text").attr("transform",function(w,x){return"translate("+[x*e.em_size,n+e.em_size/2]+")"}).text(function(w){return w.pred}).attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black").append("svg:title").text(function(w,x){return x+a}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("text").attr("transform",function(w,x){return"translate("+[x*e.em_size,n+e.em_size/3]+")"}).text(function(w){return w.aa}).attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black").append("svg:title").text(function(w,x){return x+a}),n}function hR(e,t,r,n){let a=Qi().range([0,e.container_width]).domain(du(t,r)),s=Qi().range([0,n]).domain(["Conf","Cart","Pred","AA"]);return{x:a,y:s}}function pR(e,t,r,n,a,s){let o=Pl().scale(r).tickValues(r.domain().filter(function(u,v){return!((v+1)%10)})),l=Nl().scale(n);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,s+e.margin.top]+")").call(l).select(".domain").remove(),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,a+e.margin.top]+")").call(o).selectAll(".domain").remove(),e[t].selectAll("line").remove()}function mR(e){let t=[],r=e.split(`
`),n="",a="",s="";return r.forEach(function(o,l){n+=Sw(o,"Conf: "),a+=Sw(o,"Pred: "),s+=Sw(o,"  AA: ")}),s.split("").forEach(function(o,l){t.push({aa:s[l],pred:a[l],conf:Number(n[l])})}),t}function Sw(e,t){if(e.startsWith(t)){let r=new RegExp("^"+t);return e.replace(r,"")}else return""}var Cw,Yue,qL=se(()=>{th();Wl();cg();Yn();Yn();Yn();Yn();Yn();Cw=(xw(),Rw(yw)),Yue=Uf()});var cu,JL,vg,ph=se(()=>{EE();bw();bw();mg();mg();mg();qL();Yn();cu=QL,JL=VL,vg=KL});var Gf,Ew=se(()=>{Gf=["white","Aquamarine","Blue","BlueViolet","Chartreuse","Coral","CornflowerBlue","Crimson","DarkBlue","DarkCyan"]});function rO(e){let t='<br /><h3>Domain Assignments</h3><table class="small-table table-striped table-bordered"  style="width: 60%" >';return t+="<tr><th>Domain ID</th><th>Domain Region</th><th>Colour</th></tr>",e.split("	")[7].split(",").forEach((a,s)=>{t+="<tr><td>"+s+"</td><td>"+a+'</td><td style="background-color:'+Gf[s+1]+';">&nbsp;</td></tr>'}),t+="</table>",t}function nO(e){let t=[],r=1,n=e.split("	"),a=n[7];return t=new Array(Number(n[1])),t.fill(0),a.split(",").forEach(o=>{o.split("_").forEach(u=>{let v=u.split("-").map(Number);t.forEach((g,_)=>{_>=v[0]-1&&_<=v[1]-1&&(t[_]=r)})}),r++}),[t,r]}function iO(e){let t='<br /><h3>Key</h3><table class="small-table table-striped table-bordered"><tr><td bgcolor="#ff0000" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Hotspot Residue</td></tr>';return t+='<tr><td bgcolor="#ffffff" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Non-Hotspot Residue</td></tr>',t+='<tr><td bgcolor="#0000ff" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Non-interface residue</td></tr></table><br /><br />',t+="<h3>Residue Predictions</h3>",t+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Score: <input id="min_hs_score" name="min_hs_score" type="text"></td></tr><tr><td class="alnright" >Max Score: <input id="max_hs_score" name="max_hs_score" type="text"></td></tr></tbody></table><br />',t+='<table id="hspred_table" class="table table-striped table-bordered"><thead><tr><th>Chain/Residue</th><th>Residue Identity</th><th>Score</th><th>Highlight Residue</th></thead><tbody>',e.split(`
`).forEach(function(n,a){let s=n.split(/\s+/);s.length===3&&(t+="<tr><td>"+s[0]+"</td><td>"+s[1]+"</td><td>"+s[2]+'</td><td><input type="checkbox" value="'+s[0]+'" id="'+s[0]+`" onClick="psipred.highlight_hs_residue('`+s[0]+`')"=></td></td></tr>`)}),t+="</tbody><tfoot></tfoot><table>",t}function aO(e){let t='<br /><h3>Key</h3><table class="small-table table-striped table-bordered"><tr><td bgcolor="#ff0000" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Metal Binding Contact&nbsp;</h5></td></tr>';t+='<tr><td bgcolor="#000000" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Chain not predicted&nbsp;</h5></td></tr>',t+='<tr><td bgcolor="#0000ff" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Predicted chain&nbsp;</h5></td></tr></table><br />',t+="<h3>Residue Predictions</h3>",t+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Score: <input id="min_met_score" name="min_met_score" type="text"></td></tr><tr><td class="alnright" >Max Score: <input id="max_met_score" name="max_met_score" type="text"></td></tr></tbody></table><br />',t+='<table id="metsite_table" class="table small-table table-striped table-bordered"><thead><tr><th>Residue</th><th>Raw Neural Network Score</th><th>Highlight Residue</th><thead><tbody>';let r=/\d+\s.+?\s\w{3}\d+/g,n=e.match(r);return n&&n.forEach(function(a,s){let o=a.split(/\s/);t+="<tr><td>"+o[2]+"</td><td>"+o[1]+'</td><td><input type="checkbox" value="'+o[2]+'" id="'+o[2]+`" onClick="psipred.highlight_metsite_residue('`+o[2]+`')"=></td></tr>`}),t+="</tbody><tfoot></tfoot><table>",t}function sO(e){let t=e.split(`
`),r=[],n=[],a=[],s="";return t.forEach(function(o,l){if(o.startsWith("#"))return;let u=o.split("	");u.length<4||(u[3]==="BP"&&r.push(u),u[3]==="CC"&&a.push(u),u[3]==="MF"&&n.push(u))}),s+="<b>Biological Process Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_bp_prob" name="min_bp_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_bp_prob" name="max_bp_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='bp_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",r.forEach(function(o,l){let u="safe";o[2]==="L"&&(u="notsafe"),s+='<tr class="'+u+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="<b>Molecular Function Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_mf_prob" name="min_mf_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_mf_prob" name="max_mf_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='mf_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",n.forEach(function(o,l){let u="safe";o[2]==="L"&&(u="notsafe"),s+='<tr class="'+u+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="<b>Cellular Component Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_cc_prob" name="min_cc_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_cc_prob" name="max_cc_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='cc_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",a.forEach(function(o,l){let u="safe";o[2]==="L"&&(u="notsafe"),s+='<tr class="'+u+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="These prediction terms represent terms predicted where SVM training includes assigned GO terms across all evidence code types. SVM reliability is regarded as High (H) when MCC, sensitivity, specificity and precision are jointly above a given threshold. otherwise Reliability is indicated as Low (L). <br />",s}function gR(){let e={};return e.A={val:.071783248006309,sde:.027367661524275},e.V={val:.059624595369901,sde:.020377791528745},e.Y={val:.026075068240437,sde:.014822471531379},e.W={val:.014166002612771,sde:.010471835801996},e.T={val:.052593582972714,sde:.020094793964597},e.S={val:.082123241332099,sde:.028687566081512},e.P={val:.065557531322241,sde:.034239398496736},e.F={val:.037103994969002,sde:.018543423139186},e.M={val:.022562818183955,sde:.011321039662481},e.K={val:.054833979269185,sde:.029264083667157},e.L={val:.10010591575906,sde:.030276808519009},e.I={val:.042034526040467,sde:.020826849262495},e.H={val:.027141403537598,sde:.01550566378985},e.G={val:.069179820104536,sde:.030087562057328},e.Q={val:.065920561931801,sde:.030103091008366},e.E={val:.04647846225838,sde:.019946269461736},e.C={val:.024908551872056,sde:.020822909589504},e.D={val:.044337904726041,sde:.018436677256726},e.N={val:.033507020987033,sde:.016536022288204},e.R={val:.05974046903119,sde:.025165994773384},e}function vR(){let e={};return e.hydrophobicity={val:-.34876828080152,sde:.75559152769799},e["percent positive residues"]={val:11.457717466948,sde:3.567133341139},e["aliphatic index"]={val:79.911549319099,sde:16.787617978827},e["isoelectric point"]={val:7.6102046383603,sde:1.9716111020088},e["molecular weight"]={val:48668.412839961,sde:37838.324895969},e.charge={val:5.0991763057604,sde:16.83863659025},e["percent negative residues"]={val:11.026190128176,sde:4.0206631680926},e["molar extinction coefficient"]={val:46475.293923926,sde:39299.399848823},e}function tO(e){let t=Math.abs(e);return t>=2.96?e>0?"signif1p":"signif1n":t>=2.24?e>0?"signif2p":"signif2n":t>=1.96?e>0?"signif5p":"signif5n":t>=1.645?e>0?"signif10p":"signif10n":"plain"}function oO(e){let t=e.split(`
`),r={},n={},a=vR(),s=gR();t.forEach(function(u,v){if(u.startsWith("AA")){let g=u.split("	");n[g[1]]=g[2]}if(u.startsWith("SF")){let g=u.split("	");r[g[1]]=g[2]}});let o='<table align="center" class="small-table table-striped table-bordered ffpred-table"><tr><th>Feature Name</th><th>Value</th><th>Bias</th></tr>';Object.keys(r).sort().forEach(function(u){let v="";u in a&&(v=tO((parseFloat(r[u])-a[u].val)/a[u].sde)),o+="<tr><td>"+u+"</td><td>"+parseFloat(r[u]).toFixed(2)+'</td><td class="'+v+'">&nbsp;&nbsp;&nbsp;</td></tr>'}),o+="</table>";let l="<b>Amino Acid Composition (percentages)</b><br />";return l+='<table width="50%" class="small-table table-striped table-bordered ffpred-table" align="center" ><tr>',Object.keys(n).sort().forEach(function(u){l+='<th width="5%">'+u+"</th>"}),l+="</tr><tr>",Object.keys(n).sort().forEach(function(u){let v="";v=tO((parseFloat(n[u])-s[u].val)/s[u].sde),l+='<td width="5% class="'+v+'">'+(parseFloat(n[u])*100).toFixed(2)+"</td>"}),l+="</tr></table><br />",l+="<b>Significance Key</b><br /><br />",l+='<table width="50%" class="small-table table-striped table-bordered ffpred-table" align="center">',l+="<thead><tr>",l+='<th width="9%" align="left"><b>low</b></th>',l+='<th colspan="9">&nbsp;</th>',l+='<th width="9%" align="right"><b>high</b></th>',l+="</tr></thead>",l+="<tbody><tr>",l+="<td>&nbsp;</td>",l+='<td class="signif1n">p &lt; 0.01</td>',l+='<td class="signif2n">p &lt; 0.02</td>',l+='<td class="signif5n">p &lt; 0.05</td>',l+='<td class="signif10n">p &lt; 0.1</td>',l+="<td>p &gt;= 0.1</td>",l+='<td class="signif10p">p &lt; 0.1</td>',l+='<td class="signif5p">p &lt; 0.05</td>',l+='<td class="signif2p">p &lt; 0.02</td>',l+='<td class="signif1p">p &lt; 0.01</td>',l+="<td>&nbsp</td>",l+="</tr></tbody>",l+="<tfoot><tr>",l+='<td colspan="11">Significance p value is calculated using the Z score of the percent amino acid composition</td>',l+="</tr><tfoot>",l+="</table>",[o,l]}function _g(e,t){let r=e.exec(t);if(r[1].includes(",")){let n=r[1].split(",");return n.forEach(function(a,s){n[s]=a.split("-"),n[s][0]=parseInt(n[s][0]),n[s][1]=parseInt(n[s][1])}),n}else if(r[1].includes("-")){let n=r[1].split("-"),a=[[]];return a[0][0]=parseInt(n[0]),a[0][1]=parseInt(n[1]),a}return r[1]}function lO(e,t){let r=t.split(`
`);return r.shift(),r=r.filter(Boolean),e.length===r.length?r.forEach(function(n,a){let s=n.split(/\s+/);e[a].ss=s[3]}):alert("SS2 annotation length does not match query sequence"),e}function uO(e,t){let r=t.split(`
`);return r.shift(),r.shift(),r.shift(),r.shift(),r.shift(),r=r.filter(Boolean),e.length===r.length?r.forEach(function(n,a){let s=n.split(/\s+/);s[3]==="-"&&(e[a].disopred="D"),s[3]==="^"&&(e[a].disopred="PB")}):alert("PBDAT annotation length does not match query sequence"),e}function fO(e){let t=[],r=e.split(`
`);return r.shift(),r.shift(),r.shift(),r=r.filter(Boolean),r.forEach(function(n,a){let s=n.split(/\s+/);t[a]={},t[a].pos=s[1],t[a].precision=s[4]}),t}function dO(e,t){let r=_g(/Topology:\s+(.+?)\n/,t),n=_g(/Signal\speptide:\s+(.+)\n/,t),a=_g(/Re-entrant\shelices:\s+(.+?)\n/,t),s=_g(/N-terminal:\s+(.+?)\n/,t),o="CY";s==="out"&&(o="EC");let l=new Array(e.length);if(r!=="Not detected."){let u=0;r.forEach(function(v){l=l.fill("TM",v[0],v[1]+1),u>0&&(u-=1),l=l.fill(o,u,v[0]),o==="EC"?o="CY":o="EC",u=v[1]+2}),l=l.fill(o,u-1,e.length)}return n!=="Not detected."&&n.forEach(function(u){l=l.fill("S",u[0],u[1]+1)}),a!=="Not detected."&&a.forEach(function(u){l=l.fill("RH",u[0],u[1]+1)}),l.forEach(function(u,v){e[v].memsat=u}),e}function bg(e,t,r){let n=e.split(`
`),a=null;return Object.keys(t).length>0?(a='<div class="text-right modeller-key" style="visibility: visible;">Modeller Licence Key: <input class="text" value=""><br><br></div>',a+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min P-Value: <input id="min_'+r+'_pval" name="min_'+r+'_score" type="text"></td></tr><tr><td class="alnright" >Max P-Value: <input id="max_'+r+'_pval" name="max_'+r+'_pval" type="text"></td></tr></tbody></table><br />',a+='<table id="'+r+`_table" class="small-table table-striped table-bordered gen-table"><thead>
`,a+="<tr><th>Conf.</th>",a+="<th>Net Score</th>",a+="<th>p-value</th>",a+="<th>PairE</th>",a+="<th>SolvE</th>",a+="<th>Aln Score</th>",a+="<th>Aln Length</th>",a+="<th>Target Len</th>",a+="<th>Query Len</th>",r==="dgen"?(a+="<th>Region Start</th>",a+="<th>Region End</th>",a+="<th>CATH</th>",a+="<th>SCOP</th>"):(a+="<th>Fold</th>",a+="<th>SCOP</th>",a+="<th>CATH</th>"),a+="<th>PDBSUM</th>",a+="<th>Alignment</th>",a+="<th>MODEL</th>",a+=`</tr></thead><tbody">
`,n.forEach(function(s,o){if(s.length===0)return;let l=s.split(/\s+/),u=l[9];if(r==="dgen"&&(u=l[11]),u+"_"+o in t){a+="<tr>",a+="<td class='"+l[0].toLowerCase()+"'>"+l[0]+"</td>",a+="<td>"+l[1]+"</td>",a+="<td>"+l[2]+"</td>",a+="<td>"+l[3]+"</td>",a+="<td>"+l[4]+"</td>",a+="<td>"+l[5]+"</td>",a+="<td>"+l[6]+"</td>",a+="<td>"+l[7]+"</td>",a+="<td>"+l[8]+"</td>";let v=l[9].substring(0,l[9].length-2);r==="dgen"&&(v=l[11].substring(0,l[11].length-3)),r==="dgen"?(a+="<td>"+l[9]+"</td>",a+="<td>"+l[10]+"</td>",a+="<td><a target='_blank' href='http://www.cathdb.info/version/latest/domain/"+u+"'>"+u+"</a></td>",a+="<td><a target='_blank' href='http://scop.mrc-lmb.cam.ac.uk/search?t=txt;q="+v+"'>SEARCH</a></td>",a+="<td><a target='_blank' href='http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/GetPage.pl?pdbcode="+v+"'>Open</a></td>",a+=`<td><input class='button' type='button' onClick='window.open("http://127.0.0.1:3000/msa/?aln=`+t[u+"_"+o].aln+"&ann="+t[u+"_"+o].ann+`", "Popup", "scrolling=yes, scrollbars=yes status width=1000 height=400 top=30")' value='View' /></td>`,a+=`<td><input class='button' type='button' onClick='window.open("http://127.0.0.1:3000/model/?aln=`+t[u+"_"+o].aln+`&type=cath", "Popup", "scrolling=yes, scrollbars=yes status width=500 height=600 top=30")' value='View' /></td>`):(a+="<td><a target='_blank' href='https://www.rcsb.org/pdb/explore/explore.do?structureId="+v+"'>"+u+"</a></td>",a+="<td><a target='_blank' href='http://scop.mrc-lmb.cam.ac.uk/search?t=txt;q="+v+"'>SEARCH</a></td>",a+="<td><a target='_blank' href='http://www.cathdb.info/pdb/"+v+"'>SEARCH</a></td>",a+="<td><a target='_blank' href='http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/GetPage.pl?pdbcode="+v+"'>Open</a></td>",a+=`<td><input class='button' type='button' onClick='window.open("http://127.0.0.1:3000/msa/?aln=`+t[u+"_"+o].aln+"&ann="+t[u+"_"+o].ann+`", "Popup", "scrolling=yes, scrollbars=yes status width=1000 height=400 top=30")' value='View' /></td>`,a+=`<td><input class='button' type='button' onClick='window.open("http://127.0.0.1:3000/model/?aln=`+t[u+"_"+o].aln+`&type=pdb", "Popup", "scrolling=yes, scrollbars=yes status width=500 height=600 top=30")' value='View' /></td>`),a+=`</tr>
`}}),a+=`</tbody><tfoot></tfoot></table>
`):a="<h3>No good hits found. GUESS and LOW confidence hits can be found in the results file</h3>",a}function cO(e,t){let n=/Domain\sBoundary\slocations\spredicted\sDPS:\s(.+)/.exec(t);if(n){let a=[];n[1].indexOf(",")?(a=n[1].split(","),a.forEach(function(s,o){a[o]=parseInt(s)})):a[0]=parseInt(n[1]),a.forEach(function(s){e[s].dompred="B"})}return e}var Ji=se(()=>{Ew()});var hO=Pn((Mw,Hf)=>{(function(e,t){typeof Mw=="object"&&typeof Hf<"u"?Hf.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(Mw,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function r(T){e=T}function n(T){return T instanceof Array||Object.prototype.toString.call(T)==="[object Array]"}function a(T){return T!=null&&Object.prototype.toString.call(T)==="[object Object]"}function s(T,z){return Object.prototype.hasOwnProperty.call(T,z)}function o(T){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(T).length===0;var z;for(z in T)if(s(T,z))return!1;return!0}function l(T){return T===void 0}function u(T){return typeof T=="number"||Object.prototype.toString.call(T)==="[object Number]"}function v(T){return T instanceof Date||Object.prototype.toString.call(T)==="[object Date]"}function g(T,z){var X=[],J,he=T.length;for(J=0;J<he;++J)X.push(z(T[J],J));return X}function _(T,z){for(var X in z)s(z,X)&&(T[X]=z[X]);return s(z,"toString")&&(T.toString=z.toString),s(z,"valueOf")&&(T.valueOf=z.valueOf),T}function y(T,z,X,J){return bu(T,z,X,J,!0).utc()}function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(T){return T._pf==null&&(T._pf=w()),T._pf}var f;Array.prototype.some?f=Array.prototype.some:f=function(T){var z=Object(this),X=z.length>>>0,J;for(J=0;J<X;J++)if(J in z&&T.call(this,z[J],J,z))return!0;return!1};function b(T){if(T._isValid==null){var z=x(T),X=f.call(z.parsedDateParts,function(he){return he!=null}),J=!isNaN(T._d.getTime())&&z.overflow<0&&!z.empty&&!z.invalidEra&&!z.invalidMonth&&!z.invalidWeekday&&!z.weekdayMismatch&&!z.nullInput&&!z.invalidFormat&&!z.userInvalidated&&(!z.meridiem||z.meridiem&&X);if(T._strict&&(J=J&&z.charsLeftOver===0&&z.unusedTokens.length===0&&z.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(T))T._isValid=J;else return J}return T._isValid}function h(T){var z=y(NaN);return T!=null?_(x(z),T):x(z).userInvalidated=!0,z}var S=t.momentProperties=[],C=!1;function M(T,z){var X,J,he,Re=S.length;if(l(z._isAMomentObject)||(T._isAMomentObject=z._isAMomentObject),l(z._i)||(T._i=z._i),l(z._f)||(T._f=z._f),l(z._l)||(T._l=z._l),l(z._strict)||(T._strict=z._strict),l(z._tzm)||(T._tzm=z._tzm),l(z._isUTC)||(T._isUTC=z._isUTC),l(z._offset)||(T._offset=z._offset),l(z._pf)||(T._pf=x(z)),l(z._locale)||(T._locale=z._locale),Re>0)for(X=0;X<Re;X++)J=S[X],he=z[J],l(he)||(T[J]=he);return T}function p(T){M(this,T),this._d=new Date(T._d!=null?T._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),C===!1&&(C=!0,t.updateOffset(this),C=!1)}function c(T){return T instanceof p||T!=null&&T._isAMomentObject!=null}function E(T){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+T)}function D(T,z){var X=!0;return _(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,T),X){var J=[],he,Re,ht,Vt=arguments.length;for(Re=0;Re<Vt;Re++){if(he="",typeof arguments[Re]=="object"){he+=`
[`+Re+"] ";for(ht in arguments[0])s(arguments[0],ht)&&(he+=ht+": "+arguments[0][ht]+", ");he=he.slice(0,-2)}else he=arguments[Re];J.push(he)}E(T+`
Arguments: `+Array.prototype.slice.call(J).join("")+`
`+new Error().stack),X=!1}return z.apply(this,arguments)},z)}var I={};function O(T,z){t.deprecationHandler!=null&&t.deprecationHandler(T,z),I[T]||(E(z),I[T]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function P(T){return typeof Function<"u"&&T instanceof Function||Object.prototype.toString.call(T)==="[object Function]"}function k(T){var z,X;for(X in T)s(T,X)&&(z=T[X],P(z)?this[X]=z:this["_"+X]=z);this._config=T,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function B(T,z){var X=_({},T),J;for(J in z)s(z,J)&&(a(T[J])&&a(z[J])?(X[J]={},_(X[J],T[J]),_(X[J],z[J])):z[J]!=null?X[J]=z[J]:delete X[J]);for(J in T)s(T,J)&&!s(z,J)&&a(T[J])&&(X[J]=_({},X[J]));return X}function G(T){T!=null&&this.set(T)}var K;Object.keys?K=Object.keys:K=function(T){var z,X=[];for(z in T)s(T,z)&&X.push(z);return X};var q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function H(T,z,X){var J=this._calendar[T]||this._calendar.sameElse;return P(J)?J.call(z,X):J}function $(T,z,X){var J=""+Math.abs(T),he=z-J.length,Re=T>=0;return(Re?X?"+":"":"-")+Math.pow(10,Math.max(0,he)).toString().substr(1)+J}var W=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Z={},Q={};function ie(T,z,X,J){var he=J;typeof J=="string"&&(he=function(){return this[J]()}),T&&(Q[T]=he),z&&(Q[z[0]]=function(){return $(he.apply(this,arguments),z[1],z[2])}),X&&(Q[X]=function(){return this.localeData().ordinal(he.apply(this,arguments),T)})}function Ce(T){return T.match(/\[[\s\S]/)?T.replace(/^\[|\]$/g,""):T.replace(/\\/g,"")}function De(T){var z=T.match(W),X,J;for(X=0,J=z.length;X<J;X++)Q[z[X]]?z[X]=Q[z[X]]:z[X]=Ce(z[X]);return function(he){var Re="",ht;for(ht=0;ht<J;ht++)Re+=P(z[ht])?z[ht].call(he,T):z[ht];return Re}}function Me(T,z){return T.isValid()?(z=Ne(z,T.localeData()),Z[z]=Z[z]||De(z),Z[z](T)):T.localeData().invalidDate()}function Ne(T,z){var X=5;function J(he){return z.longDateFormat(he)||he}for(V.lastIndex=0;X>=0&&V.test(T);)T=T.replace(V,J),V.lastIndex=0,X-=1;return T}var Te={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function be(T){var z=this._longDateFormat[T],X=this._longDateFormat[T.toUpperCase()];return z||!X?z:(this._longDateFormat[T]=X.match(W).map(function(J){return J==="MMMM"||J==="MM"||J==="DD"||J==="dddd"?J.slice(1):J}).join(""),this._longDateFormat[T])}var Xe="Invalid date";function $e(){return this._invalidDate}var R="%d",me=/\d{1,2}/;function ge(T){return this._ordinal.replace("%d",T)}var ne={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function fe(T,z,X,J){var he=this._relativeTime[X];return P(he)?he(T,z,X,J):he.replace(/%d/i,T)}function ye(T,z){var X=this._relativeTime[T>0?"future":"past"];return P(X)?X(z):X.replace(/%s/i,z)}var He={};function Be(T,z){var X=T.toLowerCase();He[X]=He[X+"s"]=He[z]=T}function _e(T){return typeof T=="string"?He[T]||He[T.toLowerCase()]:void 0}function Fe(T){var z={},X,J;for(J in T)s(T,J)&&(X=_e(J),X&&(z[X]=T[J]));return z}var Ge={};function Ve(T,z){Ge[T]=z}function Pe(T){var z=[],X;for(X in T)s(T,X)&&z.push({unit:X,priority:Ge[X]});return z.sort(function(J,he){return J.priority-he.priority}),z}function vt(T){return T%4===0&&T%100!==0||T%400===0}function _t(T){return T<0?Math.ceil(T)||0:Math.floor(T)}function le(T){var z=+T,X=0;return z!==0&&isFinite(z)&&(X=_t(z)),X}function ue(T,z){return function(X){return X!=null?(Ke(this,T,X),t.updateOffset(this,z),this):ve(this,T)}}function ve(T,z){return T.isValid()?T._d["get"+(T._isUTC?"UTC":"")+z]():NaN}function Ke(T,z,X){T.isValid()&&!isNaN(X)&&(z==="FullYear"&&vt(T.year())&&T.month()===1&&T.date()===29?(X=le(X),T._d["set"+(T._isUTC?"UTC":"")+z](X,T.month(),ea(X,T.month()))):T._d["set"+(T._isUTC?"UTC":"")+z](X))}function ke(T){return T=_e(T),P(this[T])?this[T]():this}function rt(T,z){if(typeof T=="object"){T=Fe(T);var X=Pe(T),J,he=X.length;for(J=0;J<he;J++)this[X[J].unit](T[X[J].unit])}else if(T=_e(T),P(this[T]))return this[T](z);return this}var st=/\d/,ae=/\d\d/,Ue=/\d{3}/,Je=/\d{4}/,ct=/[+-]?\d{6}/,Le=/\d\d?/,ot=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ut=/\d{1,3}/,At=/\d{1,4}/,j=/[+-]?\d{1,6}/,Ye=/\d+/,qe=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,ze=/Z|[+-]\d\d(?::?\d\d)?/gi,et=/[+-]?\d+(\.\d{1,3})?/,Lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,yt;yt={};function nt(T,z,X){yt[T]=P(z)?z:function(J,he){return J&&X?X:z}}function qt(T,z){return s(yt,T)?yt[T](z._strict,z._locale):new RegExp(en(T))}function en(T){return jt(T.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(z,X,J,he,Re){return X||J||he||Re}))}function jt(T){return T.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Jt={};function Ot(T,z){var X,J=z,he;for(typeof T=="string"&&(T=[T]),u(z)&&(J=function(Re,ht){ht[z]=le(Re)}),he=T.length,X=0;X<he;X++)Jt[T[X]]=J}function yr(T,z){Ot(T,function(X,J,he,Re){he._w=he._w||{},z(X,he._w,he,Re)})}function mr(T,z,X){z!=null&&s(Jt,T)&&Jt[T](z,X._a,X,T)}var Fr=0,tn=1,fr=2,Zt=3,nr=4,Br=5,Wr=6,yi=7,ws=8;function ba(T,z){return(T%z+z)%z}var Ar;Array.prototype.indexOf?Ar=Array.prototype.indexOf:Ar=function(T){var z;for(z=0;z<this.length;++z)if(this[z]===T)return z;return-1};function ea(T,z){if(isNaN(T)||isNaN(z))return NaN;var X=ba(z,12);return T+=(z-X)/12,X===1?vt(T)?29:28:31-X%7%2}ie("M",["MM",2],"Mo",function(){return this.month()+1}),ie("MMM",0,0,function(T){return this.localeData().monthsShort(this,T)}),ie("MMMM",0,0,function(T){return this.localeData().months(this,T)}),Be("month","M"),Ve("month",8),nt("M",Le),nt("MM",Le,ae),nt("MMM",function(T,z){return z.monthsShortRegex(T)}),nt("MMMM",function(T,z){return z.monthsRegex(T)}),Ot(["M","MM"],function(T,z){z[tn]=le(T)-1}),Ot(["MMM","MMMM"],function(T,z,X,J){var he=X._locale.monthsParse(T,J,X._strict);he!=null?z[tn]=he:x(X).invalidMonth=T});var Ss="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ya="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Za=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qo=Lt,Jo=Lt;function Kf(T,z){return T?n(this._months)?this._months[T.month()]:this._months[(this._months.isFormat||Za).test(z)?"format":"standalone"][T.month()]:n(this._months)?this._months:this._months.standalone}function Zf(T,z){return T?n(this._monthsShort)?this._monthsShort[T.month()]:this._monthsShort[Za.test(z)?"format":"standalone"][T.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function hu(T,z,X){var J,he,Re,ht=T.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],J=0;J<12;++J)Re=y([2e3,J]),this._shortMonthsParse[J]=this.monthsShort(Re,"").toLocaleLowerCase(),this._longMonthsParse[J]=this.months(Re,"").toLocaleLowerCase();return X?z==="MMM"?(he=Ar.call(this._shortMonthsParse,ht),he!==-1?he:null):(he=Ar.call(this._longMonthsParse,ht),he!==-1?he:null):z==="MMM"?(he=Ar.call(this._shortMonthsParse,ht),he!==-1?he:(he=Ar.call(this._longMonthsParse,ht),he!==-1?he:null)):(he=Ar.call(this._longMonthsParse,ht),he!==-1?he:(he=Ar.call(this._shortMonthsParse,ht),he!==-1?he:null))}function ar(T,z,X){var J,he,Re;if(this._monthsParseExact)return hu.call(this,T,z,X);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),J=0;J<12;J++){if(he=y([2e3,J]),X&&!this._longMonthsParse[J]&&(this._longMonthsParse[J]=new RegExp("^"+this.months(he,"").replace(".","")+"$","i"),this._shortMonthsParse[J]=new RegExp("^"+this.monthsShort(he,"").replace(".","")+"$","i")),!X&&!this._monthsParse[J]&&(Re="^"+this.months(he,"")+"|^"+this.monthsShort(he,""),this._monthsParse[J]=new RegExp(Re.replace(".",""),"i")),X&&z==="MMMM"&&this._longMonthsParse[J].test(T))return J;if(X&&z==="MMM"&&this._shortMonthsParse[J].test(T))return J;if(!X&&this._monthsParse[J].test(T))return J}}function si(T,z){var X;if(!T.isValid())return T;if(typeof z=="string"){if(/^\d+$/.test(z))z=le(z);else if(z=T.localeData().monthsParse(z),!u(z))return T}return X=Math.min(T.date(),ea(T.year(),z)),T._d["set"+(T._isUTC?"UTC":"")+"Month"](z,X),T}function Kn(T){return T!=null?(si(this,T),t.updateOffset(this,!0),this):ve(this,"Month")}function Tn(){return ea(this.year(),this.month())}function oi(T){return this._monthsParseExact?(s(this,"_monthsRegex")||ao.call(this),T?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=qo),this._monthsShortStrictRegex&&T?this._monthsShortStrictRegex:this._monthsShortRegex)}function Xa(T){return this._monthsParseExact?(s(this,"_monthsRegex")||ao.call(this),T?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Jo),this._monthsStrictRegex&&T?this._monthsStrictRegex:this._monthsRegex)}function ao(){function T(ht,Vt){return Vt.length-ht.length}var z=[],X=[],J=[],he,Re;for(he=0;he<12;he++)Re=y([2e3,he]),z.push(this.monthsShort(Re,"")),X.push(this.months(Re,"")),J.push(this.months(Re,"")),J.push(this.monthsShort(Re,""));for(z.sort(T),X.sort(T),J.sort(T),he=0;he<12;he++)z[he]=jt(z[he]),X[he]=jt(X[he]);for(he=0;he<24;he++)J[he]=jt(J[he]);this._monthsRegex=new RegExp("^("+J.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+X.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+z.join("|")+")","i")}ie("Y",0,0,function(){var T=this.year();return T<=9999?$(T,4):"+"+T}),ie(0,["YY",2],0,function(){return this.year()%100}),ie(0,["YYYY",4],0,"year"),ie(0,["YYYYY",5],0,"year"),ie(0,["YYYYYY",6,!0],0,"year"),Be("year","y"),Ve("year",1),nt("Y",qe),nt("YY",Le,ae),nt("YYYY",At,Je),nt("YYYYY",j,ct),nt("YYYYYY",j,ct),Ot(["YYYYY","YYYYYY"],Fr),Ot("YYYY",function(T,z){z[Fr]=T.length===2?t.parseTwoDigitYear(T):le(T)}),Ot("YY",function(T,z){z[Fr]=t.parseTwoDigitYear(T)}),Ot("Y",function(T,z){z[Fr]=parseInt(T,10)});function xa(T){return vt(T)?366:365}t.parseTwoDigitYear=function(T){return le(T)+(le(T)>68?1900:2e3)};var $a=ue("FullYear",!0);function so(){return vt(this.year())}function xi(T,z,X,J,he,Re,ht){var Vt;return T<100&&T>=0?(Vt=new Date(T+400,z,X,J,he,Re,ht),isFinite(Vt.getFullYear())&&Vt.setFullYear(T)):Vt=new Date(T,z,X,J,he,Re,ht),Vt}function wi(T){var z,X;return T<100&&T>=0?(X=Array.prototype.slice.call(arguments),X[0]=T+400,z=new Date(Date.UTC.apply(null,X)),isFinite(z.getUTCFullYear())&&z.setUTCFullYear(T)):z=new Date(Date.UTC.apply(null,arguments)),z}function un(T,z,X){var J=7+z-X,he=(7+wi(T,0,J).getUTCDay()-z)%7;return-he+J-1}function wa(T,z,X,J,he){var Re=(7+X-J)%7,ht=un(T,J,he),Vt=1+7*(z-1)+Re+ht,or,Rr;return Vt<=0?(or=T-1,Rr=xa(or)+Vt):Vt>xa(T)?(or=T+1,Rr=Vt-xa(T)):(or=T,Rr=Vt),{year:or,dayOfYear:Rr}}function Yr(T,z,X){var J=un(T.year(),z,X),he=Math.floor((T.dayOfYear()-J-1)/7)+1,Re,ht;return he<1?(ht=T.year()-1,Re=he+Cn(ht,z,X)):he>Cn(T.year(),z,X)?(Re=he-Cn(T.year(),z,X),ht=T.year()+1):(ht=T.year(),Re=he),{week:Re,year:ht}}function Cn(T,z,X){var J=un(T,z,X),he=un(T+1,z,X);return(xa(T)-J+he)/7}ie("w",["ww",2],"wo","week"),ie("W",["WW",2],"Wo","isoWeek"),Be("week","w"),Be("isoWeek","W"),Ve("week",5),Ve("isoWeek",5),nt("w",Le),nt("ww",Le,ae),nt("W",Le),nt("WW",Le,ae),yr(["w","ww","W","WW"],function(T,z,X,J){z[J.substr(0,1)]=le(T)});function Cs(T){return Yr(T,this._week.dow,this._week.doy).week}var Sa={dow:0,doy:6};function pu(){return this._week.dow}function Ln(){return this._week.doy}function Ca(T){var z=this.localeData().week(this);return T==null?z:this.add((T-z)*7,"d")}function mu(T){var z=Yr(this,1,4).week;return T==null?z:this.add((T-z)*7,"d")}ie("d",0,"do","day"),ie("dd",0,0,function(T){return this.localeData().weekdaysMin(this,T)}),ie("ddd",0,0,function(T){return this.localeData().weekdaysShort(this,T)}),ie("dddd",0,0,function(T){return this.localeData().weekdays(this,T)}),ie("e",0,0,"weekday"),ie("E",0,0,"isoWeekday"),Be("day","d"),Be("weekday","e"),Be("isoWeekday","E"),Ve("day",11),Ve("weekday",11),Ve("isoWeekday",11),nt("d",Le),nt("e",Le),nt("E",Le),nt("dd",function(T,z){return z.weekdaysMinRegex(T)}),nt("ddd",function(T,z){return z.weekdaysShortRegex(T)}),nt("dddd",function(T,z){return z.weekdaysRegex(T)}),yr(["dd","ddd","dddd"],function(T,z,X,J){var he=X._locale.weekdaysParse(T,J,X._strict);he!=null?z.d=he:x(X).invalidWeekday=T}),yr(["d","e","E"],function(T,z,X,J){z[J]=le(T)});function ta(T,z){return typeof T!="string"?T:isNaN(T)?(T=z.weekdaysParse(T),typeof T=="number"?T:null):parseInt(T,10)}function hn(T,z){return typeof T=="string"?z.weekdaysParse(T)%7||7:isNaN(T)?null:T}function _n(T,z){return T.slice(z,7).concat(T.slice(0,z))}var cr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ea="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gu=Lt,Ma=Lt,vu=Lt;function el(T,z){var X=n(this._weekdays)?this._weekdays:this._weekdays[T&&T!==!0&&this._weekdays.isFormat.test(z)?"format":"standalone"];return T===!0?_n(X,this._week.dow):T?X[T.day()]:X}function ra(T){return T===!0?_n(this._weekdaysShort,this._week.dow):T?this._weekdaysShort[T.day()]:this._weekdaysShort}function Xf(T){return T===!0?_n(this._weekdaysMin,this._week.dow):T?this._weekdaysMin[T.day()]:this._weekdaysMin}function $f(T,z,X){var J,he,Re,ht=T.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],J=0;J<7;++J)Re=y([2e3,1]).day(J),this._minWeekdaysParse[J]=this.weekdaysMin(Re,"").toLocaleLowerCase(),this._shortWeekdaysParse[J]=this.weekdaysShort(Re,"").toLocaleLowerCase(),this._weekdaysParse[J]=this.weekdays(Re,"").toLocaleLowerCase();return X?z==="dddd"?(he=Ar.call(this._weekdaysParse,ht),he!==-1?he:null):z==="ddd"?(he=Ar.call(this._shortWeekdaysParse,ht),he!==-1?he:null):(he=Ar.call(this._minWeekdaysParse,ht),he!==-1?he:null):z==="dddd"?(he=Ar.call(this._weekdaysParse,ht),he!==-1||(he=Ar.call(this._shortWeekdaysParse,ht),he!==-1)?he:(he=Ar.call(this._minWeekdaysParse,ht),he!==-1?he:null)):z==="ddd"?(he=Ar.call(this._shortWeekdaysParse,ht),he!==-1||(he=Ar.call(this._weekdaysParse,ht),he!==-1)?he:(he=Ar.call(this._minWeekdaysParse,ht),he!==-1?he:null)):(he=Ar.call(this._minWeekdaysParse,ht),he!==-1||(he=Ar.call(this._weekdaysParse,ht),he!==-1)?he:(he=Ar.call(this._shortWeekdaysParse,ht),he!==-1?he:null))}function Si(T,z,X){var J,he,Re;if(this._weekdaysParseExact)return $f.call(this,T,z,X);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),J=0;J<7;J++){if(he=y([2e3,1]).day(J),X&&!this._fullWeekdaysParse[J]&&(this._fullWeekdaysParse[J]=new RegExp("^"+this.weekdays(he,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[J]=new RegExp("^"+this.weekdaysShort(he,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[J]=new RegExp("^"+this.weekdaysMin(he,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[J]||(Re="^"+this.weekdays(he,"")+"|^"+this.weekdaysShort(he,"")+"|^"+this.weekdaysMin(he,""),this._weekdaysParse[J]=new RegExp(Re.replace(".",""),"i")),X&&z==="dddd"&&this._fullWeekdaysParse[J].test(T))return J;if(X&&z==="ddd"&&this._shortWeekdaysParse[J].test(T))return J;if(X&&z==="dd"&&this._minWeekdaysParse[J].test(T))return J;if(!X&&this._weekdaysParse[J].test(T))return J}}function Es(T){if(!this.isValid())return T!=null?this:NaN;var z=this._isUTC?this._d.getUTCDay():this._d.getDay();return T!=null?(T=ta(T,this.localeData()),this.add(T-z,"d")):z}function Qf(T){if(!this.isValid())return T!=null?this:NaN;var z=(this.day()+7-this.localeData()._week.dow)%7;return T==null?z:this.add(T-z,"d")}function qf(T){if(!this.isValid())return T!=null?this:NaN;if(T!=null){var z=hn(T,this.localeData());return this.day(this.day()%7?z:z-7)}else return this.day()||7}function Ms(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||uo.call(this),T?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=gu),this._weekdaysStrictRegex&&T?this._weekdaysStrictRegex:this._weekdaysRegex)}function tl(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||uo.call(this),T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ma),this._weekdaysShortStrictRegex&&T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function lo(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||uo.call(this),T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vu),this._weekdaysMinStrictRegex&&T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function uo(){function T(ui,Bs){return Bs.length-ui.length}var z=[],X=[],J=[],he=[],Re,ht,Vt,or,Rr;for(Re=0;Re<7;Re++)ht=y([2e3,1]).day(Re),Vt=jt(this.weekdaysMin(ht,"")),or=jt(this.weekdaysShort(ht,"")),Rr=jt(this.weekdays(ht,"")),z.push(Vt),X.push(or),J.push(Rr),he.push(Vt),he.push(or),he.push(Rr);z.sort(T),X.sort(T),J.sort(T),he.sort(T),this._weekdaysRegex=new RegExp("^("+he.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+J.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+X.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+z.join("|")+")","i")}function Qa(){return this.hours()%12||12}function _u(){return this.hours()||24}ie("H",["HH",2],0,"hour"),ie("h",["hh",2],0,Qa),ie("k",["kk",2],0,_u),ie("hmm",0,0,function(){return""+Qa.apply(this)+$(this.minutes(),2)}),ie("hmmss",0,0,function(){return""+Qa.apply(this)+$(this.minutes(),2)+$(this.seconds(),2)}),ie("Hmm",0,0,function(){return""+this.hours()+$(this.minutes(),2)}),ie("Hmmss",0,0,function(){return""+this.hours()+$(this.minutes(),2)+$(this.seconds(),2)});function rl(T,z){ie(T,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),z)})}rl("a",!0),rl("A",!1),Be("hour","h"),Ve("hour",13);function fo(T,z){return z._meridiemParse}nt("a",fo),nt("A",fo),nt("H",Le),nt("h",Le),nt("k",Le),nt("HH",Le,ae),nt("hh",Le,ae),nt("kk",Le,ae),nt("hmm",ot),nt("hmmss",oe),nt("Hmm",ot),nt("Hmmss",oe),Ot(["H","HH"],Zt),Ot(["k","kk"],function(T,z,X){var J=le(T);z[Zt]=J===24?0:J}),Ot(["a","A"],function(T,z,X){X._isPm=X._locale.isPM(T),X._meridiem=T}),Ot(["h","hh"],function(T,z,X){z[Zt]=le(T),x(X).bigHour=!0}),Ot("hmm",function(T,z,X){var J=T.length-2;z[Zt]=le(T.substr(0,J)),z[nr]=le(T.substr(J)),x(X).bigHour=!0}),Ot("hmmss",function(T,z,X){var J=T.length-4,he=T.length-2;z[Zt]=le(T.substr(0,J)),z[nr]=le(T.substr(J,2)),z[Br]=le(T.substr(he)),x(X).bigHour=!0}),Ot("Hmm",function(T,z,X){var J=T.length-2;z[Zt]=le(T.substr(0,J)),z[nr]=le(T.substr(J))}),Ot("Hmmss",function(T,z,X){var J=T.length-4,he=T.length-2;z[Zt]=le(T.substr(0,J)),z[nr]=le(T.substr(J,2)),z[Br]=le(T.substr(he))});function Jf(T){return(T+"").toLowerCase().charAt(0)==="p"}var ed=/[ap]\.?m?\.?/i,td=ue("Hours",!0);function Ds(T,z,X){return T>11?X?"pm":"PM":X?"am":"AM"}var nl={calendar:q,longDateFormat:Te,invalidDate:Xe,ordinal:R,dayOfMonthOrdinalParse:me,relativeTime:ne,months:Ss,monthsShort:ya,week:Sa,weekdays:cr,weekdaysMin:oo,weekdaysShort:Ea,meridiemParse:ed},Nr={},As={},Ts;function rd(T,z){var X,J=Math.min(T.length,z.length);for(X=0;X<J;X+=1)if(T[X]!==z[X])return X;return J}function A(T){return T&&T.toLowerCase().replace("_","-")}function N(T){for(var z=0,X,J,he,Re;z<T.length;){for(Re=A(T[z]).split("-"),X=Re.length,J=A(T[z+1]),J=J?J.split("-"):null;X>0;){if(he=Y(Re.slice(0,X).join("-")),he)return he;if(J&&J.length>=X&&rd(Re,J)>=X-1)break;X--}z++}return Ts}function U(T){return T.match("^[^/\\\\]*$")!=null}function Y(T){var z=null,X;if(Nr[T]===void 0&&typeof Hf<"u"&&Hf&&Hf.exports&&U(T))try{z=Ts._abbr,X=hl,X("./locale/"+T),ee(z)}catch{Nr[T]=null}return Nr[T]}function ee(T,z){var X;return T&&(l(z)?X=Oe(T):X=te(T,z),X?Ts=X:typeof console<"u"&&console.warn&&console.warn("Locale "+T+" not found. Did you forget to load it?")),Ts._abbr}function te(T,z){if(z!==null){var X,J=nl;if(z.abbr=T,Nr[T]!=null)O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),J=Nr[T]._config;else if(z.parentLocale!=null)if(Nr[z.parentLocale]!=null)J=Nr[z.parentLocale]._config;else if(X=Y(z.parentLocale),X!=null)J=X._config;else return As[z.parentLocale]||(As[z.parentLocale]=[]),As[z.parentLocale].push({name:T,config:z}),null;return Nr[T]=new G(B(J,z)),As[T]&&As[T].forEach(function(he){te(he.name,he.config)}),ee(T),Nr[T]}else return delete Nr[T],null}function de(T,z){if(z!=null){var X,J,he=nl;Nr[T]!=null&&Nr[T].parentLocale!=null?Nr[T].set(B(Nr[T]._config,z)):(J=Y(T),J!=null&&(he=J._config),z=B(he,z),J==null&&(z.abbr=T),X=new G(z),X.parentLocale=Nr[T],Nr[T]=X),ee(T)}else Nr[T]!=null&&(Nr[T].parentLocale!=null?(Nr[T]=Nr[T].parentLocale,T===ee()&&ee(T)):Nr[T]!=null&&delete Nr[T]);return Nr[T]}function Oe(T){var z;if(T&&T._locale&&T._locale._abbr&&(T=T._locale._abbr),!T)return Ts;if(!n(T)){if(z=Y(T),z)return z;T=[T]}return N(T)}function Ae(){return K(Nr)}function Ze(T){var z,X=T._a;return X&&x(T).overflow===-2&&(z=X[tn]<0||X[tn]>11?tn:X[fr]<1||X[fr]>ea(X[Fr],X[tn])?fr:X[Zt]<0||X[Zt]>24||X[Zt]===24&&(X[nr]!==0||X[Br]!==0||X[Wr]!==0)?Zt:X[nr]<0||X[nr]>59?nr:X[Br]<0||X[Br]>59?Br:X[Wr]<0||X[Wr]>999?Wr:-1,x(T)._overflowDayOfYear&&(z<Fr||z>fr)&&(z=fr),x(T)._overflowWeeks&&z===-1&&(z=yi),x(T)._overflowWeekday&&z===-1&&(z=ws),x(T).overflow=z),T}var dt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,it=/Z|[+-]\d\d(?::?\d\d)?/,xt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Kt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],lr=/^\/?Date\((-?\d+)/i,tr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,pn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qr(T){var z,X,J=T._i,he=dt.exec(J)||mt.exec(J),Re,ht,Vt,or,Rr=xt.length,ui=Kt.length;if(he){for(x(T).iso=!0,z=0,X=Rr;z<X;z++)if(xt[z][1].exec(he[1])){ht=xt[z][0],Re=xt[z][2]!==!1;break}if(ht==null){T._isValid=!1;return}if(he[3]){for(z=0,X=ui;z<X;z++)if(Kt[z][1].exec(he[3])){Vt=(he[2]||" ")+Kt[z][0];break}if(Vt==null){T._isValid=!1;return}}if(!Re&&Vt!=null){T._isValid=!1;return}if(he[4])if(it.exec(he[4]))or="Z";else{T._isValid=!1;return}T._f=ht+(Vt||"")+(or||""),Ai(T)}else T._isValid=!1}function Ci(T,z,X,J,he,Re){var ht=[Un(T),ya.indexOf(z),parseInt(X,10),parseInt(J,10),parseInt(he,10)];return Re&&ht.push(parseInt(Re,10)),ht}function Un(T){var z=parseInt(T,10);return z<=49?2e3+z:z<=999?1900+z:z}function sr(T){return T.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Da(T,z,X){if(T){var J=Ea.indexOf(T),he=new Date(z[0],z[1],z[2]).getDay();if(J!==he)return x(X).weekdayMismatch=!0,X._isValid=!1,!1}return!0}function hr(T,z,X){if(T)return pn[T];if(z)return 0;var J=parseInt(X,10),he=J%100,Re=(J-he)/100;return Re*60+he}function jr(T){var z=tr.exec(sr(T._i)),X;if(z){if(X=Ci(z[4],z[3],z[2],z[5],z[6],z[7]),!Da(z[1],X,T))return;T._a=X,T._tzm=hr(z[8],z[9],z[10]),T._d=wi.apply(null,T._a),T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),x(T).rfc2822=!0}else T._isValid=!1}function Bi(T){var z=lr.exec(T._i);if(z!==null){T._d=new Date(+z[1]);return}if(qr(T),T._isValid===!1)delete T._isValid;else return;if(jr(T),T._isValid===!1)delete T._isValid;else return;T._strict?T._isValid=!1:t.createFromInputFallback(T)}t.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(T){T._d=new Date(T._i+(T._useUTC?" UTC":""))});function Ei(T,z,X){return T??z??X}function Mi(T){var z=new Date(t.now());return T._useUTC?[z.getUTCFullYear(),z.getUTCMonth(),z.getUTCDate()]:[z.getFullYear(),z.getMonth(),z.getDate()]}function Aa(T){var z,X,J=[],he,Re,ht;if(!T._d){for(he=Mi(T),T._w&&T._a[fr]==null&&T._a[tn]==null&&Di(T),T._dayOfYear!=null&&(ht=Ei(T._a[Fr],he[Fr]),(T._dayOfYear>xa(ht)||T._dayOfYear===0)&&(x(T)._overflowDayOfYear=!0),X=wi(ht,0,T._dayOfYear),T._a[tn]=X.getUTCMonth(),T._a[fr]=X.getUTCDate()),z=0;z<3&&T._a[z]==null;++z)T._a[z]=J[z]=he[z];for(;z<7;z++)T._a[z]=J[z]=T._a[z]==null?z===2?1:0:T._a[z];T._a[Zt]===24&&T._a[nr]===0&&T._a[Br]===0&&T._a[Wr]===0&&(T._nextDay=!0,T._a[Zt]=0),T._d=(T._useUTC?wi:xi).apply(null,J),Re=T._useUTC?T._d.getUTCDay():T._d.getDay(),T._tzm!=null&&T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),T._nextDay&&(T._a[Zt]=24),T._w&&typeof T._w.d<"u"&&T._w.d!==Re&&(x(T).weekdayMismatch=!0)}}function Di(T){var z,X,J,he,Re,ht,Vt,or,Rr;z=T._w,z.GG!=null||z.W!=null||z.E!=null?(Re=1,ht=4,X=Ei(z.GG,T._a[Fr],Yr(Sr(),1,4).year),J=Ei(z.W,1),he=Ei(z.E,1),(he<1||he>7)&&(or=!0)):(Re=T._locale._week.dow,ht=T._locale._week.doy,Rr=Yr(Sr(),Re,ht),X=Ei(z.gg,T._a[Fr],Rr.year),J=Ei(z.w,Rr.week),z.d!=null?(he=z.d,(he<0||he>6)&&(or=!0)):z.e!=null?(he=z.e+Re,(z.e<0||z.e>6)&&(or=!0)):he=Re),J<1||J>Cn(X,Re,ht)?x(T)._overflowWeeks=!0:or!=null?x(T)._overflowWeekday=!0:(Vt=wa(X,J,he,Re,ht),T._a[Fr]=Vt.year,T._dayOfYear=Vt.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Ai(T){if(T._f===t.ISO_8601){qr(T);return}if(T._f===t.RFC_2822){jr(T);return}T._a=[],x(T).empty=!0;var z=""+T._i,X,J,he,Re,ht,Vt=z.length,or=0,Rr,ui;for(he=Ne(T._f,T._locale).match(W)||[],ui=he.length,X=0;X<ui;X++)Re=he[X],J=(z.match(qt(Re,T))||[])[0],J&&(ht=z.substr(0,z.indexOf(J)),ht.length>0&&x(T).unusedInput.push(ht),z=z.slice(z.indexOf(J)+J.length),or+=J.length),Q[Re]?(J?x(T).empty=!1:x(T).unusedTokens.push(Re),mr(Re,J,T)):T._strict&&!J&&x(T).unusedTokens.push(Re);x(T).charsLeftOver=Vt-or,z.length>0&&x(T).unusedInput.push(z),T._a[Zt]<=12&&x(T).bigHour===!0&&T._a[Zt]>0&&(x(T).bigHour=void 0),x(T).parsedDateParts=T._a.slice(0),x(T).meridiem=T._meridiem,T._a[Zt]=na(T._locale,T._a[Zt],T._meridiem),Rr=x(T).era,Rr!==null&&(T._a[Fr]=T._locale.erasConvertYear(Rr,T._a[Fr])),Aa(T),Ze(T)}function na(T,z,X){var J;return X==null?z:T.meridiemHour!=null?T.meridiemHour(z,X):(T.isPM!=null&&(J=T.isPM(X),J&&z<12&&(z+=12),!J&&z===12&&(z=0)),z)}function Zn(T){var z,X,J,he,Re,ht,Vt=!1,or=T._f.length;if(or===0){x(T).invalidFormat=!0,T._d=new Date(NaN);return}for(he=0;he<or;he++)Re=0,ht=!1,z=M({},T),T._useUTC!=null&&(z._useUTC=T._useUTC),z._f=T._f[he],Ai(z),b(z)&&(ht=!0),Re+=x(z).charsLeftOver,Re+=x(z).unusedTokens.length*10,x(z).score=Re,Vt?Re<J&&(J=Re,X=z):(J==null||Re<J||ht)&&(J=Re,X=z,ht&&(Vt=!0));_(T,X||z)}function il(T){if(!T._d){var z=Fe(T._i),X=z.day===void 0?z.date:z.day;T._a=g([z.year,z.month,X,z.hour,z.minute,z.second,z.millisecond],function(J){return J&&parseInt(J,10)}),Aa(T)}}function Ri(T){var z=new p(Ze(Wn(T)));return z._nextDay&&(z.add(1,"d"),z._nextDay=void 0),z}function Wn(T){var z=T._i,X=T._f;return T._locale=T._locale||Oe(T._l),z===null||X===void 0&&z===""?h({nullInput:!0}):(typeof z=="string"&&(T._i=z=T._locale.preparse(z)),c(z)?new p(Ze(z)):(v(z)?T._d=z:n(X)?Zn(T):X?Ai(T):nd(T),b(T)||(T._d=null),T))}function nd(T){var z=T._i;l(z)?T._d=new Date(t.now()):v(z)?T._d=new Date(z.valueOf()):typeof z=="string"?Bi(T):n(z)?(T._a=g(z.slice(0),function(X){return parseInt(X,10)}),Aa(T)):a(z)?il(T):u(z)?T._d=new Date(z):t.createFromInputFallback(T)}function bu(T,z,X,J,he){var Re={};return(z===!0||z===!1)&&(J=z,z=void 0),(X===!0||X===!1)&&(J=X,X=void 0),(a(T)&&o(T)||n(T)&&T.length===0)&&(T=void 0),Re._isAMomentObject=!0,Re._useUTC=Re._isUTC=he,Re._l=X,Re._i=T,Re._f=z,Re._strict=J,Ri(Re)}function Sr(T,z,X,J){return bu(T,z,X,J,!1)}var Er=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=Sr.apply(null,arguments);return this.isValid()&&T.isValid()?T<this?this:T:h()}),Ls=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=Sr.apply(null,arguments);return this.isValid()&&T.isValid()?T>this?this:T:h()});function jn(T,z){var X,J;if(z.length===1&&n(z[0])&&(z=z[0]),!z.length)return Sr();for(X=z[0],J=1;J<z.length;++J)(!z[J].isValid()||z[J][T](X))&&(X=z[J]);return X}function ia(){var T=[].slice.call(arguments,0);return jn("isBefore",T)}function yu(){var T=[].slice.call(arguments,0);return jn("isAfter",T)}var id=function(){return Date.now?Date.now():+new Date},qa=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ta(T){var z,X=!1,J,he=qa.length;for(z in T)if(s(T,z)&&!(Ar.call(qa,z)!==-1&&(T[z]==null||!isNaN(T[z]))))return!1;for(J=0;J<he;++J)if(T[qa[J]]){if(X)return!1;parseFloat(T[qa[J]])!==le(T[qa[J]])&&(X=!0)}return!0}function al(){return this._isValid}function La(){return Ut(NaN)}function Ui(T){var z=Fe(T),X=z.year||0,J=z.quarter||0,he=z.month||0,Re=z.week||z.isoWeek||0,ht=z.day||0,Vt=z.hour||0,or=z.minute||0,Rr=z.second||0,ui=z.millisecond||0;this._isValid=Ta(z),this._milliseconds=+ui+Rr*1e3+or*6e4+Vt*1e3*60*60,this._days=+ht+Re*7,this._months=+he+J*3+X*12,this._data={},this._locale=Oe(),this._bubble()}function Oa(T){return T instanceof Ui}function ka(T){return T<0?Math.round(-1*T)*-1:Math.round(T)}function Os(T,z,X){var J=Math.min(T.length,z.length),he=Math.abs(T.length-z.length),Re=0,ht;for(ht=0;ht<J;ht++)(X&&T[ht]!==z[ht]||!X&&le(T[ht])!==le(z[ht]))&&Re++;return Re+he}function ks(T,z){ie(T,0,0,function(){var X=this.utcOffset(),J="+";return X<0&&(X=-X,J="-"),J+$(~~(X/60),2)+z+$(~~X%60,2)})}ks("Z",":"),ks("ZZ",""),nt("Z",ze),nt("ZZ",ze),Ot(["Z","ZZ"],function(T,z,X){X._useUTC=!0,X._tzm=Wi(ze,T)});var ad=/([\+\-]|\d\d)/gi;function Wi(T,z){var X=(z||"").match(T),J,he,Re;return X===null?null:(J=X[X.length-1]||[],he=(J+"").match(ad)||["-",0,0],Re=+(he[1]*60)+le(he[2]),Re===0?0:he[0]==="+"?Re:-Re)}function li(T,z){var X,J;return z._isUTC?(X=z.clone(),J=(c(T)||v(T)?T.valueOf():Sr(T).valueOf())-X.valueOf(),X._d.setTime(X._d.valueOf()+J),t.updateOffset(X,!1),X):Sr(T).local()}function Ps(T){return-Math.round(T._d.getTimezoneOffset())}t.updateOffset=function(){};function sd(T,z,X){var J=this._offset||0,he;if(!this.isValid())return T!=null?this:NaN;if(T!=null){if(typeof T=="string"){if(T=Wi(ze,T),T===null)return this}else Math.abs(T)<16&&!X&&(T=T*60);return!this._isUTC&&z&&(he=Ps(this)),this._offset=T,this._isUTC=!0,he!=null&&this.add(he,"m"),J!==T&&(!z||this._changeInProgress?mn(this,Ut(T-J,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?J:Ps(this)}function On(T,z){return T!=null?(typeof T!="string"&&(T=-T),this.utcOffset(T,z),this):-this.utcOffset()}function sl(T){return this.utcOffset(0,T)}function xe(T){return this._isUTC&&(this.utcOffset(0,T),this._isUTC=!1,T&&this.subtract(Ps(this),"m")),this}function We(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var T=Wi(ce,this._i);T!=null?this.utcOffset(T):this.utcOffset(0,!0)}return this}function tt(T){return this.isValid()?(T=T?Sr(T).utcOffset():0,(this.utcOffset()-T)%60===0):!1}function ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pt(){if(!l(this._isDSTShifted))return this._isDSTShifted;var T={},z;return M(T,this),T=Wn(T),T._a?(z=T._isUTC?y(T._a):Sr(T._a),this._isDSTShifted=this.isValid()&&Os(T._a,z.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tt(){return this.isValid()?!this._isUTC:!1}function kt(){return this.isValid()?this._isUTC:!1}function Bt(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Pt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ir=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ut(T,z){var X=T,J=null,he,Re,ht;return Oa(T)?X={ms:T._milliseconds,d:T._days,M:T._months}:u(T)||!isNaN(+T)?(X={},z?X[z]=+T:X.milliseconds=+T):(J=Pt.exec(T))?(he=J[1]==="-"?-1:1,X={y:0,d:le(J[fr])*he,h:le(J[Zt])*he,m:le(J[nr])*he,s:le(J[Br])*he,ms:le(ka(J[Wr]*1e3))*he}):(J=ir.exec(T))?(he=J[1]==="-"?-1:1,X={y:Gt(J[2],he),M:Gt(J[3],he),w:Gt(J[4],he),d:Gt(J[5],he),h:Gt(J[6],he),m:Gt(J[7],he),s:Gt(J[8],he)}):X==null?X={}:typeof X=="object"&&("from"in X||"to"in X)&&(ht=Wt(Sr(X.from),Sr(X.to)),X={},X.ms=ht.milliseconds,X.M=ht.months),Re=new Ui(X),Oa(T)&&s(T,"_locale")&&(Re._locale=T._locale),Oa(T)&&s(T,"_isValid")&&(Re._isValid=T._isValid),Re}Ut.fn=Ui.prototype,Ut.invalid=La;function Gt(T,z){var X=T&&parseFloat(T.replace(",","."));return(isNaN(X)?0:X)*z}function rr(T,z){var X={};return X.months=z.month()-T.month()+(z.year()-T.year())*12,T.clone().add(X.months,"M").isAfter(z)&&--X.months,X.milliseconds=+z-+T.clone().add(X.months,"M"),X}function Wt(T,z){var X;return T.isValid()&&z.isValid()?(z=li(z,T),T.isBefore(z)?X=rr(T,z):(X=rr(z,T),X.milliseconds=-X.milliseconds,X.months=-X.months),X):{milliseconds:0,months:0}}function ur(T,z){return function(X,J){var he,Re;return J!==null&&!isNaN(+J)&&(O(z,"moment()."+z+"(period, number) is deprecated. Please use moment()."+z+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Re=X,X=J,J=Re),he=Ut(X,J),mn(this,he,T),this}}function mn(T,z,X,J){var he=z._milliseconds,Re=ka(z._days),ht=ka(z._months);T.isValid()&&(J=J??!0,ht&&si(T,ve(T,"Month")+ht*X),Re&&Ke(T,"Date",ve(T,"Date")+Re*X),he&&T._d.setTime(T._d.valueOf()+he*X),J&&t.updateOffset(T,Re||ht))}var gn=ur(1,"add"),kn=ur(-1,"subtract");function Xn(T){return typeof T=="string"||T instanceof String}function Pa(T){return c(T)||v(T)||Xn(T)||u(T)||vh(T)||bn(T)||T===null||T===void 0}function bn(T){var z=a(T)&&!o(T),X=!1,J=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],he,Re,ht=J.length;for(he=0;he<ht;he+=1)Re=J[he],X=X||s(T,Re);return z&&X}function vh(T){var z=n(T),X=!1;return z&&(X=T.filter(function(J){return!u(J)&&Xn(T)}).length===0),z&&X}function xu(T){var z=a(T)&&!o(T),X=!1,J=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],he,Re;for(he=0;he<J.length;he+=1)Re=J[he],X=X||s(T,Re);return z&&X}function wu(T,z){var X=T.diff(z,"days",!0);return X<-6?"sameElse":X<-1?"lastWeek":X<0?"lastDay":X<1?"sameDay":X<2?"nextDay":X<7?"nextWeek":"sameElse"}function _h(T,z){arguments.length===1&&(arguments[0]?Pa(arguments[0])?(T=arguments[0],z=void 0):xu(arguments[0])&&(z=arguments[0],T=void 0):(T=void 0,z=void 0));var X=T||Sr(),J=li(X,this).startOf("day"),he=t.calendarFormat(this,J)||"sameElse",Re=z&&(P(z[he])?z[he].call(this,X):z[he]);return this.format(Re||this.localeData().calendar(he,this,Sr(X)))}function bh(){return new p(this)}function yh(T,z){var X=c(T)?T:Sr(T);return this.isValid()&&X.isValid()?(z=_e(z)||"millisecond",z==="millisecond"?this.valueOf()>X.valueOf():X.valueOf()<this.clone().startOf(z).valueOf()):!1}function xh(T,z){var X=c(T)?T:Sr(T);return this.isValid()&&X.isValid()?(z=_e(z)||"millisecond",z==="millisecond"?this.valueOf()<X.valueOf():this.clone().endOf(z).valueOf()<X.valueOf()):!1}function wh(T,z,X,J){var he=c(T)?T:Sr(T),Re=c(z)?z:Sr(z);return this.isValid()&&he.isValid()&&Re.isValid()?(J=J||"()",(J[0]==="("?this.isAfter(he,X):!this.isBefore(he,X))&&(J[1]===")"?this.isBefore(Re,X):!this.isAfter(Re,X))):!1}function od(T,z){var X=c(T)?T:Sr(T),J;return this.isValid()&&X.isValid()?(z=_e(z)||"millisecond",z==="millisecond"?this.valueOf()===X.valueOf():(J=X.valueOf(),this.clone().startOf(z).valueOf()<=J&&J<=this.clone().endOf(z).valueOf())):!1}function Sh(T,z){return this.isSame(T,z)||this.isAfter(T,z)}function Ch(T,z){return this.isSame(T,z)||this.isBefore(T,z)}function Gr(T,z,X){var J,he,Re;if(!this.isValid())return NaN;if(J=li(T,this),!J.isValid())return NaN;switch(he=(J.utcOffset()-this.utcOffset())*6e4,z=_e(z),z){case"year":Re=ol(this,J)/12;break;case"month":Re=ol(this,J);break;case"quarter":Re=ol(this,J)/3;break;case"second":Re=(this-J)/1e3;break;case"minute":Re=(this-J)/6e4;break;case"hour":Re=(this-J)/36e5;break;case"day":Re=(this-J-he)/864e5;break;case"week":Re=(this-J-he)/6048e5;break;default:Re=this-J}return X?Re:_t(Re)}function ol(T,z){if(T.date()<z.date())return-ol(z,T);var X=(z.year()-T.year())*12+(z.month()-T.month()),J=T.clone().add(X,"months"),he,Re;return z-J<0?(he=T.clone().add(X-1,"months"),Re=(z-J)/(J-he)):(he=T.clone().add(X+1,"months"),Re=(z-J)/(he-J)),-(X+Re)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Eh(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Bg(T){if(!this.isValid())return null;var z=T!==!0,X=z?this.clone().utc():this;return X.year()<0||X.year()>9999?Me(X,z?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?z?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Me(X,"Z")):Me(X,z?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Rg(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var T="moment",z="",X,J,he,Re;return this.isLocal()||(T=this.utcOffset()===0?"moment.utc":"moment.parseZone",z="Z"),X="["+T+'("]',J=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",he="-MM-DD[T]HH:mm:ss.SSS",Re=z+'[")]',this.format(X+J+he+Re)}function Fw(T){T||(T=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var z=Me(this,T);return this.localeData().postformat(z)}function Ug(T,z){return this.isValid()&&(c(T)&&T.isValid()||Sr(T).isValid())?Ut({to:this,from:T}).locale(this.locale()).humanize(!z):this.localeData().invalidDate()}function Mh(T){return this.from(Sr(),T)}function Wg(T,z){return this.isValid()&&(c(T)&&T.isValid()||Sr(T).isValid())?Ut({from:this,to:T}).locale(this.locale()).humanize(!z):this.localeData().invalidDate()}function Ns(T){return this.to(Sr(),T)}function ld(T){var z;return T===void 0?this._locale._abbr:(z=Oe(T),z!=null&&(this._locale=z),this)}var ud=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(T){return T===void 0?this.localeData():this.locale(T)});function fd(){return this._locale}var ll=1e3,co=60*ll,ul=60*co,Su=(365*400+97)*24*ul;function Ja(T,z){return(T%z+z)%z}function Dh(T,z,X){return T<100&&T>=0?new Date(T+400,z,X)-Su:new Date(T,z,X).valueOf()}function dd(T,z,X){return T<100&&T>=0?Date.UTC(T+400,z,X)-Su:Date.UTC(T,z,X)}function jg(T){var z,X;if(T=_e(T),T===void 0||T==="millisecond"||!this.isValid())return this;switch(X=this._isUTC?dd:Dh,T){case"year":z=X(this.year(),0,1);break;case"quarter":z=X(this.year(),this.month()-this.month()%3,1);break;case"month":z=X(this.year(),this.month(),1);break;case"week":z=X(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":z=X(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":z=X(this.year(),this.month(),this.date());break;case"hour":z=this._d.valueOf(),z-=Ja(z+(this._isUTC?0:this.utcOffset()*co),ul);break;case"minute":z=this._d.valueOf(),z-=Ja(z,co);break;case"second":z=this._d.valueOf(),z-=Ja(z,ll);break}return this._d.setTime(z),t.updateOffset(this,!0),this}function Gg(T){var z,X;if(T=_e(T),T===void 0||T==="millisecond"||!this.isValid())return this;switch(X=this._isUTC?dd:Dh,T){case"year":z=X(this.year()+1,0,1)-1;break;case"quarter":z=X(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":z=X(this.year(),this.month()+1,1)-1;break;case"week":z=X(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":z=X(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":z=X(this.year(),this.month(),this.date()+1)-1;break;case"hour":z=this._d.valueOf(),z+=ul-Ja(z+(this._isUTC?0:this.utcOffset()*co),ul)-1;break;case"minute":z=this._d.valueOf(),z+=co-Ja(z,co)-1;break;case"second":z=this._d.valueOf(),z+=ll-Ja(z,ll)-1;break}return this._d.setTime(z),t.updateOffset(this,!0),this}function Hg(){return this._d.valueOf()-(this._offset||0)*6e4}function Vg(){return Math.floor(this.valueOf()/1e3)}function Yg(){return new Date(this.valueOf())}function Kg(){var T=this;return[T.year(),T.month(),T.date(),T.hour(),T.minute(),T.second(),T.millisecond()]}function Zg(){var T=this;return{years:T.year(),months:T.month(),date:T.date(),hours:T.hours(),minutes:T.minutes(),seconds:T.seconds(),milliseconds:T.milliseconds()}}function Xg(){return this.isValid()?this.toISOString():null}function $g(){return b(this)}function Qg(){return _({},x(this))}function qg(){return x(this).overflow}function Jg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ie("N",0,0,"eraAbbr"),ie("NN",0,0,"eraAbbr"),ie("NNN",0,0,"eraAbbr"),ie("NNNN",0,0,"eraName"),ie("NNNNN",0,0,"eraNarrow"),ie("y",["y",1],"yo","eraYear"),ie("y",["yy",2],0,"eraYear"),ie("y",["yyy",3],0,"eraYear"),ie("y",["yyyy",4],0,"eraYear"),nt("N",dl),nt("NN",dl),nt("NNN",dl),nt("NNNN",sv),nt("NNNNN",Th),Ot(["N","NN","NNN","NNNN","NNNNN"],function(T,z,X,J){var he=X._locale.erasParse(T,J,X._strict);he?x(X).era=he:x(X).invalidEra=T}),nt("y",Ye),nt("yy",Ye),nt("yyy",Ye),nt("yyyy",Ye),nt("yo",ov),Ot(["y","yy","yyy","yyyy"],Fr),Ot(["yo"],function(T,z,X,J){var he;X._locale._eraYearOrdinalRegex&&(he=T.match(X._locale._eraYearOrdinalRegex)),X._locale.eraYearOrdinalParse?z[Fr]=X._locale.eraYearOrdinalParse(T,he):z[Fr]=parseInt(T,10)});function ev(T,z){var X,J,he,Re=this._eras||Oe("en")._eras;for(X=0,J=Re.length;X<J;++X){switch(typeof Re[X].since){case"string":he=t(Re[X].since).startOf("day"),Re[X].since=he.valueOf();break}switch(typeof Re[X].until){case"undefined":Re[X].until=1/0;break;case"string":he=t(Re[X].until).startOf("day").valueOf(),Re[X].until=he.valueOf();break}}return Re}function tv(T,z,X){var J,he,Re=this.eras(),ht,Vt,or;for(T=T.toUpperCase(),J=0,he=Re.length;J<he;++J)if(ht=Re[J].name.toUpperCase(),Vt=Re[J].abbr.toUpperCase(),or=Re[J].narrow.toUpperCase(),X)switch(z){case"N":case"NN":case"NNN":if(Vt===T)return Re[J];break;case"NNNN":if(ht===T)return Re[J];break;case"NNNNN":if(or===T)return Re[J];break}else if([ht,Vt,or].indexOf(T)>=0)return Re[J]}function Na(T,z){var X=T.since<=T.until?1:-1;return z===void 0?t(T.since).year():t(T.since).year()+(z-T.offset)*X}function rv(){var T,z,X,J=this.localeData().eras();for(T=0,z=J.length;T<z;++T)if(X=this.clone().startOf("day").valueOf(),J[T].since<=X&&X<=J[T].until||J[T].until<=X&&X<=J[T].since)return J[T].name;return""}function nv(){var T,z,X,J=this.localeData().eras();for(T=0,z=J.length;T<z;++T)if(X=this.clone().startOf("day").valueOf(),J[T].since<=X&&X<=J[T].until||J[T].until<=X&&X<=J[T].since)return J[T].narrow;return""}function Ah(){var T,z,X,J=this.localeData().eras();for(T=0,z=J.length;T<z;++T)if(X=this.clone().startOf("day").valueOf(),J[T].since<=X&&X<=J[T].until||J[T].until<=X&&X<=J[T].since)return J[T].abbr;return""}function iv(){var T,z,X,J,he=this.localeData().eras();for(T=0,z=he.length;T<z;++T)if(X=he[T].since<=he[T].until?1:-1,J=this.clone().startOf("day").valueOf(),he[T].since<=J&&J<=he[T].until||he[T].until<=J&&J<=he[T].since)return(this.year()-t(he[T].since).year())*X+he[T].offset;return this.year()}function av(T){return s(this,"_erasNameRegex")||Is.call(this),T?this._erasNameRegex:this._erasRegex}function fl(T){return s(this,"_erasAbbrRegex")||Is.call(this),T?this._erasAbbrRegex:this._erasRegex}function cd(T){return s(this,"_erasNarrowRegex")||Is.call(this),T?this._erasNarrowRegex:this._erasRegex}function dl(T,z){return z.erasAbbrRegex(T)}function sv(T,z){return z.erasNameRegex(T)}function Th(T,z){return z.erasNarrowRegex(T)}function ov(T,z){return z._eraYearOrdinalRegex||Ye}function Is(){var T=[],z=[],X=[],J=[],he,Re,ht=this.eras();for(he=0,Re=ht.length;he<Re;++he)z.push(jt(ht[he].name)),T.push(jt(ht[he].abbr)),X.push(jt(ht[he].narrow)),J.push(jt(ht[he].name)),J.push(jt(ht[he].abbr)),J.push(jt(ht[he].narrow));this._erasRegex=new RegExp("^("+J.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+z.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+T.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+X.join("|")+")","i")}ie(0,["gg",2],0,function(){return this.weekYear()%100}),ie(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ho(T,z){ie(0,[T,T.length],0,z)}ho("gggg","weekYear"),ho("ggggg","weekYear"),ho("GGGG","isoWeekYear"),ho("GGGGG","isoWeekYear"),Be("weekYear","gg"),Be("isoWeekYear","GG"),Ve("weekYear",1),Ve("isoWeekYear",1),nt("G",qe),nt("g",qe),nt("GG",Le,ae),nt("gg",Le,ae),nt("GGGG",At,Je),nt("gggg",At,Je),nt("GGGGG",j,ct),nt("ggggg",j,ct),yr(["gggg","ggggg","GGGG","GGGGG"],function(T,z,X,J){z[J.substr(0,2)]=le(T)}),yr(["gg","GG"],function(T,z,X,J){z[J]=t.parseTwoDigitYear(T)});function lv(T){return Lh.call(this,T,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function uv(T){return Lh.call(this,T,this.isoWeek(),this.isoWeekday(),1,4)}function fv(){return Cn(this.year(),1,4)}function dv(){return Cn(this.isoWeekYear(),1,4)}function cv(){var T=this.localeData()._week;return Cn(this.year(),T.dow,T.doy)}function hv(){var T=this.localeData()._week;return Cn(this.weekYear(),T.dow,T.doy)}function Lh(T,z,X,J,he){var Re;return T==null?Yr(this,J,he).year:(Re=Cn(T,J,he),z>Re&&(z=Re),pv.call(this,T,z,X,J,he))}function pv(T,z,X,J,he){var Re=wa(T,z,X,J,he),ht=wi(Re.year,0,Re.dayOfYear);return this.year(ht.getUTCFullYear()),this.month(ht.getUTCMonth()),this.date(ht.getUTCDate()),this}ie("Q",0,"Qo","quarter"),Be("quarter","Q"),Ve("quarter",7),nt("Q",st),Ot("Q",function(T,z){z[tn]=(le(T)-1)*3});function mv(T){return T==null?Math.ceil((this.month()+1)/3):this.month((T-1)*3+this.month()%3)}ie("D",["DD",2],"Do","date"),Be("date","D"),Ve("date",9),nt("D",Le),nt("DD",Le,ae),nt("Do",function(T,z){return T?z._dayOfMonthOrdinalParse||z._ordinalParse:z._dayOfMonthOrdinalParseLenient}),Ot(["D","DD"],fr),Ot("Do",function(T,z){z[fr]=le(T.match(Le)[0])});var Oh=ue("Date",!0);ie("DDD",["DDDD",3],"DDDo","dayOfYear"),Be("dayOfYear","DDD"),Ve("dayOfYear",4),nt("DDD",ut),nt("DDDD",Ue),Ot(["DDD","DDDD"],function(T,z,X){X._dayOfYear=le(T)});function gv(T){var z=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return T==null?z:this.add(T-z,"d")}ie("m",["mm",2],0,"minute"),Be("minute","m"),Ve("minute",14),nt("m",Le),nt("mm",Le,ae),Ot(["m","mm"],nr);var vv=ue("Minutes",!1);ie("s",["ss",2],0,"second"),Be("second","s"),Ve("second",15),nt("s",Le),nt("ss",Le,ae),Ot(["s","ss"],Br);var _v=ue("Seconds",!1);ie("S",0,0,function(){return~~(this.millisecond()/100)}),ie(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ie(0,["SSS",3],0,"millisecond"),ie(0,["SSSS",4],0,function(){return this.millisecond()*10}),ie(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ie(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ie(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ie(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ie(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Be("millisecond","ms"),Ve("millisecond",16),nt("S",ut,st),nt("SS",ut,ae),nt("SSS",ut,Ue);var es,kh;for(es="SSSS";es.length<=9;es+="S")nt(es,Ye);function Ph(T,z){z[Wr]=le(("0."+T)*1e3)}for(es="S";es.length<=9;es+="S")Ot(es,Ph);kh=ue("Milliseconds",!1),ie("z",0,0,"zoneAbbr"),ie("zz",0,0,"zoneName");function Nh(){return this._isUTC?"UTC":""}function Ih(){return this._isUTC?"Coordinated Universal Time":""}var Et=p.prototype;Et.add=gn,Et.calendar=_h,Et.clone=bh,Et.diff=Gr,Et.endOf=Gg,Et.format=Fw,Et.from=Ug,Et.fromNow=Mh,Et.to=Wg,Et.toNow=Ns,Et.get=ke,Et.invalidAt=qg,Et.isAfter=yh,Et.isBefore=xh,Et.isBetween=wh,Et.isSame=od,Et.isSameOrAfter=Sh,Et.isSameOrBefore=Ch,Et.isValid=$g,Et.lang=ud,Et.locale=ld,Et.localeData=fd,Et.max=Ls,Et.min=Er,Et.parsingFlags=Qg,Et.set=rt,Et.startOf=jg,Et.subtract=kn,Et.toArray=Kg,Et.toObject=Zg,Et.toDate=Yg,Et.toISOString=Bg,Et.inspect=Rg,typeof Symbol<"u"&&Symbol.for!=null&&(Et[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Et.toJSON=Xg,Et.toString=Eh,Et.unix=Vg,Et.valueOf=Hg,Et.creationData=Jg,Et.eraName=rv,Et.eraNarrow=nv,Et.eraAbbr=Ah,Et.eraYear=iv,Et.year=$a,Et.isLeapYear=so,Et.weekYear=lv,Et.isoWeekYear=uv,Et.quarter=Et.quarters=mv,Et.month=Kn,Et.daysInMonth=Tn,Et.week=Et.weeks=Ca,Et.isoWeek=Et.isoWeeks=mu,Et.weeksInYear=cv,Et.weeksInWeekYear=hv,Et.isoWeeksInYear=fv,Et.isoWeeksInISOWeekYear=dv,Et.date=Oh,Et.day=Et.days=Es,Et.weekday=Qf,Et.isoWeekday=qf,Et.dayOfYear=gv,Et.hour=Et.hours=td,Et.minute=Et.minutes=vv,Et.second=Et.seconds=_v,Et.millisecond=Et.milliseconds=kh,Et.utcOffset=sd,Et.utc=sl,Et.local=xe,Et.parseZone=We,Et.hasAlignedHourOffset=tt,Et.isDST=ft,Et.isLocal=Tt,Et.isUtcOffset=kt,Et.isUtc=Bt,Et.isUTC=Bt,Et.zoneAbbr=Nh,Et.zoneName=Ih,Et.dates=D("dates accessor is deprecated. Use date instead.",Oh),Et.months=D("months accessor is deprecated. Use month instead",Kn),Et.years=D("years accessor is deprecated. Use year instead",$a),Et.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",On),Et.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pt);function zh(T){return Sr(T*1e3)}function Fh(){return Sr.apply(null,arguments).parseZone()}function hd(T){return T}var xr=G.prototype;xr.calendar=H,xr.longDateFormat=be,xr.invalidDate=$e,xr.ordinal=ge,xr.preparse=hd,xr.postformat=hd,xr.relativeTime=fe,xr.pastFuture=ye,xr.set=k,xr.eras=ev,xr.erasParse=tv,xr.erasConvertYear=Na,xr.erasAbbrRegex=fl,xr.erasNameRegex=av,xr.erasNarrowRegex=cd,xr.months=Kf,xr.monthsShort=Zf,xr.monthsParse=ar,xr.monthsRegex=Xa,xr.monthsShortRegex=oi,xr.week=Cs,xr.firstDayOfYear=Ln,xr.firstDayOfWeek=pu,xr.weekdays=el,xr.weekdaysMin=Xf,xr.weekdaysShort=ra,xr.weekdaysParse=Si,xr.weekdaysRegex=Ms,xr.weekdaysShortRegex=tl,xr.weekdaysMinRegex=lo,xr.isPM=Jf,xr.meridiem=Ds;function cl(T,z,X,J){var he=Oe(),Re=y().set(J,z);return he[X](Re,T)}function Bh(T,z,X){if(u(T)&&(z=T,T=void 0),T=T||"",z!=null)return cl(T,z,X,"month");var J,he=[];for(J=0;J<12;J++)he[J]=cl(T,J,X,"month");return he}function L(T,z,X,J){typeof T=="boolean"?(u(z)&&(X=z,z=void 0),z=z||""):(z=T,X=z,T=!1,u(z)&&(X=z,z=void 0),z=z||"");var he=Oe(),Re=T?he._week.dow:0,ht,Vt=[];if(X!=null)return cl(z,(X+Re)%7,J,"day");for(ht=0;ht<7;ht++)Vt[ht]=cl(z,(ht+Re)%7,J,"day");return Vt}function re(T,z){return Bh(T,z,"months")}function F(T,z){return Bh(T,z,"monthsShort")}function pe(T,z,X){return L(T,z,X,"weekdays")}function Ee(T,z,X){return L(T,z,X,"weekdaysShort")}function Se(T,z,X){return L(T,z,X,"weekdaysMin")}ee("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(T){var z=T%10,X=le(T%100/10)===1?"th":z===1?"st":z===2?"nd":z===3?"rd":"th";return T+X}}),t.lang=D("moment.lang is deprecated. Use moment.locale instead.",ee),t.langData=D("moment.langData is deprecated. Use moment.localeData instead.",Oe);var at=Math.abs;function Qe(){var T=this._data;return this._milliseconds=at(this._milliseconds),this._days=at(this._days),this._months=at(this._months),T.milliseconds=at(T.milliseconds),T.seconds=at(T.seconds),T.minutes=at(T.minutes),T.hours=at(T.hours),T.months=at(T.months),T.years=at(T.years),this}function zt(T,z,X,J){var he=Ut(z,X);return T._milliseconds+=J*he._milliseconds,T._days+=J*he._days,T._months+=J*he._months,T._bubble()}function je(T,z){return zt(this,T,z,1)}function lt(T,z){return zt(this,T,z,-1)}function wr(T){return T<0?Math.floor(T):Math.ceil(T)}function It(){var T=this._milliseconds,z=this._days,X=this._months,J=this._data,he,Re,ht,Vt,or;return T>=0&&z>=0&&X>=0||T<=0&&z<=0&&X<=0||(T+=wr(Yt(X)+z)*864e5,z=0,X=0),J.milliseconds=T%1e3,he=_t(T/1e3),J.seconds=he%60,Re=_t(he/60),J.minutes=Re%60,ht=_t(Re/60),J.hours=ht%24,z+=_t(ht/24),or=_t(St(z)),X+=or,z-=wr(Yt(or)),Vt=_t(X/12),X%=12,J.days=z,J.months=X,J.years=Vt,this}function St(T){return T*4800/146097}function Yt(T){return T*146097/4800}function Kr(T){if(!this.isValid())return NaN;var z,X,J=this._milliseconds;if(T=_e(T),T==="month"||T==="quarter"||T==="year")switch(z=this._days+J/864e5,X=this._months+St(z),T){case"month":return X;case"quarter":return X/3;case"year":return X/12}else switch(z=this._days+Math.round(Yt(this._months)),T){case"week":return z/7+J/6048e5;case"day":return z+J/864e5;case"hour":return z*24+J/36e5;case"minute":return z*1440+J/6e4;case"second":return z*86400+J/1e3;case"millisecond":return Math.floor(z*864e5)+J;default:throw new Error("Unknown unit "+T)}}function gr(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+le(this._months/12)*31536e6:NaN}function Qt(T){return function(){return this.as(T)}}var Tr=Qt("ms"),dr=Qt("s"),Nt=Qt("m"),Mr=Qt("h"),yn=Qt("d"),Xt=Qt("w"),Ir=Qt("M"),vr=Qt("Q"),er=Qt("y");function pr(){return Ut(this)}function zs(T){return T=_e(T),this.isValid()?this[T+"s"]():NaN}function ts(T){return function(){return this.isValid()?this._data[T]:NaN}}var Cu=ts("milliseconds"),Eu=ts("seconds"),ak=ts("minutes"),sk=ts("hours"),ok=ts("days"),lk=ts("months"),uk=ts("years");function fk(){return _t(this.days()/7)}var Fs=Math.round,Mu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function dk(T,z,X,J,he){return he.relativeTime(z||1,!!X,T,J)}function ck(T,z,X,J){var he=Ut(T).abs(),Re=Fs(he.as("s")),ht=Fs(he.as("m")),Vt=Fs(he.as("h")),or=Fs(he.as("d")),Rr=Fs(he.as("M")),ui=Fs(he.as("w")),Bs=Fs(he.as("y")),po=Re<=X.ss&&["s",Re]||Re<X.s&&["ss",Re]||ht<=1&&["m"]||ht<X.m&&["mm",ht]||Vt<=1&&["h"]||Vt<X.h&&["hh",Vt]||or<=1&&["d"]||or<X.d&&["dd",or];return X.w!=null&&(po=po||ui<=1&&["w"]||ui<X.w&&["ww",ui]),po=po||Rr<=1&&["M"]||Rr<X.M&&["MM",Rr]||Bs<=1&&["y"]||["yy",Bs],po[2]=z,po[3]=+T>0,po[4]=J,dk.apply(null,po)}function hk(T){return T===void 0?Fs:typeof T=="function"?(Fs=T,!0):!1}function pk(T,z){return Mu[T]===void 0?!1:z===void 0?Mu[T]:(Mu[T]=z,T==="s"&&(Mu.ss=z-1),!0)}function mk(T,z){if(!this.isValid())return this.localeData().invalidDate();var X=!1,J=Mu,he,Re;return typeof T=="object"&&(z=T,T=!1),typeof T=="boolean"&&(X=T),typeof z=="object"&&(J=Object.assign({},Mu,z),z.s!=null&&z.ss==null&&(J.ss=z.s-1)),he=this.localeData(),Re=ck(this,!X,J,he),X&&(Re=he.pastFuture(+this,Re)),he.postformat(Re)}var bv=Math.abs;function Du(T){return(T>0)-(T<0)||+T}function Rh(){if(!this.isValid())return this.localeData().invalidDate();var T=bv(this._milliseconds)/1e3,z=bv(this._days),X=bv(this._months),J,he,Re,ht,Vt=this.asSeconds(),or,Rr,ui,Bs;return Vt?(J=_t(T/60),he=_t(J/60),T%=60,J%=60,Re=_t(X/12),X%=12,ht=T?T.toFixed(3).replace(/\.?0+$/,""):"",or=Vt<0?"-":"",Rr=Du(this._months)!==Du(Vt)?"-":"",ui=Du(this._days)!==Du(Vt)?"-":"",Bs=Du(this._milliseconds)!==Du(Vt)?"-":"",or+"P"+(Re?Rr+Re+"Y":"")+(X?Rr+X+"M":"")+(z?ui+z+"D":"")+(he||J||T?"T":"")+(he?Bs+he+"H":"")+(J?Bs+J+"M":"")+(T?Bs+ht+"S":"")):"P0D"}var Cr=Ui.prototype;Cr.isValid=al,Cr.abs=Qe,Cr.add=je,Cr.subtract=lt,Cr.as=Kr,Cr.asMilliseconds=Tr,Cr.asSeconds=dr,Cr.asMinutes=Nt,Cr.asHours=Mr,Cr.asDays=yn,Cr.asWeeks=Xt,Cr.asMonths=Ir,Cr.asQuarters=vr,Cr.asYears=er,Cr.valueOf=gr,Cr._bubble=It,Cr.clone=pr,Cr.get=zs,Cr.milliseconds=Cu,Cr.seconds=Eu,Cr.minutes=ak,Cr.hours=sk,Cr.days=ok,Cr.weeks=fk,Cr.months=lk,Cr.years=uk,Cr.humanize=mk,Cr.toISOString=Rh,Cr.toString=Rh,Cr.toJSON=Rh,Cr.locale=ld,Cr.localeData=fd,Cr.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rh),Cr.lang=ud,ie("X",0,0,"unix"),ie("x",0,0,"valueOf"),nt("x",qe),nt("X",et),Ot("X",function(T,z,X){X._d=new Date(parseFloat(T)*1e3)}),Ot("x",function(T,z,X){X._d=new Date(le(T))});return t.version="2.29.4",r(Sr),t.fn=Et,t.min=ia,t.max=yu,t.now=id,t.utc=y,t.unix=zh,t.months=re,t.isDate=v,t.locale=ee,t.invalid=h,t.duration=Ut,t.isMoment=c,t.weekdays=pe,t.parseZone=Fh,t.localeData=Oe,t.isDuration=Oa,t.monthsShort=F,t.weekdaysMin=Se,t.defineLocale=te,t.updateLocale=de,t.locales=Ae,t.weekdaysShort=Ee,t.normalizeUnits=_e,t.relativeTimeRounding=hk,t.relativeTimeThreshold=pk,t.calendarFormat=wu,t.prototype=Et,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});function ys(e,t,r,n,a){let s=[],o=function(y){return y.ss==="h"?(y.color="#e353e3","#e353e3"):y.ss==="s"?(y.color="#e5dd55","#e5dd55"):(y.color="grey","grey")},l=function(y){let w=s[y.resi];return Gf[w]?(y.color=Gf[w],Gf[w]):(y.color="White","White")},u=function(y){return y.b===1?(y.color="red","red"):y.b===.5?(y.color="black","black"):y.b===50?(y.color="white","white"):y.b===100?(y.color="red","red"):(y.color="blue","blue")},v=e,g={backgroundColor:"#ffffff"},_=window.$3Dmol.createViewer(v,g);_.addModel(t,"pdb"),a?_.setStyle({},{cartoon:{colorfunc:l}}):r?_.setStyle({},{cartoon:{colorfunc:o}}):_.setStyle({},{cartoon:{colorfunc:u}}),n&&_.addSurface(window.$3Dmol.SurfaceType.VDW,{opacity:.8,colorscheme:"whiteCarbon"}),a&&(s=nO(a)[0]),_.zoomTo(),_.render(),_.zoom(1.7,3e3)}function Yf(e,t,r,n){let a={endpoints_url:"http://127.0.0.1:8000/analytics_automated/endpoints/",submit_url:"http://127.0.0.1:8000/analytics_automated/submission/",times_url:"http://127.0.0.1:8000/analytics_automated/jobtimes/",joblist_url:"http://127.0.0.1:8000/analytics_automated/job/",gears_svg:"../static/images/gears.svg",app_path:"/interface",files_url:"http://127.0.0.1:8000",location:"Dev",main_url:"http://127.0.0.1"};return e.includes(":3000")&&(a.main_url="http://127.0.0.1:3000"),e==="http://bioinf.cs.ucl.ac.uk/psipred/"||e.includes("psipred")&&!e.includes("psipred_beta")?(a.main_url="http://bioinf.cs.ucl.ac.uk/",a.app_path="/psipred",a.joblist_url=r+a.app_path+"/api/job/",a.endpoints_url=r+a.app_path+"/api/endpoints/",a.submit_url=r+a.app_path+"/api/submission/",a.times_url=r+a.app_path+"/api/jobtimes/",a.files_url=r+a.app_path+"/api",a.gears_svg="http://bioinf.cs.ucl.ac.uk/psipred_beta/static/images/gears.svg",a["location "]="Production"):t==="bioinfstage1.cs.ucl.ac.uk"?(a.main_url="bioinfstage1.cs.ucl.ac.uk",a.joblist_url=r+n+"/api/job/",a.endpoints_url=r+n+"/api/endpoints/",a.submit_url=r+n+"/api/submission/",a.times_url=r+n+"/api/jobtimes/",a.files_url=r+n+"/api",a.location="Staging"):e==="http://bioinf.cs.ucl.ac.uk/psipred_beta/"||e.includes("psipred_beta")?(a.app_path=n,a.main_url="bioinf.cs.ucl.ac.uk",a.joblist_url=r+n+"/api/job/",a.endpoints_url=r+n+"/api/endpoints/",a.submit_url=r+n+"/api/submission/",a.times_url=r+n+"/api/jobtimes/",a.files_url=r+n+"/api",a.location="Staging"):t==="127.0.0.1"||t==="localhost"?console.log("dev server using default URIs"):(alert("UNSETTING ENDPOINTS WARNING, WARNING! WEBSITE NON FUNCTIONAL"),a.joblist_url="",a.endpoints_url="",a.submit_url="",a.times_url=""),console.log(a),a}function ai(e,t,r){console.log("REQUESTING ASCII DATA: "+t+e);let n=null,a=new XMLHttpRequest;return a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&a.status===200&&(n=a.response)},a.open("GET",t+e,!1),r&&a.setRequestHeader("Accept",r),a.send(),a.onerror=function(){alert("Request failed")},n}function xs(e,t,r,n,a,s,o){let l=null;o?l=(0,Vf.default)(e).DataTable({searching:!0,pageLength:t,order:[o]}):l=(0,Vf.default)(e).DataTable({searching:!0,pageLength:t});var u=(0,Vf.default)(r),v=(0,Vf.default)(n);Vf.default.fn.dataTable.ext.search.push(function(g,_){if(g.nTable.id!==a)return!0;var y=parseFloat(u.val(),10),w=parseFloat(v.val(),10),x=parseFloat(_[s])||0;return!!(isNaN(y)&&isNaN(w)||isNaN(y)&&x<=w||y<=x&&isNaN(w)||y<=x&&x<=w)}),u.on("input",function(){l.draw()}),v.on("input",function(){l.draw()})}function pO(e){console.log(e),console.log("Sending form data");var t=null;try{t=new Blob([e.seq])}catch(n){alert(n)}if(e.pdbData)try{t=new Blob([e.pdbData])}catch(n){alert(n)}let r=new FormData;return console.log("JOB NAME: "+e.name),r.append("input_data",t,"input.txt"),r.append("job",e.jobs.join(",")),r.append("submission_name",e.name),r.append("email",e.email),e.jobs.includes("dompred")&&(r.append("psiblast_dompred_evalue",e.dompred_e_value_cutoff),r.append("psiblast_dompred_iterations",e.dompred_psiblast_iterations)),e.jobs.includes("metsite")&&(r.append("metsite_checkchains_chain",e.metsite_chain_id),r.append("extract_fasta_chain",e.metsite_chain_id),r.append("seedSiteFind_metal",e.metsite_metal_type),r.append("seedSiteFind_chain",e.metsite_chain_id),r.append("metpred_wrapper_chain",e.metsite_chain_id),r.append("metpred_wrapper_metal",e.metsite_metal_type),r.append("metpred_wrapper_fpr",e.metsite_fpr)),e.jobs.includes("hspred")&&(r.append("hspred_checkchains_chains",e.hspred_protein_1+e.hspred_protein_2),r.append("hs_pred_first_chain",e.hspred_protein_1),r.append("hs_pred_second_chain",e.hspred_protein_2),r.append("split_pdb_files_first_chain",e.hspred_protein_1),r.append("split_pdb_files_second_chain",e.hspred_protein_2)),e.jobs.includes("memembed")&&(r.append("memembed_algorithm",e.memembed_algorithm),r.append("memembed_barrel",e.memembed_barrel),r.append("memembed_termini",e.memembed_terminal)),e.jobs.includes("ffpred")&&r.append("ffpred_selection",e.ffpred_selection),r}function mO(e){let t={loading_message:null};for(let[r,n]of Object.entries(e))t[r]=_R.duration(n*1e3).humanize();return t}function gO(e,t){vg(e.annotations,{parent:t,margin_scaler:2,debug:!1,container_width:900,width:900,height:e.annotation_panel_height,container_height:e.annotation_panel_height})}function yg(e){let t="",r=0;return e.steps.forEach(function(n){n.task.configuration.length>0&&(n.task.configuration.forEach(function(a){t+=e.name+",",t+=r+",",t+=a.type+",",t+=a.name+",",t+=a.version+",",t+='"'+a.parameters+`"
`}),r+=1)}),t}var Vf,_R,Sn=se(()=>{Vf=rn(h0());CE();ph();Ew();Ji();_R=hO()});var _O=Pn((hfe,vO)=>{vO.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(a){e.addRange(a)}),t&&t.focus()}}});var xO=Pn((pfe,yO)=>{"use strict";var bR=_O(),bO={"text/plain":"Text","text/html":"Url",default:"Text"},yR="Copy to clipboard: #{key}, Enter";function xR(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function wR(e,t){var r,n,a,s,o,l,u=!1;t||(t={}),r=t.debug||!1;try{a=bR(),s=document.createRange(),o=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(g){if(g.stopPropagation(),t.format)if(g.preventDefault(),typeof g.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var _=bO[t.format]||bO.default;window.clipboardData.setData(_,e)}else g.clipboardData.clearData(),g.clipboardData.setData(t.format,e);t.onCopy&&(g.preventDefault(),t.onCopy(g.clipboardData))}),document.body.appendChild(l),s.selectNodeContents(l),o.addRange(s);var v=document.execCommand("copy");if(!v)throw new Error("copy command was unsuccessful");u=!0}catch(g){r&&console.error("unable to copy using execCommand: ",g),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(_){r&&console.error("unable to copy using clipboardData: ",_),r&&console.error("falling back to prompt"),n=xR("message"in t?t.message:yR),window.prompt(n,e)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),l&&document.body.removeChild(l),a()}return u}yO.exports=wR});var AO=Pn(Sg=>{"use strict";function Dw(e){"@babel/helpers - typeof";return Dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dw(e)}Object.defineProperty(Sg,"__esModule",{value:!0});Sg.CopyToClipboard=void 0;var xg=EO(Nn()),SR=EO(xO()),CR=["text","onCopy","options","children"];function EO(e){return e&&e.__esModule?e:{default:e}}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){Tw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ER(e,t){if(e==null)return{};var r=MR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MR(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function DR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AR(e,t,r){return t&&CO(e.prototype,t),r&&CO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Aw(e,t)}function LR(e){var t=kR();return function(){var n=wg(e),a;if(t){var s=wg(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return OR(this,a)}}function OR(e,t){if(t&&(Dw(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MO(e)}function MO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(e)}function Tw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DO=function(e){TR(r,e);var t=LR(r);function r(){var n;DR(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),Tw(MO(n),"onClick",function(l){var u=n.props,v=u.text,g=u.onCopy,_=u.children,y=u.options,w=xg.default.Children.only(_),x=(0,SR.default)(v,y);g&&g(v,x),w&&w.props&&typeof w.props.onClick=="function"&&w.props.onClick(l)}),n}return AR(r,[{key:"render",value:function(){var a=this.props,s=a.text,o=a.onCopy,l=a.options,u=a.children,v=ER(a,CR),g=xg.default.Children.only(u);return xg.default.cloneElement(g,SO(SO({},v),{},{onClick:this.onClick}))}}]),r}(xg.default.PureComponent);Sg.CopyToClipboard=DO;Tw(DO,"defaultProps",{onCopy:void 0,options:void 0})});var Ow=Pn((gfe,TO)=>{"use strict";var PR=AO(),Lw=PR.CopyToClipboard;Lw.CopyToClipboard=Lw;TO.exports=Lw});var gt,LO,Cg,OO=se(()=>{gt=rn(Nn());Sn();Sn();Sn();Sn();LO=rn(Ow());Sn();Ji();Ji();Ji();Ji();Ji();Ji();Ji();Ji();ph();ph();ph();Cg=class extends gt.default.Component{constructor(t){super(t);let r=this.props.seq.split(""),n=[];r.forEach(function(s){n.push({res:s})});let a=(Math.ceil(n.length/50)+2)*20+8*20;a<300&&(a=300),this.state={annotations:n,psipred_results:null,disopred_results:null,memsatsvm_results:null,pgenthreader_results:null,annotation_panel_height:a},this.sequencePlot=gt.default.createRef(),this.horizPlot=gt.default.createRef(),this.disopredPlot=gt.default.createRef(),this.memsatSVMSchematic=gt.default.createRef(),this.memsatSVMCartoon=gt.default.createRef(),this.pgenthreaderTable=gt.default.createRef(),this.dmp_plot=gt.default.createRef(),this.genthreaderTable=gt.default.createRef(),this.pdomthreaderTable=gt.default.createRef(),this.dmpfold_pdb=gt.default.createRef(),this.s4pred_horiz=gt.default.createRef(),this.dompred_chart=gt.default.createRef(),this.dompred_results=gt.default.createRef(),this.ffpred_memsat=gt.default.createRef(),this.ffpred_tables=gt.default.createRef(),this.ffpred_sch=gt.default.createRef(),this.aa_comp=gt.default.createRef(),this.global_features=gt.default.createRef(),this.mempack_plot=gt.default.createRef(),this.timer=null}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null);for(let u in this.state.psipred_results)if(u.includes(".horiz")){let v=this.state.psipred_results[u],g=(v.match(/Conf/g)||[]).length,_=6*30*(g+1)+120;cu(v,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}for(let u in this.state.dompred_results)if(u.includes(".horiz")){let v=this.state.dompred_results[u],g=(v.match(/Conf/g)||[]).length,_=6*30*(g+1)+120;cu(v,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}for(let u in this.state.ffpred_results)if(u.includes(".horiz")){let v=this.state.ffpred_results[u],g=(v.match(/Conf/g)||[]).length,_=6*30*(g+1)+120;cu(v,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}for(let u in this.state.disopred_results)if(u.includes(".comb")){let v=this.state.disopred_results[u],g=fO(v);JL(g,"pos",["precision"],["Black"],"DisoNNChart",{parent:this.disopredPlot.current,chartType:"line",y_cutoff:.5,margin_scaler:2,debug:!1,container_width:900,width:900,height:300,container_height:300})}for(let u in this.state.memsatsvm_results){if(u.includes("_schematic.png")){let v=this.state.memsatsvm_results[u],g=document.createElement("img");g.src=v,g.alt="Memsat Schematic diagram",this.memsatSVMSchematic.current.appendChild(g),g=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(g)}if(u.includes("_cartoon_memsat_svm.png")){let v=this.state.memsatsvm_results[u],g=document.createElement("img");g.src=v,g.alt="Memsat Cartoon diagram",this.memsatSVMSchematic.current.appendChild(g),g=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(g)}}let r={},n={},a={};for(let u in this.state.pgenthreader_results)if(u.includes(".ann")){let v=u.substring(0,u.lastIndexOf(".")),g=v.substring(v.lastIndexOf(".")+1,v.length);r[g]={},r[g].ann=v+".ann",r[g].aln=v+".aln"}for(let u in this.state.pgenthreader_results){if(u.includes(".horiz")){let v=this.state.pgenthreader_results[u],g=(v.match(/Conf/g)||[]).length,_=6*30*(g+1)+120;cu(v,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}if(u.includes(".presults")){let v=this.state.pgenthreader_results[u],g=bg(v,r,"pgen");var s=document.createElement("template");s.innerHTML=g,this.pgenthreaderTable.current.appendChild(s.content)}}this.state.pgenthreader_results&&xs("#pgen_table",50,"#min_pgen_pval","#max_pgen_pval","pgen_table",2,null);for(let u in this.state.genthreader_results)if(u.includes(".ann")){let v=u.substring(0,u.lastIndexOf(".")),g=v.substring(v.lastIndexOf(".")+1,v.length);n[g]={},n[g].ann=v+".ann",n[g].aln=v+".aln"}for(let u in this.state.genthreader_results)if(u.includes(".presults")){let v=this.state.genthreader_results[u],g=bg(v,n,"gen");var o=document.createElement("template");o.innerHTML=g,this.genthreaderTable.current.appendChild(o.content)}this.state.genthreader_results&&xs("#gen_table",50,"#min_gen_pval","#max_gen_pval","gen_table",2,null);for(let u in this.state.pdomthreader_results)if(u.includes(".ann")){let v=u.substring(0,u.lastIndexOf(".")),g=v.substring(v.lastIndexOf(".")+1,v.length);a[g]={},a[g].ann=v+".ann",a[g].aln=v+".aln"}for(let u in this.state.pdomthreader_results)if(u.includes(".presults")){let v=this.state.pdomthreader_results[u],g=bg(v,a,"pgen");var l=document.createElement("template");l.innerHTML=g,this.pdomthreaderTable.current.appendChild(l.content)}this.state.pdomthreader_results&&xs("#pdom_table",50,"#min_pdom_pval","#max_pdom_pval","pdom_table",2,null);for(let u in this.state.dmp_results){if(u.includes(".horiz")){let v=this.state.dmp_results[u],g=(v.match(/Conf/g)||[]).length,_=6*30*(g+1)+120;cu(v,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}if(u.includes("png")){let v=this.state.dmp_results[u],g=document.createElement("img");g.src=v,g.alt="DMP Contact Map",this.dmp_plot.current.appendChild(g),g=document.createElement("br"),this.dmp_plot.current.appendChild(g)}}for(let u in this.state.dmpfold_results)u.includes(".pdb")&&ys(this.dmpfold_pdb.current,this.state.dmpfold_results[u],!0,!1);for(let u in this.state.s4pred_results)if(u.includes(".horiz")){let v=this.state.s4pred_results[u],g=(v.match(/Conf/g)||[]).length,_=6*30*(g+1)+120;cu(v,"psipredChart",{parent:this.s4pred_horiz.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}for(let u in this.state.dompred_results){if(u.includes(".png")){let v=this.state.dompred_results[u],g=document.createElement("img");g.src=v,g.alt="Dompred Chart",this.dompred_chart.current.appendChild(g),g=document.createElement("br"),this.dompred_chart.current.appendChild(g)}if(u.includes(".boundary")){let v=this.state.dompred_results[u],_=/Domain\sBoundary\slocations\spredicted\sDPS:\s(.+)/.exec(v),y=document.createElement("h4");y.innerText+=v,_?y.innerText+=v:y.innerText+="No ParseDS Domain boundaries predicted",this.dompred_results.current.appendChild(y)}}for(let u in this.state.ffpred_results){if(u.includes("_cartoon_memsat_svm.png")){let v=this.state.ffpred_results[u],g=document.createElement("div");g.className="center";let _=document.createElement("img");_.src=v,_.alt="Memsat Cartoon diagram",g.append(_),this.ffpred_memsat.current.appendChild(g),_=document.createElement("br"),this.ffpred_memsat.current.appendChild(_)}if(u.includes("_sch.png")){let v=this.state.ffpred_results[u],g=document.createElement("div");g.className="center";let _=document.createElement("img");_.src=v,_.alt="FFPred Feature Schematic",g.append(_),this.ffpred_sch.current.appendChild(g),_=document.createElement("br"),this.ffpred_sch.current.appendChild(_)}if(u.includes(".featcfg")){let v=this.state.ffpred_results[u],g=oO(v),_=g[0],y=g[1];s=document.createElement("template"),s.innerHTML=_,this.global_features.current.appendChild(s.content),s=document.createElement("template"),s.innerHTML=y,this.aa_comp.current.appendChild(s.content)}if(u.includes(".full_formatted")){let v=this.state.ffpred_results[u],g=sO(v);s=document.createElement("template"),s.innerHTML=g,this.ffpred_tables.current.appendChild(s.content)}}this.state.ffpred_results&&(xs("#bp_table",50,"#min_bp_prob","#max_bp_prob","bp_table",2,[3,"asc"]),xs("#mf_table",50,"#min_mf_prob","#max_mf_prob","mf_table",2,[3,"asc"]),xs("#cc_table",50,"#min_cc_prob","#max_cc_prob","cc_table",2,[3,"asc"]));for(let u in this.state.mempack_results){if(u.includes("_Kamada-Kawai_1.png")){let v=this.state.mempack_results[u],g=document.createElement("img");g.src=v,g.alt="Mempack Diagram",g.setAttribute("width","60%"),this.mempack_plot.current.appendChild(g),g=document.createElement("br"),this.mempack_plot.current.appendChild(g)}if(u.includes("_schematic.png")){let v=this.state.mempack_results[u],g=document.createElement("img");g.src=v,g.alt="Memsat Schematic diagram",this.memsatSVMSchematic.current.appendChild(g),g=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(g)}if(u.includes("_cartoon_memsat_svm.png")){let v=this.state.mempack_results[u],g=document.createElement("img");g.src=v,g.alt="Memsat Cartoon diagram",this.memsatSVMSchematic.current.appendChild(g),g=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(g)}}console.log("UPDATING ANNOTATION GRID"),vg(this.state.annotations,{parent:this.sequencePlot.current,margin_scaler:2,debug:!1,container_width:900,width:900,height:this.state.annotation_panel_height,container_height:this.state.annotation_panel_height})}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,l=a.data_path.split("/")[2];n[l]=o}else if(r.results_map.includes(s))try{let o=ai(a.data_path,r.files_url),l=a.data_path.split("/")[2];n[l]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk "+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},l=this.state.annotations,u={};s.submissions.forEach(v=>{n=this.getResultsFiles(v.results,this.props),o[v.job_name]=n,u[v.job_name]=n;let g=ai(v.job_name,r,"application/json");a+=yg(JSON.parse(g));for(let _ in n)_.includes(".ss2")&&(console.log("Found SS2 and parsing"),l=lO(l,n[_])),_.includes(".pbdat")&&(console.log("Found PDBAT and parsing"),l=uO(l,n[_])),_.includes(".memsat_svm")&&(console.log("Found MEMSAT_SVM and parsing"),l=dO(l,n[_])),_.includes(".boundary")&&(console.log("Found Dompred and parsing"),l=cO(l,n[_]));this.setState({psipred_results:o.psipred,disopred_results:o.disopred,memsatsvm_results:o.memsatsvm,pgenthreader_results:o.pgenthreader,dmp_results:o.dmp,genthreader_results:o.genthreader,pdomthreader_results:o.pdomthreader,dmpfold_results:o.dmpfold,s4pred_results:o.s4pred,dompred_results:o.dompred,ffpred_results:o.ffpred,mempack_results:o.mempack,annotations:l})}),this.props.updateResultsFiles(u),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw new Error("Job Failed")}}).catch(async s=>{let o="";try{let l=await s.json().then(u=>u);l.error&&(o.message=l.error),l.error.input_data&&(o.message=l.error.input_data)}catch{o=s}return console.log(o.message),console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"}),this.props.updateWaiting(!1),null}))};componentDidMount(){console.log("DRAWING EMPTY ANNOTATION PANEL"),gO(this.state,this.sequencePlot.current),this.timer=setInterval(()=>this.getResults(),500)}renderPanel(t,r,n,a,s,o,l){return gt.default.createElement("div",{className:"box box-primary collapsed-box",id:t},gt.default.createElement("div",{className:"box-header with-border"},gt.default.createElement("h5",{className:"box-title"},r),gt.default.createElement("div",{className:"box-tools pull-right"},gt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},gt.default.createElement("i",{className:"fa fa-plus"})))),gt.default.createElement("div",{className:"box-body"},this.state.error_message&&gt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&gt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},gt.default.createElement("br",null),gt.default.createElement("h4",null,o)),this.props.waiting&&gt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},gt.default.createElement("img",{alt:"waiting icon",src:l})),gt.default.createElement("div",{className:n,id:a,ref:s})))}render(){return gt.default.createElement("div",null,this.props.uuid&&gt.default.createElement("div",{className:"info-box bg-default job_info"},gt.default.createElement("span",{className:"info-box-icon job_info"},gt.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),gt.default.createElement("div",{className:"info-box-content"},gt.default.createElement("div",{className:"job_info_text job_info_text_left"},gt.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),gt.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",gt.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),gt.default.createElement(LO.CopyToClipboard,{text:this.props.result_uri},gt.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},gt.default.createElement("img",{src:"/static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.uuid&&gt.default.createElement("div",{className:"box box-primary"},gt.default.createElement("div",{className:"box-header with-border"},gt.default.createElement("h5",{className:"box-title"},"Sequence Plot"),gt.default.createElement("div",{className:"box-tools pull-right"},gt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"","data-original-title":"Collapse"},gt.default.createElement("i",{className:"fa fa-minus"})))),gt.default.createElement("div",{className:"box-body"},gt.default.createElement("div",{className:"sequence_plot",id:"sequence_plot",ref:this.sequencePlot}),gt.default.createElement("br",null)),this.props.waiting&&gt.default.createElement("div",{className:"overlay processing"},gt.default.createElement("i",{className:"fa fa-refresh fa-spin"}))),(this.props.analyses.includes("psipred_job")||this.props.analyses.includes("pgenthreader_job")||this.props.analyses.includes("dmp_job")||this.props.analyses.includes("dompred_job")||this.props.analyses.includes("ffpred_job"))&&gt.default.createElement("div",null,this.renderPanel("psipred_cartoon",this.props.job_strings.psipred.shortName+" Cartoon","psipred_cartoon","psipred_horiz",this.horizPlot,this.state.psipred_waiting_message,this.state.psipred_waiting_icon)),this.props.analyses.includes("disopred_job")&&gt.default.createElement("div",null,this.renderPanel("disorder_plot",this.props.job_strings.disopred.shortName+" Plot","disorder_plot","pdisorder_svg",this.disopredPlot,this.state.disopred_waiting_message,this.state.disopred_waiting_icon)),(this.props.analyses.includes("memsatsvm_job")||this.props.analyses.includes("mempack_job"))&&gt.default.createElement("div",{className:"box box-primary collapsed-box",id:"memsatsvm_schematics"},gt.default.createElement("div",{className:"box-header with-border"},gt.default.createElement("h5",{className:"box-title"},this.props.job_strings.memsatsvm.shortName," Schematics"),gt.default.createElement("div",{className:"box-tools pull-right"},gt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},gt.default.createElement("i",{className:"fa fa-plus"})))),gt.default.createElement("div",{className:"box-body"},this.state.error_message&&gt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&gt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},gt.default.createElement("br",null),gt.default.createElement("h4",null,this.props.memsatsvm_waiting_message)),this.props.waiting&&gt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},gt.default.createElement("img",{alt:"waiting icon",src:this.props.memsatsvm_waiting_icon})),gt.default.createElement("div",{className:"memsatsvm_schematic",id:"memsatsvm_schematic",ref:this.memsatSVMSchematic}),gt.default.createElement("div",{className:"memsatsvm_cartoon",id:"memsatsvm_cartoon",ref:this.memsatSVMCartoon}))),this.props.analyses.includes("pgenthreader_job")&&gt.default.createElement("div",null,this.renderPanel("pgen_table_box",this.props.job_strings.pgenthreader.shortName+" Structural Results","pgen_table_div","pgenthreader_table",this.pgenthreaderTable,this.props.pgenthreader_waiting_message,this.props.pgenthreader_waiting_icon)),this.props.analyses.includes("dmp_job")&&gt.default.createElement("div",null,this.renderPanel("dmp_contact_map",this.props.job_strings.dmp.shortName+" Contact Plot","dmp_plot_div","dmp_plot",this.dmp_plot,this.props.dmp_waiting_message,this.props.dmp_waiting_icon)),this.props.analyses.includes("genthreader_job")&&gt.default.createElement("div",null,this.renderPanel("gen_table_box",this.props.job_strings.genthreader.shortName+" Structural Results","gen_table_div","genthreader_table",this.genthreaderTable,this.props.genthreader_waiting_message,this.props.genthreader_waiting_icon)),this.props.analyses.includes("pdomthreader_job")&&gt.default.createElement("div",null,this.renderPanel("pdom_table_box",this.props.job_strings.pdomthreader.shortName+" Structural Results","pdom_table_div","pdomthreader_table",this.pdomthreaderTable,this.props.pdomthreader_waiting_message,this.props.pdomthreader_waiting_icon)),this.props.analyses.includes("dmpfold_job")&&gt.default.createElement("div",null,this.renderPanel("dmpfold_pdb",this.props.job_strings.dmpfold.shortName+" prediction","pdb_panel_class","dmp_pdb_id",this.dmpfold_pdb,this.props.dmpfold_waiting_message,this.props.dmpfold_waiting_icon)),this.props.analyses.includes("s4pred_job")&&gt.default.createElement("div",null,this.renderPanel("s4pred_cartoon",this.props.job_strings.s4pred.shortName+" Cartoon","s4pred_cartoon","s4pred_horiz",this.s4pred_horiz,this.props.s4pred_waiting_message,this.props.dmpfold_waiting_icon)),this.props.analyses.includes("dompred_job")&&gt.default.createElement("div",{className:"box box-primary collapsed-box",id:"dompred_results"},gt.default.createElement("div",{className:"box-header with-border"},gt.default.createElement("h5",{className:"box-title"},this.props.job_strings.dompred.shortName," Results"),gt.default.createElement("div",{className:"box-tools pull-right"},gt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},gt.default.createElement("i",{className:"fa fa-plus"})))),gt.default.createElement("div",{className:"box-body"},this.state.error_message&&gt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&gt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},gt.default.createElement("br",null),gt.default.createElement("h4",null,this.props.dompred_waiting_message)),this.props.waiting&&gt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},gt.default.createElement("img",{alt:"waiting icon",src:this.props.dompred_waiting_icon})),gt.default.createElement("div",{className:"dompred_chart",id:"dompred_chart",ref:this.dompred_chart}),gt.default.createElement("div",{className:"dompred_results",id:"dompread_results",ref:this.dompred_results}))),this.props.analyses.includes("ffpred_job")&&gt.default.createElement("div",{className:"box box-primary collapsed-box",id:"ffpred_schematics"},gt.default.createElement("div",{className:"box-header with-border"},gt.default.createElement("h5",{className:"box-title"},this.props.job_strings.ffpred.shortName," Predictions"),gt.default.createElement("div",{className:"box-tools pull-right"},gt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},gt.default.createElement("i",{className:"fa fa-plus"})))),gt.default.createElement("div",{className:"box-body"},this.state.error_message&&gt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&gt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},gt.default.createElement("br",null),gt.default.createElement("h4",null,this.props.ffpred_waiting_message)),this.props.waiting&&gt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},gt.default.createElement("img",{alt:"waiting icon",src:this.props.ffpred_waiting_icon})),gt.default.createElement("p",null,"These prediction terms represent terms predicted where SVM training includes assigned GO terms across all evidence code types. SVM reliability is regarded as High (H) when MCC, sensitivity, specificity and precision are jointly above a given threshold, Otherwise Reliability is indicated as Low (L). "),gt.default.createElement("div",{className:"ffpred_bp_table",id:"ffpred_bp_table",ref:this.ffpred_tables}),gt.default.createElement("h4",null,"Sequence Feature Map"),gt.default.createElement("p",null,"Position dependent feature predictions are mapped onto the sequence schematic shown below. The line height of the Phosphorylation and Glycosylation features reflects the confidence of the residue prediction."),gt.default.createElement("div",{className:"ffpred_sch",id:"ffpred_sch",ref:this.ffpred_sch}),gt.default.createElement("h4",null,"Predicted Transmembrane Topology"),gt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.ffpred_memsat}),gt.default.createElement("h4",null,"Amino Acid Composition"),gt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.aa_comp}),gt.default.createElement("h4",null,"Global Features"),gt.default.createElement("p",null,"Global features are calculated directly from sequence. Localisation values are predicted by the Psort algorithm and reflect the relative likelihood of the protein occupying different cellular localisations. The bias column is highlighted according to the significance of the feature value calculated from Z score of the feature."),gt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.global_features}))),this.props.analyses.includes("mempack_job")&&gt.default.createElement("div",null,this.renderPanel("mempack_pane",this.props.job_strings.mempack.shortName+" Cartoon","mempack_plot","mempack_plot",this.mempack_plot,this.props.mempack_waiting_message,this.props.mempack_waiting_icon)))}}});var Ct,kO,Eg,PO=se(()=>{Ct=rn(Nn());Sn();Sn();Sn();Sn();kO=rn(Ow());Ji();Ji();Ji();Eg=class extends Ct.default.Component{constructor(t){super(t),this.state={},this.metsite_pdb=Ct.default.createRef(),this.metsite_table=Ct.default.createRef(),this.hspred_initial_pdb=Ct.default.createRef(),this.hspred_second_pdb=Ct.default.createRef(),this.hspred_table=Ct.default.createRef(),this.memembed_pdb=Ct.default.createRef(),this.merizo_pdb=Ct.default.createRef(),this.merizo_boundaries=Ct.default.createRef(),this.timer=null}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null);for(let a in this.state.metsite_results)if(a.includes(".MetPred")&&ys(this.metsite_pdb.current,this.state.metsite_results[a],!1,!1),a.includes(".Metpred")){let s=this.state.metsite_results[a],o=aO(s);var r=document.createElement("template");r.innerHTML=o,this.metsite_table.current.appendChild(r.content)}this.state.metsite_results&&xs("#metsite_table",10,"#min_met_score","#max_met_score","metsite_table",1,null);for(let a in this.state.hspred_results)if(a.includes("_initial.pdb")&&ys(this.hspred_initial_pdb.current,this.state.hspred_results[a],!1,!1),a.includes("_second.pdb")&&ys(this.hspred_second_pdb.current,this.state.hspred_results[a],!1,!1),a.includes(".out")){let s=this.state.hspred_results[a],o=iO(s),l=document.createElement("template");l.innerHTML=o,this.hspred_table.current.appendChild(l.content)}this.state.hspred_results&&xs("#hspred_table",50,"#min_hs_score","#max_hs_score","hspred_table",2,[2,"desc"]);for(let a in this.state.memembed_results)a.includes(".pdb")&&ys(this.memembed_pdb.current,this.state.memembed_results[a],!1,!0);for(let a in this.state.merizo_results){if(a.includes(".pdb2")){let s=this.state.merizo_results[a.slice(0,-16)+"merizo"];ys(this.merizo_pdb.current,this.state.merizo_results[a],!1,!1,s)}if(a.includes(".merizo")){let s=this.state.merizo_results[a],o=rO(s);var n=document.createElement("template");n.innerHTML=o,this.merizo_boundaries.current.appendChild(n.content)}}}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,l=a.data_path.split("/")[2];n[l]=o}else if(r.results_map.includes(s))try{let o=ai(a.data_path,r.files_url),l=a.data_path.split("/")[2];n[l]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk "+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},l={};s.submissions.forEach(u=>{n=this.getResultsFiles(u.results,this.props),o[u.job_name]=n,l[u.job_name]=n;let v=ai(u.job_name,r,"application/json");a+=yg(JSON.parse(v)),this.setState({metsite_results:o.metsite,hspred_results:o.hspred,memembed_results:o.memembed,merizo_results:o.merizo})}),this.props.updateResultsFiles(l),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw new Error("Job Failed")}}).catch(async s=>{let o="";try{let l=await s.json().then(u=>u);l.error&&(o.message=l.error),l.error.input_data&&(o.message=l.error.input_data)}catch{o=s}return console.log(o.message),console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"}),this.props.updateWaiting(!1),null}))};componentDidMount(){this.timer=setInterval(()=>this.getResults(),500)}renderPanel(t,r,n,a,s,o,l){return Ct.default.createElement("div",{className:"box box-primary collapsed-box",id:t},Ct.default.createElement("div",{className:"box-header with-border"},Ct.default.createElement("h5",{className:"box-title"},r),Ct.default.createElement("div",{className:"box-tools pull-right"},Ct.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},Ct.default.createElement("i",{className:"fa fa-plus"})))),Ct.default.createElement("div",{className:"box-body"},this.state.error_message&&Ct.default.createElement("div",{className:"error"},this.state.error_message),Ct.default.createElement("div",{className:n,id:a,ref:s}),this.props.waiting&&Ct.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},Ct.default.createElement("br",null),Ct.default.createElement("h4",null,o)),this.props.waiting&&Ct.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},l),this.props.waiting&&Ct.default.createElement("div",{className:"overlay processing"},Ct.default.createElement("i",{className:"fa fa-refresh fa-spin"}))))}render(){return Ct.default.createElement("div",null,this.props.uuid&&Ct.default.createElement("div",{className:"info-box bg-default job_info"},Ct.default.createElement("span",{className:"info-box-icon job_info"},Ct.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),Ct.default.createElement("div",{className:"info-box-content"},Ct.default.createElement("div",{className:"job_info_text job_info_text_left"},Ct.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),Ct.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",Ct.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),Ct.default.createElement(kO.CopyToClipboard,{text:this.props.result_uri},Ct.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},Ct.default.createElement("img",{src:"/static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.analyses.includes("metsite_job")&&Ct.default.createElement("div",{className:"box box-primary",id:"metsite_preds"},Ct.default.createElement("div",{className:"box-header with-border"},Ct.default.createElement("h5",{className:"box-title"},this.props.job_strings.metsite.shortName," Predictions"),Ct.default.createElement("div",{className:"box-tools pull-right"},Ct.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},Ct.default.createElement("i",{className:"fa fa-plus"})))),Ct.default.createElement("div",{className:"box-body"},this.state.error_message&&Ct.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&Ct.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},Ct.default.createElement("br",null),Ct.default.createElement("h4",null,this.props.metsite_waiting_message)),this.props.waiting&&Ct.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},Ct.default.createElement("img",{alt:"waiting icon",src:this.props.metsite_waiting_icon})),Ct.default.createElement("div",{className:"metsite_structure pdb_panel_class",id:"metsite_structure",ref:this.metsite_pdb}),Ct.default.createElement("div",{className:"metsite_table_holder",id:"metsite_table_holder",ref:this.metsite_table}))),this.props.analyses.includes("hspred_job")&&Ct.default.createElement("div",{className:"box box-primary",id:"hspred_preds"},Ct.default.createElement("div",{className:"box-header with-border"},Ct.default.createElement("h5",{className:"box-title"},this.props.job_strings.hspred.shortName," Predictions"),Ct.default.createElement("div",{className:"box-tools pull-right"},Ct.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},Ct.default.createElement("i",{className:"fa fa-plus"})))),Ct.default.createElement("div",{className:"box-body"},this.state.error_message&&Ct.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&Ct.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},Ct.default.createElement("br",null),Ct.default.createElement("h4",null,this.props.hspred_waiting_message)),this.props.waiting&&Ct.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},Ct.default.createElement("img",{alt:"waiting icon",src:this.props.hspred_waiting_icon})),Ct.default.createElement("div",null,Ct.default.createElement("div",{className:"hspred_structure pdb_panel_class",id:"hs_pred_initial",ref:this.hspred_initial_pdb}),Ct.default.createElement("div",{className:"hspred_structure pdb_panel_class",id:"hs_pred_second",ref:this.hspred_second_pdb})),Ct.default.createElement("div",{className:"hspred_table_holder",id:"hspred_table_holder",ref:this.hspred_table}))),this.props.analyses.includes("memembed_job")&&Ct.default.createElement("div",{className:"box box-primary",id:"memembed_preds"},Ct.default.createElement("div",{className:"box-header with-border"},Ct.default.createElement("h5",{className:"box-title"},this.props.job_strings.memembed.shortName," Prediction"),Ct.default.createElement("div",{className:"box-tools pull-right"},Ct.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},Ct.default.createElement("i",{className:"fa fa-plus"})))),Ct.default.createElement("div",{className:"box-body"},this.state.error_message&&Ct.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&Ct.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},Ct.default.createElement("br",null),Ct.default.createElement("h4",null,this.props.memembed_waiting_message)),this.props.waiting&&Ct.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},Ct.default.createElement("img",{alt:"waiting icon",src:this.props.memembed_waiting_icon})),Ct.default.createElement("div",{className:"memembed_pdb pdb_panel_class",id:"memembed",ref:this.memembed_pdb}))),this.props.analyses.includes("merizo_job")&&Ct.default.createElement("div",{className:"box box-primary",id:"merizo_preds"},Ct.default.createElement("div",{className:"box-header with-border"},Ct.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizo.shortName," Prediction"),Ct.default.createElement("div",{className:"box-tools pull-right"},Ct.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},Ct.default.createElement("i",{className:"fa fa-plus"})))),Ct.default.createElement("div",{className:"box-body"},this.state.error_message&&Ct.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&Ct.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},Ct.default.createElement("br",null),Ct.default.createElement("h4",null,this.props.merizo_waiting_message)),this.props.waiting&&Ct.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},Ct.default.createElement("img",{alt:"waiting icon",src:this.props.merizo_waiting_icon})),Ct.default.createElement("div",{className:"merizo_pdb pdb_panel_class",id:"merizo",ref:this.merizo_pdb}),Ct.default.createElement("div",{className:"merizo_boundaries",id:"merizo",ref:this.merizo_boundaries}))))}}});var mh,Mg,NO=se(()=>{mh=rn(Nn());Sn();Sn();OO();PO();Mg=class extends mh.default.Component{constructor(t){super(t),this.state={result_uri:"",error_message:null,loading_message:"Fetching Times",psipred_waiting_message:"Please wait for your "+this.props.job_strings.psipred.shortName+" job to process",psipred_waiting_icon:"/static/images/gears.svg",disopred_waiting_message:"Please wait for your "+this.props.job_strings.disopred.shortName+" job to process",disopred_waiting_icon:"/static/images/gears.svg",memsatsvm_waiting_message:"Please wait for your "+this.props.job_strings.memsatsvm.shortName+" job to process",memsatsvm_waiting_icon:"/static/images/gears.svg",pgenthreader_waiting_message:"Please wait for your "+this.props.job_strings.pgenthreader.shortName+" job to process",pgenthreader_waiting_icon:"/static/images/gears.svg",dmp_waiting_message:"Please wait for your "+this.props.job_strings.dmp.shortName+" job to process",dmp_waiting_icon:"/static/images/gears.svg",mempack_waiting_message:"Please wait for your "+this.props.job_strings.mempack.shortName+" job to process",mempack_waiting_icon:"/static/images/gears.svg",genthreader_waiting_message:"Please wait for your "+this.props.job_strings.genthreader.shortName+" job to process",genthreader_waiting_icon:"/static/images/gears.svg",pdomthreader_waiting_message:"Please wait for your "+this.props.job_strings.pdomthreader.shortName+" job to process",pdomthreader_waiting_icon:"/static/images/gears.svg",dmpfold_waiting_message:"Please wait for your "+this.props.job_strings.dmpfold.shortName+" job to process",dmpfold_waiting_icon:"/static/images/gears.svg",s4pred_waiting_message:"Please wait for your "+this.props.job_strings.s4pred.shortName+" job to process",s4pred_waiting_icon:"/static/images/gears.svg",dompred_waiting_message:"Please wait for your "+this.props.job_strings.dompred.shortName+" job to process",dompred_waiting_icon:"/static/images/gears.svg",ffpred_waiting_message:"Please wait for your "+this.props.job_strings.ffpred.shortName+" job to process",ffpred_waiting_icon:"/static/images/gears.svg",metsite_waiting_message:"Please wait for your "+this.props.job_strings.metsite.shortName+" job to process",metsite_waiting_icon:"/static/images/gears.svg",hspred_waiting_message:"Please wait for your "+this.props.job_strings.hspred.shortName+" job to process",hspred_waiting_icon:"/static/images/gears.svg",memembed_waiting_message:"Please wait for your "+this.props.job_strings.memembed.shortName+" job to process",memembed_waiting_icon:"/static/images/gears.svg",merizo_waiting_message:"Please wait for your "+this.props.job_strings.merizo.shortName+" job to process",merizo_waiting_icon:"/static/images/gears.svg"}}checkSubset=(t,r)=>{let n=new Set(t);return r.every(a=>n.has(a))};getJob=t=>{console.log("Getting Job Data URI request: GET: "+t.props.submit_url+t.props.incoming_uuid),fetch(t.props.submit_url+t.props.incoming_uuid,{headers:{Accept:"application/json"},method:"GET"}).then(r=>{if(r.ok)return r.json().then(n=>n);throw r}).then(r=>{if(r.UUID!==null){console.log("RECIEVED JOB DATA FOR UUID: "+r.UUID);let n=[];r.submissions.forEach(o=>{n.push(o.job_name)});let a=r.submissions[0],s="SeqForm";if(this.checkSubset(t.props.seq_job_names,n)){let o=ai(a.input_file,t.props.files_url);o=o.replace(/\r?\n|\r/g,""),t.props.updateAnalyses(n.map(l=>`${l}_job`)),t.props.updateSeq(o),t.props.updateForm(s)}else this.checkSubset(t.props.struct_job_names,n)&&(s="StructForm",t.props.updateAnalyses(n.map(o=>`${o}_job`)),t.props.updateForm(s));this.setState({result_uri:t.props.main_url+t.props.app_path+"/&uuid="+r.UUID}),t.props.updateUuid(r.UUID),t.props.updateWaiting(!0)}}).catch(async r=>{let n=await r.json().then(s=>s),a="";return n.error&&(a=n.error),n.error.input_data&&(a=n.error.input_data),console.log("Getting Job data "+t.props.submit_url+t.props.incoming_uuid+" Failed. "+a+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),alert("Getting Job data to "+t.props.submit_url+t.props.incoming_uuid+" Failed. "+a+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),null})};postJob=t=>{console.log("Posting Job URI request: POST: "+t.props.submit_url);let r=pO({...t.state,...t.props});for(let n of r.entries())console.log(`${n[0]}, ${n[1]}`);fetch(t.props.submit_url,{headers:{Accept:"application/json"},method:"POST",body:r}).then(async n=>{if(n.ok)return n.json().then(a=>a);throw n}).then(n=>{if(n.UUID!==null){if(console.log("RECIEVED UUID: "+n.UUID),this.setState({result_uri:t.props.main_url+t.props.app_path+"/&uuid="+n.UUID}),this.props.updateUuid(n.UUID),window.history.replaceState){console.log("Add new history to browser window: "+t.props.main_url+t.props.app_path+"/&uuid="+n.UUID);try{window.history.replaceState({},n.UUID,t.props.app_path+"/&uuid="+n.UUID)}catch{throw new Error("Failed to push new browser history: "+t.props.main_url+t.props.app_path)}}t.props.updateWaiting(!0)}}).catch(async n=>{let a={};try{let s=await n.json().then(o=>o);console.log(s),s.error?a.message=s.error:s.error.input_data?a.message=s.error.input_data:a.message=s}catch{a.message=n}return console.log("Posting Job to "+t.props.submit_url+" Failed. "+a.message+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),alert("Posting Job to "+t.props.submit_url+" Failed. "+a.message+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),null})};componentDidUpdate(){this.props.resubmit===!0&&(console.log("RESUBMITTING SEQUENCE"),this.props.updateResubmit(!1),this.postJob(this))}componentDidMount(){this.props.incoming_uuid?(console.log("GETTING DETAILS JOB: "+this.props.incoming_uuid),this.getJob(this)):this.postJob(this)}render(){return mh.default.createElement("div",null,this.props.uuid&&this.props.formSelectedOption==="SeqForm"?mh.default.createElement(Cg,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}):mh.default.createElement(Eg,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}))}}});var Ht,Dg,IO=se(()=>{Ht=rn(Nn());Sn();Dg=class extends Ht.default.Component{constructor(t){super(t),this.state={loading_message:"Fetching Times"}}componentDidUpdate(){}componentDidMount(){console.log("Getting Times URI request: GET: "+this.props.times_url),fetch(this.props.times_url,{headers:{Accept:"application/json"},method:"GET"}).then(t=>{if(t.ok)return t.json().then(r=>r);throw t}).then(t=>{if(t.UUID!==null){console.log("RECIEVED TIMES");var r=mO(t);this.setState(r)}}).catch(async t=>{let r=await t.json().then(n=>n);return console.log("Getting Times data "+this.props.times_url+" Failed. "+r.error+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),alert("Getting Times data "+this.props.times_url+" Failed. "+r.error+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),null})}render(){return Ht.default.createElement("div",{className:"info-box"},Ht.default.createElement("span",{className:"info-box-icon bg-blue"},Ht.default.createElement("i",{className:"fa fa-clock-o"})),Ht.default.createElement("div",{className:"info-box-content"},Ht.default.createElement("span",{className:"info-box-text"},"Average Processing Time"),Ht.default.createElement("br",null),this.state.loading_message&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.state.loading_message),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.psipred.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.psipred.shortName," runtime: ",this.state.psipred),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.disopred.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.disopred.shortName," runtime: ",this.state.disopred),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.memsatsvm.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.memsatsvm.shortName," runtime: ",this.state.memsatsvm),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.pgenthreader.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.pgenthreader.shortName," runtime: ",this.state.pgenthreader),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dmp.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dmp.shortName," runtime: ",this.state.dmp),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.mempack.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.mempack.shortName," runtime: ",this.state.mempack),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.genthreader.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.genthreader.shortName," runtime: ",this.state.genthreader),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.pdomthreader.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.pdomthreader.shortName," runtime: ",this.state.pdomthreader),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.s4pred.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.s4pred.shortName," runtime: ",this.state.s4pred),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dompred.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dompred.shortName," runtime: ",this.state.dompred),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.ffpred.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.ffpred.shortName," runtime: ",this.state.ffpred),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.metsite.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.metsite.shortName," runtime: ",this.state.mesite),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.hspred.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.hspred.shortName," runtime: ",this.state.hspred),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.memembed.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.memembed.shortName," runtime: ",this.state.memembed),Ht.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.merizo.jobName)&&Ht.default.createElement("div",null,Ht.default.createElement("span",{className:"info-box-number"},this.props.job_strings.merizo.shortName," runtime: ",this.state.merizo),Ht.default.createElement("br",null))))}}});var FO=Pn((zO,kw)=>{(function(e){typeof zO=="object"&&typeof kw<"u"?kw.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).JSZip=e()})(function(){return function e(t,r,n){function a(l,u){if(!r[l]){if(!t[l]){var v=typeof hl=="function"&&hl;if(!u&&v)return v(l,!0);if(s)return s(l,!0);var g=new Error("Cannot find module '"+l+"'");throw g.code="MODULE_NOT_FOUND",g}var _=r[l]={exports:{}};t[l][0].call(_.exports,function(y){var w=t[l][1][y];return a(w||y)},_,_.exports,e,t,r,n)}return r[l].exports}for(var s=typeof hl=="function"&&hl,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(o){for(var l,u,v,g,_,y,w,x=[],f=0,b=o.length,h=b,S=n.getTypeOf(o)!=="string";f<o.length;)h=b-f,v=S?(l=o[f++],u=f<b?o[f++]:0,f<b?o[f++]:0):(l=o.charCodeAt(f++),u=f<b?o.charCodeAt(f++):0,f<b?o.charCodeAt(f++):0),g=l>>2,_=(3&l)<<4|u>>4,y=1<h?(15&u)<<2|v>>6:64,w=2<h?63&v:64,x.push(s.charAt(g)+s.charAt(_)+s.charAt(y)+s.charAt(w));return x.join("")},r.decode=function(o){var l,u,v,g,_,y,w=0,x=0,f="data:";if(o.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var b,h=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===s.charAt(64)&&h--,o.charAt(o.length-2)===s.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=a.uint8array?new Uint8Array(0|h):new Array(0|h);w<o.length;)l=s.indexOf(o.charAt(w++))<<2|(g=s.indexOf(o.charAt(w++)))>>4,u=(15&g)<<4|(_=s.indexOf(o.charAt(w++)))>>2,v=(3&_)<<6|(y=s.indexOf(o.charAt(w++))),b[x++]=l,_!==64&&(b[x++]=u),y!==64&&(b[x++]=v);return b}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),a=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function l(u,v,g,_,y){this.compressedSize=u,this.uncompressedSize=v,this.crc32=g,this.compression=_,this.compressedContent=y}l.prototype={getContentWorker:function(){var u=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),v=this;return u.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(u,v,g){return u.pipe(new s).pipe(new o("uncompressedSize")).pipe(v.compressWorker(g)).pipe(new o("compressedSize")).withStreamInfo("compression",v)},t.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();t.exports=function(s,o){return s!==void 0&&s.length?n.getTypeOf(s)!=="string"?function(l,u,v,g){var _=a,y=g+v;l^=-1;for(var w=g;w<y;w++)l=l>>>8^_[255&(l^u[w])];return-1^l}(0|o,s,s.length,0):function(l,u,v,g){var _=a,y=g+v;l^=-1;for(var w=g;w<y;w++)l=l>>>8^_[255&(l^u.charCodeAt(w))];return-1^l}(0|o,s,s.length,0):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n=null;n=typeof Promise<"u"?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),s=e("./utils"),o=e("./stream/GenericWorker"),l=n?"uint8array":"array";function u(v,g){o.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=g,this.meta={}}r.magic="\b\0",s.inherits(u,o),u.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(l,v.data),!1)},u.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(g){v.push({data:g,meta:v.meta})}},r.compressWorker=function(v){return new u("Deflate",v)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(_,y){var w,x="";for(w=0;w<y;w++)x+=String.fromCharCode(255&_),_>>>=8;return x}function a(_,y,w,x,f,b){var h,S,C=_.file,M=_.compression,p=b!==l.utf8encode,c=s.transformTo("string",b(C.name)),E=s.transformTo("string",l.utf8encode(C.name)),D=C.comment,I=s.transformTo("string",b(D)),O=s.transformTo("string",l.utf8encode(D)),P=E.length!==C.name.length,k=O.length!==D.length,B="",G="",K="",q=C.dir,H=C.date,$={crc32:0,compressedSize:0,uncompressedSize:0};y&&!w||($.crc32=_.crc32,$.compressedSize=_.compressedSize,$.uncompressedSize=_.uncompressedSize);var W=0;y&&(W|=8),p||!P&&!k||(W|=2048);var V=0,Z=0;q&&(V|=16),f==="UNIX"?(Z=798,V|=function(ie,Ce){var De=ie;return ie||(De=Ce?16893:33204),(65535&De)<<16}(C.unixPermissions,q)):(Z=20,V|=function(ie){return 63&(ie||0)}(C.dosPermissions)),h=H.getUTCHours(),h<<=6,h|=H.getUTCMinutes(),h<<=5,h|=H.getUTCSeconds()/2,S=H.getUTCFullYear()-1980,S<<=4,S|=H.getUTCMonth()+1,S<<=5,S|=H.getUTCDate(),P&&(G=n(1,1)+n(u(c),4)+E,B+="up"+n(G.length,2)+G),k&&(K=n(1,1)+n(u(I),4)+O,B+="uc"+n(K.length,2)+K);var Q="";return Q+=`
\0`,Q+=n(W,2),Q+=M.magic,Q+=n(h,2),Q+=n(S,2),Q+=n($.crc32,4),Q+=n($.compressedSize,4),Q+=n($.uncompressedSize,4),Q+=n(c.length,2),Q+=n(B.length,2),{fileRecord:v.LOCAL_FILE_HEADER+Q+c+B,dirRecord:v.CENTRAL_FILE_HEADER+n(Z,2)+Q+n(I.length,2)+"\0\0\0\0"+n(V,4)+n(x,4)+c+B+I}}var s=e("../utils"),o=e("../stream/GenericWorker"),l=e("../utf8"),u=e("../crc32"),v=e("../signature");function g(_,y,w,x){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=w,this.encodeFileName=x,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(g,o),g.prototype.push=function(_){var y=_.meta.percent||0,w=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,o.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:w?(y+100*(w-x-1))/w:100}}))},g.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var y=this.streamFiles&&!_.file.dir;if(y){var w=a(_,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(_){this.accumulate=!1;var y=this.streamFiles&&!_.file.dir,w=a(_,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),y)this.push({data:function(x){return v.DATA_DESCRIPTOR+n(x.crc32,4)+n(x.compressedSize,4)+n(x.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var _=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var w=this.bytesWritten-_,x=function(f,b,h,S,C){var M=s.transformTo("string",C(S));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(f,2)+n(f,2)+n(b,4)+n(h,4)+n(M.length,2)+M}(this.dirRecords.length,w,_,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(_){this._sources.push(_);var y=this;return _.on("data",function(w){y.processChunk(w)}),_.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),_.on("error",function(w){y.error(w)}),this},g.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(_){var y=this._sources;if(!o.prototype.error.call(this,_))return!1;for(var w=0;w<y.length;w++)try{y[w].error(_)}catch{}return!0},g.prototype.lock=function(){o.prototype.lock.call(this);for(var _=this._sources,y=0;y<_.length;y++)_[y].lock()},t.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),a=e("./ZipFileWorker");r.generateWorker=function(s,o,l){var u=new a(o.streamFiles,l,o.platform,o.encodeFileName),v=0;try{s.forEach(function(g,_){v++;var y=function(b,h){var S=b||h,C=n[S];if(!C)throw new Error(S+" is not a valid compression method !");return C}(_.options.compression,o.compression),w=_.options.compressionOptions||o.compressionOptions||{},x=_.dir,f=_.date;_._compressWorker(y,w).withStreamInfo("file",{name:g,dir:x,date:f,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(u)}),u.entriesCount=v}catch(g){u.error(g)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new n;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(a,s){return new n().loadAsync(a,s)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./external"),s=e("./utf8"),o=e("./zipEntries"),l=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function v(g){return new a.Promise(function(_,y){var w=g.decompressed.getContentWorker().pipe(new l);w.on("error",function(x){y(x)}).on("end",function(){w.streamInfo.crc32!==g.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}t.exports=function(g,_){var y=this;return _=n.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",g,!0,_.optimizedBinaryString,_.base64).then(function(w){var x=new o(_);return x.load(w),x}).then(function(w){var x=[a.Promise.resolve(w)],f=w.files;if(_.checkCRC32)for(var b=0;b<f.length;b++)x.push(v(f[b]));return a.Promise.all(x)}).then(function(w){for(var x=w.shift(),f=x.files,b=0;b<f.length;b++){var h=f[b],S=h.fileNameStr,C=n.resolve(h.fileNameStr);y.file(C,h.decompressed,{binary:!0,optimizedBinaryString:!0,date:h.date,dir:h.dir,comment:h.fileCommentStr.length?h.fileCommentStr:null,unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions,createFolders:_.createFolders}),h.dir||(y.file(C).unsafeOriginalName=S)}return x.zipComment.length&&(y.comment=x.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../stream/GenericWorker");function s(o,l){a.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(l)}n.inherits(s,a),s.prototype._bindStream=function(o){var l=this;(this._stream=o).pause(),o.on("data",function(u){l.push({data:u,meta:{percent:0}})}).on("error",function(u){l.isPaused?this.generatedError=u:l.error(u)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function a(s,o,l){n.call(this,o),this._helper=s;var u=this;s.on("data",function(v,g){u.push(v)||u._helper.pause(),l&&l(g)}).on("error",function(v){u.emit("error",v)}).on("end",function(){u.push(null)})}e("../utils").inherits(a,n),a.prototype._read=function(){this._helper.resume()},t.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,a);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,a)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var a=new Buffer(n);return a.fill(0),a},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(e,t,r){"use strict";function n(C,M,p){var c,E=s.getTypeOf(M),D=s.extend(p||{},u);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(C=f(C)),D.createFolders&&(c=x(C))&&b.call(this,c,!0);var I=E==="string"&&D.binary===!1&&D.base64===!1;p&&p.binary!==void 0||(D.binary=!I),(M instanceof v&&M.uncompressedSize===0||D.dir||!M||M.length===0)&&(D.base64=!1,D.binary=!0,M="",D.compression="STORE",E="string");var O=null;O=M instanceof v||M instanceof o?M:y.isNode&&y.isStream(M)?new w(C,M):s.prepareContent(C,M,D.binary,D.optimizedBinaryString,D.base64);var P=new g(C,O,D);this.files[C]=P}var a=e("./utf8"),s=e("./utils"),o=e("./stream/GenericWorker"),l=e("./stream/StreamHelper"),u=e("./defaults"),v=e("./compressedObject"),g=e("./zipObject"),_=e("./generate"),y=e("./nodejsUtils"),w=e("./nodejs/NodejsStreamInputAdapter"),x=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var M=C.lastIndexOf("/");return 0<M?C.substring(0,M):""},f=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},b=function(C,M){return M=M!==void 0?M:u.createFolders,C=f(C),this.files[C]||n.call(this,C,null,{dir:!0,createFolders:M}),this.files[C]};function h(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var M,p,c;for(M in this.files)c=this.files[M],(p=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&C(p,c)},filter:function(C){var M=[];return this.forEach(function(p,c){C(p,c)&&M.push(c)}),M},file:function(C,M,p){if(arguments.length!==1)return C=this.root+C,n.call(this,C,M,p),this;if(h(C)){var c=C;return this.filter(function(D,I){return!I.dir&&c.test(D)})}var E=this.files[this.root+C];return E&&!E.dir?E:null},folder:function(C){if(!C)return this;if(h(C))return this.filter(function(E,D){return D.dir&&C.test(E)});var M=this.root+C,p=b.call(this,M),c=this.clone();return c.root=p.name,c},remove:function(C){C=this.root+C;var M=this.files[C];if(M||(C.slice(-1)!=="/"&&(C+="/"),M=this.files[C]),M&&!M.dir)delete this.files[C];else for(var p=this.filter(function(E,D){return D.name.slice(0,C.length)===C}),c=0;c<p.length;c++)delete this.files[p[c].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var M,p={};try{if((p=s.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=p.type.toLowerCase(),p.compression=p.compression.toUpperCase(),p.type==="binarystring"&&(p.type="string"),!p.type)throw new Error("No output type specified.");s.checkSupport(p.type),p.platform!=="darwin"&&p.platform!=="freebsd"&&p.platform!=="linux"&&p.platform!=="sunos"||(p.platform="UNIX"),p.platform==="win32"&&(p.platform="DOS");var c=p.comment||this.comment||"";M=_.generateWorker(this,p,c)}catch(E){(M=new o("error")).error(E)}return new l(M,p.type||"string",p.mimeType)},generateAsync:function(C,M){return this.generateInternalStream(C).accumulate(M)},generateNodeStream:function(C,M){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(M)}};t.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function a(s){n.call(this,s);for(var o=0;o<this.data.length;o++)s[o]=255&s[o]}e("../utils").inherits(a,n),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var o=s.charCodeAt(0),l=s.charCodeAt(1),u=s.charCodeAt(2),v=s.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===o&&this.data[g+1]===l&&this.data[g+2]===u&&this.data[g+3]===v)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var o=s.charCodeAt(0),l=s.charCodeAt(1),u=s.charCodeAt(2),v=s.charCodeAt(3),g=this.readData(4);return o===g[0]&&l===g[1]&&u===g[2]&&v===g[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var o,l=0;for(this.checkOffset(s),o=this.index+s-1;o>=this.index;o--)l=(l<<8)+this.byteAt(o);return this.index+=s,l},readString:function(s){return n.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},t.exports=a},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../support"),s=e("./ArrayReader"),o=e("./StringReader"),l=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");t.exports=function(v){var g=n.getTypeOf(v);return n.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new l(v):a.uint8array?new u(n.transformTo("uint8array",v)):new s(n.transformTo("array",v)):new o(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../utils");function s(o){n.call(this,"ConvertWorker to "+o),this.destType=o}a.inherits(s,n),s.prototype.processChunk=function(o){this.push({data:a.transformTo(this.destType,o.data),meta:o.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../crc32");function s(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,n),s.prototype.processChunk=function(o){this.streamInfo.crc32=a(o.data,this.streamInfo.crc32||0),this.push(o)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function s(o){a.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}n.inherits(s,a),s.prototype.processChunk=function(o){if(o){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+o.data.length}a.prototype.processChunk.call(this,o)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function s(o){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(u){l.dataIsReady=!0,l.data=u,l.max=u&&u.length||0,l.type=n.getTypeOf(u),l.isPaused||l._tickAndRepeat()},function(u){l.error(u)})}n.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,l);break;case"uint8array":o=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":o=this.data.slice(this.index,l)}return this.index=l,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var o=0;o<this._listeners[a].length;o++)this._listeners[a][o].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(o){s.processChunk(o)}),a.on("end",function(){s.end()}),a.on("error",function(o){s.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},t.exports=n},{}],29:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./ConvertWorker"),s=e("./GenericWorker"),o=e("../base64"),l=e("../support"),u=e("../external"),v=null;if(l.nodestream)try{v=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(y,w){return new u.Promise(function(x,f){var b=[],h=y._internalType,S=y._outputType,C=y._mimeType;y.on("data",function(M,p){b.push(M),w&&w(p)}).on("error",function(M){b=[],f(M)}).on("end",function(){try{var M=function(p,c,E){switch(p){case"blob":return n.newBlob(n.transformTo("arraybuffer",c),E);case"base64":return o.encode(c);default:return n.transformTo(p,c)}}(S,function(p,c){var E,D=0,I=null,O=0;for(E=0;E<c.length;E++)O+=c[E].length;switch(p){case"string":return c.join("");case"array":return Array.prototype.concat.apply([],c);case"uint8array":for(I=new Uint8Array(O),E=0;E<c.length;E++)I.set(c[E],D),D+=c[E].length;return I;case"nodebuffer":return Buffer.concat(c);default:throw new Error("concat : unsupported type '"+p+"'")}}(h,b),C);x(M)}catch(p){f(p)}b=[]}).resume()})}function _(y,w,x){var f=w;switch(w){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=w,this._mimeType=x,n.checkSupport(f),this._worker=y.pipe(new a(f)),y.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}_.prototype={accumulate:function(y){return g(this,y)},on:function(y,w){var x=this;return y==="data"?this._worker.on(y,function(f){w.call(x,f.data,f.meta)}):this._worker.on(y,function(){n.delay(w,arguments,x)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},y)}},t.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(n),r.blob=a.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),a=e("./support"),s=e("./nodejsUtils"),o=e("./stream/GenericWorker"),l=new Array(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;l[254]=l[254]=1;function v(){o.call(this,"utf-8 decode"),this.leftOver=null}function g(){o.call(this,"utf-8 encode")}r.utf8encode=function(_){return a.nodebuffer?s.newBufferFrom(_,"utf-8"):function(y){var w,x,f,b,h,S=y.length,C=0;for(b=0;b<S;b++)(64512&(x=y.charCodeAt(b)))==55296&&b+1<S&&(64512&(f=y.charCodeAt(b+1)))==56320&&(x=65536+(x-55296<<10)+(f-56320),b++),C+=x<128?1:x<2048?2:x<65536?3:4;for(w=a.uint8array?new Uint8Array(C):new Array(C),b=h=0;h<C;b++)(64512&(x=y.charCodeAt(b)))==55296&&b+1<S&&(64512&(f=y.charCodeAt(b+1)))==56320&&(x=65536+(x-55296<<10)+(f-56320),b++),x<128?w[h++]=x:(x<2048?w[h++]=192|x>>>6:(x<65536?w[h++]=224|x>>>12:(w[h++]=240|x>>>18,w[h++]=128|x>>>12&63),w[h++]=128|x>>>6&63),w[h++]=128|63&x);return w}(_)},r.utf8decode=function(_){return a.nodebuffer?n.transformTo("nodebuffer",_).toString("utf-8"):function(y){var w,x,f,b,h=y.length,S=new Array(2*h);for(w=x=0;w<h;)if((f=y[w++])<128)S[x++]=f;else if(4<(b=l[f]))S[x++]=65533,w+=b-1;else{for(f&=b===2?31:b===3?15:7;1<b&&w<h;)f=f<<6|63&y[w++],b--;1<b?S[x++]=65533:f<65536?S[x++]=f:(f-=65536,S[x++]=55296|f>>10&1023,S[x++]=56320|1023&f)}return S.length!==x&&(S.subarray?S=S.subarray(0,x):S.length=x),n.applyFromCharCode(S)}(_=n.transformTo(a.uint8array?"uint8array":"array",_))},n.inherits(v,o),v.prototype.processChunk=function(_){var y=n.transformTo(a.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var w=y;(y=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),y.set(w,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var x=function(b,h){var S;for((h=h||b.length)>b.length&&(h=b.length),S=h-1;0<=S&&(192&b[S])==128;)S--;return S<0||S===0?h:S+l[b[S]]>h?S:h}(y),f=y;x!==y.length&&(a.uint8array?(f=y.subarray(0,x),this.leftOver=y.subarray(x,y.length)):(f=y.slice(0,x),this.leftOver=y.slice(x,y.length))),this.push({data:r.utf8decode(f),meta:_.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=v,n.inherits(g,o),g.prototype.processChunk=function(_){this.push({data:r.utf8encode(_.data),meta:_.meta})},r.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),a=e("./base64"),s=e("./nodejsUtils"),o=e("./external");function l(w){return w}function u(w,x){for(var f=0;f<w.length;++f)x[f]=255&w.charCodeAt(f);return x}e("setimmediate"),r.newBlob=function(w,x){r.checkSupport("blob");try{return new Blob([w],{type:x})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(w),f.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(w,x,f){var b=[],h=0,S=w.length;if(S<=f)return String.fromCharCode.apply(null,w);for(;h<S;)x==="array"||x==="nodebuffer"?b.push(String.fromCharCode.apply(null,w.slice(h,Math.min(h+f,S)))):b.push(String.fromCharCode.apply(null,w.subarray(h,Math.min(h+f,S)))),h+=f;return b.join("")},stringifyByChar:function(w){for(var x="",f=0;f<w.length;f++)x+=String.fromCharCode(w[f]);return x},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function g(w){var x=65536,f=r.getTypeOf(w),b=!0;if(f==="uint8array"?b=v.applyCanBeUsed.uint8array:f==="nodebuffer"&&(b=v.applyCanBeUsed.nodebuffer),b)for(;1<x;)try{return v.stringifyByChunk(w,f,x)}catch{x=Math.floor(x/2)}return v.stringifyByChar(w)}function _(w,x){for(var f=0;f<w.length;f++)x[f]=w[f];return x}r.applyFromCharCode=g;var y={};y.string={string:l,array:function(w){return u(w,new Array(w.length))},arraybuffer:function(w){return y.string.uint8array(w).buffer},uint8array:function(w){return u(w,new Uint8Array(w.length))},nodebuffer:function(w){return u(w,s.allocBuffer(w.length))}},y.array={string:g,array:l,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return s.newBufferFrom(w)}},y.arraybuffer={string:function(w){return g(new Uint8Array(w))},array:function(w){return _(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:l,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return s.newBufferFrom(new Uint8Array(w))}},y.uint8array={string:g,array:function(w){return _(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:l,nodebuffer:function(w){return s.newBufferFrom(w)}},y.nodebuffer={string:g,array:function(w){return _(w,new Array(w.length))},arraybuffer:function(w){return y.nodebuffer.uint8array(w).buffer},uint8array:function(w){return _(w,new Uint8Array(w.length))},nodebuffer:l},r.transformTo=function(w,x){if(x=x||"",!w)return x;r.checkSupport(w);var f=r.getTypeOf(x);return y[f][w](x)},r.resolve=function(w){for(var x=w.split("/"),f=[],b=0;b<x.length;b++){var h=x[b];h==="."||h===""&&b!==0&&b!==x.length-1||(h===".."?f.pop():f.push(h))}return f.join("/")},r.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":n.nodebuffer&&s.isBuffer(w)?"nodebuffer":n.uint8array&&w instanceof Uint8Array?"uint8array":n.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(w){if(!n[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(w){var x,f,b="";for(f=0;f<(w||"").length;f++)b+="\\x"+((x=w.charCodeAt(f))<16?"0":"")+x.toString(16).toUpperCase();return b},r.delay=function(w,x,f){setImmediate(function(){w.apply(f||null,x||[])})},r.inherits=function(w,x){function f(){}f.prototype=x.prototype,w.prototype=new f},r.extend=function(){var w,x,f={};for(w=0;w<arguments.length;w++)for(x in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],x)&&f[x]===void 0&&(f[x]=arguments[w][x]);return f},r.prepareContent=function(w,x,f,b,h){return o.Promise.resolve(x).then(function(S){return n.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new o.Promise(function(C,M){var p=new FileReader;p.onload=function(c){C(c.target.result)},p.onerror=function(c){M(c.target.error)},p.readAsArrayBuffer(S)}):S}).then(function(S){var C=r.getTypeOf(S);return C?(C==="arraybuffer"?S=r.transformTo("uint8array",S):C==="string"&&(h?S=a.decode(S):f&&b!==!0&&(S=function(M){return u(M,n.uint8array?new Uint8Array(M.length):new Array(M.length))}(S))),S):o.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),s=e("./signature"),o=e("./zipEntry"),l=e("./support");function u(v){this.files=[],this.loadOptions=v}u.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(v)+")")}},isSignature:function(v,g){var _=this.reader.index;this.reader.setIndex(v);var y=this.reader.readString(4)===g;return this.reader.setIndex(_),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),g=l.uint8array?"uint8array":"array",_=a.transformTo(g,v);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,g,_,y=this.zip64EndOfCentralSize-44;0<y;)v=this.reader.readInt(2),g=this.reader.readInt(4),_=this.reader.readData(g),this.zip64ExtensibleData[v]={id:v,length:g,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,g;for(v=0;v<this.files.length;v++)g=this.files[v],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(v=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var g=v;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var y=g-_;if(0<y)this.isSignature(g,s.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(v){this.reader=n(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),s=e("./compressedObject"),o=e("./crc32"),l=e("./utf8"),u=e("./compressions"),v=e("./support");function g(_,y){this.options=_,this.loadOptions=y}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var y,w;if(_.skip(22),this.fileNameLength=_.readInt(2),w=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(x){for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)&&u[f].magic===x)return u[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,y,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var y=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(y),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var y,w,x,f=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<f;)y=_.readInt(2),w=_.readInt(2),x=_.readData(w),this.extraFields[y]={id:y,length:w,value:x};_.setIndex(f)},handleUTF8:function(){var _=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var w=a.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var f=a.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var y=n(_.value);return y.readInt(1)!==1||o(this.fileName)!==y.readInt(4)?null:l.utf8decode(y.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var y=n(_.value);return y.readInt(1)!==1||o(this.fileComment)!==y.readInt(4)?null:l.utf8decode(y.readData(_.length-5))}return null}},t.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(y,w,x){this.name=y,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=w,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),o=e("./utf8"),l=e("./compressedObject"),u=e("./stream/GenericWorker");n.prototype={internalStream:function(y){var w=null,x="string";try{if(!y)throw new Error("No output type specified.");var f=(x=y.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),w=this._decompressWorker();var b=!this._dataBinary;b&&!f&&(w=w.pipe(new o.Utf8EncodeWorker)),!b&&f&&(w=w.pipe(new o.Utf8DecodeWorker))}catch(h){(w=new u("error")).error(h)}return new a(w,x,"")},async:function(y,w){return this.internalStream(y).accumulate(w)},nodeStream:function(y,w){return this.internalStream(y||"nodebuffer").toNodejsStream(w)},_compressWorker:function(y,w){if(this._data instanceof l&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new o.Utf8EncodeWorker)),l.createWorkerFrom(x,y,w)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof u?this._data:new s(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<v.length;_++)n.prototype[v[_]]=g;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(n){"use strict";var a,s,o=n.MutationObserver||n.WebKitMutationObserver;if(o){var l=0,u=new o(y),v=n.document.createTextNode("");u.observe(v,{characterData:!0}),a=function(){v.data=l=++l%2}}else if(n.setImmediate||n.MessageChannel===void 0)a="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var w=n.document.createElement("script");w.onreadystatechange=function(){y(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},n.document.documentElement.appendChild(w)}:function(){setTimeout(y,0)};else{var g=new n.MessageChannel;g.port1.onmessage=y,a=function(){g.port2.postMessage(0)}}var _=[];function y(){var w,x;s=!0;for(var f=_.length;f;){for(x=_,_=[],w=-1;++w<f;)x[w]();f=_.length}s=!1}t.exports=function(w){_.push(w)!==1||s||a()}}).call(this,typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function a(){}var s={},o=["REJECTED"],l=["FULFILLED"],u=["PENDING"];function v(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,f!==a&&w(this,f)}function g(f,b,h){this.promise=f,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof h=="function"&&(this.onRejected=h,this.callRejected=this.otherCallRejected)}function _(f,b,h){n(function(){var S;try{S=b(h)}catch(C){return s.reject(f,C)}S===f?s.reject(f,new TypeError("Cannot resolve promise with itself")):s.resolve(f,S)})}function y(f){var b=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof b=="function")return function(){b.apply(f,arguments)}}function w(f,b){var h=!1;function S(p){h||(h=!0,s.reject(f,p))}function C(p){h||(h=!0,s.resolve(f,p))}var M=x(function(){b(C,S)});M.status==="error"&&S(M.value)}function x(f,b){var h={};try{h.value=f(b),h.status="success"}catch(S){h.status="error",h.value=S}return h}(t.exports=v).prototype.finally=function(f){if(typeof f!="function")return this;var b=this.constructor;return this.then(function(h){return b.resolve(f()).then(function(){return h})},function(h){return b.resolve(f()).then(function(){throw h})})},v.prototype.catch=function(f){return this.then(null,f)},v.prototype.then=function(f,b){if(typeof f!="function"&&this.state===l||typeof b!="function"&&this.state===o)return this;var h=new this.constructor(a);return this.state!==u?_(h,this.state===l?f:b,this.outcome):this.queue.push(new g(h,f,b)),h},g.prototype.callFulfilled=function(f){s.resolve(this.promise,f)},g.prototype.otherCallFulfilled=function(f){_(this.promise,this.onFulfilled,f)},g.prototype.callRejected=function(f){s.reject(this.promise,f)},g.prototype.otherCallRejected=function(f){_(this.promise,this.onRejected,f)},s.resolve=function(f,b){var h=x(y,b);if(h.status==="error")return s.reject(f,h.value);var S=h.value;if(S)w(f,S);else{f.state=l,f.outcome=b;for(var C=-1,M=f.queue.length;++C<M;)f.queue[C].callFulfilled(b)}return f},s.reject=function(f,b){f.state=o,f.outcome=b;for(var h=-1,S=f.queue.length;++h<S;)f.queue[h].callRejected(b);return f},v.resolve=function(f){return f instanceof this?f:s.resolve(new this(a),f)},v.reject=function(f){var b=new this(a);return s.reject(b,f)},v.all=function(f){var b=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var h=f.length,S=!1;if(!h)return this.resolve([]);for(var C=new Array(h),M=0,p=-1,c=new this(a);++p<h;)E(f[p],p);return c;function E(D,I){b.resolve(D).then(function(O){C[I]=O,++M!==h||S||(S=!0,s.resolve(c,C))},function(O){S||(S=!0,s.reject(c,O))})}},v.race=function(f){var b=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var h=f.length,S=!1;if(!h)return this.resolve([]);for(var C=-1,M=new this(a);++C<h;)p=f[C],b.resolve(p).then(function(c){S||(S=!0,s.resolve(M,c))},function(c){S||(S=!0,s.reject(M,c))});var p;return M}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),a=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),l=e("./zlib/zstream"),u=Object.prototype.toString,v=0,g=-1,_=0,y=8;function w(f){if(!(this instanceof w))return new w(f);this.options=a.assign({level:g,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},f||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var h=n.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(h!==v)throw new Error(o[h]);if(b.header&&n.deflateSetHeader(this.strm,b.header),b.dictionary){var S;if(S=typeof b.dictionary=="string"?s.string2buf(b.dictionary):u.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(h=n.deflateSetDictionary(this.strm,S))!==v)throw new Error(o[h]);this._dict_set=!0}}function x(f,b){var h=new w(b);if(h.push(f,!0),h.err)throw h.msg||o[h.err];return h.result}w.prototype.push=function(f,b){var h,S,C=this.strm,M=this.options.chunkSize;if(this.ended)return!1;S=b===~~b?b:b===!0?4:0,typeof f=="string"?C.input=s.string2buf(f):u.call(f)==="[object ArrayBuffer]"?C.input=new Uint8Array(f):C.input=f,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(M),C.next_out=0,C.avail_out=M),(h=n.deflate(C,S))!==1&&h!==v)return this.onEnd(h),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(C.output,C.next_out))):this.onData(a.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&h!==1);return S===4?(h=n.deflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===v):S!==2||(this.onEnd(v),!(C.avail_out=0))},w.prototype.onData=function(f){this.chunks.push(f)},w.prototype.onEnd=function(f){f===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},r.Deflate=w,r.deflate=x,r.deflateRaw=function(f,b){return(b=b||{}).raw=!0,x(f,b)},r.gzip=function(f,b){return(b=b||{}).gzip=!0,x(f,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),a=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),v=e("./zlib/gzheader"),g=Object.prototype.toString;function _(w){if(!(this instanceof _))return new _(w);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},w||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||w&&w.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var f=n.inflateInit2(this.strm,x.windowBits);if(f!==o.Z_OK)throw new Error(l[f]);this.header=new v,n.inflateGetHeader(this.strm,this.header)}function y(w,x){var f=new _(x);if(f.push(w,!0),f.err)throw f.msg||l[f.err];return f.result}_.prototype.push=function(w,x){var f,b,h,S,C,M,p=this.strm,c=this.options.chunkSize,E=this.options.dictionary,D=!1;if(this.ended)return!1;b=x===~~x?x:x===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof w=="string"?p.input=s.binstring2buf(w):g.call(w)==="[object ArrayBuffer]"?p.input=new Uint8Array(w):p.input=w,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new a.Buf8(c),p.next_out=0,p.avail_out=c),(f=n.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&E&&(M=typeof E=="string"?s.string2buf(E):g.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,f=n.inflateSetDictionary(this.strm,M)),f===o.Z_BUF_ERROR&&D===!0&&(f=o.Z_OK,D=!1),f!==o.Z_STREAM_END&&f!==o.Z_OK)return this.onEnd(f),!(this.ended=!0);p.next_out&&(p.avail_out!==0&&f!==o.Z_STREAM_END&&(p.avail_in!==0||b!==o.Z_FINISH&&b!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(h=s.utf8border(p.output,p.next_out),S=p.next_out-h,C=s.buf2string(p.output,h),p.next_out=S,p.avail_out=c-S,S&&a.arraySet(p.output,p.output,h,S,0),this.onData(C)):this.onData(a.shrinkBuf(p.output,p.next_out)))),p.avail_in===0&&p.avail_out===0&&(D=!0)}while((0<p.avail_in||p.avail_out===0)&&f!==o.Z_STREAM_END);return f===o.Z_STREAM_END&&(b=o.Z_FINISH),b===o.Z_FINISH?(f=n.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===o.Z_OK):b!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},_.prototype.onData=function(w){this.chunks.push(w)},_.prototype.onEnd=function(w){w===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},r.Inflate=_,r.inflate=y,r.inflateRaw=function(w,x){return(x=x||{}).raw=!0,y(w,x)},r.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(o){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var v in u)u.hasOwnProperty(v)&&(o[v]=u[v])}}return o},r.shrinkBuf=function(o,l){return o.length===l?o:o.subarray?o.subarray(0,l):(o.length=l,o)};var a={arraySet:function(o,l,u,v,g){if(l.subarray&&o.subarray)o.set(l.subarray(u,u+v),g);else for(var _=0;_<v;_++)o[g+_]=l[u+_]},flattenChunks:function(o){var l,u,v,g,_,y;for(l=v=0,u=o.length;l<u;l++)v+=o[l].length;for(y=new Uint8Array(v),l=g=0,u=o.length;l<u;l++)_=o[l],y.set(_,g),g+=_.length;return y}},s={arraySet:function(o,l,u,v,g){for(var _=0;_<v;_++)o[g+_]=l[u+_]},flattenChunks:function(o){return[].concat.apply([],o)}};r.setTyped=function(o){o?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(v,g){if(g<65537&&(v.subarray&&s||!v.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(v,g));for(var _="",y=0;y<g;y++)_+=String.fromCharCode(v[y]);return _}o[254]=o[254]=1,r.string2buf=function(v){var g,_,y,w,x,f=v.length,b=0;for(w=0;w<f;w++)(64512&(_=v.charCodeAt(w)))==55296&&w+1<f&&(64512&(y=v.charCodeAt(w+1)))==56320&&(_=65536+(_-55296<<10)+(y-56320),w++),b+=_<128?1:_<2048?2:_<65536?3:4;for(g=new n.Buf8(b),w=x=0;x<b;w++)(64512&(_=v.charCodeAt(w)))==55296&&w+1<f&&(64512&(y=v.charCodeAt(w+1)))==56320&&(_=65536+(_-55296<<10)+(y-56320),w++),_<128?g[x++]=_:(_<2048?g[x++]=192|_>>>6:(_<65536?g[x++]=224|_>>>12:(g[x++]=240|_>>>18,g[x++]=128|_>>>12&63),g[x++]=128|_>>>6&63),g[x++]=128|63&_);return g},r.buf2binstring=function(v){return u(v,v.length)},r.binstring2buf=function(v){for(var g=new n.Buf8(v.length),_=0,y=g.length;_<y;_++)g[_]=v.charCodeAt(_);return g},r.buf2string=function(v,g){var _,y,w,x,f=g||v.length,b=new Array(2*f);for(_=y=0;_<f;)if((w=v[_++])<128)b[y++]=w;else if(4<(x=o[w]))b[y++]=65533,_+=x-1;else{for(w&=x===2?31:x===3?15:7;1<x&&_<f;)w=w<<6|63&v[_++],x--;1<x?b[y++]=65533:w<65536?b[y++]=w:(w-=65536,b[y++]=55296|w>>10&1023,b[y++]=56320|1023&w)}return u(b,y)},r.utf8border=function(v,g){var _;for((g=g||v.length)>v.length&&(g=v.length),_=g-1;0<=_&&(192&v[_])==128;)_--;return _<0||_===0?g:_+o[v[_]]>g?_:g}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(n,a,s,o){for(var l=65535&n|0,u=n>>>16&65535|0,v=0;s!==0;){for(s-=v=2e3<s?2e3:s;u=u+(l=l+a[o++]|0)|0,--v;);l%=65521,u%=65521}return l|u<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var a,s=[],o=0;o<256;o++){a=o;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;s[o]=a}return s}();t.exports=function(a,s,o,l){var u=n,v=l+o;a^=-1;for(var g=l;g<v;g++)a=a>>>8^u[255&(a^s[g])];return-1^a}},{}],46:[function(e,t,r){"use strict";var n,a=e("../utils/common"),s=e("./trees"),o=e("./adler32"),l=e("./crc32"),u=e("./messages"),v=0,g=4,_=0,y=-2,w=-1,x=4,f=2,b=8,h=9,S=286,C=30,M=19,p=2*S+1,c=15,E=3,D=258,I=D+E+1,O=42,P=113,k=1,B=2,G=3,K=4;function q(R,me){return R.msg=u[me],me}function H(R){return(R<<1)-(4<R?9:0)}function $(R){for(var me=R.length;0<=--me;)R[me]=0}function W(R){var me=R.state,ge=me.pending;ge>R.avail_out&&(ge=R.avail_out),ge!==0&&(a.arraySet(R.output,me.pending_buf,me.pending_out,ge,R.next_out),R.next_out+=ge,me.pending_out+=ge,R.total_out+=ge,R.avail_out-=ge,me.pending-=ge,me.pending===0&&(me.pending_out=0))}function V(R,me){s._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,me),R.block_start=R.strstart,W(R.strm)}function Z(R,me){R.pending_buf[R.pending++]=me}function Q(R,me){R.pending_buf[R.pending++]=me>>>8&255,R.pending_buf[R.pending++]=255&me}function ie(R,me){var ge,ne,fe=R.max_chain_length,ye=R.strstart,He=R.prev_length,Be=R.nice_match,_e=R.strstart>R.w_size-I?R.strstart-(R.w_size-I):0,Fe=R.window,Ge=R.w_mask,Ve=R.prev,Pe=R.strstart+D,vt=Fe[ye+He-1],_t=Fe[ye+He];R.prev_length>=R.good_match&&(fe>>=2),Be>R.lookahead&&(Be=R.lookahead);do if(Fe[(ge=me)+He]===_t&&Fe[ge+He-1]===vt&&Fe[ge]===Fe[ye]&&Fe[++ge]===Fe[ye+1]){ye+=2,ge++;do;while(Fe[++ye]===Fe[++ge]&&Fe[++ye]===Fe[++ge]&&Fe[++ye]===Fe[++ge]&&Fe[++ye]===Fe[++ge]&&Fe[++ye]===Fe[++ge]&&Fe[++ye]===Fe[++ge]&&Fe[++ye]===Fe[++ge]&&Fe[++ye]===Fe[++ge]&&ye<Pe);if(ne=D-(Pe-ye),ye=Pe-D,He<ne){if(R.match_start=me,Be<=(He=ne))break;vt=Fe[ye+He-1],_t=Fe[ye+He]}}while((me=Ve[me&Ge])>_e&&--fe!=0);return He<=R.lookahead?He:R.lookahead}function Ce(R){var me,ge,ne,fe,ye,He,Be,_e,Fe,Ge,Ve=R.w_size;do{if(fe=R.window_size-R.lookahead-R.strstart,R.strstart>=Ve+(Ve-I)){for(a.arraySet(R.window,R.window,Ve,Ve,0),R.match_start-=Ve,R.strstart-=Ve,R.block_start-=Ve,me=ge=R.hash_size;ne=R.head[--me],R.head[me]=Ve<=ne?ne-Ve:0,--ge;);for(me=ge=Ve;ne=R.prev[--me],R.prev[me]=Ve<=ne?ne-Ve:0,--ge;);fe+=Ve}if(R.strm.avail_in===0)break;if(He=R.strm,Be=R.window,_e=R.strstart+R.lookahead,Fe=fe,Ge=void 0,Ge=He.avail_in,Fe<Ge&&(Ge=Fe),ge=Ge===0?0:(He.avail_in-=Ge,a.arraySet(Be,He.input,He.next_in,Ge,_e),He.state.wrap===1?He.adler=o(He.adler,Be,Ge,_e):He.state.wrap===2&&(He.adler=l(He.adler,Be,Ge,_e)),He.next_in+=Ge,He.total_in+=Ge,Ge),R.lookahead+=ge,R.lookahead+R.insert>=E)for(ye=R.strstart-R.insert,R.ins_h=R.window[ye],R.ins_h=(R.ins_h<<R.hash_shift^R.window[ye+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[ye+E-1])&R.hash_mask,R.prev[ye&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=ye,ye++,R.insert--,!(R.lookahead+R.insert<E)););}while(R.lookahead<I&&R.strm.avail_in!==0)}function De(R,me){for(var ge,ne;;){if(R.lookahead<I){if(Ce(R),R.lookahead<I&&me===v)return k;if(R.lookahead===0)break}if(ge=0,R.lookahead>=E&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+E-1])&R.hash_mask,ge=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),ge!==0&&R.strstart-ge<=R.w_size-I&&(R.match_length=ie(R,ge)),R.match_length>=E)if(ne=s._tr_tally(R,R.strstart-R.match_start,R.match_length-E),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=E){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+E-1])&R.hash_mask,ge=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else ne=s._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(ne&&(V(R,!1),R.strm.avail_out===0))return k}return R.insert=R.strstart<E-1?R.strstart:E-1,me===g?(V(R,!0),R.strm.avail_out===0?G:K):R.last_lit&&(V(R,!1),R.strm.avail_out===0)?k:B}function Me(R,me){for(var ge,ne,fe;;){if(R.lookahead<I){if(Ce(R),R.lookahead<I&&me===v)return k;if(R.lookahead===0)break}if(ge=0,R.lookahead>=E&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+E-1])&R.hash_mask,ge=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=E-1,ge!==0&&R.prev_length<R.max_lazy_match&&R.strstart-ge<=R.w_size-I&&(R.match_length=ie(R,ge),R.match_length<=5&&(R.strategy===1||R.match_length===E&&4096<R.strstart-R.match_start)&&(R.match_length=E-1)),R.prev_length>=E&&R.match_length<=R.prev_length){for(fe=R.strstart+R.lookahead-E,ne=s._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-E),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=fe&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+E-1])&R.hash_mask,ge=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=E-1,R.strstart++,ne&&(V(R,!1),R.strm.avail_out===0))return k}else if(R.match_available){if((ne=s._tr_tally(R,0,R.window[R.strstart-1]))&&V(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return k}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(ne=s._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<E-1?R.strstart:E-1,me===g?(V(R,!0),R.strm.avail_out===0?G:K):R.last_lit&&(V(R,!1),R.strm.avail_out===0)?k:B}function Ne(R,me,ge,ne,fe){this.good_length=R,this.max_lazy=me,this.nice_length=ge,this.max_chain=ne,this.func=fe}function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*p),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*M+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(c+1),this.heap=new a.Buf16(2*S+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*S+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(R){var me;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=f,(me=R.state).pending=0,me.pending_out=0,me.wrap<0&&(me.wrap=-me.wrap),me.status=me.wrap?O:P,R.adler=me.wrap===2?0:1,me.last_flush=v,s._tr_init(me),_):q(R,y)}function Xe(R){var me=be(R);return me===_&&function(ge){ge.window_size=2*ge.w_size,$(ge.head),ge.max_lazy_match=n[ge.level].max_lazy,ge.good_match=n[ge.level].good_length,ge.nice_match=n[ge.level].nice_length,ge.max_chain_length=n[ge.level].max_chain,ge.strstart=0,ge.block_start=0,ge.lookahead=0,ge.insert=0,ge.match_length=ge.prev_length=E-1,ge.match_available=0,ge.ins_h=0}(R.state),me}function $e(R,me,ge,ne,fe,ye){if(!R)return y;var He=1;if(me===w&&(me=6),ne<0?(He=0,ne=-ne):15<ne&&(He=2,ne-=16),fe<1||h<fe||ge!==b||ne<8||15<ne||me<0||9<me||ye<0||x<ye)return q(R,y);ne===8&&(ne=9);var Be=new Te;return(R.state=Be).strm=R,Be.wrap=He,Be.gzhead=null,Be.w_bits=ne,Be.w_size=1<<Be.w_bits,Be.w_mask=Be.w_size-1,Be.hash_bits=fe+7,Be.hash_size=1<<Be.hash_bits,Be.hash_mask=Be.hash_size-1,Be.hash_shift=~~((Be.hash_bits+E-1)/E),Be.window=new a.Buf8(2*Be.w_size),Be.head=new a.Buf16(Be.hash_size),Be.prev=new a.Buf16(Be.w_size),Be.lit_bufsize=1<<fe+6,Be.pending_buf_size=4*Be.lit_bufsize,Be.pending_buf=new a.Buf8(Be.pending_buf_size),Be.d_buf=1*Be.lit_bufsize,Be.l_buf=3*Be.lit_bufsize,Be.level=me,Be.strategy=ye,Be.method=ge,Xe(R)}n=[new Ne(0,0,0,0,function(R,me){var ge=65535;for(ge>R.pending_buf_size-5&&(ge=R.pending_buf_size-5);;){if(R.lookahead<=1){if(Ce(R),R.lookahead===0&&me===v)return k;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var ne=R.block_start+ge;if((R.strstart===0||R.strstart>=ne)&&(R.lookahead=R.strstart-ne,R.strstart=ne,V(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-I&&(V(R,!1),R.strm.avail_out===0))return k}return R.insert=0,me===g?(V(R,!0),R.strm.avail_out===0?G:K):(R.strstart>R.block_start&&(V(R,!1),R.strm.avail_out),k)}),new Ne(4,4,8,4,De),new Ne(4,5,16,8,De),new Ne(4,6,32,32,De),new Ne(4,4,16,16,Me),new Ne(8,16,32,32,Me),new Ne(8,16,128,128,Me),new Ne(8,32,128,256,Me),new Ne(32,128,258,1024,Me),new Ne(32,258,258,4096,Me)],r.deflateInit=function(R,me){return $e(R,me,b,15,8,0)},r.deflateInit2=$e,r.deflateReset=Xe,r.deflateResetKeep=be,r.deflateSetHeader=function(R,me){return R&&R.state?R.state.wrap!==2?y:(R.state.gzhead=me,_):y},r.deflate=function(R,me){var ge,ne,fe,ye;if(!R||!R.state||5<me||me<0)return R?q(R,y):y;if(ne=R.state,!R.output||!R.input&&R.avail_in!==0||ne.status===666&&me!==g)return q(R,R.avail_out===0?-5:y);if(ne.strm=R,ge=ne.last_flush,ne.last_flush=me,ne.status===O)if(ne.wrap===2)R.adler=0,Z(ne,31),Z(ne,139),Z(ne,8),ne.gzhead?(Z(ne,(ne.gzhead.text?1:0)+(ne.gzhead.hcrc?2:0)+(ne.gzhead.extra?4:0)+(ne.gzhead.name?8:0)+(ne.gzhead.comment?16:0)),Z(ne,255&ne.gzhead.time),Z(ne,ne.gzhead.time>>8&255),Z(ne,ne.gzhead.time>>16&255),Z(ne,ne.gzhead.time>>24&255),Z(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),Z(ne,255&ne.gzhead.os),ne.gzhead.extra&&ne.gzhead.extra.length&&(Z(ne,255&ne.gzhead.extra.length),Z(ne,ne.gzhead.extra.length>>8&255)),ne.gzhead.hcrc&&(R.adler=l(R.adler,ne.pending_buf,ne.pending,0)),ne.gzindex=0,ne.status=69):(Z(ne,0),Z(ne,0),Z(ne,0),Z(ne,0),Z(ne,0),Z(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),Z(ne,3),ne.status=P);else{var He=b+(ne.w_bits-8<<4)<<8;He|=(2<=ne.strategy||ne.level<2?0:ne.level<6?1:ne.level===6?2:3)<<6,ne.strstart!==0&&(He|=32),He+=31-He%31,ne.status=P,Q(ne,He),ne.strstart!==0&&(Q(ne,R.adler>>>16),Q(ne,65535&R.adler)),R.adler=1}if(ne.status===69)if(ne.gzhead.extra){for(fe=ne.pending;ne.gzindex<(65535&ne.gzhead.extra.length)&&(ne.pending!==ne.pending_buf_size||(ne.gzhead.hcrc&&ne.pending>fe&&(R.adler=l(R.adler,ne.pending_buf,ne.pending-fe,fe)),W(R),fe=ne.pending,ne.pending!==ne.pending_buf_size));)Z(ne,255&ne.gzhead.extra[ne.gzindex]),ne.gzindex++;ne.gzhead.hcrc&&ne.pending>fe&&(R.adler=l(R.adler,ne.pending_buf,ne.pending-fe,fe)),ne.gzindex===ne.gzhead.extra.length&&(ne.gzindex=0,ne.status=73)}else ne.status=73;if(ne.status===73)if(ne.gzhead.name){fe=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>fe&&(R.adler=l(R.adler,ne.pending_buf,ne.pending-fe,fe)),W(R),fe=ne.pending,ne.pending===ne.pending_buf_size)){ye=1;break}ye=ne.gzindex<ne.gzhead.name.length?255&ne.gzhead.name.charCodeAt(ne.gzindex++):0,Z(ne,ye)}while(ye!==0);ne.gzhead.hcrc&&ne.pending>fe&&(R.adler=l(R.adler,ne.pending_buf,ne.pending-fe,fe)),ye===0&&(ne.gzindex=0,ne.status=91)}else ne.status=91;if(ne.status===91)if(ne.gzhead.comment){fe=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>fe&&(R.adler=l(R.adler,ne.pending_buf,ne.pending-fe,fe)),W(R),fe=ne.pending,ne.pending===ne.pending_buf_size)){ye=1;break}ye=ne.gzindex<ne.gzhead.comment.length?255&ne.gzhead.comment.charCodeAt(ne.gzindex++):0,Z(ne,ye)}while(ye!==0);ne.gzhead.hcrc&&ne.pending>fe&&(R.adler=l(R.adler,ne.pending_buf,ne.pending-fe,fe)),ye===0&&(ne.status=103)}else ne.status=103;if(ne.status===103&&(ne.gzhead.hcrc?(ne.pending+2>ne.pending_buf_size&&W(R),ne.pending+2<=ne.pending_buf_size&&(Z(ne,255&R.adler),Z(ne,R.adler>>8&255),R.adler=0,ne.status=P)):ne.status=P),ne.pending!==0){if(W(R),R.avail_out===0)return ne.last_flush=-1,_}else if(R.avail_in===0&&H(me)<=H(ge)&&me!==g)return q(R,-5);if(ne.status===666&&R.avail_in!==0)return q(R,-5);if(R.avail_in!==0||ne.lookahead!==0||me!==v&&ne.status!==666){var Be=ne.strategy===2?function(_e,Fe){for(var Ge;;){if(_e.lookahead===0&&(Ce(_e),_e.lookahead===0)){if(Fe===v)return k;break}if(_e.match_length=0,Ge=s._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++,Ge&&(V(_e,!1),_e.strm.avail_out===0))return k}return _e.insert=0,Fe===g?(V(_e,!0),_e.strm.avail_out===0?G:K):_e.last_lit&&(V(_e,!1),_e.strm.avail_out===0)?k:B}(ne,me):ne.strategy===3?function(_e,Fe){for(var Ge,Ve,Pe,vt,_t=_e.window;;){if(_e.lookahead<=D){if(Ce(_e),_e.lookahead<=D&&Fe===v)return k;if(_e.lookahead===0)break}if(_e.match_length=0,_e.lookahead>=E&&0<_e.strstart&&(Ve=_t[Pe=_e.strstart-1])===_t[++Pe]&&Ve===_t[++Pe]&&Ve===_t[++Pe]){vt=_e.strstart+D;do;while(Ve===_t[++Pe]&&Ve===_t[++Pe]&&Ve===_t[++Pe]&&Ve===_t[++Pe]&&Ve===_t[++Pe]&&Ve===_t[++Pe]&&Ve===_t[++Pe]&&Ve===_t[++Pe]&&Pe<vt);_e.match_length=D-(vt-Pe),_e.match_length>_e.lookahead&&(_e.match_length=_e.lookahead)}if(_e.match_length>=E?(Ge=s._tr_tally(_e,1,_e.match_length-E),_e.lookahead-=_e.match_length,_e.strstart+=_e.match_length,_e.match_length=0):(Ge=s._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++),Ge&&(V(_e,!1),_e.strm.avail_out===0))return k}return _e.insert=0,Fe===g?(V(_e,!0),_e.strm.avail_out===0?G:K):_e.last_lit&&(V(_e,!1),_e.strm.avail_out===0)?k:B}(ne,me):n[ne.level].func(ne,me);if(Be!==G&&Be!==K||(ne.status=666),Be===k||Be===G)return R.avail_out===0&&(ne.last_flush=-1),_;if(Be===B&&(me===1?s._tr_align(ne):me!==5&&(s._tr_stored_block(ne,0,0,!1),me===3&&($(ne.head),ne.lookahead===0&&(ne.strstart=0,ne.block_start=0,ne.insert=0))),W(R),R.avail_out===0))return ne.last_flush=-1,_}return me!==g?_:ne.wrap<=0?1:(ne.wrap===2?(Z(ne,255&R.adler),Z(ne,R.adler>>8&255),Z(ne,R.adler>>16&255),Z(ne,R.adler>>24&255),Z(ne,255&R.total_in),Z(ne,R.total_in>>8&255),Z(ne,R.total_in>>16&255),Z(ne,R.total_in>>24&255)):(Q(ne,R.adler>>>16),Q(ne,65535&R.adler)),W(R),0<ne.wrap&&(ne.wrap=-ne.wrap),ne.pending!==0?_:1)},r.deflateEnd=function(R){var me;return R&&R.state?(me=R.state.status)!==O&&me!==69&&me!==73&&me!==91&&me!==103&&me!==P&&me!==666?q(R,y):(R.state=null,me===P?q(R,-3):_):y},r.deflateSetDictionary=function(R,me){var ge,ne,fe,ye,He,Be,_e,Fe,Ge=me.length;if(!R||!R.state||(ye=(ge=R.state).wrap)===2||ye===1&&ge.status!==O||ge.lookahead)return y;for(ye===1&&(R.adler=o(R.adler,me,Ge,0)),ge.wrap=0,Ge>=ge.w_size&&(ye===0&&($(ge.head),ge.strstart=0,ge.block_start=0,ge.insert=0),Fe=new a.Buf8(ge.w_size),a.arraySet(Fe,me,Ge-ge.w_size,ge.w_size,0),me=Fe,Ge=ge.w_size),He=R.avail_in,Be=R.next_in,_e=R.input,R.avail_in=Ge,R.next_in=0,R.input=me,Ce(ge);ge.lookahead>=E;){for(ne=ge.strstart,fe=ge.lookahead-(E-1);ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[ne+E-1])&ge.hash_mask,ge.prev[ne&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=ne,ne++,--fe;);ge.strstart=ne,ge.lookahead=E-1,Ce(ge)}return ge.strstart+=ge.lookahead,ge.block_start=ge.strstart,ge.insert=ge.lookahead,ge.lookahead=0,ge.match_length=ge.prev_length=E-1,ge.match_available=0,R.next_in=Be,R.input=_e,R.avail_in=He,ge.wrap=ye,_},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(n,a){var s,o,l,u,v,g,_,y,w,x,f,b,h,S,C,M,p,c,E,D,I,O,P,k,B;s=n.state,o=n.next_in,k=n.input,l=o+(n.avail_in-5),u=n.next_out,B=n.output,v=u-(a-n.avail_out),g=u+(n.avail_out-257),_=s.dmax,y=s.wsize,w=s.whave,x=s.wnext,f=s.window,b=s.hold,h=s.bits,S=s.lencode,C=s.distcode,M=(1<<s.lenbits)-1,p=(1<<s.distbits)-1;e:do{h<15&&(b+=k[o++]<<h,h+=8,b+=k[o++]<<h,h+=8),c=S[b&M];t:for(;;){if(b>>>=E=c>>>24,h-=E,(E=c>>>16&255)===0)B[u++]=65535&c;else{if(!(16&E)){if(!(64&E)){c=S[(65535&c)+(b&(1<<E)-1)];continue t}if(32&E){s.mode=12;break e}n.msg="invalid literal/length code",s.mode=30;break e}D=65535&c,(E&=15)&&(h<E&&(b+=k[o++]<<h,h+=8),D+=b&(1<<E)-1,b>>>=E,h-=E),h<15&&(b+=k[o++]<<h,h+=8,b+=k[o++]<<h,h+=8),c=C[b&p];r:for(;;){if(b>>>=E=c>>>24,h-=E,!(16&(E=c>>>16&255))){if(!(64&E)){c=C[(65535&c)+(b&(1<<E)-1)];continue r}n.msg="invalid distance code",s.mode=30;break e}if(I=65535&c,h<(E&=15)&&(b+=k[o++]<<h,(h+=8)<E&&(b+=k[o++]<<h,h+=8)),_<(I+=b&(1<<E)-1)){n.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=E,h-=E,(E=u-v)<I){if(w<(E=I-E)&&s.sane){n.msg="invalid distance too far back",s.mode=30;break e}if(P=f,(O=0)===x){if(O+=y-E,E<D){for(D-=E;B[u++]=f[O++],--E;);O=u-I,P=B}}else if(x<E){if(O+=y+x-E,(E-=x)<D){for(D-=E;B[u++]=f[O++],--E;);if(O=0,x<D){for(D-=E=x;B[u++]=f[O++],--E;);O=u-I,P=B}}}else if(O+=x-E,E<D){for(D-=E;B[u++]=f[O++],--E;);O=u-I,P=B}for(;2<D;)B[u++]=P[O++],B[u++]=P[O++],B[u++]=P[O++],D-=3;D&&(B[u++]=P[O++],1<D&&(B[u++]=P[O++]))}else{for(O=u-I;B[u++]=B[O++],B[u++]=B[O++],B[u++]=B[O++],2<(D-=3););D&&(B[u++]=B[O++],1<D&&(B[u++]=B[O++]))}break}}break}}while(o<l&&u<g);o-=D=h>>3,b&=(1<<(h-=D<<3))-1,n.next_in=o,n.next_out=u,n.avail_in=o<l?l-o+5:5-(o-l),n.avail_out=u<g?g-u+257:257-(u-g),s.hold=b,s.bits=h}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),a=e("./adler32"),s=e("./crc32"),o=e("./inffast"),l=e("./inftrees"),u=1,v=2,g=0,_=-2,y=1,w=852,x=592;function f(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(O){var P;return O&&O.state?(P=O.state,O.total_in=O.total_out=P.total=0,O.msg="",P.wrap&&(O.adler=1&P.wrap),P.mode=y,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new n.Buf32(w),P.distcode=P.distdyn=new n.Buf32(x),P.sane=1,P.back=-1,g):_}function S(O){var P;return O&&O.state?((P=O.state).wsize=0,P.whave=0,P.wnext=0,h(O)):_}function C(O,P){var k,B;return O&&O.state?(B=O.state,P<0?(k=0,P=-P):(k=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?_:(B.window!==null&&B.wbits!==P&&(B.window=null),B.wrap=k,B.wbits=P,S(O))):_}function M(O,P){var k,B;return O?(B=new b,(O.state=B).window=null,(k=C(O,P))!==g&&(O.state=null),k):_}var p,c,E=!0;function D(O){if(E){var P;for(p=new n.Buf32(512),c=new n.Buf32(32),P=0;P<144;)O.lens[P++]=8;for(;P<256;)O.lens[P++]=9;for(;P<280;)O.lens[P++]=7;for(;P<288;)O.lens[P++]=8;for(l(u,O.lens,0,288,p,0,O.work,{bits:9}),P=0;P<32;)O.lens[P++]=5;l(v,O.lens,0,32,c,0,O.work,{bits:5}),E=!1}O.lencode=p,O.lenbits=9,O.distcode=c,O.distbits=5}function I(O,P,k,B){var G,K=O.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new n.Buf8(K.wsize)),B>=K.wsize?(n.arraySet(K.window,P,k-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(B<(G=K.wsize-K.wnext)&&(G=B),n.arraySet(K.window,P,k-B,G,K.wnext),(B-=G)?(n.arraySet(K.window,P,k-B,B,0),K.wnext=B,K.whave=K.wsize):(K.wnext+=G,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=G))),0}r.inflateReset=S,r.inflateReset2=C,r.inflateResetKeep=h,r.inflateInit=function(O){return M(O,15)},r.inflateInit2=M,r.inflate=function(O,P){var k,B,G,K,q,H,$,W,V,Z,Q,ie,Ce,De,Me,Ne,Te,be,Xe,$e,R,me,ge,ne,fe=0,ye=new n.Buf8(4),He=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return _;(k=O.state).mode===12&&(k.mode=13),q=O.next_out,G=O.output,$=O.avail_out,K=O.next_in,B=O.input,H=O.avail_in,W=k.hold,V=k.bits,Z=H,Q=$,me=g;e:for(;;)switch(k.mode){case y:if(k.wrap===0){k.mode=13;break}for(;V<16;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if(2&k.wrap&&W===35615){ye[k.check=0]=255&W,ye[1]=W>>>8&255,k.check=s(k.check,ye,2,0),V=W=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&W)<<8)+(W>>8))%31){O.msg="incorrect header check",k.mode=30;break}if((15&W)!=8){O.msg="unknown compression method",k.mode=30;break}if(V-=4,R=8+(15&(W>>>=4)),k.wbits===0)k.wbits=R;else if(R>k.wbits){O.msg="invalid window size",k.mode=30;break}k.dmax=1<<R,O.adler=k.check=1,k.mode=512&W?10:12,V=W=0;break;case 2:for(;V<16;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if(k.flags=W,(255&k.flags)!=8){O.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){O.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=W>>8&1),512&k.flags&&(ye[0]=255&W,ye[1]=W>>>8&255,k.check=s(k.check,ye,2,0)),V=W=0,k.mode=3;case 3:for(;V<32;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}k.head&&(k.head.time=W),512&k.flags&&(ye[0]=255&W,ye[1]=W>>>8&255,ye[2]=W>>>16&255,ye[3]=W>>>24&255,k.check=s(k.check,ye,4,0)),V=W=0,k.mode=4;case 4:for(;V<16;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}k.head&&(k.head.xflags=255&W,k.head.os=W>>8),512&k.flags&&(ye[0]=255&W,ye[1]=W>>>8&255,k.check=s(k.check,ye,2,0)),V=W=0,k.mode=5;case 5:if(1024&k.flags){for(;V<16;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}k.length=W,k.head&&(k.head.extra_len=W),512&k.flags&&(ye[0]=255&W,ye[1]=W>>>8&255,k.check=s(k.check,ye,2,0)),V=W=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(H<(ie=k.length)&&(ie=H),ie&&(k.head&&(R=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),n.arraySet(k.head.extra,B,K,ie,R)),512&k.flags&&(k.check=s(k.check,B,ie,K)),H-=ie,K+=ie,k.length-=ie),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(H===0)break e;for(ie=0;R=B[K+ie++],k.head&&R&&k.length<65536&&(k.head.name+=String.fromCharCode(R)),R&&ie<H;);if(512&k.flags&&(k.check=s(k.check,B,ie,K)),H-=ie,K+=ie,R)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(H===0)break e;for(ie=0;R=B[K+ie++],k.head&&R&&k.length<65536&&(k.head.comment+=String.fromCharCode(R)),R&&ie<H;);if(512&k.flags&&(k.check=s(k.check,B,ie,K)),H-=ie,K+=ie,R)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;V<16;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if(W!==(65535&k.check)){O.msg="header crc mismatch",k.mode=30;break}V=W=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),O.adler=k.check=0,k.mode=12;break;case 10:for(;V<32;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}O.adler=k.check=f(W),V=W=0,k.mode=11;case 11:if(k.havedict===0)return O.next_out=q,O.avail_out=$,O.next_in=K,O.avail_in=H,k.hold=W,k.bits=V,2;O.adler=k.check=1,k.mode=12;case 12:if(P===5||P===6)break e;case 13:if(k.last){W>>>=7&V,V-=7&V,k.mode=27;break}for(;V<3;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}switch(k.last=1&W,V-=1,3&(W>>>=1)){case 0:k.mode=14;break;case 1:if(D(k),k.mode=20,P!==6)break;W>>>=2,V-=2;break e;case 2:k.mode=17;break;case 3:O.msg="invalid block type",k.mode=30}W>>>=2,V-=2;break;case 14:for(W>>>=7&V,V-=7&V;V<32;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if((65535&W)!=(W>>>16^65535)){O.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&W,V=W=0,k.mode=15,P===6)break e;case 15:k.mode=16;case 16:if(ie=k.length){if(H<ie&&(ie=H),$<ie&&(ie=$),ie===0)break e;n.arraySet(G,B,K,ie,q),H-=ie,K+=ie,$-=ie,q+=ie,k.length-=ie;break}k.mode=12;break;case 17:for(;V<14;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if(k.nlen=257+(31&W),W>>>=5,V-=5,k.ndist=1+(31&W),W>>>=5,V-=5,k.ncode=4+(15&W),W>>>=4,V-=4,286<k.nlen||30<k.ndist){O.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;V<3;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}k.lens[He[k.have++]]=7&W,W>>>=3,V-=3}for(;k.have<19;)k.lens[He[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ge={bits:k.lenbits},me=l(0,k.lens,0,19,k.lencode,0,k.work,ge),k.lenbits=ge.bits,me){O.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;Ne=(fe=k.lencode[W&(1<<k.lenbits)-1])>>>16&255,Te=65535&fe,!((Me=fe>>>24)<=V);){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if(Te<16)W>>>=Me,V-=Me,k.lens[k.have++]=Te;else{if(Te===16){for(ne=Me+2;V<ne;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if(W>>>=Me,V-=Me,k.have===0){O.msg="invalid bit length repeat",k.mode=30;break}R=k.lens[k.have-1],ie=3+(3&W),W>>>=2,V-=2}else if(Te===17){for(ne=Me+3;V<ne;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}V-=Me,R=0,ie=3+(7&(W>>>=Me)),W>>>=3,V-=3}else{for(ne=Me+7;V<ne;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}V-=Me,R=0,ie=11+(127&(W>>>=Me)),W>>>=7,V-=7}if(k.have+ie>k.nlen+k.ndist){O.msg="invalid bit length repeat",k.mode=30;break}for(;ie--;)k.lens[k.have++]=R}}if(k.mode===30)break;if(k.lens[256]===0){O.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ge={bits:k.lenbits},me=l(u,k.lens,0,k.nlen,k.lencode,0,k.work,ge),k.lenbits=ge.bits,me){O.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ge={bits:k.distbits},me=l(v,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ge),k.distbits=ge.bits,me){O.msg="invalid distances set",k.mode=30;break}if(k.mode=20,P===6)break e;case 20:k.mode=21;case 21:if(6<=H&&258<=$){O.next_out=q,O.avail_out=$,O.next_in=K,O.avail_in=H,k.hold=W,k.bits=V,o(O,Q),q=O.next_out,G=O.output,$=O.avail_out,K=O.next_in,B=O.input,H=O.avail_in,W=k.hold,V=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;Ne=(fe=k.lencode[W&(1<<k.lenbits)-1])>>>16&255,Te=65535&fe,!((Me=fe>>>24)<=V);){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if(Ne&&!(240&Ne)){for(be=Me,Xe=Ne,$e=Te;Ne=(fe=k.lencode[$e+((W&(1<<be+Xe)-1)>>be)])>>>16&255,Te=65535&fe,!(be+(Me=fe>>>24)<=V);){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}W>>>=be,V-=be,k.back+=be}if(W>>>=Me,V-=Me,k.back+=Me,k.length=Te,Ne===0){k.mode=26;break}if(32&Ne){k.back=-1,k.mode=12;break}if(64&Ne){O.msg="invalid literal/length code",k.mode=30;break}k.extra=15&Ne,k.mode=22;case 22:if(k.extra){for(ne=k.extra;V<ne;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}k.length+=W&(1<<k.extra)-1,W>>>=k.extra,V-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;Ne=(fe=k.distcode[W&(1<<k.distbits)-1])>>>16&255,Te=65535&fe,!((Me=fe>>>24)<=V);){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if(!(240&Ne)){for(be=Me,Xe=Ne,$e=Te;Ne=(fe=k.distcode[$e+((W&(1<<be+Xe)-1)>>be)])>>>16&255,Te=65535&fe,!(be+(Me=fe>>>24)<=V);){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}W>>>=be,V-=be,k.back+=be}if(W>>>=Me,V-=Me,k.back+=Me,64&Ne){O.msg="invalid distance code",k.mode=30;break}k.offset=Te,k.extra=15&Ne,k.mode=24;case 24:if(k.extra){for(ne=k.extra;V<ne;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}k.offset+=W&(1<<k.extra)-1,W>>>=k.extra,V-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){O.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if($===0)break e;if(ie=Q-$,k.offset>ie){if((ie=k.offset-ie)>k.whave&&k.sane){O.msg="invalid distance too far back",k.mode=30;break}Ce=ie>k.wnext?(ie-=k.wnext,k.wsize-ie):k.wnext-ie,ie>k.length&&(ie=k.length),De=k.window}else De=G,Ce=q-k.offset,ie=k.length;for($<ie&&(ie=$),$-=ie,k.length-=ie;G[q++]=De[Ce++],--ie;);k.length===0&&(k.mode=21);break;case 26:if($===0)break e;G[q++]=k.length,$--,k.mode=21;break;case 27:if(k.wrap){for(;V<32;){if(H===0)break e;H--,W|=B[K++]<<V,V+=8}if(Q-=$,O.total_out+=Q,k.total+=Q,Q&&(O.adler=k.check=k.flags?s(k.check,G,Q,q-Q):a(k.check,G,Q,q-Q)),Q=$,(k.flags?W:f(W))!==k.check){O.msg="incorrect data check",k.mode=30;break}V=W=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;V<32;){if(H===0)break e;H--,W+=B[K++]<<V,V+=8}if(W!==(4294967295&k.total)){O.msg="incorrect length check",k.mode=30;break}V=W=0}k.mode=29;case 29:me=1;break e;case 30:me=-3;break e;case 31:return-4;case 32:default:return _}return O.next_out=q,O.avail_out=$,O.next_in=K,O.avail_in=H,k.hold=W,k.bits=V,(k.wsize||Q!==O.avail_out&&k.mode<30&&(k.mode<27||P!==4))&&I(O,O.output,O.next_out,Q-O.avail_out)?(k.mode=31,-4):(Z-=O.avail_in,Q-=O.avail_out,O.total_in+=Z,O.total_out+=Q,k.total+=Q,k.wrap&&Q&&(O.adler=k.check=k.flags?s(k.check,G,Q,O.next_out-Q):a(k.check,G,Q,O.next_out-Q)),O.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(Z==0&&Q===0||P===4)&&me===g&&(me=-5),me)},r.inflateEnd=function(O){if(!O||!O.state)return _;var P=O.state;return P.window&&(P.window=null),O.state=null,g},r.inflateGetHeader=function(O,P){var k;return O&&O.state&&2&(k=O.state).wrap?((k.head=P).done=!1,g):_},r.inflateSetDictionary=function(O,P){var k,B=P.length;return O&&O.state?(k=O.state).wrap!==0&&k.mode!==11?_:k.mode===11&&a(1,P,B,0)!==k.check?-3:I(O,P,B,B)?(k.mode=31,-4):(k.havedict=1,g):_},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(u,v,g,_,y,w,x,f){var b,h,S,C,M,p,c,E,D,I=f.bits,O=0,P=0,k=0,B=0,G=0,K=0,q=0,H=0,$=0,W=0,V=null,Z=0,Q=new n.Buf16(16),ie=new n.Buf16(16),Ce=null,De=0;for(O=0;O<=15;O++)Q[O]=0;for(P=0;P<_;P++)Q[v[g+P]]++;for(G=I,B=15;1<=B&&Q[B]===0;B--);if(B<G&&(G=B),B===0)return y[w++]=20971520,y[w++]=20971520,f.bits=1,0;for(k=1;k<B&&Q[k]===0;k++);for(G<k&&(G=k),O=H=1;O<=15;O++)if(H<<=1,(H-=Q[O])<0)return-1;if(0<H&&(u===0||B!==1))return-1;for(ie[1]=0,O=1;O<15;O++)ie[O+1]=ie[O]+Q[O];for(P=0;P<_;P++)v[g+P]!==0&&(x[ie[v[g+P]]++]=P);if(p=u===0?(V=Ce=x,19):u===1?(V=a,Z-=257,Ce=s,De-=257,256):(V=o,Ce=l,-1),O=k,M=w,q=P=W=0,S=-1,C=($=1<<(K=G))-1,u===1&&852<$||u===2&&592<$)return 1;for(;;){for(c=O-q,D=x[P]<p?(E=0,x[P]):x[P]>p?(E=Ce[De+x[P]],V[Z+x[P]]):(E=96,0),b=1<<O-q,k=h=1<<K;y[M+(W>>q)+(h-=b)]=c<<24|E<<16|D|0,h!==0;);for(b=1<<O-1;W&b;)b>>=1;if(b!==0?(W&=b-1,W+=b):W=0,P++,--Q[O]==0){if(O===B)break;O=v[g+x[P]]}if(G<O&&(W&C)!==S){for(q===0&&(q=G),M+=k,H=1<<(K=O-q);K+q<B&&!((H-=Q[K+q])<=0);)K++,H<<=1;if($+=1<<K,u===1&&852<$||u===2&&592<$)return 1;y[S=W&C]=G<<24|K<<16|M-w|0}}return W!==0&&(y[M+W]=O-q<<24|64<<16|0),f.bits=G,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common"),a=0,s=1;function o(fe){for(var ye=fe.length;0<=--ye;)fe[ye]=0}var l=0,u=29,v=256,g=v+1+u,_=30,y=19,w=2*g+1,x=15,f=16,b=7,h=256,S=16,C=17,M=18,p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(g+2));o(I);var O=new Array(2*_);o(O);var P=new Array(512);o(P);var k=new Array(256);o(k);var B=new Array(u);o(B);var G,K,q,H=new Array(_);function $(fe,ye,He,Be,_e){this.static_tree=fe,this.extra_bits=ye,this.extra_base=He,this.elems=Be,this.max_length=_e,this.has_stree=fe&&fe.length}function W(fe,ye){this.dyn_tree=fe,this.max_code=0,this.stat_desc=ye}function V(fe){return fe<256?P[fe]:P[256+(fe>>>7)]}function Z(fe,ye){fe.pending_buf[fe.pending++]=255&ye,fe.pending_buf[fe.pending++]=ye>>>8&255}function Q(fe,ye,He){fe.bi_valid>f-He?(fe.bi_buf|=ye<<fe.bi_valid&65535,Z(fe,fe.bi_buf),fe.bi_buf=ye>>f-fe.bi_valid,fe.bi_valid+=He-f):(fe.bi_buf|=ye<<fe.bi_valid&65535,fe.bi_valid+=He)}function ie(fe,ye,He){Q(fe,He[2*ye],He[2*ye+1])}function Ce(fe,ye){for(var He=0;He|=1&fe,fe>>>=1,He<<=1,0<--ye;);return He>>>1}function De(fe,ye,He){var Be,_e,Fe=new Array(x+1),Ge=0;for(Be=1;Be<=x;Be++)Fe[Be]=Ge=Ge+He[Be-1]<<1;for(_e=0;_e<=ye;_e++){var Ve=fe[2*_e+1];Ve!==0&&(fe[2*_e]=Ce(Fe[Ve]++,Ve))}}function Me(fe){var ye;for(ye=0;ye<g;ye++)fe.dyn_ltree[2*ye]=0;for(ye=0;ye<_;ye++)fe.dyn_dtree[2*ye]=0;for(ye=0;ye<y;ye++)fe.bl_tree[2*ye]=0;fe.dyn_ltree[2*h]=1,fe.opt_len=fe.static_len=0,fe.last_lit=fe.matches=0}function Ne(fe){8<fe.bi_valid?Z(fe,fe.bi_buf):0<fe.bi_valid&&(fe.pending_buf[fe.pending++]=fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0}function Te(fe,ye,He,Be){var _e=2*ye,Fe=2*He;return fe[_e]<fe[Fe]||fe[_e]===fe[Fe]&&Be[ye]<=Be[He]}function be(fe,ye,He){for(var Be=fe.heap[He],_e=He<<1;_e<=fe.heap_len&&(_e<fe.heap_len&&Te(ye,fe.heap[_e+1],fe.heap[_e],fe.depth)&&_e++,!Te(ye,Be,fe.heap[_e],fe.depth));)fe.heap[He]=fe.heap[_e],He=_e,_e<<=1;fe.heap[He]=Be}function Xe(fe,ye,He){var Be,_e,Fe,Ge,Ve=0;if(fe.last_lit!==0)for(;Be=fe.pending_buf[fe.d_buf+2*Ve]<<8|fe.pending_buf[fe.d_buf+2*Ve+1],_e=fe.pending_buf[fe.l_buf+Ve],Ve++,Be===0?ie(fe,_e,ye):(ie(fe,(Fe=k[_e])+v+1,ye),(Ge=p[Fe])!==0&&Q(fe,_e-=B[Fe],Ge),ie(fe,Fe=V(--Be),He),(Ge=c[Fe])!==0&&Q(fe,Be-=H[Fe],Ge)),Ve<fe.last_lit;);ie(fe,h,ye)}function $e(fe,ye){var He,Be,_e,Fe=ye.dyn_tree,Ge=ye.stat_desc.static_tree,Ve=ye.stat_desc.has_stree,Pe=ye.stat_desc.elems,vt=-1;for(fe.heap_len=0,fe.heap_max=w,He=0;He<Pe;He++)Fe[2*He]!==0?(fe.heap[++fe.heap_len]=vt=He,fe.depth[He]=0):Fe[2*He+1]=0;for(;fe.heap_len<2;)Fe[2*(_e=fe.heap[++fe.heap_len]=vt<2?++vt:0)]=1,fe.depth[_e]=0,fe.opt_len--,Ve&&(fe.static_len-=Ge[2*_e+1]);for(ye.max_code=vt,He=fe.heap_len>>1;1<=He;He--)be(fe,Fe,He);for(_e=Pe;He=fe.heap[1],fe.heap[1]=fe.heap[fe.heap_len--],be(fe,Fe,1),Be=fe.heap[1],fe.heap[--fe.heap_max]=He,fe.heap[--fe.heap_max]=Be,Fe[2*_e]=Fe[2*He]+Fe[2*Be],fe.depth[_e]=(fe.depth[He]>=fe.depth[Be]?fe.depth[He]:fe.depth[Be])+1,Fe[2*He+1]=Fe[2*Be+1]=_e,fe.heap[1]=_e++,be(fe,Fe,1),2<=fe.heap_len;);fe.heap[--fe.heap_max]=fe.heap[1],function(_t,le){var ue,ve,Ke,ke,rt,st,ae=le.dyn_tree,Ue=le.max_code,Je=le.stat_desc.static_tree,ct=le.stat_desc.has_stree,Le=le.stat_desc.extra_bits,ot=le.stat_desc.extra_base,oe=le.stat_desc.max_length,ut=0;for(ke=0;ke<=x;ke++)_t.bl_count[ke]=0;for(ae[2*_t.heap[_t.heap_max]+1]=0,ue=_t.heap_max+1;ue<w;ue++)oe<(ke=ae[2*ae[2*(ve=_t.heap[ue])+1]+1]+1)&&(ke=oe,ut++),ae[2*ve+1]=ke,Ue<ve||(_t.bl_count[ke]++,rt=0,ot<=ve&&(rt=Le[ve-ot]),st=ae[2*ve],_t.opt_len+=st*(ke+rt),ct&&(_t.static_len+=st*(Je[2*ve+1]+rt)));if(ut!==0){do{for(ke=oe-1;_t.bl_count[ke]===0;)ke--;_t.bl_count[ke]--,_t.bl_count[ke+1]+=2,_t.bl_count[oe]--,ut-=2}while(0<ut);for(ke=oe;ke!==0;ke--)for(ve=_t.bl_count[ke];ve!==0;)Ue<(Ke=_t.heap[--ue])||(ae[2*Ke+1]!==ke&&(_t.opt_len+=(ke-ae[2*Ke+1])*ae[2*Ke],ae[2*Ke+1]=ke),ve--)}}(fe,ye),De(Fe,vt,fe.bl_count)}function R(fe,ye,He){var Be,_e,Fe=-1,Ge=ye[1],Ve=0,Pe=7,vt=4;for(Ge===0&&(Pe=138,vt=3),ye[2*(He+1)+1]=65535,Be=0;Be<=He;Be++)_e=Ge,Ge=ye[2*(Be+1)+1],++Ve<Pe&&_e===Ge||(Ve<vt?fe.bl_tree[2*_e]+=Ve:_e!==0?(_e!==Fe&&fe.bl_tree[2*_e]++,fe.bl_tree[2*S]++):Ve<=10?fe.bl_tree[2*C]++:fe.bl_tree[2*M]++,Fe=_e,vt=(Ve=0)===Ge?(Pe=138,3):_e===Ge?(Pe=6,3):(Pe=7,4))}function me(fe,ye,He){var Be,_e,Fe=-1,Ge=ye[1],Ve=0,Pe=7,vt=4;for(Ge===0&&(Pe=138,vt=3),Be=0;Be<=He;Be++)if(_e=Ge,Ge=ye[2*(Be+1)+1],!(++Ve<Pe&&_e===Ge)){if(Ve<vt)for(;ie(fe,_e,fe.bl_tree),--Ve!=0;);else _e!==0?(_e!==Fe&&(ie(fe,_e,fe.bl_tree),Ve--),ie(fe,S,fe.bl_tree),Q(fe,Ve-3,2)):Ve<=10?(ie(fe,C,fe.bl_tree),Q(fe,Ve-3,3)):(ie(fe,M,fe.bl_tree),Q(fe,Ve-11,7));Fe=_e,vt=(Ve=0)===Ge?(Pe=138,3):_e===Ge?(Pe=6,3):(Pe=7,4)}}o(H);var ge=!1;function ne(fe,ye,He,Be){Q(fe,(l<<1)+(Be?1:0),3),function(_e,Fe,Ge,Ve){Ne(_e),Ve&&(Z(_e,Ge),Z(_e,~Ge)),n.arraySet(_e.pending_buf,_e.window,Fe,Ge,_e.pending),_e.pending+=Ge}(fe,ye,He,!0)}r._tr_init=function(fe){ge||(function(){var ye,He,Be,_e,Fe,Ge=new Array(x+1);for(_e=Be=0;_e<u-1;_e++)for(B[_e]=Be,ye=0;ye<1<<p[_e];ye++)k[Be++]=_e;for(k[Be-1]=_e,_e=Fe=0;_e<16;_e++)for(H[_e]=Fe,ye=0;ye<1<<c[_e];ye++)P[Fe++]=_e;for(Fe>>=7;_e<_;_e++)for(H[_e]=Fe<<7,ye=0;ye<1<<c[_e]-7;ye++)P[256+Fe++]=_e;for(He=0;He<=x;He++)Ge[He]=0;for(ye=0;ye<=143;)I[2*ye+1]=8,ye++,Ge[8]++;for(;ye<=255;)I[2*ye+1]=9,ye++,Ge[9]++;for(;ye<=279;)I[2*ye+1]=7,ye++,Ge[7]++;for(;ye<=287;)I[2*ye+1]=8,ye++,Ge[8]++;for(De(I,g+1,Ge),ye=0;ye<_;ye++)O[2*ye+1]=5,O[2*ye]=Ce(ye,5);G=new $(I,p,v+1,g,x),K=new $(O,c,0,_,x),q=new $(new Array(0),E,0,y,b)}(),ge=!0),fe.l_desc=new W(fe.dyn_ltree,G),fe.d_desc=new W(fe.dyn_dtree,K),fe.bl_desc=new W(fe.bl_tree,q),fe.bi_buf=0,fe.bi_valid=0,Me(fe)},r._tr_stored_block=ne,r._tr_flush_block=function(fe,ye,He,Be){var _e,Fe,Ge=0;0<fe.level?(fe.strm.data_type===2&&(fe.strm.data_type=function(Ve){var Pe,vt=4093624447;for(Pe=0;Pe<=31;Pe++,vt>>>=1)if(1&vt&&Ve.dyn_ltree[2*Pe]!==0)return a;if(Ve.dyn_ltree[18]!==0||Ve.dyn_ltree[20]!==0||Ve.dyn_ltree[26]!==0)return s;for(Pe=32;Pe<v;Pe++)if(Ve.dyn_ltree[2*Pe]!==0)return s;return a}(fe)),$e(fe,fe.l_desc),$e(fe,fe.d_desc),Ge=function(Ve){var Pe;for(R(Ve,Ve.dyn_ltree,Ve.l_desc.max_code),R(Ve,Ve.dyn_dtree,Ve.d_desc.max_code),$e(Ve,Ve.bl_desc),Pe=y-1;3<=Pe&&Ve.bl_tree[2*D[Pe]+1]===0;Pe--);return Ve.opt_len+=3*(Pe+1)+5+5+4,Pe}(fe),_e=fe.opt_len+3+7>>>3,(Fe=fe.static_len+3+7>>>3)<=_e&&(_e=Fe)):_e=Fe=He+5,He+4<=_e&&ye!==-1?ne(fe,ye,He,Be):fe.strategy===4||Fe===_e?(Q(fe,2+(Be?1:0),3),Xe(fe,I,O)):(Q(fe,4+(Be?1:0),3),function(Ve,Pe,vt,_t){var le;for(Q(Ve,Pe-257,5),Q(Ve,vt-1,5),Q(Ve,_t-4,4),le=0;le<_t;le++)Q(Ve,Ve.bl_tree[2*D[le]+1],3);me(Ve,Ve.dyn_ltree,Pe-1),me(Ve,Ve.dyn_dtree,vt-1)}(fe,fe.l_desc.max_code+1,fe.d_desc.max_code+1,Ge+1),Xe(fe,fe.dyn_ltree,fe.dyn_dtree)),Me(fe),Be&&Ne(fe)},r._tr_tally=function(fe,ye,He){return fe.pending_buf[fe.d_buf+2*fe.last_lit]=ye>>>8&255,fe.pending_buf[fe.d_buf+2*fe.last_lit+1]=255&ye,fe.pending_buf[fe.l_buf+fe.last_lit]=255&He,fe.last_lit++,ye===0?fe.dyn_ltree[2*He]++:(fe.matches++,ye--,fe.dyn_ltree[2*(k[He]+v+1)]++,fe.dyn_dtree[2*V(ye)]++),fe.last_lit===fe.lit_bufsize-1},r._tr_align=function(fe){Q(fe,2,3),ie(fe,h,I),function(ye){ye.bi_valid===16?(Z(ye,ye.bi_buf),ye.bi_buf=0,ye.bi_valid=0):8<=ye.bi_valid&&(ye.pending_buf[ye.pending++]=255&ye.bi_buf,ye.bi_buf>>=8,ye.bi_valid-=8)}(fe)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(n){(function(a,s){"use strict";if(!a.setImmediate){var o,l,u,v,g=1,_={},y=!1,w=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,o={}.toString.call(a.process)==="[object process]"?function(S){process.nextTick(function(){b(S)})}:function(){if(a.postMessage&&!a.importScripts){var S=!0,C=a.onmessage;return a.onmessage=function(){S=!1},a.postMessage("","*"),a.onmessage=C,S}}()?(v="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",h,!1):a.attachEvent("onmessage",h),function(S){a.postMessage(v+S,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(S){b(S.data)},function(S){u.port2.postMessage(S)}):w&&"onreadystatechange"in w.createElement("script")?(l=w.documentElement,function(S){var C=w.createElement("script");C.onreadystatechange=function(){b(S),C.onreadystatechange=null,l.removeChild(C),C=null},l.appendChild(C)}):function(S){setTimeout(b,0,S)},x.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var C=new Array(arguments.length-1),M=0;M<C.length;M++)C[M]=arguments[M+1];var p={callback:S,args:C};return _[g]=p,o(g),g++},x.clearImmediate=f}function f(S){delete _[S]}function b(S){if(y)setTimeout(b,0,S);else{var C=_[S];if(C){y=!0;try{(function(M){var p=M.callback,c=M.args;switch(c.length){case 0:p();break;case 1:p(c[0]);break;case 2:p(c[0],c[1]);break;case 3:p(c[0],c[1],c[2]);break;default:p.apply(s,c)}})(C)}finally{f(S),y=!1}}}}function h(S){S.source===a&&typeof S.data=="string"&&S.data.indexOf(v)===0&&b(+S.data.slice(v.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var UO=Pn(($fe,RO)=>{"use strict";var Ag={};Ag._getBinaryFromXHR=function(e){return e.response||e.responseText};function BO(){try{return new window.XMLHttpRequest}catch{}}function NR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch{}}var IR=typeof window<"u"&&window.ActiveXObject?function(){return BO()||NR()}:BO;Ag.getBinaryContent=function(e,t){var r,n,a,s;t||(t={}),typeof t=="function"?(s=t,t={}):typeof t.callback=="function"&&(s=t.callback),!s&&typeof Promise<"u"?r=new Promise(function(l,u){n=l,a=u}):(n=function(l){s(null,l)},a=function(l){s(l,null)});try{var o=IR();o.open("GET",e,!0),"responseType"in o&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(l){if(o.readyState===4)if(o.status===200||o.status===0)try{n(Ag._getBinaryFromXHR(o))}catch(u){a(new Error(u))}else a(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText))},t.progress&&(o.onprogress=function(l){t.progress({path:e,originalEvent:l,percent:l.loaded/l.total*100,loaded:l.loaded,total:l.total})}),o.send()}catch(l){a(new Error(l),null)}return r};RO.exports=Ag});var ln,Tg,zR,FR,Lg,WO=se(()=>{ln=rn(Nn()),Tg=rn(Uf());Sn();zR=FO(),FR=UO(),Lg=class extends ln.default.Component{constructor(t){super(t),this.state={}}getConf=()=>{let t=`job,step_number,type,name,version,parameters
`,r="";return this.props.analyses.forEach(n=>{n=n.replace(/_job/,""),console.log("Getting config for "+n),JSON.parse(ai(n,this.props.joblist_url,"application/json")).steps.forEach(s=>{s.task.configuration.length!==0&&s.task.configuration.forEach(o=>{r+=n+","+s.ordering+","+o.type+","+o.name+","+o.version+","+o.parameters+`
`})})}),t+r};returnJobConfig=()=>{let t=this.getConf();(0,Tg.saveAs)(new Blob(t.split()),this.props.uuid+".csv")};getSVGArea=t=>{var r=document.getElementById(t);let n=null;return r&&(n=r.innerHTML,n=n.replace(/<g id="toggle".+?<\/g>/,""),n=n.replace(/<g id="buttons".+?<\/g>/,"")),n};returnZip=async()=>{let t=new zR;Object.keys(this.props.results_files).forEach(a=>{Object.keys(this.props.results_files[a]).forEach(s=>{if(s.includes(".png")||s.includes(".jpg")||s.includes(".jpeg")||s.includes(".gif")){let l=this.props.files_url+"/submissions/"+s;var o=null;try{o=FR.getBinaryContent(l)}catch{console.log("Could not get image data for zip: "+s)}t.file(s,o,{binary:!0})}else t.file(s,this.props.results_files[a][s])})}),t.file("job_configuration.csv",this.getConf());var r=this.getSVGArea("sequence_plot");r&&t.file("seq_annotation.svg",r),r=this.getSVGArea("psipred_horiz"),r&&t.file("psipred_cartoon.svg",r),r=this.getSVGArea("disorder_svg"),r&&t.file("disorder_precision.svg",r);let n=await t.generateAsync({type:"blob"});(0,Tg.saveAs)(n,this.props.uuid+".zip")};packageJobDetails=()=>{};getFile=t=>{Object.keys(this.props.results_files).forEach(r=>{Object.keys(this.props.results_files[r]).forEach(n=>{console.log(n),n.includes(t.target.value)&&(0,Tg.saveAs)(new Blob(this.props.results_files[r][n].split()),n)})})};createDownloadLinks=(t,r,n)=>{let a=[];return a.push(ln.default.createElement("h5",{key:t},n)),t++,r.forEach(s=>{a.push(ln.default.createElement("button",{className:"fake-link",key:t,onClick:this.getFile,value:s[0]},s[1])),t++,a.push(ln.default.createElement("br",{key:t})),t++}),[a,t]};renderDownloads=()=>{let t=[],r=0;return this.props.struct_job_names.forEach(n=>{let a=[];this.props.analyses.includes(n+"_job")&&(n===this.props.job_strings.metsite.varName&&(a=this.createDownloadLinks(r,[[".MetPred","Metsite PDB"],[".Metpred","Mesite Predictions"]],this.props.job_strings.metsite.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.hspred.varName&&(a=this.createDownloadLinks(r,[["initial.pdb","HSPred First PDB File"],["second.pdb","HSPred Second PDB File"],[".out","HSPRed Predictions"]],this.props.job_strings.hspred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.memembed.varName&&(a=this.createDownloadLinks(r,[[".pdb","PDB Embedding"]],this.props.job_strings.memembed.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.merizo.varName&&(a=this.createDownloadLinks(r,[[".pdb2",this.props.job_strings.merizo.shortName+" PDB"],[".merizo",this.props.job_strings.merizo.shortName+" Boundaries"]],this.props.job_strings.merizo.shortName+" DOWNLOADS"),t.push(a[0])),r=a[1])}),this.props.seq_job_names.forEach(n=>{let a=[];this.props.analyses.includes(n+"_job")&&((n===this.props.job_strings.psipred.varName||n===this.props.job_strings.dmp.varName)&&(a=this.createDownloadLinks(r,[[".horiz","Horiz Format Output"],[".ss2","SS2 Format Output"]],this.props.job_strings.psipred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.pgenthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.pgenthreader.shortName+" Hits"]],this.props.job_strings.pgenthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.disopred.varName&&(a=this.createDownloadLinks(r,[[".comb","COMB Format Output"],[".pbdat","PBDAT Format Output"]],this.props.job_strings.disopred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.memsatsvm.varName&&(a=this.createDownloadLinks(r,[[".memsat_svm",this.props.job_strings.memsatsvm.shortName+" text format"]],this.props.job_strings.memsatsvm.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmp.varName&&(a=this.createDownloadLinks(r,[[".con",this.props.job_strings.dmp.shortName+" Contact List"]],this.props.job_strings.dmp.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.genthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.genthreader.shortName+" Hits"]],this.props.job_strings.genthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.pdomthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.pdomthreader.shortName+" Hits"]],this.props.job_strings.pdomthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmpfold.varName&&(a=this.createDownloadLinks(r,[[".pdb","PDB Model"]],this.props.job_strings.dmpfold.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.s4pred.varName&&(a=this.createDownloadLinks(r,[[".horiz","Horiz Format Output"],[".ss2","SS2 Format Output"]],this.props.job_strings.s4pred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dompred.varName&&(a=this.createDownloadLinks(r,[[".boundary",this.props.job_strings.dompred.shortName+" Boundaries"]],this.props.job_strings.dompred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.ffpred.varName&&(a=this.createDownloadLinks(r,[[".featcfg",this.props.job_strings.ffpred.shortName+" Predicted Features"],[".full_formatted",this.props.job_strings.ffpred.shortName+" Predictions"]],this.props.job_strings.ffpred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.mempack.varName&&(a=this.createDownloadLinks(r,[["_LIPID_EXPOSURE.results",this.props.job_strings.mempack.shortName+" Lipid Exposure Results"],["_CONTACT_DEF1.results",this.props.job_strings.mempack.shortName+" Contacts"]],this.props.job_strings.mempack.shortName+" DOWNLOADS"),t.push(a[0])),r=a[1])}),ln.default.createElement("div",null,t)};render(){return ln.default.createElement("div",{className:"box box-warning",id:"downloads_widget"},ln.default.createElement("div",{className:"box-header with-border"},ln.default.createElement("h5",{className:"box-title"},"Downloads"),ln.default.createElement("div",{className:"box-tools pull-right"},ln.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},ln.default.createElement("i",{className:"fa fa-minus"})))),ln.default.createElement("div",{className:"box-body"},ln.default.createElement("h5",null,"RESULTS ZIP FILE"),ln.default.createElement("button",{className:"fake-link",onClick:this.returnZip},"Get Zip File"),ln.default.createElement("br",null),ln.default.createElement("br",null),ln.default.createElement("h5",null,"JOB CONFIGURATION"),ln.default.createElement("button",{className:"fake-link",onClick:this.returnJobConfig},"Get Job Details"),ln.default.createElement("br",null),ln.default.createElement("br",null),this.props.results_files?this.renderDownloads():null),this.props.waiting&&ln.default.createElement("div",{className:"overlay processing"},ln.default.createElement("i",{className:"fa fa-refresh fa-spin"})))}}});var Ft,Og,jO=se(()=>{Ft=rn(Nn()),Og=class extends Ft.default.Component{constructor(t){super(t),this.state={analyses:["psipred_job"],seqStart:1,seqStop:this.props.seq.length,bioDomModellerKey:""},this.timer=null}handleResubmit=t=>{t.preventDefault();let r=this.props.seq.slice(this.state.seqStart-1,this.state.seqStop);console.log("PREPPING RESUBMIT");let n=this.props.name,a=this.props.email;this.props.handleResubmit(this.state.analyses,r,n,a,t)};componentDidUpdate(){}triggerStartChange=t=>{console.log(t),t.length===0&&this.setState({seqStart:1}),t>this.state.seqStop&&this.setState({seqStart:this.state.seqStop})};triggerStopChange=t=>{console.log(t),t.length===0||t>this.props.seq.length?this.setState({seqStop:this.props.seq.length}):t<this.state.seqStart&&this.setState({seqStop:this.state.seqStart})};handleChange=t=>{if(t.target.name==="bioserf_domserf_modeller_key"&&this.setState({bioDomModellerKey:t.target.value,bioserf_modeller_key:t.target.value,domserf_modeller_key:t.target.value}),t.target.name==="start_coord"){clearTimeout(this.timer);let r=" ";r=parseInt(t.target.value),(r&&r>0||!r)&&(r||(r=""),this.setState({seqStart:r}),this.timer=setTimeout(this.triggerStartChange.bind(null,r),1e3))}if(t.target.name==="stop_coord"){clearTimeout(this.timer);let r="";r=parseInt(t.target.value),(r&&r>0||!r)&&(r||(r=""),this.setState({seqStop:r}),this.timer=setTimeout(this.triggerStopChange.bind(null,r),1e3))}};render(){return Ft.default.createElement("div",{className:"box box-success collapsed-box",id:"resubmission_widget"},Ft.default.createElement("div",{className:"box-header with-border"},Ft.default.createElement("h5",{className:"box-title"},"Segment Resubmission"),Ft.default.createElement("div",{className:"box-tools pull-right"},Ft.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},Ft.default.createElement("i",{className:"fa fa-plus"})))),Ft.default.createElement("div",{className:"box-body"},Ft.default.createElement("br",null),Ft.default.createElement("form",{method:"Post",className:"form",intro:"slide",outro:"slide",onSubmit:this.handleResubmit},Ft.default.createElement("br",null),Ft.default.createElement("h5",{"data-toggle":"tool-tip",title:"Select subsequence regions from your current result"},"Select subsequence region"),"Start Coordinate ",Ft.default.createElement("input",{type:"text",id:"start_coord",name:"start_coord",className:"sequence_coord",value:this.state.seqStart,onChange:this.handleChange})," - Stop Coordinate ",Ft.default.createElement("input",{id:"stop_coord",type:"text",name:"stop_coord",className:"sequence_coord",value:this.state.seqStop,onChange:this.handleChange}),Ft.default.createElement("div",{className:"form-group"},Ft.default.createElement("br",null),Ft.default.createElement("h5",null,"Choose prediction methods (hover for short description)"),Ft.default.createElement("table",{className:"full-width-table"},Ft.default.createElement("tbody",null,Ft.default.createElement("tr",null,Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.psipred.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.psipred.jobName,value:this.props.job_strings.psipred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.psipred.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.psipred.shortName)),Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.disopred.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.disopred.jobName,value:this.props.job_strings.disopred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.disopred.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.disopred.shortName))),Ft.default.createElement("tr",null,Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memsatsvm.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.memsatsvm.jobName,value:this.props.job_strings.memsatsvm.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.memsatsvm.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.memsatsvm.shortName)),Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pgenthreader.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.pgenthreader.jobName,value:this.props.job_strings.pgenthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.pgenthreader.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.pgenthreader.shortName))),Ft.default.createElement("tr",null,Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmp.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.dmp.jobName,value:this.props.job_strings.dmp.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmp.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.dmp.shortName)),Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.mempack.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.mempack.jobName,value:this.props.job_strings.mempack.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.mempack.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.mempack.shortName))),Ft.default.createElement("tr",null,Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.genthreader.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.genthreader.jobName,value:this.props.job_strings.genthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.genthreader.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.genthreader.shortName)),Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pdomthreader.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.pdomthreader.jobName,value:this.props.job_strings.pdomthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.pdomthreader.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.pdomthreader.shortName))),Ft.default.createElement("tr",null,Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpfold.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.dmpfold.jobName,value:this.props.job_strings.dmpfold.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmpfold.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.dmpfold.shortName)),Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dompred.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.dompred.jobName,value:this.props.job_strings.dompred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dompred.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.dompred.shortName))),Ft.default.createElement("tr",null,Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.s4pred.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.s4pred.jobName,value:this.props.job_strings.s4pred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.s4pred.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.s4pred.shortName)),Ft.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.ffpred.tooltip},Ft.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.ffpred.jobName,value:this.props.job_strings.ffpred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.ffpred.jobName)}),Ft.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.ffpred.shortName)))))),Ft.default.createElement("div",{className:"text-right"},Ft.default.createElement("input",{value:"Resubmit",type:"submit",className:"btn btn-primary"})),Ft.default.createElement("br",null))),this.props.waiting&&Ft.default.createElement("div",{className:"overlay processing"},Ft.default.createElement("i",{className:"fa fa-refresh fa-spin"})))}}});function GO(e){return e==="MODELIRANJE"}function BR(e){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(t)}function RR(e){var t=/^[0-9]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(t)}function UR(e){var t=/^[0-9]+$/;return!!e.match(t)}function Pw(e){var t=/^[A-Z]$/;return!!e.match(t)}function HO(e,t,r){return e.length===0?"You must provide a protein sequence or MSA for sequence analysis submission":e.length<30?"Your sequence is too short for analysis. Minimum size is 30 residues":e.length>1500?"Your sequence is too long to process. Maximum size is 1500 residues":e.length>500&&t.includes("dmpfold")?"DMPfold jobs have a maximum sequence length of 500 residues.":e.length>500&&t.includes("dmp")?"DeepMetaPSICOV jobs have a maximum sequence length of 500 residues.":(e.match(/A|T|C|G|U|N|a|t|c|g|u|n/g)||[]).length/e.length>.95?"Your sequence appears to be nucleotide sequence. This service requires protein sequence as input":/[^ACDEFGHIKLMNPQRSTVWYX-]+/i.test(e)?"Your sequence contains invalid characters":null}var VO,YO=se(()=>{VO=(e,t,r)=>{let n=(u,v)=>u.filter(g=>v.includes(g)).length,a={send:!1,message:null,result_page:"seq",jobs:null,pdbData:""},s=e.seq_job_names,o=e.struct_job_names;if(n(t,s)>0&&n(t,o)>0)return a.message="You can not submit both sequence and structure analysis jobs",a;if(n(t,s)===0&&n(t,o)===0)return a.message="You must select at least one analysis job",a;if(t.includes("bioserf")&&!GO(e.bioserf_modeller_key))return a.message="You have not provided a valid MODELLER key for BioSerf. Contact the Sali lab for a MODELLER licence.",a;if(t.includes("domserf")&&!GO(e.domserf_modeller_key))return a.message="You have not provided a valid MODELLER key for DomSerf. Contact the Sali lab for a MODELLER licence.",a;if(!/^[\x00-\x7F]+$/.test(e.name))return a.message="Please restrict job names to alphanumeric characters and simple punctuation",a;if(e.email.length===0){var l=window.confirm(`No email address was provided.

Analyses can be long running and we recommend users leave an
email address to receive completion alerts. Leaving an email address
also allows us to contact you if there are any problems with you analyses

Press OK to submit without an email address.`);if(l===!0)e.email="dummy@dummy.com";else return a}if(!BR(e.email))return a.message="You must provide a valid email address",a;if(e.name.length===0)return a.message="You must provide a short identifying name for your submission",a;if(n(t,o)>0&&(a.result_page="struct"),a.result_page==="seq"){if(t.length===13)return a.message="You can't select all sequence analyses",a;let u=e.seq.split(">").length-1,v=e.seq.split(`
`);if(u<=1){let g="";if(v.forEach(function(_){_.startsWith(">")||(g+=_)}),g.length<1)return a.message="No sequence provided",a;a.message=HO(e.seq,t)}else{let g=0,_=0,y={};v.forEach(function(x){x.startsWith(">")?(g+=1,y[g]=""):(y[g]+=x,_+=x.length)});let w=y[1].length*g;if(_!==w)return a.message="MSA Sequences must be of same length",a;for(let x in y)if(a.message+=HO(y[x]),a.message>0)return a}if(RR(e.dompred_e_value_cutoff)||(a.message="E Value cutoff for Dompred must be a number"),UR(e.dompred_psiblast_iterations)||(a.message="PSI-BLAST iterations for Dompred must be an integer"),a.message)return a}else{if(t.length===4)return a.message="You can't select all structure analyses",a;if(!Pw(e.metsite_chain_id))return a.message="Metsite chain ID must be a single letter",a;if(!Pw(e.hspred_protein_1))return a.message="HSPred Protein 1 must be a single letter",a;if(!Pw(e.hspred_protein_2))return a.message="HSPred Protein 2 must be a single letter",a;if(r&&!/ATOM\s+\d+/i.test(r))return a.message="Your file does not look like a plain text ascii pdb file. This service does not accept .gz or xml format pdb files",a}if(t.includes("pgenthreader")||t.includes("dompred")||t.includes("pdomthreader")||t.includes("bioserf")||t.includes("domserf")||t.includes("metapsicov")){let u=t.indexOf("psipred");u>-1&&t.splice(u,1)}if(t.includes("bioserf")){let u=t.indexOf("pgenthreader");u>-1&&t.splice(u,1)}if(t.includes("domserf")){let u=t.indexOf("pdomthreader");u>-1&&t.splice(u,1)}return a.send=!0,a.message="all tests passed",a.pdbData=r,a.jobs=t,a}});async function WR(e){return await new Promise(r=>{let n=new FileReader;n.onload=a=>r(n.result),n.readAsText(e)})}var Or,Nw,kg,KO=se(()=>{Or=rn(Nn());wC();SC();NO();IO();WO();jO();YO();Sn();Nw=class extends Or.default.Component{constructor(t){super(t);let r="",n="",a=null,s="",o="";this.props.location==="Dev"&&(r="ASDASDASDASDASDASDASDASDASDASD",n="ASDASDASDASDASDASDASDASDASDASD",s="test",o="a@b.com"),this.state={displayType:"input",displayTime:!0,formSelectedOption:"SeqForm",seq_job_names:["psipred","disopred","pgenthreader","metapsicov","mempack","memsatsvm","genthreader","dompred","pdomthreader","ffpred","dmp","dmpfold","s4pred"],struct_job_names:["metsite","hspred","memembed","merizo"],analyses:["psipred_job"],jobs:[],input_data:r,seq:n,name:s,email:o,pdbData:a,waiting:!1,uuid:null,bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",svgs:null,results_files:!1,config_data:null,resubmit:!1,results_map:["png","gif","jpg","horiz","ss2","pbdat","comb","memsat_svm","presult","align","presults","dom_presults","parseds","featcfg","full_formatted","csv","ann","aln","con","pdb","merizo","boundary","Metpred","MetPred","out","results","pdb2"],job_strings:{psipred:{shortName:"PSIPRED",fullName:"PSIPRED 4.0",describedName:"PSIPRED 4.0 (Predict Secondary Structure)",varName:"psipred",jobName:"psipred_job",tooltip:"Predict helices, beta sheets and coils from AA sequence"},disopred:{shortName:"DISOPRED3",fullName:"DISOPRED3",describedName:"DISOPRED3 (Disored Prediction)",varName:"disopred",jobName:"disopred_job",tooltip:"Detect intrinsically disordered regions in proteins"},pgenthreader:{shortName:"pGenTHREADER",fullName:"pGenTHREADER",describedName:"pGenTHREADER (Profile Based Fold Recognition)",varName:"pgenthreader",jobName:"pgenthreader_job",tooltip:"Protein fold recognition with protein templates of known structure"},memsatsvm:{shortName:"MEMSAT-SVM",fullName:"MEMSAT-SVM",describedName:"MEMSAT-SVM (Membrane Helix Prediction)",varName:"memsatsvm",jobName:"memsatsvm_job",tooltip:"Calculate length, location and topology of transmembrane helices"},dmp:{shortName:"DeepMetaPSICOV",fullName:"DeepMetaPSICOV 1.0",describedName:"DeepMetaPSICOV 1.0 (Structural Contact Prediction)",varName:"dmp",jobName:"dmp_job",tooltip:"Predict inter-residue contacts using a convolutional neural network"},mempack:{shortName:"MEMPACK",fullName:"MEMPACK",describedName:"MEMPACK (TM Topology and Helix Packing)",varName:"mempack",jobName:"mempack_job",tooltip:"Predict membrane helix packing"},genthreader:{shortName:"genTHREADER",fullName:"genTHREADER",describedName:"genTHREADER (Rapid Fold Recognition)",varName:"genthreader",jobName:"genthreader_job",tooltip:"Fast fold recognition method using template structures"},pdomthreader:{shortName:"pDomTHREADER",fullName:"pDomTHREADER",describedName:"pDomTHREADER (Protein Domain Fold Recognition)",varName:"pdomthreader",jobName:"pdomthreader_job",tooltip:"Fast protein domain fold recognition using template domain structures"},dmpfold:{shortName:"DMPFold",fullName:"DMPFold 2.0",describedName:"DMPFold 2.0 (Protein Structure Prediction)",varName:"dmpfold",jobName:"dmpfold_job",tooltip:"Accurate structure prediction using residue-residue contacts"},s4pred:{shortName:"S4Pred",fullName:"S4Pred",describedName:"S4Pred (Single Sequence SS Prediction)",varName:"s4pred",jobName:"s4pred_job",tooltip:"Predict Secondary Structure Prediction with a single sequence"},dompred:{shortName:"DomPred",fullName:"DomPred",describedName:"DomPred (Domain Boundary Prediction)",varName:"dompred",jobName:"dompref_job",tooltip:"Predict protein structural domain boundaries"},ffpred:{shortName:"FFPred",fullName:"FFPred 4",describedName:"FFPred 4 (Eurkaryotic Function Prediction)",varName:"ffpred",jobName:"ffpred_job",tooltip:"Predict protein function, using Gene Ontology annotations"},metsite:{shortName:"Metsite",fullName:"Metsite",describedName:"Metsite (Protein-Metal Ion Contact Prediction)",varName:"metsite",jobName:"metsite_job",tooltip:"Detects metal-binding residues from protein structure"},hspred:{shortName:"HSPred",fullName:"HSPred",describedName:"HSPred (Protein-Protein Hotspot Residue Prediction)",varName:"hspred",jobName:"hspred_job",tooltip:"Predicts protein-protein interaction hotspot residues"},memembed:{shortName:"MEMEMBED",fullName:"MEMEMBED",describedName:"MEMEMBED (Membrane Protein Orientation Prediction)",varName:"memembed",jobName:"memembed_job",tooltip:"Orientate membrane proteins within the lipid bilayer"},merizo:{shortName:"Merizo",fullName:"Merizo",describedName:"Merizo (Protein domain segmentation)",varName:"merizo",jobName:"merizo_job",tooltip:"Fast and accurate protein domain prediction"}}}}handleReset=()=>{this.setState({analyses:["psipred_job"],jobs:[],input_data:"",seq:"",name:"",email:"",waiting:!1,uuid:null,bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",pdbData:null,metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",annotation_svg:null,results_files:!1,config_data:null,resubmit:!1})};updateResultsFiles=t=>{this.setState({results_files:t})};updateSVGs=t=>{this.setState({svgs:t})};handleResubmit=(t,r,n,a,s)=>{this.setState({analyses:t,jobs:[],input_data:"",seq:r,name:n,email:a,waiting:!1,uuid:null,formSelectedOption:"SeqForm",bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",pdbData:"",metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",annotation_svg:null,results_files:!1,config_data:null,resubmit:!0}),this.handleSubmit(s)};updateSeq=t=>{this.setState({seq:t})};updateResubmit=t=>{this.setState({resubmit:t})};updateConfig=t=>{this.setState({config_data:t})};updateWaiting=t=>{this.setState({waiting:t})};updateUuid=t=>{this.setState({uuid:t})};updateForm=t=>{this.setState({formSelectedOption:t})};updateAnalyses=t=>{this.setState({analyses:t})};updateDisplayTime=t=>{this.setState({displayTime:t})};componentDidUpdate(){}handleInputChange=t=>{this.handleReset(),this.setState({formSelectedOption:t.target.value,analyses:[]})};handleStructChange=t=>{var r=t.target.value;if(t.target.name==="job_name")this.setState({name:r});else if(t.target.name==="email")this.setState({email:r});else{let n=this.state.analyses,a=this.state.analyses.indexOf(t.target.value);a>-1?n.splice(a,1):n.push(t.target.value),this.setState({analyses:n})}this.state.analyses.length===4&&alert("You have selected every analysis method. We don't allow submissions which select all analyses. Please consider more carefully which predictions you require.")};handleSeqChange=t=>{var r=t.target.value;if(t.target.name==="input_data"){this.setState({input_data:r});var n=(r.match(/>/g)||[]).length;if(n===1){var a=/^>(.+)\n(.+)/,s=a.exec(r);s?this.setState({name:s[1],seq:s[2].toUpperCase()}):this.setState({seq:r.toUpperCase()})}else this.setState({seq:r.toUpperCase()})}else if(t.target.name==="job_name")this.setState({name:r});else if(t.target.name==="email")this.setState({email:r});else{let o=this.state.analyses,l=this.state.analyses.indexOf(t.target.value);l>-1?o.splice(l,1):o.push(t.target.value),this.setState({analyses:o}),this.state.analyses.length===12&&alert("You have selected nearly every analysis. This job may take in excess of 12 hours. Please consider submitting seperate jobs ")}this.state.analyses.length===13&&alert("You have selected every analysis method. We don't allow submissions which select all analyses. Please consider more carefully which predictions you require.")};handleSidebarChange=t=>{var r={};r[t.target.name]=t.target.value,this.setState(r)};handleSubmit=async t=>{t.preventDefault();let r=this.state.analyses;r=r.map(o=>o.replace("_job",""));let n=null,a=null;try{n=document.getElementById("pdbFile").files[0],n&&(a=await WR(n))}catch(o){a="",o.message.includes("FileReader.readAsText is not an object")&&alert("File selected not valid")}this.state.seq=this.state.seq.replace(/\r?\n|\r/g,"");let s=VO(this.state,r,a);s.send?this.setState({jobs:s.jobs,pdbData:s.pdbData,displayType:"results"}):alert(s.message)};componentDidMount(){console.log("INCOMING UUID: "+this.props.incoming_uuid),this.props.incoming_uuid&&this.setState({displayType:"results"})}render(){return Or.default.createElement("div",{className:"row"},this.state.displayType==="input"?Or.default.createElement("div",null,Or.default.createElement("div",{className:"col-md-9"},Or.default.createElement(d0,{...this.state,...this.props,handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,handleStructChange:this.handleStructChange,handleReset:this.handleReset,handleSeqChange:this.handleSeqChange})),Or.default.createElement("div",{className:"col-md-3"},Or.default.createElement(f0,{...this.state,handleSidebarChange:this.handleSidebarChange}))):Or.default.createElement("div",null,Or.default.createElement("div",{className:"col-md-9"},Or.default.createElement(Mg,{...this.state,...this.props,updateWaiting:this.updateWaiting,updateResultsFiles:this.updateResultsFiles,updateSVGs:this.updateSVGs,updateUuid:this.updateUuid,updateConfig:this.updateConfig,updateResubmit:this.updateResubmit,updateForm:this.updateForm,updateSeq:this.updateSeq,updateAnalyses:this.updateAnalyses,updateDisplayTime:this.updateDisplayTime})),Or.default.createElement("div",{className:"col-md-3"},this.state.displayTime===!0&&Or.default.createElement(Dg,{...this.state,...this.props}),Or.default.createElement(Lg,{...this.state,...this.props}),this.state.formSelectedOption==="SeqForm"&&Or.default.createElement(Og,{...this.state,...this.props,handleResubmit:this.handleResubmit}))))}},kg=class extends Or.default.Component{constructor(t){super(t);let r=window.location.href,n=null;window.location.href.includes("&uuid=")&&(r=window.location.href.split("&uuid=")[0],n=window.location.href.split("&uuid=")[1]),console.log("PAGE LOAD location : "+window.location.hostname),console.log("PAGE LOAD href: "+r),console.log("PAGE LOAD uuid: "+n),this.state={suspension_message:null,server_message:null,endpoints_url:null,submit_url:null,times_url:null,joblist_url:null,files_url:null,gears_svg:"http://bioinf.cs.ucl.ac.uk/psipred_beta/static/images/gears.svg",main_url:"http://bioinf.cs.ucl.ac.uk",app_path:"/psipred_beta",location:"Dev",gear_string:'<object width="140" height="140" type="image/svg+xml" data=""></object>',incoming_uuid:n,href:r}}componentDidMount(){this.setState(Yf(this.state.href,window.location.hostname,this.state.main_url,this.state.app_path))}render(){return Or.default.createElement("section",{className:"content"},Or.default.createElement("div",{id:"psipred_site"},this.state.location==="Dev"&&Or.default.createElement("div",null,Or.default.createElement("h3",{className:"form_error"},"WARNING: This is Dev")),this.state.location==="Staging"&&Or.default.createElement("div",null,Or.default.createElement("h3",{className:"form_error"},"WARNING: This is Staging")),this.state.server_message!==null&&Or.default.createElement("div",null,Or.default.createElement("h3",{className:"form_error"},this.state.server_message)),this.state.suspension_message!==null&&Or.default.createElement("div",null,Or.default.createElement("h3",{className:"form_error"},this.state.suspension_message)),Or.default.createElement(Nw,{...this.state}),Or.default.createElement("div",{className:"row"},Or.default.createElement("div",{className:"col-md-9"}),Or.default.createElement("div",{className:"col-md-3"})),Or.default.createElement("div",{className:"helixy"},Or.default.createElement("img",{alt:"It's Helixy y'all!",src:"http://bioinf.cs.ucl.ac.uk/psipred_new/static/images/helixy_png_blank.png"}))))}}});var bt,Pg,ZO=se(()=>{bt=rn(Nn());KO();Pg=class extends bt.default.Component{constructor(t){super(t),this.state={here:"#"}}render(){return bt.default.createElement("div",{className:"wrapper"},"  ",bt.default.createElement("header",{className:"main-header"},bt.default.createElement("a",{href:"/",className:"logo"},bt.default.createElement("span",{className:"logo-mini"},bt.default.createElement("img",{src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/psipred_logomark.svg",alt:"PSIPRED logomark"})),bt.default.createElement("span",{className:"logo-lg"},bt.default.createElement("img",{src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/psipred_logo.svg",alt:"PSIPRED"}))),bt.default.createElement("nav",{className:"navbar navbar-static-top",role:"navigation"},bt.default.createElement("a",{href:this.state.here,className:"sidebar-toggle","data-toggle":"push-menu",role:"button",style:{paddingTop:"18px"}},bt.default.createElement("span",{className:"sr-only"},"Toggle navigation")),bt.default.createElement("div",{className:"container-fluid"},bt.default.createElement("div",{className:"navbar-header",style:{paddingTop:"5px"}},bt.default.createElement("h4",{className:"psipred_title"},bt.default.createElement("b",null,"UCL Department of Computer Science: Bioinformatics Group"))),bt.default.createElement("div",{className:"collapse navbar-collapse",id:"navbar-collapse"},bt.default.createElement("div",{className:"nav navbar-nav navbar-right"},bt.default.createElement("a",{href:"https://www.ucl.ac.uk/",alt:"UCL"},bt.default.createElement("img",{alt:"UCL Logo",height:"50px",src:"http://cms.cs.ucl.ac.uk/typo3/fileadmin/bioinf/templates/images/ucl-logo.svg"}))))))),bt.default.createElement("aside",{className:"main-sidebar"},bt.default.createElement("section",{className:"sidebar"},bt.default.createElement("ul",{className:"sidebar-menu"},bt.default.createElement("li",{className:"header"},"MAIN NAVIGATION"),bt.default.createElement("section",{className:"sidebar"},bt.default.createElement("ul",{className:"sidebar-menu tree","data-widget":"tree"},bt.default.createElement("ul",{className:"sidebar-menu"},bt.default.createElement("li",{className:"treeview"},bt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/index.html"},bt.default.createElement("i",{className:"fa fa-info"}),bt.default.createElement("span",null,bt.default.createElement("b",null,"Introduction")))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Contact.html"},bt.default.createElement("i",{className:"fa fa-keyboard-o"})," ",bt.default.createElement("span",null,"Contact"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Software_Downloads.html"},bt.default.createElement("i",{className:"fa fa-download"})," ",bt.default.createElement("span",null,"Downloads & Branding"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"https://twitter.com/psipred"},bt.default.createElement("i",{className:"fa fa-twitter"})," ",bt.default.createElement("span",null,"Twitter/News")))),bt.default.createElement("a",{href:this.state.here},bt.default.createElement("i",{className:"fa fa-th"})," ",bt.default.createElement("span",null,"PSIPRED Team Links"),bt.default.createElement("span",{className:"pull-right-container"},bt.default.createElement("i",{className:"fa fa-angle-left pull-right"}))),bt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_People.html"},bt.default.createElement("i",{className:"fa fa-users"})," ",bt.default.createElement("span",null,"People"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_ProCovar.html"},bt.default.createElement("i",{className:"fa fa-archive"})," ",bt.default.createElement("span",null,"ProCovar"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Publications.html"},bt.default.createElement("i",{className:"fa fa-book"})," ",bt.default.createElement("span",null,"Publications"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Vacancies.html"},bt.default.createElement("i",{className:"fa fa-envelope-square"})," ",bt.default.createElement("span",null,"Vacancies")))))),bt.default.createElement("ul",{className:"sidebar-menu"},bt.default.createElement("li",{className:"treeview"},bt.default.createElement("a",{href:this.state.here},bt.default.createElement("i",{className:"fa fa-th"})," ",bt.default.createElement("span",null,"PSIPRED Workbench Links"),bt.default.createElement("span",{className:"pull-right-container"},bt.default.createElement("i",{className:"fa fa-angle-left pull-right"}))),bt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinf.cs.ucl.ac.uk/psipred/"},bt.default.createElement("i",{className:"fa fa-dashboard"})," ",bt.default.createElement("span",null,"PSIPRED Workbench"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_methods_overview.html"},bt.default.createElement("i",{className:"fa fa-list-ul"})," ",bt.default.createElement("span",null,"Workbench Overview"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_PSIPRED_citation.html"},bt.default.createElement("i",{className:"fa fa-file-text-o"})," ",bt.default.createElement("span",null,"Workbench Citation"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},bt.default.createElement("i",{className:"fa fa-question-circle-o"})," ",bt.default.createElement("span",null,"Help & Tutorials"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Web_Services.html"},bt.default.createElement("i",{className:"fa fa-server"})," ",bt.default.createElement("span",null,"REST API"))),bt.default.createElement("li",null,bt.default.createElement("a",{href:"https://github.com/psipred"},bt.default.createElement("i",{className:"fa fa-github"})," ",bt.default.createElement("span",null,"PSIPRED Github"))))))))))),bt.default.createElement("div",{className:"content-wrapper"},bt.default.createElement(kg,null)),bt.default.createElement("footer",{className:"main-footer"},bt.default.createElement("div",{className:"pull-right hidden-xs"},bt.default.createElement("strong",null,"Copyright \xA9 2022.",bt.default.createElement("br",null))),"\xA0"))}}});var Iw={};Wh(Iw,{render:()=>jR});var XO,jR,zw=se(()=>{XO=rn(Nn());ZO();jR=()=>XO.default.createElement(Pg,null)});var gh,Ng,$O=se(()=>{gh=rn(Nn());Sn();Sn();Ng=class extends gh.default.Component{constructor(t){super(t);let r=window.location.href,n="http://bioinf.cs.ucl.ac.uk",a="/psipred_beta",s=null,o=null;if(console.log(r),window.location.href.includes("ann=")&&window.location.href.includes("aln=")){let u=window.location.href.split("?")[1];console.log(u);let v=u.split("&");o=v[0].slice(4),s=v[1].slice(4)}console.log("PAGE LOAD location : "+window.location.hostname),console.log("ALN:"+o),console.log("ANN:"+s);let l=Yf(r,window.location.hostname,n,a);l.ann=s,l.aln=o,this.align=gh.default.createRef(),this.state=l,this.aa_colours={A:"#d3f87f",V:"#b2f87f",I:"#97f87f",L:"#86f87f",M:"#7ff87f",F:"#7ff897",Y:"#7ff8d3",W:"#7fd3f8",H:"#7f97f8",R:"#7f7ff8",K:"#977ff8",N:"#d37ff8",Q:"#f87fd3",E:"#f87f97",D:"#f87f7f",S:"#f8867f",T:"#f8977f",G:"#f7b27f",P:"#f7d37f",C:"#f8f87f","-":"#ffffff"},this.ss_colours={C:"#ffffff",H:"#f87fd3",S:"#f8f87f"}}getAlignData(t,r){let n=ai(t,this.state.files_url+"/submissions/"),a=ai(r,this.state.files_url+"/submissions/");n=n.split(`
`),n=[{seq_name:n[0].slice(1),seq:n[1].split("")},{seq_name:n[2].slice(1),seq:n[3].split("")}],this.setState({aln_data:n,ann_data:a})}componentDidMount(){this.getAlignData(this.state.aln,this.state.ann)}transformAnnotations=(t,r,n)=>{let a={};a[t]=[],a[r]=[];for(let o=0;o<n;o++)a[t][o]="C",a[r][o]="C";let s=this.state.ann_data.split(`
`);return console.log(this.state.ann_data),s.forEach(o=>{let l=o.split(/\s+/);if(l.length===6){let u=parseInt(l[3])-1,v=parseInt(l[4])-1;a[l[1]].forEach((g,_)=>{_>=u&&_<=v&&(a[l[1]][_]=l[0])})}}),a};renderAlignment=()=>{let t=this.transformAnnotations(this.state.aln_data[1].seq_name,this.state.aln_data[0].seq_name,this.state.aln_data[1].seq.length),r="<h2>Alignment:</h2>";return r+="<h2>Query&nbsp;vs&nbsp;"+this.state.aln_data[0].seq_name+"</h2>",r+="<tbody class='residue'>",r+="<tr><td>"+this.state.aln_data[1].seq_name+" </td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach(n=>{r+='<td bgcolor="'+this.aa_colours[n.toUpperCase()]+'">'+n.toUpperCase()+"</td>"}),r+="</tr>",r+="<tr><td>Seconday&nbsp;Structure</td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach((n,a)=>{r+='<td bgcolor="'+this.ss_colours[t[this.state.aln_data[1].seq_name][a]]+'">&nbsp;</td>'}),r+="</tr>",r+="<tr><td>"+this.state.aln_data[0].seq_name+" </td>",r+="<td>:&nbsp</td>",this.state.aln_data[0].seq.forEach(n=>{r+='<td bgcolor="'+this.aa_colours[n.toUpperCase()]+'">'+n.toUpperCase()+"</td>"}),r+="</tr>",r+="<tr><td>Seconday&nbsp;Structure</td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach((n,a)=>{r+='<td bgcolor="'+this.ss_colours[t[this.state.aln_data[0].seq_name][a]]+'">&nbsp;</td>'}),r+="</tr>",r+='</tbody><br/><br/><h4>Residue&nbsp;colours&nbsp;as&nbsp;per&nbsp;<a href="https://academic.oup.com/peds/article/10/7/743/1593029">Taylor&nbsp;(1997)</h4></a>',r+="<h4>Annotations</h4>",r+=`<table><tbody class='residue'><tr><td>Helix:&nbsp</td><td bgcolor="`+this.ss_colours.H+'">&nbsp;</td></tr><tr><td>Strand:&nbsp</td><td bgcolor="'+this.ss_colours.S+'">&nbsp;</td></tr></tbody></table>',r};render(){return gh.default.createElement("div",{style:{overflow:"auto",height:"100%"}},this.state.aln_data?gh.default.createElement("table",{dangerouslySetInnerHTML:{__html:this.renderAlignment()}}):null)}}});var qO={};Wh(qO,{render:()=>GR});var QO,GR,JO=se(()=>{QO=rn(Nn());$O();GR=()=>QO.default.createElement(Ng,null)});var _a,Ig,ek=se(()=>{_a=rn(Nn());Sn();Sn();Sn();Ig=class extends _a.default.Component{constructor(t){super(t);let r=window.location.href,n="http://bioinf.cs.ucl.ac.uk",a="/psipred_beta",s=null,o=null;if(console.log(r),window.location.href.includes("aln=")){let v=window.location.href.split("?")[1].slice(4).split("&type=");s=v[0],o=v[1]}console.log("PAGE LOAD location : "+window.location.hostname),console.log("ALN:"+s);let l=Yf(r,window.location.hostname,n,a);l.aln=s,this.timer=null,this.state=l,this.state.uuid=null,this.state.model_uri=null,this.state.waiting=!0,this.state.aln=ai("/submissions/"+s,this.state.files_url,"text/plain"),this.state.form_data=this.configurePost(this.state.aln,o),this.state.uuid=this.postModelJob(this.state.form_data),this.state.pdb_data=null,console.log("MODELLING JOB UUID: "+this.state.uuid),this.model=_a.default.createRef()}postModelJob=t=>{console.log("SENDING MODELLING JOB TO: "+this.state.submit_url);let r=null;var n=new XMLHttpRequest;return n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&n.status===201&&(r=JSON.parse(n.response))},n.open("POST",this.state.submit_url,!1),n.setRequestHeader("Accept","application/json"),n.send(t),n.onerror=function(){alert("Request failed")},r.UUID};configurePost=(t,r)=>{var n=null;try{n=new Blob([t])}catch(s){alert(s)}let a=new FormData;return a.append("input_data",n,"input.txt"),r==="cath"?(console.log("JOB NAME: cath_modeller "),a.append("job","cath_modeller")):(console.log("JOB NAME: pdb_modeller "),a.append("job","pdb_modeller")),a.append("submission_name","genthreader_model"),a.append("email","dummy@dummy.com"),a};getResultsFiles=(t,r)=>{let n={},a=null;return t.forEach(function(s){if(s.data_path.split(/[.]/).pop().includes("pdb")){let l=ai(s.data_path,r.files_url),u=s.data_path.split("/")[2];n[u]=l,a=r.files_url+s.data_path}}),[n,a]};getResults=()=>{let t=this.state.submit_url+this.state.uuid,r=null;this.state.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(n=>{if(n.ok)return n.json().then(a=>a);throw n}).then(n=>{if(n.state!=="Running")if(n.state==="Complete")n.submissions.forEach(a=>{r=this.getResultsFiles(a.results,this.state)}),this.setState({waiting:!1,pdb_data:r[0],model_uri:r[1]}),clearInterval(this.timer);else throw n.state==="Error"?new Error(n.submissions.at(-1).last_message):new Error("Job Failed")}).catch(async n=>{let a="";try{let s=await n.json().then(o=>o);s.error&&(a.message=s.error),s.error.input_data&&(a.message=s.error.input_data)}catch{a=n}return console.log(a.message),console.log("Fetching results: "+t+` Failed. 
`+a.message+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"),this.setState({error_message:a.message+". The Backend processing service was unable to process your submission. Please contact psipred@cs.ucl.ac.uk"}),this.props.updateWaiting(!1),null}))};componentDidUpdate(t){var r=this.state.pdb_data[Object.keys(this.state.pdb_data)[0]];ys(this.model.current,r,!0,!1)}componentDidMount(){console.log("Awaiting structure"),this.timer=setInterval(()=>this.getResults(),500)}render(){return _a.default.createElement(_a.default.Fragment,null,this.state.pdb_data?_a.default.createElement("div",null,_a.default.createElement("div",{className:"row"},_a.default.createElement("div",{className:"col-sm-7 col-sm-offset-5"},_a.default.createElement("h2",null,_a.default.createElement("a",{href:this.state.model_uri},"DOWNLOAD MODEL")),_a.default.createElement("div",{id:"container-01",ref:this.model,className:"mol-container",style:{width:"600px",height:"600px",position:"relative"}})))):_a.default.createElement("h1",null,"\xA03D MODEL Requested (may take up to 30mins)..."))}}});var rk={};Wh(rk,{render:()=>HR});var tk,HR,nk=se(()=>{tk=rn(Nn());ek();HR=()=>tk.default.createElement(Ig,null)});var ik=rn(yC());var VR=rn(xC());window.$3Dmol=VR;var zg=ik.default.createRoot(document.getElementById("root")),Fg=window.location.pathname;console.log(Fg);Fg.startsWith("/interface")?Promise.resolve().then(()=>(zw(),Iw)).then(e=>{zg.render(e.render())}):Fg.includes("/msa")?Promise.resolve().then(()=>(JO(),qO)).then(e=>{zg.render(e.render())}):Fg.includes("/model")?Promise.resolve().then(()=>(nk(),rk)).then(e=>{zg.render(e.render())}):Promise.resolve().then(()=>(zw(),Iw)).then(e=>{zg.render(e.render())});})();
/*! getEmPixels  | Author: Tyson Matanich (http://matanich.com), 2013 | License: MIT */
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

3dmol/build/3Dmol.js:
  (*!
   * 3dmol v2.0.3
   * JavaScript/TypeScript molecular visualization library
   * Author: David Koes and contributors
   *)
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.0
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-05-11T18:29Z
   *)

datatables.net/js/jquery.dataTables.mjs:
  (*! DataTables 1.13.5
   * 2008-2023 SpryMedia Ltd - datatables.net/license
   *)

datatables.net-dt/js/dataTables.dataTables.mjs:
  (*! DataTables styling integration
   * 2018 SpryMedia Ltd - datatables.net/license
   *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
