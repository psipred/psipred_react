(()=>{var NO=Object.create;var Vh=Object.defineProperty;var PO=Object.getOwnPropertyDescriptor;var IO=Object.getOwnPropertyNames;var zO=Object.getPrototypeOf,FO=Object.prototype.hasOwnProperty;var ml=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var ae=(e,t)=>()=>(e&&(t=e(e=0)),t);var Fn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Yh=(e,t)=>{for(var r in t)Vh(e,r,{get:t[r],enumerable:!0})},Kw=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of IO(t))!FO.call(e,a)&&a!==r&&Vh(e,a,{get:()=>t[a],enumerable:!(n=PO(t,a))||n.enumerable});return e};var Hr=(e,t,r)=>(r=e!=null?NO(zO(e)):{},Kw(t||!e||!e.__esModule?Vh(r,"default",{value:e,enumerable:!0}):r,e)),Zw=e=>Kw(Vh({},"__esModule",{value:!0}),e);var a2=Fn(_r=>{"use strict";var bd=Symbol.for("react.element"),BO=Symbol.for("react.portal"),UO=Symbol.for("react.fragment"),jO=Symbol.for("react.strict_mode"),RO=Symbol.for("react.profiler"),WO=Symbol.for("react.provider"),GO=Symbol.for("react.context"),HO=Symbol.for("react.forward_ref"),VO=Symbol.for("react.suspense"),YO=Symbol.for("react.memo"),KO=Symbol.for("react.lazy"),Xw=Symbol.iterator;function ZO(e){return e===null||typeof e!="object"?null:(e=Xw&&e[Xw]||e["@@iterator"],typeof e=="function"?e:null)}var qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jw=Object.assign,e2={};function Lu(e,t,r){this.props=e,this.context=t,this.refs=e2,this.updater=r||qw}Lu.prototype.isReactComponent={};Lu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function t2(){}t2.prototype=Lu.prototype;function Mv(e,t,r){this.props=e,this.context=t,this.refs=e2,this.updater=r||qw}var Av=Mv.prototype=new t2;Av.constructor=Mv;Jw(Av,Lu.prototype);Av.isPureReactComponent=!0;var $w=Array.isArray,r2=Object.prototype.hasOwnProperty,Tv={current:null},n2={key:!0,ref:!0,__self:!0,__source:!0};function i2(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)r2.call(t,n)&&!n2.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var u=Array(l),g=0;g<l;g++)u[g]=arguments[g+2];a.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:bd,type:e,key:s,ref:o,props:a,_owner:Tv.current}}function XO(e,t){return{$$typeof:bd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lv(e){return typeof e=="object"&&e!==null&&e.$$typeof===bd}function $O(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qw=/\/+/g;function Dv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$O(""+e.key):t.toString(36)}function Zh(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bd:case BO:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Dv(o,0):n,$w(a)?(r="",e!=null&&(r=e.replace(Qw,"$&/")+"/"),Zh(a,t,r,"",function(g){return g})):a!=null&&(Lv(a)&&(a=XO(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Qw,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",$w(e))for(var l=0;l<e.length;l++){s=e[l];var u=n+Dv(s,l);o+=Zh(s,t,r,u,a)}else if(u=ZO(e),typeof u=="function")for(e=u.call(e),l=0;!(s=e.next()).done;)s=s.value,u=n+Dv(s,l++),o+=Zh(s,t,r,u,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kh(e,t,r){if(e==null)return e;var n=[],a=0;return Zh(e,n,"","",function(s){return t.call(r,s,a++)}),n}function QO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ci={current:null},Xh={transition:null},qO={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:Xh,ReactCurrentOwner:Tv};_r.Children={map:Kh,forEach:function(e,t,r){Kh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Kh(e,function(){t++}),t},toArray:function(e){return Kh(e,function(t){return t})||[]},only:function(e){if(!Lv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_r.Component=Lu;_r.Fragment=UO;_r.Profiler=RO;_r.PureComponent=Mv;_r.StrictMode=jO;_r.Suspense=VO;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qO;_r.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jw({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Tv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)r2.call(t,u)&&!n2.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var g=0;g<u;g++)l[g]=arguments[g+2];n.children=l}return{$$typeof:bd,type:e.type,key:a,ref:s,props:n,_owner:o}};_r.createContext=function(e){return e={$$typeof:GO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WO,_context:e},e.Consumer=e};_r.createElement=i2;_r.createFactory=function(e){var t=i2.bind(null,e);return t.type=e,t};_r.createRef=function(){return{current:null}};_r.forwardRef=function(e){return{$$typeof:HO,render:e}};_r.isValidElement=Lv;_r.lazy=function(e){return{$$typeof:KO,_payload:{_status:-1,_result:e},_init:QO}};_r.memo=function(e,t){return{$$typeof:YO,type:e,compare:t===void 0?null:t}};_r.startTransition=function(e){var t=Xh.transition;Xh.transition={};try{e()}finally{Xh.transition=t}};_r.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_r.useCallback=function(e,t){return ci.current.useCallback(e,t)};_r.useContext=function(e){return ci.current.useContext(e)};_r.useDebugValue=function(){};_r.useDeferredValue=function(e){return ci.current.useDeferredValue(e)};_r.useEffect=function(e,t){return ci.current.useEffect(e,t)};_r.useId=function(){return ci.current.useId()};_r.useImperativeHandle=function(e,t,r){return ci.current.useImperativeHandle(e,t,r)};_r.useInsertionEffect=function(e,t){return ci.current.useInsertionEffect(e,t)};_r.useLayoutEffect=function(e,t){return ci.current.useLayoutEffect(e,t)};_r.useMemo=function(e,t){return ci.current.useMemo(e,t)};_r.useReducer=function(e,t,r){return ci.current.useReducer(e,t,r)};_r.useRef=function(e){return ci.current.useRef(e)};_r.useState=function(e){return ci.current.useState(e)};_r.useSyncExternalStore=function(e,t,r){return ci.current.useSyncExternalStore(e,t,r)};_r.useTransition=function(){return ci.current.useTransition()};_r.version="18.2.0"});var Dn=Fn((dj,s2)=>{"use strict";s2.exports=a2()});var g2=Fn(Yr=>{"use strict";function Pv(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(0<$h(a,t))e[n]=t,e[r]=a,r=n;else break e}}function za(e){return e.length===0?null:e[0]}function qh(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],u=o+1,g=e[u];if(0>$h(l,r))u<a&&0>$h(g,l)?(e[n]=g,e[u]=r,n=u):(e[n]=l,e[o]=r,n=o);else if(u<a&&0>$h(g,r))e[n]=g,e[u]=r,n=u;else break e}}return t}function $h(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(o2=performance,Yr.unstable_now=function(){return o2.now()}):(kv=Date,l2=kv.now(),Yr.unstable_now=function(){return kv.now()-l2});var o2,kv,l2,is=[],go=[],JO=1,sa=null,Jn=3,Jh=!1,gl=!1,xd=!1,d2=typeof setTimeout=="function"?setTimeout:null,c2=typeof clearTimeout=="function"?clearTimeout:null,u2=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Iv(e){for(var t=za(go);t!==null;){if(t.callback===null)qh(go);else if(t.startTime<=e)qh(go),t.sortIndex=t.expirationTime,Pv(is,t);else break;t=za(go)}}function zv(e){if(xd=!1,Iv(e),!gl)if(za(is)!==null)gl=!0,Bv(Fv);else{var t=za(go);t!==null&&Uv(zv,t.startTime-e)}}function Fv(e,t){gl=!1,xd&&(xd=!1,c2(wd),wd=-1),Jh=!0;var r=Jn;try{for(Iv(t),sa=za(is);sa!==null&&(!(sa.expirationTime>t)||e&&!m2());){var n=sa.callback;if(typeof n=="function"){sa.callback=null,Jn=sa.priorityLevel;var a=n(sa.expirationTime<=t);t=Yr.unstable_now(),typeof a=="function"?sa.callback=a:sa===za(is)&&qh(is),Iv(t)}else qh(is);sa=za(is)}if(sa!==null)var s=!0;else{var o=za(go);o!==null&&Uv(zv,o.startTime-t),s=!1}return s}finally{sa=null,Jn=r,Jh=!1}}var ep=!1,Qh=null,wd=-1,h2=5,p2=-1;function m2(){return!(Yr.unstable_now()-p2<h2)}function Ov(){if(Qh!==null){var e=Yr.unstable_now();p2=e;var t=!0;try{t=Qh(!0,e)}finally{t?yd():(ep=!1,Qh=null)}}else ep=!1}var yd;typeof u2=="function"?yd=function(){u2(Ov)}:typeof MessageChannel<"u"?(Nv=new MessageChannel,f2=Nv.port2,Nv.port1.onmessage=Ov,yd=function(){f2.postMessage(null)}):yd=function(){d2(Ov,0)};var Nv,f2;function Bv(e){Qh=e,ep||(ep=!0,yd())}function Uv(e,t){wd=d2(function(){e(Yr.unstable_now())},t)}Yr.unstable_IdlePriority=5;Yr.unstable_ImmediatePriority=1;Yr.unstable_LowPriority=4;Yr.unstable_NormalPriority=3;Yr.unstable_Profiling=null;Yr.unstable_UserBlockingPriority=2;Yr.unstable_cancelCallback=function(e){e.callback=null};Yr.unstable_continueExecution=function(){gl||Jh||(gl=!0,Bv(Fv))};Yr.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):h2=0<e?Math.floor(1e3/e):5};Yr.unstable_getCurrentPriorityLevel=function(){return Jn};Yr.unstable_getFirstCallbackNode=function(){return za(is)};Yr.unstable_next=function(e){switch(Jn){case 1:case 2:case 3:var t=3;break;default:t=Jn}var r=Jn;Jn=t;try{return e()}finally{Jn=r}};Yr.unstable_pauseExecution=function(){};Yr.unstable_requestPaint=function(){};Yr.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=Jn;Jn=e;try{return t()}finally{Jn=r}};Yr.unstable_scheduleCallback=function(e,t,r){var n=Yr.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=r+a,e={id:JO++,callback:t,priorityLevel:e,startTime:r,expirationTime:a,sortIndex:-1},r>n?(e.sortIndex=r,Pv(go,e),za(is)===null&&e===za(go)&&(xd?(c2(wd),wd=-1):xd=!0,Uv(zv,r-n))):(e.sortIndex=a,Pv(is,e),gl||Jh||(gl=!0,Bv(Fv))),e};Yr.unstable_shouldYield=m2;Yr.unstable_wrapCallback=function(e){var t=Jn;return function(){var r=Jn;Jn=t;try{return e.apply(this,arguments)}finally{Jn=r}}}});var _2=Fn((hj,v2)=>{"use strict";v2.exports=g2()});var CC=Fn(Xi=>{"use strict";var E3=Dn(),Ki=_2();function Dt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D3=new Set,Hd={};function Tl(e,t){Qu(e,t),Qu(e+"Capture",t)}function Qu(e,t){for(Hd[e]=t,e=0;e<t.length;e++)D3.add(t[e])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l1=Object.prototype.hasOwnProperty,eN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b2={},y2={};function tN(e){return l1.call(y2,e)?!0:l1.call(b2,e)?!1:eN.test(e)?y2[e]=!0:(b2[e]=!0,!1)}function rN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nN(e,t,r,n){if(t===null||typeof t>"u"||rN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mi(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zn[e]=new mi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zn[t]=new mi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zn[e]=new mi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zn[e]=new mi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zn[e]=new mi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zn[e]=new mi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zn[e]=new mi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zn[e]=new mi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zn[e]=new mi(e,5,!1,e.toLowerCase(),null,!1,!1)});var e_=/[\-:]([a-z])/g;function t_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(e_,t_);Zn[t]=new mi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(e_,t_);Zn[t]=new mi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(e_,t_);Zn[t]=new mi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zn[e]=new mi(e,1,!1,e.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zn[e]=new mi(e,1,!1,e.toLowerCase(),null,!0,!0)});function r_(e,t,r,n){var a=Zn.hasOwnProperty(t)?Zn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nN(t,r,a,n)&&(r=null),n||a===null?tN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xs=E3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tp=Symbol.for("react.element"),Nu=Symbol.for("react.portal"),Pu=Symbol.for("react.fragment"),n_=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),M3=Symbol.for("react.provider"),A3=Symbol.for("react.context"),i_=Symbol.for("react.forward_ref"),f1=Symbol.for("react.suspense"),d1=Symbol.for("react.suspense_list"),a_=Symbol.for("react.memo"),_o=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var T3=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var x2=Symbol.iterator;function Sd(e){return e===null||typeof e!="object"?null:(e=x2&&e[x2]||e["@@iterator"],typeof e=="function"?e:null)}var on=Object.assign,jv;function kd(e){if(jv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jv=t&&t[1]||""}return`
`+jv+e}var Rv=!1;function Wv(e,t){if(!e||Rv)return"";Rv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var n=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){n=g}e.call(t.prototype)}else{try{throw Error()}catch(g){n=g}e()}}catch(g){if(g&&n&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var u=`
`+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Rv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?kd(e):""}function iN(e){switch(e.tag){case 5:return kd(e.type);case 16:return kd("Lazy");case 13:return kd("Suspense");case 19:return kd("SuspenseList");case 0:case 2:case 15:return e=Wv(e.type,!1),e;case 11:return e=Wv(e.type.render,!1),e;case 1:return e=Wv(e.type,!0),e;default:return""}}function c1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pu:return"Fragment";case Nu:return"Portal";case u1:return"Profiler";case n_:return"StrictMode";case f1:return"Suspense";case d1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A3:return(e.displayName||"Context")+".Consumer";case M3:return(e._context.displayName||"Context")+".Provider";case i_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case a_:return t=e.displayName||null,t!==null?t:c1(e.type)||"Memo";case _o:t=e._payload,e=e._init;try{return c1(e(t))}catch{}}return null}function aN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c1(t);case 8:return t===n_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sN(e){var t=L3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rp(e){e._valueTracker||(e._valueTracker=sN(e))}function k3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=L3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Lp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function h1(e,t){var r=t.checked;return on({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function w2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Oo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function O3(e,t){t=t.checked,t!=null&&r_(e,"checked",t,!1)}function p1(e,t){O3(e,t);var r=Oo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?m1(e,t.type,r):t.hasOwnProperty("defaultValue")&&m1(e,t.type,Oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function m1(e,t,r){(t!=="number"||Lp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Od=Array.isArray;function Vu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Oo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function g1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Dt(91));return on({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Dt(92));if(Od(r)){if(1<r.length)throw Error(Dt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Oo(r)}}function N3(e,t){var r=Oo(t.value),n=Oo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function E2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var np,I3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(np=np||document.createElement("div"),np.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=np.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oN=["Webkit","ms","Moz","O"];Object.keys(Id).forEach(function(e){oN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Id[t]=Id[e]})});function z3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Id.hasOwnProperty(e)&&Id[e]?(""+t).trim():t+"px"}function F3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=z3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lN=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _1(e,t){if(t){if(lN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Dt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Dt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Dt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Dt(62))}}function b1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y1=null;function s_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var x1=null,Yu=null,Ku=null;function D2(e){if(e=uc(e)){if(typeof x1!="function")throw Error(Dt(280));var t=e.stateNode;t&&(t=i0(t),x1(e.stateNode,e.type,t))}}function B3(e){Yu?Ku?Ku.push(e):Ku=[e]:Yu=e}function U3(){if(Yu){var e=Yu,t=Ku;if(Ku=Yu=null,D2(e),t)for(e=0;e<t.length;e++)D2(t[e])}}function j3(e,t){return e(t)}function R3(){}var Gv=!1;function W3(e,t,r){if(Gv)return e(t,r);Gv=!0;try{return j3(e,t,r)}finally{Gv=!1,(Yu!==null||Ku!==null)&&(R3(),U3())}}function Yd(e,t){var r=e.stateNode;if(r===null)return null;var n=i0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Dt(231,t,typeof r));return r}var w1=!1;if(Vs)try{ku={},Object.defineProperty(ku,"passive",{get:function(){w1=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{w1=!1}var ku;function uN(e,t,r,n,a,s,o,l,u){var g=Array.prototype.slice.call(arguments,3);try{t.apply(r,g)}catch(p){this.onError(p)}}var zd=!1,kp=null,Op=!1,S1=null,fN={onError:function(e){zd=!0,kp=e}};function dN(e,t,r,n,a,s,o,l,u){zd=!1,kp=null,uN.apply(fN,arguments)}function cN(e,t,r,n,a,s,o,l,u){if(dN.apply(this,arguments),zd){if(zd){var g=kp;zd=!1,kp=null}else throw Error(Dt(198));Op||(Op=!0,S1=g)}}function Ll(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function G3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M2(e){if(Ll(e)!==e)throw Error(Dt(188))}function hN(e){var t=e.alternate;if(!t){if(t=Ll(e),t===null)throw Error(Dt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return M2(a),e;if(s===n)return M2(a),t;s=s.sibling}throw Error(Dt(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(Dt(189))}}if(r.alternate!==n)throw Error(Dt(190))}if(r.tag!==3)throw Error(Dt(188));return r.stateNode.current===r?e:t}function H3(e){return e=hN(e),e!==null?V3(e):null}function V3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=V3(e);if(t!==null)return t;e=e.sibling}return null}var Y3=Ki.unstable_scheduleCallback,A2=Ki.unstable_cancelCallback,pN=Ki.unstable_shouldYield,mN=Ki.unstable_requestPaint,bn=Ki.unstable_now,gN=Ki.unstable_getCurrentPriorityLevel,o_=Ki.unstable_ImmediatePriority,K3=Ki.unstable_UserBlockingPriority,Np=Ki.unstable_NormalPriority,vN=Ki.unstable_LowPriority,Z3=Ki.unstable_IdlePriority,e0=null,ls=null;function _N(e){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(e0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ra=Math.clz32?Math.clz32:xN,bN=Math.log,yN=Math.LN2;function xN(e){return e>>>=0,e===0?32:31-(bN(e)/yN|0)|0}var ip=64,ap=4194304;function Nd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Nd(l):(s&=o,s!==0&&(n=Nd(s)))}else o=r&~a,o!==0?n=Nd(o):s!==0&&(n=Nd(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ra(t),a=1<<r,n|=e[r],t&=~a;return n}function wN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ra(s),l=1<<o,u=a[o];u===-1?(!(l&r)||l&n)&&(a[o]=wN(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}}function C1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X3(){var e=ip;return ip<<=1,!(ip&4194240)&&(ip=64),e}function Hv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ra(t),e[t]=r}function CN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ra(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function l_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ra(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Fr=0;function $3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Q3,u_,q3,J3,eS,E1=!1,sp=[],Co=null,Eo=null,Do=null,Kd=new Map,Zd=new Map,yo=[],EN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T2(e,t){switch(e){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Kd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(t.pointerId)}}function Cd(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=uc(t),t!==null&&u_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function DN(e,t,r,n,a){switch(t){case"focusin":return Co=Cd(Co,e,t,r,n,a),!0;case"dragenter":return Eo=Cd(Eo,e,t,r,n,a),!0;case"mouseover":return Do=Cd(Do,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Kd.set(s,Cd(Kd.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Zd.set(s,Cd(Zd.get(s)||null,e,t,r,n,a)),!0}return!1}function tS(e){var t=bl(e.target);if(t!==null){var r=Ll(t);if(r!==null){if(t=r.tag,t===13){if(t=G3(r),t!==null){e.blockedOn=t,eS(e.priority,function(){q3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=D1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);y1=n,r.target.dispatchEvent(n),y1=null}else return t=uc(r),t!==null&&u_(t),e.blockedOn=r,!1;t.shift()}return!0}function L2(e,t,r){yp(e)&&r.delete(t)}function MN(){E1=!1,Co!==null&&yp(Co)&&(Co=null),Eo!==null&&yp(Eo)&&(Eo=null),Do!==null&&yp(Do)&&(Do=null),Kd.forEach(L2),Zd.forEach(L2)}function Ed(e,t){e.blockedOn===t&&(e.blockedOn=null,E1||(E1=!0,Ki.unstable_scheduleCallback(Ki.unstable_NormalPriority,MN)))}function Xd(e){function t(a){return Ed(a,e)}if(0<sp.length){Ed(sp[0],e);for(var r=1;r<sp.length;r++){var n=sp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Co!==null&&Ed(Co,e),Eo!==null&&Ed(Eo,e),Do!==null&&Ed(Do,e),Kd.forEach(t),Zd.forEach(t),r=0;r<yo.length;r++)n=yo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yo.length&&(r=yo[0],r.blockedOn===null);)tS(r),r.blockedOn===null&&yo.shift()}var Zu=Xs.ReactCurrentBatchConfig,Ip=!0;function AN(e,t,r,n){var a=Fr,s=Zu.transition;Zu.transition=null;try{Fr=1,f_(e,t,r,n)}finally{Fr=a,Zu.transition=s}}function TN(e,t,r,n){var a=Fr,s=Zu.transition;Zu.transition=null;try{Fr=4,f_(e,t,r,n)}finally{Fr=a,Zu.transition=s}}function f_(e,t,r,n){if(Ip){var a=D1(e,t,r,n);if(a===null)Qv(e,t,n,zp,r),T2(e,n);else if(DN(a,e,t,r,n))n.stopPropagation();else if(T2(e,n),t&4&&-1<EN.indexOf(e)){for(;a!==null;){var s=uc(a);if(s!==null&&Q3(s),s=D1(e,t,r,n),s===null&&Qv(e,t,n,zp,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Qv(e,t,n,null,r)}}var zp=null;function D1(e,t,r,n){if(zp=null,e=s_(n),e=bl(e),e!==null)if(t=Ll(e),t===null)e=null;else if(r=t.tag,r===13){if(e=G3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zp=e,null}function rS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gN()){case o_:return 1;case K3:return 4;case Np:case vN:return 16;case Z3:return 536870912;default:return 16}default:return 16}}var wo=null,d_=null,xp=null;function nS(){if(xp)return xp;var e,t=d_,r=t.length,n,a="value"in wo?wo.value:wo.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return xp=a.slice(e,1<n?1-n:void 0)}function wp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function op(){return!0}function k2(){return!1}function Zi(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?op:k2,this.isPropagationStopped=k2,this}return on(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=op)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=op)},persist:function(){},isPersistent:op}),t}var af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c_=Zi(af),lc=on({},af,{view:0,detail:0}),LN=Zi(lc),Vv,Yv,Dd,t0=on({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dd&&(Dd&&e.type==="mousemove"?(Vv=e.screenX-Dd.screenX,Yv=e.screenY-Dd.screenY):Yv=Vv=0,Dd=e),Vv)},movementY:function(e){return"movementY"in e?e.movementY:Yv}}),O2=Zi(t0),kN=on({},t0,{dataTransfer:0}),ON=Zi(kN),NN=on({},lc,{relatedTarget:0}),Kv=Zi(NN),PN=on({},af,{animationName:0,elapsedTime:0,pseudoElement:0}),IN=Zi(PN),zN=on({},af,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FN=Zi(zN),BN=on({},af,{data:0}),N2=Zi(BN),UN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RN[e])?!!t[e]:!1}function h_(){return WN}var GN=on({},lc,{key:function(e){if(e.key){var t=UN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h_,charCode:function(e){return e.type==="keypress"?wp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HN=Zi(GN),VN=on({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P2=Zi(VN),YN=on({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h_}),KN=Zi(YN),ZN=on({},af,{propertyName:0,elapsedTime:0,pseudoElement:0}),XN=Zi(ZN),$N=on({},t0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QN=Zi($N),qN=[9,13,27,32],p_=Vs&&"CompositionEvent"in window,Fd=null;Vs&&"documentMode"in document&&(Fd=document.documentMode);var JN=Vs&&"TextEvent"in window&&!Fd,iS=Vs&&(!p_||Fd&&8<Fd&&11>=Fd),I2=" ",z2=!1;function aS(e,t){switch(e){case"keyup":return qN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Iu=!1;function eP(e,t){switch(e){case"compositionend":return sS(t);case"keypress":return t.which!==32?null:(z2=!0,I2);case"textInput":return e=t.data,e===I2&&z2?null:e;default:return null}}function tP(e,t){if(Iu)return e==="compositionend"||!p_&&aS(e,t)?(e=nS(),xp=d_=wo=null,Iu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iS&&t.locale!=="ko"?null:t.data;default:return null}}var rP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rP[e.type]:t==="textarea"}function oS(e,t,r,n){B3(n),t=Fp(t,"onChange"),0<t.length&&(r=new c_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Bd=null,$d=null;function nP(e){_S(e,0)}function r0(e){var t=Bu(e);if(k3(t))return e}function iP(e,t){if(e==="change")return t}var lS=!1;Vs&&(Vs?(up="oninput"in document,up||(Zv=document.createElement("div"),Zv.setAttribute("oninput","return;"),up=typeof Zv.oninput=="function"),lp=up):lp=!1,lS=lp&&(!document.documentMode||9<document.documentMode));var lp,up,Zv;function B2(){Bd&&(Bd.detachEvent("onpropertychange",uS),$d=Bd=null)}function uS(e){if(e.propertyName==="value"&&r0($d)){var t=[];oS(t,$d,e,s_(e)),W3(nP,t)}}function aP(e,t,r){e==="focusin"?(B2(),Bd=t,$d=r,Bd.attachEvent("onpropertychange",uS)):e==="focusout"&&B2()}function sP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return r0($d)}function oP(e,t){if(e==="click")return r0(t)}function lP(e,t){if(e==="input"||e==="change")return r0(t)}function uP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ga=typeof Object.is=="function"?Object.is:uP;function Qd(e,t){if(Ga(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!l1.call(t,a)||!Ga(e[a],t[a]))return!1}return!0}function U2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j2(e,t){var r=U2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=U2(r)}}function fS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dS(){for(var e=window,t=Lp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Lp(e.document)}return t}function m_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fP(e){var t=dS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fS(r.ownerDocument.documentElement,r)){if(n!==null&&m_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=j2(r,s);var o=j2(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dP=Vs&&"documentMode"in document&&11>=document.documentMode,zu=null,M1=null,Ud=null,A1=!1;function R2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;A1||zu==null||zu!==Lp(n)||(n=zu,"selectionStart"in n&&m_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ud&&Qd(Ud,n)||(Ud=n,n=Fp(M1,"onSelect"),0<n.length&&(t=new c_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zu)))}function fp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fu={animationend:fp("Animation","AnimationEnd"),animationiteration:fp("Animation","AnimationIteration"),animationstart:fp("Animation","AnimationStart"),transitionend:fp("Transition","TransitionEnd")},Xv={},cS={};Vs&&(cS=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function n0(e){if(Xv[e])return Xv[e];if(!Fu[e])return e;var t=Fu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cS)return Xv[e]=t[r];return e}var hS=n0("animationend"),pS=n0("animationiteration"),mS=n0("animationstart"),gS=n0("transitionend"),vS=new Map,W2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){vS.set(e,t),Tl(t,[e])}for(dp=0;dp<W2.length;dp++)cp=W2[dp],G2=cp.toLowerCase(),H2=cp[0].toUpperCase()+cp.slice(1),Po(G2,"on"+H2);var cp,G2,H2,dp;Po(hS,"onAnimationEnd");Po(pS,"onAnimationIteration");Po(mS,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(gS,"onTransitionEnd");Qu("onMouseEnter",["mouseout","mouseover"]);Qu("onMouseLeave",["mouseout","mouseover"]);Qu("onPointerEnter",["pointerout","pointerover"]);Qu("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function V2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cN(n,t,void 0,e),e.currentTarget=null}function _S(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,g=l.currentTarget;if(l=l.listener,u!==s&&a.isPropagationStopped())break e;V2(a,l,g),s=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,g=l.currentTarget,l=l.listener,u!==s&&a.isPropagationStopped())break e;V2(a,l,g),s=u}}}if(Op)throw e=S1,Op=!1,S1=null,e}function Qr(e,t){var r=t[N1];r===void 0&&(r=t[N1]=new Set);var n=e+"__bubble";r.has(n)||(bS(t,e,2,!1),r.add(n))}function $v(e,t,r){var n=0;t&&(n|=4),bS(r,e,n,t)}var hp="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[hp]){e[hp]=!0,D3.forEach(function(r){r!=="selectionchange"&&(cP.has(r)||$v(r,!1,e),$v(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hp]||(t[hp]=!0,$v("selectionchange",!1,t))}}function bS(e,t,r,n){switch(rS(t)){case 1:var a=AN;break;case 4:a=TN;break;default:a=f_}r=a.bind(null,t,r,e),a=void 0,!w1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Qv(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;o=o.return}for(;l!==null;){if(o=bl(l),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}l=l.parentNode}}n=n.return}W3(function(){var g=s,p=s_(r),_=[];e:{var x=vS.get(e);if(x!==void 0){var S=c_,w=e;switch(e){case"keypress":if(wp(r)===0)break e;case"keydown":case"keyup":S=HN;break;case"focusin":w="focus",S=Kv;break;case"focusout":w="blur",S=Kv;break;case"beforeblur":case"afterblur":S=Kv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=O2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=ON;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=KN;break;case hS:case pS:case mS:S=IN;break;case gS:S=XN;break;case"scroll":S=LN;break;case"wheel":S=QN;break;case"copy":case"cut":case"paste":S=FN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=P2}var c=(t&4)!==0,v=!c&&e==="scroll",y=c?x!==null?x+"Capture":null:x;c=[];for(var b=g,C;b!==null;){C=b;var E=C.stateNode;if(C.tag===5&&E!==null&&(C=E,y!==null&&(E=Yd(b,y),E!=null&&c.push(Jd(b,E,C)))),v)break;b=b.return}0<c.length&&(x=new S(x,w,null,r,p),_.push({event:x,listeners:c}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",x&&r!==y1&&(w=r.relatedTarget||r.fromElement)&&(bl(w)||w[Ys]))break e;if((S||x)&&(x=p.window===p?p:(x=p.ownerDocument)?x.defaultView||x.parentWindow:window,S?(w=r.relatedTarget||r.toElement,S=g,w=w?bl(w):null,w!==null&&(v=Ll(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(S=null,w=g),S!==w)){if(c=O2,E="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(c=P2,E="onPointerLeave",y="onPointerEnter",b="pointer"),v=S==null?x:Bu(S),C=w==null?x:Bu(w),x=new c(E,b+"leave",S,r,p),x.target=v,x.relatedTarget=C,E=null,bl(p)===g&&(c=new c(y,b+"enter",w,r,p),c.target=C,c.relatedTarget=v,E=c),v=E,S&&w)t:{for(c=S,y=w,b=0,C=c;C;C=Ou(C))b++;for(C=0,E=y;E;E=Ou(E))C++;for(;0<b-C;)c=Ou(c),b--;for(;0<C-b;)y=Ou(y),C--;for(;b--;){if(c===y||y!==null&&c===y.alternate)break t;c=Ou(c),y=Ou(y)}c=null}else c=null;S!==null&&Y2(_,x,S,c,!1),w!==null&&v!==null&&Y2(_,v,w,c,!0)}}e:{if(x=g?Bu(g):window,S=x.nodeName&&x.nodeName.toLowerCase(),S==="select"||S==="input"&&x.type==="file")var h=iP;else if(F2(x))if(lS)h=lP;else{h=sP;var f=aP}else(S=x.nodeName)&&S.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(h=oP);if(h&&(h=h(e,g))){oS(_,h,r,p);break e}f&&f(e,x,g),e==="focusout"&&(f=x._wrapperState)&&f.controlled&&x.type==="number"&&m1(x,"number",x.value)}switch(f=g?Bu(g):window,e){case"focusin":(F2(f)||f.contentEditable==="true")&&(zu=f,M1=g,Ud=null);break;case"focusout":Ud=M1=zu=null;break;case"mousedown":A1=!0;break;case"contextmenu":case"mouseup":case"dragend":A1=!1,R2(_,r,p);break;case"selectionchange":if(dP)break;case"keydown":case"keyup":R2(_,r,p)}var D;if(p_)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Iu?aS(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(iS&&r.locale!=="ko"&&(Iu||M!=="onCompositionStart"?M==="onCompositionEnd"&&Iu&&(D=nS()):(wo=p,d_="value"in wo?wo.value:wo.textContent,Iu=!0)),f=Fp(g,M),0<f.length&&(M=new N2(M,e,null,r,p),_.push({event:M,listeners:f}),D?M.data=D:(D=sS(r),D!==null&&(M.data=D)))),(D=JN?eP(e,r):tP(e,r))&&(g=Fp(g,"onBeforeInput"),0<g.length&&(p=new N2("onBeforeInput","beforeinput",null,r,p),_.push({event:p,listeners:g}),p.data=D))}_S(_,t)})}function Jd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Yd(e,r),s!=null&&n.unshift(Jd(e,s,a)),s=Yd(e,t),s!=null&&n.push(Jd(e,s,a))),e=e.return}return n}function Ou(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Y2(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,g=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&g!==null&&(l=g,a?(u=Yd(r,s),u!=null&&o.unshift(Jd(r,u,l))):a||(u=Yd(r,s),u!=null&&o.push(Jd(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var hP=/\r\n?/g,pP=/\u0000|\uFFFD/g;function K2(e){return(typeof e=="string"?e:""+e).replace(hP,`
`).replace(pP,"")}function pp(e,t,r){if(t=K2(t),K2(e)!==t&&r)throw Error(Dt(425))}function Bp(){}var T1=null,L1=null;function k1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O1=typeof setTimeout=="function"?setTimeout:void 0,mP=typeof clearTimeout=="function"?clearTimeout:void 0,Z2=typeof Promise=="function"?Promise:void 0,gP=typeof queueMicrotask=="function"?queueMicrotask:typeof Z2<"u"?function(e){return Z2.resolve(null).then(e).catch(vP)}:O1;function vP(e){setTimeout(function(){throw e})}function qv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Xd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Xd(t)}function Mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function X2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sf=Math.random().toString(36).slice(2),os="__reactFiber$"+sf,ec="__reactProps$"+sf,Ys="__reactContainer$"+sf,N1="__reactEvents$"+sf,_P="__reactListeners$"+sf,bP="__reactHandles$"+sf;function bl(e){var t=e[os];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ys]||r[os]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=X2(e);e!==null;){if(r=e[os])return r;e=X2(e)}return t}e=r,r=e.parentNode}return null}function uc(e){return e=e[os]||e[Ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Dt(33))}function i0(e){return e[ec]||null}var P1=[],Uu=-1;function Io(e){return{current:e}}function qr(e){0>Uu||(e.current=P1[Uu],P1[Uu]=null,Uu--)}function Kr(e,t){Uu++,P1[Uu]=e.current,e.current=t}var No={},ni=Io(No),Ni=Io(!1),Cl=No;function qu(e,t){var r=e.type.contextTypes;if(!r)return No;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return e=e.childContextTypes,e!=null}function Up(){qr(Ni),qr(ni)}function $2(e,t,r){if(ni.current!==No)throw Error(Dt(168));Kr(ni,t),Kr(Ni,r)}function yS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Dt(108,aN(e)||"Unknown",a));return on({},r,n)}function jp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Cl=ni.current,Kr(ni,e),Kr(Ni,Ni.current),!0}function Q2(e,t,r){var n=e.stateNode;if(!n)throw Error(Dt(169));r?(e=yS(e,t,Cl),n.__reactInternalMemoizedMergedChildContext=e,qr(Ni),qr(ni),Kr(ni,e)):qr(Ni),Kr(Ni,r)}var Rs=null,a0=!1,Jv=!1;function xS(e){Rs===null?Rs=[e]:Rs.push(e)}function yP(e){a0=!0,xS(e)}function zo(){if(!Jv&&Rs!==null){Jv=!0;var e=0,t=Fr;try{var r=Rs;for(Fr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rs=null,a0=!1}catch(a){throw Rs!==null&&(Rs=Rs.slice(e+1)),Y3(o_,zo),a}finally{Fr=t,Jv=!1}}return null}var ju=[],Ru=0,Rp=null,Wp=0,oa=[],la=0,El=null,Ws=1,Gs="";function vl(e,t){ju[Ru++]=Wp,ju[Ru++]=Rp,Rp=e,Wp=t}function wS(e,t,r){oa[la++]=Ws,oa[la++]=Gs,oa[la++]=El,El=e;var n=Ws;e=Gs;var a=32-Ra(n)-1;n&=~(1<<a),r+=1;var s=32-Ra(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ws=1<<32-Ra(t)+a|r<<a|n,Gs=s+e}else Ws=1<<s|r<<a|n,Gs=e}function g_(e){e.return!==null&&(vl(e,1),wS(e,1,0))}function v_(e){for(;e===Rp;)Rp=ju[--Ru],ju[Ru]=null,Wp=ju[--Ru],ju[Ru]=null;for(;e===El;)El=oa[--la],oa[la]=null,Gs=oa[--la],oa[la]=null,Ws=oa[--la],oa[la]=null}var Yi=null,Vi=null,rn=!1,ja=null;function SS(e,t){var r=ua(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function q2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yi=e,Vi=Mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yi=e,Vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=El!==null?{id:Ws,overflow:Gs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ua(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yi=e,Vi=null,!0):!1;default:return!1}}function I1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function z1(e){if(rn){var t=Vi;if(t){var r=t;if(!q2(e,t)){if(I1(e))throw Error(Dt(418));t=Mo(r.nextSibling);var n=Yi;t&&q2(e,t)?SS(n,r):(e.flags=e.flags&-4097|2,rn=!1,Yi=e)}}else{if(I1(e))throw Error(Dt(418));e.flags=e.flags&-4097|2,rn=!1,Yi=e}}}function J2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yi=e}function mp(e){if(e!==Yi)return!1;if(!rn)return J2(e),rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!k1(e.type,e.memoizedProps)),t&&(t=Vi)){if(I1(e))throw CS(),Error(Dt(418));for(;t;)SS(e,t),t=Mo(t.nextSibling)}if(J2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Dt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vi=Mo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vi=null}}else Vi=Yi?Mo(e.stateNode.nextSibling):null;return!0}function CS(){for(var e=Vi;e;)e=Mo(e.nextSibling)}function Ju(){Vi=Yi=null,rn=!1}function __(e){ja===null?ja=[e]:ja.push(e)}var xP=Xs.ReactCurrentBatchConfig;function Ba(e,t){if(e&&e.defaultProps){t=on({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Gp=Io(null),Hp=null,Wu=null,b_=null;function y_(){b_=Wu=Hp=null}function x_(e){var t=Gp.current;qr(Gp),e._currentValue=t}function F1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xu(e,t){Hp=e,b_=Wu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oi=!0),e.firstContext=null)}function da(e){var t=e._currentValue;if(b_!==e)if(e={context:e,memoizedValue:t,next:null},Wu===null){if(Hp===null)throw Error(Dt(308));Wu=e,Hp.dependencies={lanes:0,firstContext:e}}else Wu=Wu.next=e;return t}var yl=null;function w_(e){yl===null?yl=[e]:yl.push(e)}function ES(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,w_(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ks(e,n)}function Ks(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bo=!1;function S_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ks(e,r)}return a=n.interleaved,a===null?(t.next=t,w_(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ks(e,r)}function Sp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,l_(e,r)}}function e3(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vp(e,t,r,n){var a=e.updateQueue;bo=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var u=l,g=u.next;u.next=null,o===null?s=g:o.next=g,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=g:l.next=g,p.lastBaseUpdate=u))}if(s!==null){var _=a.baseState;o=0,p=g=u=null,l=s;do{var x=l.lane,S=l.eventTime;if((n&x)===x){p!==null&&(p=p.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,c=l;switch(x=t,S=r,c.tag){case 1:if(w=c.payload,typeof w=="function"){_=w.call(S,_,x);break e}_=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=c.payload,x=typeof w=="function"?w.call(S,_,x):w,x==null)break e;_=on({},_,x);break e;case 2:bo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[l]:x.push(l))}else S={eventTime:S,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(g=p=S,u=_):p=p.next=S,o|=x;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;x=l,l=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(p===null&&(u=_),a.baseState=u,a.firstBaseUpdate=g,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=_}}function t3(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Dt(191,a));a.call(n)}}}var MS=new E3.Component().refs;function B1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:on({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var s0={isMounted:function(e){return(e=e._reactInternals)?Ll(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=pi(),a=Lo(e),s=Hs(n,a);s.payload=t,r!=null&&(s.callback=r),t=Ao(e,s,a),t!==null&&(Wa(t,e,a,n),Sp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=pi(),a=Lo(e),s=Hs(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ao(e,s,a),t!==null&&(Wa(t,e,a,n),Sp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pi(),n=Lo(e),a=Hs(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ao(e,a,n),t!==null&&(Wa(t,e,n,r),Sp(t,e,n))}};function r3(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Qd(r,n)||!Qd(a,s):!0}function AS(e,t,r){var n=!1,a=No,s=t.contextType;return typeof s=="object"&&s!==null?s=da(s):(a=Pi(t)?Cl:ni.current,n=t.contextTypes,s=(n=n!=null)?qu(e,a):No),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=s0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function n3(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&s0.enqueueReplaceState(t,t.state,null)}function U1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=MS,S_(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=da(s):(s=Pi(t)?Cl:ni.current,a.context=qu(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(B1(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&s0.enqueueReplaceState(a,a.state,null),Vp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Md(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Dt(309));var n=r.stateNode}if(!n)throw Error(Dt(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;l===MS&&(l=a.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Dt(284));if(!r._owner)throw Error(Dt(290,e))}return e}function gp(e,t){throw e=Object.prototype.toString.call(t),Error(Dt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i3(e){var t=e._init;return t(e._payload)}function TS(e){function t(y,b){if(e){var C=y.deletions;C===null?(y.deletions=[b],y.flags|=16):C.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=ko(y,b),y.index=0,y.sibling=null,y}function s(y,b,C){return y.index=C,e?(C=y.alternate,C!==null?(C=C.index,C<b?(y.flags|=2,b):C):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,C,E){return b===null||b.tag!==6?(b=s1(C,y.mode,E),b.return=y,b):(b=a(b,C),b.return=y,b)}function u(y,b,C,E){var h=C.type;return h===Pu?p(y,b,C.props.children,E,C.key):b!==null&&(b.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===_o&&i3(h)===b.type)?(E=a(b,C.props),E.ref=Md(y,b,C),E.return=y,E):(E=Tp(C.type,C.key,C.props,null,y.mode,E),E.ref=Md(y,b,C),E.return=y,E)}function g(y,b,C,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=o1(C,y.mode,E),b.return=y,b):(b=a(b,C.children||[]),b.return=y,b)}function p(y,b,C,E,h){return b===null||b.tag!==7?(b=Sl(C,y.mode,E,h),b.return=y,b):(b=a(b,C),b.return=y,b)}function _(y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=s1(""+b,y.mode,C),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:return C=Tp(b.type,b.key,b.props,null,y.mode,C),C.ref=Md(y,null,b),C.return=y,C;case Nu:return b=o1(b,y.mode,C),b.return=y,b;case _o:var E=b._init;return _(y,E(b._payload),C)}if(Od(b)||Sd(b))return b=Sl(b,y.mode,C,null),b.return=y,b;gp(y,b)}return null}function x(y,b,C,E){var h=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return h!==null?null:l(y,b,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case tp:return C.key===h?u(y,b,C,E):null;case Nu:return C.key===h?g(y,b,C,E):null;case _o:return h=C._init,x(y,b,h(C._payload),E)}if(Od(C)||Sd(C))return h!==null?null:p(y,b,C,E,null);gp(y,C)}return null}function S(y,b,C,E,h){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(C)||null,l(b,y,""+E,h);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case tp:return y=y.get(E.key===null?C:E.key)||null,u(b,y,E,h);case Nu:return y=y.get(E.key===null?C:E.key)||null,g(b,y,E,h);case _o:var f=E._init;return S(y,b,C,f(E._payload),h)}if(Od(E)||Sd(E))return y=y.get(C)||null,p(b,y,E,h,null);gp(b,E)}return null}function w(y,b,C,E){for(var h=null,f=null,D=b,M=b=0,N=null;D!==null&&M<C.length;M++){D.index>M?(N=D,D=null):N=D.sibling;var k=x(y,D,C[M],E);if(k===null){D===null&&(D=N);break}e&&D&&k.alternate===null&&t(y,D),b=s(k,b,M),f===null?h=k:f.sibling=k,f=k,D=N}if(M===C.length)return r(y,D),rn&&vl(y,M),h;if(D===null){for(;M<C.length;M++)D=_(y,C[M],E),D!==null&&(b=s(D,b,M),f===null?h=D:f.sibling=D,f=D);return rn&&vl(y,M),h}for(D=n(y,D);M<C.length;M++)N=S(D,y,M,C[M],E),N!==null&&(e&&N.alternate!==null&&D.delete(N.key===null?M:N.key),b=s(N,b,M),f===null?h=N:f.sibling=N,f=N);return e&&D.forEach(function(z){return t(y,z)}),rn&&vl(y,M),h}function c(y,b,C,E){var h=Sd(C);if(typeof h!="function")throw Error(Dt(150));if(C=h.call(C),C==null)throw Error(Dt(151));for(var f=h=null,D=b,M=b=0,N=null,k=C.next();D!==null&&!k.done;M++,k=C.next()){D.index>M?(N=D,D=null):N=D.sibling;var z=x(y,D,k.value,E);if(z===null){D===null&&(D=N);break}e&&D&&z.alternate===null&&t(y,D),b=s(z,b,M),f===null?h=z:f.sibling=z,f=z,D=N}if(k.done)return r(y,D),rn&&vl(y,M),h;if(D===null){for(;!k.done;M++,k=C.next())k=_(y,k.value,E),k!==null&&(b=s(k,b,M),f===null?h=k:f.sibling=k,f=k);return rn&&vl(y,M),h}for(D=n(y,D);!k.done;M++,k=C.next())k=S(D,y,M,k.value,E),k!==null&&(e&&k.alternate!==null&&D.delete(k.key===null?M:k.key),b=s(k,b,M),f===null?h=k:f.sibling=k,f=k);return e&&D.forEach(function(O){return t(y,O)}),rn&&vl(y,M),h}function v(y,b,C,E){if(typeof C=="object"&&C!==null&&C.type===Pu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case tp:e:{for(var h=C.key,f=b;f!==null;){if(f.key===h){if(h=C.type,h===Pu){if(f.tag===7){r(y,f.sibling),b=a(f,C.props.children),b.return=y,y=b;break e}}else if(f.elementType===h||typeof h=="object"&&h!==null&&h.$$typeof===_o&&i3(h)===f.type){r(y,f.sibling),b=a(f,C.props),b.ref=Md(y,f,C),b.return=y,y=b;break e}r(y,f);break}else t(y,f);f=f.sibling}C.type===Pu?(b=Sl(C.props.children,y.mode,E,C.key),b.return=y,y=b):(E=Tp(C.type,C.key,C.props,null,y.mode,E),E.ref=Md(y,b,C),E.return=y,y=E)}return o(y);case Nu:e:{for(f=C.key;b!==null;){if(b.key===f)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){r(y,b.sibling),b=a(b,C.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=o1(C,y.mode,E),b.return=y,y=b}return o(y);case _o:return f=C._init,v(y,b,f(C._payload),E)}if(Od(C))return w(y,b,C,E);if(Sd(C))return c(y,b,C,E);gp(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,C),b.return=y,y=b):(r(y,b),b=s1(C,y.mode,E),b.return=y,y=b),o(y)):r(y,b)}return v}var ef=TS(!0),LS=TS(!1),fc={},us=Io(fc),tc=Io(fc),rc=Io(fc);function xl(e){if(e===fc)throw Error(Dt(174));return e}function C_(e,t){switch(Kr(rc,t),Kr(tc,e),Kr(us,fc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:v1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=v1(t,e)}qr(us),Kr(us,t)}function tf(){qr(us),qr(tc),qr(rc)}function kS(e){xl(rc.current);var t=xl(us.current),r=v1(t,e.type);t!==r&&(Kr(tc,e),Kr(us,r))}function E_(e){tc.current===e&&(qr(us),qr(tc))}var an=Io(0);function Yp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var e1=[];function D_(){for(var e=0;e<e1.length;e++)e1[e]._workInProgressVersionPrimary=null;e1.length=0}var Cp=Xs.ReactCurrentDispatcher,t1=Xs.ReactCurrentBatchConfig,Dl=0,sn=null,Mn=null,Bn=null,Kp=!1,jd=!1,nc=0,wP=0;function ei(){throw Error(Dt(321))}function M_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ga(e[r],t[r]))return!1;return!0}function A_(e,t,r,n,a,s){if(Dl=s,sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cp.current=e===null||e.memoizedState===null?DP:MP,e=r(n,a),jd){s=0;do{if(jd=!1,nc=0,25<=s)throw Error(Dt(301));s+=1,Bn=Mn=null,t.updateQueue=null,Cp.current=AP,e=r(n,a)}while(jd)}if(Cp.current=Zp,t=Mn!==null&&Mn.next!==null,Dl=0,Bn=Mn=sn=null,Kp=!1,t)throw Error(Dt(300));return e}function T_(){var e=nc!==0;return nc=0,e}function ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?sn.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function ca(){if(Mn===null){var e=sn.alternate;e=e!==null?e.memoizedState:null}else e=Mn.next;var t=Bn===null?sn.memoizedState:Bn.next;if(t!==null)Bn=t,Mn=e;else{if(e===null)throw Error(Dt(310));Mn=e,e={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Bn===null?sn.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function ic(e,t){return typeof t=="function"?t(e):t}function r1(e){var t=ca(),r=t.queue;if(r===null)throw Error(Dt(311));r.lastRenderedReducer=e;var n=Mn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,u=null,g=s;do{var p=g.lane;if((Dl&p)===p)u!==null&&(u=u.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),n=g.hasEagerState?g.eagerState:e(n,g.action);else{var _={lane:p,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};u===null?(l=u=_,o=n):u=u.next=_,sn.lanes|=p,Ml|=p}g=g.next}while(g!==null&&g!==s);u===null?o=n:u.next=l,Ga(n,t.memoizedState)||(Oi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,sn.lanes|=s,Ml|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function n1(e){var t=ca(),r=t.queue;if(r===null)throw Error(Dt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Ga(s,t.memoizedState)||(Oi=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function OS(){}function NS(e,t){var r=sn,n=ca(),a=t(),s=!Ga(n.memoizedState,a);if(s&&(n.memoizedState=a,Oi=!0),n=n.queue,L_(zS.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Bn!==null&&Bn.memoizedState.tag&1){if(r.flags|=2048,ac(9,IS.bind(null,r,n,a,t),void 0,null),Un===null)throw Error(Dt(349));Dl&30||PS(r,t,a)}return a}function PS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function IS(e,t,r,n){t.value=r,t.getSnapshot=n,FS(t)&&BS(e)}function zS(e,t,r){return r(function(){FS(t)&&BS(e)})}function FS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ga(e,r)}catch{return!0}}function BS(e){var t=Ks(e,1);t!==null&&Wa(t,e,1,-1)}function a3(e){var t=ss();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:e},t.queue=e,e=e.dispatch=EP.bind(null,sn,e),[t.memoizedState,e]}function ac(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function US(){return ca().memoizedState}function Ep(e,t,r,n){var a=ss();sn.flags|=e,a.memoizedState=ac(1|t,r,void 0,n===void 0?null:n)}function o0(e,t,r,n){var a=ca();n=n===void 0?null:n;var s=void 0;if(Mn!==null){var o=Mn.memoizedState;if(s=o.destroy,n!==null&&M_(n,o.deps)){a.memoizedState=ac(t,r,s,n);return}}sn.flags|=e,a.memoizedState=ac(1|t,r,s,n)}function s3(e,t){return Ep(8390656,8,e,t)}function L_(e,t){return o0(2048,8,e,t)}function jS(e,t){return o0(4,2,e,t)}function RS(e,t){return o0(4,4,e,t)}function WS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GS(e,t,r){return r=r!=null?r.concat([e]):null,o0(4,4,WS.bind(null,t,e),r)}function k_(){}function HS(e,t){var r=ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&M_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function VS(e,t){var r=ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&M_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function YS(e,t,r){return Dl&21?(Ga(r,t)||(r=X3(),sn.lanes|=r,Ml|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oi=!0),e.memoizedState=r)}function SP(e,t){var r=Fr;Fr=r!==0&&4>r?r:4,e(!0);var n=t1.transition;t1.transition={};try{e(!1),t()}finally{Fr=r,t1.transition=n}}function KS(){return ca().memoizedState}function CP(e,t,r){var n=Lo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZS(e))XS(t,r);else if(r=ES(e,t,r,n),r!==null){var a=pi();Wa(r,e,n,a),$S(r,t,n)}}function EP(e,t,r){var n=Lo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZS(e))XS(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ga(l,o)){var u=t.interleaved;u===null?(a.next=a,w_(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}r=ES(e,t,a,n),r!==null&&(a=pi(),Wa(r,e,n,a),$S(r,t,n))}}function ZS(e){var t=e.alternate;return e===sn||t!==null&&t===sn}function XS(e,t){jd=Kp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $S(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,l_(e,r)}}var Zp={readContext:da,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},DP={readContext:da,useCallback:function(e,t){return ss().memoizedState=[e,t===void 0?null:t],e},useContext:da,useEffect:s3,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ep(4194308,4,WS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ep(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ep(4,2,e,t)},useMemo:function(e,t){var r=ss();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ss();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=CP.bind(null,sn,e),[n.memoizedState,e]},useRef:function(e){var t=ss();return e={current:e},t.memoizedState=e},useState:a3,useDebugValue:k_,useDeferredValue:function(e){return ss().memoizedState=e},useTransition:function(){var e=a3(!1),t=e[0];return e=SP.bind(null,e[1]),ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=sn,a=ss();if(rn){if(r===void 0)throw Error(Dt(407));r=r()}else{if(r=t(),Un===null)throw Error(Dt(349));Dl&30||PS(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,s3(zS.bind(null,n,s,e),[e]),n.flags|=2048,ac(9,IS.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ss(),t=Un.identifierPrefix;if(rn){var r=Gs,n=Ws;r=(n&~(1<<32-Ra(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MP={readContext:da,useCallback:HS,useContext:da,useEffect:L_,useImperativeHandle:GS,useInsertionEffect:jS,useLayoutEffect:RS,useMemo:VS,useReducer:r1,useRef:US,useState:function(){return r1(ic)},useDebugValue:k_,useDeferredValue:function(e){var t=ca();return YS(t,Mn.memoizedState,e)},useTransition:function(){var e=r1(ic)[0],t=ca().memoizedState;return[e,t]},useMutableSource:OS,useSyncExternalStore:NS,useId:KS,unstable_isNewReconciler:!1},AP={readContext:da,useCallback:HS,useContext:da,useEffect:L_,useImperativeHandle:GS,useInsertionEffect:jS,useLayoutEffect:RS,useMemo:VS,useReducer:n1,useRef:US,useState:function(){return n1(ic)},useDebugValue:k_,useDeferredValue:function(e){var t=ca();return Mn===null?t.memoizedState=e:YS(t,Mn.memoizedState,e)},useTransition:function(){var e=n1(ic)[0],t=ca().memoizedState;return[e,t]},useMutableSource:OS,useSyncExternalStore:NS,useId:KS,unstable_isNewReconciler:!1};function rf(e,t){try{var r="",n=t;do r+=iN(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function i1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function j1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TP=typeof WeakMap=="function"?WeakMap:Map;function QS(e,t,r){r=Hs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$p||($p=!0,$1=n),j1(e,t)},r}function qS(e,t,r){r=Hs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){j1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){j1(e,t),typeof n!="function"&&(To===null?To=new Set([this]):To.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function o3(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TP;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=GP.bind(null,e,t,r),t.then(e,e))}function l3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u3(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hs(-1,1),t.tag=2,Ao(r,t,1))),r.lanes|=1),e)}var LP=Xs.ReactCurrentOwner,Oi=!1;function hi(e,t,r,n){t.child=e===null?LS(t,null,r,n):ef(t,e.child,r,n)}function f3(e,t,r,n,a){r=r.render;var s=t.ref;return Xu(t,a),n=A_(e,t,r,n,s,a),r=T_(),e!==null&&!Oi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a)):(rn&&r&&g_(t),t.flags|=1,hi(e,t,n,a),t.child)}function d3(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!U_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,JS(e,t,s,n,a)):(e=Tp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Qd,r(o,n)&&e.ref===t.ref)return Zs(e,t,a)}return t.flags|=1,e=ko(s,n),e.ref=t.ref,e.return=t,t.child=e}function JS(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Qd(s,n)&&e.ref===t.ref)if(Oi=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Oi=!0);else return t.lanes=e.lanes,Zs(e,t,a)}return R1(e,t,r,n,a)}function eC(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(Hu,Hi),Hi|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kr(Hu,Hi),Hi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Kr(Hu,Hi),Hi|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Kr(Hu,Hi),Hi|=n;return hi(e,t,a,r),t.child}function tC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function R1(e,t,r,n,a){var s=Pi(r)?Cl:ni.current;return s=qu(t,s),Xu(t,a),r=A_(e,t,r,n,s,a),n=T_(),e!==null&&!Oi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a)):(rn&&n&&g_(t),t.flags|=1,hi(e,t,r,a),t.child)}function c3(e,t,r,n,a){if(Pi(r)){var s=!0;jp(t)}else s=!1;if(Xu(t,a),t.stateNode===null)Dp(e,t),AS(t,r,n),U1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,g=r.contextType;typeof g=="object"&&g!==null?g=da(g):(g=Pi(r)?Cl:ni.current,g=qu(t,g));var p=r.getDerivedStateFromProps,_=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==g)&&n3(t,o,n,g),bo=!1;var x=t.memoizedState;o.state=x,Vp(t,n,o,a),u=t.memoizedState,l!==n||x!==u||Ni.current||bo?(typeof p=="function"&&(B1(t,r,p,n),u=t.memoizedState),(l=bo||r3(t,r,l,n,x,u,g))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=g,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,DS(e,t),l=t.memoizedProps,g=t.type===t.elementType?l:Ba(t.type,l),o.props=g,_=t.pendingProps,x=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=da(u):(u=Pi(r)?Cl:ni.current,u=qu(t,u));var S=r.getDerivedStateFromProps;(p=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==_||x!==u)&&n3(t,o,n,u),bo=!1,x=t.memoizedState,o.state=x,Vp(t,n,o,a);var w=t.memoizedState;l!==_||x!==w||Ni.current||bo?(typeof S=="function"&&(B1(t,r,S,n),w=t.memoizedState),(g=bo||r3(t,r,g,n,x,w,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=u,n=g):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return W1(e,t,r,n,s,a)}function W1(e,t,r,n,a,s){tC(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Q2(t,r,!1),Zs(e,t,s);n=t.stateNode,LP.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ef(t,e.child,null,s),t.child=ef(t,null,l,s)):hi(e,t,l,s),t.memoizedState=n.state,a&&Q2(t,r,!0),t.child}function rC(e){var t=e.stateNode;t.pendingContext?$2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$2(e,t.context,!1),C_(e,t.containerInfo)}function h3(e,t,r,n,a){return Ju(),__(a),t.flags|=256,hi(e,t,r,n),t.child}var G1={dehydrated:null,treeContext:null,retryLane:0};function H1(e){return{baseLanes:e,cachePool:null,transitions:null}}function nC(e,t,r){var n=t.pendingProps,a=an.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Kr(an,a&1),e===null)return z1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=f0(o,n,0,null),e=Sl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=H1(r),t.memoizedState=G1,e):O_(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return kP(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=ko(a,u),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=ko(l,s):(s=Sl(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?H1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=G1,n}return s=e.child,e=s.sibling,n=ko(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function O_(e,t){return t=f0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vp(e,t,r,n){return n!==null&&__(n),ef(t,e.child,null,r),e=O_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kP(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=i1(Error(Dt(422))),vp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=f0({mode:"visible",children:n.children},a,0,null),s=Sl(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ef(t,e.child,null,o),t.child.memoizedState=H1(o),t.memoizedState=G1,s);if(!(t.mode&1))return vp(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Dt(419)),n=i1(s,n,void 0),vp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Oi||l){if(n=Un,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ks(e,a),Wa(n,e,a,-1))}return B_(),n=i1(Error(Dt(421))),vp(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=HP.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Vi=Mo(a.nextSibling),Yi=t,rn=!0,ja=null,e!==null&&(oa[la++]=Ws,oa[la++]=Gs,oa[la++]=El,Ws=e.id,Gs=e.overflow,El=t),t=O_(t,n.children),t.flags|=4096,t)}function p3(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),F1(e.return,t,r)}function a1(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function iC(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(hi(e,t,n.children,r),n=an.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p3(e,r,t);else if(e.tag===19)p3(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Kr(an,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Yp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),a1(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Yp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}a1(t,!0,r,null,s);break;case"together":a1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ml|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Dt(153));if(t.child!==null){for(e=t.child,r=ko(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ko(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function OP(e,t,r){switch(t.tag){case 3:rC(t),Ju();break;case 5:kS(t);break;case 1:Pi(t.type)&&jp(t);break;case 4:C_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Kr(Gp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Kr(an,an.current&1),t.flags|=128,null):r&t.child.childLanes?nC(e,t,r):(Kr(an,an.current&1),e=Zs(e,t,r),e!==null?e.sibling:null);Kr(an,an.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return iC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Kr(an,an.current),n)break;return null;case 22:case 23:return t.lanes=0,eC(e,t,r)}return Zs(e,t,r)}var aC,V1,sC,oC;aC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};V1=function(){};sC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,xl(us.current);var s=null;switch(r){case"input":a=h1(e,a),n=h1(e,n),s=[];break;case"select":a=on({},a,{value:void 0}),n=on({},n,{value:void 0}),s=[];break;case"textarea":a=g1(e,a),n=g1(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bp)}_1(r,n);var o;r=null;for(g in a)if(!n.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var l=a[g];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Hd.hasOwnProperty(g)?s||(s=[]):(s=s||[]).push(g,null));for(g in n){var u=n[g];if(l=a?.[g],n.hasOwnProperty(g)&&u!==l&&(u!=null||l!=null))if(g==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(g,r)),r=u;else g==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(g,u)):g==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(g,""+u):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Hd.hasOwnProperty(g)?(u!=null&&g==="onScroll"&&Qr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(g,u))}r&&(s=s||[]).push("style",r);var g=s;(t.updateQueue=g)&&(t.flags|=4)}};oC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ad(e,t){if(!rn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ti(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NP(e,t,r){var n=t.pendingProps;switch(v_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(t),null;case 1:return Pi(t.type)&&Up(),ti(t),null;case 3:return n=t.stateNode,tf(),qr(Ni),qr(ni),D_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ja!==null&&(J1(ja),ja=null))),V1(e,t),ti(t),null;case 5:E_(t);var a=xl(rc.current);if(r=t.type,e!==null&&t.stateNode!=null)sC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Dt(166));return ti(t),null}if(e=xl(us.current),mp(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[os]=t,n[ec]=s,e=(t.mode&1)!==0,r){case"dialog":Qr("cancel",n),Qr("close",n);break;case"iframe":case"object":case"embed":Qr("load",n);break;case"video":case"audio":for(a=0;a<Pd.length;a++)Qr(Pd[a],n);break;case"source":Qr("error",n);break;case"img":case"image":case"link":Qr("error",n),Qr("load",n);break;case"details":Qr("toggle",n);break;case"input":w2(n,s),Qr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Qr("invalid",n);break;case"textarea":C2(n,s),Qr("invalid",n)}_1(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&pp(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&pp(n.textContent,l,e),a=["children",""+l]):Hd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qr("scroll",n)}switch(r){case"input":rp(n),S2(n,s,!0);break;case"textarea":rp(n),E2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Bp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[os]=t,e[ec]=n,aC(e,t,!1,!1),t.stateNode=e;e:{switch(o=b1(r,n),r){case"dialog":Qr("cancel",e),Qr("close",e),a=n;break;case"iframe":case"object":case"embed":Qr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Pd.length;a++)Qr(Pd[a],e);a=n;break;case"source":Qr("error",e),a=n;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),a=n;break;case"details":Qr("toggle",e),a=n;break;case"input":w2(e,n),a=h1(e,n),Qr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=on({},n,{value:void 0}),Qr("invalid",e);break;case"textarea":C2(e,n),a=g1(e,n),Qr("invalid",e);break;default:a=n}_1(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?F3(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&I3(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Vd(e,u):typeof u=="number"&&Vd(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hd.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Qr("scroll",e):u!=null&&r_(e,s,u,o))}switch(r){case"input":rp(e),S2(e,n,!1);break;case"textarea":rp(e),E2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Oo(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Vu(e,!!n.multiple,s,!1):n.defaultValue!=null&&Vu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ti(t),null;case 6:if(e&&t.stateNode!=null)oC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Dt(166));if(r=xl(rc.current),xl(us.current),mp(t)){if(n=t.stateNode,r=t.memoizedProps,n[os]=t,(s=n.nodeValue!==r)&&(e=Yi,e!==null))switch(e.tag){case 3:pp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pp(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[os]=t,t.stateNode=n}return ti(t),null;case 13:if(qr(an),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rn&&Vi!==null&&t.mode&1&&!(t.flags&128))CS(),Ju(),t.flags|=98560,s=!1;else if(s=mp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Dt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Dt(317));s[os]=t}else Ju(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ti(t),s=!1}else ja!==null&&(J1(ja),ja=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||an.current&1?An===0&&(An=3):B_())),t.updateQueue!==null&&(t.flags|=4),ti(t),null);case 4:return tf(),V1(e,t),e===null&&qd(t.stateNode.containerInfo),ti(t),null;case 10:return x_(t.type._context),ti(t),null;case 17:return Pi(t.type)&&Up(),ti(t),null;case 19:if(qr(an),s=t.memoizedState,s===null)return ti(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Ad(s,!1);else{if(An!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Yp(e),o!==null){for(t.flags|=128,Ad(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kr(an,an.current&1|2),t.child}e=e.sibling}s.tail!==null&&bn()>nf&&(t.flags|=128,n=!0,Ad(s,!1),t.lanes=4194304)}else{if(!n)if(e=Yp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ad(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rn)return ti(t),null}else 2*bn()-s.renderingStartTime>nf&&r!==1073741824&&(t.flags|=128,n=!0,Ad(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bn(),t.sibling=null,r=an.current,Kr(an,n?r&1|2:r&1),t):(ti(t),null);case 22:case 23:return F_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hi&1073741824&&(ti(t),t.subtreeFlags&6&&(t.flags|=8192)):ti(t),null;case 24:return null;case 25:return null}throw Error(Dt(156,t.tag))}function PP(e,t){switch(v_(t),t.tag){case 1:return Pi(t.type)&&Up(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tf(),qr(Ni),qr(ni),D_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return E_(t),null;case 13:if(qr(an),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Dt(340));Ju()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qr(an),null;case 4:return tf(),null;case 10:return x_(t.type._context),null;case 22:case 23:return F_(),null;case 24:return null;default:return null}}var _p=!1,ri=!1,IP=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Gu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dn(e,t,n)}else r.current=null}function Y1(e,t,r){try{r()}catch(n){dn(e,t,n)}}var m3=!1;function zP(e,t){if(T1=Ip,e=dS(),m_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,g=0,p=0,_=e,x=null;t:for(;;){for(var S;_!==r||a!==0&&_.nodeType!==3||(l=o+a),_!==s||n!==0&&_.nodeType!==3||(u=o+n),_.nodeType===3&&(o+=_.nodeValue.length),(S=_.firstChild)!==null;)x=_,_=S;for(;;){if(_===e)break t;if(x===r&&++g===a&&(l=o),x===s&&++p===n&&(u=o),(S=_.nextSibling)!==null)break;_=x,x=_.parentNode}_=S}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(L1={focusedElem:e,selectionRange:r},Ip=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){t=Ut;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var c=w.memoizedProps,v=w.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?c:Ba(t.type,c),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Dt(163))}}catch(E){dn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}return w=m3,m3=!1,w}function Rd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Y1(t,r,s)}a=a.next}while(a!==n)}}function l0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function K1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lC(e){var t=e.alternate;t!==null&&(e.alternate=null,lC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[os],delete t[ec],delete t[N1],delete t[_P],delete t[bP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uC(e){return e.tag===5||e.tag===3||e.tag===4}function g3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Z1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bp));else if(n!==4&&(e=e.child,e!==null))for(Z1(e,t,r),e=e.sibling;e!==null;)Z1(e,t,r),e=e.sibling}function X1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(X1(e,t,r),e=e.sibling;e!==null;)X1(e,t,r),e=e.sibling}var Yn=null,Ua=!1;function vo(e,t,r){for(r=r.child;r!==null;)fC(e,t,r),r=r.sibling}function fC(e,t,r){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(e0,r)}catch{}switch(r.tag){case 5:ri||Gu(r,t);case 6:var n=Yn,a=Ua;Yn=null,vo(e,t,r),Yn=n,Ua=a,Yn!==null&&(Ua?(e=Yn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yn.removeChild(r.stateNode));break;case 18:Yn!==null&&(Ua?(e=Yn,r=r.stateNode,e.nodeType===8?qv(e.parentNode,r):e.nodeType===1&&qv(e,r),Xd(e)):qv(Yn,r.stateNode));break;case 4:n=Yn,a=Ua,Yn=r.stateNode.containerInfo,Ua=!0,vo(e,t,r),Yn=n,Ua=a;break;case 0:case 11:case 14:case 15:if(!ri&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Y1(r,t,o),a=a.next}while(a!==n)}vo(e,t,r);break;case 1:if(!ri&&(Gu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){dn(r,t,l)}vo(e,t,r);break;case 21:vo(e,t,r);break;case 22:r.mode&1?(ri=(n=ri)||r.memoizedState!==null,vo(e,t,r),ri=n):vo(e,t,r);break;default:vo(e,t,r)}}function v3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IP),t.forEach(function(n){var a=VP.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Fa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yn=l.stateNode,Ua=!1;break e;case 3:Yn=l.stateNode.containerInfo,Ua=!0;break e;case 4:Yn=l.stateNode.containerInfo,Ua=!0;break e}l=l.return}if(Yn===null)throw Error(Dt(160));fC(s,o,a),Yn=null,Ua=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(g){dn(a,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dC(t,e),t=t.sibling}function dC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fa(t,e),as(e),n&4){try{Rd(3,e,e.return),l0(3,e)}catch(c){dn(e,e.return,c)}try{Rd(5,e,e.return)}catch(c){dn(e,e.return,c)}}break;case 1:Fa(t,e),as(e),n&512&&r!==null&&Gu(r,r.return);break;case 5:if(Fa(t,e),as(e),n&512&&r!==null&&Gu(r,r.return),e.flags&32){var a=e.stateNode;try{Vd(a,"")}catch(c){dn(e,e.return,c)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&O3(a,s),b1(l,o);var g=b1(l,s);for(o=0;o<u.length;o+=2){var p=u[o],_=u[o+1];p==="style"?F3(a,_):p==="dangerouslySetInnerHTML"?I3(a,_):p==="children"?Vd(a,_):r_(a,p,_,g)}switch(l){case"input":p1(a,s);break;case"textarea":N3(a,s);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Vu(a,!!s.multiple,S,!1):x!==!!s.multiple&&(s.defaultValue!=null?Vu(a,!!s.multiple,s.defaultValue,!0):Vu(a,!!s.multiple,s.multiple?[]:"",!1))}a[ec]=s}catch(c){dn(e,e.return,c)}}break;case 6:if(Fa(t,e),as(e),n&4){if(e.stateNode===null)throw Error(Dt(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(c){dn(e,e.return,c)}}break;case 3:if(Fa(t,e),as(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xd(t.containerInfo)}catch(c){dn(e,e.return,c)}break;case 4:Fa(t,e),as(e);break;case 13:Fa(t,e),as(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(I_=bn())),n&4&&v3(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(ri=(g=ri)||p,Fa(t,e),ri=g):Fa(t,e),as(e),n&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!p&&e.mode&1)for(Ut=e,p=e.child;p!==null;){for(_=Ut=p;Ut!==null;){switch(x=Ut,S=x.child,x.tag){case 0:case 11:case 14:case 15:Rd(4,x,x.return);break;case 1:Gu(x,x.return);var w=x.stateNode;if(typeof w.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(c){dn(n,r,c)}}break;case 5:Gu(x,x.return);break;case 22:if(x.memoizedState!==null){b3(_);continue}}S!==null?(S.return=x,Ut=S):b3(_)}p=p.sibling}e:for(p=null,_=e;;){if(_.tag===5){if(p===null){p=_;try{a=_.stateNode,g?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=_.stateNode,u=_.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=z3("display",o))}catch(c){dn(e,e.return,c)}}}else if(_.tag===6){if(p===null)try{_.stateNode.nodeValue=g?"":_.memoizedProps}catch(c){dn(e,e.return,c)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;p===_&&(p=null),_=_.return}p===_&&(p=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Fa(t,e),as(e),n&4&&v3(e);break;case 21:break;default:Fa(t,e),as(e)}}function as(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uC(r)){var n=r;break e}r=r.return}throw Error(Dt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vd(a,""),n.flags&=-33);var s=g3(e);X1(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=g3(e);Z1(e,l,o);break;default:throw Error(Dt(161))}}catch(u){dn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FP(e,t,r){Ut=e,cC(e,t,r)}function cC(e,t,r){for(var n=(e.mode&1)!==0;Ut!==null;){var a=Ut,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||_p;if(!o){var l=a.alternate,u=l!==null&&l.memoizedState!==null||ri;l=_p;var g=ri;if(_p=o,(ri=u)&&!g)for(Ut=a;Ut!==null;)o=Ut,u=o.child,o.tag===22&&o.memoizedState!==null?y3(a):u!==null?(u.return=o,Ut=u):y3(a);for(;s!==null;)Ut=s,cC(s,t,r),s=s.sibling;Ut=a,_p=l,ri=g}_3(e,t,r)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Ut=s):_3(e,t,r)}}function _3(e){for(;Ut!==null;){var t=Ut;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ri||l0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ri)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ba(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&t3(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}t3(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var p=g.memoizedState;if(p!==null){var _=p.dehydrated;_!==null&&Xd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Dt(163))}ri||t.flags&512&&K1(t)}catch(x){dn(t,t.return,x)}}if(t===e){Ut=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function b3(e){for(;Ut!==null;){var t=Ut;if(t===e){Ut=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function y3(e){for(;Ut!==null;){var t=Ut;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{l0(4,t)}catch(u){dn(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(u){dn(t,a,u)}}var s=t.return;try{K1(t)}catch(u){dn(t,s,u)}break;case 5:var o=t.return;try{K1(t)}catch(u){dn(t,o,u)}}}catch(u){dn(t,t.return,u)}if(t===e){Ut=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ut=l;break}Ut=t.return}}var BP=Math.ceil,Xp=Xs.ReactCurrentDispatcher,N_=Xs.ReactCurrentOwner,fa=Xs.ReactCurrentBatchConfig,Dr=0,Un=null,Sn=null,Kn=0,Hi=0,Hu=Io(0),An=0,sc=null,Ml=0,u0=0,P_=0,Wd=null,ki=null,I_=0,nf=1/0,js=null,$p=!1,$1=null,To=null,bp=!1,So=null,Qp=0,Gd=0,Q1=null,Mp=-1,Ap=0;function pi(){return Dr&6?bn():Mp!==-1?Mp:Mp=bn()}function Lo(e){return e.mode&1?Dr&2&&Kn!==0?Kn&-Kn:xP.transition!==null?(Ap===0&&(Ap=X3()),Ap):(e=Fr,e!==0||(e=window.event,e=e===void 0?16:rS(e.type)),e):1}function Wa(e,t,r,n){if(50<Gd)throw Gd=0,Q1=null,Error(Dt(185));oc(e,r,n),(!(Dr&2)||e!==Un)&&(e===Un&&(!(Dr&2)&&(u0|=r),An===4&&xo(e,Kn)),Ii(e,n),r===1&&Dr===0&&!(t.mode&1)&&(nf=bn()+500,a0&&zo()))}function Ii(e,t){var r=e.callbackNode;SN(e,t);var n=Pp(e,e===Un?Kn:0);if(n===0)r!==null&&A2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&A2(r),t===1)e.tag===0?yP(x3.bind(null,e)):xS(x3.bind(null,e)),gP(function(){!(Dr&6)&&zo()}),r=null;else{switch($3(n)){case 1:r=o_;break;case 4:r=K3;break;case 16:r=Np;break;case 536870912:r=Z3;break;default:r=Np}r=yC(r,hC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hC(e,t){if(Mp=-1,Ap=0,Dr&6)throw Error(Dt(327));var r=e.callbackNode;if($u()&&e.callbackNode!==r)return null;var n=Pp(e,e===Un?Kn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qp(e,n);else{t=n;var a=Dr;Dr|=2;var s=mC();(Un!==e||Kn!==t)&&(js=null,nf=bn()+500,wl(e,t));do try{RP();break}catch(l){pC(e,l)}while(!0);y_(),Xp.current=s,Dr=a,Sn!==null?t=0:(Un=null,Kn=0,t=An)}if(t!==0){if(t===2&&(a=C1(e),a!==0&&(n=a,t=q1(e,a))),t===1)throw r=sc,wl(e,0),xo(e,n),Ii(e,bn()),r;if(t===6)xo(e,n);else{if(a=e.current.alternate,!(n&30)&&!UP(a)&&(t=qp(e,n),t===2&&(s=C1(e),s!==0&&(n=s,t=q1(e,s))),t===1))throw r=sc,wl(e,0),xo(e,n),Ii(e,bn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Dt(345));case 2:_l(e,ki,js);break;case 3:if(xo(e,n),(n&130023424)===n&&(t=I_+500-bn(),10<t)){if(Pp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){pi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=O1(_l.bind(null,e,ki,js),t);break}_l(e,ki,js);break;case 4:if(xo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ra(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=bn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*BP(n/1960))-n,10<n){e.timeoutHandle=O1(_l.bind(null,e,ki,js),n);break}_l(e,ki,js);break;case 5:_l(e,ki,js);break;default:throw Error(Dt(329))}}}return Ii(e,bn()),e.callbackNode===r?hC.bind(null,e):null}function q1(e,t){var r=Wd;return e.current.memoizedState.isDehydrated&&(wl(e,t).flags|=256),e=qp(e,t),e!==2&&(t=ki,ki=r,t!==null&&J1(t)),e}function J1(e){ki===null?ki=e:ki.push.apply(ki,e)}function UP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ga(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xo(e,t){for(t&=~P_,t&=~u0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ra(t),n=1<<r;e[r]=-1,t&=~n}}function x3(e){if(Dr&6)throw Error(Dt(327));$u();var t=Pp(e,0);if(!(t&1))return Ii(e,bn()),null;var r=qp(e,t);if(e.tag!==0&&r===2){var n=C1(e);n!==0&&(t=n,r=q1(e,n))}if(r===1)throw r=sc,wl(e,0),xo(e,t),Ii(e,bn()),r;if(r===6)throw Error(Dt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,ki,js),Ii(e,bn()),null}function z_(e,t){var r=Dr;Dr|=1;try{return e(t)}finally{Dr=r,Dr===0&&(nf=bn()+500,a0&&zo())}}function Al(e){So!==null&&So.tag===0&&!(Dr&6)&&$u();var t=Dr;Dr|=1;var r=fa.transition,n=Fr;try{if(fa.transition=null,Fr=1,e)return e()}finally{Fr=n,fa.transition=r,Dr=t,!(Dr&6)&&zo()}}function F_(){Hi=Hu.current,qr(Hu)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mP(r)),Sn!==null)for(r=Sn.return;r!==null;){var n=r;switch(v_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Up();break;case 3:tf(),qr(Ni),qr(ni),D_();break;case 5:E_(n);break;case 4:tf();break;case 13:qr(an);break;case 19:qr(an);break;case 10:x_(n.type._context);break;case 22:case 23:F_()}r=r.return}if(Un=e,Sn=e=ko(e.current,null),Kn=Hi=t,An=0,sc=null,P_=u0=Ml=0,ki=Wd=null,yl!==null){for(t=0;t<yl.length;t++)if(r=yl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}yl=null}return e}function pC(e,t){do{var r=Sn;try{if(y_(),Cp.current=Zp,Kp){for(var n=sn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Kp=!1}if(Dl=0,Bn=Mn=sn=null,jd=!1,nc=0,N_.current=null,r===null||r.return===null){An=1,sc=t,Sn=null;break}e:{var s=e,o=r.return,l=r,u=t;if(t=Kn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var g=u,p=l,_=p.tag;if(!(p.mode&1)&&(_===0||_===11||_===15)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var S=l3(o);if(S!==null){S.flags&=-257,u3(S,o,l,s,t),S.mode&1&&o3(s,g,t),t=S,u=g;var w=t.updateQueue;if(w===null){var c=new Set;c.add(u),t.updateQueue=c}else w.add(u);break e}else{if(!(t&1)){o3(s,g,t),B_();break e}u=Error(Dt(426))}}else if(rn&&l.mode&1){var v=l3(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),u3(v,o,l,s,t),__(rf(u,l));break e}}s=u=rf(u,l),An!==4&&(An=2),Wd===null?Wd=[s]:Wd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=QS(s,u,t);e3(s,y);break e;case 1:l=u;var b=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(To===null||!To.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=qS(s,l,t);e3(s,E);break e}}s=s.return}while(s!==null)}vC(r)}catch(h){t=h,Sn===r&&r!==null&&(Sn=r=r.return);continue}break}while(!0)}function mC(){var e=Xp.current;return Xp.current=Zp,e===null?Zp:e}function B_(){(An===0||An===3||An===2)&&(An=4),Un===null||!(Ml&268435455)&&!(u0&268435455)||xo(Un,Kn)}function qp(e,t){var r=Dr;Dr|=2;var n=mC();(Un!==e||Kn!==t)&&(js=null,wl(e,t));do try{jP();break}catch(a){pC(e,a)}while(!0);if(y_(),Dr=r,Xp.current=n,Sn!==null)throw Error(Dt(261));return Un=null,Kn=0,An}function jP(){for(;Sn!==null;)gC(Sn)}function RP(){for(;Sn!==null&&!pN();)gC(Sn)}function gC(e){var t=bC(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,t===null?vC(e):Sn=t,N_.current=null}function vC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=PP(r,t),r!==null){r.flags&=32767,Sn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{An=6,Sn=null;return}}else if(r=NP(r,t,Hi),r!==null){Sn=r;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);An===0&&(An=5)}function _l(e,t,r){var n=Fr,a=fa.transition;try{fa.transition=null,Fr=1,WP(e,t,r,n)}finally{fa.transition=a,Fr=n}return null}function WP(e,t,r,n){do $u();while(So!==null);if(Dr&6)throw Error(Dt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Dt(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(CN(e,s),e===Un&&(Sn=Un=null,Kn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bp||(bp=!0,yC(Np,function(){return $u(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=fa.transition,fa.transition=null;var o=Fr;Fr=1;var l=Dr;Dr|=4,N_.current=null,zP(e,r),dC(r,e),fP(L1),Ip=!!T1,L1=T1=null,e.current=r,FP(r,e,a),mN(),Dr=l,Fr=o,fa.transition=s}else e.current=r;if(bp&&(bp=!1,So=e,Qp=a),s=e.pendingLanes,s===0&&(To=null),_N(r.stateNode,n),Ii(e,bn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if($p)throw $p=!1,e=$1,$1=null,e;return Qp&1&&e.tag!==0&&$u(),s=e.pendingLanes,s&1?e===Q1?Gd++:(Gd=0,Q1=e):Gd=0,zo(),null}function $u(){if(So!==null){var e=$3(Qp),t=fa.transition,r=Fr;try{if(fa.transition=null,Fr=16>e?16:e,So===null)var n=!1;else{if(e=So,So=null,Qp=0,Dr&6)throw Error(Dt(331));var a=Dr;for(Dr|=4,Ut=e.current;Ut!==null;){var s=Ut,o=s.child;if(Ut.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var g=l[u];for(Ut=g;Ut!==null;){var p=Ut;switch(p.tag){case 0:case 11:case 15:Rd(8,p,s)}var _=p.child;if(_!==null)_.return=p,Ut=_;else for(;Ut!==null;){p=Ut;var x=p.sibling,S=p.return;if(lC(p),p===g){Ut=null;break}if(x!==null){x.return=S,Ut=x;break}Ut=S}}}var w=s.alternate;if(w!==null){var c=w.child;if(c!==null){w.child=null;do{var v=c.sibling;c.sibling=null,c=v}while(c!==null)}}Ut=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ut=o;else e:for(;Ut!==null;){if(s=Ut,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rd(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ut=y;break e}Ut=s.return}}var b=e.current;for(Ut=b;Ut!==null;){o=Ut;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Ut=C;else e:for(o=b;Ut!==null;){if(l=Ut,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:l0(9,l)}}catch(h){dn(l,l.return,h)}if(l===o){Ut=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Ut=E;break e}Ut=l.return}}if(Dr=a,zo(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(e0,e)}catch{}n=!0}return n}finally{Fr=r,fa.transition=t}}return!1}function w3(e,t,r){t=rf(r,t),t=QS(e,t,1),e=Ao(e,t,1),t=pi(),e!==null&&(oc(e,1,t),Ii(e,t))}function dn(e,t,r){if(e.tag===3)w3(e,e,r);else for(;t!==null;){if(t.tag===3){w3(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(To===null||!To.has(n))){e=rf(r,e),e=qS(t,e,1),t=Ao(t,e,1),e=pi(),t!==null&&(oc(t,1,e),Ii(t,e));break}}t=t.return}}function GP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=pi(),e.pingedLanes|=e.suspendedLanes&r,Un===e&&(Kn&r)===r&&(An===4||An===3&&(Kn&130023424)===Kn&&500>bn()-I_?wl(e,0):P_|=r),Ii(e,t)}function _C(e,t){t===0&&(e.mode&1?(t=ap,ap<<=1,!(ap&130023424)&&(ap=4194304)):t=1);var r=pi();e=Ks(e,t),e!==null&&(oc(e,t,r),Ii(e,r))}function HP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_C(e,r)}function VP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Dt(314))}n!==null&&n.delete(t),_C(e,r)}var bC;bC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ni.current)Oi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Oi=!1,OP(e,t,r);Oi=!!(e.flags&131072)}else Oi=!1,rn&&t.flags&1048576&&wS(t,Wp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Dp(e,t),e=t.pendingProps;var a=qu(t,ni.current);Xu(t,r),a=A_(null,t,n,e,a,r);var s=T_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(n)?(s=!0,jp(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,S_(t),a.updater=s0,t.stateNode=a,a._reactInternals=t,U1(t,n,e,r),t=W1(null,t,n,!0,s,r)):(t.tag=0,rn&&s&&g_(t),hi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Dp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=KP(n),e=Ba(n,e),a){case 0:t=R1(null,t,n,e,r);break e;case 1:t=c3(null,t,n,e,r);break e;case 11:t=f3(null,t,n,e,r);break e;case 14:t=d3(null,t,n,Ba(n.type,e),r);break e}throw Error(Dt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ba(n,a),R1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ba(n,a),c3(e,t,n,a,r);case 3:e:{if(rC(t),e===null)throw Error(Dt(387));n=t.pendingProps,s=t.memoizedState,a=s.element,DS(e,t),Vp(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=rf(Error(Dt(423)),t),t=h3(e,t,n,r,a);break e}else if(n!==a){a=rf(Error(Dt(424)),t),t=h3(e,t,n,r,a);break e}else for(Vi=Mo(t.stateNode.containerInfo.firstChild),Yi=t,rn=!0,ja=null,r=LS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ju(),n===a){t=Zs(e,t,r);break e}hi(e,t,n,r)}t=t.child}return t;case 5:return kS(t),e===null&&z1(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,k1(n,a)?o=null:s!==null&&k1(n,s)&&(t.flags|=32),tC(e,t),hi(e,t,o,r),t.child;case 6:return e===null&&z1(t),null;case 13:return nC(e,t,r);case 4:return C_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ef(t,null,n,r):hi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ba(n,a),f3(e,t,n,a,r);case 7:return hi(e,t,t.pendingProps,r),t.child;case 8:return hi(e,t,t.pendingProps.children,r),t.child;case 12:return hi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Kr(Gp,n._currentValue),n._currentValue=o,s!==null)if(Ga(s.value,o)){if(s.children===a.children&&!Ni.current){t=Zs(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Hs(-1,r&-r),u.tag=2;var g=s.updateQueue;if(g!==null){g=g.shared;var p=g.pending;p===null?u.next=u:(u.next=p.next,p.next=u),g.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),F1(s.return,r,t),l.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Dt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),F1(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Xu(t,r),a=da(a),n=n(a),t.flags|=1,hi(e,t,n,r),t.child;case 14:return n=t.type,a=Ba(n,t.pendingProps),a=Ba(n.type,a),d3(e,t,n,a,r);case 15:return JS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ba(n,a),Dp(e,t),t.tag=1,Pi(n)?(e=!0,jp(t)):e=!1,Xu(t,r),AS(t,n,a),U1(t,n,a,r),W1(null,t,n,!0,e,r);case 19:return iC(e,t,r);case 22:return eC(e,t,r)}throw Error(Dt(156,t.tag))};function yC(e,t){return Y3(e,t)}function YP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(e,t,r,n){return new YP(e,t,r,n)}function U_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KP(e){if(typeof e=="function")return U_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i_)return 11;if(e===a_)return 14}return 2}function ko(e,t){var r=e.alternate;return r===null?(r=ua(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tp(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")U_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pu:return Sl(r.children,a,s,t);case n_:o=8,a|=8;break;case u1:return e=ua(12,r,t,a|2),e.elementType=u1,e.lanes=s,e;case f1:return e=ua(13,r,t,a),e.elementType=f1,e.lanes=s,e;case d1:return e=ua(19,r,t,a),e.elementType=d1,e.lanes=s,e;case T3:return f0(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M3:o=10;break e;case A3:o=9;break e;case i_:o=11;break e;case a_:o=14;break e;case _o:o=16,n=null;break e}throw Error(Dt(130,e==null?e:typeof e,""))}return t=ua(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Sl(e,t,r,n){return e=ua(7,e,n,t),e.lanes=r,e}function f0(e,t,r,n){return e=ua(22,e,n,t),e.elementType=T3,e.lanes=r,e.stateNode={isHidden:!1},e}function s1(e,t,r){return e=ua(6,e,null,t),e.lanes=r,e}function o1(e,t,r){return t=ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZP(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hv(0),this.expirationTimes=Hv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function j_(e,t,r,n,a,s,o,l,u){return e=new ZP(e,t,r,l,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ua(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},S_(s),e}function XP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function xC(e){if(!e)return No;e=e._reactInternals;e:{if(Ll(e)!==e||e.tag!==1)throw Error(Dt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Dt(171))}if(e.tag===1){var r=e.type;if(Pi(r))return yS(e,r,t)}return t}function wC(e,t,r,n,a,s,o,l,u){return e=j_(r,n,!0,e,a,s,o,l,u),e.context=xC(null),r=e.current,n=pi(),a=Lo(r),s=Hs(n,a),s.callback=t??null,Ao(r,s,a),e.current.lanes=a,oc(e,a,n),Ii(e,n),e}function d0(e,t,r,n){var a=t.current,s=pi(),o=Lo(a);return r=xC(r),t.context===null?t.context=r:t.pendingContext=r,t=Hs(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ao(a,t,o),e!==null&&(Wa(e,a,o,s),Sp(e,a,o)),o}function Jp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function S3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function R_(e,t){S3(e,t),(e=e.alternate)&&S3(e,t)}function $P(){return null}var SC=typeof reportError=="function"?reportError:function(e){console.error(e)};function W_(e){this._internalRoot=e}c0.prototype.render=W_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Dt(409));d0(e,t,null,null)};c0.prototype.unmount=W_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Al(function(){d0(null,e,null,null)}),t[Ys]=null}};function c0(e){this._internalRoot=e}c0.prototype.unstable_scheduleHydration=function(e){if(e){var t=J3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yo.length&&t!==0&&t<yo[r].priority;r++);yo.splice(r,0,e),r===0&&tS(e)}};function G_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C3(){}function QP(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var g=Jp(o);s.call(g)}}var o=wC(t,n,e,0,null,!1,!1,"",C3);return e._reactRootContainer=o,e[Ys]=o.current,qd(e.nodeType===8?e.parentNode:e),Al(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var g=Jp(u);l.call(g)}}var u=j_(e,0,!1,null,null,!1,!1,"",C3);return e._reactRootContainer=u,e[Ys]=u.current,qd(e.nodeType===8?e.parentNode:e),Al(function(){d0(t,u,r,n)}),u}function p0(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var u=Jp(o);l.call(u)}}d0(t,o,e,a)}else o=QP(r,t,e,a,n);return Jp(o)}Q3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nd(t.pendingLanes);r!==0&&(l_(t,r|1),Ii(t,bn()),!(Dr&6)&&(nf=bn()+500,zo()))}break;case 13:Al(function(){var n=Ks(e,1);if(n!==null){var a=pi();Wa(n,e,1,a)}}),R_(e,1)}};u_=function(e){if(e.tag===13){var t=Ks(e,134217728);if(t!==null){var r=pi();Wa(t,e,134217728,r)}R_(e,134217728)}};q3=function(e){if(e.tag===13){var t=Lo(e),r=Ks(e,t);if(r!==null){var n=pi();Wa(r,e,t,n)}R_(e,t)}};J3=function(){return Fr};eS=function(e,t){var r=Fr;try{return Fr=e,t()}finally{Fr=r}};x1=function(e,t,r){switch(t){case"input":if(p1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=i0(n);if(!a)throw Error(Dt(90));k3(n),p1(n,a)}}}break;case"textarea":N3(e,r);break;case"select":t=r.value,t!=null&&Vu(e,!!r.multiple,t,!1)}};j3=z_;R3=Al;var qP={usingClientEntryPoint:!1,Events:[uc,Bu,i0,B3,U3,z_]},Td={findFiberByHostInstance:bl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JP={bundleType:Td.bundleType,version:Td.version,rendererPackageName:Td.rendererPackageName,rendererConfig:Td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=H3(e),e===null?null:e.stateNode},findFiberByHostInstance:Td.findFiberByHostInstance||$P,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Ld.isDisabled&&Ld.supportsFiber))try{e0=Ld.inject(JP),ls=Ld}catch{}var Ld;Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qP;Xi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G_(t))throw Error(Dt(200));return XP(e,t,null,r)};Xi.createRoot=function(e,t){if(!G_(e))throw Error(Dt(299));var r=!1,n="",a=SC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=j_(e,1,!1,null,null,r,!1,n,a),e[Ys]=t.current,qd(e.nodeType===8?e.parentNode:e),new W_(t)};Xi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Dt(188)):(e=Object.keys(e).join(","),Error(Dt(268,e)));return e=H3(t),e=e===null?null:e.stateNode,e};Xi.flushSync=function(e){return Al(e)};Xi.hydrate=function(e,t,r){if(!h0(t))throw Error(Dt(200));return p0(null,e,t,!0,r)};Xi.hydrateRoot=function(e,t,r){if(!G_(e))throw Error(Dt(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=SC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=wC(t,null,e,1,r??null,a,!1,s,o),e[Ys]=t.current,qd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new c0(t)};Xi.render=function(e,t,r){if(!h0(t))throw Error(Dt(200));return p0(null,e,t,!1,r)};Xi.unmountComponentAtNode=function(e){if(!h0(e))throw Error(Dt(40));return e._reactRootContainer?(Al(function(){p0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ys]=null})}),!0):!1};Xi.unstable_batchedUpdates=z_;Xi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!h0(r))throw Error(Dt(200));if(e==null||e._reactInternals===void 0)throw Error(Dt(38));return p0(e,t,r,!1,n)};Xi.version="18.2.0-next-9e3b772b8-20220608"});var MC=Fn((mj,DC)=>{"use strict";function EC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EC)}catch(e){console.error(e)}}EC(),DC.exports=CC()});var TC=Fn(H_=>{"use strict";var AC=MC();H_.createRoot=AC.createRoot,H_.hydrateRoot=AC.hydrateRoot;var gj});var LC=Fn((exports,module)=>{(function(t,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define([],r):typeof exports=="object"?exports["3Dmol"]=r():t["3Dmol"]=r()})(exports,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{IOBuffer:()=>l});var n=r("./node_modules/iobuffer/lib-esm/text.browser.js");let a=1024*8,s=(()=>{let u=new Uint8Array(4),g=new Uint32Array(u.buffer);return!((g[0]=1)&u[0])})(),o={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class l{constructor(g=a,p={}){let _=!1;typeof g=="number"?g=new ArrayBuffer(g):(_=!0,this.lastWrittenByte=g.byteLength);let x=p.offset?p.offset>>>0:0,S=g.byteLength-x,w=x;(ArrayBuffer.isView(g)||g instanceof l)&&(g.byteLength!==g.buffer.byteLength&&(w=g.byteOffset+x),g=g.buffer),_?this.lastWrittenByte=S:this.lastWrittenByte=0,this.buffer=g,this.length=S,this.byteLength=S,this.byteOffset=w,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,w,S),this._mark=0,this._marks=[]}available(g=1){return this.offset+g<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(g=1){return this.offset+=g,this}back(g=1){return this.offset-=g,this}seek(g){return this.offset=g,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let g=this._marks.pop();if(g===void 0)throw new Error("Mark stack empty");return this.seek(g),this}rewind(){return this.offset=0,this}ensureAvailable(g=1){if(!this.available(g)){let _=(this.offset+g)*2,x=new Uint8Array(_);x.set(new Uint8Array(this.buffer)),this.buffer=x.buffer,this.length=this.byteLength=_,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(g=1){return this.readArray(g,"uint8")}readArray(g,p){let _=o[p].BYTES_PER_ELEMENT*g,x=this.byteOffset+this.offset,S=this.buffer.slice(x,x+_);if(this.littleEndian===s&&p!=="uint8"&&p!=="int8"){let c=new Uint8Array(this.buffer.slice(x,x+_));c.reverse();let v=new o[p](c.buffer);return this.offset+=_,v.reverse(),v}let w=new o[p](S);return this.offset+=_,w}readInt16(){let g=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,g}readUint16(){let g=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,g}readInt32(){let g=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,g}readUint32(){let g=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,g}readFloat32(){let g=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,g}readFloat64(){let g=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,g}readBigInt64(){let g=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,g}readBigUint64(){let g=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,g}readChar(){return String.fromCharCode(this.readInt8())}readChars(g=1){let p="";for(let _=0;_<g;_++)p+=this.readChar();return p}readUtf8(g=1){return(0,n.decode)(this.readBytes(g))}decodeText(g=1,p="utf-8"){return(0,n.decode)(this.readBytes(g),p)}writeBoolean(g){return this.writeUint8(g?255:0),this}writeInt8(g){return this.ensureAvailable(1),this._data.setInt8(this.offset++,g),this._updateLastWrittenByte(),this}writeUint8(g){return this.ensureAvailable(1),this._data.setUint8(this.offset++,g),this._updateLastWrittenByte(),this}writeByte(g){return this.writeUint8(g)}writeBytes(g){this.ensureAvailable(g.length);for(let p=0;p<g.length;p++)this._data.setUint8(this.offset++,g[p]);return this._updateLastWrittenByte(),this}writeInt16(g){return this.ensureAvailable(2),this._data.setInt16(this.offset,g,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(g){return this.ensureAvailable(2),this._data.setUint16(this.offset,g,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(g){return this.ensureAvailable(4),this._data.setInt32(this.offset,g,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(g){return this.ensureAvailable(4),this._data.setUint32(this.offset,g,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(g){return this.ensureAvailable(4),this._data.setFloat32(this.offset,g,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(g){return this.ensureAvailable(8),this._data.setFloat64(this.offset,g,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(g){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,g,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(g){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,g,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(g){return this.writeUint8(g.charCodeAt(0))}writeChars(g){for(let p=0;p<g.length;p++)this.writeUint8(g.charCodeAt(p));return this}writeUtf8(g){return this.writeBytes((0,n.encode)(g))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){"use strict";(function(e){"use strict";if(e.TextEncoder&&e.TextDecoder)return!1;function t(n="utf-8"){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${n}') is invalid.`)}Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let s=0,o=n.length,l=[],u=0,g=Math.max(32,o+(o>>1)+7),p=new Uint8Array(g>>3<<3);for(;s<o;){let _=n.charCodeAt(s++);if(_>=55296&&_<=56319){if(s<o){let x=n.charCodeAt(s);(x&64512)===56320&&(++s,_=((_&1023)<<10)+(x&1023)+65536)}if(_>=55296&&_<=56319)continue}if(u+4>p.length){g+=8,g*=1+s/n.length*2,g=g>>3<<3;let x=new Uint8Array(g);x.set(p),p=x}if(_&4294967168)if(!(_&4294965248))p[u++]=_>>6&31|192;else if(!(_&4294901760))p[u++]=_>>12&15|224,p[u++]=_>>6&63|128;else if(!(_&4292870144))p[u++]=_>>18&7|240,p[u++]=_>>12&63|128,p[u++]=_>>6&63|128;else continue;else{p[u++]=_;continue}p[u++]=_&63|128}return p.slice(0,u)};function r(n="utf-8",a={fatal:!1}){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${n}') is invalid.`);if(a.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");let s=new Uint8Array(n),o=0,l=s.length,u=[];for(;o<l;){let g=s[o++];if(g===0)break;if(!(g&128))u.push(g);else if((g&224)===192){let p=s[o++]&63;u.push((g&31)<<6|p)}else if((g&240)===224){let p=s[o++]&63,_=s[o++]&63;u.push((g&31)<<12|p<<6|_)}else if((g&248)===240){let p=s[o++]&63,_=s[o++]&63,x=s[o++]&63,S=(g&7)<<18|p<<12|_<<6|x;S>65535&&(S-=65536,u.push(S>>>10&1023|55296),S=56320|S&1023),u.push(S)}}return String.fromCharCode.apply(null,u)},e.TextEncoder=t,e.TextDecoder=r})(typeof window<"u"?window:typeof self<"u"?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>s,encode:()=>l});var n=r("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js"),a=r.n(n);function s(u,g="utf8"){return new TextDecoder(g).decode(u)}let o=new TextEncoder;function l(u){return o.encode(u)}},"./node_modules/netcdfjs/lib-esm/data.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{nonRecord:()=>a,record:()=>s});var n=r("./node_modules/netcdfjs/lib-esm/types.js");function a(o,l){let u=(0,n.str2num)(l.type),g=l.size/(0,n.num2bytes)(u),p=new Array(g);for(let _=0;_<g;_++)p[_]=(0,n.readType)(o,u,1);return p}function s(o,l,u){let g=(0,n.str2num)(l.type),p=l.size?l.size/(0,n.num2bytes)(g):1,_=u.length,x=new Array(_),S=u.recordStep;if(S)for(let w=0;w<_;w++){let c=o.offset;x[w]=(0,n.readType)(o,g,p),o.seek(c+S)}else throw new Error("recordDimension.recordStep is undefined");return x}},"./node_modules/netcdfjs/lib-esm/header.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{header:()=>p});var n=r("./node_modules/netcdfjs/lib-esm/types.js"),a=r("./node_modules/netcdfjs/lib-esm/utils.js");let s=0,o=10,l=11,u=12,g=0;function p(w,c){let v={version:c},y={length:w.readUint32()},b=_(w);Array.isArray(b)||(y.id=b.recordId,y.name=b.recordName,v.dimensions=b.dimensions),v.globalAttributes=x(w);let C=S(w,y?.id,c);return Array.isArray(C)||(v.variables=C.variables,y.recordStep=C.recordStep),v.recordDimension=y,v}function _(w){let c={},v,y,b=w.readUint32(),C;if(b===s)return(0,a.notNetcdf)(w.readUint32()!==s,"wrong empty tag for list of dimensions"),[];{(0,a.notNetcdf)(b!==o,"wrong tag for list of dimensions");let E=w.readUint32();C=new Array(E);for(let h=0;h<E;h++){let f=(0,a.readName)(w),D=w.readUint32();D===g&&(v=h,y=f),C[h]={name:f,size:D}}}return v!==void 0&&(c.recordId=v),y!==void 0&&(c.recordName=y),c.dimensions=C,c}function x(w){let c=w.readUint32(),v;if(c===s)return(0,a.notNetcdf)(w.readUint32()!==s,"wrong empty tag for list of attributes"),[];{(0,a.notNetcdf)(c!==u,"wrong tag for list of attributes");let y=w.readUint32();v=new Array(y);for(let b=0;b<y;b++){let C=(0,a.readName)(w),E=w.readUint32();(0,a.notNetcdf)(E<1||E>6,`non valid type ${E}`);let h=w.readUint32(),f=(0,n.readType)(w,E,h);(0,a.padding)(w),v[b]={name:C,type:(0,n.num2str)(E),value:f}}}return v}function S(w,c,v){let y=w.readUint32(),b=0,C;if(y===s)return(0,a.notNetcdf)(w.readUint32()!==s,"wrong empty tag for list of variables"),[];{(0,a.notNetcdf)(y!==l,"wrong tag for list of variables");let E=w.readUint32();C=new Array(E);for(let h=0;h<E;h++){let f=(0,a.readName)(w),D=w.readUint32(),M=new Array(D);for(let H=0;H<D;H++)M[H]=w.readUint32();let N=x(w),k=w.readUint32();(0,a.notNetcdf)(k<1&&k>6,`non valid type ${k}`);let z=w.readUint32(),O=w.readUint32();v===2&&((0,a.notNetcdf)(O>0,"offsets larger than 4GB not supported"),O=w.readUint32());let I=!1;typeof c<"u"&&M[0]===c&&(b+=z,I=!0),C[h]={name:f,dimensions:M,attributes:N,type:(0,n.num2str)(k),size:z,offset:O,record:I}}}return{variables:C,recordStep:b}}},"./node_modules/netcdfjs/lib-esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NetCDFReader:()=>n.NetCDFReader});var n=r("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NetCDFReader:()=>u});var n=r("./node_modules/iobuffer/lib-esm/IOBuffer.js"),a=r("./node_modules/netcdfjs/lib-esm/data.js"),s=r("./node_modules/netcdfjs/lib-esm/header.js"),o=r("./node_modules/netcdfjs/lib-esm/toString.js"),l=r("./node_modules/netcdfjs/lib-esm/utils.js");class u{constructor(p){this.toString=o.toString;let _=new n.IOBuffer(p);_.setBigEndian(),(0,l.notNetcdf)(_.readChars(3)!=="CDF","should start with CDF");let x=_.readByte();(0,l.notNetcdf)(x>2,"unknown version"),this.header=(0,s.header)(_,x),this.buffer=_}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(p){let _=this.globalAttributes.find(x=>x.name===p);return _?_.value:null}getDataVariableAsString(p){let _=this.getDataVariable(p);return _?_.join(""):null}get variables(){return this.header.variables}getDataVariable(p){let _;if(typeof p=="string"?_=this.header.variables.find(x=>x.name===p):_=p,_===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(_.offset),_.record?(0,a.record)(this.buffer,_,this.header.recordDimension):(0,a.nonRecord)(this.buffer,_)}dataVariableExists(p){return this.header.variables.find(x=>x.name===p)!==void 0}attributeExists(p){return this.globalAttributes.find(x=>x.name===p)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{toString:()=>n});function n(){let a=[];a.push("DIMENSIONS");for(let o of this.dimensions)a.push(`  ${o.name.padEnd(30)} = size: ${o.size}`);a.push(""),a.push("GLOBAL ATTRIBUTES");for(let o of this.globalAttributes)a.push(`  ${o.name.padEnd(30)} = ${o.value}`);let s=JSON.parse(JSON.stringify(this.variables));a.push(""),a.push("VARIABLES:");for(let o of s){o.value=this.getDataVariable(o);let l=JSON.stringify(o.value);l.length>50&&(l=l.substring(0,50)),isNaN(o.value.length)||(l+=` (length: ${o.value.length})`),a.push(`  ${o.name.padEnd(30)} = ${l}`)}return a.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{num2bytes:()=>s,num2str:()=>a,readType:()=>u,str2num:()=>o});let n={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function a(p){switch(Number(p)){case n.BYTE:return"byte";case n.CHAR:return"char";case n.SHORT:return"short";case n.INT:return"int";case n.FLOAT:return"float";case n.DOUBLE:return"double";default:return"undefined"}}function s(p){switch(Number(p)){case n.BYTE:return 1;case n.CHAR:return 1;case n.SHORT:return 2;case n.INT:return 4;case n.FLOAT:return 4;case n.DOUBLE:return 8;default:return-1}}function o(p){switch(String(p)){case"byte":return n.BYTE;case"char":return n.CHAR;case"short":return n.SHORT;case"int":return n.INT;case"float":return n.FLOAT;case"double":return n.DOUBLE;default:return-1}}function l(p,_){if(p!==1){let x=new Array(p);for(let S=0;S<p;S++)x[S]=_();return x}else return _()}function u(p,_,x){switch(_){case n.BYTE:return Array.from(p.readBytes(x));case n.CHAR:return g(p.readChars(x));case n.SHORT:return l(x,p.readInt16.bind(p));case n.INT:return l(x,p.readInt32.bind(p));case n.FLOAT:return l(x,p.readFloat32.bind(p));case n.DOUBLE:return l(x,p.readFloat64.bind(p));default:throw new Error(`non valid type ${_}`)}}function g(p){return p.charCodeAt(p.length-1)===0?p.substring(0,p.length-1):p}},"./node_modules/netcdfjs/lib-esm/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{notNetcdf:()=>n,padding:()=>a,readName:()=>s});function n(o,l){if(o)throw new TypeError(`Not a valid NetCDF v3.x file: ${l}`)}function a(o){o.offset%4!==0&&o.skip(4-o.offset%4)}function s(o){let l=o.readUint32(),u=o.readChars(l);return a(o),u}},"./src/WebGL/shaders/lib/basic/basic.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/instanced/instanced.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambert/lambert.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/outline/outline.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    gl_Position = projectionMatrix * mvPosition;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/screen/screen.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;

// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0

vec4 applyFXAA(vec2 fragCoord, sampler2D tex)
{
    vec4 color;
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;
    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;
    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;
    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;
    vec3 rgbM  = texture2D(tex, fragCoord  * inverseVP).xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5).xyz +
        texture2D(tex, fragCoord  + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, 1.0);
    else
        color = vec4(rgbB, 1.0);
    return color;
}
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    gl_FragColor = vec4(vLight*vColor, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );


}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);
    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+adjust;
}

`},"./src/WebGL/shaders/lib/sprite/sprite.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform int fogType;
uniform vec3 fogColor;
uniform float fogDensity;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a < alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogType > 0) {

        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = 0.0;

        if (fogType == 1) {
            fogFactor = smoothstep(fogNear, fogFar, depth);
        }

        else {
            const float LOG2 = 1.442695;
            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);
            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);
        }

        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    gl_FragColor = vec4(light*color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
    mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    to.xyz += normalize(to.xyz)*outlinePushback;
    pt.xyz += normalize(pt.xyz)*outlinePushback;

    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/GLDraw.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CAP:()=>a,GLDraw:()=>s});var n=r("./src/WebGL/math/index.ts"),a;(function(o){o[o.NONE=0]="NONE",o[o.FLAT=1]="FLAT",o[o.ROUND=2]="ROUND"})(a||(a={}));var s;(function(o){function l(c,v,y){var b=Math.hypot(c,v),C,E,h,f,D;b<1e-4?(E=0,h=1):(E=-c/b,h=v/b),v=-E*c+h*v,C=Math.hypot(v,y),C<1e-4?(f=0,D=1):(f=y/C,D=v/C);var M=new Float32Array(9);return M[0]=h,M[1]=E,M[2]=0,M[3]=-E*D,M[4]=h*D,M[5]=f,M[6]=E*f,M[7]=-h*f,M[8]=D,M}class u{constructor(){this.cache={};let v=[],y=4,b=Math.pow(2,y),C=2,E=Math.pow(2,C),h=b/E,f;for(v[0]=new n.Vector3(-1,0,0),v[h]=new n.Vector3(0,0,1),v[h*2]=new n.Vector3(1,0,0),v[h*3]=new n.Vector3(0,0,-1),C=3;C<=y;C++){for(E=Math.pow(2,C-1),h=b/E,f=0;f<E-1;f++)v[h/2+f*h]=v[f*h].clone().add(v[(f+1)*h]).normalize();f=E-1,v[h/2+f*h]=v[f*h].clone().add(v[0]).normalize()}this.basisVectors=v}getVerticesForRadius(v,y,b){if(typeof this.cache<"u"&&this.cache[v]!==void 0&&this.cache[v][y+b]!==void 0)return this.cache[v][y+b];for(var C=this.basisVectors.length,E=[],h=[],f,D=0;D<C;D++)E.push(this.basisVectors[D].clone().multiplyScalar(v)),E.push(this.basisVectors[D].clone().multiplyScalar(v)),f=this.basisVectors[D].clone().normalize(),h.push(f),h.push(f);var M=[],N=10,k=C;if(N%2!==0||!N)return console.error("heightSegments must be even"),null;var z=0,O=Math.PI*2,I=0,H=Math.PI,Y,q,G=!1,$=!1;for(q=0;q<=N;q++){G=q===0||q===N,$=q===N/2;var R=[],V=[];for(Y=0;Y<=k;Y++){if($){var X=Y<k?2*Y:0;V.push(X+1),R.push(X);continue}var Q=Y/k,te=q/N;if(!G||Y===0)if(Y<k){var we=new n.Vector3;we.x=-v*Math.cos(z+Q*O)*Math.sin(I+te*H),y==1?we.y=0:we.y=v*Math.cos(I+te*H),we.z=v*Math.sin(z+Q*O)*Math.sin(I+te*H),Math.abs(we.x)<1e-5&&(we.x=0),Math.abs(we.y)<1e-5&&(we.y=0),Math.abs(we.z)<1e-5&&(we.z=0),y==a.FLAT?(f=new n.Vector3(0,Math.cos(I+te*H),0),f.normalize()):(f=new n.Vector3(we.x,we.y,we.z),f.normalize()),E.push(we),h.push(f),R.push(E.length-1)}else R.push(E.length-k);else G&&R.push(E.length-1)}$&&M.push(V),M.push(R)}var Pe={vertices:E,normals:h,verticesRows:M,w:k,h:N};return v in this.cache||(this.cache[v]={}),this.cache[v][y+b]=Pe,Pe}}var g=new u;function p(c,v,y,b,C,E=0,h=0){if(!(!v||!y)){var f=h||E;C=C||{r:0,g:0,b:0};var D=l(y.x-v.x,y.y-v.y,y.z-v.z),M=g.getVerticesForRadius(b,h,"to"),N=M.w,k=M.h,z=f?k*N+2:2*N,O=c.updateGeoGroup(z),I=M.vertices,H=M.normals,Y=M.verticesRows,q=Y[k/2],G=Y[k/2+1],$=O.vertices,R,V,X,Q,te,we,Pe=O.vertexArray,xe=O.normalArray,Fe=O.colorArray,Ae=O.faceArray;for(X=0;X<N;++X){var be=2*X;Q=D[0]*I[be].x+D[3]*I[be].y+D[6]*I[be].z,te=D[1]*I[be].x+D[4]*I[be].y+D[7]*I[be].z,we=D[5]*I[be].y+D[8]*I[be].z,R=3*($+be),V=O.faceidx,Pe[R]=Q+v.x,Pe[R+1]=te+v.y,Pe[R+2]=we+v.z,Pe[R+3]=Q+y.x,Pe[R+4]=te+y.y,Pe[R+5]=we+y.z,xe[R]=Q,xe[R+3]=Q,xe[R+1]=te,xe[R+4]=te,xe[R+2]=we,xe[R+5]=we,Fe[R]=C.r,Fe[R+3]=C.r,Fe[R+1]=C.g,Fe[R+4]=C.g,Fe[R+2]=C.b,Fe[R+5]=C.b,Ae[V]=G[X]+$,Ae[V+1]=G[X+1]+$,Ae[V+2]=q[X]+$,Ae[V+3]=q[X]+$,Ae[V+4]=G[X+1]+$,Ae[V+5]=q[X+1]+$,O.faceidx+=6}if(f){var Qe=h?0:k/2,Xe=E?k+1:k/2+1,U,pe,_e,ie,de,ye,je,Be,Ce,Ie,Re,Ke,Ne,pt,yt,le,ue,ge,$e,Oe,at,lt,se,Ge,Je,mt,Le,ut,oe,dt,At,W;for(te=Qe;te<Xe;te++)if(te!==k/2){var Ve=te<=k/2?y:v,Ye=g.getVerticesForRadius(b,h,"to"),ce=g.getVerticesForRadius(b,E,"from");for(Ve===y?(I=Ye.vertices,H=Ye.normals,Y=Ye.verticesRows):Ve==v&&(I=ce.vertices,H=ce.normals,Y=ce.verticesRows),Q=0;Q<N;Q++)V=O.faceidx,U=Y[te][Q+1],oe=(U+$)*3,pe=Y[te][Q],dt=(pe+$)*3,_e=Y[te+1][Q],At=(_e+$)*3,ie=Y[te+1][Q+1],W=(ie+$)*3,de=D[0]*I[U].x+D[3]*I[U].y+D[6]*I[U].z,ye=D[0]*I[pe].x+D[3]*I[pe].y+D[6]*I[pe].z,je=D[0]*I[_e].x+D[3]*I[_e].y+D[6]*I[_e].z,Be=D[0]*I[ie].x+D[3]*I[ie].y+D[6]*I[ie].z,Ce=D[1]*I[U].x+D[4]*I[U].y+D[7]*I[U].z,Ie=D[1]*I[pe].x+D[4]*I[pe].y+D[7]*I[pe].z,Re=D[1]*I[_e].x+D[4]*I[_e].y+D[7]*I[_e].z,Ke=D[1]*I[ie].x+D[4]*I[ie].y+D[7]*I[ie].z,Ne=D[5]*I[U].y+D[8]*I[U].z,pt=D[5]*I[pe].y+D[8]*I[pe].z,yt=D[5]*I[_e].y+D[8]*I[_e].z,le=D[5]*I[ie].y+D[8]*I[ie].z,Pe[oe]=de+Ve.x,Pe[dt]=ye+Ve.x,Pe[At]=je+Ve.x,Pe[W]=Be+Ve.x,Pe[oe+1]=Ce+Ve.y,Pe[dt+1]=Ie+Ve.y,Pe[At+1]=Re+Ve.y,Pe[W+1]=Ke+Ve.y,Pe[oe+2]=Ne+Ve.z,Pe[dt+2]=pt+Ve.z,Pe[At+2]=yt+Ve.z,Pe[W+2]=le+Ve.z,Fe[oe]=C.r,Fe[dt]=C.r,Fe[At]=C.r,Fe[W]=C.r,Fe[oe+1]=C.g,Fe[dt+1]=C.g,Fe[At+1]=C.g,Fe[W+1]=C.g,Fe[oe+2]=C.b,Fe[dt+2]=C.b,Fe[At+2]=C.b,Fe[W+2]=C.b,ue=D[0]*H[U].x+D[3]*H[U].y+D[6]*H[U].z,ge=D[0]*H[pe].x+D[3]*H[pe].y+D[6]*H[pe].z,$e=D[0]*H[_e].x+D[3]*H[_e].y+D[6]*H[_e].z,Oe=D[0]*H[ie].x+D[3]*H[ie].y+D[6]*H[ie].z,at=D[1]*H[U].x+D[4]*H[U].y+D[7]*H[U].z,lt=D[1]*H[pe].x+D[4]*H[pe].y+D[7]*H[pe].z,se=D[1]*H[_e].x+D[4]*H[_e].y+D[7]*H[_e].z,Ge=D[1]*H[ie].x+D[4]*H[ie].y+D[7]*H[ie].z,Je=D[5]*H[U].y+D[8]*H[U].z,mt=D[5]*H[pe].y+D[8]*H[pe].z,Le=D[5]*H[_e].y+D[8]*H[_e].z,ut=D[5]*H[ie].y+D[8]*H[ie].z,te===0?(xe[oe]=ue,xe[At]=$e,xe[W]=Oe,xe[oe+1]=at,xe[At+1]=se,xe[W+1]=Ge,xe[oe+2]=Je,xe[At+2]=Le,xe[W+2]=ut,Ae[V]=U+$,Ae[V+1]=_e+$,Ae[V+2]=ie+$,O.faceidx+=3):te===Xe-1?(xe[oe]=ue,xe[dt]=ge,xe[At]=$e,xe[oe+1]=at,xe[dt+1]=lt,xe[At+1]=se,xe[oe+2]=Je,xe[dt+2]=mt,xe[At+2]=Le,Ae[V]=U+$,Ae[V+1]=pe+$,Ae[V+2]=_e+$,O.faceidx+=3):(xe[oe]=ue,xe[dt]=ge,xe[W]=Oe,xe[oe+1]=at,xe[dt+1]=lt,xe[W+1]=Ge,xe[oe+2]=Je,xe[dt+2]=mt,xe[W+2]=ut,xe[dt]=ge,xe[At]=$e,xe[W]=Oe,xe[dt+1]=lt,xe[At+1]=se,xe[W+1]=Ge,xe[dt+2]=mt,xe[At+2]=Le,xe[W+2]=ut,Ae[V]=U+$,Ae[V+1]=pe+$,Ae[V+2]=ie+$,Ae[V+3]=pe+$,Ae[V+4]=_e+$,Ae[V+5]=ie+$,O.faceidx+=6)}}O.vertices+=z}}o.drawCylinder=p;function _(c,v,y,b,C){if(!v||!y)return;C=C||{r:0,g:0,b:0};let E=new n.Vector3(y.x-v.x,y.y-v.y,y.z-v.z);var h=l(E.x,E.y,E.z);E=E.normalize();var f=g.basisVectors.length,D=g.basisVectors,M=f+2,N=c.updateGeoGroup(M),k=N.vertices,z,O,I,H,Y,q,G=N.vertexArray,$=N.normalArray,R=N.colorArray,V=N.faceArray;for(z=k*3,G[z]=v.x,G[z+1]=v.y,G[z+2]=v.z,$[z]=-E.x,$[z+1]=-E.y,$[z+2]=-E.z,R[z]=C.r,R[z+1]=C.g,R[z+2]=C.b,G[z+3]=y.x,G[z+4]=y.y,G[z+5]=y.z,$[z+3]=E.x,$[z+4]=E.y,$[z+5]=E.z,R[z+3]=C.r,R[z+4]=C.g,R[z+5]=C.b,z+=6,I=0;I<f;++I){var X=D[I].clone();X.multiplyScalar(b),H=h[0]*X.x+h[3]*X.y+h[6]*X.z,Y=h[1]*X.x+h[4]*X.y+h[7]*X.z,q=h[5]*X.y+h[8]*X.z,G[z]=H+v.x,G[z+1]=Y+v.y,G[z+2]=q+v.z,$[z]=H,$[z+1]=Y,$[z+2]=q,R[z]=C.r,R[z+1]=C.g,R[z+2]=C.b,z+=3}for(N.vertices+=f+2,O=N.faceidx,I=0;I<f;I++){var Q=k+2+I,te=k+2+(I+1)%f;V[O]=Q,V[O+1]=te,V[O+2]=k,O+=3,V[O]=Q,V[O+1]=te,V[O+2]=k+1,O+=3}N.faceidx+=6*f}o.drawCone=_;class x{constructor(){this.cache=new Map}getVerticesForRadius(v,y){y=y||2,this.cache.has(y)||this.cache.set(y,new Map);let b=this.cache.get(y);if(b.has(v))return b.get(v);var C={vertices:[],verticesRows:[],normals:[]},E=16*y,h=10*y;v<1&&(E=10*y,h=8*y);var f=0,D=Math.PI*2,M=0,N=Math.PI,k,z;for(z=0;z<=h;z++){let I=[];for(k=0;k<=E;k++){let H=k/E,Y=z/h,q=-v*Math.cos(f+H*D)*Math.sin(M+Y*N),G=v*Math.cos(M+Y*N),$=v*Math.sin(f+H*D)*Math.sin(M+Y*N);var O=new n.Vector3(q,G,$);O.normalize(),C.vertices.push({x:q,y:G,z:$}),C.normals.push(O),I.push(C.vertices.length-1)}C.verticesRows.push(I)}return b.set(v,C),C}}var S=new x;function w(c,v,y,b,C){var E=S.getVerticesForRadius(y,C),h=E.vertices,f=E.normals,D=c.updateGeoGroup(h.length),M=D.vertices,N=D.vertexArray,k=D.colorArray,z=D.faceArray,O=D.lineArray,I=D.normalArray;for(let q=0,G=h.length;q<G;++q){let $=3*(M+q),R=h[q];N[$]=R.x+v.x,N[$+1]=R.y+v.y,N[$+2]=R.z+v.z,k[$]=b.r,k[$+1]=b.g,k[$+2]=b.b}D.vertices+=h.length;let H=E.verticesRows,Y=H.length-1;for(let q=0;q<Y;q++){let G=H[q].length-1;for(let $=0;$<G;$++){let R=D.faceidx,V=D.lineidx,X=H[q][$+1]+M,Q=X*3,te=H[q][$]+M,we=te*3,Pe=H[q+1][$]+M,xe=Pe*3,Fe=H[q+1][$+1]+M,Ae=Fe*3,be=f[X-M],Qe=f[te-M],Xe=f[Pe-M],U=f[Fe-M];Math.abs(h[X-M].y)===y?(I[Q]=be.x,I[xe]=Xe.x,I[Ae]=U.x,I[Q+1]=be.y,I[xe+1]=Xe.y,I[Ae+1]=U.y,I[Q+2]=be.z,I[xe+2]=Xe.z,I[Ae+2]=U.z,z[R]=X,z[R+1]=Pe,z[R+2]=Fe,O[V]=X,O[V+1]=Pe,O[V+2]=X,O[V+3]=Fe,O[V+4]=Pe,O[V+5]=Fe,D.faceidx+=3,D.lineidx+=6):Math.abs(h[Pe-M].y)===y?(I[Q]=be.x,I[we]=Qe.x,I[xe]=Xe.x,I[Q+1]=be.y,I[we+1]=Qe.y,I[xe+1]=Xe.y,I[Q+2]=be.z,I[we+2]=Qe.z,I[xe+2]=Xe.z,z[R]=X,z[R+1]=te,z[R+2]=Pe,O[V]=X,O[V+1]=te,O[V+2]=X,O[V+3]=Pe,O[V+4]=te,O[V+5]=Pe,D.faceidx+=3,D.lineidx+=6):(I[Q]=be.x,I[we]=Qe.x,I[Ae]=U.x,I[Q+1]=be.y,I[we+1]=Qe.y,I[Ae+1]=U.y,I[Q+2]=be.z,I[we+2]=Qe.z,I[Ae+2]=U.z,I[we]=Qe.x,I[xe]=Xe.x,I[Ae]=U.x,I[we+1]=Qe.y,I[xe+1]=Xe.y,I[Ae+1]=U.y,I[we+2]=Qe.z,I[xe+2]=Xe.z,I[Ae+2]=U.z,z[R]=X,z[R+1]=te,z[R+2]=Fe,z[R+3]=te,z[R+4]=Pe,z[R+5]=Fe,O[V]=X,O[V+1]=te,O[V+2]=X,O[V+3]=Fe,O[V+4]=te,O[V+5]=Pe,O[V+6]=Pe,O[V+7]=Fe,D.faceidx+=6,D.lineidx+=8)}}}o.drawSphere=w})(s||(s={}))},"./src/GLModel.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLModel:()=>v});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts"),l=r("./src/GLDraw.ts"),u=r("./src/glcartoon.ts"),g=r("./src/utilities.ts"),p=r("./src/Gradient.ts"),_=r("./src/parsers/index.ts"),x=r("./node_modules/netcdfjs/lib-esm/index.js"),S=r("./node_modules/pako/dist/pako.esm.mjs"),w=r("./src/parsers/utils/assignBonds.ts");function c(y){let b;return typeof y=="string"?b=new TextEncoder().encode(y):b=new Uint8Array(y),(0,S.inflate)(b,{to:"string"})}class v{static sameObj(b,C){return b&&C?JSON.stringify(b)==JSON.stringify(C):b==C}constructor(b,C){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new s.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=o.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=C||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:o.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=b}getRadiusFromStyle(b,C){var E=this.defaultSphereRadius;if(typeof C.radius<"u")E=C.radius;else if(v.vdwRadii[b.elem])E=v.vdwRadii[b.elem];else if(b.elem.length>1){let h=b.elem;h=h[0].toUpperCase()+h[1].toLowerCase(),v.vdwRadii[h]&&(E=v.vdwRadii[h])}return typeof C.scale<"u"&&(E*=C.scale),E}drawAtomCross(b,C){if(b.style.cross){var E=b.style.cross;if(!E.hidden){var h=E.linewidth||v.defaultlineWidth;C[h]||(C[h]=new n.Geometry);var f=C[h].updateGeoGroup(6),D=this.getRadiusFromStyle(b,E),M=[[D,0,0],[-D,0,0],[0,D,0],[0,-D,0],[0,0,D],[0,0,-D]],N=b.clickable||b.hoverable;N&&b.intersectionShape===void 0&&(b.intersectionShape={sphere:[],cylinder:[],line:[]});for(var k=(0,g.getColorFromStyle)(b,E),z=f.vertexArray,O=f.colorArray,I=0;I<6;I++){var H=f.vertices*3;if(f.vertices++,z[H]=b.x+M[I][0],z[H+1]=b.y+M[I][1],z[H+2]=b.z+M[I][2],O[H]=k.r,O[H+1]=k.g,O[H+2]=k.b,N){var Y=new s.Vector3(M[I][0],M[I][1],M[I][2]);Y.multiplyScalar(.1),Y.set(Y.x+b.x,Y.y+b.y,Y.z+b.z),b.intersectionShape.line.push(Y)}}}}}getGoodCross(b,C,E,h){for(var f=null,D=-1,M=0,N=b.bonds.length;M<N;M++)if(b.bonds[M]!=C.index){let z=b.bonds[M],O=this.atoms[z],H=new s.Vector3(O.x,O.y,O.z).clone();H.sub(E);let Y=H.clone();Y.cross(h);var k=Y.lengthSq();if(k>D&&(D=k,f=Y,D>.1))return f}return f}getSideBondV(b,C,E){var h,f,D,M,N,k=new s.Vector3(b.x,b.y,b.z),z=new s.Vector3(C.x,C.y,C.z),O=z.clone(),I=null;if(O.sub(k),b.bonds.length===1)C.bonds.length===1?(I=O.clone(),Math.abs(I.x)>1e-4?I.y+=1:I.x+=1):(h=(E+1)%C.bonds.length,f=C.bonds[h],D=this.atoms[f],M=new s.Vector3(D.x,D.y,D.z),N=M.clone(),N.sub(k),I=N.clone(),I.cross(O));else if(I=this.getGoodCross(b,C,k,O),I.lengthSq()<.01){var H=this.getGoodCross(C,b,k,O);H!=null&&(I=H)}return I.lengthSq()<.01&&(I=O.clone(),Math.abs(I.x)>1e-4?I.y+=1:I.x+=1),I.cross(O),I.normalize(),I}addLine(b,C,E,h,f,D){b[E]=h.x,b[E+1]=h.y,b[E+2]=h.z,C[E]=D.r,C[E+1]=D.g,C[E+2]=D.b,b[E+3]=f.x,b[E+4]=f.y,b[E+5]=f.z,C[E+3]=D.r,C[E+4]=D.g,C[E+5]=D.b}drawBondLines(b,C,E){if(b.style.line){var h=b.style.line;if(!h.hidden){var f,D,M,N,k=h.linewidth||v.defaultlineWidth;E[k]||(E[k]=new n.Geometry);for(var z=E[k].updateGeoGroup(6*b.bonds.length),O=z.vertexArray,I=z.colorArray,H=0;H<b.bonds.length;H++){var Y=b.bonds[H],q=C[Y];if(q.style.line&&!(b.index>=q.index)){var G=new s.Vector3(b.x,b.y,b.z),$=new s.Vector3(q.x,q.y,q.z),R=G.clone().add($).multiplyScalar(.5),V=!1,X=b.clickable||b.hoverable,Q=q.clickable||q.hoverable;(X||Q)&&(X&&(b.intersectionShape===void 0&&(b.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),b.intersectionShape.line.push(G),b.intersectionShape.line.push(R)),Q&&(q.intersectionShape===void 0&&(q.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),q.intersectionShape.line.push(R),q.intersectionShape.line.push($)));var te=(0,g.getColorFromStyle)(b,b.style.line),we=(0,g.getColorFromStyle)(q,q.style.line);if(b.bondStyles&&b.bondStyles[H]){var Pe=b.bondStyles[H];if(!Pe.iswire)continue;Pe.singleBond&&(V=!0),typeof Pe.color1<"u"&&(te=o.CC.color(Pe.color1)),typeof Pe.color2<"u"&&(we=o.CC.color(Pe.color2))}var xe=z.vertices*3,Fe,Ae;if(b.bondOrder[H]>1&&b.bondOrder[H]<4&&!V){var be=this.getSideBondV(b,q,H),Qe=$.clone();Qe.sub(G),b.bondOrder[H]==2?(be.multiplyScalar(.1),f=G.clone(),f.add(be),D=G.clone(),D.sub(be),M=f.clone(),M.add(Qe),N=D.clone(),N.add(Qe),te==we?(z.vertices+=4,this.addLine(O,I,xe,f,M,te),this.addLine(O,I,xe+6,D,N,te)):(z.vertices+=8,Qe.multiplyScalar(.5),Fe=f.clone(),Fe.add(Qe),Ae=D.clone(),Ae.add(Qe),this.addLine(O,I,xe,f,Fe,te),this.addLine(O,I,xe+6,Fe,M,we),this.addLine(O,I,xe+12,D,Ae,te),this.addLine(O,I,xe+18,Ae,N,we))):b.bondOrder[H]==3&&(be.multiplyScalar(.1),f=G.clone(),f.add(be),D=G.clone(),D.sub(be),M=f.clone(),M.add(Qe),N=D.clone(),N.add(Qe),te==we?(z.vertices+=6,this.addLine(O,I,xe,G,$,te),this.addLine(O,I,xe+6,f,M,te),this.addLine(O,I,xe+12,D,N,te)):(z.vertices+=12,Qe.multiplyScalar(.5),Fe=f.clone(),Fe.add(Qe),Ae=D.clone(),Ae.add(Qe),this.addLine(O,I,xe,G,R,te),this.addLine(O,I,xe+6,R,$,we),this.addLine(O,I,xe+12,f,Fe,te),this.addLine(O,I,xe+18,Fe,M,we),this.addLine(O,I,xe+24,D,Ae,te),this.addLine(O,I,xe+30,Ae,N,we)))}else te==we?(z.vertices+=2,this.addLine(O,I,xe,G,$,te)):(z.vertices+=4,this.addLine(O,I,xe,G,R,te),this.addLine(O,I,xe+6,R,$,we))}}}}}drawAtomSphere(b,C){if(b.style.sphere){var E=b.style.sphere;if(!E.hidden){var h=(0,g.getColorFromStyle)(b,E),f=this.getRadiusFromStyle(b,E);if((b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var D=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(D,f))}l.GLDraw.drawSphere(C,b,f,h)}}}drawAtomClickSphere(b){if(b.style.clicksphere){var C=b.style.clicksphere;if(!C.hidden){var E=this.getRadiusFromStyle(b,C);if((b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var h=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(h,E))}}}}drawAtomInstanced(b,C){if(b.style.sphere){var E=b.style.sphere;if(!E.hidden){var h=this.getRadiusFromStyle(b,E),f=(0,g.getColorFromStyle)(b,E),D=C.updateGeoGroup(1),M=D.vertices,N=M*3,k=D.vertexArray,z=D.colorArray,O=D.radiusArray;if(k[N]=b.x,k[N+1]=b.y,k[N+2]=b.z,z[N]=f.r,z[N+1]=f.g,z[N+2]=f.b,O[M]=h,(b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var I=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(I,h))}D.vertices+=1}}}drawSphereImposter(b,C,E,h){var f=b.updateGeoGroup(4),D,M=f.vertices,N=M*3,k=f.vertexArray,z=f.colorArray;for(D=0;D<4;D++)k[N+3*D]=C.x,k[N+3*D+1]=C.y,k[N+3*D+2]=C.z;var O=f.normalArray;for(D=0;D<4;D++)z[N+3*D]=h.r,z[N+3*D+1]=h.g,z[N+3*D+2]=h.b;O[N+0]=-E,O[N+1]=E,O[N+2]=0,O[N+3]=-E,O[N+4]=-E,O[N+5]=0,O[N+6]=E,O[N+7]=-E,O[N+8]=0,O[N+9]=E,O[N+10]=E,O[N+11]=0,f.vertices+=4;var I=f.faceArray,H=f.faceidx;I[H+0]=M,I[H+1]=M+1,I[H+2]=M+2,I[H+3]=M+2,I[H+4]=M+3,I[H+5]=M,f.faceidx+=6}drawAtomImposter(b,C){if(b.style.sphere){var E=b.style.sphere;if(!E.hidden){var h=this.getRadiusFromStyle(b,E),f=(0,g.getColorFromStyle)(b,E);if((b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var D=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(D,h))}this.drawSphereImposter(C,b,h,f)}}}static drawStickImposter(b,C,E,h,f){for(var D=b.updateGeoGroup(4),M=D.vertices,N=M*3,k=D.vertexArray,z=D.colorArray,O=D.radiusArray,I=D.normalArray,H=f.r,Y=f.g,q=f.b,G=function(Q){var te=-Q;return te==0&&(te=-1e-4),te},$=N,R=0;R<4;R++)k[$]=C.x,I[$]=E.x,z[$]=H,$++,k[$]=C.y,I[$]=E.y,z[$]=Y,$++,k[$]=C.z,I[$]=E.z,R<2?z[$]=q:z[$]=G(q),$++;D.vertices+=4,O[M]=-h,O[M+1]=h,O[M+2]=-h,O[M+3]=h;var V=D.faceArray,X=D.faceidx;V[X+0]=M,V[X+1]=M+1,V[X+2]=M+2,V[X+3]=M+2,V[X+4]=M+3,V[X+5]=M,D.faceidx+=6}drawBondSticks(b,C,E){if(b.style.stick){var h=b.style.stick;if(!h.hidden){var f=h.radius||this.defaultStickRadius,D=f,M=h.singleBonds||!1,N=0,k=0,z,O,I,H,Y,q,G,$,R,V,X,Q=(0,g.getColorFromStyle)(b,h),te,we,Pe;!b.capDrawn&&b.bonds.length<4&&(N=2);var xe=l.GLDraw.drawCylinder;for(E.imposter&&(xe=v.drawStickImposter),I=0;I<b.bonds.length;I++){var Fe=b.bonds[I],Ae=C[Fe];if(te=we=Pe=null,b.index<Ae.index){var be=Ae.style;if(!be.stick||be.stick.hidden)continue;var Qe=(0,g.getColorFromStyle)(Ae,be.stick);if(D=f,H=M,b.bondStyles&&b.bondStyles[I]){if(Y=b.bondStyles[I],Y.iswire)continue;Y.radius&&(D=Y.radius),Y.singleBond&&(H=!0),typeof Y.color1<"u"&&(Q=o.CC.color(Y.color1)),typeof Y.color2<"u"&&(Qe=o.CC.color(Y.color2))}var Xe=new s.Vector3(b.x,b.y,b.z),U=new s.Vector3(Ae.x,Ae.y,Ae.z);if(b.bondOrder[I]<=1||H||b.bondOrder[I]>3){if(b.bondOrder[I]<1&&(D*=b.bondOrder[I]),!Ae.capDrawn&&Ae.bonds.length<4&&(k=2),Q!=Qe?(te=new s.Vector3().addVectors(Xe,U).multiplyScalar(.5),xe(E,Xe,te,D,Q,N,0),xe(E,te,U,D,Qe,0,k)):xe(E,Xe,U,D,Q,N,k),z=b.clickable||b.hoverable,O=Ae.clickable||Ae.hoverable,z||O){if(te||(te=new s.Vector3().addVectors(Xe,U).multiplyScalar(.5)),z){var pe=new a.Cylinder(Xe,te,D),_e=new a.Sphere(Xe,D);b.intersectionShape.cylinder.push(pe),b.intersectionShape.sphere.push(_e)}if(O){var ie=new a.Cylinder(U,te,D),de=new a.Sphere(U,D);Ae.intersectionShape.cylinder.push(ie),Ae.intersectionShape.sphere.push(de)}}}else if(b.bondOrder[I]>1){var ye=0,je=0;D!=f&&(ye=2,je=2);var Be=U.clone(),Ce=null;Be.sub(Xe);var Ie,Re,Ke,Ne,pt;Ce=this.getSideBondV(b,Ae,I),b.bondOrder[I]==2?(Ie=D/2.5,Ce.multiplyScalar(Ie*1.5),Re=Xe.clone(),Re.add(Ce),Ke=Xe.clone(),Ke.sub(Ce),Ne=Re.clone(),Ne.add(Be),pt=Ke.clone(),pt.add(Be),Q!=Qe?(te=new s.Vector3().addVectors(Re,Ne).multiplyScalar(.5),we=new s.Vector3().addVectors(Ke,pt).multiplyScalar(.5),xe(E,Re,te,Ie,Q,ye,0),xe(E,te,Ne,Ie,Qe,0,je),xe(E,Ke,we,Ie,Q,ye,0),xe(E,we,pt,Ie,Qe,0,je)):(xe(E,Re,Ne,Ie,Q,ye,je),xe(E,Ke,pt,Ie,Q,ye,je)),z=b.clickable||b.hoverable,O=Ae.clickable||Ae.hoverable,(z||O)&&(te||(te=new s.Vector3().addVectors(Re,Ne).multiplyScalar(.5)),we||(we=new s.Vector3().addVectors(Ke,pt).multiplyScalar(.5)),z&&(q=new a.Cylinder(Re,te,Ie),G=new a.Cylinder(Ke,we,Ie),b.intersectionShape.cylinder.push(q),b.intersectionShape.cylinder.push(G)),O&&(R=new a.Cylinder(Ne,te,Ie),V=new a.Cylinder(pt,we,Ie),Ae.intersectionShape.cylinder.push(R),Ae.intersectionShape.cylinder.push(V)))):b.bondOrder[I]==3&&(Ie=D/4,Ce.cross(Be),Ce.normalize(),Ce.multiplyScalar(Ie*3),Re=Xe.clone(),Re.add(Ce),Ke=Xe.clone(),Ke.sub(Ce),Ne=Re.clone(),Ne.add(Be),pt=Ke.clone(),pt.add(Be),Q!=Qe?(te=new s.Vector3().addVectors(Re,Ne).multiplyScalar(.5),we=new s.Vector3().addVectors(Ke,pt).multiplyScalar(.5),Pe=new s.Vector3().addVectors(Xe,U).multiplyScalar(.5),xe(E,Re,te,Ie,Q,ye,0),xe(E,te,Ne,Ie,Qe,0,je),xe(E,Xe,Pe,Ie,Q,N,0),xe(E,Pe,U,Ie,Qe,0,k),xe(E,Ke,we,Ie,Q,ye,0),xe(E,we,pt,Ie,Qe,0,je)):(xe(E,Re,Ne,Ie,Q,ye,je),xe(E,Xe,U,Ie,Q,N,k),xe(E,Ke,pt,Ie,Q,ye,je)),z=b.clickable||b.hoverable,O=Ae.clickable||Ae.hoverable,(z||O)&&(te||(te=new s.Vector3().addVectors(Re,Ne).multiplyScalar(.5)),we||(we=new s.Vector3().addVectors(Ke,pt).multiplyScalar(.5)),Pe||(Pe=new s.Vector3().addVectors(Xe,U).multiplyScalar(.5)),z&&(q=new a.Cylinder(Re.clone(),te.clone(),Ie),G=new a.Cylinder(Ke.clone(),we.clone(),Ie),$=new a.Cylinder(Xe.clone(),Pe.clone(),Ie),b.intersectionShape.cylinder.push(q),b.intersectionShape.cylinder.push(G),b.intersectionShape.cylinder.push($)),O&&(R=new a.Cylinder(Ne.clone(),te.clone(),Ie),V=new a.Cylinder(pt.clone(),we.clone(),Ie),X=new a.Cylinder(U.clone(),Pe.clone(),Ie),Ae.intersectionShape.cylinder.push(R),Ae.intersectionShape.cylinder.push(V),Ae.intersectionShape.cylinder.push(X))))}}}var yt=!1,le=0,ue=!1;for(I=0;I<b.bonds.length;I++)H=M,b.bondStyles&&b.bondStyles[I]&&(Y=b.bondStyles[I],Y.singleBond&&(H=!0),Y.radius&&Y.radius!=f&&(ue=!0)),(H||b.bondOrder[I]==1)&&le++;ue?le>0&&(yt=!0):le==0&&(b.bonds.length>0||h.showNonBonded)&&(yt=!0),yt&&(D=f,E.imposter?this.drawSphereImposter(E.sphereGeometry,b,D,Q):l.GLDraw.drawSphere(E,b,D,Q))}}}createMolObj(b,C){C=C||{};var E=new n.Object3D,h=[],f={},D={},M=this.drawAtomSphere,N=null,k=null;C.supportsImposters?(M=this.drawAtomImposter,N=new n.Geometry(!0),N.imposter=!0,k=new n.Geometry(!0,!0),k.imposter=!0,k.sphereGeometry=new n.Geometry(!0),k.sphereGeometry.imposter=!0,k.drawnCaps={}):C.supportsAIA?(M=this.drawAtomInstanced,N=new n.Geometry(!1,!0,!0),N.instanced=!0,k=new n.Geometry(!0)):(N=new n.Geometry(!0),k=new n.Geometry(!0));var z,O,I,H,Y={},q=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(z=0,I=b.length;z<I;z++){var G=b[z];if(G&&G.style){(G.clickable||G.hoverable)&&G.intersectionShape===void 0&&(G.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),H={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(O in H)G.style[O]?G.style[O].opacity?H[O]=parseFloat(G.style[O].opacity):H[O]=1:H[O]=void 0,Y[O]?H[O]!=null&&Y[O]!=H[O]&&(console.log("Warning: "+O+" opacity is ambiguous"),Y[O]=1):Y[O]=H[O];M.call(this,G,N),this.drawAtomClickSphere(G),this.drawAtomCross(G,D),this.drawBondLines(G,b,f),this.drawBondSticks(G,b,k),typeof G.style.cartoon<"u"&&!G.style.cartoon.hidden&&(G.style.cartoon.color==="spectrum"&&typeof G.resi=="number"&&!G.hetflag&&(G.resi<q[0]&&(q[0]=G.resi),G.resi>q[1]&&(q[1]=G.resi)),h.push(G))}}if(h.length>0&&(0,u.drawCartoon)(E,h,q,this.defaultCartoonQuality),N&&N.vertices>0){N.initTypedArrays();var $=null,R=null;N.imposter?$=new n.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):N.instanced?(R=new n.Geometry(!0),l.GLDraw.drawSphere(R,{x:0,y:0,z:0},1,new o.Color(.5,.5,.5)),R.initTypedArrays(),$=new n.InstancedMaterial({sphereMaterial:new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:R})):$=new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Y.sphere<1&&Y.sphere>=0&&($.transparent=!0,$.opacity=Y.sphere),R=new n.Mesh(N,$),E.add(R)}if(k.vertices>0){var V=null,X=null,Q=k.sphereGeometry;(!Q||typeof Q.vertices>"u"||Q.vertices==0)&&(Q=null),k.initTypedArrays(),Q&&Q.initTypedArrays();var te={ambient:0,vertexColors:!0,reflectivity:0};k.imposter?(V=new n.StickImposterMaterial(te),X=new n.SphereImposterMaterial(te)):(V=new n.MeshLambertMaterial(te),X=new n.MeshLambertMaterial(te),V.wireframe&&(k.setUpWireframe(),Q&&Q.setUpWireframe())),Y.stick<1&&Y.stick>=0&&(V.transparent=!0,V.opacity=Y.stick,X.transparent=!0,X.opacity=Y.stick);var we=new n.Mesh(k,V);if(E.add(we),Q){var Pe=new n.Mesh(Q,X);E.add(Pe)}}var xe;for(z in f)if(f.hasOwnProperty(z)){xe=z;var Fe=new n.LineBasicMaterial({linewidth:xe,vertexColors:!0});Y.line<1&&Y.line>=0&&(Fe.transparent=!0,Fe.opacity=Y.line),f[z].initTypedArrays();var Ae=new n.Line(f[z],Fe,n.LineStyle.LinePieces);E.add(Ae)}for(z in D)if(D.hasOwnProperty(z)){xe=z;var be=new n.LineBasicMaterial({linewidth:xe,vertexColors:!0});Y.cross<1&&Y.cross>=0&&(be.transparent=!0,be.opacity=Y.cross),D[z].initTypedArrays();var Qe=new n.Line(D[z],be,n.LineStyle.LinePieces);E.add(Qe)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Xe=new n.Object3D,U;for(U=0;U<this.modelData.symmetries.length;U++){var pe=new n.Object3D;pe=E.clone(),pe.matrix.copy(this.modelData.symmetries[U]),pe.matrixAutoUpdate=!1,Xe.add(pe)}return Xe}return E}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(b){this.atoms=b.atoms,this.frames=b.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){let b=this.modelData.cryst;this.modelData.cryst.matrix=(0,s.conversionMatrix3)(b.a,b.b,b.c,b.alpha,b.beta,b.gamma)}return this.modelData.cryst}else return null}setCrystData(b,C,E,h,f,D){b=b||1,C=C||1,E=E||1,h=h||90,f=f||90,D=D||90;let M=(0,s.conversionMatrix3)(b,C,E,h,f,D);this.modelData.cryst={a:b,b:C,c:E,alpha:h,beta:f,gamma:D,matrix:M}}setCrystMatrix(b){b=b||new s.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:b}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(b){typeof b>"u"?this.modelData.symmetries=[this.idMatrix]:this.modelData.symmetries=b}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(b,C,E,h){var f=C-b;return f<-E?C+h:f>E?C-h:C}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var b=this.box[0],C=this.box[1],E=this.box[2],h=b*.9,f=C*.9,D=E*.9,M=0;M<this.atomdfs.length;M++)for(var N=this.atomdfs[M],k=1;k<N.length;k++){var z=this.atoms[N[k][0]],O=this.atoms[N[k][1]];z.x=this.adjustCoord(O.x,z.x,h,b),z.y=this.adjustCoord(O.y,z.y,f,C),z.z=this.adjustCoord(O.z,z.z,D,E)}}setFrame(b,C){var E=this.getNumFrames();let h=this;return new Promise(function(f,D){if(E==0&&f(),(b<0||b>=E)&&(b=E-1),h.frames.url!=null){var M=h.frames.url;(0,g.getbin)(M+"/traj/frame/"+b+"/"+h.frames.path,void 0,"POST",void 0).then(function(N){for(var k=new Float32Array(N,44),z=0,O=0;O<h.atoms.length;O++)h.atoms[O].x=k[z++],h.atoms[O].y=k[z++],h.atoms[O].z=k[z++];h.box&&h.atomdfs&&h.adjustCoordinatesToBox(),f()}).catch(D)}else h.atoms=h.frames[b],f();h.molObj=null,h.modelDatas&&b<h.modelDatas.length&&(h.modelData=h.modelDatas[b],h.unitCellObjects&&C&&(C.removeUnitCell(h),C.addUnitCell(h)))})}addFrame(b){this.frames.push(b)}vibrate(b=10,C=1,E=!1,h,f){var D=0,M=b;E&&(D=-b,M=b),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),D<M&&(this.frames=[]),E&&(this.frames.origIndex=b);for(var N=D;N<M;N++){var k=[],z=this.frames.length;if(N==0&&!f){this.frames.push(this.atoms);continue}for(var O=0;O<this.atoms.length;O++){var I=(0,g.getAtomProperty)(this.atoms[O],"dx"),H=(0,g.getAtomProperty)(this.atoms[O],"dy"),Y=(0,g.getAtomProperty)(this.atoms[O],"dz"),q=new s.Vector3(I,H,Y),G=new s.Vector3(this.atoms[O].x,this.atoms[O].y,this.atoms[O].z),$=N*C/b;q.multiplyScalar($),G.add(q);var R={};for(var V in this.atoms[O])R[V]=this.atoms[O][V];if(R.x=G.x,R.y=G.y,R.z=G.z,k.push(R),h&&f){var X=(0,g.extend)({},f),Q=new s.Vector3(I,H,Y);if(Q.multiplyScalar(C),Q.add(G),X.start=G,X.end=Q,X.frame=z,!X.color){var te=R.style.sphere;te||(te=R.style.stick),te||(te=R.style.line),X.color=(0,g.getColorFromStyle)(R,te)}h.addArrow(X)}}this.frames.push(k)}}setAtomDefaults(b){for(let C=0;C<b.length;C++){let E=b[C];E&&(E.style=E.style||(0,g.deepCopy)(v.defaultAtomStyle),E.color=E.color||this.ElementColors[E.elem]||this.defaultColor,E.model=this.id,(E.clickable||E.hoverable)&&(E.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(b,C,E={}){var h=v.parseMolData(b,C,E);this.dontDuplicateAtoms=!E.duplicateAssemblyAtoms;var f=h.modelData;if(f&&(Array.isArray(f)?(this.modelData=f[0],E.frames&&(this.modelDatas=f)):this.modelData=f),h.box?this.box=h.box:this.box=null,this.frames.length==0){for(let M=0;M<h.length;M++)h[M].length!=0&&this.frames.push(h[M]);this.frames[0]&&(this.atoms=this.frames[0])}else if(E.frames)for(let M=0;M<h.length;M++)this.frames.push(h[M]);else for(var D=0;D<h.length;D++)this.addAtoms(h[D]);for(let M=0;M<this.frames.length;M++)this.setAtomDefaults(this.frames[M]);E.vibrate&&E.vibrate.frames&&E.vibrate.amplitude&&this.vibrate(E.vibrate.frames,E.vibrate.amplitude),E.style&&this.setStyle({},E.style)}setDontDuplicateAtoms(b){this.dontDuplicateAtoms=b}setModelData(b){this.modelData=b}propertyMatches(b,C){if(b==C)return!0;if(typeof C=="string"&&typeof b=="number"){var E=C.match(/(-?\d+)\s*-\s*(-?\d+)/);if(E){var h=parseInt(E[1]),f=parseInt(E[2]);if(E&&b>=h&&b<=f)return!0}}return!1}static deepCopyAndCache(b,C){if(typeof b!="object"||b==null||b.__cache_created)return b;let E={};for(let h in b){let f=b[h];if(Array.isArray(f)){E[h]=[];for(let D=0;D<f.length;D++)E[h].push(v.deepCopyAndCache(f[D],C))}else typeof f=="object"&&h!="properties"&&h!="model"?E[h]=v.deepCopyAndCache(f,C):E[h]=f;if(h=="and"||h=="or"){let D=[];for(let M of E[h]){let N=new Set;for(let k of C.selectedAtoms(M))N.add(k.index);D.push(N)}if(h=="and"){let M=function(k,z){let O=new Set;for(let I of z)k.has(I)&&O.add(I);return O},N=new Set(D[0]);for(let k of D.splice(1))N=M(N,k);E[h].__cached_results=N}else if(h=="or"){let M=new Set;for(let N of D)for(let k of N)M.add(k);E[h].__cached_results=M}}}return E.__cache_created=!0,E}atomIsSelected(b,C){if(typeof C>"u")return!0;var E=!!C.invert,h=!0;for(var f in C)if(f=="and"||f=="or"||f=="not"){if(f=="not"){if(this.atomIsSelected(b,C[f])){h=!1;break}}else if(C[f].__cached_results===void 0&&(C=v.deepCopyAndCache(C,this)),h=C[f].__cached_results.has(b.index),!h)break}else if(f==="predicate"){if(!C.predicate(b)){h=!1;break}}else if(f=="properties"&&b[f]){for(var D in C.properties)if(!D.startsWith("__cache")){if(typeof b.properties[D]>"u"){h=!1;break}if(b.properties[D]!=C.properties[D]){h=!1;break}}}else if(C.hasOwnProperty(f)&&!v.ignoredKeys.has(f)&&!f.startsWith("__cache")){if(typeof b[f]>"u"){h=!1;break}var M=!1;if(f==="bonds"){var N=C[f];if(N!=b.bonds.length){h=!1;break}}else if(Array.isArray(C[f])){var k=C[f],z=b[f];for(let O=0;O<k.length;O++)if(this.propertyMatches(z,k[O])){M=!0;break}if(!M){h=!1;break}}else{let O=C[f];if(!this.propertyMatches(b[f],O)){h=!1;break}}}return E?!h:h}static squaredDistance(b,C){var E=C.x-b.x,h=C.y-b.y,f=C.z-b.z;return E*E+h*h+f*f}expandAtomList(b,C){if(C<=0)return b;for(var E=(0,g.getExtent)(b,void 0),h=[[],[],[]],f=0;f<3;f++)h[0][f]=E[0][f]-C,h[1][f]=E[1][f]+C,h[2][f]=E[2][f];var D=[];for(let z=0;z<this.atoms.length;z++){var M=this.atoms[z].x,N=this.atoms[z].y,k=this.atoms[z].z;M>=h[0][0]&&M<=h[1][0]&&N>=h[0][1]&&N<=h[1][1]&&k>=h[0][2]&&k<=h[1][2]&&(M>=E[0][0]&&M<=E[1][0]&&N>=E[0][1]&&N<=E[1][1]&&k>=E[0][2]&&k<=E[1][2]||D.push(this.atoms[z]))}return D}static getFloat(b){return typeof b=="number"?b:parseFloat(b)}selectedAtoms(b,C){var E=[];b=v.deepCopyAndCache(b||{},this),C||(C=this.atoms);for(var h=C.length,f=0;f<h;f++){var D=C[f];D&&this.atomIsSelected(D,b)&&E.push(D)}if(b.hasOwnProperty("expand")){let R=v.getFloat(b.expand),V=this.expandAtomList(E,R),X=E.length,Q=R*R;for(let te=0;te<V.length;te++)for(let we=0;we<X;we++){var M=v.squaredDistance(V[te],E[we]);M<Q&&M>0&&E.push(V[te])}}if(b.hasOwnProperty("within")&&b.within.hasOwnProperty("sel")&&b.within.hasOwnProperty("distance")){var N=this.selectedAtoms(b.within.sel,this.atoms),k={};let R=v.getFloat(b.within.distance),V=R*R;for(let X=0;X<N.length;X++)for(let Q=0;Q<E.length;Q++){let te=v.squaredDistance(N[X],E[Q]);te<V&&te>0&&(k[Q]=1)}var z=[];if(b.within.invert)for(let X=0;X<E.length;X++)k[X]||z.push(E[X]);else for(let X in k)z.push(E[X]);E=z}if(b.hasOwnProperty("byres")){var O={},I=[],H=[];for(let R=0;R<E.length;R++){let V=E[R];var Y=V.chain,q=V.resi;if(O[Y]===void 0&&(O[Y]={}),V.hasOwnProperty("resi")&&O[Y][q]===void 0){for(O[Y][q]=!0,H.push(V);H.length>0;)if(V=H.pop(),Y=V.chain,q=V.resi,I[V.index]===void 0){I[V.index]=!0;for(var G=0;G<V.bonds.length;G++){var $=this.atoms[V.bonds[G]];I[$.index]===void 0&&$.hasOwnProperty("resi")&&$.chain==Y&&$.resi==q&&(H.push($),E.push($))}}}}}return E}addAtoms(b){this.molObj=null;var C=this.atoms.length,E=[],h;for(h=0;h<b.length;h++)typeof b[h].index>"u"&&(b[h].index=h),typeof b[h].serial>"u"&&(b[h].serial=h),E[b[h].index]=C+h;for(h=0;h<b.length;h++){var f=b[h],D=E[f.index],M=(0,g.extend)({},f);M.index=D,M.bonds=[],M.bondOrder=[],M.model=this.id,M.style=M.style||(0,g.deepCopy)(v.defaultAtomStyle),typeof M.color>"u"&&(M.color=this.ElementColors[M.elem]||this.defaultColor);for(var N=f.bonds?f.bonds.length:0,k=0;k<N;k++){var z=E[f.bonds[k]];typeof z<"u"&&(M.bonds.push(z),M.bondOrder.push(f.bondOrder?f.bondOrder[k]:1))}this.atoms.push(M)}}assignBonds(){(0,w.assignBonds)(this.atoms)}removeAtoms(b){this.molObj=null;var C=[],E;for(E=0;E<b.length;E++)C[b[E].index]=!0;var h=[];for(E=0;E<this.atoms.length;E++){var f=this.atoms[E];C[f.index]||h.push(f)}this.atoms=[],this.addAtoms(h)}setStyle(b,C,E){typeof C>"u"&&typeof E>"u"&&(C=b,b={}),b=b,typeof C=="string"&&(C=(0,g.specStringToObject)(C));var h=!1,f=this,D=function(N){var k=f.selectedAtoms(b,N);for(let z=0;z<N.length;z++)N[z]&&(N[z].capDrawn=!1);for(let z=0;z<k.length;z++){h=!0,(k[z].clickable||k[z].hoverable)&&(k[z].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),E||(k[z].style={});for(let O in C)C.hasOwnProperty(O)&&(k[z].style[O]=k[z].style[O]||{},Object.assign(k[z].style[O],C[O]))}};if(b.frame!==void 0&&b.frame<this.frames.length){let N=b.frame;N<0&&(N=this.frames.length+N),D(this.frames[N])}else{D(this.atoms);for(var M=0;M<this.frames.length;M++)this.frames[M]!==this.atoms&&D(this.frames[M])}h&&(this.molObj=null)}setClickable(b,C,E){if(C=!!C,E=(0,g.makeFunction)(E),E===null){console.log("Callback is not a function");return}var h=this.selectedAtoms(b,this.atoms),f=h.length;for(let D=0;D<f;D++)h[D].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},h[D].clickable=C,E&&(h[D].callback=E);f>0&&(this.molObj=null)}setHoverable(b,C,E,h){if(C=!!C,E=(0,g.makeFunction)(E),h=(0,g.makeFunction)(h),E===null){console.log("Hover_callback is not a function");return}if(h===null){console.log("Unhover_callback is not a function");return}var f=this.selectedAtoms(b,this.atoms),D=f.length;for(let M=0;M<D;M++)f[M].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},f[M].hoverable=C,E&&(f[M].hover_callback=E),h&&(f[M].unhover_callback=h);D>0&&(this.molObj=null)}enableContextMenu(b,C){C=!!C;var E,h=this.selectedAtoms(b,this.atoms),f=h.length;for(E=0;E<f;E++)h[E].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},h[E].contextMenuEnabled=C;f>0&&(this.molObj=null)}setColorByElement(b,C){if(!(this.molObj!==null&&v.sameObj(C,this.lastColors))){this.lastColors=C;var E=this.selectedAtoms(b,E);E.length>0&&(this.molObj=null);for(var h=0;h<E.length;h++){var f=E[h];typeof C[f.elem]<"u"&&(f.color=C[f.elem])}}}setColorByProperty(b,C,E,h){var f,D,M=this.selectedAtoms(b,M);for(this.lastColors=null,M.length>0&&(this.molObj=null),typeof E=="string"&&typeof p.Gradient.builtinGradients[E]<"u"&&(E=new p.Gradient.builtinGradients[E]),E=E,h||(h=E.range()),h||(h=(0,g.getPropertyRange)(M,C)),f=0;f<M.length;f++){D=M[f];var N=(0,g.getAtomProperty)(D,C);N!=null&&(D.color=E.valueToHex(parseFloat(D.properties[C]),h))}}setColorByFunction(b,C){var E=this.selectedAtoms(b,E);if(typeof C=="function"){this.lastColors=null,E.length>0&&(this.molObj=null);for(let h=0;h<E.length;h++){let f=E[h];f.color=C(f)}}}toCDObject(b=!1){var C={a:[],b:[]};b&&(C.s=[]);for(let h=0;h<this.atoms.length;h++){let f={},D=this.atoms[h];if(f.x=D.x,f.y=D.y,f.z=D.z,D.elem!="C"&&(f.l=D.elem),b){for(var E=0;E<C.s.length&&JSON.stringify(D.style)!==JSON.stringify(C.s[E]);)E++;E===C.s.length&&C.s.push(D.style),E!==0&&(f.s=E)}C.a.push(f);for(let M=0;M<D.bonds.length;M++){let N=h,k=D.bonds[M];if(N>=k)continue;let z={b:N,e:k},O=D.bondOrder[M];O!=1&&(z.o=O),C.b.push(z)}}return C}globj(b,C){(this.molObj===null||C.regen)&&(this.molObj=this.createMolObj(this.atoms,C),this.renderedMolObj&&(b.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),b.add(this.renderedMolObj))}exportVRML(){var b=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return b.vrml()}removegl(b){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),b.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(b,C,E,h){for(var f=this.selectedAtoms(C,f),D=(0,g.deepCopy)(h),M=0;M<f.length;M++){var N=f[M],k=null;typeof N[b]<"u"?k=String(N[b]):typeof N.properties[b]<"u"&&(k=String(N.properties[b])),k!=null&&(D.position=N,E.addLabel(k,D))}}addResLabels(b,C,E,h=!1){var f=[],D=function(N,k){for(var z=N.selectedAtoms(b,z),O={},I=0;I<z.length;I++){var H=z[I],Y=H.chain,q=H.resn,G=H.resi,$=q+""+G;O[Y]||(O[Y]={}),O[Y][$]||(O[Y][$]=[]),O[Y][$].push(H)}var R=(0,g.deepCopy)(E);for(let X in O)if(O.hasOwnProperty(X)){var V=O[X];for(let Q in V)if(V.hasOwnProperty(Q)){let te=V[Q],we=new s.Vector3(0,0,0);for(let xe=0;xe<te.length;xe++){let Fe=te[xe];we.x+=Fe.x,we.y+=Fe.y,we.z+=Fe.z}we.divideScalar(te.length),R.position=we,R.frame=k;let Pe=C.addLabel(Q,R,void 0,!0);f.push(Pe)}}};if(h){var M=this.getNumFrames();let N=this.atoms;for(let k=0;k<M;k++)this.frames[k]&&(this.atoms=this.frames[k],D(this,k));this.atoms=N}else D(this);return f}setupDFS(){this.atomdfs=[];var b=this,C=new Int8Array(this.atoms.length);C.fill(0);for(var E=function(M,N,k){k.push([M,N]);var z=b.atoms[M];C[M]=1;for(var O=0;O<z.bonds.length;O++){var I=z.bonds[O];b.atoms[I]&&!C[I]&&E(I,M,k)}},h=0;h<this.atoms.length;h++){var f=this.atoms[h];if(f&&!C[h]){var D=[];E(h,-1,D),this.atomdfs.push(D)}}}setCoordinatesFromURL(b,C){this.frames=[];var E=this;return this.box&&this.setupDFS(),b.startsWith("http")||(b="http://"+b),(0,g.get)(b+"/traj/numframes/"+C,function(h){if(!isNaN(parseInt(h)))return E.frames.push(E.atoms),E.frames.numFrames=h,E.frames.url=b,E.frames.path=C,E.setFrame(0)})}setCoordinates(b,C){if(C=C||"",!b)return[];if(/\.gz$/.test(C)){C=C.replace(/\.gz$/,"");try{b=c(b)}catch(O){console.log(O)}}var E={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(E.hasOwnProperty(C)){this.frames=[];for(var h=this.atoms.length,f=v.parseCrd(b,C),D=0;D<f.length;){for(var M=[],N=0;N<h;N++){var k={};for(var z in this.atoms[N])k[z]=this.atoms[N][z];M[N]=k,M[N].x=f[D++],M[N].y=f[D++],M[N].z=f[D++]}this.frames.push(M)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(b){}static parseCrd(b,C){var E=[],h=0;if(C=="pdb")for(var f=b.indexOf(`
ATOM`);f!=-1;){for(;b.slice(f,f+5)==`
ATOM`||b.slice(f,f+7)==`
HETATM`;)E[h++]=parseFloat(b.slice(f+31,f+39)),E[h++]=parseFloat(b.slice(f+39,f+47)),E[h++]=parseFloat(b.slice(f+47,f+55)),f=b.indexOf(`
`,f+54),b.slice(f,f+4)==`
TER`&&(f=b.indexOf(`
`,f+5));f=b.indexOf(`
ATOM`,f)}else if(C=="netcdf"){var D=new x.NetCDFReader(b);E=[].concat.apply([],D.getDataVariable("coordinates"))}else{if(C=="array"||Array.isArray(b))return b.flat(2);{let M=b.indexOf(`
`);C=="inpcrd"&&(M=b.indexOf(`
`,M+1)),b=b.slice(M+1),E=b.match(/\S+/g).map(parseFloat)}}return E}static parseMolData(b,C="",E){if(!b)return[];if(/\.gz$/.test(C)){C=C.replace(/\.gz$/,"");try{b=c(b)}catch(D){console.log(D)}}typeof _.Parsers[C]>"u"&&(C=C.split(".").pop(),typeof _.Parsers[C]>"u"&&(console.log("Unknown format: "+C),b instanceof Uint8Array?C="mmtf":b.match(/^@<TRIPOS>MOLECULE/gm)?C="mol2":b.match(/^data_/gm)&&b.match(/^loop_/gm)?C="cif":b.match(/^HETATM/gm)||b.match(/^ATOM/gm)?C="pdb":b.match(/ITEM: TIMESTEP/gm)?C="lammpstrj":b.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?C="sdf":b.match(/^%VERSION\s+VERSION_STAMP/gm)?C="prmtop":C="xyz",console.log("Best guess: "+C)));var h=_.Parsers[C],f=h(b,E);return f}}v.defaultAtomStyle={line:{}},v.defaultlineWidth=1,v.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},v.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLShape:()=>x,splitMesh:()=>S});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts"),l=r("./src/ProteinSurface4.ts"),u=r("./src/VolumeData.ts"),g=r("./src/GLDraw.ts"),p=r("./src/glcartoon.ts"),_=r("./src/utilities.ts");class x{static finalizeGeo(c){var v=c.updateGeoGroup(0);v.vertices>0&&v.truncateArrayBuffers(!0,!0)}static updateColor(c,v){v=v||o.CC.color(v),c.colorsNeedUpdate=!0;var y,b,C;v.constructor!==Array&&(y=v.r,b=v.g,C=v.b);for(let E in c.geometryGroups){let h=c.geometryGroups[E],f=h.colorArray;for(let D=0,M=h.vertices;D<M;++D){if(v.constructor===Array){let N=v[D];y=N.r,b=N.g,C=N.b}f[D*3]=y,f[D*3+1]=b,f[D*3+2]=C}}}static drawArrow(c,v,y){var b=y.start,C=y.end,E=y.radius,h=y.radiusRatio,f=y.mid,D=y.midpos;if(!(b&&C))return;var M=v.updateGeoGroup(51),N=new s.Vector3(C.x,C.y,C.z).sub(b);if(D){let Le=N.length();D>0?f=D/Le:f=(Le+D)/Le}N.multiplyScalar(f);var k=new s.Vector3(b.x,b.y,b.z).add(N),z=N.clone().negate();let O=new s.Vector3(b.x,b.y,b.z);c.intersectionShape.cylinder.push(new a.Cylinder(O,k.clone(),E)),c.intersectionShape.sphere.push(new a.Sphere(O,E));var I=[];I[0]=N.clone(),Math.abs(I[0].x)>1e-4?I[0].y+=1:I[0].x+=1,I[0].cross(N),I[0].normalize(),I[4]=I[0].clone(),I[4].crossVectors(I[0],N),I[4].normalize(),I[8]=I[0].clone().negate(),I[12]=I[4].clone().negate(),I[2]=I[0].clone().add(I[4]).normalize(),I[6]=I[4].clone().add(I[8]).normalize(),I[10]=I[8].clone().add(I[12]).normalize(),I[14]=I[12].clone().add(I[0]).normalize(),I[1]=I[0].clone().add(I[2]).normalize(),I[3]=I[2].clone().add(I[4]).normalize(),I[5]=I[4].clone().add(I[6]).normalize(),I[7]=I[6].clone().add(I[8]).normalize(),I[9]=I[8].clone().add(I[10]).normalize(),I[11]=I[10].clone().add(I[12]).normalize(),I[13]=I[12].clone().add(I[14]).normalize(),I[15]=I[14].clone().add(I[0]).normalize();var H=M.vertices,Y=M.vertexArray,q=M.faceArray,G=M.normalArray,$=M.lineArray,R,V,X;for(V=0,X=I.length;V<X;++V){R=3*(H+3*V);var Q=I[V].clone().multiplyScalar(E).add(b),te=I[V].clone().multiplyScalar(E).add(k),we=I[V].clone().multiplyScalar(E*h).add(k);if(Y[R]=Q.x,Y[R+1]=Q.y,Y[R+2]=Q.z,Y[R+3]=te.x,Y[R+4]=te.y,Y[R+5]=te.z,Y[R+6]=we.x,Y[R+7]=we.y,Y[R+8]=we.z,V>0){var Pe=Y[R-3],xe=Y[R-2],Fe=Y[R-1],Ae=new s.Vector3(Pe,xe,Fe),be=new s.Vector3(C.x,C.y,C.z),Qe=k.clone(),Xe=new s.Vector3(we.x,we.y,we.z);c.intersectionShape.triangle.push(new a.Triangle(Xe,be,Ae)),c.intersectionShape.triangle.push(new a.Triangle(Ae.clone(),Qe,Xe.clone()))}}M.vertices+=48,R=M.vertices*3,Y[R]=b.x,Y[R+1]=b.y,Y[R+2]=b.z,Y[R+3]=k.x,Y[R+4]=k.y,Y[R+5]=k.z,Y[R+6]=C.x,Y[R+7]=C.y,Y[R+8]=C.z,M.vertices+=3;var U,pe,_e,ie,de,ye,je,Be,Ce,Ie,Re,Ke,Ne,pt,yt,le,ue,ge,$e,Oe=M.vertices-3,at=M.vertices-2,lt=M.vertices-1,se=Oe*3,Ge=at*3,Je=lt*3;for(V=0,X=I.length-1;V<X;++V){var mt=H+3*V;R=mt*3,pe=M.faceidx,_e=M.lineidx,ie=mt,Ie=ie*3,de=mt+1,Re=de*3,ye=mt+2,Ke=ye*3,je=mt+4,Ne=je*3,Be=mt+5,pt=Be*3,Ce=mt+3,yt=Ce*3,le=ue=I[V],ge=$e=I[V+1],G[Ie]=le.x,G[Re]=ue.x,G[yt]=$e.x,G[Ie+1]=le.y,G[Re+1]=ue.y,G[yt+1]=$e.y,G[Ie+2]=le.z,G[Re+2]=ue.z,G[yt+2]=$e.z,G[Re]=ue.x,G[Ne]=ge.x,G[yt]=$e.x,G[Re+1]=ue.y,G[Ne+1]=ge.y,G[yt+1]=$e.y,G[Re+2]=ue.z,G[Ne+2]=ge.z,G[yt+2]=$e.z,G[Ke]=ue.x,G[pt]=ge.x,G[Ke+1]=ue.y,G[pt+1]=ge.y,G[Ke+2]=ue.z,G[pt+2]=ge.z,q[pe]=ie,q[pe+1]=de,q[pe+2]=Ce,q[pe+3]=de,q[pe+4]=je,q[pe+5]=Ce,q[pe+6]=ie,q[pe+7]=Ce,q[pe+8]=Oe,q[pe+9]=ye,q[pe+10]=at,q[pe+11]=Be,q[pe+12]=ye,q[pe+13]=lt,q[pe+14]=Be,$[_e]=ie,$[_e+1]=de,$[_e+2]=ie,$[_e+3]=Ce,$[_e+4]=je,$[_e+5]=Ce,$[_e+6]=ie,$[_e+7]=Ce,$[_e+8]=ye,$[_e+9]=de,$[_e+10]=ye,$[_e+11]=Be,$[_e+12]=je,$[_e+13]=Be,$[_e+14]=ye,$[_e+15]=lt,$[_e+16]=ye,$[_e+17]=Be,$[_e+18]=lt,$[_e+19]=Be,M.faceidx+=15,M.lineidx+=20}U=[H+45,H+46,H+1,H,H+47,H+2],pe=M.faceidx,_e=M.lineidx,ie=U[0],Ie=ie*3,de=U[1],Re=de*3,ye=U[4],Ke=ye*3,je=U[2],Ne=je*3,Be=U[5],pt=Be*3,Ce=U[3],yt=Ce*3,le=ue=I[15],ge=$e=I[0],G[Ie]=le.x,G[Re]=ue.x,G[yt]=$e.x,G[Ie+1]=le.y,G[Re+1]=ue.y,G[yt+1]=$e.y,G[Ie+2]=le.z,G[Re+2]=ue.z,G[yt+2]=$e.z,G[Re]=ue.x,G[Ne]=ge.x,G[yt]=$e.x,G[Re+1]=ue.y,G[Ne+1]=ge.y,G[yt+1]=$e.y,G[Re+2]=ue.z,G[Ne+2]=ge.z,G[yt+2]=$e.z,G[Ke]=ue.x,G[pt]=ge.x,G[Ke+1]=ue.y,G[pt+1]=ge.y,G[Ke+2]=ue.z,G[pt+2]=ge.z,N.normalize(),z.normalize(),G[se]=z.x,G[Ge]=G[Je]=N.x,G[se+1]=z.y,G[Ge+1]=G[Je+1]=N.y,G[se+2]=z.z,G[Ge+2]=G[Je+2]=N.z,q[pe]=ie,q[pe+1]=de,q[pe+2]=Ce,q[pe+3]=de,q[pe+4]=je,q[pe+5]=Ce,q[pe+6]=ie,q[pe+7]=Ce,q[pe+8]=Oe,q[pe+9]=ye,q[pe+10]=at,q[pe+11]=Be,q[pe+12]=ye,q[pe+13]=lt,q[pe+14]=Be,$[_e]=ie,$[_e+1]=de,$[_e+2]=ie,$[_e+3]=Ce,$[_e+4]=je,$[_e+5]=Ce,$[_e+6]=ie,$[_e+7]=Ce,$[_e+8]=ye,$[_e+9]=de,$[_e+10]=ye,$[_e+11]=Be,$[_e+12]=je,$[_e+13]=Be,$[_e+14]=ye,$[_e+15]=lt,$[_e+16]=ye,$[_e+17]=Be,$[_e+18]=lt,$[_e+19]=Be,M.faceidx+=15,M.lineidx+=20}static updateBoundingFromPoints(c,v,y,b){c.center.set(0,0,0);let C=1/0,E=1/0,h=1/0,f=-1/0,D=-1/0,M=-1/0;c.box&&(C=c.box.min.x,f=c.box.max.x,E=c.box.min.y,D=c.box.max.y,h=c.box.min.z,M=c.box.max.z);for(let O=0,I=b;O<I;O++){var N=y[O*3],k=y[O*3+1],z=y[O*3+2];N<C&&(C=N),k<E&&(E=k),z<h&&(h=z),N>f&&(f=N),k>D&&(D=k),z>M&&(M=z)}c.center.set((f+C)/2,(D+E)/2,(M+h)/2),c.radius=c.center.distanceTo({x:f,y:D,z:M}),c.box={min:{x:C,y:E,z:h},max:{x:f,y:D,z:M}}}static addCustomGeo(c,v,y,b,C){var E=v.addGeoGroup(),h=y.vertexArr,f=y.normalArr,D=y.faceArr;E.vertices=h.length,E.faceidx=D.length;var M,N,k,z,O,I,H,Y,q,G=E.vertexArray,$=E.colorArray;for(b.constructor!==Array&&(Y=b.r,q=b.g,z=b.b),I=0,H=E.vertices;I<H;++I)M=I*3,N=h[I],G[M]=N.x,G[M+1]=N.y,G[M+2]=N.z,b.constructor===Array&&(O=b[I],Y=O.r,q=O.g,z=O.b),$[M]=Y,$[M+1]=q,$[M+2]=z;if(C)for(I=0,H=E.faceidx/3;I<H;++I){M=I*3,k=D[M],z=D[M+1],O=D[M+2];var R=new s.Vector3,V=new s.Vector3,X=new s.Vector3;c.intersectionShape.triangle.push(new a.Triangle(R.copy(h[k]),V.copy(h[z]),X.copy(h[O])))}if(C){var Q=new s.Vector3(0,0,0),te=0;for(let xe=0;xe<v.geometryGroups.length;xe++)Q.add(v.geometryGroups[xe].getCentroid()),te++;Q.divideScalar(te),x.updateBoundingFromPoints(c.boundingSphere,{centroid:Q},G,E.vertices)}if(E.faceArray=new Uint16Array(D),E.truncateArrayBuffers(!0,!0),f.length<E.vertices)E.setNormals();else{var we=E.normalArray=new Float32Array(E.vertices*3),Pe;for(I=0,H=E.vertices;I<H;++I)M=I*3,Pe=f[I],we[M]=Pe.x,we[M+1]=Pe.y,we[M+2]=Pe.z}E.setLineIndices(),E.lineidx=E.lineArray.length}static updateFromStyle(c,v){typeof v.color<"u"?(c.color=v.color||new o.Color,v.color instanceof o.Color||(c.color=o.CC.color(v.color))):c.color=o.CC.color(0),c.wireframe=!!v.wireframe,c.opacity=v.alpha?(0,s.clamp)(v.alpha,0,1):1,typeof v.opacity<"u"&&(c.opacity=(0,s.clamp)(v.opacity,0,1)),c.side=v.side!==void 0?v.side:n.DoubleSide,c.linewidth=typeof v.linewidth>"u"?1:v.linewidth,c.clickable=!!v.clickable,c.callback=(0,_.makeFunction)(v.callback),c.hoverable=!!v.hoverable,c.hover_callback=(0,_.makeFunction)(v.hover_callback),c.unhover_callback=(0,_.makeFunction)(v.unhover_callback),c.hidden=v.hidden,c.frame=v.frame}constructor(c){this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.side=n.DoubleSide,this.stylespec=c||{},this.boundingSphere=new a.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},x.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new n.Geometry(!0),this.linegeo=new n.Geometry(!0)}updateStyle(c){for(var v in c)this.stylespec[v]=c[v];if(x.updateFromStyle(this,this.stylespec),c.voldata&&c.volscheme){(0,_.adjustVolumeStyle)(c);let y=c.volscheme,b=c.voldata,C=o.CC,E=y.range()||[-1,1];this.geo.setColors(function(h,f,D){let M=b.getVal(h,f,D);return C.color(y.valueToHex(M,E))}),delete this.color}}addCustom(c){c.vertexArr=c.vertexArr||[],c.faceArr=c.faceArr||[],c.normalArr=c.normalArr||[],x.drawCustom(this,this.geo,c)}addSphere(c){c.center||(c.center=new s.Vector3(0,0,0)),c.radius=c.radius?(0,s.clamp)(c.radius,0,1/0):1.5,c.color=o.CC.color(c.color),this.intersectionShape.sphere.push(new a.Sphere(c.center,c.radius)),g.GLDraw.drawSphere(this.geo,c.center,c.radius,c.color,c.quality),this.components.push({centroid:new s.Vector3(c.center.x,c.center.y,c.center.z)});var v=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,v.vertexArray,v.vertices)}addBox(c){var v=c.dimensions||{w:1,h:1,d:1},y;typeof v.w=="number"?y={x:v.w,y:0,z:0}:y=v.w;var b;typeof v.h=="number"?b={x:0,y:v.h,z:0}:b=v.h;var C;typeof v.d=="number"?C={x:0,y:0,z:v.d}:C=v.d;var E=c.corner;E==null&&(c.center!==void 0?E={x:c.center.x-.5*(y.x+b.x+C.x),y:c.center.y-.5*(y.y+b.y+C.y),z:c.center.z-.5*(y.z+b.z+C.z)}:E={x:0,y:0,z:0});var h=[{x:E.x,y:E.y,z:E.z},{x:E.x+y.x,y:E.y+y.y,z:E.z+y.z},{x:E.x+b.x,y:E.y+b.y,z:E.z+b.z},{x:E.x+y.x+b.x,y:E.y+y.y+b.y,z:E.z+y.z+b.z},{x:E.x+C.x,y:E.y+C.y,z:E.z+C.z},{x:E.x+y.x+C.x,y:E.y+y.y+C.y,z:E.z+y.z+C.z},{x:E.x+b.x+C.x,y:E.y+b.y+C.y,z:E.z+b.z+C.z},{x:E.x+y.x+b.x+C.x,y:E.y+y.y+b.y+C.y,z:E.z+y.z+b.z+C.z}],f=[],D=[];f.splice(f.length,0,h[0],h[1],h[2],h[3]),D.splice(D.length,0,0,2,1,1,2,3);var M=4;f.splice(f.length,0,h[2],h[3],h[6],h[7]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,h[4],h[5],h[0],h[1]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,h[6],h[7],h[4],h[5]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,h[3],h[1],h[7],h[5]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,h[2],h[6],h[0],h[4]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4;var N=(0,_.extend)({},c);N.vertexArr=f,N.faceArr=D,N.normalArr=[],x.drawCustom(this,this.geo,N);var k=new s.Vector3;this.components.push({centroid:k.addVectors(h[0],h[7]).multiplyScalar(.5)});var z=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,z.vertexArray,z.vertices)}addCylinder(c){var v,y;c.start?v=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):v=new s.Vector3(0,0,0),c.end?(y=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof y.x>"u"&&(y.x=3)):y=new s.Vector3(0,0,0);var b=c.radius||.1,C=o.CC.color(c.color);this.intersectionShape.cylinder.push(new a.Cylinder(v,y,b)),g.GLDraw.drawCylinder(this.geo,v,y,b,C,c.fromCap,c.toCap);var E=new s.Vector3;this.components.push({centroid:E.addVectors(v,y).multiplyScalar(.5)});var h=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,h.vertexArray,h.vertices)}addDashedCylinder(c){c.dashLength=c.dashLength||.25,c.gapLength=c.gapLength||.25;var v;c.start?v=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):v=new s.Vector3(0,0,0);var y;c.end?(y=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof y.x>"u"&&(y.x=3)):y=new s.Vector3(3,0,0);for(var b=c.radius||.1,C=o.CC.color(c.color),E=Math.sqrt(Math.pow(v.x-y.x,2)+Math.pow(v.y-y.y,2)+Math.pow(v.z-y.z,2)),h=E/(c.gapLength+c.dashLength),f=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),D=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),M=new s.Vector3((y.x-v.x)/(E/c.gapLength),(y.y-v.y)/(E/c.gapLength),(y.z-v.z)/(E/c.gapLength)),N=new s.Vector3((y.x-v.x)/(E/c.dashLength),(y.y-v.y)/(E/c.dashLength),(y.z-v.z)/(E/c.dashLength)),k=0;k<h;k++)D=new s.Vector3(f.x+N.x,f.y+N.y,f.z+N.z),this.intersectionShape.cylinder.push(new a.Cylinder(f,D,b)),g.GLDraw.drawCylinder(this.geo,f,D,b,C,c.fromCap,c.toCap),f=new s.Vector3(D.x+M.x,D.y+M.y,D.z+M.z);var z=new s.Vector3;this.components.push({centroid:z.addVectors(v,y).multiplyScalar(.5)});var O=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,O.vertexArray,O.vertices)}addCurve(c){c.points=c.points||[],c.smooth=c.smooth||10,typeof c.fromCap>"u"&&(c.fromCap=2),typeof c.toCap>"u"&&(c.toCap=2);var v=(0,p.subdivide_spline)(c.points,c.smooth);if(v.length<3){console.log("Too few points in addCurve");return}var y=c.radius||.1,b=o.CC.color(c.color),C=0,E=v.length-1,h=v[0].distanceTo(v[1]),f=Math.ceil(2*y/h);if(c.toArrow){E-=f;let k={start:v[E],end:v[v.length-1],radius:y,color:b,mid:1e-4};this.addArrow(k)}if(c.fromArrow){C+=f;let k={start:v[C],end:v[0],radius:y,color:b,mid:1e-4};this.addArrow(k)}for(var D=Math.ceil(v.length/2),M={radius:y,color:b,fromCap:2,toCap:2},N=C;N<E;N++)M.start=v[N],M.end=v[N+1],M.fromCap=2,M.toCap=2,N<D?(M.fromCap=2,M.toCap=0):N>D?(M.fromCap=0,M.toCap=2):(M.fromCap=2,M.toCap=2),this.addCylinder(M)}addLine(c){var v,y;c.start?v=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):v=new s.Vector3(0,0,0),c.end?(y=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof y.x>"u"&&(y.x=3)):y=new s.Vector3(3,0,0);var b=this.geo.updateGeoGroup(2),C=b.vertices,E=C*3,h=b.vertexArray;h[E]=v.x,h[E+1]=v.y,h[E+2]=v.z,h[E+3]=y.x,h[E+4]=y.y,h[E+5]=y.z,b.vertices+=2;var f=b.lineArray,D=b.lineidx;f[D]=C,f[D+1]=C+1,b.lineidx+=2;var M=new s.Vector3;this.components.push({centroid:M.addVectors(v,y).multiplyScalar(.5)}),b=this.geo.updateGeoGroup(0),x.updateBoundingFromPoints(this.boundingSphere,this.components,b.vertexArray,b.vertices)}addArrow(c){if(c.start?c.start=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):c.start=new s.Vector3(0,0,0),c.dir instanceof s.Vector3&&typeof c.length=="number"){var v=c.dir.clone().multiplyScalar(c.length).add(c.start);c.end=v}else c.end?(c.end=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof c.end.x>"u"&&(c.end.x=3)):c.end=new s.Vector3(3,0,0);c.radius=c.radius||.1,c.radiusRatio=c.radiusRatio||1.618034,c.mid=0<c.mid&&c.mid<1?c.mid:.618034,x.drawArrow(this,this.geo,c);var y=new s.Vector3;this.components.push({centroid:y.addVectors(c.start,c.end).multiplyScalar(.5)});var b=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,b.vertexArray,b.vertices)}static distance_from(c,v){return Math.sqrt(Math.pow(c.x-v.x,2)+Math.pow(c.y-v.y,2)+Math.pow(c.z-v.z,2))}static inSelectedRegion(c,v,y){for(var b=0;b<v.length;b++)if(x.distance_from(v[b],c)<=y)return!0;return!1}addIsosurface(c,v,y){var b=v.isoval!==void 0&&typeof v.isoval=="number"?v.isoval:0,C=!!v.voxel,E=v.smoothness===void 0?1:v.smoothness,h=c.size.x,f=c.size.y,D=c.size.z,M=new Int16Array(h*f*D),N=c.data,k,z;for(k=0,z=M.length;k<z;++k)M[k]=-1;var O=new Uint8Array(h*f*D);for(k=0,z=N.length;k<z;++k){var I=b>=0?N[k]-b:b-N[k];I>0&&(O[k]|=x.ISDONE)}var H=[],Y=[];l.MarchingCube.march(O,H,Y,{fulltable:!0,voxel:C,unitCube:c.unit,origin:c.origin,matrix:c.matrix,nX:h,nY:f,nZ:D}),!C&&E>0&&l.MarchingCube.laplacianSmooth(E,H,Y);var q=[],G=[],$=[];if(v.selectedRegion&&v.coords===void 0&&(v.coords=v.selectedRegion),v.coords!==void 0){var R=v.coords[0].x,V=v.coords[0].y,X=v.coords[0].z,Q=v.coords[0].x,te=v.coords[0].y,we=v.coords[0].z;for(let pe=0;pe<v.coords.length;pe++)v.coords[pe].x>R?R=v.coords[pe].x:v.coords[pe].x<Q&&(Q=v.coords[pe].x),v.coords[pe].y>V?V=v.coords[pe].y:v.coords[pe].y<te&&(te=v.coords[pe].y),v.coords[pe].z>X?X=v.coords[pe].z:v.coords[pe].z<we&&(we=v.coords[pe].z);var Pe=2;v.radius!==void 0&&(Pe=v.radius),v.selectedOffset!==void 0&&(Pe=v.selectedOffset),v.seldist!==void 0&&(Pe=v.seldist),Q-=Pe,R+=Pe,te-=Pe,V+=Pe,we-=Pe,X+=Pe;for(let pe=0;pe<H.length;pe++)H[pe].x>Q&&H[pe].x<R&&H[pe].y>te&&H[pe].y<V&&H[pe].z>we&&H[pe].z<X&&x.inSelectedRegion(H[pe],v.coords,Pe)?(q.push(G.length),G.push(H[pe])):q.push(-1);for(let pe=0;pe+2<Y.length;pe+=3)q[Y[pe]]!==-1&&q[Y[pe+1]]!==-1&&q[Y[pe+2]]!==-1&&($.push(Y[pe]-(Y[pe]-q[Y[pe]])),$.push(Y[pe+1]-(Y[pe+1]-q[Y[pe+1]])),$.push(Y[pe+2]-(Y[pe+2]-q[Y[pe+2]])));H=G,Y=$}x.drawCustom(this,this.geo,{vertexArr:H,faceArr:Y,normalArr:[],clickable:v.clickable,hoverable:v.hoverable}),this.updateStyle(v);var xe=new s.Vector3(c.origin.x,c.origin.y,c.origin.z),Fe=new s.Vector3(c.size.x*c.unit.x,c.size.y*c.unit.y,c.size.z*c.unit.z),Ae=new s.Vector3(0,0,0),be=xe.clone(),Qe=xe.clone().add(Fe);for(let pe=0;pe<H.length;pe++)Ae.add(H[pe]),be.max(H[pe]),Qe.min(H[pe]);Ae.divideScalar(H.length);var Xe=Ae.distanceTo(Qe),U=Ae.distanceTo(be);this.boundingSphere.center=Ae,this.boundingSphere.radius=Math.max(Xe,U),typeof y=="function"&&y()}addVolumetricData(c,v,y){c=new u.VolumeData(c,v),this.addIsosurface(c,y)}finalize(){return x.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(c){if(this.renderedShapeObj&&(c.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){x.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&x.updateColor(this.geo,this.color),this.shapeObj=new n.Object3D;var v=null;this.side==n.DoubleSide?v=new n.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors}):v=new n.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors});var y=new n.Mesh(this.geo,v);this.shapeObj.add(y);var b=new n.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),C=new n.Line(this.linegeo,b,n.LineStyle.LinePieces);this.shapeObj.add(C),this.renderedShapeObj=this.shapeObj.clone(),c.add(this.renderedShapeObj)}}removegl(c){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),c.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}x.ISDONE=2,x.drawCustom=function(w,c,v){var y=v,b=y.vertexArr,C=y.faceArr;(b.length===0||C.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var E=v.color;typeof E>"u"&&(E=w.color),E=o.CC.color(E);for(var h=S(y),f=0,D=h.length;f<D;f++)x.addCustomGeo(w,c,h[f],h[f].colorArr?h[f].colorArr:E,v.clickable)};function S(w){var c=64e3;if(w.vertexArr.length<c)return[w];var v=[{vertexArr:[],normalArr:[],faceArr:[]}];w.colorArr&&(v.colorArr=[]);var y=[],b=[],C=0,E=w.faceArr;for(let f=0,D=E.length;f<D;f+=3){let M=v[C];for(let N=0;N<3;N++){var h=E[f+N];y[h]!==C&&(y[h]=C,b[h]=M.vertexArr.length,M.vertexArr.push(w.vertexArr[h]),w.normalArr&&w.normalArr[h]&&M.normalArr.push(w.normalArr[h]),w.colorArr&&w.colorArr[h]&&M.colorArr.push(w.colorArr[h])),M.faceArr.push(b[h])}M.vertexArr.length>=c&&(v.push({vertexArr:[],normalArr:[],faceArr:[]}),w.colorArr&&(v.colorArr=[]),C++)}return v}},"./src/GLViewer.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLViewer:()=>v,createStereoViewer:()=>C,createViewer:()=>y,createViewerGrid:()=>b});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/colors.ts"),o=r("./src/utilities.ts"),l=r("./src/Gradient.ts"),u=r("./src/GLModel.ts"),g=r("./src/Label.ts"),p=r("./src/GLShape.ts"),_=r("./src/VolumeData.ts"),x=r("./src/ProteinSurface4.ts"),S=r("./src/VolumetricRender.ts"),w=r("./node_modules/upng-js/UPNG.js"),c=r.n(w);class v{getRect(){let h=this.container,f=h.getBoundingClientRect();if(f.width==0&&f.height==0&&h.style.display==="none"){let D=h.style.position,M=h.style.visibility;h.style.display="block",h.style.visibility="hidden",h.style.position="absolute",f=h.getBoundingClientRect(),h.style.display="none",h.style.visibility=M,h.style.position=D}return f}getWidth(){return this.getRect().width}getHeight(){return this.getRect().height}setupRenderer(){this.renderer=new n.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH||1,containerHeight:this.HEIGHT||1}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new n.Scene,this.scene.fog=new n.Fog(this.bgColor,100,200),this.modelGroup=new n.Object3D,this.rotationGroup=new n.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new a.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var h=new n.Light(16777215);h.position=new a.Vector3(.2,.2,1).normalize(),h.intensity=1,this.scene.add(h)}initContainer(h){this.container=h,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var h=0;for(let D in this.surfaces)if(this.surfaces.hasOwnProperty(D)){var f=parseInt(D);isNaN(f)||f>h&&(h=f)}return h+1}setSlabAndFog(){let h=this.camera.position.z-this.rotationGroup.position.z;h<1&&(h=1),this.camera.near=h+this.slabNear,this.camera.near<1&&(this.camera.near=1),this.camera.far=h+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=h*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(h){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!h&&this.linkedViewers.length>0))for(var f=this._viewer.getView(),D=0;D<this.linkedViewers.length;D++){var M=this.linkedViewers[D];M.setView(f,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledAtoms.splice(0,this.contextMenuEnabledAtoms.length);for(let h=0,f=this.models.length;h<f;h++){let D=this.models[h];if(D){let M=D.selectedAtoms({clickable:!0}),N=D.selectedAtoms({hoverable:!0}),k=D.selectedAtoms({contextMenuEnabled:!0});for(let z=0;z<N.length;z++)this.hoverables.push(N[z]);for(let z=0;z<M.length;z++)this.clickables.push(M[z]);for(let z=0;z<k.length;z++)this.contextMenuEnabledAtoms.push(k[z])}}for(let h=0,f=this.shapes.length;h<f;h++){let D=this.shapes[h];D&&D.clickable&&this.clickables.push(D),D&&D.hoverable&&this.hoverables.push(D)}}handleClickSelection(h,f,D){let M=this.targetedObjects(h,f,this.clickables);if(M.length){var N=M[0].clickable;N.callback!==void 0&&(typeof N.callback!="function"&&(N.callback=(0,o.makeFunction)(N.callback)),typeof N.callback=="function"&&N.callback(N,this._viewer,D,this.container,M))}}canvasOffset(){let h=this.glDOM,f=h.getBoundingClientRect(),D=h.ownerDocument,M=D.documentElement,N=D.defaultView;return{top:f.top+N.pageYOffset-M.clientTop,left:f.left+N.pageXOffset-M.clientLeft}}setHover(h,f,D){this.current_hover!=h&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,o.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,f,this.container,D)),this.current_hover=h,h&&h.hover_callback!==void 0&&(typeof h.hover_callback!="function"&&(h.hover_callback=(0,o.makeFunction)(h.hover_callback)),typeof h.hover_callback=="function"&&h.hover_callback(h,this._viewer,f,this.container,D)))}handleHoverSelection(h,f,D){if(this.hoverables.length==0)return;let M=this.targetedObjects(h,f,this.hoverables);if(M.length){var N=M[0].clickable;this.setHover(N,D,M),this.current_hover=N}else this.setHover(null)}handleHoverContinue(h,f){let D=this.targetedObjects(h,f,this.hoverables);(D.length==0||D[0]===void 0)&&this.setHover(null),D[0]!==void 0&&D[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(h,{allowTolerance:f=h.targetTouches,tolerance:D=5}={}){let M=this.getX(h),N=this.getY(h);if(f){let k=Math.abs(M-this.mouseStartX),z=Math.abs(N-this.mouseStartY);return k<=D&&z<=D}else return M===this.mouseStartX&&N===this.mouseStartY}calcTouchDistance(h){var f=h.targetTouches[0].pageX-h.targetTouches[1].pageX,D=h.targetTouches[0].pageY-h.targetTouches[1].pageY;return Math.hypot(f,D)}getX(h){var f=h.pageX;return f==null&&(f=h.pageX),h.targetTouches&&h.targetTouches[0]?f=h.targetTouches[0].pageX:h.changedTouches&&h.changedTouches[0]&&(f=h.changedTouches[0].pageX),f}getY(h){var f=h.pageY;return f==null&&(f=h.pageY),h.targetTouches&&h.targetTouches[0]?f=h.targetTouches[0].pageY:h.changedTouches&&h.changedTouches[0]&&(f=h.changedTouches[0].pageY),f}isInViewer(h,f){if(this.viewers!=null){var D=this.WIDTH/this.cols,M=this.HEIGHT/this.rows,N=this.canvasOffset(),k=h-N.left,z=f-N.top,O=this.rows-Math.floor(z/M)-1,I=Math.floor(k/D);if(O!=this.row||I!=this.col)return!1}return!0}adjustZoomToLimits(h){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let f=this.CAMERA_Z-this.config.lowerZoomLimit;h>f&&(h=f)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let f=this.CAMERA_Z-this.config.upperZoomLimit;h<f&&(h=f)}return h>this.CAMERA_Z-1&&(h=this.CAMERA_Z-1),h}static slerp(h,f,D){if(D==1)return f.clone();if(D==0)return h.clone();let M=h.x*f.x+h.y*f.y+h.z*f.z+h.w*f.w;if(M>.9995){let Y=new a.Quaternion(h.x+D*(f.x-h.x),h.y+D*(f.y-h.y),h.z+D*(f.z-h.z),h.w+D*(f.w-h.w));return Y.normalize(),Y}M<0&&(f=f.clone().multiplyScalar(-1),M=-M),M>1?M=1:M<-1&&(M=-1);var N=Math.acos(M),k=N*D,z=f.clone();z.sub(h.clone().multiplyScalar(M)),z.normalize();var O=Math.cos(k),I=Math.sin(k),H=new a.Quaternion(h.x*O+z.x*I,h.y*O+z.y*I,h.z*O+z.z*I,h.w*O+z.w*I);return H.normalize(),H}constructor(h,f={}){this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledAtoms=[],this.current_hover=null,this.hoverDuration=500,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new a.Quaternion(0,0,0,1),this.dq=new a.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=f,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=s.elementColors.defaultColors),this.nomouse=this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=s.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=parseFloat(this.config.camerax)),this._viewer=this,this.container=h,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new n.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new a.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new a.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new n.Raycaster(new a.Vector3(0,0,0),new a.Vector3(0,0,0)),this.projector=new n.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=s.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container));try{typeof this.callback=="function"&&this.callback(this)}catch(D){console.log("error with glviewer callback: "+D)}}targetedObjects(h,f,D){var M={x:h,y:f,z:-1};return Array.isArray(D)||(D=this.selectedAtoms(D)),D.length==0?[]:(this.raycaster.setFromCamera(M,this.camera),this.raycaster.intersectObjects(this.modelGroup,D))}modelToScreen(h){let f=!1;Array.isArray(h)||(h=[h],f=!0);let D=this.renderer.getXRatio(),M=this.renderer.getYRatio(),N=this.col,k=this.row,z=N*(this.WIDTH/D),O=(M-k-1)*(this.HEIGHT/M),I=[],H=this.canvasOffset();return h.forEach(Y=>{let q=new a.Vector3(Y.x,Y.y,Y.z);q.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(q,this.camera);let G=this.WIDTH/D*(q.x+1)/2+H.left+z,$=-(this.HEIGHT/M)*(q.y-1)/2+H.top+O;I.push({x:G,y:$})}),f&&(I=I[0]),I}screenOffsetToModel(h,f,D){var M=h/this.WIDTH,N=f/this.HEIGHT,k=D===void 0?this.rotationGroup.position.z:D,z=this.rotationGroup.quaternion,O=new a.Vector3(0,0,k);return this.projector.projectVector(O,this.camera),O.x+=M*2,O.y-=N*2,this.projector.unprojectVector(O,this.camera),O.z=0,O.applyQuaternion(z),O}screenToModelDistance(h,f){let D=this.canvasOffset(),M=new a.Vector3(f.x,f.y,f.z);M.applyMatrix4(this.modelGroup.matrixWorld);let N=M.clone();this.projector.projectVector(M,this.camera);let k=new a.Vector3((h.x-D.left)*2/this.WIDTH-1,(h.y-D.top)*2/-this.HEIGHT+1,M.z);return this.projector.unprojectVector(k,this.camera),k.distanceTo(N)}setViewChangeCallback(h){(typeof h=="function"||h==null)&&(this.viewChangeCallback=h)}setStateChangeCallback(h){(typeof h=="function"||h==null)&&(this.stateChangeCallback=h)}getConfig(){return this.config}setConfig(h){this.config=h}getInternalState(){var h={models:[],surfaces:[],shapes:[],labels:[]};for(let f=0;f<this.models.length;f++)this.models[f]&&(h.models[f]=this.models[f].getInternalState());return h}setInternalState(h){this.clear();var f=h.models;for(let D=0;D<f.length;D++)f[D]&&(this.models[D]=new u.GLModel(D),this.models[D].setInternalState(f[D]));this.render()}setZoomLimits(h,f){typeof h<"u"&&(this.config.lowerZoomLimit=h),f&&(this.config.upperZoomLimit=f),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(h){h.fov!==void 0&&(this.fov=h.fov,this.camera.fov=this.fov),h.z!==void 0&&(this.CAMERA_Z=h.z,this.camera.z=this.CAMERA_Z),h.orthographic!==void 0&&(this.camera.ortho=h.orthographic)}_handleMouseDown(h){if(h.preventDefault(),!this.scene)return;var f=this.getX(h),D=this.getY(h);if(f===void 0)return;this.isDragging=!0,this.mouseButton=h.which,this.mouseStartX=f,this.mouseStartY=D,this.touchHold=!0,this.touchDistanceStart=0,h.targetTouches&&h.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(h)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let M=this;setTimeout(function(){h.targetTouches&&M.touchHold==!0&&(M.glDOM=M.renderer.domElement,M.glDOM.dispatchEvent(new Event("contextmenu")))},1e3)}_handleMouseUp(h){if(this.touchHold=!1,this.isDragging&&this.scene){var f=this.getX(h),D=this.getY(h);if(this.closeEnoughForClick(h)&&this.isInViewer(f,D)){let M=this.mouseXY(f,D);this.handleClickSelection(M.x,M.y,h)}}this.isDragging=!1}_handleMouseScroll(h){if(h.preventDefault(),!!this.scene){var f=this.getX(h),D=this.getY(h);if(f!==void 0&&!(!this.control_all&&!this.isInViewer(f,D))){var M=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,N=1;if(h.ctrlKey&&(N=-1),h.detail)this.rotationGroup.position.z+=N*M*h.detail/10;else if(h.wheelDelta){let k=h.wheelDelta*600/(h.wheelDelta+600);this.rotationGroup.position.z-=N*M*k/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(h){let f=this;return h=h||1,new Promise(function(D){let M=0,N=f.viewChangeCallback,k=[],z=[],O=Date.now();f.viewChangeCallback=function(){z.push(Date.now()-O),O=Date.now(),k.push(new Promise(I=>{f.getCanvas().toBlob(function(H){H.arrayBuffer().then(I)},"image/png")})),M+=1,M==h&&(f.viewChangeCallback=N,Promise.all(k).then(I=>{let H=[];for(let V=0;V<I.length;V++){let X=(0,w.decode)(I[V]);H.push((0,w.toRGBA8)(X)[0])}let Y=f.getCanvas().width,q=f.getCanvas().height,G=(0,w.encode)(H,Y,q,0,z),$=new Blob([G],{type:"image/png"}),R=new FileReader;R.onload=function(V){D(V.target.result)},R.readAsDataURL($)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(h){this.hoverDuration=h}mouseXY(h,f){let D=this.canvasOffset(),M=this.renderer.getXRatio(),N=this.renderer.getYRatio(),k=this.col,z=this.row,O=k*(this.WIDTH/M),I=(N-z-1)*(this.HEIGHT/N),H=(h-D.left-O)/(this.WIDTH/M)*2-1,Y=-((f-D.top-I)/(this.HEIGHT/N))*2+1;return{x:H,y:Y}}_handleMouseMove(h){clearTimeout(this.hoverTimeout),h.preventDefault();let f=this.getX(h),D=this.getY(h);if(f===void 0)return;let M=this.renderer.getXRatio(),N=this.renderer.getYRatio(),k=this.mouseXY(f,D),z=this;this.current_hover!==null&&this.handleHoverContinue(k.x,k.y);var O=0;if(!(!this.control_all&&!this.isInViewer(f,D))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){z.handleHoverSelection(k.x,k.y,h)},this.hoverDuration)),!!this.isDragging)){var I=(f-this.mouseStartX)/this.WIDTH,H=(D-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&h.targetTouches&&h.targetTouches.length==2){var Y=this.calcTouchDistance(h);O=2,H=(Y-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else h.targetTouches&&h.targetTouches.length==3&&(O=1);I*=M,H*=N;var q=Math.hypot(I,H),G;if(O==3||this.mouseButton==3&&h.ctrlKey)this.slabNear=this.cslabNear+I*100,this.slabFar=this.cslabFar-H*100;else if(O==2||this.mouseButton==3||h.shiftKey)G=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,G<80&&(G=80),this.rotationGroup.position.z=this.cz+H*G,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(O==1||this.mouseButton==2||h.ctrlKey){var $=this.screenOffsetToModel(M*(f-this.mouseStartX),N*(D-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,$)}else if((O===0||this.mouseButton==1)&&q!==0){var R=Math.sin(q*Math.PI)/q;this.dq.x=Math.cos(q*Math.PI),this.dq.y=0,this.dq.z=R*I,this.dq.w=-R*H,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(h){h.preventDefault();var f=this.getX(h),D=this.getY(h);if(!(f!=this.mouseStartX||D!=this.mouseStartY)){var k=this.mouseStartX,z=this.mouseStartY,N=this.canvasOffset();let O=this.mouseXY(k,z),I=O.x,H=O.y,Y=this.targetedObjects(I,H,this.contextMenuEnabledAtoms);var M=null;Y.length&&(M=Y[0].clickable);var N=this.canvasOffset(),k=this.mouseStartX-N.left,z=this.mouseStartY-N.top;this.userContextMenuHandler&&this.userContextMenuHandler(M,k,z,Y)}}setContainer(h){let f=(0,o.getElement)(h)||this.container;return this.initContainer(f),this}setBackgroundColor(h,f){(typeof f>"u"||f<0||f>1)&&(f=1);var D=s.CC.color(h);return this.scene.fog.color=D,this.bgColor=D.getHex(),this.renderer.setClearColorHex(D.getHex(),f),this.show(),this}setProjection(h){this.camera.ortho=h==="orthographic",this.setSlabAndFog()}setViewStyle(h){if(h.style==="outline"){var f={};h.color&&(f.color=s.CC.color(h.color)),h.width&&(f.width=h.width),this.renderer.enableOutline(f)}else this.renderer.disableOutline();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(h){return this.WIDTH=h||this.WIDTH,this.updateSize(),this}setHeight(h){return this.HEIGHT=h||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let h=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0&&(this.container.querySelector("canvas").remove(),this.setupRenderer(),this.initContainer(this.container),h=!0),this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),h){let f=this.renderer.supportedExtensions();f.regen=!0,this._viewer.render(null,f)}else this.show();return this}getModel(h){return h===void 0?this.models.length==0?null:this.models[this.models.length-1]:h instanceof u.GLModel?h:h in this.models?this.models[h]:this.models.length==0?null:this.models[this.models.length-1]}spin(h,f=1){if(clearInterval(this.spinInterval),typeof h>"u"&&(h="y"),typeof h=="boolean")if(h)h="y";else return;Array.isArray(h)&&(h={x:h[0],y:h[1],z:h[2]});var D=this;this.spinInterval=setInterval(function(){!D.getCanvas().isConnected&&D.renderer.isLost()&&clearInterval(D.spinInterval),D.rotate(1*f,h)},25)}animateMotion(h,f,D,M,N,k){var z=20,O=Math.ceil(h/z);O<1&&(O=1),this.incAnim();var I={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(f){let q=new Array(O);for(let V=0;V<O;V++){let X=(V+1)/O,Q={mpos:I.mpos,rz:I.rz,rot:I.rot};Q.mpos=D.clone().sub(I.mpos).multiplyScalar(X).add(I.mpos),Q.rz=I.rz+X*(M-I.rz),Q.rot=v.slerp(I.rot,N,X),Q.cam=k.clone().sub(I.cam).multiplyScalar(X).add(I.cam),q[V]=Q}let G=0,$=this,R=function(){var V=q[G];G+=1,$.modelGroup.position=V.mpos,$.rotationGroup.position.z=V.rz,$.rotationGroup.quaternion=V.rot,$.camera.lookAt(V.cam),G<q.length?setTimeout(R,z):$.decAnim(),$.show()};setTimeout(R,z)}else{var H={};let q=1/O;if(D&&(H.mpos=D.clone().sub(I.mpos).multiplyScalar(q)),typeof M<"u"&&M!=null&&(H.rz=q*(M-I.rz)),N){var Y=v.slerp(I.rot,N,q);H.rot=I.rot.clone().inverse().multiply(Y)}k&&(H.cam=k.clone().sub(I.cam).multiplyScalar(q));let G=0,$=this,R=function(){G+=1,H.mpos&&$.modelGroup.position.add(H.mpos),H.rz&&($.rotationGroup.position.z+=H.rz),H.rot&&$.rotationGroup.quaternion.multiply(H.rot),H.cam&&($.lookingAt.add(H.cam),$.camera.lookAt($.lookingAt)),G<O?setTimeout(R,z):$.decAnim(),$.show()};setTimeout(R,z)}}rotate(h,f="y",D=0,M=!1){if(f=="x"?f={x:1,y:0,z:0}:f=="y"?f={x:0,y:1,z:0}:f=="z"&&(f={x:0,y:0,z:1}),f=="vx"?f={vx:1,vy:0,vz:0}:f=="vy"?f={vx:0,vy:1,vz:0}:f=="vz"&&(f={vx:0,vy:0,vz:1}),typeof f.vx<"u"){var N=new a.Vector3(f.vx,f.vy,f.vz);N.applyQuaternion(this.rotationGroup.quaternion),f={x:N.x,y:N.y,z:N.z}}var k=function(H){var Y=Math.sin(H/2),q=Math.cos(H/2),G=0,$=0,R=0;return G=f.x*Y,$=f.y*Y,R=f.z*Y,new a.Quaternion(G,$,R,q).normalize()},z=Math.PI*h/180,O=k(z);if(D){var I=new a.Quaternion().copy(this.rotationGroup.quaternion).multiply(O);this.animateMotion(D,M,this.modelGroup.position,this.rotationGroup.position.z,I,this.lookingAt)}else this.rotationGroup.quaternion.multiply(O),this.show();return this}surfacesFinished(){for(var h in this.surfaces)if(!this.surfaces[h][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var h=this.modelGroup.position,f=this.rotationGroup.quaternion;return[h.x,h.y,h.z,this.rotationGroup.position.z,f.x,f.y,f.z,f.w]}setView(h,f){return h===void 0||!(h instanceof Array||h.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=h[0],this.modelGroup.position.y=h[1],this.modelGroup.position.z=h[2],this.rotationGroup.position.z=h[3],this.rotationGroup.quaternion.x=h[4],this.rotationGroup.quaternion.y=h[5],this.rotationGroup.quaternion.z=h[6],this.rotationGroup.quaternion.w=h[7],typeof h[8]<"u"&&(this.rotationGroup.position.x=h[8],this.rotationGroup.position.y=h[9]),this.show(f),this)}render(h,f){this.renderer.setViewport(),this.updateClickables();var D=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var M,N;for(f||(f=this.renderer.supportedExtensions()),M=0;M<this.models.length;M++)this.models[M]&&this.models[M].globj(this.modelGroup,f);for(M=0;M<this.shapes.length;M++)this.shapes[M]&&(typeof this.shapes[M].frame>"u"||this.viewer_frame<0||this.shapes[M].frame<0||this.shapes[M].frame==this.viewer_frame?this.shapes[M].globj(this.modelGroup,f):this.shapes[M].removegl(this.modelGroup));for(M=0;M<this.labels.length;M++)this.labels[M]&&typeof this.labels[M].frame<"u"&&this.labels[M].frame>=0&&(this.modelGroup.remove(this.labels[M].sprite),(this.viewer_frame<0||this.labels[M].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[M].sprite));for(M in this.surfaces)if(this.surfaces.hasOwnProperty(M)){var k=this.surfaces[M];for(N=0;N<k.length;N++)if(k.hasOwnProperty(N)){var z=k[N].geo;if(!k[N].finished||f.regen){z.verticesNeedUpdate=!0,z.elementsNeedUpdate=!0,z.normalsNeedUpdate=!0,z.colorsNeedUpdate=!0,z.buffersNeedUpdate=!0,z.boundingSphere=null,k[N].done&&(k[N].finished=!0),k[N].lastGL&&this.modelGroup.remove(k[N].lastGL);var O=null;if(k[N].mat instanceof n.LineBasicMaterial?O=new n.Line(z,k[N].mat):O=new n.Mesh(z,k[N].mat),k[N].mat.transparent&&k[N].mat.opacity==0?O.visible=!1:O.visible=!0,k[N].symmetries.length>1||k[N].symmetries.length==1&&!k[N].symmetries[N].isIdentity()){var I,H=new n.Object3D;for(I=0;I<k[N].symmetries.length;I++){var Y=O.clone();Y.matrix=k[N].symmetries[I],Y.matrixAutoUpdate=!1,H.add(Y)}k[N].lastGL=H,this.modelGroup.add(H)}else k[N].lastGL=O,this.modelGroup.add(O)}}}return this.setView(D),typeof h=="function"&&h(this),this}getModelList(h){let f=[];if(typeof h>"u"||typeof h.model>"u")for(let M=0;M<this.models.length;M++)this.models[M]&&f.push(this.models[M]);else{let M=h.model;Array.isArray(M)||(M=[M]);for(let N=0;N<M.length;N++)if(typeof M[N]=="number"){var D=M[N];D<0&&(D+=this.models.length),f.push(this.models[D])}else f.push(M[N])}return f}getAtomsFromSel(h){var f=[];typeof h>"u"&&(h={});var D=this.getModelList(h);for(let M=0;M<D.length;M++)f=f.concat(D[M].selectedAtoms(h));return f}atomIsSelected(h,f){typeof f>"u"&&(f={});for(var D=this.getModelList(f),M=0;M<D.length;M++)if(D[M].atomIsSelected(h,f))return!0;return!1}selectedAtoms(h){return this.getAtomsFromSel(h)}getUniqueValues(h,f){typeof f>"u"&&(f={});var D=this.getAtomsFromSel(f),M={};for(var N in D)if(D[N].hasOwnProperty(h)){var k=D[N][h];M[k]=!0}return Object.keys(M)}pdbData(h){for(var f=this.getAtomsFromSel(h),D="",M=0,N=f.length;M<N;++M)D+=f[M].pdbline+`
`;return D}zoom(h=2,f=0,D=!1){var M=(this.CAMERA_Z-this.rotationGroup.position.z)/h,N=this.CAMERA_Z-M;return f>0?this.animateMotion(f,D,this.modelGroup.position,this.adjustZoomToLimits(N),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(N),this.show()),this}translate(h,f,D=0,M=!1){var N=h/this.WIDTH,k=f/this.HEIGHT,z=new a.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(z,this.camera),z.x-=N,z.y-=k,this.projector.unprojectVector(z,this.camera),z.z=0;var O=this.lookingAt.clone().add(z);return D>0?this.animateMotion(D,M,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,O):(this.lookingAt=O,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(h,f,D=0,M=!1){var N=this.screenOffsetToModel(h,f),k=this.modelGroup.position.clone().add(N);return D>0?this.animateMotion(D,M,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=k,this.show()),this}fitSlab(h){h=h||{};var f=this.getAtomsFromSel(h),D=(0,o.getExtent)(f),M=D[1][0]-D[0][0],N=D[1][1]-D[0][1],k=D[1][2]-D[0][2],z=Math.hypot(M,N,k);return z<5&&(z=5),this.slabNear=-z/1.9,this.slabFar=z/2,this}center(h={},f=0,D=!1){var M,N,k=this.getAtomsFromSel(h),z=(0,o.getExtent)(k);(0,o.isEmptyObject)(h)?(this.shapes.forEach(X=>{if(X&&X.boundingSphere&&X.boundingSphere.center){var Q=X.boundingSphere.center,te=X.boundingSphere.radius;te>0?(k.push(new a.Vector3(Q.x+te,Q.y,Q.z)),k.push(new a.Vector3(Q.x-te,Q.y,Q.z)),k.push(new a.Vector3(Q.x,Q.y+te,Q.z)),k.push(new a.Vector3(Q.x,Q.y-te,Q.z)),k.push(new a.Vector3(Q.x,Q.y,Q.z+te)),k.push(new a.Vector3(Q.x,Q.y,Q.z-te))):k.push(Q)}}),z=(0,o.getExtent)(k),M=k,N=z):(M=this.getAtomsFromSel({}),N=(0,o.getExtent)(M));var O=new a.Vector3(z[2][0],z[2][1],z[2][2]),I=N[1][0]-N[0][0],H=N[1][1]-N[0][1],Y=N[1][2]-N[0][2],q=Math.hypot(I,H,Y);q<5&&(q=5),this.slabNear=-q/1.9,this.slabFar=q/2,I=z[1][0]-z[0][0],H=z[1][1]-z[0][1],Y=z[1][2]-z[0][2],q=Math.hypot(I,H,Y),q<5&&(q=5);for(var G=25,$=0;$<k.length;$++)if(k[$]){var R=O.distanceToSquared(k[$]);R>G&&(G=R)}q=Math.sqrt(G)*2;var V=O.clone().multiplyScalar(-1);return f>0?this.animateMotion(f,D,V,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=V,this.show()),this}zoomTo(h={},f=0,D=!1){let M=this.getAtomsFromSel(h),N=(0,o.getExtent)(M),k=N;if((0,o.isEmptyObject)(h)){let Q=M&&M.length;if(this.shapes.forEach(te=>{if(te&&te.boundingSphere){if(te.boundingSphere.box){let xe=te.boundingSphere.box;M.push(new a.Vector3(xe.min.x,xe.min.y,xe.min.z)),M.push(new a.Vector3(xe.max.x,xe.max.y,xe.max.z))}else if(te.boundingSphere.center){var we=te.boundingSphere.center,Pe=te.boundingSphere.radius;Pe>0?(M.push(new a.Vector3(we.x+Pe,we.y,we.z)),M.push(new a.Vector3(we.x-Pe,we.y,we.z)),M.push(new a.Vector3(we.x,we.y+Pe,we.z)),M.push(new a.Vector3(we.x,we.y-Pe,we.z)),M.push(new a.Vector3(we.x,we.y,we.z+Pe)),M.push(new a.Vector3(we.x,we.y,we.z-Pe))):M.push(we)}}}),k=(0,o.getExtent)(M),!Q)for(let te=0;te<3;te++)N[2][te]=(k[0][te]+k[1][te])/2}else{let Q=this.getAtomsFromSel({});k=(0,o.getExtent)(Q)}var z=new a.Vector3(N[2][0],N[2][1],N[2][2]),O=k[1][0]-k[0][0],I=k[1][1]-k[0][1],H=k[1][2]-k[0][2],Y=Math.hypot(O,I,H);Y<5&&(Y=5),this.slabNear=-Y/1.9,this.slabFar=Y/2,Object.keys(h).length===0&&(this.slabNear=Math.min(-Y*2,-50),this.slabFar=Math.max(Y*2,50));var q=this.config.minimumZoomToDistance||5;O=N[1][0]-N[0][0],I=N[1][1]-N[0][1],H=N[1][2]-N[0][2],Y=Math.hypot(O,I,H),Y<q&&(Y=q);for(var G=q*q,$=0;$<M.length;$++)if(M[$]){var R=z.distanceToSquared(M[$]);R>G&&(G=R)}Y=Math.sqrt(G)*2;var V=z.clone().multiplyScalar(-1),X=-(Y*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return X=this.adjustZoomToLimits(X),f>0?this.animateMotion(f,D,V,X,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=V,this.rotationGroup.position.z=X,this.show()),this}setSlab(h,f){this.slabNear=h,this.slabFar=f}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(h,f={},D,M=!1){if(D){var N=(0,o.getExtent)(this.getAtomsFromSel(D));f.position={x:N[2][0],y:N[2][1],z:N[2][2]}}var k=new g.Label(h,f);return k.setContext(),this.modelGroup.add(k.sprite),this.labels.push(k),M||this.show(),k}addResLabels(h,f,D=!1){let M=this.labels.length;return this.applyToModels("addResLabels",h,this,f,D),this.show(),this.labels.slice(M)}addPropertyLabels(h,f,D){return this.applyToModels("addPropertyLabels",h,f,this,D),this.show(),this}removeLabel(h){for(var f=0;f<this.labels.length;f++)if(this.labels[f]==h){this.labels.splice(f,1),h.dispose(),this.modelGroup.remove(h.sprite);break}return this.show(),this}removeAllLabels(){for(var h=0;h<this.labels.length;h++)this.labels[h]&&this.labels[h].sprite&&this.modelGroup.remove(this.labels[h].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}setLabelStyle(h,f){return this.modelGroup.remove(h.sprite),h.dispose(),h.stylespec=f,h.setContext(),this.modelGroup.add(h.sprite),this.show(),h}setLabelText(h,f){return this.modelGroup.remove(h.sprite),h.dispose(),h.text=f,h.setContext(),this.modelGroup.add(h.sprite),this.show(),h}addShape(h){h=h||{};var f=new p.GLShape(h);return f.shapePosition=this.shapes.length,this.shapes.push(f),f}removeShape(h){if(!h)return this;for(h.removegl(this.modelGroup),delete this.shapes[h.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var h=0;h<this.shapes.length;h++){var f=this.shapes[h];f&&f.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(h){if(h.hasOwnProperty("x")&&h.hasOwnProperty("y")&&h.hasOwnProperty("z"))return h;var f=this.getAtomsFromSel(h);if(f.length==0)return{x:0,y:0,z:0};var D=(0,o.getExtent)(f);return{x:D[0][0]+(D[1][0]-D[0][0])/2,y:D[0][1]+(D[1][1]-D[0][1])/2,z:D[0][2]+(D[1][2]-D[0][2])/2}}addSphere(h){h=h||{},h.center=this.getSelectionCenter(h.center);var f=new p.GLShape(h);return f.shapePosition=this.shapes.length,f.addSphere(h),this.shapes.push(f),f.finalize(),f}addBox(h={}){h.corner!=null&&(h.corner=this.getSelectionCenter(h.corner)),h.center!=null&&(h.center=this.getSelectionCenter(h.center));var f=new p.GLShape(h);return f.shapePosition=this.shapes.length,f.addBox(h),this.shapes.push(f),f.finalize(),f}addArrow(h={}){h.start=this.getSelectionCenter(h.start),h.end=this.getSelectionCenter(h.end);var f=new p.GLShape(h);return f.shapePosition=this.shapes.length,f.addArrow(h),this.shapes.push(f),f.finalize(),f}addCylinder(h={}){h.start=this.getSelectionCenter(h.start),h.end=this.getSelectionCenter(h.end);var f=new p.GLShape(h);return f.shapePosition=this.shapes.length,h.dashed?f.addDashedCylinder(h):f.addCylinder(h),this.shapes.push(f),f.finalize(),f}addCurve(h={}){var f=new p.GLShape(h);return f.shapePosition=this.shapes.length,f.addCurve(h),this.shapes.push(f),f.finalize(),f}addLine(h={}){h.start=this.getSelectionCenter(h.start),h.end=this.getSelectionCenter(h.end),h.wireframe=!0;var f=new p.GLShape(h);return f.shapePosition=this.shapes.length,h.dashed?f=this.addLineDashed(h,f):f.addLine(h),this.shapes.push(f),f.finalize(),f}addUnitCell(h,f){h=this.getModel(h),f=f||{alabel:"a",blabel:"b",clabel:"c"},f.box=f.box||{},f.astyle=f.astyle||{color:"red",radius:.1,midpos:-1},f.bstyle=f.bstyle||{color:"green",radius:.1,midpos:-1},f.cstyle=f.cstyle||{color:"blue",radius:.1,midpos:-1},f.alabelstyle=f.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},f.blabelstyle=f.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},f.clabelstyle=f.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},h.unitCellObjects&&this.removeUnitCell(h),h.unitCellObjects={shapes:[],labels:[]};var D=h.getCrystData(),M=null;if(D){if(D.matrix)M=D.matrix;else{var N=D.a,k=D.b,z=D.c,O=D.alpha,I=D.beta,H=D.gamma;O=O*Math.PI/180,I=I*Math.PI/180,H=H*Math.PI/180;var Y,q,G;Y=Math.cos(I),q=(Math.cos(O)-Math.cos(I)*Math.cos(H))/Math.sin(H),G=Math.sqrt(Math.max(0,1-Y*Y-q*q)),M=new a.Matrix3(N,k*Math.cos(H),z*Y,0,k*Math.sin(H),z*q,0,0,z*G)}var $=[new a.Vector3(0,0,0),new a.Vector3(1,0,0),new a.Vector3(0,1,0),new a.Vector3(0,0,1),new a.Vector3(1,1,0),new a.Vector3(0,1,1),new a.Vector3(1,0,1),new a.Vector3(1,1,1)];if(D.matrix4)for(let V=0;V<$.length;V++)D.size&&$[V].multiplyVectors($[V],D.size),$[V]=$[V].applyMatrix4(D.matrix4);else for(let V=0;V<$.length;V++)$[V]=$[V].applyMatrix3(M);if(f.box&&!f.box.hidden){f.box.wireframe=!0;var R=new p.GLShape(f.box);R.shapePosition=this.shapes.length,R.addLine({start:$[0],end:$[1]}),R.addLine({start:$[0],end:$[2]}),R.addLine({start:$[1],end:$[4]}),R.addLine({start:$[2],end:$[4]}),R.addLine({start:$[0],end:$[3]}),R.addLine({start:$[3],end:$[5]}),R.addLine({start:$[2],end:$[5]}),R.addLine({start:$[1],end:$[6]}),R.addLine({start:$[4],end:$[7]}),R.addLine({start:$[6],end:$[7]}),R.addLine({start:$[3],end:$[6]}),R.addLine({start:$[5],end:$[7]}),this.shapes.push(R),h.unitCellObjects.shapes.push(R),R.finalize()}if(!f.astyle.hidden){f.astyle.start=$[0],f.astyle.end=$[1];let V=this.addArrow(f.astyle);h.unitCellObjects.shapes.push(V)}if(!f.bstyle.hidden){f.bstyle.start=$[0],f.bstyle.end=$[2];let V=this.addArrow(f.bstyle);h.unitCellObjects.shapes.push(V)}if(!f.cstyle.hidden){f.cstyle.start=$[0],f.cstyle.end=$[3];let V=this.addArrow(f.cstyle);h.unitCellObjects.shapes.push(V)}if(f.alabel){f.alabelstyle.position=$[1];let V=this.addLabel(f.alabel,f.alabelstyle);h.unitCellObjects.labels.push(V)}if(f.blabel){f.blabelstyle.position=$[2];let V=this.addLabel(f.blabel,f.blabelstyle);h.unitCellObjects.labels.push(V)}if(f.clabel){f.clabelstyle.position=$[3];let V=this.addLabel(f.clabel,f.clabelstyle);h.unitCellObjects.labels.push(V)}}}removeUnitCell(h){if(h=this.getModel(h),h.unitCellObjects){let f=this;h.unitCellObjects.shapes.forEach(function(D){f.removeShape(D)}),h.unitCellObjects.labels.forEach(function(D){f.removeLabel(D)})}delete h.unitCellObjects}replicateUnitCell(h=3,f=h,D=f,M,N){M=this.getModel(M);let k=M.getCrystData();if(k){let z=M.selectedAtoms({}),O=k.matrix,I=function(H){return H%2==0?-H/2:Math.ceil(H/2)};for(let H=0;H<h;H++)for(let Y=0;Y<f;Y++)for(let q=0;q<D;q++){if(H==0&&Y==0&&q==0)continue;let G=new a.Vector3(I(H),I(Y),I(q));G.applyMatrix3(O);let $=[];for(let R=0;R<z.length;R++){let V={};for(let X in z[R])V[X]=z[R][X];V.x+=G.x,V.y+=G.y,V.z+=G.z,$.push(V)}M.addAtoms($)}N&&M.assignBonds()}}addLineDashed(h,f){h.dashLength=h.dashLength||.5,h.gapLength=h.gapLength||.5;var D;h.start?D=new a.Vector3(h.start.x||0,h.start.y||0,h.start.z||0):D=new a.Vector3(0,0,0);var M;h.end?M=new a.Vector3(h.end.x,h.end.y||0,h.end.z||0):M=new a.Vector3(0,0,0);var N=new a.Vector3,k=new a.Vector3,z=new a.Vector3,O,I,H,Y=D.clone(),q=0;for(N.subVectors(M,D),O=N.length(),N.normalize(),k=N.clone(),z=N.clone(),k.multiplyScalar(h.dashLength),z.multiplyScalar(h.gapLength),I=k.length(),H=z.length();q<O;){if(q+I>O){h.start=D,h.end=M,f.addLine(h);break}Y.addVectors(D,k),h.start=D,h.end=Y,f.addLine(h),D=Y.clone(),q+=I,Y.addVectors(D,z),D=Y.clone(),q+=H}return f.finalize(),f}addCustom(h){h=h||{};var f=new p.GLShape(h);return f.shapePosition=this.shapes.length,f.addCustom(h),this.shapes.push(f),f.finalize(),f}addVolumetricData(h,f,D={}){var M=new _.VolumeData(h,f);return D.hasOwnProperty("transferfn")?this.addVolumetricRender(M,D):this.addIsosurface(M,D)}addIsosurface(h,f={},D){var M=new p.GLShape(f);return M.shapePosition=this.shapes.length,M.addIsosurface(h,f,D),this.shapes.push(M),M}addVolumetricRender(h,f){f=f||{};var D=new S.GLVolumetricRender(h,f);return D.shapePosition=this.shapes.length,this.shapes.push(D),D}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(h){h?this.scene.fog=new n.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(h){this.viewer_frame=h;let f=this;return new Promise(function(D){var M=f.models.map(function(N){return N.setFrame(h,f)});Promise.all(M).then(function(){D()})})}getFrame(){return this.viewer_frame}getNumFrames(){var h=0;for(let f=0;f<this.models.length;f++)this.models[f].getNumFrames()>h&&(h=this.models[f].getNumFrames());for(let f=0;f<this.shapes.length;f++)this.shapes[f].frame&&this.shapes[f].frame>=h&&(h=this.shapes[f].frame+1);for(let f=0;f<this.labels.length;f++)this.labels[f].frame&&this.labels[f].frame>=h&&(h=this.labels[f].frame+1);return h}animate(h){this.incAnim();var f=100,D="forward",M=0;h=h||{},h.interval&&(f=h.interval),h.loop&&(D=h.loop),h.reps&&(M=h.reps);var N=this.getNumFrames(),k=this,z=0;h.startFrame&&(z=h.startFrame%N);var O=1;h.step&&(O=h.step,M/=O);var I=0,H=N*M,Y=new Date,q,G,$=function(R){Y=new Date,R=="forward"?k.setFrame(z).then(function(){z=(z+O)%N,q()}):R=="backward"?k.setFrame(N-1-z).then(function(){z=(z+O)%N,q()}):k.setFrame(z).then(function(){z+=O,O*=z%(N-1)==0?-1:1,q()})};return q=function(){if(k.render(),!k.getCanvas().isConnected)k.stopAnimate();else if(++I==H||!k.isAnimated())G.cancel(),k.animationTimers.delete(G),k.decAnim();else{var R=f-(new Date().getTime()-Y.getTime());R=R>0?R:0,k.animationTimers.delete(G),G=new o.PausableTimer($,R,D),k.animationTimers.add(G)}},G=new o.PausableTimer($,0,D),this.animationTimers.add(G),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(h){h.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(h){h.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(h){h.resume()}),this}isAnimated(){return this.animated>0}addModel(h,f="",D){D&&!D.defaultcolors?(D.defaultcolors=this.defaultcolors,D.cartoonQuality=D.cartoonQuality||this.config.cartoonQuality):typeof D>"u"&&(D={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality});var M=new u.GLModel(this.models.length,D);return M.addMolData(h,f,D),this.models.push(M),M}addModels(h,f,D){D=D||{},D.multimodel=!0,D.frames=!0;for(var M=u.GLModel.parseMolData(h,f,D),N=0;N<M.length;N++){var k=new u.GLModel(this.models.length,this.defaultcolors);k.setAtomDefaults(M[N]),k.addFrame(M[N]),k.setFrame(0),M.modelData&&k.setModelData(M.modelData[N]),k.setDontDuplicateAtoms(!D.duplicateAssemblyAtoms),this.models.push(k)}return this.models}addModelsAsFrames(h,f,D){D=D||{},D.multimodel=!0,D.frames=!0;var M=new u.GLModel(this.models.length,this.defaultcolors);return M.addMolData(h,f,D),this.models.push(M),M}addAsOneMolecule(h,f,D){D=D||{},D.multimodel=!0,D.onemol=!0;var M=new u.GLModel(this.models.length,this.defaultcolors);return M.addMolData(h,f,D),this.models.push(M),M}removeModel(h){if(h=this.getModel(h),!!h){for(h.removegl(this.modelGroup),delete this.models[h.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var h=0;h<this.models.length;h++){var f=this.models[h];f&&f.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(h,f){var D={};return f===void 0?D.m=this.models.map(function(M){return M.toCDObject(h)}):D.m=[this.models[f].toCDObject()],JSON.stringify(D)}exportVRML(){var h=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new n.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var f=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=h,f}createModelFrom(h,f=!1){for(var D=new u.GLModel(this.models.length,this.defaultcolors),M=0;M<this.models.length;M++)if(this.models[M]){var N=this.models[M].selectedAtoms(h);D.addAtoms(N),f&&this.models[M].removeAtoms(N)}return this.models.push(D),D}applyToModels(h,f,D,M,N,k,z){for(var O=this.getModelList(f),I=0;I<O.length;I++)O[I][h](f,D,M,N,k,z)}setStyle(h,f){return typeof f>"u"&&(f=h,h={}),this.applyToModels("setStyle",h,f,!1),this}addStyle(h,f){return typeof f>"u"&&(f=h,h={}),this.applyToModels("setStyle",h,f,!0),this}setClickable(h,f,D){return this.applyToModels("setClickable",h,f,D),this}setHoverable(h,f,D,M){return this.applyToModels("setHoverable",h,f,D,M),this}enableContextMenu(h,f){return this.applyToModels("enableContextMenu",h,f),this}vibrate(h,f,D,M){return this.applyToModels("vibrate",h,f,D,this,M),this}setColorByProperty(h,f,D,M){return this.applyToModels("setColorByProperty",h,f,D,M),this}setColorByElement(h,f){return this.applyToModels("setColorByElement",h,f),this}static getAtomsWithin(h,f){var D=[];for(let N=0;N<h.length;N++){var M=h[N];typeof M>"u"||M.x<f[0][0]||M.x>f[1][0]||M.y<f[0][1]||M.y>f[1][1]||M.z<f[0][2]||M.z>f[1][2]||D.push(M)}return D}static volume(h){var f=h[1][0]-h[0][0],D=h[1][1]-h[0][1],M=h[1][2]-h[0][2];return f*D*M}carveUpExtent(h,f,D){let M=[],N={};for(let Y=0,q=f.length;Y<q;Y++)N[f[Y].index]=Y;let k=function(Y){let q=[];for(let G=0,$=Y.length;G<$;G++)Y[G].index in N&&q.push(N[Y[G].index]);return q},z=function(Y){let q=[];return q[0]=[Y[0][0],Y[0][1],Y[0][2]],q[1]=[Y[1][0],Y[1][1],Y[1][2]],q},O=function(Y){if(v.volume(Y)<v.maxVolume)return[Y];var q=Y[1][0]-Y[0][0],G=Y[1][1]-Y[0][1],$=Y[1][2]-Y[0][2],R;q>G&&q>$?R=0:G>q&&G>$?R=1:R=2;var V=z(Y),X=z(Y),Q=(Y[1][R]-Y[0][R])/2+Y[0][R];V[1][R]=Q,X[0][R]=Q;var te=O(V),we=O(X);return te.concat(we)},I=O(h),H=6;for(let Y=0,q=I.length;Y<q;Y++){let G=z(I[Y]);G[0][0]-=H,G[0][1]-=H,G[0][2]-=H,G[1][0]+=H,G[1][1]+=H,G[1][2]+=H;let $=v.getAtomsWithin(f,G),R=v.getAtomsWithin(D,I[Y]);M.push({extent:I[Y],atoms:k($),toshow:k(R)})}return M}static generateSurfaceMesh(h,f,D){var M=new n.Geometry(!0),N=M.updateGeoGroup(0),k=[];for(let U=0,pe=h.length;U<pe;U++){var z=h[U];z&&(typeof z.surfaceColor<"u"?k[U]=z.surfaceColor:z.color&&(k[U]=s.CC.color(z.color)))}var O=N.vertexArray,I=f.vertices;for(let U=0,pe=I.length;U<pe;U++){let _e=N.vertices*3;O[_e]=I[U].x,O[_e+1]=I[U].y,O[_e+2]=I[U].z,N.vertices++}var H=N.colorArray;if(D.voldata&&D.volscheme){var Y=D.volscheme,q=D.voldata,G=Y.range()||[-1,1];for(let U=0,pe=I.length;U<pe;U++){let _e=q.getVal(I[U].x,I[U].y,I[U].z),ie=s.CC.color(Y.valueToHex(_e,G)),de=U*3;H[de]=ie.r,H[de+1]=ie.g,H[de+2]=ie.b}}else if(k.length>0)for(let U=0,pe=I.length;U<pe;U++){let _e=I[U].atomid,ie=U*3;H[ie]=k[_e].r,H[ie+1]=k[_e].g,H[ie+2]=k[_e].b}var $=f.faces;N.faceidx=$.length,M.initTypedArrays();var R=N.vertexArray,V=N.normalArray,X,Q,te,we;for(let U=0,pe=$.length;U<pe;U+=3){var Pe=$[U],xe=$[U+1],Fe=$[U+2],Ae=Pe*3,be=xe*3,Qe=Fe*3;X=new a.Vector3(R[Ae],R[Ae+1],R[Ae+2]),Q=new a.Vector3(R[be],R[be+1],R[be+2]),te=new a.Vector3(R[Qe],R[Qe+1],R[Qe+2]),te.subVectors(te,Q),X.subVectors(X,Q),te.cross(X),we=te,we.normalize(),V[Ae]+=we.x,V[be]+=we.x,V[Qe]+=we.x,V[Ae+1]+=we.y,V[be+1]+=we.y,V[Qe+1]+=we.y,V[Ae+2]+=we.z,V[be+2]+=we.z,V[Qe+2]+=we.z}N.faceArray=new Uint16Array($);var Xe=new n.Mesh(M,D);return Xe}static generateMeshSyncHelper(h,f,D,M,N,k){var z=new x.ProteinSurface;return z.initparm(f,h!==1,k),z.fillvoxels(N,D),z.buildboundary(),(h==x.SurfaceType.SES||h==x.SurfaceType.MS)&&(z.fastdistancemap(),z.boundingatom(!1),z.fillvoxelswaals(N,D)),z.marchingcube(h),z.getFacesAndVertices(M)}static getMatWithStyle(h){var f=new n.MeshLambertMaterial;f.vertexColors=n.Coloring.VertexColors;for(var D in h)D==="color"||D==="map"||h.hasOwnProperty(D)&&(f[D]=h[D]);return h.opacity!==void 0&&(h.opacity===1?f.transparent=!1:f.transparent=!0),f}addMesh(h){var f={geo:h.geometry,mat:h.material,done:!0,finished:!1},D=this.nextSurfID();return this.surfaces[D]=f,D}static shallowCopy(h){var f=[];let D=h.length;for(let M=0;M<D;M++)f[M]=(0,o.extend)({},h[M]);return f}addSurface(h,f={},D={},M,N,k){let z=this.nextSurfID(),O=null,I=this,H=x.SurfaceType.VDW;typeof h=="string"?v.surfaceTypeMap[h.toUpperCase()]!==void 0?H=v.surfaceTypeMap[h]:console.log("Surface type : "+h+" is not recognized"):typeof h=="number"&&(H=h);var Y=null,q=null,G=v.shallowCopy(this.getAtomsFromSel(D));M?Y=v.shallowCopy(this.getAtomsFromSel(M)):Y=G,(0,o.adjustVolumeStyle)(f);var $=!1,R;for(R=0;R<this.models.length;R++)if(this.models[R]){var V=this.models[R].getSymmetries();if(V.length>1||V.length==1&&!V[0].isIdentity()){$=!0;break}}var X=function(Ae,be,Qe){N?q=v.shallowCopy(I.getAtomsFromSel(N)):q=Qe;var Xe,U=(0,o.getExtent)(Qe,!0);if(f.map&&f.map.prop){var pe=f.map.prop;let Ne=(0,l.getGradient)(f.map.scheme||f.map.gradient||new l.Gradient.RWB),pt=Ne.range();pt||(pt=(0,o.getPropertyRange)(Qe,pe)),f.colorscheme={prop:pe,gradient:Ne}}for(let Ne=0,pt=be.length;Ne<pt;Ne++)Xe=be[Ne],Xe.surfaceColor=(0,o.getColorFromStyle)(Xe,f);var _e=v.volume(U),ie=I.carveUpExtent(U,be,Qe);if(q&&q.length&&q.length>0){var de=(0,o.getExtent)(q,!0),ye=function(Ne,pt){var yt=function(ge,$e){var Oe=ge.extent,at=Oe[1][0]-Oe[0][0],lt=Oe[1][1]-Oe[0][1],se=Oe[1][2]-Oe[0][2],Ge=at-$e[2][0];Ge*=Ge;var Je=lt-$e[2][1];Je*=Je;var mt=se-$e[2][2];return mt*=mt,Ge+Je+mt},le=yt(Ne,de),ue=yt(pt,de);return le-ue};ie.sort(ye)}var je=[];for(let Ne=0,pt=be.length;Ne<pt;Ne++)Xe=be[Ne],je[Ne]={x:Xe.x,y:Xe.y,z:Xe.z,serial:Ne,elem:Xe.elem};var Be=!!x.syncSurface;if(Be){var Ce=function(pt){return new Promise(function(yt){for(var le=v.generateMeshSyncHelper(H,ie[pt].extent,ie[pt].atoms,ie[pt].toshow,je,_e),ue=(0,p.splitMesh)({vertexArr:le.vertices,faceArr:le.faces}),ge=0,$e=ue.length;ge<$e;ge++){le={vertices:ue[ge].vertexArr,faces:ue[ge].faceArr};var Oe=v.generateSurfaceMesh(be,le,O);(0,o.mergeGeos)(Ae.geo,Oe)}I.render(),yt()})},Ie=[];for(let Ne=0;Ne<ie.length;Ne++)Ie.push(Ce(Ne));return Promise.all(Ie).then(function(){return Ae.done=!0,Promise.resolve(z)})}else{var Re=[];H<0&&(H=0);for(let Ne=0,pt=v.numWorkers;Ne<pt;Ne++){var Ke=new Worker($3Dmol.SurfaceWorker);Re.push(Ke),Ke.postMessage({type:-1,atoms:je,volume:_e})}return new Promise(function(Ne,pt){var yt=0,le=function(){!Re||!Re.length||Re.forEach(function(Oe){Oe&&Oe.terminate&&Oe.terminate()})},ue=function(Oe){for(var at=(0,p.splitMesh)({vertexArr:Oe.data.vertices,faceArr:Oe.data.faces}),lt=0,se=at.length;lt<se;lt++){var Ge={vertices:at[lt].vertexArr,faces:at[lt].faceArr},Je=v.generateSurfaceMesh(be,Ge,O);(0,o.mergeGeos)(Ae.geo,Je)}I.render(),yt++,yt==ie.length&&(Ae.done=!0,le(),Ne(z))},ge=function(Oe){le(),console.log(Oe.message+" ("+Oe.filename+":"+Oe.lineno+")"),pt(Oe)};for(let Oe=0;Oe<ie.length;Oe++){var $e=Re[Oe%Re.length];$e.onmessage=ue,$e.onerror=ge,$e.postMessage({type:H,expandedExtent:ie[Oe].extent,extendedAtoms:ie[Oe].atoms,atomsToShow:ie[Oe].toshow})}})}};f=f||{},O=v.getMatWithStyle(f);var Q=[];Q.style=f,Q.atomsel=D,Q.allsel=M,Q.focus=N;var te=null;if($){var we={},Pe={};for(R=0;R<this.models.length;R++)we[R]=[],Pe[R]=[];for(R=0;R<Y.length;R++)we[Y[R].model].push(Y[R]);for(R=0;R<G.length;R++)Pe[G[R].model].push(G[R]);var xe=[];for(R=0;R<this.models.length;R++)Pe[R].length>0&&(Q.push({geo:new n.Geometry(!0),mat:O,done:!1,finished:!1,symmetries:this.models[R].getSymmetries()}),xe.push(X(Q[Q.length-1],we[R],Pe[R])));te=Promise.all(xe)}else Q.push({geo:new n.Geometry(!0),mat:O,done:!1,finished:!1,symmetries:[new a.Matrix4]}),te=X(Q[Q.length-1],Y,G);return this.surfaces[z]=Q,te.surfid=z,k&&typeof k=="function"?(te.then(function(Fe){k(Fe)}),z):te}setSurfaceMaterialStyle(h,f){if((0,o.adjustVolumeStyle)(f),this.surfaces[h]){var D=this.surfaces[h];D.style=f;for(var M=0;M<D.length;M++){var N=D[M].mat=v.getMatWithStyle(f);if(D[M].mat.side=n.FrontSide,f.color){D[M].mat.color=f.color,D[M].geo.colorsNeedUpdate=!0;let k=s.CC.color(f.color);D[M].geo.setColors(function(){return k})}else if(N.voldata&&N.volscheme){let k=N.volscheme,z=N.voldata,O=s.CC,I=k.range()||[-1,1];D[M].geo.setColors(function(H,Y,q){let G=z.getVal(H,Y,q);return O.color(k.valueToHex(G,I))})}D[M].finished=!1}}return this}getSurface(h){return this.surfaces[h]}removeSurface(h){for(var f=this.surfaces[h],D=0;D<f.length;D++)f[D]&&f[D].lastGL&&(f[D].geo!==void 0&&f[D].geo.dispose(),f[D].mat!==void 0&&f[D].mat.dispose(),this.modelGroup.remove(f[D].lastGL));return delete this.surfaces[h],this.show(),this}removeAllSurfaces(){for(var h in this.surfaces)if(this.surfaces.hasOwnProperty(h)){for(var f=this.surfaces[h],D=0;D<f.length;D++)f[D]&&f[D].lastGL&&(f[D].geo!==void 0&&f[D].geo.dispose(),f[D].mat!==void 0&&f[D].mat.dispose(),this.modelGroup.remove(f[D].lastGL));delete this.surfaces[h]}return this.show(),this}jmolMoveTo(){var h=this.modelGroup.position,f="center { "+-h.x+" "+-h.y+" "+-h.z+" }; ",D=this.rotationGroup.quaternion;return f+="moveto .5 quaternion { "+D.x+" "+D.y+" "+D.z+" "+D.w+" };",f}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(h,f){f=f||{};var D=this.getAtomsFromSel(f);if(typeof h=="function")for(let k=0,z=D.length;k<z;k++){let O=D[k];h(O)}else for(let k=0,z=D.length;k<z;k++){var M=D[k];for(let O=0,I=h.length;O<I;O++){let H=h[O];if(H.props)for(var N in H.props)H.props.hasOwnProperty(N)&&this.atomIsSelected(M,H)&&(M.properties||(M.properties={}),M.properties[N]=H.props[N])}}return this}linkViewer(h){return this.linkedViewers.push(h),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(h){this.rotationGroup.position.z=this.CAMERA_Z-h}setAutoEyeSeparation(h,f){var D=this.getPerceivedDistance();return f||(f=5),h||this.camera.position.x>0?this.camera.position.x=D*Math.tan(Math.PI/180*f):this.camera.position.x=-D*Math.tan(Math.PI/180*f),this.camera.lookAt(new a.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(h){this.config.cartoonQuality=h}}v.numWorkers=4,v.maxVolume=64e3,v.surfaceTypeMap={VDW:x.SurfaceType.VDW,MS:x.SurfaceType.MS,SAS:x.SurfaceType.SAS,SES:x.SurfaceType.SES};function y(E,h){if(E=(0,o.getElement)(E),!!E){h=h||{};try{var f=new v(E,h);return f}catch(D){throw"error creating viewer: "+D}}}function b(E,h={},f={}){if(E=(0,o.getElement)(E),!!E){var D=[],M=document.createElement("canvas");f.rows=h.rows,f.cols=h.cols,f.control_all=h.control_all!=null?h.control_all:!1,E.appendChild(M);try{for(var N=0;N<h.rows;N++){for(var k=[],z=0;z<h.cols;z++){f.row=N,f.col=z,f.canvas=M,f.viewers=D,f.control_all=h.control_all;var O=y(E,(0,o.extend)({},f));k.push(O)}D.unshift(k)}}catch(I){throw"error creating viewer grid: "+I}return D}}function C(E){var h=this;if(E=(0,o.getElement)(E),!!E){var f=b(E,{rows:1,cols:2,control_all:!0});this.glviewer1=f[0][0],this.glviewer2=f[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var D=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(N){return typeof h.glviewer1[N]=="function"}),M=0;M<D.length;M++)this[D[M]]=function(N){return function(){var k=this.glviewer1[N].apply(this.glviewer1,arguments),z=this.glviewer2[N].apply(this.glviewer2,arguments);return[k,z]}}(D[M]);this.setCoordinates=function(N,k,z){for(var O=0;O<N.length;O++)N[O].setCoordinates(k,z)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(N){this.glviewer1.render(),this.glviewer2.render(),N&&N(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CustomLinear:()=>p,Gradient:()=>x,GradientType:()=>a,ROYGB:()=>u,RWB:()=>l,Sinebow:()=>g,builtinGradients:()=>_,getGradient:()=>o,normalizeValue:()=>s});var n=r("./src/colors.ts");class a{}function s(S,w,c){return w>=S?(c<S&&(c=S),c>w&&(c=w),{lo:S,hi:w,val:c}):(c>S&&(c=S),c<w&&(c=w),c=S-c+w,{lo:w,hi:S,val:c})}function o(S){if(S instanceof a)return S;if(S.gradient!==void 0&&_[S.gradient]){let w=S.min===void 0?-1:S.min,c=S.max===void 0?1:S.max;return S.mid===void 0?S.colors===void 0?new _[S.gradient](w,c):new _[S.gradient](w,c,S.colors):new _[S.gradient](w,c,S.mid)}return S}class l extends a{constructor(w,c,v){super(),this.gradient="RWB",this.mult=1,this.mid=v,this.min=w,this.max=c,typeof c>"u"&&Array.isArray(w)&&w.length>=2?(this.max=w[1],this.min=w[0]):w&&c&&!Array.isArray(w)&&(this.min=w,this.max=c)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(w,c){var v,y;if(w=this.mult*w,c?(v=c[0],y=c[1]):(v=this.min,y=this.max),w===void 0)return 16777215;var b=s(v,y,w);v=b.lo,y=b.hi,w=b.val;var C=(y+v)/2;c&&typeof c[2]<"u"?C=c[2]:typeof this.mid<"u"?C=this.mid:C=(v+y)/2;var E,h;return w<C?(E=Math.floor(255*Math.sqrt((w-v)/(C-v))),h=16711680+256*E+E,h):w>C?(E=Math.floor(255*Math.sqrt(1-(w-C)/(y-C))),h=65536*E+256*E+255,h):16777215}}class u extends a{constructor(w,c){super(),this.gradient="ROYGB",this.mult=1,this.min=w,this.max=c,typeof c>"u"&&Array.isArray(w)&&w.length>=2?(this.max=w[1],this.min=w[0]):w&&c&&!Array.isArray(w)&&(this.min=w,this.max=c)}valueToHex(w,c){var v,y;if(w=this.mult*w,c?(v=c[0],y=c[1]):(v=this.min,y=this.max),typeof w>"u")return 16777215;var b=s(v,y,w);v=b.lo,y=b.hi,w=b.val;var C=(v+y)/2,E=(v+C)/2,h=(C+y)/2,f,D;return w<E?(f=Math.floor(255*Math.sqrt((w-v)/(E-v))),D=16711680+256*f+0,D):w<C?(f=Math.floor(255*Math.sqrt(1-(w-E)/(C-E))),D=65536*f+65280+0,D):w<h?(f=Math.floor(255*Math.sqrt((w-C)/(h-C))),D=65280+1*f,D):(f=Math.floor(255*Math.sqrt(1-(w-h)/(y-h))),D=0+256*f+255,D)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class g extends a{constructor(w,c){super(),this.gradient="Sinebow",this.mult=1,this.min=w,this.max=c,typeof c>"u"&&Array.isArray(w)&&w.length>=2&&(this.max=w[1],this.min=w[0]),c<w&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(w,c){var v,y;if(w=this.mult*w,c?(v=c[0],y=c[1]):(v=this.min,y=this.max),typeof w>"u")return 16777215;var b=x.normalizeValue(v,y,w);v=b.lo,y=b.hi,w=b.val;var C=(w-v)/(y-v),E=5*C/6+.5,h=Math.sin(Math.PI*E);h*=h*255;var f=Math.sin(Math.PI*(E+1/3));f*=f*255;var D=Math.sin(Math.PI*(E+2/3));return D*=D*255,65536*Math.floor(h)+256*Math.floor(D)+1*Math.floor(f)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class p extends a{constructor(w,c,v){super(),this.gradient="linear",this.colors=new Array;var y;if(Array.isArray(w)&&w.length>=2?(this.max=w[1],this.min=w[0],y=c):(this.min=w,this.max=c,y=v),y)for(let b of y)this.colors.push(n.CC.color(b));else this.colors.push(n.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(w,c){var v,y;if(c?(v=c[0],y=c[1]):(v=this.min,y=this.max),w===void 0)return 16777215;var b=s(v,y,w);v=b.lo,y=b.hi,w=b.val;let C=this.colors.length,E=(y-v)/C,h=Math.min(Math.floor((w-v)/E),C-1),f=Math.min(h+1,C-1),D=(w-v-h*E)/E,M=this.colors[h],N=this.colors[f];return new n.Color(M.r+D*(N.r-M.r),M.g+D*(N.g-M.g),M.b+D*(N.b-M.b)).getHex()}}let _={rwb:l,RWB:l,roygb:u,ROYGB:u,sinebow:g,linear:p};class x extends a{valueToHex(w,c){return 0}range(){return null}}x.RWB=l,x.ROYGB=u,x.Sinebow=g,x.CustomLinear=p,x.builtinGradients=_,x.normalizeValue=s,x.getGradient=o},"./src/Label.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Label:()=>g,LabelCount:()=>o});var n=r("./src/WebGL/index.ts"),a=r("./src/Gradient.ts"),s=r("./src/colors.ts");let o=0;function l(p,_,x,S,w,c,v){p.beginPath(),p.moveTo(_+c,x),p.lineTo(_+S-c,x),p.quadraticCurveTo(_+S,x,_+S,x+c),p.lineTo(_+S,x+w-c),p.quadraticCurveTo(_+S,x+w,_+S-c,x+w),p.lineTo(_+c,x+w),p.quadraticCurveTo(_,x+w,_,x+w-c),p.lineTo(_,x+c),p.quadraticCurveTo(_,x,_+c,x),p.closePath(),p.fill(),v&&p.stroke()}function u(p,_,x){var S=x;return typeof p<"u"&&(p instanceof s.Color?S=p.scaled():(S=s.CC.color(p),typeof S.scaled<"u"&&(S=S.scaled()))),typeof _<"u"&&(S.a=parseFloat(_)),S}class g{constructor(_,x){this.id=o++,this.stylespec=x||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new n.Sprite,this.text=_,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}setContext(){var _=this.stylespec,x=typeof _.useScreen>"u"?!1:_.useScreen,S=_.showBackground;(S==="0"||S==="false")&&(S=!1),typeof S>"u"&&(S=!0);var w=_.font?_.font:"sans-serif",c=parseInt(_.fontSize)?parseInt(_.fontSize):18,v=u(_.fontColor,_.fontOpacity,{r:255,g:255,b:255,a:1}),y=_.padding?_.padding:4,b=_.borderThickness?_.borderThickness:0,C=u(_.backgroundColor,_.backgroundOpacity,{r:0,g:0,b:0,a:1}),E=u(_.borderColor,_.borderOpacity,C),h=_.position?_.position:{x:-10,y:1,z:1},f=_.inFront!==void 0?_.inFront:!0;(f==="false"||f==="0")&&(f=!1);var D=_.alignment||n.SpriteAlignment.topLeft;typeof D=="string"&&D in n.SpriteAlignment&&(D=n.SpriteAlignment[D]);var M="";_.bold&&(M="bold "),this.context.font=M+c+"px  "+w;var N=this.context.measureText(this.text),k=N.width;S||(b=0);var z=k+2.5*b+2*y,O=c*1.25+2*b+2*y;if(_.backgroundImage){var I=_.backgroundImage,H=_.backgroundWidth?_.backgroundWidth:I.width,Y=_.backgroundHeight?_.backgroundHeight:I.height;H>z&&(z=H),Y>O&&(O=Y)}if(this.canvas.width=z,this.canvas.height=O,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),M="",_.bold&&(M="bold "),this.context.font=M+c+"px  "+w,this.context.fillStyle="rgba("+C.r+","+C.g+","+C.b+","+C.a+")",this.context.strokeStyle="rgba("+E.r+","+E.g+","+E.b+","+E.a+")",_.backgroundGradient){let G=this.context.createLinearGradient(0,O/2,z,O/2),$=a.Gradient.getGradient(_.backgroundGradient),R=$.range(),V=-1,X=1;R&&(V=R[0],X=R[1]);let Q=X-V;for(let te=0;te<1.01;te+=.1){let we=u($.valueToHex(V+Q*te)),Pe="rgba("+we.r+","+we.g+","+we.b+","+we.a+")";G.addColorStop(te,Pe)}this.context.fillStyle=G}this.context.lineWidth=b,S&&l(this.context,b,b,z-2*b,O-2*b,6,b>0),_.backgroundImage&&this.context.drawImage(I,0,0,z,O),this.context.fillStyle="rgba("+v.r+","+v.g+","+v.b+","+v.a+")",this.context.fillText(this.text,b+y,c+b+y,k);var q=new n.Texture(this.canvas);q.needsUpdate=!0,this.sprite.material=new n.SpriteMaterial({map:q,useScreenCoordinates:x,alignment:D,depthTest:!f,screenOffset:_.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(h.x,h.y,h.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MarchingCube:()=>u,MarchingCubeInitializer:()=>l,PointGrid:()=>g,ProteinSurface:()=>p,SurfaceType:()=>a,setSyncSurface:()=>o,syncSurface:()=>s});var n=r("./src/WebGL/math/index.ts"),a;(function(_){_[_.VDW=1]="VDW",_[_.MS=2]="MS",_[_.SAS=3]="SAS",_[_.SES=4]="SES"})(a||(a={}));var s=!1;function o(_){s=_}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(s=!0);class l{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(x,S,w,c){let v=!!c.fulltable,y=c.hasOwnProperty("origin")&&c.origin.hasOwnProperty("x")?c.origin:{x:0,y:0,z:0},b=!!c.voxel,C=c.matrix,E=c.nX||0,h=c.nY||0,f=c.nZ||0,D=c.scale||1,M=null;c.unitCube?M=c.unitCube:M={x:D,y:D,z:D};let N=new Int32Array(E*h*f),k,z;for(k=0,z=N.length;k<z;++k)N[k]=-1;let O=function(q,G,$,R,V,X){let Q={x:0,y:0,z:0},te=!!(R&1<<V),we=!!(R&1<<X),Pe=V;if(!te&&we&&(Pe=X),Pe&1&&$++,Pe&2&&G++,Pe&4&&q++,C){let Fe=new n.Vector3(q,G,$);Fe=Fe.applyMatrix4(C),Q={x:Fe.x,y:Fe.y,z:Fe.z}}else Q.x=y.x+M.x*q,Q.y=y.y+M.y*G,Q.z=y.z+M.z*$;let xe=(h*q+G)*f+$;return b?(S.push(Q),S.length-1):(N[xe]<0&&(N[xe]=S.length,S.push(Q)),N[xe])},I=new Int32Array(12),H=v?this.edgeTable2:this.edgeTable,Y=v?this.triTable2:this.triTable;for(k=0;k<E-1;++k)for(let q=0;q<h-1;++q)for(let G=0;G<f-1;++G){let $=0;for(let X=0;X<8;++X){let Q=(h*(k+((X&4)>>2))+q+((X&2)>>1))*f+G+(X&1),te=!!(x[Q]&this.ISDONE);$|=te<<X}if($===0||$===255)continue;let R=H[$];if(R===0)continue;let V=Y[$];R&1&&(I[0]=O(k,q,G,$,0,1)),R&2&&(I[1]=O(k,q,G,$,1,3)),R&4&&(I[2]=O(k,q,G,$,3,2)),R&8&&(I[3]=O(k,q,G,$,2,0)),R&16&&(I[4]=O(k,q,G,$,4,5)),R&32&&(I[5]=O(k,q,G,$,5,7)),R&64&&(I[6]=O(k,q,G,$,7,6)),R&128&&(I[7]=O(k,q,G,$,6,4)),R&256&&(I[8]=O(k,q,G,$,0,4)),R&512&&(I[9]=O(k,q,G,$,1,5)),R&1024&&(I[10]=O(k,q,G,$,3,7)),R&2048&&(I[11]=O(k,q,G,$,2,6));for(let X=0;X<V.length;X+=3){let Q=I[V[X]],te=I[V[X+1]],we=I[V[X+2]];b&&X>=3&&(S.push(S[Q]),Q=S.length-1,S.push(S[te]),te=S.length-1,S.push(S[we]),we=S.length-1),w.push(Q),w.push(te),w.push(we)}}}laplacianSmooth(x,S,w){let c=new Array(S.length),v,y,b,C,E;for(v=0,y=S.length;v<y;v++)c[v]={x:0,y:0,z:0};let h=new Array(20),f;for(v=0;v<20;v++)h[v]=new Array(S.length);for(v=0,y=S.length;v<y;v++)h[0][v]=0;for(v=0,y=w.length/3;v<y;v++){let N=v*3,k=v*3+1,z=v*3+2;for(f=!0,b=0,C=h[0][w[N]];b<C;b++)if(w[k]==h[b+1][w[N]]){f=!1;break}for(f&&(h[0][w[N]]++,h[h[0][w[N]]][w[N]]=w[k]),f=!0,b=0,C=h[0][w[N]];b<C;b++)if(w[z]==h[b+1][w[N]]){f=!1;break}for(f&&(h[0][w[N]]++,h[h[0][w[N]]][w[N]]=w[z]),f=!0,b=0,C=h[0][w[k]];b<C;b++)if(w[N]==h[b+1][w[k]]){f=!1;break}for(f&&(h[0][w[k]]++,h[h[0][w[k]]][w[k]]=w[N]),f=!0,b=0,C=h[0][w[k]];b<C;b++)if(w[z]==h[b+1][w[k]]){f=!1;break}for(f&&(h[0][w[k]]++,h[h[0][w[k]]][w[k]]=w[z]),f=!0,b=0;b<h[0][w[z]];b++)if(w[N]==h[b+1][w[z]]){f=!1;break}for(f&&(h[0][w[z]]++,h[h[0][w[z]]][w[z]]=w[N]),f=!0,b=0,C=h[0][w[z]];b<C;b++)if(w[k]==h[b+1][w[z]]){f=!1;break}f&&(h[0][w[z]]++,h[h[0][w[z]]][w[z]]=w[k])}let D=1,M=.5;for(E=0;E<x;E++){for(v=0,y=S.length;v<y;v++)if(h[0][v]<3)c[v].x=S[v].x,c[v].y=S[v].y,c[v].z=S[v].z;else if(h[0][v]==3||h[0][v]==4){for(c[v].x=0,c[v].y=0,c[v].z=0,b=0,C=h[0][v];b<C;b++)c[v].x+=S[h[b+1][v]].x,c[v].y+=S[h[b+1][v]].y,c[v].z+=S[h[b+1][v]].z;c[v].x+=M*S[v].x,c[v].y+=M*S[v].y,c[v].z+=M*S[v].z,c[v].x/=M+h[0][v],c[v].y/=M+h[0][v],c[v].z/=M+h[0][v]}else{for(c[v].x=0,c[v].y=0,c[v].z=0,b=0,C=h[0][v];b<C;b++)c[v].x+=S[h[b+1][v]].x,c[v].y+=S[h[b+1][v]].y,c[v].z+=S[h[b+1][v]].z;c[v].x+=D*S[v].x,c[v].y+=D*S[v].y,c[v].z+=D*S[v].z,c[v].x/=D+h[0][v],c[v].y/=D+h[0][v],c[v].z/=D+h[0][v]}for(v=0,y=S.length;v<y;v++)S[v].x=c[v].x,S[v].y=c[v].y,S[v].z=c[v].z}}}let u=new l;class g{constructor(x,S,w){this.data=new Int32Array(x*S*w*3),this.width=S,this.height=w}set(x,S,w,c){let v=((x*this.width+S)*this.height+w)*3;this.data[v]=c.ix,this.data[v+1]=c.iy,this.data[v+2]=c.iz}get(x,S,w){let c=((x*this.width+S)*this.height+w)*3;return{ix:this.data[c],iy:this.data[c+1],iz:this.data[c+2]}}}class p{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],p.MarchingCube||(p.MarchingCube=new l)}getVDWIndex(x){return!x.elem||typeof this.vdwRadii[x.elem]>"u"?"X":x.elem}getFacesAndVertices(x){let S={};for(let v=0,y=x.length;v<y;v++)S[x[v]]=!0;let w=this.verts;for(let v=0,y=w.length;v<y;v++)w[v].x=w[v].x/this.scaleFactor-this.ptranx,w[v].y=w[v].y/this.scaleFactor-this.ptrany,w[v].z=w[v].z/this.scaleFactor-this.ptranz;let c=[];for(let v=0,y=this.faces.length;v<y;v+=3){let b=this.faces[v],C=this.faces[v+1],E=this.faces[v+2],h=w[b].atomid,f=w[C].atomid,D=w[E].atomid,M=h;f<M&&(M=f),D<M&&(M=D),S[M]&&b!==C&&C!==E&&b!==E&&(c.push(b),c.push(C),c.push(E))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:w,faces:c}}initparm(x,S,w){w>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let c=1/this.scaleFactor*5.5;this.pminx=x[0][0],this.pmaxx=x[1][0],this.pminy=x[0][1],this.pmaxy=x[1][1],this.pminz=x[0][2],this.pmaxz=x[1][2],S?(this.pminx-=this.probeRadius+c,this.pminy-=this.probeRadius+c,this.pminz-=this.probeRadius+c,this.pmaxx+=this.probeRadius+c,this.pmaxy+=this.probeRadius+c,this.pmaxz+=this.probeRadius+c):(this.pminx-=c,this.pminy-=c,this.pminz-=c,this.pmaxx+=c,this.pmaxy+=c,this.pmaxz+=c),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(S),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(x){let S={};for(let w in this.vdwRadii){let c=this.vdwRadii[w];x?S[w]=(c+this.probeRadius)*this.scaleFactor+.5:S[w]=c*this.scaleFactor+.5;let v=S[w]*S[w];this.widxz[w]=Math.floor(S[w])+1,this.depty[w]=new Int32Array(this.widxz[w]*this.widxz[w]);let y=0;for(let b=0;b<this.widxz[w];b++)for(let C=0;C<this.widxz[w];C++){let E=b*b+C*C;if(E>v)this.depty[w][y]=-1;else{let h=Math.sqrt(v-E);this.depty[w][y]=Math.floor(h)}y++}}}fillvoxels(x,S){for(let w=0,c=this.vpBits.length;w<c;w++)this.vpBits[w]=0,this.vpDistance[w]=-1,this.vpAtomID[w]=-1;for(let w in S){let c=x[S[w]];c!==void 0&&this.fillAtom(c,x)}for(let w=0,c=this.vpBits.length;w<c;w++)this.vpBits[w]&this.INOUT&&(this.vpBits[w]|=this.ISDONE)}fillAtom(x,S){let w=Math.floor(.5+this.scaleFactor*(x.x+this.ptranx)),c=Math.floor(.5+this.scaleFactor*(x.y+this.ptrany)),v=Math.floor(.5+this.scaleFactor*(x.z+this.ptranz)),y=this.getVDWIndex(x),b=0,C=this.pWidth*this.pHeight;for(let E=0,h=this.widxz[y];E<h;E++)for(let f=0;f<h;f++){if(this.depty[y][b]!=-1){for(let D=-1;D<2;D++)for(let M=-1;M<2;M++)for(let N=-1;N<2;N++)if(D!==0&&M!==0&&N!==0){let k=D*E,z=N*f;for(let O=0;O<=this.depty[y][b];O++){let I=O*M,H=w+k,Y=c+I,q=v+z;if(H<0||Y<0||q<0||H>=this.pLength||Y>=this.pWidth||q>=this.pHeight)continue;let G=H*C+Y*this.pHeight+q;if(!(this.vpBits[G]&this.INOUT))this.vpBits[G]|=this.INOUT,this.vpAtomID[G]=x.serial;else{let $=S[this.vpAtomID[G]];if($.serial!=x.serial){let R=w+k-Math.floor(.5+this.scaleFactor*($.x+this.ptranx)),V=c+I-Math.floor(.5+this.scaleFactor*($.y+this.ptrany)),X=v+z-Math.floor(.5+this.scaleFactor*($.z+this.ptranz));k*k+I*I+z*z<R*R+V*V+X*X&&(this.vpAtomID[G]=x.serial)}}}}}b++}}fillvoxelswaals(x,S){for(let w=0,c=this.vpBits.length;w<c;w++)this.vpBits[w]&=~this.ISDONE;for(let w in S){let c=x[S[w]];c!==void 0&&this.fillAtomWaals(c,x)}}fillAtomWaals(x,S){let w=0,c=Math.floor(.5+this.scaleFactor*(x.x+this.ptranx)),v=Math.floor(.5+this.scaleFactor*(x.y+this.ptrany)),y=Math.floor(.5+this.scaleFactor*(x.z+this.ptranz)),b=this.getVDWIndex(x),C=this.pWidth*this.pHeight;for(let E=0,h=this.widxz[b];E<h;E++)for(let f=0;f<h;f++){if(this.depty[b][w]!=-1){for(let D=-1;D<2;D++)for(let M=-1;M<2;M++)for(let N=-1;N<2;N++)if(D!==0&&M!==0&&N!==0){let k=D*E,z=N*f;for(let O=0;O<=this.depty[b][w];O++){let I=O*M,H=c+k,Y=v+I,q=y+z;if(H<0||Y<0||q<0||H>=this.pLength||Y>=this.pWidth||q>=this.pHeight)continue;let G=H*C+Y*this.pHeight+q;if(!(this.vpBits[G]&this.ISDONE))this.vpBits[G]|=this.ISDONE,this.vpAtomID[G]=x.serial;else{let $=S[this.vpAtomID[G]];if($.serial!=x.serial){let R=c+k-Math.floor(.5+this.scaleFactor*($.x+this.ptranx)),V=v+I-Math.floor(.5+this.scaleFactor*($.y+this.ptrany)),X=y+z-Math.floor(.5+this.scaleFactor*($.z+this.ptranz));k*k+I*I+z*z<R*R+V*V+X*X&&(this.vpAtomID[G]=x.serial)}}}}}w++}}buildboundary(){let x=this.pWidth*this.pHeight;for(let S=0;S<this.pLength;S++)for(let w=0;w<this.pHeight;w++)for(let c=0;c<this.pWidth;c++){let v=S*x+c*this.pHeight+w;if(this.vpBits[v]&this.INOUT){let y=0;for(;y<26;){let b=S+this.nb[y][0],C=w+this.nb[y][2],E=c+this.nb[y][1];if(b>-1&&b<this.pLength&&E>-1&&E<this.pWidth&&C>-1&&C<this.pHeight&&!(this.vpBits[b*x+E*this.pHeight+C]&this.INOUT)){this.vpBits[v]|=this.ISBOUND;break}else y++}}}}fastdistancemap(){let x=new g(this.pLength,this.pWidth,this.pHeight),S=this.pWidth*this.pHeight,w=this.cutRadius*this.cutRadius,c=[],v=[],y;for(let E=0;E<this.pLength;E++)for(let h=0;h<this.pWidth;h++)for(let f=0;f<this.pHeight;f++)if(y=E*S+h*this.pHeight+f,this.vpBits[y]&=~this.ISDONE,this.vpBits[y]&this.INOUT&&this.vpBits[y]&this.ISBOUND){let D={ix:E,iy:h,iz:f};x.set(E,h,f,D),c.push(D),this.vpDistance[y]=0,this.vpBits[y]|=this.ISDONE,this.vpBits[y]&=~this.ISBOUND}do{v=this.fastoneshell(c,x),c=[];for(let E=0,h=v.length;E<h;E++)y=S*v[E].ix+this.pHeight*v[E].iy+v[E].iz,this.vpBits[y]&=~this.ISBOUND,this.vpDistance[y]<=1.0404*w&&c.push({ix:v[E].ix,iy:v[E].iy,iz:v[E].iz})}while(c.length!==0);c=[],v=[],x=null;let b=this.scaleFactor-.5;b<0&&(b=0);let C=w-.5/(.1+b);for(let E=0;E<this.pLength;E++)for(let h=0;h<this.pWidth;h++)for(let f=0;f<this.pHeight;f++)y=E*S+h*this.pHeight+f,this.vpBits[y]&=~this.ISBOUND,this.vpBits[y]&this.INOUT&&(!(this.vpBits[y]&this.ISDONE)||this.vpBits[y]&this.ISDONE&&this.vpDistance[y]>=C)&&(this.vpBits[y]|=this.ISBOUND)}fastoneshell(x,S){let w,c,v,y,b,C,E,h,f,D=[];if(x.length===0)return D;let M={ix:-1,iy:-1,iz:-1},N=this.pWidth*this.pHeight;for(let k=0,z=x.length;k<z;k++){w=x[k].ix,c=x[k].iy,v=x[k].iz,h=S.get(w,c,v);for(let O=0;O<6;O++)M.ix=w+this.nb[O][0],M.iy=c+this.nb[O][1],M.iz=v+this.nb[O][2],M.ix<this.pLength&&M.ix>-1&&M.iy<this.pWidth&&M.iy>-1&&M.iz<this.pHeight&&M.iz>-1&&(f=M.ix*N+this.pHeight*M.iy+M.iz,this.vpBits[f]&this.INOUT&&!(this.vpBits[f]&this.ISDONE)?(S.set(M.ix,M.iy,v+this.nb[O][2],h),y=M.ix-h.ix,b=M.iy-h.iy,C=M.iz-h.iz,E=y*y+b*b+C*C,this.vpDistance[f]=E,this.vpBits[f]|=this.ISDONE,this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})):this.vpBits[f]&this.INOUT&&this.vpBits[f]&this.ISDONE&&(y=M.ix-h.ix,b=M.iy-h.iy,C=M.iz-h.iz,E=y*y+b*b+C*C,E<this.vpDistance[f]&&(S.set(M.ix,M.iy,M.iz,h),this.vpDistance[f]=E,this.vpBits[f]&this.ISBOUND||(this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})))))}for(let k=0,z=x.length;k<z;k++){w=x[k].ix,c=x[k].iy,v=x[k].iz,h=S.get(w,c,v);for(let O=6;O<18;O++)M.ix=w+this.nb[O][0],M.iy=c+this.nb[O][1],M.iz=v+this.nb[O][2],M.ix<this.pLength&&M.ix>-1&&M.iy<this.pWidth&&M.iy>-1&&M.iz<this.pHeight&&M.iz>-1&&(f=M.ix*N+this.pHeight*M.iy+M.iz,this.vpBits[f]&this.INOUT&&!(this.vpBits[f]&this.ISDONE)?(S.set(M.ix,M.iy,v+this.nb[O][2],h),y=M.ix-h.ix,b=M.iy-h.iy,C=M.iz-h.iz,E=y*y+b*b+C*C,this.vpDistance[f]=E,this.vpBits[f]|=this.ISDONE,this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})):this.vpBits[f]&this.INOUT&&this.vpBits[f]&this.ISDONE&&(y=M.ix-h.ix,b=M.iy-h.iy,C=M.iz-h.iz,E=y*y+b*b+C*C,E<this.vpDistance[f]&&(S.set(M.ix,M.iy,M.iz,h),this.vpDistance[f]=E,this.vpBits[f]&this.ISBOUND||(this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})))))}for(let k=0,z=x.length;k<z;k++){w=x[k].ix,c=x[k].iy,v=x[k].iz,h=S.get(w,c,v);for(let O=18;O<26;O++)M.ix=w+this.nb[O][0],M.iy=c+this.nb[O][1],M.iz=v+this.nb[O][2],M.ix<this.pLength&&M.ix>-1&&M.iy<this.pWidth&&M.iy>-1&&M.iz<this.pHeight&&M.iz>-1&&(f=M.ix*N+this.pHeight*M.iy+M.iz,this.vpBits[f]&this.INOUT&&!(this.vpBits[f]&this.ISDONE)?(S.set(M.ix,M.iy,v+this.nb[O][2],h),y=M.ix-h.ix,b=M.iy-h.iy,C=M.iz-h.iz,E=y*y+b*b+C*C,this.vpDistance[f]=E,this.vpBits[f]|=this.ISDONE,this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})):this.vpBits[f]&this.INOUT&&this.vpBits[f]&this.ISDONE&&(y=M.ix-h.ix,b=M.iy-h.iy,C=M.iz-h.iz,E=y*y+b*b+C*C,E<this.vpDistance[f]&&(S.set(M.ix,M.iy,M.iz,h),this.vpDistance[f]=E,this.vpBits[f]&this.ISBOUND||(this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})))))}return D}marchingcubeinit(x){for(let S=0,w=this.vpBits.length;S<w;S++)x==1?this.vpBits[S]&=~this.ISBOUND:x==4?(this.vpBits[S]&=~this.ISDONE,this.vpBits[S]&this.ISBOUND&&(this.vpBits[S]|=this.ISDONE),this.vpBits[S]&=~this.ISBOUND):x==2?this.vpBits[S]&this.ISBOUND&&this.vpBits[S]&this.ISDONE?this.vpBits[S]&=~this.ISBOUND:this.vpBits[S]&this.ISBOUND&&!(this.vpBits[S]&this.ISDONE)&&(this.vpBits[S]|=this.ISDONE):x==3&&(this.vpBits[S]&=~this.ISBOUND)}marchingcube(x){this.marchingcubeinit(x),this.verts=[],this.faces=[],p.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let S=this.pWidth*this.pHeight;for(let w=0,c=this.verts.length;w<c;w++)this.verts[w].atomid=this.vpAtomID[this.verts[w].x*S+this.pHeight*this.verts[w].y+this.verts[w].z];p.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}p.MarchingCube=new l},"./src/VolumeData.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VolumeData:()=>u});var n=r("./src/utilities.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/parsers/VASP.ts"),o=r("./src/parsers/CUBE.ts"),l=r("./node_modules/pako/dist/pako.esm.mjs");class u{constructor(p,_,x){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(y){var b=y/(this.size.y*this.size.z),C=y%(this.size.y*this.size.z),E=y%this.size.z;return b*=this.unit.x,C*=this.unit.y,E*=this.unit.z,b+=this.origin.x,C+=this.origin.y,E+=this.origin.z,{x:b,y:C,z:E}},this.vasp=function(y){var b=y.replace(/^\s+/,"").split(/[\n\r]/),C=(0,s.VASP)(y)[0],E=C.length;if(E==0){console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var h=1.889725992,f=.036749309,D=parseFloat(b[1]),M;M=b[2].replace(/^\s+/,"").split(/\s+/);var N=new a.Vector3(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])).multiplyScalar(D*h);M=b[3].replace(/^\s+/,"").split(/\s+/);var k=new a.Vector3(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])).multiplyScalar(D*h);M=b[4].replace(/^\s+/,"").split(/\s+/);var z=new a.Vector3(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])).multiplyScalar(D*h),O=N.x*(k.y*z.z-z.y*k.z)-k.x*(N.y*z.z-z.y*N.z)+z.x*(N.y*k.z-k.y*N.z);O=Math.abs(O)/Math.pow(h,3);var I=1/O;b.splice(0,8+E+1);var H=b[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Y=Math.abs(parseFloat(H[0])),q=Math.abs(parseFloat(H[1])),G=Math.abs(parseFloat(H[2])),$=this.origin=new a.Vector3(0,0,0);this.size={x:Y,y:q,z:G},this.unit=new a.Vector3(N.x,k.y,z.z),N=N.multiplyScalar(1/(h*Y)),k=k.multiplyScalar(1/(h*q)),z=z.multiplyScalar(1/(h*G)),(N.y!=0||N.z!=0||k.x!=0||k.z!=0||z.x!=0||z.y!=0)&&(this.matrix=new a.Matrix4(N.x,k.x,z.x,0,N.y,k.y,z.y,0,N.z,k.z,z.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new a.Matrix4().makeTranslation($.x,$.y,$.z)),this.origin=new a.Vector3(0,0,0),this.unit=new a.Vector3(1,1,1)),b.splice(0,1);var R=b.join(" ");R=R.replace(/^\s+/,"");var V=R.split(/[\s\r]+/);V.splice(Y*q*G+1);for(var X=Float32Array.from(V,parseFloat),Q=0;Q<X.length;Q++)X[Q]=X[Q]*I*f;this.data=X},this.dx=function(y){var b=y.split(/[\n\r]+/),C,E=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,h=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,f=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,D=/data follows/,M=0;for(M=0;M<b.length;M++){var N=b[M];if(C=E.exec(N)){var k=parseInt(C[1]),z=parseInt(C[2]),O=parseInt(C[3]);this.size={x:k,y:z,z:O}}else if(C=f.exec(N)){var I=parseFloat(C[1]);if((parseFloat(C[2])!=0||parseFloat(C[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),M+=1,N=b[M],C=f.exec(N),C==null){console.log("Parse error in dx delta matrix");return}var H=parseFloat(C[2]);if((parseFloat(C[1])!=0||parseFloat(C[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),M+=1,N=b[M],C=f.exec(N),C==null){console.log("Parse error in dx delta matrix");return}var Y=parseFloat(C[3]);(parseFloat(C[1])!=0||parseFloat(C[2])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new a.Vector3(I,H,Y)}else if(C=h.exec(N)){var q=parseFloat(C[1]),G=parseFloat(C[2]),$=parseFloat(C[3]);this.origin=new a.Vector3(q,G,$)}else if(C=D.exec(N))break}if(M+=1,!this.size||!this.origin||!this.unit||!this.size){console.log("Error parsing dx format");return}var R=b.splice(M).join(" "),V=R.split(/[\s\r]+/);this.data=Float32Array.from(V,parseFloat)},_=_.toLowerCase(),/\.gz$/.test(_)){_=_.replace(/\.gz$/,"");try{this[_]&&this.isbinary.has(_)?(typeof p=="string"&&(p=(0,n.base64ToArray)(p)),p=(0,l.inflate)(p)):p=new TextDecoder("utf-8").decode((0,l.inflate)(p))}catch(y){console.log(y)}}if(this[_]&&(this.isbinary.has(_)&&typeof p=="string"&&(p=(0,n.base64ToArray)(p)),this[_](p)),x){if(x.negate)for(let y=0,b=this.data.length;y<b;y++)this.data[y]=-this.data[y];if(x.normalize){var S=0;for(let y=0,b=this.data.length;y<b;y++)S+=this.data[y];var w=S/this.data.length;S=0;for(let y=0,b=this.data.length;y<b;y++){var c=this.data[y]-w;S+=c*c}var v=S/this.data.length;for(let y=0,b=this.data.length;y<b;y++)this.data[y]=(this.data[y]-w)/v}}}getIndex(p,_,x){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new a.Matrix4().getInverse(this.matrix));var S=new a.Vector3(p,_,x);S=S.applyMatrix4(this.inversematrix),p=S.x,_=S.y,x=S.z}else p-=this.origin.x,_-=this.origin.y,x-=this.origin.z,p/=this.unit.x,_/=this.unit.y,x/=this.unit.z;return p=Math.round(p),_=Math.round(_),x=Math.round(x),p<0||p>=this.size.x||_<0||_>=this.size.y||x<0||x>=this.size.z?-1:p*this.size.y*this.size.z+_*this.size.z+x}getVal(p,_,x){let S=this.getIndex(p,_,x);return S<0?0:this.data[S]}cube(p){var _=p.split(/\r?\n/);if(!(_.length<6)){var x=(0,o.CUBE)(p,{}).modelData[0].cryst,S=_[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w=parseFloat(S[0]),c=Math.abs(w);this.origin=x.origin,this.size=x.size,this.unit=x.unit,this.matrix=x.matrix4;var v=6;w<0&&v++;var y=_.splice(c+v).join(" ");y=y.replace(/^\s+/,"");var b=y.split(/[\s\r]+/);this.data=Float32Array.from(b,parseFloat)}}ccp4(p){var _={};p=new Int8Array(p);var x=new Int32Array(p.buffer,0,56),S=new Float32Array(p.buffer,0,56),w=new DataView(p.buffer);if(_.MAP=String.fromCharCode(w.getUint8(208),w.getUint8(209),w.getUint8(210),w.getUint8(211)),_.MACHST=[w.getUint8(212),w.getUint8(213)],_.MACHST[0]===17&&_.MACHST[1]===17)for(var c=p.byteLength,v=0;v<c;v+=4)w.setFloat32(v,w.getFloat32(v),!0);_.NX=x[0],_.NY=x[1],_.NZ=x[2],_.MODE=x[3],_.NXSTART=x[4],_.NYSTART=x[5],_.NZSTART=x[6],_.MX=x[7],_.MY=x[8],_.MZ=x[9],_.xlen=S[10],_.ylen=S[11],_.zlen=S[12],_.alpha=S[13],_.beta=S[14],_.gamma=S[15],_.MAPC=x[16],_.MAPR=x[17],_.MAPS=x[18],_.DMIN=S[19],_.DMAX=S[20],_.DMEAN=S[21],_.ISPG=x[22],_.NSYMBT=x[23],_.LSKFLG=x[24],_.originX=S[49],_.originY=S[50],_.originZ=S[51],_.ARMS=S[54];var y=_,b=[y.xlen,0,0],C=[y.ylen*Math.cos(Math.PI/180*y.gamma),y.ylen*Math.sin(Math.PI/180*y.gamma),0],E=[y.zlen*Math.cos(Math.PI/180*y.beta),y.zlen*(Math.cos(Math.PI/180*y.alpha)-Math.cos(Math.PI/180*y.gamma)*Math.cos(Math.PI/180*y.beta))/Math.sin(Math.PI/180*y.gamma),0];E[2]=Math.sqrt(y.zlen*y.zlen*Math.sin(Math.PI/180*y.beta)*Math.sin(Math.PI/180*y.beta)-E[1]*E[1]);var h=[0,b,C,E],f=[0,y.MX,y.MY,y.MZ],D=[0,y.MAPC,y.MAPR,y.MAPS];this.matrix=new a.Matrix4,this.matrix.set(h[D[1]][0]/f[D[1]],h[D[2]][0]/f[D[2]],h[D[3]][0]/f[D[3]],0,h[D[1]][1]/f[D[1]],h[D[2]][1]/f[D[2]],h[D[3]][1]/f[D[3]],0,h[D[1]][2]/f[D[1]],h[D[2]][2]/f[D[2]],h[D[3]][2]/f[D[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new a.Matrix4().makeTranslation(y.NXSTART+y.originX,y.NYSTART+y.originY,y.NZSTART+y.originZ)),this.origin=new a.Vector3(0,0,0),this.unit=new a.Vector3(1,1,1),this.size={x:_.NX,y:_.NY,z:_.NZ},this.dimensionorder=[_.MAPC,_.MAPR,_.MAPS];var M=new Float32Array(p.buffer,1024+_.NSYMBT),N=_.NX,k=_.NY,z=_.NZ;this.data=new Float32Array(N*k*z);for(let O=0;O<N;O++)for(let I=0;I<k;I++)for(let H=0;H<z;H++)this.data[(O*k+I)*z+H]=M[(H*k+I)*N+O]}}},"./src/VolumetricRender.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLVolumetricRender:()=>u});var n=r("./src/WebGL/shapes/index.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/index.ts"),o=r("./src/colors.ts"),l=r("./src/GLShape.ts");class u{static interpolateArray(p,_){function x(E,h,f){return E+(h-E)*f}var S=[],w=(p.length-1)/(_-1);S[0]=p[0];for(var c=1;c<_-1;c++){var v=c*w,y=Math.floor(v),b=Math.ceil(v),C=v-y;S[c]=x(p[y],p[b],C)}return S[_-1]=p[p.length-1],S}constructor(p,_){this.hidden=!1,this.boundingSphere=new n.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,_=_||{};var x=Object.assign([],_.transferfn);this.subsamples=_.subsamples||5;let S=256;x.forEach(function(N){N.value=parseFloat(N.value)}),x.sort(function(N,k){return N.value-k.value}),this.min=x[0].value,x.length==0&&x.push(x[0]),this.max=x[x.length-1].value;var w,c,v,y,b,C,E,h,f,D;for(let N=0;N<x.length-1;N++)if(v=o.CC.color(x[N].color),y=o.CC.color(x[N+1].color),f=x[N].opacity,D=x[N+1].opacity,w=Math.floor((x[N].value-this.min)*S/(this.max-this.min)),c=Math.floor((x[N+1].value-this.min)*S/(this.max-this.min)),w!=c){b=u.interpolateArray([v.r*255,y.r*255],c-w),C=u.interpolateArray([v.g*255,y.g*255],c-w),E=u.interpolateArray([v.b*255,y.b*255],c-w),h=u.interpolateArray([f*255,D*255],c-w);for(let k=0;k<b.length;k++)this.transferfunctionbuffer.push(b[k]),this.transferfunctionbuffer.push(C[k]),this.transferfunctionbuffer.push(E[k]),this.transferfunctionbuffer.push(h[k])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),p.matrix){let N=new a.Vector3(0,0,0),k=new a.Vector3(p.size.x,p.size.y,p.size.z),z=new a.Vector3(1,1,1);N.applyMatrix4(p.matrix),k.applyMatrix4(p.matrix),z.applyMatrix4(p.matrix).sub(N),this.extent=[[N.x,N.y,N.z],[k.x,k.y,k.z]];for(let Y=1;Y<7;Y++)k.x=Y&1?p.size.x:0,k.y=Y&2?p.size.y:0,k.z=Y&4?p.size.z:0,k.applyMatrix4(p.matrix),this.extent[0][0]=Math.min(this.extent[0][0],k.x),this.extent[0][1]=Math.min(this.extent[0][1],k.y),this.extent[0][2]=Math.min(this.extent[0][2],k.z),this.extent[1][0]=Math.max(this.extent[1][0],k.x),this.extent[1][1]=Math.max(this.extent[1][1],k.y),this.extent[1][2]=Math.max(this.extent[1][2],k.z);let O=k.x-N.x,I=k.y-N.y,H=k.z-N.z;this.maxdepth=Math.sqrt(O*O+I*I+H*H),this.minunit=Math.min(Math.min(z.x,z.y),z.z),this.texmatrix=new a.Matrix4().identity().scale({x:p.size.x,y:p.size.y,z:p.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(p.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new a.Matrix4().identity();let N=p.unit.x*p.size.x,k=p.unit.y*p.size.y,z=p.unit.z*p.size.z;this.texmatrix.makeTranslation(-p.origin.x/N,-p.origin.y/k,-p.origin.z/z),this.texmatrix.scale({x:1/N,y:1/k,z:1/z}),this.minunit=Math.min(Math.min(p.unit.x,p.unit.y),p.unit.z),this.extent=[[p.origin.x,p.origin.y,p.origin.z],[p.origin.x+N,p.origin.y+k,p.origin.z+z]],this.maxdepth=Math.sqrt(N*N+k*k+z*z)}var M=new l.GLShape({});if(M.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=M.finalize(),this.boundingSphere.center=new a.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,_.coords!==void 0&&_.seldist!==void 0){let N=new Uint8Array(p.data.length),k=_.seldist,z=k*k;for(let O=0,I=_.coords.length;O<I;O++){let H=_.coords[O],Y=H.x-k,q=H.y-k,G=H.z-k,$=H.x+k,R=H.y+k,V=H.z+k;if(p.getIndex(Y,q,G)>=0||p.getIndex($,R,V)>=0)for(let X=Y;X<$;X+=this.minunit)for(let Q=q;Q<R;Q+=this.minunit)for(let te=G;te<V;te+=this.minunit){let we=p.getIndex(X,Q,te);we>=0&&!N[we]&&(X-H.x)*(X-H.x)+(Q-H.y)*(Q-H.y)+(te-H.z)*(te-H.z)<z&&(N[we]=1)}}for(let O=0,I=p.data.length;O<I;O++)N[O]==0&&(p.data[O]=1/0)}this.data=p}globj(p){if(this.renderedShapeObj&&(p.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new s.Object3D;var _=null,x=new s.Texture(this.data,!0),S=new s.Texture(this.transferfunctionbuffer,!1);x.needsUpdate=!0,S.needsUpdate=!0,S.flipY=!1,_=new s.VolumetricMaterial({transferfn:S,transfermin:this.min,transfermax:this.max,map:x,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var w=new s.Mesh(this.geo,_);this.shapeObj.add(w),this.renderedShapeObj=this.shapeObj.clone(),p.add(this.renderedShapeObj)}}removegl(p){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),p.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Camera:()=>s});var n=r("./src/WebGL/core/index.ts"),a=r("./src/WebGL/math/index.ts");class s extends n.Object3D{constructor(l=50,u=1,g=.1,p=2e3,_=!1){super(),this.projectionMatrix=new a.Matrix4,this.projectionMatrixInverse=new a.Matrix4,this.matrixWorldInverse=new a.Matrix4,this.fov=l,this.aspect=u,this.near=g,this.far=p;var x=this.position.z;this.right=x*Math.tan(Math.PI/180*l),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!_,this.updateProjectionMatrix()}lookAt(l){this.matrix.lookAt(this.position,l,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof a.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Fog:()=>a});var n=r("./src/colors.ts");class a{constructor(o,l=1,u=1e3){this.name="",this.color=new n.Color(o),this.near=l,this.far=u}clone(){return new a(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Renderer:()=>S});var n=r("./src/WebGL/Camera.ts"),a=r("./src/WebGL/constants/Sides.ts"),s=r("./src/WebGL/constants/TextureConstants.ts"),o=r("./src/WebGL/core/index.ts"),l=r("./src/colors.ts"),u=r("./src/WebGL/materials/index.ts"),g=r("./src/WebGL/math/index.ts"),p=r("./src/WebGL/objects/index.ts"),_=r("./src/WebGL/shaders/index.ts"),x=r("./src/WebGL/SpritePlugin.ts");class S{constructor(c){this.context=null,this.devicePixelRatio=1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._projScreenMatrix=new g.Matrix4,this._vector3=new g.Vector3,this._worldInverse=new g.Matrix4,this._projInverse=new g.Matrix4,this._textureMatrix=new g.Matrix4,this._direction=new g.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new x.SpritePlugin,this._screenshader=null,this._vertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,c=c||{},this.row=c.row,this.col=c.col,this.rows=c.rows,this.cols=c.cols,this._canvas=c.canvas!==void 0?c.canvas:document.createElement("canvas"),this._precision=c.precision!==void 0?c.precision:"highp",this._alpha=c.alpha!==void 0?c.alpha:!0,this._premultipliedAlpha=c.premultipliedAlpha!==void 0?c.premultipliedAlpha:!0,this._antialias=c.antialias!==void 0?c.antialias:!1,this._stencil=c.stencil!==void 0?c.stencil:!0,this._preserveDrawingBuffer=c.preserveDrawingBuffer!==void 0?c.preserveDrawingBuffer:!1,this._clearColor=c.clearColor!==void 0?new l.Color(c.clearColor):new l.Color(0),this._clearAlpha=c.clearAlpha!==void 0?c.clearAlpha:0,this._outlineMaterial=new u.MeshOutlineMaterial(c.outline),this._outlineSphereImposterMaterial=new u.SphereImposterOutlineMaterial(c.outline),this._outlineStickImposterMaterial=new u.StickImposterOutlineMaterial(c.outline),this._outlineEnabled=!!c.outline,this.domElement=this._canvas,this._canvas.id=c.id,this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this)}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}isLost(){return this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(c,v){this._clearColor.setHex(c),this._clearAlpha=v,this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(c){this._outlineMaterial=new u.MeshOutlineMaterial(c),this._outlineSphereImposterMaterial=new u.SphereImposterOutlineMaterial(c),this._outlineStickImposterMaterial=new u.StickImposterOutlineMaterial(c),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}setViewport(){if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var c=this._canvas.width/this.cols,v=this._canvas.height/this.rows;this._viewportWidth=c,this._viewportHeight=v,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(c*this.col,v*this.row,c,v),this._gl.viewport(c*this.col,v*this.row,c,v)}}setSize(c,v){if(this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var y=c/this.cols,b=v/this.rows;this._canvas.width=c*this.devicePixelRatio,this._canvas.height=v*this.devicePixelRatio,this._viewportWidth=y*this.devicePixelRatio,this._viewportHeight=b*this.devicePixelRatio,this._canvas.style.width=c+"px",this._canvas.style.height=v+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=c*this.devicePixelRatio,this._viewportHeight=this._canvas.height=v*this.devicePixelRatio,this._canvas.style.width=c+"px",this._canvas.style.height=v+"px",this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(c,v,y){var b=0;(c===void 0||c)&&(b|=this._gl.COLOR_BUFFER_BIT),(v===void 0||v)&&(b|=this._gl.DEPTH_BUFFER_BIT),(y===void 0||y)&&(b|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(b)}clearTarget(c,v,y){this.clear(c,v,y)}setMaterialFaces(c,v){var y=c.side===a.DoubleSide,b=c.side===a.BackSide;c.imposter||(b=v?!b:b),this._oldDoubleSided!==y&&(y?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=y),this._oldFlipSided!==b&&(b?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=b),this._gl.cullFace(this._gl.BACK)}setDepthTest(c){this._oldDepthTest!==c&&(c?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=c)}setDepthWrite(c){this._oldDepthWrite!==c&&(this._gl.depthMask(c),this._oldDepthWrite=c)}setBlending(c){c?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(c,v,y,b){c.addEventListener("dispose",this.onMaterialDispose.bind(this));var C,E;if(E=c.shaderID,E){var h=_.ShaderLib[E];c.vertexShader=h.vertexShader,c.fragmentShader=h.fragmentShader,c.uniforms=_.ShaderUtils.clone(h.uniforms)}C={wireframe:c.wireframe,fragdepth:c.imposter,volumetric:c.volumetric},c.program=this.buildProgram(c.fragmentShader,c.vertexShader,c.uniforms,C)}renderBuffer(c,v,y,b,C,E){if(b.visible){var h,f;if(h=this.setProgram(c,v,y,b,E,this),!!h){f=h.attributes;var D=!1,M=b.wireframe?1:0,N=C.id*16777215+h.id*2+M;N!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=N,D=!0),D&&(this.disableAttributes(),f.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglVertexBuffer),this.enableAttribute(f.position),this._gl.vertexAttribPointer(f.position,3,this._gl.FLOAT,!1,0,0)),f.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglColorBuffer),this.enableAttribute(f.color),this._gl.vertexAttribPointer(f.color,3,this._gl.FLOAT,!1,0,0)),f.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglNormalBuffer),this.enableAttribute(f.normal),this._gl.vertexAttribPointer(f.normal,3,this._gl.FLOAT,!1,0,0)),f.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglOffsetBuffer),this.enableAttribute(f.offset),this._gl.vertexAttribPointer(f.offset,3,this._gl.FLOAT,!1,0,0)),f.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglRadiusBuffer),this.enableAttribute(f.radius),this._gl.vertexAttribPointer(f.radius,1,this._gl.FLOAT,!1,0,0)));var k,z;if(E instanceof p.Mesh){if(b.shaderID==="instanced"){var O=b.sphere.geometryGroups[0];D&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,O.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,O.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,O.faceArray,this._gl.STATIC_DRAW)),k=O.faceidx,this._extInstanced.vertexAttribDivisorANGLE(f.offset,1),this._extInstanced.vertexAttribDivisorANGLE(f.radius,1),this._extInstanced.vertexAttribDivisorANGLE(f.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,k,this._gl.UNSIGNED_SHORT,0,C.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(f.offset,0),this._extInstanced.vertexAttribDivisorANGLE(f.radius,0),this._extInstanced.vertexAttribDivisorANGLE(f.color,0)}else b.wireframe?(z=C.lineidx,this.setLineWidth(b.wireframeLinewidth),D&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,z,this._gl.UNSIGNED_SHORT,0)):(k=C.faceidx,D&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,k,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=k,this.info.render.faces+=k/3}else E instanceof p.Line&&(z=C.vertices,this.setLineWidth(b.linewidth),this._gl.drawArrays(this._gl.LINES,0,z),this.info.render.calls++)}}}render(c,v,y){if(!(v instanceof n.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var b,C,E,h,f,D=c.__lights,M=c.fog;this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&c.updateMatrixWorld(),v.parent===void 0&&v.updateMatrixWorld(),v.matrixWorldInverse.getInverse(v.matrixWorld),this._projScreenMatrix.multiplyMatrices(v.projectionMatrix,v.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(c),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),(this.autoClear||y)&&(this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)),f=c.__webglObjects;var N=!1;for(b=0,C=f.length;b<C;b++)E=f[b],h=E.object,E.render=!1,h.visible&&(this.setupMatrices(h,v),this.unrollBufferMaterial(E),E.render=!0,E.volumetric&&(N=!0));var k=null;this.setBlending(!1),this.renderObjects(c.__webglObjects,!0,"opaque",v,D,M,!1,k),this.renderSprites(c,v,!1),this.renderObjects(c.__webglObjects,!0,"blank",v,D,M,!0,k),this.renderObjects(c.__webglObjects,!1,"transparent",v,D,M,!0,k),N&&this._fb&&(this.reinitFrameBuffer(),this.renderObjects(c.__webglObjects,!1,"volumetric",v,D,M,!0,k)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(c,v,!0)}reinitFrameBuffer(){this.isWebGL1()||(this._fb=this._gl.createFramebuffer(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0))}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let c=this._viewportWidth,v=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,c,v),this._gl.viewport(0,0,c,v),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,c,v,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,c,v,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let c=this._viewportWidth,v=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,c,v),this._gl.viewport(0,0,c,v),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var y=_.ShaderLib.screen;this._screenshader=this.buildProgram(y.fragmentShader,y.vertexShader,y.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var b=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(b),this._gl.STATIC_DRAW)}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(c){if(c.__webglObjects||(c.__webglObjects=[],c.__webglObjectsImmediate=[],c.__webglSprites=[],c.__webglFlares=[]),c.__objectsAdded.length){for(;c.__objectsAdded.length;)this.addObject(c.__objectsAdded[0],c),c.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;c.__objectsRemoved.length;)this.removeObject(c.__objectsRemoved[0],c),c.__objectsRemoved.splice(0,1);for(var v=0,y=c.__webglObjects.length;v<y;v++)this.updateObject(c.__webglObjects[v].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(c,v){(c==null||v==null)&&(c=this._canvas.width,v=this._canvas.height);var y=c/v;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var b=c/this.cols,C=v/this.rows;y=b/C}return y}setTexture(c,v,y){if(c.needsUpdate){c.__webglInit||(c.__webglInit=!0,c.addEventListener("dispose",this.onTextureDispose.bind(this)),c.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+v);var b=y?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(b,c.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,c.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,c.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,c.unpackAlignment);var C=this.paramToGL(c.format),E=this.paramToGL(c.type);if(y)this.setTextureParameters(this._gl.TEXTURE_3D,c),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,c.image.size.z,c.image.size.y,c.image.size.x,0,this._gl.RED,this._gl.FLOAT,c.image.data);else{var h=c.image,f=h.width,D=h.height;typeof f>"u"&&(f=h.length,C==this._gl.RGBA&&(f/=4),D=1),this.setTextureParameters(this._gl.TEXTURE_2D,c),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,C,C,E,c.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,C,f,D,0,C,E,c.image)}c.needsUpdate=!1,c.onUpdate&&c.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+v),y?this._gl.bindTexture(this._gl.TEXTURE_3D,c.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,c.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(c){this._enabledAttributes[c]||(this._gl.enableVertexAttribArray(c),this._enabledAttributes[c]=!0)}disableAttributes(){for(let c in this._enabledAttributes)this._enabledAttributes[c]&&(this._gl.disableVertexAttribArray(c),this._enabledAttributes[c]=!1)}setPolygonOffset(c,v,y){this._oldPolygonOffset!==c&&(c?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(c){c!==this._oldLineWidth&&(this._gl.lineWidth(c),this._oldLineWidth=c)}deallocateGeometry(c){if(c.__webglInit=void 0,c.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(c.__webglVertexBuffer),c.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(c.__webglColorBuffer),c.geometryGroups!==void 0)for(var v=0,y=c.groups;v<y;v++){var b=c.geometryGroups[v];b.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(b.__webglVertexBuffer),b.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(b.__webglColorBuffer),b.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(b.__webglNormalBuffer),b.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(b.__webglFaceBuffer),b.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(b.__webglLineBuffer)}}deallocateMaterial(c){var v=c.program;if(v!==void 0){c.program=void 0;var y,b,C,E=!1;for(y=0,b=this._programs.length;y<b;y++)if(C=this._programs[y],C.program===v){C.usedTimes--,C.usedTimes===0&&(E=!0);break}if(E===!0){var h=[];for(y=0,b=this._programs.length;y<b;y++)C=this._programs[y],C.program!==v&&h.push(C);this._programs=h,this._gl.deleteProgram(v),this.info.memory.programs--}}}deallocateTexture(c){if(c.image&&c.image.__webglTextureCube)this._gl.deleteTexture(c.image.__webglTextureCube);else{if(!c.__webglInit)return;c.__webglInit=!1,this._gl.deleteTexture(c.__webglTexture)}}onGeometryDispose(c){var v=c.target;v.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(v),this.info.memory.geometries--}onTextureDispose(c){var v=c.target;v.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(v),this.info.memory.textures--}onMaterialDispose(c){var v=c.target;v.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(v)}getShader(c,v){var y;return!this.isWebGL1()&&!v.startsWith("#version")&&(v=v.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),c=="fragment"?v=v.replace(/varying/g,"in"):v=v.replace(/varying/g,"out"),v=v.replace(/attribute/g,"in"),v=v.replace(/texture2D/g,"texture"),v=v.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),v=v.replace(/gl_FragColor/g,"glFragColor"),v=`#version 300 es
`+v),c==="fragment"?y=this._gl.createShader(this._gl.FRAGMENT_SHADER):c==="vertex"&&(y=this._gl.createShader(this._gl.VERTEX_SHADER)),y==null?null:(this._gl.shaderSource(y,v),this._gl.compileShader(y),this._gl.getShaderParameter(y,this._gl.COMPILE_STATUS)?y:(console.error(this._gl.getShaderInfoLog(y)),console.error("could not initialize shader"),null))}buildProgram(c,v,y,b){var C,E,h,f,D=[];D.push(c),D.push(v);for(C in b)D.push(C),D.push(b[C]);for(f=D.join(),C=0,E=this._programs.length;C<E;C++){var M=this._programs[C];if(M.code===f)return M.usedTimes++,M.program}if(this.isWebGL1()&&b.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(h=this._gl.createProgram(),h==null)return null;var N=this._precision,k="precision "+N+" float;",z=[b.volumetric?"#version 300 es":"",k].join(`
`),O=[b.volumetric?"#version 300 es":"",b.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",b.wireframe?"#define WIREFRAME 1":"",k].join(`
`),I=this.getShader("fragment",O+c),H=this.getShader("vertex",z+v);H!=null&&this._gl.attachShader(h,H),I!=null&&this._gl.attachShader(h,I),this._gl.linkProgram(h),this._gl.getProgramParameter(h,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),h.uniforms={},h.attributes={};var Y,q,G;Y=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"];for(q in y)Y.push(q);for(G=0;G<Y.length;G++){var $=Y[G];h.uniforms[$]=this._gl.getUniformLocation(h,$)}for(Y=["position","normal","color","lineDistance","offset","radius"],G=0;G<Y.length;G++){var R=Y[G];h.attributes[R]=this._gl.getAttribLocation(h,R)}return h.id=this._programs_counter++,this._programs.push({program:h,code:f,usedTimes:1}),this.info.memory.programs=this._programs.length,h}setProgram(c,v,y,b,C,E){if(b.needsUpdate&&(b.program&&this.deallocateMaterial(b),this.initMaterial(b,v,y,C),b.needsUpdate=!1),b.program==null)return null;var h=!1,f=b.program,D=f.uniforms,M=b.uniforms;if(f!=this._currentProgram&&(this._gl.useProgram(f),this._currentProgram=f,h=!0),b.id!=this._currentMaterialId&&(this._currentMaterialId=b.id,h=!0),c!=this._currentCamera&&(this._currentCamera=c,h=!0),this._gl.uniformMatrix4fv(D.projectionMatrix,!1,c.projectionMatrix.elements),this._gl.uniformMatrix4fv(D.modelViewMatrix,!1,C._modelViewMatrix.elements),this._gl.uniformMatrix3fv(D.normalMatrix,!1,C._normalMatrix.elements),h){if(M.fogColor.value=y.color,M.fogNear.value=y.near,M.fogFar.value=y.far,b.shaderID.startsWith("lambert")||b.shaderID==="instanced"||b.shaderID.endsWith("imposter"))this._gl.uniformMatrix4fv(D.viewMatrix,!1,c.matrixWorldInverse.elements),this._lightsNeedUpdate&&(this.setupLights(f,v),this._lightsNeedUpdate=!1),M.directionalLightColor.value=this._lights.directional.colors,M.directionalLightDirection.value=this._lights.directional.positions;else if(b.shaderID.endsWith("outline"))M.outlineColor.value=b.outlineColor,M.outlineWidth.value=b.outlineWidth,M.outlinePushback.value=b.outlinePushback;else if(b.shaderID==="volumetric"){C._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(C._modelViewMatrix),this._projInverse.getInverse(c.projectionMatrix),this._textureMatrix.multiplyMatrices(C.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(D.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(D.projinv,!1,this._projInverse.elements);let N=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);M.step.value=C.material.unit*N,M.maxdepth.value=C.material.maxdepth*N,M.transfermax.value=C.material.transfermax,M.transfermin.value=C.material.transfermin,M.subsamples.value=C.material.subsamples,E.setTexture(C.material.transferfn,4,!1),E.setTexture(C.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}M.opacity.value=b.opacity,this.loadMaterialUniforms(D,M)}return f}loadMaterialUniforms(c,v){var y,b,C,E;for(y in v)c[y]&&(b=v[y].type,C=v[y].value,E=c[y],b==="f"?this._gl.uniform1f(E,C):b==="i"?this._gl.uniform1i(E,C):b==="fv"?this._gl.uniform3fv(E,C):b==="c"?this._gl.uniform3f(E,C.r,C.g,C.b):b==="f4"&&this._gl.uniform4f(E,C[0],C[1],C[2],C[3]))}addObject(c,v){var y,b,C,E;if(!c.__webglInit&&(c.__webglInit=!0,c._modelViewMatrix=new g.Matrix4,c._normalMatrix=new g.Matrix3,c.geometry!==void 0&&c.geometry.__webglInit===void 0&&(c.geometry.__webglInit=!0,c.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),c instanceof p.Mesh||c instanceof p.Line))for(C=c.geometry,y=0,b=C.geometryGroups.length;y<b;y++)E=C.geometryGroups[y],E.id=this._geometryGroupCounter++,E.__webglVertexBuffer||(c instanceof p.Mesh?(this.createMeshBuffers(E),C.elementsNeedUpdate=!0,C.normalsNeedUpdate=!0):c instanceof p.Line&&this.createLineBuffers(E),C.verticesNeedUpdate=!0,C.colorsNeedUpdate=!0);if(!c.__webglActive){if(c instanceof p.Mesh||c instanceof p.Line)for(C=c.geometry,y=0,b=C.geometryGroups.length;y<b;y++)E=C.geometryGroups[y],this.addBuffer(v.__webglObjects,E,c);else c instanceof p.Sprite&&v.__webglSprites.push(c);c.__webglActive=!0}}updateObject(c){var v=c.geometry,y;if(c instanceof p.Mesh||c instanceof p.Line){for(var b=0,C=v.geometryGroups.length;b<C;b++)y=v.geometryGroups[b],(v.verticesNeedUpdate||v.elementsNeedUpdate||v.colorsNeedUpdate||v.normalsNeedUpdate)&&this.setBuffers(y,this._gl.STATIC_DRAW);v.verticesNeedUpdate=!1,v.elementsNeedUpdate=!1,v.normalsNeedUpdate=!1,v.colorsNeedUpdate=!1,v.buffersNeedUpdate=!1}}removeObject(c,v){c instanceof p.Mesh||c instanceof p.Line?this.removeInstances(v.__webglObjects,c):c instanceof p.Sprite&&this.removeInstancesDirect(v.__webglSprites,c),c.__webglActive=!1}removeInstances(c,v){for(var y=c.length-1;y>=0;--y)c[y].object===v&&c.splice(y,1)}removeInstancesDirect(c,v){for(var y=c.length-1;y>=0;--y)c[y]===v&&c.splice(y,1)}unrollBufferMaterial(c){var v=c.object,y=v.material;if(y.volumetric)c.opaque=null,c.transparent=null,c.volumetric=y;else if(y.transparent){if(c.opaque=null,c.volumetric=null,c.transparent=y,!y.wireframe){var b=y.clone();b.opacity=0,c.blank=b}}else c.opaque=y,c.transparent=null,c.volumetric=null}setBuffers(c,v){var y=c.vertexArray,b=c.colorArray;if(c.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,y,v)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,y,v)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,b,v),c.normalArray&&c.__webglNormalBuffer!==void 0){var C=c.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,C,v)}if(c.radiusArray&&c.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,c.radiusArray,v)),c.faceArray&&c.__webglFaceBuffer!==void 0){var E=c.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,c.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,E,v)}if(c.lineArray&&c.__webglLineBuffer!==void 0){var h=c.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,c.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,h,v)}}createMeshBuffers(c){c.radiusArray&&(c.__webglRadiusBuffer=this._gl.createBuffer()),c.useOffset&&(c.__webglOffsetBuffer=this._gl.createBuffer()),c.__webglVertexBuffer=this._gl.createBuffer(),c.__webglNormalBuffer=this._gl.createBuffer(),c.__webglColorBuffer=this._gl.createBuffer(),c.__webglFaceBuffer=this._gl.createBuffer(),c.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(c){c.__webglVertexBuffer=this._gl.createBuffer(),c.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(c,v,y){c.push({buffer:v,object:y,opaque:null,transparent:null})}setupMatrices(c,v){c._modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,c.matrixWorld),c._normalMatrix.getInverse(c._modelViewMatrix),c._normalMatrix.transpose()}filterFallback(c){return this._gl.LINEAR}setTextureParameters(c,v){c==this._gl.TEXTURE_2D?(this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(v.magFilter)),this._gl.texParameteri(c,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(v.minFilter))):(this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(c,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(c,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(c,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(c,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(c){return c===s.UnsignedByteType?this._gl.UNSIGNED_BYTE:c===s.RGBAFormat?this._gl.RGBA:c===s.NearestFilter?this._gl.NEAREST:0}setupLights(c,v){var y,b,C,E=0,h=0,f=0,D,M,N=this._lights,k=N.directional.colors,z=N.directional.positions,O=0,I=0;for(y=0,b=v.length;y<b;y++)if(C=v[y],D=C.color,M=C.intensity,C instanceof o.Light){if(this._direction.getPositionFromMatrix(C.matrixWorld),this._vector3.getPositionFromMatrix(C.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;z[I]=this._direction.x,z[I+1]=this._direction.y,z[I+2]=this._direction.z,k[I]=D.r*M,k[I+1]=D.g*M,k[I+2]=D.b*M,I+=3,O++}N.ambient[0]=E,N.ambient[1]=h,N.ambient[2]=f,N.directional.length=O}initGL(){try{if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var c=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(c[6])}catch(v){console.error(v)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearColor(0,0,0,1),this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(c,v,y,b,C,E,h,k){var D,M,N,k,z,O,I;v?(z=c.length-1,O=-1,I=-1):(z=0,O=c.length,I=1);for(var H=z;H!==O;H+=I)if(D=c[H],D.render){if(M=D.object,N=D.buffer,k=D[y],!k)continue;h&&this.setBlending(!0),this.setDepthTest(k.depthTest),this.setDepthWrite(k.depthWrite),this.setPolygonOffset(k.polygonOffset,k.polygonOffsetFactor,k.polygonOffsetUnits);var Y=M._modelViewMatrix.isReflected();this.setMaterialFaces(k,Y),this.renderBuffer(b,C,E,k,N,M),(this._outlineEnabled||k.outline)&&(k.shaderID=="sphereimposter"?this.renderBuffer(b,C,E,this._outlineSphereImposterMaterial,N,M):k.shaderID=="stickimposter"?this.renderBuffer(b,C,E,this._outlineStickImposterMaterial,N,M):!k.wireframe&&k.shaderID!=="basic"&&k.opacity!==0&&this.renderBuffer(b,C,E,this._outlineMaterial,N,M))}}renderSprites(c,v,y){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(c,v,this._currentWidth,this._currentHeight,y),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpritePlugin:()=>a});var n=r("./src/WebGL/shaders/index.ts");class a{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(l){this.gl=l.context,this.renderer=l,this.precision=l.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var u=0;this.sprite.vertices[u++]=-1,this.sprite.vertices[u++]=-1,this.sprite.vertices[u++]=0,this.sprite.vertices[u++]=0,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=-1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=0,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=-1,this.sprite.vertices[u++]=1,this.sprite.vertices[u++]=0,this.sprite.vertices[u++]=1,u=0,this.sprite.faces[u++]=0,this.sprite.faces[u++]=1,this.sprite.faces[u++]=2,this.sprite.faces[u++]=0,this.sprite.faces[u++]=2,this.sprite.faces[u++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(n.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};let g={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),g.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),g.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),g.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),g.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),g.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),g.color=this.gl.getUniformLocation(this.sprite.program,"color"),g.map=this.gl.getUniformLocation(this.sprite.program,"map"),g.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),g.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),g.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),g.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),g.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),g.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),g.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),g.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),g.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),g.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),g.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=g}render(l,u,g,p,_){var x,S,w,c,v,y,b,C,E,h;if(!this.gl)throw new Error("WebGLRenderer not initialized");let f=[];(x=l?.__webglSprites)===null||x===void 0||x.forEach(te=>{(_&&te.material.depthTest==!1||!_&&te.material.depthTest)&&f.push(te)});let D=f.length;if(!D)return;let M=this.sprite.attributes,N=this.sprite.uniforms;if(!N)throw new Error("Uniforms not defined");var k=g*.5,z=p*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(M.position),this.gl.enableVertexAttribArray(M.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(M.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(M.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(N.projectionMatrix,!1,u.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(N.map,0);var O=0,I=0,H=l.fog;H?(this.gl.uniform3f(N.fogColor,H.color.r,H.color.g,H.color.b),this.gl.uniform1f(N.fogNear,H.near),this.gl.uniform1f(N.fogFar,H.far),this.gl.uniform1i(N.fogType,1),O=1,I=1):(this.gl.uniform1i(N.fogType,0),O=0,I=0);var Y;let q,G,$,R,V=[];for(Y=0;Y<D;Y++)q=f[Y],G=q.material,G&&(G.depthTest==!1&&!_||!q.visible||G.opacity===0||(G.useScreenCoordinates?q.z=-q.position.z:(q._modelViewMatrix.multiplyMatrices(u.matrixWorldInverse,q.matrixWorld),q.z=-q._modelViewMatrix.elements[14])));for(f.sort(s),Y=0;Y<D;Y++)if(q=f[Y],G=q.material,!!G&&!(!q.visible||G.opacity===0)&&G.map&&G.map.image&&G.map.image.width){this.gl.uniform1f(N?.alphaTest||null,G.alphaTest);var X=G.map.image.width,Q=G.map.image.height;V[0]=X*this.renderer.devicePixelRatio/g,V[1]=Q*this.renderer.devicePixelRatio/p,G.useScreenCoordinates===!0?(this.gl.uniform1i(N.useScreenCoordinates,1),this.gl.uniform3f(N.screenPosition,(q.position.x*this.renderer.devicePixelRatio-k)/k,(z-q.position.y*this.renderer.devicePixelRatio)/z,Math.max(0,Math.min(1,q.position.z)))):(this.gl.uniform1i(N.useScreenCoordinates,0),this.gl.uniformMatrix4fv(N.modelViewMatrix,!1,q._modelViewMatrix.elements)),l.fog&&G.fog?R=I:R=0,O!==R&&(this.gl.uniform1i(N.fogType,R),O=R),$=1/(G.scaleByViewport?p:1),V[0]*=$*q.scale.x,V[1]*=$*q.scale.y;let te=(S=G?.alignment)===null||S===void 0?void 0:S.x,we=(w=G?.alignment)===null||w===void 0?void 0:w.y;G.screenOffset&&(te=(te||0)+2*G.screenOffset.x/X,we=(we||0)+2*G.screenOffset.y/Q),this.gl.uniform2f(N.uvScale,((c=G?.uvScale)===null||c===void 0?void 0:c.x)||1,((v=G?.uvScale)===null||v===void 0?void 0:v.y)||1),this.gl.uniform2f(N.uvOffset,((y=G?.uvOffset)===null||y===void 0?void 0:y.x)||0,((b=G?.uvOffset)===null||b===void 0?void 0:b.y)||0),this.gl.uniform2f(N.alignment,te||0,we||0),this.gl.uniform1f(N.opacity,G.opacity),this.gl.uniform3f(N.color,((C=G?.color)===null||C===void 0?void 0:C.r)||0,((E=G?.color)===null||E===void 0?void 0:E.g)||0,((h=G?.color)===null||h===void 0?void 0:h.b)||0),this.gl.uniform1f(N.rotation,q.rotation),this.gl.uniform2fv(N.scale,V),this.renderer.setDepthTest(G.depthTest),this.renderer.setDepthWrite(G.depthWrite),this.renderer.setTexture(G.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(l,u){if(!this.gl)throw new Error("WebGL Rendering context not found");var g=this.gl.createProgram();if(!g)throw new Error("Error creating webgl program");var p=this.gl.createShader(this.gl.FRAGMENT_SHADER),_=this.gl.createShader(this.gl.VERTEX_SHADER);if(!p)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!_)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var x="precision "+u+` float;
`;if(this.gl.shaderSource(p,x+l.fragmentShader),this.gl.shaderSource(_,x+l.vertexShader),this.gl.compileShader(p),this.gl.compileShader(_),!this.gl.getShaderParameter(p,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(_,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(p)} 
      ${this.gl.getShaderInfoLog(_)}`);return this.gl.attachShader(g,p),this.gl.attachShader(g,_),this.gl.linkProgram(g),this.gl.getProgramParameter(g,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),g}}function s(o,l){return o.z!==l.z?l.z-o.z:l.id-o.id}},"./src/WebGL/constants/Coloring.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Coloring:()=>n});var n;(function(a){a[a.NoColors=0]="NoColors",a[a.FaceColors=1]="FaceColors",a[a.VertexColors=2]="VertexColors"})(n||(n={}))},"./src/WebGL/constants/Shading.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Shading:()=>n});var n;(function(a){a[a.NoShading=0]="NoShading",a[a.FlatShading=1]="FlatShading",a[a.SmoothShading=2]="SmoothShading"})(n||(n={}))},"./src/WebGL/constants/Sides.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>a,DoubleSide:()=>s,FrontSide:()=>n});let n=0,a=1,s=2},"./src/WebGL/constants/SpriteAlignment.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpriteAlignment:()=>a});var n=r("./src/WebGL/math/index.ts");let a={topLeft:new n.Vector2(1,-1),topCenter:new n.Vector2(0,-1),topRight:new n.Vector2(-1,-1),centerLeft:new n.Vector2(1,0),center:new n.Vector2(0,0),centerRight:new n.Vector2(-1,0),bottomLeft:new n.Vector2(1,1),bottomCenter:new n.Vector2(0,1),bottomRight:new n.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ClampToEdgeWrapping:()=>n,FloatType:()=>u,LinearFilter:()=>a,LinearMipMapLinearFilter:()=>o,NearestFilter:()=>s,R32Format:()=>_,RFormat:()=>p,RGBAFormat:()=>g,UnsignedByteType:()=>l});let n=1001,a=1006,s=1007,o=1008,l=1009,u=1010,g=1021,p=1022,_=1023},"./src/WebGL/constants/TextureOperations.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TextureOperations:()=>n});var n;(function(a){a[a.MultiplyOperation=0]="MultiplyOperation",a[a.MixOperation=1]="MixOperation",a[a.AddOperation=2]="AddOperation"})(n||(n={}))},"./src/WebGL/constants/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>a.BackSide,ClampToEdgeWrapping:()=>l.ClampToEdgeWrapping,Coloring:()=>n.Coloring,DoubleSide:()=>a.DoubleSide,FloatType:()=>l.FloatType,FrontSide:()=>a.FrontSide,LinearFilter:()=>l.LinearFilter,LinearMipMapLinearFilter:()=>l.LinearMipMapLinearFilter,NearestFilter:()=>l.NearestFilter,R32Format:()=>l.R32Format,RFormat:()=>l.RFormat,RGBAFormat:()=>l.RGBAFormat,Shading:()=>s.Shading,SpriteAlignment:()=>o.SpriteAlignment,TextureOperations:()=>u.TextureOperations,UnsignedByteType:()=>l.UnsignedByteType});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Sides.ts"),s=r("./src/WebGL/constants/Shading.ts"),o=r("./src/WebGL/constants/SpriteAlignment.ts"),l=r("./src/WebGL/constants/TextureConstants.ts"),u=r("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{EventDispatcher:()=>n});class n{constructor(){this.listeners={}}dispatchEvent(s){var o=this.listeners[s.type];if(o!==void 0){s.target=this;for(var l=0,u=o.length;l<u;l++)o[l].call(this,s)}}removeEventListener(s,o){if(!o)this.listeners[s]=[];else{var l=this.listeners[s].indexOf(o);l!==-1&&this.listeners[s].splice(l,1)}}addEventListener(s,o){this.listeners[s]===void 0&&(this.listeners[s]=[]),this.listeners[s].indexOf(o)===-1&&this.listeners[s].push(o)}}},"./src/WebGL/core/Geometry.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Geometry:()=>g,GeometryGroup:()=>u,GeometryIDCount:()=>p});var n=r("./src/WebGL/materials/LineBasicMaterial.ts"),a=r("./src/WebGL/core/EventDispatcher.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts");let l=65535;class u{constructor(x=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=x}setColors(x){var S=this.vertexArray,w=this.colorArray;if(!S)throw new Error("vertex array not initialized");if(!w)throw new Error("color array not initialized");if(S.length!=w.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var c=0;c<S.length;c+=3){var v=x(S[c],S[c+1],S[c+2]);v instanceof o.Color||(v=o.CC.color(v)),w[c]=v.r,w[c+1]=v.g,w[c+2]=v.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var x=new s.Vector3,S,w,c,v,y=0;y<this.vertices;++y)S=y*3,w=this.vertexArray[S],c=this.vertexArray[S+1],v=this.vertexArray[S+2],x.x+=w,x.y+=c,x.z+=v;return x.divideScalar(this.vertices),x}setNormals(){var x=this.faceArray,S=this.vertexArray,w=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!x)throw new Error("face array not initialized");if(!S)throw new Error("vertex array not initialized");if(!w)throw new Error("normal array not initialized");for(var c,v,y,b,C,E,h,f=0;f<x.length/3;++f)c=x[f*3]*3,v=x[f*3+1]*3,y=x[f*3+2]*3,b=new s.Vector3(S[c],S[c+1],S[c+2]),C=new s.Vector3(S[v],S[v+1],S[v+2]),E=new s.Vector3(S[y],S[y+1],S[y+2]),b.subVectors(b,C),E.subVectors(E,C),E.cross(b),h=E,h.normalize(),w[c]+=h.x,w[v]+=h.x,w[y]+=h.x,w[c+1]+=h.y,w[v+1]+=h.y,w[y+1]+=h.y,w[c+2]+=h.z,w[v+2]+=h.z,w[y+2]+=h.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var x=this.faceArray,S=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!x)throw new Error("face array not initialized");for(var w=0;w<this.faceidx/3;++w){var c=w*3,v=c*2,y=x[c],b=x[c+1],C=x[c+2];S[v]=y,S[v+1]=b,S[v+2]=y,S[v+3]=C,S[v+4]=b,S[v+5]=C}}}vrml(x,S){var w,c,v,y,b,C,E,h,f,D,M,N,k,z,O,I="";I+=x+`Shape {
`+x+` appearance Appearance {
`+x+`  material Material {
`+x+"   diffuseColor "+((w=S?.color)===null||w===void 0?void 0:w.r)+" "+((c=S?.color)===null||c===void 0?void 0:c.g)+" "+((v=S?.color)===null||v===void 0?void 0:v.b)+`
`,S?.transparent&&(I+=x+"   transparency "+(1-S.opacity)+`
`),I+=x+`  }
`,I+=x+` }
`;var H=x;if(x+=" ",S instanceof n.LineBasicMaterial){I+=x+`geometry IndexedLineSet {
`+x+` colorPerVertex TRUE
`+x+` coord Coordinate {
`+x+`  point [
`;let q,G,$;for(let R=0;R<this.vertices;++R){let V=R*3;q=(y=this.vertexArray)===null||y===void 0?void 0:y[V],G=(b=this.vertexArray)===null||b===void 0?void 0:b[V+1],$=(C=this.vertexArray)===null||C===void 0?void 0:C[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}if(I+=x+`  ]
`,I+=x+` }
`,this.colorArray){I+=x+` color Color {
`+x+`  color [
`;for(let R=0;R<this.vertices;++R){let V=R*3;q=this.colorArray[V],G=this.colorArray[V+1],$=this.colorArray[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}I+=x+`  ]
`,I+=x+` }
`}I+=x+` coordIndex [
`;for(let R=0;R<this.vertices;R+=2)I+=x+"  "+R+", "+(R+1)+`, -1,
`;I+=x+` ]
`,I+=x+`}
`}else{I+=x+`geometry IndexedFaceSet {
`+x+` colorPerVertex TRUE
`+x+` normalPerVertex TRUE
`+x+` solid FALSE
`,I+=x+` coord Coordinate {
`+x+`  point [
`;let q,G,$;for(let R=0;R<this.vertices;++R){let V=R*3;q=(E=this.vertexArray)===null||E===void 0?void 0:E[V],G=(h=this.vertexArray)===null||h===void 0?void 0:h[V+1],$=(f=this.vertexArray)===null||f===void 0?void 0:f[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}I+=x+`  ]
`,I+=x+` }
`,I+=x+` normal Normal {
`+x+`  vector [
`;for(let R=0;R<this.vertices;++R){let V=R*3;q=(D=this.normalArray)===null||D===void 0?void 0:D[V],G=(M=this.normalArray)===null||M===void 0?void 0:M[V+1],$=(N=this.normalArray)===null||N===void 0?void 0:N[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}if(I+=x+`  ]
`,I+=x+` }
`,this.colorArray){I+=x+` color Color {
`+x+`  color [
`;for(let R=0;R<this.vertices;++R){let V=R*3;q=this.colorArray[V],G=this.colorArray[V+1],$=this.colorArray[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}I+=x+`  ]
`,I+=x+` }
`}I+=x+` coordIndex [
`;for(var Y=0;Y<this.faceidx;Y+=3)q=(k=this.faceArray)===null||k===void 0?void 0:k[Y],G=(z=this.faceArray)===null||z===void 0?void 0:z[Y+1],$=(O=this.faceArray)===null||O===void 0?void 0:O[Y+2],I+=x+"  "+q+", "+G+", "+$+`, -1,
`;I+=x+` ]
`,I+=x+`}
`}return I+=H+"}",I}truncateArrayBuffers(x=!0,S=!1){var w=this.vertexArray,c=this.colorArray,v=this.normalArray,y=this.faceArray,b=this.lineArray,C=this.radiusArray;this.vertexArray=w?.subarray(0,this.vertices*3)||null,this.colorArray=c?.subarray(0,this.vertices*3)||null,x?(this.normalArray=v?.subarray(0,this.vertices*3)||null,this.faceArray=y?.subarray(0,this.faceidx)||null,this.lineidx>0?this.lineArray=b?.subarray(0,this.lineidx)||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),C&&(this.radiusArray=C.subarray(0,this.vertices)),S&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class g extends a.EventDispatcher{constructor(x=!1,S=!1,w=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=p++,this.mesh=x,this.radii=S,this.offset=w}updateGeoGroup(x=0){var S,w=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!w||w.vertices+x>(((S=w?.vertexArray)===null||S===void 0?void 0:S.length)||0)/3)&&(w=this.addGeoGroup()),w}vrml(x,S){for(var w="",c=this.geometryGroups.length,v=0;v<c;v++){var y=this.geometryGroups[v];w+=y.vrml(x,S)+`,
`}return w}addGeoGroup(){var x=new u(this.geometryGroups.length);return this.geometryGroups.push(x),this.groups=this.geometryGroups.length,x.vertexArray=new Float32Array(l*3),x.colorArray=new Float32Array(l*3),this.mesh&&(x.normalArray=new Float32Array(l*3),x.faceArray=new Uint16Array(l*6),x.lineArray=new Uint16Array(l*6)),this.radii&&(x.radiusArray=new Float32Array(l)),x.useOffset=this.offset,x}setUpNormals(...x){for(var S=0;S<this.groups;S++){var w=this.geometryGroups[S];w.setNormals(...x)}}setColors(...x){for(var S=this.geometryGroups.length,w=0;w<S;w++){var c=this.geometryGroups[w];c.setColors(...x)}}setUpWireframe(...x){for(var S=0;S<this.groups;S++){var w=this.geometryGroups[S];w.setLineIndices(...x)}}initTypedArrays(){for(var x=0;x<this.groups;x++){var S=this.geometryGroups[x];S.__inittedArrays!==!0&&S.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var x=0,S=0;S<this.groups;S++)x+=this.geometryGroups[S].vertices;return x}}let p=0},"./src/WebGL/core/Object3D.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Light:()=>u,Object3D:()=>o,Object3DIDCount:()=>s,Scene:()=>l});var n=r("./src/WebGL/math/index.ts"),a=r("./src/colors.ts");let s=0;class o{constructor(){this.id=s++,this.name="",this.children=[],this.position=new n.Vector3,this.rotation=new n.Vector3,this.matrix=new n.Matrix4,this.matrixWorld=new n.Matrix4,this.quaternion=new n.Quaternion,this.eulerOrder="XYZ",this.up=new n.Vector3(0,1,0),this.scale=new n.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(p){this.matrix.lookAt(p,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof n.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(p){if(p===this){console.error("Can't add $3Dmol.Object3D to itself");return}p.parent=this,this.children.push(p);for(var _=this;_.parent!==void 0;)_=_.parent;_!==void 0&&_ instanceof l&&_.__addObject(p)}remove(p){var _=this.children.indexOf(p);if(_!==-1){p.parent=void 0,this.children.splice(_,1);for(var x=this;x.parent!==void 0;)x=x.parent;x!==void 0&&x instanceof l&&x.__removeObject(p)}}vrml(p){p||(p=" ");var _=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),x=0,S=0,w=0;if(_!=0){let y=Math.sin(_/2);x=this.quaternion.x/y,S=this.quaternion.y/y,w=this.quaternion.z/y}var c=p+`Transform {
`+p+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+p+" rotation "+x+" "+S+" "+w+" "+_+`
`+p+` children [
`;this.geometry&&(c+=this.geometry.vrml(p,this.material));for(var v=0;v<this.children.length;v++)c+=this.children[v].vrml(p+" ")+`,
`;return c+=` ]
`,c+="}",c}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof n.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(p){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||p===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var _=0;_<this.children.length;_++)this.children[_].updateMatrixWorld(!0)}clone(p){p===void 0&&(p=new o),p.name=this.name,p.up.copy(this.up),p.position.copy(this.position),p.rotation instanceof n.Vector3&&this.rotation instanceof n.Vector3?p.rotation.copy(this.rotation):p.rotation=this.rotation,p.eulerOrder=this.eulerOrder,p.scale.copy(this.scale),p.rotationAutoUpdate=this.rotationAutoUpdate,p.matrix.copy(this.matrix),p.matrixWorld.copy(this.matrixWorld),p.quaternion.copy(this.quaternion),p.matrixAutoUpdate=this.matrixAutoUpdate,p.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,p.useQuaternion=this.useQuaternion,p.visible=this.visible;for(var _=0;_<this.children.length;_++){var x=this.children[_];p.add(x.clone())}return p}setVisible(p){this.visible=p;for(var _=0;_<this.children.length;_++){var x=this.children[_];x.setVisible(p)}}}class l extends o{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(p){if(p instanceof u)this.__lights.indexOf(p)===-1&&this.__lights.push(p),p.target&&p.target.parent===void 0&&this.add(p.target);else if(this.__objects.indexOf(p)===-1){this.__objects.push(p),this.__objectsAdded.push(p);var _=this.__objectsRemoved.indexOf(p);_!==-1&&this.__objectsRemoved.splice(_,1)}for(var x=0;x<p.children.length;x++)this.__addObject(p.children[x])}__removeObject(p){var _;if(p instanceof u)_=this.__lights.indexOf(p),_!==-1&&this.__lights.splice(_,1);else if(_=this.__objects.indexOf(p),_!==-1){this.__objects.splice(_,1),this.__objectsRemoved.push(p);var x=this.__objectsAdded.indexOf(p);x!==-1&&this.__objectsAdded.splice(_,1)}for(var S=0;S<p.children.length;S++)this.__removeObject(p.children[S])}}class u extends o{constructor(p,_=1){super(),this.position=new n.Vector3(0,1,0),this.target=new o,this.castShadow=!1,this.onlyShadow=!1,this.color=new a.Color(p),this.intensity=_}}},"./src/WebGL/core/Projector.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Projector:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Matrix4;class s{static unprojectVector(l,u){return u.projectionMatrixInverse.getInverse(u.projectionMatrix),a.multiplyMatrices(u.matrixWorld,u.projectionMatrixInverse),l.applyProjection(a)}static projectVector(l,u){return u.matrixWorldInverse.getInverse(u.matrixWorld),a.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse),l.applyProjection(a)}projectVector(l,u){return s.projectVector(l,u)}unprojectVector(l,u){return s.unprojectVector(l,u)}}},"./src/WebGL/core/Raycaster.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Raycaster:()=>l,intersectObject:()=>y});var n=r("./src/WebGL/math/index.ts"),a=r("./src/WebGL/shapes/index.ts");let s=(b,C)=>b.distance-C.distance,o=new n.Matrix4;class l{constructor(C,E,h,f){this.precision=1e-4,this.linePrecision=.2,this.ray=new n.Ray(C,E),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=f||0,this.far=h||1/0}set(C,E){this.ray.set(C,E)}setFromCamera(C,E){E.ortho?(this.ray.origin.set(C.x,C.y,(E.near+E.far)/(E.near-E.far)).unproject(E),this.ray.direction.set(0,0,-1).transformDirection(E.matrixWorld)):(this.ray.origin.setFromMatrixPosition(E.matrixWorld),this.ray.direction.set(C.x,C.y,C.z),E.projectionMatrixInverse.getInverse(E.projectionMatrix),o.multiplyMatrices(E.matrixWorld,E.projectionMatrixInverse),this.ray.direction.applyProjection(o),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(C,E){for(var h=[],f=0,D=E.length;f<D;f++)y(C,E[f],this,h);return h.sort(s),h}}let u=b=>Math.min(Math.max(b,-1),1);var g=new a.Sphere,p=new a.Cylinder,_=new a.Triangle,x=new n.Vector3,S=new n.Vector3,w=new n.Vector3,c=new n.Vector3,v=new n.Vector3;function y(b,C,E,h){if(v.getPositionFromMatrix(b.matrixWorld),C.intersectionShape===void 0)return h;var f=C.intersectionShape,D=E.linePrecision;D*=b.matrixWorld.getMaxScaleOnAxis();var M=D*D;if(C.boundingSphere!==void 0&&C.boundingSphere instanceof a.Sphere&&(g.copy(C.boundingSphere),g.applyMatrix4(b.matrixWorld),!E.ray.isIntersectionSphere(g)))return h;var N,k,z,O,I,H,Y,q,G,$,R,V,X,Q;for(N=0,k=f.triangle.length;N<k;N++)if(f.triangle[N]instanceof a.Triangle){if(_.copy(f.triangle[N]),_.applyMatrix4(b.matrixWorld),z=_.getNormal(),O=E.ray.direction.dot(z),O>=0||(x.subVectors(_.a,E.ray.origin),Y=z.dot(x)/O,Y<0))continue;S.copy(E.ray.direction).multiplyScalar(Y).add(E.ray.origin),S.sub(_.a),w.copy(_.b).sub(_.a),c.copy(_.c).sub(_.a);var te=w.dot(c),we=w.lengthSq(),Pe=c.lengthSq();if(V=(we*S.dot(c)-te*S.dot(w))/(we*Pe-te*te),V<0||V>1||(R=(S.dot(w)-V*te)/we,R<0||R>1||R+V>1))continue;h.push({clickable:C,distance:Y})}for(N=0,k=f.cylinder.length;N<k;N++)if(f.cylinder[N]instanceof a.Cylinder){if(p.copy(f.cylinder[N]),p.applyMatrix4(b.matrixWorld),x.subVectors(p.c1,E.ray.origin),I=x.dot(p.direction),H=x.dot(E.ray.direction),O=u(E.ray.direction.dot(p.direction)),G=1-O*O,G===0)continue;X=(O*H-I)/G,Q=(H-O*I)/G,S.copy(p.direction).multiplyScalar(X).add(p.c1),w.copy(E.ray.direction).multiplyScalar(Q).add(E.ray.origin),q=c.subVectors(S,w).lengthSq();var xe=p.radius*p.radius;if(q<=xe){if($=(O*I-H)*(O*I-H)-G*(x.lengthSq()-I*I-xe),$<=0?V=Y=Math.sqrt(q):V=Y=(H-O*I-Math.sqrt($))/G,R=O*V-I,R<0||R*R>p.lengthSq()||V<0)continue;h.push({clickable:C,distance:Y})}}for(N=0,k=f.line.length;N<k;N+=2){S.copy(f.line[N]),S.applyMatrix4(b.matrixWorld),w.copy(f.line[N+1]),w.applyMatrix4(b.matrixWorld),c.subVectors(w,S);var Fe=c.lengthSq();c.normalize(),x.subVectors(S,E.ray.origin);var Ae=x.dot(c);H=x.dot(E.ray.direction),O=u(E.ray.direction.dot(c)),G=1-O*O,G!==0&&(X=(O*H-Ae)/G,Q=(H-O*Ae)/G,S.add(c.multiplyScalar(X)),w.copy(E.ray.direction).multiplyScalar(Q).add(E.ray.origin),q=c.subVectors(w,S).lengthSq(),q<M&&X*X<Fe&&h.push({clickable:C,distance:Q}))}for(N=0,k=f.sphere.length;N<k;N++)if(f.sphere[N]instanceof a.Sphere&&(g.copy(f.sphere[N]),g.applyMatrix4(b.matrixWorld),E.ray.isIntersectionSphere(g))){S.subVectors(g.center,E.ray.origin);var be=S.dot(E.ray.direction);if($=be*be-(S.lengthSq()-g.radius*g.radius),be<0)return h;$<=0?Y=be:Y=be-Math.sqrt($),h.push({clickable:C,distance:Y})}return h}},"./src/WebGL/core/Texture.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Texture:()=>l,TextureIdCount:()=>u});var n=r("./src/WebGL/constants/TextureConstants.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/core/EventDispatcher.ts"),o=r("./src/WebGL/core/UVMapping.ts");class l extends s.EventDispatcher{constructor(p,_){super(),this.id=u++,this.name="",this.image=p,this.mapping=new o.UVMapping,this.wrapS=n.ClampToEdgeWrapping,this.wrapT=n.ClampToEdgeWrapping,this.anisotropy=1,_?(this.format=n.RFormat,this.type=n.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=n.NearestFilter,this.minFilter=n.NearestFilter):(this.format=n.RGBAFormat,this.type=n.UnsignedByteType,this.offset=new a.Vector2(0,0),this.repeat=new a.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=n.LinearFilter,this.minFilter=n.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(p=new l){return p.image=this.image,p.mapping=this.mapping,p.wrapS=this.wrapS,p.wrapT=this.wrapT,p.magFilter=this.magFilter,p.minFilter=this.minFilter,p.anisotropy=this.anisotropy,p.format=this.format,p.type=this.type,p.offset.copy(this.offset),p.repeat.copy(this.repeat),p.premultiplyAlpha=this.premultiplyAlpha,p.flipY=this.flipY,p.unpackAlignment=this.unpackAlignment,p}dispose(){this.dispatchEvent({type:"dispose"})}}let u=0},"./src/WebGL/core/UVMapping.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{UVMapping:()=>n});class n{}},"./src/WebGL/core/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{EventDispatcher:()=>n.EventDispatcher,Geometry:()=>a.Geometry,GeometryGroup:()=>a.GeometryGroup,GeometryIDCount:()=>a.GeometryIDCount,Light:()=>s.Light,Object3D:()=>s.Object3D,Object3DIDCount:()=>s.Object3DIDCount,Projector:()=>o.Projector,Raycaster:()=>l.Raycaster,Scene:()=>s.Scene,Texture:()=>u.Texture,TextureIdCount:()=>u.TextureIdCount,UVMapping:()=>g.UVMapping,intersectObject:()=>l.intersectObject});var n=r("./src/WebGL/core/EventDispatcher.ts"),a=r("./src/WebGL/core/Geometry.ts"),s=r("./src/WebGL/core/Object3D.ts"),o=r("./src/WebGL/core/Projector.ts"),l=r("./src/WebGL/core/Raycaster.ts"),u=r("./src/WebGL/core/Texture.ts"),g=r("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>n.BackSide,Camera:()=>p.Camera,ClampToEdgeWrapping:()=>n.ClampToEdgeWrapping,Coloring:()=>n.Coloring,Cylinder:()=>g.Cylinder,DoubleSide:()=>n.DoubleSide,EventDispatcher:()=>a.EventDispatcher,FloatType:()=>n.FloatType,Fog:()=>_.Fog,FrontSide:()=>n.FrontSide,Geometry:()=>a.Geometry,GeometryGroup:()=>a.GeometryGroup,GeometryIDCount:()=>a.GeometryIDCount,ImposterMaterial:()=>s.ImposterMaterial,InstancedMaterial:()=>s.InstancedMaterial,Light:()=>a.Light,Line:()=>l.Line,LineBasicMaterial:()=>s.LineBasicMaterial,LineStyle:()=>l.LineStyle,LinearFilter:()=>n.LinearFilter,LinearMipMapLinearFilter:()=>n.LinearMipMapLinearFilter,Material:()=>s.Material,MaterialIdCount:()=>s.MaterialIdCount,Matrix3:()=>o.Matrix3,Matrix4:()=>o.Matrix4,Mesh:()=>l.Mesh,MeshDoubleLambertMaterial:()=>s.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>s.MeshLambertMaterial,MeshOutlineMaterial:()=>s.MeshOutlineMaterial,NearestFilter:()=>n.NearestFilter,Object3D:()=>a.Object3D,Object3DIDCount:()=>a.Object3DIDCount,Projector:()=>a.Projector,Quaternion:()=>o.Quaternion,R32Format:()=>n.R32Format,RFormat:()=>n.RFormat,RGBAFormat:()=>n.RGBAFormat,Ray:()=>o.Ray,Raycaster:()=>a.Raycaster,Renderer:()=>x.Renderer,Scene:()=>a.Scene,ShaderLib:()=>u.ShaderLib,ShaderUtils:()=>u.ShaderUtils,Shading:()=>n.Shading,Sphere:()=>g.Sphere,SphereImposterMaterial:()=>s.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>s.SphereImposterOutlineMaterial,Sprite:()=>l.Sprite,SpriteAlignment:()=>n.SpriteAlignment,SpriteMaterial:()=>s.SpriteMaterial,SpritePlugin:()=>S.SpritePlugin,StickImposterMaterial:()=>s.StickImposterMaterial,StickImposterOutlineMaterial:()=>s.StickImposterOutlineMaterial,Texture:()=>a.Texture,TextureIdCount:()=>a.TextureIdCount,TextureOperations:()=>n.TextureOperations,Triangle:()=>g.Triangle,UVMapping:()=>a.UVMapping,UnsignedByteType:()=>n.UnsignedByteType,Vector2:()=>o.Vector2,Vector3:()=>o.Vector3,VolumetricMaterial:()=>s.VolumetricMaterial,basic:()=>u.basic,clamp:()=>o.clamp,clone:()=>u.clone,conversionMatrix3:()=>o.conversionMatrix3,degToRad:()=>o.degToRad,instanced:()=>u.instanced,intersectObject:()=>a.intersectObject,lambert:()=>u.lambert,lambertdouble:()=>u.lambertdouble,outline:()=>u.outline,screen:()=>u.screen,screenaa:()=>u.screenaa,sphereimposter:()=>u.sphereimposter,sphereimposteroutline:()=>u.sphereimposteroutline,sprite:()=>u.sprite,stickimposter:()=>u.stickimposter,stickimposteroutline:()=>u.stickimposteroutline,volumetric:()=>u.volumetric});var n=r("./src/WebGL/constants/index.ts"),a=r("./src/WebGL/core/index.ts"),s=r("./src/WebGL/materials/index.ts"),o=r("./src/WebGL/math/index.ts"),l=r("./src/WebGL/objects/index.ts"),u=r("./src/WebGL/shaders/index.ts"),g=r("./src/WebGL/shapes/index.ts"),p=r("./src/WebGL/Camera.ts"),_=r("./src/WebGL/Fog.ts"),x=r("./src/WebGL/Renderer.ts"),S=r("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ImposterMaterial:()=>u});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),l=r("./src/WebGL/materials/Material.ts");class u extends l.Material{constructor(p){super(),this.color=new s.Color(16777215),this.ambient=new s.Color(1048575),this.emissive=new s.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new o.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID=null,this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(p)}clone(p=new u){return super.clone.call(this,p),p.color.copy(this.color),p.ambient.copy(this.ambient),p.emissive.copy(this.emissive),p.wrapAround=this.wrapAround,p.wrapRGB.copy(this.wrapRGB),p.map=this.map,p.lightMap=this.lightMap,p.specularMap=this.specularMap,p.envMap=this.envMap,p.combine=this.combine,p.reflectivity=this.reflectivity,p.refractionRatio=this.refractionRatio,p.fog=this.fog,p.shading=this.shading,p.shaderID=this.shaderID,p.vertexColors=this.vertexColors,p.skinning=this.skinning,p.morphTargets=this.morphTargets,p.morphNormals=this.morphNormals,p}}},"./src/WebGL/materials/InstancedMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstancedMaterial:()=>u});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),l=r("./src/WebGL/materials/Material.ts");class u extends l.Material{constructor(p){super(),this.color=new s.Color(16777215),this.ambient=new s.Color(1048575),this.emissive=new s.Color(0),this.wrapAround=!1,this.wrapRGB=new o.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(p)}clone(p=new u){return super.clone.call(this,p),p.color.copy(this.color),p.ambient.copy(this.ambient),p.emissive.copy(this.emissive),p.wrapAround=this.wrapAround,p.wrapRGB.copy(this.wrapRGB),p.map=this.map,p.lightMap=this.lightMap,p.specularMap=this.specularMap,p.envMap=this.envMap,p.combine=this.combine,p.reflectivity=this.reflectivity,p.refractionRatio=this.refractionRatio,p.fog=this.fog,p.shading=this.shading,p.shaderID=this.shaderID,p.vertexColors=this.vertexColors,p.skinning=this.skinning,p.morphTargets=this.morphTargets,p.morphNormals=this.morphNormals,p.sphere=this.sphere,p}}},"./src/WebGL/materials/LineBasicMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{LineBasicMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/Material.ts");class s extends a.Material{constructor(l){super(),this.color=new n.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(l)}clone(l=new s){return super.clone.call(this,l),l.color.copy(this.color),l}}},"./src/WebGL/materials/Material.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Material:()=>l,MaterialIdCount:()=>u});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/WebGL/core/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts");class l extends a.EventDispatcher{constructor(){super(...arguments),this.id=u++,this.name="",this.side=n.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.stencilTest=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1}setValues(p={}){if(p!==void 0)for(var _ in p){var x=p[_];if(x===void 0){console.warn("$3Dmol.Material: '"+_+"' parameter is undefined.");continue}if(_ in this){var S=this[_];S instanceof o.Color&&x instanceof o.Color?S.copy(x):S instanceof o.Color?S.set(x):S instanceof s.Vector3&&x instanceof s.Vector3?S.copy(x):this[_]=x}}}clone(p=new l){return p.name=this.name,p.side=this.side,p.opacity=this.opacity,p.transparent=this.transparent,p.depthTest=this.depthTest,p.depthWrite=this.depthWrite,p.stencilTest=this.stencilTest,p.polygonOffset=this.polygonOffset,p.polygonOffsetFactor=this.polygonOffsetFactor,p.polygonOffsetUnits=this.polygonOffsetUnits,p.alphaTest=this.alphaTest,p.overdraw=this.overdraw,p.visible=this.visible,p}dispose(){this.dispatchEvent({type:"dispose"})}}let u=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshDoubleLambertMaterial:()=>s});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/WebGL/materials/MeshLambertMaterial.ts");class s extends a.MeshLambertMaterial{constructor(l){super(l),this.shaderID="lambertdouble",this.side=n.DoubleSide,this.outline=!1}clone(l=new s){return super.clone.call(this,l),l}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshLambertMaterial:()=>u});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/WebGL/materials/Material.ts"),o=r("./src/colors.ts"),l=r("./src/WebGL/math/index.ts");class u extends s.Material{constructor(p){super(),this.color=new o.Color(16777215),this.ambient=new o.Color(1048575),this.emissive=new o.Color(0),this.wrapAround=!1,this.wrapRGB=new l.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(p)}clone(p=new u){return super.clone.call(this,p),p.color.copy(this.color),p.ambient.copy(this.ambient),p.emissive.copy(this.emissive),p.wrapAround=this.wrapAround,p.wrapRGB.copy(this.wrapRGB),p.map=this.map,p.lightMap=this.lightMap,p.specularMap=this.specularMap,p.envMap=this.envMap,p.combine=this.combine,p.reflectivity=this.reflectivity,p.refractionRatio=this.refractionRatio,p.fog=this.fog,p.shading=this.shading,p.shaderID=this.shaderID,p.vertexColors=this.vertexColors,p.skinning=this.skinning,p.morphTargets=this.morphTargets,p.morphNormals=this.morphNormals,p}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/Material.ts");class s extends a.Material{constructor(l){super(),l=l||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=l.color||new n.Color(0,0,0),this.outlineWidth=l.width||.1,this.outlinePushback=l.pushback||1}clone(l=new s){return super.clone.call(this,l),l.fog=this.fog,l.shaderID=this.shaderID,l.wireframe=this.wireframe,l}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SphereImposterMaterial:()=>a});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class a extends n.ImposterMaterial{constructor(o){super(o),this.shaderID="sphereimposter",this.setValues(o)}clone(o=new a){return super.clone.call(this,o),o}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SphereImposterOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/ImposterMaterial.ts");class s extends a.ImposterMaterial{constructor(l){super(l),l=l||{},this.shaderID="sphereimposteroutline",this.outlineColor=l.color||new n.Color(0,0,0),this.outlineWidth=l.width||.1,this.outlinePushback=l.pushback||1,this.setValues(l)}clone(l=new s){return super.clone.call(this,l),l.outlineColor=this.outlineColor,l.outlineWidth=this.outlineWidth,l.outlinePushback=this.outlinePushback,l}}},"./src/WebGL/materials/SpriteMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpriteMaterial:()=>u});var n=r("./src/WebGL/constants/SpriteAlignment.ts"),a=r("./src/WebGL/core/Texture.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),l=r("./src/WebGL/materials/Material.ts");class u extends l.Material{constructor(p){super(),this.color=new s.Color(16777215),this.map=new a.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new o.Vector2(0,0),this.uvScale=new o.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=n.SpriteAlignment.center.clone(),this.setValues(p),p=p||{},p.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),p.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),p.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(p=new u){return super.clone.call(this,p),p.color.copy(this.color),p.map=this.map,p.useScreenCoordinates=this.useScreenCoordinates,p.screenOffset=this.screenOffset,p.sizeAttenuation=this.sizeAttenuation,p.scaleByViewport=this.scaleByViewPort,p.alignment.copy(this.alignment),p.uvOffset.copy(this.uvOffset),p}}},"./src/WebGL/materials/StickImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StickImposterMaterial:()=>a});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class a extends n.ImposterMaterial{constructor(o){super(o),this.shaderID="stickimposter",this.setValues(o)}clone(o=new a){return super.clone.call(this,o),o}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StickImposterOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/ImposterMaterial.ts");class s extends a.ImposterMaterial{constructor(l={}){super(l),this.shaderID="stickimposteroutline",this.outlineColor=new n.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,l.color&&(this.outlineColor=l.color),l.width&&(this.outlineWidth=l.width),l.pushback&&(this.outlinePushback=l.pushback),this.setValues(l)}clone(l=new s){return super.clone.call(this,l),l.outlineColor=this.outlineColor,l.outlineWidth=this.outlineWidth,l.outlinePushback=this.outlinePushback,l}}},"./src/WebGL/materials/VolumetricMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VolumetricMaterial:()=>o});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/colors.ts"),s=r("./src/WebGL/materials/Material.ts");class o extends s.Material{constructor(u){super(),this.transparent=!1,this.volumetric=!0,this.color=new a.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=n.FrontSide,this.setValues(u)}clone(u=new o){return super.clone.call(this,u),u.transparent=this.transparent,u.volumetric=this.volumetric,u.color=this.color,u.transferfn=this.transferfn,u.map=this.map,u.extent=this.extent,u.maxdepth=this.maxdepth,u.unit=this.unit,u.texmatrix=this.texmatrix,u.transfermin=this.transfermin,u.transfermax=this.transfermax,u.subsamples=this.subsamples,u.shaderID=this.shaderID,u.side=this.side,u}}},"./src/WebGL/materials/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ImposterMaterial:()=>n.ImposterMaterial,InstancedMaterial:()=>a.InstancedMaterial,LineBasicMaterial:()=>s.LineBasicMaterial,Material:()=>o.Material,MaterialIdCount:()=>o.MaterialIdCount,MeshDoubleLambertMaterial:()=>l.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>u.MeshLambertMaterial,MeshOutlineMaterial:()=>g.MeshOutlineMaterial,SphereImposterMaterial:()=>p.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>_.SphereImposterOutlineMaterial,SpriteMaterial:()=>x.SpriteMaterial,StickImposterMaterial:()=>S.StickImposterMaterial,StickImposterOutlineMaterial:()=>w.StickImposterOutlineMaterial,VolumetricMaterial:()=>c.VolumetricMaterial});var n=r("./src/WebGL/materials/ImposterMaterial.ts"),a=r("./src/WebGL/materials/InstancedMaterial.ts"),s=r("./src/WebGL/materials/LineBasicMaterial.ts"),o=r("./src/WebGL/materials/Material.ts"),l=r("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),u=r("./src/WebGL/materials/MeshLambertMaterial.ts"),g=r("./src/WebGL/materials/MeshOutlineMaterial.ts"),p=r("./src/WebGL/materials/SphereImposterMaterial.ts"),_=r("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),x=r("./src/WebGL/materials/SpriteMaterial.ts"),S=r("./src/WebGL/materials/StickImposterMaterial.ts"),w=r("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),c=r("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Quaternion:()=>n});class n{constructor(s,o,l,u){this.x=s||0,this.y=o||0,this.z=l||0,this.w=u!==void 0?u:1}set(s,o,l,u){return this.x=s,this.y=o,this.z=l,this.w=u,this}copy(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let s=this.length();return s===0?(this.x=0,this.y=0,this.z=0,this.w=1):(s=1/s,this.x*=s,this.y*=s,this.z*=s,this.w*=s),this}multiply(s){return this.multiplyQuaternions(this,s)}multiplyScalar(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this}multiplyQuaternions(s,o){let l=s.x,u=s.y,g=s.z,p=s.w,_=o.x,x=o.y,S=o.z,w=o.w;return this.x=l*w+p*_+u*S-g*x,this.y=u*w+p*x+g*_-l*S,this.z=g*w+p*S+l*x-u*_,this.w=p*w-l*_-u*x-g*S,this}sub(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this.w-=s.w,this}clone(){return new n(this.x,this.y,this.z,this.w)}setFromEuler(s){let o=Math.cos(s.x/2),l=Math.cos(s.y/2),u=Math.cos(s.z/2),g=Math.sin(s.x/2),p=Math.sin(s.y/2),_=Math.sin(s.z/2);return this.x=g*l*u+o*p*_,this.y=o*p*u-g*l*_,this.z=o*l*_+g*p*u,this.w=o*l*u-g*p*_,this}}},"./src/WebGL/math/Vector2.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Vector2:()=>n});class n{constructor(s,o){this.x=s||0,this.y=o||0}set(s,o){return this.x=s,this.y=o,this}subVectors(s,o){return this.x=s.x-o.x,this.y=s.y-o.y,this}copy(s){return this.x=s.x,this.y=s.y,this}clone(){return new n(this.x,this.y)}}},"./src/WebGL/math/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Matrix3:()=>u.Matrix3,Matrix4:()=>u.Matrix4,Quaternion:()=>n.Quaternion,Ray:()=>u.Ray,Vector2:()=>a.Vector2,Vector3:()=>u.Vector3,clamp:()=>s.clamp,conversionMatrix3:()=>o.conversionMatrix3,degToRad:()=>l.degToRad});var n=r("./src/WebGL/math/Quaternion.ts"),a=r("./src/WebGL/math/Vector2.ts"),s=r("./src/WebGL/math/utils/clamp.ts"),o=r("./src/WebGL/math/utils/conversionMatrix3.ts"),l=r("./src/WebGL/math/utils/degToRad.ts"),u=r("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Matrix3:()=>x,Matrix4:()=>p,Ray:()=>S,Vector3:()=>_});var n=r("./src/WebGL/math/utils/degToRad.ts"),a=r("./src/WebGL/math/utils/clamp.ts"),s,o,l,u,g;class p{constructor(c=1,v=0,y=0,b=0,C=0,E=1,h=0,f=0,D=0,M=0,N=1,k=0,z=0,O=0,I=0,H=1){typeof c<"u"&&typeof c!="number"?this.elements=new Float32Array(c):(this.elements=new Float32Array(16),this.elements[0]=c,this.elements[4]=v,this.elements[8]=y,this.elements[12]=b,this.elements[1]=C,this.elements[5]=E,this.elements[9]=h,this.elements[13]=f,this.elements[2]=D,this.elements[6]=M,this.elements[10]=N,this.elements[14]=k,this.elements[3]=z,this.elements[7]=O,this.elements[11]=I,this.elements[15]=H)}makeScale(c,v,y){throw new Error("Method not implemented.")}set(c,v,y,b,C,E,h,f,D,M,N,k,z,O,I,H){let Y=this.elements;return Y[0]=c,Y[4]=v,Y[8]=y,Y[12]=b,Y[1]=C,Y[5]=E,Y[9]=h,Y[13]=f,Y[2]=D,Y[6]=M,Y[10]=N,Y[14]=k,Y[3]=z,Y[7]=O,Y[11]=I,Y[15]=H,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(c){let v=c.elements;return this.set(v[0],v[4],v[8],v[12],v[1],v[5],v[9],v[13],v[2],v[6],v[10],v[14],v[3],v[7],v[11],v[15]),this}matrix3FromTopLeft(){let c=this.elements;return new x(c[0],c[4],c[8],c[1],c[5],c[9],c[2],c[6],c[10])}setRotationFromEuler(c,v){let y=this.elements,{x:b,y:C,z:E}=c,h=Math.cos(b),f=Math.sin(b),D=Math.cos(C),M=Math.sin(C),N=Math.cos(E),k=Math.sin(E);if(v===void 0||v==="XYZ"){let z=h*N,O=h*k,I=f*N,H=f*k;y[0]=D*N,y[4]=-D*k,y[8]=M,y[1]=O+I*M,y[5]=z-H*M,y[9]=-f*D,y[2]=H-z*M,y[6]=I+O*M,y[10]=h*D}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${v}`);return this}setRotationFromQuaternion(c){let v=this.elements,{x:y,y:b,z:C,w:E}=c,h=y+y,f=b+b,D=C+C,M=y*h,N=y*f,k=y*D,z=b*f,O=b*D,I=C*D,H=E*h,Y=E*f,q=E*D;return v[0]=1-(z+I),v[4]=N-q,v[8]=k+Y,v[1]=N+q,v[5]=1-(M+I),v[9]=O-H,v[2]=k-Y,v[6]=O+H,v[10]=1-(M+z),this}multiplyMatrices(c,v){let y=c.elements,b=v.elements,C=this.elements,E=y[0],h=y[4],f=y[8],D=y[12],M=y[1],N=y[5],k=y[9],z=y[13],O=y[2],I=y[6],H=y[10],Y=y[14],q=y[3],G=y[7],$=y[11],R=y[15],V=b[0],X=b[4],Q=b[8],te=b[12],we=b[1],Pe=b[5],xe=b[9],Fe=b[13],Ae=b[2],be=b[6],Qe=b[10],Xe=b[14],U=b[3],pe=b[7],_e=b[11],ie=b[15];return C[0]=E*V+h*we+f*Ae+D*U,C[4]=E*X+h*Pe+f*be+D*pe,C[8]=E*Q+h*xe+f*Qe+D*_e,C[12]=E*te+h*Fe+f*Xe+D*ie,C[1]=M*V+N*we+k*Ae+z*U,C[5]=M*X+N*Pe+k*be+z*pe,C[9]=M*Q+N*xe+k*Qe+z*_e,C[13]=M*te+N*Fe+k*Xe+z*ie,C[2]=O*V+I*we+H*Ae+Y*U,C[6]=O*X+I*Pe+H*be+Y*pe,C[10]=O*Q+I*xe+H*Qe+Y*_e,C[14]=O*te+I*Fe+H*Xe+Y*ie,C[3]=q*V+G*we+$*Ae+R*U,C[7]=q*X+G*Pe+$*be+R*pe,C[11]=q*Q+G*xe+$*Qe+R*_e,C[15]=q*te+G*Fe+$*Xe+R*ie,this}multiplyScalar(c){let v=this.elements;return v[0]*=c,v[4]*=c,v[8]*=c,v[12]*=c,v[1]*=c,v[5]*=c,v[9]*=c,v[13]*=c,v[2]*=c,v[6]*=c,v[10]*=c,v[14]*=c,v[3]*=c,v[7]*=c,v[11]*=c,v[15]*=c,this}makeTranslation(c,v,y){return this.set(1,0,0,c,0,1,0,v,0,0,1,y,0,0,0,1),this}snap(c){c||(c=4);let v=Math.pow(10,4),y=this.elements;for(let b=0;b<16;b++){let C=Math.round(y[b]);C===Math.round(y[b]*v)/v&&(y[b]=C)}return this}transpose(){let c=this.elements,v;return v=c[1],c[1]=c[4],c[4]=v,v=c[2],c[2]=c[8],c[8]=v,v=c[6],c[6]=c[9],c[9]=v,v=c[3],c[3]=c[12],c[12]=v,v=c[7],c[7]=c[13],c[13]=v,v=c[11],c[11]=c[14],c[14]=v,this}setPosition(c){let v=this.elements;return v[12]=c.x,v[13]=c.y,v[14]=c.z,this}translate(c){let v=this.elements;return v[12]+=c.x,v[13]+=c.y,v[14]+=c.z,this}getInverse(c,v){let y=this.elements,b=c.elements,C=b[0],E=b[4],h=b[8],f=b[12],D=b[1],M=b[5],N=b[9],k=b[13],z=b[2],O=b[6],I=b[10],H=b[14],Y=b[3],q=b[7],G=b[11],$=b[15];y[0]=N*H*q-k*I*q+k*O*G-M*H*G-N*O*$+M*I*$,y[4]=f*I*q-h*H*q-f*O*G+E*H*G+h*O*$-E*I*$,y[8]=h*k*q-f*N*q+f*M*G-E*k*G-h*M*$+E*N*$,y[12]=f*N*O-h*k*O-f*M*I+E*k*I+h*M*H-E*N*H,y[1]=k*I*Y-N*H*Y-k*z*G+D*H*G+N*z*$-D*I*$,y[5]=h*H*Y-f*I*Y+f*z*G-C*H*G-h*z*$+C*I*$,y[9]=f*N*Y-h*k*Y-f*D*G+C*k*G+h*D*$-C*N*$,y[13]=h*k*z-f*N*z+f*D*I-C*k*I-h*D*H+C*N*H,y[2]=M*H*Y-k*O*Y+k*z*q-D*H*q-M*z*$+D*O*$,y[6]=f*O*Y-E*H*Y-f*z*q+C*H*q+E*z*$-C*O*$,y[10]=E*k*Y-f*M*Y+f*D*q-C*k*q-E*D*$+C*M*$,y[14]=f*M*z-E*k*z-f*D*O+C*k*O+E*D*H-C*M*H,y[3]=N*O*Y-M*I*Y-N*z*q+D*I*q+M*z*G-D*O*G,y[7]=E*I*Y-h*O*Y+h*z*q-C*I*q-E*z*G+C*O*G,y[11]=h*M*Y-E*N*Y-h*D*q+C*N*q+E*D*G-C*M*G,y[15]=E*N*z-h*M*z+h*D*O-C*N*O-E*D*I+C*M*I;let R=C*y[0]+D*y[4]+z*y[8]+Y*y[12];if(R===0){let V="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(v)throw new Error(V);return console.warn(V),this.identity(),this}return this.multiplyScalar(1/R),this}isReflected(){let c=this.elements,v=c[0],y=c[4],b=c[8],C=c[1],E=c[5],h=c[9],f=c[2],D=c[6],M=c[10];return v*E*M+C*D*b+f*y*h-f*E*b-C*y*M-v*D*h<0}scale(c){let v=this.elements,{x:y}=c,{y:b}=c,{z:C}=c;return v[0]*=y,v[4]*=b,v[8]*=C,v[1]*=y,v[5]*=b,v[9]*=C,v[2]*=y,v[6]*=b,v[10]*=C,v[3]*=y,v[7]*=b,v[11]*=C,this}getMaxScaleOnAxis(){let c=this.elements,v=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],y=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],b=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(v,Math.max(y,b)))}makeFrustum(c,v,y,b,C,E){let h=this.elements,f=2*C/(v-c),D=2*C/(b-y),M=(v+c)/(v-c),N=(b+y)/(b-y),k=-(E+C)/(E-C),z=-2*E*C/(E-C);return h[0]=f,h[4]=0,h[8]=M,h[12]=0,h[1]=0,h[5]=D,h[9]=N,h[13]=0,h[2]=0,h[6]=0,h[10]=k,h[14]=z,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makePerspective(c,v,y,b){let C=y*Math.tan((0,n.degToRad)(c*.5)),E=-C,h=E*v,f=C*v;return this.makeFrustum(h,f,E,C,y,b)}makeOrthographic(c,v,y,b,C,E){let h=this.elements,f=1/(v-c),D=1/(y-b),M=1/(E-C),N=(v+c)*f,k=(y+b)*D,z=(E+C)*M;return h[0]=2*f,h[4]=0,h[8]=0,h[12]=-N,h[1]=0,h[5]=2*D,h[9]=0,h[13]=-k,h[2]=0,h[6]=0,h[10]=-2*M,h[14]=-z,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}isEqual(c){let v=c.elements,y=this.elements;return y[0]===v[0]&&y[4]===v[4]&&y[8]===v[8]&&y[12]===v[12]&&y[1]===v[1]&&y[5]===v[5]&&y[9]===v[9]&&y[13]===v[13]&&y[2]===v[2]&&y[6]===v[6]&&y[10]===v[10]&&y[14]===v[14]&&y[3]===v[3]&&y[7]===v[7]&&y[11]===v[11]&&y[15]===v[15]}clone(){let c=this.elements;return new p(c[0],c[4],c[8],c[12],c[1],c[5],c[9],c[13],c[2],c[6],c[10],c[14],c[3],c[7],c[11],c[15])}isIdentity(){let c=this.elements;return c[0]===1&&c[4]===0&&c[8]===0&&c[12]===0&&c[1]===0&&c[5]===1&&c[9]===0&&c[13]===0&&c[2]===0&&c[6]===0&&c[10]===1&&c[14]===0&&c[3]===0&&c[7]===0&&c[11]===0&&c[15]===1}isNearlyIdentity(c){return this.clone().snap(c).isIdentity()}getScale(c){let v=this.elements;return c=c||new _,l.set(v[0],v[1],v[2]),u.set(v[4],v[5],v[6]),g.set(v[8],v[9],v[10]),c.x=l.length(),c.y=u.length(),c.z=g.length(),c}lookAt(c,v,y){let b=this.elements;return g.subVectors(c,v).normalize(),g.length()===0&&(g.z=1),l.crossVectors(y,g).normalize(),l.length()===0&&(g.x+=1e-4,l.crossVectors(y,g).normalize()),u.crossVectors(g,l),b[0]=l.x,b[4]=u.x,b[8]=g.x,b[1]=l.y,b[5]=u.y,b[9]=g.y,b[2]=l.z,b[6]=u.z,b[10]=g.z,this}compose(c,v,y){let b=this.elements;return s.identity(),s.setRotationFromQuaternion(v),o.makeScale(y.x,y.y,y.z),this.multiplyMatrices(s,o),b[12]=c.x,b[13]=c.y,b[14]=c.z,this}}s=new p,o=new p;class _{constructor(c,v,y){this.x=c||0,this.y=v||0,this.z=y||0,this.atomid=void 0}set(c,v,y){return this.x=c,this.y=v,this.z=y,this}copy(c){return this.x=c.x,this.y=c.y,this.z=c.z,this}add(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z,this}addVectors(c,v){return this.x=c.x+v.x,this.y=c.y+v.y,this.z=c.z+v.z,this}multiplyVectors(c,v){return this.x=c.x*v.x,this.y=c.y*v.y,this.z=c.z*v.z,this}sub(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z,this}subVectors(c,v){return this.x=c.x-v.x,this.y=c.y-v.y,this.z=c.z-v.z,this}multiplyScalar(c){return this.x*=c,this.y*=c,this.z*=c,this}divideScalar(c){return c!==0?(this.x/=c,this.y/=c,this.z/=c):(this.x=0,this.y=0,this.z=0),this}max(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this}min(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this}distanceTo(c){return Math.sqrt(this.distanceToSquared(c))}distanceToSquared(c){let v=this.x-c.x,y=this.y-c.y,b=this.z-c.z;return v*v+y*y+b*b}applyMatrix3(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.elements;return this.x=C[0]*v+C[3]*y+C[6]*b,this.y=C[1]*v+C[4]*y+C[7]*b,this.z=C[2]*v+C[5]*y+C[8]*b,this}applyMatrix4(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.elements;return this.x=C[0]*v+C[4]*y+C[8]*b+C[12],this.y=C[1]*v+C[5]*y+C[9]*b+C[13],this.z=C[2]*v+C[6]*y+C[10]*b+C[14],this}applyProjection(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.elements,E=C[3]*v+C[7]*y+C[11]*b+C[15];return this.x=(C[0]*v+C[4]*y+C[8]*b+C[12])/E,this.y=(C[1]*v+C[5]*y+C[9]*b+C[13])/E,this.z=(C[2]*v+C[6]*y+C[10]*b+C[14])/E,this}applyQuaternion(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.x,E=c.y,h=c.z,f=c.w,D={};D.x=2*(y*h-b*E),D.y=2*(b*C-v*h),D.z=2*(v*E-y*C);let M={};return M.x=D.y*h-D.z*E,M.y=D.z*C-D.x*h,M.z=D.x*E-D.y*C,this.x=v+f*D.x+M.x,this.y=y+f*D.y+M.y,this.z=b+f*D.z+M.z,this}negate(){return this.multiplyScalar(-1)}dot(c){return this.x*c.x+this.y*c.y+this.z*c.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(c){let{x:v}=this,{y}=this,{z:b}=this;return this.x=y*c.z-b*c.y,this.y=b*c.x-v*c.z,this.z=v*c.y-y*c.x,this}crossVectors(c,v){return this.x=c.y*v.z-c.z*v.y,this.y=c.z*v.x-c.x*v.z,this.z=c.x*v.y-c.y*v.x,this}equals(c){return this.x==c.x&&this.y==c.y&&this.z==c.z}getPositionFromMatrix(c){return this.x=c.elements[12],this.y=c.elements[13],this.z=c.elements[14],this}setEulerFromRotationMatrix(c,v){let y=c.elements,b=y[0],C=y[4],E=y[8],h=y[5],f=y[9],D=y[6],M=y[10];return v===void 0||v==="XYZ"?(this.y=Math.asin((0,a.clamp)(E,-1,1)),Math.abs(E)<.99999?(this.x=Math.atan2(-f,M),this.z=Math.atan2(-C,b)):(this.x=Math.atan2(D,h),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${v}`),this}rotateAboutVector(c,v){c.normalize();let y=Math.cos(v),b=Math.sin(v),C=this.clone().multiplyScalar(y),E=c.clone().cross(this).multiplyScalar(b),h=c.clone().multiplyScalar(c.clone().dot(this)).multiplyScalar(1-y),f=C.add(E).add(h);return this.x=f.x,this.y=f.y,this.z=f.z,this}setFromMatrixPosition(c){let v=c.elements;return this.x=v[12],this.y=v[13],this.z=v[14],this}transformDirection(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.elements;return this.x=C[0]*v+C[4]*y+C[8]*b,this.y=C[1]*v+C[5]*y+C[9]*b,this.z=C[2]*v+C[6]*y+C[10]*b,this.normalize()}clone(){return new _(this.x,this.y,this.z)}unproject(c){let v=s;return v.multiplyMatrices(c.matrixWorld,v.getInverse(c.projectionMatrix)),this.applyMatrix4(v)}}l=new _,u=new _,g=new _;class x{constructor(c=1,v=0,y=0,b=0,C=1,E=0,h=0,f=0,D=1){this.elements=new Float32Array(9),this.set(c,v,y,b,C,E,h,f,D)}set(c,v,y,b,C,E,h,f,D){let M=this.elements;return M[0]=c,M[3]=v,M[6]=y,M[1]=b,M[4]=C,M[7]=E,M[2]=h,M[5]=f,M[8]=D,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(c){let v=c.elements;this.set(v[0],v[3],v[6],v[1],v[4],v[7],v[2],v[5],v[8])}multiplyScalar(c){let v=this.elements;return v[0]*=c,v[3]*=c,v[6]*=c,v[1]*=c,v[4]*=c,v[7]*=c,v[2]*=c,v[5]*=c,v[8]*=c,this}getInverse3(c){let v=c.elements,y=this.elements;y[0]=v[4]*v[8]-v[5]*v[7],y[3]=v[6]*v[5]-v[3]*v[8],y[6]=v[3]*v[7]-v[6]*v[4],y[1]=v[7]*v[2]-v[1]*v[8],y[4]=v[0]*v[8]-v[6]*v[2],y[7]=v[1]*v[6]-v[0]*v[7],y[2]=v[1]*v[5]-v[2]*v[4],y[5]=v[2]*v[3]-v[0]*v[5],y[8]=v[0]*v[4]-v[1]*v[3];let b=v[0]*y[0]+v[3]*y[1]+v[6]*y[2];return this.multiplyScalar(1/b),this}getInverse(c,v){let y=c.elements,b=this.elements;b[0]=y[10]*y[5]-y[6]*y[9],b[1]=-y[10]*y[1]+y[2]*y[9],b[2]=y[6]*y[1]-y[2]*y[5],b[3]=-y[10]*y[4]+y[6]*y[8],b[4]=y[10]*y[0]-y[2]*y[8],b[5]=-y[6]*y[0]+y[2]*y[4],b[6]=y[9]*y[4]-y[5]*y[8],b[7]=-y[9]*y[0]+y[1]*y[8],b[8]=y[5]*y[0]-y[1]*y[4];let C=y[0]*b[0]+y[1]*b[3]+y[2]*b[6];if(C===0){let E="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(v)throw new Error(E);return console.warn(E),this.identity(),this}return this.multiplyScalar(1/C),this}getDeterminant(){let c=this.elements;return c[0]*c[4]*c[8]+c[1]*c[5]*c[6]+c[2]*c[3]*c[7]-c[2]*c[4]*c[6]-c[1]*c[3]*c[8]-c[0]*c[5]*c[7]}transpose(){let c,v=this.elements;return c=v[1],v[1]=v[3],v[3]=c,c=v[2],v[2]=v[6],v[6]=c,c=v[5],v[5]=v[7],v[7]=c,this}clone(){let c=this.elements;return new x(c[0],c[3],c[6],c[1],c[4],c[7],c[2],c[5],c[8])}getMatrix4(){let c=this.elements;return new p(c[0],c[3],c[6],0,c[1],c[4],c[7],0,c[2],c[5],c[8],0)}}class S{constructor(c,v){this.origin=c!==void 0?c:new _,this.direction=v!==void 0?v:new _}set(c,v){return this.origin.copy(c),this.direction.copy(v),this}copy(c){return this.origin.copy(c.origin),this.direction.copy(c.direction),this}at(c,v){return(v||new _).copy(this.direction).multiplyScalar(c).add(this.origin)}recast(c){let v=l;return this.origin.copy(this.at(c,v)),this}closestPointToPoint(c,v){let y=v||new _;y.subVectors(c,this.origin);let b=y.dot(this.direction);return y.copy(this.direction).multiplyScalar(b).add(this.origin)}distanceToPoint(c){let v=l,y=v.subVectors(c,this.origin).dot(this.direction);return v.copy(this.direction).multiplyScalar(y).add(this.origin),v.distanceTo(c)}isIntersectionCylinder(){}isIntersectionSphere(c){return this.distanceToPoint(c.center)<=c.radius}isIntersectionPlane(c){return c.normal.dot(this.direction)!==0||c.distanceToPoint(this.origin)===0}distanceToPlane(c){let v=c.normal.dot(this.direction);return v===0?c.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(c.normal)+c.constant)/v}intersectPlane(c,v){let y=this.distanceToPlane(c);if(y!==void 0)return this.at(y,v)}applyMatrix4(c){return this.direction.add(this.origin).applyMatrix4(c),this.origin.applyMatrix4(c),this.direction.sub(this.origin),this}clone(){return new S().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{clamp:()=>n});function n(a,s,o){return Math.min(Math.max(a,s),o)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{conversionMatrix3:()=>a});var n=r("./src/WebGL/math/math.ts");function a(s,o,l,u,g,p){u=u*Math.PI/180,g=g*Math.PI/180,p=p*Math.PI/180;let _=y=>y*y,x=Math.cos(u),S=Math.cos(g),w=Math.cos(p),c=Math.sin(p);return new n.Matrix3(s,o*w,l*S,0,o*c,l*(x-S*w)/c,0,0,l*Math.sqrt(1-_(x)-_(S)-_(w)+2*x*S*w)/c)}},"./src/WebGL/math/utils/degToRad.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{degToRad:()=>a});let n=Math.PI/180;function a(s){return s*n}},"./src/WebGL/objects/Line.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Line:()=>o,LineStyle:()=>s});var n=r("./src/WebGL/materials/index.ts"),a=r("./src/WebGL/core/index.ts"),s;(function(l){l[l.LineStrip=0]="LineStrip",l[l.LinePieces=1]="LinePieces"})(s||(s={}));class o extends a.Object3D{constructor(u,g=new n.LineBasicMaterial({color:Math.random()*16777215}),p=s.LineStrip){super(),this.geometry=u,this.material=g,this.type=p}clone(u=new o(this.geometry,this.material,this.type)){return super.clone.call(this,u),u}}},"./src/WebGL/objects/Mesh.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Mesh:()=>a});var n=r("./src/WebGL/core/index.ts");class a extends n.Object3D{constructor(o,l){super(),this.geometry=o,this.material=l}clone(o){return o===void 0&&(o=new a(this.geometry,this.material)),super.clone.call(this,o),o}}},"./src/WebGL/objects/Sprite.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Sprite:()=>s});var n=r("./src/WebGL/materials/index.ts"),a=r("./src/WebGL/core/index.ts");class s extends a.Object3D{constructor(l=new n.SpriteMaterial){super(),this.material=l,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(l=new s(this.material)){return a.Object3D.prototype.clone.call(this,l),l}}},"./src/WebGL/objects/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Line:()=>n.Line,LineStyle:()=>n.LineStyle,Mesh:()=>a.Mesh,Sprite:()=>s.Sprite});var n=r("./src/WebGL/objects/Line.ts"),a=r("./src/WebGL/objects/Mesh.ts"),s=r("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(e,t,r)=>{"use strict";r.r(t)},"./src/WebGL/shaders/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderLib:()=>n.ShaderLib,ShaderUtils:()=>a.ShaderUtils,basic:()=>n.basic,clone:()=>a.clone,instanced:()=>n.instanced,lambert:()=>n.lambert,lambertdouble:()=>n.lambertdouble,outline:()=>n.outline,screen:()=>n.screen,screenaa:()=>n.screenaa,sphereimposter:()=>n.sphereimposter,sphereimposteroutline:()=>n.sphereimposteroutline,sprite:()=>n.sprite,stickimposter:()=>n.stickimposter,stickimposteroutline:()=>n.stickimposteroutline,volumetric:()=>n.volumetric});var n=r("./src/WebGL/shaders/lib/index.ts"),a=r("./src/WebGL/shaders/utils/index.ts"),s=r("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{basic:()=>o});var n=r("./src/WebGL/shaders/lib/basic/uniforms.ts"),a=r("./src/WebGL/shaders/lib/basic/basic.frag"),s=r("./src/WebGL/shaders/lib/basic/basic.vert");let o={vertexShader:s.default.replace("#define GLSLIFY 1",""),fragmentShader:a.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderLib:()=>v,basic:()=>n.basic,instanced:()=>a.instanced,lambert:()=>s.lambert,lambertdouble:()=>o.lambertdouble,outline:()=>l.outline,screen:()=>u.screen,screenaa:()=>g.screenaa,sphereimposter:()=>p.sphereimposter,sphereimposteroutline:()=>_.sphereimposteroutline,sprite:()=>x.sprite,stickimposter:()=>S.stickimposter,stickimposteroutline:()=>w.stickimposteroutline,volumetric:()=>c.volumetric});var n=r("./src/WebGL/shaders/lib/basic/index.ts"),a=r("./src/WebGL/shaders/lib/instanced/index.ts"),s=r("./src/WebGL/shaders/lib/lambert/index.ts"),o=r("./src/WebGL/shaders/lib/lambertdouble/index.ts"),l=r("./src/WebGL/shaders/lib/outline/index.ts"),u=r("./src/WebGL/shaders/lib/screen/index.ts"),g=r("./src/WebGL/shaders/lib/screenaa/index.ts"),p=r("./src/WebGL/shaders/lib/sphereimposter/index.ts"),_=r("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),x=r("./src/WebGL/shaders/lib/sprite/index.ts"),S=r("./src/WebGL/shaders/lib/stickimposter/index.ts"),w=r("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),c=r("./src/WebGL/shaders/lib/volumetric/index.ts");let v={basic:n.basic,instanced:a.instanced,lambert:s.lambert,lambertdouble:o.lambertdouble,outline:l.outline,screen:u.screen,screenaa:g.screenaa,sphereimposter:p.sphereimposter,sphereimposteroutline:_.sphereimposteroutline,sprite:x.sprite,stickimposter:S.stickimposter,stickimposteroutline:w.stickimposteroutline,volumetric:c.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{instanced:()=>o});var n=r("./src/WebGL/shaders/lib/instanced/uniforms.ts"),a=r("./src/WebGL/shaders/lib/instanced/instanced.frag"),s=r("./src/WebGL/shaders/lib/instanced/instanced.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{lambert:()=>o});var n=r("./src/WebGL/shaders/lib/lambert/uniforms.ts"),a=r("./src/WebGL/shaders/lib/lambert/lambert.frag"),s=r("./src/WebGL/shaders/lib/lambert/lambert.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{lambertdouble:()=>o});var n=r("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),a=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),s=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{outline:()=>o});var n=r("./src/WebGL/shaders/lib/outline/uniforms.ts"),a=r("./src/WebGL/shaders/lib/outline/outline.frag"),s=r("./src/WebGL/shaders/lib/outline/outline.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/screen/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{screen:()=>o});var n=r("./src/WebGL/shaders/lib/screen/uniforms.ts"),a=r("./src/WebGL/shaders/lib/screen/screen.frag"),s=r("./src/WebGL/shaders/lib/screen/screen.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{screenaa:()=>o});var n=r("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),a=r("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),s=r("./src/WebGL/shaders/lib/screenaa/screenaa.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sphereimposter:()=>o});var n=r("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),s=r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");let o={vertexShader:s.default.replace("#define GLSLIFY 1",""),fragmentShader:a.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sphereimposteroutline:()=>o});var n=r("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),s=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/sprite/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sprite:()=>o});var n=r("./src/WebGL/shaders/lib/sprite/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sprite/sprite.frag"),s=r("./src/WebGL/shaders/lib/sprite/sprite.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{stickimposter:()=>u});var n=r("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),s=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),o=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");let u={fragmentShader:[a.default,s.default].join(`
`).replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{stickimposteroutline:()=>l});var n=r("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),s=r("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");let l={fragmentShader:(a.default+"gl_FragColor = vec4(color,1.0);}").replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new n.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{volumetric:()=>o});var n=r("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),a=r("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),s=r("./src/WebGL/shaders/lib/volumetric/volumetric.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{clone:()=>a});var n=r("./src/colors.ts");function a(s){let o={};for(let u in s){o[u]={},o[u].type=s[u].type;var l=s[u].value;l instanceof n.Color?o[u].value=l.clone():typeof l=="number"?o[u].value=l:l instanceof Array?o[u].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return o}},"./src/WebGL/shaders/utils/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderUtils:()=>s,clone:()=>n.clone});var n=r("./src/WebGL/shaders/utils/clone.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag");let s={clone:n.clone,stickimposterFragmentShader:a.default}},"./src/WebGL/shapes/Cylinder.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Cylinder:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Vector3;class s{constructor(l=new n.Vector3,u=new n.Vector3,g=0){this.c1=l,this.c2=u,this.radius=g,this.direction=new n.Vector3().subVectors(this.c2,this.c1).normalize()}copy(l){return this.c1.copy(l.c1),this.c2.copy(l.c2),this.direction.copy(l.direction),this.radius=l.radius,this}lengthSq(){return a.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(l){return this.direction.add(this.c1).applyMatrix4(l),this.c1.applyMatrix4(l),this.c2.applyMatrix4(l),this.direction.sub(this.c1).normalize(),this.radius=this.radius*l.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Sphere:()=>a});var n=r("./src/WebGL/math/index.ts");class a{constructor(o={x:0,y:0,z:0},l=0){this.center=new n.Vector3(o.x,o.y,o.z),this.radius=l}set(o,l){return this.center.copy(o),this.radius=l,this}copy(o){return this.center.copy(o.center),this.radius=o.radius,this}applyMatrix4(o){return this.center.applyMatrix4(o),this.radius=this.radius*o.getMaxScaleOnAxis(),this}translate(o){return this.center.add(o),this}equals(o){return o.center.equals(this.center)&&o.radius===this.radius}clone(){return new a().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Triangle:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Vector3;class s{constructor(l=new n.Vector3,u=new n.Vector3,g=new n.Vector3){this.a=l,this.b=u,this.c=g}copy(l){return this.a.copy(l.a),this.b.copy(l.b),this.c.copy(l.c),this}applyMatrix4(l){return this.a.applyMatrix4(l),this.b.applyMatrix4(l),this.c.applyMatrix4(l),this}getNormal(){var l=this.a.clone();return l.sub(this.b),a.subVectors(this.c,this.b),l.cross(a),l.normalize(),l}}},"./src/WebGL/shapes/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Cylinder:()=>a.Cylinder,Sphere:()=>n.Sphere,Triangle:()=>s.Triangle});var n=r("./src/WebGL/shapes/Sphere.ts"),a=r("./src/WebGL/shapes/Cylinder.ts"),s=r("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{autoinit:()=>autoinit,autoload:()=>autoload,processing_autoinit:()=>processing_autoinit,viewers:()=>viewers});var _GLViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/GLViewer.ts"),_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ProteinSurface4.ts"),_utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utilities.ts"),_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/colors.ts"),autoinit=!1,processing_autoinit=!1,viewers={};function autoload(viewer,callback){var i,dataname,type;if(document.querySelector(".viewer_3Dmoljs")!=null&&(autoinit=!0),autoinit){processing_autoinit=!0,viewer=viewer??null;var nviewers=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(viewerdiv=>{var datauri=[],datatypes=[],uri="";viewerdiv.style.position=="static"&&(viewerdiv.style.position="relative");var UI=null;if(type=null,viewerdiv.dataset.pdb)datauri.push("https://files.rcsb.org/view/"+viewerdiv.dataset.pdb+".pdb"),datatypes.push("pdb");else if(viewerdiv.dataset.cid)datatypes.push("sdf"),datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+viewerdiv.dataset.cid+"/SDF?record_type=3d");else if(viewerdiv.dataset.href||viewerdiv.dataset.url){viewerdiv.dataset.href?uri=viewerdiv.dataset.href:uri=viewerdiv.dataset.url,datauri.push(uri),type=uri.substring(uri.lastIndexOf(".")+1),datatypes.push(type);var molName=uri.substring(uri.lastIndexOf("/")+1,uri.lastIndexOf("."));molName=="/"&&(molName=uri.substring(uri.lastIndexOf("/")+1)),viewerdiv.dataset[datatypes[datatypes.length-1]]=molName}var divdata=viewerdiv.dataset;for(i in divdata)i.substring(0,3)==="pdb"&&i!=="pdb"?(datauri.push("https://files.rcsb.org/view/"+divdata[i]+".pdb"),datatypes.push("pdb")):i.substring(0,4)==="href"&&i!=="href"?(uri=divdata[i],datauri.push(uri),datatypes.push(uri.substring(uri.lastIndexOf(".")+1))):i.substring(0,3)==="cid"&&i!=="cid"&&(datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+divdata[i]+"/SDF?record_type=3d"),datatypes.push("sdf"));var options={};viewerdiv.dataset.options&&(options=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.options));var bgcolor=_colors__WEBPACK_IMPORTED_MODULE_3__.CC.color(viewerdiv.dataset.backgroundcolor),bgalpha=viewerdiv.dataset.backgroundalpha;bgalpha=bgalpha==null?1:parseFloat(bgalpha);var style={line:{}};viewerdiv.dataset.style&&(style=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.style));var select={};viewerdiv.dataset.select&&(select=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.select));var selectstylelist=[],surfaces=[],labels=[],zoomto={},spin=null,d=viewerdiv.dataset,stylere=/style(.+)/,surfre=/surface(.*)/,reslabre=/labelres(.*)/,keys=[];for(dataname in d)Object.prototype.hasOwnProperty.call(d,dataname)&&keys.push(dataname);for(keys.sort(),i=0;i<keys.length;i++){dataname=keys[i];var m=stylere.exec(dataname),selname,newsel,styleobj;m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),selectstylelist.push([newsel,styleobj])),m=surfre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),surfaces.push([newsel,styleobj])),m=reslabre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),labels.push([newsel,styleobj])),dataname=="zoomto"&&(zoomto=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname])),dataname=="spin"&&(spin=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]))}var applyStyles=function(e){for(e.setStyle(select,style),UI&&UI.createSelectionAndStyle(select,style),i=0;i<selectstylelist.length;i++){let t=selectstylelist[i][0]||{},r=selectstylelist[i][1]||{line:{}};e.setStyle(t,r),UI&&UI.createSelectionAndStyle(select,style)}for(i=0;i<surfaces.length;i++){let t=surfaces[i][0]||{},r=surfaces[i][1]||{};UI?e.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,r,t,t).then(a=>{UI.loadSurface("VDW",t,r,a)}):e.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,r,t,t)}for(i=0;i<labels.length;i++){let t=labels[i][0]||{},r=labels[i][1]||{};e.addResLabels(t,r)}e.render(),e.zoomTo(zoomto),spin&&e.spin(spin.axis,spin.speed)},glviewer=viewer;try{var config=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.config)||{};config.backgroundColor===void 0&&(config.backgroundColor=bgcolor),config.backgroundAlpha===void 0&&(config.backgroundAlpha=bgalpha),glviewer==null?glviewer=viewers[viewerdiv.id||nviewers++]=(0,_GLViewer__WEBPACK_IMPORTED_MODULE_0__.createViewer)(viewerdiv,config):(glviewer.setBackgroundColor(bgcolor,bgalpha),glviewer.setConfig(config),UI&&UI.initiateUI()),viewerdiv.dataset.ui&&$3Dmol.StateManager&&(UI=new $3Dmol.StateManager(glviewer))}catch(e){console.log(e),viewerdiv.textContent="WebGL appears to be disabled."}if(datauri.length!=0){let i=0;var process=function(moldata){uri=datauri[i];var type=viewerdiv.dataset.type||viewerdiv.dataset.datatype||datatypes[i];if(glviewer.addModel(moldata,type,options),UI){var modelName=viewerdiv.dataset[datatypes[i]];UI.setModelTitle(modelName)}if(i+=1,i<datauri.length)(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[i]).then(process);else{if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}};(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[0]).then(process)}else{if(viewerdiv.dataset.element){var moldataid="#"+viewerdiv.dataset.element,molelem=document.querySelector(moldataid),moldata=molelem?molelem.textContent:"";type=viewerdiv.dataset.type||viewerdiv.dataset.datatype,glviewer.addModel(moldata,type,options)}if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&autoload()}},"./src/colors.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CC:()=>a,Color:()=>n,builtinColorSchemes:()=>_,chains:()=>p,elementColors:()=>u,htmlColors:()=>s,residues:()=>g,ssColors:()=>o});class n{constructor(S,w,c){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof S=="number"?(this.r=S||0,this.g=w||0,this.b=c||0,this):this.set(S||0)}set(S){return S instanceof n?S.clone():(typeof S=="number"?this.setHex(S):typeof S=="object"&&(this.r=S?.r||0,this.g=S?.g||0,this.b=S?.b||0),this)}setHex(S){return S=Math.floor(S),this.r=(S>>16&255)/255,this.g=(S>>8&255)/255,this.b=(S&255)/255,this}getHex(){var S=Math.round(this.r*255),w=Math.round(this.g*255),c=Math.round(this.b*255);return S<<16|w<<8|c}clone(){return new n(this.r,this.g,this.b)}copy(S){return this.r=S.r,this.g=S.g,this.b=S.b,this}scaled(){var S={};return S.r=Math.round(this.r*255),S.g=Math.round(this.g*255),S.b=Math.round(this.b*255),S.a=1,S}}class a{static color(S){if(!S)return a.cache[0];if(S instanceof n)return S;if(typeof S=="number"&&typeof a.cache[S]<"u")return a.cache[S];if(S&&Array.isArray(S))return S.map(a.color);let w=a.getHex(S),c=new n(w);return a.cache[w]=c,c}static getHex(S){var w;if(Array.isArray(S))return S.map(a.getHex);if(typeof S=="string"){let c=S;if(!isNaN(parseInt(c)))return parseInt(c);if(c=c.trim(),c.length==4&&c[0]=="#"&&(c="#"+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]),c.length==7&&c[0]=="#")return parseInt(c.substring(1),16);let v=a.rgbRegEx.exec(c);if(v){v[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let y=0;for(let b=2;b<5;b++){y*=256;let C=v[b].endsWith("%")?255*parseFloat(v[b])/100:parseFloat(v[b]);y+=Math.round(C)}return y}return((w=window?.$3Dmol)===null||w===void 0?void 0:w.htmlColors[S.toLowerCase()])||0}return S}}a.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,a.cache={0:new n(0)};let s={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},o={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},l={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},u={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:l,defaultColors:Object.assign({},l),greenCarbon:Object.assign(Object.assign({},l),{C:65280}),cyanCarbon:Object.assign(Object.assign({},l),{C:65535}),magentaCarbon:Object.assign(Object.assign({},l),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},l),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},l),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},l),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},l),{C:8388736}),blueCarbon:Object.assign(Object.assign({},l),{C:255})},g={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},p={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},_={ssPyMol:{prop:"ss",map:o.pyMol},ssJmol:{prop:"ss",map:o.Jmol},Jmol:{prop:"elem",map:u.Jmol},amino:{prop:"resn",map:g.amino},shapely:{prop:"resn",map:g.shapely},nucleic:{prop:"resn",map:g.nucleic},chain:{prop:"chain",map:p.atom},rasmol:{prop:"elem",map:u.rasmol},default:{prop:"elem",map:u.defaultColors},greenCarbon:{prop:"elem",map:u.greenCarbon},chainHetatm:{prop:"chain",map:p.hetatm},cyanCarbon:{prop:"elem",map:u.cyanCarbon},magentaCarbon:{prop:"elem",map:u.magentaCarbon},purpleCarbon:{prop:"elem",map:u.purpleCarbon},whiteCarbon:{prop:"elem",map:u.whiteCarbon},orangeCarbon:{prop:"elem",map:u.orangeCarbon},yellowCarbon:{prop:"elem",map:u.yellowCarbon},blueCarbon:{prop:"elem",map:u.blueCarbon}}},"./src/glcartoon.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{drawCartoon:()=>O,subdivide_spline:()=>p});var n=r("./src/WebGL/math/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/index.ts"),o=r("./src/Gradient.ts"),l=r("./src/colors.ts"),u=r("./src/GLDraw.ts"),g=r("./src/utilities.ts");function p(I,H){var Y=[],q=I;q=[],q.push(I[0]);var G,$,R,V,X,Q,te,we,Pe;for(G=1,$=I.length-1;G<$;G++)if(X=I[G],Q=I[G+1],X.smoothen){var xe=new n.Vector3((X.x+Q.x)/2,(X.y+Q.y)/2,(X.z+Q.z)/2);xe.atom=X.atom,q.push(xe)}else q.push(X);for(q.push(I[I.length-1]),G=-1,R=q.length;G<=R-3;G++)if(V=q[G===-1?0:G],X=q[G+1],Q=q[G+2],te=q[G===R-3?R-1:G+3],we=new n.Vector3().subVectors(Q,V).multiplyScalar(.5),Pe=new n.Vector3().subVectors(te,X).multiplyScalar(.5),!Q.skip)for(var Fe=0;Fe<H;Fe++){var Ae=1/H*Fe,be=X.x+Ae*we.x+Ae*Ae*(-3*X.x+3*Q.x-2*we.x-Pe.x)+Ae*Ae*Ae*(2*X.x-2*Q.x+we.x+Pe.x),Qe=X.y+Ae*we.y+Ae*Ae*(-3*X.y+3*Q.y-2*we.y-Pe.y)+Ae*Ae*Ae*(2*X.y-2*Q.y+we.y+Pe.y),Xe=X.z+Ae*we.z+Ae*Ae*(-3*X.z+3*Q.z-2*we.z-Pe.z)+Ae*Ae*Ae*(2*X.z-2*Q.z+we.z+Pe.z),U=new n.Vector3(be,Qe,Xe);Fe<H/2?U.atom=X.atom:U.atom=Q.atom,Y.push(U)}return Y.push(q[q.length-1]),Y}let _=.5,x=1.3,S=.8,w=.4,c=.4;function v(I,H,Y,q){for(var G,$,R,V,X=0,Q=H.length;X<Q;X++){V=Math.round(X*(q.length-1)/Q),R=l.CC.color(q[V]);var te=I.updateGeoGroup(2),we=te.vertexArray,Pe=te.colorArray,xe=te.faceArray;G=te.vertices,$=G*3,we[$]=H[X].x,we[$+1]=H[X].y,we[$+2]=H[X].z,we[$+3]=Y[X].x,we[$+4]=Y[X].y,we[$+5]=Y[X].z;for(var Fe=0;Fe<6;++Fe)Pe[$+3*Fe]=R.r,Pe[$+1+3*Fe]=R.g,Pe[$+2+3*Fe]=R.b;if(X>0){var Ae=[G,G+1,G-1,G-2],be=te.faceidx;xe[be]=Ae[0],xe[be+1]=Ae[1],xe[be+2]=Ae[3],xe[be+3]=Ae[1],xe[be+4]=Ae[2],xe[be+5]=Ae[3],te.faceidx+=6}te.vertices+=2}}function y(I,H,Y,q,G,$,R){var V,X,Q,te;if(Q=H.length,Q<2||H[0].length<2)return;for(V=0;V<Q;V++)H[V]=p(H[V],q);if(te=H[0].length,!G)return v(I,H[0],H[Q-1],Y);var we,Pe,xe,Fe,Ae,be,Qe=[],Xe=[],U=[];for(X=0;X<Q;X++)Qe.push(.25+1.5*Math.sqrt((Q-1)*X-Math.pow(X,2))/(Q-1)),Xe.push(.5),U.push(2*(Math.pow(X/Q,2)-X/Q)+.6);var pe=[];for(X=0;X<Q*2-1;X++)pe[X]=[X,X+1,X+1-2*Q,X-2*Q];pe[Q*2-1]=[X,X+1-2*Q,X+1-4*Q,X-2*Q];var _e,ie,de,ye,je,Be,Ce,Ie,Re,Ke;let Ne=I.updateGeoGroup();for(V=0;V<te;V++){let ue=I.groups,ge=!1;Ne=I.updateGeoGroup(2*Q),ue!=I.groups&&V>0&&(V=V-1,ge=!0),Be=Math.round(V*(Y.length-1)/te),je=l.CC.color(Y[Be]),Ae=xe,be=Fe,xe=[],Fe=[],we=[],H[0][V].atom!==void 0&&(ye=H[0][V].atom,R==="oval"?Pe=Qe:R==="rectangle"?Pe=Xe:R==="parabola"&&(Pe=U)),Pe||(Pe=Xe);var pt,yt;for(X=0;X<Q;X++)V<te-1?pt=H[X][V+1].clone().sub(H[X][V]):pt=H[X][V-1].clone().sub(H[X][V]).negate(),X<Q-1?yt=H[X+1][V].clone().sub(H[X][V]):yt=H[X-1][V].clone().sub(H[X][V]).negate(),we[X]=yt.cross(pt).normalize().multiplyScalar(G*Pe[X]);for(X=0;X<Q;X++)xe[X]=H[X][V].clone().add(we[X].clone().negate());for(X=0;X<Q;X++)Fe[X]=H[X][V].clone().add(we[X]);for(Ce=Ne.vertexArray,Ie=Ne.colorArray,Re=Ne.faceArray,_e=Ne.vertices,ie=_e*3,X=0;X<Q;X++)Ce[ie+3*X+0]=xe[X].x,Ce[ie+3*X+1]=xe[X].y,Ce[ie+3*X+2]=xe[X].z;for(X=0;X<Q;X++)Ce[ie+3*X+0+3*Q]=Fe[Q-1-X].x,Ce[ie+3*X+1+3*Q]=Fe[Q-1-X].y,Ce[ie+3*X+2+3*Q]=Fe[Q-1-X].z;for(X=0;X<2*Q;++X)Ie[ie+3*X+0]=je.r,Ie[ie+3*X+1]=je.g,Ie[ie+3*X+2]=je.b;if(V>0&&!ge){for(X=0;X<Q*2;X++)Ke=[_e+pe[X][0],_e+pe[X][1],_e+pe[X][2],_e+pe[X][3]],de=Ne.faceidx,Re[de]=Ke[0],Re[de+1]=Ke[1],Re[de+2]=Ke[3],Re[de+3]=Ke[1],Re[de+4]=Ke[2],Re[de+5]=Ke[3],Ne.faceidx+=6;if(ye.clickable||ye.hoverable){var le=[];le.push(new a.Triangle(Ae[0],xe[0],xe[Q-1])),le.push(new a.Triangle(Ae[0],xe[Q-1],Ae[Q-1])),le.push(new a.Triangle(Ae[Q-1],xe[Q-1],Fe[Q-1])),le.push(new a.Triangle(Ae[Q-1],Fe[Q-1],be[Q-1])),le.push(new a.Triangle(Fe[0],be[0],be[Q-1])),le.push(new a.Triangle(Fe[Q-1],Fe[0],be[Q-1])),le.push(new a.Triangle(xe[0],Ae[0],be[0])),le.push(new a.Triangle(Fe[0],xe[0],be[0]));for(X in le)ye.intersectionShape.triangle.push(le[X])}}Ne.vertices+=2*Q}for(Ce=Ne.vertexArray,Ie=Ne.colorArray,Re=Ne.faceArray,_e=Ne.vertices,ie=_e*3,de=Ne.faceidx,V=0;V<Q-1;V++)Ke=[V,V+1,2*Q-2-V,2*Q-1-V],de=Ne.faceidx,Re[de]=Ke[0],Re[de+1]=Ke[1],Re[de+2]=Ke[3],Re[de+3]=Ke[1],Re[de+4]=Ke[2],Re[de+5]=Ke[3],Ne.faceidx+=6;for(V=0;V<Q-1;V++)Ke=[_e-1-V,_e-2-V,_e-2*Q+V+1,_e-2*Q+V],de=Ne.faceidx,Re[de]=Ke[0],Re[de+1]=Ke[1],Re[de+2]=Ke[3],Re[de+3]=Ke[1],Re[de+4]=Ke[2],Re[de+5]=Ke[3],Ne.faceidx+=6}function b(I,H,Y,q,G,$){if(!(H.length<2)){var R,V;if(R=H[0],V=H[H.length-1],R=p(R,q),V=p(V,q),!G)return v(I,R,V,Y);var X=[],Q,te,we,Pe,xe,Fe=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],Ae,be,Qe,Xe,U,pe,_e,ie,de,ye,je,Be,Ce,Ie,Re,Ke,Ne;for(ie=0,de=R.length;ie<de;ie++){if(U=Math.round(ie*(Y.length-1)/de),Xe=l.CC.color(Y[U]),X.push(te=R[ie]),X.push(te),X.push(we=V[ie]),X.push(we),ie<de-1){var pt=R[ie+1].clone().sub(R[ie]),yt=V[ie].clone().sub(R[ie]);Q=yt.cross(pt).normalize().multiplyScalar(G)}for(X.push(Pe=R[ie].clone().add(Q)),X.push(Pe),X.push(xe=V[ie].clone().add(Q)),X.push(xe),te.atom!==void 0&&(pe=te.atom),Ie=I.updateGeoGroup(8),Re=Ie.vertexArray,Ke=Ie.colorArray,Ne=Ie.faceArray,Ae=Ie.vertices,be=Ae*3,Re[be]=te.x,Re[be+1]=te.y,Re[be+2]=te.z,Re[be+3]=te.x,Re[be+4]=te.y,Re[be+5]=te.z,Re[be+6]=we.x,Re[be+7]=we.y,Re[be+8]=we.z,Re[be+9]=we.x,Re[be+10]=we.y,Re[be+11]=we.z,Re[be+12]=Pe.x,Re[be+13]=Pe.y,Re[be+14]=Pe.z,Re[be+15]=Pe.x,Re[be+16]=Pe.y,Re[be+17]=Pe.z,Re[be+18]=xe.x,Re[be+19]=xe.y,Re[be+20]=xe.z,Re[be+21]=xe.x,Re[be+22]=xe.y,Re[be+23]=xe.z,ye=0;ye<8;++ye)Ke[be+3*ye]=Xe.r,Ke[be+1+3*ye]=Xe.g,Ke[be+2+3*ye]=Xe.b;if(ie>0){var le=_e!==void 0&&pe!==void 0&&_e.serial!==pe.serial;for(ye=0;ye<4;ye++){var ue=[Ae+Fe[ye][0],Ae+Fe[ye][1],Ae+Fe[ye][2],Ae+Fe[ye][3]];if(Qe=Ie.faceidx,Ne[Qe]=ue[0],Ne[Qe+1]=ue[1],Ne[Qe+2]=ue[3],Ne[Qe+3]=ue[1],Ne[Qe+4]=ue[2],Ne[Qe+5]=ue[3],Ie.faceidx+=6,pe.clickable||_e.clickable||pe.hoverable||_e.hoverable){var ge=X[ue[3]].clone(),$e=X[ue[0]].clone(),Oe=X[ue[2]].clone(),at=X[ue[1]].clone();if(ge.atom=X[ue[3]].atom||null,Oe.atom=X[ue[2]].atom||null,$e.atom=X[ue[0]].atom||null,at.atom=X[ue[1]].atom||null,le){var lt=ge.clone().add($e).multiplyScalar(.5),se=Oe.clone().add(at).multiplyScalar(.5),Ge=ge.clone().add(at).multiplyScalar(.5);ye%2===0?((_e.clickable||_e.hoverable)&&(je=new a.Triangle(lt,Ge,ge),Be=new a.Triangle(se,Oe,Ge),Ce=new a.Triangle(Ge,Oe,ge),_e.intersectionShape.triangle.push(je),_e.intersectionShape.triangle.push(Be),_e.intersectionShape.triangle.push(Ce)),(pe.clickable||pe.hoverable)&&(je=new a.Triangle($e,at,Ge),Be=new a.Triangle(at,se,Ge),Ce=new a.Triangle($e,Ge,lt),pe.intersectionShape.triangle.push(je),pe.intersectionShape.triangle.push(Be),pe.intersectionShape.triangle.push(Ce))):((pe.clickable||pe.hoverable)&&(je=new a.Triangle(lt,Ge,ge),Be=new a.Triangle(se,Oe,Ge),Ce=new a.Triangle(Ge,Oe,ge),pe.intersectionShape.triangle.push(je),pe.intersectionShape.triangle.push(Be),pe.intersectionShape.triangle.push(Ce)),(_e.clickable||_e.hoverable)&&(je=new a.Triangle($e,at,Ge),Be=new a.Triangle(at,se,Ge),Ce=new a.Triangle($e,Ge,lt),_e.intersectionShape.triangle.push(je),_e.intersectionShape.triangle.push(Be),_e.intersectionShape.triangle.push(Ce)))}else(pe.clickable||pe.hoverable)&&(je=new a.Triangle($e,at,ge),Be=new a.Triangle(at,Oe,ge),pe.intersectionShape.triangle.push(je),pe.intersectionShape.triangle.push(Be))}}}Ie.vertices+=8,_e=pe}var Je=X.length-8;for(Ie=I.updateGeoGroup(8),Re=Ie.vertexArray,Ke=Ie.colorArray,Ne=Ie.faceArray,Ae=Ie.vertices,be=Ae*3,Qe=Ie.faceidx,ie=0;ie<4;ie++){X.push(X[ie*2]),X.push(X[Je+ie*2]);var mt=X[ie*2],Le=X[Je+ie*2];Re[be+6*ie]=mt.x,Re[be+1+6*ie]=mt.y,Re[be+2+6*ie]=mt.z,Re[be+3+6*ie]=Le.x,Re[be+4+6*ie]=Le.y,Re[be+5+6*ie]=Le.z,Ke[be+6*ie]=Xe.r,Ke[be+1+6*ie]=Xe.g,Ke[be+2+6*ie]=Xe.b,Ke[be+3+6*ie]=Xe.r,Ke[be+4+6*ie]=Xe.g,Ke[be+5+6*ie]=Xe.b}Je+=8,je=[Ae,Ae+2,Ae+6,Ae+4],Be=[Ae+1,Ae+5,Ae+7,Ae+3],Ne[Qe]=je[0],Ne[Qe+1]=je[1],Ne[Qe+2]=je[3],Ne[Qe+3]=je[1],Ne[Qe+4]=je[2],Ne[Qe+5]=je[3],Ne[Qe+6]=Be[0],Ne[Qe+7]=Be[1],Ne[Qe+8]=Be[3],Ne[Qe+9]=Be[1],Ne[Qe+10]=Be[2],Ne[Qe+11]=Be[3],Ie.faceidx+=12,Ie.vertices+=8}}function C(I,H,Y,q,G,$,R){(!R||R==="default")&&(R="rectangle"),R==="edged"?b(I,H,Y,q,G,$):(R==="rectangle"||R==="oval"||R==="parabola")&&y(I,H,Y,q,G,$,R)}function E(I){return I&&I.elem==="C"&&I.atom==="CA"}function h(I,H){if(I&&H&&I.chain===H.chain){if(!I.hetflag&&!H.hetflag&&I.reschain===H.reschain&&(I.resi===H.resi||I.resi===H.resi-1))return!0;if(I.resi<H.resi){var Y=I.x-H.x,q=I.y-H.y,G=I.z-H.z,$=Y*Y+q*q+G*G;if(I.atom=="CA"&&H.atom=="CA"&&$<16)return!0;if((I.atom=="P"||H.atom=="P")&&$<64)return!0}}return!1}function f(I,H,Y,q,G){if(!(H==null||H.vertices==0)){G&&(H.initTypedArrays(),H.setUpNormals());var $=new s.MeshDoubleLambertMaterial;$.vertexColors=s.Coloring.FaceColors,typeof Y=="number"&&Y>=0&&Y<1&&($.transparent=!0,$.opacity=Y),$.outline=q;var R=new s.Mesh(H,$);I.add(R)}}function D(I,H,Y,q,G,$,R,V,X){var Q,te,we,Pe,xe,Fe;if(!(!q||!G||!R)){var Ae=G.sub(q);Ae.normalize();var be=V[X];for(te=X+1;te<V.length&&(be=V[te],be.atom!=R.atom);te++);if(be=be?new n.Vector3(be.x,be.y,be.z):new n.Vector3(0,0,0),be.sub(q),R.ss==="arrow start"){var Qe=be.clone().multiplyScalar(.3).cross(G);q.add(Qe);var Xe=be.clone().cross(Ae).normalize();Ae.rotateAboutVector(Xe,.43)}for(R.style.cartoon.ribbon?Q=R.style.cartoon.thickness||w:R.style.cartoon.width?Q=R.style.cartoon.width:R.ss==="c"?R.atom==="P"?Q=S:Q=_:R.ss==="arrow start"?(Q=x,xe=!0):R.ss==="arrow end"||R.ss==="h"&&R.style.cartoon.tubes||R.ss==="tube start"?Q=_:Q=x,$!=null&&Ae.dot($)<0&&Ae.negate(),Ae.multiplyScalar(Q),te=0;te<H;te++)we=-1+te*2/(H-1),Pe=new n.Vector3(q.x+we*Ae.x,q.y+we*Ae.y,q.z+we*Ae.z),Pe.atom=R,Y&&R.ss==="s"&&(Pe.smoothen=!0),I[te].push(Pe);if(xe)for(Ae.multiplyScalar(2),te=0;te<H;te++)we=-1+te*2/(H-1),Pe=new n.Vector3(q.x+we*Ae.x,q.y+we*Ae.y,q.z+we*Ae.z),Pe.atom=R,Pe.smoothen=!1,Pe.skip=!0,I[te].push(Pe);return Fe=R.style.cartoon.style||"default",I.style?I.style!=Fe&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),I.style="default"):I.style=Fe,(R.ss==="arrow start"||R.ss==="arrow end")&&(R.ss="s"),xe}}let M={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},N={DA:!0,DG:!0,A:!0,G:!0},k={DT:!0,DC:!0,U:!0,C:!0,T:!0},z={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function O(I,H,Y,q=10){let G=q,$=q;var R,V,X,Q,te,we,Pe,xe,Fe,Ae,be,Qe,Xe,U,pe,_e,ie,de,ye=new s.Geometry(!0),je=new s.Geometry(!0),Be=[],Ce=[],Ie=1,Re=!1,Ke={};for(var Ne in o.Gradient.builtinGradients)o.Gradient.builtinGradients.hasOwnProperty(Ne)&&(Ke[Ne]=new o.Gradient.builtinGradients[Ne](Y[1],Y[0]));var pt=function(oe,dt){return Y&&dt.color==="spectrum"?dt.colorscheme in Ke?Ke[dt.colorscheme].valueToHex(oe.resi):Ke.sinebow.valueToHex(oe.resi):(0,g.getColorFromStyle)(oe,dt).getHex()};for(xe=0;xe<G;xe++)Ce[xe]=[];var yt=!1,le=!1,ue=[];for(xe in H){if(Q=H[xe],Q.elem==="C"&&Q.atom==="CA"){var ge=h(X,Q);ge&&Q.ss==="s"?yt=!0:yt&&(X&&V&&X.style.cartoon.arrows&&V.style.cartoon.arrows&&(X.ss="arrow end",V.ss="arrow start"),yt=!1),ge&&(X.ss==="h"||X.ss=="tube start")&&X.style.cartoon.tubes?!le&&X.ss!="tube start"&&Q.style.cartoon.tubes&&(Q.ss="tube start",le=!0):le&&(X.ss==="tube start"?X.ss="tube end":V&&V.style.cartoon.tubes&&(V.ss="tube end"),le=!1),V=X,X=Q}Q&&Q.atom in M&&ue.push(Q)}le&&X.style.cartoon.tubes&&(X.ss="tube end",le=!1);var $e=function(oe){Ce[0].length>0&&C(je,Ce,Be,$,Pe,Ie,Ce.style);var dt=[],At=null;if(oe){for(xe=0;xe<G;xe++)dt[xe]=Ce[xe][Ce[xe].length-1];At=Be[Be.length-1]}for(Ce=[],xe=0;xe<G;xe++)Ce[xe]=[];if(Be=[],oe){for(xe=0;xe<G;xe++)Ce[xe].push(dt[xe]);Be.push(At)}f(I,je,Ie,Re,!0),f(I,ye,Ie,Re,!1),je=new s.Geometry(!0),ye=new s.Geometry(!0)};X=void 0;for(var Oe=0;Oe<ue.length;Oe++){Q=ue[Oe];var at=Q.resn.trim(),lt=at in z;if(Ie=1,R=Q.style.cartoon,X&&X.style.cartoon&&(Ie=X.style.cartoon.opacity),X&&X.style.cartoon&&X.style.cartoon.outline&&(Re=X.style.cartoon.outline),X&&X.style.cartoon&&(!Q.style.cartoon||X.style.cartoon.opacity!=Q.style.cartoon.opacity)&&$e(X.chain==Q.chain),R.style==="trace"){if(!Q.hetflag){if(Q.elem==="C"&&Q.atom==="CA"||lt&&Q.atom==="P"||Q.atom==="BB"){if(we=pt(Q,R),(0,g.isNumeric)(R.thickness)?Pe=R.thickness:Pe=w,h(X,Q))if(we==te){var se=l.CC.color(we);u.GLDraw.drawCylinder(ye,X,Q,Pe,se,2,2)}else{var Ge=new n.Vector3().addVectors(X,Q).multiplyScalar(.5),Je=l.CC.color(te),mt=l.CC.color(we);u.GLDraw.drawCylinder(ye,X,Ge,Pe,Je,2,0),u.GLDraw.drawCylinder(ye,Ge,Q,Pe,mt,0,2)}if((Q.clickable===!0||Q.hoverable)&&Q.intersectionShape!==void 0){var Le=new n.Vector3(Q.x,Q.y,Q.z);Q.intersectionShape.sphere.push(new a.Sphere(Le,Pe))}X=Q,te=we}}}else{if(E(Q)||lt&&(Q.atom==="P"||Q.atom.indexOf("O5")==0)){if(de)if(Q.ss==="tube end")de=!1,ie=new n.Vector3(Q.x,Q.y,Q.z),u.GLDraw.drawCylinder(ye,_e,ie,2,l.CC.color(te),1,1),Q.ss="h";else if(X.chain!=Q.chain||X.ss==="tube end")de=!1,X.ss="h",ie=new n.Vector3(X.x,X.y,X.z),u.GLDraw.drawCylinder(ye,_e,ie,2,l.CC.color(te),1,1);else continue;if(X&&(!h(X,Q)||X.ss==="tube start")){for(X.ss==="tube start"&&(de=!0,_e=new n.Vector3(X.x,X.y,X.z),X.ss="h"),pe&&(Qe?U=new n.Vector3().addVectors(X,Qe).multiplyScalar(.5):U=new n.Vector3(X.x,X.y,X.z),u.GLDraw.drawCylinder(ye,U,pe,c,l.CC.color(pe.color),0,2),D(Ce,G,!0,Qe,Xe,be,X,ue,Oe),Be.push(we),U=null,pe=null),Ce[0].length>0&&C(je,Ce,Be,$,Pe,Ie,Ce.style),Ce=[],xe=0;xe<G;xe++)Ce[xe]=[];Be=[]}if(X===void 0||X.rescode!=Q.rescode||X.resi!=Q.resi){if(pe){U=new n.Vector3().addVectors(X,Q).multiplyScalar(.5);var ut=U.clone().sub(pe).multiplyScalar(.02);U.add(ut),u.GLDraw.drawCylinder(ye,U,pe,c,l.CC.color(pe.color),0,2),U=null,pe=null}we=pt(Q,R),Be.push(we),(0,g.isNumeric)(R.thickness)?Pe=R.thickness:Pe=w,X=Q,Fe=new n.Vector3(X.x,X.y,X.z),Fe.resi=X.resi,te=we}(Q.clickable===!0||Q.hoverable===!0)&&(Q.intersectionShape===void 0||Q.intersectionShape.triangle===void 0)&&(Q.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else E(X)&&Q.atom==="O"||lt&&X.atom==="P"&&(Q.atom==="OP2"||Q.atom==="O2P")||lt&&X.atom.indexOf("O5")==0&&Q.atom.indexOf("C5")==0?(Ae=new n.Vector3(Q.x,Q.y,Q.z),Ae.resi=Q.resi,(Q.atom==="OP2"||Q.atom==="O2P")&&(Xe=new n.Vector3(Q.x,Q.y,Q.z))):lt&&Q.atom.indexOf("O3")==0?Qe=new n.Vector3(Q.x,Q.y,Q.z):(Q.atom==="N1"&&at in N||Q.atom==="N3"&&at in k)&&(pe=new n.Vector3(Q.x,Q.y,Q.z),pe.color=(0,g.getColorFromStyle)(Q,R).getHex());Ae&&Fe&&Ae.resi===Fe.resi&&(D(Ce,G,!0,Fe,Ae,be,X,ue,Oe),be=Ae,Fe=null,Ae=null,Be.push(we))}}pe&&(Qe?U=new n.Vector3().addVectors(X,Qe).multiplyScalar(.5):U=new n.Vector3(X.x,X.y,X.z),u.GLDraw.drawCylinder(ye,U,pe,c,l.CC.color(pe.color),0,2),D(Ce,G,!0,Qe,Xe,be,X,ue,Oe),Be.push(we)),$e(!1)}},"./src/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CAP:()=>c.CAP,CC:()=>a.CC,Color:()=>a.Color,CustomLinear:()=>n.CustomLinear,Cylinder:()=>g.Cylinder,GLDraw:()=>c.GLDraw,GLModel:()=>y.GLModel,GLShape:()=>w.GLShape,GLViewer:()=>b.GLViewer,GLVolumetricRender:()=>S.GLVolumetricRender,Gradient:()=>n.Gradient,GradientType:()=>n.GradientType,Label:()=>s.Label,LabelCount:()=>s.LabelCount,MarchingCube:()=>_.MarchingCube,MarchingCubeInitializer:()=>_.MarchingCubeInitializer,Matrix3:()=>u.Matrix3,Matrix4:()=>u.Matrix4,Parsers:()=>l.Parsers,PausableTimer:()=>p.PausableTimer,PointGrid:()=>_.PointGrid,ProteinSurface:()=>_.ProteinSurface,Quaternion:()=>u.Quaternion,ROYGB:()=>n.ROYGB,RWB:()=>n.RWB,Ray:()=>u.Ray,Sinebow:()=>n.Sinebow,Sphere:()=>g.Sphere,SurfaceType:()=>_.SurfaceType,Triangle:()=>g.Triangle,Vector2:()=>u.Vector2,Vector3:()=>u.Vector3,VolumeData:()=>x.VolumeData,adjustVolumeStyle:()=>p.adjustVolumeStyle,applyPartialCharges:()=>o.applyPartialCharges,autoinit:()=>C.autoinit,autoload:()=>C.autoload,base64ToArray:()=>p.base64ToArray,bondLength:()=>l.bondLength,builtinColorSchemes:()=>a.builtinColorSchemes,builtinGradients:()=>n.builtinGradients,chains:()=>a.chains,clamp:()=>u.clamp,conversionMatrix3:()=>u.conversionMatrix3,createStereoViewer:()=>b.createStereoViewer,createViewer:()=>b.createViewer,createViewerGrid:()=>b.createViewerGrid,deepCopy:()=>p.deepCopy,degToRad:()=>u.degToRad,download:()=>p.download,drawCartoon:()=>v.drawCartoon,elementColors:()=>a.elementColors,extend:()=>p.extend,get:()=>p.get,getAtomProperty:()=>p.getAtomProperty,getColorFromStyle:()=>p.getColorFromStyle,getElement:()=>p.getElement,getExtent:()=>p.getExtent,getGradient:()=>n.getGradient,getPropertyRange:()=>p.getPropertyRange,getbin:()=>p.getbin,htmlColors:()=>a.htmlColors,isEmptyObject:()=>p.isEmptyObject,isNumeric:()=>p.isNumeric,makeFunction:()=>p.makeFunction,mergeGeos:()=>p.mergeGeos,normalizeValue:()=>n.normalizeValue,partialCharges:()=>o.partialCharges,processing_autoinit:()=>C.processing_autoinit,residues:()=>a.residues,setBondLength:()=>l.setBondLength,setSyncSurface:()=>_.setSyncSurface,specStringToObject:()=>p.specStringToObject,splitMesh:()=>w.splitMesh,ssColors:()=>a.ssColors,subdivide_spline:()=>v.subdivide_spline,syncSurface:()=>_.syncSurface,viewers:()=>C.viewers});var n=r("./src/Gradient.ts"),a=r("./src/colors.ts"),s=r("./src/Label.ts"),o=r("./src/partialCharges.ts"),l=r("./src/parsers/index.ts"),u=r("./src/WebGL/math/index.ts"),g=r("./src/WebGL/shapes/index.ts"),p=r("./src/utilities.ts"),_=r("./src/ProteinSurface4.ts"),x=r("./src/VolumeData.ts"),S=r("./src/VolumetricRender.ts"),w=r("./src/GLShape.ts"),c=r("./src/GLDraw.ts"),v=r("./src/glcartoon.ts"),y=r("./src/GLModel.ts"),b=r("./src/GLViewer.ts"),C=r("./src/autoload.ts"),E=r("./src/specs.ts");window&&(window.$3Dmol=t)},"./src/parsers/CDJSON.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CDJSON:()=>n});function n(a,s){var o=[[]];typeof a=="string"&&(a=JSON.parse(a));for(var l=a.m,u=l[0].a,g=l[0].b,p=l[0].s,_=s!==void 0&&s.parseStyle!==void 0?s.parseStyle:p!==void 0,x=o[o.length-1].length,S=0;S<u.length;S++){var w=u[S],c={};c.id=w.i,c.x=w.x,c.y=w.y,c.z=w.z||0,c.bonds=[],c.bondOrder=[];var v=w.l||"C";c.elem=v[0].toUpperCase()+v.substring(1).toLowerCase(),c.serial=o[o.length-1].length,_&&(c.style=p[w.s||0]),o[o.length-1].push(c)}for(let y=0;y<g.length;y++){let b=g[y],C=b.b+x,E=b.e+x,h=b.o||1,f=o[o.length-1][C],D=o[o.length-1][E];f.bonds.push(E),f.bondOrder.push(h),D.bonds.push(C),D.bondOrder.push(h)}return o}},"./src/parsers/CIF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CIF:()=>l});var n=r("./src/parsers/utils/assignBonds.ts"),a=r("./src/parsers/utils/computeSecondaryStructure.ts"),s=r("./src/parsers/utils/processSymmetries.ts"),o=r("./src/WebGL/index.ts");function l(u,g={}){var p=[],_=!g.doAssembly,x=p.modelData=[],S=g.assignBonds===void 0?!0:g.assignBonds,w=function(ue,ge,$e,Oe){return new o.Vector3(ge,$e,Oe).applyMatrix3(ue)};function c(ue,ge){for(var $e=[],Oe=0,at=0;at<ue.length;){for(;ue.substring(at,at+ge.length)!==ge&&at<ue.length;){if(ue[at]==="'")for(at++;at<ue.length&&ue[at]!=="'";)at++;else if(ue[at]==='"')for(at++;at<ue.length&&ue[at]!=='"';)at++;at++}$e.push(ue.substring(Oe,at)),Oe=at=at+ge.length}return $e}var v=u.split(/\r?\n|\r/),y=[],b=!1;for(let ue=0;ue<v.length;ue++){var C=v[ue].split("#")[0];if(b?C[0]===";"&&(b=!1):C[0]===";"&&(b=!0),b||C!==""){if(!b&&(C=C.trim(),C[0]==="_")){var E=C.split(/\s/)[0].indexOf(".");if(E>-1){let ge=C.split("");ge[E]="_",C=ge.join(""),C=C.substring(0,E)+"_"+C.substring(E+1)}}y.push(C)}}for(var h=0;h<y.length;){for(;!y[h].startsWith("data_")||y[h]==="data_global";)h++;h++;for(var f={};h<y.length&&!y[h].startsWith("data_");)if(y[h][0]===void 0)h++;else if(y[h][0]==="_"){var D=y[h].split(/\s/)[0].toLowerCase(),M=f[D]=f[D]||[],N=y[h].substring(y[h].indexOf(D)+D.length);if(N==="")if(h++,y[h][0]===";"){var k=y[h].substring(1);for(h++;y[h]!==";";)k=k+`
`+y[h],h++;M.push(k)}else M.push(y[h]);else M.push(N.trim());h++}else if(y[h].substring(0,5)==="loop_"){h++;for(var z=[];y[h]===""||y[h][0]==="_";){if(y[h]!==""){let ue=y[h].split(/\s/)[0].toLowerCase(),ge=f[ue]=f[ue]||[];z.push(ge)}h++}for(var O=0;h<y.length&&y[h][0]!=="_"&&!y[h].startsWith("loop_")&&!y[h].startsWith("data_");){let ue=c(y[h]," ");for(var I=0;I<ue.length;I++)ue[I]!==""&&(z[O].push(ue[I]),O=(O+1)%z.length);h++}}else h++;x.push({symmetries:[]}),p.push([]);var H=f._atom_site_id!==void 0?f._atom_site_id.length:f._atom_site_label.length,Y;if(f._cell_length_a!==void 0){var q=parseFloat(f._cell_length_a),G=parseFloat(f._cell_length_b),$=parseFloat(f._cell_length_c),R=parseFloat(f._cell_angle_alpha)||90,V=parseFloat(f._cell_angle_beta)||90,X=parseFloat(f._cell_angle_gamma)||90;Y=(0,o.conversionMatrix3)(q,G,$,R,V,X),x[x.length-1].cryst={a:q,b:G,c:$,alpha:R,beta:V,gamma:X}}for(var Q=0;Q<H;Q++)if(!(f._atom_site_group_pdb!==void 0&&f._atom_site_group_pdb[Q]==="TER")){var te={};if(f._atom_site_cartn_x!==void 0)te.x=parseFloat(f._atom_site_cartn_x[Q]),te.y=parseFloat(f._atom_site_cartn_y[Q]),te.z=parseFloat(f._atom_site_cartn_z[Q]);else{var we=w(Y,parseFloat(f._atom_site_fract_x[Q]),parseFloat(f._atom_site_fract_y[Q]),parseFloat(f._atom_site_fract_z[Q]));te.x=we.x,te.y=we.y,te.z=we.z}te.chain=f._atom_site_auth_asym_id?f._atom_site_auth_asym_id[Q]:void 0,te.resi=f._atom_site_auth_seq_id?parseInt(f._atom_site_auth_seq_id[Q]):void 0,te.resn=f._atom_site_auth_comp_id?f._atom_site_auth_comp_id[Q].trim():void 0,te.atom=f._atom_site_auth_atom_id?f._atom_site_auth_atom_id[Q].replace(/"/gm,""):void 0,te.hetflag=!f._atom_site_group_pdb||f._atom_site_group_pdb[Q]==="HETA"||f._atom_site_group_pdb[Q]==="HETATM";var Pe="X";f._atom_site_type_symbol?Pe=f._atom_site_type_symbol[Q].replace(/\(?\+?\d+.*/,""):f._atom_site_label&&(Pe=f._atom_site_label[Q].split("_")[0].replace(/\(?\d+.*/,"")),te.elem=Pe[0].toUpperCase()+Pe.substring(1,2).toLowerCase(),te.bonds=[],te.ss="c",te.serial=Q,te.bondOrder=[],te.properties={},p[p.length-1].push(te)}if(f._pdbx_struct_oper_list_id!==void 0&&!_)for(let ue=0;ue<f._pdbx_struct_oper_list_id.length;ue++){var xe=parseFloat(f["_pdbx_struct_oper_list_matrix[1][1]"][ue]),Fe=parseFloat(f["_pdbx_struct_oper_list_matrix[1][2]"][ue]),Ae=parseFloat(f["_pdbx_struct_oper_list_matrix[1][3]"][ue]),be=parseFloat(f["_pdbx_struct_oper_list_vector[1]"][ue]),Qe=parseFloat(f["_pdbx_struct_oper_list_matrix[2][1]"][ue]),Xe=parseFloat(f["_pdbx_struct_oper_list_matrix[2][2]"][ue]),U=parseFloat(f["_pdbx_struct_oper_list_matrix[2][3]"][ue]),pe=parseFloat(f["_pdbx_struct_oper_list_vector[2]"][ue]),_e=parseFloat(f["_pdbx_struct_oper_list_matrix[3][1]"][ue]),ie=parseFloat(f["_pdbx_struct_oper_list_matrix[3][2]"][ue]),de=parseFloat(f["_pdbx_struct_oper_list_matrix[3][3]"][ue]),ye=parseFloat(f["_pdbx_struct_oper_list_vector[3]"][ue]),je=new o.Matrix4(xe,Fe,Ae,be,Qe,Xe,U,pe,_e,ie,de,ye);x[x.length-1].symmetries.push(je)}var Be=function(ue){var ge=ue.match("-");ue=ue.replace(/[-xyz]/g,"");var $e=ue.split("/"),Oe,at;return $e[1]===void 0?at=1:at=parseInt($e[1]),$e[0]===""?Oe=1:Oe=parseInt($e[0]),Oe/at*(ge?-1:1)};if(f._symmetry_equiv_pos_as_xyz!==void 0&&!_)for(var Ce=0;Ce<f._symmetry_equiv_pos_as_xyz.length;Ce++){var Ie=f._symmetry_equiv_pos_as_xyz[Ce].replace(/["' ]/g,""),Re=Ie.split(",").map(function(ge){return ge.replace(/-/g,"+-")});let ue=new o.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let ge=0;ge<3;ge++){var Ke=Re[ge].split("+");for(let $e=0;$e<Ke.length;$e++){var Ne=Ke[$e];if(Ne!==""){var pt=Be(Ne);Ne.match("x")?ue.elements[ge+0]=pt:Ne.match("y")?ue.elements[ge+4]=pt:Ne.match("z")?ue.elements[ge+8]=pt:ue.elements[ge+12]=pt}}}var yt=Y.getMatrix4(),le=new o.Matrix4().getInverse(yt,!0);ue=new o.Matrix4().multiplyMatrices(ue,le),ue=new o.Matrix4().multiplyMatrices(yt,ue),x[x.length-1].symmetries.push(ue)}}for(let ue=0;ue<p.length;ue++)S&&(0,n.assignBonds)(p[ue]),(0,a.computeSecondaryStructure)(p[ue],g.hbondCutoff),(0,s.processSymmetries)(x[ue].symmetries,p[ue],g,x[ue].cryst),g.duplicateAssemblyAtoms&&!g.dontConnectDuplicatedAtoms&&S&&(0,n.assignBonds)(p[ue]);return p}},"./src/parsers/CUBE.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CUBE:()=>o});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/assignBonds.ts"),s=r("./src/parsers/utils/anumToSymbol.ts");function o(l,u){u=u||{};var g=[[]],p=l.split(/\r?\n/),_=u.assignBonds===void 0?!0:u.assignBonds;if(p.length<6)return g;var x=p[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),S=Math.abs(parseFloat(x[0]));let w={};var c=w.origin=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3]));x=p[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),x=p[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var v=x[0]>0?.529177:1;c.multiplyScalar(v);var y=Math.abs(x[0]),b=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])).multiplyScalar(v);x=p[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var C=Math.abs(x[0]),E=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])).multiplyScalar(v);x=p[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var h=Math.abs(x[0]),f=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])).multiplyScalar(v);if(w.size={x:y,y:C,z:h},w.unit=new n.Vector3(b.x,E.y,f.z),b.y!=0||b.z!=0||E.x!=0||E.z!=0||f.x!=0||f.y!=0){w.matrix4=new n.Matrix4(b.x,E.x,f.x,0,b.y,E.y,f.y,0,b.z,E.z,f.z,0,0,0,0,1);let I=new n.Matrix4().makeTranslation(c.x,c.y,c.z);w.matrix4=w.matrix4.multiplyMatrices(I,w.matrix4),w.matrix=w.matrix4.matrix3FromTopLeft(),w.origin=new n.Vector3(0,0,0),w.unit=new n.Vector3(1,1,1)}g.modelData=[{cryst:w}],p=p.splice(6,S);for(var D=g[g.length-1].length,M=D+p.length,N=D;N<M;++N){var k={};k.serial=N;var z=p[N-D],O=z.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");k.elem=s.anumToSymbol[O[0]],k.x=parseFloat(O[2])*v,k.y=parseFloat(O[3])*v,k.z=parseFloat(O[4])*v,k.hetflag=!0,k.bonds=[],k.bondOrder=[],k.properties={},g[g.length-1].push(k)}if(_)for(let I=0;I<g.length;I++)(0,a.assignBonds)(g[I]);return g}},"./src/parsers/GRO.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GRO:()=>s});var n=r("./src/parsers/utils/assignPDBBonds.ts"),a=r("./src/parsers/utils/atomNameToElem.ts");function s(o){for(var l=[],u=o.split(/\r?\n|\r/);u.length>0&&!(u.length<3);){var g=parseInt(u[1]);if(isNaN(g)||g<=0||u.length<g+3)break;var p=[];l.push(p);for(var _=2,x=p.length,S=x+g,w=x;w<S;w++){var c=u[_++],v={};v.serial=w,v.atom=c.slice(10,15).trim(),v.elem=(0,a.atomNameToElem)(v.atom,!0),v.x=10*parseFloat(c.slice(20,28)),v.y=10*parseFloat(c.slice(28,36)),v.z=10*parseFloat(c.slice(36,44)),v.resi=parseInt(c.slice(0,5)),v.resn=c.slice(5,10).trim(),v.bonds=[],v.bondOrder=[],v.properties={},c.length>44&&(v.dx=10*parseFloat(c.slice(44,52)),v.dy=10*parseFloat(c.slice(52,60)),v.dz=10*parseFloat(c.slice(60,68))),p[w]=v}if(u.length<=_+3){var y=u[_++],b=y.trim().split(/\s+/);if(b.length==3){for(var C=0;C<3;C++)b[C]=parseFloat(b[C])*10;l.box=b}}u.splice(0,++_)}for(let E=0;E<l.length;E++)(0,n.assignPDBBonds)(l[E]);return l}},"./src/parsers/LAMMPSTRJ.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{LAMMPSTRJ:()=>a});var n=r("./src/parsers/utils/assignBonds.ts");function a(s,o){for(var l=[],u={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"},g=s.split(/\r?\n|\r/),p=0,_=0,x=0;x<g.length-9;){for(var S=x;S<g.length;S++)if(g[S].match(/ITEM: NUMBER OF ATOMS/)&&(_=parseInt(g[S+1])),g[S].match(/ITEM: ATOMS/)){p=S+1;break}var w=g[p-1].replace("ITEM: ATOMS ","").split(" ");l.push([]);for(let h=p;h<p+_;h++){for(var c={},v={},y=g[h].split(" "),b=0;b<y.length;b++){var C=u[w[b]];C!=null&&(C=="serial"?c[C]=parseInt(y[b]):C=="x"||C=="y"||C==="z"?c[C]=parseFloat(y[b]):C=="charge"||C=="radius"?v[C]=parseFloat(y[b]):c[C]=y[b]),c.properties=v,c.bonds=[],c.bondOrder=[]}l[l.length-1][h-p]=c}x=p+_-1}if(o.assignBonds)for(var E=0;E<l.length;E++)(0,n.assignBonds)(l[E]);return l}},"./src/parsers/MMTF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MMTFparser:()=>_});var n=r("./src/utilities.ts"),a=r("./src/WebGL/index.ts"),s=r("./src/parsers/utils/computeSecondaryStructure.ts"),o=r("./src/parsers/utils/processSymmetries.ts"),l=r("./src/vendor/mmtf.js"),u=function(x){return String.fromCharCode.apply(null,x).replace(/\0/g,"")},g=function(x){return x==0||x==2||x==4?"h":x==3?"s":"c"};let p=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function _(x,S){var w=!S.keepH,c=S.altLoc?S.altLoc:"A",v=!!S.noSecondaryStructure,y=!S.noComputeSecondaryStructure,b=!S.doAssembly,C=S.assemblyIndex?S.assemblyIndex:0;typeof x=="string"?x=(0,n.base64ToArray)(x):x=new Uint8Array(x);var E=l.decode(x),h=[[]],f=h.modelData=[],D=0,M=0,N=0,k=E.secStructList,z=E.bFactorList,O=E.altLocList,I=E.occupancyList,H=E.bondAtomList,Y=E.bondOrderList,q=E.numModels;if(q==0)return h;S.multimodel||(q=1);var G,$,R,V,X,Q,te=[];if(!b&&E.bioAssemblyList&&E.bioAssemblyList.length>0){var we=E.bioAssemblyList[C].transformList;for(G=0,Q=we.length;G<Q;G++){var Pe=new a.Matrix4(we[G].matrix);Pe.transpose(),te.push(Pe)}}var xe=null;if(E.unitCell){var Fe=E.unitCell;xe={a:Fe[0],b:Fe[1],c:Fe[2],alpha:Fe[3],beta:Fe[4],gamma:Fe[5]}}let Ae=[];E.entityList.forEach(Ye=>{Ye.chainIndexList.forEach(ce=>{Ae[ce]=Ye.type=="polymer"})});var be=0;for(X=0;X<q;X++){var Qe=E.chainsPerModel[X],Xe=h[h.length-1],U=[];for(f.push({symmetries:te,cryst:xe}),G=0;G<Qe;++G){var pe=E.groupsPerChain[D],_e=u(E.chainIdList.subarray(D*4,D*4+4));E.chainNameList&&(_e=u(E.chainNameList.subarray(D*4,D*4+4)));var ie=M,de="";for($=0;$<pe;++$){var ye=E.groupList[E.groupTypeList[M]],je=ye.atomNameList.length,Be=0,Ce=!1,Ie=!1;if(k){Be=k[M];var Re=g(Be);(M==0||Re!=de)&&(Ce=!0),de=Re;var Ke=M+1;(Ke>=k.length||g(k[Ke]!=Re))&&(Ie=!0)}var Ne=E.groupIdList[M],pt=ye.groupName;let Ye=ye.chemCompType;var yt=N;let ce=p.has(Ye)||!Ae[D];for(R=0;R<je;++R){var le=ye.elementList[R];if(w&&le=="H"){N+=1;continue}var ue="";z&&(ue=z[N]);var ge="";O&&O[N]&&(ge=String.fromCharCode(O[N]));var $e="";if(I&&($e=I[N]),ge!=""&&ge!=c&&c!="*"){N+=1;continue}var Oe=E.atomIdList[N],at=ye.atomNameList[R],lt=0;ye.atomChargeList&&(lt=ye.atomChargeList[R]);var se=E.xCoordList[N],Ge=E.yCoordList[N],Je=E.zCoordList[N];U[N]=Xe.length,Xe.push({resn:pt,x:se,y:Ge,z:Je,elem:le,hetflag:ce,chain:_e,resi:Ne,icode:ge,rescode:Ne+(ge!=" "?"^"+ge:""),serial:Oe,altLoc:ge,index:N,atom:at,bonds:[],ss:g(Be),ssbegin:Ce,ssend:Ie,bondOrder:[],properties:{charge:lt,occupancy:$e},b:ue}),N+=1}var mt=ye.bondAtomList;for(R=0,V=ye.bondOrderList.length;R<V;++R){var Le=yt+mt[R*2],ut=yt+mt[R*2+1],oe=ye.bondOrderList[R],dt=U[Le],At=U[ut],W=Xe[dt],Ve=Xe[At];W&&Ve&&(W.bonds.push(At),W.bondOrder.push(oe),Ve.bonds.push(dt),Ve.bondOrder.push(oe))}M+=1}for(M=ie,$=0;$<pe;++$)M+=1;D+=1}if(H)for(let Ye=be,ce=H.length;Ye<ce;Ye+=2){let ze=H[Ye],tt=H[Ye+1],Lt=Y?Y[Ye/2]:1;if(ze>=N){be=Ye;break}let Mt=U[ze],st=U[tt],Jt=Xe[Mt],Zr=Xe[st];Jt&&Zr&&(Jt.bonds.push(st),Jt.bondOrder.push(Lt),Zr.bonds.push(Mt),Zr.bondOrder.push(Lt))}S.multimodel&&(S.onemol||h.push([]))}if(!b)for(let Ye=0;Ye<h.length;Ye++)(0,o.processSymmetries)(f[Ye].symmetries,h[Ye],S,f[Ye].cryst);return y&&!v&&(0,s.computeSecondaryStructure)(h,S.hbondCutoff),h}},"./src/parsers/MOL2.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MOL2:()=>a});let n={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function a(s,o){var l=[[]],u=!1;typeof o.keepH<"u"&&(u=!o.keepH);var g=s.search(/@<TRIPOS>MOLECULE/),p=s.search(/@<TRIPOS>ATOM/);if(g==-1||p==-1)return l;for(var _=s.substring(g).split(/\r?\n|\r/);_.length>0;){var x=[],S=_[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w=parseInt(S[0]),c=0;S.length>1&&(c=parseInt(S[1]));var v=4,y;for(y=3;y<_.length;y++)if(_[y]=="@<TRIPOS>ATOM"){v=y+1;break}var b=l[l.length-1].length,C=b+w,E;for(y=b;y<C;y++){E=_[v++],S=E.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var h={},f=S[5];if(n[f]!==void 0?f=n[f]:(f=f.split(".")[0],f=f[0].toUpperCase()+f.substring(1).toLowerCase()),h.atom=S[1],h.elem=f,!(h.elem=="H"&&u)){var D=l[l.length-1].length,M=parseInt(S[0]);h.serial=M,h.x=parseFloat(S[2]),h.y=parseFloat(S[3]),h.z=parseFloat(S[4]),h.atom=S[5];var N=parseFloat(S[8]);h.index=D,h.bonds=[],h.bondOrder=[],h.properties={charge:N,partialCharge:N},x[M]=D,l[l.length-1].push(h)}}for(var k=!1;v<_.length;)if(_[v++]=="@<TRIPOS>BOND"){k=!0;break}if(k&&c)for(y=0;y<c;y++){E=_[v++],S=E.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var z=parseInt(S[1]),O=l[l.length-1][x[z]],I=parseInt(S[2]),H=l[l.length-1][x[I]],Y=parseInt(S[3]);isNaN(Y)&&(Y=1),O!==void 0&&H!==void 0&&(O.bonds.push(x[I]),O.bondOrder.push(Y),H.bonds.push(x[z]),H.bondOrder.push(Y))}if(o.multimodel){o.onemol||l.push([]),_.splice(0,v),s=_.join(`
`);continue}else break}return l}},"./src/parsers/PDB.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PDB:()=>a});var n=r("./src/parsers/utils/getSinglePDB.ts");function a(s,o){o=o||{};var l=[],u={};l.modelData=[];for(var g=s.split(/\r?\n|\r/);g.length>0;){var p=(0,n.getSinglePDB)(g,o,u),_=p[0],x=p[1];if(g=p[2],_.length!=0){if(o.multimodel&&o.onemol&&l.length>0)for(var S=l[0].length,w=0;w<_.length;w++){var c=_[w];c.index=w;for(var v=0;v<c.bonds.length;v++)c.bonds[v]+=S;l[0].push(c)}else l.modelData.push(x),l.push(_);if(!o.multimodel)break}}return l}},"./src/parsers/PQR.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PQR:()=>s});var n=r("./src/parsers/utils/assignPDBBonds.ts"),a=r("./src/parsers/utils/computeSecondaryStructure.ts");function s(o,l){var u=[[]],g=!l.noSecondaryStructure;u.modelData=[{symmetries:[]}];var p=[],_=o.split(/\r?\n|\r/),x;for(let k=0;k<_.length;k++){x=_[k].replace(/^\s*/,"");var S=x.substring(0,6);if(S.indexOf("END")==0)if(l.multimodel){l.onemol||u.push([]);continue}else break;else if(S=="ATOM  "||S=="HETATM"){var w;let z=parseInt(x.substring(6,11)),O=x.substring(12,16).replace(/ /g,""),I=x.substring(17,20).trim(),H=x.substring(21,22),Y=parseInt(x.substring(22,26));var c=x.substring(30).trim().split(/\s+/),v=parseFloat(c[0]),y=parseFloat(c[1]),b=parseFloat(c[2]),C=parseFloat(c[3]),E=parseFloat(c[4]),h=O[0];O.length>1&&O[1].toUpperCase()!=O[1]&&(h=O.substring(0,2)),x[0]=="H"?w=!0:w=!1,p[z]=u[u.length-1].length,u[u.length-1].push({resn:I,x:v,y,z:b,elem:h,hetflag:w,chain:H,resi:Y,serial:z,atom:O,bonds:[],ss:"c",bondOrder:[],properties:{charge:C,partialCharge:C,radius:E},pdbline:x})}else if(S=="CONECT"){var f=parseInt(x.substring(6,11)),D=u[u.length-1][p[f]];for(let z=0;z<4;z++){var M=parseInt(x.substring([11,16,21,26][z],[11,16,21,26][z]+5)),N=u[u.length-1][p[M]];D!==void 0&&N!==void 0&&(D.bonds.push(p[M]),D.bondOrder.push(1))}}}for(let k=0;k<u.length;k++)(0,n.assignPDBBonds)(u[k]),g&&(0,a.computeSecondaryStructure)(u[k],l.hbondCutoff);return u}},"./src/parsers/PRMTOP.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PRMTOP:()=>n});function n(a){var s=[],o,l=0,u=a.split(/\r?\n|\r/);if(u.length>0&&u[0].includes("VERSION")){var g=u.filter(function(v){return v.includes("POINTERS")||v.includes("ATOM_NAME")||v.includes("CHARGE")||v.includes("RADII")||v.includes("BONDS_INC_HYDROGEN")||v.includes("BONDS_WITHOUT_HYDROGEN")}),p=w("POINTERS");if(p==-1)return[];var _=c(p),x=parseInt(u[p+1].slice(0,_[1]));if(isNaN(x)||x<=0)return[];if(p=w("ATOM_NAME"),p==-1)return[];_=c(p);var S=_[0];for(let v=0;v<x/_[0];v++){v==parseInt(x/_[0])&&(S=x%_[0]);for(let y=0;y<S;y++){let b={},C={charge:"",radii:""};b.serial=l,b.x=0,b.y=0,b.z=0,b.atom=u[p+1].slice(_[1]*y,_[1]*(y+1)),b.elem=u[p+1].slice(_[1]*y,_[1]*y+1),b.properties=C,b.bonds=[],b.bondOrder=[],s.push(b),l++}p++}if(p=w("CHARGE"),p!=-1){_=c(p),l=0,S=_[0];for(let v=0;v<x/_[0];v++){v==parseInt(x/_[0])&&(S=x%_[0]);for(let y=0;y<S;y++)s[l].properties.charge=parseFloat(u[p+1].slice(_[1]*y,_[1]*(y+1))),l++;p++}}if(p=w("RADII"),p!=-1){_=c(p),l=0,S=_[0];for(let v=0;v<x/_[0];v++){v==parseInt(x/_[0])&&(S=x%_[0]);for(let y=0;y<S;y++)s[l].properties.radii=parseFloat(u[p+1].slice(_[1]*y,_[1]*(y+1))),l++;p++}}if(p=w("BONDS_WITHOUT_HYDROGEN"),p!=-1)for(_=c(p),l=0,S=_[0],p=p+1;!u[p].match(/^%FLAG/);){u[p+1].match(/^%FLAG/)&&(S=x%_[0]);for(let v=0;v<S;v++)l%3==0?o=parseInt(u[p].slice(_[1]*v,_[1]*(v+1))/3):l%3==1&&s[o].bonds.push(parseInt(u[p].slice(_[1]*v,_[1]*(v+1))/3)),l++;p++}if(p=w("BONDS_INC_HYDROGEN"),p!=-1)for(_=c(p),l=0,S=_[0],p=p+1;!u[p].match(/^%FLAG/);){u[p+1].match(/^%FLAG/)&&(S=x%_[0]);for(let v=0;v<S;v++)l%3==0?o=parseInt(u[p].slice(_[1]*v,_[1]*(v+1))/3):l%3==1&&s[o].bonds.push(parseInt(u[p].slice(_[1]*v,_[1]*(v+1))/3)),l++;p++}}else return[];function w(v){var y=u.indexOf(g.filter(function(b){return b.includes(v)})[0]);if(Number.isInteger(y)&&y>0){for(;!u[y].includes("FORMAT");)y++;return y}else return-1}function c(v){var y=u[v].match(/\((\d*)\S*/),b=u[v].match(/[a-zA-Z](\d*)\)\s*/);return b==null&&(b=u[v].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[y[1],b[1]]}return[s]}},"./src/parsers/SDF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SDF:()=>s});var n=function(o,l){var u=[[]],g=!1;for(typeof l.keepH<"u"&&(g=!l.keepH);o.length>0&&!(o.length<4);){var p=parseInt(o[3].substring(0,3));if(isNaN(p)||p<=0)break;var _=parseInt(o[3].substring(3,6)),x=4;if(o.length<4+p+_)break;var S=[],w=u[u.length-1].length,c=w+p,v,y;for(v=w;v<c;v++,x++){y=o[x];var b={},C=y.substring(31,34).replace(/ /g,"");b.atom=b.elem=C[0].toUpperCase()+C.substring(1).toLowerCase(),(b.elem!=="H"||!g)&&(b.serial=v,S[v]=u[u.length-1].length,b.x=parseFloat(y.substring(0,10)),b.y=parseFloat(y.substring(10,20)),b.z=parseFloat(y.substring(20,30)),b.hetflag=!0,b.bonds=[],b.bondOrder=[],b.properties={},b.index=u[u.length-1].length,u[u.length-1].push(b))}for(v=0;v<_;v++,x++){y=o[x];var E=S[parseInt(y.substring(0,3))-1+w],h=S[parseInt(y.substring(3,6))-1+w],f=parseFloat(y.substring(6));typeof E<"u"&&typeof h<"u"&&(u[u.length-1][E].bonds.push(h),u[u.length-1][E].bondOrder.push(f),u[u.length-1][h].bonds.push(E),u[u.length-1][h].bondOrder.push(f))}if(l.multimodel){for(l.onemol||u.push([]);o[x]!=="$$$$"&&x<o.length;)x++;o.splice(0,++x)}else break}return u},a=function(o,l){var u=[[]],g=!1;for(typeof l.keepH<"u"&&(g=!l.keepH);o.length>0&&!(o.length<8||!o[4].startsWith("M  V30 BEGIN CTAB")||!o[5].startsWith("M  V30 COUNTS")||o[5].length<14);){var p=o[5].substring(13).match(/\S+/g);if(p.length<2)break;var _=parseInt(p[0]);if(isNaN(_)||_<=0)break;var x=parseInt(p[1]),S=7;if(o.length<8+_+x)break;var w=[],c=u[u.length-1].length,v=c+_,y,b;for(y=c;y<v;y++,S++){b=o[S];var C=b.substring(6).match(/\S+/g);if(C.length>4){var E={},h=C[1].replace(/ /g,"");E.atom=E.elem=h[0].toUpperCase()+h.substring(1).toLowerCase(),(E.elem!=="H"||!g)&&(E.serial=y,w[y]=u[u.length-1].length,E.x=parseFloat(C[2]),E.y=parseFloat(C[3]),E.z=parseFloat(C[4]),E.hetflag=!0,E.bonds=[],E.bondOrder=[],E.properties={},E.index=u[u.length-1].length,u[u.length-1].push(E))}}if(o[S]==="M  V30 END ATOM")S++;else break;if(x!==0&&o[S]==="M  V30 BEGIN BOND")S++;else break;for(y=0;y<x;y++,S++){b=o[S];var f=b.substring(6).match(/\S+/g);if(f.length>3){var D=w[parseInt(f[2])-1+c],M=w[parseInt(f[3])-1+c],N=parseFloat(f[1]);typeof D<"u"&&typeof M<"u"&&(u[u.length-1][D].bonds.push(M),u[u.length-1][D].bondOrder.push(N),u[u.length-1][M].bonds.push(D),u[u.length-1][M].bondOrder.push(N))}}if(l.multimodel){for(l.onemol||u.push([]);o[S]!=="$$$$"&&S<o.length;)S++;o.splice(0,++S)}else break}return u};function s(o,l){var u="V2000",g=o.split(/\r?\n|\r/);return g.length>3&&g[3].length>38&&(u=g[3].substring(34,39)),u==="V2000"?n(g,l):u==="V3000"?a(g,l):[[""]]}},"./src/parsers/VASP.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VASP:()=>a});var n=r("./src/WebGL/index.ts");function a(s){var o=[[]],l={},u=s.replace(/^\s+/,"").split(/\r?\n/);if(u.length<3)return o;if(u[1].match(/\d+/))l.length=parseFloat(u[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),o;if(l.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),o;l.xVec=new Float32Array(u[2].replace(/^\s+/,"").split(/\s+/)),l.yVec=new Float32Array(u[3].replace(/^\s+/,"").split(/\s+/)),l.zVec=new Float32Array(u[4].replace(/^\s+/,"").split(/\s+/));var g=new n.Matrix3(l.xVec[0],l.xVec[1],l.xVec[2],l.yVec[0],l.yVec[1],l.yVec[2],l.zVec[0],l.zVec[1],l.zVec[2]);g.multiplyScalar(l.length),o.modelData=[{symmetries:[],cryst:{matrix:g}}];var p=u[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/),_=new Int16Array(u[6].replace(/^\s+/,"").split(/\s+/)),x=u[7].replace(/\s+/,"");if(x.match(/C/))x="cartesian";else if(x.match(/D/))x="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),o;if(p.length!=_.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(p),console.log(_),o;u.splice(0,8);for(var S=0,w=0,c=p.length;w<c;w++){for(var v=p[w],y=0,b=_[w];y<b;y++){var C=new Float32Array(u[S+y].replace(/^\s+/,"").split(/\s+/)),E={};E.elem=v,x=="cartesian"?(E.x=l.length*C[0],E.y=l.length*C[1],E.z=l.length*C[2]):(E.x=l.length*(C[0]*l.xVec[0]+C[1]*l.yVec[0]+C[2]*l.zVec[0]),E.y=l.length*(C[0]*l.xVec[1]+C[1]*l.yVec[1]+C[2]*l.zVec[1]),E.z=l.length*(C[0]*l.xVec[2]+C[1]*l.yVec[2]+C[2]*l.zVec[2])),E.bonds=[],o[0].push(E)}S+=_[w]}return o}},"./src/parsers/XYZ.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{XYZ:()=>s});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/assignBonds.ts");function s(o,l){l=l||{};for(var u=[[]],g=l.assignBonds===void 0?!0:l.assignBonds,p=o.split(/\r?\n|\r/);p.length>0&&!(p.length<3);){var _=parseInt(p[0]);if(isNaN(_)||_<=0||p.length<_+2)break;var x=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,S=x.exec(p[1]);if(S!=null&&S.length>1){var w=new Float32Array(S[1].split(/\s+/)),c=new n.Matrix3(w[0],w[3],w[6],w[1],w[4],w[7],w[2],w[5],w[8]);u.modelData=[{cryst:{matrix:c}}]}for(var v=2,y=u[u.length-1].length,b=y+_,C=y;C<b;C++){var E=p[v++],h=E.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),f={};f.serial=C;var D=h[0];f.atom=f.elem=D[0].toUpperCase()+D.substring(1,2).toLowerCase(),f.x=parseFloat(h[1]),f.y=parseFloat(h[2]),f.z=parseFloat(h[3]),f.hetflag=!0,f.bonds=[],f.bondOrder=[],f.properties={},u[u.length-1][C]=f,h.length>=7&&(f.dx=parseFloat(h[4]),f.dy=parseFloat(h[5]),f.dz=parseFloat(h[6]))}if(l.multimodel)u.push([]),p.splice(0,v);else break}if(g)for(let N=0;N<u.length;N++)(0,a.assignBonds)(u[N]);if(l.onemol){var M=u;u=[],u.push(M[0]);for(let N=1;N<M.length;N++){let k=u[0].length;for(let z=0;z<M[N].length;z++){let O=M[N][z];for(let I=0;I<O.bonds.length;I++)O.bonds[I]=O.bonds[I]+k;O.index=u[0].length,O.serial=u[0].length,u[0].push(O)}}}return u}},"./src/parsers/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Parsers:()=>y,bondLength:()=>v.bondLength,setBondLength:()=>v.setBondLength});var n=r("./src/parsers/VASP.ts"),a=r("./src/parsers/CUBE.ts"),s=r("./src/parsers/XYZ.ts"),o=r("./src/parsers/SDF.ts"),l=r("./src/parsers/CDJSON.ts"),u=r("./src/parsers/CIF.ts"),g=r("./src/parsers/MOL2.ts"),p=r("./src/parsers/PDB.ts"),_=r("./src/parsers/PQR.ts"),x=r("./src/parsers/MMTF.ts"),S=r("./src/parsers/PRMTOP.ts"),w=r("./src/parsers/GRO.ts"),c=r("./src/parsers/LAMMPSTRJ.ts"),v=r("./src/parsers/utils/bondLength.ts");let y={vasp:n.VASP,VASP:n.VASP,cube:a.CUBE,CUBE:a.CUBE,xyz:s.XYZ,XYZ:s.XYZ,sdf:o.SDF,SDF:o.SDF,json:l.CDJSON,cdjson:l.CDJSON,CDJSON:l.CDJSON,mcif:u.CIF,cif:u.CIF,CIF:u.CIF,mol2:g.MOL2,MOL2:g.MOL2,pdb:p.PDB,PDB:p.PDB,pdbqt:p.PDB,PDBQT:p.PDB,pqr:_.PQR,PQR:_.PQR,mmtf:x.MMTFparser,MMTF:x.MMTFparser,prmtop:S.PRMTOP,PRMTOP:S.PRMTOP,gro:w.GRO,GRO:w.GRO,lammpstrj:c.LAMMPSTRJ,LAMMPSTRJ:c.LAMMPSTRJ}},"./src/parsers/utils/anumToSymbol.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{anumToSymbol:()=>n});let n={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{areConnected:()=>a});var n=r("./src/parsers/utils/bondLength.ts");function a(s,o){var l=(0,n.bondLength)(s.elem)+(0,n.bondLength)(o.elem);l+=.25,l*=l;var u=s.x-o.x;if(u*=u,u>l)return!1;var g=s.y-o.y;if(g*=g,g>l)return!1;var p=s.z-o.z;if(p*=p,p>l)return!1;var _=u+g+p;return isNaN(_)||_<.5||_>l?!1:!(s.altLoc!=o.altLoc&&s.altLoc!=" "&&o.altLoc!=" ")}},"./src/parsers/utils/assignBackboneHBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignBackboneHBonds:()=>n});function n(a,s){let o=s||3.2,l=o*o,u=[];for(let v=0,y=a.length;v<y;v++){a[v].index=v;var g=a[v];!g.hetflag&&(g.atom==="N"||g.atom==="O")&&(u.push(g),g.hbondOther=null,g.hbondDistanceSq=Number.POSITIVE_INFINITY)}u.sort(function(v,y){return v.z-y.z});for(let v=0,y=u.length;v<y;v++){var p=u[v];for(let b=v+1;b<y;b++){var _=u[b],x=_.z-p.z;if(x>o)break;if(_.atom!=p.atom){var S=Math.abs(_.y-p.y);if(!(S>o)){var w=Math.abs(_.x-p.x);if(!(w>o)){var c=w*w+S*S+x*x;c>l||_.chain==p.chain&&Math.abs(_.resi-p.resi)<4||(c<p.hbondDistanceSq&&(p.hbondOther=_,p.hbondDistanceSq=c),c<_.hbondDistanceSq&&(_.hbondOther=p,_.hbondDistanceSq=c))}}}}}}},"./src/parsers/utils/assignBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignBonds:()=>a});var n=r("./src/parsers/utils/areConnected.ts");function a(s){for(var o=0,l=s.length;o<l;o++)s[o].index||(s[o].index=o);for(var u={},g=4.95,p=0;p<s.length;p++){var _=s[p],x=Math.floor(_.x/g),S=Math.floor(_.y/g),w=Math.floor(_.z/g);u[x]||(u[x]={}),u[x][S]||(u[x][S]={}),u[x][S][w]||(u[x][S][w]=[]),u[x][S][w].push(_)}var c=function(y,b){for(var C=0;C<y.length;C++)for(var E=y[C],h=0;h<b.length;h++){var f=b[h];if((0,n.areConnected)(E,f)){var D=E.bonds.indexOf(f.index),M=f.bonds.indexOf(E.index);D==-1&&M==-1?(E.bonds.push(f.index),E.bondOrder.push(1),f.bonds.push(E.index),f.bondOrder.push(1)):D==-1?(E.bonds.push(f.index),E.bondOrder.push(f.bondOrder[M])):M==-1&&(f.bonds.push(E.index),f.bondOrder.push(E.bondOrder[D]))}}},v=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(let y in u){let b=parseInt(y);for(let C in u[b]){let E=parseInt(C);for(let h in u[b][E]){let f=parseInt(h),D=u[b][E][f];for(let M=0;M<D.length;M++){let N=D[M];for(let k=M+1;k<D.length;k++){let z=D[k];(0,n.areConnected)(N,z)&&N.bonds.indexOf(z.index)==-1&&(N.bonds.push(z.index),N.bondOrder.push(1),z.bonds.push(N.index),z.bondOrder.push(1))}}for(let M=0;M<v.length;M++){let N=v[M];if(!u[b+N.x]||!u[b+N.x][E+N.y]||!u[b+N.x][E+N.y][f+N.z])continue;let k=u[b+N.x][E+N.y][f+N.z];c(D,k)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignPDBBonds:()=>o});var n=r("./src/parsers/utils/areConnected.ts"),a=r("./src/parsers/utils/assignBonds.ts"),s=r("./src/parsers/utils/standardResidues.ts");function o(l){var u=[],g=[],p,_;for(p=0,_=l.length;p<_;p++){var x=l[p];x.index=p,x.hetflag||!s.standardResidues.has(x.resn)?g.push(x):u.push(x)}(0,a.assignBonds)(g),u.sort(function(C,E){return C.chain!=E.chain?C.chain<E.chain?-1:1:C.resi-E.resi});var S=-1,w=-1,c;for(p=0,_=u.length;p<_;p++){var v=u[p];v.resi!==S&&(S=v.resi,c||w++,c=!1),v.reschain=w;for(var y=p+1;y<u.length;y++){var b=u[y];if(b.chain!=v.chain||b.resi-v.resi>1)break;(0,n.areConnected)(v,b)&&(v.bonds.indexOf(b.index)===-1&&(v.bonds.push(b.index),v.bondOrder.push(1),b.bonds.push(v.index),b.bondOrder.push(1)),v.resi!==b.resi&&(c=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{atomNameToElem:()=>a});var n=r("./src/parsers/utils/bondLength.ts");function a(s,o){var l=s.replace(/ /g,"");return l.length>0&&l[0]=="H"&&l!="Hg"&&l!="He"&&l!="Hf"&&l!="Hs"&&l!="Ho"&&(l="H"),l.length>1&&(l=l[0].toUpperCase()+l.substring(1).toLowerCase(),typeof n.bondTable[l]>"u"?l=l[0]:o&&(l=="Ca"||l=="Cd")&&(l="C")),l}},"./src/parsers/utils/bondLength.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{bondLength:()=>a,bondTable:()=>n,setBondLength:()=>s});let n={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function a(o){return n[o]||1.6}function s(o,l){l<0&&(l=0),n[o]=l}},"./src/parsers/utils/computeSecondaryStructure.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{computeSecondaryStructure:()=>a});var n=r("./src/parsers/utils/assignBackboneHBonds.ts");function a(s,o){(0,n.assignBackboneHBonds)(s,o);var l={},u,g,p,_,x,S;for(u=0,g=s.length;u<g;u++)if(x=s[u],typeof l[x.chain]>"u"&&(l[x.chain]=[]),isFinite(x.hbondDistanceSq)){var w=x.hbondOther;typeof l[w.chain]>"u"&&(l[w.chain]=[]),Math.abs(w.resi-x.resi)===4&&(l[x.chain][x.resi]="h")}for(p in l)for(_=1;_<l[p].length-1;_++){var c=l[p][_-1],v=l[p][_+1];S=l[p][_],c=="h"&&c==v&&S!=c&&(l[p][_]=c)}for(u=0,g=s.length;u<g;u++)x=s[u],isFinite(x.hbondDistanceSq)&&l[x.chain][x.resi]!="h"&&x.ss!="h"&&(l[x.chain][x.resi]="maybesheet");for(let y=0,b=s.length;y<b;y++)if(x=s[y],isFinite(x.hbondDistanceSq)&&l[x.chain][x.resi]=="maybesheet"){let C=x.hbondOther,E=l[C.chain][C.resi];(E=="maybesheet"||E=="s")&&(l[x.chain][x.resi]="s",l[C.chain][C.resi]="s")}for(let y in l){for(let b=1;b<l[y].length-1;b++){let C=l[y][b-1],E=l[y][b+1];S=l[y][b],C=="s"&&C==E&&S!=C&&(l[y][b]=C)}for(let b=0;b<l[y].length;b++){let C=l[y][b];(C=="h"||C=="s")&&l[y][b-1]!=C&&l[y][b+1]!=C&&delete l[y][b]}}for(u=0,g=s.length;u<g;u++)x=s[u],S=l[x.chain][x.resi],delete x.hbondOther,delete x.hbondDistanceSq,!(typeof S>"u"||S=="maybesheet")&&(x.ss=S,l[x.chain][x.resi-1]!=S&&(x.ssbegin=!0),l[x.chain][x.resi+1]!=S&&(x.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getSinglePDB:()=>_});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/atomNameToElem.ts"),s=r("./src/parsers/utils/bondLength.ts"),o=r("./src/parsers/utils/computeSecondaryStructure.ts"),l=r("./src/parsers/utils/isEmpty.ts"),u=r("./src/parsers/utils/processSymmetries.ts"),g=r("./src/parsers/utils/assignPDBBonds.ts"),p=r("./src/parsers/utils/validateBonds.ts");function _(x,S,w){var c=[],v=S.assignBonds===void 0?!0:S.assignBonds,y=!S.keepH,b=!!S.noSecondaryStructure,C=!S.noComputeSecondaryStructure,E=!S.doAssembly,h=S.altLoc?S.altLoc:"A",f={symmetries:[]},D,M=[],N=[],k,z={};for(let pt=0;pt<x.length;pt++){k=x[pt].replace(/^\s*/,"");var O=k.substring(0,6),I,H,Y;if(O.indexOf("END")==0){if(M=x.slice(pt+1),O=="END")for(var q in w)w.hasOwnProperty(q)&&delete w[q];break}else if(O=="ATOM  "||O=="HETATM"){var G,$,R,V,X,Q,te,we,Pe,xe,Fe,Ae;if(Fe=k.substring(16,17),Fe!=" "&&Fe!=h&&h!="*"||(xe=parseInt(k.substring(6,11)),D=k.substring(12,16).replace(/ /g,""),G=k.substring(17,20).replace(/ /g,""),$=k.substring(21,22),R=parseInt(k.substring(22,26)),V=k.substring(26,27),X=parseFloat(k.substring(30,38)),Q=parseFloat(k.substring(38,46)),te=parseFloat(k.substring(46,54)),Ae=parseFloat(k.substring(60,68)),Pe=k.substring(76,78).replace(/ /g,""),Pe===""||typeof s.bondTable[Pe]>"u"?Pe=(0,a.atomNameToElem)(k.substring(12,14),k[0]=="A"):Pe=Pe[0].toUpperCase()+Pe.substring(1).toLowerCase(),Pe=="H"&&y))continue;O[0]=="H"?we=!0:we=!1,N[xe]=c.length,c.push({resn:G,x:X,y:Q,z:te,elem:Pe,hetflag:we,altLoc:Fe,chain:$,resi:R,icode:V,rescode:R+(V!=" "?"^"+V:""),serial:xe,atom:D,bonds:[],ss:"c",bondOrder:[],properties:{},b:Ae,pdbline:k})}else if(O=="SHEET "){I=k.substring(21,22),H=parseInt(k.substring(22,26)),Y=parseInt(k.substring(33,37)),I in w||(w[I]={}),w[I][H]="s1";for(var be=H+1;be<Y;be++)w[I][be]="s";w[I][Y]="s2"}else if(O=="CONECT"){var Qe=parseInt(k.substring(6,11)),Xe=N[Qe],U=c[Xe],pe=[11,16,21,26];for(let yt=0;yt<4;yt++){var _e=parseInt(k.substring(pe[yt],pe[yt]+5)),ie=N[_e];let le=Xe+":"+ie;var de=c[ie];if(U!==void 0&&de!==void 0)if(!z[le])z[le]=1,(U.bonds.length==0||U.bonds[U.bonds.length-1]!=ie)&&(U.bonds.push(ie),U.bondOrder.push(1));else{z[le]+=1;for(let ue=0;ue<U.bonds.length;ue++)if(U.bonds[ue]==ie){var ye=z[le];ye>=4?U.bondOrder[ue]=1:U.bondOrder[ue]=ye}}}}else if(O=="HELIX "){I=k.substring(19,20),H=parseInt(k.substring(21,25)),Y=parseInt(k.substring(33,37)),I in w||(w[I]={}),w[I][H]="h1";for(let yt=H+1;yt<Y;yt++)w[I][yt]="h";w[I][Y]="h2"}else if(!E&&O=="REMARK"&&k.substring(13,18)=="BIOMT"){var je,Be=new n.Matrix4;for(je=1;je<=3;je++)if(k=x[pt].replace(/^\s*/,""),parseInt(k.substring(18,19))==je)Be.elements[je-1]=parseFloat(k.substring(23,33)),Be.elements[je-1+4]=parseFloat(k.substring(33,43)),Be.elements[je-1+8]=parseFloat(k.substring(43,53)),Be.elements[je-1+12]=parseFloat(k.substring(53)),pt++;else for(;k.substring(13,18)=="BIOMT";)pt++,k=x[pt].replace(/^\s*/,"");Be.elements[3]=0,Be.elements[7]=0,Be.elements[11]=0,Be.elements[15]=1,f.symmetries.push(Be),pt--}else if(O=="CRYST1"){let yt,le,ue,ge,$e,Oe;yt=parseFloat(k.substring(7,15)),le=parseFloat(k.substring(16,24)),ue=parseFloat(k.substring(25,33)),ge=parseFloat(k.substring(34,40)),$e=parseFloat(k.substring(41,47)),Oe=parseFloat(k.substring(48,54)),f.cryst={a:yt,b:le,c:ue,alpha:ge,beta:$e,gamma:Oe}}else if(O=="ANISOU"){let yt=parseInt(k.substring(6,11));var Ce=N[yt],Ie=c[Ce];if(Ie){var Re=k.substring(30).trim().split(/\s+/),Ke={u11:parseInt(Re[0]),u22:parseInt(Re[1]),u33:parseInt(Re[2]),u12:parseInt(Re[3]),u13:parseInt(Re[4]),u23:parseInt(Re[5])};Ie.uMat=Ke}}}if((0,p.validateBonds)(c,N),v&&(0,g.assignPDBBonds)(c),E||(0,u.processSymmetries)(f.symmetries,c,S,f.cryst),C&&!b&&(0,o.computeSecondaryStructure)(c,S.hbondCutoff),!(0,l.isEmpty)(w)){for(let pt=0;pt<c.length;pt++)if(D=c[pt],D!==void 0&&D.chain in w&&D.resi in w[D.chain]){var Ne=w[D.chain][D.resi];D.ss=Ne[0],Ne.length>1&&(Ne[1]=="1"?D.ssbegin=!0:Ne[1]=="2"&&(D.ssend=!0))}}return[c,f,M]}},"./src/parsers/utils/isEmpty.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isEmpty:()=>n});function n(a){var s;for(s in a)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{processSymmetries:()=>a});var n=r("./src/WebGL/index.ts");function a(s,o,l,u){var g=!l.duplicateAssemblyAtoms,p=o.length,_=p,x,S,w;let c=-1;if(l.normalizeAssembly&&u){let h=(0,n.conversionMatrix3)(u.a,u.b,u.c,u.alpha,u.beta,u.gamma),f=new n.Matrix3;for(f.getInverse3(h),x=0;x<s.length;x++){let D=new n.Vector3(0,0,0);for(w=0;w<p;w++){let z=new n.Vector3(o[w].x,o[w].y,o[w].z);z.applyMatrix4(s[x]),z.applyMatrix3(f),D.add(z)}D.divideScalar(p);let M=[D.x,D.y,D.z],N=[0,0,0];for(let z=0;z<3;z++){for(;M[z]<-.001;)M[z]+=1,N[z]+=1;for(;M[z]>1.001;)M[z]-=1,N[z]-=1}let k=new n.Vector3(N[0],N[1],N[2]);k.applyMatrix3(h),s[x].isNearlyIdentity()&&k.lengthSq()>.001&&(c=x),s[x].translate(k)}}if(g){if(s.length>1)for(x=0;x<o.length;x++){var C=[];for(S=0;S<s.length;S++)if(!s[S].isNearlyIdentity()){var E=new n.Vector3;E.set(o[x].x,o[x].y,o[x].z),E.applyMatrix4(s[S]),C.push(E)}o[x].symmetries=C}}else{for(w=0;w<p;w++)o[w].sym=-1;for(x=0;x<s.length;x++)if(!s[x].isNearlyIdentity()&&c!=x){let h=new n.Vector3;for(w=0;w<p;w++){var v=[];for(S=0;S<o[w].bonds.length;S++)v.push(o[w].bonds[S]+_);h.set(o[w].x,o[w].y,o[w].z),h.applyMatrix4(s[x]);var y={};for(var b in o[w])y[b]=o[w][b];y.x=h.x,y.y=h.y,y.z=h.z,y.bonds=v,y.sym=x,y.index=o.length,o.push(y)}_=o.length}else for(w=0;w<p;w++)o[w].sym=x;if(c>=0){let h=new n.Vector3;for(w=0;w<p;w++)h.set(o[w].x,o[w].y,o[w].z),h.applyMatrix4(s[c]),o[w].x=h.x,o[w].y=h.y,o[w].z=h.z}s.length=0}}},"./src/parsers/utils/standardResidues.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{standardResidues:()=>n});let n=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{validateBonds:()=>n});function n(a,s){for(var o=0,l=a.length;o<l;o++)for(var u=a[o],g=0;g<u.bonds.length;g++){var p=u.bonds[g],_=a[p],x=s[u.serial];if(_&&x){var S=_.bonds.indexOf(x);S<0&&(_.bonds.push(x),_.bondOrder.push(u.bondOrder[g]))}}}},"./src/partialCharges.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{applyPartialCharges:()=>a,partialCharges:()=>n});let n={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function a(s,o){if((!o||typeof s.partialCharge>"u")&&s.resn&&s.atom){var l=s.resn+":"+s.atom;s.properties.partialCharge=n[l]}}},"./src/specs.ts":(e,t,r)=>{"use strict";r.r(t)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts");function extend(e,t){for(var r in t)t.hasOwnProperty(r)&&t[r]!==void 0&&(e[r]=t[r]);return e}function deepCopy(e){let t,r,n;if(e==null)return{};if(typeof e!="object"||e===null)return e;t=Array.isArray(e)?[]:{};for(n in e)r=e[n],t[n]=deepCopy(r);return t}function isNumeric(e){var t=typeof e;return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))}function isEmptyObject(e){var t;for(t in e)return!1;return!0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?null:callback}function adjustVolumeStyle(e){e&&(e.volformat&&!(e.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(e.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(e.voldata,e.volformat)),e.volscheme&&(e.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(e.volscheme)))}function getExtent(e,t){var r,n,a,s,o,l,u,g,p,_,x=!t;if(r=n=a=9999,s=o=l=-9999,u=g=p=_=0,e.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var S=0;S<e.length;S++){var w=e[S];if(!(typeof w>"u"||!isFinite(w.x)||!isFinite(w.y)||!isFinite(w.z))&&(_++,u+=w.x,g+=w.y,p+=w.z,r=r<w.x?r:w.x,n=n<w.y?n:w.y,a=a<w.z?a:w.z,s=s>w.x?s:w.x,o=o>w.y?o:w.y,l=l>w.z?l:w.z,w.symmetries&&x))for(var c=0;c<w.symmetries.length;c++)_++,u+=w.symmetries[c].x,g+=w.symmetries[c].y,p+=w.symmetries[c].z,r=r<w.symmetries[c].x?r:w.symmetries[c].x,n=n<w.symmetries[c].y?n:w.symmetries[c].y,a=a<w.symmetries[c].z?a:w.symmetries[c].z,s=s>w.symmetries[c].x?s:w.symmetries[c].x,o=o>w.symmetries[c].y?o:w.symmetries[c].y,l=l>w.symmetries[c].z?l:w.symmetries[c].z}return[[r,n,a],[s,o,l],[u/_,g/_,p/_]]}function getPropertyRange(e,t){for(var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=0,s=e.length;a<s;a++){var o=e[a],l=getAtomProperty(o,t);l!=null&&(l<r&&(r=l),l>n&&(n=l))}return!isFinite(r)&&!isFinite(n)?r=n=0:isFinite(r)?isFinite(n)||(n=r):r=n,[r,n]}class PausableTimer{constructor(t,r,n){this.total_time_run=0,this.fn=t,this.arg=n,this.countdown=r,this.start_time=new Date().getTime(),this.ident=setTimeout(t,r,n)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(e){for(var t=window.atob(e),r=t.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=t.charCodeAt(a);return n}function getAtomProperty(e,t){var r=null;return e.properties&&typeof e.properties[t]<"u"?r=e.properties[t]:typeof e[t]<"u"&&(r=e[t]),r}function mergeGeos(e,t){var r=t.geometry;r!==void 0&&e.geometryGroups.push(r.geometryGroups[0])}function specStringToObject(e){if(typeof e=="object")return e;if(typeof e>"u"||e==null)return e;try{return JSON.parse(e)}catch{}e=e.replace(/%7E/g,"~");var t=function(x){return isNumeric(x)?Math.floor(parseFloat(x))==parseInt(x)||x.indexOf(".")>=0?parseFloat(x):parseInt(x):x==="true"?!0:x==="false"?!1:x},r={};if(e==="all")return r;for(var n=e.split(";"),a=0;a<n.length;a++){var s=n[a].split(":"),o=s[0],l={},u=s[1];if(u)if(u=u.replace(/~/g,"="),u.indexOf("=")!==-1)for(var g=u.split(","),p=0;p<g.length;p++){var _=g[p].split("=",2);l[_[0]]=t(_[1])}else u.indexOf(",")!==-1?l=u.split(","):l=t(u);r[o]=l}return r}function checkStatus(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}function get(e,t){var r=fetch(e).then(checkStatus).then(n=>n.text());return t?r.then(t):r}function getbin(e,t,r,n){var a;return r=="POST"?a=fetch(e,{method:"POST",body:n}).then(s=>checkStatus(s)).then(s=>s.arrayBuffer()):a=fetch(e).then(s=>checkStatus(s)).then(s=>s.arrayBuffer()),t?a.then(t):a}function download(e,t,r,n){var a="",s="",o="",l="",u=null,g=t.addModel();if(e.indexOf(":")<0&&(e.length==4?e="pdb:"+e:isNaN(e)?e="url:"+e:e="cid:"+e),e.substring(0,5)==="mmtf:")s=r&&r.pdbUri?r.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",e=e.substring(5).toUpperCase(),l=s+e,r&&typeof r.noComputeSecondaryStructure>"u"&&(r.noComputeSecondaryStructure=!0),u=new Promise(function(_){getbin(l).then(function(x){g.addMolData(x,"mmtf",r),t.zoomTo(),t.render(),_(g)},function(){console.log("fetch of "+l+" failed.")})});else{if(e.substring(0,4)==="pdb:"){if(a="mmtf",r&&r.format&&(a=r.format),r&&typeof r.noComputeSecondaryStructure>"u"&&(r.noComputeSecondaryStructure=!0),e=e.substring(4).toUpperCase(),!e.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}a=="mmtf"?(o=r&&r.mmtfUri?r.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",l=o+e.toUpperCase()):(s=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",l=s+e+"."+a)}else if(e.substring(0,4)=="cid:"){if(a="sdf",e=e.substring(4),!e.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}l="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else e.substring(0,4)=="url:"&&(l=e.substring(4),a=l);var p=function(_){g.addMolData(_,a,r),t.zoomTo(),t.render()};u=new Promise(function(_){a=="mmtf"?getbin(l).then(function(x){p(x),_(g)}).catch(function(){s=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",l=s+e+".pdb",a="pdb",console.log("falling back to pdb format"),get(l).then(function(x){p(x),_(g)}).catch(function(x){p(""),_(g),console.log("fetch of "+l+" failed: "+x.statusText)})}):get(l).then(function(x){p(x),_(g)}).catch(function(x){p(""),_(g),console.log("fetch of "+l+" failed: "+x.statusText)})})}return n?(u.then(function(_){n(_)}),g):u}function getColorFromStyle(e,t){let r=t.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]<"u")r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r];else if(typeof r=="string"&&r.endsWith("Carbon")){let o=r.substring(0,r.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[o]<"u"){let l=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);l.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[o],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]={prop:"elem",map:l},r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]}}let n=e.color;if(typeof t.color<"u"&&t.color!="spectrum"&&(n=t.color),typeof r<"u"){let o,l;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r]<"u")r=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r],typeof r[e[r.prop]]<"u"&&(n=r.map[e[r.prop]]);else if(typeof r[e[r.prop]]<"u")n=r.map[e[r.prop]];else if(typeof r.prop<"u"&&typeof r.gradient<"u"){o=r.prop;var a=r.gradient;typeof _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[a]<"u"&&(a=new _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[a](r.min,r.max,r.mid?r.mid:r.colors));let u=a.range()||[-1,1];l=getAtomProperty(e,o),l!=null&&(n=a.valueToHex(l,u))}else typeof r.prop<"u"&&typeof r.map<"u"?(o=r.prop,l=getAtomProperty(e,o),typeof r.map[l]<"u"&&(n=r.map[l])):typeof t.colorscheme[e.elem]<"u"?n=t.colorscheme[e.elem]:console.log("Could not interpret colorscheme "+r)}else typeof t.colorfunc<"u"&&(n=t.colorfunc(e));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(n)}function getElement(e){let t=e;return typeof e=="string"?t=document.querySelector("#"+e):typeof e=="object"&&e.get&&(t=e.get(0)),t}},"./node_modules/upng-js/UPNG.js":(e,t,r)=>{(function(){var n={},a;e.exports=n,a=r("./node_modules/upng-js/node_modules/pako/index.js");function s(){typeof process>"u",console.log.apply(console,arguments)}(function(o,l){o.toRGBA8=function(u){var g=u.width,p=u.height;if(u.tabs.acTL==null)return[o.toRGBA8.decodeImage(u.data,g,p,u).buffer];var _=[];u.frames[0].data==null&&(u.frames[0].data=u.data);for(var x,S=new Uint8Array(g*p*4),w=0;w<u.frames.length;w++){var c=u.frames[w],v=c.rect.x,y=c.rect.y,b=c.rect.width,C=c.rect.height,E=o.toRGBA8.decodeImage(c.data,b,C,u);if(w==0?x=E:c.blend==0?o._copyTile(E,b,C,x,g,p,v,y,0):c.blend==1&&o._copyTile(E,b,C,x,g,p,v,y,1),_.push(x.buffer),x=x.slice(0),c.dispose!=0){if(c.dispose==1)o._copyTile(S,b,C,x,g,p,v,y,0);else if(c.dispose==2){for(var h=w-1;u.frames[h].dispose==2;)h--;x=new Uint8Array(_[h]).slice(0)}}}return _},o.toRGBA8.decodeImage=function(u,g,p,_){var x=g*p,S=o.decode._getBPP(_),w=Math.ceil(g*S/8),c=new Uint8Array(x*4),v=new Uint32Array(c.buffer),y=_.ctype,b=_.depth,C=o._bin.readUshort;if(y==6){var E=x<<2;if(b==8)for(var h=0;h<E;h++)c[h]=u[h];if(b==16)for(var h=0;h<E;h++)c[h]=u[h<<1]}else if(y==2){var f=_.tabs.tRNS,D=-1,M=-1,N=-1;if(f&&(D=f[0],M=f[1],N=f[2]),b==8)for(var h=0;h<x;h++){var k=h<<2,z=h*3;c[k]=u[z],c[k+1]=u[z+1],c[k+2]=u[z+2],c[k+3]=255,D!=-1&&u[z]==D&&u[z+1]==M&&u[z+2]==N&&(c[k+3]=0)}if(b==16)for(var h=0;h<x;h++){var k=h<<2,z=h*6;c[k]=u[z],c[k+1]=u[z+2],c[k+2]=u[z+4],c[k+3]=255,D!=-1&&C(u,z)==D&&C(u,z+2)==M&&C(u,z+4)==N&&(c[k+3]=0)}}else if(y==3){var O=_.tabs.PLTE,I=_.tabs.tRNS,H=I?I.length:0;if(b==1)for(var Y=0;Y<p;Y++)for(var q=Y*w,G=Y*g,h=0;h<g;h++){var k=G+h<<2,$=u[q+(h>>3)]>>7-((h&7)<<0)&1,R=3*$;c[k]=O[R],c[k+1]=O[R+1],c[k+2]=O[R+2],c[k+3]=$<H?I[$]:255}if(b==2)for(var Y=0;Y<p;Y++)for(var q=Y*w,G=Y*g,h=0;h<g;h++){var k=G+h<<2,$=u[q+(h>>2)]>>6-((h&3)<<1)&3,R=3*$;c[k]=O[R],c[k+1]=O[R+1],c[k+2]=O[R+2],c[k+3]=$<H?I[$]:255}if(b==4)for(var Y=0;Y<p;Y++)for(var q=Y*w,G=Y*g,h=0;h<g;h++){var k=G+h<<2,$=u[q+(h>>1)]>>4-((h&1)<<2)&15,R=3*$;c[k]=O[R],c[k+1]=O[R+1],c[k+2]=O[R+2],c[k+3]=$<H?I[$]:255}if(b==8)for(var h=0;h<x;h++){var k=h<<2,$=u[h],R=3*$;c[k]=O[R],c[k+1]=O[R+1],c[k+2]=O[R+2],c[k+3]=$<H?I[$]:255}}else if(y==4){if(b==8)for(var h=0;h<x;h++){var k=h<<2,V=h<<1,X=u[V];c[k]=X,c[k+1]=X,c[k+2]=X,c[k+3]=u[V+1]}if(b==16)for(var h=0;h<x;h++){var k=h<<2,V=h<<2,X=u[V];c[k]=X,c[k+1]=X,c[k+2]=X,c[k+3]=u[V+2]}}else if(y==0){var D=_.tabs.tRNS?_.tabs.tRNS:-1;if(b==1)for(var h=0;h<x;h++){var X=255*(u[h>>3]>>7-(h&7)&1),Q=X==D*255?0:255;v[h]=Q<<24|X<<16|X<<8|X}if(b==2)for(var h=0;h<x;h++){var X=85*(u[h>>2]>>6-((h&3)<<1)&3),Q=X==D*85?0:255;v[h]=Q<<24|X<<16|X<<8|X}if(b==4)for(var h=0;h<x;h++){var X=17*(u[h>>1]>>4-((h&1)<<2)&15),Q=X==D*17?0:255;v[h]=Q<<24|X<<16|X<<8|X}if(b==8)for(var h=0;h<x;h++){var X=u[h],Q=X==D?0:255;v[h]=Q<<24|X<<16|X<<8|X}if(b==16)for(var h=0;h<x;h++){var X=u[h<<1],Q=C(u,h<<1)==D?0:255;v[h]=Q<<24|X<<16|X<<8|X}}return c},o.decode=function(u){for(var g=new Uint8Array(u),p=8,_=o._bin,x=_.readUshort,S=_.readUint,w={tabs:{},frames:[]},c=new Uint8Array(g.length),v=0,y,b=0,C=[137,80,78,71,13,10,26,10],E=0;E<8;E++)if(g[E]!=C[E])throw"The input is not a PNG file!";for(;p<g.length;){var h=_.readUint(g,p);p+=4;var f=_.readASCII(g,p,4);if(p+=4,f=="IHDR")o.decode._IHDR(g,p,w);else if(f=="IDAT"){for(var E=0;E<h;E++)c[v+E]=g[p+E];v+=h}else if(f=="acTL")w.tabs[f]={num_frames:S(g,p),num_plays:S(g,p+4)},y=new Uint8Array(g.length);else if(f=="fcTL"){if(b!=0){var D=w.frames[w.frames.length-1];D.data=o.decode._decompress(w,y.slice(0,b),D.rect.width,D.rect.height),b=0}var M={x:S(g,p+12),y:S(g,p+16),width:S(g,p+4),height:S(g,p+8)},N=x(g,p+22);N=x(g,p+20)/(N==0?100:N);var k={rect:M,delay:Math.round(N*1e3),dispose:g[p+24],blend:g[p+25]};w.frames.push(k)}else if(f=="fdAT"){for(var E=0;E<h-4;E++)y[b+E]=g[p+E+4];b+=h-4}else if(f=="pHYs")w.tabs[f]=[_.readUint(g,p),_.readUint(g,p+4),g[p+8]];else if(f=="cHRM"){w.tabs[f]=[];for(var E=0;E<8;E++)w.tabs[f].push(_.readUint(g,p+E*4))}else if(f=="tEXt"){w.tabs[f]==null&&(w.tabs[f]={});var z=_.nextZero(g,p),O=_.readASCII(g,p,z-p),I=_.readASCII(g,z+1,p+h-z-1);w.tabs[f][O]=I}else if(f=="iTXt"){w.tabs[f]==null&&(w.tabs[f]={});var z=0,H=p;z=_.nextZero(g,H);var O=_.readASCII(g,H,z-H);H=z+1;var Y=g[H],q=g[H+1];H+=2,z=_.nextZero(g,H);var G=_.readASCII(g,H,z-H);H=z+1,z=_.nextZero(g,H);var $=_.readUTF8(g,H,z-H);H=z+1;var I=_.readUTF8(g,H,h-(H-p));w.tabs[f][O]=I}else if(f=="PLTE")w.tabs[f]=_.readBytes(g,p,h);else if(f=="hIST"){var R=w.tabs.PLTE.length/3;w.tabs[f]=[];for(var E=0;E<R;E++)w.tabs[f].push(x(g,p+E*2))}else if(f=="tRNS")w.ctype==3?w.tabs[f]=_.readBytes(g,p,h):w.ctype==0?w.tabs[f]=x(g,p):w.ctype==2&&(w.tabs[f]=[x(g,p),x(g,p+2),x(g,p+4)]);else if(f=="gAMA")w.tabs[f]=_.readUint(g,p)/1e5;else if(f=="sRGB")w.tabs[f]=g[p];else if(f=="bKGD")w.ctype==0||w.ctype==4?w.tabs[f]=[x(g,p)]:w.ctype==2||w.ctype==6?w.tabs[f]=[x(g,p),x(g,p+2),x(g,p+4)]:w.ctype==3&&(w.tabs[f]=g[p]);else if(f=="IEND"){if(b!=0){var D=w.frames[w.frames.length-1];D.data=o.decode._decompress(w,y.slice(0,b),D.rect.width,D.rect.height),b=0}w.data=o.decode._decompress(w,c,w.width,w.height);break}p+=h;var V=_.readUint(g,p);p+=4}return delete w.compress,delete w.interlace,delete w.filter,w},o.decode._decompress=function(u,g,p,_){return u.compress==0&&(g=o.decode._inflate(g)),u.interlace==0?g=o.decode._filterZero(g,u,0,p,_):u.interlace==1&&(g=o.decode._readInterlace(g,u)),g},o.decode._inflate=function(u){return l.inflate(u)},o.decode._readInterlace=function(u,g){for(var p=g.width,_=g.height,x=o.decode._getBPP(g),S=x>>3,w=Math.ceil(p*x/8),c=new Uint8Array(_*w),v=0,y=[0,0,4,0,2,0,1],b=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],E=[8,8,4,4,2,2,1],h=0;h<7;){for(var f=C[h],D=E[h],M=0,N=0,k=y[h];k<_;)k+=f,N++;for(var z=b[h];z<p;)z+=D,M++;var O=Math.ceil(M*x/8);o.decode._filterZero(u,g,v,M,N);for(var I=0,H=y[h];H<_;){for(var Y=b[h],q=v+I*O<<3;Y<p;){if(x==1){var G=u[q>>3];G=G>>7-(q&7)&1,c[H*w+(Y>>3)]|=G<<7-((Y&3)<<0)}if(x==2){var G=u[q>>3];G=G>>6-(q&7)&3,c[H*w+(Y>>2)]|=G<<6-((Y&3)<<1)}if(x==4){var G=u[q>>3];G=G>>4-(q&7)&15,c[H*w+(Y>>1)]|=G<<4-((Y&1)<<2)}if(x>=8)for(var $=H*w+Y*S,R=0;R<S;R++)c[$+R]=u[(q>>3)+R];q+=x,Y+=D}I++,H+=f}M*N!=0&&(v+=N*(1+O)),h=h+1}return c},o.decode._getBPP=function(u){var g=[1,null,3,1,2,null,4][u.ctype];return g*u.depth},o.decode._filterZero=function(u,g,p,_,x){var S=o.decode._getBPP(g),w=Math.ceil(_*S/8),c=o.decode._paeth;S=Math.ceil(S/8);for(var v=0;v<x;v++){var y=p+v*w,b=y+v+1,C=u[b-1];if(C==0)for(var E=0;E<w;E++)u[y+E]=u[b+E];else if(C==1){for(var E=0;E<S;E++)u[y+E]=u[b+E];for(var E=S;E<w;E++)u[y+E]=u[b+E]+u[y+E-S]&255}else if(v==0){for(var E=0;E<S;E++)u[y+E]=u[b+E];if(C==2)for(var E=S;E<w;E++)u[y+E]=u[b+E]&255;if(C==3)for(var E=S;E<w;E++)u[y+E]=u[b+E]+(u[y+E-S]>>1)&255;if(C==4)for(var E=S;E<w;E++)u[y+E]=u[b+E]+c(u[y+E-S],0,0)&255}else{if(C==2)for(var E=0;E<w;E++)u[y+E]=u[b+E]+u[y+E-w]&255;if(C==3){for(var E=0;E<S;E++)u[y+E]=u[b+E]+(u[y+E-w]>>1)&255;for(var E=S;E<w;E++)u[y+E]=u[b+E]+(u[y+E-w]+u[y+E-S]>>1)&255}if(C==4){for(var E=0;E<S;E++)u[y+E]=u[b+E]+c(0,u[y+E-w],0)&255;for(var E=S;E<w;E++)u[y+E]=u[b+E]+c(u[y+E-S],u[y+E-w],u[y+E-S-w])&255}}}return u},o.decode._paeth=function(u,g,p){var _=u+g-p,x=Math.abs(_-u),S=Math.abs(_-g),w=Math.abs(_-p);return x<=S&&x<=w?u:S<=w?g:p},o.decode._IHDR=function(u,g,p){var _=o._bin;p.width=_.readUint(u,g),g+=4,p.height=_.readUint(u,g),g+=4,p.depth=u[g],g++,p.ctype=u[g],g++,p.compress=u[g],g++,p.filter=u[g],g++,p.interlace=u[g],g++},o._bin={nextZero:function(u,g){for(;u[g]!=0;)g++;return g},readUshort:function(u,g){return u[g]<<8|u[g+1]},writeUshort:function(u,g,p){u[g]=p>>8&255,u[g+1]=p&255},readUint:function(u,g){return u[g]*16777216+(u[g+1]<<16|u[g+2]<<8|u[g+3])},writeUint:function(u,g,p){u[g]=p>>24&255,u[g+1]=p>>16&255,u[g+2]=p>>8&255,u[g+3]=p&255},readASCII:function(u,g,p){for(var _="",x=0;x<p;x++)_+=String.fromCharCode(u[g+x]);return _},writeASCII:function(u,g,p){for(var _=0;_<p.length;_++)u[g+_]=p.charCodeAt(_)},readBytes:function(u,g,p){for(var _=[],x=0;x<p;x++)_.push(u[g+x]);return _},pad:function(u){return u.length<2?"0"+u:u},readUTF8:function(u,g,p){for(var _="",x,S=0;S<p;S++)_+="%"+o._bin.pad(u[g+S].toString(16));try{x=decodeURIComponent(_)}catch{return o._bin.readASCII(u,g,p)}return x}},o._copyTile=function(u,g,p,_,x,S,w,c,v){for(var y=Math.min(g,x),b=Math.min(p,S),C=0,E=0,h=0;h<b;h++)for(var f=0;f<y;f++)if(w>=0&&c>=0?(C=h*g+f<<2,E=(c+h)*x+w+f<<2):(C=(-c+h)*g-w+f<<2,E=h*x+f<<2),v==0)_[E]=u[C],_[E+1]=u[C+1],_[E+2]=u[C+2],_[E+3]=u[C+3];else if(v==1){var D=u[C+3]*.00392156862745098,M=u[C]*D,N=u[C+1]*D,k=u[C+2]*D,z=_[E+3]*(1/255),O=_[E]*z,I=_[E+1]*z,H=_[E+2]*z,Y=1-D,q=D+z*Y,G=q==0?0:1/q;_[E+3]=255*q,_[E+0]=(M+O*Y)*G,_[E+1]=(N+I*Y)*G,_[E+2]=(k+H*Y)*G}else if(v==2){var D=u[C+3],M=u[C],N=u[C+1],k=u[C+2],z=_[E+3],O=_[E],I=_[E+1],H=_[E+2];D==z&&M==O&&N==I&&k==H?(_[E]=0,_[E+1]=0,_[E+2]=0,_[E+3]=0):(_[E]=M,_[E+1]=N,_[E+2]=k,_[E+3]=D)}else if(v==3){var D=u[C+3],M=u[C],N=u[C+1],k=u[C+2],z=_[E+3],O=_[E],I=_[E+1],H=_[E+2];if(D==z&&M==O&&N==I&&k==H)continue;if(D<220&&z>20)return!1}return!0},o.encode=function(u,g,p,_,x,S){_==null&&(_=0),S==null&&(S=!1);for(var w=new Uint8Array(u[0].byteLength*u.length+100),c=[137,80,78,71,13,10,26,10],v=0;v<8;v++)w[v]=c[v];var y=8,b=o._bin,C=o.crc.crc,E=b.writeUint,h=b.writeUshort,f=b.writeASCII,D=o.encode.compressPNG(u,g,p,_,S);E(w,y,13),y+=4,f(w,y,"IHDR"),y+=4,E(w,y,g),y+=4,E(w,y,p),y+=4,w[y]=D.depth,y++,w[y]=D.ctype,y++,w[y]=0,y++,w[y]=0,y++,w[y]=0,y++,E(w,y,C(w,y-17,17)),y+=4,E(w,y,1),y+=4,f(w,y,"sRGB"),y+=4,w[y]=1,y++,E(w,y,C(w,y-5,5)),y+=4;var M=u.length>1;if(M&&(E(w,y,8),y+=4,f(w,y,"acTL"),y+=4,E(w,y,u.length),y+=4,E(w,y,0),y+=4,E(w,y,C(w,y-12,12)),y+=4),D.ctype==3){var N=D.plte.length;E(w,y,N*3),y+=4,f(w,y,"PLTE"),y+=4;for(var v=0;v<N;v++){var k=v*3,z=D.plte[v],O=z&255,I=z>>8&255,H=z>>16&255;w[y+k+0]=O,w[y+k+1]=I,w[y+k+2]=H}if(y+=N*3,E(w,y,C(w,y-N*3-4,N*3+4)),y+=4,D.gotAlpha){E(w,y,N),y+=4,f(w,y,"tRNS"),y+=4;for(var v=0;v<N;v++)w[y+v]=D.plte[v]>>24&255;y+=N,E(w,y,C(w,y-N-4,N+4)),y+=4}}for(var Y=0,q=0;q<D.frames.length;q++){var G=D.frames[q];M&&(E(w,y,26),y+=4,f(w,y,"fcTL"),y+=4,E(w,y,Y++),y+=4,E(w,y,G.rect.width),y+=4,E(w,y,G.rect.height),y+=4,E(w,y,G.rect.x),y+=4,E(w,y,G.rect.y),y+=4,h(w,y,x[q]),y+=2,h(w,y,1e3),y+=2,w[y]=G.dispose,y++,w[y]=G.blend,y++,E(w,y,C(w,y-30,30)),y+=4);var $=G.cimg,N=$.length;E(w,y,N+(q==0?0:4)),y+=4;var R=y;f(w,y,q==0?"IDAT":"fdAT"),y+=4,q!=0&&(E(w,y,Y++),y+=4);for(var v=0;v<N;v++)w[y+v]=$[v];y+=N,E(w,y,C(w,R,y-R)),y+=4}return E(w,y,0),y+=4,f(w,y,"IEND"),y+=4,E(w,y,C(w,y-4,4)),y+=4,w.buffer.slice(0,y)},o.encode.compressPNG=function(u,g,p,_,x){for(var S=o.encode.compress(u,g,p,_,!1,x),w=0;w<u.length;w++){var c=S.frames[w],v=c.rect.width,y=c.rect.height,b=c.bpl,C=c.bpp,E=new Uint8Array(y*b+y);c.cimg=o.encode._filterZero(c.img,y,C,b,E)}return S},o.encode.compress=function(u,g,p,_,x,S){S==null&&(S=!1);for(var w=6,c=8,v=4,y=255,b=0;b<u.length;b++)for(var C=new Uint8Array(u[b]),E=C.length,h=0;h<E;h+=4)y&=C[h+3];var f=y!=255,D={},M=[];if(u.length!=0&&(D[0]=0,M.push(0),_!=0&&_--),_!=0){var N=o.quantize(u,_,x);u=N.bufs;for(var h=0;h<N.plte.length;h++){var k=N.plte[h].est.rgba;D[k]==null&&(D[k]=M.length,M.push(k))}}else for(var b=0;b<u.length;b++)for(var z=new Uint32Array(u[b]),E=z.length,h=0;h<E;h++){var k=z[h];if((h<g||k!=z[h-1]&&k!=z[h-g])&&D[k]==null&&(D[k]=M.length,M.push(k),M.length>=300))break}var O=f?x:!1,I=M.length;I<=256&&S==!1&&(I<=2?c=1:I<=4?c=2:I<=16?c=4:c=8,x&&(c=8),f=!0);for(var H=[],b=0;b<u.length;b++){var Y=new Uint8Array(u[b]),q=new Uint32Array(Y.buffer),G=0,$=0,R=g,V=p,X=0;if(b!=0&&!O){for(var Q=x||b==1||H[H.length-2].dispose==2?1:2,te=0,we=1e9,Pe=0;Pe<Q;Pe++){for(var _e=new Uint8Array(u[b-1-Pe]),xe=new Uint32Array(u[b-1-Pe]),Fe=g,Ae=p,be=-1,Qe=-1,Xe=0;Xe<p;Xe++)for(var U=0;U<g;U++){var h=Xe*g+U;q[h]!=xe[h]&&(U<Fe&&(Fe=U),U>be&&(be=U),Xe<Ae&&(Ae=Xe),Xe>Qe&&(Qe=Xe))}var pe=be==-1?1:(be-Fe+1)*(Qe-Ae+1);pe<we&&(we=pe,te=Pe,be==-1?(G=$=0,R=V=1):(G=Fe,$=Ae,R=be-Fe+1,V=Qe-Ae+1))}var _e=new Uint8Array(u[b-1-te]);te==1&&(H[H.length-1].dispose=2);var ie=new Uint8Array(R*V*4),de=new Uint32Array(ie.buffer);o._copyTile(_e,g,p,ie,R,V,-G,-$,0),o._copyTile(Y,g,p,ie,R,V,-G,-$,3)?(o._copyTile(Y,g,p,ie,R,V,-G,-$,2),X=1):(o._copyTile(Y,g,p,ie,R,V,-G,-$,0),X=0),Y=ie,q=new Uint32Array(Y.buffer)}var ye=4*R;if(I<=256&&S==!1){ye=Math.ceil(c*R/8);for(var ie=new Uint8Array(ye*V),Xe=0;Xe<V;Xe++){var h=Xe*ye,je=Xe*R;if(c==8)for(var U=0;U<R;U++)ie[h+U]=D[q[je+U]];else if(c==4)for(var U=0;U<R;U++)ie[h+(U>>1)]|=D[q[je+U]]<<4-(U&1)*4;else if(c==2)for(var U=0;U<R;U++)ie[h+(U>>2)]|=D[q[je+U]]<<6-(U&3)*2;else if(c==1)for(var U=0;U<R;U++)ie[h+(U>>3)]|=D[q[je+U]]<<7-(U&7)*1}Y=ie,w=3,v=1}else if(f==!1&&u.length==1){for(var ie=new Uint8Array(R*V*3),Be=R*V,h=0;h<Be;h++){var Ce=h*3,Ie=h*4;ie[Ce]=Y[Ie],ie[Ce+1]=Y[Ie+1],ie[Ce+2]=Y[Ie+2]}Y=ie,w=2,v=3,ye=3*R}H.push({rect:{x:G,y:$,width:R,height:V},img:Y,bpl:ye,bpp:v,blend:X,dispose:O?1:0})}return{ctype:w,depth:c,plte:M,gotAlpha:f,frames:H}},o.encode._filterZero=function(u,g,p,_,x){for(var S=[],w=0;w<5;w++)if(!(g*_>5e5&&(w==2||w==3||w==4))){for(var c=0;c<g;c++)o.encode._filterLine(x,u,c,_,p,w);if(S.push(l.deflate(x)),p==1)break}for(var v,y=1e9,b=0;b<S.length;b++)S[b].length<y&&(v=b,y=S[b].length);return S[v]},o.encode._filterLine=function(u,g,p,_,x,S){var w=p*_,c=w+p,v=o.decode._paeth;if(u[c]=S,c++,S==0)for(var y=0;y<_;y++)u[c+y]=g[w+y];else if(S==1){for(var y=0;y<x;y++)u[c+y]=g[w+y];for(var y=x;y<_;y++)u[c+y]=g[w+y]-g[w+y-x]+256&255}else if(p==0){for(var y=0;y<x;y++)u[c+y]=g[w+y];if(S==2)for(var y=x;y<_;y++)u[c+y]=g[w+y];if(S==3)for(var y=x;y<_;y++)u[c+y]=g[w+y]-(g[w+y-x]>>1)+256&255;if(S==4)for(var y=x;y<_;y++)u[c+y]=g[w+y]-v(g[w+y-x],0,0)+256&255}else{if(S==2)for(var y=0;y<_;y++)u[c+y]=g[w+y]+256-g[w+y-_]&255;if(S==3){for(var y=0;y<x;y++)u[c+y]=g[w+y]+256-(g[w+y-_]>>1)&255;for(var y=x;y<_;y++)u[c+y]=g[w+y]+256-(g[w+y-_]+g[w+y-x]>>1)&255}if(S==4){for(var y=0;y<x;y++)u[c+y]=g[w+y]+256-v(0,g[w+y-_],0)&255;for(var y=x;y<_;y++)u[c+y]=g[w+y]+256-v(g[w+y-x],g[w+y-_],g[w+y-x-_])&255}}},o.crc={table:function(){for(var u=new Uint32Array(256),g=0;g<256;g++){for(var p=g,_=0;_<8;_++)p&1?p=3988292384^p>>>1:p=p>>>1;u[g]=p}return u}(),update:function(u,g,p,_){for(var x=0;x<_;x++)u=o.crc.table[(u^g[p+x])&255]^u>>>8;return u},crc:function(u,g,p){return o.crc.update(4294967295,u,g,p)^4294967295}},o.quantize=function(u,g,p){for(var _=[],x=0,S=0;S<u.length;S++)_.push(o.encode.alphaMul(new Uint8Array(u[S]),p)),x+=u[S].byteLength;for(var w=new Uint8Array(x),c=new Uint32Array(w.buffer),v=0,S=0;S<_.length;S++){for(var y=_[S],b=y.length,C=0;C<b;C++)w[v+C]=y[C];v+=b}var E={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=o.quantize.stats(w,E.i0,E.i1),E.est=o.quantize.estats(E.bst);for(var h=[E];h.length<g;){for(var f=0,D=0,S=0;S<h.length;S++)h[S].est.L>f&&(f=h[S].est.L,D=S);if(f<.001)break;var M=h[D],N=o.quantize.splitPixels(w,c,M.i0,M.i1,M.est.e,M.est.eMq255),k={i0:M.i0,i1:N,bst:null,est:null,tdst:0,left:null,right:null};k.bst=o.quantize.stats(w,k.i0,k.i1),k.est=o.quantize.estats(k.bst);var z={i0:N,i1:M.i1,bst:null,est:null,tdst:0,left:null,right:null};z.bst={R:[],m:[],N:M.bst.N-k.bst.N};for(var S=0;S<16;S++)z.bst.R[S]=M.bst.R[S]-k.bst.R[S];for(var S=0;S<4;S++)z.bst.m[S]=M.bst.m[S]-k.bst.m[S];z.est=o.quantize.estats(z.bst),M.left=k,M.right=z,h[D]=k,h.push(z)}h.sort(function(we,Pe){return Pe.bst.N-we.bst.N});for(var O=0;O<_.length;O++){for(var I=o.quantize.planeDst,H=new Uint8Array(_[O].buffer),Y=new Uint32Array(_[O].buffer),q=H.length,G=[],$=0,S=0;S<q;S+=4){for(var R=H[S]*.00392156862745098,V=H[S+1]*(1/255),X=H[S+2]*(1/255),Q=H[S+3]*(1/255),te=E;te.left;)te=I(te.est,R,V,X,Q)<=0?te.left:te.right;Y[S>>2]=te.est.rgba}_[O]=Y.buffer}return{bufs:_,plte:h}},o.quantize.getNearest=function(u,g,p,_,x){if(u.left==null)return u.tdst=o.quantize.dist(u.est.q,g,p,_,x),u;var S=o.quantize.planeDst(u.est,g,p,_,x),w=u.left,c=u.right;S>0&&(w=u.right,c=u.left);var v=o.quantize.getNearest(w,g,p,_,x);if(v.tdst<=S*S)return v;var y=o.quantize.getNearest(c,g,p,_,x);return y.tdst<v.tdst?y:v},o.quantize.planeDst=function(u,g,p,_,x){var S=u.e;return S[0]*g+S[1]*p+S[2]*_+S[3]*x-u.eMq},o.quantize.dist=function(u,g,p,_,x){var S=g-u[0],w=p-u[1],c=_-u[2],v=x-u[3];return S*S+w*w+c*c+v*v},o.quantize.splitPixels=function(u,g,p,_,x,S){var w=o.quantize.vecDot;_-=4;for(var c=0;p<_;){for(;w(u,p,x)<=S;)p+=4;for(;w(u,_,x)>S;)_-=4;if(p>=_)break;var v=g[p>>2];g[p>>2]=g[_>>2],g[_>>2]=v,p+=4,_-=4}for(;w(u,p,x)>S;)p-=4;return p+4},o.quantize.vecDot=function(u,g,p){return u[g]*p[0]+u[g+1]*p[1]+u[g+2]*p[2]+u[g+3]*p[3]},o.quantize.stats=function(u,g,p){for(var _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=[0,0,0,0],S=p-g>>2,w=g;w<p;w+=4){var c=u[w]*.00392156862745098,v=u[w+1]*(1/255),y=u[w+2]*(1/255),b=u[w+3]*(1/255);x[0]+=c,x[1]+=v,x[2]+=y,x[3]+=b,_[0]+=c*c,_[1]+=c*v,_[2]+=c*y,_[3]+=c*b,_[5]+=v*v,_[6]+=v*y,_[7]+=v*b,_[10]+=y*y,_[11]+=y*b,_[15]+=b*b}return _[4]=_[1],_[8]=_[2],_[12]=_[3],_[9]=_[6],_[13]=_[7],_[14]=_[11],{R:_,m:x,N:S}},o.quantize.estats=function(u){var g=u.R,p=u.m,_=u.N,x=p[0],S=p[1],w=p[2],c=p[3],v=_==0?0:1/_,y=[g[0]-x*x*v,g[1]-x*S*v,g[2]-x*w*v,g[3]-x*c*v,g[4]-S*x*v,g[5]-S*S*v,g[6]-S*w*v,g[7]-S*c*v,g[8]-w*x*v,g[9]-w*S*v,g[10]-w*w*v,g[11]-w*c*v,g[12]-c*x*v,g[13]-c*S*v,g[14]-c*w*v,g[15]-c*c*v],b=y,C=o.M4,E=[.5,.5,.5,.5],h=0,f=0;if(_!=0)for(var D=0;D<10&&(E=C.multVec(b,E),f=Math.sqrt(C.dot(E,E)),E=C.sml(1/f,E),!(Math.abs(f-h)<1e-9));D++)h=f;var M=[x*v,S*v,w*v,c*v],N=C.dot(C.sml(255,M),E),k=M[3]<.001?0:1/M[3];return{Cov:y,q:M,e:E,L:h,eMq255:N,eMq:C.dot(E,M),rgba:(Math.round(255*M[3])<<24|Math.round(255*M[2]*k)<<16|Math.round(255*M[1]*k)<<8|Math.round(255*M[0]*k)<<0)>>>0}},o.M4={multVec:function(u,g){return[u[0]*g[0]+u[1]*g[1]+u[2]*g[2]+u[3]*g[3],u[4]*g[0]+u[5]*g[1]+u[6]*g[2]+u[7]*g[3],u[8]*g[0]+u[9]*g[1]+u[10]*g[2]+u[11]*g[3],u[12]*g[0]+u[13]*g[1]+u[14]*g[2]+u[15]*g[3]]},dot:function(u,g){return u[0]*g[0]+u[1]*g[1]+u[2]*g[2]+u[3]*g[3]},sml:function(u,g){return[u*g[0],u*g[1],u*g[2],u*g[3]]}},o.encode.alphaMul=function(u,g){for(var p=new Uint8Array(u.length),_=u.length>>2,x=0;x<_;x++){var S=x<<2,w=u[S+3];g&&(w=w<128?0:255);var c=w*(1/255);p[S+0]=u[S+0]*c,p[S+1]=u[S+1]*c,p[S+2]=u[S+2]*c,p[S+3]=w}return p}})(n,a)})()},"./node_modules/upng-js/node_modules/pako/index.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,a=r("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),l={};n(l,a,s,o),e.exports=l},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),u=Object.prototype.toString,g=0,p=4,_=0,x=1,S=2,w=-1,c=0,v=8;function y(h){if(!(this instanceof y))return new y(h);this.options=a.assign({level:w,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},h||{});var f=this.options;f.raw&&f.windowBits>0?f.windowBits=-f.windowBits:f.gzip&&f.windowBits>0&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var D=n.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(D!==_)throw new Error(o[D]);if(f.header&&n.deflateSetHeader(this.strm,f.header),f.dictionary){var M;if(typeof f.dictionary=="string"?M=s.string2buf(f.dictionary):u.call(f.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(f.dictionary):M=f.dictionary,D=n.deflateSetDictionary(this.strm,M),D!==_)throw new Error(o[D]);this._dict_set=!0}}y.prototype.push=function(h,f){var D=this.strm,M=this.options.chunkSize,N,k;if(this.ended)return!1;k=f===~~f?f:f===!0?p:g,typeof h=="string"?D.input=s.string2buf(h):u.call(h)==="[object ArrayBuffer]"?D.input=new Uint8Array(h):D.input=h,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(M),D.next_out=0,D.avail_out=M),N=n.deflate(D,k),N!==x&&N!==_)return this.onEnd(N),this.ended=!0,!1;(D.avail_out===0||D.avail_in===0&&(k===p||k===S))&&(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(D.output,D.next_out))):this.onData(a.shrinkBuf(D.output,D.next_out)))}while((D.avail_in>0||D.avail_out===0)&&N!==x);return k===p?(N=n.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===_):(k===S&&(this.onEnd(_),D.avail_out=0),!0)},y.prototype.onData=function(h){this.chunks.push(h)},y.prototype.onEnd=function(h){h===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg};function b(h,f){var D=new y(f);if(D.push(h,!0),D.err)throw D.msg||o[D.err];return D.result}function C(h,f){return f=f||{},f.raw=!0,b(h,f)}function E(h,f){return f=f||{},f.gzip=!0,b(h,f)}t.Deflate=y,t.deflate=b,t.deflateRaw=C,t.gzip=E},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),g=r("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),p=Object.prototype.toString;function _(w){if(!(this instanceof _))return new _(w);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},w||{});var c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),c.windowBits>=0&&c.windowBits<16&&!(w&&w.windowBits)&&(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&(c.windowBits&15||(c.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=n.inflateInit2(this.strm,c.windowBits);if(v!==o.Z_OK)throw new Error(l[v]);if(this.header=new g,n.inflateGetHeader(this.strm,this.header),c.dictionary&&(typeof c.dictionary=="string"?c.dictionary=s.string2buf(c.dictionary):p.call(c.dictionary)==="[object ArrayBuffer]"&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(v=n.inflateSetDictionary(this.strm,c.dictionary),v!==o.Z_OK)))throw new Error(l[v])}_.prototype.push=function(w,c){var v=this.strm,y=this.options.chunkSize,b=this.options.dictionary,C,E,h,f,D,M=!1;if(this.ended)return!1;E=c===~~c?c:c===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof w=="string"?v.input=s.binstring2buf(w):p.call(w)==="[object ArrayBuffer]"?v.input=new Uint8Array(w):v.input=w,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new a.Buf8(y),v.next_out=0,v.avail_out=y),C=n.inflate(v,o.Z_NO_FLUSH),C===o.Z_NEED_DICT&&b&&(C=n.inflateSetDictionary(this.strm,b)),C===o.Z_BUF_ERROR&&M===!0&&(C=o.Z_OK,M=!1),C!==o.Z_STREAM_END&&C!==o.Z_OK)return this.onEnd(C),this.ended=!0,!1;v.next_out&&(v.avail_out===0||C===o.Z_STREAM_END||v.avail_in===0&&(E===o.Z_FINISH||E===o.Z_SYNC_FLUSH))&&(this.options.to==="string"?(h=s.utf8border(v.output,v.next_out),f=v.next_out-h,D=s.buf2string(v.output,h),v.next_out=f,v.avail_out=y-f,f&&a.arraySet(v.output,v.output,h,f,0),this.onData(D)):this.onData(a.shrinkBuf(v.output,v.next_out))),v.avail_in===0&&v.avail_out===0&&(M=!0)}while((v.avail_in>0||v.avail_out===0)&&C!==o.Z_STREAM_END);return C===o.Z_STREAM_END&&(E=o.Z_FINISH),E===o.Z_FINISH?(C=n.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===o.Z_OK):(E===o.Z_SYNC_FLUSH&&(this.onEnd(o.Z_OK),v.avail_out=0),!0)},_.prototype.onData=function(w){this.chunks.push(w)},_.prototype.onEnd=function(w){w===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg};function x(w,c){var v=new _(c);if(v.push(w,!0),v.err)throw v.msg||l[v.err];return v.result}function S(w,c){return c=c||{},c.raw=!0,x(w,c)}t.Inflate=_,t.inflate=x,t.inflateRaw=S,t.ungzip=x},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(e,t)=>{"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,l){return Object.prototype.hasOwnProperty.call(o,l)}t.assign=function(o){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var g in u)n(u,g)&&(o[g]=u[g])}}return o},t.shrinkBuf=function(o,l){return o.length===l?o:o.subarray?o.subarray(0,l):(o.length=l,o)};var a={arraySet:function(o,l,u,g,p){if(l.subarray&&o.subarray){o.set(l.subarray(u,u+g),p);return}for(var _=0;_<g;_++)o[p+_]=l[u+_]},flattenChunks:function(o){var l,u,g,p,_,x;for(g=0,l=0,u=o.length;l<u;l++)g+=o[l].length;for(x=new Uint8Array(g),p=0,l=0,u=o.length;l<u;l++)_=o[l],x.set(_,p),p+=_.length;return x}},s={arraySet:function(o,l,u,g,p){for(var _=0;_<g;_++)o[p+_]=l[u+_]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,t.string2buf=function(g){var p,_,x,S,w,c=g.length,v=0;for(S=0;S<c;S++)_=g.charCodeAt(S),(_&64512)===55296&&S+1<c&&(x=g.charCodeAt(S+1),(x&64512)===56320&&(_=65536+(_-55296<<10)+(x-56320),S++)),v+=_<128?1:_<2048?2:_<65536?3:4;for(p=new n.Buf8(v),w=0,S=0;w<v;S++)_=g.charCodeAt(S),(_&64512)===55296&&S+1<c&&(x=g.charCodeAt(S+1),(x&64512)===56320&&(_=65536+(_-55296<<10)+(x-56320),S++)),_<128?p[w++]=_:_<2048?(p[w++]=192|_>>>6,p[w++]=128|_&63):_<65536?(p[w++]=224|_>>>12,p[w++]=128|_>>>6&63,p[w++]=128|_&63):(p[w++]=240|_>>>18,p[w++]=128|_>>>12&63,p[w++]=128|_>>>6&63,p[w++]=128|_&63);return p};function u(g,p){if(p<65534&&(g.subarray&&s||!g.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(g,p));for(var _="",x=0;x<p;x++)_+=String.fromCharCode(g[x]);return _}t.buf2binstring=function(g){return u(g,g.length)},t.binstring2buf=function(g){for(var p=new n.Buf8(g.length),_=0,x=p.length;_<x;_++)p[_]=g.charCodeAt(_);return p},t.buf2string=function(g,p){var _,x,S,w,c=p||g.length,v=new Array(c*2);for(x=0,_=0;_<c;){if(S=g[_++],S<128){v[x++]=S;continue}if(w=o[S],w>4){v[x++]=65533,_+=w-1;continue}for(S&=w===2?31:w===3?15:7;w>1&&_<c;)S=S<<6|g[_++]&63,w--;if(w>1){v[x++]=65533;continue}S<65536?v[x++]=S:(S-=65536,v[x++]=55296|S>>10&1023,v[x++]=56320|S&1023)}return u(v,x)},t.utf8border=function(g,p){var _;for(p=p||g.length,p>g.length&&(p=g.length),_=p-1;_>=0&&(g[_]&192)===128;)_--;return _<0||_===0?p:_+o[g[_]]>p?_:p}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":e=>{"use strict";function t(r,n,a,s){for(var o=r&65535|0,l=r>>>16&65535|0,u=0;a!==0;){u=a>2e3?2e3:a,a-=u;do o=o+n[s++]|0,l=l+o|0;while(--u);o%=65521,l%=65521}return o|l<<16|0}e.exports=t},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":e=>{"use strict";function t(){for(var a,s=[],o=0;o<256;o++){a=o;for(var l=0;l<8;l++)a=a&1?3988292384^a>>>1:a>>>1;s[o]=a}return s}var r=t();function n(a,s,o,l){var u=r,g=l+o;a^=-1;for(var p=l;p<g;p++)a=a>>>8^u[(a^s[p])&255];return a^-1}e.exports=n},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),u=0,g=1,p=3,_=4,x=5,S=0,w=1,c=-2,v=-3,y=-5,b=-1,C=1,E=2,h=3,f=4,D=0,M=2,N=8,k=9,z=15,O=8,I=29,H=256,Y=H+1+I,q=30,G=19,$=2*Y+1,R=15,V=3,X=258,Q=X+V+1,te=32,we=42,Pe=69,xe=73,Fe=91,Ae=103,be=113,Qe=666,Xe=1,U=2,pe=3,_e=4,ie=3;function de(W,Ve){return W.msg=l[Ve],Ve}function ye(W){return(W<<1)-(W>4?9:0)}function je(W){for(var Ve=W.length;--Ve>=0;)W[Ve]=0}function Be(W){var Ve=W.state,Ye=Ve.pending;Ye>W.avail_out&&(Ye=W.avail_out),Ye!==0&&(n.arraySet(W.output,Ve.pending_buf,Ve.pending_out,Ye,W.next_out),W.next_out+=Ye,Ve.pending_out+=Ye,W.total_out+=Ye,W.avail_out-=Ye,Ve.pending-=Ye,Ve.pending===0&&(Ve.pending_out=0))}function Ce(W,Ve){a._tr_flush_block(W,W.block_start>=0?W.block_start:-1,W.strstart-W.block_start,Ve),W.block_start=W.strstart,Be(W.strm)}function Ie(W,Ve){W.pending_buf[W.pending++]=Ve}function Re(W,Ve){W.pending_buf[W.pending++]=Ve>>>8&255,W.pending_buf[W.pending++]=Ve&255}function Ke(W,Ve,Ye,ce){var ze=W.avail_in;return ze>ce&&(ze=ce),ze===0?0:(W.avail_in-=ze,n.arraySet(Ve,W.input,W.next_in,ze,Ye),W.state.wrap===1?W.adler=s(W.adler,Ve,ze,Ye):W.state.wrap===2&&(W.adler=o(W.adler,Ve,ze,Ye)),W.next_in+=ze,W.total_in+=ze,ze)}function Ne(W,Ve){var Ye=W.max_chain_length,ce=W.strstart,ze,tt,Lt=W.prev_length,Mt=W.nice_match,st=W.strstart>W.w_size-Q?W.strstart-(W.w_size-Q):0,Jt=W.window,Zr=W.w_mask,Yt=W.prev,er=W.strstart+X,Nt=Jt[ce+Lt-1],Or=Jt[ce+Lt];W.prev_length>=W.good_match&&(Ye>>=2),Mt>W.lookahead&&(Mt=W.lookahead);do if(ze=Ve,!(Jt[ze+Lt]!==Or||Jt[ze+Lt-1]!==Nt||Jt[ze]!==Jt[ce]||Jt[++ze]!==Jt[ce+1])){ce+=2,ze++;do;while(Jt[++ce]===Jt[++ze]&&Jt[++ce]===Jt[++ze]&&Jt[++ce]===Jt[++ze]&&Jt[++ce]===Jt[++ze]&&Jt[++ce]===Jt[++ze]&&Jt[++ce]===Jt[++ze]&&Jt[++ce]===Jt[++ze]&&Jt[++ce]===Jt[++ze]&&ce<er);if(tt=X-(er-ce),ce=er-X,tt>Lt){if(W.match_start=Ve,Lt=tt,tt>=Mt)break;Nt=Jt[ce+Lt-1],Or=Jt[ce+Lt]}}while((Ve=Yt[Ve&Zr])>st&&--Ye!==0);return Lt<=W.lookahead?Lt:W.lookahead}function pt(W){var Ve=W.w_size,Ye,ce,ze,tt,Lt;do{if(tt=W.window_size-W.lookahead-W.strstart,W.strstart>=Ve+(Ve-Q)){n.arraySet(W.window,W.window,Ve,Ve,0),W.match_start-=Ve,W.strstart-=Ve,W.block_start-=Ve,ce=W.hash_size,Ye=ce;do ze=W.head[--Ye],W.head[Ye]=ze>=Ve?ze-Ve:0;while(--ce);ce=Ve,Ye=ce;do ze=W.prev[--Ye],W.prev[Ye]=ze>=Ve?ze-Ve:0;while(--ce);tt+=Ve}if(W.strm.avail_in===0)break;if(ce=Ke(W.strm,W.window,W.strstart+W.lookahead,tt),W.lookahead+=ce,W.lookahead+W.insert>=V)for(Lt=W.strstart-W.insert,W.ins_h=W.window[Lt],W.ins_h=(W.ins_h<<W.hash_shift^W.window[Lt+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[Lt+V-1])&W.hash_mask,W.prev[Lt&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=Lt,Lt++,W.insert--,!(W.lookahead+W.insert<V)););}while(W.lookahead<Q&&W.strm.avail_in!==0)}function yt(W,Ve){var Ye=65535;for(Ye>W.pending_buf_size-5&&(Ye=W.pending_buf_size-5);;){if(W.lookahead<=1){if(pt(W),W.lookahead===0&&Ve===u)return Xe;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var ce=W.block_start+Ye;if((W.strstart===0||W.strstart>=ce)&&(W.lookahead=W.strstart-ce,W.strstart=ce,Ce(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-Q&&(Ce(W,!1),W.strm.avail_out===0))return Xe}return W.insert=0,Ve===_?(Ce(W,!0),W.strm.avail_out===0?pe:_e):(W.strstart>W.block_start&&(Ce(W,!1),W.strm.avail_out===0),Xe)}function le(W,Ve){for(var Ye,ce;;){if(W.lookahead<Q){if(pt(W),W.lookahead<Q&&Ve===u)return Xe;if(W.lookahead===0)break}if(Ye=0,W.lookahead>=V&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),Ye!==0&&W.strstart-Ye<=W.w_size-Q&&(W.match_length=Ne(W,Ye)),W.match_length>=V)if(ce=a._tr_tally(W,W.strstart-W.match_start,W.match_length-V),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=V){W.match_length--;do W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart;while(--W.match_length!==0);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else ce=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(ce&&(Ce(W,!1),W.strm.avail_out===0))return Xe}return W.insert=W.strstart<V-1?W.strstart:V-1,Ve===_?(Ce(W,!0),W.strm.avail_out===0?pe:_e):W.last_lit&&(Ce(W,!1),W.strm.avail_out===0)?Xe:U}function ue(W,Ve){for(var Ye,ce,ze;;){if(W.lookahead<Q){if(pt(W),W.lookahead<Q&&Ve===u)return Xe;if(W.lookahead===0)break}if(Ye=0,W.lookahead>=V&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=V-1,Ye!==0&&W.prev_length<W.max_lazy_match&&W.strstart-Ye<=W.w_size-Q&&(W.match_length=Ne(W,Ye),W.match_length<=5&&(W.strategy===C||W.match_length===V&&W.strstart-W.match_start>4096)&&(W.match_length=V-1)),W.prev_length>=V&&W.match_length<=W.prev_length){ze=W.strstart+W.lookahead-V,ce=a._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-V),W.lookahead-=W.prev_length-1,W.prev_length-=2;do++W.strstart<=ze&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart);while(--W.prev_length!==0);if(W.match_available=0,W.match_length=V-1,W.strstart++,ce&&(Ce(W,!1),W.strm.avail_out===0))return Xe}else if(W.match_available){if(ce=a._tr_tally(W,0,W.window[W.strstart-1]),ce&&Ce(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return Xe}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(ce=a._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<V-1?W.strstart:V-1,Ve===_?(Ce(W,!0),W.strm.avail_out===0?pe:_e):W.last_lit&&(Ce(W,!1),W.strm.avail_out===0)?Xe:U}function ge(W,Ve){for(var Ye,ce,ze,tt,Lt=W.window;;){if(W.lookahead<=X){if(pt(W),W.lookahead<=X&&Ve===u)return Xe;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=V&&W.strstart>0&&(ze=W.strstart-1,ce=Lt[ze],ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze])){tt=W.strstart+X;do;while(ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ze<tt);W.match_length=X-(tt-ze),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=V?(Ye=a._tr_tally(W,1,W.match_length-V),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(Ye=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),Ye&&(Ce(W,!1),W.strm.avail_out===0))return Xe}return W.insert=0,Ve===_?(Ce(W,!0),W.strm.avail_out===0?pe:_e):W.last_lit&&(Ce(W,!1),W.strm.avail_out===0)?Xe:U}function $e(W,Ve){for(var Ye;;){if(W.lookahead===0&&(pt(W),W.lookahead===0)){if(Ve===u)return Xe;break}if(W.match_length=0,Ye=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,Ye&&(Ce(W,!1),W.strm.avail_out===0))return Xe}return W.insert=0,Ve===_?(Ce(W,!0),W.strm.avail_out===0?pe:_e):W.last_lit&&(Ce(W,!1),W.strm.avail_out===0)?Xe:U}function Oe(W,Ve,Ye,ce,ze){this.good_length=W,this.max_lazy=Ve,this.nice_length=Ye,this.max_chain=ce,this.func=ze}var at;at=[new Oe(0,0,0,0,yt),new Oe(4,4,8,4,le),new Oe(4,5,16,8,le),new Oe(4,6,32,32,le),new Oe(4,4,16,16,ue),new Oe(8,16,32,32,ue),new Oe(8,16,128,128,ue),new Oe(8,32,128,256,ue),new Oe(32,128,258,1024,ue),new Oe(32,258,258,4096,ue)];function lt(W){W.window_size=2*W.w_size,je(W.head),W.max_lazy_match=at[W.level].max_lazy,W.good_match=at[W.level].good_length,W.nice_match=at[W.level].nice_length,W.max_chain_length=at[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=V-1,W.match_available=0,W.ins_h=0}function se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16($*2),this.dyn_dtree=new n.Buf16((2*q+1)*2),this.bl_tree=new n.Buf16((2*G+1)*2),je(this.dyn_ltree),je(this.dyn_dtree),je(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(R+1),this.heap=new n.Buf16(2*Y+1),je(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*Y+1),je(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(W){var Ve;return!W||!W.state?de(W,c):(W.total_in=W.total_out=0,W.data_type=M,Ve=W.state,Ve.pending=0,Ve.pending_out=0,Ve.wrap<0&&(Ve.wrap=-Ve.wrap),Ve.status=Ve.wrap?we:be,W.adler=Ve.wrap===2?0:1,Ve.last_flush=u,a._tr_init(Ve),S)}function Je(W){var Ve=Ge(W);return Ve===S&&lt(W.state),Ve}function mt(W,Ve){return!W||!W.state||W.state.wrap!==2?c:(W.state.gzhead=Ve,S)}function Le(W,Ve,Ye,ce,ze,tt){if(!W)return c;var Lt=1;if(Ve===b&&(Ve=6),ce<0?(Lt=0,ce=-ce):ce>15&&(Lt=2,ce-=16),ze<1||ze>k||Ye!==N||ce<8||ce>15||Ve<0||Ve>9||tt<0||tt>f)return de(W,c);ce===8&&(ce=9);var Mt=new se;return W.state=Mt,Mt.strm=W,Mt.wrap=Lt,Mt.gzhead=null,Mt.w_bits=ce,Mt.w_size=1<<Mt.w_bits,Mt.w_mask=Mt.w_size-1,Mt.hash_bits=ze+7,Mt.hash_size=1<<Mt.hash_bits,Mt.hash_mask=Mt.hash_size-1,Mt.hash_shift=~~((Mt.hash_bits+V-1)/V),Mt.window=new n.Buf8(Mt.w_size*2),Mt.head=new n.Buf16(Mt.hash_size),Mt.prev=new n.Buf16(Mt.w_size),Mt.lit_bufsize=1<<ze+6,Mt.pending_buf_size=Mt.lit_bufsize*4,Mt.pending_buf=new n.Buf8(Mt.pending_buf_size),Mt.d_buf=1*Mt.lit_bufsize,Mt.l_buf=3*Mt.lit_bufsize,Mt.level=Ve,Mt.strategy=tt,Mt.method=Ye,Je(W)}function ut(W,Ve){return Le(W,Ve,N,z,O,D)}function oe(W,Ve){var Ye,ce,ze,tt;if(!W||!W.state||Ve>x||Ve<0)return W?de(W,c):c;if(ce=W.state,!W.output||!W.input&&W.avail_in!==0||ce.status===Qe&&Ve!==_)return de(W,W.avail_out===0?y:c);if(ce.strm=W,Ye=ce.last_flush,ce.last_flush=Ve,ce.status===we)if(ce.wrap===2)W.adler=0,Ie(ce,31),Ie(ce,139),Ie(ce,8),ce.gzhead?(Ie(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),Ie(ce,ce.gzhead.time&255),Ie(ce,ce.gzhead.time>>8&255),Ie(ce,ce.gzhead.time>>16&255),Ie(ce,ce.gzhead.time>>24&255),Ie(ce,ce.level===9?2:ce.strategy>=E||ce.level<2?4:0),Ie(ce,ce.gzhead.os&255),ce.gzhead.extra&&ce.gzhead.extra.length&&(Ie(ce,ce.gzhead.extra.length&255),Ie(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(W.adler=o(W.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=Pe):(Ie(ce,0),Ie(ce,0),Ie(ce,0),Ie(ce,0),Ie(ce,0),Ie(ce,ce.level===9?2:ce.strategy>=E||ce.level<2?4:0),Ie(ce,ie),ce.status=be);else{var Lt=N+(ce.w_bits-8<<4)<<8,Mt=-1;ce.strategy>=E||ce.level<2?Mt=0:ce.level<6?Mt=1:ce.level===6?Mt=2:Mt=3,Lt|=Mt<<6,ce.strstart!==0&&(Lt|=te),Lt+=31-Lt%31,ce.status=be,Re(ce,Lt),ce.strstart!==0&&(Re(ce,W.adler>>>16),Re(ce,W.adler&65535)),W.adler=1}if(ce.status===Pe)if(ce.gzhead.extra){for(ze=ce.pending;ce.gzindex<(ce.gzhead.extra.length&65535)&&!(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),Be(W),ze=ce.pending,ce.pending===ce.pending_buf_size));)Ie(ce,ce.gzhead.extra[ce.gzindex]&255),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=xe)}else ce.status=xe;if(ce.status===xe)if(ce.gzhead.name){ze=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),Be(W),ze=ce.pending,ce.pending===ce.pending_buf_size)){tt=1;break}ce.gzindex<ce.gzhead.name.length?tt=ce.gzhead.name.charCodeAt(ce.gzindex++)&255:tt=0,Ie(ce,tt)}while(tt!==0);ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),tt===0&&(ce.gzindex=0,ce.status=Fe)}else ce.status=Fe;if(ce.status===Fe)if(ce.gzhead.comment){ze=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),Be(W),ze=ce.pending,ce.pending===ce.pending_buf_size)){tt=1;break}ce.gzindex<ce.gzhead.comment.length?tt=ce.gzhead.comment.charCodeAt(ce.gzindex++)&255:tt=0,Ie(ce,tt)}while(tt!==0);ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),tt===0&&(ce.status=Ae)}else ce.status=Ae;if(ce.status===Ae&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&Be(W),ce.pending+2<=ce.pending_buf_size&&(Ie(ce,W.adler&255),Ie(ce,W.adler>>8&255),W.adler=0,ce.status=be)):ce.status=be),ce.pending!==0){if(Be(W),W.avail_out===0)return ce.last_flush=-1,S}else if(W.avail_in===0&&ye(Ve)<=ye(Ye)&&Ve!==_)return de(W,y);if(ce.status===Qe&&W.avail_in!==0)return de(W,y);if(W.avail_in!==0||ce.lookahead!==0||Ve!==u&&ce.status!==Qe){var st=ce.strategy===E?$e(ce,Ve):ce.strategy===h?ge(ce,Ve):at[ce.level].func(ce,Ve);if((st===pe||st===_e)&&(ce.status=Qe),st===Xe||st===pe)return W.avail_out===0&&(ce.last_flush=-1),S;if(st===U&&(Ve===g?a._tr_align(ce):Ve!==x&&(a._tr_stored_block(ce,0,0,!1),Ve===p&&(je(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),Be(W),W.avail_out===0))return ce.last_flush=-1,S}return Ve!==_?S:ce.wrap<=0?w:(ce.wrap===2?(Ie(ce,W.adler&255),Ie(ce,W.adler>>8&255),Ie(ce,W.adler>>16&255),Ie(ce,W.adler>>24&255),Ie(ce,W.total_in&255),Ie(ce,W.total_in>>8&255),Ie(ce,W.total_in>>16&255),Ie(ce,W.total_in>>24&255)):(Re(ce,W.adler>>>16),Re(ce,W.adler&65535)),Be(W),ce.wrap>0&&(ce.wrap=-ce.wrap),ce.pending!==0?S:w)}function dt(W){var Ve;return!W||!W.state?c:(Ve=W.state.status,Ve!==we&&Ve!==Pe&&Ve!==xe&&Ve!==Fe&&Ve!==Ae&&Ve!==be&&Ve!==Qe?de(W,c):(W.state=null,Ve===be?de(W,v):S))}function At(W,Ve){var Ye=Ve.length,ce,ze,tt,Lt,Mt,st,Jt,Zr;if(!W||!W.state||(ce=W.state,Lt=ce.wrap,Lt===2||Lt===1&&ce.status!==we||ce.lookahead))return c;for(Lt===1&&(W.adler=s(W.adler,Ve,Ye,0)),ce.wrap=0,Ye>=ce.w_size&&(Lt===0&&(je(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Zr=new n.Buf8(ce.w_size),n.arraySet(Zr,Ve,Ye-ce.w_size,ce.w_size,0),Ve=Zr,Ye=ce.w_size),Mt=W.avail_in,st=W.next_in,Jt=W.input,W.avail_in=Ye,W.next_in=0,W.input=Ve,pt(ce);ce.lookahead>=V;){ze=ce.strstart,tt=ce.lookahead-(V-1);do ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ze+V-1])&ce.hash_mask,ce.prev[ze&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ze,ze++;while(--tt);ce.strstart=ze,ce.lookahead=V-1,pt(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=V-1,ce.match_available=0,W.next_in=st,W.input=Jt,W.avail_in=Mt,ce.wrap=Lt,S}t.deflateInit=ut,t.deflateInit2=Le,t.deflateReset=Je,t.deflateResetKeep=Ge,t.deflateSetHeader=mt,t.deflate=oe,t.deflateEnd=dt,t.deflateSetDictionary=At,t.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":e=>{"use strict";function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=t},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":e=>{"use strict";var t=30,r=12;e.exports=function(a,s){var o,l,u,g,p,_,x,S,w,c,v,y,b,C,E,h,f,D,M,N,k,z,O,I,H;o=a.state,l=a.next_in,I=a.input,u=l+(a.avail_in-5),g=a.next_out,H=a.output,p=g-(s-a.avail_out),_=g+(a.avail_out-257),x=o.dmax,S=o.wsize,w=o.whave,c=o.wnext,v=o.window,y=o.hold,b=o.bits,C=o.lencode,E=o.distcode,h=(1<<o.lenbits)-1,f=(1<<o.distbits)-1;e:do{b<15&&(y+=I[l++]<<b,b+=8,y+=I[l++]<<b,b+=8),D=C[y&h];t:for(;;){if(M=D>>>24,y>>>=M,b-=M,M=D>>>16&255,M===0)H[g++]=D&65535;else if(M&16){N=D&65535,M&=15,M&&(b<M&&(y+=I[l++]<<b,b+=8),N+=y&(1<<M)-1,y>>>=M,b-=M),b<15&&(y+=I[l++]<<b,b+=8,y+=I[l++]<<b,b+=8),D=E[y&f];r:for(;;){if(M=D>>>24,y>>>=M,b-=M,M=D>>>16&255,M&16){if(k=D&65535,M&=15,b<M&&(y+=I[l++]<<b,b+=8,b<M&&(y+=I[l++]<<b,b+=8)),k+=y&(1<<M)-1,k>x){a.msg="invalid distance too far back",o.mode=t;break e}if(y>>>=M,b-=M,M=g-p,k>M){if(M=k-M,M>w&&o.sane){a.msg="invalid distance too far back",o.mode=t;break e}if(z=0,O=v,c===0){if(z+=S-M,M<N){N-=M;do H[g++]=v[z++];while(--M);z=g-k,O=H}}else if(c<M){if(z+=S+c-M,M-=c,M<N){N-=M;do H[g++]=v[z++];while(--M);if(z=0,c<N){M=c,N-=M;do H[g++]=v[z++];while(--M);z=g-k,O=H}}}else if(z+=c-M,M<N){N-=M;do H[g++]=v[z++];while(--M);z=g-k,O=H}for(;N>2;)H[g++]=O[z++],H[g++]=O[z++],H[g++]=O[z++],N-=3;N&&(H[g++]=O[z++],N>1&&(H[g++]=O[z++]))}else{z=g-k;do H[g++]=H[z++],H[g++]=H[z++],H[g++]=H[z++],N-=3;while(N>2);N&&(H[g++]=H[z++],N>1&&(H[g++]=H[z++]))}}else if(M&64){a.msg="invalid distance code",o.mode=t;break e}else{D=E[(D&65535)+(y&(1<<M)-1)];continue r}break}}else if(M&64)if(M&32){o.mode=r;break e}else{a.msg="invalid literal/length code",o.mode=t;break e}else{D=C[(D&65535)+(y&(1<<M)-1)];continue t}break}}while(l<u&&g<_);N=b>>3,l-=N,b-=N<<3,y&=(1<<b)-1,a.next_in=l,a.next_out=g,a.avail_in=l<u?5+(u-l):5-(l-u),a.avail_out=g<_?257+(_-g):257-(g-_),o.hold=y,o.bits=b}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),u=0,g=1,p=2,_=4,x=5,S=6,w=0,c=1,v=2,y=-2,b=-3,C=-4,E=-5,h=8,f=1,D=2,M=3,N=4,k=5,z=6,O=7,I=8,H=9,Y=10,q=11,G=12,$=13,R=14,V=15,X=16,Q=17,te=18,we=19,Pe=20,xe=21,Fe=22,Ae=23,be=24,Qe=25,Xe=26,U=27,pe=28,_e=29,ie=30,de=31,ye=32,je=852,Be=592,Ce=15,Ie=Ce;function Re(Le){return(Le>>>24&255)+(Le>>>8&65280)+((Le&65280)<<8)+((Le&255)<<24)}function Ke(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ne(Le){var ut;return!Le||!Le.state?y:(ut=Le.state,Le.total_in=Le.total_out=ut.total=0,Le.msg="",ut.wrap&&(Le.adler=ut.wrap&1),ut.mode=f,ut.last=0,ut.havedict=0,ut.dmax=32768,ut.head=null,ut.hold=0,ut.bits=0,ut.lencode=ut.lendyn=new n.Buf32(je),ut.distcode=ut.distdyn=new n.Buf32(Be),ut.sane=1,ut.back=-1,w)}function pt(Le){var ut;return!Le||!Le.state?y:(ut=Le.state,ut.wsize=0,ut.whave=0,ut.wnext=0,Ne(Le))}function yt(Le,ut){var oe,dt;return!Le||!Le.state||(dt=Le.state,ut<0?(oe=0,ut=-ut):(oe=(ut>>4)+1,ut<48&&(ut&=15)),ut&&(ut<8||ut>15))?y:(dt.window!==null&&dt.wbits!==ut&&(dt.window=null),dt.wrap=oe,dt.wbits=ut,pt(Le))}function le(Le,ut){var oe,dt;return Le?(dt=new Ke,Le.state=dt,dt.window=null,oe=yt(Le,ut),oe!==w&&(Le.state=null),oe):y}function ue(Le){return le(Le,Ie)}var ge=!0,$e,Oe;function at(Le){if(ge){var ut;for($e=new n.Buf32(512),Oe=new n.Buf32(32),ut=0;ut<144;)Le.lens[ut++]=8;for(;ut<256;)Le.lens[ut++]=9;for(;ut<280;)Le.lens[ut++]=7;for(;ut<288;)Le.lens[ut++]=8;for(l(g,Le.lens,0,288,$e,0,Le.work,{bits:9}),ut=0;ut<32;)Le.lens[ut++]=5;l(p,Le.lens,0,32,Oe,0,Le.work,{bits:5}),ge=!1}Le.lencode=$e,Le.lenbits=9,Le.distcode=Oe,Le.distbits=5}function lt(Le,ut,oe,dt){var At,W=Le.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new n.Buf8(W.wsize)),dt>=W.wsize?(n.arraySet(W.window,ut,oe-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(At=W.wsize-W.wnext,At>dt&&(At=dt),n.arraySet(W.window,ut,oe-dt,At,W.wnext),dt-=At,dt?(n.arraySet(W.window,ut,oe-dt,dt,0),W.wnext=dt,W.whave=W.wsize):(W.wnext+=At,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=At))),0}function se(Le,ut){var oe,dt,At,W,Ve,Ye,ce,ze,tt,Lt,Mt,st,Jt,Zr,Yt=0,er,Nt,Or,Mr,Br,nn,dr,Xt,ir=new n.Buf8(4),Ur,Wr,wi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Le||!Le.state||!Le.output||!Le.input&&Le.avail_in!==0)return y;oe=Le.state,oe.mode===G&&(oe.mode=$),Ve=Le.next_out,At=Le.output,ce=Le.avail_out,W=Le.next_in,dt=Le.input,Ye=Le.avail_in,ze=oe.hold,tt=oe.bits,Lt=Ye,Mt=ce,Xt=w;e:for(;;)switch(oe.mode){case f:if(oe.wrap===0){oe.mode=$;break}for(;tt<16;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if(oe.wrap&2&&ze===35615){oe.check=0,ir[0]=ze&255,ir[1]=ze>>>8&255,oe.check=s(oe.check,ir,2,0),ze=0,tt=0,oe.mode=D;break}if(oe.flags=0,oe.head&&(oe.head.done=!1),!(oe.wrap&1)||(((ze&255)<<8)+(ze>>8))%31){Le.msg="incorrect header check",oe.mode=ie;break}if((ze&15)!==h){Le.msg="unknown compression method",oe.mode=ie;break}if(ze>>>=4,tt-=4,dr=(ze&15)+8,oe.wbits===0)oe.wbits=dr;else if(dr>oe.wbits){Le.msg="invalid window size",oe.mode=ie;break}oe.dmax=1<<dr,Le.adler=oe.check=1,oe.mode=ze&512?Y:G,ze=0,tt=0;break;case D:for(;tt<16;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if(oe.flags=ze,(oe.flags&255)!==h){Le.msg="unknown compression method",oe.mode=ie;break}if(oe.flags&57344){Le.msg="unknown header flags set",oe.mode=ie;break}oe.head&&(oe.head.text=ze>>8&1),oe.flags&512&&(ir[0]=ze&255,ir[1]=ze>>>8&255,oe.check=s(oe.check,ir,2,0)),ze=0,tt=0,oe.mode=M;case M:for(;tt<32;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}oe.head&&(oe.head.time=ze),oe.flags&512&&(ir[0]=ze&255,ir[1]=ze>>>8&255,ir[2]=ze>>>16&255,ir[3]=ze>>>24&255,oe.check=s(oe.check,ir,4,0)),ze=0,tt=0,oe.mode=N;case N:for(;tt<16;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}oe.head&&(oe.head.xflags=ze&255,oe.head.os=ze>>8),oe.flags&512&&(ir[0]=ze&255,ir[1]=ze>>>8&255,oe.check=s(oe.check,ir,2,0)),ze=0,tt=0,oe.mode=k;case k:if(oe.flags&1024){for(;tt<16;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}oe.length=ze,oe.head&&(oe.head.extra_len=ze),oe.flags&512&&(ir[0]=ze&255,ir[1]=ze>>>8&255,oe.check=s(oe.check,ir,2,0)),ze=0,tt=0}else oe.head&&(oe.head.extra=null);oe.mode=z;case z:if(oe.flags&1024&&(st=oe.length,st>Ye&&(st=Ye),st&&(oe.head&&(dr=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Array(oe.head.extra_len)),n.arraySet(oe.head.extra,dt,W,st,dr)),oe.flags&512&&(oe.check=s(oe.check,dt,st,W)),Ye-=st,W+=st,oe.length-=st),oe.length))break e;oe.length=0,oe.mode=O;case O:if(oe.flags&2048){if(Ye===0)break e;st=0;do dr=dt[W+st++],oe.head&&dr&&oe.length<65536&&(oe.head.name+=String.fromCharCode(dr));while(dr&&st<Ye);if(oe.flags&512&&(oe.check=s(oe.check,dt,st,W)),Ye-=st,W+=st,dr)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=I;case I:if(oe.flags&4096){if(Ye===0)break e;st=0;do dr=dt[W+st++],oe.head&&dr&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(dr));while(dr&&st<Ye);if(oe.flags&512&&(oe.check=s(oe.check,dt,st,W)),Ye-=st,W+=st,dr)break e}else oe.head&&(oe.head.comment=null);oe.mode=H;case H:if(oe.flags&512){for(;tt<16;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if(ze!==(oe.check&65535)){Le.msg="header crc mismatch",oe.mode=ie;break}ze=0,tt=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),Le.adler=oe.check=0,oe.mode=G;break;case Y:for(;tt<32;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}Le.adler=oe.check=Re(ze),ze=0,tt=0,oe.mode=q;case q:if(oe.havedict===0)return Le.next_out=Ve,Le.avail_out=ce,Le.next_in=W,Le.avail_in=Ye,oe.hold=ze,oe.bits=tt,v;Le.adler=oe.check=1,oe.mode=G;case G:if(ut===x||ut===S)break e;case $:if(oe.last){ze>>>=tt&7,tt-=tt&7,oe.mode=U;break}for(;tt<3;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}switch(oe.last=ze&1,ze>>>=1,tt-=1,ze&3){case 0:oe.mode=R;break;case 1:if(at(oe),oe.mode=Pe,ut===S){ze>>>=2,tt-=2;break e}break;case 2:oe.mode=Q;break;case 3:Le.msg="invalid block type",oe.mode=ie}ze>>>=2,tt-=2;break;case R:for(ze>>>=tt&7,tt-=tt&7;tt<32;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if((ze&65535)!==(ze>>>16^65535)){Le.msg="invalid stored block lengths",oe.mode=ie;break}if(oe.length=ze&65535,ze=0,tt=0,oe.mode=V,ut===S)break e;case V:oe.mode=X;case X:if(st=oe.length,st){if(st>Ye&&(st=Ye),st>ce&&(st=ce),st===0)break e;n.arraySet(At,dt,W,st,Ve),Ye-=st,W+=st,ce-=st,Ve+=st,oe.length-=st;break}oe.mode=G;break;case Q:for(;tt<14;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if(oe.nlen=(ze&31)+257,ze>>>=5,tt-=5,oe.ndist=(ze&31)+1,ze>>>=5,tt-=5,oe.ncode=(ze&15)+4,ze>>>=4,tt-=4,oe.nlen>286||oe.ndist>30){Le.msg="too many length or distance symbols",oe.mode=ie;break}oe.have=0,oe.mode=te;case te:for(;oe.have<oe.ncode;){for(;tt<3;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}oe.lens[wi[oe.have++]]=ze&7,ze>>>=3,tt-=3}for(;oe.have<19;)oe.lens[wi[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,Ur={bits:oe.lenbits},Xt=l(u,oe.lens,0,19,oe.lencode,0,oe.work,Ur),oe.lenbits=Ur.bits,Xt){Le.msg="invalid code lengths set",oe.mode=ie;break}oe.have=0,oe.mode=we;case we:for(;oe.have<oe.nlen+oe.ndist;){for(;Yt=oe.lencode[ze&(1<<oe.lenbits)-1],er=Yt>>>24,Nt=Yt>>>16&255,Or=Yt&65535,!(er<=tt);){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if(Or<16)ze>>>=er,tt-=er,oe.lens[oe.have++]=Or;else{if(Or===16){for(Wr=er+2;tt<Wr;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if(ze>>>=er,tt-=er,oe.have===0){Le.msg="invalid bit length repeat",oe.mode=ie;break}dr=oe.lens[oe.have-1],st=3+(ze&3),ze>>>=2,tt-=2}else if(Or===17){for(Wr=er+3;tt<Wr;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}ze>>>=er,tt-=er,dr=0,st=3+(ze&7),ze>>>=3,tt-=3}else{for(Wr=er+7;tt<Wr;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}ze>>>=er,tt-=er,dr=0,st=11+(ze&127),ze>>>=7,tt-=7}if(oe.have+st>oe.nlen+oe.ndist){Le.msg="invalid bit length repeat",oe.mode=ie;break}for(;st--;)oe.lens[oe.have++]=dr}}if(oe.mode===ie)break;if(oe.lens[256]===0){Le.msg="invalid code -- missing end-of-block",oe.mode=ie;break}if(oe.lenbits=9,Ur={bits:oe.lenbits},Xt=l(g,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,Ur),oe.lenbits=Ur.bits,Xt){Le.msg="invalid literal/lengths set",oe.mode=ie;break}if(oe.distbits=6,oe.distcode=oe.distdyn,Ur={bits:oe.distbits},Xt=l(p,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,Ur),oe.distbits=Ur.bits,Xt){Le.msg="invalid distances set",oe.mode=ie;break}if(oe.mode=Pe,ut===S)break e;case Pe:oe.mode=xe;case xe:if(Ye>=6&&ce>=258){Le.next_out=Ve,Le.avail_out=ce,Le.next_in=W,Le.avail_in=Ye,oe.hold=ze,oe.bits=tt,o(Le,Mt),Ve=Le.next_out,At=Le.output,ce=Le.avail_out,W=Le.next_in,dt=Le.input,Ye=Le.avail_in,ze=oe.hold,tt=oe.bits,oe.mode===G&&(oe.back=-1);break}for(oe.back=0;Yt=oe.lencode[ze&(1<<oe.lenbits)-1],er=Yt>>>24,Nt=Yt>>>16&255,Or=Yt&65535,!(er<=tt);){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if(Nt&&!(Nt&240)){for(Mr=er,Br=Nt,nn=Or;Yt=oe.lencode[nn+((ze&(1<<Mr+Br)-1)>>Mr)],er=Yt>>>24,Nt=Yt>>>16&255,Or=Yt&65535,!(Mr+er<=tt);){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}ze>>>=Mr,tt-=Mr,oe.back+=Mr}if(ze>>>=er,tt-=er,oe.back+=er,oe.length=Or,Nt===0){oe.mode=Xe;break}if(Nt&32){oe.back=-1,oe.mode=G;break}if(Nt&64){Le.msg="invalid literal/length code",oe.mode=ie;break}oe.extra=Nt&15,oe.mode=Fe;case Fe:if(oe.extra){for(Wr=oe.extra;tt<Wr;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}oe.length+=ze&(1<<oe.extra)-1,ze>>>=oe.extra,tt-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=Ae;case Ae:for(;Yt=oe.distcode[ze&(1<<oe.distbits)-1],er=Yt>>>24,Nt=Yt>>>16&255,Or=Yt&65535,!(er<=tt);){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if(!(Nt&240)){for(Mr=er,Br=Nt,nn=Or;Yt=oe.distcode[nn+((ze&(1<<Mr+Br)-1)>>Mr)],er=Yt>>>24,Nt=Yt>>>16&255,Or=Yt&65535,!(Mr+er<=tt);){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}ze>>>=Mr,tt-=Mr,oe.back+=Mr}if(ze>>>=er,tt-=er,oe.back+=er,Nt&64){Le.msg="invalid distance code",oe.mode=ie;break}oe.offset=Or,oe.extra=Nt&15,oe.mode=be;case be:if(oe.extra){for(Wr=oe.extra;tt<Wr;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}oe.offset+=ze&(1<<oe.extra)-1,ze>>>=oe.extra,tt-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){Le.msg="invalid distance too far back",oe.mode=ie;break}oe.mode=Qe;case Qe:if(ce===0)break e;if(st=Mt-ce,oe.offset>st){if(st=oe.offset-st,st>oe.whave&&oe.sane){Le.msg="invalid distance too far back",oe.mode=ie;break}st>oe.wnext?(st-=oe.wnext,Jt=oe.wsize-st):Jt=oe.wnext-st,st>oe.length&&(st=oe.length),Zr=oe.window}else Zr=At,Jt=Ve-oe.offset,st=oe.length;st>ce&&(st=ce),ce-=st,oe.length-=st;do At[Ve++]=Zr[Jt++];while(--st);oe.length===0&&(oe.mode=xe);break;case Xe:if(ce===0)break e;At[Ve++]=oe.length,ce--,oe.mode=xe;break;case U:if(oe.wrap){for(;tt<32;){if(Ye===0)break e;Ye--,ze|=dt[W++]<<tt,tt+=8}if(Mt-=ce,Le.total_out+=Mt,oe.total+=Mt,Mt&&(Le.adler=oe.check=oe.flags?s(oe.check,At,Mt,Ve-Mt):a(oe.check,At,Mt,Ve-Mt)),Mt=ce,(oe.flags?ze:Re(ze))!==oe.check){Le.msg="incorrect data check",oe.mode=ie;break}ze=0,tt=0}oe.mode=pe;case pe:if(oe.wrap&&oe.flags){for(;tt<32;){if(Ye===0)break e;Ye--,ze+=dt[W++]<<tt,tt+=8}if(ze!==(oe.total&4294967295)){Le.msg="incorrect length check",oe.mode=ie;break}ze=0,tt=0}oe.mode=_e;case _e:Xt=c;break e;case ie:Xt=b;break e;case de:return C;case ye:default:return y}return Le.next_out=Ve,Le.avail_out=ce,Le.next_in=W,Le.avail_in=Ye,oe.hold=ze,oe.bits=tt,(oe.wsize||Mt!==Le.avail_out&&oe.mode<ie&&(oe.mode<U||ut!==_))&&lt(Le,Le.output,Le.next_out,Mt-Le.avail_out)?(oe.mode=de,C):(Lt-=Le.avail_in,Mt-=Le.avail_out,Le.total_in+=Lt,Le.total_out+=Mt,oe.total+=Mt,oe.wrap&&Mt&&(Le.adler=oe.check=oe.flags?s(oe.check,At,Mt,Le.next_out-Mt):a(oe.check,At,Mt,Le.next_out-Mt)),Le.data_type=oe.bits+(oe.last?64:0)+(oe.mode===G?128:0)+(oe.mode===Pe||oe.mode===V?256:0),(Lt===0&&Mt===0||ut===_)&&Xt===w&&(Xt=E),Xt)}function Ge(Le){if(!Le||!Le.state)return y;var ut=Le.state;return ut.window&&(ut.window=null),Le.state=null,w}function Je(Le,ut){var oe;return!Le||!Le.state||(oe=Le.state,!(oe.wrap&2))?y:(oe.head=ut,ut.done=!1,w)}function mt(Le,ut){var oe=ut.length,dt,At,W;return!Le||!Le.state||(dt=Le.state,dt.wrap!==0&&dt.mode!==q)?y:dt.mode===q&&(At=1,At=a(At,ut,oe,0),At!==dt.check)?b:(W=lt(Le,ut,oe,oe),W?(dt.mode=de,C):(dt.havedict=1,w))}t.inflateReset=pt,t.inflateReset2=yt,t.inflateResetKeep=Ne,t.inflateInit=ue,t.inflateInit2=le,t.inflate=se,t.inflateEnd=Ge,t.inflateGetHeader=Je,t.inflateSetDictionary=mt,t.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=15,s=852,o=592,l=0,u=1,g=2,p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],S=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(c,v,y,b,C,E,h,f){var D=f.bits,M=0,N=0,k=0,z=0,O=0,I=0,H=0,Y=0,q=0,G=0,$,R,V,X,Q,te=null,we=0,Pe,xe=new n.Buf16(a+1),Fe=new n.Buf16(a+1),Ae=null,be=0,Qe,Xe,U;for(M=0;M<=a;M++)xe[M]=0;for(N=0;N<b;N++)xe[v[y+N]]++;for(O=D,z=a;z>=1&&xe[z]===0;z--);if(O>z&&(O=z),z===0)return C[E++]=20971520,C[E++]=20971520,f.bits=1,0;for(k=1;k<z&&xe[k]===0;k++);for(O<k&&(O=k),Y=1,M=1;M<=a;M++)if(Y<<=1,Y-=xe[M],Y<0)return-1;if(Y>0&&(c===l||z!==1))return-1;for(Fe[1]=0,M=1;M<a;M++)Fe[M+1]=Fe[M]+xe[M];for(N=0;N<b;N++)v[y+N]!==0&&(h[Fe[v[y+N]]++]=N);if(c===l?(te=Ae=h,Pe=19):c===u?(te=p,we-=257,Ae=_,be-=257,Pe=256):(te=x,Ae=S,Pe=-1),G=0,N=0,M=k,Q=E,I=O,H=0,V=-1,q=1<<O,X=q-1,c===u&&q>s||c===g&&q>o)return 1;for(;;){Qe=M-H,h[N]<Pe?(Xe=0,U=h[N]):h[N]>Pe?(Xe=Ae[be+h[N]],U=te[we+h[N]]):(Xe=96,U=0),$=1<<M-H,R=1<<I,k=R;do R-=$,C[Q+(G>>H)+R]=Qe<<24|Xe<<16|U|0;while(R!==0);for($=1<<M-1;G&$;)$>>=1;if($!==0?(G&=$-1,G+=$):G=0,N++,--xe[M]===0){if(M===z)break;M=v[y+h[N]]}if(M>O&&(G&X)!==V){for(H===0&&(H=O),Q+=k,I=M-H,Y=1<<I;I+H<z&&(Y-=xe[I+H],!(Y<=0));)I++,Y<<=1;if(q+=1<<I,c===u&&q>s||c===g&&q>o)return 1;V=G&X,C[V]=O<<24|I<<16|Q-E|0}}return G!==0&&(C[Q+G]=M-H<<24|4194304|0),f.bits=O,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=4,s=0,o=1,l=2;function u(se){for(var Ge=se.length;--Ge>=0;)se[Ge]=0}var g=0,p=1,_=2,x=3,S=258,w=29,c=256,v=c+1+w,y=30,b=19,C=2*v+1,E=15,h=16,f=7,D=256,M=16,N=17,k=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=512,q=new Array((v+2)*2);u(q);var G=new Array(y*2);u(G);var $=new Array(Y);u($);var R=new Array(S-x+1);u(R);var V=new Array(w);u(V);var X=new Array(y);u(X);function Q(se,Ge,Je,mt,Le){this.static_tree=se,this.extra_bits=Ge,this.extra_base=Je,this.elems=mt,this.max_length=Le,this.has_stree=se&&se.length}var te,we,Pe;function xe(se,Ge){this.dyn_tree=se,this.max_code=0,this.stat_desc=Ge}function Fe(se){return se<256?$[se]:$[256+(se>>>7)]}function Ae(se,Ge){se.pending_buf[se.pending++]=Ge&255,se.pending_buf[se.pending++]=Ge>>>8&255}function be(se,Ge,Je){se.bi_valid>h-Je?(se.bi_buf|=Ge<<se.bi_valid&65535,Ae(se,se.bi_buf),se.bi_buf=Ge>>h-se.bi_valid,se.bi_valid+=Je-h):(se.bi_buf|=Ge<<se.bi_valid&65535,se.bi_valid+=Je)}function Qe(se,Ge,Je){be(se,Je[Ge*2],Je[Ge*2+1])}function Xe(se,Ge){var Je=0;do Je|=se&1,se>>>=1,Je<<=1;while(--Ge>0);return Je>>>1}function U(se){se.bi_valid===16?(Ae(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):se.bi_valid>=8&&(se.pending_buf[se.pending++]=se.bi_buf&255,se.bi_buf>>=8,se.bi_valid-=8)}function pe(se,Ge){var Je=Ge.dyn_tree,mt=Ge.max_code,Le=Ge.stat_desc.static_tree,ut=Ge.stat_desc.has_stree,oe=Ge.stat_desc.extra_bits,dt=Ge.stat_desc.extra_base,At=Ge.stat_desc.max_length,W,Ve,Ye,ce,ze,tt,Lt=0;for(ce=0;ce<=E;ce++)se.bl_count[ce]=0;for(Je[se.heap[se.heap_max]*2+1]=0,W=se.heap_max+1;W<C;W++)Ve=se.heap[W],ce=Je[Je[Ve*2+1]*2+1]+1,ce>At&&(ce=At,Lt++),Je[Ve*2+1]=ce,!(Ve>mt)&&(se.bl_count[ce]++,ze=0,Ve>=dt&&(ze=oe[Ve-dt]),tt=Je[Ve*2],se.opt_len+=tt*(ce+ze),ut&&(se.static_len+=tt*(Le[Ve*2+1]+ze)));if(Lt!==0){do{for(ce=At-1;se.bl_count[ce]===0;)ce--;se.bl_count[ce]--,se.bl_count[ce+1]+=2,se.bl_count[At]--,Lt-=2}while(Lt>0);for(ce=At;ce!==0;ce--)for(Ve=se.bl_count[ce];Ve!==0;)Ye=se.heap[--W],!(Ye>mt)&&(Je[Ye*2+1]!==ce&&(se.opt_len+=(ce-Je[Ye*2+1])*Je[Ye*2],Je[Ye*2+1]=ce),Ve--)}}function _e(se,Ge,Je){var mt=new Array(E+1),Le=0,ut,oe;for(ut=1;ut<=E;ut++)mt[ut]=Le=Le+Je[ut-1]<<1;for(oe=0;oe<=Ge;oe++){var dt=se[oe*2+1];dt!==0&&(se[oe*2]=Xe(mt[dt]++,dt))}}function ie(){var se,Ge,Je,mt,Le,ut=new Array(E+1);for(Je=0,mt=0;mt<w-1;mt++)for(V[mt]=Je,se=0;se<1<<z[mt];se++)R[Je++]=mt;for(R[Je-1]=mt,Le=0,mt=0;mt<16;mt++)for(X[mt]=Le,se=0;se<1<<O[mt];se++)$[Le++]=mt;for(Le>>=7;mt<y;mt++)for(X[mt]=Le<<7,se=0;se<1<<O[mt]-7;se++)$[256+Le++]=mt;for(Ge=0;Ge<=E;Ge++)ut[Ge]=0;for(se=0;se<=143;)q[se*2+1]=8,se++,ut[8]++;for(;se<=255;)q[se*2+1]=9,se++,ut[9]++;for(;se<=279;)q[se*2+1]=7,se++,ut[7]++;for(;se<=287;)q[se*2+1]=8,se++,ut[8]++;for(_e(q,v+1,ut),se=0;se<y;se++)G[se*2+1]=5,G[se*2]=Xe(se,5);te=new Q(q,z,c+1,v,E),we=new Q(G,O,0,y,E),Pe=new Q(new Array(0),I,0,b,f)}function de(se){var Ge;for(Ge=0;Ge<v;Ge++)se.dyn_ltree[Ge*2]=0;for(Ge=0;Ge<y;Ge++)se.dyn_dtree[Ge*2]=0;for(Ge=0;Ge<b;Ge++)se.bl_tree[Ge*2]=0;se.dyn_ltree[D*2]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function ye(se){se.bi_valid>8?Ae(se,se.bi_buf):se.bi_valid>0&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function je(se,Ge,Je,mt){ye(se),mt&&(Ae(se,Je),Ae(se,~Je)),n.arraySet(se.pending_buf,se.window,Ge,Je,se.pending),se.pending+=Je}function Be(se,Ge,Je,mt){var Le=Ge*2,ut=Je*2;return se[Le]<se[ut]||se[Le]===se[ut]&&mt[Ge]<=mt[Je]}function Ce(se,Ge,Je){for(var mt=se.heap[Je],Le=Je<<1;Le<=se.heap_len&&(Le<se.heap_len&&Be(Ge,se.heap[Le+1],se.heap[Le],se.depth)&&Le++,!Be(Ge,mt,se.heap[Le],se.depth));)se.heap[Je]=se.heap[Le],Je=Le,Le<<=1;se.heap[Je]=mt}function Ie(se,Ge,Je){var mt,Le,ut=0,oe,dt;if(se.last_lit!==0)do mt=se.pending_buf[se.d_buf+ut*2]<<8|se.pending_buf[se.d_buf+ut*2+1],Le=se.pending_buf[se.l_buf+ut],ut++,mt===0?Qe(se,Le,Ge):(oe=R[Le],Qe(se,oe+c+1,Ge),dt=z[oe],dt!==0&&(Le-=V[oe],be(se,Le,dt)),mt--,oe=Fe(mt),Qe(se,oe,Je),dt=O[oe],dt!==0&&(mt-=X[oe],be(se,mt,dt)));while(ut<se.last_lit);Qe(se,D,Ge)}function Re(se,Ge){var Je=Ge.dyn_tree,mt=Ge.stat_desc.static_tree,Le=Ge.stat_desc.has_stree,ut=Ge.stat_desc.elems,oe,dt,At=-1,W;for(se.heap_len=0,se.heap_max=C,oe=0;oe<ut;oe++)Je[oe*2]!==0?(se.heap[++se.heap_len]=At=oe,se.depth[oe]=0):Je[oe*2+1]=0;for(;se.heap_len<2;)W=se.heap[++se.heap_len]=At<2?++At:0,Je[W*2]=1,se.depth[W]=0,se.opt_len--,Le&&(se.static_len-=mt[W*2+1]);for(Ge.max_code=At,oe=se.heap_len>>1;oe>=1;oe--)Ce(se,Je,oe);W=ut;do oe=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Ce(se,Je,1),dt=se.heap[1],se.heap[--se.heap_max]=oe,se.heap[--se.heap_max]=dt,Je[W*2]=Je[oe*2]+Je[dt*2],se.depth[W]=(se.depth[oe]>=se.depth[dt]?se.depth[oe]:se.depth[dt])+1,Je[oe*2+1]=Je[dt*2+1]=W,se.heap[1]=W++,Ce(se,Je,1);while(se.heap_len>=2);se.heap[--se.heap_max]=se.heap[1],pe(se,Ge),_e(Je,At,se.bl_count)}function Ke(se,Ge,Je){var mt,Le=-1,ut,oe=Ge[0*2+1],dt=0,At=7,W=4;for(oe===0&&(At=138,W=3),Ge[(Je+1)*2+1]=65535,mt=0;mt<=Je;mt++)ut=oe,oe=Ge[(mt+1)*2+1],!(++dt<At&&ut===oe)&&(dt<W?se.bl_tree[ut*2]+=dt:ut!==0?(ut!==Le&&se.bl_tree[ut*2]++,se.bl_tree[M*2]++):dt<=10?se.bl_tree[N*2]++:se.bl_tree[k*2]++,dt=0,Le=ut,oe===0?(At=138,W=3):ut===oe?(At=6,W=3):(At=7,W=4))}function Ne(se,Ge,Je){var mt,Le=-1,ut,oe=Ge[0*2+1],dt=0,At=7,W=4;for(oe===0&&(At=138,W=3),mt=0;mt<=Je;mt++)if(ut=oe,oe=Ge[(mt+1)*2+1],!(++dt<At&&ut===oe)){if(dt<W)do Qe(se,ut,se.bl_tree);while(--dt!==0);else ut!==0?(ut!==Le&&(Qe(se,ut,se.bl_tree),dt--),Qe(se,M,se.bl_tree),be(se,dt-3,2)):dt<=10?(Qe(se,N,se.bl_tree),be(se,dt-3,3)):(Qe(se,k,se.bl_tree),be(se,dt-11,7));dt=0,Le=ut,oe===0?(At=138,W=3):ut===oe?(At=6,W=3):(At=7,W=4)}}function pt(se){var Ge;for(Ke(se,se.dyn_ltree,se.l_desc.max_code),Ke(se,se.dyn_dtree,se.d_desc.max_code),Re(se,se.bl_desc),Ge=b-1;Ge>=3&&se.bl_tree[H[Ge]*2+1]===0;Ge--);return se.opt_len+=3*(Ge+1)+5+5+4,Ge}function yt(se,Ge,Je,mt){var Le;for(be(se,Ge-257,5),be(se,Je-1,5),be(se,mt-4,4),Le=0;Le<mt;Le++)be(se,se.bl_tree[H[Le]*2+1],3);Ne(se,se.dyn_ltree,Ge-1),Ne(se,se.dyn_dtree,Je-1)}function le(se){var Ge=4093624447,Je;for(Je=0;Je<=31;Je++,Ge>>>=1)if(Ge&1&&se.dyn_ltree[Je*2]!==0)return s;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return o;for(Je=32;Je<c;Je++)if(se.dyn_ltree[Je*2]!==0)return o;return s}var ue=!1;function ge(se){ue||(ie(),ue=!0),se.l_desc=new xe(se.dyn_ltree,te),se.d_desc=new xe(se.dyn_dtree,we),se.bl_desc=new xe(se.bl_tree,Pe),se.bi_buf=0,se.bi_valid=0,de(se)}function $e(se,Ge,Je,mt){be(se,(g<<1)+(mt?1:0),3),je(se,Ge,Je,!0)}function Oe(se){be(se,p<<1,3),Qe(se,D,q),U(se)}function at(se,Ge,Je,mt){var Le,ut,oe=0;se.level>0?(se.strm.data_type===l&&(se.strm.data_type=le(se)),Re(se,se.l_desc),Re(se,se.d_desc),oe=pt(se),Le=se.opt_len+3+7>>>3,ut=se.static_len+3+7>>>3,ut<=Le&&(Le=ut)):Le=ut=Je+5,Je+4<=Le&&Ge!==-1?$e(se,Ge,Je,mt):se.strategy===a||ut===Le?(be(se,(p<<1)+(mt?1:0),3),Ie(se,q,G)):(be(se,(_<<1)+(mt?1:0),3),yt(se,se.l_desc.max_code+1,se.d_desc.max_code+1,oe+1),Ie(se,se.dyn_ltree,se.dyn_dtree)),de(se),mt&&ye(se)}function lt(se,Ge,Je){return se.pending_buf[se.d_buf+se.last_lit*2]=Ge>>>8&255,se.pending_buf[se.d_buf+se.last_lit*2+1]=Ge&255,se.pending_buf[se.l_buf+se.last_lit]=Je&255,se.last_lit++,Ge===0?se.dyn_ltree[Je*2]++:(se.matches++,Ge--,se.dyn_ltree[(R[Je]+c+1)*2]++,se.dyn_dtree[Fe(Ge)*2]++),se.last_lit===se.lit_bufsize-1}t._tr_init=ge,t._tr_stored_block=$e,t._tr_flush_block=at,t._tr_tally=lt,t._tr_align=Oe},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":e=>{"use strict";function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=t},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=function(){self.onmessage=function(e){var t=e.data,r=t.type;if(r<0)self.atomData=t.atoms,self.volume=t.volume,self.ps=new ProteinSurface;else{var n=self.ps;n.initparm(t.expandedExtent,r!=1,self.volume),n.fillvoxels(self.atomData,t.extendedAtoms),n.buildboundary(),(r===4||r===2)&&(n.fastdistancemap(),n.boundingatom(!1),n.fillvoxelswaals(self.atomData,t.extendedAtoms)),n.marchingcube(r);var a=n.getFacesAndVertices(t.atomsToShow);self.postMessage(a)}}}.toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":e=>{typeof e.exports=="object"&&(e.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(e,t){(function(r,n){n(t)})(this,function(r){"use strict";function n(le,ue,ge){for(var $e=(le.byteLength,0),Oe=ge.length;Oe>$e;$e++){var at=ge.charCodeAt($e);if(128>at)le.setUint8(ue++,at>>>0&127|0);else if(2048>at)le.setUint8(ue++,at>>>6&31|192),le.setUint8(ue++,at>>>0&63|128);else if(65536>at)le.setUint8(ue++,at>>>12&15|224),le.setUint8(ue++,at>>>6&63|128),le.setUint8(ue++,at>>>0&63|128);else{if(!(1114112>at))throw new Error("bad codepoint "+at);le.setUint8(ue++,at>>>18&7|240),le.setUint8(ue++,at>>>12&63|128),le.setUint8(ue++,at>>>6&63|128),le.setUint8(ue++,at>>>0&63|128)}}}function a(le){for(var ue=0,ge=0,$e=le.length;$e>ge;ge++){var Oe=le.charCodeAt(ge);if(128>Oe)ue+=1;else if(2048>Oe)ue+=2;else if(65536>Oe)ue+=3;else{if(!(1114112>Oe))throw new Error("bad codepoint "+Oe);ue+=4}}return ue}function s(le,ue,ge){var $e=typeof le;if($e==="string"){var Oe=a(le);if(32>Oe)return ue.setUint8(ge,160|Oe),n(ue,ge+1,le),1+Oe;if(256>Oe)return ue.setUint8(ge,217),ue.setUint8(ge+1,Oe),n(ue,ge+2,le),2+Oe;if(65536>Oe)return ue.setUint8(ge,218),ue.setUint16(ge+1,Oe),n(ue,ge+3,le),3+Oe;if(4294967296>Oe)return ue.setUint8(ge,219),ue.setUint32(ge+1,Oe),n(ue,ge+5,le),5+Oe}if(le instanceof Uint8Array){var Oe=le.byteLength,at=new Uint8Array(ue.buffer);if(256>Oe)return ue.setUint8(ge,196),ue.setUint8(ge+1,Oe),at.set(le,ge+2),2+Oe;if(65536>Oe)return ue.setUint8(ge,197),ue.setUint16(ge+1,Oe),at.set(le,ge+3),3+Oe;if(4294967296>Oe)return ue.setUint8(ge,198),ue.setUint32(ge+1,Oe),at.set(le,ge+5),5+Oe}if($e==="number"){if(!isFinite(le))throw new Error("Number not finite: "+le);if(Math.floor(le)!==le)return ue.setUint8(ge,203),ue.setFloat64(ge+1,le),9;if(le>=0){if(128>le)return ue.setUint8(ge,le),1;if(256>le)return ue.setUint8(ge,204),ue.setUint8(ge+1,le),2;if(65536>le)return ue.setUint8(ge,205),ue.setUint16(ge+1,le),3;if(4294967296>le)return ue.setUint8(ge,206),ue.setUint32(ge+1,le),5;throw new Error("Number too big 0x"+le.toString(16))}if(le>=-32)return ue.setInt8(ge,le),1;if(le>=-128)return ue.setUint8(ge,208),ue.setInt8(ge+1,le),2;if(le>=-32768)return ue.setUint8(ge,209),ue.setInt16(ge+1,le),3;if(le>=-2147483648)return ue.setUint8(ge,210),ue.setInt32(ge+1,le),5;throw new Error("Number too small -0x"+(-le).toString(16).substr(1))}if(le===null)return ue.setUint8(ge,192),1;if($e==="boolean")return ue.setUint8(ge,le?195:194),1;if($e==="object"){var Oe,Ge=0,lt=Array.isArray(le);if(lt)Oe=le.length;else{var se=Object.keys(le);Oe=se.length}var Ge;if(16>Oe?(ue.setUint8(ge,Oe|(lt?144:128)),Ge=1):65536>Oe?(ue.setUint8(ge,lt?220:222),ue.setUint16(ge+1,Oe),Ge=3):4294967296>Oe&&(ue.setUint8(ge,lt?221:223),ue.setUint32(ge+1,Oe),Ge=5),lt)for(var Je=0;Oe>Je;Je++)Ge+=s(le[Je],ue,ge+Ge);else for(var Je=0;Oe>Je;Je++){var mt=se[Je];Ge+=s(mt,ue,ge+Ge),Ge+=s(le[mt],ue,ge+Ge)}return Ge}throw new Error("Unknown type "+$e)}function o(le){var ue=typeof le;if(ue==="string"){var ge=a(le);if(32>ge)return 1+ge;if(256>ge)return 2+ge;if(65536>ge)return 3+ge;if(4294967296>ge)return 5+ge}if(le instanceof Uint8Array){var ge=le.byteLength;if(256>ge)return 2+ge;if(65536>ge)return 3+ge;if(4294967296>ge)return 5+ge}if(ue==="number"){if(Math.floor(le)!==le)return 9;if(le>=0){if(128>le)return 1;if(256>le)return 2;if(65536>le)return 3;if(4294967296>le)return 5;throw new Error("Number too big 0x"+le.toString(16))}if(le>=-32)return 1;if(le>=-128)return 2;if(le>=-32768)return 3;if(le>=-2147483648)return 5;throw new Error("Number too small -0x"+le.toString(16).substr(1))}if(ue==="boolean"||le===null)return 1;if(ue==="object"){var ge,$e=0;if(Array.isArray(le)){ge=le.length;for(var Oe=0;ge>Oe;Oe++)$e+=o(le[Oe])}else{var at=Object.keys(le);ge=at.length;for(var Oe=0;ge>Oe;Oe++){var lt=at[Oe];$e+=o(lt)+o(le[lt])}}if(16>ge)return 1+$e;if(65536>ge)return 3+$e;if(4294967296>ge)return 5+$e;throw new Error("Array or object too long 0x"+ge.toString(16))}throw new Error("Unknown type "+ue)}function l(le){var ue=new ArrayBuffer(o(le)),ge=new DataView(ue);return s(le,ge,0),new Uint8Array(ue)}function u(le,ue,ge){return ue?new le(ue.buffer,ue.byteOffset,ue.byteLength/(ge||1)):void 0}function g(le){return u(DataView,le)}function p(le){return u(Uint8Array,le)}function _(le){return u(Int8Array,le)}function x(le){return u(Int32Array,le,4)}function S(le){return u(Float32Array,le,4)}function w(le,ue){var ge=le.length/2;ue||(ue=new Int16Array(ge));for(var $e=0,Oe=0;ge>$e;++$e,Oe+=2)ue[$e]=le[Oe]<<8^le[Oe+1]<<0;return ue}function c(le,ue){var ge=le.length;ue||(ue=new Uint8Array(2*ge));for(var $e=g(ue),Oe=0;ge>Oe;++Oe)$e.setInt16(2*Oe,le[Oe]);return p(ue)}function v(le,ue){var ge=le.length/4;ue||(ue=new Int32Array(ge));for(var $e=0,Oe=0;ge>$e;++$e,Oe+=4)ue[$e]=le[Oe]<<24^le[Oe+1]<<16^le[Oe+2]<<8^le[Oe+3]<<0;return ue}function y(le,ue){var ge=le.length;ue||(ue=new Uint8Array(4*ge));for(var $e=g(ue),Oe=0;ge>Oe;++Oe)$e.setInt32(4*Oe,le[Oe]);return p(ue)}function b(le,ue){var ge=le.length;ue||(ue=new Float32Array(ge/4));for(var $e=g(ue),Oe=g(le),at=0,lt=0,se=ge/4;se>at;++at,lt+=4)$e.setFloat32(lt,Oe.getFloat32(lt),!0);return ue}function C(le,ue,ge){var $e=le.length,Oe=1/ue;ge||(ge=new Float32Array($e));for(var at=0;$e>at;++at)ge[at]=le[at]*Oe;return ge}function E(le,ue,ge){var $e=le.length;ge||(ge=new Int32Array($e));for(var Oe=0;$e>Oe;++Oe)ge[Oe]=Math.round(le[Oe]*ue);return ge}function h(le,ue){var ge,$e;if(!ue){var Oe=0;for(ge=0,$e=le.length;$e>ge;ge+=2)Oe+=le[ge+1];ue=new le.constructor(Oe)}var at=0;for(ge=0,$e=le.length;$e>ge;ge+=2)for(var lt=le[ge],se=le[ge+1],Ge=0;se>Ge;++Ge)ue[at]=lt,++at;return ue}function f(le){if(le.length===0)return new Int32Array;var ue,ge,$e=2;for(ue=1,ge=le.length;ge>ue;++ue)le[ue-1]!==le[ue]&&($e+=2);var Oe=new Int32Array($e),at=0,lt=1;for(ue=1,ge=le.length;ge>ue;++ue)le[ue-1]!==le[ue]?(Oe[at]=le[ue-1],Oe[at+1]=lt,lt=1,at+=2):++lt;return Oe[at]=le[le.length-1],Oe[at+1]=lt,Oe}function D(le,ue){var ge=le.length;ue||(ue=new le.constructor(ge)),ge&&(ue[0]=le[0]);for(var $e=1;ge>$e;++$e)ue[$e]=le[$e]+ue[$e-1];return ue}function M(le,ue){var ge=le.length;ue||(ue=new le.constructor(ge)),ue[0]=le[0];for(var $e=1;ge>$e;++$e)ue[$e]=le[$e]-le[$e-1];return ue}function N(le,ue){var ge,$e,Oe=le instanceof Int8Array?127:32767,at=-Oe-1,lt=le.length;if(!ue){var se=0;for(ge=0;lt>ge;++ge)le[ge]<Oe&&le[ge]>at&&++se;ue=new Int32Array(se)}for(ge=0,$e=0;lt>ge;){for(var Ge=0;le[ge]===Oe||le[ge]===at;)Ge+=le[ge],++ge;Ge+=le[ge],++ge,ue[$e]=Ge,++$e}return ue}function k(le,ue){var ge,$e=ue?127:32767,Oe=-$e-1,at=le.length,lt=0;for(ge=0;at>ge;++ge){var se=le[ge];se===0?++lt:se>0?(lt+=Math.ceil(se/$e),se%$e===0&&(lt+=1)):(lt+=Math.ceil(se/Oe),se%Oe===0&&(lt+=1))}var Ge=ue?new Int8Array(lt):new Int16Array(lt),Je=0;for(ge=0;at>ge;++ge){var se=le[ge];if(se>=0)for(;se>=$e;)Ge[Je]=$e,++Je,se-=$e;else for(;Oe>=se;)Ge[Je]=Oe,++Je,se-=Oe;Ge[Je]=se,++Je}return Ge}function z(le,ue){return D(h(le),ue)}function O(le){return f(M(le))}function I(le,ue,ge){return C(h(le,x(ge)),ue,ge)}function H(le,ue){return f(E(le,ue))}function Y(le,ue,ge){return C(D(le,x(ge)),ue,ge)}function q(le,ue,ge){return M(E(le,ue),ge)}function G(le,ue,ge){return C(N(le,x(ge)),ue,ge)}function $(le,ue,ge){var $e=N(le,x(ge));return Y($e,ue,S($e))}function R(le,ue,ge){return k(q(le,ue),ge)}function V(at){var ue=g(at),ge=ue.getInt32(0),$e=ue.getInt32(4),Oe=at.subarray(8,12),at=at.subarray(12);return[ge,at,$e,Oe]}function X(le,ue,ge,$e){var Oe=new ArrayBuffer(12+$e.byteLength),at=new Uint8Array(Oe),lt=new DataView(Oe);return lt.setInt32(0,le),lt.setInt32(4,ue),ge&&at.set(ge,8),at.set($e,12),at}function Q(le){var ue=le.length,ge=p(le);return X(2,ue,void 0,ge)}function te(le){var ue=le.length,ge=y(le);return X(4,ue,void 0,ge)}function we(le,ue){var ge=le.length/ue,$e=y([ue]),Oe=p(le);return X(5,ge,$e,Oe)}function Pe(le){var ue=le.length,ge=y(f(le));return X(6,ue,void 0,ge)}function xe(le){var ue=le.length,ge=y(O(le));return X(8,ue,void 0,ge)}function Fe(le,ue){var ge=le.length,$e=y([ue]),Oe=y(H(le,ue));return X(9,ge,$e,Oe)}function Ae(le,ue){var ge=le.length,$e=y([ue]),Oe=c(R(le,ue));return X(10,ge,$e,Oe)}function be(le){var ue={};return Ce.forEach(function(ge){le[ge]!==void 0&&(ue[ge]=le[ge])}),le.bondAtomList&&(ue.bondAtomList=te(le.bondAtomList)),le.bondOrderList&&(ue.bondOrderList=Q(le.bondOrderList)),ue.xCoordList=Ae(le.xCoordList,1e3),ue.yCoordList=Ae(le.yCoordList,1e3),ue.zCoordList=Ae(le.zCoordList,1e3),le.bFactorList&&(ue.bFactorList=Ae(le.bFactorList,100)),le.atomIdList&&(ue.atomIdList=xe(le.atomIdList)),le.altLocList&&(ue.altLocList=Pe(le.altLocList)),le.occupancyList&&(ue.occupancyList=Fe(le.occupancyList,100)),ue.groupIdList=xe(le.groupIdList),ue.groupTypeList=te(le.groupTypeList),le.secStructList&&(ue.secStructList=Q(le.secStructList)),le.insCodeList&&(ue.insCodeList=Pe(le.insCodeList)),le.sequenceIndexList&&(ue.sequenceIndexList=xe(le.sequenceIndexList)),ue.chainIdList=we(le.chainIdList,4),le.chainNameList&&(ue.chainNameList=we(le.chainNameList,4)),ue}function Qe(le){function ue(Ge){for(var Je={},mt=0;Ge>mt;mt++){var Le=at();Je[Le]=at()}return Je}function ge(Ge){var Je=le.subarray(lt,lt+Ge);return lt+=Ge,Je}function $e(Ge){var Je=le.subarray(lt,lt+Ge);lt+=Ge;var mt=65535;if(Ge>mt){for(var Le=[],ut=0;ut<Je.length;ut+=mt)Le.push(String.fromCharCode.apply(null,Je.subarray(ut,ut+mt)));return Le.join("")}return String.fromCharCode.apply(null,Je)}function Oe(Ge){for(var Je=new Array(Ge),mt=0;Ge>mt;mt++)Je[mt]=at();return Je}function at(){var Ge,Je,mt=le[lt];if(!(128&mt))return lt++,mt;if((240&mt)===128)return Je=15&mt,lt++,ue(Je);if((240&mt)===144)return Je=15&mt,lt++,Oe(Je);if((224&mt)===160)return Je=31&mt,lt++,$e(Je);if((224&mt)===224)return Ge=se.getInt8(lt),lt++,Ge;switch(mt){case 192:return lt++,null;case 194:return lt++,!1;case 195:return lt++,!0;case 196:return Je=se.getUint8(lt+1),lt+=2,ge(Je);case 197:return Je=se.getUint16(lt+1),lt+=3,ge(Je);case 198:return Je=se.getUint32(lt+1),lt+=5,ge(Je);case 202:return Ge=se.getFloat32(lt+1),lt+=5,Ge;case 203:return Ge=se.getFloat64(lt+1),lt+=9,Ge;case 204:return Ge=le[lt+1],lt+=2,Ge;case 205:return Ge=se.getUint16(lt+1),lt+=3,Ge;case 206:return Ge=se.getUint32(lt+1),lt+=5,Ge;case 208:return Ge=se.getInt8(lt+1),lt+=2,Ge;case 209:return Ge=se.getInt16(lt+1),lt+=3,Ge;case 210:return Ge=se.getInt32(lt+1),lt+=5,Ge;case 217:return Je=se.getUint8(lt+1),lt+=2,$e(Je);case 218:return Je=se.getUint16(lt+1),lt+=3,$e(Je);case 219:return Je=se.getUint32(lt+1),lt+=5,$e(Je);case 220:return Je=se.getUint16(lt+1),lt+=3,Oe(Je);case 221:return Je=se.getUint32(lt+1),lt+=5,Oe(Je);case 222:return Je=se.getUint16(lt+1),lt+=3,ue(Je);case 223:return Je=se.getUint32(lt+1),lt+=5,ue(Je)}throw new Error("Unknown type 0x"+mt.toString(16))}var lt=0,se=new DataView(le.buffer);return at()}function Xe(le,ue,ge,$e){switch(le){case 1:return b(ue);case 2:return _(ue);case 3:return w(ue);case 4:return v(ue);case 5:return p(ue);case 6:return h(v(ue),new Uint8Array(ge));case 7:return h(v(ue));case 8:return z(v(ue));case 9:return I(v(ue),v($e)[0]);case 10:return $(w(ue),v($e)[0]);case 11:return C(w(ue),v($e)[0]);case 12:return G(w(ue),v($e)[0]);case 13:return G(_(ue),v($e)[0]);case 14:return N(w(ue));case 15:return N(_(ue))}}function U(le,ue){ue=ue||{};var ge=ue.ignoreFields,$e={};return Re.forEach(function(Oe){var at=ge?ge.indexOf(Oe)!==-1:!1,lt=le[Oe];at||lt===void 0||(lt instanceof Uint8Array?$e[Oe]=Xe.apply(null,V(lt)):$e[Oe]=lt)}),$e}function pe(le){return String.fromCharCode.apply(null,le).replace(/\0/g,"")}function _e(le,ue,ge){ge=ge||{};var $e,Oe,at,lt,se,Ge,Je=ge.firstModelOnly,mt=ue.onModel,Le=ue.onChain,ut=ue.onGroup,oe=ue.onAtom,dt=ue.onBond,At=0,W=0,Ve=0,Ye=0,ce=0,ze=-1,tt=le.chainNameList,Lt=le.secStructList,Mt=le.insCodeList,st=le.sequenceIndexList,Jt=le.atomIdList,Zr=le.bFactorList,Yt=le.altLocList,er=le.occupancyList,Nt=le.bondAtomList,Or=le.bondOrderList;for($e=0,Oe=le.chainsPerModel.length;Oe>$e&&!(Je&&At>0);++$e){var Mr=le.chainsPerModel[At];for(mt&&mt({chainCount:Mr,modelIndex:At}),at=0;Mr>at;++at){var Br=le.groupsPerChain[W];if(Le){var nn=pe(le.chainIdList.subarray(4*W,4*W+4)),dr=null;tt&&(dr=pe(tt.subarray(4*W,4*W+4))),Le({groupCount:Br,chainIndex:W,modelIndex:At,chainId:nn,chainName:dr})}for(lt=0;Br>lt;++lt){var Xt=le.groupList[le.groupTypeList[Ve]],ir=Xt.atomNameList.length;if(ut){var Ur=null;Lt&&(Ur=Lt[Ve]);var Wr=null;le.insCodeList&&(Wr=String.fromCharCode(Mt[Ve]));var wi=null;st&&(wi=st[Ve]),ut({atomCount:ir,groupIndex:Ve,chainIndex:W,modelIndex:At,groupId:le.groupIdList[Ve],groupType:le.groupTypeList[Ve],groupName:Xt.groupName,singleLetterCode:Xt.singleLetterCode,chemCompType:Xt.chemCompType,secStruct:Ur,insCode:Wr,sequenceIndex:wi})}for(se=0;ir>se;++se){if(oe){var Ss=null;Jt&&(Ss=Jt[Ye]);var xa=null;Zr&&(xa=Zr[Ye]);var Ar=null;Yt&&(Ar=String.fromCharCode(Yt[Ye]));var ta=null;er&&(ta=er[Ye]),oe({atomIndex:Ye,groupIndex:Ve,chainIndex:W,modelIndex:At,atomId:Ss,element:Xt.elementList[se],atomName:Xt.atomNameList[se],formalCharge:Xt.formalChargeList[se],xCoord:le.xCoordList[Ye],yCoord:le.yCoordList[Ye],zCoord:le.zCoordList[Ye],bFactor:xa,altLoc:Ar,occupancy:ta})}Ye+=1}if(dt){var Cs=Xt.bondAtomList;for(se=0,Ge=Xt.bondOrderList.length;Ge>se;++se)dt({atomIndex1:Ye-ir+Cs[2*se],atomIndex2:Ye-ir+Cs[2*se+1],bondOrder:Xt.bondOrderList[se]})}Ve+=1}W+=1}if(ce=ze+1,ze=Ye-1,dt&&Nt)for(se=0,Ge=Nt.length;Ge>se;se+=2){var Xa=Nt[se],$a=Nt[se+1];(Xa>=ce&&ze>=Xa||$a>=ce&&ze>=$a)&&dt({atomIndex1:Xa,atomIndex2:$a,bondOrder:Or?Or[se/2]:null})}At+=1}}function ie(le){return l(be(le))}function de(le,ue){le instanceof ArrayBuffer&&(le=new Uint8Array(le));var ge;return ge=le instanceof Uint8Array?Qe(le):le,U(ge,ue)}function ye(le,ue,ge,$e){function Oe(){try{var lt=de(at.response);ge(lt)}catch(se){$e(se)}}var at=new XMLHttpRequest;at.addEventListener("load",Oe,!0),at.addEventListener("error",$e,!0),at.responseType="arraybuffer",at.open("GET",ue+le.toUpperCase()),at.send()}function je(le,ue,ge){ye(le,pt,ue,ge)}function Be(le,ue,ge){ye(le,yt,ue,ge)}var Ce=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],Ie=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],Re=Ce.concat(Ie),Ke="v1.0.1",Ne="//mmtf.rcsb.org/v1.0/",pt=Ne+"full/",yt=Ne+"reduced/";r.encode=ie,r.decode=de,r.traverse=_e,r.fetch=je,r.fetchReduced=Be,r.version=Ke,r.fetchUrl=pt,r.fetchReducedUrl=yt,r.encodeMsgpack=l,r.encodeMmtf=be,r.decodeMsgpack=Qe,r.decodeMmtf=U})},"./node_modules/pako/dist/pako.esm.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Deflate:()=>Bh,Inflate:()=>Rh,constants:()=>pl,default:()=>Gh,deflate:()=>Uh,deflateRaw:()=>jh,gzip:()=>Et,inflate:()=>Wh,inflateRaw:()=>_d,ungzip:()=>yr});let n=4,a=0,s=1,o=2;function l(L){let ne=L.length;for(;--ne>=0;)L[ne]=0}let u=0,g=1,p=2,_=3,x=258,S=29,w=256,c=w+1+S,v=30,y=19,b=2*c+1,C=15,E=16,h=7,f=256,D=16,M=17,N=18,k=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),z=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),O=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H=512,Y=new Array((c+2)*2);l(Y);let q=new Array(v*2);l(q);let G=new Array(H);l(G);let $=new Array(x-_+1);l($);let R=new Array(S);l(R);let V=new Array(v);l(V);function X(L,ne,B,me,Me){this.static_tree=L,this.extra_bits=ne,this.extra_base=B,this.elems=me,this.max_length=Me,this.has_stree=L&&L.length}let Q,te,we;function Pe(L,ne){this.dyn_tree=L,this.max_code=0,this.stat_desc=ne}let xe=L=>L<256?G[L]:G[256+(L>>>7)],Fe=(L,ne)=>{L.pending_buf[L.pending++]=ne&255,L.pending_buf[L.pending++]=ne>>>8&255},Ae=(L,ne,B)=>{L.bi_valid>E-B?(L.bi_buf|=ne<<L.bi_valid&65535,Fe(L,L.bi_buf),L.bi_buf=ne>>E-L.bi_valid,L.bi_valid+=B-E):(L.bi_buf|=ne<<L.bi_valid&65535,L.bi_valid+=B)},be=(L,ne,B)=>{Ae(L,B[ne*2],B[ne*2+1])},Qe=(L,ne)=>{let B=0;do B|=L&1,L>>>=1,B<<=1;while(--ne>0);return B>>>1},Xe=L=>{L.bi_valid===16?(Fe(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=L.bi_buf&255,L.bi_buf>>=8,L.bi_valid-=8)},U=(L,ne)=>{let B=ne.dyn_tree,me=ne.max_code,Me=ne.stat_desc.static_tree,De=ne.stat_desc.has_stree,it=ne.stat_desc.extra_bits,qe=ne.stat_desc.extra_base,Ft=ne.stat_desc.max_length,He,ft,xr,zt,Ct,Kt,$r=0;for(zt=0;zt<=C;zt++)L.bl_count[zt]=0;for(B[L.heap[L.heap_max]*2+1]=0,He=L.heap_max+1;He<b;He++)ft=L.heap[He],zt=B[B[ft*2+1]*2+1]+1,zt>Ft&&(zt=Ft,$r++),B[ft*2+1]=zt,!(ft>me)&&(L.bl_count[zt]++,Ct=0,ft>=qe&&(Ct=it[ft-qe]),Kt=B[ft*2],L.opt_len+=Kt*(zt+Ct),De&&(L.static_len+=Kt*(Me[ft*2+1]+Ct)));if($r!==0){do{for(zt=Ft-1;L.bl_count[zt]===0;)zt--;L.bl_count[zt]--,L.bl_count[zt+1]+=2,L.bl_count[Ft]--,$r-=2}while($r>0);for(zt=Ft;zt!==0;zt--)for(ft=L.bl_count[zt];ft!==0;)xr=L.heap[--He],!(xr>me)&&(B[xr*2+1]!==zt&&(L.opt_len+=(zt-B[xr*2+1])*B[xr*2],B[xr*2+1]=zt),ft--)}},pe=(L,ne,B)=>{let me=new Array(C+1),Me=0,De,it;for(De=1;De<=C;De++)Me=Me+B[De-1]<<1,me[De]=Me;for(it=0;it<=ne;it++){let qe=L[it*2+1];qe!==0&&(L[it*2]=Qe(me[qe]++,qe))}},_e=()=>{let L,ne,B,me,Me,De=new Array(C+1);for(B=0,me=0;me<S-1;me++)for(R[me]=B,L=0;L<1<<k[me];L++)$[B++]=me;for($[B-1]=me,Me=0,me=0;me<16;me++)for(V[me]=Me,L=0;L<1<<z[me];L++)G[Me++]=me;for(Me>>=7;me<v;me++)for(V[me]=Me<<7,L=0;L<1<<z[me]-7;L++)G[256+Me++]=me;for(ne=0;ne<=C;ne++)De[ne]=0;for(L=0;L<=143;)Y[L*2+1]=8,L++,De[8]++;for(;L<=255;)Y[L*2+1]=9,L++,De[9]++;for(;L<=279;)Y[L*2+1]=7,L++,De[7]++;for(;L<=287;)Y[L*2+1]=8,L++,De[8]++;for(pe(Y,c+1,De),L=0;L<v;L++)q[L*2+1]=5,q[L*2]=Qe(L,5);Q=new X(Y,k,w+1,c,C),te=new X(q,z,0,v,C),we=new X(new Array(0),O,0,y,h)},ie=L=>{let ne;for(ne=0;ne<c;ne++)L.dyn_ltree[ne*2]=0;for(ne=0;ne<v;ne++)L.dyn_dtree[ne*2]=0;for(ne=0;ne<y;ne++)L.bl_tree[ne*2]=0;L.dyn_ltree[f*2]=1,L.opt_len=L.static_len=0,L.sym_next=L.matches=0},de=L=>{L.bi_valid>8?Fe(L,L.bi_buf):L.bi_valid>0&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0},ye=(L,ne,B,me)=>{let Me=ne*2,De=B*2;return L[Me]<L[De]||L[Me]===L[De]&&me[ne]<=me[B]},je=(L,ne,B)=>{let me=L.heap[B],Me=B<<1;for(;Me<=L.heap_len&&(Me<L.heap_len&&ye(ne,L.heap[Me+1],L.heap[Me],L.depth)&&Me++,!ye(ne,me,L.heap[Me],L.depth));)L.heap[B]=L.heap[Me],B=Me,Me<<=1;L.heap[B]=me},Be=(L,ne,B)=>{let me,Me,De=0,it,qe;if(L.sym_next!==0)do me=L.pending_buf[L.sym_buf+De++]&255,me+=(L.pending_buf[L.sym_buf+De++]&255)<<8,Me=L.pending_buf[L.sym_buf+De++],me===0?be(L,Me,ne):(it=$[Me],be(L,it+w+1,ne),qe=k[it],qe!==0&&(Me-=R[it],Ae(L,Me,qe)),me--,it=xe(me),be(L,it,B),qe=z[it],qe!==0&&(me-=V[it],Ae(L,me,qe)));while(De<L.sym_next);be(L,f,ne)},Ce=(L,ne)=>{let B=ne.dyn_tree,me=ne.stat_desc.static_tree,Me=ne.stat_desc.has_stree,De=ne.stat_desc.elems,it,qe,Ft=-1,He;for(L.heap_len=0,L.heap_max=b,it=0;it<De;it++)B[it*2]!==0?(L.heap[++L.heap_len]=Ft=it,L.depth[it]=0):B[it*2+1]=0;for(;L.heap_len<2;)He=L.heap[++L.heap_len]=Ft<2?++Ft:0,B[He*2]=1,L.depth[He]=0,L.opt_len--,Me&&(L.static_len-=me[He*2+1]);for(ne.max_code=Ft,it=L.heap_len>>1;it>=1;it--)je(L,B,it);He=De;do it=L.heap[1],L.heap[1]=L.heap[L.heap_len--],je(L,B,1),qe=L.heap[1],L.heap[--L.heap_max]=it,L.heap[--L.heap_max]=qe,B[He*2]=B[it*2]+B[qe*2],L.depth[He]=(L.depth[it]>=L.depth[qe]?L.depth[it]:L.depth[qe])+1,B[it*2+1]=B[qe*2+1]=He,L.heap[1]=He++,je(L,B,1);while(L.heap_len>=2);L.heap[--L.heap_max]=L.heap[1],U(L,ne),pe(B,Ft,L.bl_count)},Ie=(L,ne,B)=>{let me,Me=-1,De,it=ne[0*2+1],qe=0,Ft=7,He=4;for(it===0&&(Ft=138,He=3),ne[(B+1)*2+1]=65535,me=0;me<=B;me++)De=it,it=ne[(me+1)*2+1],!(++qe<Ft&&De===it)&&(qe<He?L.bl_tree[De*2]+=qe:De!==0?(De!==Me&&L.bl_tree[De*2]++,L.bl_tree[D*2]++):qe<=10?L.bl_tree[M*2]++:L.bl_tree[N*2]++,qe=0,Me=De,it===0?(Ft=138,He=3):De===it?(Ft=6,He=3):(Ft=7,He=4))},Re=(L,ne,B)=>{let me,Me=-1,De,it=ne[0*2+1],qe=0,Ft=7,He=4;for(it===0&&(Ft=138,He=3),me=0;me<=B;me++)if(De=it,it=ne[(me+1)*2+1],!(++qe<Ft&&De===it)){if(qe<He)do be(L,De,L.bl_tree);while(--qe!==0);else De!==0?(De!==Me&&(be(L,De,L.bl_tree),qe--),be(L,D,L.bl_tree),Ae(L,qe-3,2)):qe<=10?(be(L,M,L.bl_tree),Ae(L,qe-3,3)):(be(L,N,L.bl_tree),Ae(L,qe-11,7));qe=0,Me=De,it===0?(Ft=138,He=3):De===it?(Ft=6,He=3):(Ft=7,He=4)}},Ke=L=>{let ne;for(Ie(L,L.dyn_ltree,L.l_desc.max_code),Ie(L,L.dyn_dtree,L.d_desc.max_code),Ce(L,L.bl_desc),ne=y-1;ne>=3&&L.bl_tree[I[ne]*2+1]===0;ne--);return L.opt_len+=3*(ne+1)+5+5+4,ne},Ne=(L,ne,B,me)=>{let Me;for(Ae(L,ne-257,5),Ae(L,B-1,5),Ae(L,me-4,4),Me=0;Me<me;Me++)Ae(L,L.bl_tree[I[Me]*2+1],3);Re(L,L.dyn_ltree,ne-1),Re(L,L.dyn_dtree,B-1)},pt=L=>{let ne=4093624447,B;for(B=0;B<=31;B++,ne>>>=1)if(ne&1&&L.dyn_ltree[B*2]!==0)return a;if(L.dyn_ltree[9*2]!==0||L.dyn_ltree[10*2]!==0||L.dyn_ltree[13*2]!==0)return s;for(B=32;B<w;B++)if(L.dyn_ltree[B*2]!==0)return s;return a},yt=!1,le=L=>{yt||(_e(),yt=!0),L.l_desc=new Pe(L.dyn_ltree,Q),L.d_desc=new Pe(L.dyn_dtree,te),L.bl_desc=new Pe(L.bl_tree,we),L.bi_buf=0,L.bi_valid=0,ie(L)},ue=(L,ne,B,me)=>{Ae(L,(u<<1)+(me?1:0),3),de(L),Fe(L,B),Fe(L,~B),B&&L.pending_buf.set(L.window.subarray(ne,ne+B),L.pending),L.pending+=B},ge=L=>{Ae(L,g<<1,3),be(L,f,Y),Xe(L)},$e=(L,ne,B,me)=>{let Me,De,it=0;L.level>0?(L.strm.data_type===o&&(L.strm.data_type=pt(L)),Ce(L,L.l_desc),Ce(L,L.d_desc),it=Ke(L),Me=L.opt_len+3+7>>>3,De=L.static_len+3+7>>>3,De<=Me&&(Me=De)):Me=De=B+5,B+4<=Me&&ne!==-1?ue(L,ne,B,me):L.strategy===n||De===Me?(Ae(L,(g<<1)+(me?1:0),3),Be(L,Y,q)):(Ae(L,(p<<1)+(me?1:0),3),Ne(L,L.l_desc.max_code+1,L.d_desc.max_code+1,it+1),Be(L,L.dyn_ltree,L.dyn_dtree)),ie(L),me&&de(L)},Oe=(L,ne,B)=>(L.pending_buf[L.sym_buf+L.sym_next++]=ne,L.pending_buf[L.sym_buf+L.sym_next++]=ne>>8,L.pending_buf[L.sym_buf+L.sym_next++]=B,ne===0?L.dyn_ltree[B*2]++:(L.matches++,ne--,L.dyn_ltree[($[B]+w+1)*2]++,L.dyn_dtree[xe(ne)*2]++),L.sym_next===L.sym_end);var at=le,lt=ue,se=$e,Ge=Oe,Je=ge,mt={_tr_init:at,_tr_stored_block:lt,_tr_flush_block:se,_tr_tally:Ge,_tr_align:Je},ut=(L,ne,B,me)=>{let Me=L&65535|0,De=L>>>16&65535|0,it=0;for(;B!==0;){it=B>2e3?2e3:B,B-=it;do Me=Me+ne[me++]|0,De=De+Me|0;while(--it);Me%=65521,De%=65521}return Me|De<<16|0};let oe=()=>{let L,ne=[];for(var B=0;B<256;B++){L=B;for(var me=0;me<8;me++)L=L&1?3988292384^L>>>1:L>>>1;ne[B]=L}return ne},dt=new Uint32Array(oe());var W=(L,ne,B,me)=>{let Me=dt,De=me+B;L^=-1;for(let it=me;it<De;it++)L=L>>>8^Me[(L^ne[it])&255];return L^-1},Ve={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ye={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:ce,_tr_stored_block:ze,_tr_flush_block:tt,_tr_tally:Lt,_tr_align:Mt}=mt,{Z_NO_FLUSH:st,Z_PARTIAL_FLUSH:Jt,Z_FULL_FLUSH:Zr,Z_FINISH:Yt,Z_BLOCK:er,Z_OK:Nt,Z_STREAM_END:Or,Z_STREAM_ERROR:Mr,Z_DATA_ERROR:Br,Z_BUF_ERROR:nn,Z_DEFAULT_COMPRESSION:dr,Z_FILTERED:Xt,Z_HUFFMAN_ONLY:ir,Z_RLE:Ur,Z_FIXED:Wr,Z_DEFAULT_STRATEGY:wi,Z_UNKNOWN:Ss,Z_DEFLATED:xa}=Ye,Ar=9,ta=15,Cs=8,el=256+1+29,tl=30,qf=19,Jf=2*el+1,mu=15,sr=3,li=258,$n=li+sr+1,Nn=32,ui=42,Qa=57,so=69,wa=73,qa=91,oo=103,Si=113,Ci=666,fn=1,Sa=2,Xr=3,En=4,Es=3,Ca=(L,ne)=>(L.msg=Ve[ne],ne),gu=L=>L*2-(L>4?9:0),Pn=L=>{let ne=L.length;for(;--ne>=0;)L[ne]=0},Ea=L=>{let ne,B,me,Me=L.w_size;ne=L.hash_size,me=ne;do B=L.head[--me],L.head[me]=B>=Me?B-Me:0;while(--ne);ne=Me,me=ne;do B=L.prev[--me],L.prev[me]=B>=Me?B-Me:0;while(--ne)},ra=(L,ne,B)=>(ne<<L.hash_shift^B)&L.hash_mask,mn=L=>{let ne=L.state,B=ne.pending;B>L.avail_out&&(B=L.avail_out),B!==0&&(L.output.set(ne.pending_buf.subarray(ne.pending_out,ne.pending_out+B),L.next_out),L.next_out+=B,ne.pending_out+=B,L.total_out+=B,L.avail_out-=B,ne.pending-=B,ne.pending===0&&(ne.pending_out=0))},yn=(L,ne)=>{tt(L,L.block_start>=0?L.block_start:-1,L.strstart-L.block_start,ne),L.block_start=L.strstart,mn(L.strm)},hr=(L,ne)=>{L.pending_buf[L.pending++]=ne},Da=(L,ne)=>{L.pending_buf[L.pending++]=ne>>>8&255,L.pending_buf[L.pending++]=ne&255},lo=(L,ne,B,me)=>{let Me=L.avail_in;return Me>me&&(Me=me),Me===0?0:(L.avail_in-=Me,ne.set(L.input.subarray(L.next_in,L.next_in+Me),B),L.state.wrap===1?L.adler=ut(L.adler,ne,Me,B):L.state.wrap===2&&(L.adler=W(L.adler,ne,Me,B)),L.next_in+=Me,L.total_in+=Me,Me)},_u=(L,ne)=>{let B=L.max_chain_length,me=L.strstart,Me,De,it=L.prev_length,qe=L.nice_match,Ft=L.strstart>L.w_size-$n?L.strstart-(L.w_size-$n):0,He=L.window,ft=L.w_mask,xr=L.prev,zt=L.strstart+li,Ct=He[me+it-1],Kt=He[me+it];L.prev_length>=L.good_match&&(B>>=2),qe>L.lookahead&&(qe=L.lookahead);do if(Me=ne,!(He[Me+it]!==Kt||He[Me+it-1]!==Ct||He[Me]!==He[me]||He[++Me]!==He[me+1])){me+=2,Me++;do;while(He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&me<zt);if(De=li-(zt-me),me=zt-li,De>it){if(L.match_start=ne,it=De,De>=qe)break;Ct=He[me+it-1],Kt=He[me+it]}}while((ne=xr[ne&ft])>Ft&&--B!==0);return it<=L.lookahead?it:L.lookahead},Ma=L=>{let ne=L.w_size,B,me,Me;do{if(me=L.window_size-L.lookahead-L.strstart,L.strstart>=ne+(ne-$n)&&(L.window.set(L.window.subarray(ne,ne+ne-me),0),L.match_start-=ne,L.strstart-=ne,L.block_start-=ne,L.insert>L.strstart&&(L.insert=L.strstart),Ea(L),me+=ne),L.strm.avail_in===0)break;if(B=lo(L.strm,L.window,L.strstart+L.lookahead,me),L.lookahead+=B,L.lookahead+L.insert>=sr)for(Me=L.strstart-L.insert,L.ins_h=L.window[Me],L.ins_h=ra(L,L.ins_h,L.window[Me+1]);L.insert&&(L.ins_h=ra(L,L.ins_h,L.window[Me+sr-1]),L.prev[Me&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=Me,Me++,L.insert--,!(L.lookahead+L.insert<sr)););}while(L.lookahead<$n&&L.strm.avail_in!==0)},bu=(L,ne)=>{let B=L.pending_buf_size-5>L.w_size?L.w_size:L.pending_buf_size-5,me,Me,De,it=0,qe=L.strm.avail_in;do{if(me=65535,De=L.bi_valid+42>>3,L.strm.avail_out<De||(De=L.strm.avail_out-De,Me=L.strstart-L.block_start,me>Me+L.strm.avail_in&&(me=Me+L.strm.avail_in),me>De&&(me=De),me<B&&(me===0&&ne!==Yt||ne===st||me!==Me+L.strm.avail_in)))break;it=ne===Yt&&me===Me+L.strm.avail_in?1:0,ze(L,0,0,it),L.pending_buf[L.pending-4]=me,L.pending_buf[L.pending-3]=me>>8,L.pending_buf[L.pending-2]=~me,L.pending_buf[L.pending-1]=~me>>8,mn(L.strm),Me&&(Me>me&&(Me=me),L.strm.output.set(L.window.subarray(L.block_start,L.block_start+Me),L.strm.next_out),L.strm.next_out+=Me,L.strm.avail_out-=Me,L.strm.total_out+=Me,L.block_start+=Me,me-=Me),me&&(lo(L.strm,L.strm.output,L.strm.next_out,me),L.strm.next_out+=me,L.strm.avail_out-=me,L.strm.total_out+=me)}while(it===0);return qe-=L.strm.avail_in,qe&&(qe>=L.w_size?(L.matches=2,L.window.set(L.strm.input.subarray(L.strm.next_in-L.w_size,L.strm.next_in),0),L.strstart=L.w_size,L.insert=L.strstart):(L.window_size-L.strstart<=qe&&(L.strstart-=L.w_size,L.window.set(L.window.subarray(L.w_size,L.w_size+L.strstart),0),L.matches<2&&L.matches++,L.insert>L.strstart&&(L.insert=L.strstart)),L.window.set(L.strm.input.subarray(L.strm.next_in-qe,L.strm.next_in),L.strstart),L.strstart+=qe,L.insert+=qe>L.w_size-L.insert?L.w_size-L.insert:qe),L.block_start=L.strstart),L.high_water<L.strstart&&(L.high_water=L.strstart),it?En:ne!==st&&ne!==Yt&&L.strm.avail_in===0&&L.strstart===L.block_start?Sa:(De=L.window_size-L.strstart,L.strm.avail_in>De&&L.block_start>=L.w_size&&(L.block_start-=L.w_size,L.strstart-=L.w_size,L.window.set(L.window.subarray(L.w_size,L.w_size+L.strstart),0),L.matches<2&&L.matches++,De+=L.w_size,L.insert>L.strstart&&(L.insert=L.strstart)),De>L.strm.avail_in&&(De=L.strm.avail_in),De&&(lo(L.strm,L.window,L.strstart,De),L.strstart+=De,L.insert+=De>L.w_size-L.insert?L.w_size-L.insert:De),L.high_water<L.strstart&&(L.high_water=L.strstart),De=L.bi_valid+42>>3,De=L.pending_buf_size-De>65535?65535:L.pending_buf_size-De,B=De>L.w_size?L.w_size:De,Me=L.strstart-L.block_start,(Me>=B||(Me||ne===Yt)&&ne!==st&&L.strm.avail_in===0&&Me<=De)&&(me=Me>De?De:Me,it=ne===Yt&&L.strm.avail_in===0&&me===Me?1:0,ze(L,L.block_start,me,it),L.block_start+=me,mn(L.strm)),it?Xr:fn)},rl=(L,ne)=>{let B,me;for(;;){if(L.lookahead<$n){if(Ma(L),L.lookahead<$n&&ne===st)return fn;if(L.lookahead===0)break}if(B=0,L.lookahead>=sr&&(L.ins_h=ra(L,L.ins_h,L.window[L.strstart+sr-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),B!==0&&L.strstart-B<=L.w_size-$n&&(L.match_length=_u(L,B)),L.match_length>=sr)if(me=Lt(L,L.strstart-L.match_start,L.match_length-sr),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=sr){L.match_length--;do L.strstart++,L.ins_h=ra(L,L.ins_h,L.window[L.strstart+sr-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart;while(--L.match_length!==0);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=ra(L,L.ins_h,L.window[L.strstart+1]);else me=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(me&&(yn(L,!1),L.strm.avail_out===0))return fn}return L.insert=L.strstart<sr-1?L.strstart:sr-1,ne===Yt?(yn(L,!0),L.strm.avail_out===0?Xr:En):L.sym_next&&(yn(L,!1),L.strm.avail_out===0)?fn:Sa},na=(L,ne)=>{let B,me,Me;for(;;){if(L.lookahead<$n){if(Ma(L),L.lookahead<$n&&ne===st)return fn;if(L.lookahead===0)break}if(B=0,L.lookahead>=sr&&(L.ins_h=ra(L,L.ins_h,L.window[L.strstart+sr-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=sr-1,B!==0&&L.prev_length<L.max_lazy_match&&L.strstart-B<=L.w_size-$n&&(L.match_length=_u(L,B),L.match_length<=5&&(L.strategy===Xt||L.match_length===sr&&L.strstart-L.match_start>4096)&&(L.match_length=sr-1)),L.prev_length>=sr&&L.match_length<=L.prev_length){Me=L.strstart+L.lookahead-sr,me=Lt(L,L.strstart-1-L.prev_match,L.prev_length-sr),L.lookahead-=L.prev_length-1,L.prev_length-=2;do++L.strstart<=Me&&(L.ins_h=ra(L,L.ins_h,L.window[L.strstart+sr-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart);while(--L.prev_length!==0);if(L.match_available=0,L.match_length=sr-1,L.strstart++,me&&(yn(L,!1),L.strm.avail_out===0))return fn}else if(L.match_available){if(me=Lt(L,0,L.window[L.strstart-1]),me&&yn(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return fn}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(me=Lt(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<sr-1?L.strstart:sr-1,ne===Yt?(yn(L,!0),L.strm.avail_out===0?Xr:En):L.sym_next&&(yn(L,!1),L.strm.avail_out===0)?fn:Sa},ed=(L,ne)=>{let B,me,Me,De,it=L.window;for(;;){if(L.lookahead<=li){if(Ma(L),L.lookahead<=li&&ne===st)return fn;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=sr&&L.strstart>0&&(Me=L.strstart-1,me=it[Me],me===it[++Me]&&me===it[++Me]&&me===it[++Me])){De=L.strstart+li;do;while(me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&Me<De);L.match_length=li-(De-Me),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=sr?(B=Lt(L,1,L.match_length-sr),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(B=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),B&&(yn(L,!1),L.strm.avail_out===0))return fn}return L.insert=0,ne===Yt?(yn(L,!0),L.strm.avail_out===0?Xr:En):L.sym_next&&(yn(L,!1),L.strm.avail_out===0)?fn:Sa},td=(L,ne)=>{let B;for(;;){if(L.lookahead===0&&(Ma(L),L.lookahead===0)){if(ne===st)return fn;break}if(L.match_length=0,B=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,B&&(yn(L,!1),L.strm.avail_out===0))return fn}return L.insert=0,ne===Yt?(yn(L,!0),L.strm.avail_out===0?Xr:En):L.sym_next&&(yn(L,!1),L.strm.avail_out===0)?fn:Sa};function Ei(L,ne,B,me,Me){this.good_length=L,this.max_lazy=ne,this.nice_length=B,this.max_chain=me,this.func=Me}let Ds=[new Ei(0,0,0,0,bu),new Ei(4,4,8,4,rl),new Ei(4,5,16,8,rl),new Ei(4,6,32,32,rl),new Ei(4,4,16,16,na),new Ei(8,16,32,32,na),new Ei(8,16,128,128,na),new Ei(8,32,128,256,na),new Ei(32,128,258,1024,na),new Ei(32,258,258,4096,na)],rd=L=>{L.window_size=2*L.w_size,Pn(L.head),L.max_lazy_match=Ds[L.level].max_lazy,L.good_match=Ds[L.level].good_length,L.nice_match=Ds[L.level].nice_length,L.max_chain_length=Ds[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=sr-1,L.match_available=0,L.ins_h=0};function nd(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xa,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Jf*2),this.dyn_dtree=new Uint16Array((2*tl+1)*2),this.bl_tree=new Uint16Array((2*qf+1)*2),Pn(this.dyn_ltree),Pn(this.dyn_dtree),Pn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(mu+1),this.heap=new Uint16Array(2*el+1),Pn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*el+1),Pn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let Ms=L=>{if(!L)return 1;let ne=L.state;return!ne||ne.strm!==L||ne.status!==ui&&ne.status!==Qa&&ne.status!==so&&ne.status!==wa&&ne.status!==qa&&ne.status!==oo&&ne.status!==Si&&ne.status!==Ci?1:0},nl=L=>{if(Ms(L))return Ca(L,Mr);L.total_in=L.total_out=0,L.data_type=Ss;let ne=L.state;return ne.pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap===2?Qa:ne.wrap?ui:Si,L.adler=ne.wrap===2?0:1,ne.last_flush=-2,ce(ne),Nt},uo=L=>{let ne=nl(L);return ne===Nt&&rd(L.state),ne},fo=(L,ne)=>Ms(L)||L.state.wrap!==2?Mr:(L.state.gzhead=ne,Nt),Ja=(L,ne,B,me,Me,De)=>{if(!L)return Mr;let it=1;if(ne===dr&&(ne=6),me<0?(it=0,me=-me):me>15&&(it=2,me-=16),Me<1||Me>Ar||B!==xa||me<8||me>15||ne<0||ne>9||De<0||De>Wr||me===8&&it!==1)return Ca(L,Mr);me===8&&(me=9);let qe=new nd;return L.state=qe,qe.strm=L,qe.status=ui,qe.wrap=it,qe.gzhead=null,qe.w_bits=me,qe.w_size=1<<qe.w_bits,qe.w_mask=qe.w_size-1,qe.hash_bits=Me+7,qe.hash_size=1<<qe.hash_bits,qe.hash_mask=qe.hash_size-1,qe.hash_shift=~~((qe.hash_bits+sr-1)/sr),qe.window=new Uint8Array(qe.w_size*2),qe.head=new Uint16Array(qe.hash_size),qe.prev=new Uint16Array(qe.w_size),qe.lit_bufsize=1<<Me+6,qe.pending_buf_size=qe.lit_bufsize*4,qe.pending_buf=new Uint8Array(qe.pending_buf_size),qe.sym_buf=qe.lit_bufsize,qe.sym_end=(qe.lit_bufsize-1)*3,qe.level=ne,qe.strategy=De,qe.method=B,uo(L)},yu=(L,ne)=>Ja(L,ne,xa,ta,Cs,wi),il=(L,ne)=>{if(Ms(L)||ne>er||ne<0)return L?Ca(L,Mr):Mr;let B=L.state;if(!L.output||L.avail_in!==0&&!L.input||B.status===Ci&&ne!==Yt)return Ca(L,L.avail_out===0?nn:Mr);let me=B.last_flush;if(B.last_flush=ne,B.pending!==0){if(mn(L),L.avail_out===0)return B.last_flush=-1,Nt}else if(L.avail_in===0&&gu(ne)<=gu(me)&&ne!==Yt)return Ca(L,nn);if(B.status===Ci&&L.avail_in!==0)return Ca(L,nn);if(B.status===ui&&B.wrap===0&&(B.status=Si),B.status===ui){let Me=xa+(B.w_bits-8<<4)<<8,De=-1;if(B.strategy>=ir||B.level<2?De=0:B.level<6?De=1:B.level===6?De=2:De=3,Me|=De<<6,B.strstart!==0&&(Me|=Nn),Me+=31-Me%31,Da(B,Me),B.strstart!==0&&(Da(B,L.adler>>>16),Da(B,L.adler&65535)),L.adler=1,B.status=Si,mn(L),B.pending!==0)return B.last_flush=-1,Nt}if(B.status===Qa){if(L.adler=0,hr(B,31),hr(B,139),hr(B,8),B.gzhead)hr(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),hr(B,B.gzhead.time&255),hr(B,B.gzhead.time>>8&255),hr(B,B.gzhead.time>>16&255),hr(B,B.gzhead.time>>24&255),hr(B,B.level===9?2:B.strategy>=ir||B.level<2?4:0),hr(B,B.gzhead.os&255),B.gzhead.extra&&B.gzhead.extra.length&&(hr(B,B.gzhead.extra.length&255),hr(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(L.adler=W(L.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=so;else if(hr(B,0),hr(B,0),hr(B,0),hr(B,0),hr(B,0),hr(B,B.level===9?2:B.strategy>=ir||B.level<2?4:0),hr(B,Es),B.status=Si,mn(L),B.pending!==0)return B.last_flush=-1,Nt}if(B.status===so){if(B.gzhead.extra){let Me=B.pending,De=(B.gzhead.extra.length&65535)-B.gzindex;for(;B.pending+De>B.pending_buf_size;){let qe=B.pending_buf_size-B.pending;if(B.pending_buf.set(B.gzhead.extra.subarray(B.gzindex,B.gzindex+qe),B.pending),B.pending=B.pending_buf_size,B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),B.gzindex+=qe,mn(L),B.pending!==0)return B.last_flush=-1,Nt;Me=0,De-=qe}let it=new Uint8Array(B.gzhead.extra);B.pending_buf.set(it.subarray(B.gzindex,B.gzindex+De),B.pending),B.pending+=De,B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),B.gzindex=0}B.status=wa}if(B.status===wa){if(B.gzhead.name){let Me=B.pending,De;do{if(B.pending===B.pending_buf_size){if(B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),mn(L),B.pending!==0)return B.last_flush=-1,Nt;Me=0}B.gzindex<B.gzhead.name.length?De=B.gzhead.name.charCodeAt(B.gzindex++)&255:De=0,hr(B,De)}while(De!==0);B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),B.gzindex=0}B.status=qa}if(B.status===qa){if(B.gzhead.comment){let Me=B.pending,De;do{if(B.pending===B.pending_buf_size){if(B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),mn(L),B.pending!==0)return B.last_flush=-1,Nt;Me=0}B.gzindex<B.gzhead.comment.length?De=B.gzhead.comment.charCodeAt(B.gzindex++)&255:De=0,hr(B,De)}while(De!==0);B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me))}B.status=oo}if(B.status===oo){if(B.gzhead.hcrc){if(B.pending+2>B.pending_buf_size&&(mn(L),B.pending!==0))return B.last_flush=-1,Nt;hr(B,L.adler&255),hr(B,L.adler>>8&255),L.adler=0}if(B.status=Si,mn(L),B.pending!==0)return B.last_flush=-1,Nt}if(L.avail_in!==0||B.lookahead!==0||ne!==st&&B.status!==Ci){let Me=B.level===0?bu(B,ne):B.strategy===ir?td(B,ne):B.strategy===Ur?ed(B,ne):Ds[B.level].func(B,ne);if((Me===Xr||Me===En)&&(B.status=Ci),Me===fn||Me===Xr)return L.avail_out===0&&(B.last_flush=-1),Nt;if(Me===Sa&&(ne===Jt?Mt(B):ne!==er&&(ze(B,0,0,!1),ne===Zr&&(Pn(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),mn(L),L.avail_out===0))return B.last_flush=-1,Nt}return ne!==Yt?Nt:B.wrap<=0?Or:(B.wrap===2?(hr(B,L.adler&255),hr(B,L.adler>>8&255),hr(B,L.adler>>16&255),hr(B,L.adler>>24&255),hr(B,L.total_in&255),hr(B,L.total_in>>8&255),hr(B,L.total_in>>16&255),hr(B,L.total_in>>24&255)):(Da(B,L.adler>>>16),Da(B,L.adler&65535)),mn(L),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?Nt:Or)},co=L=>{if(Ms(L))return Mr;let ne=L.state.status;return L.state=null,ne===Si?Ca(L,Br):Nt},id=(L,ne)=>{let B=ne.length;if(Ms(L))return Mr;let me=L.state,Me=me.wrap;if(Me===2||Me===1&&me.status!==ui||me.lookahead)return Mr;if(Me===1&&(L.adler=ut(L.adler,ne,B,0)),me.wrap=0,B>=me.w_size){Me===0&&(Pn(me.head),me.strstart=0,me.block_start=0,me.insert=0);let Ft=new Uint8Array(me.w_size);Ft.set(ne.subarray(B-me.w_size,B),0),ne=Ft,B=me.w_size}let De=L.avail_in,it=L.next_in,qe=L.input;for(L.avail_in=B,L.next_in=0,L.input=ne,Ma(me);me.lookahead>=sr;){let Ft=me.strstart,He=me.lookahead-(sr-1);do me.ins_h=ra(me,me.ins_h,me.window[Ft+sr-1]),me.prev[Ft&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=Ft,Ft++;while(--He);me.strstart=Ft,me.lookahead=sr-1,Ma(me)}return me.strstart+=me.lookahead,me.block_start=me.strstart,me.insert=me.lookahead,me.lookahead=0,me.match_length=me.prev_length=sr-1,me.match_available=0,L.next_in=it,L.input=qe,L.avail_in=De,me.wrap=Me,Nt};var ad=yu,sd=Ja,As=uo,al=nl,Ir=fo,Ts=il,Ls=co,od=id,A="pako deflate (from Nodeca project)",P={deflateInit:ad,deflateInit2:sd,deflateReset:As,deflateResetKeep:al,deflateSetHeader:Ir,deflate:Ts,deflateEnd:Ls,deflateSetDictionary:od,deflateInfo:A};let j=(L,ne)=>Object.prototype.hasOwnProperty.call(L,ne);var K=function(L){let ne=Array.prototype.slice.call(arguments,1);for(;ne.length;){let B=ne.shift();if(B){if(typeof B!="object")throw new TypeError(B+"must be non-object");for(let me in B)j(B,me)&&(L[me]=B[me])}}return L},ee=L=>{let ne=0;for(let me=0,Me=L.length;me<Me;me++)ne+=L[me].length;let B=new Uint8Array(ne);for(let me=0,Me=0,De=L.length;me<De;me++){let it=L[me];B.set(it,Me),Me+=it.length}return B},re={assign:K,flattenChunks:ee};let fe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fe=!1}let ke=new Uint8Array(256);for(let L=0;L<256;L++)ke[L]=L>=252?6:L>=248?5:L>=240?4:L>=224?3:L>=192?2:1;ke[254]=ke[254]=1;var Te=L=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(L);let ne,B,me,Me,De,it=L.length,qe=0;for(Me=0;Me<it;Me++)B=L.charCodeAt(Me),(B&64512)===55296&&Me+1<it&&(me=L.charCodeAt(Me+1),(me&64512)===56320&&(B=65536+(B-55296<<10)+(me-56320),Me++)),qe+=B<128?1:B<2048?2:B<65536?3:4;for(ne=new Uint8Array(qe),De=0,Me=0;De<qe;Me++)B=L.charCodeAt(Me),(B&64512)===55296&&Me+1<it&&(me=L.charCodeAt(Me+1),(me&64512)===56320&&(B=65536+(B-55296<<10)+(me-56320),Me++)),B<128?ne[De++]=B:B<2048?(ne[De++]=192|B>>>6,ne[De++]=128|B&63):B<65536?(ne[De++]=224|B>>>12,ne[De++]=128|B>>>6&63,ne[De++]=128|B&63):(ne[De++]=240|B>>>18,ne[De++]=128|B>>>12&63,ne[De++]=128|B>>>6&63,ne[De++]=128|B&63);return ne};let Ze=(L,ne)=>{if(ne<65534&&L.subarray&&fe)return String.fromCharCode.apply(null,L.length===ne?L:L.subarray(0,ne));let B="";for(let me=0;me<ne;me++)B+=String.fromCharCode(L[me]);return B};var ht=(L,ne)=>{let B=ne||L.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(L.subarray(0,ne));let me,Me,De=new Array(B*2);for(Me=0,me=0;me<B;){let it=L[me++];if(it<128){De[Me++]=it;continue}let qe=ke[it];if(qe>4){De[Me++]=65533,me+=qe-1;continue}for(it&=qe===2?31:qe===3?15:7;qe>1&&me<B;)it=it<<6|L[me++]&63,qe--;if(qe>1){De[Me++]=65533;continue}it<65536?De[Me++]=it:(it-=65536,De[Me++]=55296|it>>10&1023,De[Me++]=56320|it&1023)}return Ze(De,Me)},_t=(L,ne)=>{ne=ne||L.length,ne>L.length&&(ne=L.length);let B=ne-1;for(;B>=0&&(L[B]&192)===128;)B--;return B<0||B===0?ne:B+ke[L[B]]>ne?B:ne},nt={string2buf:Te,buf2string:ht,utf8border:_t};function wt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Zt=wt;let ur=Object.prototype.toString,{Z_NO_FLUSH:rr,Z_SYNC_FLUSH:gn,Z_FULL_FLUSH:tn,Z_FINISH:Di,Z_OK:Gn,Z_STREAM_END:or,Z_DEFAULT_COMPRESSION:Aa,Z_DEFAULT_STRATEGY:pr,Z_DEFLATED:Gr}=Ye;function ji(L){this.options=re.assign({level:Aa,method:Gr,chunkSize:16384,windowBits:15,memLevel:8,strategy:pr},L||{});let ne=this.options;ne.raw&&ne.windowBits>0?ne.windowBits=-ne.windowBits:ne.gzip&&ne.windowBits>0&&ne.windowBits<16&&(ne.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Zt,this.strm.avail_out=0;let B=P.deflateInit2(this.strm,ne.level,ne.method,ne.windowBits,ne.memLevel,ne.strategy);if(B!==Gn)throw new Error(Ve[B]);if(ne.header&&P.deflateSetHeader(this.strm,ne.header),ne.dictionary){let me;if(typeof ne.dictionary=="string"?me=nt.string2buf(ne.dictionary):ur.call(ne.dictionary)==="[object ArrayBuffer]"?me=new Uint8Array(ne.dictionary):me=ne.dictionary,B=P.deflateSetDictionary(this.strm,me),B!==Gn)throw new Error(Ve[B]);this._dict_set=!0}}ji.prototype.push=function(L,ne){let B=this.strm,me=this.options.chunkSize,Me,De;if(this.ended)return!1;for(ne===~~ne?De=ne:De=ne===!0?Di:rr,typeof L=="string"?B.input=nt.string2buf(L):ur.call(L)==="[object ArrayBuffer]"?B.input=new Uint8Array(L):B.input=L,B.next_in=0,B.avail_in=B.input.length;;){if(B.avail_out===0&&(B.output=new Uint8Array(me),B.next_out=0,B.avail_out=me),(De===gn||De===tn)&&B.avail_out<=6){this.onData(B.output.subarray(0,B.next_out)),B.avail_out=0;continue}if(Me=P.deflate(B,De),Me===or)return B.next_out>0&&this.onData(B.output.subarray(0,B.next_out)),Me=P.deflateEnd(this.strm),this.onEnd(Me),this.ended=!0,Me===Gn;if(B.avail_out===0){this.onData(B.output);continue}if(De>0&&B.next_out>0){this.onData(B.output.subarray(0,B.next_out)),B.avail_out=0;continue}if(B.avail_in===0)break}return!0},ji.prototype.onData=function(L){this.chunks.push(L)},ji.prototype.onEnd=function(L){L===Gn&&(this.result=re.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function Mi(L,ne){let B=new ji(ne);if(B.push(L,!0),B.err)throw B.msg||Ve[B.err];return B.result}function Ai(L,ne){return ne=ne||{},ne.raw=!0,Mi(L,ne)}function Ta(L,ne){return ne=ne||{},ne.gzip=!0,Mi(L,ne)}var Ti=ji,Li=Mi,ia=Ai,Qn=Ta,sl=Ye,Ri={Deflate:Ti,deflate:Li,deflateRaw:ia,gzip:Qn,constants:sl};let Hn=16209,ld=16191;var xu=function(ne,B){let me,Me,De,it,qe,Ft,He,ft,xr,zt,Ct,Kt,$r,gr,qt,Tr,cr,Pt,Er,wn,$t,zr,vr,tr,mr=ne.state;me=ne.next_in,vr=ne.input,Me=me+(ne.avail_in-5),De=ne.next_out,tr=ne.output,it=De-(B-ne.avail_out),qe=De+(ne.avail_out-257),Ft=mr.dmax,He=mr.wsize,ft=mr.whave,xr=mr.wnext,zt=mr.window,Ct=mr.hold,Kt=mr.bits,$r=mr.lencode,gr=mr.distcode,qt=(1<<mr.lenbits)-1,Tr=(1<<mr.distbits)-1;e:do{Kt<15&&(Ct+=vr[me++]<<Kt,Kt+=8,Ct+=vr[me++]<<Kt,Kt+=8),cr=$r[Ct&qt];t:for(;;){if(Pt=cr>>>24,Ct>>>=Pt,Kt-=Pt,Pt=cr>>>16&255,Pt===0)tr[De++]=cr&65535;else if(Pt&16){Er=cr&65535,Pt&=15,Pt&&(Kt<Pt&&(Ct+=vr[me++]<<Kt,Kt+=8),Er+=Ct&(1<<Pt)-1,Ct>>>=Pt,Kt-=Pt),Kt<15&&(Ct+=vr[me++]<<Kt,Kt+=8,Ct+=vr[me++]<<Kt,Kt+=8),cr=gr[Ct&Tr];r:for(;;){if(Pt=cr>>>24,Ct>>>=Pt,Kt-=Pt,Pt=cr>>>16&255,Pt&16){if(wn=cr&65535,Pt&=15,Kt<Pt&&(Ct+=vr[me++]<<Kt,Kt+=8,Kt<Pt&&(Ct+=vr[me++]<<Kt,Kt+=8)),wn+=Ct&(1<<Pt)-1,wn>Ft){ne.msg="invalid distance too far back",mr.mode=Hn;break e}if(Ct>>>=Pt,Kt-=Pt,Pt=De-it,wn>Pt){if(Pt=wn-Pt,Pt>ft&&mr.sane){ne.msg="invalid distance too far back",mr.mode=Hn;break e}if($t=0,zr=zt,xr===0){if($t+=He-Pt,Pt<Er){Er-=Pt;do tr[De++]=zt[$t++];while(--Pt);$t=De-wn,zr=tr}}else if(xr<Pt){if($t+=He+xr-Pt,Pt-=xr,Pt<Er){Er-=Pt;do tr[De++]=zt[$t++];while(--Pt);if($t=0,xr<Er){Pt=xr,Er-=Pt;do tr[De++]=zt[$t++];while(--Pt);$t=De-wn,zr=tr}}}else if($t+=xr-Pt,Pt<Er){Er-=Pt;do tr[De++]=zt[$t++];while(--Pt);$t=De-wn,zr=tr}for(;Er>2;)tr[De++]=zr[$t++],tr[De++]=zr[$t++],tr[De++]=zr[$t++],Er-=3;Er&&(tr[De++]=zr[$t++],Er>1&&(tr[De++]=zr[$t++]))}else{$t=De-wn;do tr[De++]=tr[$t++],tr[De++]=tr[$t++],tr[De++]=tr[$t++],Er-=3;while(Er>2);Er&&(tr[De++]=tr[$t++],Er>1&&(tr[De++]=tr[$t++]))}}else if(Pt&64){ne.msg="invalid distance code",mr.mode=Hn;break e}else{cr=gr[(cr&65535)+(Ct&(1<<Pt)-1)];continue r}break}}else if(Pt&64)if(Pt&32){mr.mode=ld;break e}else{ne.msg="invalid literal/length code",mr.mode=Hn;break e}else{cr=$r[(cr&65535)+(Ct&(1<<Pt)-1)];continue t}break}}while(me<Me&&De<qe);Er=Kt>>3,me-=Er,Kt-=Er<<3,Ct&=(1<<Kt)-1,ne.next_in=me,ne.next_out=De,ne.avail_in=me<Me?5+(Me-me):5-(me-Me),ne.avail_out=De<qe?257+(qe-De):257-(De-qe),mr.hold=Ct,mr.bits=Kt};let wr=15,Cr=852,ks=592,Vn=0,aa=1,wu=2,ud=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),es=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),La=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ol=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Wi=(L,ne,B,me,Me,De,it,qe)=>{let Ft=qe.bits,He=0,ft=0,xr=0,zt=0,Ct=0,Kt=0,$r=0,gr=0,qt=0,Tr=0,cr,Pt,Er,wn,$t,zr=null,vr,tr=new Uint16Array(wr+1),mr=new Uint16Array(wr+1),Fs=null,ns,Du,Mu;for(He=0;He<=wr;He++)tr[He]=0;for(ft=0;ft<me;ft++)tr[ne[B+ft]]++;for(Ct=Ft,zt=wr;zt>=1&&tr[zt]===0;zt--);if(Ct>zt&&(Ct=zt),zt===0)return Me[De++]=1<<24|64<<16|0,Me[De++]=1<<24|64<<16|0,qe.bits=1,0;for(xr=1;xr<zt&&tr[xr]===0;xr++);for(Ct<xr&&(Ct=xr),gr=1,He=1;He<=wr;He++)if(gr<<=1,gr-=tr[He],gr<0)return-1;if(gr>0&&(L===Vn||zt!==1))return-1;for(mr[1]=0,He=1;He<wr;He++)mr[He+1]=mr[He]+tr[He];for(ft=0;ft<me;ft++)ne[B+ft]!==0&&(it[mr[ne[B+ft]]++]=ft);if(L===Vn?(zr=Fs=it,vr=20):L===aa?(zr=ud,Fs=es,vr=257):(zr=La,Fs=ol,vr=0),Tr=0,ft=0,He=xr,$t=De,Kt=Ct,$r=0,Er=-1,qt=1<<Ct,wn=qt-1,L===aa&&qt>Cr||L===wu&&qt>ks)return 1;for(;;){ns=He-$r,it[ft]+1<vr?(Du=0,Mu=it[ft]):it[ft]>=vr?(Du=Fs[it[ft]-vr],Mu=zr[it[ft]-vr]):(Du=96,Mu=0),cr=1<<He-$r,Pt=1<<Kt,xr=Pt;do Pt-=cr,Me[$t+(Tr>>$r)+Pt]=ns<<24|Du<<16|Mu|0;while(Pt!==0);for(cr=1<<He-1;Tr&cr;)cr>>=1;if(cr!==0?(Tr&=cr-1,Tr+=cr):Tr=0,ft++,--tr[He]===0){if(He===zt)break;He=ne[B+it[ft]]}if(He>Ct&&(Tr&wn)!==Er){for($r===0&&($r=Ct),$t+=xr,Kt=He-$r,gr=1<<Kt;Kt+$r<zt&&(gr-=tr[Kt+$r],!(gr<=0));)Kt++,gr<<=1;if(qt+=1<<Kt,L===aa&&qt>Cr||L===wu&&qt>ks)return 1;Er=Tr&wn,Me[Er]=Ct<<24|Kt<<16|$t-De|0}}return Tr!==0&&(Me[$t+Tr]=He-$r<<24|64<<16|0),qe.bits=Ct,0};let Oa=0,Na=1,Os=2,{Z_FINISH:Ns,Z_BLOCK:fd,Z_TREES:Gi,Z_OK:fi,Z_STREAM_END:Ps,Z_NEED_DICT:dd,Z_STREAM_ERROR:In,Z_DATA_ERROR:ll,Z_MEM_ERROR:Se,Z_BUF_ERROR:We,Z_DEFLATED:rt}=Ye,ct=16180,vt=16181,Tt=16182,kt=16183,Bt=16184,Ot=16185,ar=16186,Rt=16187,Ht=16188,nr=16189,Gt=16190,fr=16191,vn=16192,_n=16193,zn=16194,qn=16195,Pa=16196,xn=16197,wh=16198,Su=16199,Cu=16200,Sh=16201,Ch=16202,Eh=16203,Dh=16204,Mh=16205,cd=16206,Ah=16207,Th=16208,Vr=16209,ul=16210,Lh=16211,Hg=852,Vg=592,Yg=15,kh=L=>(L>>>24&255)+(L>>>8&65280)+((L&65280)<<8)+((L&255)<<24);function Kg(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let Is=L=>{if(!L)return 1;let ne=L.state;return!ne||ne.strm!==L||ne.mode<ct||ne.mode>Lh?1:0},hd=L=>{if(Is(L))return In;let ne=L.state;return L.total_in=L.total_out=ne.total=0,L.msg="",ne.wrap&&(L.adler=ne.wrap&1),ne.mode=ct,ne.last=0,ne.havedict=0,ne.flags=-1,ne.dmax=32768,ne.head=null,ne.hold=0,ne.bits=0,ne.lencode=ne.lendyn=new Int32Array(Hg),ne.distcode=ne.distdyn=new Int32Array(Vg),ne.sane=1,ne.back=-1,fi},pd=L=>{if(Is(L))return In;let ne=L.state;return ne.wsize=0,ne.whave=0,ne.wnext=0,hd(L)},md=(L,ne)=>{let B;if(Is(L))return In;let me=L.state;return ne<0?(B=0,ne=-ne):(B=(ne>>4)+5,ne<48&&(ne&=15)),ne&&(ne<8||ne>15)?In:(me.window!==null&&me.wbits!==ne&&(me.window=null),me.wrap=B,me.wbits=ne,pd(L))},fl=(L,ne)=>{if(!L)return In;let B=new Kg;L.state=B,B.strm=L,B.window=null,B.mode=ct;let me=md(L,ne);return me!==fi&&(L.state=null),me},ho=L=>fl(L,Yg),dl=!0,Eu,ts,Oh=L=>{if(dl){Eu=new Int32Array(512),ts=new Int32Array(32);let ne=0;for(;ne<144;)L.lens[ne++]=8;for(;ne<256;)L.lens[ne++]=9;for(;ne<280;)L.lens[ne++]=7;for(;ne<288;)L.lens[ne++]=8;for(Wi(Na,L.lens,0,288,Eu,0,L.work,{bits:9}),ne=0;ne<32;)L.lens[ne++]=5;Wi(Os,L.lens,0,32,ts,0,L.work,{bits:5}),dl=!1}L.lencode=Eu,L.lenbits=9,L.distcode=ts,L.distbits=5},gd=(L,ne,B,me)=>{let Me,De=L.state;return De.window===null&&(De.wsize=1<<De.wbits,De.wnext=0,De.whave=0,De.window=new Uint8Array(De.wsize)),me>=De.wsize?(De.window.set(ne.subarray(B-De.wsize,B),0),De.wnext=0,De.whave=De.wsize):(Me=De.wsize-De.wnext,Me>me&&(Me=me),De.window.set(ne.subarray(B-me,B-me+Me),De.wnext),me-=Me,me?(De.window.set(ne.subarray(B-me,B),0),De.wnext=me,De.whave=De.wsize):(De.wnext+=Me,De.wnext===De.wsize&&(De.wnext=0),De.whave<De.wsize&&(De.whave+=Me))),0},Zg=(L,ne)=>{let B,me,Me,De,it,qe,Ft,He,ft,xr,zt,Ct,Kt,$r,gr=0,qt,Tr,cr,Pt,Er,wn,$t,zr,vr=new Uint8Array(4),tr,mr,Fs=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Is(L)||!L.output||!L.input&&L.avail_in!==0)return In;B=L.state,B.mode===fr&&(B.mode=vn),it=L.next_out,Me=L.output,Ft=L.avail_out,De=L.next_in,me=L.input,qe=L.avail_in,He=B.hold,ft=B.bits,xr=qe,zt=Ft,zr=fi;e:for(;;)switch(B.mode){case ct:if(B.wrap===0){B.mode=vn;break}for(;ft<16;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if(B.wrap&2&&He===35615){B.wbits===0&&(B.wbits=15),B.check=0,vr[0]=He&255,vr[1]=He>>>8&255,B.check=W(B.check,vr,2,0),He=0,ft=0,B.mode=vt;break}if(B.head&&(B.head.done=!1),!(B.wrap&1)||(((He&255)<<8)+(He>>8))%31){L.msg="incorrect header check",B.mode=Vr;break}if((He&15)!==rt){L.msg="unknown compression method",B.mode=Vr;break}if(He>>>=4,ft-=4,$t=(He&15)+8,B.wbits===0&&(B.wbits=$t),$t>15||$t>B.wbits){L.msg="invalid window size",B.mode=Vr;break}B.dmax=1<<B.wbits,B.flags=0,L.adler=B.check=1,B.mode=He&512?nr:fr,He=0,ft=0;break;case vt:for(;ft<16;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if(B.flags=He,(B.flags&255)!==rt){L.msg="unknown compression method",B.mode=Vr;break}if(B.flags&57344){L.msg="unknown header flags set",B.mode=Vr;break}B.head&&(B.head.text=He>>8&1),B.flags&512&&B.wrap&4&&(vr[0]=He&255,vr[1]=He>>>8&255,B.check=W(B.check,vr,2,0)),He=0,ft=0,B.mode=Tt;case Tt:for(;ft<32;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}B.head&&(B.head.time=He),B.flags&512&&B.wrap&4&&(vr[0]=He&255,vr[1]=He>>>8&255,vr[2]=He>>>16&255,vr[3]=He>>>24&255,B.check=W(B.check,vr,4,0)),He=0,ft=0,B.mode=kt;case kt:for(;ft<16;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}B.head&&(B.head.xflags=He&255,B.head.os=He>>8),B.flags&512&&B.wrap&4&&(vr[0]=He&255,vr[1]=He>>>8&255,B.check=W(B.check,vr,2,0)),He=0,ft=0,B.mode=Bt;case Bt:if(B.flags&1024){for(;ft<16;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}B.length=He,B.head&&(B.head.extra_len=He),B.flags&512&&B.wrap&4&&(vr[0]=He&255,vr[1]=He>>>8&255,B.check=W(B.check,vr,2,0)),He=0,ft=0}else B.head&&(B.head.extra=null);B.mode=Ot;case Ot:if(B.flags&1024&&(Ct=B.length,Ct>qe&&(Ct=qe),Ct&&(B.head&&($t=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Uint8Array(B.head.extra_len)),B.head.extra.set(me.subarray(De,De+Ct),$t)),B.flags&512&&B.wrap&4&&(B.check=W(B.check,me,Ct,De)),qe-=Ct,De+=Ct,B.length-=Ct),B.length))break e;B.length=0,B.mode=ar;case ar:if(B.flags&2048){if(qe===0)break e;Ct=0;do $t=me[De+Ct++],B.head&&$t&&B.length<65536&&(B.head.name+=String.fromCharCode($t));while($t&&Ct<qe);if(B.flags&512&&B.wrap&4&&(B.check=W(B.check,me,Ct,De)),qe-=Ct,De+=Ct,$t)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=Rt;case Rt:if(B.flags&4096){if(qe===0)break e;Ct=0;do $t=me[De+Ct++],B.head&&$t&&B.length<65536&&(B.head.comment+=String.fromCharCode($t));while($t&&Ct<qe);if(B.flags&512&&B.wrap&4&&(B.check=W(B.check,me,Ct,De)),qe-=Ct,De+=Ct,$t)break e}else B.head&&(B.head.comment=null);B.mode=Ht;case Ht:if(B.flags&512){for(;ft<16;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if(B.wrap&4&&He!==(B.check&65535)){L.msg="header crc mismatch",B.mode=Vr;break}He=0,ft=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),L.adler=B.check=0,B.mode=fr;break;case nr:for(;ft<32;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}L.adler=B.check=kh(He),He=0,ft=0,B.mode=Gt;case Gt:if(B.havedict===0)return L.next_out=it,L.avail_out=Ft,L.next_in=De,L.avail_in=qe,B.hold=He,B.bits=ft,dd;L.adler=B.check=1,B.mode=fr;case fr:if(ne===fd||ne===Gi)break e;case vn:if(B.last){He>>>=ft&7,ft-=ft&7,B.mode=cd;break}for(;ft<3;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}switch(B.last=He&1,He>>>=1,ft-=1,He&3){case 0:B.mode=_n;break;case 1:if(Oh(B),B.mode=Su,ne===Gi){He>>>=2,ft-=2;break e}break;case 2:B.mode=Pa;break;case 3:L.msg="invalid block type",B.mode=Vr}He>>>=2,ft-=2;break;case _n:for(He>>>=ft&7,ft-=ft&7;ft<32;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if((He&65535)!==(He>>>16^65535)){L.msg="invalid stored block lengths",B.mode=Vr;break}if(B.length=He&65535,He=0,ft=0,B.mode=zn,ne===Gi)break e;case zn:B.mode=qn;case qn:if(Ct=B.length,Ct){if(Ct>qe&&(Ct=qe),Ct>Ft&&(Ct=Ft),Ct===0)break e;Me.set(me.subarray(De,De+Ct),it),qe-=Ct,De+=Ct,Ft-=Ct,it+=Ct,B.length-=Ct;break}B.mode=fr;break;case Pa:for(;ft<14;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if(B.nlen=(He&31)+257,He>>>=5,ft-=5,B.ndist=(He&31)+1,He>>>=5,ft-=5,B.ncode=(He&15)+4,He>>>=4,ft-=4,B.nlen>286||B.ndist>30){L.msg="too many length or distance symbols",B.mode=Vr;break}B.have=0,B.mode=xn;case xn:for(;B.have<B.ncode;){for(;ft<3;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}B.lens[Fs[B.have++]]=He&7,He>>>=3,ft-=3}for(;B.have<19;)B.lens[Fs[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,tr={bits:B.lenbits},zr=Wi(Oa,B.lens,0,19,B.lencode,0,B.work,tr),B.lenbits=tr.bits,zr){L.msg="invalid code lengths set",B.mode=Vr;break}B.have=0,B.mode=wh;case wh:for(;B.have<B.nlen+B.ndist;){for(;gr=B.lencode[He&(1<<B.lenbits)-1],qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(qt<=ft);){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if(cr<16)He>>>=qt,ft-=qt,B.lens[B.have++]=cr;else{if(cr===16){for(mr=qt+2;ft<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if(He>>>=qt,ft-=qt,B.have===0){L.msg="invalid bit length repeat",B.mode=Vr;break}$t=B.lens[B.have-1],Ct=3+(He&3),He>>>=2,ft-=2}else if(cr===17){for(mr=qt+3;ft<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}He>>>=qt,ft-=qt,$t=0,Ct=3+(He&7),He>>>=3,ft-=3}else{for(mr=qt+7;ft<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}He>>>=qt,ft-=qt,$t=0,Ct=11+(He&127),He>>>=7,ft-=7}if(B.have+Ct>B.nlen+B.ndist){L.msg="invalid bit length repeat",B.mode=Vr;break}for(;Ct--;)B.lens[B.have++]=$t}}if(B.mode===Vr)break;if(B.lens[256]===0){L.msg="invalid code -- missing end-of-block",B.mode=Vr;break}if(B.lenbits=9,tr={bits:B.lenbits},zr=Wi(Na,B.lens,0,B.nlen,B.lencode,0,B.work,tr),B.lenbits=tr.bits,zr){L.msg="invalid literal/lengths set",B.mode=Vr;break}if(B.distbits=6,B.distcode=B.distdyn,tr={bits:B.distbits},zr=Wi(Os,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,tr),B.distbits=tr.bits,zr){L.msg="invalid distances set",B.mode=Vr;break}if(B.mode=Su,ne===Gi)break e;case Su:B.mode=Cu;case Cu:if(qe>=6&&Ft>=258){L.next_out=it,L.avail_out=Ft,L.next_in=De,L.avail_in=qe,B.hold=He,B.bits=ft,xu(L,zt),it=L.next_out,Me=L.output,Ft=L.avail_out,De=L.next_in,me=L.input,qe=L.avail_in,He=B.hold,ft=B.bits,B.mode===fr&&(B.back=-1);break}for(B.back=0;gr=B.lencode[He&(1<<B.lenbits)-1],qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(qt<=ft);){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if(Tr&&!(Tr&240)){for(Pt=qt,Er=Tr,wn=cr;gr=B.lencode[wn+((He&(1<<Pt+Er)-1)>>Pt)],qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(Pt+qt<=ft);){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}He>>>=Pt,ft-=Pt,B.back+=Pt}if(He>>>=qt,ft-=qt,B.back+=qt,B.length=cr,Tr===0){B.mode=Mh;break}if(Tr&32){B.back=-1,B.mode=fr;break}if(Tr&64){L.msg="invalid literal/length code",B.mode=Vr;break}B.extra=Tr&15,B.mode=Sh;case Sh:if(B.extra){for(mr=B.extra;ft<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}B.length+=He&(1<<B.extra)-1,He>>>=B.extra,ft-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=Ch;case Ch:for(;gr=B.distcode[He&(1<<B.distbits)-1],qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(qt<=ft);){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if(!(Tr&240)){for(Pt=qt,Er=Tr,wn=cr;gr=B.distcode[wn+((He&(1<<Pt+Er)-1)>>Pt)],qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(Pt+qt<=ft);){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}He>>>=Pt,ft-=Pt,B.back+=Pt}if(He>>>=qt,ft-=qt,B.back+=qt,Tr&64){L.msg="invalid distance code",B.mode=Vr;break}B.offset=cr,B.extra=Tr&15,B.mode=Eh;case Eh:if(B.extra){for(mr=B.extra;ft<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}B.offset+=He&(1<<B.extra)-1,He>>>=B.extra,ft-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){L.msg="invalid distance too far back",B.mode=Vr;break}B.mode=Dh;case Dh:if(Ft===0)break e;if(Ct=zt-Ft,B.offset>Ct){if(Ct=B.offset-Ct,Ct>B.whave&&B.sane){L.msg="invalid distance too far back",B.mode=Vr;break}Ct>B.wnext?(Ct-=B.wnext,Kt=B.wsize-Ct):Kt=B.wnext-Ct,Ct>B.length&&(Ct=B.length),$r=B.window}else $r=Me,Kt=it-B.offset,Ct=B.length;Ct>Ft&&(Ct=Ft),Ft-=Ct,B.length-=Ct;do Me[it++]=$r[Kt++];while(--Ct);B.length===0&&(B.mode=Cu);break;case Mh:if(Ft===0)break e;Me[it++]=B.length,Ft--,B.mode=Cu;break;case cd:if(B.wrap){for(;ft<32;){if(qe===0)break e;qe--,He|=me[De++]<<ft,ft+=8}if(zt-=Ft,L.total_out+=zt,B.total+=zt,B.wrap&4&&zt&&(L.adler=B.check=B.flags?W(B.check,Me,zt,it-zt):ut(B.check,Me,zt,it-zt)),zt=Ft,B.wrap&4&&(B.flags?He:kh(He))!==B.check){L.msg="incorrect data check",B.mode=Vr;break}He=0,ft=0}B.mode=Ah;case Ah:if(B.wrap&&B.flags){for(;ft<32;){if(qe===0)break e;qe--,He+=me[De++]<<ft,ft+=8}if(B.wrap&4&&He!==(B.total&4294967295)){L.msg="incorrect length check",B.mode=Vr;break}He=0,ft=0}B.mode=Th;case Th:zr=Ps;break e;case Vr:zr=ll;break e;case ul:return Se;case Lh:default:return In}return L.next_out=it,L.avail_out=Ft,L.next_in=De,L.avail_in=qe,B.hold=He,B.bits=ft,(B.wsize||zt!==L.avail_out&&B.mode<Vr&&(B.mode<cd||ne!==Ns))&&gd(L,L.output,L.next_out,zt-L.avail_out),xr-=L.avail_in,zt-=L.avail_out,L.total_in+=xr,L.total_out+=zt,B.total+=zt,B.wrap&4&&zt&&(L.adler=B.check=B.flags?W(B.check,Me,zt,L.next_out-zt):ut(B.check,Me,zt,L.next_out-zt)),L.data_type=B.bits+(B.last?64:0)+(B.mode===fr?128:0)+(B.mode===Su||B.mode===zn?256:0),(xr===0&&zt===0||ne===Ns)&&zr===fi&&(zr=We),zr},Xg=L=>{if(Is(L))return In;let ne=L.state;return ne.window&&(ne.window=null),L.state=null,fi},$g=(L,ne)=>{if(Is(L))return In;let B=L.state;return B.wrap&2?(B.head=ne,ne.done=!1,fi):In},Qg=(L,ne)=>{let B=ne.length,me,Me,De;return Is(L)||(me=L.state,me.wrap!==0&&me.mode!==Gt)?In:me.mode===Gt&&(Me=1,Me=ut(Me,ne,B,0),Me!==me.check)?ll:(De=gd(L,ne,B,B),De?(me.mode=ul,Se):(me.havedict=1,fi))};var qg=pd,Jg=md,ev=hd,tv=ho,rv=fl,nv=Zg,iv=Xg,av=$g,sv=Qg,ov="pako inflate (from Nodeca project)",Ia={inflateReset:qg,inflateReset2:Jg,inflateResetKeep:ev,inflateInit:tv,inflateInit2:rv,inflate:nv,inflateEnd:iv,inflateGetHeader:av,inflateSetDictionary:sv,inflateInfo:ov};function lv(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uv=lv;let Nh=Object.prototype.toString,{Z_NO_FLUSH:fv,Z_FINISH:dv,Z_OK:cl,Z_STREAM_END:vd,Z_NEED_DICT:hl,Z_STREAM_ERROR:cv,Z_DATA_ERROR:Ph,Z_MEM_ERROR:hv}=Ye;function zs(L){this.options=re.assign({chunkSize:65536,windowBits:15,to:""},L||{});let ne=this.options;ne.raw&&ne.windowBits>=0&&ne.windowBits<16&&(ne.windowBits=-ne.windowBits,ne.windowBits===0&&(ne.windowBits=-15)),ne.windowBits>=0&&ne.windowBits<16&&!(L&&L.windowBits)&&(ne.windowBits+=32),ne.windowBits>15&&ne.windowBits<48&&(ne.windowBits&15||(ne.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Zt,this.strm.avail_out=0;let B=Ia.inflateInit2(this.strm,ne.windowBits);if(B!==cl)throw new Error(Ve[B]);if(this.header=new uv,Ia.inflateGetHeader(this.strm,this.header),ne.dictionary&&(typeof ne.dictionary=="string"?ne.dictionary=nt.string2buf(ne.dictionary):Nh.call(ne.dictionary)==="[object ArrayBuffer]"&&(ne.dictionary=new Uint8Array(ne.dictionary)),ne.raw&&(B=Ia.inflateSetDictionary(this.strm,ne.dictionary),B!==cl)))throw new Error(Ve[B])}zs.prototype.push=function(L,ne){let B=this.strm,me=this.options.chunkSize,Me=this.options.dictionary,De,it,qe;if(this.ended)return!1;for(ne===~~ne?it=ne:it=ne===!0?dv:fv,Nh.call(L)==="[object ArrayBuffer]"?B.input=new Uint8Array(L):B.input=L,B.next_in=0,B.avail_in=B.input.length;;){for(B.avail_out===0&&(B.output=new Uint8Array(me),B.next_out=0,B.avail_out=me),De=Ia.inflate(B,it),De===hl&&Me&&(De=Ia.inflateSetDictionary(B,Me),De===cl?De=Ia.inflate(B,it):De===Ph&&(De=hl));B.avail_in>0&&De===vd&&B.state.wrap>0&&L[B.next_in]!==0;)Ia.inflateReset(B),De=Ia.inflate(B,it);switch(De){case cv:case Ph:case hl:case hv:return this.onEnd(De),this.ended=!0,!1}if(qe=B.avail_out,B.next_out&&(B.avail_out===0||De===vd))if(this.options.to==="string"){let Ft=nt.utf8border(B.output,B.next_out),He=B.next_out-Ft,ft=nt.buf2string(B.output,Ft);B.next_out=He,B.avail_out=me-He,He&&B.output.set(B.output.subarray(Ft,Ft+He),0),this.onData(ft)}else this.onData(B.output.length===B.next_out?B.output:B.output.subarray(0,B.next_out));if(!(De===cl&&qe===0)){if(De===vd)return De=Ia.inflateEnd(this.strm),this.onEnd(De),this.ended=!0,!0;if(B.avail_in===0)break}}return!0},zs.prototype.onData=function(L){this.chunks.push(L)},zs.prototype.onEnd=function(L){L===cl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=re.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function po(L,ne){let B=new zs(ne);if(B.push(L),B.err)throw B.msg||Ve[B.err];return B.result}function pv(L,ne){return ne=ne||{},ne.raw=!0,po(L,ne)}var mv=zs,gv=po,vv=pv,_v=po,bv=Ye,Ih={Inflate:mv,inflate:gv,inflateRaw:vv,ungzip:_v,constants:bv};let{Deflate:yv,deflate:xv,deflateRaw:zh,gzip:wv}=Ri,{Inflate:Sv,inflate:Cv,inflateRaw:rs,ungzip:Fh}=Ih;var Bh=yv,Uh=xv,jh=zh,Et=wv,Rh=Sv,Wh=Cv,_d=rs,yr=Fh,pl=Ye,Gh={Deflate:Bh,deflate:Uh,deflateRaw:jh,gzip:Et,Inflate:Rh,inflate:Wh,inflateRaw:_d,ungzip:yr,constants:pl}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())});var ot,m0,V_,Y_,K_,Z_,X_,$_,Q_,q_,kC=ae(()=>{ot=Hr(Dn()),m0=class extends ot.default.Component{render(){return ot.default.createElement("div",{className:"box box-primary",id:"main_form"},ot.default.createElement("div",{className:"box-header with-border"},ot.default.createElement("h5",{className:"box-title"},"Additional Settings")),ot.default.createElement("div",{className:"box-body"},ot.default.createElement("div",{className:"col-md-12"},this.props.analyses.includes(this.props.job_strings.dompred.jobName)&&ot.default.createElement(Z_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.ffpred.jobName)&&ot.default.createElement(X_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.metsite.jobName)&&ot.default.createElement(V_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.hspred.jobName)&&ot.default.createElement(Y_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.memembed.jobName)&&ot.default.createElement(K_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.merizo.jobName)&&ot.default.createElement($_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.merizosearch.jobName)&&ot.default.createElement(Q_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.gsrcl.jobName)&&ot.default.createElement(q_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}))))}},V_=class extends ot.default.Component{render(){return ot.default.createElement("div",{className:"row form-header-row"},ot.default.createElement("h4",null,this.props.job_strings.metsite.fullName),ot.default.createElement("strong",null,"Select Metal:"),ot.default.createElement("br",null),ot.default.createElement("select",{id:"metsite_metal_type",size:"6",name:"metsite_metal_type",value:this.props.metsite_metal_type,onChange:this.props.handleSidebarChange},ot.default.createElement("option",{value:"CA"},"Calcium"),ot.default.createElement("option",{value:"ZN"},"Zinc"),ot.default.createElement("option",{value:"MG"},"Magnesium"),ot.default.createElement("option",{value:"FE"},"Iron"),ot.default.createElement("option",{value:"CU"},"Copper"),ot.default.createElement("option",{value:"MN"},"Manganese")),ot.default.createElement("br",null),ot.default.createElement("br",null),ot.default.createElement("strong",null,"Chain ID:"),ot.default.createElement("input",{type:"text",id:"metsite_chain_id",name:"metsite_chain_id",value:this.props.metsite_chain_id,onChange:this.props.handleSidebarChange}),ot.default.createElement("br",null),ot.default.createElement("br",null),ot.default.createElement("strong",null,"False Positive Rate:"),ot.default.createElement("br",null),ot.default.createElement("select",{id:"metsite_fpr",size:"1",name:"metsite_fpr",value:this.props.metsite_fpr,onChange:this.props.handleSidebarChange},ot.default.createElement("option",{value:"0"},"1%"),ot.default.createElement("option",{value:"1"},"5%"),ot.default.createElement("option",{value:"2"},"10%"),ot.default.createElement("option",{value:"3"},"20%")))}},Y_=class extends ot.default.Component{render(){return ot.default.createElement("div",{className:"row form-header-row"},ot.default.createElement("h4",null,this.props.job_strings.hspred.fullName),ot.default.createElement("strong",null,"Protein 1:"),ot.default.createElement("input",{type:"text",id:"hspred_protein_1",name:"hspred_protein_1",value:this.props.hspred_protein_1,onChange:this.props.handleSidebarChange}),ot.default.createElement("br",null),ot.default.createElement("br",null),ot.default.createElement("strong",null,"Protein 2:")," ",ot.default.createElement("input",{type:"text",id:"hspred_protein_2",name:"hspred_protein_2",value:this.props.hspred_protein_2,onChange:this.props.handleSidebarChange}))}},K_=class extends ot.default.Component{render(){return ot.default.createElement("div",{className:"row form-header-row"},ot.default.createElement("h4",null,this.props.job_strings.memembed.fullName),ot.default.createElement("strong",null,"Search Type:"),ot.default.createElement("select",{id:"memembed_algorithm",size:"1",name:"memembed_algorithm",value:this.props.memembed_algorithm,onChange:this.props.handleSidebarChange},ot.default.createElement("option",{value:"0"},"Genetic Algorithm"),ot.default.createElement("option",{value:"1"},"Grid Search"),ot.default.createElement("option",{value:"2"},"Direct"),ot.default.createElement("option",{value:"3"},"GA x 5")),ot.default.createElement("br",null),ot.default.createElement("br",null),ot.default.createElement("strong",null,"Target is Beta Barrel:"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"memembed_barrel_yes",name:"memembed_barrel",value:"TRUE",checked:this.props.memembed_barrel==="TRUE",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"memembed_barrel_yes"},"Yes"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"memembed_barrel_no",name:"memembed_barrel",value:"FALSE",checked:this.props.memembed_barrel==="FALSE",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"memembed_barrel_no"},"No"),ot.default.createElement("br",null),ot.default.createElement("br",null),ot.default.createElement("strong",null,"N-Terminal Location:"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"memembed_terminal_in",name:"memembed_terminal",value:"in",checked:this.props.memembed_terminal==="in",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"memembed_terminal_in"},"Cytoplasmic"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"memembed_terminal_out",name:"memembed_terminal",value:"out",checked:this.props.memembed_terminal==="out",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"memembed_terminal_out"},"Extra Cellular"),ot.default.createElement("br",null),ot.default.createElement("br",null))}},Z_=class extends ot.default.Component{render(){return ot.default.createElement("div",{className:"row form-header-row"},ot.default.createElement("h4",null,this.props.job_strings.dompred.fullName),ot.default.createElement("strong",null,"PSI-BLAST e-value cutoff:"),ot.default.createElement("input",{type:"text",id:"dompred_e_value_cutoff",name:"dompred_e_value_cutoff",value:this.props.dompred_e_value_cutoff,onChange:this.props.handleSidebarChange}),ot.default.createElement("br",null),ot.default.createElement("br",null),ot.default.createElement("strong",null,"PSI-BLAST Iterations:")," ",ot.default.createElement("input",{type:"text",id:"dompred_psiblast_iterations",name:"dompred_psiblast_iterations",value:this.props.dompred_psiblast_iterations,onChange:this.props.handleSidebarChange}))}},X_=class extends ot.default.Component{render(){return ot.default.createElement("div",{className:"row form-header-row"},ot.default.createElement("h4",null,this.props.job_strings.ffpred.fullName),ot.default.createElement("input",{type:"radio",id:"ffpred_human",name:"ffpred_selection",value:"human",checked:this.props.ffpred_selection==="human",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"ffpred_human"},"Human Prediction"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"ffpred_fly",name:"ffpred_selection",value:"fly",checked:this.props.ffpred_selection==="fly",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"ffpred_fly"},"Fly Prediction"))}},$_=class extends ot.default.Component{render(){return ot.default.createElement("div",{className:"row form-header-row"},ot.default.createElement("h4",null,this.props.job_strings.merizo.fullName),ot.default.createElement("strong",null,"Chain:"),ot.default.createElement("input",{type:"text",id:"merizo_chain",name:"merizo_chain",value:this.props.merizo_chain,onChange:this.props.handleSidebarChange}),ot.default.createElement("br",null),ot.default.createElement("br",null),ot.default.createElement("strong",null,"Segmentation Mode:"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"merizo_mode_default",name:"merizo_iterate",value:"FALSE",checked:this.props.merizo_iterate==="FALSE",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"merizo_mode"},"Default (short chain)"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"merizo_mode_iterative",name:"merizo_iterate",value:"TRUE",checked:this.props.merizo_iterate==="TRUE",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"merizo_mode"},"Iterative (long chain)"),ot.default.createElement("br",null))}},Q_=class extends ot.default.Component{render(){return ot.default.createElement("div",{className:"row form-header-row"},ot.default.createElement("h4",null,this.props.job_strings.merizosearch.fullName),ot.default.createElement("strong",null,"Chain:"),ot.default.createElement("input",{type:"text",id:"merizosearch_chain",name:"merizosearch_chain",value:this.props.merizosearch_chain,onChange:this.props.handleSidebarChange}),ot.default.createElement("br",null),ot.default.createElement("br",null),ot.default.createElement("strong",null,"Search Database:"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"merizosearch_db_ted",name:"merizosearch_db",value:"ted",checked:this.props.merizosearch_db==="ted",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"merizosearch_db"},"\xA0TED (slow)"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"merizosearch_db_cath",name:"merizosearch_db",value:"cath",checked:this.props.merizosearch_db==="cath",onChange:this.props.handleSidebarChange}),ot.default.createElement("label",{htmlFor:"merizosearch_db"},"\xA0CATH 4.3 (fast)"),ot.default.createElement("br",null))}},q_=class extends ot.default.Component{render(){return ot.default.createElement("div",{className:"row form-header-row"},ot.default.createElement("h4",null,this.props.job_strings.gsrcl.fullName),ot.default.createElement("strong",null,"Log Transform Input Data?"),ot.default.createElement("br",null),ot.default.createElement("input",{type:"radio",id:"gsrcl_log_yes",name:"gsrcl_log",value:"1",checked:this.props.gsrcl_log==="1",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"gsrcl_log"},"\xA0Yes"),"\xA0",ot.default.createElement("input",{type:"radio",id:"gsrcl_log_no",name:"gsrcl_log",value:"0",checked:this.props.gsrcl_log==="0",onChange:this.props.handleSidebarChange})," ",ot.default.createElement("label",{htmlFor:"gsrcl_log"},"\xA0No"),ot.default.createElement("br",null),ot.default.createElement("strong",null,"Tissue Dataset:"),ot.default.createElement("select",{id:"gsrcl_tissue",size:"1",name:"gsrcl_tissue",value:this.props.gsrcl_tissue,onChange:this.props.handleSidebarChange},ot.default.createElement("option",{value:"BaronHuman"},"Human Pancreas: Baron"),ot.default.createElement("option",{value:"Muraro"},"Human Pancreas: Muraro"),ot.default.createElement("option",{value:"Segerstolpe"},"Human Pancreas: Segerstolpe"),ot.default.createElement("option",{value:"Xin"},"Human Pancreas: Xin"),ot.default.createElement("option",{value:"PbmcBench10Xv2"},"Human Peripheral blood mononuclear cell: 10Xv2"),ot.default.createElement("option",{value:"PbmcBench10Xv3"},"Human Peripheral blood mononuclear cellL 10Xv3"),ot.default.createElement("option",{value:"PbmcBenchDropSeq"},"Human Peripheral blood mononuclear cell: DropSeq"),ot.default.createElement("option",{value:"PbmcBenchinDrop"},"Human Peripheral blood mononuclear cell: inDrop"),ot.default.createElement("option",{value:"PbmcBenchSeqWell"},"Human Peripheral blood mononuclear cell: SeqWell"),ot.default.createElement("option",{value:"Quake10xBladder"},"Mouse Bladder: Quake 10x"),ot.default.createElement("option",{value:"QuakeSmartseq2Diaphragm"},"Mouse Diaphragm: Quake seq2"),ot.default.createElement("option",{value:"Klein"},"Mouse Embryonic Stem Cell: Klein"),ot.default.createElement("option",{value:"Romanov"},"Mouse Hypothalamus: Romanov"),ot.default.createElement("option",{value:"Adam"},"Mouse Kidney: Adam"),ot.default.createElement("option",{value:"QuakeSmart10xLimbMuscle"},"Mouse Limb Muscle: Quake 10x"),ot.default.createElement("option",{value:"QuakeSmartseq2LimbMuscle"},"Mouse Limb Muscle: Quake seq2"),ot.default.createElement("option",{value:"QuakeSmartseq2Lung"},"Mouse Lung: Quake seq2"),ot.default.createElement("option",{value:"BaronMouse"},"Mouse Pancreas: Baron"),ot.default.createElement("option",{value:"QuakeSmartseq2Trachea"},"Mouse Trachea: Quake seq2")))}}});var ve,J_,eb,tb,rb,g0,OC=ae(()=>{ve=Hr(Dn()),J_=class extends ve.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"col-md-12"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("br",null),ve.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},ve.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("table",{className:"full-width-table"},ve.default.createElement("tbody",null,ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"Popular Analyses"))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.psipred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.psipred.jobName,value:this.props.job_strings.psipred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.psipred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_psipred_job"},this.props.job_strings.psipred.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.disopred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_disopred_job",name:this.props.job_strings.disopred.jobName,value:this.props.job_strings.disopred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.disopred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_disopred_job"},this.props.job_strings.disopred.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memsatsvm.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_memsatsvm_job",name:this.props.job_strings.memsatsvm.jobName,value:this.props.job_strings.memsatsvm.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.memsatsvm.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_memsatsvm_job"},this.props.job_strings.memsatsvm.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pgenthreader.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_pgenthreader_job",name:this.props.job_strings.pgenthreader.jobName,value:this.props.job_strings.pgenthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.pgenthreader.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_pgenthreader_job"},this.props.job_strings.pgenthreader.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Structure Modelling")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpfold.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_dmpfold_job",name:this.props.job_strings.dmpfold.jobName,value:this.props.job_strings.dmpfold.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmpfold.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_dmpfold_job"},this.props.job_strings.dmpfold.describedName)),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Single Sequence Prediction")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.s4pred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_s4pred_job",name:this.props.job_strings.s4pred.jobName,value:this.props.job_strings.s4pred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.s4pred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_s4pred_job"},this.props.job_strings.s4pred.describedName)),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"Contact Analysis"))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmp.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_dmp_job",name:this.props.job_strings.dmp.jobName,value:this.props.job_strings.dmp.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmp.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_dmp_job"},this.props.job_strings.dmp.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.mempack.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_mempack_job",name:this.props.job_strings.mempack.jobName,value:this.props.job_strings.mempack.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.mempack.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_mempack_job"},this.props.job_strings.mempack.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Fold Recognition")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.genthreader.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_genthreader_job",name:this.props.job_strings.genthreader.jobName,value:this.props.job_strings.genthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.genthreader.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_genthreader_job"},this.props.job_strings.genthreader.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pdomthreader.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_pdomthreader_job",name:this.props.job_strings.pdomthreader.jobName,value:this.props.job_strings.pdomthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.pdomthreader.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_pdomthreader_job"},this.props.job_strings.pdomthreader.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Domain Prediction")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dompred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_dompred_job",name:this.props.job_strings.dompred.jobName,value:this.props.job_strings.dompred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dompred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_dompred_job"},this.props.job_strings.dompred.describedName)),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Function Prediction")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.ffpred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_ffpred_job",name:this.props.job_strings.ffpred.jobName,value:this.props.job_strings.ffpred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.ffpred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_ffpred_job"},this.props.job_strings.ffpred.describedName)," "),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpmetal.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_dmpmetal_job",name:this.props.job_strings.dmpmetal.jobName,value:this.props.job_strings.dmpmetal.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmpmetal.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_dmpmetal_job"},this.props.job_strings.dmpmetal.describedName)," ")),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null)))))),ve.default.createElement("div",{className:"col-sm-12 form-header-blue"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Submission details"))),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("p",{className:"form_error"}),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_input_data"},"Protein Sequence"),ve.default.createElement("textarea",{className:"form-control",cols:"40",rows:"3",placeholder:"Protein Sequence",title:"",required:"",id:"id_input_data",name:"input_data",value:this.props.input_data,onChange:this.handleChange}))),ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null)," If you wish to test these services follow this link to retrieve ",ve.default.createElement("a",{className:"form-link",href:"http://www.uniprot.org/uniprot/B0R5N9.fasta"},"a test fasta sequence")," or ",ve.default.createElement("button",{onClick:this.props.setTestSeq,type:"button",class:"fake-link"},"click here to load a test seq"),".",ve.default.createElement("br",null),"For DMPmetal, ",ve.default.createElement("button",{onClick:this.props.setDMPMetSeq,type:"button",class:"fake-link"},"click here to set a test sequence"),".",ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),ve.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),ve.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?ve.default.createElement("div",null,ve.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):ve.default.createElement("div",{className:"form-group"},ve.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",ve.default.createElement("input",{className:"btn btn-primary",name:"submit",type:"submit",value:"submit"}))))))}},eb=class extends ve.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"col-md-12"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("br",null),ve.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},ve.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("table",{className:"full-width-table"},ve.default.createElement("tbody",null,ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"Popular Analyses"))),ve.default.createElement("tr",null,ve.default.createElement("td",{colspan:"2","data-toggle":"tool-tip",title:this.props.job_strings.merizosearch.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_merizosearch_job",name:this.props.job_strings.merizosearch.jobName,value:this.props.job_strings.merizosearch.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.merizosearch.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_merizosearch_job"},this.props.job_strings.merizosearch.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"Structure Analyses"))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.metsite.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_metsite_job",name:this.props.job_strings.metsite.jobName,value:this.props.job_strings.metsite.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.metsite.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_metsite_job"},this.props.job_strings.metsite.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.hspred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_hspred_job",name:this.props.job_strings.hspred.jobName,value:this.props.job_strings.hspred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.hspred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_hspred_job"},this.props.job_strings.hspred.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memembed.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_memembed_job",name:this.props.job_strings.memembed.jobName,value:this.props.job_strings.memembed.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.memembed.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_memembed_job"},this.props.job_strings.memembed.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.merizo.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_merizo_job",name:this.props.job_strings.merizo.jobName,value:this.props.job_strings.merizo.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.merizo.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_merizo_job"},this.props.job_strings.merizo.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null)))))),ve.default.createElement("div",{className:"col-sm-12 form-header-red"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Submission details"))),ve.default.createElement("p",{className:"form_error"})," ",ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("br",null)," Select PDB file",ve.default.createElement("br",null)," ",ve.default.createElement("input",{type:"file",id:"pdbFile",name:"pdbFile",defaultValue:""}),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null),"If you wish to try Metsite or HSPred follow this link to retrieve ",ve.default.createElement("a",{className:"form-link",href:"http://www.rcsb.org/pdb/download/downloadFile.do?fileFormat=pdb&compression=NO&structureId=1IAR"},"a test pdb file."),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),ve.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),ve.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?ve.default.createElement("div",null,ve.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):ve.default.createElement("div",{className:"form-group"},ve.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",ve.default.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))))))}},tb=class extends ve.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"col-md-12"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("br",null),ve.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},ve.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("table",{className:"full-width-table"},ve.default.createElement("tbody",null,ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"RNASeq Analyses"))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.gsrcl.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_gsrcl_job",name:this.props.job_strings.gsrcl.jobName,value:this.props.job_strings.gsrcl.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.gsrcl.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_gsrcl_job"},this.props.job_strings.gsrcl.describedName)),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null)))))),ve.default.createElement("div",{className:"col-sm-12 form-header-green"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Submission details"))),ve.default.createElement("p",{className:"form_error"})," ",ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("br",null),"Input data must be submitted in CSV format. Please consult our ",ve.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"docutmentation")," on the required layout for your data.",ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("input",{type:"file",id:"transFile",name:"transFile",defaultValue:""}),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null),"If you wish to try this method follow this link to retrieve ",ve.default.createElement("a",{className:"form-link",href:""},"a test csv file."),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),ve.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),ve.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?ve.default.createElement("div",null,ve.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):ve.default.createElement("div",{className:"form-group"},ve.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",ve.default.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))))))}},rb=class extends ve.default.Component{render(t){return ve.default.createElement("div",{className:"box-body"},ve.default.createElement("div",{className:"form-group"},this.props.formSelectedOption==="SeqForm"?ve.default.createElement("div",{className:"col-md-12 form-header-blue"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Select input data type"))):this.props.formSelectedOption==="StructForm"?ve.default.createElement("div",{className:"col-md-12 form-header-red"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Select input data type"))):ve.default.createElement("div",{className:"col-md-12 form-header-green"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Select input data type"))),ve.default.createElement("div",{className:"col-md-12"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("div",{className:"funkyradio"},ve.default.createElement("div",{className:"funkyradio-primary"},ve.default.createElement("input",{type:"radio",id:"radio1",name:"radio",value:"SeqForm",checked:this.props.formSelectedOption==="SeqForm",onChange:this.props.handleInputChange})," ",ve.default.createElement("label",{htmlFor:"radio1"},ve.default.createElement("b",null,"Sequence Data\xA0\xA0"))),"\xA0\xA0\xA0",ve.default.createElement("div",{className:"funkyradio-danger"},ve.default.createElement("input",{type:"radio",id:"radio2",name:"radio",value:"StructForm",checked:this.props.formSelectedOption==="StructForm",onChange:this.props.handleInputChange})," ",ve.default.createElement("label",{htmlFor:"radio2"},ve.default.createElement("b",null,"PDB Structure Data\xA0\xA0"))),"\xA0\xA0\xA0",ve.default.createElement("div",{className:"funkyradio-success"},ve.default.createElement("input",{type:"radio",id:"radio3",name:"radio",value:"TransForm",checked:this.props.formSelectedOption==="TransForm",onChange:this.props.handleInputChange})," ",ve.default.createElement("label",{htmlFor:"radio3"},ve.default.createElement("b",null,"RNASeq Data\xA0\xA0")))),ve.default.createElement("br",null)))),ve.default.createElement("div",{className:"form-group"},this.props.formSelectedOption==="SeqForm"?ve.default.createElement("div",{className:"col-md-12 form-header-blue"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)"))):this.props.formSelectedOption==="StructForm"?ve.default.createElement("div",{className:"col-md-12 form-header-red"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)"))):ve.default.createElement("div",{className:"col-md-12 form-header-green"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)")))),this.props.formSelectedOption==="SeqForm"?ve.default.createElement(J_,{...this.props,handleChange:this.props.handleSeqChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit,setTestSeq:this.props.setTestSeq}):this.props.formSelectedOption==="StructForm"?ve.default.createElement(eb,{...this.props,handleChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit}):ve.default.createElement(tb,{...this.props,handleChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit}))}},g0=class extends ve.default.Component{render(){return ve.default.createElement("div",{id:"main_form",className:"box box-primary"},ve.default.createElement("div",{className:"box-header with-border"},ve.default.createElement("p",null,"The PSIPRED Workbench provides a range of protein structure prediction methods. The site can be used interactively via a web browser or programmatically via our REST API. For high-throughput analyses, downloads of all the algorithms are available."),ve.default.createElement("p",null,ve.default.createElement("b",null,"Amino acid")," sequences enable: secondary structure prediction, including regions of disorder and transmembrane helix packing; contact analysis; fold recognition; structure modelling; and prediction of domains and function. In addition ",ve.default.createElement("b",null,"PDB Structure files")," allow prediction of protein-metal ion contacts, protein-protein hotspot residues, and membrane protein orientation."),ve.default.createElement("p",null,"Video tutorials for our most popular and latest methods can be found at the ",ve.default.createElement("a",{href:"https://www.youtube.com/@psipreducl"},"PSIPRED YouTube Channel")," "),ve.default.createElement("p",null,"For Help or Errors please email psipred-help@cs.ucl.ac.uk"),ve.default.createElement("hr",{id:"hr_form"})),ve.default.createElement("div",{className:"box-header with-border"},ve.default.createElement("h5",{className:"box-title"},"Data Input")),ve.default.createElement(rb,{...this.props,handleSubmit:this.props.handleSubmit,handleInputChange:this.props.handleInputChange,handleStructChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSeqChange:this.props.handleSeqChange,setTestSeq:this.props.setTestSeq}))}}});var of=Fn((NC,v0)=>{(function(e,t){"use strict";typeof v0=="object"&&typeof v0.exports=="object"?v0.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return t(r)}:t(e)})(typeof window<"u"?window:NC,function(e,t){"use strict";var r=[],n=Object.getPrototypeOf,a=r.slice,s=r.flat?function(A){return r.flat.call(A)}:function(A){return r.concat.apply([],A)},o=r.push,l=r.indexOf,u={},g=u.toString,p=u.hasOwnProperty,_=p.toString,x=_.call(Object),S={},w=function(P){return typeof P=="function"&&typeof P.nodeType!="number"&&typeof P.item!="function"},c=function(P){return P!=null&&P===P.window},v=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function b(A,P,j){j=j||v;var K,ee,re=j.createElement("script");if(re.text=A,P)for(K in y)ee=P[K]||P.getAttribute&&P.getAttribute(K),ee&&re.setAttribute(K,ee);j.head.appendChild(re).parentNode.removeChild(re)}function C(A){return A==null?A+"":typeof A=="object"||typeof A=="function"?u[g.call(A)]||"object":typeof A}var E="3.7.0",h=/HTML$/i,f=function(A,P){return new f.fn.init(A,P)};f.fn=f.prototype={jquery:E,constructor:f,length:0,toArray:function(){return a.call(this)},get:function(A){return A==null?a.call(this):A<0?this[A+this.length]:this[A]},pushStack:function(A){var P=f.merge(this.constructor(),A);return P.prevObject=this,P},each:function(A){return f.each(this,A)},map:function(A){return this.pushStack(f.map(this,function(P,j){return A.call(P,j,P)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(A,P){return(P+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(A,P){return P%2}))},eq:function(A){var P=this.length,j=+A+(A<0?P:0);return this.pushStack(j>=0&&j<P?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:r.sort,splice:r.splice},f.extend=f.fn.extend=function(){var A,P,j,K,ee,re,fe=arguments[0]||{},ke=1,Te=arguments.length,Ze=!1;for(typeof fe=="boolean"&&(Ze=fe,fe=arguments[ke]||{},ke++),typeof fe!="object"&&!w(fe)&&(fe={}),ke===Te&&(fe=this,ke--);ke<Te;ke++)if((A=arguments[ke])!=null)for(P in A)K=A[P],!(P==="__proto__"||fe===K)&&(Ze&&K&&(f.isPlainObject(K)||(ee=Array.isArray(K)))?(j=fe[P],ee&&!Array.isArray(j)?re=[]:!ee&&!f.isPlainObject(j)?re={}:re=j,ee=!1,fe[P]=f.extend(Ze,re,K)):K!==void 0&&(fe[P]=K));return fe},f.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(A){throw new Error(A)},noop:function(){},isPlainObject:function(A){var P,j;return!A||g.call(A)!=="[object Object]"?!1:(P=n(A),P?(j=p.call(P,"constructor")&&P.constructor,typeof j=="function"&&_.call(j)===x):!0)},isEmptyObject:function(A){var P;for(P in A)return!1;return!0},globalEval:function(A,P,j){b(A,{nonce:P&&P.nonce},j)},each:function(A,P){var j,K=0;if(D(A))for(j=A.length;K<j&&P.call(A[K],K,A[K])!==!1;K++);else for(K in A)if(P.call(A[K],K,A[K])===!1)break;return A},text:function(A){var P,j="",K=0,ee=A.nodeType;if(ee){if(ee===1||ee===9||ee===11)return A.textContent;if(ee===3||ee===4)return A.nodeValue}else for(;P=A[K++];)j+=f.text(P);return j},makeArray:function(A,P){var j=P||[];return A!=null&&(D(Object(A))?f.merge(j,typeof A=="string"?[A]:A):o.call(j,A)),j},inArray:function(A,P,j){return P==null?-1:l.call(P,A,j)},isXMLDoc:function(A){var P=A&&A.namespaceURI,j=A&&(A.ownerDocument||A).documentElement;return!h.test(P||j&&j.nodeName||"HTML")},merge:function(A,P){for(var j=+P.length,K=0,ee=A.length;K<j;K++)A[ee++]=P[K];return A.length=ee,A},grep:function(A,P,j){for(var K,ee=[],re=0,fe=A.length,ke=!j;re<fe;re++)K=!P(A[re],re),K!==ke&&ee.push(A[re]);return ee},map:function(A,P,j){var K,ee,re=0,fe=[];if(D(A))for(K=A.length;re<K;re++)ee=P(A[re],re,j),ee!=null&&fe.push(ee);else for(re in A)ee=P(A[re],re,j),ee!=null&&fe.push(ee);return s(fe)},guid:1,support:S}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=r[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(A,P){u["[object "+P+"]"]=P.toLowerCase()});function D(A){var P=!!A&&"length"in A&&A.length,j=C(A);return w(A)||c(A)?!1:j==="array"||P===0||typeof P=="number"&&P>0&&P-1 in A}function M(A,P){return A.nodeName&&A.nodeName.toLowerCase()===P.toLowerCase()}var N=r.pop,k=r.sort,z=r.splice,O="[\\x20\\t\\r\\n\\f]",I=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g");f.contains=function(A,P){var j=P&&P.parentNode;return A===j||!!(j&&j.nodeType===1&&(A.contains?A.contains(j):A.compareDocumentPosition&&A.compareDocumentPosition(j)&16))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Y(A,P){return P?A==="\0"?"\uFFFD":A.slice(0,-1)+"\\"+A.charCodeAt(A.length-1).toString(16)+" ":"\\"+A}f.escapeSelector=function(A){return(A+"").replace(H,Y)};var q=v,G=o;(function(){var A,P,j,K,ee,re=G,fe,ke,Te,Ze,ht,_t=f.expando,nt=0,wt=0,Zt=ks(),ur=ks(),rr=ks(),gn=ks(),tn=function(Se,We){return Se===We&&(ee=!0),0},Di="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Gn="(?:\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",or="\\["+O+"*("+Gn+")(?:"+O+"*([*^$|!~]?=)"+O+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Gn+"))|)"+O+"*\\]",Aa=":("+Gn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+or+")*)|.*)\\)|)",pr=new RegExp(O+"+","g"),Gr=new RegExp("^"+O+"*,"+O+"*"),ji=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),Mi=new RegExp(O+"|>"),Ai=new RegExp(Aa),Ta=new RegExp("^"+Gn+"$"),Ti={ID:new RegExp("^#("+Gn+")"),CLASS:new RegExp("^\\.("+Gn+")"),TAG:new RegExp("^("+Gn+"|[*])"),ATTR:new RegExp("^"+or),PSEUDO:new RegExp("^"+Aa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+Di+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Li=/^(?:input|select|textarea|button)$/i,ia=/^h\d$/i,Qn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sl=/[+~]/,Ri=new RegExp("\\\\[\\da-fA-F]{1,6}"+O+"?|\\\\([^\\r\\n\\f])","g"),Hn=function(Se,We){var rt="0x"+Se.slice(1)-65536;return We||(rt<0?String.fromCharCode(rt+65536):String.fromCharCode(rt>>10|55296,rt&1023|56320))},ld=function(){ka()},xu=Os(function(Se){return Se.disabled===!0&&M(Se,"fieldset")},{dir:"parentNode",next:"legend"});function wr(){try{return fe.activeElement}catch{}}try{re.apply(r=a.call(q.childNodes),q.childNodes),r[q.childNodes.length].nodeType}catch{re={apply:function(We,rt){G.apply(We,a.call(rt))},call:function(We){G.apply(We,a.call(arguments,1))}}}function Cr(Se,We,rt,ct){var vt,Tt,kt,Bt,Ot,ar,Rt,Ht=We&&We.ownerDocument,nr=We?We.nodeType:9;if(rt=rt||[],typeof Se!="string"||!Se||nr!==1&&nr!==9&&nr!==11)return rt;if(!ct&&(ka(We),We=We||fe,Te)){if(nr!==11&&(Ot=Qn.exec(Se)))if(vt=Ot[1]){if(nr===9)if(kt=We.getElementById(vt)){if(kt.id===vt)return re.call(rt,kt),rt}else return rt;else if(Ht&&(kt=Ht.getElementById(vt))&&Cr.contains(We,kt)&&kt.id===vt)return re.call(rt,kt),rt}else{if(Ot[2])return re.apply(rt,We.getElementsByTagName(Se)),rt;if((vt=Ot[3])&&We.getElementsByClassName)return re.apply(rt,We.getElementsByClassName(vt)),rt}if(!gn[Se+" "]&&(!Ze||!Ze.test(Se))){if(Rt=Se,Ht=We,nr===1&&(Mi.test(Se)||ji.test(Se))){for(Ht=sl.test(Se)&&ol(We.parentNode)||We,(Ht!=We||!S.scope)&&((Bt=We.getAttribute("id"))?Bt=f.escapeSelector(Bt):We.setAttribute("id",Bt=_t)),ar=Oa(Se),Tt=ar.length;Tt--;)ar[Tt]=(Bt?"#"+Bt:":scope")+" "+Na(ar[Tt]);Rt=ar.join(",")}try{return re.apply(rt,Ht.querySelectorAll(Rt)),rt}catch{gn(Se,!0)}finally{Bt===_t&&We.removeAttribute("id")}}}return ll(Se.replace(I,"$1"),We,rt,ct)}function ks(){var Se=[];function We(rt,ct){return Se.push(rt+" ")>P.cacheLength&&delete We[Se.shift()],We[rt+" "]=ct}return We}function Vn(Se){return Se[_t]=!0,Se}function aa(Se){var We=fe.createElement("fieldset");try{return!!Se(We)}catch{return!1}finally{We.parentNode&&We.parentNode.removeChild(We),We=null}}function wu(Se){return function(We){return M(We,"input")&&We.type===Se}}function ud(Se){return function(We){return(M(We,"input")||M(We,"button"))&&We.type===Se}}function es(Se){return function(We){return"form"in We?We.parentNode&&We.disabled===!1?"label"in We?"label"in We.parentNode?We.parentNode.disabled===Se:We.disabled===Se:We.isDisabled===Se||We.isDisabled!==!Se&&xu(We)===Se:We.disabled===Se:"label"in We?We.disabled===Se:!1}}function La(Se){return Vn(function(We){return We=+We,Vn(function(rt,ct){for(var vt,Tt=Se([],rt.length,We),kt=Tt.length;kt--;)rt[vt=Tt[kt]]&&(rt[vt]=!(ct[vt]=rt[vt]))})})}function ol(Se){return Se&&typeof Se.getElementsByTagName<"u"&&Se}function ka(Se){var We,rt=Se?Se.ownerDocument||Se:q;return rt==fe||rt.nodeType!==9||!rt.documentElement||(fe=rt,ke=fe.documentElement,Te=!f.isXMLDoc(fe),ht=ke.matches||ke.webkitMatchesSelector||ke.msMatchesSelector,q!=fe&&(We=fe.defaultView)&&We.top!==We&&We.addEventListener("unload",ld),S.getById=aa(function(ct){return ke.appendChild(ct).id=f.expando,!fe.getElementsByName||!fe.getElementsByName(f.expando).length}),S.disconnectedMatch=aa(function(ct){return ht.call(ct,"*")}),S.scope=aa(function(){return fe.querySelectorAll(":scope")}),S.cssHas=aa(function(){try{return fe.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),S.getById?(P.filter.ID=function(ct){var vt=ct.replace(Ri,Hn);return function(Tt){return Tt.getAttribute("id")===vt}},P.find.ID=function(ct,vt){if(typeof vt.getElementById<"u"&&Te){var Tt=vt.getElementById(ct);return Tt?[Tt]:[]}}):(P.filter.ID=function(ct){var vt=ct.replace(Ri,Hn);return function(Tt){var kt=typeof Tt.getAttributeNode<"u"&&Tt.getAttributeNode("id");return kt&&kt.value===vt}},P.find.ID=function(ct,vt){if(typeof vt.getElementById<"u"&&Te){var Tt,kt,Bt,Ot=vt.getElementById(ct);if(Ot){if(Tt=Ot.getAttributeNode("id"),Tt&&Tt.value===ct)return[Ot];for(Bt=vt.getElementsByName(ct),kt=0;Ot=Bt[kt++];)if(Tt=Ot.getAttributeNode("id"),Tt&&Tt.value===ct)return[Ot]}return[]}}),P.find.TAG=function(ct,vt){return typeof vt.getElementsByTagName<"u"?vt.getElementsByTagName(ct):vt.querySelectorAll(ct)},P.find.CLASS=function(ct,vt){if(typeof vt.getElementsByClassName<"u"&&Te)return vt.getElementsByClassName(ct)},Ze=[],aa(function(ct){var vt;ke.appendChild(ct).innerHTML="<a id='"+_t+"' href='' disabled='disabled'></a><select id='"+_t+"-\r\\' disabled='disabled'><option selected=''></option></select>",ct.querySelectorAll("[selected]").length||Ze.push("\\["+O+"*(?:value|"+Di+")"),ct.querySelectorAll("[id~="+_t+"-]").length||Ze.push("~="),ct.querySelectorAll("a#"+_t+"+*").length||Ze.push(".#.+[+~]"),ct.querySelectorAll(":checked").length||Ze.push(":checked"),vt=fe.createElement("input"),vt.setAttribute("type","hidden"),ct.appendChild(vt).setAttribute("name","D"),ke.appendChild(ct).disabled=!0,ct.querySelectorAll(":disabled").length!==2&&Ze.push(":enabled",":disabled"),vt=fe.createElement("input"),vt.setAttribute("name",""),ct.appendChild(vt),ct.querySelectorAll("[name='']").length||Ze.push("\\["+O+"*name"+O+"*="+O+`*(?:''|"")`)}),S.cssHas||Ze.push(":has"),Ze=Ze.length&&new RegExp(Ze.join("|")),tn=function(ct,vt){if(ct===vt)return ee=!0,0;var Tt=!ct.compareDocumentPosition-!vt.compareDocumentPosition;return Tt||(Tt=(ct.ownerDocument||ct)==(vt.ownerDocument||vt)?ct.compareDocumentPosition(vt):1,Tt&1||!S.sortDetached&&vt.compareDocumentPosition(ct)===Tt?ct===fe||ct.ownerDocument==q&&Cr.contains(q,ct)?-1:vt===fe||vt.ownerDocument==q&&Cr.contains(q,vt)?1:K?l.call(K,ct)-l.call(K,vt):0:Tt&4?-1:1)}),fe}Cr.matches=function(Se,We){return Cr(Se,null,null,We)},Cr.matchesSelector=function(Se,We){if(ka(Se),Te&&!gn[We+" "]&&(!Ze||!Ze.test(We)))try{var rt=ht.call(Se,We);if(rt||S.disconnectedMatch||Se.document&&Se.document.nodeType!==11)return rt}catch{gn(We,!0)}return Cr(We,fe,null,[Se]).length>0},Cr.contains=function(Se,We){return(Se.ownerDocument||Se)!=fe&&ka(Se),f.contains(Se,We)},Cr.attr=function(Se,We){(Se.ownerDocument||Se)!=fe&&ka(Se);var rt=P.attrHandle[We.toLowerCase()],ct=rt&&p.call(P.attrHandle,We.toLowerCase())?rt(Se,We,!Te):void 0;return ct!==void 0?ct:Se.getAttribute(We)},Cr.error=function(Se){throw new Error("Syntax error, unrecognized expression: "+Se)},f.uniqueSort=function(Se){var We,rt=[],ct=0,vt=0;if(ee=!S.sortStable,K=!S.sortStable&&a.call(Se,0),k.call(Se,tn),ee){for(;We=Se[vt++];)We===Se[vt]&&(ct=rt.push(vt));for(;ct--;)z.call(Se,rt[ct],1)}return K=null,Se},f.fn.uniqueSort=function(){return this.pushStack(f.uniqueSort(a.apply(this)))},P=f.expr={cacheLength:50,createPseudo:Vn,match:Ti,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Se){return Se[1]=Se[1].replace(Ri,Hn),Se[3]=(Se[3]||Se[4]||Se[5]||"").replace(Ri,Hn),Se[2]==="~="&&(Se[3]=" "+Se[3]+" "),Se.slice(0,4)},CHILD:function(Se){return Se[1]=Se[1].toLowerCase(),Se[1].slice(0,3)==="nth"?(Se[3]||Cr.error(Se[0]),Se[4]=+(Se[4]?Se[5]+(Se[6]||1):2*(Se[3]==="even"||Se[3]==="odd")),Se[5]=+(Se[7]+Se[8]||Se[3]==="odd")):Se[3]&&Cr.error(Se[0]),Se},PSEUDO:function(Se){var We,rt=!Se[6]&&Se[2];return Ti.CHILD.test(Se[0])?null:(Se[3]?Se[2]=Se[4]||Se[5]||"":rt&&Ai.test(rt)&&(We=Oa(rt,!0))&&(We=rt.indexOf(")",rt.length-We)-rt.length)&&(Se[0]=Se[0].slice(0,We),Se[2]=rt.slice(0,We)),Se.slice(0,3))}},filter:{TAG:function(Se){var We=Se.replace(Ri,Hn).toLowerCase();return Se==="*"?function(){return!0}:function(rt){return M(rt,We)}},CLASS:function(Se){var We=Zt[Se+" "];return We||(We=new RegExp("(^|"+O+")"+Se+"("+O+"|$)"))&&Zt(Se,function(rt){return We.test(typeof rt.className=="string"&&rt.className||typeof rt.getAttribute<"u"&&rt.getAttribute("class")||"")})},ATTR:function(Se,We,rt){return function(ct){var vt=Cr.attr(ct,Se);return vt==null?We==="!=":We?(vt+="",We==="="?vt===rt:We==="!="?vt!==rt:We==="^="?rt&&vt.indexOf(rt)===0:We==="*="?rt&&vt.indexOf(rt)>-1:We==="$="?rt&&vt.slice(-rt.length)===rt:We==="~="?(" "+vt.replace(pr," ")+" ").indexOf(rt)>-1:We==="|="?vt===rt||vt.slice(0,rt.length+1)===rt+"-":!1):!0}},CHILD:function(Se,We,rt,ct,vt){var Tt=Se.slice(0,3)!=="nth",kt=Se.slice(-4)!=="last",Bt=We==="of-type";return ct===1&&vt===0?function(Ot){return!!Ot.parentNode}:function(Ot,ar,Rt){var Ht,nr,Gt,fr,vn,_n=Tt!==kt?"nextSibling":"previousSibling",zn=Ot.parentNode,qn=Bt&&Ot.nodeName.toLowerCase(),Pa=!Rt&&!Bt,xn=!1;if(zn){if(Tt){for(;_n;){for(Gt=Ot;Gt=Gt[_n];)if(Bt?M(Gt,qn):Gt.nodeType===1)return!1;vn=_n=Se==="only"&&!vn&&"nextSibling"}return!0}if(vn=[kt?zn.firstChild:zn.lastChild],kt&&Pa){for(nr=zn[_t]||(zn[_t]={}),Ht=nr[Se]||[],fr=Ht[0]===nt&&Ht[1],xn=fr&&Ht[2],Gt=fr&&zn.childNodes[fr];Gt=++fr&&Gt&&Gt[_n]||(xn=fr=0)||vn.pop();)if(Gt.nodeType===1&&++xn&&Gt===Ot){nr[Se]=[nt,fr,xn];break}}else if(Pa&&(nr=Ot[_t]||(Ot[_t]={}),Ht=nr[Se]||[],fr=Ht[0]===nt&&Ht[1],xn=fr),xn===!1)for(;(Gt=++fr&&Gt&&Gt[_n]||(xn=fr=0)||vn.pop())&&!((Bt?M(Gt,qn):Gt.nodeType===1)&&++xn&&(Pa&&(nr=Gt[_t]||(Gt[_t]={}),nr[Se]=[nt,xn]),Gt===Ot)););return xn-=vt,xn===ct||xn%ct===0&&xn/ct>=0}}},PSEUDO:function(Se,We){var rt,ct=P.pseudos[Se]||P.setFilters[Se.toLowerCase()]||Cr.error("unsupported pseudo: "+Se);return ct[_t]?ct(We):ct.length>1?(rt=[Se,Se,"",We],P.setFilters.hasOwnProperty(Se.toLowerCase())?Vn(function(vt,Tt){for(var kt,Bt=ct(vt,We),Ot=Bt.length;Ot--;)kt=l.call(vt,Bt[Ot]),vt[kt]=!(Tt[kt]=Bt[Ot])}):function(vt){return ct(vt,0,rt)}):ct}},pseudos:{not:Vn(function(Se){var We=[],rt=[],ct=In(Se.replace(I,"$1"));return ct[_t]?Vn(function(vt,Tt,kt,Bt){for(var Ot,ar=ct(vt,null,Bt,[]),Rt=vt.length;Rt--;)(Ot=ar[Rt])&&(vt[Rt]=!(Tt[Rt]=Ot))}):function(vt,Tt,kt){return We[0]=vt,ct(We,null,kt,rt),We[0]=null,!rt.pop()}}),has:Vn(function(Se){return function(We){return Cr(Se,We).length>0}}),contains:Vn(function(Se){return Se=Se.replace(Ri,Hn),function(We){return(We.textContent||f.text(We)).indexOf(Se)>-1}}),lang:Vn(function(Se){return Ta.test(Se||"")||Cr.error("unsupported lang: "+Se),Se=Se.replace(Ri,Hn).toLowerCase(),function(We){var rt;do if(rt=Te?We.lang:We.getAttribute("xml:lang")||We.getAttribute("lang"))return rt=rt.toLowerCase(),rt===Se||rt.indexOf(Se+"-")===0;while((We=We.parentNode)&&We.nodeType===1);return!1}}),target:function(Se){var We=e.location&&e.location.hash;return We&&We.slice(1)===Se.id},root:function(Se){return Se===ke},focus:function(Se){return Se===wr()&&fe.hasFocus()&&!!(Se.type||Se.href||~Se.tabIndex)},enabled:es(!1),disabled:es(!0),checked:function(Se){return M(Se,"input")&&!!Se.checked||M(Se,"option")&&!!Se.selected},selected:function(Se){return Se.parentNode&&Se.parentNode.selectedIndex,Se.selected===!0},empty:function(Se){for(Se=Se.firstChild;Se;Se=Se.nextSibling)if(Se.nodeType<6)return!1;return!0},parent:function(Se){return!P.pseudos.empty(Se)},header:function(Se){return ia.test(Se.nodeName)},input:function(Se){return Li.test(Se.nodeName)},button:function(Se){return M(Se,"input")&&Se.type==="button"||M(Se,"button")},text:function(Se){var We;return M(Se,"input")&&Se.type==="text"&&((We=Se.getAttribute("type"))==null||We.toLowerCase()==="text")},first:La(function(){return[0]}),last:La(function(Se,We){return[We-1]}),eq:La(function(Se,We,rt){return[rt<0?rt+We:rt]}),even:La(function(Se,We){for(var rt=0;rt<We;rt+=2)Se.push(rt);return Se}),odd:La(function(Se,We){for(var rt=1;rt<We;rt+=2)Se.push(rt);return Se}),lt:La(function(Se,We,rt){var ct;for(rt<0?ct=rt+We:rt>We?ct=We:ct=rt;--ct>=0;)Se.push(ct);return Se}),gt:La(function(Se,We,rt){for(var ct=rt<0?rt+We:rt;++ct<We;)Se.push(ct);return Se})}},P.pseudos.nth=P.pseudos.eq;for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})P.pseudos[A]=wu(A);for(A in{submit:!0,reset:!0})P.pseudos[A]=ud(A);function Wi(){}Wi.prototype=P.filters=P.pseudos,P.setFilters=new Wi;function Oa(Se,We){var rt,ct,vt,Tt,kt,Bt,Ot,ar=ur[Se+" "];if(ar)return We?0:ar.slice(0);for(kt=Se,Bt=[],Ot=P.preFilter;kt;){(!rt||(ct=Gr.exec(kt)))&&(ct&&(kt=kt.slice(ct[0].length)||kt),Bt.push(vt=[])),rt=!1,(ct=ji.exec(kt))&&(rt=ct.shift(),vt.push({value:rt,type:ct[0].replace(I," ")}),kt=kt.slice(rt.length));for(Tt in P.filter)(ct=Ti[Tt].exec(kt))&&(!Ot[Tt]||(ct=Ot[Tt](ct)))&&(rt=ct.shift(),vt.push({value:rt,type:Tt,matches:ct}),kt=kt.slice(rt.length));if(!rt)break}return We?kt.length:kt?Cr.error(Se):ur(Se,Bt).slice(0)}function Na(Se){for(var We=0,rt=Se.length,ct="";We<rt;We++)ct+=Se[We].value;return ct}function Os(Se,We,rt){var ct=We.dir,vt=We.next,Tt=vt||ct,kt=rt&&Tt==="parentNode",Bt=wt++;return We.first?function(Ot,ar,Rt){for(;Ot=Ot[ct];)if(Ot.nodeType===1||kt)return Se(Ot,ar,Rt);return!1}:function(Ot,ar,Rt){var Ht,nr,Gt=[nt,Bt];if(Rt){for(;Ot=Ot[ct];)if((Ot.nodeType===1||kt)&&Se(Ot,ar,Rt))return!0}else for(;Ot=Ot[ct];)if(Ot.nodeType===1||kt)if(nr=Ot[_t]||(Ot[_t]={}),vt&&M(Ot,vt))Ot=Ot[ct]||Ot;else{if((Ht=nr[Tt])&&Ht[0]===nt&&Ht[1]===Bt)return Gt[2]=Ht[2];if(nr[Tt]=Gt,Gt[2]=Se(Ot,ar,Rt))return!0}return!1}}function Ns(Se){return Se.length>1?function(We,rt,ct){for(var vt=Se.length;vt--;)if(!Se[vt](We,rt,ct))return!1;return!0}:Se[0]}function fd(Se,We,rt){for(var ct=0,vt=We.length;ct<vt;ct++)Cr(Se,We[ct],rt);return rt}function Gi(Se,We,rt,ct,vt){for(var Tt,kt=[],Bt=0,Ot=Se.length,ar=We!=null;Bt<Ot;Bt++)(Tt=Se[Bt])&&(!rt||rt(Tt,ct,vt))&&(kt.push(Tt),ar&&We.push(Bt));return kt}function fi(Se,We,rt,ct,vt,Tt){return ct&&!ct[_t]&&(ct=fi(ct)),vt&&!vt[_t]&&(vt=fi(vt,Tt)),Vn(function(kt,Bt,Ot,ar){var Rt,Ht,nr,Gt,fr=[],vn=[],_n=Bt.length,zn=kt||fd(We||"*",Ot.nodeType?[Ot]:Ot,[]),qn=Se&&(kt||!We)?Gi(zn,fr,Se,Ot,ar):zn;if(rt?(Gt=vt||(kt?Se:_n||ct)?[]:Bt,rt(qn,Gt,Ot,ar)):Gt=qn,ct)for(Rt=Gi(Gt,vn),ct(Rt,[],Ot,ar),Ht=Rt.length;Ht--;)(nr=Rt[Ht])&&(Gt[vn[Ht]]=!(qn[vn[Ht]]=nr));if(kt){if(vt||Se){if(vt){for(Rt=[],Ht=Gt.length;Ht--;)(nr=Gt[Ht])&&Rt.push(qn[Ht]=nr);vt(null,Gt=[],Rt,ar)}for(Ht=Gt.length;Ht--;)(nr=Gt[Ht])&&(Rt=vt?l.call(kt,nr):fr[Ht])>-1&&(kt[Rt]=!(Bt[Rt]=nr))}}else Gt=Gi(Gt===Bt?Gt.splice(_n,Gt.length):Gt),vt?vt(null,Bt,Gt,ar):re.apply(Bt,Gt)})}function Ps(Se){for(var We,rt,ct,vt=Se.length,Tt=P.relative[Se[0].type],kt=Tt||P.relative[" "],Bt=Tt?1:0,Ot=Os(function(Ht){return Ht===We},kt,!0),ar=Os(function(Ht){return l.call(We,Ht)>-1},kt,!0),Rt=[function(Ht,nr,Gt){var fr=!Tt&&(Gt||nr!=j)||((We=nr).nodeType?Ot(Ht,nr,Gt):ar(Ht,nr,Gt));return We=null,fr}];Bt<vt;Bt++)if(rt=P.relative[Se[Bt].type])Rt=[Os(Ns(Rt),rt)];else{if(rt=P.filter[Se[Bt].type].apply(null,Se[Bt].matches),rt[_t]){for(ct=++Bt;ct<vt&&!P.relative[Se[ct].type];ct++);return fi(Bt>1&&Ns(Rt),Bt>1&&Na(Se.slice(0,Bt-1).concat({value:Se[Bt-2].type===" "?"*":""})).replace(I,"$1"),rt,Bt<ct&&Ps(Se.slice(Bt,ct)),ct<vt&&Ps(Se=Se.slice(ct)),ct<vt&&Na(Se))}Rt.push(rt)}return Ns(Rt)}function dd(Se,We){var rt=We.length>0,ct=Se.length>0,vt=function(Tt,kt,Bt,Ot,ar){var Rt,Ht,nr,Gt=0,fr="0",vn=Tt&&[],_n=[],zn=j,qn=Tt||ct&&P.find.TAG("*",ar),Pa=nt+=zn==null?1:Math.random()||.1,xn=qn.length;for(ar&&(j=kt==fe||kt||ar);fr!==xn&&(Rt=qn[fr])!=null;fr++){if(ct&&Rt){for(Ht=0,!kt&&Rt.ownerDocument!=fe&&(ka(Rt),Bt=!Te);nr=Se[Ht++];)if(nr(Rt,kt||fe,Bt)){re.call(Ot,Rt);break}ar&&(nt=Pa)}rt&&((Rt=!nr&&Rt)&&Gt--,Tt&&vn.push(Rt))}if(Gt+=fr,rt&&fr!==Gt){for(Ht=0;nr=We[Ht++];)nr(vn,_n,kt,Bt);if(Tt){if(Gt>0)for(;fr--;)vn[fr]||_n[fr]||(_n[fr]=N.call(Ot));_n=Gi(_n)}re.apply(Ot,_n),ar&&!Tt&&_n.length>0&&Gt+We.length>1&&f.uniqueSort(Ot)}return ar&&(nt=Pa,j=zn),vn};return rt?Vn(vt):vt}function In(Se,We){var rt,ct=[],vt=[],Tt=rr[Se+" "];if(!Tt){for(We||(We=Oa(Se)),rt=We.length;rt--;)Tt=Ps(We[rt]),Tt[_t]?ct.push(Tt):vt.push(Tt);Tt=rr(Se,dd(vt,ct)),Tt.selector=Se}return Tt}function ll(Se,We,rt,ct){var vt,Tt,kt,Bt,Ot,ar=typeof Se=="function"&&Se,Rt=!ct&&Oa(Se=ar.selector||Se);if(rt=rt||[],Rt.length===1){if(Tt=Rt[0]=Rt[0].slice(0),Tt.length>2&&(kt=Tt[0]).type==="ID"&&We.nodeType===9&&Te&&P.relative[Tt[1].type]){if(We=(P.find.ID(kt.matches[0].replace(Ri,Hn),We)||[])[0],We)ar&&(We=We.parentNode);else return rt;Se=Se.slice(Tt.shift().value.length)}for(vt=Ti.needsContext.test(Se)?0:Tt.length;vt--&&(kt=Tt[vt],!P.relative[Bt=kt.type]);)if((Ot=P.find[Bt])&&(ct=Ot(kt.matches[0].replace(Ri,Hn),sl.test(Tt[0].type)&&ol(We.parentNode)||We))){if(Tt.splice(vt,1),Se=ct.length&&Na(Tt),!Se)return re.apply(rt,ct),rt;break}}return(ar||In(Se,Rt))(ct,We,!Te,rt,!We||sl.test(Se)&&ol(We.parentNode)||We),rt}S.sortStable=_t.split("").sort(tn).join("")===_t,ka(),S.sortDetached=aa(function(Se){return Se.compareDocumentPosition(fe.createElement("fieldset"))&1}),f.find=Cr,f.expr[":"]=f.expr.pseudos,f.unique=f.uniqueSort,Cr.compile=In,Cr.select=ll,Cr.setDocument=ka,Cr.escape=f.escapeSelector,Cr.getText=f.text,Cr.isXML=f.isXMLDoc,Cr.selectors=f.expr,Cr.support=f.support,Cr.uniqueSort=f.uniqueSort})();var $=function(A,P,j){for(var K=[],ee=j!==void 0;(A=A[P])&&A.nodeType!==9;)if(A.nodeType===1){if(ee&&f(A).is(j))break;K.push(A)}return K},R=function(A,P){for(var j=[];A;A=A.nextSibling)A.nodeType===1&&A!==P&&j.push(A);return j},V=f.expr.match.needsContext,X=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(A,P,j){return w(P)?f.grep(A,function(K,ee){return!!P.call(K,ee,K)!==j}):P.nodeType?f.grep(A,function(K){return K===P!==j}):typeof P!="string"?f.grep(A,function(K){return l.call(P,K)>-1!==j}):f.filter(P,A,j)}f.filter=function(A,P,j){var K=P[0];return j&&(A=":not("+A+")"),P.length===1&&K.nodeType===1?f.find.matchesSelector(K,A)?[K]:[]:f.find.matches(A,f.grep(P,function(ee){return ee.nodeType===1}))},f.fn.extend({find:function(A){var P,j,K=this.length,ee=this;if(typeof A!="string")return this.pushStack(f(A).filter(function(){for(P=0;P<K;P++)if(f.contains(ee[P],this))return!0}));for(j=this.pushStack([]),P=0;P<K;P++)f.find(A,ee[P],j);return K>1?f.uniqueSort(j):j},filter:function(A){return this.pushStack(Q(this,A||[],!1))},not:function(A){return this.pushStack(Q(this,A||[],!0))},is:function(A){return!!Q(this,typeof A=="string"&&V.test(A)?f(A):A||[],!1).length}});var te,we=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Pe=f.fn.init=function(A,P,j){var K,ee;if(!A)return this;if(j=j||te,typeof A=="string")if(A[0]==="<"&&A[A.length-1]===">"&&A.length>=3?K=[null,A,null]:K=we.exec(A),K&&(K[1]||!P))if(K[1]){if(P=P instanceof f?P[0]:P,f.merge(this,f.parseHTML(K[1],P&&P.nodeType?P.ownerDocument||P:v,!0)),X.test(K[1])&&f.isPlainObject(P))for(K in P)w(this[K])?this[K](P[K]):this.attr(K,P[K]);return this}else return ee=v.getElementById(K[2]),ee&&(this[0]=ee,this.length=1),this;else return!P||P.jquery?(P||j).find(A):this.constructor(P).find(A);else{if(A.nodeType)return this[0]=A,this.length=1,this;if(w(A))return j.ready!==void 0?j.ready(A):A(f)}return f.makeArray(A,this)};Pe.prototype=f.fn,te=f(v);var xe=/^(?:parents|prev(?:Until|All))/,Fe={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(A){var P=f(A,this),j=P.length;return this.filter(function(){for(var K=0;K<j;K++)if(f.contains(this,P[K]))return!0})},closest:function(A,P){var j,K=0,ee=this.length,re=[],fe=typeof A!="string"&&f(A);if(!V.test(A)){for(;K<ee;K++)for(j=this[K];j&&j!==P;j=j.parentNode)if(j.nodeType<11&&(fe?fe.index(j)>-1:j.nodeType===1&&f.find.matchesSelector(j,A))){re.push(j);break}}return this.pushStack(re.length>1?f.uniqueSort(re):re)},index:function(A){return A?typeof A=="string"?l.call(f(A),this[0]):l.call(this,A.jquery?A[0]:A):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(A,P){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(A,P))))},addBack:function(A){return this.add(A==null?this.prevObject:this.prevObject.filter(A))}});function Ae(A,P){for(;(A=A[P])&&A.nodeType!==1;);return A}f.each({parent:function(A){var P=A.parentNode;return P&&P.nodeType!==11?P:null},parents:function(A){return $(A,"parentNode")},parentsUntil:function(A,P,j){return $(A,"parentNode",j)},next:function(A){return Ae(A,"nextSibling")},prev:function(A){return Ae(A,"previousSibling")},nextAll:function(A){return $(A,"nextSibling")},prevAll:function(A){return $(A,"previousSibling")},nextUntil:function(A,P,j){return $(A,"nextSibling",j)},prevUntil:function(A,P,j){return $(A,"previousSibling",j)},siblings:function(A){return R((A.parentNode||{}).firstChild,A)},children:function(A){return R(A.firstChild)},contents:function(A){return A.contentDocument!=null&&n(A.contentDocument)?A.contentDocument:(M(A,"template")&&(A=A.content||A),f.merge([],A.childNodes))}},function(A,P){f.fn[A]=function(j,K){var ee=f.map(this,P,j);return A.slice(-5)!=="Until"&&(K=j),K&&typeof K=="string"&&(ee=f.filter(K,ee)),this.length>1&&(Fe[A]||f.uniqueSort(ee),xe.test(A)&&ee.reverse()),this.pushStack(ee)}});var be=/[^\x20\t\r\n\f]+/g;function Qe(A){var P={};return f.each(A.match(be)||[],function(j,K){P[K]=!0}),P}f.Callbacks=function(A){A=typeof A=="string"?Qe(A):f.extend({},A);var P,j,K,ee,re=[],fe=[],ke=-1,Te=function(){for(ee=ee||A.once,K=P=!0;fe.length;ke=-1)for(j=fe.shift();++ke<re.length;)re[ke].apply(j[0],j[1])===!1&&A.stopOnFalse&&(ke=re.length,j=!1);A.memory||(j=!1),P=!1,ee&&(j?re=[]:re="")},Ze={add:function(){return re&&(j&&!P&&(ke=re.length-1,fe.push(j)),function ht(_t){f.each(_t,function(nt,wt){w(wt)?(!A.unique||!Ze.has(wt))&&re.push(wt):wt&&wt.length&&C(wt)!=="string"&&ht(wt)})}(arguments),j&&!P&&Te()),this},remove:function(){return f.each(arguments,function(ht,_t){for(var nt;(nt=f.inArray(_t,re,nt))>-1;)re.splice(nt,1),nt<=ke&&ke--}),this},has:function(ht){return ht?f.inArray(ht,re)>-1:re.length>0},empty:function(){return re&&(re=[]),this},disable:function(){return ee=fe=[],re=j="",this},disabled:function(){return!re},lock:function(){return ee=fe=[],!j&&!P&&(re=j=""),this},locked:function(){return!!ee},fireWith:function(ht,_t){return ee||(_t=_t||[],_t=[ht,_t.slice?_t.slice():_t],fe.push(_t),P||Te()),this},fire:function(){return Ze.fireWith(this,arguments),this},fired:function(){return!!K}};return Ze};function Xe(A){return A}function U(A){throw A}function pe(A,P,j,K){var ee;try{A&&w(ee=A.promise)?ee.call(A).done(P).fail(j):A&&w(ee=A.then)?ee.call(A,P,j):P.apply(void 0,[A].slice(K))}catch(re){j.apply(void 0,[re])}}f.extend({Deferred:function(A){var P=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],j="pending",K={state:function(){return j},always:function(){return ee.done(arguments).fail(arguments),this},catch:function(re){return K.then(null,re)},pipe:function(){var re=arguments;return f.Deferred(function(fe){f.each(P,function(ke,Te){var Ze=w(re[Te[4]])&&re[Te[4]];ee[Te[1]](function(){var ht=Ze&&Ze.apply(this,arguments);ht&&w(ht.promise)?ht.promise().progress(fe.notify).done(fe.resolve).fail(fe.reject):fe[Te[0]+"With"](this,Ze?[ht]:arguments)})}),re=null}).promise()},then:function(re,fe,ke){var Te=0;function Ze(ht,_t,nt,wt){return function(){var Zt=this,ur=arguments,rr=function(){var tn,Di;if(!(ht<Te)){if(tn=nt.apply(Zt,ur),tn===_t.promise())throw new TypeError("Thenable self-resolution");Di=tn&&(typeof tn=="object"||typeof tn=="function")&&tn.then,w(Di)?wt?Di.call(tn,Ze(Te,_t,Xe,wt),Ze(Te,_t,U,wt)):(Te++,Di.call(tn,Ze(Te,_t,Xe,wt),Ze(Te,_t,U,wt),Ze(Te,_t,Xe,_t.notifyWith))):(nt!==Xe&&(Zt=void 0,ur=[tn]),(wt||_t.resolveWith)(Zt,ur))}},gn=wt?rr:function(){try{rr()}catch(tn){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(tn,gn.error),ht+1>=Te&&(nt!==U&&(Zt=void 0,ur=[tn]),_t.rejectWith(Zt,ur))}};ht?gn():(f.Deferred.getErrorHook?gn.error=f.Deferred.getErrorHook():f.Deferred.getStackHook&&(gn.error=f.Deferred.getStackHook()),e.setTimeout(gn))}}return f.Deferred(function(ht){P[0][3].add(Ze(0,ht,w(ke)?ke:Xe,ht.notifyWith)),P[1][3].add(Ze(0,ht,w(re)?re:Xe)),P[2][3].add(Ze(0,ht,w(fe)?fe:U))}).promise()},promise:function(re){return re!=null?f.extend(re,K):K}},ee={};return f.each(P,function(re,fe){var ke=fe[2],Te=fe[5];K[fe[1]]=ke.add,Te&&ke.add(function(){j=Te},P[3-re][2].disable,P[3-re][3].disable,P[0][2].lock,P[0][3].lock),ke.add(fe[3].fire),ee[fe[0]]=function(){return ee[fe[0]+"With"](this===ee?void 0:this,arguments),this},ee[fe[0]+"With"]=ke.fireWith}),K.promise(ee),A&&A.call(ee,ee),ee},when:function(A){var P=arguments.length,j=P,K=Array(j),ee=a.call(arguments),re=f.Deferred(),fe=function(ke){return function(Te){K[ke]=this,ee[ke]=arguments.length>1?a.call(arguments):Te,--P||re.resolveWith(K,ee)}};if(P<=1&&(pe(A,re.done(fe(j)).resolve,re.reject,!P),re.state()==="pending"||w(ee[j]&&ee[j].then)))return re.then();for(;j--;)pe(ee[j],fe(j),re.reject);return re.promise()}});var _e=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(A,P){e.console&&e.console.warn&&A&&_e.test(A.name)&&e.console.warn("jQuery.Deferred exception: "+A.message,A.stack,P)},f.readyException=function(A){e.setTimeout(function(){throw A})};var ie=f.Deferred();f.fn.ready=function(A){return ie.then(A).catch(function(P){f.readyException(P)}),this},f.extend({isReady:!1,readyWait:1,ready:function(A){(A===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(A!==!0&&--f.readyWait>0)&&ie.resolveWith(v,[f]))}}),f.ready.then=ie.then;function de(){v.removeEventListener("DOMContentLoaded",de),e.removeEventListener("load",de),f.ready()}v.readyState==="complete"||v.readyState!=="loading"&&!v.documentElement.doScroll?e.setTimeout(f.ready):(v.addEventListener("DOMContentLoaded",de),e.addEventListener("load",de));var ye=function(A,P,j,K,ee,re,fe){var ke=0,Te=A.length,Ze=j==null;if(C(j)==="object"){ee=!0;for(ke in j)ye(A,P,ke,j[ke],!0,re,fe)}else if(K!==void 0&&(ee=!0,w(K)||(fe=!0),Ze&&(fe?(P.call(A,K),P=null):(Ze=P,P=function(ht,_t,nt){return Ze.call(f(ht),nt)})),P))for(;ke<Te;ke++)P(A[ke],j,fe?K:K.call(A[ke],ke,P(A[ke],j)));return ee?A:Ze?P.call(A):Te?P(A[0],j):re},je=/^-ms-/,Be=/-([a-z])/g;function Ce(A,P){return P.toUpperCase()}function Ie(A){return A.replace(je,"ms-").replace(Be,Ce)}var Re=function(A){return A.nodeType===1||A.nodeType===9||!+A.nodeType};function Ke(){this.expando=f.expando+Ke.uid++}Ke.uid=1,Ke.prototype={cache:function(A){var P=A[this.expando];return P||(P={},Re(A)&&(A.nodeType?A[this.expando]=P:Object.defineProperty(A,this.expando,{value:P,configurable:!0}))),P},set:function(A,P,j){var K,ee=this.cache(A);if(typeof P=="string")ee[Ie(P)]=j;else for(K in P)ee[Ie(K)]=P[K];return ee},get:function(A,P){return P===void 0?this.cache(A):A[this.expando]&&A[this.expando][Ie(P)]},access:function(A,P,j){return P===void 0||P&&typeof P=="string"&&j===void 0?this.get(A,P):(this.set(A,P,j),j!==void 0?j:P)},remove:function(A,P){var j,K=A[this.expando];if(K!==void 0){if(P!==void 0)for(Array.isArray(P)?P=P.map(Ie):(P=Ie(P),P=P in K?[P]:P.match(be)||[]),j=P.length;j--;)delete K[P[j]];(P===void 0||f.isEmptyObject(K))&&(A.nodeType?A[this.expando]=void 0:delete A[this.expando])}},hasData:function(A){var P=A[this.expando];return P!==void 0&&!f.isEmptyObject(P)}};var Ne=new Ke,pt=new Ke,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;function ue(A){return A==="true"?!0:A==="false"?!1:A==="null"?null:A===+A+""?+A:yt.test(A)?JSON.parse(A):A}function ge(A,P,j){var K;if(j===void 0&&A.nodeType===1)if(K="data-"+P.replace(le,"-$&").toLowerCase(),j=A.getAttribute(K),typeof j=="string"){try{j=ue(j)}catch{}pt.set(A,P,j)}else j=void 0;return j}f.extend({hasData:function(A){return pt.hasData(A)||Ne.hasData(A)},data:function(A,P,j){return pt.access(A,P,j)},removeData:function(A,P){pt.remove(A,P)},_data:function(A,P,j){return Ne.access(A,P,j)},_removeData:function(A,P){Ne.remove(A,P)}}),f.fn.extend({data:function(A,P){var j,K,ee,re=this[0],fe=re&&re.attributes;if(A===void 0){if(this.length&&(ee=pt.get(re),re.nodeType===1&&!Ne.get(re,"hasDataAttrs"))){for(j=fe.length;j--;)fe[j]&&(K=fe[j].name,K.indexOf("data-")===0&&(K=Ie(K.slice(5)),ge(re,K,ee[K])));Ne.set(re,"hasDataAttrs",!0)}return ee}return typeof A=="object"?this.each(function(){pt.set(this,A)}):ye(this,function(ke){var Te;if(re&&ke===void 0)return Te=pt.get(re,A),Te!==void 0||(Te=ge(re,A),Te!==void 0)?Te:void 0;this.each(function(){pt.set(this,A,ke)})},null,P,arguments.length>1,null,!0)},removeData:function(A){return this.each(function(){pt.remove(this,A)})}}),f.extend({queue:function(A,P,j){var K;if(A)return P=(P||"fx")+"queue",K=Ne.get(A,P),j&&(!K||Array.isArray(j)?K=Ne.access(A,P,f.makeArray(j)):K.push(j)),K||[]},dequeue:function(A,P){P=P||"fx";var j=f.queue(A,P),K=j.length,ee=j.shift(),re=f._queueHooks(A,P),fe=function(){f.dequeue(A,P)};ee==="inprogress"&&(ee=j.shift(),K--),ee&&(P==="fx"&&j.unshift("inprogress"),delete re.stop,ee.call(A,fe,re)),!K&&re&&re.empty.fire()},_queueHooks:function(A,P){var j=P+"queueHooks";return Ne.get(A,j)||Ne.access(A,j,{empty:f.Callbacks("once memory").add(function(){Ne.remove(A,[P+"queue",j])})})}}),f.fn.extend({queue:function(A,P){var j=2;return typeof A!="string"&&(P=A,A="fx",j--),arguments.length<j?f.queue(this[0],A):P===void 0?this:this.each(function(){var K=f.queue(this,A,P);f._queueHooks(this,A),A==="fx"&&K[0]!=="inprogress"&&f.dequeue(this,A)})},dequeue:function(A){return this.each(function(){f.dequeue(this,A)})},clearQueue:function(A){return this.queue(A||"fx",[])},promise:function(A,P){var j,K=1,ee=f.Deferred(),re=this,fe=this.length,ke=function(){--K||ee.resolveWith(re,[re])};for(typeof A!="string"&&(P=A,A=void 0),A=A||"fx";fe--;)j=Ne.get(re[fe],A+"queueHooks"),j&&j.empty&&(K++,j.empty.add(ke));return ke(),ee.promise(P)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),at=["Top","Right","Bottom","Left"],lt=v.documentElement,se=function(A){return f.contains(A.ownerDocument,A)},Ge={composed:!0};lt.getRootNode&&(se=function(A){return f.contains(A.ownerDocument,A)||A.getRootNode(Ge)===A.ownerDocument});var Je=function(A,P){return A=P||A,A.style.display==="none"||A.style.display===""&&se(A)&&f.css(A,"display")==="none"};function mt(A,P,j,K){var ee,re,fe=20,ke=K?function(){return K.cur()}:function(){return f.css(A,P,"")},Te=ke(),Ze=j&&j[3]||(f.cssNumber[P]?"":"px"),ht=A.nodeType&&(f.cssNumber[P]||Ze!=="px"&&+Te)&&Oe.exec(f.css(A,P));if(ht&&ht[3]!==Ze){for(Te=Te/2,Ze=Ze||ht[3],ht=+Te||1;fe--;)f.style(A,P,ht+Ze),(1-re)*(1-(re=ke()/Te||.5))<=0&&(fe=0),ht=ht/re;ht=ht*2,f.style(A,P,ht+Ze),j=j||[]}return j&&(ht=+ht||+Te||0,ee=j[1]?ht+(j[1]+1)*j[2]:+j[2],K&&(K.unit=Ze,K.start=ht,K.end=ee)),ee}var Le={};function ut(A){var P,j=A.ownerDocument,K=A.nodeName,ee=Le[K];return ee||(P=j.body.appendChild(j.createElement(K)),ee=f.css(P,"display"),P.parentNode.removeChild(P),ee==="none"&&(ee="block"),Le[K]=ee,ee)}function oe(A,P){for(var j,K,ee=[],re=0,fe=A.length;re<fe;re++)K=A[re],K.style&&(j=K.style.display,P?(j==="none"&&(ee[re]=Ne.get(K,"display")||null,ee[re]||(K.style.display="")),K.style.display===""&&Je(K)&&(ee[re]=ut(K))):j!=="none"&&(ee[re]="none",Ne.set(K,"display",j)));for(re=0;re<fe;re++)ee[re]!=null&&(A[re].style.display=ee[re]);return A}f.fn.extend({show:function(){return oe(this,!0)},hide:function(){return oe(this)},toggle:function(A){return typeof A=="boolean"?A?this.show():this.hide():this.each(function(){Je(this)?f(this).show():f(this).hide()})}});var dt=/^(?:checkbox|radio)$/i,At=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,W=/^$|^module$|\/(?:java|ecma)script/i;(function(){var A=v.createDocumentFragment(),P=A.appendChild(v.createElement("div")),j=v.createElement("input");j.setAttribute("type","radio"),j.setAttribute("checked","checked"),j.setAttribute("name","t"),P.appendChild(j),S.checkClone=P.cloneNode(!0).cloneNode(!0).lastChild.checked,P.innerHTML="<textarea>x</textarea>",S.noCloneChecked=!!P.cloneNode(!0).lastChild.defaultValue,P.innerHTML="<option></option>",S.option=!!P.lastChild})();var Ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,S.option||(Ve.optgroup=Ve.option=[1,"<select multiple='multiple'>","</select>"]);function Ye(A,P){var j;return typeof A.getElementsByTagName<"u"?j=A.getElementsByTagName(P||"*"):typeof A.querySelectorAll<"u"?j=A.querySelectorAll(P||"*"):j=[],P===void 0||P&&M(A,P)?f.merge([A],j):j}function ce(A,P){for(var j=0,K=A.length;j<K;j++)Ne.set(A[j],"globalEval",!P||Ne.get(P[j],"globalEval"))}var ze=/<|&#?\w+;/;function tt(A,P,j,K,ee){for(var re,fe,ke,Te,Ze,ht,_t=P.createDocumentFragment(),nt=[],wt=0,Zt=A.length;wt<Zt;wt++)if(re=A[wt],re||re===0)if(C(re)==="object")f.merge(nt,re.nodeType?[re]:re);else if(!ze.test(re))nt.push(P.createTextNode(re));else{for(fe=fe||_t.appendChild(P.createElement("div")),ke=(At.exec(re)||["",""])[1].toLowerCase(),Te=Ve[ke]||Ve._default,fe.innerHTML=Te[1]+f.htmlPrefilter(re)+Te[2],ht=Te[0];ht--;)fe=fe.lastChild;f.merge(nt,fe.childNodes),fe=_t.firstChild,fe.textContent=""}for(_t.textContent="",wt=0;re=nt[wt++];){if(K&&f.inArray(re,K)>-1){ee&&ee.push(re);continue}if(Ze=se(re),fe=Ye(_t.appendChild(re),"script"),Ze&&ce(fe),j)for(ht=0;re=fe[ht++];)W.test(re.type||"")&&j.push(re)}return _t}var Lt=/^([^.]*)(?:\.(.+)|)/;function Mt(){return!0}function st(){return!1}function Jt(A,P,j,K,ee,re){var fe,ke;if(typeof P=="object"){typeof j!="string"&&(K=K||j,j=void 0);for(ke in P)Jt(A,ke,j,K,P[ke],re);return A}if(K==null&&ee==null?(ee=j,K=j=void 0):ee==null&&(typeof j=="string"?(ee=K,K=void 0):(ee=K,K=j,j=void 0)),ee===!1)ee=st;else if(!ee)return A;return re===1&&(fe=ee,ee=function(Te){return f().off(Te),fe.apply(this,arguments)},ee.guid=fe.guid||(fe.guid=f.guid++)),A.each(function(){f.event.add(this,P,ee,K,j)})}f.event={global:{},add:function(A,P,j,K,ee){var re,fe,ke,Te,Ze,ht,_t,nt,wt,Zt,ur,rr=Ne.get(A);if(Re(A))for(j.handler&&(re=j,j=re.handler,ee=re.selector),ee&&f.find.matchesSelector(lt,ee),j.guid||(j.guid=f.guid++),(Te=rr.events)||(Te=rr.events=Object.create(null)),(fe=rr.handle)||(fe=rr.handle=function(gn){return typeof f<"u"&&f.event.triggered!==gn.type?f.event.dispatch.apply(A,arguments):void 0}),P=(P||"").match(be)||[""],Ze=P.length;Ze--;)ke=Lt.exec(P[Ze])||[],wt=ur=ke[1],Zt=(ke[2]||"").split(".").sort(),wt&&(_t=f.event.special[wt]||{},wt=(ee?_t.delegateType:_t.bindType)||wt,_t=f.event.special[wt]||{},ht=f.extend({type:wt,origType:ur,data:K,handler:j,guid:j.guid,selector:ee,needsContext:ee&&f.expr.match.needsContext.test(ee),namespace:Zt.join(".")},re),(nt=Te[wt])||(nt=Te[wt]=[],nt.delegateCount=0,(!_t.setup||_t.setup.call(A,K,Zt,fe)===!1)&&A.addEventListener&&A.addEventListener(wt,fe)),_t.add&&(_t.add.call(A,ht),ht.handler.guid||(ht.handler.guid=j.guid)),ee?nt.splice(nt.delegateCount++,0,ht):nt.push(ht),f.event.global[wt]=!0)},remove:function(A,P,j,K,ee){var re,fe,ke,Te,Ze,ht,_t,nt,wt,Zt,ur,rr=Ne.hasData(A)&&Ne.get(A);if(!(!rr||!(Te=rr.events))){for(P=(P||"").match(be)||[""],Ze=P.length;Ze--;){if(ke=Lt.exec(P[Ze])||[],wt=ur=ke[1],Zt=(ke[2]||"").split(".").sort(),!wt){for(wt in Te)f.event.remove(A,wt+P[Ze],j,K,!0);continue}for(_t=f.event.special[wt]||{},wt=(K?_t.delegateType:_t.bindType)||wt,nt=Te[wt]||[],ke=ke[2]&&new RegExp("(^|\\.)"+Zt.join("\\.(?:.*\\.|)")+"(\\.|$)"),fe=re=nt.length;re--;)ht=nt[re],(ee||ur===ht.origType)&&(!j||j.guid===ht.guid)&&(!ke||ke.test(ht.namespace))&&(!K||K===ht.selector||K==="**"&&ht.selector)&&(nt.splice(re,1),ht.selector&&nt.delegateCount--,_t.remove&&_t.remove.call(A,ht));fe&&!nt.length&&((!_t.teardown||_t.teardown.call(A,Zt,rr.handle)===!1)&&f.removeEvent(A,wt,rr.handle),delete Te[wt])}f.isEmptyObject(Te)&&Ne.remove(A,"handle events")}},dispatch:function(A){var P,j,K,ee,re,fe,ke=new Array(arguments.length),Te=f.event.fix(A),Ze=(Ne.get(this,"events")||Object.create(null))[Te.type]||[],ht=f.event.special[Te.type]||{};for(ke[0]=Te,P=1;P<arguments.length;P++)ke[P]=arguments[P];if(Te.delegateTarget=this,!(ht.preDispatch&&ht.preDispatch.call(this,Te)===!1)){for(fe=f.event.handlers.call(this,Te,Ze),P=0;(ee=fe[P++])&&!Te.isPropagationStopped();)for(Te.currentTarget=ee.elem,j=0;(re=ee.handlers[j++])&&!Te.isImmediatePropagationStopped();)(!Te.rnamespace||re.namespace===!1||Te.rnamespace.test(re.namespace))&&(Te.handleObj=re,Te.data=re.data,K=((f.event.special[re.origType]||{}).handle||re.handler).apply(ee.elem,ke),K!==void 0&&(Te.result=K)===!1&&(Te.preventDefault(),Te.stopPropagation()));return ht.postDispatch&&ht.postDispatch.call(this,Te),Te.result}},handlers:function(A,P){var j,K,ee,re,fe,ke=[],Te=P.delegateCount,Ze=A.target;if(Te&&Ze.nodeType&&!(A.type==="click"&&A.button>=1)){for(;Ze!==this;Ze=Ze.parentNode||this)if(Ze.nodeType===1&&!(A.type==="click"&&Ze.disabled===!0)){for(re=[],fe={},j=0;j<Te;j++)K=P[j],ee=K.selector+" ",fe[ee]===void 0&&(fe[ee]=K.needsContext?f(ee,this).index(Ze)>-1:f.find(ee,this,null,[Ze]).length),fe[ee]&&re.push(K);re.length&&ke.push({elem:Ze,handlers:re})}}return Ze=this,Te<P.length&&ke.push({elem:Ze,handlers:P.slice(Te)}),ke},addProp:function(A,P){Object.defineProperty(f.Event.prototype,A,{enumerable:!0,configurable:!0,get:w(P)?function(){if(this.originalEvent)return P(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[A]},set:function(j){Object.defineProperty(this,A,{enumerable:!0,configurable:!0,writable:!0,value:j})}})},fix:function(A){return A[f.expando]?A:new f.Event(A)},special:{load:{noBubble:!0},click:{setup:function(A){var P=this||A;return dt.test(P.type)&&P.click&&M(P,"input")&&Zr(P,"click",!0),!1},trigger:function(A){var P=this||A;return dt.test(P.type)&&P.click&&M(P,"input")&&Zr(P,"click"),!0},_default:function(A){var P=A.target;return dt.test(P.type)&&P.click&&M(P,"input")&&Ne.get(P,"click")||M(P,"a")}},beforeunload:{postDispatch:function(A){A.result!==void 0&&A.originalEvent&&(A.originalEvent.returnValue=A.result)}}}};function Zr(A,P,j){if(!j){Ne.get(A,P)===void 0&&f.event.add(A,P,Mt);return}Ne.set(A,P,!1),f.event.add(A,P,{namespace:!1,handler:function(K){var ee,re=Ne.get(this,P);if(K.isTrigger&1&&this[P]){if(re)(f.event.special[P]||{}).delegateType&&K.stopPropagation();else if(re=a.call(arguments),Ne.set(this,P,re),this[P](),ee=Ne.get(this,P),Ne.set(this,P,!1),re!==ee)return K.stopImmediatePropagation(),K.preventDefault(),ee}else re&&(Ne.set(this,P,f.event.trigger(re[0],re.slice(1),this)),K.stopPropagation(),K.isImmediatePropagationStopped=Mt)}})}f.removeEvent=function(A,P,j){A.removeEventListener&&A.removeEventListener(P,j)},f.Event=function(A,P){if(!(this instanceof f.Event))return new f.Event(A,P);A&&A.type?(this.originalEvent=A,this.type=A.type,this.isDefaultPrevented=A.defaultPrevented||A.defaultPrevented===void 0&&A.returnValue===!1?Mt:st,this.target=A.target&&A.target.nodeType===3?A.target.parentNode:A.target,this.currentTarget=A.currentTarget,this.relatedTarget=A.relatedTarget):this.type=A,P&&f.extend(this,P),this.timeStamp=A&&A.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,isSimulated:!1,preventDefault:function(){var A=this.originalEvent;this.isDefaultPrevented=Mt,A&&!this.isSimulated&&A.preventDefault()},stopPropagation:function(){var A=this.originalEvent;this.isPropagationStopped=Mt,A&&!this.isSimulated&&A.stopPropagation()},stopImmediatePropagation:function(){var A=this.originalEvent;this.isImmediatePropagationStopped=Mt,A&&!this.isSimulated&&A.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(A,P){function j(K){if(v.documentMode){var ee=Ne.get(this,"handle"),re=f.event.fix(K);re.type=K.type==="focusin"?"focus":"blur",re.isSimulated=!0,ee(K),re.target===re.currentTarget&&ee(re)}else f.event.simulate(P,K.target,f.event.fix(K))}f.event.special[A]={setup:function(){var K;if(Zr(this,A,!0),v.documentMode)K=Ne.get(this,P),K||this.addEventListener(P,j),Ne.set(this,P,(K||0)+1);else return!1},trigger:function(){return Zr(this,A),!0},teardown:function(){var K;if(v.documentMode)K=Ne.get(this,P)-1,K?Ne.set(this,P,K):(this.removeEventListener(P,j),Ne.remove(this,P));else return!1},_default:function(K){return Ne.get(K.target,A)},delegateType:P},f.event.special[P]={setup:function(){var K=this.ownerDocument||this.document||this,ee=v.documentMode?this:K,re=Ne.get(ee,P);re||(v.documentMode?this.addEventListener(P,j):K.addEventListener(A,j,!0)),Ne.set(ee,P,(re||0)+1)},teardown:function(){var K=this.ownerDocument||this.document||this,ee=v.documentMode?this:K,re=Ne.get(ee,P)-1;re?Ne.set(ee,P,re):(v.documentMode?this.removeEventListener(P,j):K.removeEventListener(A,j,!0),Ne.remove(ee,P))}}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(A,P){f.event.special[A]={delegateType:P,bindType:P,handle:function(j){var K,ee=this,re=j.relatedTarget,fe=j.handleObj;return(!re||re!==ee&&!f.contains(ee,re))&&(j.type=fe.origType,K=fe.handler.apply(this,arguments),j.type=P),K}}}),f.fn.extend({on:function(A,P,j,K){return Jt(this,A,P,j,K)},one:function(A,P,j,K){return Jt(this,A,P,j,K,1)},off:function(A,P,j){var K,ee;if(A&&A.preventDefault&&A.handleObj)return K=A.handleObj,f(A.delegateTarget).off(K.namespace?K.origType+"."+K.namespace:K.origType,K.selector,K.handler),this;if(typeof A=="object"){for(ee in A)this.off(ee,P,A[ee]);return this}return(P===!1||typeof P=="function")&&(j=P,P=void 0),j===!1&&(j=st),this.each(function(){f.event.remove(this,A,j,P)})}});var Yt=/<script|<style|<link/i,er=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Or(A,P){return M(A,"table")&&M(P.nodeType!==11?P:P.firstChild,"tr")&&f(A).children("tbody")[0]||A}function Mr(A){return A.type=(A.getAttribute("type")!==null)+"/"+A.type,A}function Br(A){return(A.type||"").slice(0,5)==="true/"?A.type=A.type.slice(5):A.removeAttribute("type"),A}function nn(A,P){var j,K,ee,re,fe,ke,Te;if(P.nodeType===1){if(Ne.hasData(A)&&(re=Ne.get(A),Te=re.events,Te)){Ne.remove(P,"handle events");for(ee in Te)for(j=0,K=Te[ee].length;j<K;j++)f.event.add(P,ee,Te[ee][j])}pt.hasData(A)&&(fe=pt.access(A),ke=f.extend({},fe),pt.set(P,ke))}}function dr(A,P){var j=P.nodeName.toLowerCase();j==="input"&&dt.test(A.type)?P.checked=A.checked:(j==="input"||j==="textarea")&&(P.defaultValue=A.defaultValue)}function Xt(A,P,j,K){P=s(P);var ee,re,fe,ke,Te,Ze,ht=0,_t=A.length,nt=_t-1,wt=P[0],Zt=w(wt);if(Zt||_t>1&&typeof wt=="string"&&!S.checkClone&&er.test(wt))return A.each(function(ur){var rr=A.eq(ur);Zt&&(P[0]=wt.call(this,ur,rr.html())),Xt(rr,P,j,K)});if(_t&&(ee=tt(P,A[0].ownerDocument,!1,A,K),re=ee.firstChild,ee.childNodes.length===1&&(ee=re),re||K)){for(fe=f.map(Ye(ee,"script"),Mr),ke=fe.length;ht<_t;ht++)Te=ee,ht!==nt&&(Te=f.clone(Te,!0,!0),ke&&f.merge(fe,Ye(Te,"script"))),j.call(A[ht],Te,ht);if(ke)for(Ze=fe[fe.length-1].ownerDocument,f.map(fe,Br),ht=0;ht<ke;ht++)Te=fe[ht],W.test(Te.type||"")&&!Ne.access(Te,"globalEval")&&f.contains(Ze,Te)&&(Te.src&&(Te.type||"").toLowerCase()!=="module"?f._evalUrl&&!Te.noModule&&f._evalUrl(Te.src,{nonce:Te.nonce||Te.getAttribute("nonce")},Ze):b(Te.textContent.replace(Nt,""),Te,Ze))}return A}function ir(A,P,j){for(var K,ee=P?f.filter(P,A):A,re=0;(K=ee[re])!=null;re++)!j&&K.nodeType===1&&f.cleanData(Ye(K)),K.parentNode&&(j&&se(K)&&ce(Ye(K,"script")),K.parentNode.removeChild(K));return A}f.extend({htmlPrefilter:function(A){return A},clone:function(A,P,j){var K,ee,re,fe,ke=A.cloneNode(!0),Te=se(A);if(!S.noCloneChecked&&(A.nodeType===1||A.nodeType===11)&&!f.isXMLDoc(A))for(fe=Ye(ke),re=Ye(A),K=0,ee=re.length;K<ee;K++)dr(re[K],fe[K]);if(P)if(j)for(re=re||Ye(A),fe=fe||Ye(ke),K=0,ee=re.length;K<ee;K++)nn(re[K],fe[K]);else nn(A,ke);return fe=Ye(ke,"script"),fe.length>0&&ce(fe,!Te&&Ye(A,"script")),ke},cleanData:function(A){for(var P,j,K,ee=f.event.special,re=0;(j=A[re])!==void 0;re++)if(Re(j)){if(P=j[Ne.expando]){if(P.events)for(K in P.events)ee[K]?f.event.remove(j,K):f.removeEvent(j,K,P.handle);j[Ne.expando]=void 0}j[pt.expando]&&(j[pt.expando]=void 0)}}}),f.fn.extend({detach:function(A){return ir(this,A,!0)},remove:function(A){return ir(this,A)},text:function(A){return ye(this,function(P){return P===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=P)})},null,A,arguments.length)},append:function(){return Xt(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var P=Or(this,A);P.appendChild(A)}})},prepend:function(){return Xt(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var P=Or(this,A);P.insertBefore(A,P.firstChild)}})},before:function(){return Xt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this)})},after:function(){return Xt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this.nextSibling)})},empty:function(){for(var A,P=0;(A=this[P])!=null;P++)A.nodeType===1&&(f.cleanData(Ye(A,!1)),A.textContent="");return this},clone:function(A,P){return A=A??!1,P=P??A,this.map(function(){return f.clone(this,A,P)})},html:function(A){return ye(this,function(P){var j=this[0]||{},K=0,ee=this.length;if(P===void 0&&j.nodeType===1)return j.innerHTML;if(typeof P=="string"&&!Yt.test(P)&&!Ve[(At.exec(P)||["",""])[1].toLowerCase()]){P=f.htmlPrefilter(P);try{for(;K<ee;K++)j=this[K]||{},j.nodeType===1&&(f.cleanData(Ye(j,!1)),j.innerHTML=P);j=0}catch{}}j&&this.empty().append(P)},null,A,arguments.length)},replaceWith:function(){var A=[];return Xt(this,arguments,function(P){var j=this.parentNode;f.inArray(this,A)<0&&(f.cleanData(Ye(this)),j&&j.replaceChild(P,this))},A)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,P){f.fn[A]=function(j){for(var K,ee=[],re=f(j),fe=re.length-1,ke=0;ke<=fe;ke++)K=ke===fe?this:this.clone(!0),f(re[ke])[P](K),o.apply(ee,K.get());return this.pushStack(ee)}});var Ur=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),Wr=/^--/,wi=function(A){var P=A.ownerDocument.defaultView;return(!P||!P.opener)&&(P=e),P.getComputedStyle(A)},Ss=function(A,P,j){var K,ee,re={};for(ee in P)re[ee]=A.style[ee],A.style[ee]=P[ee];K=j.call(A);for(ee in P)A.style[ee]=re[ee];return K},xa=new RegExp(at.join("|"),"i");(function(){function A(){if(Ze){Te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ze.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",lt.appendChild(Te).appendChild(Ze);var ht=e.getComputedStyle(Ze);j=ht.top!=="1%",ke=P(ht.marginLeft)===12,Ze.style.right="60%",re=P(ht.right)===36,K=P(ht.width)===36,Ze.style.position="absolute",ee=P(Ze.offsetWidth/3)===12,lt.removeChild(Te),Ze=null}}function P(ht){return Math.round(parseFloat(ht))}var j,K,ee,re,fe,ke,Te=v.createElement("div"),Ze=v.createElement("div");Ze.style&&(Ze.style.backgroundClip="content-box",Ze.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle=Ze.style.backgroundClip==="content-box",f.extend(S,{boxSizingReliable:function(){return A(),K},pixelBoxStyles:function(){return A(),re},pixelPosition:function(){return A(),j},reliableMarginLeft:function(){return A(),ke},scrollboxSize:function(){return A(),ee},reliableTrDimensions:function(){var ht,_t,nt,wt;return fe==null&&(ht=v.createElement("table"),_t=v.createElement("tr"),nt=v.createElement("div"),ht.style.cssText="position:absolute;left:-11111px;border-collapse:separate",_t.style.cssText="border:1px solid",_t.style.height="1px",nt.style.height="9px",nt.style.display="block",lt.appendChild(ht).appendChild(_t).appendChild(nt),wt=e.getComputedStyle(_t),fe=parseInt(wt.height,10)+parseInt(wt.borderTopWidth,10)+parseInt(wt.borderBottomWidth,10)===_t.offsetHeight,lt.removeChild(ht)),fe}}))})();function Ar(A,P,j){var K,ee,re,fe,ke=Wr.test(P),Te=A.style;return j=j||wi(A),j&&(fe=j.getPropertyValue(P)||j[P],ke&&fe&&(fe=fe.replace(I,"$1")||void 0),fe===""&&!se(A)&&(fe=f.style(A,P)),!S.pixelBoxStyles()&&Ur.test(fe)&&xa.test(P)&&(K=Te.width,ee=Te.minWidth,re=Te.maxWidth,Te.minWidth=Te.maxWidth=Te.width=fe,fe=j.width,Te.width=K,Te.minWidth=ee,Te.maxWidth=re)),fe!==void 0?fe+"":fe}function ta(A,P){return{get:function(){if(A()){delete this.get;return}return(this.get=P).apply(this,arguments)}}}var Cs=["Webkit","Moz","ms"],Xa=v.createElement("div").style,$a={};function el(A){for(var P=A[0].toUpperCase()+A.slice(1),j=Cs.length;j--;)if(A=Cs[j]+P,A in Xa)return A}function tl(A){var P=f.cssProps[A]||$a[A];return P||(A in Xa?A:$a[A]=el(A)||A)}var qf=/^(none|table(?!-c[ea]).+)/,Jf={position:"absolute",visibility:"hidden",display:"block"},mu={letterSpacing:"0",fontWeight:"400"};function sr(A,P,j){var K=Oe.exec(P);return K?Math.max(0,K[2]-(j||0))+(K[3]||"px"):P}function li(A,P,j,K,ee,re){var fe=P==="width"?1:0,ke=0,Te=0,Ze=0;if(j===(K?"border":"content"))return 0;for(;fe<4;fe+=2)j==="margin"&&(Ze+=f.css(A,j+at[fe],!0,ee)),K?(j==="content"&&(Te-=f.css(A,"padding"+at[fe],!0,ee)),j!=="margin"&&(Te-=f.css(A,"border"+at[fe]+"Width",!0,ee))):(Te+=f.css(A,"padding"+at[fe],!0,ee),j!=="padding"?Te+=f.css(A,"border"+at[fe]+"Width",!0,ee):ke+=f.css(A,"border"+at[fe]+"Width",!0,ee));return!K&&re>=0&&(Te+=Math.max(0,Math.ceil(A["offset"+P[0].toUpperCase()+P.slice(1)]-re-Te-ke-.5))||0),Te+Ze}function $n(A,P,j){var K=wi(A),ee=!S.boxSizingReliable()||j,re=ee&&f.css(A,"boxSizing",!1,K)==="border-box",fe=re,ke=Ar(A,P,K),Te="offset"+P[0].toUpperCase()+P.slice(1);if(Ur.test(ke)){if(!j)return ke;ke="auto"}return(!S.boxSizingReliable()&&re||!S.reliableTrDimensions()&&M(A,"tr")||ke==="auto"||!parseFloat(ke)&&f.css(A,"display",!1,K)==="inline")&&A.getClientRects().length&&(re=f.css(A,"boxSizing",!1,K)==="border-box",fe=Te in A,fe&&(ke=A[Te])),ke=parseFloat(ke)||0,ke+li(A,P,j||(re?"border":"content"),fe,K,ke)+"px"}f.extend({cssHooks:{opacity:{get:function(A,P){if(P){var j=Ar(A,"opacity");return j===""?"1":j}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(A,P,j,K){if(!(!A||A.nodeType===3||A.nodeType===8||!A.style)){var ee,re,fe,ke=Ie(P),Te=Wr.test(P),Ze=A.style;if(Te||(P=tl(ke)),fe=f.cssHooks[P]||f.cssHooks[ke],j!==void 0){if(re=typeof j,re==="string"&&(ee=Oe.exec(j))&&ee[1]&&(j=mt(A,P,ee),re="number"),j==null||j!==j)return;re==="number"&&!Te&&(j+=ee&&ee[3]||(f.cssNumber[ke]?"":"px")),!S.clearCloneStyle&&j===""&&P.indexOf("background")===0&&(Ze[P]="inherit"),(!fe||!("set"in fe)||(j=fe.set(A,j,K))!==void 0)&&(Te?Ze.setProperty(P,j):Ze[P]=j)}else return fe&&"get"in fe&&(ee=fe.get(A,!1,K))!==void 0?ee:Ze[P]}},css:function(A,P,j,K){var ee,re,fe,ke=Ie(P),Te=Wr.test(P);return Te||(P=tl(ke)),fe=f.cssHooks[P]||f.cssHooks[ke],fe&&"get"in fe&&(ee=fe.get(A,!0,j)),ee===void 0&&(ee=Ar(A,P,K)),ee==="normal"&&P in mu&&(ee=mu[P]),j===""||j?(re=parseFloat(ee),j===!0||isFinite(re)?re||0:ee):ee}}),f.each(["height","width"],function(A,P){f.cssHooks[P]={get:function(j,K,ee){if(K)return qf.test(f.css(j,"display"))&&(!j.getClientRects().length||!j.getBoundingClientRect().width)?Ss(j,Jf,function(){return $n(j,P,ee)}):$n(j,P,ee)},set:function(j,K,ee){var re,fe=wi(j),ke=!S.scrollboxSize()&&fe.position==="absolute",Te=ke||ee,Ze=Te&&f.css(j,"boxSizing",!1,fe)==="border-box",ht=ee?li(j,P,ee,Ze,fe):0;return Ze&&ke&&(ht-=Math.ceil(j["offset"+P[0].toUpperCase()+P.slice(1)]-parseFloat(fe[P])-li(j,P,"border",!1,fe)-.5)),ht&&(re=Oe.exec(K))&&(re[3]||"px")!=="px"&&(j.style[P]=K,K=f.css(j,P)),sr(j,K,ht)}}}),f.cssHooks.marginLeft=ta(S.reliableMarginLeft,function(A,P){if(P)return(parseFloat(Ar(A,"marginLeft"))||A.getBoundingClientRect().left-Ss(A,{marginLeft:0},function(){return A.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(A,P){f.cssHooks[A+P]={expand:function(j){for(var K=0,ee={},re=typeof j=="string"?j.split(" "):[j];K<4;K++)ee[A+at[K]+P]=re[K]||re[K-2]||re[0];return ee}},A!=="margin"&&(f.cssHooks[A+P].set=sr)}),f.fn.extend({css:function(A,P){return ye(this,function(j,K,ee){var re,fe,ke={},Te=0;if(Array.isArray(K)){for(re=wi(j),fe=K.length;Te<fe;Te++)ke[K[Te]]=f.css(j,K[Te],!1,re);return ke}return ee!==void 0?f.style(j,K,ee):f.css(j,K)},A,P,arguments.length>1)}});function Nn(A,P,j,K,ee){return new Nn.prototype.init(A,P,j,K,ee)}f.Tween=Nn,Nn.prototype={constructor:Nn,init:function(A,P,j,K,ee,re){this.elem=A,this.prop=j,this.easing=ee||f.easing._default,this.options=P,this.start=this.now=this.cur(),this.end=K,this.unit=re||(f.cssNumber[j]?"":"px")},cur:function(){var A=Nn.propHooks[this.prop];return A&&A.get?A.get(this):Nn.propHooks._default.get(this)},run:function(A){var P,j=Nn.propHooks[this.prop];return this.options.duration?this.pos=P=f.easing[this.easing](A,this.options.duration*A,0,1,this.options.duration):this.pos=P=A,this.now=(this.end-this.start)*P+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),j&&j.set?j.set(this):Nn.propHooks._default.set(this),this}},Nn.prototype.init.prototype=Nn.prototype,Nn.propHooks={_default:{get:function(A){var P;return A.elem.nodeType!==1||A.elem[A.prop]!=null&&A.elem.style[A.prop]==null?A.elem[A.prop]:(P=f.css(A.elem,A.prop,""),!P||P==="auto"?0:P)},set:function(A){f.fx.step[A.prop]?f.fx.step[A.prop](A):A.elem.nodeType===1&&(f.cssHooks[A.prop]||A.elem.style[tl(A.prop)]!=null)?f.style(A.elem,A.prop,A.now+A.unit):A.elem[A.prop]=A.now}}},Nn.propHooks.scrollTop=Nn.propHooks.scrollLeft={set:function(A){A.elem.nodeType&&A.elem.parentNode&&(A.elem[A.prop]=A.now)}},f.easing={linear:function(A){return A},swing:function(A){return .5-Math.cos(A*Math.PI)/2},_default:"swing"},f.fx=Nn.prototype.init,f.fx.step={};var ui,Qa,so=/^(?:toggle|show|hide)$/,wa=/queueHooks$/;function qa(){Qa&&(v.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(qa):e.setTimeout(qa,f.fx.interval),f.fx.tick())}function oo(){return e.setTimeout(function(){ui=void 0}),ui=Date.now()}function Si(A,P){var j,K=0,ee={height:A};for(P=P?1:0;K<4;K+=2-P)j=at[K],ee["margin"+j]=ee["padding"+j]=A;return P&&(ee.opacity=ee.width=A),ee}function Ci(A,P,j){for(var K,ee=(Xr.tweeners[P]||[]).concat(Xr.tweeners["*"]),re=0,fe=ee.length;re<fe;re++)if(K=ee[re].call(j,P,A))return K}function fn(A,P,j){var K,ee,re,fe,ke,Te,Ze,ht,_t="width"in P||"height"in P,nt=this,wt={},Zt=A.style,ur=A.nodeType&&Je(A),rr=Ne.get(A,"fxshow");j.queue||(fe=f._queueHooks(A,"fx"),fe.unqueued==null&&(fe.unqueued=0,ke=fe.empty.fire,fe.empty.fire=function(){fe.unqueued||ke()}),fe.unqueued++,nt.always(function(){nt.always(function(){fe.unqueued--,f.queue(A,"fx").length||fe.empty.fire()})}));for(K in P)if(ee=P[K],so.test(ee)){if(delete P[K],re=re||ee==="toggle",ee===(ur?"hide":"show"))if(ee==="show"&&rr&&rr[K]!==void 0)ur=!0;else continue;wt[K]=rr&&rr[K]||f.style(A,K)}if(Te=!f.isEmptyObject(P),!(!Te&&f.isEmptyObject(wt))){_t&&A.nodeType===1&&(j.overflow=[Zt.overflow,Zt.overflowX,Zt.overflowY],Ze=rr&&rr.display,Ze==null&&(Ze=Ne.get(A,"display")),ht=f.css(A,"display"),ht==="none"&&(Ze?ht=Ze:(oe([A],!0),Ze=A.style.display||Ze,ht=f.css(A,"display"),oe([A]))),(ht==="inline"||ht==="inline-block"&&Ze!=null)&&f.css(A,"float")==="none"&&(Te||(nt.done(function(){Zt.display=Ze}),Ze==null&&(ht=Zt.display,Ze=ht==="none"?"":ht)),Zt.display="inline-block")),j.overflow&&(Zt.overflow="hidden",nt.always(function(){Zt.overflow=j.overflow[0],Zt.overflowX=j.overflow[1],Zt.overflowY=j.overflow[2]})),Te=!1;for(K in wt)Te||(rr?"hidden"in rr&&(ur=rr.hidden):rr=Ne.access(A,"fxshow",{display:Ze}),re&&(rr.hidden=!ur),ur&&oe([A],!0),nt.done(function(){ur||oe([A]),Ne.remove(A,"fxshow");for(K in wt)f.style(A,K,wt[K])})),Te=Ci(ur?rr[K]:0,K,nt),K in rr||(rr[K]=Te.start,ur&&(Te.end=Te.start,Te.start=0))}}function Sa(A,P){var j,K,ee,re,fe;for(j in A)if(K=Ie(j),ee=P[K],re=A[j],Array.isArray(re)&&(ee=re[1],re=A[j]=re[0]),j!==K&&(A[K]=re,delete A[j]),fe=f.cssHooks[K],fe&&"expand"in fe){re=fe.expand(re),delete A[K];for(j in re)j in A||(A[j]=re[j],P[j]=ee)}else P[K]=ee}function Xr(A,P,j){var K,ee,re=0,fe=Xr.prefilters.length,ke=f.Deferred().always(function(){delete Te.elem}),Te=function(){if(ee)return!1;for(var _t=ui||oo(),nt=Math.max(0,Ze.startTime+Ze.duration-_t),wt=nt/Ze.duration||0,Zt=1-wt,ur=0,rr=Ze.tweens.length;ur<rr;ur++)Ze.tweens[ur].run(Zt);return ke.notifyWith(A,[Ze,Zt,nt]),Zt<1&&rr?nt:(rr||ke.notifyWith(A,[Ze,1,0]),ke.resolveWith(A,[Ze]),!1)},Ze=ke.promise({elem:A,props:f.extend({},P),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},j),originalProperties:P,originalOptions:j,startTime:ui||oo(),duration:j.duration,tweens:[],createTween:function(_t,nt){var wt=f.Tween(A,Ze.opts,_t,nt,Ze.opts.specialEasing[_t]||Ze.opts.easing);return Ze.tweens.push(wt),wt},stop:function(_t){var nt=0,wt=_t?Ze.tweens.length:0;if(ee)return this;for(ee=!0;nt<wt;nt++)Ze.tweens[nt].run(1);return _t?(ke.notifyWith(A,[Ze,1,0]),ke.resolveWith(A,[Ze,_t])):ke.rejectWith(A,[Ze,_t]),this}}),ht=Ze.props;for(Sa(ht,Ze.opts.specialEasing);re<fe;re++)if(K=Xr.prefilters[re].call(Ze,A,ht,Ze.opts),K)return w(K.stop)&&(f._queueHooks(Ze.elem,Ze.opts.queue).stop=K.stop.bind(K)),K;return f.map(ht,Ci,Ze),w(Ze.opts.start)&&Ze.opts.start.call(A,Ze),Ze.progress(Ze.opts.progress).done(Ze.opts.done,Ze.opts.complete).fail(Ze.opts.fail).always(Ze.opts.always),f.fx.timer(f.extend(Te,{elem:A,anim:Ze,queue:Ze.opts.queue})),Ze}f.Animation=f.extend(Xr,{tweeners:{"*":[function(A,P){var j=this.createTween(A,P);return mt(j.elem,A,Oe.exec(P),j),j}]},tweener:function(A,P){w(A)?(P=A,A=["*"]):A=A.match(be);for(var j,K=0,ee=A.length;K<ee;K++)j=A[K],Xr.tweeners[j]=Xr.tweeners[j]||[],Xr.tweeners[j].unshift(P)},prefilters:[fn],prefilter:function(A,P){P?Xr.prefilters.unshift(A):Xr.prefilters.push(A)}}),f.speed=function(A,P,j){var K=A&&typeof A=="object"?f.extend({},A):{complete:j||!j&&P||w(A)&&A,duration:A,easing:j&&P||P&&!w(P)&&P};return f.fx.off?K.duration=0:typeof K.duration!="number"&&(K.duration in f.fx.speeds?K.duration=f.fx.speeds[K.duration]:K.duration=f.fx.speeds._default),(K.queue==null||K.queue===!0)&&(K.queue="fx"),K.old=K.complete,K.complete=function(){w(K.old)&&K.old.call(this),K.queue&&f.dequeue(this,K.queue)},K},f.fn.extend({fadeTo:function(A,P,j,K){return this.filter(Je).css("opacity",0).show().end().animate({opacity:P},A,j,K)},animate:function(A,P,j,K){var ee=f.isEmptyObject(A),re=f.speed(P,j,K),fe=function(){var ke=Xr(this,f.extend({},A),re);(ee||Ne.get(this,"finish"))&&ke.stop(!0)};return fe.finish=fe,ee||re.queue===!1?this.each(fe):this.queue(re.queue,fe)},stop:function(A,P,j){var K=function(ee){var re=ee.stop;delete ee.stop,re(j)};return typeof A!="string"&&(j=P,P=A,A=void 0),P&&this.queue(A||"fx",[]),this.each(function(){var ee=!0,re=A!=null&&A+"queueHooks",fe=f.timers,ke=Ne.get(this);if(re)ke[re]&&ke[re].stop&&K(ke[re]);else for(re in ke)ke[re]&&ke[re].stop&&wa.test(re)&&K(ke[re]);for(re=fe.length;re--;)fe[re].elem===this&&(A==null||fe[re].queue===A)&&(fe[re].anim.stop(j),ee=!1,fe.splice(re,1));(ee||!j)&&f.dequeue(this,A)})},finish:function(A){return A!==!1&&(A=A||"fx"),this.each(function(){var P,j=Ne.get(this),K=j[A+"queue"],ee=j[A+"queueHooks"],re=f.timers,fe=K?K.length:0;for(j.finish=!0,f.queue(this,A,[]),ee&&ee.stop&&ee.stop.call(this,!0),P=re.length;P--;)re[P].elem===this&&re[P].queue===A&&(re[P].anim.stop(!0),re.splice(P,1));for(P=0;P<fe;P++)K[P]&&K[P].finish&&K[P].finish.call(this);delete j.finish})}}),f.each(["toggle","show","hide"],function(A,P){var j=f.fn[P];f.fn[P]=function(K,ee,re){return K==null||typeof K=="boolean"?j.apply(this,arguments):this.animate(Si(P,!0),K,ee,re)}}),f.each({slideDown:Si("show"),slideUp:Si("hide"),slideToggle:Si("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(A,P){f.fn[A]=function(j,K,ee){return this.animate(P,j,K,ee)}}),f.timers=[],f.fx.tick=function(){var A,P=0,j=f.timers;for(ui=Date.now();P<j.length;P++)A=j[P],!A()&&j[P]===A&&j.splice(P--,1);j.length||f.fx.stop(),ui=void 0},f.fx.timer=function(A){f.timers.push(A),f.fx.start()},f.fx.interval=13,f.fx.start=function(){Qa||(Qa=!0,qa())},f.fx.stop=function(){Qa=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(A,P){return A=f.fx&&f.fx.speeds[A]||A,P=P||"fx",this.queue(P,function(j,K){var ee=e.setTimeout(j,A);K.stop=function(){e.clearTimeout(ee)}})},function(){var A=v.createElement("input"),P=v.createElement("select"),j=P.appendChild(v.createElement("option"));A.type="checkbox",S.checkOn=A.value!=="",S.optSelected=j.selected,A=v.createElement("input"),A.value="t",A.type="radio",S.radioValue=A.value==="t"}();var En,Es=f.expr.attrHandle;f.fn.extend({attr:function(A,P){return ye(this,f.attr,A,P,arguments.length>1)},removeAttr:function(A){return this.each(function(){f.removeAttr(this,A)})}}),f.extend({attr:function(A,P,j){var K,ee,re=A.nodeType;if(!(re===3||re===8||re===2)){if(typeof A.getAttribute>"u")return f.prop(A,P,j);if((re!==1||!f.isXMLDoc(A))&&(ee=f.attrHooks[P.toLowerCase()]||(f.expr.match.bool.test(P)?En:void 0)),j!==void 0){if(j===null){f.removeAttr(A,P);return}return ee&&"set"in ee&&(K=ee.set(A,j,P))!==void 0?K:(A.setAttribute(P,j+""),j)}return ee&&"get"in ee&&(K=ee.get(A,P))!==null?K:(K=f.find.attr(A,P),K??void 0)}},attrHooks:{type:{set:function(A,P){if(!S.radioValue&&P==="radio"&&M(A,"input")){var j=A.value;return A.setAttribute("type",P),j&&(A.value=j),P}}}},removeAttr:function(A,P){var j,K=0,ee=P&&P.match(be);if(ee&&A.nodeType===1)for(;j=ee[K++];)A.removeAttribute(j)}}),En={set:function(A,P,j){return P===!1?f.removeAttr(A,j):A.setAttribute(j,j),j}},f.each(f.expr.match.bool.source.match(/\w+/g),function(A,P){var j=Es[P]||f.find.attr;Es[P]=function(K,ee,re){var fe,ke,Te=ee.toLowerCase();return re||(ke=Es[Te],Es[Te]=fe,fe=j(K,ee,re)!=null?Te:null,Es[Te]=ke),fe}});var Ca=/^(?:input|select|textarea|button)$/i,gu=/^(?:a|area)$/i;f.fn.extend({prop:function(A,P){return ye(this,f.prop,A,P,arguments.length>1)},removeProp:function(A){return this.each(function(){delete this[f.propFix[A]||A]})}}),f.extend({prop:function(A,P,j){var K,ee,re=A.nodeType;if(!(re===3||re===8||re===2))return(re!==1||!f.isXMLDoc(A))&&(P=f.propFix[P]||P,ee=f.propHooks[P]),j!==void 0?ee&&"set"in ee&&(K=ee.set(A,j,P))!==void 0?K:A[P]=j:ee&&"get"in ee&&(K=ee.get(A,P))!==null?K:A[P]},propHooks:{tabIndex:{get:function(A){var P=f.find.attr(A,"tabindex");return P?parseInt(P,10):Ca.test(A.nodeName)||gu.test(A.nodeName)&&A.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),S.optSelected||(f.propHooks.selected={get:function(A){var P=A.parentNode;return P&&P.parentNode&&P.parentNode.selectedIndex,null},set:function(A){var P=A.parentNode;P&&(P.selectedIndex,P.parentNode&&P.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function Pn(A){var P=A.match(be)||[];return P.join(" ")}function Ea(A){return A.getAttribute&&A.getAttribute("class")||""}function vu(A){return Array.isArray(A)?A:typeof A=="string"?A.match(be)||[]:[]}f.fn.extend({addClass:function(A){var P,j,K,ee,re,fe;return w(A)?this.each(function(ke){f(this).addClass(A.call(this,ke,Ea(this)))}):(P=vu(A),P.length?this.each(function(){if(K=Ea(this),j=this.nodeType===1&&" "+Pn(K)+" ",j){for(re=0;re<P.length;re++)ee=P[re],j.indexOf(" "+ee+" ")<0&&(j+=ee+" ");fe=Pn(j),K!==fe&&this.setAttribute("class",fe)}}):this)},removeClass:function(A){var P,j,K,ee,re,fe;return w(A)?this.each(function(ke){f(this).removeClass(A.call(this,ke,Ea(this)))}):arguments.length?(P=vu(A),P.length?this.each(function(){if(K=Ea(this),j=this.nodeType===1&&" "+Pn(K)+" ",j){for(re=0;re<P.length;re++)for(ee=P[re];j.indexOf(" "+ee+" ")>-1;)j=j.replace(" "+ee+" "," ");fe=Pn(j),K!==fe&&this.setAttribute("class",fe)}}):this):this.attr("class","")},toggleClass:function(A,P){var j,K,ee,re,fe=typeof A,ke=fe==="string"||Array.isArray(A);return w(A)?this.each(function(Te){f(this).toggleClass(A.call(this,Te,Ea(this),P),P)}):typeof P=="boolean"&&ke?P?this.addClass(A):this.removeClass(A):(j=vu(A),this.each(function(){if(ke)for(re=f(this),ee=0;ee<j.length;ee++)K=j[ee],re.hasClass(K)?re.removeClass(K):re.addClass(K);else(A===void 0||fe==="boolean")&&(K=Ea(this),K&&Ne.set(this,"__className__",K),this.setAttribute&&this.setAttribute("class",K||A===!1?"":Ne.get(this,"__className__")||""))}))},hasClass:function(A){var P,j,K=0;for(P=" "+A+" ";j=this[K++];)if(j.nodeType===1&&(" "+Pn(Ea(j))+" ").indexOf(P)>-1)return!0;return!1}});var ra=/\r/g;f.fn.extend({val:function(A){var P,j,K,ee=this[0];return arguments.length?(K=w(A),this.each(function(re){var fe;this.nodeType===1&&(K?fe=A.call(this,re,f(this).val()):fe=A,fe==null?fe="":typeof fe=="number"?fe+="":Array.isArray(fe)&&(fe=f.map(fe,function(ke){return ke==null?"":ke+""})),P=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!P||!("set"in P)||P.set(this,fe,"value")===void 0)&&(this.value=fe))})):ee?(P=f.valHooks[ee.type]||f.valHooks[ee.nodeName.toLowerCase()],P&&"get"in P&&(j=P.get(ee,"value"))!==void 0?j:(j=ee.value,typeof j=="string"?j.replace(ra,""):j??"")):void 0}}),f.extend({valHooks:{option:{get:function(A){var P=f.find.attr(A,"value");return P??Pn(f.text(A))}},select:{get:function(A){var P,j,K,ee=A.options,re=A.selectedIndex,fe=A.type==="select-one",ke=fe?null:[],Te=fe?re+1:ee.length;for(re<0?K=Te:K=fe?re:0;K<Te;K++)if(j=ee[K],(j.selected||K===re)&&!j.disabled&&(!j.parentNode.disabled||!M(j.parentNode,"optgroup"))){if(P=f(j).val(),fe)return P;ke.push(P)}return ke},set:function(A,P){for(var j,K,ee=A.options,re=f.makeArray(P),fe=ee.length;fe--;)K=ee[fe],(K.selected=f.inArray(f.valHooks.option.get(K),re)>-1)&&(j=!0);return j||(A.selectedIndex=-1),re}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(A,P){if(Array.isArray(P))return A.checked=f.inArray(f(A).val(),P)>-1}},S.checkOn||(f.valHooks[this].get=function(A){return A.getAttribute("value")===null?"on":A.value})});var mn=e.location,yn={guid:Date.now()},hr=/\?/;f.parseXML=function(A){var P,j;if(!A||typeof A!="string")return null;try{P=new e.DOMParser().parseFromString(A,"text/xml")}catch{}return j=P&&P.getElementsByTagName("parsererror")[0],(!P||j)&&f.error("Invalid XML: "+(j?f.map(j.childNodes,function(K){return K.textContent}).join(`
`):A)),P};var Da=/^(?:focusinfocus|focusoutblur)$/,lo=function(A){A.stopPropagation()};f.extend(f.event,{trigger:function(A,P,j,K){var ee,re,fe,ke,Te,Ze,ht,_t,nt=[j||v],wt=p.call(A,"type")?A.type:A,Zt=p.call(A,"namespace")?A.namespace.split("."):[];if(re=_t=fe=j=j||v,!(j.nodeType===3||j.nodeType===8)&&!Da.test(wt+f.event.triggered)&&(wt.indexOf(".")>-1&&(Zt=wt.split("."),wt=Zt.shift(),Zt.sort()),Te=wt.indexOf(":")<0&&"on"+wt,A=A[f.expando]?A:new f.Event(wt,typeof A=="object"&&A),A.isTrigger=K?2:3,A.namespace=Zt.join("."),A.rnamespace=A.namespace?new RegExp("(^|\\.)"+Zt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,A.result=void 0,A.target||(A.target=j),P=P==null?[A]:f.makeArray(P,[A]),ht=f.event.special[wt]||{},!(!K&&ht.trigger&&ht.trigger.apply(j,P)===!1))){if(!K&&!ht.noBubble&&!c(j)){for(ke=ht.delegateType||wt,Da.test(ke+wt)||(re=re.parentNode);re;re=re.parentNode)nt.push(re),fe=re;fe===(j.ownerDocument||v)&&nt.push(fe.defaultView||fe.parentWindow||e)}for(ee=0;(re=nt[ee++])&&!A.isPropagationStopped();)_t=re,A.type=ee>1?ke:ht.bindType||wt,Ze=(Ne.get(re,"events")||Object.create(null))[A.type]&&Ne.get(re,"handle"),Ze&&Ze.apply(re,P),Ze=Te&&re[Te],Ze&&Ze.apply&&Re(re)&&(A.result=Ze.apply(re,P),A.result===!1&&A.preventDefault());return A.type=wt,!K&&!A.isDefaultPrevented()&&(!ht._default||ht._default.apply(nt.pop(),P)===!1)&&Re(j)&&Te&&w(j[wt])&&!c(j)&&(fe=j[Te],fe&&(j[Te]=null),f.event.triggered=wt,A.isPropagationStopped()&&_t.addEventListener(wt,lo),j[wt](),A.isPropagationStopped()&&_t.removeEventListener(wt,lo),f.event.triggered=void 0,fe&&(j[Te]=fe)),A.result}},simulate:function(A,P,j){var K=f.extend(new f.Event,j,{type:A,isSimulated:!0});f.event.trigger(K,null,P)}}),f.fn.extend({trigger:function(A,P){return this.each(function(){f.event.trigger(A,P,this)})},triggerHandler:function(A,P){var j=this[0];if(j)return f.event.trigger(A,P,j,!0)}});var _u=/\[\]$/,Ma=/\r?\n/g,bu=/^(?:submit|button|image|reset|file)$/i,rl=/^(?:input|select|textarea|keygen)/i;function na(A,P,j,K){var ee;if(Array.isArray(P))f.each(P,function(re,fe){j||_u.test(A)?K(A,fe):na(A+"["+(typeof fe=="object"&&fe!=null?re:"")+"]",fe,j,K)});else if(!j&&C(P)==="object")for(ee in P)na(A+"["+ee+"]",P[ee],j,K);else K(A,P)}f.param=function(A,P){var j,K=[],ee=function(re,fe){var ke=w(fe)?fe():fe;K[K.length]=encodeURIComponent(re)+"="+encodeURIComponent(ke??"")};if(A==null)return"";if(Array.isArray(A)||A.jquery&&!f.isPlainObject(A))f.each(A,function(){ee(this.name,this.value)});else for(j in A)na(j,A[j],P,ee);return K.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var A=f.prop(this,"elements");return A?f.makeArray(A):this}).filter(function(){var A=this.type;return this.name&&!f(this).is(":disabled")&&rl.test(this.nodeName)&&!bu.test(A)&&(this.checked||!dt.test(A))}).map(function(A,P){var j=f(this).val();return j==null?null:Array.isArray(j)?f.map(j,function(K){return{name:P.name,value:K.replace(Ma,`\r
`)}}):{name:P.name,value:j.replace(Ma,`\r
`)}}).get()}});var ed=/%20/g,td=/#.*$/,Ei=/([?&])_=[^&]*/,Ds=/^(.*?):[ \t]*([^\r\n]*)$/mg,rd=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,nd=/^(?:GET|HEAD)$/,Ms=/^\/\//,nl={},uo={},fo="*/".concat("*"),Ja=v.createElement("a");Ja.href=mn.href;function yu(A){return function(P,j){typeof P!="string"&&(j=P,P="*");var K,ee=0,re=P.toLowerCase().match(be)||[];if(w(j))for(;K=re[ee++];)K[0]==="+"?(K=K.slice(1)||"*",(A[K]=A[K]||[]).unshift(j)):(A[K]=A[K]||[]).push(j)}}function il(A,P,j,K){var ee={},re=A===uo;function fe(ke){var Te;return ee[ke]=!0,f.each(A[ke]||[],function(Ze,ht){var _t=ht(P,j,K);if(typeof _t=="string"&&!re&&!ee[_t])return P.dataTypes.unshift(_t),fe(_t),!1;if(re)return!(Te=_t)}),Te}return fe(P.dataTypes[0])||!ee["*"]&&fe("*")}function co(A,P){var j,K,ee=f.ajaxSettings.flatOptions||{};for(j in P)P[j]!==void 0&&((ee[j]?A:K||(K={}))[j]=P[j]);return K&&f.extend(!0,A,K),A}function id(A,P,j){for(var K,ee,re,fe,ke=A.contents,Te=A.dataTypes;Te[0]==="*";)Te.shift(),K===void 0&&(K=A.mimeType||P.getResponseHeader("Content-Type"));if(K){for(ee in ke)if(ke[ee]&&ke[ee].test(K)){Te.unshift(ee);break}}if(Te[0]in j)re=Te[0];else{for(ee in j){if(!Te[0]||A.converters[ee+" "+Te[0]]){re=ee;break}fe||(fe=ee)}re=re||fe}if(re)return re!==Te[0]&&Te.unshift(re),j[re]}function ad(A,P,j,K){var ee,re,fe,ke,Te,Ze={},ht=A.dataTypes.slice();if(ht[1])for(fe in A.converters)Ze[fe.toLowerCase()]=A.converters[fe];for(re=ht.shift();re;)if(A.responseFields[re]&&(j[A.responseFields[re]]=P),!Te&&K&&A.dataFilter&&(P=A.dataFilter(P,A.dataType)),Te=re,re=ht.shift(),re){if(re==="*")re=Te;else if(Te!=="*"&&Te!==re){if(fe=Ze[Te+" "+re]||Ze["* "+re],!fe){for(ee in Ze)if(ke=ee.split(" "),ke[1]===re&&(fe=Ze[Te+" "+ke[0]]||Ze["* "+ke[0]],fe)){fe===!0?fe=Ze[ee]:Ze[ee]!==!0&&(re=ke[0],ht.unshift(ke[1]));break}}if(fe!==!0)if(fe&&A.throws)P=fe(P);else try{P=fe(P)}catch(_t){return{state:"parsererror",error:fe?_t:"No conversion from "+Te+" to "+re}}}}return{state:"success",data:P}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mn.href,type:"GET",isLocal:rd.test(mn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":fo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(A,P){return P?co(co(A,f.ajaxSettings),P):co(f.ajaxSettings,A)},ajaxPrefilter:yu(nl),ajaxTransport:yu(uo),ajax:function(A,P){typeof A=="object"&&(P=A,A=void 0),P=P||{};var j,K,ee,re,fe,ke,Te,Ze,ht,_t,nt=f.ajaxSetup({},P),wt=nt.context||nt,Zt=nt.context&&(wt.nodeType||wt.jquery)?f(wt):f.event,ur=f.Deferred(),rr=f.Callbacks("once memory"),gn=nt.statusCode||{},tn={},Di={},Gn="canceled",or={readyState:0,getResponseHeader:function(pr){var Gr;if(Te){if(!re)for(re={};Gr=Ds.exec(ee);)re[Gr[1].toLowerCase()+" "]=(re[Gr[1].toLowerCase()+" "]||[]).concat(Gr[2]);Gr=re[pr.toLowerCase()+" "]}return Gr==null?null:Gr.join(", ")},getAllResponseHeaders:function(){return Te?ee:null},setRequestHeader:function(pr,Gr){return Te==null&&(pr=Di[pr.toLowerCase()]=Di[pr.toLowerCase()]||pr,tn[pr]=Gr),this},overrideMimeType:function(pr){return Te==null&&(nt.mimeType=pr),this},statusCode:function(pr){var Gr;if(pr)if(Te)or.always(pr[or.status]);else for(Gr in pr)gn[Gr]=[gn[Gr],pr[Gr]];return this},abort:function(pr){var Gr=pr||Gn;return j&&j.abort(Gr),Aa(0,Gr),this}};if(ur.promise(or),nt.url=((A||nt.url||mn.href)+"").replace(Ms,mn.protocol+"//"),nt.type=P.method||P.type||nt.method||nt.type,nt.dataTypes=(nt.dataType||"*").toLowerCase().match(be)||[""],nt.crossDomain==null){ke=v.createElement("a");try{ke.href=nt.url,ke.href=ke.href,nt.crossDomain=Ja.protocol+"//"+Ja.host!=ke.protocol+"//"+ke.host}catch{nt.crossDomain=!0}}if(nt.data&&nt.processData&&typeof nt.data!="string"&&(nt.data=f.param(nt.data,nt.traditional)),il(nl,nt,P,or),Te)return or;Ze=f.event&&nt.global,Ze&&f.active++===0&&f.event.trigger("ajaxStart"),nt.type=nt.type.toUpperCase(),nt.hasContent=!nd.test(nt.type),K=nt.url.replace(td,""),nt.hasContent?nt.data&&nt.processData&&(nt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(nt.data=nt.data.replace(ed,"+")):(_t=nt.url.slice(K.length),nt.data&&(nt.processData||typeof nt.data=="string")&&(K+=(hr.test(K)?"&":"?")+nt.data,delete nt.data),nt.cache===!1&&(K=K.replace(Ei,"$1"),_t=(hr.test(K)?"&":"?")+"_="+yn.guid+++_t),nt.url=K+_t),nt.ifModified&&(f.lastModified[K]&&or.setRequestHeader("If-Modified-Since",f.lastModified[K]),f.etag[K]&&or.setRequestHeader("If-None-Match",f.etag[K])),(nt.data&&nt.hasContent&&nt.contentType!==!1||P.contentType)&&or.setRequestHeader("Content-Type",nt.contentType),or.setRequestHeader("Accept",nt.dataTypes[0]&&nt.accepts[nt.dataTypes[0]]?nt.accepts[nt.dataTypes[0]]+(nt.dataTypes[0]!=="*"?", "+fo+"; q=0.01":""):nt.accepts["*"]);for(ht in nt.headers)or.setRequestHeader(ht,nt.headers[ht]);if(nt.beforeSend&&(nt.beforeSend.call(wt,or,nt)===!1||Te))return or.abort();if(Gn="abort",rr.add(nt.complete),or.done(nt.success),or.fail(nt.error),j=il(uo,nt,P,or),!j)Aa(-1,"No Transport");else{if(or.readyState=1,Ze&&Zt.trigger("ajaxSend",[or,nt]),Te)return or;nt.async&&nt.timeout>0&&(fe=e.setTimeout(function(){or.abort("timeout")},nt.timeout));try{Te=!1,j.send(tn,Aa)}catch(pr){if(Te)throw pr;Aa(-1,pr)}}function Aa(pr,Gr,ji,Mi){var Ai,Ta,Ti,Li,ia,Qn=Gr;Te||(Te=!0,fe&&e.clearTimeout(fe),j=void 0,ee=Mi||"",or.readyState=pr>0?4:0,Ai=pr>=200&&pr<300||pr===304,ji&&(Li=id(nt,or,ji)),!Ai&&f.inArray("script",nt.dataTypes)>-1&&f.inArray("json",nt.dataTypes)<0&&(nt.converters["text script"]=function(){}),Li=ad(nt,Li,or,Ai),Ai?(nt.ifModified&&(ia=or.getResponseHeader("Last-Modified"),ia&&(f.lastModified[K]=ia),ia=or.getResponseHeader("etag"),ia&&(f.etag[K]=ia)),pr===204||nt.type==="HEAD"?Qn="nocontent":pr===304?Qn="notmodified":(Qn=Li.state,Ta=Li.data,Ti=Li.error,Ai=!Ti)):(Ti=Qn,(pr||!Qn)&&(Qn="error",pr<0&&(pr=0))),or.status=pr,or.statusText=(Gr||Qn)+"",Ai?ur.resolveWith(wt,[Ta,Qn,or]):ur.rejectWith(wt,[or,Qn,Ti]),or.statusCode(gn),gn=void 0,Ze&&Zt.trigger(Ai?"ajaxSuccess":"ajaxError",[or,nt,Ai?Ta:Ti]),rr.fireWith(wt,[or,Qn]),Ze&&(Zt.trigger("ajaxComplete",[or,nt]),--f.active||f.event.trigger("ajaxStop")))}return or},getJSON:function(A,P,j){return f.get(A,P,j,"json")},getScript:function(A,P){return f.get(A,void 0,P,"script")}}),f.each(["get","post"],function(A,P){f[P]=function(j,K,ee,re){return w(K)&&(re=re||ee,ee=K,K=void 0),f.ajax(f.extend({url:j,type:P,dataType:re,data:K,success:ee},f.isPlainObject(j)&&j))}}),f.ajaxPrefilter(function(A){var P;for(P in A.headers)P.toLowerCase()==="content-type"&&(A.contentType=A.headers[P]||"")}),f._evalUrl=function(A,P,j){return f.ajax({url:A,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(K){f.globalEval(K,P,j)}})},f.fn.extend({wrapAll:function(A){var P;return this[0]&&(w(A)&&(A=A.call(this[0])),P=f(A,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&P.insertBefore(this[0]),P.map(function(){for(var j=this;j.firstElementChild;)j=j.firstElementChild;return j}).append(this)),this},wrapInner:function(A){return w(A)?this.each(function(P){f(this).wrapInner(A.call(this,P))}):this.each(function(){var P=f(this),j=P.contents();j.length?j.wrapAll(A):P.append(A)})},wrap:function(A){var P=w(A);return this.each(function(j){f(this).wrapAll(P?A.call(this,j):A)})},unwrap:function(A){return this.parent(A).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(A){return!f.expr.pseudos.visible(A)},f.expr.pseudos.visible=function(A){return!!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var sd={0:200,1223:204},As=f.ajaxSettings.xhr();S.cors=!!As&&"withCredentials"in As,S.ajax=As=!!As,f.ajaxTransport(function(A){var P,j;if(S.cors||As&&!A.crossDomain)return{send:function(K,ee){var re,fe=A.xhr();if(fe.open(A.type,A.url,A.async,A.username,A.password),A.xhrFields)for(re in A.xhrFields)fe[re]=A.xhrFields[re];A.mimeType&&fe.overrideMimeType&&fe.overrideMimeType(A.mimeType),!A.crossDomain&&!K["X-Requested-With"]&&(K["X-Requested-With"]="XMLHttpRequest");for(re in K)fe.setRequestHeader(re,K[re]);P=function(ke){return function(){P&&(P=j=fe.onload=fe.onerror=fe.onabort=fe.ontimeout=fe.onreadystatechange=null,ke==="abort"?fe.abort():ke==="error"?typeof fe.status!="number"?ee(0,"error"):ee(fe.status,fe.statusText):ee(sd[fe.status]||fe.status,fe.statusText,(fe.responseType||"text")!=="text"||typeof fe.responseText!="string"?{binary:fe.response}:{text:fe.responseText},fe.getAllResponseHeaders()))}},fe.onload=P(),j=fe.onerror=fe.ontimeout=P("error"),fe.onabort!==void 0?fe.onabort=j:fe.onreadystatechange=function(){fe.readyState===4&&e.setTimeout(function(){P&&j()})},P=P("abort");try{fe.send(A.hasContent&&A.data||null)}catch(ke){if(P)throw ke}},abort:function(){P&&P()}}}),f.ajaxPrefilter(function(A){A.crossDomain&&(A.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(A){return f.globalEval(A),A}}}),f.ajaxPrefilter("script",function(A){A.cache===void 0&&(A.cache=!1),A.crossDomain&&(A.type="GET")}),f.ajaxTransport("script",function(A){if(A.crossDomain||A.scriptAttrs){var P,j;return{send:function(K,ee){P=f("<script>").attr(A.scriptAttrs||{}).prop({charset:A.scriptCharset,src:A.url}).on("load error",j=function(re){P.remove(),j=null,re&&ee(re.type==="error"?404:200,re.type)}),v.head.appendChild(P[0])},abort:function(){j&&j()}}}});var al=[],Ir=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var A=al.pop()||f.expando+"_"+yn.guid++;return this[A]=!0,A}}),f.ajaxPrefilter("json jsonp",function(A,P,j){var K,ee,re,fe=A.jsonp!==!1&&(Ir.test(A.url)?"url":typeof A.data=="string"&&(A.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ir.test(A.data)&&"data");if(fe||A.dataTypes[0]==="jsonp")return K=A.jsonpCallback=w(A.jsonpCallback)?A.jsonpCallback():A.jsonpCallback,fe?A[fe]=A[fe].replace(Ir,"$1"+K):A.jsonp!==!1&&(A.url+=(hr.test(A.url)?"&":"?")+A.jsonp+"="+K),A.converters["script json"]=function(){return re||f.error(K+" was not called"),re[0]},A.dataTypes[0]="json",ee=e[K],e[K]=function(){re=arguments},j.always(function(){ee===void 0?f(e).removeProp(K):e[K]=ee,A[K]&&(A.jsonpCallback=P.jsonpCallback,al.push(K)),re&&w(ee)&&ee(re[0]),re=ee=void 0}),"script"}),S.createHTMLDocument=function(){var A=v.implementation.createHTMLDocument("").body;return A.innerHTML="<form></form><form></form>",A.childNodes.length===2}(),f.parseHTML=function(A,P,j){if(typeof A!="string")return[];typeof P=="boolean"&&(j=P,P=!1);var K,ee,re;return P||(S.createHTMLDocument?(P=v.implementation.createHTMLDocument(""),K=P.createElement("base"),K.href=v.location.href,P.head.appendChild(K)):P=v),ee=X.exec(A),re=!j&&[],ee?[P.createElement(ee[1])]:(ee=tt([A],P,re),re&&re.length&&f(re).remove(),f.merge([],ee.childNodes))},f.fn.load=function(A,P,j){var K,ee,re,fe=this,ke=A.indexOf(" ");return ke>-1&&(K=Pn(A.slice(ke)),A=A.slice(0,ke)),w(P)?(j=P,P=void 0):P&&typeof P=="object"&&(ee="POST"),fe.length>0&&f.ajax({url:A,type:ee||"GET",dataType:"html",data:P}).done(function(Te){re=arguments,fe.html(K?f("<div>").append(f.parseHTML(Te)).find(K):Te)}).always(j&&function(Te,Ze){fe.each(function(){j.apply(this,re||[Te.responseText,Ze,Te])})}),this},f.expr.pseudos.animated=function(A){return f.grep(f.timers,function(P){return A===P.elem}).length},f.offset={setOffset:function(A,P,j){var K,ee,re,fe,ke,Te,Ze,ht=f.css(A,"position"),_t=f(A),nt={};ht==="static"&&(A.style.position="relative"),ke=_t.offset(),re=f.css(A,"top"),Te=f.css(A,"left"),Ze=(ht==="absolute"||ht==="fixed")&&(re+Te).indexOf("auto")>-1,Ze?(K=_t.position(),fe=K.top,ee=K.left):(fe=parseFloat(re)||0,ee=parseFloat(Te)||0),w(P)&&(P=P.call(A,j,f.extend({},ke))),P.top!=null&&(nt.top=P.top-ke.top+fe),P.left!=null&&(nt.left=P.left-ke.left+ee),"using"in P?P.using.call(A,nt):_t.css(nt)}},f.fn.extend({offset:function(A){if(arguments.length)return A===void 0?this:this.each(function(ee){f.offset.setOffset(this,A,ee)});var P,j,K=this[0];if(K)return K.getClientRects().length?(P=K.getBoundingClientRect(),j=K.ownerDocument.defaultView,{top:P.top+j.pageYOffset,left:P.left+j.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var A,P,j,K=this[0],ee={top:0,left:0};if(f.css(K,"position")==="fixed")P=K.getBoundingClientRect();else{for(P=this.offset(),j=K.ownerDocument,A=K.offsetParent||j.documentElement;A&&(A===j.body||A===j.documentElement)&&f.css(A,"position")==="static";)A=A.parentNode;A&&A!==K&&A.nodeType===1&&(ee=f(A).offset(),ee.top+=f.css(A,"borderTopWidth",!0),ee.left+=f.css(A,"borderLeftWidth",!0))}return{top:P.top-ee.top-f.css(K,"marginTop",!0),left:P.left-ee.left-f.css(K,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var A=this.offsetParent;A&&f.css(A,"position")==="static";)A=A.offsetParent;return A||lt})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(A,P){var j=P==="pageYOffset";f.fn[A]=function(K){return ye(this,function(ee,re,fe){var ke;if(c(ee)?ke=ee:ee.nodeType===9&&(ke=ee.defaultView),fe===void 0)return ke?ke[P]:ee[re];ke?ke.scrollTo(j?ke.pageXOffset:fe,j?fe:ke.pageYOffset):ee[re]=fe},A,K,arguments.length)}}),f.each(["top","left"],function(A,P){f.cssHooks[P]=ta(S.pixelPosition,function(j,K){if(K)return K=Ar(j,P),Ur.test(K)?f(j).position()[P]+"px":K})}),f.each({Height:"height",Width:"width"},function(A,P){f.each({padding:"inner"+A,content:P,"":"outer"+A},function(j,K){f.fn[K]=function(ee,re){var fe=arguments.length&&(j||typeof ee!="boolean"),ke=j||(ee===!0||re===!0?"margin":"border");return ye(this,function(Te,Ze,ht){var _t;return c(Te)?K.indexOf("outer")===0?Te["inner"+A]:Te.document.documentElement["client"+A]:Te.nodeType===9?(_t=Te.documentElement,Math.max(Te.body["scroll"+A],_t["scroll"+A],Te.body["offset"+A],_t["offset"+A],_t["client"+A])):ht===void 0?f.css(Te,Ze,ke):f.style(Te,Ze,ht,ke)},P,fe?ee:void 0,fe)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(A,P){f.fn[P]=function(j){return this.on(P,j)}}),f.fn.extend({bind:function(A,P,j){return this.on(A,null,P,j)},unbind:function(A,P){return this.off(A,null,P)},delegate:function(A,P,j,K){return this.on(P,A,j,K)},undelegate:function(A,P,j){return arguments.length===1?this.off(A,"**"):this.off(P,A||"**",j)},hover:function(A,P){return this.mouseenter(A).mouseleave(P||A)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(A,P){f.fn[P]=function(j,K){return arguments.length>0?this.on(P,null,j,K):this.trigger(P)}});var Ts=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(A,P){var j,K,ee;if(typeof P=="string"&&(j=A[P],P=A,A=j),!!w(A))return K=a.call(arguments,2),ee=function(){return A.apply(P||this,K.concat(a.call(arguments)))},ee.guid=A.guid=A.guid||f.guid++,ee},f.holdReady=function(A){A?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=M,f.isFunction=w,f.isWindow=c,f.camelCase=Ie,f.type=C,f.now=Date.now,f.isNumeric=function(A){var P=f.type(A);return(P==="number"||P==="string")&&!isNaN(A-parseFloat(A))},f.trim=function(A){return A==null?"":(A+"").replace(Ts,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return f});var Ls=e.jQuery,od=e.$;return f.noConflict=function(A){return e.$===f&&(e.$=od),A&&e.jQuery===f&&(e.jQuery=Ls),f},typeof t>"u"&&(e.jQuery=e.$=f),f})});function vc(e){var t="a aa ai ao as b fn i m o s ",r,n,a={};Ee.each(e,function(s,o){r=s.match(/^([^A-Z]+?)([A-Z])/),r&&t.indexOf(r[1]+" ")!==-1&&(n=s.replace(r[0],r[2].toLowerCase()),a[n]=s,r[1]==="o"&&vc(e[s]))}),e._hungarianMap=a}function $s(e,t,r){e._hungarianMap||vc(e);var n;Ee.each(t,function(a,s){n=e._hungarianMap[a],n!==void 0&&(r||t[n]===void 0)&&(n.charAt(0)==="o"?(t[n]||(t[n]={}),Ee.extend(!0,t[n],t[a]),$s(e[n],t[n],r)):t[n]=t[a])})}function ob(e){var t=St.defaults.oLanguage,r=t.sDecimal;if(r&&hb(r),e){var n=e.sZeroRecords;!e.sEmptyTable&&n&&t.sEmptyTable==="No data available in table"&&Ha(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&t.sLoadingRecords==="Loading..."&&Ha(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var a=e.sDecimal;a&&r!==a&&hb(a)}}function zC(e){zi(e,"ordering","bSort"),zi(e,"orderMulti","bSortMulti"),zi(e,"orderClasses","bSortClasses"),zi(e,"orderCellsTop","bSortCellsTop"),zi(e,"order","aaSorting"),zi(e,"orderFixed","aaSortingFixed"),zi(e,"paging","bPaginate"),zi(e,"pagingType","sPaginationType"),zi(e,"pageLength","iDisplayLength"),zi(e,"searching","bFilter"),typeof e.sScrollX=="boolean"&&(e.sScrollX=e.sScrollX?"100%":""),typeof e.scrollX=="boolean"&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var r=0,n=t.length;r<n;r++)t[r]&&$s(St.models.oSearch,t[r])}function ZC(e){zi(e,"orderable","bSortable"),zi(e,"orderData","aDataSort"),zi(e,"orderSequence","asSorting"),zi(e,"orderDataType","sortDataType");var t=e.aDataSort;typeof t=="number"&&!Array.isArray(t)&&(e.aDataSort=[t])}function XC(e){if(!St.__browser){var t={};St.__browser=t;var r=Ee("<div/>").css({position:"fixed",top:0,left:Ee(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append(Ee("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(Ee("<div/>").css({width:"100%",height:10}))).appendTo("body"),n=r.children(),a=n.children();t.barWidth=n[0].offsetWidth-n[0].clientWidth,t.bScrollOversize=a[0].offsetWidth===100&&n[0].clientWidth!==100,t.bScrollbarLeft=Math.round(a.offset().left)!==1,t.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}Ee.extend(e.oBrowser,St.__browser),e.oScroll.iBarWidth=St.__browser.barWidth}function FC(e,t,r,n,a,s){var o=n,l,u=!1;for(r!==void 0&&(l=r,u=!0);o!==a;)e.hasOwnProperty(o)&&(l=u?t(l,e[o],o,e):e[o],u=!0,o+=s);return l}function pb(e,t){var r=St.defaults.column,n=e.aoColumns.length,a=Ee.extend({},St.models.oColumn,r,{nTh:t||document.createElement("th"),sTitle:r.sTitle?r.sTitle:t?t.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[n],mData:r.mData?r.mData:n,idx:n});e.aoColumns.push(a);var s=e.aoPreSearchCols;s[n]=Ee.extend({},St.models.oSearch,s[n]),S0(e,n,Ee(t).data())}function S0(e,t,r){var n=e.aoColumns[t],a=e.oClasses,s=Ee(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var o=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);o&&(n.sWidthOrig=o[1])}if(r!=null){ZC(r),$s(St.defaults.column,r,!0),r.mDataProp!==void 0&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&s.addClass(r.sClass);var l=n.sClass;Ee.extend(n,r),Ha(n,r,"sWidth","sWidthOrig"),l!==n.sClass&&(n.sClass=l+" "+n.sClass),r.iDataSort!==void 0&&(n.aDataSort=[r.iDataSort]),Ha(n,r,"aDataSort")}var u=n.mData,g=df(u),p=n.mRender?df(n.mRender):null,_=function(w){return typeof w=="string"&&w.indexOf("@")!==-1};n._bAttrSrc=Ee.isPlainObject(u)&&(_(u.sort)||_(u.type)||_(u.filter)),n._setter=null,n.fnGetData=function(w,c,v){var y=g(w,c,void 0,v);return p&&c?p(y,c,w,v):y},n.fnSetData=function(w,c,v){return Fo(u)(w,c,v)},typeof u!="number"&&!n._isArrayHost&&(e._rowReadObject=!0),e.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone));var x=Ee.inArray("asc",n.asSorting)!==-1,S=Ee.inArray("desc",n.asSorting)!==-1;!n.bSortable||!x&&!S?(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI=""):x&&!S?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!x&&S?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI)}function _c(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;wb(e);for(var r=0,n=t.length;r<n;r++)t[r].nTh.style.width=t[r].sWidth}var a=e.oScroll;(a.sY!==""||a.sX!=="")&&I0(e),Nr(e,null,"column-sizing",[e])}function bc(e,t){var r=T0(e,"bVisible");return typeof r[t]=="number"?r[t]:null}function yc(e,t){var r=T0(e,"bVisible"),n=Ee.inArray(t,r);return n!==-1?n:null}function cf(e){var t=0;return Ee.each(e.aoColumns,function(r,n){n.bVisible&&Ee(n.nTh).css("display")!=="none"&&t++}),t}function T0(e,t){var r=[];return Ee.map(e.aoColumns,function(n,a){n[t]&&r.push(a)}),r}function mb(e){var t=e.aoColumns,r=e.aoData,n=St.ext.type.detect,a,s,o,l,u,g,p,_,x,S;for(a=0,s=t.length;a<s;a++)if(p=t[a],S=[],!p.sType&&p._sManualType)p.sType=p._sManualType;else if(!p.sType){for(o=0,l=n.length;o<l;o++){for(u=0,g=r.length;u<g&&(S[u]===void 0&&(S[u]=Fi(e,u,a,"type")),x=n[o](S[u],e),!(!x&&o!==n.length-1||x==="html"&&!ds(S[u])));u++);if(x){p.sType=x;break}}p.sType||(p.sType="string")}}function $C(e,t,r,n){var a,s,o,l,u,g,p,_=e.aoColumns;if(t)for(a=t.length-1;a>=0;a--){p=t[a];var x=p.target!==void 0?p.target:p.targets!==void 0?p.targets:p.aTargets;for(Array.isArray(x)||(x=[x]),o=0,l=x.length;o<l;o++)if(typeof x[o]=="number"&&x[o]>=0){for(;_.length<=x[o];)pb(e);n(x[o],p)}else if(typeof x[o]=="number"&&x[o]<0)n(_.length+x[o],p);else if(typeof x[o]=="string")for(u=0,g=_.length;u<g;u++)(x[o]=="_all"||Ee(_[u].nTh).hasClass(x[o]))&&n(u,p)}if(r)for(a=0,s=r.length;a<s;a++)n(a,r[a])}function Bo(e,t,r,n){var a=e.aoData.length,s=Ee.extend(!0,{},St.models.oRow,{src:r?"dom":"data",idx:a});s._aData=t,e.aoData.push(s);for(var o,l,u=e.aoColumns,g=0,p=u.length;g<p;g++)u[g].sType=null;e.aiDisplayMaster.push(a);var _=e.rowIdFn(t);return _!==void 0&&(e.aIds[_]=s),(r||!e.oFeatures.bDeferRender)&&vb(e,a,r,n),a}function L0(e,t){var r;return t instanceof Ee||(t=Ee(t)),t.map(function(n,a){return r=gb(e,a),Bo(e,r.data,a,r.cells)})}function aI(e,t){return t._DT_RowIndex!==void 0?t._DT_RowIndex:null}function sI(e,t,r){return Ee.inArray(r,e.aoData[t].anCells)}function Fi(e,t,r,n){n==="search"?n="filter":n==="order"&&(n="sort");var a=e.iDraw,s=e.aoColumns[r],o=e.aoData[t]._aData,l=s.sDefaultContent,u=s.fnGetData(o,n,{settings:e,row:t,col:r});if(u===void 0)return e.iDrawError!=a&&l===null&&(ha(e,0,"Requested unknown parameter "+(typeof s.mData=="function"?"{function}":"'"+s.mData+"'")+" for row "+t+", column "+r,4),e.iDrawError=a),l;if((u===o||u===null)&&l!==null&&n!==void 0)u=l;else if(typeof u=="function")return u.call(o);if(u===null&&n==="display")return"";if(n==="filter"){var g=St.ext.type.search;g[s.sType]&&(u=g[s.sType](u))}return u}function QC(e,t,r,n){var a=e.aoColumns[r],s=e.aoData[t]._aData;a.fnSetData(s,n,{settings:e,row:t,col:r})}function lb(e){return Ee.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function ub(e){return Qi(e.aoData,"_aData")}function k0(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function b0(e,t,r){for(var n=-1,a=0,s=e.length;a<s;a++)e[a]==t?n=a:e[a]>t&&e[a]--;n!=-1&&r===void 0&&e.splice(n,1)}function xc(e,t,r,n){var a=e.aoData[t],s,o,l=function(p,_){for(;p.childNodes.length;)p.removeChild(p.firstChild);p.innerHTML=Fi(e,t,_,"display")};if(r==="dom"||(!r||r==="auto")&&a.src==="dom")a._aData=gb(e,a,n,n===void 0?void 0:a._aData).data;else{var u=a.anCells;if(u)if(n!==void 0)l(u[n],n);else for(s=0,o=u.length;s<o;s++)l(u[s],s)}a._aSortData=null,a._aFilterData=null;var g=e.aoColumns;if(n!==void 0)g[n].sType=null;else{for(s=0,o=g.length;s<o;s++)g[s].sType=null;_b(e,a)}}function gb(e,t,r,n){var a=[],s=t.firstChild,o,l,u,g=0,p,_=e.aoColumns,x=e._rowReadObject;n=n!==void 0?n:x?{}:[];var S=function(C,E){if(typeof C=="string"){var h=C.indexOf("@");if(h!==-1){var f=C.substring(h+1),D=Fo(C);D(n,E.getAttribute(f))}}},w=function(C){if(r===void 0||r===g)if(l=_[g],p=C.innerHTML.trim(),l&&l._bAttrSrc){var E=Fo(l.mData._);E(n,p),S(l.mData.sort,C),S(l.mData.type,C),S(l.mData.filter,C)}else x?(l._setter||(l._setter=Fo(l.mData)),l._setter(n,p)):n[g]=p;g++};if(s)for(;s;)o=s.nodeName.toUpperCase(),(o=="TD"||o=="TH")&&(w(s),a.push(s)),s=s.nextSibling;else{a=t.anCells;for(var c=0,v=a.length;c<v;c++)w(a[c])}var y=t.firstChild?t:t.nTr;if(y){var b=y.getAttribute("id");b&&Fo(e.rowId)(n,b)}return{data:n,cells:a}}function vb(e,t,r,n){var a=e.aoData[t],s=a._aData,o=[],l,u,g,p,_,x;if(a.nTr===null){for(l=r||document.createElement("tr"),a.nTr=l,a.anCells=o,l._DT_RowIndex=t,_b(e,a),p=0,_=e.aoColumns.length;p<_;p++)g=e.aoColumns[p],x=!r,u=x?document.createElement(g.sCellType):n[p],u||ha(e,0,"Incorrect column count",18),u._DT_CellIndex={row:t,column:p},o.push(u),(x||(g.mRender||g.mData!==p)&&(!Ee.isPlainObject(g.mData)||g.mData._!==p+".display"))&&(u.innerHTML=Fi(e,t,p,"display")),g.sClass&&(u.className+=" "+g.sClass),g.bVisible&&!r?l.appendChild(u):!g.bVisible&&r&&u.parentNode.removeChild(u),g.fnCreatedCell&&g.fnCreatedCell.call(e.oInstance,u,Fi(e,t,p),s,t,p);Nr(e,"aoRowCreatedCallback",null,[l,s,t,o])}}function _b(e,t){var r=t.nTr,n=t._aData;if(r){var a=e.rowIdFn(n);if(a&&(r.id=a),n.DT_RowClass){var s=n.DT_RowClass.split(" ");t.__rowc=t.__rowc?A0(t.__rowc.concat(s)):s,Ee(r).removeClass(t.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&Ee(r).attr(n.DT_RowAttr),n.DT_RowData&&Ee(r).data(n.DT_RowData)}}function qC(e){var t,r,n,a,s,o=e.nTHead,l=e.nTFoot,u=Ee("th, td",o).length===0,g=e.oClasses,p=e.aoColumns;for(u&&(a=Ee("<tr/>").appendTo(o)),t=0,r=p.length;t<r;t++)s=p[t],n=Ee(s.nTh).addClass(s.sClass),u&&n.appendTo(a),e.oFeatures.bSort&&(n.addClass(s.sSortingClass),s.bSortable!==!1&&(n.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Cb(e,s.nTh,t))),s.sTitle!=n[0].innerHTML&&n.html(s.sTitle),Mb(e,"header")(e,n,s,g);if(u&&mc(e.aoHeader,o),Ee(o).children("tr").children("th, td").addClass(g.sHeaderTH),Ee(l).children("tr").children("th, td").addClass(g.sFooterTH),l!==null){var _=e.aoFooter[0];for(t=0,r=_.length;t<r;t++)s=p[t],s?(s.nTf=_[t].cell,s.sClass&&Ee(s.nTf).addClass(s.sClass)):ha(e,0,"Incorrect column count",18)}}function pc(e,t,r){var n,a,s,o,l,u,g,p,_=[],x=[],S=e.aoColumns.length,w,c;if(t){for(r===void 0&&(r=!1),n=0,a=t.length;n<a;n++){for(_[n]=t[n].slice(),_[n].nTr=t[n].nTr,s=S-1;s>=0;s--)!e.aoColumns[s].bVisible&&!r&&_[n].splice(s,1);x.push([])}for(n=0,a=_.length;n<a;n++){if(p=_[n].nTr,p)for(;g=p.firstChild;)p.removeChild(g);for(s=0,o=_[n].length;s<o;s++)if(w=1,c=1,x[n][s]===void 0){for(p.appendChild(_[n][s].cell),x[n][s]=1;_[n+w]!==void 0&&_[n][s].cell==_[n+w][s].cell;)x[n+w][s]=1,w++;for(;_[n][s+c]!==void 0&&_[n][s].cell==_[n][s+c].cell;){for(l=0;l<w;l++)x[n+l][s+c]=1;c++}Ee(_[n][s].cell).attr("rowspan",w).attr("colspan",c)}}}}function Uo(e,t){oI(e);var r=Nr(e,"aoPreDrawCallback","preDraw",[e]);if(Ee.inArray(!1,r)!==-1){$i(e,!1);return}var n=[],a=0,s=e.asStripeClasses,o=s.length,l=e.oLanguage,u=ii(e)=="ssp",g=e.aiDisplay,p=e._iDisplayStart,_=e.fnDisplayEnd();if(e.bDrawing=!0,e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,$i(e,!1);else if(!u)e.iDraw++;else if(!e.bDestroying&&!t){eE(e);return}if(g.length!==0)for(var x=u?0:p,S=u?e.aoData.length:_,w=x;w<S;w++){var c=g[w],v=e.aoData[c];v.nTr===null&&vb(e,c);var y=v.nTr;if(o!==0){var b=s[a%o];v._sRowStripe!=b&&(Ee(y).removeClass(v._sRowStripe).addClass(b),v._sRowStripe=b)}Nr(e,"aoRowCallback",null,[y,v._aData,a,w,c]),n.push(y),a++}else{var C=l.sZeroRecords;e.iDraw==1&&ii(e)=="ajax"?C=l.sLoadingRecords:l.sEmptyTable&&e.fnRecordsTotal()===0&&(C=l.sEmptyTable),n[0]=Ee("<tr/>",{class:o?s[0]:""}).append(Ee("<td />",{valign:"top",colSpan:cf(e),class:e.oClasses.sRowEmpty}).html(C))[0]}Nr(e,"aoHeaderCallback","header",[Ee(e.nTHead).children("tr")[0],ub(e),p,_,g]),Nr(e,"aoFooterCallback","footer",[Ee(e.nTFoot).children("tr")[0],ub(e),p,_,g]);var E=Ee(e.nTBody);E.children().detach(),E.append(Ee(n)),Nr(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function Ol(e,t){var r=e.oFeatures,n=r.bSort,a=r.bFilter;n&&_E(e),a?Sc(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,Uo(e),e._drawHold=!1}function JC(e){var t=e.oClasses,r=Ee(e.nTable),n=Ee("<div/>").insertBefore(r),a=e.oFeatures,s=Ee("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=s[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o=e.sDom.split(""),l,u,g,p,_,x,S=0;S<o.length;S++){if(l=null,u=o[S],u=="<"){if(g=Ee("<div/>")[0],p=o[S+1],p=="'"||p=='"'){for(_="",x=2;o[S+x]!=p;)_+=o[S+x],x++;if(_=="H"?_=t.sJUIHeader:_=="F"&&(_=t.sJUIFooter),_.indexOf(".")!=-1){var w=_.split(".");g.id=w[0].substr(1,w[0].length-1),g.className=w[1]}else _.charAt(0)=="#"?g.id=_.substr(1,_.length-1):g.className=_;S+=x}s.append(g),s=Ee(g)}else if(u==">")s=s.parent();else if(u=="l"&&a.bPaginate&&a.bLengthChange)l=dE(e);else if(u=="f"&&a.bFilter)l=nE(e);else if(u=="r"&&a.bProcessing)l=hE(e);else if(u=="t")l=pE(e);else if(u=="i"&&a.bInfo)l=lE(e);else if(u=="p"&&a.bPaginate)l=cE(e);else if(St.ext.feature.length!==0){for(var c=St.ext.feature,v=0,y=c.length;v<y;v++)if(u==c[v].cFeature){l=c[v].fnInit(e);break}}if(l){var b=e.aanFeatures;b[u]||(b[u]=[]),b[u].push(l),s.append(l)}}n.replaceWith(s),e.nHolding=null}function mc(e,t){var r=Ee(t).children("tr"),n,a,s,o,l,u,g,p,_,x,S,w,c=function(v,y,b){for(var C=v[y];C[b];)b++;return b};for(e.splice(0,e.length),s=0,u=r.length;s<u;s++)e.push([]);for(s=0,u=r.length;s<u;s++)for(n=r[s],_=0,a=n.firstChild;a;){if(a.nodeName.toUpperCase()=="TD"||a.nodeName.toUpperCase()=="TH")for(x=a.getAttribute("colspan")*1,S=a.getAttribute("rowspan")*1,x=!x||x===0||x===1?1:x,S=!S||S===0||S===1?1:S,p=c(e,s,_),w=x===1,l=0;l<x;l++)for(o=0;o<S;o++)e[s+o][p+l]={cell:a,unique:w},e[s+o].nTr=n;a=a.nextSibling}}function O0(e,t,r){var n=[];r||(r=e.aoHeader,t&&(r=[],mc(r,t)));for(var a=0,s=r.length;a<s;a++)for(var o=0,l=r[a].length;o<l;o++)r[a][o].unique&&(!n[o]||!e.bSortCellsTop)&&(n[o]=r[a][o].cell);return n}function oI(e){var t=ii(e)=="ssp",r=e.iInitDisplayStart;r!==void 0&&r!==-1&&(e._iDisplayStart=t?r:r>=e.fnRecordsDisplay()?0:r,e.iInitDisplayStart=-1)}function N0(e,t,r){if(Nr(e,"aoServerParams","serverParams",[t]),t&&Array.isArray(t)){var n={},a=/(.*?)\[\]$/;Ee.each(t,function(_,x){var S=x.name.match(a);if(S){var w=S[0];n[w]||(n[w]=[]),n[w].push(x.value)}else n[x.name]=x.value}),t=n}var s,o=e.ajax,l=e.oInstance,u=function(_){var x=e.jqXHR?e.jqXHR.status:null;(_===null||typeof x=="number"&&x==204)&&(_={},wc(e,_,[]));var S=_.error||_.sError;S&&ha(e,0,S),e.json=_,Nr(e,null,"xhr",[e,_,e.jqXHR]),r(_)};if(Ee.isPlainObject(o)&&o.data){s=o.data;var g=typeof s=="function"?s(t,e):s;t=typeof s=="function"&&g?g:Ee.extend(!0,t,g),delete o.data}var p={data:t,success:u,dataType:"json",cache:!1,type:e.sServerMethod,error:function(_,x,S){var w=Nr(e,null,"xhr",[e,null,e.jqXHR]);Ee.inArray(!0,w)===-1&&(x=="parsererror"?ha(e,0,"Invalid JSON response",1):_.readyState===4&&ha(e,0,"Ajax error",7)),$i(e,!1)}};e.oAjaxData=t,Nr(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,Ee.map(t,function(_,x){return{name:x,value:_}}),u,e):e.sAjaxSource||typeof o=="string"?e.jqXHR=Ee.ajax(Ee.extend(p,{url:o||e.sAjaxSource})):typeof o=="function"?e.jqXHR=o.call(l,t,u,e):(e.jqXHR=Ee.ajax(Ee.extend(p,o)),o.data=s)}function eE(e){e.iDraw++,$i(e,!0);var t=e._drawHold;N0(e,tE(e),function(r){e._drawHold=t,rE(e,r),e._drawHold=!1})}function tE(e){var t=e.aoColumns,r=t.length,n=e.oFeatures,a=e.oPreviousSearch,s=e.aoPreSearchCols,o,l=[],u,g,p,_=hf(e),x=e._iDisplayStart,S=n.bPaginate!==!1?e._iDisplayLength:-1,w=function(y,b){l.push({name:y,value:b})};w("sEcho",e.iDraw),w("iColumns",r),w("sColumns",Qi(t,"sName").join(",")),w("iDisplayStart",x),w("iDisplayLength",S);var c={draw:e.iDraw,columns:[],order:[],start:x,length:S,search:{value:a.sSearch,regex:a.bRegex}};for(o=0;o<r;o++)g=t[o],p=s[o],u=typeof g.mData=="function"?"function":g.mData,c.columns.push({data:u,name:g.sName,searchable:g.bSearchable,orderable:g.bSortable,search:{value:p.sSearch,regex:p.bRegex}}),w("mDataProp_"+o,u),n.bFilter&&(w("sSearch_"+o,p.sSearch),w("bRegex_"+o,p.bRegex),w("bSearchable_"+o,g.bSearchable)),n.bSort&&w("bSortable_"+o,g.bSortable);n.bFilter&&(w("sSearch",a.sSearch),w("bRegex",a.bRegex)),n.bSort&&(Ee.each(_,function(y,b){c.order.push({column:b.col,dir:b.dir}),w("iSortCol_"+y,b.col),w("sSortDir_"+y,b.dir)}),w("iSortingCols",_.length));var v=St.ext.legacy.ajax;return v===null?e.sAjaxSource?l:c:v?l:c}function rE(e,t){var r=function(g,p){return t[g]!==void 0?t[g]:t[p]},n=wc(e,t),a=r("sEcho","draw"),s=r("iTotalRecords","recordsTotal"),o=r("iTotalDisplayRecords","recordsFiltered");if(a!==void 0){if(a*1<e.iDraw)return;e.iDraw=a*1}n||(n=[]),k0(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(o,10);for(var l=0,u=n.length;l<u;l++)Bo(e,n[l]);e.aiDisplay=e.aiDisplayMaster.slice(),Uo(e,!0),e._bInitComplete||C0(e,t),$i(e,!1)}function wc(e,t,r){var n=Ee.isPlainObject(e.ajax)&&e.ajax.dataSrc!==void 0?e.ajax.dataSrc:e.sAjaxDataProp;if(!r)return n==="data"?t.aaData||t[n]:n!==""?df(n)(t):t;Fo(n)(t,r)}function nE(e){var t=e.oClasses,r=e.sTableId,n=e.oLanguage,a=e.oPreviousSearch,s=e.aanFeatures,o='<input type="search" class="'+t.sFilterInput+'"/>',l=n.sSearch;l=l.match(/_INPUT_/)?l.replace("_INPUT_",o):l+o;var u=Ee("<div/>",{id:s.f?null:r+"_filter",class:t.sFilter}).append(Ee("<label/>").append(l)),g=function(x){var S=s.f,w=this.value?this.value:"";a.return&&x.key!=="Enter"||w!=a.sSearch&&(Sc(e,{sSearch:w,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive,return:a.return}),e._iDisplayStart=0,Uo(e))},p=e.searchDelay!==null?e.searchDelay:ii(e)==="ssp"?400:0,_=Ee("input",u).val(a.sSearch).attr("placeholder",n.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",p?Sb(g,p):g).on("mouseup.DT",function(x){setTimeout(function(){g.call(_[0],x)},10)}).on("keypress.DT",function(x){if(x.keyCode==13)return!1}).attr("aria-controls",r);return Ee(e.nTable).on("search.dt.DT",function(x,S){if(e===S)try{_[0]!==document.activeElement&&_.val(a.sSearch)}catch{}}),u[0]}function Sc(e,t,r){var n=e.oPreviousSearch,a=e.aoPreSearchCols,s=function(u){n.sSearch=u.sSearch,n.bRegex=u.bRegex,n.bSmart=u.bSmart,n.bCaseInsensitive=u.bCaseInsensitive,n.return=u.return},o=function(u){return u.bEscapeRegex!==void 0?!u.bEscapeRegex:u.bRegex};if(mb(e),ii(e)!="ssp"){sE(e,t.sSearch,r,o(t),t.bSmart,t.bCaseInsensitive),s(t);for(var l=0;l<a.length;l++)aE(e,a[l].sSearch,l,o(a[l]),a[l].bSmart,a[l].bCaseInsensitive);iE(e)}else s(t);e.bFiltered=!0,Nr(e,null,"search",[e])}function iE(e){for(var t=St.ext.search,r=e.aiDisplay,n,a,s=0,o=t.length;s<o;s++){for(var l=[],u=0,g=r.length;u<g;u++)a=r[u],n=e.aoData[a],t[s](e,n._aFilterData,a,n._aData,u)&&l.push(a);r.length=0,Ee.merge(r,l)}}function aE(e,t,r,n,a,s){if(t!==""){for(var o,l=[],u=e.aiDisplay,g=bb(t,n,a,s),p=0;p<u.length;p++)o=e.aoData[u[p]]._aFilterData[r],g.test(o)&&l.push(u[p]);e.aiDisplay=l}}function sE(e,t,r,n,a,s){var o=bb(t,n,a,s),l=e.oPreviousSearch.sSearch,u=e.aiDisplayMaster,g,p,_,x=[];if(St.ext.search.length!==0&&(r=!0),p=oE(e),t.length<=0)e.aiDisplay=u.slice();else{for((p||r||n||l.length>t.length||t.indexOf(l)!==0||e.bSorted)&&(e.aiDisplay=u.slice()),g=e.aiDisplay,_=0;_<g.length;_++)o.test(e.aoData[g[_]]._sFilterRow)&&x.push(g[_]);e.aiDisplay=x}}function bb(e,t,r,n){if(e=t?e:yb(e),r){var a=Ee.map(e.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(s){if(s.charAt(0)==='"'){var o=s.match(/^"(.*)"$/);s=o?o[1]:s}else if(s.charAt(0)==="\u201C"){var o=s.match(/^\u201C(.*)\u201D$/);s=o?o[1]:s}return s.replace('"',"")});e="^(?=.*?"+a.join(")(?=.*?")+").*$"}return new RegExp(e,n?"i":"")}function oE(e){var t=e.aoColumns,r,n,a,s,o,l,u,g,p=!1;for(n=0,s=e.aoData.length;n<s;n++)if(g=e.aoData[n],!g._aFilterData){for(l=[],a=0,o=t.length;a<o;a++)r=t[a],r.bSearchable?(u=Fi(e,n,a,"filter"),u===null&&(u=""),typeof u!="string"&&u.toString&&(u=u.toString())):u="",u.indexOf&&u.indexOf("&")!==-1&&(y0.innerHTML=u,u=lI?y0.textContent:y0.innerText),u.replace&&(u=u.replace(/[\r\n\u2028]/g,"")),l.push(u);g._aFilterData=l,g._sFilterRow=l.join("  "),p=!0}return p}function BC(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function UC(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function lE(e){var t=e.sTableId,r=e.aanFeatures.i,n=Ee("<div/>",{class:e.oClasses.sInfo,id:r?null:t+"_info"});return r||(e.aoDrawCallback.push({fn:uE,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),Ee(e.nTable).attr("aria-describedby",t+"_info")),n[0]}function uE(e){var t=e.aanFeatures.i;if(t.length!==0){var r=e.oLanguage,n=e._iDisplayStart+1,a=e.fnDisplayEnd(),s=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),l=o?r.sInfo:r.sInfoEmpty;o!==s&&(l+=" "+r.sInfoFiltered),l+=r.sInfoPostFix,l=fE(e,l);var u=r.fnInfoCallback;u!==null&&(l=u.call(e.oInstance,e,n,a,s,o,l)),Ee(t).html(l)}}function fE(e,t){var r=e.fnFormatNumber,n=e._iDisplayStart+1,a=e._iDisplayLength,s=e.fnRecordsDisplay(),o=a===-1;return t.replace(/_START_/g,r.call(e,n)).replace(/_END_/g,r.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,r.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,r.call(e,s)).replace(/_PAGE_/g,r.call(e,o?1:Math.ceil(n/a))).replace(/_PAGES_/g,r.call(e,o?1:Math.ceil(s/a)))}function hc(e){var t,r,n=e.iInitDisplayStart,a=e.aoColumns,s,o=e.oFeatures,l=e.bDeferLoading;if(!e.bInitialised){setTimeout(function(){hc(e)},200);return}for(JC(e),qC(e),pc(e,e.aoHeader),pc(e,e.aoFooter),$i(e,!0),o.bAutoWidth&&wb(e),t=0,r=a.length;t<r;t++)s=a[t],s.sWidth&&(s.nTh.style.width=cn(s.sWidth));Nr(e,null,"preInit",[e]),Ol(e);var u=ii(e);(u!="ssp"||l)&&(u=="ajax"?N0(e,[],function(g){var p=wc(e,g);for(t=0;t<p.length;t++)Bo(e,p[t]);e.iInitDisplayStart=n,Ol(e),$i(e,!1),C0(e,g)},e):($i(e,!1),C0(e)))}function C0(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&_c(e),Nr(e,null,"plugin-init",[e,t]),Nr(e,"aoInitComplete","init",[e,t])}function xb(e,t){var r=parseInt(t,10);e._iDisplayLength=r,Db(e),Nr(e,null,"length",[e,r])}function dE(e){for(var t=e.oClasses,r=e.sTableId,n=e.aLengthMenu,a=Array.isArray(n[0]),s=a?n[0]:n,o=a?n[1]:n,l=Ee("<select/>",{name:r+"_length","aria-controls":r,class:t.sLengthSelect}),u=0,g=s.length;u<g;u++)l[0][u]=new Option(typeof o[u]=="number"?e.fnFormatNumber(o[u]):o[u],s[u]);var p=Ee("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(p[0].id=r+"_length"),p.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),Ee("select",p).val(e._iDisplayLength).on("change.DT",function(_){xb(e,Ee(this).val()),Uo(e)}),Ee(e.nTable).on("length.dt.DT",function(_,x,S){e===x&&Ee("select",p).val(S)}),p[0]}function cE(e){var t=e.sPaginationType,r=St.ext.pager[t],n=typeof r=="function",a=function(l){Uo(l)},s=Ee("<div/>").addClass(e.oClasses.sPaging+t)[0],o=e.aanFeatures;return n||r.fnInit(e,s,a),o.p||(s.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(l){if(n){var u=l._iDisplayStart,g=l._iDisplayLength,p=l.fnRecordsDisplay(),_=g===-1,x=_?0:Math.ceil(u/g),S=_?1:Math.ceil(p/g),w=r(x,S),c,v;for(c=0,v=o.p.length;c<v;c++)Mb(l,"pageButton")(l,o.p[c],c,w,x,S)}else r.fnUpdate(l,a)},sName:"pagination"})),s}function P0(e,t,r){var n=e._iDisplayStart,a=e._iDisplayLength,s=e.fnRecordsDisplay();s===0||a===-1?n=0:typeof t=="number"?(n=t*a,n>s&&(n=0)):t=="first"?n=0:t=="previous"?(n=a>=0?n-a:0,n<0&&(n=0)):t=="next"?n+a<s&&(n+=a):t=="last"?n=Math.floor((s-1)/a)*a:ha(e,0,"Unknown paging action: "+t,5);var o=e._iDisplayStart!==n;return e._iDisplayStart=n,o?(Nr(e,null,"page",[e]),r&&Uo(e)):Nr(e,null,"page-nc",[e]),o}function hE(e){return Ee("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing,role:"status"}).html(e.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(e.nTable)[0]}function $i(e,t){e.oFeatures.bProcessing&&Ee(e.aanFeatures.r).css("display",t?"block":"none"),Nr(e,null,"processing",[e,t])}function pE(e){var t=Ee(e.nTable),r=e.oScroll;if(r.sX===""&&r.sY==="")return e.nTable;var n=r.sX,a=r.sY,s=e.oClasses,o=t.children("caption"),l=o.length?o[0]._captionSide:null,u=Ee(t[0].cloneNode(!1)),g=Ee(t[0].cloneNode(!1)),p=t.children("tfoot"),_="<div/>",x=function(b){return b?cn(b):null};p.length||(p=null);var S=Ee(_,{class:s.sScrollWrapper}).append(Ee(_,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?x(n):"100%"}).append(Ee(_,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:r.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append(l==="top"?o:null).append(t.children("thead"))))).append(Ee(_,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:x(n)}).append(t));p&&S.append(Ee(_,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:n?x(n):"100%"}).append(Ee(_,{class:s.sScrollFootInner}).append(g.removeAttr("id").css("margin-left",0).append(l==="bottom"?o:null).append(t.children("tfoot")))));var w=S.children(),c=w[0],v=w[1],y=p?w[2]:null;return n&&Ee(v).on("scroll.DT",function(b){var C=this.scrollLeft;c.scrollLeft=C,p&&(y.scrollLeft=C)}),Ee(v).css("max-height",a),r.bCollapse||Ee(v).css("height",a),e.nScrollHead=c,e.nScrollBody=v,e.nScrollFoot=y,e.aoDrawCallback.push({fn:I0,sName:"scrolling"}),S[0]}function I0(e){var t=e.oScroll,r=t.sX,n=t.sXInner,a=t.sY,s=t.iBarWidth,o=Ee(e.nScrollHead),l=o[0].style,u=o.children("div"),g=u[0].style,p=u.children("table"),_=e.nScrollBody,x=Ee(_),S=_.style,w=Ee(e.nScrollFoot),c=w.children("div"),v=c.children("table"),y=Ee(e.nTHead),b=Ee(e.nTable),C=b[0],E=C.style,h=e.nTFoot?Ee(e.nTFoot):null,f=e.oBrowser,D=f.bScrollOversize,M=Qi(e.aoColumns,"nTh"),N,k,z,O,I,H,Y=[],q=[],G=[],$=[],R,V,X,Q=function(Fe){var Ae=Fe.style;Ae.paddingTop="0",Ae.paddingBottom="0",Ae.borderTopWidth="0",Ae.borderBottomWidth="0",Ae.height=0},te=_.scrollHeight>_.clientHeight;if(e.scrollBarVis!==te&&e.scrollBarVis!==void 0){e.scrollBarVis=te,_c(e);return}else e.scrollBarVis=te;b.children("thead, tfoot").remove(),h&&(H=h.clone().prependTo(b),k=h.find("tr"),O=H.find("tr"),H.find("[id]").removeAttr("id")),I=y.clone().prependTo(b),N=y.find("tr"),z=I.find("tr"),I.find("th, td").removeAttr("tabindex"),I.find("[id]").removeAttr("id"),r||(S.width="100%",o[0].style.width="100%"),Ee.each(O0(e,I),function(Fe,Ae){R=bc(e,Fe),Ae.style.width=e.aoColumns[R].sWidth}),h&&fs(function(Fe){Fe.style.width=""},O),X=b.outerWidth(),r===""?(E.width="100%",D&&(b.find("tbody").height()>_.offsetHeight||x.css("overflow-y")=="scroll")&&(E.width=cn(b.outerWidth()-s)),X=b.outerWidth()):n!==""&&(E.width=cn(n),X=b.outerWidth()),fs(Q,z),fs(function(Fe){var Ae=window.getComputedStyle?window.getComputedStyle(Fe).width:cn(Ee(Fe).width());G.push(Fe.innerHTML),Y.push(Ae)},z),fs(function(Fe,Ae){Fe.style.width=Y[Ae]},N),Ee(z).css("height",0),h&&(fs(Q,O),fs(function(Fe){$.push(Fe.innerHTML),q.push(cn(Ee(Fe).css("width")))},O),fs(function(Fe,Ae){Fe.style.width=q[Ae]},k),Ee(O).height(0)),fs(function(Fe,Ae){Fe.innerHTML='<div class="dataTables_sizing">'+G[Ae]+"</div>",Fe.childNodes[0].style.height="0",Fe.childNodes[0].style.overflow="hidden",Fe.style.width=Y[Ae]},z),h&&fs(function(Fe,Ae){Fe.innerHTML='<div class="dataTables_sizing">'+$[Ae]+"</div>",Fe.childNodes[0].style.height="0",Fe.childNodes[0].style.overflow="hidden",Fe.style.width=q[Ae]},O),Math.round(b.outerWidth())<Math.round(X)?(V=_.scrollHeight>_.offsetHeight||x.css("overflow-y")=="scroll"?X+s:X,D&&(_.scrollHeight>_.offsetHeight||x.css("overflow-y")=="scroll")&&(E.width=cn(V-s)),(r===""||n!=="")&&ha(e,1,"Possible column misalignment",6)):V="100%",S.width=cn(V),l.width=cn(V),h&&(e.nScrollFoot.style.width=cn(V)),a||D&&(S.height=cn(C.offsetHeight+s));var we=b.outerWidth();p[0].style.width=cn(we),g.width=cn(we);var Pe=b.height()>_.clientHeight||x.css("overflow-y")=="scroll",xe="padding"+(f.bScrollbarLeft?"Left":"Right");g[xe]=Pe?s+"px":"0px",h&&(v[0].style.width=cn(we),c[0].style.width=cn(we),c[0].style[xe]=Pe?s+"px":"0px"),b.children("colgroup").insertBefore(b.children("thead")),x.trigger("scroll"),(e.bSorted||e.bFiltered)&&!e._drawHold&&(_.scrollTop=0)}function fs(e,t,r){for(var n=0,a=0,s=t.length,o,l;a<s;){for(o=t[a].firstChild,l=r?r[a].firstChild:null;o;)o.nodeType===1&&(r?e(o,l,n):e(o,n),n++),o=o.nextSibling,l=r?l.nextSibling:null;a++}}function wb(e){var t=e.nTable,r=e.aoColumns,n=e.oScroll,a=n.sY,s=n.sX,o=n.sXInner,l=r.length,u=T0(e,"bVisible"),g=Ee("th",e.nTHead),p=t.getAttribute("width"),_=t.parentNode,x=!1,S,w,c,v,y,b=e.oBrowser,C=b.bScrollOversize,E=t.style.width;for(E&&E.indexOf("%")!==-1&&(p=E),S=0;S<u.length;S++)w=r[u[S]],w.sWidth!==null&&(w.sWidth=mE(w.sWidthOrig,_),x=!0);if(C||!x&&!s&&!a&&l==cf(e)&&l==g.length)for(S=0;S<l;S++){var h=bc(e,S);h!==null&&(r[h].sWidth=cn(g.eq(S).width()))}else{var f=Ee(t).clone().css("visibility","hidden").removeAttr("id");f.find("tbody tr").remove();var D=Ee("<tr/>").appendTo(f.find("tbody"));for(f.find("thead, tfoot").remove(),f.append(Ee(e.nTHead).clone()).append(Ee(e.nTFoot).clone()),f.find("tfoot th, tfoot td").css("width",""),g=O0(e,f.find("thead")[0]),S=0;S<u.length;S++)w=r[u[S]],g[S].style.width=w.sWidthOrig!==null&&w.sWidthOrig!==""?cn(w.sWidthOrig):"",w.sWidthOrig&&s&&Ee(g[S]).append(Ee("<div/>").css({width:w.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(e.aoData.length)for(S=0;S<u.length;S++)c=u[S],w=r[c],Ee(gE(e,c)).clone(!1).append(w.sContentPadding).appendTo(D);Ee("[name]",f).removeAttr("name");var M=Ee("<div/>").css(s||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(f).appendTo(_);s&&o?f.width(o):s?(f.css("width","auto"),f.removeAttr("width"),f.width()<_.clientWidth&&p&&f.width(_.clientWidth)):a?f.width(_.clientWidth):p&&f.width(p);var N=0;for(S=0;S<u.length;S++){var k=Ee(g[S]),z=k.outerWidth()-k.width(),O=b.bBounding?Math.ceil(g[S].getBoundingClientRect().width):k.outerWidth();N+=O,r[u[S]].sWidth=cn(O-z)}t.style.width=cn(N),M.remove()}if(p&&(t.style.width=cn(p)),(p||s)&&!e._reszEvt){var I=function(){Ee(window).on("resize.DT-"+e.sInstance,Sb(function(){_c(e)}))};C?setTimeout(I,1e3):I(),e._reszEvt=!0}}function mE(e,t){if(!e)return 0;var r=Ee("<div/>").css("width",cn(e)).appendTo(t||document.body),n=r[0].offsetWidth;return r.remove(),n}function gE(e,t){var r=vE(e,t);if(r<0)return null;var n=e.aoData[r];return n.nTr?n.anCells[t]:Ee("<td/>").html(Fi(e,r,t,"display"))[0]}function vE(e,t){for(var r,n=-1,a=-1,s=0,o=e.aoData.length;s<o;s++)r=Fi(e,s,t,"display")+"",r=r.replace(uI,""),r=r.replace(/&nbsp;/g," "),r.length>n&&(n=r.length,a=s);return a}function cn(e){return e===null?"0px":typeof e=="number"?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function hf(e){var t,r,n,a,s=[],o=[],l=e.aoColumns,u,g,p,_,x=e.aaSortingFixed,S=Ee.isPlainObject(x),w=[],c=function(v){v.length&&!Array.isArray(v[0])?w.push(v):Ee.merge(w,v)};for(Array.isArray(x)&&c(x),S&&x.pre&&c(x.pre),c(e.aaSorting),S&&x.post&&c(x.post),t=0;t<w.length;t++)for(_=w[t][0],u=l[_].aDataSort,n=0,a=u.length;n<a;n++)g=u[n],p=l[g].sType||"string",w[t]._idx===void 0&&(w[t]._idx=Ee.inArray(w[t][1],l[g].asSorting)),s.push({src:_,col:g,dir:w[t][1],index:w[t]._idx,type:p,formatter:St.ext.type.order[p+"-pre"]});return s}function _E(e){var t,r,n,a,s,o,l,u,g,p=[],_=St.ext.type.order,x=e.aoData,S=e.aoColumns,w,c,v,y,b,C=0,E,h=e.aiDisplayMaster,f;for(mb(e),f=hf(e),t=0,r=f.length;t<r;t++)E=f[t],E.formatter&&C++,yE(e,E.col);if(ii(e)!="ssp"&&f.length!==0){for(t=0,n=h.length;t<n;t++)p[h[t]]=t;C===f.length?h.sort(function(D,M){var N,k,z,O,I,H=f.length,Y=x[D]._aSortData,q=x[M]._aSortData;for(z=0;z<H;z++)if(I=f[z],N=Y[I.col],k=q[I.col],O=N<k?-1:N>k?1:0,O!==0)return I.dir==="asc"?O:-O;return N=p[D],k=p[M],N<k?-1:N>k?1:0}):h.sort(function(D,M){var N,k,z,O,I,H,Y,q=f.length,G=x[D]._aSortData,$=x[M]._aSortData;for(z=0;z<q;z++)if(H=f[z],N=G[H.col],k=$[H.col],Y=_[H.type+"-"+H.dir]||_["string-"+H.dir],I=Y(N,k),I!==0)return I;return N=p[D],k=p[M],N<k?-1:N>k?1:0})}e.bSorted=!0}function bE(e){for(var t,r,n=e.aoColumns,a=hf(e),s=e.oLanguage.oAria,o=0,l=n.length;o<l;o++){var u=n[o],g=u.asSorting,p=u.ariaTitle||u.sTitle.replace(/<.*?>/g,""),_=u.nTh;_.removeAttribute("aria-sort"),u.bSortable?(a.length>0&&a[0].col==o?(_.setAttribute("aria-sort",a[0].dir=="asc"?"ascending":"descending"),r=g[a[0].index+1]||g[0]):r=g[0],t=p+(r==="asc"?s.sSortAscending:s.sSortDescending)):t=p,_.setAttribute("aria-label",t)}}function fb(e,t,r,n){var a=e.aoColumns[t],s=e.aaSorting,o=a.asSorting,l,u=function(p,_){var x=p._idx;return x===void 0&&(x=Ee.inArray(p[1],o)),x+1<o.length?x+1:_?null:0};if(typeof s[0]=="number"&&(s=e.aaSorting=[s]),r&&e.oFeatures.bSortMulti){var g=Ee.inArray(t,Qi(s,"0"));g!==-1?(l=u(s[g],!0),l===null&&s.length===1&&(l=0),l===null?s.splice(g,1):(s[g][1]=o[l],s[g]._idx=l)):(s.push([t,o[0],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==t?(l=u(s[0]),s.length=1,s[0][1]=o[l],s[0]._idx=l):(s.length=0,s.push([t,o[0]]),s[0]._idx=0);Ol(e),typeof n=="function"&&n(e)}function Cb(e,t,r,n){var a=e.aoColumns[r];Eb(t,{},function(s){a.bSortable!==!1&&(e.oFeatures.bProcessing?($i(e,!0),setTimeout(function(){fb(e,r,s.shiftKey,n),ii(e)!=="ssp"&&$i(e,!1)},0)):fb(e,r,s.shiftKey,n))})}function E0(e){var t=e.aLastSort,r=e.oClasses.sSortColumn,n=hf(e),a=e.oFeatures,s,o,l;if(a.bSort&&a.bSortClasses){for(s=0,o=t.length;s<o;s++)l=t[s].src,Ee(Qi(e.aoData,"anCells",l)).removeClass(r+(s<2?s+1:3));for(s=0,o=n.length;s<o;s++)l=n[s].src,Ee(Qi(e.aoData,"anCells",l)).addClass(r+(s<2?s+1:3))}e.aLastSort=n}function yE(e,t){var r=e.aoColumns[t],n=St.ext.order[r.sSortDataType],a;n&&(a=n.call(e.oInstance,e,t,yc(e,t)));for(var s,o,l=St.ext.type.order[r.sType+"-pre"],u=0,g=e.aoData.length;u<g;u++)s=e.aoData[u],s._aSortData||(s._aSortData=[]),(!s._aSortData[t]||n)&&(o=n?a[u]:Fi(e,u,t,"sort"),s._aSortData[t]=l?l(o):o)}function Cc(e){if(!e._bLoadingState){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:Ee.extend(!0,[],e.aaSorting),search:BC(e.oPreviousSearch),columns:Ee.map(e.aoColumns,function(r,n){return{visible:r.bVisible,search:BC(e.aoPreSearchCols[n])}})};e.oSavedState=t,Nr(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oFeatures.bStateSave&&!e.bDestroying&&e.fnStateSaveCallback.call(e.oInstance,e,t)}}function xE(e,t,r){if(!e.oFeatures.bStateSave){r();return}var n=function(s){db(e,s,r)},a=e.fnStateLoadCallback.call(e.oInstance,e,n);return a!==void 0&&db(e,a,r),!0}function db(e,t,r){var n,a,s=e.aoColumns;e._bLoadingState=!0;var o=e._bInitComplete?new St.Api(e):null;if(!t||!t.time){e._bLoadingState=!1,r();return}var l=Nr(e,"aoStateLoadParams","stateLoadParams",[e,t]);if(Ee.inArray(!1,l)!==-1){e._bLoadingState=!1,r();return}var u=e.iStateDuration;if(u>0&&t.time<+new Date-u*1e3){e._bLoadingState=!1,r();return}if(t.columns&&s.length!==t.columns.length){e._bLoadingState=!1,r();return}if(e.oLoadedState=Ee.extend(!0,{},t),t.length!==void 0&&(o?o.page.len(t.length):e._iDisplayLength=t.length),t.start!==void 0&&(o===null?(e._iDisplayStart=t.start,e.iInitDisplayStart=t.start):P0(e,t.start/e._iDisplayLength)),t.order!==void 0&&(e.aaSorting=[],Ee.each(t.order,function(p,_){e.aaSorting.push(_[0]>=s.length?[0,_[1]]:_)})),t.search!==void 0&&Ee.extend(e.oPreviousSearch,UC(t.search)),t.columns){for(n=0,a=t.columns.length;n<a;n++){var g=t.columns[n];g.visible!==void 0&&(o?o.column(n).visible(g.visible,!1):s[n].bVisible=g.visible),g.search!==void 0&&Ee.extend(e.aoPreSearchCols[n],UC(g.search))}o&&o.columns.adjust()}e._bLoadingState=!1,Nr(e,"aoStateLoaded","stateLoaded",[e,t]),r()}function D0(e){var t=St.settings,r=Ee.inArray(e,Qi(t,"nTable"));return r!==-1?t[r]:null}function ha(e,t,r,n){if(r="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+r,n&&(r+=". For more information about this error, please see http://datatables.net/tn/"+n),t)window.console&&console.log&&console.log(r);else{var a=St.ext,s=a.sErrMode||a.errMode;if(e&&Nr(e,null,"error",[e,n,r]),s=="alert")alert(r);else{if(s=="throw")throw new Error(r);typeof s=="function"&&s(e,n,r)}}}function Ha(e,t,r,n){if(Array.isArray(r)){Ee.each(r,function(a,s){Array.isArray(s)?Ha(e,t,s[0],s[1]):Ha(e,t,s)});return}n===void 0&&(n=r),t[r]!==void 0&&(e[n]=t[r])}function cb(e,t,r){var n;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],Ee.isPlainObject(n)?(Ee.isPlainObject(e[a])||(e[a]={}),Ee.extend(!0,e[a],n)):r&&a!=="data"&&a!=="aaData"&&Array.isArray(n)?e[a]=n.slice():e[a]=n);return e}function Eb(e,t,r){Ee(e).on("click.DT",t,function(n){Ee(e).trigger("blur"),r(n)}).on("keypress.DT",t,function(n){n.which===13&&(n.preventDefault(),r(n))}).on("selectstart.DT",function(){return!1})}function gi(e,t,r,n){r&&e[t].push({fn:r,sName:n})}function Nr(e,t,r,n){var a=[];if(t&&(a=Ee.map(e[t].slice().reverse(),function(l,u){return l.fn.apply(e.oInstance,n)})),r!==null){var s=Ee.Event(r+".dt"),o=Ee(e.nTable);o.trigger(s,n),o.parents("body").length===0&&Ee("body").trigger(s,n),a.push(s.result)}return a}function Db(e){var t=e._iDisplayStart,r=e.fnDisplayEnd(),n=e._iDisplayLength;t>=r&&(t=r-n),t-=t%n,(n===-1||t<0)&&(t=0),e._iDisplayStart=t}function Mb(e,t){var r=e.renderer,n=St.ext.renderer[t];return Ee.isPlainObject(r)&&r[t]?n[r[t]]||n._:typeof r=="string"&&n[r]||n._}function ii(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function cc(e,t){var r=[],n=AE.numbers_length,a=Math.floor(n/2),s=1;return t<=n?r=ff(0,t):e<=a?(r=ff(0,n-2),r.push("ellipsis"),r.push(t-1)):e>=t-1-a?(r=ff(t-(n-2),t),r.splice(0,0,"ellipsis"),r.splice(0,0,0)):(r=ff(e-a+2,e+a-1),r.push("ellipsis"),r.push(t-1),r.splice(0,0,"ellipsis"),r.splice(0,0,0)),r.DT_el="span",r}function hb(e){Ee.each({num:function(t){return _0(t,e)},"num-fmt":function(t){return _0(t,e,ab)},"html-num":function(t){return _0(t,e,w0)},"html-num-fmt":function(t){return _0(t,e,w0,ab)}},function(t,r){Cn.type.order[t+e+"-pre"]=r,t.match(/^html\-/)&&(Cn.type.search[t+e]=Cn.type.search.html)})}function jC(e,t,r,n,a){return window.moment?e[t](a):window.luxon?e[r](a):n?e[n](a):e}function M0(e,t,r){var n;if(window.moment){if(n=window.moment.utc(e,t,r,!0),!n.isValid())return null}else if(window.luxon){if(n=t&&typeof e=="string"?window.luxon.DateTime.fromFormat(e,t):window.luxon.DateTime.fromISO(e),!n.isValid)return null;n.setLocale(r)}else t?(RC||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),RC=!0):n=new Date(e);return n}function ib(e){return function(t,r,n,a){arguments.length===0?(n="en",r=null,t=null):arguments.length===1?(n="en",r=t,t=null):arguments.length===2&&(n=r,r=t,t=null);var s="datetime-"+r;return St.ext.type.order[s]||(St.ext.type.detect.unshift(function(o){return o===s?s:!1}),St.ext.type.order[s+"-asc"]=function(o,l){var u=o.valueOf(),g=l.valueOf();return u===g?0:u<g?-1:1},St.ext.type.order[s+"-desc"]=function(o,l){var u=o.valueOf(),g=l.valueOf();return u===g?0:u>g?-1:1}),function(o,l){if(o==null)if(a==="--now"){var u=new Date;o=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds()))}else o="";if(l==="type")return s;if(o==="")return l!=="sort"?"":M0("0000-01-01 00:00:00",null,n);if(r!==null&&t===r&&l!=="sort"&&l!=="type"&&!(o instanceof Date))return o;var g=M0(o,t,n);if(g===null)return o;if(l==="sort")return g;var p=r===null?jC(g,"toDate","toJSDate","")[e]():jC(g,"format","toFormat","toISOString",r);return l==="display"?x0(p):p}}}function kE(e){return function(){var t=[D0(this[St.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return St.ext.internal[e].apply(this,t)}}var WC,Ee,St,Cn,br,Qt,Jr,nb,PC,w0,eI,tI,ab,ds,GC,HC,sb,rI,IC,Qi,gc,ff,VC,nI,iI,A0,YC,KC,zi,dc,lf,df,Fo,yb,y0,lI,uI,Sb,wE,jn,fI,SE,CE,Ab,Tb,Lb,z0,dI,cI,EE,kb,DE,hI,pI,Ec,F0,mI,ME,gI,vI,_I,AE,_0,x0,RC,TE,LE,uf,kl,OE=ae(()=>{WC=Hr(of(),1);Ee=WC.default,St=function(e,t){if(St.factory(e,t))return St;if(this instanceof St)return Ee(e).DataTable(t);t=e,this.$=function(o,l){return this.api(!0).$(o,l)},this._=function(o,l){return this.api(!0).rows(o,l).data()},this.api=function(o){return o?new br(D0(this[Cn.iApiIndex])):new br(this)},this.fnAddData=function(o,l){var u=this.api(!0),g=Array.isArray(o)&&(Array.isArray(o[0])||Ee.isPlainObject(o[0]))?u.rows.add(o):u.row.add(o);return(l===void 0||l)&&u.draw(),g.flatten().toArray()},this.fnAdjustColumnSizing=function(o){var l=this.api(!0).columns.adjust(),u=l.settings()[0],g=u.oScroll;o===void 0||o?l.draw(!1):(g.sX!==""||g.sY!=="")&&I0(u)},this.fnClearTable=function(o){var l=this.api(!0).clear();(o===void 0||o)&&l.draw()},this.fnClose=function(o){this.api(!0).row(o).child.hide()},this.fnDeleteRow=function(o,l,u){var g=this.api(!0),p=g.rows(o),_=p.settings()[0],x=_.aoData[p[0][0]];return p.remove(),l&&l.call(this,_,x),(u===void 0||u)&&g.draw(),x},this.fnDestroy=function(o){this.api(!0).destroy(o)},this.fnDraw=function(o){this.api(!0).draw(o)},this.fnFilter=function(o,l,u,g,p,_){var x=this.api(!0);l==null?x.search(o,u,g,_):x.column(l).search(o,u,g,_),x.draw()},this.fnGetData=function(o,l){var u=this.api(!0);if(o!==void 0){var g=o.nodeName?o.nodeName.toLowerCase():"";return l!==void 0||g=="td"||g=="th"?u.cell(o,l).data():u.row(o).data()||null}return u.data().toArray()},this.fnGetNodes=function(o){var l=this.api(!0);return o!==void 0?l.row(o).node():l.rows().nodes().flatten().toArray()},this.fnGetPosition=function(o){var l=this.api(!0),u=o.nodeName.toUpperCase();if(u=="TR")return l.row(o).index();if(u=="TD"||u=="TH"){var g=l.cell(o).index();return[g.row,g.columnVisible,g.column]}return null},this.fnIsOpen=function(o){return this.api(!0).row(o).child.isShown()},this.fnOpen=function(o,l,u){return this.api(!0).row(o).child(l,u).show().child()[0]},this.fnPageChange=function(o,l){var u=this.api(!0).page(o);(l===void 0||l)&&u.draw(!1)},this.fnSetColumnVis=function(o,l,u){var g=this.api(!0).column(o).visible(l);(u===void 0||u)&&g.columns.adjust().draw()},this.fnSettings=function(){return D0(this[Cn.iApiIndex])},this.fnSort=function(o){this.api(!0).order(o).draw()},this.fnSortListener=function(o,l,u){this.api(!0).order.listener(o,l,u)},this.fnUpdate=function(o,l,u,g,p){var _=this.api(!0);return u==null?_.row(l).data(o):_.cell(l,u).data(o),(p===void 0||p)&&_.columns.adjust(),(g===void 0||g)&&_.draw(),0},this.fnVersionCheck=Cn.fnVersionCheck;var r=this,n=t===void 0,a=this.length;n&&(t={}),this.oApi=this.internal=Cn.internal;for(var s in St.ext.internal)s&&(this[s]=kE(s));return this.each(function(){var o={},l=a>1?cb(o,t,!0):t,u=0,g,p,_,x,S,w=this.getAttribute("id"),c=!1,v=St.defaults,y=Ee(this);if(this.nodeName.toLowerCase()!="table"){ha(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}zC(v),ZC(v.column),$s(v,v,!0),$s(v.column,v.column,!0),$s(v,Ee.extend(l,y.data()),!0);var b=St.settings;for(u=0,g=b.length;u<g;u++){var C=b[u];if(C.nTable==this||C.nTHead&&C.nTHead.parentNode==this||C.nTFoot&&C.nTFoot.parentNode==this){var E=l.bRetrieve!==void 0?l.bRetrieve:v.bRetrieve,h=l.bDestroy!==void 0?l.bDestroy:v.bDestroy;if(n||E)return C.oInstance;if(h){C.oInstance.fnDestroy();break}else{ha(C,0,"Cannot reinitialise DataTable",3);return}}if(C.sTableId==this.id){b.splice(u,1);break}}(w===null||w==="")&&(w="DataTables_Table_"+St.ext._unique++,this.id=w);var f=Ee.extend(!0,{},St.models.oSettings,{sDestroyWidth:y[0].style.width,sInstance:w,sTableId:w});f.nTable=this,f.oApi=r.internal,f.oInit=l,b.push(f),f.oInstance=r.length===1?r:y.dataTable(),zC(l),ob(l.oLanguage),l.aLengthMenu&&!l.iDisplayLength&&(l.iDisplayLength=Array.isArray(l.aLengthMenu[0])?l.aLengthMenu[0][0]:l.aLengthMenu[0]),l=cb(Ee.extend(!0,{},v),l),Ha(f.oFeatures,l,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Ha(f,l,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Ha(f.oScroll,l,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ha(f.oLanguage,l,"fnInfoCallback"),gi(f,"aoDrawCallback",l.fnDrawCallback,"user"),gi(f,"aoServerParams",l.fnServerParams,"user"),gi(f,"aoStateSaveParams",l.fnStateSaveParams,"user"),gi(f,"aoStateLoadParams",l.fnStateLoadParams,"user"),gi(f,"aoStateLoaded",l.fnStateLoaded,"user"),gi(f,"aoRowCallback",l.fnRowCallback,"user"),gi(f,"aoRowCreatedCallback",l.fnCreatedRow,"user"),gi(f,"aoHeaderCallback",l.fnHeaderCallback,"user"),gi(f,"aoFooterCallback",l.fnFooterCallback,"user"),gi(f,"aoInitComplete",l.fnInitComplete,"user"),gi(f,"aoPreDrawCallback",l.fnPreDrawCallback,"user"),f.rowIdFn=df(l.rowId),XC(f);var D=f.oClasses;if(Ee.extend(D,St.ext.classes,l.oClasses),y.addClass(D.sTable),f.iInitDisplayStart===void 0&&(f.iInitDisplayStart=l.iDisplayStart,f._iDisplayStart=l.iDisplayStart),l.iDeferLoading!==null){f.bDeferLoading=!0;var M=Array.isArray(l.iDeferLoading);f._iRecordsDisplay=M?l.iDeferLoading[0]:l.iDeferLoading,f._iRecordsTotal=M?l.iDeferLoading[1]:l.iDeferLoading}var N=f.oLanguage;Ee.extend(!0,N,l.oLanguage),N.sUrl?(Ee.ajax({dataType:"json",url:N.sUrl,success:function($){$s(v.oLanguage,$),ob($),Ee.extend(!0,N,$,f.oInit.oLanguage),Nr(f,null,"i18n",[f]),hc(f)},error:function(){hc(f)}}),c=!0):Nr(f,null,"i18n",[f]),l.asStripeClasses===null&&(f.asStripeClasses=[D.sStripeOdd,D.sStripeEven]);var k=f.asStripeClasses,z=y.children("tbody").find("tr").eq(0);Ee.inArray(!0,Ee.map(k,function($,R){return z.hasClass($)}))!==-1&&(Ee("tbody tr",this).removeClass(k.join(" ")),f.asDestroyStripes=k.slice());var O=[],I,H=this.getElementsByTagName("thead");if(H.length!==0&&(mc(f.aoHeader,H[0]),O=O0(f)),l.aoColumns===null)for(I=[],u=0,g=O.length;u<g;u++)I.push(null);else I=l.aoColumns;for(u=0,g=I.length;u<g;u++)pb(f,O?O[u]:null);if($C(f,l.aoColumnDefs,I,function($,R){S0(f,$,R)}),z.length){var Y=function($,R){return $.getAttribute("data-"+R)!==null?R:null};Ee(z[0]).children("th, td").each(function($,R){var V=f.aoColumns[$];if(V||ha(f,0,"Incorrect column count",18),V.mData===$){var X=Y(R,"sort")||Y(R,"order"),Q=Y(R,"filter")||Y(R,"search");(X!==null||Q!==null)&&(V.mData={_:$+".display",sort:X!==null?$+".@data-"+X:void 0,type:X!==null?$+".@data-"+X:void 0,filter:Q!==null?$+".@data-"+Q:void 0},V._isArrayHost=!0,S0(f,$))}})}var q=f.oFeatures,G=function(){if(l.aaSorting===void 0){var $=f.aaSorting;for(u=0,g=$.length;u<g;u++)$[u][1]=f.aoColumns[u].asSorting[0]}E0(f),q.bSort&&gi(f,"aoDrawCallback",function(){if(f.bSorted){var te=hf(f),we={};Ee.each(te,function(Pe,xe){we[xe.src]=xe.dir}),Nr(f,null,"order",[f,te,we]),bE(f)}}),gi(f,"aoDrawCallback",function(){(f.bSorted||ii(f)==="ssp"||q.bDeferRender)&&E0(f)},"sc");var R=y.children("caption").each(function(){this._captionSide=Ee(this).css("caption-side")}),V=y.children("thead");V.length===0&&(V=Ee("<thead/>").appendTo(y)),f.nTHead=V[0];var X=y.children("tbody");X.length===0&&(X=Ee("<tbody/>").insertAfter(V)),f.nTBody=X[0];var Q=y.children("tfoot");if(Q.length===0&&R.length>0&&(f.oScroll.sX!==""||f.oScroll.sY!=="")&&(Q=Ee("<tfoot/>").appendTo(y)),Q.length===0||Q.children().length===0?y.addClass(D.sNoFooter):Q.length>0&&(f.nTFoot=Q[0],mc(f.aoFooter,f.nTFoot)),l.aaData)for(u=0;u<l.aaData.length;u++)Bo(f,l.aaData[u]);else(f.bDeferLoading||ii(f)=="dom")&&L0(f,Ee(f.nTBody).children("tr"));f.aiDisplay=f.aiDisplayMaster.slice(),f.bInitialised=!0,c===!1&&hc(f)};gi(f,"aoDrawCallback",Cc,"state_save"),l.bStateSave?(q.bStateSave=!0,xE(f,l,G)):G()}),r=null,this},nb={},PC=/[\r\n\u2028]/g,w0=/<.*?>/g,eI=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,tI=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ab=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,ds=function(e){return!e||e===!0||e==="-"},GC=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},HC=function(e,t){return nb[t]||(nb[t]=new RegExp(yb(t),"g")),typeof e=="string"&&t!=="."?e.replace(/\./g,"").replace(nb[t],"."):e},sb=function(e,t,r){var n=typeof e,a=n==="string";return n==="number"||n==="bigint"||ds(e)?!0:(t&&a&&(e=HC(e,t)),r&&a&&(e=e.replace(ab,"")),!isNaN(parseFloat(e))&&isFinite(e))},rI=function(e){return ds(e)||typeof e=="string"},IC=function(e,t,r){if(ds(e))return!0;var n=rI(e);return n&&sb(nI(e),t,r)?!0:null},Qi=function(e,t,r){var n=[],a=0,s=e.length;if(r!==void 0)for(;a<s;a++)e[a]&&e[a][t]&&n.push(e[a][t][r]);else for(;a<s;a++)e[a]&&n.push(e[a][t]);return n},gc=function(e,t,r,n){var a=[],s=0,o=t.length;if(n!==void 0)for(;s<o;s++)e[t[s]][r]&&a.push(e[t[s]][r][n]);else for(;s<o;s++)a.push(e[t[s]][r]);return a},ff=function(e,t){var r=[],n;t===void 0?(t=0,n=e):(n=t,t=e);for(var a=t;a<n;a++)r.push(a);return r},VC=function(e){for(var t=[],r=0,n=e.length;r<n;r++)e[r]&&t.push(e[r]);return t},nI=function(e){return e.replace(w0,"").replace(/<script/i,"")},iI=function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),r=t[0],n=1,a=t.length;n<a;n++){if(t[n]===r)return!1;r=t[n]}return!0},A0=function(e){if(iI(e))return e.slice();var t=[],r,n,a=e.length,s,o=0;e:for(n=0;n<a;n++){for(r=e[n],s=0;s<o;s++)if(t[s]===r)continue e;t.push(r),o++}return t},YC=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)YC(e,t[r]);else e.push(t);return e},KC=function(e,t){return t===void 0&&(t=0),this.indexOf(e,t)!==-1};Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});Array.prototype.includes||(Array.prototype.includes=KC);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=KC);St.util={throttle:function(e,t){var r=t!==void 0?t:200,n,a;return function(){var s=this,o=+new Date,l=arguments;n&&o<n+r?(clearTimeout(a),a=setTimeout(function(){n=void 0,e.apply(s,l)},r)):(n=o,e.apply(s,l))}},escapeRegex:function(e){return e.replace(tI,"\\$1")},set:function(e){if(Ee.isPlainObject(e))return St.util.set(e._);if(e===null)return function(){};if(typeof e=="function")return function(r,n,a){e(r,"set",n,a)};if(typeof e=="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var t=function(r,n,a){for(var s=lb(a),o,l=s[s.length-1],u,g,p,_,x=0,S=s.length-1;x<S;x++){if(s[x]==="__proto__"||s[x]==="constructor")throw new Error("Cannot set prototype values");if(u=s[x].match(dc),g=s[x].match(lf),u){if(s[x]=s[x].replace(dc,""),r[s[x]]=[],o=s.slice(),o.splice(0,x+1),_=o.join("."),Array.isArray(n))for(var w=0,c=n.length;w<c;w++)p={},t(p,n[w],_),r[s[x]].push(p);else r[s[x]]=n;return}else g&&(s[x]=s[x].replace(lf,""),r=r[s[x]](n));(r[s[x]]===null||r[s[x]]===void 0)&&(r[s[x]]={}),r=r[s[x]]}l.match(lf)?r=r[l.replace(lf,"")](n):r[l.replace(dc,"")]=n};return function(r,n){return t(r,n,e)}}else return function(r,n){r[e]=n}},get:function(e){if(Ee.isPlainObject(e)){var t={};return Ee.each(e,function(n,a){a&&(t[n]=St.util.get(a))}),function(n,a,s,o){var l=t[a]||t._;return l!==void 0?l(n,a,s,o):n}}else{if(e===null)return function(n){return n};if(typeof e=="function")return function(n,a,s,o){return e(n,a,s,o)};if(typeof e=="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var r=function(n,a,s){var o,l,u,g;if(s!=="")for(var p=lb(s),_=0,x=p.length;_<x;_++){if(o=p[_].match(dc),l=p[_].match(lf),o){if(p[_]=p[_].replace(dc,""),p[_]!==""&&(n=n[p[_]]),u=[],p.splice(0,_+1),g=p.join("."),Array.isArray(n))for(var S=0,w=n.length;S<w;S++)u.push(r(n[S],a,g));var c=o[0].substring(1,o[0].length-1);n=c===""?u:u.join(c);break}else if(l){p[_]=p[_].replace(lf,""),n=n[p[_]]();continue}if(n===null||n[p[_]]===null)return null;if(n===void 0||n[p[_]]===void 0)return;n=n[p[_]]}return n};return function(n,a){return r(n,a,e)}}else return function(n,a){return n[e]}}}};zi=function(e,t,r){e[t]!==void 0&&(e[r]=e[t])};dc=/\[.*?\]$/,lf=/\(\)$/;df=St.util.get,Fo=St.util.set;yb=St.util.escapeRegex,y0=Ee("<div>")[0],lI=y0.textContent!==void 0;uI=/<.*?>/g;Sb=St.util.throttle;wE=[],jn=Array.prototype,fI=function(e){var t,r,n=St.settings,a=Ee.map(n,function(s,o){return s.nTable});if(e){if(e.nTable&&e.oApi)return[e];if(e.nodeName&&e.nodeName.toLowerCase()==="table")return t=Ee.inArray(e,a),t!==-1?[n[t]]:null;if(e&&typeof e.settings=="function")return e.settings().toArray();typeof e=="string"?r=Ee(e):e instanceof Ee&&(r=e)}else return[];if(r)return r.map(function(s){return t=Ee.inArray(this,a),t!==-1?n[t]:null}).toArray()};br=function(e,t){if(!(this instanceof br))return new br(e,t);var r=[],n=function(o){var l=fI(o);l&&r.push.apply(r,l)};if(Array.isArray(e))for(var a=0,s=e.length;a<s;a++)n(e[a]);else n(e);this.context=A0(r),t&&Ee.merge(this,t),this.selector={rows:null,cols:null,opts:null},br.extend(this,this,wE)};St.Api=br;Ee.extend(br.prototype,{any:function(){return this.count()!==0},concat:jn.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,r=this.length;t<r;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new br(t[e],this[e]):null},filter:function(e){var t=[];if(jn.filter)t=jn.filter.call(this,e,this);else for(var r=0,n=this.length;r<n;r++)e.call(this,this[r],r,this)&&t.push(this[r]);return new br(this.context,t)},flatten:function(){var e=[];return new br(this.context,e.concat.apply(e,this.toArray()))},join:jn.join,indexOf:jn.indexOf||function(e,t){for(var r=t||0,n=this.length;r<n;r++)if(this[r]===e)return r;return-1},iterator:function(e,t,r,n){var a=[],s,o,l,u,g,p=this.context,_,x,S,w=this.selector;for(typeof e=="string"&&(n=r,r=t,t=e,e=!1),o=0,l=p.length;o<l;o++){var c=new br(p[o]);if(t==="table")s=r.call(c,p[o],o),s!==void 0&&a.push(s);else if(t==="columns"||t==="rows")s=r.call(c,p[o],this[o],o),s!==void 0&&a.push(s);else if(t==="column"||t==="column-rows"||t==="row"||t==="cell")for(x=this[o],t==="column-rows"&&(_=z0(p[o],w.opts)),u=0,g=x.length;u<g;u++)S=x[u],t==="cell"?s=r.call(c,p[o],S.row,S.column,o,u):s=r.call(c,p[o],S,o,u,_),s!==void 0&&a.push(s)}if(a.length||n){var v=new br(p,e?a.concat.apply([],a):a),y=v.selector;return y.rows=w.rows,y.cols=w.cols,y.opts=w.opts,v}return this},lastIndexOf:jn.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(jn.map)t=jn.map.call(this,e,this);else for(var r=0,n=this.length;r<n;r++)t.push(e.call(this,this[r],r));return new br(this.context,t)},pluck:function(e){var t=St.util.get(e);return this.map(function(r){return t(r)})},pop:jn.pop,push:jn.push,reduce:jn.reduce||function(e,t){return FC(this,e,t,0,this.length,1)},reduceRight:jn.reduceRight||function(e,t){return FC(this,e,t,this.length-1,-1,-1)},reverse:jn.reverse,selector:null,shift:jn.shift,slice:function(){return new br(this.context,this)},sort:jn.sort,splice:jn.splice,toArray:function(){return jn.slice.call(this)},to$:function(){return Ee(this)},toJQuery:function(){return Ee(this)},unique:function(){return new br(this.context,A0(this))},unshift:jn.unshift});br.extend=function(e,t,r){if(!(!r.length||!t||!(t instanceof br)&&!t.__dt_wrapper)){var n,a,s,o=function(l,u,g){return function(){var p=u.apply(l,arguments);return br.extend(p,p,g.methodExt),p}};for(n=0,a=r.length;n<a;n++)s=r[n],t[s.name]=s.type==="function"?o(e,s.val,s):s.type==="object"?{}:s.val,t[s.name].__dt_wrapper=!0,br.extend(e,t[s.name],s.propExt)}};br.register=Qt=function(e,t){if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)br.register(e[r],t);return}var a,s,o=e.split("."),l=wE,u,g,p=function(x,S){for(var w=0,c=x.length;w<c;w++)if(x[w].name===S)return x[w];return null};for(a=0,s=o.length;a<s;a++){g=o[a].indexOf("()")!==-1,u=g?o[a].replace("()",""):o[a];var _=p(l,u);_||(_={name:u,val:{},methodExt:[],propExt:[],type:"object"},l.push(_)),a===s-1?(_.val=t,_.type=typeof t=="function"?"function":Ee.isPlainObject(t)?"object":"other"):l=g?_.methodExt:_.propExt}};br.registerPlural=Jr=function(e,t,r){br.register(e,r),br.register(t,function(){var n=r.apply(this,arguments);return n===this?this:n instanceof br?n.length?Array.isArray(n[0])?new br(n.context,n[0]):n[0]:void 0:n})};SE=function(e,t){if(Array.isArray(e))return Ee.map(e,function(n){return SE(n,t)});if(typeof e=="number")return[t[e]];var r=Ee.map(t,function(n,a){return n.nTable});return Ee(r).filter(e).map(function(n){var a=Ee.inArray(this,r);return t[a]}).toArray()};Qt("tables()",function(e){return e!=null?new br(SE(e,this.context)):this});Qt("table()",function(e){var t=this.tables(e),r=t.context;return r.length?new br(r[0]):t});Jr("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)});Jr("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)});Jr("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)});Jr("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)});Jr("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)});Qt("draw()",function(e){return this.iterator("table",function(t){e==="page"?Uo(t):(typeof e=="string"&&(e=e!=="full-hold"),Ol(t,e===!1))})});Qt("page()",function(e){return e===void 0?this.page.info().page:this.iterator("table",function(t){P0(t,e)})});Qt("page.info()",function(e){if(this.context.length!==0){var t=this.context[0],r=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,a=t.fnRecordsDisplay(),s=n===-1;return{page:s?0:Math.floor(r/n),pages:s?1:Math.ceil(a/n),start:r,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:a,serverSide:ii(t)==="ssp"}}});Qt("page.len()",function(e){return e===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(t){xb(t,e)})});CE=function(e,t,r){if(r){var n=new br(e);n.one("draw",function(){r(n.ajax.json())})}if(ii(e)=="ssp")Ol(e,t);else{$i(e,!0);var a=e.jqXHR;a&&a.readyState!==4&&a.abort(),N0(e,[],function(s){k0(e);for(var o=wc(e,s),l=0,u=o.length;l<u;l++)Bo(e,o[l]);Ol(e,t),$i(e,!1)})}};Qt("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json});Qt("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData});Qt("ajax.reload()",function(e,t){return this.iterator("table",function(r){CE(r,t===!1,e)})});Qt("ajax.url()",function(e){var t=this.context;return e===void 0?t.length===0?void 0:(t=t[0],t.ajax?Ee.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(r){Ee.isPlainObject(r.ajax)?r.ajax.url=e:r.ajax=e})});Qt("ajax.url().load()",function(e,t){return this.iterator("table",function(r){CE(r,t===!1,e)})});Ab=function(e,t,r,n,a){var s=[],o,l,u,g,p,_,x=typeof t;for((!t||x==="string"||x==="function"||t.length===void 0)&&(t=[t]),u=0,g=t.length;u<g;u++)for(l=t[u]&&t[u].split&&!t[u].match(/[\[\(:]/)?t[u].split(","):[t[u]],p=0,_=l.length;p<_;p++)o=r(typeof l[p]=="string"?l[p].trim():l[p]),o&&o.length&&(s=s.concat(o));var S=Cn.selector[e];if(S.length)for(u=0,g=S.length;u<g;u++)s=S[u](n,a,s);return A0(s)},Tb=function(e){return e||(e={}),e.filter&&e.search===void 0&&(e.search=e.filter),Ee.extend({search:"none",order:"current",page:"all"},e)},Lb=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},z0=function(e,t){var r,n,a,s=[],o=e.aiDisplay,l=e.aiDisplayMaster,u=t.search,g=t.order,p=t.page;if(ii(e)=="ssp")return u==="removed"?[]:ff(0,l.length);if(p=="current")for(r=e._iDisplayStart,n=e.fnDisplayEnd();r<n;r++)s.push(o[r]);else if(g=="current"||g=="applied"){if(u=="none")s=l.slice();else if(u=="applied")s=o.slice();else if(u=="removed"){for(var _={},r=0,n=o.length;r<n;r++)_[o[r]]=null;s=Ee.map(l,function(x){return _.hasOwnProperty(x)?null:x})}}else if(g=="index"||g=="original")for(r=0,n=e.aoData.length;r<n;r++)u=="none"?s.push(r):(a=Ee.inArray(r,o),(a===-1&&u=="removed"||a>=0&&u=="applied")&&s.push(r));return s},dI=function(e,t,r){var n,a=function(s){var o=GC(s),l,u,g=e.aoData;if(o!==null&&!r)return[o];if(n||(n=z0(e,r)),o!==null&&Ee.inArray(o,n)!==-1)return[o];if(s==null||s==="")return n;if(typeof s=="function")return Ee.map(n,function(c){var v=g[c];return s(c,v._aData,v.nTr)?c:null});if(s.nodeName){var p=s._DT_RowIndex,_=s._DT_CellIndex;if(p!==void 0)return g[p]&&g[p].nTr===s?[p]:[];if(_)return g[_.row]&&g[_.row].nTr===s.parentNode?[_.row]:[];var x=Ee(s).closest("*[data-dt-row]");return x.length?[x.data("dt-row")]:[]}if(typeof s=="string"&&s.charAt(0)==="#"){var S=e.aIds[s.replace(/^#/,"")];if(S!==void 0)return[S.idx]}var w=VC(gc(e.aoData,n,"nTr"));return Ee(w).filter(s).map(function(){return this._DT_RowIndex}).toArray()};return Ab("row",t,a,e,r)};Qt("rows()",function(e,t){e===void 0?e="":Ee.isPlainObject(e)&&(t=e,e=""),t=Tb(t);var r=this.iterator("table",function(n){return dI(n,e,t)},1);return r.selector.rows=e,r.selector.opts=t,r});Qt("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||void 0},1)});Qt("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return gc(e.aoData,t,"_aData")},1)});Jr("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,r){var n=t.aoData[r];return e==="search"?n._aFilterData:n._aSortData},1)});Jr("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,r){xc(t,r,e)})});Jr("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)});Jr("rows().ids()","row().id()",function(e){for(var t=[],r=this.context,n=0,a=r.length;n<a;n++)for(var s=0,o=this[n].length;s<o;s++){var l=r[n].rowIdFn(r[n].aoData[this[n][s]]._aData);t.push((e===!0?"#":"")+l)}return new br(r,t)});Jr("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,r,n){var a=t.aoData,s=a[r],o,l,u,g,p,_;for(a.splice(r,1),o=0,l=a.length;o<l;o++)if(p=a[o],_=p.anCells,p.nTr!==null&&(p.nTr._DT_RowIndex=o),_!==null)for(u=0,g=_.length;u<g;u++)_[u]._DT_CellIndex.row=o;b0(t.aiDisplayMaster,r),b0(t.aiDisplay,r),b0(e[n],r,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,Db(t);var x=t.rowIdFn(s._aData);x!==void 0&&delete t.aIds[x]}),this.iterator("table",function(t){for(var r=0,n=t.aoData.length;r<n;r++)t.aoData[r].idx=r}),this});Qt("rows.add()",function(e){var t=this.iterator("table",function(n){var a,s,o,l=[];for(s=0,o=e.length;s<o;s++)a=e[s],a.nodeName&&a.nodeName.toUpperCase()==="TR"?l.push(L0(n,a)[0]):l.push(Bo(n,a));return l},1),r=this.rows(-1);return r.pop(),Ee.merge(r,t),r});Qt("row()",function(e,t){return Lb(this.rows(e,t))});Qt("row().data()",function(e){var t=this.context;if(e===void 0)return t.length&&this.length?t[0].aoData[this[0]]._aData:void 0;var r=t[0].aoData[this[0]];return r._aData=e,Array.isArray(e)&&r.nTr&&r.nTr.id&&Fo(t[0].rowId)(e,r.nTr.id),xc(t[0],this[0],"data"),this});Qt("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null});Qt("row.add()",function(e){e instanceof Ee&&e.length&&(e=e[0]);var t=this.iterator("table",function(r){return e.nodeName&&e.nodeName.toUpperCase()==="TR"?L0(r,e)[0]:Bo(r,e)});return this.row(t[0])});Ee(document).on("plugin-init.dt",function(e,t){var r=new br(t),n="on-plugin-init",a="stateSaveParams."+n,s="destroy. "+n;r.on(a,function(l,u,g){for(var p=u.rowIdFn,_=u.aoData,x=[],S=0;S<_.length;S++)_[S]._detailsShow&&x.push("#"+p(_[S]._aData));g.childRows=x}),r.on(s,function(){r.off(a+" "+s)});var o=r.state.loaded();o&&o.childRows&&r.rows(Ee.map(o.childRows,function(l){return l.replace(/:/g,"\\:")})).every(function(){Nr(t,null,"requestChild",[this])})});cI=function(e,t,r,n){var a=[],s=function(o,l){if(Array.isArray(o)||o instanceof Ee){for(var u=0,g=o.length;u<g;u++)s(o[u],l);return}if(o.nodeName&&o.nodeName.toLowerCase()==="tr")a.push(o);else{var p=Ee("<tr><td></td></tr>").addClass(l);Ee("td",p).addClass(l).html(o)[0].colSpan=cf(e),a.push(p[0])}};s(r,n),t._details&&t._details.detach(),t._details=Ee(a),t._detailsShow&&t._details.insertAfter(t.nTr)},EE=St.util.throttle(function(e){Cc(e[0])},500),kb=function(e,t){var r=e.context;if(r.length){var n=r[0].aoData[t!==void 0?t:e[0]];n&&n._details&&(n._details.remove(),n._detailsShow=void 0,n._details=void 0,Ee(n.nTr).removeClass("dt-hasChild"),EE(r))}},DE=function(e,t){var r=e.context;if(r.length&&e.length){var n=r[0].aoData[e[0]];n._details&&(n._detailsShow=t,t?(n._details.insertAfter(n.nTr),Ee(n.nTr).addClass("dt-hasChild")):(n._details.detach(),Ee(n.nTr).removeClass("dt-hasChild")),Nr(r[0],null,"childRow",[t,e.row(e[0])]),hI(r[0]),EE(r))}},hI=function(e){var t=new br(e),r=".dt.DT_details",n="draw"+r,a="column-sizing"+r,s="destroy"+r,o=e.aoData;t.off(n+" "+a+" "+s),Qi(o,"_details").length>0&&(t.on(n,function(l,u){e===u&&t.rows({page:"current"}).eq(0).each(function(g){var p=o[g];p._detailsShow&&p._details.insertAfter(p.nTr)})}),t.on(a,function(l,u,g,p){if(e===u)for(var _,x=cf(u),S=0,w=o.length;S<w;S++)_=o[S],_._details&&_._details.children("td[colspan]").attr("colspan",x)}),t.on(s,function(l,u){if(e===u)for(var g=0,p=o.length;g<p;g++)o[g]._details&&kb(t,g)}))},pI="",Ec=pI+"row().child",F0=Ec+"()";Qt(F0,function(e,t){var r=this.context;return e===void 0?r.length&&this.length?r[0].aoData[this[0]]._details:void 0:(e===!0?this.child.show():e===!1?kb(this):r.length&&this.length&&cI(r[0],r[0].aoData[this[0]],e,t),this)});Qt([Ec+".show()",F0+".show()"],function(e){return DE(this,!0),this});Qt([Ec+".hide()",F0+".hide()"],function(){return DE(this,!1),this});Qt([Ec+".remove()",F0+".remove()"],function(){return kb(this),this});Qt(Ec+".isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});mI=/^([^:]+):(name|visIdx|visible)$/,ME=function(e,t,r,n,a){for(var s=[],o=0,l=a.length;o<l;o++)s.push(Fi(e,a[o],t));return s},gI=function(e,t,r){var n=e.aoColumns,a=Qi(n,"sName"),s=Qi(n,"nTh"),o=function(l){var u=GC(l);if(l==="")return ff(n.length);if(u!==null)return[u>=0?u:n.length+u];if(typeof l=="function"){var g=z0(e,r);return Ee.map(n,function(c,v){return l(v,ME(e,v,0,0,g),s[v])?v:null})}var p=typeof l=="string"?l.match(mI):"";if(p)switch(p[2]){case"visIdx":case"visible":var _=parseInt(p[1],10);if(_<0){var x=Ee.map(n,function(c,v){return c.bVisible?v:null});return[x[x.length+_]]}return[bc(e,_)];case"name":return Ee.map(a,function(c,v){return c===p[1]?v:null});default:return[]}if(l.nodeName&&l._DT_CellIndex)return[l._DT_CellIndex.column];var S=Ee(s).filter(l).map(function(){return Ee.inArray(this,s)}).toArray();if(S.length||!l.nodeName)return S;var w=Ee(l).closest("*[data-dt-column]");return w.length?[w.data("dt-column")]:[]};return Ab("column",t,o,e,r)},vI=function(e,t,r){var n=e.aoColumns,a=n[t],s=e.aoData,o,l,u,g,p;if(r===void 0)return a.bVisible;if(a.bVisible!==r){if(r){var _=Ee.inArray(!0,Qi(n,"bVisible"),t+1);for(u=0,g=s.length;u<g;u++)p=s[u].nTr,l=s[u].anCells,p&&p.insertBefore(l[t],l[_]||null)}else Ee(Qi(e.aoData,"anCells",t)).detach();a.bVisible=r}};Qt("columns()",function(e,t){e===void 0?e="":Ee.isPlainObject(e)&&(t=e,e=""),t=Tb(t);var r=this.iterator("table",function(n){return gI(n,e,t)},1);return r.selector.cols=e,r.selector.opts=t,r});Jr("columns().header()","column().header()",function(e,t){return this.iterator("column",function(r,n){return r.aoColumns[n].nTh},1)});Jr("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(r,n){return r.aoColumns[n].nTf},1)});Jr("columns().data()","column().data()",function(){return this.iterator("column-rows",ME,1)});Jr("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)});Jr("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,r,n,a,s){return gc(t.aoData,s,e==="search"?"_aFilterData":"_aSortData",r)},1)});Jr("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,r,n,a){return gc(e.aoData,a,"anCells",t)},1)});Jr("columns().visible()","column().visible()",function(e,t){var r=this,n=this.iterator("column",function(a,s){if(e===void 0)return a.aoColumns[s].bVisible;vI(a,s,e)});return e!==void 0&&this.iterator("table",function(a){pc(a,a.aoHeader),pc(a,a.aoFooter),a.aiDisplay.length||Ee(a.nTBody).find("td[colspan]").attr("colspan",cf(a)),Cc(a),r.iterator("column",function(s,o){Nr(s,null,"column-visibility",[s,o,e,t])}),(t===void 0||t)&&r.columns.adjust()}),n});Jr("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,r){return e==="visible"?yc(t,r):r},1)});Qt("columns.adjust()",function(){return this.iterator("table",function(e){_c(e)},1)});Qt("column.index()",function(e,t){if(this.context.length!==0){var r=this.context[0];if(e==="fromVisible"||e==="toData")return bc(r,t);if(e==="fromData"||e==="toVisible")return yc(r,t)}});Qt("column()",function(e,t){return Lb(this.columns(e,t))});_I=function(e,t,r){var n=e.aoData,a=z0(e,r),s=VC(gc(n,a,"anCells")),o=Ee(YC([],s)),l,u=e.aoColumns.length,g,p,_,x,S,w,c=function(v){var y=typeof v=="function";if(v==null||y){for(g=[],p=0,_=a.length;p<_;p++)for(l=a[p],x=0;x<u;x++)S={row:l,column:x},y?(w=n[l],v(S,Fi(e,l,x),w.anCells?w.anCells[x]:null)&&g.push(S)):g.push(S);return g}if(Ee.isPlainObject(v))return v.column!==void 0&&v.row!==void 0&&Ee.inArray(v.row,a)!==-1?[v]:[];var b=o.filter(v).map(function(C,E){return{row:E._DT_CellIndex.row,column:E._DT_CellIndex.column}}).toArray();return b.length||!v.nodeName?b:(w=Ee(v).closest("*[data-dt-row]"),w.length?[{row:w.data("dt-row"),column:w.data("dt-column")}]:[])};return Ab("cell",t,c,e,r)};Qt("cells()",function(e,t,r){if(Ee.isPlainObject(e)&&(e.row===void 0?(r=e,e=null):(r=t,t=null)),Ee.isPlainObject(t)&&(r=t,t=null),t==null)return this.iterator("table",function(x){return _I(x,e,Tb(r))});var n=r?{page:r.page,order:r.order,search:r.search}:{},a=this.columns(t,n),s=this.rows(e,n),o,l,u,g,p=this.iterator("table",function(x,S){var w=[];for(o=0,l=s[S].length;o<l;o++)for(u=0,g=a[S].length;u<g;u++)w.push({row:s[S][o],column:a[S][u]});return w},1),_=r&&r.selected?this.cells(p,r):p;return Ee.extend(_.selector,{cols:t,rows:e,opts:r}),_});Jr("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,r){var n=e.aoData[t];return n&&n.anCells?n.anCells[r]:void 0},1)});Qt("cells().data()",function(){return this.iterator("cell",function(e,t,r){return Fi(e,t,r)},1)});Jr("cells().cache()","cell().cache()",function(e){return e=e==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(t,r,n){return t.aoData[r][e][n]},1)});Jr("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,r,n){return Fi(t,r,n,e)},1)});Jr("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,r){return{row:t,column:r,columnVisible:yc(e,r)}},1)});Jr("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,r,n){xc(t,r,e,n)})});Qt("cell()",function(e,t,r){return Lb(this.cells(e,t,r))});Qt("cell().data()",function(e){var t=this.context,r=this[0];return e===void 0?t.length&&r.length?Fi(t[0],r[0].row,r[0].column):void 0:(QC(t[0],r[0].row,r[0].column,e),xc(t[0],r[0].row,"data",r[0].column),this)});Qt("order()",function(e,t){var r=this.context;return e===void 0?r.length!==0?r[0].aaSorting:void 0:(typeof e=="number"?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(n){n.aaSorting=e.slice()}))});Qt("order.listener()",function(e,t,r){return this.iterator("table",function(n){Cb(n,e,t,r)})});Qt("order.fixed()",function(e){if(!e){var t=this.context,r=t.length?t[0].aaSortingFixed:void 0;return Array.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=Ee.extend(!0,{},e)})});Qt(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(r,n){var a=[];Ee.each(t[n],function(s,o){a.push([o,e])}),r.aaSorting=a})});Qt("search()",function(e,t,r,n){var a=this.context;return e===void 0?a.length!==0?a[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(s){s.oFeatures.bFilter&&Sc(s,Ee.extend({},s.oPreviousSearch,{sSearch:e+"",bRegex:t===null?!1:t,bSmart:r===null?!0:r,bCaseInsensitive:n===null?!0:n}),1)})});Jr("columns().search()","column().search()",function(e,t,r,n){return this.iterator("column",function(a,s){var o=a.aoPreSearchCols;if(e===void 0)return o[s].sSearch;a.oFeatures.bFilter&&(Ee.extend(o[s],{sSearch:e+"",bRegex:t===null?!1:t,bSmart:r===null?!0:r,bCaseInsensitive:n===null?!0:n}),Sc(a,a.oPreviousSearch,1))})});Qt("state()",function(){return this.context.length?this.context[0].oSavedState:null});Qt("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})});Qt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});Qt("state.save()",function(){return this.iterator("table",function(e){Cc(e)})});St.use=function(e,t){t==="lib"||e.fn?Ee=e:t=="win"||e.document?(window=e,document=e.document):(t==="datetime"||e.type==="DateTime")&&(St.DateTime=e)};St.factory=function(e,t){var r=!1;return e&&e.document&&(window=e,document=e.document),t&&t.fn&&t.fn.jquery&&(Ee=t,r=!0),r};St.versionCheck=St.fnVersionCheck=function(e){for(var t=St.version.split("."),r=e.split("."),n,a,s=0,o=r.length;s<o;s++)if(n=parseInt(t[s],10)||0,a=parseInt(r[s],10)||0,n!==a)return n>a;return!0};St.isDataTable=St.fnIsDataTable=function(e){var t=Ee(e).get(0),r=!1;return e instanceof St.Api?!0:(Ee.each(St.settings,function(n,a){var s=a.nScrollHead?Ee("table",a.nScrollHead)[0]:null,o=a.nScrollFoot?Ee("table",a.nScrollFoot)[0]:null;(a.nTable===t||s===t||o===t)&&(r=!0)}),r)};St.tables=St.fnTables=function(e){var t=!1;Ee.isPlainObject(e)&&(t=e.api,e=e.visible);var r=Ee.map(St.settings,function(n){if(!e||e&&Ee(n.nTable).is(":visible"))return n.nTable});return t?new br(r):r};St.camelToHungarian=$s;Qt("$()",function(e,t){var r=this.rows(t).nodes(),n=Ee(r);return Ee([].concat(n.filter(e).toArray(),n.find(e).toArray()))});Ee.each(["on","one","off"],function(e,t){Qt(t+"()",function(){var r=Array.prototype.slice.call(arguments);r[0]=Ee.map(r[0].split(/\s/),function(a){return a.match(/\.dt\b/)?a:a+".dt"}).join(" ");var n=Ee(this.tables().nodes());return n[t].apply(n,r),this})});Qt("clear()",function(){return this.iterator("table",function(e){k0(e)})});Qt("settings()",function(){return new br(this.context,this.context)});Qt("init()",function(){var e=this.context;return e.length?e[0].oInit:null});Qt("data()",function(){return this.iterator("table",function(e){return Qi(e.aoData,"_aData")}).flatten()});Qt("destroy()",function(e){return e=e||!1,this.iterator("table",function(t){var r=t.oClasses,n=t.nTable,a=t.nTBody,s=t.nTHead,o=t.nTFoot,l=Ee(n),u=Ee(a),g=Ee(t.nTableWrapper),p=Ee.map(t.aoData,function(v){return v.nTr}),_,x;t.bDestroying=!0,Nr(t,"aoDestroyCallback","destroy",[t]),e||new br(t).columns().visible(!0),g.off(".DT").find(":not(tbody *)").off(".DT"),Ee(window).off(".DT-"+t.sInstance),n!=s.parentNode&&(l.children("thead").detach(),l.append(s)),o&&n!=o.parentNode&&(l.children("tfoot").detach(),l.append(o)),t.aaSorting=[],t.aaSortingFixed=[],E0(t),Ee(p).removeClass(t.asStripeClasses.join(" ")),Ee("th, td",s).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),u.children().detach(),u.append(p);var S=t.nTableWrapper.parentNode,w=e?"remove":"detach";l[w](),g[w](),!e&&S&&(S.insertBefore(n,t.nTableReinsertBefore),l.css("width",t.sDestroyWidth).removeClass(r.sTable),x=t.asDestroyStripes.length,x&&u.children().each(function(v){Ee(this).addClass(t.asDestroyStripes[v%x])}));var c=Ee.inArray(t,St.settings);c!==-1&&St.settings.splice(c,1)})});Ee.each(["column","row","cell"],function(e,t){Qt(t+"s().every()",function(r){var n=this.selector.opts,a=this;return this.iterator(t,function(s,o,l,u,g){r.call(a[t](o,t==="cell"?l:n,t==="cell"?n:void 0),o,l,u,g)})})});Qt("i18n()",function(e,t,r){var n=this.context[0],a=df(e)(n.oLanguage);return a===void 0&&(a=t),r!==void 0&&Ee.isPlainObject(a)&&(a=a[r]!==void 0?a[r]:a._),typeof a=="string"?a.replace("%d",r):a});St.version="1.13.5";St.settings=[];St.models={};St.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1};St.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};St.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};St.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:Ee.extend({},St.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};vc(St.defaults);St.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};vc(St.defaults.column);St.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return ii(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return ii(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,r=t+e,n=this.aiDisplay.length,a=this.oFeatures,s=a.bPaginate;return a.bServerSide?s===!1||e===-1?t+n:Math.min(t+e,this._iRecordsDisplay):!s||r>n||e===-1?n:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};St.ext=Cn={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:St.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:St.version};Ee.extend(Cn,{afnFiltering:Cn.search,aTypes:Cn.type.detect,ofnSearch:Cn.type.search,oSort:Cn.type.order,afnSortData:Cn.order,aoFeatures:Cn.feature,oApi:Cn.internal,oStdClasses:Cn.classes,oPagination:Cn.pager});Ee.extend(St.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});AE=St.ext.pager;Ee.extend(AE,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[cc(e,t)]},simple_numbers:function(e,t){return["previous",cc(e,t),"next"]},full_numbers:function(e,t){return["first","previous",cc(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",cc(e,t),"last"]},_numbers:cc,numbers_length:7});Ee.extend(!0,St.ext.renderer,{pageButton:{_:function(e,t,r,n,a,s){var o=e.oClasses,l=e.oLanguage.oPaginate,u=e.oLanguage.oAria.paginate||{},g,p,_=function(S,w){var c,v,y,b,C,E=o.sPageButtonDisabled,h=function(N){P0(e,N.data.action,!0)};for(c=0,v=w.length;c<v;c++)if(b=w[c],Array.isArray(b)){var f=Ee("<"+(b.DT_el||"div")+"/>").appendTo(S);_(f,b)}else{switch(g=null,p=b,C=e.iTabIndex,b){case"ellipsis":S.append('<span class="ellipsis">&#x2026;</span>');break;case"first":g=l.sFirst,a===0&&(C=-1,p+=" "+E);break;case"previous":g=l.sPrevious,a===0&&(C=-1,p+=" "+E);break;case"next":g=l.sNext,(s===0||a===s-1)&&(C=-1,p+=" "+E);break;case"last":g=l.sLast,(s===0||a===s-1)&&(C=-1,p+=" "+E);break;default:g=e.fnFormatNumber(b+1),p=a===b?o.sPageButtonActive:"";break}if(g!==null){var D=e.oInit.pagingTag||"a",M=p.indexOf(E)!==-1;y=Ee("<"+D+">",{class:o.sPageButton+" "+p,"aria-controls":e.sTableId,"aria-disabled":M?"true":null,"aria-label":u[b],role:"link","aria-current":p===o.sPageButtonActive?"page":null,"data-dt-idx":b,tabindex:C,id:r===0&&typeof b=="string"?e.sTableId+"_"+b:null}).html(g).appendTo(S),Eb(y,{action:b},h)}}},x;try{x=Ee(t).find(document.activeElement).data("dt-idx")}catch{}_(Ee(t).empty(),n),x!==void 0&&Ee(t).find("[data-dt-idx="+x+"]").trigger("focus")}}});Ee.extend(St.ext.type.detect,[function(e,t){var r=t.oLanguage.sDecimal;return sb(e,r)?"num"+r:null},function(e,t){if(e&&!(e instanceof Date)&&!eI.test(e))return null;var r=Date.parse(e);return r!==null&&!isNaN(r)||ds(e)?"date":null},function(e,t){var r=t.oLanguage.sDecimal;return sb(e,r,!0)?"num-fmt"+r:null},function(e,t){var r=t.oLanguage.sDecimal;return IC(e,r)?"html-num"+r:null},function(e,t){var r=t.oLanguage.sDecimal;return IC(e,r,!0)?"html-num-fmt"+r:null},function(e,t){return ds(e)||typeof e=="string"&&e.indexOf("<")!==-1?"html":null}]);Ee.extend(St.ext.type.search,{html:function(e){return ds(e)?e:typeof e=="string"?e.replace(PC," ").replace(w0,""):""},string:function(e){return ds(e)?e:typeof e=="string"?e.replace(PC," "):e}});_0=function(e,t,r,n){if(e!==0&&(!e||e==="-"))return-1/0;var a=typeof e;return a==="number"||a==="bigint"?e:(t&&(e=HC(e,t)),e.replace&&(r&&(e=e.replace(r,"")),n&&(e=e.replace(n,""))),e*1)};Ee.extend(Cn.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return ds(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return ds(e)?"":typeof e=="string"?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}});hb("");Ee.extend(!0,St.ext.renderer,{header:{_:function(e,t,r,n){Ee(e.nTable).on("order.dt.DT",function(a,s,o,l){if(e===s){var u=r.idx;t.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass(l[u]=="asc"?n.sSortAsc:l[u]=="desc"?n.sSortDesc:r.sSortingClass)}})},jqueryui:function(e,t,r,n){Ee("<div/>").addClass(n.sSortJUIWrapper).append(t.contents()).append(Ee("<span/>").addClass(n.sSortIcon+" "+r.sSortingClassJUI)).appendTo(t),Ee(e.nTable).on("order.dt.DT",function(a,s,o,l){if(e===s){var u=r.idx;t.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass(l[u]=="asc"?n.sSortAsc:l[u]=="desc"?n.sSortDesc:r.sSortingClass),t.find("span."+n.sSortIcon).removeClass(n.sSortJUIAsc+" "+n.sSortJUIDesc+" "+n.sSortJUI+" "+n.sSortJUIAscAllowed+" "+n.sSortJUIDescAllowed).addClass(l[u]=="asc"?n.sSortJUIAsc:l[u]=="desc"?n.sSortJUIDesc:r.sSortingClassJUI)}})}}});x0=function(e){return Array.isArray(e)&&(e=e.join(",")),typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};RC=!1;TE=",",LE=".";if(window.Intl!==void 0)try{for(uf=new Intl.NumberFormat().formatToParts(100000.1),kl=0;kl<uf.length;kl++)uf[kl].type==="group"?TE=uf[kl].value:uf[kl].type==="decimal"&&(LE=uf[kl].value)}catch{}St.datetime=function(e,t){var r="datetime-detect-"+e;t||(t="en"),St.ext.type.order[r]||(St.ext.type.detect.unshift(function(n){var a=M0(n,e,t);return n===""||a?r:!1}),St.ext.type.order[r+"-pre"]=function(n){return M0(n,e,t)||0})};St.render={date:ib("toLocaleDateString"),datetime:ib("toLocaleString"),time:ib("toLocaleTimeString"),number:function(e,t,r,n,a){return e==null&&(e=TE),t==null&&(t=LE),{display:function(s){if(typeof s!="number"&&typeof s!="string"||s===""||s===null)return s;var o=s<0?"-":"",l=parseFloat(s);if(isNaN(l))return x0(s);l=l.toFixed(r),s=Math.abs(l);var u=parseInt(s,10),g=r?t+(s-u).toFixed(r).substring(2):"";return u===0&&parseFloat(g)===0&&(o=""),o+(n||"")+u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+g+(a||"")}}},text:function(){return{display:x0,filter:x0}}};Ee.extend(St.ext.internal,{_fnExternApiFunc:kE,_fnBuildAjax:N0,_fnAjaxUpdate:eE,_fnAjaxParameters:tE,_fnAjaxUpdateDraw:rE,_fnAjaxDataSrc:wc,_fnAddColumn:pb,_fnColumnOptions:S0,_fnAdjustColumnSizing:_c,_fnVisibleToColumnIndex:bc,_fnColumnIndexToVisible:yc,_fnVisbleColumns:cf,_fnGetColumns:T0,_fnColumnTypes:mb,_fnApplyColumnDefs:$C,_fnHungarianMap:vc,_fnCamelToHungarian:$s,_fnLanguageCompat:ob,_fnBrowserDetect:XC,_fnAddData:Bo,_fnAddTr:L0,_fnNodeToDataIndex:aI,_fnNodeToColumnIndex:sI,_fnGetCellData:Fi,_fnSetCellData:QC,_fnSplitObjNotation:lb,_fnGetObjectDataFn:df,_fnSetObjectDataFn:Fo,_fnGetDataMaster:ub,_fnClearTable:k0,_fnDeleteIndex:b0,_fnInvalidate:xc,_fnGetRowElements:gb,_fnCreateTr:vb,_fnBuildHead:qC,_fnDrawHead:pc,_fnDraw:Uo,_fnReDraw:Ol,_fnAddOptionsHtml:JC,_fnDetectHeader:mc,_fnGetUniqueThs:O0,_fnFeatureHtmlFilter:nE,_fnFilterComplete:Sc,_fnFilterCustom:iE,_fnFilterColumn:aE,_fnFilter:sE,_fnFilterCreateSearch:bb,_fnEscapeRegex:yb,_fnFilterData:oE,_fnFeatureHtmlInfo:lE,_fnUpdateInfo:uE,_fnInfoMacros:fE,_fnInitialise:hc,_fnInitComplete:C0,_fnLengthChange:xb,_fnFeatureHtmlLength:dE,_fnFeatureHtmlPaginate:cE,_fnPageChange:P0,_fnFeatureHtmlProcessing:hE,_fnProcessingDisplay:$i,_fnFeatureHtmlTable:pE,_fnScrollDraw:I0,_fnApplyToChildren:fs,_fnCalculateColumnWidths:wb,_fnThrottle:Sb,_fnConvertToWidth:mE,_fnGetWidestNode:gE,_fnGetMaxLenString:vE,_fnStringToCss:cn,_fnSortFlatten:hf,_fnSort:_E,_fnSortAria:bE,_fnSortListener:fb,_fnSortAttachListener:Cb,_fnSortingClasses:E0,_fnSortData:yE,_fnSaveState:Cc,_fnLoadState:xE,_fnImplementState:db,_fnSettingsFromNode:D0,_fnLog:ha,_fnMap:Ha,_fnBindAction:Eb,_fnCallbackReg:gi,_fnCallbackFire:Nr,_fnLengthOverflow:Db,_fnRenderer:Mb,_fnDataSource:ii,_fnRowAttributes:_b,_fnExtend:cb,_fnCalculateEnd:function(){}});Ee.fn.dataTable=St;St.$=Ee;Ee.fn.dataTableSettings=St.settings;Ee.fn.dataTableExt=St.ext;Ee.fn.DataTable=function(e){return Ee(this).dataTable(e).api()};Ee.each(St,function(e,t){Ee.fn.DataTable[e]=t})});var bI,Dc=ae(()=>{bI=Hr(of(),1);OE();});var NE=ae(()=>{});function cs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Nl=ae(()=>{});function B0(e){return e.length===1&&(e=yI(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)<0?n=s+1:a=s}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)>0?a=s:n=s+1}return n}}}function yI(e){return function(t,r){return cs(e(t),r)}}var Ob=ae(()=>{Nl()});var PE,IE,xI,jo,Nb=ae(()=>{Nl();Ob();PE=B0(cs),IE=PE.right,xI=PE.left,jo=IE});var Pb=ae(()=>{});var zE=ae(()=>{Pb()});var FE=ae(()=>{});var pf=ae(()=>{});var Ib=ae(()=>{pf()});var zb=ae(()=>{Ib()});function hs(e,t){var r=e.length,n=-1,a,s,o;if(t==null){for(;++n<r;)if((a=e[n])!=null&&a>=a)for(s=o=a;++n<r;)(a=e[n])!=null&&(s>a&&(s=a),o<a&&(o=a))}else for(;++n<r;)if((a=t(e[n],n,e))!=null&&a>=a)for(s=o=a;++n<r;)(a=t(e[n],n,e))!=null&&(s>a&&(s=a),o<a&&(o=a));return[s,o]}var Fb=ae(()=>{});var BE,SI,CI,Bb=ae(()=>{BE=Array.prototype,SI=BE.slice,CI=BE.map});var UE=ae(()=>{});var jE=ae(()=>{});function Va(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}var Ub=ae(()=>{});function j0(e,t,r){var n,a=-1,s,o,l;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(s=e,e=t,t=s),(l=mf(e,t,r))===0||!isFinite(l))return[];if(l>0)for(e=Math.ceil(e/l),t=Math.floor(t/l),o=new Array(s=Math.ceil(t-e+1));++a<s;)o[a]=(e+a)*l;else for(e=Math.floor(e*l),t=Math.ceil(t*l),o=new Array(s=Math.ceil(e-t+1));++a<s;)o[a]=(e-a)/l;return n&&o.reverse(),o}function mf(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,a);return a>=0?(s>=jb?10:s>=Rb?5:s>=Wb?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=jb?10:s>=Rb?5:s>=Wb?2:1)}function Pl(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=jb?a*=10:s>=Rb?a*=5:s>=Wb&&(a*=2),t<e?-a:a}var jb,Rb,Wb,Gb=ae(()=>{jb=Math.sqrt(50),Rb=Math.sqrt(10),Wb=Math.sqrt(2)});var Hb=ae(()=>{});var WE=ae(()=>{Bb();Nb();UE();Fb();jE();Ub();Gb();Hb()});var R0=ae(()=>{pf()});var GE=ae(()=>{Bb();Nl();pf();R0()});var HE=ae(()=>{zb()});var VE=ae(()=>{});var YE=ae(()=>{pf()});var KE=ae(()=>{Nl();pf();R0()});var ZE=ae(()=>{});var Yb=ae(()=>{});var XE=ae(()=>{});var $E=ae(()=>{Nl()});var QE=ae(()=>{});var qE=ae(()=>{});var Kb=ae(()=>{Yb()});var JE=ae(()=>{Kb()});var vi=ae(()=>{Nb();Nl();Ob();zE();FE();zb();Fb();WE();GE();HE();Hb();VE();YE();KE();ZE();Yb();Pb();XE();R0();Ub();$E();QE();qE();Gb();Kb();Ib();JE()});var W0,eD=ae(()=>{W0=Array.prototype.slice});function tD(e){return e}var rD=ae(()=>{});function TI(e){return"translate("+(e+.5)+",0)"}function LI(e){return"translate(0,"+(e+.5)+")"}function kI(e){return function(t){return+e(t)}}function OI(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(r){return+e(r)+t}}function NI(){return!this.__axis}function V0(e,t){var r=[],n=null,a=null,s=6,o=6,l=3,u=e===G0||e===Mc?-1:1,g=e===Mc||e===H0?"x":"y",p=e===G0||e===Zb?TI:LI;function _(x){var S=n??(t.ticks?t.ticks.apply(t,r):t.domain()),w=a??(t.tickFormat?t.tickFormat.apply(t,r):tD),c=Math.max(s,0)+l,v=t.range(),y=+v[0]+.5,b=+v[v.length-1]+.5,C=(t.bandwidth?OI:kI)(t.copy()),E=x.selection?x.selection():x,h=E.selectAll(".domain").data([null]),f=E.selectAll(".tick").data(S,t).order(),D=f.exit(),M=f.enter().append("g").attr("class","tick"),N=f.select("line"),k=f.select("text");h=h.merge(h.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),f=f.merge(M),N=N.merge(M.append("line").attr("stroke","currentColor").attr(g+"2",u*s)),k=k.merge(M.append("text").attr("fill","currentColor").attr(g,u*c).attr("dy",e===G0?"0em":e===Zb?"0.71em":"0.32em")),x!==E&&(h=h.transition(x),f=f.transition(x),N=N.transition(x),k=k.transition(x),D=D.transition(x).attr("opacity",nD).attr("transform",function(z){return isFinite(z=C(z))?p(z):this.getAttribute("transform")}),M.attr("opacity",nD).attr("transform",function(z){var O=this.parentNode.__axis;return p(O&&isFinite(O=O(z))?O:C(z))})),D.remove(),h.attr("d",e===Mc||e==H0?o?"M"+u*o+","+y+"H0.5V"+b+"H"+u*o:"M0.5,"+y+"V"+b:o?"M"+y+","+u*o+"V0.5H"+b+"V"+u*o:"M"+y+",0.5H"+b),f.attr("opacity",1).attr("transform",function(z){return p(C(z))}),N.attr(g+"2",u*s),k.attr(g,u*c).text(w),E.filter(NI).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===H0?"start":e===Mc?"end":"middle"),E.each(function(){this.__axis=C})}return _.scale=function(x){return arguments.length?(t=x,_):t},_.ticks=function(){return r=W0.call(arguments),_},_.tickArguments=function(x){return arguments.length?(r=x==null?[]:W0.call(x),_):r.slice()},_.tickValues=function(x){return arguments.length?(n=x==null?null:W0.call(x),_):n&&n.slice()},_.tickFormat=function(x){return arguments.length?(a=x,_):a},_.tickSize=function(x){return arguments.length?(s=o=+x,_):s},_.tickSizeInner=function(x){return arguments.length?(s=+x,_):s},_.tickSizeOuter=function(x){return arguments.length?(o=+x,_):o},_.tickPadding=function(x){return arguments.length?(l=+x,_):l},_}function Xb(e){return V0(G0,e)}function $b(e){return V0(H0,e)}function Il(e){return V0(Zb,e)}function zl(e){return V0(Mc,e)}var G0,H0,Zb,Mc,nD,iD=ae(()=>{eD();rD();G0=1,H0=2,Zb=3,Mc=4,nD=1e-6});var aD=ae(()=>{iD()});function oD(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Y0(r)}function Y0(e){this._=e}function II(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function zI(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function sD(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=PI,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var PI,Qb,lD=ae(()=>{PI={value:function(){}};Y0.prototype=oD.prototype={constructor:Y0,on:function(e,t){var r=this._,n=II(e+"",r),a,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((a=(e=n[s]).type)&&(a=zI(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=n[s]).type)r[a]=sD(r[a],e.name,t);else if(t==null)for(a in r)r[a]=sD(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Y0(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};Qb=oD});var qb=ae(()=>{lD()});var K0,Jb,ey=ae(()=>{K0="http://www.w3.org/1999/xhtml",Jb={svg:"http://www.w3.org/2000/svg",xhtml:K0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Qs(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Jb.hasOwnProperty(t)?{space:Jb[t],local:e}:e}var Z0=ae(()=>{ey()});function FI(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===K0&&t.documentElement.namespaceURI===K0?t.createElement(e):t.createElementNS(r,e)}}function BI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function X0(e){var t=Qs(e);return(t.local?BI:FI)(t)}var ty=ae(()=>{Z0();ey()});function jI(){}function Fl(e){return e==null?jI:function(){return this.querySelector(e)}}var $0=ae(()=>{});function uD(e){typeof e!="function"&&(e=Fl(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=new Array(o),u,g,p=0;p<o;++p)(u=s[p])&&(g=e.call(u,u.__data__,p,s))&&("__data__"in u&&(g.__data__=u.__data__),l[p]=g);return new hn(n,this._parents)}var fD=ae(()=>{Ya();$0()});function RI(){return[]}function Ac(e){return e==null?RI:function(){return this.querySelectorAll(e)}}var ry=ae(()=>{});function dD(e){typeof e!="function"&&(e=Ac(e));for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var o=t[s],l=o.length,u,g=0;g<l;++g)(u=o[g])&&(n.push(e.call(u,u.__data__,g,o)),a.push(u));return new hn(n,a)}var cD=ae(()=>{Ya();ry()});function Tc(e){return function(){return this.matches(e)}}var ny=ae(()=>{});function hD(e){typeof e!="function"&&(e=Tc(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=[],u,g=0;g<o;++g)(u=s[g])&&e.call(u,u.__data__,g,s)&&l.push(u);return new hn(n,this._parents)}var pD=ae(()=>{Ya();ny()});function Q0(e){return new Array(e.length)}var iy=ae(()=>{});function mD(){return new hn(this._enter||this._groups.map(Q0),this._parents)}function Lc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var ay=ae(()=>{iy();Ya();Lc.prototype={constructor:Lc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function gD(e){return function(){return e}}var vD=ae(()=>{});function WI(e,t,r,n,a,s){for(var o=0,l,u=t.length,g=s.length;o<g;++o)(l=t[o])?(l.__data__=s[o],n[o]=l):r[o]=new Lc(e,s[o]);for(;o<u;++o)(l=t[o])&&(a[o]=l)}function GI(e,t,r,n,a,s,o){var l,u,g={},p=t.length,_=s.length,x=new Array(p),S;for(l=0;l<p;++l)(u=t[l])&&(x[l]=S=_D+o.call(u,u.__data__,l,t),S in g?a[l]=u:g[S]=u);for(l=0;l<_;++l)S=_D+o.call(e,s[l],l,s),(u=g[S])?(n[l]=u,u.__data__=s[l],g[S]=null):r[l]=new Lc(e,s[l]);for(l=0;l<p;++l)(u=t[l])&&g[x[l]]===u&&(a[l]=u)}function bD(e,t){if(!e)return S=new Array(this.size()),g=-1,this.each(function(f){S[++g]=f}),S;var r=t?GI:WI,n=this._parents,a=this._groups;typeof e!="function"&&(e=gD(e));for(var s=a.length,o=new Array(s),l=new Array(s),u=new Array(s),g=0;g<s;++g){var p=n[g],_=a[g],x=_.length,S=e.call(p,p&&p.__data__,g,n),w=S.length,c=l[g]=new Array(w),v=o[g]=new Array(w),y=u[g]=new Array(x);r(p,_,c,v,y,S,t);for(var b=0,C=0,E,h;b<w;++b)if(E=c[b]){for(b>=C&&(C=b+1);!(h=v[C])&&++C<w;);E._next=h||null}}return o=new hn(o,n),o._enter=l,o._exit=u,o}var _D,yD=ae(()=>{Ya();ay();vD();_D="$"});function xD(){return new hn(this._exit||this._groups.map(Q0),this._parents)}var wD=ae(()=>{iy();Ya()});function SD(e,t,r){var n=this.enter(),a=this,s=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(a=t(a)),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}var CD=ae(()=>{});function ED(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),l=0;l<s;++l)for(var u=t[l],g=r[l],p=u.length,_=o[l]=new Array(p),x,S=0;S<p;++S)(x=u[S]||g[S])&&(_[S]=x);for(;l<n;++l)o[l]=t[l];return new hn(o,this._parents)}var DD=ae(()=>{Ya()});function MD(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],o;--a>=0;)(o=n[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}var AD=ae(()=>{});function TD(e){e||(e=HI);function t(_,x){return _&&x?e(_.__data__,x.__data__):!_-!x}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var o=r[s],l=o.length,u=a[s]=new Array(l),g,p=0;p<l;++p)(g=o[p])&&(u[p]=g);u.sort(t)}return new hn(a,this._parents).order()}function HI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var LD=ae(()=>{Ya()});function kD(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var OD=ae(()=>{});function ND(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}var PD=ae(()=>{});function ID(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null}var zD=ae(()=>{});function FD(){var e=0;return this.each(function(){++e}),e}var BD=ae(()=>{});function UD(){return!this.node()}var jD=ae(()=>{});function RD(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}var WD=ae(()=>{});function VI(e){return function(){this.removeAttribute(e)}}function YI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KI(e,t){return function(){this.setAttribute(e,t)}}function ZI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function XI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function $I(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function GD(e,t){var r=Qs(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?YI:VI:typeof t=="function"?r.local?$I:XI:r.local?ZI:KI)(r,t))}var HD=ae(()=>{Z0()});function q0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var sy=ae(()=>{});function QI(e){return function(){this.style.removeProperty(e)}}function qI(e,t,r){return function(){this.style.setProperty(e,t,r)}}function JI(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function VD(e,t,r){return arguments.length>1?this.each((t==null?QI:typeof t=="function"?JI:qI)(e,t,r??"")):Ro(this.node(),e)}function Ro(e,t){return e.style.getPropertyValue(t)||q0(e).getComputedStyle(e,null).getPropertyValue(t)}var oy=ae(()=>{sy()});function ez(e){return function(){delete this[e]}}function tz(e,t){return function(){this[e]=t}}function rz(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function YD(e,t){return arguments.length>1?this.each((t==null?ez:typeof t=="function"?rz:tz)(e,t)):this.node()[e]}var KD=ae(()=>{});function ZD(e){return e.trim().split(/^|\s+/)}function ly(e){return e.classList||new XD(e)}function XD(e){this._node=e,this._names=ZD(e.getAttribute("class")||"")}function $D(e,t){for(var r=ly(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function QD(e,t){for(var r=ly(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function nz(e){return function(){$D(this,e)}}function iz(e){return function(){QD(this,e)}}function az(e,t){return function(){(t.apply(this,arguments)?$D:QD)(this,e)}}function qD(e,t){var r=ZD(e+"");if(arguments.length<2){for(var n=ly(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?az:t?nz:iz)(r,t))}var JD=ae(()=>{XD.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function sz(){this.textContent=""}function oz(e){return function(){this.textContent=e}}function lz(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function eM(e){return arguments.length?this.each(e==null?sz:(typeof e=="function"?lz:oz)(e)):this.node().textContent}var tM=ae(()=>{});function uz(){this.innerHTML=""}function fz(e){return function(){this.innerHTML=e}}function dz(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function rM(e){return arguments.length?this.each(e==null?uz:(typeof e=="function"?dz:fz)(e)):this.node().innerHTML}var nM=ae(()=>{});function cz(){this.nextSibling&&this.parentNode.appendChild(this)}function iM(){return this.each(cz)}var aM=ae(()=>{});function hz(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sM(){return this.each(hz)}var oM=ae(()=>{});function lM(e){var t=typeof e=="function"?e:X0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var uM=ae(()=>{ty()});function pz(){return null}function fM(e,t){var r=typeof e=="function"?e:X0(e),n=t==null?pz:typeof t=="function"?t:Fl(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var dM=ae(()=>{ty();$0()});function mz(){var e=this.parentNode;e&&e.removeChild(this)}function cM(){return this.each(mz)}var hM=ae(()=>{});function gz(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vz(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pM(e){return this.select(e?vz:gz)}var mM=ae(()=>{});function gM(e){return arguments.length?this.property("__data__",e):this.node().__data__}var vM=ae(()=>{});function _z(e,t,r){return e=yM(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function yM(e,t,r){return function(n){var a=uy;uy=n;try{e.call(this,this.__data__,t,r)}finally{uy=a}}}function bz(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function yz(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++n]=s;++n?t.length=n:delete this.__on}}}function xz(e,t,r){var n=bM.hasOwnProperty(e.type)?_z:yM;return function(a,s,o){var l=this.__on,u,g=n(t,s,o);if(l){for(var p=0,_=l.length;p<_;++p)if((u=l[p]).type===e.type&&u.name===e.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=g,u.capture=r),u.value=t;return}}this.addEventListener(e.type,g,r),u={type:e.type,name:e.name,value:t,listener:g,capture:r},l?l.push(u):this.__on=[u]}}function xM(e,t,r){var n=bz(e+""),a,s=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,g=l.length,p;u<g;++u)for(a=0,p=l[u];a<s;++a)if((o=n[a]).type===p.type&&o.name===p.name)return p.value}return}for(l=t?xz:yz,r==null&&(r=!1),a=0;a<s;++a)this.each(l(n[a],t,r));return this}var bM,uy,_M,wM=ae(()=>{bM={},uy=null;typeof document<"u"&&(_M=document.documentElement,"onmouseenter"in _M||(bM={mouseenter:"mouseover",mouseleave:"mouseout"}))});function SM(e,t,r){var n=q0(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function wz(e,t){return function(){return SM(this,e,t)}}function Sz(e,t){return function(){return SM(this,e,t.apply(this,arguments))}}function CM(e,t){return this.each((typeof t=="function"?Sz:wz)(e,t))}var EM=ae(()=>{sy()});function hn(e,t){this._groups=e,this._parents=t}function DM(){return new hn([[document.documentElement]],fy)}var fy,qs,Ya=ae(()=>{fD();cD();pD();yD();ay();wD();CD();DD();AD();LD();OD();PD();zD();BD();jD();WD();HD();oy();KD();JD();tM();nM();aM();oM();uM();dM();hM();mM();vM();wM();EM();fy=[null];hn.prototype=DM.prototype={constructor:hn,select:uD,selectAll:dD,filter:hD,data:bD,enter:mD,exit:xD,join:SD,merge:ED,order:MD,sort:TD,call:kD,nodes:ND,node:ID,size:FD,empty:UD,each:RD,attr:GD,style:VD,property:YD,classed:qD,text:eM,html:rM,raise:iM,lower:sM,append:lM,insert:fM,remove:cM,clone:pM,datum:gM,on:xM,dispatch:CM};qs=DM});function en(e){return typeof e=="string"?new hn([[document.querySelector(e)]],[document.documentElement]):new hn([[e]],fy)}var MM=ae(()=>{Ya()});var pa=ae(()=>{ny();Z0();MM();Ya();$0();ry();oy()});var AM=ae(()=>{});function gf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function kc(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var dy=ae(()=>{});function Ul(){}function LM(){return this.rgb().formatHex()}function kz(){return zM(this).formatHsl()}function kM(){return this.rgb().formatRgb()}function Ka(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Cz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?OM(t):r===3?new ai(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?J0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?J0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ez.exec(e))?new ai(t[1],t[2],t[3],1):(t=Dz.exec(e))?new ai(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mz.exec(e))?J0(t[1],t[2],t[3],t[4]):(t=Az.exec(e))?J0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tz.exec(e))?IM(t[1],t[2]/100,t[3]/100,1):(t=Lz.exec(e))?IM(t[1],t[2]/100,t[3]/100,t[4]):TM.hasOwnProperty(e)?OM(TM[e]):e==="transparent"?new ai(NaN,NaN,NaN,0):null}function OM(e){return new ai(e>>16&255,e>>8&255,e&255,1)}function J0(e,t,r,n){return n<=0&&(e=t=r=NaN),new ai(e,t,r,n)}function py(e){return e instanceof Ul||(e=Ka(e)),e?(e=e.rgb(),new ai(e.r,e.g,e.b,e.opacity)):new ai}function _f(e,t,r,n){return arguments.length===1?py(e):new ai(e,t,r,n??1)}function ai(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function NM(){return"#"+cy(this.r)+cy(this.g)+cy(this.b)}function PM(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function cy(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function IM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ps(e,t,r,n)}function zM(e){if(e instanceof ps)return new ps(e.h,e.s,e.l,e.opacity);if(e instanceof Ul||(e=Ka(e)),!e)return new ps;if(e instanceof ps)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,u=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new ps(o,l,u,e.opacity)}function FM(e,t,r,n){return arguments.length===1?zM(e):new ps(e,t,r,n??1)}function ps(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function hy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Wo,Bl,vf,Oc,ms,Cz,Ez,Dz,Mz,Az,Tz,Lz,TM,my=ae(()=>{dy();Wo=.7,Bl=1/Wo,vf="\\s*([+-]?\\d+)\\s*",Oc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ms="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cz=/^#([0-9a-f]{3,8})$/,Ez=new RegExp("^rgb\\("+[vf,vf,vf]+"\\)$"),Dz=new RegExp("^rgb\\("+[ms,ms,ms]+"\\)$"),Mz=new RegExp("^rgba\\("+[vf,vf,vf,Oc]+"\\)$"),Az=new RegExp("^rgba\\("+[ms,ms,ms,Oc]+"\\)$"),Tz=new RegExp("^hsl\\("+[Oc,ms,ms]+"\\)$"),Lz=new RegExp("^hsla\\("+[Oc,ms,ms,Oc]+"\\)$"),TM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gf(Ul,Ka,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:LM,formatHex:LM,formatHsl:kz,formatRgb:kM,toString:kM});gf(ai,_f,kc(Ul,{brighter:function(e){return e=e==null?Bl:Math.pow(Bl,e),new ai(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Wo:Math.pow(Wo,e),new ai(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NM,formatHex:NM,formatRgb:PM,toString:PM}));gf(ps,FM,kc(Ul,{brighter:function(e){return e=e==null?Bl:Math.pow(Bl,e),new ps(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Wo:Math.pow(Wo,e),new ps(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ai(hy(e>=240?e-240:e+120,a,n),hy(e,a,n),hy(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}))});var BM,UM,jM=ae(()=>{BM=Math.PI/180,UM=180/Math.PI});function Oz(e){if(e instanceof jl)return new jl(e.h,e.s,e.l,e.opacity);e instanceof ai||(e=py(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(GM*n+RM*t-WM*r)/(GM+RM-WM),s=n-a,o=(Nc*(r-a)-vy*s)/em,l=Math.sqrt(o*o+s*s)/(Nc*a*(1-a)),u=l?Math.atan2(o,s)*UM-120:NaN;return new jl(u<0?u+360:u,l,a,e.opacity)}function _i(e,t,r,n){return arguments.length===1?Oz(e):new jl(e,t,r,n??1)}function jl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}var HM,gy,vy,em,Nc,RM,WM,GM,VM=ae(()=>{dy();my();jM();HM=-.14861,gy=1.78277,vy=-.29227,em=-.90649,Nc=1.97294,RM=Nc*em,WM=Nc*gy,GM=gy*vy-em*HM;gf(jl,_i,kc(Ul,{brighter:function(e){return e=e==null?Bl:Math.pow(Bl,e),new jl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Wo:Math.pow(Wo,e),new jl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*BM,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new ai(255*(t+r*(HM*n+gy*a)),255*(t+r*(vy*n+em*a)),255*(t+r*(Nc*n)),this.opacity)}}))});var Go=ae(()=>{my();VM()});function _y(e,t,r,n,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*a)/6}function YM(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],s=e[n+1],o=n>0?e[n-1]:2*a-s,l=n<t-1?e[n+2]:2*s-a;return _y((r-n/t)*t,o,a,s,l)}}var by=ae(()=>{});function KM(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],l=e[(n+2)%t];return _y((r-n/t)*t,a,s,o,l)}}var ZM=ae(()=>{by()});function bf(e){return function(){return e}}var yy=ae(()=>{});function XM(e,t){return function(r){return e+r*t}}function Nz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $M(e,t){var r=t-e;return r?XM(e,r>180||r<-180?r-360*Math.round(r/360):r):bf(isNaN(e)?t:e)}function QM(e){return(e=+e)==1?Js:function(t,r){return r-t?Nz(t,r,e):bf(isNaN(t)?r:t)}}function Js(e,t){var r=t-e;return r?XM(e,r):bf(isNaN(e)?t:e)}var xy=ae(()=>{yy()});function qM(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),s=new Array(r),o,l;for(o=0;o<r;++o)l=_f(t[o]),n[o]=l.r||0,a[o]=l.g||0,s[o]=l.b||0;return n=e(n),a=e(a),s=e(s),l.opacity=1,function(u){return l.r=n(u),l.g=a(u),l.b=s(u),l+""}}}var Rl,Pz,Iz,wy=ae(()=>{Go();by();ZM();xy();Rl=function e(t){var r=QM(t);function n(a,s){var o=r((a=_f(a)).r,(s=_f(s)).r),l=r(a.g,s.g),u=r(a.b,s.b),g=Js(a.opacity,s.opacity);return function(p){return a.r=o(p),a.g=l(p),a.b=u(p),a.opacity=g(p),a+""}}return n.gamma=e,n}(1);Pz=qM(YM),Iz=qM(KM)});function JM(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function e5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var t5=ae(()=>{});function r5(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=eo(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}var n5=ae(()=>{tm()});function i5(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var a5=ae(()=>{});function Tn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Pc=ae(()=>{});function s5(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=eo(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var o5=ae(()=>{tm()});function zz(e){return function(){return e}}function Fz(e){return function(t){return e(t)+""}}function Ic(e,t){var r=Cy.lastIndex=Sy.lastIndex=0,n,a,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Cy.exec(e))&&(a=Sy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:Tn(n,a)})),r=Sy.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?Fz(u[0].x):zz(t):(t=u.length,function(g){for(var p=0,_;p<t;++p)l[(_=u[p]).i]=_.x(g);return l.join("")})}var Cy,Sy,Ey=ae(()=>{Pc();Cy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sy=new RegExp(Cy.source,"g")});function eo(e,t){var r=typeof t,n;return t==null||r==="boolean"?bf(t):(r==="number"?Tn:r==="string"?(n=Ka(t))?(t=n,Rl):Ic:t instanceof Ka?Rl:t instanceof Date?i5:e5(t)?JM:Array.isArray(t)?r5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s5:Tn)(e,t)}var tm=ae(()=>{Go();wy();n5();a5();Pc();o5();Ey();yy();t5()});function zc(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var l5=ae(()=>{});function Dy(e,t,r,n,a,s){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*u5,skewX:Math.atan(u)*u5,scaleX:o,scaleY:l}}var u5,rm,f5=ae(()=>{u5=180/Math.PI,rm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function c5(e){return e==="none"?rm:(Fc||(Fc=document.createElement("DIV"),My=document.documentElement,d5=document.defaultView),Fc.style.transform=e,e=d5.getComputedStyle(My.appendChild(Fc),null).getPropertyValue("transform"),My.removeChild(Fc),e=e.slice(7,-1).split(","),Dy(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function h5(e){return e==null?rm:(nm||(nm=document.createElementNS("http://www.w3.org/2000/svg","g")),nm.setAttribute("transform",e),(e=nm.transform.baseVal.consolidate())?(e=e.matrix,Dy(e.a,e.b,e.c,e.d,e.e,e.f)):rm)}var Fc,My,d5,nm,p5=ae(()=>{f5()});function m5(e,t,r,n){function a(g){return g.length?g.pop()+" ":""}function s(g,p,_,x,S,w){if(g!==_||p!==x){var c=S.push("translate(",null,t,null,r);w.push({i:c-4,x:Tn(g,_)},{i:c-2,x:Tn(p,x)})}else(_||x)&&S.push("translate("+_+t+x+r)}function o(g,p,_,x){g!==p?(g-p>180?p+=360:p-g>180&&(g+=360),x.push({i:_.push(a(_)+"rotate(",null,n)-2,x:Tn(g,p)})):p&&_.push(a(_)+"rotate("+p+n)}function l(g,p,_,x){g!==p?x.push({i:_.push(a(_)+"skewX(",null,n)-2,x:Tn(g,p)}):p&&_.push(a(_)+"skewX("+p+n)}function u(g,p,_,x,S,w){if(g!==_||p!==x){var c=S.push(a(S)+"scale(",null,",",null,")");w.push({i:c-4,x:Tn(g,_)},{i:c-2,x:Tn(p,x)})}else(_!==1||x!==1)&&S.push(a(S)+"scale("+_+","+x+")")}return function(g,p){var _=[],x=[];return g=e(g),p=e(p),s(g.translateX,g.translateY,p.translateX,p.translateY,_,x),o(g.rotate,p.rotate,_,x),l(g.skewX,p.skewX,_,x),u(g.scaleX,g.scaleY,p.scaleX,p.scaleY,_,x),g=p=null,function(S){for(var w=-1,c=x.length,v;++w<c;)_[(v=x[w]).i]=v.x(S);return _.join("")}}}var Ay,Ty,g5=ae(()=>{Pc();p5();Ay=m5(c5,"px, ","px)","deg)"),Ty=m5(h5,", ",")",")")});function v5(e){return function t(r){r=+r;function n(a,s){var o=e((a=_i(a)).h,(s=_i(s)).h),l=Js(a.s,s.s),u=Js(a.l,s.l),g=Js(a.opacity,s.opacity);return function(p){return a.h=o(p),a.s=l(p),a.l=u(Math.pow(p,r)),a.opacity=g(p),a+""}}return n.gamma=t,n}(1)}var Bz,yf,_5=ae(()=>{Go();xy();Bz=v5($M),yf=v5(Js)});var gs=ae(()=>{tm();Pc();l5();Ey();g5();wy();_5()});function wf(){return Wl||(x5(Uz),Wl=Rc.now()+sm)}function Uz(){Wl=0}function Wc(){this._call=this._time=this._next=null}function om(e,t,r){var n=new Wc;return n.restart(e,t,r),n}function w5(){wf(),++xf;for(var e=im,t;e;)(t=Wl-e._time)>=0&&e._call.call(null,t),e=e._next;--xf}function b5(){Wl=(am=Rc.now())+sm,xf=Uc=0;try{w5()}finally{xf=0,Rz(),Wl=0}}function jz(){var e=Rc.now(),t=e-am;t>y5&&(sm-=t,am=e)}function Rz(){for(var e,t=im,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:im=r);jc=e,Ly(n)}function Ly(e){if(!xf){Uc&&(Uc=clearTimeout(Uc));var t=e-Wl;t>24?(e<1/0&&(Uc=setTimeout(b5,e-Rc.now()-sm)),Bc&&(Bc=clearInterval(Bc))):(Bc||(am=Rc.now(),Bc=setInterval(jz,y5)),xf=1,x5(b5))}}var xf,Uc,Bc,y5,im,jc,am,Wl,sm,Rc,x5,ky=ae(()=>{xf=0,Uc=0,Bc=0,y5=1e3,am=0,Wl=0,sm=0,Rc=typeof performance=="object"&&performance.now?performance:Date,x5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};Wc.prototype=om.prototype={constructor:Wc,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?wf():+r)+(t==null?0:+t),!this._next&&jc!==this&&(jc?jc._next=this:im=this,jc=this),this._call=e,this._time=r,Ly()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ly())}}});function lm(e,t,r){var n=new Wc;return t=t==null?0:+t,n.restart(function(a){n.stop(),e(a+t)},t,r),n}var S5=ae(()=>{ky()});var um=ae(()=>{ky();S5()});function Ho(e,t,r,n,a,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;Hz(e,r,{name:t,index:n,group:a,on:Wz,tween:Gz,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:E5})}function Hc(e,t){var r=Ln(e,t);if(r.state>E5)throw new Error("too late; already scheduled");return r}function bi(e,t){var r=Ln(e,t);if(r.state>fm)throw new Error("too late; already running");return r}function Ln(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Hz(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=om(s,0,r.time);function s(g){r.state=Oy,r.timer.restart(o,r.delay,r.time),r.delay<=g&&o(g-r.delay)}function o(g){var p,_,x,S;if(r.state!==Oy)return u();for(p in n)if(S=n[p],S.name===r.name){if(S.state===fm)return lm(o);S.state===C5?(S.state=Gc,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete n[p]):+p<t&&(S.state=Gc,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete n[p])}if(lm(function(){r.state===fm&&(r.state=C5,r.timer.restart(l,r.delay,r.time),l(g))}),r.state=dm,r.on.call("start",e,e.__data__,r.index,r.group),r.state===dm){for(r.state=fm,a=new Array(x=r.tween.length),p=0,_=-1;p<x;++p)(S=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(a[++_]=S);a.length=_+1}}function l(g){for(var p=g<r.duration?r.ease.call(null,g/r.duration):(r.timer.restart(u),r.state=cm,1),_=-1,x=a.length;++_<x;)a[_].call(e,p);r.state===cm&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Gc,r.timer.stop(),delete n[t];for(var g in n)return;delete e.__transition}}var Wz,Gz,E5,Oy,dm,fm,C5,cm,Gc,Bi=ae(()=>{qb();um();Wz=Qb("start","end","cancel","interrupt"),Gz=[],E5=0,Oy=1,dm=2,fm=3,C5=4,cm=5,Gc=6});function Vc(e,t){var r=e.__transition,n,a,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}a=n.state>dm&&n.state<cm,n.state=Gc,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}var Ny=ae(()=>{Bi()});function D5(e){return this.each(function(){Vc(this,e)})}var M5=ae(()=>{Ny()});function Vz(e,t){var r,n;return function(){var a=bi(this,e),s=a.tween;if(s!==r){n=r=s;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function Yz(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=bi(this,e),o=s.tween;if(o!==n){a=(n=o).slice();for(var l={name:t,value:r},u=0,g=a.length;u<g;++u)if(a[u].name===t){a[u]=l;break}u===g&&a.push(l)}s.tween=a}}function A5(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Ln(this.node(),r).tween,a=0,s=n.length,o;a<s;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?Vz:Yz)(r,e,t))}function Sf(e,t,r){var n=e._id;return e.each(function(){var a=bi(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Ln(a,n).value[t]}}var Yc=ae(()=>{Bi()});function hm(e,t){var r;return(typeof t=="number"?Tn:t instanceof Ka?Rl:(r=Ka(t))?(t=r,Rl):Ic)(e,t)}var Py=ae(()=>{Go();gs()});function Kz(e){return function(){this.removeAttribute(e)}}function Zz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xz(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===n?s:s=t(n=o,r)}}function $z(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?s:s=t(n=o,r)}}function Qz(e,t,r){var n,a,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===n&&u===a?s:(a=u,s=t(n=o,l)))}}function qz(e,t,r){var n,a,s;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===n&&u===a?s:(a=u,s=t(n=o,l)))}}function T5(e,t){var r=Qs(e),n=r==="transform"?Ty:hm;return this.attrTween(e,typeof t=="function"?(r.local?qz:Qz)(r,n,Sf(this,"attr."+e,t)):t==null?(r.local?Zz:Kz)(r):(r.local?$z:Xz)(r,n,t))}var L5=ae(()=>{gs();pa();Yc();Py()});function Jz(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function e9(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function t9(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&e9(e,s)),r}return a._value=t,a}function r9(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Jz(e,s)),r}return a._value=t,a}function k5(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Qs(e);return this.tween(r,(n.local?t9:r9)(n,t))}var O5=ae(()=>{pa()});function n9(e,t){return function(){Hc(this,e).delay=+t.apply(this,arguments)}}function i9(e,t){return t=+t,function(){Hc(this,e).delay=t}}function N5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?n9:i9)(t,e)):Ln(this.node(),t).delay}var P5=ae(()=>{Bi()});function a9(e,t){return function(){bi(this,e).duration=+t.apply(this,arguments)}}function s9(e,t){return t=+t,function(){bi(this,e).duration=t}}function I5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?a9:s9)(t,e)):Ln(this.node(),t).duration}var z5=ae(()=>{Bi()});function o9(e,t){if(typeof t!="function")throw new Error;return function(){bi(this,e).ease=t}}function F5(e){var t=this._id;return arguments.length?this.each(o9(t,e)):Ln(this.node(),t).ease}var B5=ae(()=>{Bi()});function U5(e){typeof e!="function"&&(e=Tc(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=[],u,g=0;g<o;++g)(u=s[g])&&e.call(u,u.__data__,g,s)&&l.push(u);return new si(n,this._parents,this._name,this._id)}var j5=ae(()=>{pa();to()});function R5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),l=0;l<s;++l)for(var u=t[l],g=r[l],p=u.length,_=o[l]=new Array(p),x,S=0;S<p;++S)(x=u[S]||g[S])&&(_[S]=x);for(;l<n;++l)o[l]=t[l];return new si(o,this._parents,this._name,this._id)}var W5=ae(()=>{to()});function l9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function u9(e,t,r){var n,a,s=l9(t)?Hc:bi;return function(){var o=s(this,e),l=o.on;l!==n&&(a=(n=l).copy()).on(t,r),o.on=a}}function G5(e,t){var r=this._id;return arguments.length<2?Ln(this.node(),r).on.on(e):this.each(u9(r,e,t))}var H5=ae(()=>{Bi()});function f9(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function V5(){return this.on("end.remove",f9(this._id))}var Y5=ae(()=>{});function K5(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Fl(e));for(var n=this._groups,a=n.length,s=new Array(a),o=0;o<a;++o)for(var l=n[o],u=l.length,g=s[o]=new Array(u),p,_,x=0;x<u;++x)(p=l[x])&&(_=e.call(p,p.__data__,x,l))&&("__data__"in p&&(_.__data__=p.__data__),g[x]=_,Ho(g[x],t,r,x,g,Ln(p,r)));return new si(s,this._parents,t,r)}var Z5=ae(()=>{pa();to();Bi()});function X5(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ac(e));for(var n=this._groups,a=n.length,s=[],o=[],l=0;l<a;++l)for(var u=n[l],g=u.length,p,_=0;_<g;++_)if(p=u[_]){for(var x=e.call(p,p.__data__,_,u),S,w=Ln(p,r),c=0,v=x.length;c<v;++c)(S=x[c])&&Ho(S,t,r,c,x,w);s.push(x),o.push(p)}return new si(s,o,t,r)}var $5=ae(()=>{pa();to();Bi()});function Q5(){return new d9(this._groups,this._parents)}var d9,q5=ae(()=>{pa();d9=qs.prototype.constructor});function c9(e,t){var r,n,a;return function(){var s=Ro(this,e),o=(this.style.removeProperty(e),Ro(this,e));return s===o?null:s===r&&o===n?a:a=t(r=s,n=o)}}function J5(e){return function(){this.style.removeProperty(e)}}function h9(e,t,r){var n,a=r+"",s;return function(){var o=Ro(this,e);return o===a?null:o===n?s:s=t(n=o,r)}}function p9(e,t,r){var n,a,s;return function(){var o=Ro(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Ro(this,e))),o===u?null:o===n&&u===a?s:(a=u,s=t(n=o,l))}}function m9(e,t){var r,n,a,s="style."+t,o="end."+s,l;return function(){var u=bi(this,e),g=u.on,p=u.value[s]==null?l||(l=J5(t)):void 0;(g!==r||a!==p)&&(n=(r=g).copy()).on(o,a=p),u.on=n}}function eA(e,t,r){var n=(e+="")=="transform"?Ay:hm;return t==null?this.styleTween(e,c9(e,n)).on("end.style."+e,J5(e)):typeof t=="function"?this.styleTween(e,p9(e,n,Sf(this,"style."+e,t))).each(m9(this._id,e)):this.styleTween(e,h9(e,n,t),r).on("end.style."+e,null)}var tA=ae(()=>{gs();pa();Bi();Yc();Py()});function g9(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function v9(e,t,r){var n,a;function s(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&g9(e,o,r)),n}return s._value=t,s}function rA(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,v9(e,t,r??""))}var nA=ae(()=>{});function _9(e){return function(){this.textContent=e}}function b9(e){return function(){var t=e(this);this.textContent=t??""}}function iA(e){return this.tween("text",typeof e=="function"?b9(Sf(this,"text",e)):_9(e==null?"":e+""))}var aA=ae(()=>{Yc()});function y9(e){return function(t){this.textContent=e.call(this,t)}}function x9(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&y9(a)),t}return n._value=e,n}function sA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,x9(e))}var oA=ae(()=>{});function lA(){for(var e=this._name,t=this._id,r=pm(),n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],l=o.length,u,g=0;g<l;++g)if(u=o[g]){var p=Ln(u,t);Ho(u,e,r,g,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new si(n,this._parents,e,r)}var uA=ae(()=>{to();Bi()});function fA(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--a===0&&s()}};r.each(function(){var g=bi(this,n),p=g.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),g.on=t})})}var dA=ae(()=>{Bi()});function si(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Iy(e){return qs().transition(e)}function pm(){return++w9}var w9,Cf,to=ae(()=>{pa();L5();O5();P5();z5();B5();j5();W5();H5();Y5();Z5();$5();q5();tA();nA();aA();oA();uA();Yc();dA();w9=0;Cf=qs.prototype;si.prototype=Iy.prototype={constructor:si,select:K5,selectAll:X5,filter:U5,merge:R5,selection:Q5,transition:lA,call:Cf.call,nodes:Cf.nodes,node:Cf.node,size:Cf.size,empty:Cf.empty,each:Cf.each,on:G5,attr:T5,attrTween:k5,style:eA,styleTween:rA,text:iA,textTween:sA,remove:V5,tween:A5,delay:N5,duration:I5,ease:F5,end:fA}});function mm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cA=ae(()=>{});var zy=ae(()=>{cA()});function S9(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return Fy.time=wf(),Fy;return r}function hA(e){var t,r;e instanceof si?(t=e._id,e=e._name):(t=pm(),(r=Fy).time=wf(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],l=o.length,u,g=0;g<l;++g)(u=o[g])&&Ho(u,e,t,g,o,r||S9(u,t));return new si(n,this._parents,e,t)}var Fy,pA=ae(()=>{to();Bi();zy();um();Fy={time:null,delay:0,duration:250,ease:mm}});var mA=ae(()=>{pa();M5();pA();qs.prototype.interrupt=D5;qs.prototype.transition=hA});var gA=ae(()=>{to();Bi()});var Gl=ae(()=>{mA();to();gA();Ny()});var vA=ae(()=>{});var _A=ae(()=>{});var bA=ae(()=>{});function yA(e){return[+e[0],+e[1]]}function C9(e){return[yA(e[0]),yA(e[1])]}function By(e){return{type:e}}var YK,KK,ZK,xA=ae(()=>{Gl();vA();_A();bA();YK={name:"x",handles:["w","e"].map(By),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},KK={name:"y",handles:["n","s"].map(By),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},ZK={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(By),input:function(e){return e==null?null:C9(e)},output:function(e){return e}}});var wA=ae(()=>{xA()});var SA,E9,D9,Uy=ae(()=>{SA=Math.PI,E9=SA/2,D9=SA*2});var CA=ae(()=>{vi();Uy()});var M9,EA=ae(()=>{M9=Array.prototype.slice});var DA=ae(()=>{});function Wy(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function MA(){return new Wy}var jy,Ry,Hl,A9,Kc,AA=ae(()=>{jy=Math.PI,Ry=2*jy,Hl=1e-6,A9=Ry-Hl;Wy.prototype=MA.prototype={constructor:Wy,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,s){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+s)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var s=this._x1,o=this._y1,l=r-e,u=n-t,g=s-e,p=o-t,_=g*g+p*p;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(_>Hl)if(!(Math.abs(p*l-u*g)>Hl)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var x=r-s,S=n-o,w=l*l+u*u,c=x*x+S*S,v=Math.sqrt(w),y=Math.sqrt(_),b=a*Math.tan((jy-Math.acos((w+_-c)/(2*v*y)))/2),C=b/y,E=b/v;Math.abs(C-1)>Hl&&(this._+="L"+(e+C*g)+","+(t+C*p)),this._+="A"+a+","+a+",0,0,"+ +(p*x>g*S)+","+(this._x1=e+E*l)+","+(this._y1=t+E*u)}},arc:function(e,t,r,n,a,s){e=+e,t=+t,r=+r,s=!!s;var o=r*Math.cos(n),l=r*Math.sin(n),u=e+o,g=t+l,p=1^s,_=s?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+g:(Math.abs(this._x1-u)>Hl||Math.abs(this._y1-g)>Hl)&&(this._+="L"+u+","+g),r&&(_<0&&(_=_%Ry+Ry),_>A9?this._+="A"+r+","+r+",0,1,"+p+","+(e-o)+","+(t-l)+"A"+r+","+r+",0,1,"+p+","+(this._x1=u)+","+(this._y1=g):_>Hl&&(this._+="A"+r+","+r+",0,"+ +(_>=jy)+","+p+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};Kc=MA});var gm=ae(()=>{AA()});var TA=ae(()=>{EA();DA();Uy()});var LA=ae(()=>{CA();TA()});function vm(){}function kA(e,t){var r=new vm;if(e instanceof vm)e.each(function(l,u){r.set(u,l)});else if(Array.isArray(e)){var n=-1,a=e.length,s;if(t==null)for(;++n<a;)r.set(n,e[n]);else for(;++n<a;)r.set(t(s=e[n],n,e),s)}else if(e)for(var o in e)r.set(o,e[o]);return r}var qi,vs,_m=ae(()=>{qi="$";vm.prototype=kA.prototype={constructor:vm,has:function(e){return qi+e in this},get:function(e){return this[qi+e]},set:function(e,t){return this[qi+e]=t,this},remove:function(e){var t=qi+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===qi&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===qi&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===qi&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===qi&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===qi&&++e;return e},empty:function(){for(var e in this)if(e[0]===qi)return!1;return!0},each:function(e){for(var t in this)t[0]===qi&&e(this[t],t.slice(1),this)}};vs=kA});var OA=ae(()=>{_m()});function bm(){}function T9(e,t){var r=new bm;if(e instanceof bm)e.each(function(s){r.add(s)});else if(e){var n=-1,a=e.length;if(t==null)for(;++n<a;)r.add(e[n]);else for(;++n<a;)r.add(t(e[n],n,e))}return r}var Vl,NA=ae(()=>{_m();Vl=vs.prototype;bm.prototype=T9.prototype={constructor:bm,has:Vl.has,add:function(e){return e+="",this[qi+e]=e,this},remove:Vl.remove,clear:Vl.clear,values:Vl.keys,size:Vl.size,empty:Vl.empty,each:Vl.each}});var PA=ae(()=>{});var IA=ae(()=>{});var zA=ae(()=>{});var Ef=ae(()=>{OA();NA();_m();PA();IA();zA()});var L9,FA,Gy=ae(()=>{L9=Array.prototype,FA=L9.slice});var BA=ae(()=>{});var UA=ae(()=>{});var Hy=ae(()=>{});var jA=ae(()=>{});var RA=ae(()=>{});var Vy=ae(()=>{vi();Gy();BA();UA();Hy();jA();RA()});var WA=ae(()=>{});var GA=ae(()=>{vi();Gy();WA();Hy();Vy()});var HA=ae(()=>{Vy();GA()});var VA=ae(()=>{});var YA=ae(()=>{});var KA=ae(()=>{});var Yl=ae(()=>{});var ym=ae(()=>{});var ZA=ae(()=>{});var $A=ae(()=>{Yl();ym()});var QA=ae(()=>{Yl();ym();Ef()});var IX,Yy=ae(()=>{Ef();IX=Math.PI*(3-Math.sqrt(5))});var qA=ae(()=>{Yl();ym();Yy()});var JA=ae(()=>{Yl()});var eT=ae(()=>{Yl()});var tT=ae(()=>{Yl()});var rT=ae(()=>{KA();$A();QA();qA();JA();Yy();eT();tT()});function nT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kl(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var Xc=ae(()=>{});function _s(e){return e=Kl(Math.abs(e)),e?e[1]:NaN}var $c=ae(()=>{Xc()});function iT(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}var aT=ae(()=>{});function sT(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oT=ae(()=>{});function Vo(e){if(!(t=N9.exec(e)))throw new Error("invalid format: "+e);var t;return new xm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function xm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var N9,Ky=ae(()=>{N9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Vo.prototype=xm.prototype;xm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function lT(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var uT=ae(()=>{});function fT(e,t){var r=Kl(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Zy=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Kl(e,Math.max(0,t+s-1))[0]}var Zy,Xy=ae(()=>{Xc()});function $y(e,t){var r=Kl(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var dT=ae(()=>{Xc()});var Qy,cT=ae(()=>{Xc();Xy();dT();Qy={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:nT,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return $y(e*100,t)},r:$y,s:fT,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}});function qy(e){return e}var hT=ae(()=>{});function gT(e){var t=e.grouping===void 0||e.thousands===void 0?qy:iT(pT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?qy:sT(pT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"-":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function g(_){_=Vo(_);var x=_.fill,S=_.align,w=_.sign,c=_.symbol,v=_.zero,y=_.width,b=_.comma,C=_.precision,E=_.trim,h=_.type;h==="n"?(b=!0,h="g"):Qy[h]||(C===void 0&&(C=12),E=!0,h="g"),(v||x==="0"&&S==="=")&&(v=!0,x="0",S="=");var f=c==="$"?r:c==="#"&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",D=c==="$"?n:/[%p]/.test(h)?o:"",M=Qy[h],N=/[defgprs%]/.test(h);C=C===void 0?6:/[gprs]/.test(h)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function k(z){var O=f,I=D,H,Y,q;if(h==="c")I=M(z)+I,z="";else{z=+z;var G=z<0||1/z<0;if(z=isNaN(z)?u:M(Math.abs(z),C),E&&(z=lT(z)),G&&+z==0&&w!=="+"&&(G=!1),O=(G?w==="("?w:l:w==="-"||w==="("?"":w)+O,I=(h==="s"?mT[8+Zy/3]:"")+I+(G&&w==="("?")":""),N){for(H=-1,Y=z.length;++H<Y;)if(q=z.charCodeAt(H),48>q||q>57){I=(q===46?a+z.slice(H+1):z.slice(H))+I,z=z.slice(0,H);break}}}b&&!v&&(z=t(z,1/0));var $=O.length+z.length+I.length,R=$<y?new Array(y-$+1).join(x):"";switch(b&&v&&(z=t(R+z,R.length?y-I.length:1/0),R=""),S){case"<":z=O+z+I+R;break;case"=":z=O+R+z+I;break;case"^":z=R.slice(0,$=R.length>>1)+O+z+I+R.slice($);break;default:z=R+O+z+I;break}return s(z)}return k.toString=function(){return _+""},k}function p(_,x){var S=g((_=Vo(_),_.type="f",_)),w=Math.max(-8,Math.min(8,Math.floor(_s(x)/3)))*3,c=Math.pow(10,-w),v=mT[8+w/3];return function(y){return S(c*y)+v}}return{format:g,formatPrefix:p}}var pT,mT,vT=ae(()=>{$c();aT();oT();Ky();uT();cT();Xy();hT();pT=Array.prototype.map,mT=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function Jy(e){return wm=gT(e),Sm=wm.format,Cm=wm.formatPrefix,wm}var wm,Sm,Cm,_T=ae(()=>{vT();Jy({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})});function ex(e){return Math.max(0,-_s(Math.abs(e)))}var bT=ae(()=>{$c()});function tx(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_s(t)/3)))*3-_s(Math.abs(e)))}var yT=ae(()=>{$c()});function rx(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_s(t)-_s(e))+1}var xT=ae(()=>{$c()});var nx=ae(()=>{_T();Ky();bT();yT();xT()});var wT=ae(()=>{});var ST=ae(()=>{});var CT=ae(()=>{});function ma(){return Math.random()}var Zl=ae(()=>{});var P9,ET=ae(()=>{Zl();P9=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,arguments.length===1?(a=n,n=0):a-=n,function(){return t()*a+n}}return r.source=e,r}(ma)});var ix,ax=ae(()=>{Zl();ix=function e(t){function r(n,a){var s,o;return n=n==null?0:+n,a=a==null?1:+a,function(){var l;if(s!=null)l=s,s=null;else do s=t()*2-1,l=t()*2-1,o=s*s+l*l;while(!o||o>1);return n+a*l*Math.sqrt(-2*Math.log(o)/o)}}return r.source=e,r}(ma)});var I9,DT=ae(()=>{Zl();ax();I9=function e(t){function r(){var n=ix.source(t).apply(this,arguments);return function(){return Math.exp(n())}}return r.source=e,r}(ma)});var sx,ox=ae(()=>{Zl();sx=function e(t){function r(n){return function(){for(var a=0,s=0;s<n;++s)a+=t();return a}}return r.source=e,r}(ma)});var z9,MT=ae(()=>{Zl();ox();z9=function e(t){function r(n){var a=sx.source(t)(n);return function(){return a()/n}}return r.source=e,r}(ma)});var F9,AT=ae(()=>{Zl();F9=function e(t){function r(n){return function(){return-Math.log(1-t())/n}}return r.source=e,r}(ma)});var TT=ae(()=>{ET();ax();DT();MT();ox();AT()});function Ui(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var yi=ae(()=>{});var LT,Em,Yo,Ko=ae(()=>{LT=Array.prototype,Em=LT.map,Yo=LT.slice});function Xl(){var e=vs(),t=[],r=[],n=lx;function a(s){var o=s+"",l=e.get(o);if(!l){if(n!==lx)return n;e.set(o,l=t.push(s))}return r[(l-1)%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=vs();for(var o=-1,l=s.length,u,g;++o<l;)e.has(g=(u=s[o])+"")||e.set(g,t.push(u));return a},a.range=function(s){return arguments.length?(r=Yo.call(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Xl(t,r).unknown(n)},Ui.apply(a,arguments),a}var lx,ux=ae(()=>{Ef();Ko();yi();lx={name:"implicit"}});function Ji(){var e=Xl().unknown(void 0),t=e.domain,r=e.range,n=[0,1],a,s,o=!1,l=0,u=0,g=.5;delete e.unknown;function p(){var _=t().length,x=n[1]<n[0],S=n[x-0],w=n[1-x];a=(w-S)/Math.max(1,_-l+u*2),o&&(a=Math.floor(a)),S+=(w-S-a*(_-l))*g,s=a*(1-l),o&&(S=Math.round(S),s=Math.round(s));var c=Va(_).map(function(v){return S+a*v});return r(x?c.reverse():c)}return e.domain=function(_){return arguments.length?(t(_),p()):t()},e.range=function(_){return arguments.length?(n=[+_[0],+_[1]],p()):n.slice()},e.rangeRound=function(_){return n=[+_[0],+_[1]],o=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(_){return arguments.length?(o=!!_,p()):o},e.padding=function(_){return arguments.length?(l=Math.min(1,u=+_),p()):l},e.paddingInner=function(_){return arguments.length?(l=Math.min(1,_),p()):l},e.paddingOuter=function(_){return arguments.length?(u=+_,p()):u},e.align=function(_){return arguments.length?(g=Math.max(0,Math.min(1,_)),p()):g},e.copy=function(){return Ji(t(),n).round(o).paddingInner(l).paddingOuter(u).align(g)},Ui.apply(p(),arguments)}var kT=ae(()=>{vi();yi();ux()});function OT(e){return function(){return e}}var NT=ae(()=>{});function fx(e){return+e}var dx=ae(()=>{});function ga(e){return e}function cx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:OT(isNaN(t)?NaN:.5)}function IT(e){var t=e[0],r=e[e.length-1],n;return t>r&&(n=t,t=r,r=n),function(a){return Math.max(t,Math.min(r,a))}}function B9(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=cx(a,n),s=r(o,s)):(n=cx(n,a),s=r(s,o)),function(l){return s(n(l))}}function U9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=cx(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var u=jo(e,l,1,n)-1;return s[u](a[u](l))}}function Df(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dm(){var e=PT,t=PT,r=eo,n,a,s,o=ga,l,u,g;function p(){return l=Math.min(e.length,t.length)>2?U9:B9,u=g=null,_}function _(x){return isNaN(x=+x)?s:(u||(u=l(e.map(n),t,r)))(n(o(x)))}return _.invert=function(x){return o(a((g||(g=l(t,e.map(n),Tn)))(x)))},_.domain=function(x){return arguments.length?(e=Em.call(x,fx),o===ga||(o=IT(e)),p()):e.slice()},_.range=function(x){return arguments.length?(t=Yo.call(x),p()):t.slice()},_.rangeRound=function(x){return t=Yo.call(x),r=zc,p()},_.clamp=function(x){return arguments.length?(o=x?IT(e):ga,_):o!==ga},_.interpolate=function(x){return arguments.length?(r=x,p()):r},_.unknown=function(x){return arguments.length?(s=x,_):s},function(x,S){return n=x,a=S,p()}}function Mm(e,t){return Dm()(e,t)}var PT,ro=ae(()=>{vi();gs();Ko();NT();dx();PT=[0,1]});function hx(e,t,r,n){var a=Pl(e,t,r),s;switch(n=Vo(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=tx(a,o))&&(n.precision=s),Cm(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=rx(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=ex(a))&&(n.precision=s-(n.type==="%")*2);break}}return Sm(n)}var px=ae(()=>{vi();nx()});function $l(e){var t=e.domain;return e.ticks=function(r){var n=t();return j0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return hx(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],u;return l<o&&(u=o,o=l,l=u,u=a,a=s,s=u),u=mf(o,l,r),u>0?(o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u,u=mf(o,l,r)):u<0&&(o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u,u=mf(o,l,r)),u>0?(n[a]=Math.floor(o/u)*u,n[s]=Math.ceil(l/u)*u,t(n)):u<0&&(n[a]=Math.ceil(o*u)/u,n[s]=Math.floor(l*u)/u,t(n)),e},e}function va(){var e=Mm(ga,ga);return e.copy=function(){return Df(e,va())},Ui.apply(e,arguments),$l(e)}var Zo=ae(()=>{vi();ro();yi();px()});var zT=ae(()=>{Ko();Zo();dx()});var mx=ae(()=>{});var Am=ae(()=>{vi();mx();ro();yi()});var Tm=ae(()=>{Zo();ro();yi()});var Lm=ae(()=>{Zo();ro();yi()});var FT=ae(()=>{vi();Ko();yi()});var BT=ae(()=>{vi();Ko();Zo();yi()});var UT=ae(()=>{vi();Ko();yi()});function oi(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=function(s){return e(s=new Date(+s)),s},a.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},a.round=function(s){var o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},a.range=function(s,o,l){var u=[],g;if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;do u.push(g=new Date(+s)),t(s,l),e(s);while(g<s&&s<o);return u},a.filter=function(s){return oi(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,l){if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););})},r&&(a.count=function(s,o){return gx.setTime(+s),vx.setTime(+o),e(gx),e(vx),Math.floor(r(gx,vx))},a.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?function(o){return n(o)%s===0}:function(o){return a.count(0,o)%s===0}):a}),a}var gx,vx,Ql=ae(()=>{gx=new Date,vx=new Date});var km,Om,Nm,Qc=ae(()=>{km=6e4,Om=864e5,Nm=6048e5});var jT,Pm,R9,RT=ae(()=>{Ql();Qc();jT=oi(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*km)/Om},function(e){return e.getDate()-1}),Pm=jT,R9=jT.range});function ql(e){return oi(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*km)/Nm})}var qc,Mf,WT,GT,Xo,HT,VT,YT,W9,G9,H9,V9,Y9,K9,KT=ae(()=>{Ql();Qc();qc=ql(0),Mf=ql(1),WT=ql(2),GT=ql(3),Xo=ql(4),HT=ql(5),VT=ql(6),YT=qc.range,W9=Mf.range,G9=WT.range,H9=GT.range,V9=Xo.range,Y9=HT.range,K9=VT.range});var _x,Jl,Z9,ZT=ae(()=>{Ql();_x=oi(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});_x.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:oi(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};Jl=_x,Z9=_x.range});var XT,Im,X9,$T=ae(()=>{Ql();Qc();XT=oi(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Om},function(e){return e.getUTCDate()-1}),Im=XT,X9=XT.range});function eu(e){return oi(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/Nm})}var Jc,Af,QT,qT,$o,JT,e4,t4,$9,Q9,q9,J9,e7,t7,r4=ae(()=>{Ql();Qc();Jc=eu(0),Af=eu(1),QT=eu(2),qT=eu(3),$o=eu(4),JT=eu(5),e4=eu(6),t4=Jc.range,$9=Af.range,Q9=QT.range,q9=qT.range,J9=$o.range,e7=JT.range,t7=e4.range});var bx,tu,r7,n4=ae(()=>{Ql();bx=oi(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});bx.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:oi(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};tu=bx,r7=bx.range});var yx=ae(()=>{RT();KT();ZT();$T();r4();n4()});function xx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Sx(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,g=th(a),p=rh(a),_=th(s),x=rh(s),S=th(o),w=rh(o),c=th(l),v=rh(l),y=th(u),b=rh(u),C={a:G,A:$,b:R,B:V,c:null,d:u4,e:u4,f:E7,g:I7,G:F7,H:w7,I:S7,j:C7,L:p4,m:D7,M:M7,p:X,q:Q,Q:c4,s:h4,S:A7,u:T7,U:L7,V:k7,w:O7,W:N7,x:null,X:null,y:P7,Y:z7,Z:B7,"%":d4},E={a:te,A:we,b:Pe,B:xe,c:null,d:f4,e:f4,f:W7,g:q7,G:eF,H:U7,I:j7,j:R7,L:g4,m:G7,M:H7,p:Fe,q:Ae,Q:c4,s:h4,S:V7,u:Y7,U:K7,V:Z7,w:X7,W:$7,x:null,X:null,y:Q7,Y:J7,Z:tF,"%":d4},h={a:k,A:z,b:O,B:I,c:H,d:o4,e:o4,f:_7,g:s4,G:a4,H:l4,I:l4,j:p7,L:v7,m:h7,M:m7,p:N,q:c7,Q:y7,s:x7,S:g7,u:o7,U:l7,V:u7,w:s7,W:f7,x:Y,X:q,y:s4,Y:a4,Z:d7,"%":b7};C.x=f(r,C),C.X=f(n,C),C.c=f(t,C),E.x=f(r,E),E.X=f(n,E),E.c=f(t,E);function f(be,Qe){return function(Xe){var U=[],pe=-1,_e=0,ie=be.length,de,ye,je;for(Xe instanceof Date||(Xe=new Date(+Xe));++pe<ie;)be.charCodeAt(pe)===37&&(U.push(be.slice(_e,pe)),(ye=i4[de=be.charAt(++pe)])!=null?de=be.charAt(++pe):ye=de==="e"?" ":"0",(je=Qe[de])&&(de=je(Xe,ye)),U.push(de),_e=pe+1);return U.push(be.slice(_e,pe)),U.join("")}}function D(be,Qe){return function(Xe){var U=eh(1900,void 0,1),pe=M(U,be,Xe+="",0),_e,ie;if(pe!=Xe.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(Qe&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(_e=wx(eh(U.y,0,1)),ie=_e.getUTCDay(),_e=ie>4||ie===0?Af.ceil(_e):Af(_e),_e=Im.offset(_e,(U.V-1)*7),U.y=_e.getUTCFullYear(),U.m=_e.getUTCMonth(),U.d=_e.getUTCDate()+(U.w+6)%7):(_e=xx(eh(U.y,0,1)),ie=_e.getDay(),_e=ie>4||ie===0?Mf.ceil(_e):Mf(_e),_e=Pm.offset(_e,(U.V-1)*7),U.y=_e.getFullYear(),U.m=_e.getMonth(),U.d=_e.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),ie="Z"in U?wx(eh(U.y,0,1)).getUTCDay():xx(eh(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(ie+5)%7:U.w+U.U*7-(ie+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,wx(U)):xx(U)}}function M(be,Qe,Xe,U){for(var pe=0,_e=Qe.length,ie=Xe.length,de,ye;pe<_e;){if(U>=ie)return-1;if(de=Qe.charCodeAt(pe++),de===37){if(de=Qe.charAt(pe++),ye=h[de in i4?Qe.charAt(pe++):de],!ye||(U=ye(be,Xe,U))<0)return-1}else if(de!=Xe.charCodeAt(U++))return-1}return U}function N(be,Qe,Xe){var U=g.exec(Qe.slice(Xe));return U?(be.p=p[U[0].toLowerCase()],Xe+U[0].length):-1}function k(be,Qe,Xe){var U=S.exec(Qe.slice(Xe));return U?(be.w=w[U[0].toLowerCase()],Xe+U[0].length):-1}function z(be,Qe,Xe){var U=_.exec(Qe.slice(Xe));return U?(be.w=x[U[0].toLowerCase()],Xe+U[0].length):-1}function O(be,Qe,Xe){var U=y.exec(Qe.slice(Xe));return U?(be.m=b[U[0].toLowerCase()],Xe+U[0].length):-1}function I(be,Qe,Xe){var U=c.exec(Qe.slice(Xe));return U?(be.m=v[U[0].toLowerCase()],Xe+U[0].length):-1}function H(be,Qe,Xe){return M(be,t,Qe,Xe)}function Y(be,Qe,Xe){return M(be,r,Qe,Xe)}function q(be,Qe,Xe){return M(be,n,Qe,Xe)}function G(be){return o[be.getDay()]}function $(be){return s[be.getDay()]}function R(be){return u[be.getMonth()]}function V(be){return l[be.getMonth()]}function X(be){return a[+(be.getHours()>=12)]}function Q(be){return 1+~~(be.getMonth()/3)}function te(be){return o[be.getUTCDay()]}function we(be){return s[be.getUTCDay()]}function Pe(be){return u[be.getUTCMonth()]}function xe(be){return l[be.getUTCMonth()]}function Fe(be){return a[+(be.getUTCHours()>=12)]}function Ae(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Qe=f(be+="",C);return Qe.toString=function(){return be},Qe},parse:function(be){var Qe=D(be+="",!1);return Qe.toString=function(){return be},Qe},utcFormat:function(be){var Qe=f(be+="",E);return Qe.toString=function(){return be},Qe},utcParse:function(be){var Qe=D(be+="",!0);return Qe.toString=function(){return be},Qe}}}function Lr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function a7(e){return e.replace(i7,"\\$&")}function th(e){return new RegExp("^(?:"+e.map(a7).join("|")+")","i")}function rh(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function s7(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function o7(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function l7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function u7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function f7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function a4(e,t,r){var n=Rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function s4(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function d7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function c7(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function h7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function o4(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function l4(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function m7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function g7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function v7(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _7(e,t,r){var n=Rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function b7(e,t,r){var n=n7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function y7(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function x7(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function u4(e,t){return Lr(e.getDate(),t,2)}function w7(e,t){return Lr(e.getHours(),t,2)}function S7(e,t){return Lr(e.getHours()%12||12,t,2)}function C7(e,t){return Lr(1+Pm.count(Jl(e),e),t,3)}function p4(e,t){return Lr(e.getMilliseconds(),t,3)}function E7(e,t){return p4(e,t)+"000"}function D7(e,t){return Lr(e.getMonth()+1,t,2)}function M7(e,t){return Lr(e.getMinutes(),t,2)}function A7(e,t){return Lr(e.getSeconds(),t,2)}function T7(e){var t=e.getDay();return t===0?7:t}function L7(e,t){return Lr(qc.count(Jl(e)-1,e),t,2)}function m4(e){var t=e.getDay();return t>=4||t===0?Xo(e):Xo.ceil(e)}function k7(e,t){return e=m4(e),Lr(Xo.count(Jl(e),e)+(Jl(e).getDay()===4),t,2)}function O7(e){return e.getDay()}function N7(e,t){return Lr(Mf.count(Jl(e)-1,e),t,2)}function P7(e,t){return Lr(e.getFullYear()%100,t,2)}function I7(e,t){return e=m4(e),Lr(e.getFullYear()%100,t,2)}function z7(e,t){return Lr(e.getFullYear()%1e4,t,4)}function F7(e,t){var r=e.getDay();return e=r>=4||r===0?Xo(e):Xo.ceil(e),Lr(e.getFullYear()%1e4,t,4)}function B7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lr(t/60|0,"0",2)+Lr(t%60,"0",2)}function f4(e,t){return Lr(e.getUTCDate(),t,2)}function U7(e,t){return Lr(e.getUTCHours(),t,2)}function j7(e,t){return Lr(e.getUTCHours()%12||12,t,2)}function R7(e,t){return Lr(1+Im.count(tu(e),e),t,3)}function g4(e,t){return Lr(e.getUTCMilliseconds(),t,3)}function W7(e,t){return g4(e,t)+"000"}function G7(e,t){return Lr(e.getUTCMonth()+1,t,2)}function H7(e,t){return Lr(e.getUTCMinutes(),t,2)}function V7(e,t){return Lr(e.getUTCSeconds(),t,2)}function Y7(e){var t=e.getUTCDay();return t===0?7:t}function K7(e,t){return Lr(Jc.count(tu(e)-1,e),t,2)}function v4(e){var t=e.getUTCDay();return t>=4||t===0?$o(e):$o.ceil(e)}function Z7(e,t){return e=v4(e),Lr($o.count(tu(e),e)+(tu(e).getUTCDay()===4),t,2)}function X7(e){return e.getUTCDay()}function $7(e,t){return Lr(Af.count(tu(e)-1,e),t,2)}function Q7(e,t){return Lr(e.getUTCFullYear()%100,t,2)}function q7(e,t){return e=v4(e),Lr(e.getUTCFullYear()%100,t,2)}function J7(e,t){return Lr(e.getUTCFullYear()%1e4,t,4)}function eF(e,t){var r=e.getUTCDay();return e=r>=4||r===0?$o(e):$o.ceil(e),Lr(e.getUTCFullYear()%1e4,t,4)}function tF(){return"+0000"}function d4(){return"%"}function c4(e){return+e}function h4(e){return Math.floor(+e/1e3)}var i4,Rn,n7,i7,_4=ae(()=>{yx();i4={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,n7=/^%/,i7=/[\\^$*+?|[\]().{}]/g});function Cx(e){return Tf=Sx(e),b4=Tf.format,y4=Tf.parse,x4=Tf.utcFormat,w4=Tf.utcParse,Tf}var Tf,b4,y4,x4,w4,S4=ae(()=>{_4();Cx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var C4=ae(()=>{S4()});var rF,nF,iF,Ex,oJ,lJ,uJ,Dx=ae(()=>{vi();Ko();ro();yi();mx();rF=1e3,nF=rF*60,iF=nF*60,Ex=iF*24,oJ=Ex*7,lJ=Ex*30,uJ=Ex*365});var E4=ae(()=>{Dx();yi()});var Mx=ae(()=>{ro();yi();Zo();Am();Tm();Lm()});var M4=ae(()=>{vi();ro();yi()});var A4=ae(()=>{ro();yi();Zo();Am();Mx();Tm();Lm()});var T4=ae(()=>{kT();zT();Zo();Am();Tm();ux();Lm();FT();BT();UT();Dx();E4();Mx();M4();A4();px()});var L4=ae(()=>{});function bs(e){return function(){return e}}var Ax=ae(()=>{});var zm,wee,k4,O4=ae(()=>{zm=Math.PI,wee=zm/2,k4=2*zm});function N4(e){this._context=e}function nh(e){return new N4(e)}var Tx=ae(()=>{N4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function P4(e){return e[0]}function I4(e){return e[1]}var z4=ae(()=>{});function Fm(){var e=P4,t=I4,r=bs(!0),n=null,a=nh,s=null;function o(l){var u,g=l.length,p,_=!1,x;for(n==null&&(s=a(x=Kc())),u=0;u<=g;++u)!(u<g&&r(p=l[u],u,l))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+e(p,u,l),+t(p,u,l));if(x)return s=null,x+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:bs(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:bs(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:bs(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(s=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=s=null:s=a(n=l),o):n},o}var F4=ae(()=>{gm();Ax();Tx();z4()});var B4,U4=ae(()=>{O4();B4={draw:function(e,t){var r=Math.sqrt(t/zm);e.moveTo(r,0),e.arc(0,0,r,0,k4)}}});var Lx,j4=ae(()=>{Lx={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}}});function kx(){var e=bs(B4),t=bs(64),r=null;function n(){var a;if(r||(r=a=Kc()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return n.type=function(a){return arguments.length?(e=typeof a=="function"?a:bs(a),n):e},n.size=function(a){return arguments.length?(t=typeof a=="function"?a:bs(+a),n):t},n.context=function(a){return arguments.length?(r=a??null,n):r},n}var R4=ae(()=>{gm();U4();Ax()});function W4(e){return e<0?-1:1}function G4(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(W4(s)+W4(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function H4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ox(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Bm(e){this._context=e}function lF(e){this._context=new V4(e)}function V4(e){this._context=e}function Nx(e){return new Bm(e)}var Y4=ae(()=>{Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ox(this,this._t0,H4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ox(this,H4(this,r=G4(this,e,t)),r);break;default:Ox(this,this._t0,r=G4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};(lF.prototype=Object.create(Bm.prototype)).point=function(e,t){Bm.prototype.point.call(this,t,e)};V4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}}});var K4=ae(()=>{F4();R4();j4();Tx();Y4()});var Z4=ae(()=>{});var X4=ae(()=>{});function Px(){this._=null}function Lf(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ih(e,t){var r=t,n=t.R,a=r.U;a?a.L===r?a.L=n:a.R=n:e._=n,n.U=a,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function ah(e,t){var r=t,n=t.L,a=r.U;a?a.L===r?a.L=n:a.R=n:e._=n,n.U=a,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function $4(e){for(;e.L;)e=e.L;return e}var Ix,Um=ae(()=>{Px.prototype={constructor:Px,insert:function(e,t){var r,n,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;r=e}else this._?(e=$4(this._),t.P=null,t.N=e,e.P=e.L=t,r=e):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,e=t;r&&r.C;)n=r.U,r===n.L?(a=n.R,a&&a.C?(r.C=a.C=!1,n.C=!0,e=n):(e===r.R&&(ih(this,r),e=r,r=e.U),r.C=!1,n.C=!0,ah(this,n))):(a=n.L,a&&a.C?(r.C=a.C=!1,n.C=!0,e=n):(e===r.L&&(ah(this,r),e=r,r=e.U),r.C=!1,n.C=!0,ih(this,n))),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,r,n=e.L,a=e.R,s,o;if(n?a?s=$4(a):s=n:s=a,t?t.L===e?t.L=s:t.R=s:this._=s,n&&a?(o=s.C,s.C=e.C,s.L=n,n.U=s,s!==a?(t=s.U,s.U=e.U,e=s.R,t.L=e,s.R=a,a.U=s):(s.U=t,t=s,e=s.R)):(o=e.C,e=s),e&&(e.U=t),!o){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(r=t.R,r.C&&(r.C=!1,t.C=!0,ih(this,t),r=t.R),r.L&&r.L.C||r.R&&r.R.C){(!r.R||!r.R.C)&&(r.L.C=!1,r.C=!0,ah(this,r),r=t.R),r.C=t.C,t.C=r.R.C=!1,ih(this,t),e=this._;break}}else if(r=t.L,r.C&&(r.C=!1,t.C=!0,ah(this,t),r=t.L),r.L&&r.L.C||r.R&&r.R.C){(!r.L||!r.L.C)&&(r.R.C=!1,r.C=!0,ih(this,r),r=t.L),r.C=t.C,t.C=r.L.C=!1,ah(this,t),e=this._;break}r.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};Ix=Px});function kf(e,t,r,n){var a=[null,null],s=Wn.push(a)-1;return a.left=e,a.right=t,r&&sh(a,e,t,r),n&&sh(a,t,e,n),xi[e.index].halfedges.push(s),xi[t.index].halfedges.push(s),a}function Of(e,t,r){var n=[t,r];return n.left=e,n}function sh(e,t,r,n){!e[0]&&!e[1]?(e[0]=n,e.left=t,e.right=r):e.left===r?e[1]=n:e[0]=n}function uF(e,t,r,n,a){var s=e[0],o=e[1],l=s[0],u=s[1],g=o[0],p=o[1],_=0,x=1,S=g-l,w=p-u,c;if(c=t-l,!(!S&&c>0)){if(c/=S,S<0){if(c<_)return;c<x&&(x=c)}else if(S>0){if(c>x)return;c>_&&(_=c)}if(c=n-l,!(!S&&c<0)){if(c/=S,S<0){if(c>x)return;c>_&&(_=c)}else if(S>0){if(c<_)return;c<x&&(x=c)}if(c=r-u,!(!w&&c>0)){if(c/=w,w<0){if(c<_)return;c<x&&(x=c)}else if(w>0){if(c>x)return;c>_&&(_=c)}if(c=a-u,!(!w&&c<0)){if(c/=w,w<0){if(c>x)return;c>_&&(_=c)}else if(w>0){if(c<_)return;c<x&&(x=c)}return!(_>0)&&!(x<1)||(_>0&&(e[0]=[l+_*S,u+_*w]),x<1&&(e[1]=[l+x*S,u+x*w])),!0}}}}}function fF(e,t,r,n,a){var s=e[1];if(s)return!0;var o=e[0],l=e.left,u=e.right,g=l[0],p=l[1],_=u[0],x=u[1],S=(g+_)/2,w=(p+x)/2,c,v;if(x===p){if(S<t||S>=n)return;if(g>_){if(!o)o=[S,r];else if(o[1]>=a)return;s=[S,a]}else{if(!o)o=[S,a];else if(o[1]<r)return;s=[S,r]}}else if(c=(g-_)/(x-p),v=w-c*S,c<-1||c>1)if(g>_){if(!o)o=[(r-v)/c,r];else if(o[1]>=a)return;s=[(a-v)/c,a]}else{if(!o)o=[(a-v)/c,a];else if(o[1]<r)return;s=[(r-v)/c,r]}else if(p<x){if(!o)o=[t,c*t+v];else if(o[0]>=n)return;s=[n,c*n+v]}else{if(!o)o=[n,c*n+v];else if(o[0]<t)return;s=[t,c*t+v]}return e[0]=o,e[1]=s,!0}function Q4(e,t,r,n){for(var a=Wn.length,s;a--;)(!fF(s=Wn[a],e,t,r,n)||!uF(s,e,t,r,n)||!(Math.abs(s[0][0]-s[1][0])>Rr||Math.abs(s[0][1]-s[1][1])>Rr))&&delete Wn[a]}var jm=ae(()=>{Nf()});function q4(e){return xi[e.index]={site:e,halfedges:[]}}function dF(e,t){var r=e.site,n=t.left,a=t.right;return r===a&&(a=n,n=r),a?Math.atan2(a[1]-n[1],a[0]-n[0]):(r===n?(n=t[1],a=t[0]):(n=t[0],a=t[1]),Math.atan2(n[0]-a[0],a[1]-n[1]))}function zx(e,t){return t[+(t.left!==e.site)]}function cF(e,t){return t[+(t.left===e.site)]}function J4(){for(var e=0,t=xi.length,r,n,a,s;e<t;++e)if((r=xi[e])&&(s=(n=r.halfedges).length)){var o=new Array(s),l=new Array(s);for(a=0;a<s;++a)o[a]=a,l[a]=dF(r,Wn[n[a]]);for(o.sort(function(u,g){return l[g]-l[u]}),a=0;a<s;++a)l[a]=n[o[a]];for(a=0;a<s;++a)n[a]=l[a]}}function e6(e,t,r,n){var a=xi.length,s,o,l,u,g,p,_,x,S,w,c,v,y=!0;for(s=0;s<a;++s)if(o=xi[s]){for(l=o.site,g=o.halfedges,u=g.length;u--;)Wn[g[u]]||g.splice(u,1);for(u=0,p=g.length;u<p;)w=cF(o,Wn[g[u]]),c=w[0],v=w[1],_=zx(o,Wn[g[++u%p]]),x=_[0],S=_[1],(Math.abs(c-x)>Rr||Math.abs(v-S)>Rr)&&(g.splice(u,0,Wn.push(Of(l,w,Math.abs(c-e)<Rr&&n-v>Rr?[e,Math.abs(x-e)<Rr?S:n]:Math.abs(v-n)<Rr&&r-c>Rr?[Math.abs(S-n)<Rr?x:r,n]:Math.abs(c-r)<Rr&&v-t>Rr?[r,Math.abs(x-r)<Rr?S:t]:Math.abs(v-t)<Rr&&c-e>Rr?[Math.abs(S-t)<Rr?x:e,t]:null))-1),++p);p&&(y=!1)}if(y){var b,C,E,h=1/0;for(s=0,y=null;s<a;++s)(o=xi[s])&&(l=o.site,b=l[0]-e,C=l[1]-t,E=b*b+C*C,E<h&&(h=E,y=o));if(y){var f=[e,t],D=[e,n],M=[r,n],N=[r,t];y.halfedges.push(Wn.push(Of(l=y.site,f,D))-1,Wn.push(Of(l,D,M))-1,Wn.push(Of(l,M,N))-1,Wn.push(Of(l,N,f))-1)}}for(s=0;s<a;++s)(o=xi[s])&&(o.halfedges.length||delete xi[s])}var Fx=ae(()=>{jm();Nf()});function hF(){Lf(this),this.x=this.y=this.arc=this.site=this.cy=null}function ru(e){var t=e.P,r=e.N;if(!(!t||!r)){var n=t.site,a=e.site,s=r.site;if(n!==s){var o=a[0],l=a[1],u=n[0]-o,g=n[1]-l,p=s[0]-o,_=s[1]-l,x=2*(u*_-g*p);if(!(x>=-r6)){var S=u*u+g*g,w=p*p+_*_,c=(_*S-g*w)/x,v=(u*w-p*S)/x,y=t6.pop()||new hF;y.arc=e,y.site=a,y.x=c+o,y.y=(y.cy=v+l)+Math.sqrt(c*c+v*v),e.circle=y;for(var b=null,C=Pf._;C;)if(y.y<C.y||y.y===C.y&&y.x<=C.x)if(C.L)C=C.L;else{b=C.P;break}else if(C.R)C=C.R;else{b=C;break}Pf.insert(b,y),b||(Rm=y)}}}}function nu(e){var t=e.circle;t&&(t.P||(Rm=t.N),Pf.remove(t),t6.push(t),Lf(t),e.circle=null)}var t6,Rm,Bx=ae(()=>{Um();Nf();t6=[]});function pF(){Lf(this),this.edge=this.site=this.circle=null}function n6(e){var t=i6.pop()||new pF;return t.site=e,t}function Ux(e){nu(e),iu.remove(e),i6.push(e),Lf(e)}function a6(e){var t=e.circle,r=t.x,n=t.cy,a=[r,n],s=e.P,o=e.N,l=[e];Ux(e);for(var u=s;u.circle&&Math.abs(r-u.circle.x)<Rr&&Math.abs(n-u.circle.cy)<Rr;)s=u.P,l.unshift(u),Ux(u),u=s;l.unshift(u),nu(u);for(var g=o;g.circle&&Math.abs(r-g.circle.x)<Rr&&Math.abs(n-g.circle.cy)<Rr;)o=g.N,l.push(g),Ux(g),g=o;l.push(g),nu(g);var p=l.length,_;for(_=1;_<p;++_)g=l[_],u=l[_-1],sh(g.edge,u.site,g.site,a);u=l[0],g=l[p-1],g.edge=kf(u.site,g.site,null,a),ru(u),ru(g)}function s6(e){for(var t=e[0],r=e[1],n,a,s,o,l=iu._;l;)if(s=o6(l,r)-t,s>Rr)l=l.L;else if(o=t-mF(l,r),o>Rr){if(!l.R){n=l;break}l=l.R}else{s>-Rr?(n=l.P,a=l):o>-Rr?(n=l,a=l.N):n=a=l;break}q4(e);var u=n6(e);if(iu.insert(n,u),!(!n&&!a)){if(n===a){nu(n),a=n6(n.site),iu.insert(u,a),u.edge=a.edge=kf(n.site,u.site),ru(n),ru(a);return}if(!a){u.edge=kf(n.site,u.site);return}nu(n),nu(a);var g=n.site,p=g[0],_=g[1],x=e[0]-p,S=e[1]-_,w=a.site,c=w[0]-p,v=w[1]-_,y=2*(x*v-S*c),b=x*x+S*S,C=c*c+v*v,E=[(v*b-S*C)/y+p,(x*C-c*b)/y+_];sh(a.edge,g,w,E),u.edge=kf(g,e,null,E),a.edge=kf(e,w,null,E),ru(n),ru(a)}}function o6(e,t){var r=e.site,n=r[0],a=r[1],s=a-t;if(!s)return n;var o=e.P;if(!o)return-1/0;r=o.site;var l=r[0],u=r[1],g=u-t;if(!g)return l;var p=l-n,_=1/s-1/g,x=p/g;return _?(-x+Math.sqrt(x*x-2*_*(p*p/(-2*g)-u+g/2+a-s/2)))/_+n:(n+l)/2}function mF(e,t){var r=e.N;if(r)return o6(r,t);var n=e.site;return n[1]===t?n[0]:1/0}var i6,l6=ae(()=>{Um();Fx();Bx();jm();Nf();i6=[]});function gF(e,t,r){return(e[0]-r[0])*(t[1]-e[1])-(e[0]-t[0])*(r[1]-e[1])}function vF(e,t){return t[1]-e[1]||t[0]-e[0]}function Wm(e,t){var r=e.sort(vF).pop(),n,a,s;for(Wn=[],xi=new Array(e.length),iu=new Ix,Pf=new Ix;;)if(s=Rm,r&&(!s||r[1]<s.y||r[1]===s.y&&r[0]<s.x))(r[0]!==n||r[1]!==a)&&(s6(r),n=r[0],a=r[1]),r=e.pop();else if(s)a6(s.arc);else break;if(J4(),t){var o=+t[0][0],l=+t[0][1],u=+t[1][0],g=+t[1][1];Q4(o,l,u,g),e6(o,l,u,g)}this.edges=Wn,this.cells=xi,iu=Pf=Wn=xi=null}var Rr,r6,iu,xi,Pf,Wn,Nf=ae(()=>{l6();Fx();Bx();jm();Um();Rr=1e-6,r6=1e-12;Wm.prototype={constructor:Wm,polygons:function(){var e=this.edges;return this.cells.map(function(t){var r=t.halfedges.map(function(n){return zx(t,e[n])});return r.data=t.site.data,r})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(r,n){if(l=(s=r.halfedges).length)for(var a=r.site,s,o=-1,l,u,g=t[s[l-1]],p=g.left===a?g.right:g.left;++o<l;)u=p,g=t[s[o]],p=g.left===a?g.right:g.left,u&&p&&n<u.index&&n<p.index&&gF(a,u,p)<0&&e.push([a.data,u.data,p.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,r){for(var n=this,a,s=n._found||0,o=n.cells.length,l;!(l=n.cells[s]);)if(++s>=o)return null;var u=e-l.site[0],g=t-l.site[1],p=u*u+g*g;do l=n.cells[a=s],s=null,l.halfedges.forEach(function(_){var x=n.edges[_],S=x.left;if(!((S===l.site||!S)&&!(S=x.right))){var w=e-S[0],c=t-S[1],v=w*w+c*c;v<p&&(p=v,s=S.index)}});while(s!==null);return n._found=a,r==null||p<=r*r?l.site:null}}});var u6=ae(()=>{Z4();X4();Nf()});var f6=ae(()=>{u6()});var d6=ae(()=>{});var c6=ae(()=>{});function au(e,t,r){this.k=e,this.x=t,this.y=r}function Rx(e){for(;!e.__zoom;)if(!(e=e.parentNode))return jx;return e.__zoom}var jx,Wx=ae(()=>{au.prototype={constructor:au,scale:function(e){return e===1?this:new au(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new au(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jx=new au(1,0,0);Rx.prototype=au.prototype});var h6=ae(()=>{});var p6=ae(()=>{Gl();d6();c6();Wx();h6()});var m6=ae(()=>{p6();Wx()});var If=ae(()=>{NE();vi();aD();wA();LA();Ef();Go();HA();qb();AM();VA();zy();YA();rT();nx();wT();ST();gs();gm();CT();ZA();TT();T4();L4();pa();K4();yx();C4();um();Gl();f6();m6()});var g6=ae(()=>{});var Hm,Vm,Ym=ae(()=>{Hm="http://www.w3.org/1999/xhtml",Vm={svg:"http://www.w3.org/2000/svg",xhtml:Hm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function oh(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Vm.hasOwnProperty(t)?{space:Vm[t],local:e}:e}var Km=ae(()=>{Ym()});function _F(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Hm&&t.documentElement.namespaceURI===Hm?t.createElement(e):t.createElementNS(r,e)}}function bF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function lh(e){var t=oh(e);return(t.local?bF:_F)(t)}var Zm=ae(()=>{Km();Ym()});function Hx(){return new Gx}function Gx(){this._="@"+(++yF).toString(36)}var yF,v6=ae(()=>{yF=0;Gx.prototype=Hx.prototype={constructor:Gx,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});var b6,zf,_6,Vx,Yx=ae(()=>{b6=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(zf=document.documentElement,zf.matches||(_6=zf.webkitMatchesSelector||zf.msMatchesSelector||zf.mozMatchesSelector||zf.oMatchesSelector,b6=function(e){return function(){return _6.call(this,e)}}));Vx=b6});function xF(e,t,r){return e=w6(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function w6(e,t,r){return function(n){var a=uh;uh=n;try{e.call(this,this.__data__,t,r)}finally{uh=a}}}function wF(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function SF(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++n]=s;++n?t.length=n:delete this.__on}}}function CF(e,t,r){var n=x6.hasOwnProperty(e.type)?xF:w6;return function(a,s,o){var l=this.__on,u,g=n(t,s,o);if(l){for(var p=0,_=l.length;p<_;++p)if((u=l[p]).type===e.type&&u.name===e.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=g,u.capture=r),u.value=t;return}}this.addEventListener(e.type,g,r),u={type:e.type,name:e.name,value:t,listener:g,capture:r},l?l.push(u):this.__on=[u]}}function S6(e,t,r){var n=wF(e+""),a,s=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,g=l.length,p;u<g;++u)for(a=0,p=l[u];a<s;++a)if((o=n[a]).type===p.type&&o.name===p.name)return p.value}return}for(l=t?CF:SF,r==null&&(r=!1),a=0;a<s;++a)this.each(l(n[a],t,r));return this}var x6,uh,y6,Xm=ae(()=>{x6={},uh=null;typeof document<"u"&&(y6=document.documentElement,"onmouseenter"in y6||(x6={mouseenter:"mouseover",mouseleave:"mouseout"}))});var $m=ae(()=>{Xm()});var Qm=ae(()=>{});var D6=ae(()=>{$m();Qm()});function EF(){}function fh(e){return e==null?EF:function(){return this.querySelector(e)}}var qm=ae(()=>{});function M6(e){typeof e!="function"&&(e=fh(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=new Array(o),u,g,p=0;p<o;++p)(u=s[p])&&(g=e.call(u,u.__data__,p,s))&&("__data__"in u&&(g.__data__=u.__data__),l[p]=g);return new ln(n,this._parents)}var A6=ae(()=>{_a();qm()});function DF(){return[]}function Kx(e){return e==null?DF:function(){return this.querySelectorAll(e)}}var Zx=ae(()=>{});function T6(e){typeof e!="function"&&(e=Kx(e));for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var o=t[s],l=o.length,u,g=0;g<l;++g)(u=o[g])&&(n.push(e.call(u,u.__data__,g,o)),a.push(u));return new ln(n,a)}var L6=ae(()=>{_a();Zx()});function k6(e){typeof e!="function"&&(e=Vx(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=[],u,g=0;g<o;++g)(u=s[g])&&e.call(u,u.__data__,g,s)&&l.push(u);return new ln(n,this._parents)}var O6=ae(()=>{_a();Yx()});function Jm(e){return new Array(e.length)}var Xx=ae(()=>{});function N6(){return new ln(this._enter||this._groups.map(Jm),this._parents)}function dh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var $x=ae(()=>{Xx();_a();dh.prototype={constructor:dh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function P6(e){return function(){return e}}var I6=ae(()=>{});function MF(e,t,r,n,a,s){for(var o=0,l,u=t.length,g=s.length;o<g;++o)(l=t[o])?(l.__data__=s[o],n[o]=l):r[o]=new dh(e,s[o]);for(;o<u;++o)(l=t[o])&&(a[o]=l)}function AF(e,t,r,n,a,s,o){var l,u,g={},p=t.length,_=s.length,x=new Array(p),S;for(l=0;l<p;++l)(u=t[l])&&(x[l]=S=z6+o.call(u,u.__data__,l,t),S in g?a[l]=u:g[S]=u);for(l=0;l<_;++l)S=z6+o.call(e,s[l],l,s),(u=g[S])?(n[l]=u,u.__data__=s[l],g[S]=null):r[l]=new dh(e,s[l]);for(l=0;l<p;++l)(u=t[l])&&g[x[l]]===u&&(a[l]=u)}function F6(e,t){if(!e)return S=new Array(this.size()),g=-1,this.each(function(f){S[++g]=f}),S;var r=t?AF:MF,n=this._parents,a=this._groups;typeof e!="function"&&(e=P6(e));for(var s=a.length,o=new Array(s),l=new Array(s),u=new Array(s),g=0;g<s;++g){var p=n[g],_=a[g],x=_.length,S=e.call(p,p&&p.__data__,g,n),w=S.length,c=l[g]=new Array(w),v=o[g]=new Array(w),y=u[g]=new Array(x);r(p,_,c,v,y,S,t);for(var b=0,C=0,E,h;b<w;++b)if(E=c[b]){for(b>=C&&(C=b+1);!(h=v[C])&&++C<w;);E._next=h||null}}return o=new ln(o,n),o._enter=l,o._exit=u,o}var z6,B6=ae(()=>{_a();$x();I6();z6="$"});function U6(){return new ln(this._exit||this._groups.map(Jm),this._parents)}var j6=ae(()=>{Xx();_a()});function R6(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),l=0;l<s;++l)for(var u=t[l],g=r[l],p=u.length,_=o[l]=new Array(p),x,S=0;S<p;++S)(x=u[S]||g[S])&&(_[S]=x);for(;l<n;++l)o[l]=t[l];return new ln(o,this._parents)}var W6=ae(()=>{_a()});function G6(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],o;--a>=0;)(o=n[a])&&(s&&s!==o.nextSibling&&s.parentNode.insertBefore(o,s),s=o);return this}var H6=ae(()=>{});function V6(e){e||(e=TF);function t(_,x){return _&&x?e(_.__data__,x.__data__):!_-!x}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var o=r[s],l=o.length,u=a[s]=new Array(l),g,p=0;p<l;++p)(g=o[p])&&(u[p]=g);u.sort(t)}return new ln(a,this._parents).order()}function TF(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Y6=ae(()=>{_a()});function K6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var Z6=ae(()=>{});function X6(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}var $6=ae(()=>{});function Q6(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null}var q6=ae(()=>{});function J6(){var e=0;return this.each(function(){++e}),e}var e8=ae(()=>{});function t8(){return!this.node()}var r8=ae(()=>{});function n8(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}var i8=ae(()=>{});function LF(e){return function(){this.removeAttribute(e)}}function kF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function OF(e,t){return function(){this.setAttribute(e,t)}}function NF(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function PF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function IF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function a8(e,t){var r=oh(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?kF:LF:typeof t=="function"?r.local?IF:PF:r.local?NF:OF)(r,t))}var s8=ae(()=>{Km()});function ch(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var eg=ae(()=>{});function zF(e){return function(){this.style.removeProperty(e)}}function FF(e,t,r){return function(){this.style.setProperty(e,t,r)}}function BF(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function o8(e,t,r){var n;return arguments.length>1?this.each((t==null?zF:typeof t=="function"?BF:FF)(e,t,r??"")):ch(n=this.node()).getComputedStyle(n,null).getPropertyValue(e)}var l8=ae(()=>{eg()});function UF(e){return function(){delete this[e]}}function jF(e,t){return function(){this[e]=t}}function RF(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function u8(e,t){return arguments.length>1?this.each((t==null?UF:typeof t=="function"?RF:jF)(e,t)):this.node()[e]}var f8=ae(()=>{});function d8(e){return e.trim().split(/^|\s+/)}function Qx(e){return e.classList||new c8(e)}function c8(e){this._node=e,this._names=d8(e.getAttribute("class")||"")}function h8(e,t){for(var r=Qx(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function p8(e,t){for(var r=Qx(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function WF(e){return function(){h8(this,e)}}function GF(e){return function(){p8(this,e)}}function HF(e,t){return function(){(t.apply(this,arguments)?h8:p8)(this,e)}}function m8(e,t){var r=d8(e+"");if(arguments.length<2){for(var n=Qx(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?HF:t?WF:GF)(r,t))}var g8=ae(()=>{c8.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function VF(){this.textContent=""}function YF(e){return function(){this.textContent=e}}function KF(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function v8(e){return arguments.length?this.each(e==null?VF:(typeof e=="function"?KF:YF)(e)):this.node().textContent}var _8=ae(()=>{});function ZF(){this.innerHTML=""}function XF(e){return function(){this.innerHTML=e}}function $F(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function b8(e){return arguments.length?this.each(e==null?ZF:(typeof e=="function"?$F:XF)(e)):this.node().innerHTML}var y8=ae(()=>{});function QF(){this.nextSibling&&this.parentNode.appendChild(this)}function x8(){return this.each(QF)}var w8=ae(()=>{});function qF(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S8(){return this.each(qF)}var C8=ae(()=>{});function E8(e){var t=typeof e=="function"?e:lh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var D8=ae(()=>{Zm()});function JF(){return null}function M8(e,t){var r=typeof e=="function"?e:lh(e),n=t==null?JF:typeof t=="function"?t:fh(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var A8=ae(()=>{Zm();qm()});function eB(){var e=this.parentNode;e&&e.removeChild(this)}function T8(){return this.each(eB)}var L8=ae(()=>{});function k8(e){return arguments.length?this.property("__data__",e):this.node().__data__}var O8=ae(()=>{});function N8(e,t,r){var n=ch(e),a=n.CustomEvent;a?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function tB(e,t){return function(){return N8(this,e,t)}}function rB(e,t){return function(){return N8(this,e,t.apply(this,arguments))}}function P8(e,t){return this.each((typeof t=="function"?rB:tB)(e,t))}var I8=ae(()=>{eg()});function ln(e,t){this._groups=e,this._parents=t}function nB(){return new ln([[document.documentElement]],tg)}var tg,_a=ae(()=>{A6();L6();O6();B6();$x();j6();W6();H6();Y6();Z6();$6();q6();e8();r8();i8();s8();l8();f8();g8();_8();y8();w8();C8();D8();A8();L8();O8();Xm();I8();tg=[null];ln.prototype=nB.prototype={constructor:ln,select:M6,selectAll:T6,filter:k6,data:F6,enter:N6,exit:U6,merge:R6,order:G6,sort:V6,call:K6,nodes:X6,node:Q6,size:J6,empty:t8,each:n8,attr:a8,style:o8,property:u8,classed:m8,text:v8,html:b8,raise:x8,lower:S8,append:E8,insert:M8,remove:T8,datum:k8,on:S6,dispatch:P8}});function qx(e){return typeof e=="string"?new ln([[document.querySelector(e)]],[document.documentElement]):new ln([[e]],tg)}var z8=ae(()=>{_a()});var F8=ae(()=>{_a()});var B8=ae(()=>{$m();Qm()});var U8=ae(()=>{$m();Qm()});var j8=ae(()=>{Zm();v6();Yx();D6();Km();Ym();z8();F8();_a();qm();Zx();B8();U8();eg();Xm()});function su(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var rg=ae(()=>{});function ys(e){return e=su(Math.abs(e)),e?e[1]:NaN}var hh=ae(()=>{rg()});function R8(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}var W8=ae(()=>{});function G8(e,t){e=e.toPrecision(t);e:for(var r=e.length,n=1,a=-1,s;n<r;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;case"e":break e;default:a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var H8=ae(()=>{});function V8(e,t){var r=su(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Jx=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+su(e,Math.max(0,t+s-1))[0]}var Jx,ew=ae(()=>{rg()});function tw(e,t){var r=su(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var Y8=ae(()=>{rg()});var ng,rw=ae(()=>{H8();ew();Y8();ng={"":G8,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return tw(e*100,t)},r:tw,s:V8,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}});function xs(e){return new K8(e)}function K8(e){if(!(t=iB.exec(e)))throw new Error("invalid format: "+e);var t,r=t[1]||" ",n=t[2]||">",a=t[3]||"-",s=t[4]||"",o=!!t[5],l=t[6]&&+t[6],u=!!t[7],g=t[8]&&+t[8].slice(1),p=t[9]||"";p==="n"?(u=!0,p="g"):ng[p]||(p=""),(o||r==="0"&&n==="=")&&(o=!0,r="0",n="="),this.fill=r,this.align=n,this.sign=a,this.symbol=s,this.zero=o,this.width=l,this.comma=u,this.precision=g,this.type=p}var iB,nw=ae(()=>{rw();iB=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;K8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type}});function aB(e){return e}function ou(e){var t=e.grouping&&e.thousands?R8(e.grouping,e.thousands):aB,r=e.currency,n=e.decimal;function a(o){o=xs(o);var l=o.fill,u=o.align,g=o.sign,p=o.symbol,_=o.zero,x=o.width,S=o.comma,w=o.precision,c=o.type,v=p==="$"?r[0]:p==="#"&&/[boxX]/.test(c)?"0"+c.toLowerCase():"",y=p==="$"?r[1]:/[%p]/.test(c)?"%":"",b=ng[c],C=!c||/[defgprs%]/.test(c);w=w==null?c?6:12:/[gprs]/.test(c)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(h){var f=v,D=y,M,N,k;if(c==="c")D=b(h)+D,h="";else{h=+h;var z=(h<0||1/h<0)&&(h*=-1,!0);if(h=b(h,w),z){for(M=-1,N=h.length,z=!1;++M<N;)if(k=h.charCodeAt(M),48<k&&k<58||c==="x"&&96<k&&k<103||c==="X"&&64<k&&k<71){z=!0;break}}if(f=(z?g==="("?g:"-":g==="-"||g==="("?"":g)+f,D=D+(c==="s"?Z8[8+Jx/3]:"")+(z&&g==="("?")":""),C){for(M=-1,N=h.length;++M<N;)if(k=h.charCodeAt(M),48>k||k>57){D=(k===46?n+h.slice(M+1):h.slice(M))+D,h=h.slice(0,M);break}}}S&&!_&&(h=t(h,1/0));var O=f.length+h.length+D.length,I=O<x?new Array(x-O+1).join(l):"";switch(S&&_&&(h=t(I+h,I.length?x-D.length:1/0),I=""),u){case"<":return f+h+D+I;case"=":return f+I+h+D;case"^":return I.slice(0,O=I.length>>1)+f+h+D+I.slice(O)}return I+f+h+D}return E.toString=function(){return o+""},E}function s(o,l){var u=a((o=xs(o),o.type="f",o)),g=Math.max(-8,Math.min(8,Math.floor(ys(l)/3)))*3,p=Math.pow(10,-g),_=Z8[8+g/3];return function(x){return u(p*x)+_}}return{format:a,formatPrefix:s}}var Z8,iw=ae(()=>{hh();W8();nw();rw();ew();Z8=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function aw(e){return ig=ou(e),lu=ig.format,Ff=ig.formatPrefix,ig}var ig,lu,Ff,X8=ae(()=>{iw();aw({decimal:".",thousands:",",grouping:[3],currency:["$",""]})});function sw(e){return Math.max(0,-ys(Math.abs(e)))}var $8=ae(()=>{hh()});function ow(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ys(t)/3)))*3-ys(Math.abs(e)))}var Q8=ae(()=>{hh()});function lw(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ys(t)-ys(e))+1}var q8=ae(()=>{hh()});var ag=ae(()=>{X8();iw();nw();$8();Q8();q8()});function eL(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new sg(r)}function sg(e){this._=e}function oB(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function lB(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function J8(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=sB,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var sB,ph,tL=ae(()=>{sB={value:function(){}};sg.prototype=eL.prototype={constructor:sg,on:function(e,t){var r=this._,n=oB(e+"",r),a,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((a=(e=n[s]).type)&&(a=lB(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=n[s]).type)r[a]=J8(r[a],e.name,t);else if(t==null)for(a in r)r[a]=J8(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new sg(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};ph=eL});var rL=ae(()=>{tL()});function no(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var uu=ae(()=>{});function og(e){return e.length===1&&(e=uB(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)<0?n=s+1:a=s}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)>0?a=s:n=s+1}return n}}}function uB(e){return function(t,r){return no(e(t),r)}}var uw=ae(()=>{uu()});var nL,iL,fB,fu,fw=ae(()=>{uu();uw();nL=og(no),iL=nL.right,fB=nL.left,fu=iL});var aL=ae(()=>{});var Bf=ae(()=>{});var dw=ae(()=>{Bf()});var cw=ae(()=>{dw()});var hw=ae(()=>{});var sL,cB,hB,pw=ae(()=>{sL=Array.prototype,cB=sL.slice,hB=sL.map});var oL=ae(()=>{});var lL=ae(()=>{});function ug(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}var mw=ae(()=>{});function mh(e,t,r){var n=Qo(e,t,r);return ug(Math.ceil(e/n)*n,Math.floor(t/n)*n+n/2,n)}function Qo(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=pB?a*=10:s>=mB?a*=5:s>=gB&&(a*=2),t<e?-a:a}var pB,mB,gB,gw=ae(()=>{mw();pB=Math.sqrt(50),mB=Math.sqrt(10),gB=Math.sqrt(2)});var vw=ae(()=>{});var uL=ae(()=>{pw();fw();oL();hw();lL();gw();vw()});var fg=ae(()=>{Bf()});var fL=ae(()=>{pw();uu();Bf();fg()});var dL=ae(()=>{cw()});function Uf(e,t){var r=-1,n=e.length,a,s;if(t==null){for(;++r<n;)if((s=e[r])!=null&&s>=s){a=s;break}for(;++r<n;)(s=e[r])!=null&&s>a&&(a=s)}else{for(;++r<n;)if((s=t(e[r],r,e))!=null&&s>=s){a=s;break}for(;++r<n;)(s=t(e[r],r,e))!=null&&s>a&&(a=s)}return a}var cL=ae(()=>{});var hL=ae(()=>{Bf()});var pL=ae(()=>{uu();Bf();fg()});var mL=ae(()=>{});var bw=ae(()=>{});var gL=ae(()=>{});var vL=ae(()=>{});var _L=ae(()=>{uu()});var bL=ae(()=>{});function jf(e,t){var r=0,n=e.length,a,s=-1;if(t==null)for(;++s<n;)(a=+e[s])&&(r+=a);else for(;++s<n;)(a=+t(e[s],s,e))&&(r+=a);return r}var yL=ae(()=>{});var yw=ae(()=>{bw()});var xL=ae(()=>{yw()});var Za=ae(()=>{fw();uu();uw();aL();cw();hw();uL();fL();dL();vw();cL();hL();pL();mL();bw();gL();vL();fg();mw();_L();bL();yL();gw();yw();dw();xL()});var wL,dg,du,qo=ae(()=>{wL=Array.prototype,dg=wL.map,du=wL.slice});var xw=ae(()=>{Ef();qo()});var SL=ae(()=>{Za();xw()});function cg(e){return function(){return e}}var hg=ae(()=>{});function ww(e){return+e}var Sw=ae(()=>{});function pg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cg(t)}function SB(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=t?0:a>=r?1:n(a)}}}function CB(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=0?t:a>=1?r:n(a)}}}function EB(e,t,r,n){var a=e[0],s=e[1],o=t[0],l=t[1];return s<a?(a=r(s,a),o=n(l,o)):(a=r(a,s),o=n(o,l)),function(u){return o(a(u))}}function DB(e,t,r,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),o=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=r(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var g=fu(e,u,1,a)-1;return o[g](s[g](u))}}function gh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function Rf(e,t){var r=CL,n=CL,a=eo,s=!1,o,l,u;function g(){return o=Math.min(r.length,n.length)>2?DB:EB,l=u=null,p}function p(_){return(l||(l=o(r,n,s?SB(e):e,a)))(+_)}return p.invert=function(_){return(u||(u=o(n,r,pg,s?CB(t):t)))(+_)},p.domain=function(_){return arguments.length?(r=dg.call(_,ww),g()):r.slice()},p.range=function(_){return arguments.length?(n=du.call(_),g()):n.slice()},p.rangeRound=function(_){return n=du.call(_),a=zc,g()},p.clamp=function(_){return arguments.length?(s=!!_,g()):s},p.interpolate=function(_){return arguments.length?(a=_,g()):a},g()}var CL,vh=ae(()=>{Za();gs();qo();hg();Sw();CL=[0,1]});function EL(e,t,r){var n=e[0],a=e[e.length-1],s=Qo(n,a,t??10),o;switch(r=xs(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(n),Math.abs(a));return r.precision==null&&!isNaN(o=ow(s,l))&&(r.precision=o),Ff(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=lw(s,Math.max(Math.abs(n),Math.abs(a))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=sw(s))&&(r.precision=o-(r.type==="%")*2);break}}return lu(r)}var DL=ae(()=>{Za();ag()});function _h(e){var t=e.domain;return e.ticks=function(r){var n=t();return mh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){return EL(t(),r,n)},e.nice=function(r){var n=t(),a=n.length-1,s=r??10,o=n[0],l=n[a],u=Qo(o,l,s);return u&&(u=Qo(Math.floor(o/u)*u,Math.ceil(l/u)*u,s),n[0]=Math.floor(o/u)*u,n[a]=Math.ceil(l/u)*u,t(n)),e},e}function cu(){var e=Rf(pg,Tn);return e.copy=function(){return gh(e,cu())},_h(e)}var Wf=ae(()=>{Za();gs();vh();DL()});var ML=ae(()=>{qo();Wf();Sw()});var Cw=ae(()=>{});var AL=ae(()=>{Za();ag();hg();Cw();vh()});var TL=ae(()=>{hg();Wf();vh()});var LL=ae(()=>{Za();qo()});var kL=ae(()=>{Za();qo();Wf()});var OL=ae(()=>{Za();qo()});var AB,TB,LB,Ew,yle,xle,wle,Dw=ae(()=>{Za();qo();vh();Cw();AB=1e3,TB=AB*60,LB=TB*60,Ew=LB*24,yle=Ew*7,xle=Ew*30,wle=Ew*365});var NL=ae(()=>{Dw()});function ea(e){return e.match(/.{6}/g).map(function(t){return"#"+t})}var Gf=ae(()=>{});var kB,PL=ae(()=>{Gf();kB=ea("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var OB,IL=ae(()=>{Gf();OB=ea("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")});var NB,zL=ae(()=>{Gf();NB=ea("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")});var PB,FL=ae(()=>{Gf();PB=ea("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")});var IB,BL=ae(()=>{Go();gs();IB=yf(_i(300,.5,0),_i(-240,.5,1))});var zB,FB,Rle,UL=ae(()=>{Go();gs();zB=yf(_i(-100,.75,.35),_i(80,1.5,.8)),FB=yf(_i(260,.75,.35),_i(80,1.5,.8)),Rle=_i()});function mg(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var BB,UB,jB,RB,jL=ae(()=>{Gf();BB=mg(ea("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),UB=mg(ea("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),jB=mg(ea("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),RB=mg(ea("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var RL=ae(()=>{Wf()});var WL=ae(()=>{SL();ML();Wf();AL();xw();TL();LL();kL();OL();Dw();NL();PL();IL();zL();FL();BL();UL();jL();RL()});function $B(){var e=cu(),t="rect",r=15,n=15,a=10,s=2,o=[5],l=void 0,u=[],g="",p=!1,_="",x=Pr.d3_defaultLocale,S=Pr.d3_defaultFormatSpecifier,w=10,c="middle",v=Pr.d3_defaultDelimiter,y=void 0,b="vertical",C=!1,E=void 0,h=void 0,f=ph("cellover","cellout","cellclick");function D(M){var N=Pr.d3_calcType(e,C,o,u,x.format(S),v),k=M.selectAll("g").data([e]);k.enter().append("g").attr("class",g+"legendCells"),l&&Pr.d3_filterCells(N,l);var z=M.select("."+g+"legendCells").selectAll("."+g+"cell").data(N.data),O=z.enter().append("g").attr("class",g+"cell");O.append(t).attr("class",g+"swatch");var I=M.selectAll("g."+g+"cell "+t+"."+g+"swatch").data(N.data);Pr.d3_addEvents(O,f),z.exit().transition().style("opacity",0).remove(),I.exit().transition().style("opacity",0).remove(),I=I.merge(I),Pr.d3_drawShapes(t,I,n,r,a,E);var H=Pr.d3_addText(M,O,N.labels,g,y);z=O.merge(z);var Y=H.nodes().map(function(V){return V.getBBox()}),q=I.nodes().map(function(V){return V.getBBox()});p?I.attr("class",function(V){return g+"swatch "+N.feature(V)}):t=="line"?I.style("stroke",N.feature):I.style("fill",N.feature);var G=void 0,$=void 0,R=c=="start"?0:c=="middle"?.5:1;b==="vertical"?function(){var V=Y.map(function(X,Q){return Math.max(X.height,q[Q].height)});G=function(Q,te){var we=jf(V.slice(0,te));return"translate(0, "+(we+te*s)+")"},$=function(Q,te){return"translate( "+(q[te].width+q[te].x+w)+", "+(q[te].y+q[te].height/2+5)+")"}}():b==="horizontal"&&(G=function(X,Q){return"translate("+Q*(q[Q].width+s)+",0)"},$=function(X,Q){return"translate("+(q[Q].width*R+q[Q].x)+`,
          `+(q[Q].height+q[Q].y+w+8)+")"}),Pr.d3_placement(b,z,G,H,$,c),Pr.d3_title(M,_,g,h),z.transition().style("opacity",1)}return D.scale=function(M){return arguments.length?(e=M,D):e},D.cells=function(M){return arguments.length?((M.length>1||M>=2)&&(o=M),D):o},D.cellFilter=function(M){return arguments.length?(l=M,D):l},D.shape=function(M,N){return arguments.length?((M=="rect"||M=="circle"||M=="line"||M=="path"&&typeof N=="string")&&(t=M,E=N),D):t},D.shapeWidth=function(M){return arguments.length?(r=+M,D):r},D.shapeHeight=function(M){return arguments.length?(n=+M,D):n},D.shapeRadius=function(M){return arguments.length?(a=+M,D):a},D.shapePadding=function(M){return arguments.length?(s=+M,D):s},D.labels=function(M){return arguments.length?(u=M,D):u},D.labelAlign=function(M){return arguments.length?((M=="start"||M=="end"||M=="middle")&&(c=M),D):c},D.locale=function(M){return arguments.length?(x=ou(M),D):x},D.labelFormat=function(M){return arguments.length?(S=xs(M),D):D.locale().format(S)},D.labelOffset=function(M){return arguments.length?(w=+M,D):w},D.labelDelimiter=function(M){return arguments.length?(v=M,D):v},D.labelWrap=function(M){return arguments.length?(y=M,D):y},D.useClass=function(M){return arguments.length?((M===!0||M===!1)&&(p=M),D):p},D.orient=function(M){return arguments.length?(M=M.toLowerCase(),(M=="horizontal"||M=="vertical")&&(b=M),D):b},D.ascending=function(M){return arguments.length?(C=!!M,D):C},D.classPrefix=function(M){return arguments.length?(g=M,D):g},D.title=function(M){return arguments.length?(_=M,D):_},D.titleWidth=function(M){return arguments.length?(h=M,D):h},D.textWrap=function(M){return arguments.length?(textWrap=M,D):textWrap},D.on=function(){var M=f.on.apply(f,arguments);return M===f?D:M},D}function QB(){var e=cu(),t="rect",r=15,n=2,a=[5],s=void 0,o=[],l="",u="",g=Pr.d3_defaultLocale,p=Pr.d3_defaultFormatSpecifier,_=10,x="middle",S=Pr.d3_defaultDelimiter,w=void 0,c="vertical",v=!1,y=void 0,b=void 0,C=ph("cellover","cellout","cellclick");function E(h){var f=Pr.d3_calcType(e,v,a,o,g.format(p),S),D=h.selectAll("g").data([e]);s&&Pr.d3_filterCells(f,s),D.enter().append("g").attr("class",l+"legendCells");var M=h.select("."+l+"legendCells").selectAll("."+l+"cell").data(f.data),N=M.enter().append("g").attr("class",l+"cell");N.append(t).attr("class",l+"swatch");var k=h.selectAll("g."+l+"cell "+t+"."+l+"swatch");Pr.d3_addEvents(N,C),M.exit().transition().style("opacity",0).remove(),k.exit().transition().style("opacity",0).remove(),k=k.merge(k),t==="line"?(Pr.d3_drawShapes(t,k,0,r),k.attr("stroke-width",f.feature)):Pr.d3_drawShapes(t,k,f.feature,f.feature,f.feature,y);var z=Pr.d3_addText(h,N,f.labels,l,w);M=N.merge(M);var O=z.nodes().map(function(R){return R.getBBox()}),I=k.nodes().map(function(R,V){var X=R.getBBox(),Q=e(f.data[V]);return t==="line"&&c==="horizontal"?X.height=X.height+Q:t==="line"&&c==="vertical"&&(X.width=X.width),X}),H=Uf(I,function(R){return R.height+R.y}),Y=Uf(I,function(R){return R.width+R.x}),q=void 0,G=void 0,$=x=="start"?0:x=="middle"?.5:1;c==="vertical"?function(){var R=O.map(function(X,Q){return Math.max(X.height,I[Q].height)}),V=t=="circle"||t=="line"?I[0].height/2:0;q=function(Q,te){var we=jf(R.slice(0,te));return"translate(0, "+(V+we+te*n)+")"},G=function(Q,te){return"translate( "+(Y+_)+`,
          `+(I[te].y+I[te].height/2+5)+")"}}():c==="horizontal"&&function(){q=function(X,Q){var te=jf(I.slice(0,Q),function(Pe){return Pe.width}),we=t=="circle"||t=="line"?H/2:0;return"translate("+(te+Q*n)+", "+we+")"};var R=t=="line"?H/2:H;G=function(X,Q){return"translate( "+(I[Q].width*$+I[Q].x)+`,
              `+(R+_)+")"}}(),Pr.d3_placement(c,M,q,z,G,x),Pr.d3_title(h,u,l,b),M.transition().style("opacity",1)}return E.scale=function(h){return arguments.length?(e=h,E):e},E.cells=function(h){return arguments.length?((h.length>1||h>=2)&&(a=h),E):a},E.cellFilter=function(h){return arguments.length?(s=h,E):s},E.shape=function(h,f){return arguments.length?((h=="rect"||h=="circle"||h=="line")&&(t=h,y=f),E):t},E.shapeWidth=function(h){return arguments.length?(r=+h,E):r},E.shapePadding=function(h){return arguments.length?(n=+h,E):n},E.labels=function(h){return arguments.length?(o=h,E):o},E.labelAlign=function(h){return arguments.length?((h=="start"||h=="end"||h=="middle")&&(x=h),E):x},E.locale=function(h){return arguments.length?(g=ou(h),E):g},E.labelFormat=function(h){return arguments.length?(p=xs(h),E):E.locale().format(p)},E.labelOffset=function(h){return arguments.length?(_=+h,E):_},E.labelDelimiter=function(h){return arguments.length?(S=h,E):S},E.labelWrap=function(h){return arguments.length?(w=h,E):w},E.orient=function(h){return arguments.length?(h=h.toLowerCase(),(h=="horizontal"||h=="vertical")&&(c=h),E):c},E.ascending=function(h){return arguments.length?(v=!!h,E):v},E.classPrefix=function(h){return arguments.length?(l=h,E):l},E.title=function(h){return arguments.length?(u=h,E):u},E.titleWidth=function(h){return arguments.length?(b=h,E):b},E.on=function(){var h=C.on.apply(C,arguments);return h===C?E:h},E}function qB(){var e=cu(),t="path",r=15,n=15,a=10,s=5,o=[5],l=void 0,u=[],g="",p="",_=Pr.d3_defaultLocale,x=Pr.d3_defaultFormatSpecifier,S="middle",w=10,c=Pr.d3_defaultDelimiter,v=void 0,y="vertical",b=!1,C=void 0,E=ph("cellover","cellout","cellclick");function h(f){var D=Pr.d3_calcType(e,b,o,u,_.format(x),c),M=f.selectAll("g").data([e]);l&&Pr.d3_filterCells(D,l),M.enter().append("g").attr("class",g+"legendCells");var N=f.select("."+g+"legendCells").selectAll("."+g+"cell").data(D.data),k=N.enter().append("g").attr("class",g+"cell");k.append(t).attr("class",g+"swatch");var z=f.selectAll("g."+g+"cell "+t+"."+g+"swatch");Pr.d3_addEvents(k,E),N.exit().transition().style("opacity",0).remove(),z.exit().transition().style("opacity",0).remove(),z=z.merge(z),Pr.d3_drawShapes(t,z,n,r,a,D.feature);var O=Pr.d3_addText(f,k,D.labels,g,v);N=k.merge(N);var I=O.nodes().map(function(V){return V.getBBox()}),H=z.nodes().map(function(V){return V.getBBox()}),Y=Uf(H,function(V){return V.height}),q=Uf(H,function(V){return V.width}),G=void 0,$=void 0,R=S=="start"?0:S=="middle"?.5:1;y==="vertical"?function(){var V=I.map(function(X,Q){return Math.max(Y,X.height)});G=function(Q,te){var we=jf(V.slice(0,te));return"translate(0, "+(we+te*s)+" )"},$=function(Q,te){return"translate( "+(q+w)+`,
              `+(H[te].y+H[te].height/2+5)+")"}}():y==="horizontal"&&(G=function(X,Q){return"translate( "+Q*(q+s)+",0)"},$=function(X,Q){return"translate( "+(H[Q].width*R+H[Q].x)+`,
              `+(Y+w)+")"}),Pr.d3_placement(y,N,G,O,$,S),Pr.d3_title(f,p,g,C),N.transition().style("opacity",1)}return h.scale=function(f){return arguments.length?(e=f,h):e},h.cells=function(f){return arguments.length?((f.length>1||f>=2)&&(o=f),h):o},h.cellFilter=function(f){return arguments.length?(l=f,h):l},h.shapePadding=function(f){return arguments.length?(s=+f,h):s},h.labels=function(f){return arguments.length?(u=f,h):u},h.labelAlign=function(f){return arguments.length?((f=="start"||f=="end"||f=="middle")&&(S=f),h):S},h.locale=function(f){return arguments.length?(_=ou(f),h):_},h.labelFormat=function(f){return arguments.length?(x=xs(f),h):h.locale().format(x)},h.labelOffset=function(f){return arguments.length?(w=+f,h):w},h.labelDelimiter=function(f){return arguments.length?(c=f,h):c},h.labelWrap=function(f){return arguments.length?(v=f,h):v},h.orient=function(f){return arguments.length?(f=f.toLowerCase(),(f=="horizontal"||f=="vertical")&&(y=f),h):y},h.ascending=function(f){return arguments.length?(b=!!f,h):b},h.classPrefix=function(f){return arguments.length?(g=f,h):g},h.title=function(f){return arguments.length?(p=f,h):p},h.titleWidth=function(f){return arguments.length?(C=f,h):C},h.on=function(){var f=E.on.apply(E,arguments);return f===E?h:f},h}var WB,VL,GL,HL,GB,HB,VB,YB,KB,ZB,XB,Pr,JB,eU,tU,YL,gg=ae(()=>{j8();ag();rL();WL();Za();WB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VL=function(t){return t},GL=function(t){for(var r=[],n=0,a=t.length;n<a;n++)r[n]=t[a-n-1];return r},HL=function(t,r){t.each(function(){for(var n=qx(this),a=n.text().split(/\s+/).reverse(),s,o=[],l=0,u=1.2,g=n.attr("y"),p=parseFloat(n.attr("dy"))||0,_=n.text(null).append("tspan").attr("x",0).attr("dy",p+"em");s=a.pop();)o.push(s),_.text(o.join(" ")),_.node().getComputedTextLength()>r&&o.length>1&&(o.pop(),_.text(o.join(" ")),o=[s],_=n.append("tspan").attr("x",0).attr("dy",u+p+"em").text(s))})},GB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments[1],n=arguments[2],a=arguments[3],s=arguments[4];if((typeof r>"u"?"undefined":WB(r))==="object"){if(r.length===0)return t;for(var o=r.length;o<t.length;o++)r.push(t[o]);return r}else if(typeof r=="function"){for(var l=[],u=t.length,g=0;g<u;g++)l.push(r({i:g,genLength:u,generatedLabels:t,domain:n,range:a,labelDelimiter:s}));return l}return t},HB=function(t,r,n){var a=[];if(r.length>1)a=r;else for(var s=t.domain(),o=(s[s.length-1]-s[0])/(r-1),l=0;l<r;l++)a.push(s[0]+l*o);var u=a.map(n);return{data:a,labels:u,feature:function(p){return t(p)}}},VB=function(t,r,n){var a=t.range().map(function(s){var o=t.invertExtent(s);return r(o[0])+" "+n+" "+r(o[1])});return{data:t.range(),labels:a,feature:VL}},YB=function(t){return{data:t.domain(),labels:t.domain(),feature:function(n){return t(n)}}},KB=function(t,r,n){t.call("cellover",n,r)},ZB=function(t,r,n){t.call("cellout",n,r)},XB=function(t,r,n){t.call("cellclick",n,r)},Pr={d3_drawShapes:function(t,r,n,a,s,o){t==="rect"?r.attr("height",n).attr("width",a):t==="circle"?r.attr("r",s):t==="line"?r.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&r.attr("d",o)},d3_addText:function(t,r,n,a,s){r.append("text").attr("class",a+"label");var o=t.selectAll("g."+a+"cell text."+a+"label").data(n).text(VL);return s&&t.selectAll("g."+a+"cell text."+a+"label").call(HL,s),o},d3_calcType:function(t,r,n,a,s,o){var l=t.invertExtent?VB(t,s,o):t.ticks?HB(t,n,s):YB(t),u=t.range&&t.range()||t.domain();return l.labels=GB(l.labels,a,t.domain(),u,o),r&&(l.labels=GL(l.labels),l.data=GL(l.data)),l},d3_filterCells:function(t,r){var n=t.data.map(function(o,l){return{data:o,label:t.labels[l]}}).filter(r),a=n.map(function(o){return o.data}),s=n.map(function(o){return o.label});return t.data=t.data.filter(function(o){return a.indexOf(o)!==-1}),t.labels=t.labels.filter(function(o){return s.indexOf(o)!==-1}),t},d3_placement:function(t,r,n,a,s,o){r.attr("transform",n),a.attr("transform",s),t==="horizontal"&&a.style("text-anchor",o)},d3_addEvents:function(t,r){t.on("mouseover.legend",function(n){KB(r,n,this)}).on("mouseout.legend",function(n){ZB(r,n,this)}).on("click.legend",function(n){XB(r,n,this)})},d3_title:function(t,r,n,a){if(r!==""){var s=t.selectAll("text."+n+"legendTitle");s.data([r]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(r),a&&t.selectAll("text."+n+"legendTitle").call(HL,a);var o=t.select("."+n+"legendCells"),l=t.select("."+n+"legendTitle").nodes().map(function(g){return g.getBBox().height})[0],u=-o.nodes().map(function(g){return g.getBBox().x})[0];o.attr("transform","translate("+u+","+l+")")}},d3_defaultLocale:{format:lu,formatPrefix:Ff},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};JB=function(t){var r=t.i,n=t.genLength,a=t.generatedLabels,s=t.labelDelimiter;if(r===0){var o=a[r].split(" "+s+" ");return"Less than "+o[1]}else if(r===n-1){var l=a[r].split(" "+s+" ");return l[0]+" or more"}return a[r]},eU={thresholdLabels:JB},tU={legendColor:$B,legendSize:QB,legendSymbol:qB,legendHelpers:eU},YL=tU});var KL=Fn((Nue,vg)=>{(function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),n=r&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,s=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,o=(r||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(l){var u,g,p,_,x,S,w,c,v;if(u=l.match(s),!u)throw new Error("invalid data URI");for(g=u[2]?u[1]:"text/plain"+(u[3]||";charset=US-ASCII"),p=!!u[4],_=l.slice(u[0].length),p?x=atob(_):x=decodeURIComponent(_),S=new ArrayBuffer(x.length),w=new Uint8Array(S),c=0;c<x.length;c+=1)w[c]=x.charCodeAt(c);return r?new Blob([n?w:S],{type:g}):(v=new a,v.append(S),v.getBlob(g))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(l,u,g){var p=this;setTimeout(function(){g&&t.toDataURL&&o?l(o(p.toDataURL(u,g))):l(p.mozGetAsFile("blob",u))})}:t.toDataURL&&o&&(t.msToBlob?t.toBlob=function(l,u,g){var p=this;setTimeout(function(){(u&&u!=="image/png"||g)&&t.toDataURL&&o?l(o(p.toDataURL(u,g))):l(p.msToBlob(u))})}:t.toBlob=function(l,u,g){var p=this;setTimeout(function(){l(o(p.toDataURL(u,g)))})})),typeof define=="function"&&define.amd?define(function(){return o}):typeof vg=="object"&&vg.exports?vg.exports=o:e.dataURLtoBlob=o})(window)});var Hf=Fn((Mw,Aw)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof Mw<"u"?t():(t(),e.FileSaver={})})(Mw,function(){"use strict";function e(l,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function t(l,u,g){var p=new XMLHttpRequest;p.open("GET",l),p.responseType="blob",p.onload=function(){o(p.response,u,g)},p.onerror=function(){console.error("could not download file")},p.send()}function r(l){var u=new XMLHttpRequest;u.open("HEAD",l,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function n(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(l,u,g){var p=a.URL||a.webkitURL,_=document.createElement("a");u=u||l.name||"download",_.download=u,_.rel="noopener",typeof l=="string"?(_.href=l,_.origin===location.origin?n(_):r(_.href)?t(l,u,g):n(_,_.target="_blank")):(_.href=p.createObjectURL(l),setTimeout(function(){p.revokeObjectURL(_.href)},4e4),setTimeout(function(){n(_)},0))}:"msSaveOrOpenBlob"in navigator?function(l,u,g){if(u=u||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(e(l,g),u);else if(r(l))t(l,u,g);else{var p=document.createElement("a");p.href=l,p.target="_blank",setTimeout(function(){n(p)})}}:function(l,u,g,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof l=="string")return t(l,u,g);var _=l.type==="application/octet-stream",x=/constructor/i.test(a.HTMLElement)||a.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||_&&x||s)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var y=w.result;y=S?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=y:location=y,p=null},w.readAsDataURL(l)}else{var c=a.URL||a.webkitURL,v=c.createObjectURL(l);p?p.location=v:location.href=v,p=null,setTimeout(function(){c.revokeObjectURL(v)},4e4)}});a.saveAs=o.saveAs=o,typeof Aw<"u"&&(Aw.exports=o)})});function Vf(e,t=rU){let r=Object.assign({},t,e);r.em_size=getEmPixels(),r.margin.left=r.em_size*r.margin_scaler,r.margin.right=r.em_size*r.margin_scaler,r.margin.top=r.em_size*r.margin_scaler,r.margin.bottom=r.em_size*r.margin_scaler,en(r.parent).select("svg").remove(),r.svg=en(r.parent).append("svg").attr("id",r.id||"chart").attr("width",r.width).attr("height",r.height),r.svg.style("text-rendering","optimizeLegibility").style("shape-rendering","default").style("font-family","sans-serif"),r.download_buttons&&(r.key_panel=!0),r.key_panel&&(r.chartType==="line"?r.container_width=r.container_width*.9:r.container_height=r.container_height-r.container_height*.2),r.container_width<r.margin.left+r.margin.right&&(r.container_width=r.margin.left+r.margin.right+r.em_size),r.assignment_ribbon&&(r.container_height=r.container_height-r.container_height*.1);let n=r.margin.top,a=0;r.annotation_sets&&(n=r.em_size*5,a=r.em_size*3);let s=0,o=r.container_height-r.margin.bottom;r.chartType,s=r.width-r.margin.right-r.em_size*4,o=r.margin.top,r.chartType==="annotationGrid"&&(s=0,o=r.container_height);let l=r.container_width-r.em_size*10,u=r.container_height-r.margin.bottom;return r.chartType,l=r.width-10*r.em_size,u=r.height-10*r.em_size,r.chartType==="annotationGrid"&&(l=r.width-r.margin.right-r.em_size*10,u=r.container_height),r.container=r.svg.append("g").attr("id","container").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.height-r.margin.top-r.margin.bottom).attr("transform","translate("+[r.margin.left,n]+")"),r.axes=r.svg.append("g").attr("id","axes").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[0,a]+")"),r.key=r.svg.append("g").attr("id","key").attr("width",r.width*.2-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[s,o]+")"),r.buttons=r.svg.append("g").attr("id","buttons").attr("width",r.width*.2-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[l,u]+")"),r.ribbon=r.svg.append("g").attr("id","ribbon").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.margin.top).attr("transform","translate("+[r.margin.left,0]+")"),r.annotationToggle=r.svg.append("g").attr("id","toggle").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.margin.top).attr("transform","translate("+[r.margin.left/2,n/3]+")"),r}function $L(e){console.log("parent: "+e.parent),console.log("emsize: "+e.em_size),console.log("width: "+e.width),console.log("height: "+e.height),console.log("container_width: "+e.container_width),console.log("container_height: "+e.container_height),console.log("margin scaler: "+e.margin_scaler),console.log("margin.left: "+e.margin.left),console.log("margin.right: "+e.margin.right),console.log("margin.top: "+e.margin.top),console.log("margin.bottom: "+e.margin.bottom)}function nU(e){e.setAttribute("xlink","http://www.w3.org/1999/xlink");var t=a(e);s(t,e);var r=new XMLSerializer,n=r.serializeToString(e);return n=n.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),n=n.replace(/NS\d+:href/g,"xlink:href"),n;function a(o){var l=[];l.push("#"+o.id);for(var u=0;u<o.classList.length;u++)y("."+o.classList[u],l)||l.push("."+o.classList[u]);for(var g=o.getElementsByTagName("*"),p=0;p<g.length;p++){var _=g[p].id;y("#"+_,l)||l.push("#"+_);var x=g[p].classList;for(let b=0;b<x.length;b++)y("."+x[b],l)||l.push("."+x[b])}var S="";for(let b=0;b<document.styleSheets.length;b++){var w=document.styleSheets[b];try{if(!w.cssRules)continue}catch(C){if(C.name!=="SecurityError")throw C;continue}for(var c=w.cssRules,v=0;v<c.length;v++)y(c[v].selectorText,l)&&(S+=c[v].cssText)}return S;function y(b,C){return C.indexOf(b)!==-1}}function s(o,l){var u=document.createElement("style");u.setAttribute("type","text/css"),u.innerHTML=o;var g=l.hasChildNodes()?l.children[0]:null;l.insertBefore(u,g)}}function iU(e,t,r,n,a){n=n||"png";var s="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),o=document.createElement("canvas"),l=o.getContext("2d");o.width=t,o.height=r;var u=new Image;u.onload=function(){l.clearRect(0,0,t,r),l.drawImage(u,0,0,t,r),o.toBlob(function(g){var p=Math.round(g.length/1024)+" KB";a&&a(g,p)})},u.src=s}function aU(e){try{let n=!!new Blob}catch{alert("blob not supported. Can't save file from the browser you are using")}console.log(e);let t=en("#"+e).attr("title",e).attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML;console.log(t),t=t.substring(t.indexOf("<svg")),t=t.replace(/<g id="toggle".+?<\/g>/,""),t=t.replace(/<g id="buttons".+?<\/g>/,"");let r=new Blob([t],{type:"image/svg+xml"});XL.saveAs(r,e+".svg")}function io(e,t,r,n,a="buttons",s=0,o=0){let l=n+s,u=0+o;e[a].append("rect").attr("x",l).attr("y",u).attr("id",t+r+"Button").attr("width",e.em_size*4.5).attr("height",e.em_size*2).attr("class",r+"button").on("mouseover",function(){en("#"+t+r+"Button").attr("fill","").classed("active",!0),en("#"+t+r+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(){en("#"+t+r+"Button").classed("active",!1),en("#"+t+r+"Text").classed("active",!1)}),e[a].append("text").attr("id",t+r+"Text").attr("class","buttonText").attr("x",e.em_size/2+l).attr("y",e.em_size+u).attr("dy",".35em").text("Get "+r.toUpperCase()).on("mouseover",function(){en("#"+t+r+"Button").attr("fill","").classed("active",!0),en("#"+t+r+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(){en("#"+t+r+"Button").classed("active",!1),en("#"+t+r+"Text").classed("active",!1)})}function Yf(e,t){ZL(e,"Button",t),ZL(e,"Text",t)}function ZL(e,t,r){console.log(r),en("#"+r+"png"+t).on("click",function(){var n=nU(e.svg.node());console.log(n),n=n.replace(/<g id="toggle".+?<\/g>/,""),n=n.replace(/<g id="buttons".+?<\/g>/,""),iU(n,2*e.width,2*e.height,"png",a);function a(s,o){XL.saveAs(s,r+".png")}}),en("#"+r+"svg"+t).on("click",function(){aU(r)})}function QL(e,t,r){var n=1;return r&&(n=-1),e.sort(function(a,s){var o=a[t],l=s[t];return n*(o<l?-1:o>l?1:0)})}function _g(e,t){let r=[];return Object.keys(e).forEach(function(n){r.push(e[n][t])}),r}function hu(e,t){let r=[];for(var n=e;n<=t;n++)r.push(n);return r}var XL,rU,Xn=ae(()=>{pa();If();KL();XL=Hf(),rU={chartType:!1,em_size:!1,width:window.innerWidth,height:window.innerHeight,container_width:window.innerWidth,container_height:window.innerHeight,parent:"body",key_panel:!0,y_axis_label:!1,x_axis_label:!1,ribbon_label:!1,y_cutoff:!1,x_cutoff:!1,x_cutoff_text:"Cutoff",y_cutoff_text:"Cutoff",assignment_ribbon:!1,assignment_label:"",download_buttons:!1,grid_label:!1,grid_colour_type:!1,grid_colour_annotations:!1,x_grid_labels:!1,y_grid_labels:!1,y_labels:!1,x_labels:!1,custom_grid_palette:!1,grid_key:!1,annotation_sets:!1,margin_scaler:5,margin:{left:!1,right:!1,top:!1,bottom:!1}};(function(e,t){"use strict";var r="!important;",n="position:absolute"+r+"visibility:hidden"+r+"width:1em"+r+"font-size:1em"+r+"padding:0"+r;window.getEmPixels=function(a){var s;a||(a=s=e.createElement("body"),s.style.cssText="font-size:1em"+r,t.insertBefore(s,e.body));var o=e.createElement("i");o.style.cssText=n,a.appendChild(o);var l=o.clientWidth;return s?t.removeChild(s):a.removeChild(o),l}})(document,document.documentElement)});function JL(e,t,r,n,a="xyLineChart",s={}){s=Object.assign(s,{chartType:"line"});let o=Vf(s),l=e.reduce(function(x,S){return x.concat(Number(S[t]))},[]),u=function(x){return p.x(x[t])},g=[];r.forEach(function(x){g=g.concat(e.reduce(function(S,w){return S.concat(Number(w[x]))},[]))});let p=ek(o,l,g,o.height-o.margin.bottom*2);uU(o,"axes",p.x,p.y);let _={};r.forEach(function(x){_[x]=function(S){return p.y(S[x])}}),lU(o,e,u,_,p,t),o.key_panel&&oU(o,r,n),o.download_buttons&&(io(o,a,"png",0),io(o,a,"svg",o.em_size*5),Yf(o,a)),o.assignment_ribbon&&sU(e,o,l,p),o.x_cutoff&&qL(o,p,o.x_cutoff,"x"),o.y_cutoff&&qL(o,p,o.y_cutoff,"y")}function sU(e,t,r,n){let a=e.reduce(function(l,u){let g=u[t.assignment_label],p=l[g]||[];return l[g]=p.concat({x:Number(u.pos),y:1}),l},[]);Object.keys(a).forEach(function(l){let u=r.slice(0);a[l].forEach(function(g){u=u.filter(function(p){return p!==g.x})}),u.forEach(function(g){let p=a[l]||[];a[l]=p.concat({x:Number(g),y:null})}),a[l]=QL(a[l],"x")});let o=ek(t,r,[1],t.margin.top/4);Object.keys(a).forEach(function(l){let u=Fm().defined(function(p){return p.y}).x(function(p){return n.x(p.x)}).y(function(p){return o.y(p.y)}).curve(nh),g=t.ribbon.selectAll("."+l+"line").data([a[l]]);g.enter().append("path").classed(l,!0).merge(g).attr("d",u).attr("fill","none")}),t.ribbon_label&&t.ribbon.append("text").attr("transform","translate("+t.margin.left/2+", 10)").style("text-anchor","middle").text(t.ribbon_label)}function qL(e,t,r,n){let a="x",s=1,o=e.y_cutoff_text,l=5;n==="x"&&(a="y",s=0,o=e.x_cutoff_text,l=-3);let u=e.container.append("line").classed("cutoff_line",!0).attr(a+"1",0).attr(n+"1",t[n](r)).attr(a+"2",t[a].range()[s]).attr(n+"2",t[n](r)),g=e.container.append("text").attr("class","cutoffText").attr(a,5).attr(n,t[n](r)-l).attr("dy",".1em").text(o+": "+r.toString())}function oU(e,t,r){var n=Xl().domain(t).range(r),a=YL.legendColor().shape("path",kx().type(Lx).size(e.em_size*10)()).shapePadding(10).scale(n);e.key.append("g").attr("class","legendOrdinal").call(a)}function lU(e,t,r,n,a,s){Object.keys(n).forEach(function(o){let l=n[o],u=Fm().x(r).y(l).curve(Nx),g=e.container.selectAll("."+o+"line").data([t]);g.enter().append("path").classed(o,!0).merge(g).attr("d",u).attr("fill","none"),e.container.selectAll(".dot").data(t).enter().append("circle").classed(o,!0).attr("r",1.5).attr("cx",r).attr("cy",l).attr("fill","black").append("svg:title").text(function(p,_){return s+": "+p[s]+`
val: `+p[o]+`
type: `+p[e.assignment_label]})})}function ek(e,t,r,n){let a=va().range([0,e.container_width-e.margin.left-e.margin.right]).domain(hs(t)),s=va().range([n,0]).domain(hs(r));return{x:a,y:s}}function uU(e,t,r,n){let a=Il().scale(r),s=zl().scale(n);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(s),e.y_axis_label&&e.container.append("text").attr("transform","rotate(-90)").attr("y",0-e.margin.left/2).attr("x",0-e.container_height/2).attr("dy","1em").style("text-anchor","middle").text(e.y_axis_label),console.log(e.container_height-100),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,e.height-e.margin.bottom]+")").call(a),e.x_axis_label&&e.container.append("text").attr("transform","translate("+e.container_width/2+" ,"+(e.height-e.margin.bottom-e.em_size*3)+")").style("text-anchor","middle").text(e.x_axis_label)}var Wue,Tw=ae(()=>{If();Gl();gg();Xn();Xn();Xn();Xn();Wue=Hf()});var Lw={};Yh(Lw,{aatypes:()=>vU,aatypes_annotations:()=>_U,clustal:()=>hU,clustal_annotations:()=>pU,colorbrewer:()=>fU,lesk:()=>mU,lesk_annotations:()=>gU,secondary_structure:()=>bU,taylor:()=>dU,taylor_annotations:()=>cU,transmembrane:()=>yU});var fU,dU,cU,hU,pU,mU,gU,vU,_U,bU,yU,kw=ae(()=>{fU={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}},dU={A:{fill:"#ccff00"},V:{fill:"#99ff00"},I:{fill:"#66ff00"},L:{fill:"#33ff00"},M:{fill:"#00ff00"},F:{fill:"#00ff66"},Y:{fill:"#00ffcc"},W:{fill:"#00ccff"},H:{fill:"#0066ff"},R:{fill:"#0000ff"},K:{fill:"#6600ff"},N:{fill:"#cc00ff"},Q:{fill:"#ff00cc"},E:{fill:"#ff0066"},D:{fill:"#ff0000"},S:{fill:"#ff3300"},T:{fill:"#ff6600"},G:{fill:"#ff9900"},P:{fill:"#ffcc00"},C:{fill:"#ffff00"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},cU={S:{fill:"#ffff00",name:"Small axis"},B:{fill:"#00ff00",name:"Big axis"},P:{fill:"#ff0000",name:"Positive axis"},N:{fill:"#0000ff",name:"Negative axis"}},hU={A:{fill:"#c23f35"},V:{fill:"#c23f35"},F:{fill:"#c23f35"},P:{fill:"#c23f35"},I:{fill:"#c23f35"},L:{fill:"#c23f35"},M:{fill:"#c23f35"},W:{fill:"#c23f35"},D:{fill:"#6e6caa"},E:{fill:"#6e6caa"},K:{fill:"#b73c86"},R:{fill:"#b73c86"},C:{fill:"#319900"},N:{fill:"#319900"},Q:{fill:"#319900"},G:{fill:"#319900"},S:{fill:"#319900"},T:{fill:"#319900"},H:{fill:"#319900"},Y:{fill:"#319900"}},pU={S:{fill:"#c23f35",name:"Small and hydrophobic"},A:{fill:"#6e6caa",name:"Acidic"},B:{fill:"#b73c86",name:"Basic"},H:{fill:"#319900",name:"Hydroxyl, sulfhydril, amine"},O:{fill:"LightGrey",name:"Other"}},mU={G:{fill:"#e18f27"},A:{fill:"#e18f27"},S:{fill:"#e18f27"},T:{fill:"#e18f27"},C:{fill:"#319900"},V:{fill:"#319900"},I:{fill:"#319900"},L:{fill:"#319900"},P:{fill:"#319900"},F:{fill:"#319900"},Y:{fill:"#319900"},M:{fill:"#319900"},W:{fill:"#319900"},N:{fill:"#b73c86"},Q:{fill:"#b73c86"},H:{fill:"#b73c86"},D:{fill:"#c23f35"},E:{fill:"#c23f35"},K:{fill:"#6e6caa"},R:{fill:"#6e6caa"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},gU={S:{fill:"#e18f27",name:"Small nonpolar"},H:{fill:"#319900",name:"Hydrophobic"},P:{fill:"#b73c86",name:"Polar"},N:{fill:"#c23f35",name:"Negatively charged"},E:{fill:"#6e6caa",name:"Positively charged"}},vU={A:{fill:"#e18f27"},S:{fill:"#e18f27"},T:{fill:"#e18f27"},G:{fill:"#e18f27"},P:{fill:"#e18f27"},M:{fill:"#319900"},I:{fill:"#319900"},L:{fill:"#319900"},V:{fill:"#319900"},K:{fill:"#c23f35"},R:{fill:"#c23f35"},E:{fill:"#c23f35"},N:{fill:"#c23f35"},D:{fill:"#c23f35"},H:{fill:"#c23f35"},Q:{fill:"#c23f35"},W:{fill:"#7ebfd3"},Y:{fill:"#7ebfd3"},F:{fill:"#7ebfd3"},C:{fill:"#7ebfd3"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},_U={S:{fill:"#e18f27",name:"Small nonpolar"},H:{fill:"#319900",name:"Hydrophobic"},P:{fill:"#c23f35",name:"Polar"},A:{fill:"#7ebfd3",name:"Aromatics plus cystiene"}},bU={E:{fill:"Gold"},H:{fill:"HotPink"},C:{fill:"LightGrey"}},yU={C:{fill:"LightGrey"},H:{fill:"#e18f27"}}});function tk(e,t={}){let r={id:"annotationGrid",chartType:"annotationGrid",annotation_sets:wU,download_buttons:!0,grid_label:!0,grid_colour_type:"custom",grid_colour_annotations:["ss","disopred","dompred","dmpmetal","memsat"],custom_grid_palette:xU};r=Object.assign(r,t),rk(e,"res",50,"annotationGrid",r)}function rk(e,t,r,n="seqAnnotationChart",a={}){a=Object.assign(a,{});let s=Vf(a),o=e.length,l=Math.ceil(o/r),u=EU(s,[1,r],[1,l],l*(s.em_size+3),r,l,o);a.debug===!0&&$L(s),CU(s,"axes",u.x,u.y,u.x_top,u.y_right,l*(s.em_size+3)),ik(s,e,u,r),s.key_panel&&nk(s),s.download_buttons&&(io(s,n,"png",0),io(s,n,"svg",s.em_size*5),Yf(s,n)),s.annotation_sets&&SU(s,e,u,r)}function SU(e,t,r,n){let a=function(g){e.grid_colour_type=g.name,e.grid_colour_annotations=g.values,e.container.selectAll(".rect").remove(),e.container.selectAll(".text").remove(),ik(e,t,r,n),e.key.selectAll(".rect").remove(),e.key.selectAll("text").remove(),nk(e)},s=e.annotationToggle.selectAll(".rect").data(e.annotation_sets),o=function(g){return g.name+"button"},l=function(g){return g.label?g.label:g.name};s.enter().append("rect").attr("x",e.em_size*4).attr("id",function(g){return l(g)+"button"}).attr("width",function(g){let p="";return g.label?p="Show "+g.label:p="Show "+g.name,p.length*e.em_size/1.8}).attr("height",e.em_size*1.5).attr("transform",function(g,p){return"translate("+[p*e.em_size*10,0]+")"}).attr("class",function(g){return l(g)+"button"}).on("mouseover",function(g){en("#"+l(g)+"button").attr("fill","").classed("active",!0),en("#"+l(g)+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(g){en("#"+l(g)+"button").classed("active",!1),en("#"+l(g)+"Text").classed("active",!1)}).on("click",a),e.annotationToggle.selectAll(".text").data(e.annotation_sets).enter().append("text").attr("id",function(g){return l(g)+"Text"}).attr("class","buttonText").attr("x",10+e.em_size*4).attr("y",e.em_size*.8).attr("dy",".35em").attr("transform",function(g,p){return"translate("+[p*e.em_size*10,0]+")"}).text(function(g){return"Show "+l(g)}).on("mouseover",function(g){en("#"+l(g)+"button").attr("fill","").classed("active",!0),en("#"+l(g)+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(g){en("#"+l(g)+"button").classed("active",!1),en("#"+l(g)+"Text").classed("active",!1)}).on("click",a)}function nk(e){let t;e.grid_colour_type==="lesk"&&(t=ao.lesk_annotations),e.grid_colour_type==="aatypes"&&(t=ao.aatypes_annotations),e.grid_colour_type==="clustal"&&(t=ao.clustal_annotations),e.grid_colour_type==="taylor"&&(t=ao.taylor_annotations),e.custom_grid_palette&&e.grid_colour_type==="custom"&&(t=e.custom_grid_palette);let r=0,n=0;e.key.selectAll(".rect").data(Object.keys(t)).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",e.em_size).attr("transform",function(o,l){r==4&&(r=0,n+=1);let u=[r*11*e.em_size+e.margin.left,n*e.em_size*1.4];return r+=1,"translate("+u+")"}).attr("stroke",function(o){let l="white";return t[o].stroke?t[o].stroke:l}).attr("fill",function(o){let l="white";return t[o].fill?t[o].fill:l}),r=0,n=0,e.key.selectAll(".text").data(Object.keys(t)).enter().append("text").attr("transform",function(o,l){r==4&&(r=0,n+=1);let u=[r*11*e.em_size+e.margin.left+e.em_size*1.2,n*e.em_size*1.4+e.em_size/1.5];return r+=1,"translate("+u+")"}).text(function(o){return t[o].name}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","bold").attr("fill","black")}function ik(e,t,r,n){let a=0,s=0,o=va().domain(Va(0,1,1/(ao.colorbrewer.RdYlGn[11].length-1))).range(ao.colorbrewer.RdYlGn[11]),l=va().domain(hs(_g(t,e.grid_colour_annotations))).range([0,1]),u=function(x,S){let w="Pos: "+(S+1)+`
`;if(e.grid_colour_type&&e.grid_colour_annotations)return e.grid_colour_type==="heatmap"&&(w+=x[e.grid_colour_annotations[0]]),(e.grid_colour_type==="lesk"||e.grid_colour_type==="aatypes"||e.grid_colour_type==="clustal"||e.grid_colour_type==="taylor"||e.grid_colour_type==="secondary_structure"||e.grid_colour_type==="transmembrane")&&(w+=x[e.grid_colour_annotations]),e.grid_colour_type==="custom"&&e.grid_colour_annotations.forEach(function(c,v){e.custom_grid_palette[x[c]]&&(w+=c+": "+x[c]+`
`)}),w},g=function(x,S){let w="white";if(e.grid_colour_type&&e.grid_colour_annotations){if(e.grid_colour_type==="heatmap")return o(l(x[e.grid_colour_annotations[0]]));(e.grid_colour_type==="lesk"||e.grid_colour_type==="aatypes"||e.grid_colour_type==="clustal"||e.grid_colour_type==="taylor"||e.grid_colour_type==="secondary_structure"||e.grid_colour_type==="transmembrane")&&ao[e.grid_colour_type].hasOwnProperty(x[e.grid_colour_annotations[0]])&&ao[e.grid_colour_type][x[e.grid_colour_annotations[0]]].hasOwnProperty(S)&&(w=ao[e.grid_colour_type][x[e.grid_colour_annotations[0]]][S]),e.grid_colour_type==="custom"&&e.grid_colour_annotations.forEach(function(c,v){e.custom_grid_palette[x[c]]&&e.custom_grid_palette[x[c]].hasOwnProperty(S)&&(w=e.custom_grid_palette[x[c]][S])})}return w},p=e.container.selectAll(".rect").data(t);if(p.enter().append("rect").attr("class","rect").attr("width",e.em_size*1.1).attr("height",e.em_size*1.1).attr("transform",function(x){return s==n&&(s=0,a+=e.em_size*1.2),s+=1,"translate("+[r.x(s),a]+")"}).attr("fill",function(x){return g(x,"fill")}).attr("stroke",function(x){return g(x,"stroke")}).append("svg:title").text(u),p.exit().transition().remove(),e.grid_label){a=e.em_size*.8,s=0;var _=e.container.selectAll(".text").data(t);_.enter().append("text").attr("transform",function(x){return s==n&&(s=0,a+=e.em_size*1.2),s+=1,"translate("+[r.x(s)+5,a]+")"}).text(function(x){return x.res}).attr("font-family","sans-serif").attr("font-size",e.em_size*.66).attr("font-weight","bold").attr("fill","black").append("svg:title").text(u),_.exit().transition().remove()}}function CU(e,t,r,n,a,s,o){let l=Il().scale(r).tickValues(r.domain().filter(function(x,S){return!((S+1)%10)})),u=Xb().scale(a).tickValues(r.domain().filter(function(x,S){return!((S+1)%10)})),g=zl().scale(n),p=$b().scale(s);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(g).select(".domain").remove(),e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.container_width-e.margin.right,e.margin.top]+")").call(p).selectAll(".domain").remove(),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,o+e.margin.top]+")").call(l).selectAll(".domain").remove();let _=e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(u);e.x_labels&&_.selectAll("text").attr("y",0).attr("x",e.em_size/2).attr("dy",".35em").attr("transform","rotate(-60)").style("text-anchor","start"),_.selectAll(".domain").remove(),e[t].selectAll("line").remove()}function EU(e,t,r,n,a,s,o){let l=Ji().range([0,e.container_width-e.margin.left-e.margin.right]).domain(hu(t[0],t[1])),u=hu(r[0],r[1]);u.forEach(function(S,w){S==1?u[w]=1:u[w]=(S-1)*a+1});let g=Ji().range([0,n]).domain(u),p=Ji().range([0,e.container_width-e.margin.left-e.margin.right]).domain(hu(t[0],t[1]));if(e.x_labels){let S=[];if(e.x_labels.length<a){let w=-1;for(let c=0;c<=a;c+=1)c%e.x_labels.length===0&&(w+=1),S.push(e.x_labels[c%e.x_labels.length]+"_"+w)}else S=e.x_labels;p=Ji().range([0,e.container_width-e.margin.left-e.margin.right]).domain(S.slice(0,a))}let _=hu(r[0],r[1]);_.forEach(function(S,w){_[w]=S*a,w===_.length-1&&(_[w]=o)});let x=Ji().range([0,n]).domain(_);if(e.y_labels){let S=[];if(e.y_labels.length<s){let w=-1;for(let c=0;c<=s;c+=1)c%e.y_labels.length===0&&(w+=1),S.push(e.y_labels[c%e.y_labels.length]+"_"+w)}else S=e.y_labels;x=Ji().range([0,n]).domain(S.slice(0,s))}return{x:l,y:g,x_top:p,y_right:x}}var ao,Jue,xU,wU,bg=ae(()=>{If();Gl();gg();Xn();Xn();Xn();Xn();Xn();Xn();ao=(kw(),Zw(Lw)),Jue=Hf(),xU={E:{fill:"Gold",name:"Strand"},H:{fill:"HotPink",name:"Helix"},C:{fill:"LightGrey",name:"Coil"},D:{stroke:"blue",name:"Disordered"},PB:{stroke:"green",name:"Disordered, protein binding"},B:{fill:"#7ebfd3",name:"Putative Domain Boundary"},I:{fill:"DarkGrey",name:"Membrane Interaction"},TM:{fill:"DarkGrey",name:"Transmembrane Helix"},EC:{fill:"Orange",name:"Extracellular"},RH:{fill:"Green",name:"Re-entrant Helix"},CY:{fill:"White",name:"Cytoplasmic"},S:{fill:"Pink",name:"Signal Peptide"},MB:{fill:"FireBrick",name:"Metal Binding"}},wU=[{name:"custom",values:["ss","disopred","dompred","dmpmetal"],label:"psipred"},{name:"custom",values:["memsat"],label:"memsat"},{name:"aatypes",values:["res"]}]});function ak(e,t="psipredChart",r={}){let a=kU(e),s=Math.ceil(a.length/50);r=Object.assign(r,{key_panel:!1,download_buttons:!0,id:t});let o=Vf(r);o.height=7*o.em_size*(s+1),o.container_height=o.height,o.width=o.em_size*50,o.container_width=o.em_size*50,o.chartType="psipred";let l=0;for(let u=0;u<s;u+=1){let g=1+u*50,p=50+u*50,_=0+u*(10*o.em_size),x=7*o.em_size+u*(10*o.em_size),S=TU(o,g,p,7*o.em_size);LU(o,"axes",S.x,S.y,x,_);let w=a.slice(g-1,p);l=AU(o,w,x,_,g)}DU(o,a,l+2*o.em_size,t)}function DU(e,t,r,n){let a=e.container;r+=e.em_size,e.download_buttons&&(io(e,n,"png",0,"buttons",0,3),io(e,n,"svg",e.em_size*5,"buttons",0,3),Yf(e,n)),a.append("text").attr("transform",function(s,o){return"translate("+[0,r]+")"}).text("Legend:").attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black"),r+=e.em_size,Ow(e,a,r,"Strand","Gold"),yg(e,a,r,"Conf:","-"),MU(e,a,r),a.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*17.5,r+e.em_size*.8]+")"}).text("+ Confidence of prediction").attr("font-family","sans-serif").attr("fill","black"),r+=e.em_size,Ow(e,a,r,"Helix","HotPink"),yg(e,a,r,"Cart:","3-state assignment cartoon"),r+=e.em_size,Ow(e,a,r,"Coil","DimGrey"),yg(e,a,r,"Pred:","3-state prediction"),r+=e.em_size,yg(e,a,r,"AA:","Target Sequence")}function MU(e,t,r){let n=9,a=0;for(let s=0;s<9;s+=1)t.append("rect").attr("class","rect").attr("width",e.em_size/2).attr("height",e.em_size*(s/10)).attr("transform",function(o,l){let u=e.em_size-e.em_size*(s/10);return"translate("+[e.em_size*13+e.em_size*a,r+u]+")"}).attr("stroke","black").attr("fill",Pw.colorbrewer.PuBu[9][s]),n-=1,a+=.5}function yg(e,t,r,n,a){t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*10,r+e.em_size*.8]+")"}).text(n).attr("font-family","sans-serif").attr("fill","black").attr("font-weight","bold"),t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*13,r+e.em_size*.8]+")"}).text(a).attr("font-family","sans-serif").attr("fill","black")}function Ow(e,t,r,n,a){t.append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(s){return n==="Coil"?e.em_size/4:e.em_size}).attr("transform",function(s,o){let l=0;return n==="Coil"&&(l+=e.em_size/2),"translate("+[0,r+l]+")"}).attr("stroke","White").attr("fill",a),t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*1.5,r+e.em_size*.8]+")"}).text(n).attr("font-family","sans-serif").attr("fill","black")}function AU(e,t,r,n,a){let s=0,o=0,l=va().domain(Va(0,1,1/(Pw.colorbrewer.PuBu[9].length-1))).range(Pw.colorbrewer.PuBu[9]),u=va().domain(hs(_g(t,"conf"))).range([0,1]);return e.container.selectAll("g").data(t).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(S){return e.em_size*((S.conf+1)/10)}).attr("transform",function(S,w){let c=e.em_size-e.em_size*((S.conf+1)/10);return"translate("+[w*e.em_size,n+c]+")"}).attr("fill",function(S){return l(u(S.conf))}).attr("stroke","black").append("svg:title").text(function(S){return S.conf}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(S){return S.pred==="C"?e.em_size/4:e.em_size}).attr("transform",function(S,w){let c=0;return S.pred==="C"&&(c+=e.em_size/3),"translate("+[w*e.em_size,n+c]+")"}).attr("fill",function(S){if(S.pred==="C")return"DimGrey";if(S.pred==="E")return"Gold";if(S.pred==="H")return"HotPink"}).attr("stroke",function(S){if(S.pred==="C")return"DimGrey";if(S.pred==="E")return"Gold";if(S.pred==="H")return"HotPink"}).append("svg:title").text(function(S){return S.pred}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("text").attr("transform",function(S,w){return"translate("+[w*e.em_size,n+e.em_size/2]+")"}).text(function(S){return S.pred}).attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black").append("svg:title").text(function(S,w){return w+a}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("text").attr("transform",function(S,w){return"translate("+[w*e.em_size,n+e.em_size/3]+")"}).text(function(S){return S.aa}).attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black").append("svg:title").text(function(S,w){return w+a}),n}function TU(e,t,r,n){let a=Ji().range([0,e.container_width]).domain(hu(t,r)),s=Ji().range([0,n]).domain(["Conf","Cart","Pred","AA"]);return{x:a,y:s}}function LU(e,t,r,n,a,s){let o=Il().scale(r).tickValues(r.domain().filter(function(u,g){return!((g+1)%10)})),l=zl().scale(n);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,s+e.margin.top]+")").call(l).select(".domain").remove(),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,a+e.margin.top]+")").call(o).selectAll(".domain").remove(),e[t].selectAll("line").remove()}function kU(e){let t=[],r=e.split(`
`),n="",a="",s="";return r.forEach(function(o,l){n+=Nw(o,"Conf: "),a+=Nw(o,"Pred: "),s+=Nw(o,"  AA: ")}),s.split("").forEach(function(o,l){t.push({aa:s[l],pred:a[l],conf:Number(n[l])})}),t}function Nw(e,t){if(e.startsWith(t)){let r=new RegExp("^"+t);return e.replace(r,"")}else return""}var Pw,ufe,sk=ae(()=>{If();Gl();gg();Xn();Xn();Xn();Xn();Xn();Pw=(kw(),Zw(Lw)),ufe=Hf()});var Jo,ok,xg,bh=ae(()=>{If();g6();Tw();Tw();bg();bg();bg();sk();Xn();Jo=ak,ok=JL,xg=tk});var pu,Iw=ae(()=>{pu=["white","Blue","Green","Red","Magenta","Orange","Aquamarine","Crimson","DarkGreen","BlueViolet","GoldenRod","DarkKhaki","DarkSalmon","DarkTurquoise","DeepSkyBlue","FireBrick","Fuchsia","Gainsboro","HoneyDew","LavenderBlush"]});function dk(e,t){return t.split(`
`).forEach(n=>{let a=n.split("	"),s=parseInt(a[2])-1;a.length==4&&parseFloat(a[3])>=.1&&(e[s].dmpmetal="MB")}),e}function ck(e){let t=e.split(`
`),r=0,n={"CHEBI:48775":"Cd2+","CHEBI:29108":"Ca2+","CHEBI:48828":"Co2+","CHEBI:49415":"Co3+","CHEBI:23378":"Cu cation","CHEBI:49552":"Cu+","CHEBI:29036":"Cu2+","CHEBI:60240":"divalent metal cation","CHEBI:190135":"di-\u03BC-sulfido-diiron","CHEBI:24875":"iron cation","CHEBI:29033":"Fe2+","CHEBI:29034":"Fe3+","CHEBI:30408":"iron-sulfur cluster","CHEBI:49713":"Li+","CHEBI:18420":"Mg2+","CHEBI:29035":"Mn2+","CHEBI:16793":"Hg2+","CHEBI:49786":"Ni2+","CHEBI:60400":"nickel-iron-sulfur cluster","CHEBI:47739":"NiFe4S4 cluster","CHEBI:29103":"K+","CHEBI:29101":"Na+","CHEBI:49883":"tetra-\u03BC3-sulfido-tetrairon","CHEBI:21137":"tri-\u03BC-sulfido-\u03BC3-sulfido-triiron","CHEBI:29105":"Zn2+","CHEBI:177874":"NiFe4S5 cluster","CHEBI:21143":"Fe8S7 iron-sulfur cluster","CHEBI:60504":"iron-sulfur-iron cofactor","CHEBI:25213":"metal cation"},a='<br /><p>Binding residues are reported where estimated p-value 0.1% or greater.</p><table class="small-table table-striped table-bordered" style="width: 100%">';return a+='<tr><th style="width: 10%">Residue ID</th><th style="width: 30%">CHEBI ID</th><th style="width: 30%">Metal</th><th style="width: 30%">P-Value</th></tr>',t.forEach(s=>{let o=s.split("	");o.length==4&&parseFloat(o[3])>=.1&&(r++,a+='<tr><td style="width: 10%">'+o[2]+"</td>",a+='<td style="width: 30%"><a href="https://www.ebi.ac.uk/chebi/searchId.do?chebiId='+o[1]+'">'+o[1]+"</a></td>",a+='<td style="width: 30%">'+n[o[1]]+"</td>",a+='<td style="width: 30%">'+o[3]+"</td></tr>")}),a+="</table><p>There may be lower probability predictions in the Residue Results file.</p>",r===0&&(a="<h4>No binding site residues with p-value >= 0.1 predicted for this sequence. There may be lower probability predictions in the Residue Results file.</h4>"),a}function hk(e){let t=e.split(`
`);t.shift(),e=t[0];let r='<br /><h3>Domain Assignments</h3><table class="small-table table-striped table-bordered"  style="width: 30%" >';r+="<tr><th>Domain ID</th><th>Domain Region</th><th>Colour</th></tr>";let n=e.split("	");return n[7]?(n[7].split(",").forEach((s,o)=>{r+="<tr><td>"+(o+1)+"</td><td>"+s+'</td><td style="background-color:'+pu[o+1]+';">&nbsp;</td></tr>'}),r+="</table>",r+='<div style="width: 100%;"><div style="display: inline-block; width: 100%;">',r+='<h3>B-factor Temperature Key</h3><table class="small-table table-striped table-bordered" style="width: 30%;">',r+="<tr><th>Range</th><th>Colour</th></tr>",r+='<tr><td>Min</td><td style="background-color:#000080">&nbsp;</td></tr>',r+='<tr><td>Mid</td><td style="background-color:#008000">&nbsp;</td></tr>',r+='<tr><td>Max</td><td style="background-color:#800000">&nbsp;</td></tr>',r+="</table>",r+="</div>",r+='<div style="display: inline-block; width: 100%;">',r+='<h3>B-factor plDDT Key</h3><table class="small-table table-striped table-bordered" style="width: 30%;">',r+="<tr><th NOWRAP>Confidence Bin</th><th>plDDT</th><th>Colour</th></tr>",r+='<tr><td>Very High</td><td>>90</td><td style="background-color:rgb(0, 81, 214)">&nbsp;</td></tr>',r+='<tr><td>High</td><td>70-90</td><td style="background-color:rgb(101, 203, 243)">&nbsp;</td></tr>',r+='<tr><td>Low</td><td>50-70</td><td style="background-color:rgb(255, 219, 19)">&nbsp;</td></tr>',r+='<tr><td>Very Low</td><td><50</td><td style="background-color:rgb(255, 125, 69)">&nbsp;</td></tr>',r+="</table>",r+="</div></div>",r):"<br /><h3>NO DOMAIN BOUNDARIES FOUND FOR THIS PDB FILE</h3>"}function pk(e){let t={},r=e.split(",");for(var n=0;n<r.length;n++){let o=r[n].split(":"),l=parseInt(o[0],10),u=parseInt(o[1],10);t[l]=u}var a=Object.values(t),s=Math.max(...a);return[t,s]}function mk(e){let t='<br /><h3>Key</h3><table class="small-table table-striped table-bordered"><tr><td bgcolor="#ff0000" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Hotspot Residue</td></tr>';return t+='<tr><td bgcolor="#ffffff" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Non-Hotspot Residue</td></tr>',t+='<tr><td bgcolor="#0000ff" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Non-interface residue</td></tr></table><br /><br />',t+="<h3>Residue Predictions</h3>",t+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Score: <input id="min_hs_score" name="min_hs_score" type="text"></td></tr><tr><td class="alnright" >Max Score: <input id="max_hs_score" name="max_hs_score" type="text"></td></tr></tbody></table><br />',t+='<table id="hspred_table" class="table table-striped table-bordered"><thead><tr><th>Chain/Residue</th><th>Residue Identity</th><th>Score</th><th>Highlight Residue</th></thead><tbody>',e.split(`
`).forEach(function(n,a){let s=n.split(/\s+/);s.length===3&&(t+="<tr><td>"+s[0]+"</td><td>"+s[1]+"</td><td>"+s[2]+'</td><td><input type="checkbox" value="'+s[0]+'" id="'+s[0]+`" onClick="psipred.highlight_hs_residue('`+s[0]+`')"=></td></td></tr>`)}),t+="</tbody><tfoot></tfoot><table>",t}function gk(e){let t='<br /><h3>Key</h3><table class="small-table table-striped table-bordered"><tr><td bgcolor="#ff0000" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Metal Binding Contact&nbsp;</h5></td></tr>';t+='<tr><td bgcolor="#000000" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Chain not predicted&nbsp;</h5></td></tr>',t+='<tr><td bgcolor="#0000ff" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Predicted chain&nbsp;</h5></td></tr></table><br />',t+="<h3>Residue Predictions</h3>",t+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Score: <input id="min_met_score" name="min_met_score" type="text"></td></tr><tr><td class="alnright" >Max Score: <input id="max_met_score" name="max_met_score" type="text"></td></tr></tbody></table><br />',t+='<table id="metsite_table" class="table small-table table-striped table-bordered"><thead><tr><th>Residue</th><th>Raw Neural Network Score</th><th>Highlight Residue</th><thead><tbody>';let r=/\d+\s.+?\s\w{3}\d+/g,n=e.match(r);return n&&n.forEach(function(a,s){let o=a.split(/\s/);t+="<tr><td>"+o[2]+"</td><td>"+o[1]+'</td><td><input type="checkbox" value="'+o[2]+'" id="'+o[2]+`" onClick="psipred.highlight_metsite_residue('`+o[2]+`')"=></td></tr>`}),t+="</tbody><tfoot></tfoot><table>",t}function vk(e){let t=e.split(`
`),r=[],n=[],a=[],s="";return t.forEach(function(o,l){if(o.startsWith("#"))return;let u=o.split("	");u.length<4||(u[3]==="BP"&&r.push(u),u[3]==="CC"&&a.push(u),u[3]==="MF"&&n.push(u))}),s+="<b>Biological Process Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_bp_prob" name="min_bp_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_bp_prob" name="max_bp_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='bp_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",r.forEach(function(o,l){let u="safe";o[2]==="L"&&(u="notsafe"),s+='<tr class="'+u+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="<b>Molecular Function Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_mf_prob" name="min_mf_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_mf_prob" name="max_mf_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='mf_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",n.forEach(function(o,l){let u="safe";o[2]==="L"&&(u="notsafe"),s+='<tr class="'+u+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="<b>Cellular Component Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_cc_prob" name="min_cc_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_cc_prob" name="max_cc_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='cc_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",a.forEach(function(o,l){let u="safe";o[2]==="L"&&(u="notsafe"),s+='<tr class="'+u+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="These prediction terms represent terms predicted where SVM training includes assigned GO terms across all evidence code types. SVM reliability is regarded as High (H) when MCC, sensitivity, specificity and precision are jointly above a given threshold. otherwise Reliability is indicated as Low (L). <br />",s}function OU(){let e={};return e.A={val:.071783248006309,sde:.027367661524275},e.V={val:.059624595369901,sde:.020377791528745},e.Y={val:.026075068240437,sde:.014822471531379},e.W={val:.014166002612771,sde:.010471835801996},e.T={val:.052593582972714,sde:.020094793964597},e.S={val:.082123241332099,sde:.028687566081512},e.P={val:.065557531322241,sde:.034239398496736},e.F={val:.037103994969002,sde:.018543423139186},e.M={val:.022562818183955,sde:.011321039662481},e.K={val:.054833979269185,sde:.029264083667157},e.L={val:.10010591575906,sde:.030276808519009},e.I={val:.042034526040467,sde:.020826849262495},e.H={val:.027141403537598,sde:.01550566378985},e.G={val:.069179820104536,sde:.030087562057328},e.Q={val:.065920561931801,sde:.030103091008366},e.E={val:.04647846225838,sde:.019946269461736},e.C={val:.024908551872056,sde:.020822909589504},e.D={val:.044337904726041,sde:.018436677256726},e.N={val:.033507020987033,sde:.016536022288204},e.R={val:.05974046903119,sde:.025165994773384},e}function NU(){let e={};return e.hydrophobicity={val:-.34876828080152,sde:.75559152769799},e["percent positive residues"]={val:11.457717466948,sde:3.567133341139},e["aliphatic index"]={val:79.911549319099,sde:16.787617978827},e["isoelectric point"]={val:7.6102046383603,sde:1.9716111020088},e["molecular weight"]={val:48668.412839961,sde:37838.324895969},e.charge={val:5.0991763057604,sde:16.83863659025},e["percent negative residues"]={val:11.026190128176,sde:4.0206631680926},e["molar extinction coefficient"]={val:46475.293923926,sde:39299.399848823},e}function uk(e){let t=Math.abs(e);return t>=2.96?e>0?"signif1p":"signif1n":t>=2.24?e>0?"signif2p":"signif2n":t>=1.96?e>0?"signif5p":"signif5n":t>=1.645?e>0?"signif10p":"signif10n":"plain"}function _k(e){let t=e.split(`
`),r={},n={},a=NU(),s=OU();t.forEach(function(u,g){if(u.startsWith("AA")){let p=u.split("	");n[p[1]]=p[2]}if(u.startsWith("SF")){let p=u.split("	");r[p[1]]=p[2]}});let o='<table align="center" class="small-table table-striped table-bordered ffpred-table"><tr><th>Feature Name</th><th>Value</th><th>Bias</th></tr>';Object.keys(r).sort().forEach(function(u){let g="";u in a&&(g=uk((parseFloat(r[u])-a[u].val)/a[u].sde)),o+="<tr><td>"+u+"</td><td>"+parseFloat(r[u]).toFixed(2)+'</td><td class="'+g+'">&nbsp;&nbsp;&nbsp;</td></tr>'}),o+="</table>";let l="<b>Amino Acid Composition (percentages)</b><br />";return l+='<table width="50%" class="small-table table-striped table-bordered ffpred-table" align="center" ><tr>',Object.keys(n).sort().forEach(function(u){l+='<th width="5%">'+u+"</th>"}),l+="</tr><tr>",Object.keys(n).sort().forEach(function(u){let g="";g=uk((parseFloat(n[u])-s[u].val)/s[u].sde),l+='<td width="5% class="'+g+'">'+(parseFloat(n[u])*100).toFixed(2)+"</td>"}),l+="</tr></table><br />",l+="<b>Significance Key</b><br /><br />",l+='<table width="50%" class="small-table table-striped table-bordered ffpred-table" align="center">',l+="<thead><tr>",l+='<th width="9%" align="left"><b>low</b></th>',l+='<th colspan="9">&nbsp;</th>',l+='<th width="9%" align="right"><b>high</b></th>',l+="</tr></thead>",l+="<tbody><tr>",l+="<td>&nbsp;</td>",l+='<td class="signif1n">p &lt; 0.01</td>',l+='<td class="signif2n">p &lt; 0.02</td>',l+='<td class="signif5n">p &lt; 0.05</td>',l+='<td class="signif10n">p &lt; 0.1</td>',l+="<td>p &gt;= 0.1</td>",l+='<td class="signif10p">p &lt; 0.1</td>',l+='<td class="signif5p">p &lt; 0.05</td>',l+='<td class="signif2p">p &lt; 0.02</td>',l+='<td class="signif1p">p &lt; 0.01</td>',l+="<td>&nbsp</td>",l+="</tr></tbody>",l+="<tfoot><tr>",l+='<td colspan="11">Significance p value is calculated using the Z score of the percent amino acid composition</td>',l+="</tr><tfoot>",l+="</table>",[o,l]}function wg(e,t){let r=e.exec(t);if(r[1].includes(",")){let n=r[1].split(",");return n.forEach(function(a,s){n[s]=a.split("-"),n[s][0]=parseInt(n[s][0]-1),n[s][1]=parseInt(n[s][1]-1)}),n}else if(r[1].includes("-")){let n=r[1].split("-"),a=[[]];return a[0][0]=parseInt(n[0]-1),a[0][1]=parseInt(n[1]-1),a}return r[1]}function bk(e,t){let r=t.split(`
`);return r.shift(),r=r.filter(Boolean),e.length===r.length?r.forEach(function(n,a){let s=n.split(/\s+/);e[a].ss=s[3]}):alert("SS2 annotation length does not match query sequence"),e}function yk(e,t){let r=t.split(`
`);return r.shift(),r.shift(),r.shift(),r.shift(),r.shift(),r=r.filter(Boolean),e.length===r.length?r.forEach(function(n,a){let s=n.split(/\s+/);s[3]==="-"&&(e[a].disopred="D"),s[3]==="^"&&(e[a].disopred="PB")}):alert("PBDAT annotation length does not match query sequence"),e}function xk(e){let t=[],r=e.split(`
`);return r.shift(),r.shift(),r.shift(),r=r.filter(Boolean),r.forEach(function(n,a){let s=n.split(/\s+/);t[a]={},t[a].pos=s[1],t[a].precision=s[4]}),t}function wk(e,t){let r=wg(/Topology:\s+(.+?)\n/,t),n=wg(/Signal\speptide:\s+(.+)\n/,t),a=wg(/Re-entrant\shelices:\s+(.+?)\n/,t),s=wg(/N-terminal:\s+(.+?)\n/,t),o="CY";s==="out"&&(o="EC");let l=new Array(e.length);if(r!=="Not detected."){let u=0;r.forEach(function(g){l=l.fill("TM",g[0],g[1]+1),u>0&&(u-=1),l=l.fill(o,u,g[0]),o==="EC"?o="CY":o="EC",u=g[1]+2}),l=l.fill(o,u-1,e.length)}return n!=="Not detected."&&n.forEach(function(u){l=l.fill("S",u[0],u[1]+1)}),a!=="Not detected."&&a.forEach(function(u){l=l.fill("RH",u[0],u[1]+1)}),l.forEach(function(u,g){e[g].memsat=u}),e}function Cg(e,t,r){let n="http://127.0.0.1:3000";n="http://127.0.0.1:3000/";let a=e.split(`
`),s=null;return Object.keys(t).length>0?(s='<div class="text-right modeller-key" style="visibility: visible;">Modeller Licence Key: <input class="text" value=""><br><br></div>',s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min P-Value: <input id="min_'+r+'_pval" name="min_'+r+'_score" type="text"></td></tr><tr><td class="alnright" >Max P-Value: <input id="max_'+r+'_pval" name="max_'+r+'_pval" type="text"></td></tr></tbody></table><br />',s+='<table id="'+r+`_table" class="small-table table-striped table-bordered gen-table"><thead>
`,s+="<tr><th>Conf.</th>",s+="<th>Net Score</th>",s+="<th>p-value</th>",s+="<th>PairE</th>",s+="<th>SolvE</th>",s+="<th>Aln Score</th>",s+="<th>Aln Length</th>",s+="<th>Target Len</th>",s+="<th>Query Len</th>",r==="dgen"?(s+="<th>Region Start</th>",s+="<th>Region End</th>",s+="<th>CATH</th>",s+="<th>SCOP</th>"):(s+="<th>Fold</th>",s+="<th>SCOP</th>",s+="<th>CATH</th>"),s+="<th>PDBSUM</th>",s+="<th>Alignment</th>",s+="<th>MODEL</th>",s+=`</tr></thead><tbody">
`,a.forEach(function(o,l){if(o.length===0)return;let u=o.split(/\s+/),g=u[9];if(r==="dgen"&&(g=u[11]),g+"_"+l in t){s+="<tr>",s+="<td class='"+u[0].toLowerCase()+"'>"+u[0]+"</td>",s+="<td>"+u[1]+"</td>",s+="<td>"+u[2]+"</td>",s+="<td>"+u[3]+"</td>",s+="<td>"+u[4]+"</td>",s+="<td>"+u[5]+"</td>",s+="<td>"+u[6]+"</td>",s+="<td>"+u[7]+"</td>",s+="<td>"+u[8]+"</td>";let p=u[9].substring(0,u[9].length-2);r==="dgen"&&(p=u[11].substring(0,u[11].length-3)),r==="dgen"?(s+="<td>"+u[9]+"</td>",s+="<td>"+u[10]+"</td>",s+="<td><a target='_blank' href='http://www.cathdb.info/version/latest/domain/"+g+"'>"+g+"</a></td>",s+="<td><a target='_blank' href='https://www.ebi.ac.uk/pdbe/scop/search?t=txt;q="+p+"'>SEARCH</a></td>",s+="<td><a target='_blank' href='http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/GetPage.pl?pdbcode="+p+"'>Open</a></td>",s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/msa/?aln="+t[g+"_"+l].aln+"&ann="+t[g+"_"+l].ann+`", "Popup", "scrolling=yes, scrollbars=yes status width=1000 height=400 top=30")' value='View' /></td>`,s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/model/?aln="+t[g+"_"+l].aln+`&type=cath", "Popup", "scrolling=yes, scrollbars=yes status width=500 height=600 top=30")' value='View' /></td>`):(s+="<td><a target='_blank' href='https://www.rcsb.org/pdb/explore/explore.do?structureId="+p+"'>"+g+"</a></td>",s+="<td><a target='_blank' href='https://www.ebi.ac.uk/pdbe/scop/search?t=txt;q="+p+"'>SEARCH</a></td>",s+="<td><a target='_blank' href='http://www.cathdb.info/pdb/"+p+"'>SEARCH</a></td>",s+="<td><a target='_blank' href='http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/GetPage.pl?pdbcode="+p+"'>Open</a></td>",s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/msa/?aln="+t[g+"_"+l].aln+"&ann="+t[g+"_"+l].ann+`", "Popup", "scrolling=yes, scrollbars=yes status width=1000 height=400 top=30")' value='View' /></td>`,s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/model/?aln="+t[g+"_"+l].aln+`&type=pdb", "Popup", "scrolling=yes, scrollbars=yes status width=500 height=600 top=30")' value='View' /></td>`),s+=`</tr>
`}}),s+=`</tbody><tfoot></tfoot></table>
`):s="<h3>No good hits found. GUESS and LOW confidence hits can be found in the results file</h3>",s}function Sk(e,t){let n=/Domain\sBoundary\slocations\spredicted\sDPS:\s(.+)/.exec(t);if(n){let a=[];n[1].indexOf(",")?(a=n[1].split(","),a.forEach(function(s,o){a[o]=parseInt(s)})):a[0]=parseInt(n[1]),a.forEach(function(s){e[s].dompred="B"})}return e}function fk(e,t,r,n){let a={},s='<table width="100%" class="small-table table-striped table-bordered ffpred-table" id="'+n+'" align="center"><thead><tr>';r&&(s+="<th>Show</th>",s+="<th>Chopping</th>",s+="<th>plddt</th>"),t?(s+="<th>Hit:CATH</th>",s+="<th>CATH H-Family</th>",s+="<th>Hit:PDB</th>"):(s+="<th>Hit:TED</th>",s+="<th>Get all Atom PDB</th>",s+="<th>CATH H-Family</th>"),s+="<th>Cosine Sim</th>",r&&(s+="<th>Query Length</th>"),s+="<th>Hit Length</th>",s+="<th>Align Length</th>",s+="<th>Seq ID</th>",s+="<th>Max TM</th>",s+="<th>RMSD</th>",t||(s+="<th>Species</th>"),s+="</tr></thead><tbody>";let o=0;return e.forEach(function(l){if(l.length>0){o+=1,s+="<tr>";let u=l.split(/\t+/),g=u.shift();if(r){let _=parseInt(g.slice(-2),10);s+='<td><button class="btn btn-secondary btn-block merizo_tbl_buttons" id="show_msearch_'+_+'">Show</button></td>',a[_]="show_msearch_"+_}let p=[];u.length===15&&(p=u.pop(),p=p.replace(/'/g,'"'),p=JSON.parse(p)),u.forEach(function(_,x){if(!(x===1||x===3||x===10||x===11))if(x===4)if(t)s+='<td><a href="https://www.cathdb.info/version/latest/domain/'+_+'">'+_+"</a></td>",p.cath.includes("NA")?s+="<td>Unassigned</td>":s+='<td><a href="https://www.cathdb.info/version/latest/superfamily/'+p.cath+'">'+p.cath+"</a></td>",s+='<td><a href="https://www.rcsb.org/structure/'+_.substring(0,4)+'">'+_.substring(0,4)+"</a></td>";else{let S=_;S=S.replace("AF-",""),S=S.replace("-F1-model_v4","");let w=S.slice(0,-2);w=w.replace("_TED",""),s+='<td><a href="https://ted.cathdb.info/uniprot/'+w+'">'+S+"</a></td>",s+='<td><a href="https://ted.cathdb.info/api/v1/files/'+_+'.pdb">DOWNLOAD PDB</a></td>',p.cath?p.cath.includes("NA")?s+="<td>Unassigned</td>":s+='<td><a href="https://www.cathdb.info/version/latest/superfamily/'+p.cath+'">'+p.cath+"</a></td>":s+="<td>Unkown</td>"}else!r&&(x===0||x===6||x===2)||(s+="<td>"+_+"</td>")}),t||(p.cath?s+='<td><a href="https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id='+p.taxid+'">'+p.taxsci+"</a></td>":s+="<td>Unkown</td>"),s+="</tr>"}}),s+="</tbody></table>",o===0?{html:"<h2>Merizo Search identified no significant domain hits for this structure after segmentation</h2>",data:{}}:{html:s,data:a}}function Ck(e,t){let r=!0;r=!0;let n={},a={},s=e.split(`
`);s.shift(),s.forEach(function(_,x){if(_.length===0)return;let S=_.split(/\t+/);S[5].includes("_TED")&&(r=!1);let w=parseInt(S[0].slice(-2),10);w in n||(n[w]={tm:0,data:[]},a[w]={data:[]}),parseFloat(S[12])>n[w].tm&&(n[w].tm=parseFloat(S[12]),n[w].data=[_]),a[w].data.push(_)});let o=[];for(let[_,x]of Object.entries(n))s=n[_].data,o.push(s[0]);let l=fk(o,r,!0,"toptmtable");l.html='<button align="right" class="btn btn-secondary btn-block merizo_buttons" id="colorByDomains">Re-colour All Segments&nbsp</button><h3>Domains with highest TM Score</h3>'+l.html;let u="",g={},p=[];for(let[_,x]of Object.entries(a)){let S=x.data.slice(0,10),w=fk(S,r,!1,_+"tmtable"),c=x.data[0].split("	");u+="<h3>Domain "+_+": "+c[1]+", Length "+c[7]+"</h3>",u+='<button align="right" class="btn btn-secondary btn-block merizo_buttons" id="show_domain_'+_+'">Show Domain '+_+"&nbsp</button>"+w.html,g[_]="show_domain_"+_,p.push(_+"tmtable")}return{html:l.html,data:l.data,althtml:u,domdata:g,tableids:p}}function PU(e){let t=JSON.parse(e),r='<svg version="1.1" baseProfile="full" width="500" height="30" xmlns="http://www.w3.org/2000/svg" aria-label="chain summary figure role="img">';r+='<rect width="492" height="6" x="4" y="12" fill="#aaaaaa"><title>Unmatched region</title></rect>';let n=0,a=0;return t.forEach(s=>{let o=parseInt(s.clen);o>a&&(a=o)}),t.forEach((s,o)=>{let l=pu[o+1];s.rr.split("_").forEach(g=>{let p=g.split("-");p[0]=parseInt(p[0]),p[1]=parseInt(p[1]);let _=p[0]/a*492,S=p[1]/a*492-_;s.cath==="NA"?r+='<rect width="'+S+'" height="22" x="'+(_+4)+'" y="4" fill="'+l+'"><title>Unassigned CATH : '+g+"</title></rect>":r+='<a href="https://www.cathdb.info/version/latest/superfamily/'+s.cath+'"><rect width="'+S+'" height="22" x="'+(_+4)+'" y="4" fill="'+l+'"><title>'+s.cath+" : "+g+"</title></rect></a>"})}),r+="</svg>",r}function Sg(e,t){let r=!0;e.forEach(a=>{a[6].includes('"ted":')&&(r=!1)});let n="<div><h3>"+t+'</h3><table width="100%" class="small-table table-striped table-bordered ffpred-table" align="center"><thead>';return r?n+='<th>Link to CATH Entry</th><th>Link to PDB Entry</th><th>Total Domains in hit chain</th><th style="width: 500px">MDA Diagram</th></thead><tbody>':n+='<th>Link to TED Entry</th><th>Link to AFDB Entry</th><th>Total Domains in hit chain</th><th style="width: 500px">MDA Diagram</th></thead><tbody>',e.forEach(a=>{if(r){var s=a[2].slice(0,-1);n+='<tr><td><a href="https://cathdb.info/search?q='+a[2]+'">'+a[2]+"</a></td>",n+='<td><a href="https://www.rcsb.org/structure/'+s+'">'+s+"</a></td>"}else{var o=a[2].indexOf("-"),l=a[2].indexOf("-",o+1);let u=a[2].slice(o+1,l);n+='<tr><td><a href="https://ted.cathdb.info/uniprot/'+u+'">'+u+"</a></td>",n+='<td><a href="https://www.alphafold.ebi.ac.uk/entry/'+u+'">'+a[2]+"</a></td>"}n+="<td >"+a[3]+"</td>",n+="<td>"+PU(a[6])+"</td></tr>"}),n+="</tbody></table></div>",n}function Ek(e){let t=[],r=[],n=[],a=[];e.split(`
`).forEach(_=>{let x=_.split("	");x[4]=parseInt(x[4]),x[4]===0&&t.push(x),x[4]===1&&r.push(x),x[4]===2&&n.push(x),x[4]===3&&a.push(x)});let o="",l="",u="",g="";return t.length>0?(o=Sg(t.slice(0,10),"Unordered chain matches"),console.log(t)):o="<h3>There are no unordered chain matches for this query</h3>",r.length>0?l=Sg(r.slice(0,10),"Discontiguous chain matches"):l="<h3>There are no discontiguous chain matches for this query</h3>",n.length>0?u=Sg(n.slice(0,10),"Contiguous chain matches"):u="<h3>There are no contiguous chain matches for this query</h3>",a.length>0?g=Sg(a.slice(0,10),"Exact chain matches"):g="<h3>There are exact chain matches for this query</h3>",{unorderedhtml:o,discontightml:l,contightml:u,exacthtml:g,tableids:[]}}function Dk(e){let t='<table class="small-table table-striped table-bordered gsrcl-probabilities" id="gsrcl_probabilities_table"><thead>',r=e.split(`
`),a=r.shift().split(",");return a.shift(),t+="<tr><th>Profile ID</th>",a.forEach(s=>{t+="<th>"+s+"</th>"}),t+="</tr></thead><tbody>",r.forEach((s,o)=>{if(s.length==0)return;let l=s.split(",");t+="<tr>",l.forEach((u,g)=>{g===0||g===l.length-1?t+="<td>"+u+"</td>":t+="<td>"+u.substring(0,3)+"</td>"}),t+="</tr>"}),t+="</tbody></table>",t}var kn=ae(()=>{Iw()});var Mk=Fn((zw,Kf)=>{(function(e,t){typeof zw=="object"&&typeof Kf<"u"?Kf.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(zw,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function r(T){e=T}function n(T){return T instanceof Array||Object.prototype.toString.call(T)==="[object Array]"}function a(T){return T!=null&&Object.prototype.toString.call(T)==="[object Object]"}function s(T,F){return Object.prototype.hasOwnProperty.call(T,F)}function o(T){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(T).length===0;var F;for(F in T)if(s(T,F))return!1;return!0}function l(T){return T===void 0}function u(T){return typeof T=="number"||Object.prototype.toString.call(T)==="[object Number]"}function g(T){return T instanceof Date||Object.prototype.toString.call(T)==="[object Date]"}function p(T,F){var Z=[],J,he=T.length;for(J=0;J<he;++J)Z.push(F(T[J],J));return Z}function _(T,F){for(var Z in F)s(F,Z)&&(T[Z]=F[Z]);return s(F,"toString")&&(T.toString=F.toString),s(F,"valueOf")&&(T.valueOf=F.valueOf),T}function x(T,F,Z,J){return xu(T,F,Z,J,!0).utc()}function S(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(T){return T._pf==null&&(T._pf=S()),T._pf}var c;Array.prototype.some?c=Array.prototype.some:c=function(T){var F=Object(this),Z=F.length>>>0,J;for(J=0;J<Z;J++)if(J in F&&T.call(this,F[J],J,F))return!0;return!1};function v(T){if(T._isValid==null){var F=w(T),Z=c.call(F.parsedDateParts,function(he){return he!=null}),J=!isNaN(T._d.getTime())&&F.overflow<0&&!F.empty&&!F.invalidEra&&!F.invalidMonth&&!F.invalidWeekday&&!F.weekdayMismatch&&!F.nullInput&&!F.invalidFormat&&!F.userInvalidated&&(!F.meridiem||F.meridiem&&Z);if(T._strict&&(J=J&&F.charsLeftOver===0&&F.unusedTokens.length===0&&F.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(T))T._isValid=J;else return J}return T._isValid}function y(T){var F=x(NaN);return T!=null?_(w(F),T):w(F).userInvalidated=!0,F}var b=t.momentProperties=[],C=!1;function E(T,F){var Z,J,he,Ue=b.length;if(l(F._isAMomentObject)||(T._isAMomentObject=F._isAMomentObject),l(F._i)||(T._i=F._i),l(F._f)||(T._f=F._f),l(F._l)||(T._l=F._l),l(F._strict)||(T._strict=F._strict),l(F._tzm)||(T._tzm=F._tzm),l(F._isUTC)||(T._isUTC=F._isUTC),l(F._offset)||(T._offset=F._offset),l(F._pf)||(T._pf=w(F)),l(F._locale)||(T._locale=F._locale),Ue>0)for(Z=0;Z<Ue;Z++)J=b[Z],he=F[J],l(he)||(T[J]=he);return T}function h(T){E(this,T),this._d=new Date(T._d!=null?T._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),C===!1&&(C=!0,t.updateOffset(this),C=!1)}function f(T){return T instanceof h||T!=null&&T._isAMomentObject!=null}function D(T){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+T)}function M(T,F){var Z=!0;return _(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,T),Z){var J=[],he,Ue,gt,Vt=arguments.length;for(Ue=0;Ue<Vt;Ue++){if(he="",typeof arguments[Ue]=="object"){he+=`
[`+Ue+"] ";for(gt in arguments[0])s(arguments[0],gt)&&(he+=gt+": "+arguments[0][gt]+", ");he=he.slice(0,-2)}else he=arguments[Ue];J.push(he)}D(T+`
Arguments: `+Array.prototype.slice.call(J).join("")+`
`+new Error().stack),Z=!1}return F.apply(this,arguments)},F)}var N={};function k(T,F){t.deprecationHandler!=null&&t.deprecationHandler(T,F),N[T]||(D(F),N[T]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function z(T){return typeof Function<"u"&&T instanceof Function||Object.prototype.toString.call(T)==="[object Function]"}function O(T){var F,Z;for(Z in T)s(T,Z)&&(F=T[Z],z(F)?this[Z]=F:this["_"+Z]=F);this._config=T,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(T,F){var Z=_({},T),J;for(J in F)s(F,J)&&(a(T[J])&&a(F[J])?(Z[J]={},_(Z[J],T[J]),_(Z[J],F[J])):F[J]!=null?Z[J]=F[J]:delete Z[J]);for(J in T)s(T,J)&&!s(F,J)&&a(T[J])&&(Z[J]=_({},Z[J]));return Z}function H(T){T!=null&&this.set(T)}var Y;Object.keys?Y=Object.keys:Y=function(T){var F,Z=[];for(F in T)s(T,F)&&Z.push(F);return Z};var q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function G(T,F,Z){var J=this._calendar[T]||this._calendar.sameElse;return z(J)?J.call(F,Z):J}function $(T,F,Z){var J=""+Math.abs(T),he=F-J.length,Ue=T>=0;return(Ue?Z?"+":"":"-")+Math.pow(10,Math.max(0,he)).toString().substr(1)+J}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,X={},Q={};function te(T,F,Z,J){var he=J;typeof J=="string"&&(he=function(){return this[J]()}),T&&(Q[T]=he),F&&(Q[F[0]]=function(){return $(he.apply(this,arguments),F[1],F[2])}),Z&&(Q[Z]=function(){return this.localeData().ordinal(he.apply(this,arguments),T)})}function we(T){return T.match(/\[[\s\S]/)?T.replace(/^\[|\]$/g,""):T.replace(/\\/g,"")}function Pe(T){var F=T.match(R),Z,J;for(Z=0,J=F.length;Z<J;Z++)Q[F[Z]]?F[Z]=Q[F[Z]]:F[Z]=we(F[Z]);return function(he){var Ue="",gt;for(gt=0;gt<J;gt++)Ue+=z(F[gt])?F[gt].call(he,T):F[gt];return Ue}}function xe(T,F){return T.isValid()?(F=Fe(F,T.localeData()),X[F]=X[F]||Pe(F),X[F](T)):T.localeData().invalidDate()}function Fe(T,F){var Z=5;function J(he){return F.longDateFormat(he)||he}for(V.lastIndex=0;Z>=0&&V.test(T);)T=T.replace(V,J),V.lastIndex=0,Z-=1;return T}var Ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function be(T){var F=this._longDateFormat[T],Z=this._longDateFormat[T.toUpperCase()];return F||!Z?F:(this._longDateFormat[T]=Z.match(R).map(function(J){return J==="MMMM"||J==="MM"||J==="DD"||J==="dddd"?J.slice(1):J}).join(""),this._longDateFormat[T])}var Qe="Invalid date";function Xe(){return this._invalidDate}var U="%d",pe=/\d{1,2}/;function _e(T){return this._ordinal.replace("%d",T)}var ie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function de(T,F,Z,J){var he=this._relativeTime[Z];return z(he)?he(T,F,Z,J):he.replace(/%d/i,T)}function ye(T,F){var Z=this._relativeTime[T>0?"future":"past"];return z(Z)?Z(F):Z.replace(/%s/i,F)}var je={};function Be(T,F){var Z=T.toLowerCase();je[Z]=je[Z+"s"]=je[F]=T}function Ce(T){return typeof T=="string"?je[T]||je[T.toLowerCase()]:void 0}function Ie(T){var F={},Z,J;for(J in T)s(T,J)&&(Z=Ce(J),Z&&(F[Z]=T[J]));return F}var Re={};function Ke(T,F){Re[T]=F}function Ne(T){var F=[],Z;for(Z in T)s(T,Z)&&F.push({unit:Z,priority:Re[Z]});return F.sort(function(J,he){return J.priority-he.priority}),F}function pt(T){return T%4===0&&T%100!==0||T%400===0}function yt(T){return T<0?Math.ceil(T)||0:Math.floor(T)}function le(T){var F=+T,Z=0;return F!==0&&isFinite(F)&&(Z=yt(F)),Z}function ue(T,F){return function(Z){return Z!=null?($e(this,T,Z),t.updateOffset(this,F),this):ge(this,T)}}function ge(T,F){return T.isValid()?T._d["get"+(T._isUTC?"UTC":"")+F]():NaN}function $e(T,F,Z){T.isValid()&&!isNaN(Z)&&(F==="FullYear"&&pt(T.year())&&T.month()===1&&T.date()===29?(Z=le(Z),T._d["set"+(T._isUTC?"UTC":"")+F](Z,T.month(),ta(Z,T.month()))):T._d["set"+(T._isUTC?"UTC":"")+F](Z))}function Oe(T){return T=Ce(T),z(this[T])?this[T]():this}function at(T,F){if(typeof T=="object"){T=Ie(T);var Z=Ne(T),J,he=Z.length;for(J=0;J<he;J++)this[Z[J].unit](T[Z[J].unit])}else if(T=Ce(T),z(this[T]))return this[T](F);return this}var lt=/\d/,se=/\d\d/,Ge=/\d{3}/,Je=/\d{4}/,mt=/[+-]?\d{6}/,Le=/\d\d?/,ut=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,dt=/\d{1,3}/,At=/\d{1,4}/,W=/[+-]?\d{1,6}/,Ve=/\d+/,Ye=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,ze=/Z|[+-]\d\d(?::?\d\d)?/gi,tt=/[+-]?\d+(\.\d{1,3})?/,Lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Mt;Mt={};function st(T,F,Z){Mt[T]=z(F)?F:function(J,he){return J&&Z?Z:F}}function Jt(T,F){return s(Mt,T)?Mt[T](F._strict,F._locale):new RegExp(Zr(T))}function Zr(T){return Yt(T.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(F,Z,J,he,Ue){return Z||J||he||Ue}))}function Yt(T){return T.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var er={};function Nt(T,F){var Z,J=F,he;for(typeof T=="string"&&(T=[T]),u(F)&&(J=function(Ue,gt){gt[F]=le(Ue)}),he=T.length,Z=0;Z<he;Z++)er[T[Z]]=J}function Or(T,F){Nt(T,function(Z,J,he,Ue){he._w=he._w||{},F(Z,he._w,he,Ue)})}function Mr(T,F,Z){F!=null&&s(er,T)&&er[T](F,Z._a,Z,T)}var Br=0,nn=1,dr=2,Xt=3,ir=4,Ur=5,Wr=6,wi=7,Ss=8;function xa(T,F){return(T%F+F)%F}var Ar;Array.prototype.indexOf?Ar=Array.prototype.indexOf:Ar=function(T){var F;for(F=0;F<this.length;++F)if(this[F]===T)return F;return-1};function ta(T,F){if(isNaN(T)||isNaN(F))return NaN;var Z=xa(F,12);return T+=(F-Z)/12,Z===1?pt(T)?29:28:31-Z%7%2}te("M",["MM",2],"Mo",function(){return this.month()+1}),te("MMM",0,0,function(T){return this.localeData().monthsShort(this,T)}),te("MMMM",0,0,function(T){return this.localeData().months(this,T)}),Be("month","M"),Ke("month",8),st("M",Le),st("MM",Le,se),st("MMM",function(T,F){return F.monthsShortRegex(T)}),st("MMMM",function(T,F){return F.monthsRegex(T)}),Nt(["M","MM"],function(T,F){F[nn]=le(T)-1}),Nt(["MMM","MMMM"],function(T,F,Z,J){var he=Z._locale.monthsParse(T,J,Z._strict);he!=null?F[nn]=he:w(Z).invalidMonth=T});var Cs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xa="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$a=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,el=Lt,tl=Lt;function qf(T,F){return T?n(this._months)?this._months[T.month()]:this._months[(this._months.isFormat||$a).test(F)?"format":"standalone"][T.month()]:n(this._months)?this._months:this._months.standalone}function Jf(T,F){return T?n(this._monthsShort)?this._monthsShort[T.month()]:this._monthsShort[$a.test(F)?"format":"standalone"][T.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function mu(T,F,Z){var J,he,Ue,gt=T.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],J=0;J<12;++J)Ue=x([2e3,J]),this._shortMonthsParse[J]=this.monthsShort(Ue,"").toLocaleLowerCase(),this._longMonthsParse[J]=this.months(Ue,"").toLocaleLowerCase();return Z?F==="MMM"?(he=Ar.call(this._shortMonthsParse,gt),he!==-1?he:null):(he=Ar.call(this._longMonthsParse,gt),he!==-1?he:null):F==="MMM"?(he=Ar.call(this._shortMonthsParse,gt),he!==-1?he:(he=Ar.call(this._longMonthsParse,gt),he!==-1?he:null)):(he=Ar.call(this._longMonthsParse,gt),he!==-1?he:(he=Ar.call(this._shortMonthsParse,gt),he!==-1?he:null))}function sr(T,F,Z){var J,he,Ue;if(this._monthsParseExact)return mu.call(this,T,F,Z);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),J=0;J<12;J++){if(he=x([2e3,J]),Z&&!this._longMonthsParse[J]&&(this._longMonthsParse[J]=new RegExp("^"+this.months(he,"").replace(".","")+"$","i"),this._shortMonthsParse[J]=new RegExp("^"+this.monthsShort(he,"").replace(".","")+"$","i")),!Z&&!this._monthsParse[J]&&(Ue="^"+this.months(he,"")+"|^"+this.monthsShort(he,""),this._monthsParse[J]=new RegExp(Ue.replace(".",""),"i")),Z&&F==="MMMM"&&this._longMonthsParse[J].test(T))return J;if(Z&&F==="MMM"&&this._shortMonthsParse[J].test(T))return J;if(!Z&&this._monthsParse[J].test(T))return J}}function li(T,F){var Z;if(!T.isValid())return T;if(typeof F=="string"){if(/^\d+$/.test(F))F=le(F);else if(F=T.localeData().monthsParse(F),!u(F))return T}return Z=Math.min(T.date(),ta(T.year(),F)),T._d["set"+(T._isUTC?"UTC":"")+"Month"](F,Z),T}function $n(T){return T!=null?(li(this,T),t.updateOffset(this,!0),this):ge(this,"Month")}function Nn(){return ta(this.year(),this.month())}function ui(T){return this._monthsParseExact?(s(this,"_monthsRegex")||so.call(this),T?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=el),this._monthsShortStrictRegex&&T?this._monthsShortStrictRegex:this._monthsShortRegex)}function Qa(T){return this._monthsParseExact?(s(this,"_monthsRegex")||so.call(this),T?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=tl),this._monthsStrictRegex&&T?this._monthsStrictRegex:this._monthsRegex)}function so(){function T(gt,Vt){return Vt.length-gt.length}var F=[],Z=[],J=[],he,Ue;for(he=0;he<12;he++)Ue=x([2e3,he]),F.push(this.monthsShort(Ue,"")),Z.push(this.months(Ue,"")),J.push(this.months(Ue,"")),J.push(this.monthsShort(Ue,""));for(F.sort(T),Z.sort(T),J.sort(T),he=0;he<12;he++)F[he]=Yt(F[he]),Z[he]=Yt(Z[he]);for(he=0;he<24;he++)J[he]=Yt(J[he]);this._monthsRegex=new RegExp("^("+J.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Z.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+F.join("|")+")","i")}te("Y",0,0,function(){var T=this.year();return T<=9999?$(T,4):"+"+T}),te(0,["YY",2],0,function(){return this.year()%100}),te(0,["YYYY",4],0,"year"),te(0,["YYYYY",5],0,"year"),te(0,["YYYYYY",6,!0],0,"year"),Be("year","y"),Ke("year",1),st("Y",Ye),st("YY",Le,se),st("YYYY",At,Je),st("YYYYY",W,mt),st("YYYYYY",W,mt),Nt(["YYYYY","YYYYYY"],Br),Nt("YYYY",function(T,F){F[Br]=T.length===2?t.parseTwoDigitYear(T):le(T)}),Nt("YY",function(T,F){F[Br]=t.parseTwoDigitYear(T)}),Nt("Y",function(T,F){F[Br]=parseInt(T,10)});function wa(T){return pt(T)?366:365}t.parseTwoDigitYear=function(T){return le(T)+(le(T)>68?1900:2e3)};var qa=ue("FullYear",!0);function oo(){return pt(this.year())}function Si(T,F,Z,J,he,Ue,gt){var Vt;return T<100&&T>=0?(Vt=new Date(T+400,F,Z,J,he,Ue,gt),isFinite(Vt.getFullYear())&&Vt.setFullYear(T)):Vt=new Date(T,F,Z,J,he,Ue,gt),Vt}function Ci(T){var F,Z;return T<100&&T>=0?(Z=Array.prototype.slice.call(arguments),Z[0]=T+400,F=new Date(Date.UTC.apply(null,Z)),isFinite(F.getUTCFullYear())&&F.setUTCFullYear(T)):F=new Date(Date.UTC.apply(null,arguments)),F}function fn(T,F,Z){var J=7+F-Z,he=(7+Ci(T,0,J).getUTCDay()-F)%7;return-he+J-1}function Sa(T,F,Z,J,he){var Ue=(7+Z-J)%7,gt=fn(T,J,he),Vt=1+7*(F-1)+Ue+gt,lr,jr;return Vt<=0?(lr=T-1,jr=wa(lr)+Vt):Vt>wa(T)?(lr=T+1,jr=Vt-wa(T)):(lr=T,jr=Vt),{year:lr,dayOfYear:jr}}function Xr(T,F,Z){var J=fn(T.year(),F,Z),he=Math.floor((T.dayOfYear()-J-1)/7)+1,Ue,gt;return he<1?(gt=T.year()-1,Ue=he+En(gt,F,Z)):he>En(T.year(),F,Z)?(Ue=he-En(T.year(),F,Z),gt=T.year()+1):(gt=T.year(),Ue=he),{week:Ue,year:gt}}function En(T,F,Z){var J=fn(T,F,Z),he=fn(T+1,F,Z);return(wa(T)-J+he)/7}te("w",["ww",2],"wo","week"),te("W",["WW",2],"Wo","isoWeek"),Be("week","w"),Be("isoWeek","W"),Ke("week",5),Ke("isoWeek",5),st("w",Le),st("ww",Le,se),st("W",Le),st("WW",Le,se),Or(["w","ww","W","WW"],function(T,F,Z,J){F[J.substr(0,1)]=le(T)});function Es(T){return Xr(T,this._week.dow,this._week.doy).week}var Ca={dow:0,doy:6};function gu(){return this._week.dow}function Pn(){return this._week.doy}function Ea(T){var F=this.localeData().week(this);return T==null?F:this.add((T-F)*7,"d")}function vu(T){var F=Xr(this,1,4).week;return T==null?F:this.add((T-F)*7,"d")}te("d",0,"do","day"),te("dd",0,0,function(T){return this.localeData().weekdaysMin(this,T)}),te("ddd",0,0,function(T){return this.localeData().weekdaysShort(this,T)}),te("dddd",0,0,function(T){return this.localeData().weekdays(this,T)}),te("e",0,0,"weekday"),te("E",0,0,"isoWeekday"),Be("day","d"),Be("weekday","e"),Be("isoWeekday","E"),Ke("day",11),Ke("weekday",11),Ke("isoWeekday",11),st("d",Le),st("e",Le),st("E",Le),st("dd",function(T,F){return F.weekdaysMinRegex(T)}),st("ddd",function(T,F){return F.weekdaysShortRegex(T)}),st("dddd",function(T,F){return F.weekdaysRegex(T)}),Or(["dd","ddd","dddd"],function(T,F,Z,J){var he=Z._locale.weekdaysParse(T,J,Z._strict);he!=null?F.d=he:w(Z).invalidWeekday=T}),Or(["d","e","E"],function(T,F,Z,J){F[J]=le(T)});function ra(T,F){return typeof T!="string"?T:isNaN(T)?(T=F.weekdaysParse(T),typeof T=="number"?T:null):parseInt(T,10)}function mn(T,F){return typeof T=="string"?F.weekdaysParse(T)%7||7:isNaN(T)?null:T}function yn(T,F){return T.slice(F,7).concat(T.slice(0,F))}var hr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Da="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),lo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_u=Lt,Ma=Lt,bu=Lt;function rl(T,F){var Z=n(this._weekdays)?this._weekdays:this._weekdays[T&&T!==!0&&this._weekdays.isFormat.test(F)?"format":"standalone"];return T===!0?yn(Z,this._week.dow):T?Z[T.day()]:Z}function na(T){return T===!0?yn(this._weekdaysShort,this._week.dow):T?this._weekdaysShort[T.day()]:this._weekdaysShort}function ed(T){return T===!0?yn(this._weekdaysMin,this._week.dow):T?this._weekdaysMin[T.day()]:this._weekdaysMin}function td(T,F,Z){var J,he,Ue,gt=T.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],J=0;J<7;++J)Ue=x([2e3,1]).day(J),this._minWeekdaysParse[J]=this.weekdaysMin(Ue,"").toLocaleLowerCase(),this._shortWeekdaysParse[J]=this.weekdaysShort(Ue,"").toLocaleLowerCase(),this._weekdaysParse[J]=this.weekdays(Ue,"").toLocaleLowerCase();return Z?F==="dddd"?(he=Ar.call(this._weekdaysParse,gt),he!==-1?he:null):F==="ddd"?(he=Ar.call(this._shortWeekdaysParse,gt),he!==-1?he:null):(he=Ar.call(this._minWeekdaysParse,gt),he!==-1?he:null):F==="dddd"?(he=Ar.call(this._weekdaysParse,gt),he!==-1||(he=Ar.call(this._shortWeekdaysParse,gt),he!==-1)?he:(he=Ar.call(this._minWeekdaysParse,gt),he!==-1?he:null)):F==="ddd"?(he=Ar.call(this._shortWeekdaysParse,gt),he!==-1||(he=Ar.call(this._weekdaysParse,gt),he!==-1)?he:(he=Ar.call(this._minWeekdaysParse,gt),he!==-1?he:null)):(he=Ar.call(this._minWeekdaysParse,gt),he!==-1||(he=Ar.call(this._weekdaysParse,gt),he!==-1)?he:(he=Ar.call(this._shortWeekdaysParse,gt),he!==-1?he:null))}function Ei(T,F,Z){var J,he,Ue;if(this._weekdaysParseExact)return td.call(this,T,F,Z);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),J=0;J<7;J++){if(he=x([2e3,1]).day(J),Z&&!this._fullWeekdaysParse[J]&&(this._fullWeekdaysParse[J]=new RegExp("^"+this.weekdays(he,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[J]=new RegExp("^"+this.weekdaysShort(he,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[J]=new RegExp("^"+this.weekdaysMin(he,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[J]||(Ue="^"+this.weekdays(he,"")+"|^"+this.weekdaysShort(he,"")+"|^"+this.weekdaysMin(he,""),this._weekdaysParse[J]=new RegExp(Ue.replace(".",""),"i")),Z&&F==="dddd"&&this._fullWeekdaysParse[J].test(T))return J;if(Z&&F==="ddd"&&this._shortWeekdaysParse[J].test(T))return J;if(Z&&F==="dd"&&this._minWeekdaysParse[J].test(T))return J;if(!Z&&this._weekdaysParse[J].test(T))return J}}function Ds(T){if(!this.isValid())return T!=null?this:NaN;var F=this._isUTC?this._d.getUTCDay():this._d.getDay();return T!=null?(T=ra(T,this.localeData()),this.add(T-F,"d")):F}function rd(T){if(!this.isValid())return T!=null?this:NaN;var F=(this.day()+7-this.localeData()._week.dow)%7;return T==null?F:this.add(T-F,"d")}function nd(T){if(!this.isValid())return T!=null?this:NaN;if(T!=null){var F=mn(T,this.localeData());return this.day(this.day()%7?F:F-7)}else return this.day()||7}function Ms(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||fo.call(this),T?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=_u),this._weekdaysStrictRegex&&T?this._weekdaysStrictRegex:this._weekdaysRegex)}function nl(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||fo.call(this),T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ma),this._weekdaysShortStrictRegex&&T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function uo(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||fo.call(this),T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bu),this._weekdaysMinStrictRegex&&T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fo(){function T(di,Us){return Us.length-di.length}var F=[],Z=[],J=[],he=[],Ue,gt,Vt,lr,jr;for(Ue=0;Ue<7;Ue++)gt=x([2e3,1]).day(Ue),Vt=Yt(this.weekdaysMin(gt,"")),lr=Yt(this.weekdaysShort(gt,"")),jr=Yt(this.weekdays(gt,"")),F.push(Vt),Z.push(lr),J.push(jr),he.push(Vt),he.push(lr),he.push(jr);F.sort(T),Z.sort(T),J.sort(T),he.sort(T),this._weekdaysRegex=new RegExp("^("+he.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+J.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Z.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+F.join("|")+")","i")}function Ja(){return this.hours()%12||12}function yu(){return this.hours()||24}te("H",["HH",2],0,"hour"),te("h",["hh",2],0,Ja),te("k",["kk",2],0,yu),te("hmm",0,0,function(){return""+Ja.apply(this)+$(this.minutes(),2)}),te("hmmss",0,0,function(){return""+Ja.apply(this)+$(this.minutes(),2)+$(this.seconds(),2)}),te("Hmm",0,0,function(){return""+this.hours()+$(this.minutes(),2)}),te("Hmmss",0,0,function(){return""+this.hours()+$(this.minutes(),2)+$(this.seconds(),2)});function il(T,F){te(T,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),F)})}il("a",!0),il("A",!1),Be("hour","h"),Ke("hour",13);function co(T,F){return F._meridiemParse}st("a",co),st("A",co),st("H",Le),st("h",Le),st("k",Le),st("HH",Le,se),st("hh",Le,se),st("kk",Le,se),st("hmm",ut),st("hmmss",oe),st("Hmm",ut),st("Hmmss",oe),Nt(["H","HH"],Xt),Nt(["k","kk"],function(T,F,Z){var J=le(T);F[Xt]=J===24?0:J}),Nt(["a","A"],function(T,F,Z){Z._isPm=Z._locale.isPM(T),Z._meridiem=T}),Nt(["h","hh"],function(T,F,Z){F[Xt]=le(T),w(Z).bigHour=!0}),Nt("hmm",function(T,F,Z){var J=T.length-2;F[Xt]=le(T.substr(0,J)),F[ir]=le(T.substr(J)),w(Z).bigHour=!0}),Nt("hmmss",function(T,F,Z){var J=T.length-4,he=T.length-2;F[Xt]=le(T.substr(0,J)),F[ir]=le(T.substr(J,2)),F[Ur]=le(T.substr(he)),w(Z).bigHour=!0}),Nt("Hmm",function(T,F,Z){var J=T.length-2;F[Xt]=le(T.substr(0,J)),F[ir]=le(T.substr(J))}),Nt("Hmmss",function(T,F,Z){var J=T.length-4,he=T.length-2;F[Xt]=le(T.substr(0,J)),F[ir]=le(T.substr(J,2)),F[Ur]=le(T.substr(he))});function id(T){return(T+"").toLowerCase().charAt(0)==="p"}var ad=/[ap]\.?m?\.?/i,sd=ue("Hours",!0);function As(T,F,Z){return T>11?Z?"pm":"PM":Z?"am":"AM"}var al={calendar:q,longDateFormat:Ae,invalidDate:Qe,ordinal:U,dayOfMonthOrdinalParse:pe,relativeTime:ie,months:Cs,monthsShort:Xa,week:Ca,weekdays:hr,weekdaysMin:lo,weekdaysShort:Da,meridiemParse:ad},Ir={},Ts={},Ls;function od(T,F){var Z,J=Math.min(T.length,F.length);for(Z=0;Z<J;Z+=1)if(T[Z]!==F[Z])return Z;return J}function A(T){return T&&T.toLowerCase().replace("_","-")}function P(T){for(var F=0,Z,J,he,Ue;F<T.length;){for(Ue=A(T[F]).split("-"),Z=Ue.length,J=A(T[F+1]),J=J?J.split("-"):null;Z>0;){if(he=K(Ue.slice(0,Z).join("-")),he)return he;if(J&&J.length>=Z&&od(Ue,J)>=Z-1)break;Z--}F++}return Ls}function j(T){return T.match("^[^/\\\\]*$")!=null}function K(T){var F=null,Z;if(Ir[T]===void 0&&typeof Kf<"u"&&Kf&&Kf.exports&&j(T))try{F=Ls._abbr,Z=ml,Z("./locale/"+T),ee(F)}catch{Ir[T]=null}return Ir[T]}function ee(T,F){var Z;return T&&(l(F)?Z=ke(T):Z=re(T,F),Z?Ls=Z:typeof console<"u"&&console.warn&&console.warn("Locale "+T+" not found. Did you forget to load it?")),Ls._abbr}function re(T,F){if(F!==null){var Z,J=al;if(F.abbr=T,Ir[T]!=null)k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),J=Ir[T]._config;else if(F.parentLocale!=null)if(Ir[F.parentLocale]!=null)J=Ir[F.parentLocale]._config;else if(Z=K(F.parentLocale),Z!=null)J=Z._config;else return Ts[F.parentLocale]||(Ts[F.parentLocale]=[]),Ts[F.parentLocale].push({name:T,config:F}),null;return Ir[T]=new H(I(J,F)),Ts[T]&&Ts[T].forEach(function(he){re(he.name,he.config)}),ee(T),Ir[T]}else return delete Ir[T],null}function fe(T,F){if(F!=null){var Z,J,he=al;Ir[T]!=null&&Ir[T].parentLocale!=null?Ir[T].set(I(Ir[T]._config,F)):(J=K(T),J!=null&&(he=J._config),F=I(he,F),J==null&&(F.abbr=T),Z=new H(F),Z.parentLocale=Ir[T],Ir[T]=Z),ee(T)}else Ir[T]!=null&&(Ir[T].parentLocale!=null?(Ir[T]=Ir[T].parentLocale,T===ee()&&ee(T)):Ir[T]!=null&&delete Ir[T]);return Ir[T]}function ke(T){var F;if(T&&T._locale&&T._locale._abbr&&(T=T._locale._abbr),!T)return Ls;if(!n(T)){if(F=K(T),F)return F;T=[T]}return P(T)}function Te(){return Y(Ir)}function Ze(T){var F,Z=T._a;return Z&&w(T).overflow===-2&&(F=Z[nn]<0||Z[nn]>11?nn:Z[dr]<1||Z[dr]>ta(Z[Br],Z[nn])?dr:Z[Xt]<0||Z[Xt]>24||Z[Xt]===24&&(Z[ir]!==0||Z[Ur]!==0||Z[Wr]!==0)?Xt:Z[ir]<0||Z[ir]>59?ir:Z[Ur]<0||Z[Ur]>59?Ur:Z[Wr]<0||Z[Wr]>999?Wr:-1,w(T)._overflowDayOfYear&&(F<Br||F>dr)&&(F=dr),w(T)._overflowWeeks&&F===-1&&(F=wi),w(T)._overflowWeekday&&F===-1&&(F=Ss),w(T).overflow=F),T}var ht=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nt=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Zt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ur=/^\/?Date\((-?\d+)/i,rr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function tn(T){var F,Z,J=T._i,he=ht.exec(J)||_t.exec(J),Ue,gt,Vt,lr,jr=wt.length,di=Zt.length;if(he){for(w(T).iso=!0,F=0,Z=jr;F<Z;F++)if(wt[F][1].exec(he[1])){gt=wt[F][0],Ue=wt[F][2]!==!1;break}if(gt==null){T._isValid=!1;return}if(he[3]){for(F=0,Z=di;F<Z;F++)if(Zt[F][1].exec(he[3])){Vt=(he[2]||" ")+Zt[F][0];break}if(Vt==null){T._isValid=!1;return}}if(!Ue&&Vt!=null){T._isValid=!1;return}if(he[4])if(nt.exec(he[4]))lr="Z";else{T._isValid=!1;return}T._f=gt+(Vt||"")+(lr||""),Li(T)}else T._isValid=!1}function Di(T,F,Z,J,he,Ue){var gt=[Gn(T),Xa.indexOf(F),parseInt(Z,10),parseInt(J,10),parseInt(he,10)];return Ue&&gt.push(parseInt(Ue,10)),gt}function Gn(T){var F=parseInt(T,10);return F<=49?2e3+F:F<=999?1900+F:F}function or(T){return T.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Aa(T,F,Z){if(T){var J=Da.indexOf(T),he=new Date(F[0],F[1],F[2]).getDay();if(J!==he)return w(Z).weekdayMismatch=!0,Z._isValid=!1,!1}return!0}function pr(T,F,Z){if(T)return gn[T];if(F)return 0;var J=parseInt(Z,10),he=J%100,Ue=(J-he)/100;return Ue*60+he}function Gr(T){var F=rr.exec(or(T._i)),Z;if(F){if(Z=Di(F[4],F[3],F[2],F[5],F[6],F[7]),!Aa(F[1],Z,T))return;T._a=Z,T._tzm=pr(F[8],F[9],F[10]),T._d=Ci.apply(null,T._a),T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),w(T).rfc2822=!0}else T._isValid=!1}function ji(T){var F=ur.exec(T._i);if(F!==null){T._d=new Date(+F[1]);return}if(tn(T),T._isValid===!1)delete T._isValid;else return;if(Gr(T),T._isValid===!1)delete T._isValid;else return;T._strict?T._isValid=!1:t.createFromInputFallback(T)}t.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(T){T._d=new Date(T._i+(T._useUTC?" UTC":""))});function Mi(T,F,Z){return T??F??Z}function Ai(T){var F=new Date(t.now());return T._useUTC?[F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate()]:[F.getFullYear(),F.getMonth(),F.getDate()]}function Ta(T){var F,Z,J=[],he,Ue,gt;if(!T._d){for(he=Ai(T),T._w&&T._a[dr]==null&&T._a[nn]==null&&Ti(T),T._dayOfYear!=null&&(gt=Mi(T._a[Br],he[Br]),(T._dayOfYear>wa(gt)||T._dayOfYear===0)&&(w(T)._overflowDayOfYear=!0),Z=Ci(gt,0,T._dayOfYear),T._a[nn]=Z.getUTCMonth(),T._a[dr]=Z.getUTCDate()),F=0;F<3&&T._a[F]==null;++F)T._a[F]=J[F]=he[F];for(;F<7;F++)T._a[F]=J[F]=T._a[F]==null?F===2?1:0:T._a[F];T._a[Xt]===24&&T._a[ir]===0&&T._a[Ur]===0&&T._a[Wr]===0&&(T._nextDay=!0,T._a[Xt]=0),T._d=(T._useUTC?Ci:Si).apply(null,J),Ue=T._useUTC?T._d.getUTCDay():T._d.getDay(),T._tzm!=null&&T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),T._nextDay&&(T._a[Xt]=24),T._w&&typeof T._w.d<"u"&&T._w.d!==Ue&&(w(T).weekdayMismatch=!0)}}function Ti(T){var F,Z,J,he,Ue,gt,Vt,lr,jr;F=T._w,F.GG!=null||F.W!=null||F.E!=null?(Ue=1,gt=4,Z=Mi(F.GG,T._a[Br],Xr(wr(),1,4).year),J=Mi(F.W,1),he=Mi(F.E,1),(he<1||he>7)&&(lr=!0)):(Ue=T._locale._week.dow,gt=T._locale._week.doy,jr=Xr(wr(),Ue,gt),Z=Mi(F.gg,T._a[Br],jr.year),J=Mi(F.w,jr.week),F.d!=null?(he=F.d,(he<0||he>6)&&(lr=!0)):F.e!=null?(he=F.e+Ue,(F.e<0||F.e>6)&&(lr=!0)):he=Ue),J<1||J>En(Z,Ue,gt)?w(T)._overflowWeeks=!0:lr!=null?w(T)._overflowWeekday=!0:(Vt=Sa(Z,J,he,Ue,gt),T._a[Br]=Vt.year,T._dayOfYear=Vt.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Li(T){if(T._f===t.ISO_8601){tn(T);return}if(T._f===t.RFC_2822){Gr(T);return}T._a=[],w(T).empty=!0;var F=""+T._i,Z,J,he,Ue,gt,Vt=F.length,lr=0,jr,di;for(he=Fe(T._f,T._locale).match(R)||[],di=he.length,Z=0;Z<di;Z++)Ue=he[Z],J=(F.match(Jt(Ue,T))||[])[0],J&&(gt=F.substr(0,F.indexOf(J)),gt.length>0&&w(T).unusedInput.push(gt),F=F.slice(F.indexOf(J)+J.length),lr+=J.length),Q[Ue]?(J?w(T).empty=!1:w(T).unusedTokens.push(Ue),Mr(Ue,J,T)):T._strict&&!J&&w(T).unusedTokens.push(Ue);w(T).charsLeftOver=Vt-lr,F.length>0&&w(T).unusedInput.push(F),T._a[Xt]<=12&&w(T).bigHour===!0&&T._a[Xt]>0&&(w(T).bigHour=void 0),w(T).parsedDateParts=T._a.slice(0),w(T).meridiem=T._meridiem,T._a[Xt]=ia(T._locale,T._a[Xt],T._meridiem),jr=w(T).era,jr!==null&&(T._a[Br]=T._locale.erasConvertYear(jr,T._a[Br])),Ta(T),Ze(T)}function ia(T,F,Z){var J;return Z==null?F:T.meridiemHour!=null?T.meridiemHour(F,Z):(T.isPM!=null&&(J=T.isPM(Z),J&&F<12&&(F+=12),!J&&F===12&&(F=0)),F)}function Qn(T){var F,Z,J,he,Ue,gt,Vt=!1,lr=T._f.length;if(lr===0){w(T).invalidFormat=!0,T._d=new Date(NaN);return}for(he=0;he<lr;he++)Ue=0,gt=!1,F=E({},T),T._useUTC!=null&&(F._useUTC=T._useUTC),F._f=T._f[he],Li(F),v(F)&&(gt=!0),Ue+=w(F).charsLeftOver,Ue+=w(F).unusedTokens.length*10,w(F).score=Ue,Vt?Ue<J&&(J=Ue,Z=F):(J==null||Ue<J||gt)&&(J=Ue,Z=F,gt&&(Vt=!0));_(T,Z||F)}function sl(T){if(!T._d){var F=Ie(T._i),Z=F.day===void 0?F.date:F.day;T._a=p([F.year,F.month,Z,F.hour,F.minute,F.second,F.millisecond],function(J){return J&&parseInt(J,10)}),Ta(T)}}function Ri(T){var F=new h(Ze(Hn(T)));return F._nextDay&&(F.add(1,"d"),F._nextDay=void 0),F}function Hn(T){var F=T._i,Z=T._f;return T._locale=T._locale||ke(T._l),F===null||Z===void 0&&F===""?y({nullInput:!0}):(typeof F=="string"&&(T._i=F=T._locale.preparse(F)),f(F)?new h(Ze(F)):(g(F)?T._d=F:n(Z)?Qn(T):Z?Li(T):ld(T),v(T)||(T._d=null),T))}function ld(T){var F=T._i;l(F)?T._d=new Date(t.now()):g(F)?T._d=new Date(F.valueOf()):typeof F=="string"?ji(T):n(F)?(T._a=p(F.slice(0),function(Z){return parseInt(Z,10)}),Ta(T)):a(F)?sl(T):u(F)?T._d=new Date(F):t.createFromInputFallback(T)}function xu(T,F,Z,J,he){var Ue={};return(F===!0||F===!1)&&(J=F,F=void 0),(Z===!0||Z===!1)&&(J=Z,Z=void 0),(a(T)&&o(T)||n(T)&&T.length===0)&&(T=void 0),Ue._isAMomentObject=!0,Ue._useUTC=Ue._isUTC=he,Ue._l=Z,Ue._i=T,Ue._f=F,Ue._strict=J,Ri(Ue)}function wr(T,F,Z,J){return xu(T,F,Z,J,!1)}var Cr=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=wr.apply(null,arguments);return this.isValid()&&T.isValid()?T<this?this:T:y()}),ks=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=wr.apply(null,arguments);return this.isValid()&&T.isValid()?T>this?this:T:y()});function Vn(T,F){var Z,J;if(F.length===1&&n(F[0])&&(F=F[0]),!F.length)return wr();for(Z=F[0],J=1;J<F.length;++J)(!F[J].isValid()||F[J][T](Z))&&(Z=F[J]);return Z}function aa(){var T=[].slice.call(arguments,0);return Vn("isBefore",T)}function wu(){var T=[].slice.call(arguments,0);return Vn("isAfter",T)}var ud=function(){return Date.now?Date.now():+new Date},es=["year","quarter","month","week","day","hour","minute","second","millisecond"];function La(T){var F,Z=!1,J,he=es.length;for(F in T)if(s(T,F)&&!(Ar.call(es,F)!==-1&&(T[F]==null||!isNaN(T[F]))))return!1;for(J=0;J<he;++J)if(T[es[J]]){if(Z)return!1;parseFloat(T[es[J]])!==le(T[es[J]])&&(Z=!0)}return!0}function ol(){return this._isValid}function ka(){return Rt(NaN)}function Wi(T){var F=Ie(T),Z=F.year||0,J=F.quarter||0,he=F.month||0,Ue=F.week||F.isoWeek||0,gt=F.day||0,Vt=F.hour||0,lr=F.minute||0,jr=F.second||0,di=F.millisecond||0;this._isValid=La(F),this._milliseconds=+di+jr*1e3+lr*6e4+Vt*1e3*60*60,this._days=+gt+Ue*7,this._months=+he+J*3+Z*12,this._data={},this._locale=ke(),this._bubble()}function Oa(T){return T instanceof Wi}function Na(T){return T<0?Math.round(-1*T)*-1:Math.round(T)}function Os(T,F,Z){var J=Math.min(T.length,F.length),he=Math.abs(T.length-F.length),Ue=0,gt;for(gt=0;gt<J;gt++)(Z&&T[gt]!==F[gt]||!Z&&le(T[gt])!==le(F[gt]))&&Ue++;return Ue+he}function Ns(T,F){te(T,0,0,function(){var Z=this.utcOffset(),J="+";return Z<0&&(Z=-Z,J="-"),J+$(~~(Z/60),2)+F+$(~~Z%60,2)})}Ns("Z",":"),Ns("ZZ",""),st("Z",ze),st("ZZ",ze),Nt(["Z","ZZ"],function(T,F,Z){Z._useUTC=!0,Z._tzm=Gi(ze,T)});var fd=/([\+\-]|\d\d)/gi;function Gi(T,F){var Z=(F||"").match(T),J,he,Ue;return Z===null?null:(J=Z[Z.length-1]||[],he=(J+"").match(fd)||["-",0,0],Ue=+(he[1]*60)+le(he[2]),Ue===0?0:he[0]==="+"?Ue:-Ue)}function fi(T,F){var Z,J;return F._isUTC?(Z=F.clone(),J=(f(T)||g(T)?T.valueOf():wr(T).valueOf())-Z.valueOf(),Z._d.setTime(Z._d.valueOf()+J),t.updateOffset(Z,!1),Z):wr(T).local()}function Ps(T){return-Math.round(T._d.getTimezoneOffset())}t.updateOffset=function(){};function dd(T,F,Z){var J=this._offset||0,he;if(!this.isValid())return T!=null?this:NaN;if(T!=null){if(typeof T=="string"){if(T=Gi(ze,T),T===null)return this}else Math.abs(T)<16&&!Z&&(T=T*60);return!this._isUTC&&F&&(he=Ps(this)),this._offset=T,this._isUTC=!0,he!=null&&this.add(he,"m"),J!==T&&(!F||this._changeInProgress?vn(this,Rt(T-J,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?J:Ps(this)}function In(T,F){return T!=null?(typeof T!="string"&&(T=-T),this.utcOffset(T,F),this):-this.utcOffset()}function ll(T){return this.utcOffset(0,T)}function Se(T){return this._isUTC&&(this.utcOffset(0,T),this._isUTC=!1,T&&this.subtract(Ps(this),"m")),this}function We(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var T=Gi(ce,this._i);T!=null?this.utcOffset(T):this.utcOffset(0,!0)}return this}function rt(T){return this.isValid()?(T=T?wr(T).utcOffset():0,(this.utcOffset()-T)%60===0):!1}function ct(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function vt(){if(!l(this._isDSTShifted))return this._isDSTShifted;var T={},F;return E(T,this),T=Hn(T),T._a?(F=T._isUTC?x(T._a):wr(T._a),this._isDSTShifted=this.isValid()&&Os(T._a,F.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tt(){return this.isValid()?!this._isUTC:!1}function kt(){return this.isValid()?this._isUTC:!1}function Bt(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ot=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ar=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Rt(T,F){var Z=T,J=null,he,Ue,gt;return Oa(T)?Z={ms:T._milliseconds,d:T._days,M:T._months}:u(T)||!isNaN(+T)?(Z={},F?Z[F]=+T:Z.milliseconds=+T):(J=Ot.exec(T))?(he=J[1]==="-"?-1:1,Z={y:0,d:le(J[dr])*he,h:le(J[Xt])*he,m:le(J[ir])*he,s:le(J[Ur])*he,ms:le(Na(J[Wr]*1e3))*he}):(J=ar.exec(T))?(he=J[1]==="-"?-1:1,Z={y:Ht(J[2],he),M:Ht(J[3],he),w:Ht(J[4],he),d:Ht(J[5],he),h:Ht(J[6],he),m:Ht(J[7],he),s:Ht(J[8],he)}):Z==null?Z={}:typeof Z=="object"&&("from"in Z||"to"in Z)&&(gt=Gt(wr(Z.from),wr(Z.to)),Z={},Z.ms=gt.milliseconds,Z.M=gt.months),Ue=new Wi(Z),Oa(T)&&s(T,"_locale")&&(Ue._locale=T._locale),Oa(T)&&s(T,"_isValid")&&(Ue._isValid=T._isValid),Ue}Rt.fn=Wi.prototype,Rt.invalid=ka;function Ht(T,F){var Z=T&&parseFloat(T.replace(",","."));return(isNaN(Z)?0:Z)*F}function nr(T,F){var Z={};return Z.months=F.month()-T.month()+(F.year()-T.year())*12,T.clone().add(Z.months,"M").isAfter(F)&&--Z.months,Z.milliseconds=+F-+T.clone().add(Z.months,"M"),Z}function Gt(T,F){var Z;return T.isValid()&&F.isValid()?(F=fi(F,T),T.isBefore(F)?Z=nr(T,F):(Z=nr(F,T),Z.milliseconds=-Z.milliseconds,Z.months=-Z.months),Z):{milliseconds:0,months:0}}function fr(T,F){return function(Z,J){var he,Ue;return J!==null&&!isNaN(+J)&&(k(F,"moment()."+F+"(period, number) is deprecated. Please use moment()."+F+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ue=Z,Z=J,J=Ue),he=Rt(Z,J),vn(this,he,T),this}}function vn(T,F,Z,J){var he=F._milliseconds,Ue=Na(F._days),gt=Na(F._months);T.isValid()&&(J=J??!0,gt&&li(T,ge(T,"Month")+gt*Z),Ue&&$e(T,"Date",ge(T,"Date")+Ue*Z),he&&T._d.setTime(T._d.valueOf()+he*Z),J&&t.updateOffset(T,Ue||gt))}var _n=fr(1,"add"),zn=fr(-1,"subtract");function qn(T){return typeof T=="string"||T instanceof String}function Pa(T){return f(T)||g(T)||qn(T)||u(T)||wh(T)||xn(T)||T===null||T===void 0}function xn(T){var F=a(T)&&!o(T),Z=!1,J=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],he,Ue,gt=J.length;for(he=0;he<gt;he+=1)Ue=J[he],Z=Z||s(T,Ue);return F&&Z}function wh(T){var F=n(T),Z=!1;return F&&(Z=T.filter(function(J){return!u(J)&&qn(T)}).length===0),F&&Z}function Su(T){var F=a(T)&&!o(T),Z=!1,J=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],he,Ue;for(he=0;he<J.length;he+=1)Ue=J[he],Z=Z||s(T,Ue);return F&&Z}function Cu(T,F){var Z=T.diff(F,"days",!0);return Z<-6?"sameElse":Z<-1?"lastWeek":Z<0?"lastDay":Z<1?"sameDay":Z<2?"nextDay":Z<7?"nextWeek":"sameElse"}function Sh(T,F){arguments.length===1&&(arguments[0]?Pa(arguments[0])?(T=arguments[0],F=void 0):Su(arguments[0])&&(F=arguments[0],T=void 0):(T=void 0,F=void 0));var Z=T||wr(),J=fi(Z,this).startOf("day"),he=t.calendarFormat(this,J)||"sameElse",Ue=F&&(z(F[he])?F[he].call(this,Z):F[he]);return this.format(Ue||this.localeData().calendar(he,this,wr(Z)))}function Ch(){return new h(this)}function Eh(T,F){var Z=f(T)?T:wr(T);return this.isValid()&&Z.isValid()?(F=Ce(F)||"millisecond",F==="millisecond"?this.valueOf()>Z.valueOf():Z.valueOf()<this.clone().startOf(F).valueOf()):!1}function Dh(T,F){var Z=f(T)?T:wr(T);return this.isValid()&&Z.isValid()?(F=Ce(F)||"millisecond",F==="millisecond"?this.valueOf()<Z.valueOf():this.clone().endOf(F).valueOf()<Z.valueOf()):!1}function Mh(T,F,Z,J){var he=f(T)?T:wr(T),Ue=f(F)?F:wr(F);return this.isValid()&&he.isValid()&&Ue.isValid()?(J=J||"()",(J[0]==="("?this.isAfter(he,Z):!this.isBefore(he,Z))&&(J[1]===")"?this.isBefore(Ue,Z):!this.isAfter(Ue,Z))):!1}function cd(T,F){var Z=f(T)?T:wr(T),J;return this.isValid()&&Z.isValid()?(F=Ce(F)||"millisecond",F==="millisecond"?this.valueOf()===Z.valueOf():(J=Z.valueOf(),this.clone().startOf(F).valueOf()<=J&&J<=this.clone().endOf(F).valueOf())):!1}function Ah(T,F){return this.isSame(T,F)||this.isAfter(T,F)}function Th(T,F){return this.isSame(T,F)||this.isBefore(T,F)}function Vr(T,F,Z){var J,he,Ue;if(!this.isValid())return NaN;if(J=fi(T,this),!J.isValid())return NaN;switch(he=(J.utcOffset()-this.utcOffset())*6e4,F=Ce(F),F){case"year":Ue=ul(this,J)/12;break;case"month":Ue=ul(this,J);break;case"quarter":Ue=ul(this,J)/3;break;case"second":Ue=(this-J)/1e3;break;case"minute":Ue=(this-J)/6e4;break;case"hour":Ue=(this-J)/36e5;break;case"day":Ue=(this-J-he)/864e5;break;case"week":Ue=(this-J-he)/6048e5;break;default:Ue=this-J}return Z?Ue:yt(Ue)}function ul(T,F){if(T.date()<F.date())return-ul(F,T);var Z=(F.year()-T.year())*12+(F.month()-T.month()),J=T.clone().add(Z,"months"),he,Ue;return F-J<0?(he=T.clone().add(Z-1,"months"),Ue=(F-J)/(J-he)):(he=T.clone().add(Z+1,"months"),Ue=(F-J)/(he-J)),-(Z+Ue)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Lh(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Hg(T){if(!this.isValid())return null;var F=T!==!0,Z=F?this.clone().utc():this;return Z.year()<0||Z.year()>9999?xe(Z,F?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?F?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",xe(Z,"Z")):xe(Z,F?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Vg(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var T="moment",F="",Z,J,he,Ue;return this.isLocal()||(T=this.utcOffset()===0?"moment.utc":"moment.parseZone",F="Z"),Z="["+T+'("]',J=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",he="-MM-DD[T]HH:mm:ss.SSS",Ue=F+'[")]',this.format(Z+J+he+Ue)}function Yw(T){T||(T=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var F=xe(this,T);return this.localeData().postformat(F)}function Yg(T,F){return this.isValid()&&(f(T)&&T.isValid()||wr(T).isValid())?Rt({to:this,from:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()}function kh(T){return this.from(wr(),T)}function Kg(T,F){return this.isValid()&&(f(T)&&T.isValid()||wr(T).isValid())?Rt({from:this,to:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()}function Is(T){return this.to(wr(),T)}function hd(T){var F;return T===void 0?this._locale._abbr:(F=ke(T),F!=null&&(this._locale=F),this)}var pd=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(T){return T===void 0?this.localeData():this.locale(T)});function md(){return this._locale}var fl=1e3,ho=60*fl,dl=60*ho,Eu=(365*400+97)*24*dl;function ts(T,F){return(T%F+F)%F}function Oh(T,F,Z){return T<100&&T>=0?new Date(T+400,F,Z)-Eu:new Date(T,F,Z).valueOf()}function gd(T,F,Z){return T<100&&T>=0?Date.UTC(T+400,F,Z)-Eu:Date.UTC(T,F,Z)}function Zg(T){var F,Z;if(T=Ce(T),T===void 0||T==="millisecond"||!this.isValid())return this;switch(Z=this._isUTC?gd:Oh,T){case"year":F=Z(this.year(),0,1);break;case"quarter":F=Z(this.year(),this.month()-this.month()%3,1);break;case"month":F=Z(this.year(),this.month(),1);break;case"week":F=Z(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":F=Z(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":F=Z(this.year(),this.month(),this.date());break;case"hour":F=this._d.valueOf(),F-=ts(F+(this._isUTC?0:this.utcOffset()*ho),dl);break;case"minute":F=this._d.valueOf(),F-=ts(F,ho);break;case"second":F=this._d.valueOf(),F-=ts(F,fl);break}return this._d.setTime(F),t.updateOffset(this,!0),this}function Xg(T){var F,Z;if(T=Ce(T),T===void 0||T==="millisecond"||!this.isValid())return this;switch(Z=this._isUTC?gd:Oh,T){case"year":F=Z(this.year()+1,0,1)-1;break;case"quarter":F=Z(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":F=Z(this.year(),this.month()+1,1)-1;break;case"week":F=Z(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":F=Z(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":F=Z(this.year(),this.month(),this.date()+1)-1;break;case"hour":F=this._d.valueOf(),F+=dl-ts(F+(this._isUTC?0:this.utcOffset()*ho),dl)-1;break;case"minute":F=this._d.valueOf(),F+=ho-ts(F,ho)-1;break;case"second":F=this._d.valueOf(),F+=fl-ts(F,fl)-1;break}return this._d.setTime(F),t.updateOffset(this,!0),this}function $g(){return this._d.valueOf()-(this._offset||0)*6e4}function Qg(){return Math.floor(this.valueOf()/1e3)}function qg(){return new Date(this.valueOf())}function Jg(){var T=this;return[T.year(),T.month(),T.date(),T.hour(),T.minute(),T.second(),T.millisecond()]}function ev(){var T=this;return{years:T.year(),months:T.month(),date:T.date(),hours:T.hours(),minutes:T.minutes(),seconds:T.seconds(),milliseconds:T.milliseconds()}}function tv(){return this.isValid()?this.toISOString():null}function rv(){return v(this)}function nv(){return _({},w(this))}function iv(){return w(this).overflow}function av(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}te("N",0,0,"eraAbbr"),te("NN",0,0,"eraAbbr"),te("NNN",0,0,"eraAbbr"),te("NNNN",0,0,"eraName"),te("NNNNN",0,0,"eraNarrow"),te("y",["y",1],"yo","eraYear"),te("y",["yy",2],0,"eraYear"),te("y",["yyy",3],0,"eraYear"),te("y",["yyyy",4],0,"eraYear"),st("N",hl),st("NN",hl),st("NNN",hl),st("NNNN",cv),st("NNNNN",Ph),Nt(["N","NN","NNN","NNNN","NNNNN"],function(T,F,Z,J){var he=Z._locale.erasParse(T,J,Z._strict);he?w(Z).era=he:w(Z).invalidEra=T}),st("y",Ve),st("yy",Ve),st("yyy",Ve),st("yyyy",Ve),st("yo",hv),Nt(["y","yy","yyy","yyyy"],Br),Nt(["yo"],function(T,F,Z,J){var he;Z._locale._eraYearOrdinalRegex&&(he=T.match(Z._locale._eraYearOrdinalRegex)),Z._locale.eraYearOrdinalParse?F[Br]=Z._locale.eraYearOrdinalParse(T,he):F[Br]=parseInt(T,10)});function sv(T,F){var Z,J,he,Ue=this._eras||ke("en")._eras;for(Z=0,J=Ue.length;Z<J;++Z){switch(typeof Ue[Z].since){case"string":he=t(Ue[Z].since).startOf("day"),Ue[Z].since=he.valueOf();break}switch(typeof Ue[Z].until){case"undefined":Ue[Z].until=1/0;break;case"string":he=t(Ue[Z].until).startOf("day").valueOf(),Ue[Z].until=he.valueOf();break}}return Ue}function ov(T,F,Z){var J,he,Ue=this.eras(),gt,Vt,lr;for(T=T.toUpperCase(),J=0,he=Ue.length;J<he;++J)if(gt=Ue[J].name.toUpperCase(),Vt=Ue[J].abbr.toUpperCase(),lr=Ue[J].narrow.toUpperCase(),Z)switch(F){case"N":case"NN":case"NNN":if(Vt===T)return Ue[J];break;case"NNNN":if(gt===T)return Ue[J];break;case"NNNNN":if(lr===T)return Ue[J];break}else if([gt,Vt,lr].indexOf(T)>=0)return Ue[J]}function Ia(T,F){var Z=T.since<=T.until?1:-1;return F===void 0?t(T.since).year():t(T.since).year()+(F-T.offset)*Z}function lv(){var T,F,Z,J=this.localeData().eras();for(T=0,F=J.length;T<F;++T)if(Z=this.clone().startOf("day").valueOf(),J[T].since<=Z&&Z<=J[T].until||J[T].until<=Z&&Z<=J[T].since)return J[T].name;return""}function uv(){var T,F,Z,J=this.localeData().eras();for(T=0,F=J.length;T<F;++T)if(Z=this.clone().startOf("day").valueOf(),J[T].since<=Z&&Z<=J[T].until||J[T].until<=Z&&Z<=J[T].since)return J[T].narrow;return""}function Nh(){var T,F,Z,J=this.localeData().eras();for(T=0,F=J.length;T<F;++T)if(Z=this.clone().startOf("day").valueOf(),J[T].since<=Z&&Z<=J[T].until||J[T].until<=Z&&Z<=J[T].since)return J[T].abbr;return""}function fv(){var T,F,Z,J,he=this.localeData().eras();for(T=0,F=he.length;T<F;++T)if(Z=he[T].since<=he[T].until?1:-1,J=this.clone().startOf("day").valueOf(),he[T].since<=J&&J<=he[T].until||he[T].until<=J&&J<=he[T].since)return(this.year()-t(he[T].since).year())*Z+he[T].offset;return this.year()}function dv(T){return s(this,"_erasNameRegex")||zs.call(this),T?this._erasNameRegex:this._erasRegex}function cl(T){return s(this,"_erasAbbrRegex")||zs.call(this),T?this._erasAbbrRegex:this._erasRegex}function vd(T){return s(this,"_erasNarrowRegex")||zs.call(this),T?this._erasNarrowRegex:this._erasRegex}function hl(T,F){return F.erasAbbrRegex(T)}function cv(T,F){return F.erasNameRegex(T)}function Ph(T,F){return F.erasNarrowRegex(T)}function hv(T,F){return F._eraYearOrdinalRegex||Ve}function zs(){var T=[],F=[],Z=[],J=[],he,Ue,gt=this.eras();for(he=0,Ue=gt.length;he<Ue;++he)F.push(Yt(gt[he].name)),T.push(Yt(gt[he].abbr)),Z.push(Yt(gt[he].narrow)),J.push(Yt(gt[he].name)),J.push(Yt(gt[he].abbr)),J.push(Yt(gt[he].narrow));this._erasRegex=new RegExp("^("+J.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+F.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+T.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Z.join("|")+")","i")}te(0,["gg",2],0,function(){return this.weekYear()%100}),te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function po(T,F){te(0,[T,T.length],0,F)}po("gggg","weekYear"),po("ggggg","weekYear"),po("GGGG","isoWeekYear"),po("GGGGG","isoWeekYear"),Be("weekYear","gg"),Be("isoWeekYear","GG"),Ke("weekYear",1),Ke("isoWeekYear",1),st("G",Ye),st("g",Ye),st("GG",Le,se),st("gg",Le,se),st("GGGG",At,Je),st("gggg",At,Je),st("GGGGG",W,mt),st("ggggg",W,mt),Or(["gggg","ggggg","GGGG","GGGGG"],function(T,F,Z,J){F[J.substr(0,2)]=le(T)}),Or(["gg","GG"],function(T,F,Z,J){F[J]=t.parseTwoDigitYear(T)});function pv(T){return Ih.call(this,T,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function mv(T){return Ih.call(this,T,this.isoWeek(),this.isoWeekday(),1,4)}function gv(){return En(this.year(),1,4)}function vv(){return En(this.isoWeekYear(),1,4)}function _v(){var T=this.localeData()._week;return En(this.year(),T.dow,T.doy)}function bv(){var T=this.localeData()._week;return En(this.weekYear(),T.dow,T.doy)}function Ih(T,F,Z,J,he){var Ue;return T==null?Xr(this,J,he).year:(Ue=En(T,J,he),F>Ue&&(F=Ue),yv.call(this,T,F,Z,J,he))}function yv(T,F,Z,J,he){var Ue=Sa(T,F,Z,J,he),gt=Ci(Ue.year,0,Ue.dayOfYear);return this.year(gt.getUTCFullYear()),this.month(gt.getUTCMonth()),this.date(gt.getUTCDate()),this}te("Q",0,"Qo","quarter"),Be("quarter","Q"),Ke("quarter",7),st("Q",lt),Nt("Q",function(T,F){F[nn]=(le(T)-1)*3});function xv(T){return T==null?Math.ceil((this.month()+1)/3):this.month((T-1)*3+this.month()%3)}te("D",["DD",2],"Do","date"),Be("date","D"),Ke("date",9),st("D",Le),st("DD",Le,se),st("Do",function(T,F){return T?F._dayOfMonthOrdinalParse||F._ordinalParse:F._dayOfMonthOrdinalParseLenient}),Nt(["D","DD"],dr),Nt("Do",function(T,F){F[dr]=le(T.match(Le)[0])});var zh=ue("Date",!0);te("DDD",["DDDD",3],"DDDo","dayOfYear"),Be("dayOfYear","DDD"),Ke("dayOfYear",4),st("DDD",dt),st("DDDD",Ge),Nt(["DDD","DDDD"],function(T,F,Z){Z._dayOfYear=le(T)});function wv(T){var F=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return T==null?F:this.add(T-F,"d")}te("m",["mm",2],0,"minute"),Be("minute","m"),Ke("minute",14),st("m",Le),st("mm",Le,se),Nt(["m","mm"],ir);var Sv=ue("Minutes",!1);te("s",["ss",2],0,"second"),Be("second","s"),Ke("second",15),st("s",Le),st("ss",Le,se),Nt(["s","ss"],Ur);var Cv=ue("Seconds",!1);te("S",0,0,function(){return~~(this.millisecond()/100)}),te(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),te(0,["SSS",3],0,"millisecond"),te(0,["SSSS",4],0,function(){return this.millisecond()*10}),te(0,["SSSSS",5],0,function(){return this.millisecond()*100}),te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Be("millisecond","ms"),Ke("millisecond",16),st("S",dt,lt),st("SS",dt,se),st("SSS",dt,Ge);var rs,Fh;for(rs="SSSS";rs.length<=9;rs+="S")st(rs,Ve);function Bh(T,F){F[Wr]=le(("0."+T)*1e3)}for(rs="S";rs.length<=9;rs+="S")Nt(rs,Bh);Fh=ue("Milliseconds",!1),te("z",0,0,"zoneAbbr"),te("zz",0,0,"zoneName");function Uh(){return this._isUTC?"UTC":""}function jh(){return this._isUTC?"Coordinated Universal Time":""}var Et=h.prototype;Et.add=_n,Et.calendar=Sh,Et.clone=Ch,Et.diff=Vr,Et.endOf=Xg,Et.format=Yw,Et.from=Yg,Et.fromNow=kh,Et.to=Kg,Et.toNow=Is,Et.get=Oe,Et.invalidAt=iv,Et.isAfter=Eh,Et.isBefore=Dh,Et.isBetween=Mh,Et.isSame=cd,Et.isSameOrAfter=Ah,Et.isSameOrBefore=Th,Et.isValid=rv,Et.lang=pd,Et.locale=hd,Et.localeData=md,Et.max=ks,Et.min=Cr,Et.parsingFlags=nv,Et.set=at,Et.startOf=Zg,Et.subtract=zn,Et.toArray=Jg,Et.toObject=ev,Et.toDate=qg,Et.toISOString=Hg,Et.inspect=Vg,typeof Symbol<"u"&&Symbol.for!=null&&(Et[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Et.toJSON=tv,Et.toString=Lh,Et.unix=Qg,Et.valueOf=$g,Et.creationData=av,Et.eraName=lv,Et.eraNarrow=uv,Et.eraAbbr=Nh,Et.eraYear=fv,Et.year=qa,Et.isLeapYear=oo,Et.weekYear=pv,Et.isoWeekYear=mv,Et.quarter=Et.quarters=xv,Et.month=$n,Et.daysInMonth=Nn,Et.week=Et.weeks=Ea,Et.isoWeek=Et.isoWeeks=vu,Et.weeksInYear=_v,Et.weeksInWeekYear=bv,Et.isoWeeksInYear=gv,Et.isoWeeksInISOWeekYear=vv,Et.date=zh,Et.day=Et.days=Ds,Et.weekday=rd,Et.isoWeekday=nd,Et.dayOfYear=wv,Et.hour=Et.hours=sd,Et.minute=Et.minutes=Sv,Et.second=Et.seconds=Cv,Et.millisecond=Et.milliseconds=Fh,Et.utcOffset=dd,Et.utc=ll,Et.local=Se,Et.parseZone=We,Et.hasAlignedHourOffset=rt,Et.isDST=ct,Et.isLocal=Tt,Et.isUtcOffset=kt,Et.isUtc=Bt,Et.isUTC=Bt,Et.zoneAbbr=Uh,Et.zoneName=jh,Et.dates=M("dates accessor is deprecated. Use date instead.",zh),Et.months=M("months accessor is deprecated. Use month instead",$n),Et.years=M("years accessor is deprecated. Use year instead",qa),Et.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",In),Et.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",vt);function Rh(T){return wr(T*1e3)}function Wh(){return wr.apply(null,arguments).parseZone()}function _d(T){return T}var yr=H.prototype;yr.calendar=G,yr.longDateFormat=be,yr.invalidDate=Xe,yr.ordinal=_e,yr.preparse=_d,yr.postformat=_d,yr.relativeTime=de,yr.pastFuture=ye,yr.set=O,yr.eras=sv,yr.erasParse=ov,yr.erasConvertYear=Ia,yr.erasAbbrRegex=cl,yr.erasNameRegex=dv,yr.erasNarrowRegex=vd,yr.months=qf,yr.monthsShort=Jf,yr.monthsParse=sr,yr.monthsRegex=Qa,yr.monthsShortRegex=ui,yr.week=Es,yr.firstDayOfYear=Pn,yr.firstDayOfWeek=gu,yr.weekdays=rl,yr.weekdaysMin=ed,yr.weekdaysShort=na,yr.weekdaysParse=Ei,yr.weekdaysRegex=Ms,yr.weekdaysShortRegex=nl,yr.weekdaysMinRegex=uo,yr.isPM=id,yr.meridiem=As;function pl(T,F,Z,J){var he=ke(),Ue=x().set(J,F);return he[Z](Ue,T)}function Gh(T,F,Z){if(u(T)&&(F=T,T=void 0),T=T||"",F!=null)return pl(T,F,Z,"month");var J,he=[];for(J=0;J<12;J++)he[J]=pl(T,J,Z,"month");return he}function L(T,F,Z,J){typeof T=="boolean"?(u(F)&&(Z=F,F=void 0),F=F||""):(F=T,Z=F,T=!1,u(F)&&(Z=F,F=void 0),F=F||"");var he=ke(),Ue=T?he._week.dow:0,gt,Vt=[];if(Z!=null)return pl(F,(Z+Ue)%7,J,"day");for(gt=0;gt<7;gt++)Vt[gt]=pl(F,(gt+Ue)%7,J,"day");return Vt}function ne(T,F){return Gh(T,F,"months")}function B(T,F){return Gh(T,F,"monthsShort")}function me(T,F,Z){return L(T,F,Z,"weekdays")}function Me(T,F,Z){return L(T,F,Z,"weekdaysShort")}function De(T,F,Z){return L(T,F,Z,"weekdaysMin")}ee("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(T){var F=T%10,Z=le(T%100/10)===1?"th":F===1?"st":F===2?"nd":F===3?"rd":"th";return T+Z}}),t.lang=M("moment.lang is deprecated. Use moment.locale instead.",ee),t.langData=M("moment.langData is deprecated. Use moment.localeData instead.",ke);var it=Math.abs;function qe(){var T=this._data;return this._milliseconds=it(this._milliseconds),this._days=it(this._days),this._months=it(this._months),T.milliseconds=it(T.milliseconds),T.seconds=it(T.seconds),T.minutes=it(T.minutes),T.hours=it(T.hours),T.months=it(T.months),T.years=it(T.years),this}function Ft(T,F,Z,J){var he=Rt(F,Z);return T._milliseconds+=J*he._milliseconds,T._days+=J*he._days,T._months+=J*he._months,T._bubble()}function He(T,F){return Ft(this,T,F,1)}function ft(T,F){return Ft(this,T,F,-1)}function xr(T){return T<0?Math.floor(T):Math.ceil(T)}function zt(){var T=this._milliseconds,F=this._days,Z=this._months,J=this._data,he,Ue,gt,Vt,lr;return T>=0&&F>=0&&Z>=0||T<=0&&F<=0&&Z<=0||(T+=xr(Kt(Z)+F)*864e5,F=0,Z=0),J.milliseconds=T%1e3,he=yt(T/1e3),J.seconds=he%60,Ue=yt(he/60),J.minutes=Ue%60,gt=yt(Ue/60),J.hours=gt%24,F+=yt(gt/24),lr=yt(Ct(F)),Z+=lr,F-=xr(Kt(lr)),Vt=yt(Z/12),Z%=12,J.days=F,J.months=Z,J.years=Vt,this}function Ct(T){return T*4800/146097}function Kt(T){return T*146097/4800}function $r(T){if(!this.isValid())return NaN;var F,Z,J=this._milliseconds;if(T=Ce(T),T==="month"||T==="quarter"||T==="year")switch(F=this._days+J/864e5,Z=this._months+Ct(F),T){case"month":return Z;case"quarter":return Z/3;case"year":return Z/12}else switch(F=this._days+Math.round(Kt(this._months)),T){case"week":return F/7+J/6048e5;case"day":return F+J/864e5;case"hour":return F*24+J/36e5;case"minute":return F*1440+J/6e4;case"second":return F*86400+J/1e3;case"millisecond":return Math.floor(F*864e5)+J;default:throw new Error("Unknown unit "+T)}}function gr(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+le(this._months/12)*31536e6:NaN}function qt(T){return function(){return this.as(T)}}var Tr=qt("ms"),cr=qt("s"),Pt=qt("m"),Er=qt("h"),wn=qt("d"),$t=qt("w"),zr=qt("M"),vr=qt("Q"),tr=qt("y");function mr(){return Rt(this)}function Fs(T){return T=Ce(T),this.isValid()?this[T+"s"]():NaN}function ns(T){return function(){return this.isValid()?this._data[T]:NaN}}var Du=ns("milliseconds"),Mu=ns("seconds"),wO=ns("minutes"),SO=ns("hours"),CO=ns("days"),EO=ns("months"),DO=ns("years");function MO(){return yt(this.days()/7)}var Bs=Math.round,Au={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function AO(T,F,Z,J,he){return he.relativeTime(F||1,!!Z,T,J)}function TO(T,F,Z,J){var he=Rt(T).abs(),Ue=Bs(he.as("s")),gt=Bs(he.as("m")),Vt=Bs(he.as("h")),lr=Bs(he.as("d")),jr=Bs(he.as("M")),di=Bs(he.as("w")),Us=Bs(he.as("y")),mo=Ue<=Z.ss&&["s",Ue]||Ue<Z.s&&["ss",Ue]||gt<=1&&["m"]||gt<Z.m&&["mm",gt]||Vt<=1&&["h"]||Vt<Z.h&&["hh",Vt]||lr<=1&&["d"]||lr<Z.d&&["dd",lr];return Z.w!=null&&(mo=mo||di<=1&&["w"]||di<Z.w&&["ww",di]),mo=mo||jr<=1&&["M"]||jr<Z.M&&["MM",jr]||Us<=1&&["y"]||["yy",Us],mo[2]=F,mo[3]=+T>0,mo[4]=J,AO.apply(null,mo)}function LO(T){return T===void 0?Bs:typeof T=="function"?(Bs=T,!0):!1}function kO(T,F){return Au[T]===void 0?!1:F===void 0?Au[T]:(Au[T]=F,T==="s"&&(Au.ss=F-1),!0)}function OO(T,F){if(!this.isValid())return this.localeData().invalidDate();var Z=!1,J=Au,he,Ue;return typeof T=="object"&&(F=T,T=!1),typeof T=="boolean"&&(Z=T),typeof F=="object"&&(J=Object.assign({},Au,F),F.s!=null&&F.ss==null&&(J.ss=F.s-1)),he=this.localeData(),Ue=TO(this,!Z,J,he),Z&&(Ue=he.pastFuture(+this,Ue)),he.postformat(Ue)}var Ev=Math.abs;function Tu(T){return(T>0)-(T<0)||+T}function Hh(){if(!this.isValid())return this.localeData().invalidDate();var T=Ev(this._milliseconds)/1e3,F=Ev(this._days),Z=Ev(this._months),J,he,Ue,gt,Vt=this.asSeconds(),lr,jr,di,Us;return Vt?(J=yt(T/60),he=yt(J/60),T%=60,J%=60,Ue=yt(Z/12),Z%=12,gt=T?T.toFixed(3).replace(/\.?0+$/,""):"",lr=Vt<0?"-":"",jr=Tu(this._months)!==Tu(Vt)?"-":"",di=Tu(this._days)!==Tu(Vt)?"-":"",Us=Tu(this._milliseconds)!==Tu(Vt)?"-":"",lr+"P"+(Ue?jr+Ue+"Y":"")+(Z?jr+Z+"M":"")+(F?di+F+"D":"")+(he||J||T?"T":"")+(he?Us+he+"H":"")+(J?Us+J+"M":"")+(T?Us+gt+"S":"")):"P0D"}var Sr=Wi.prototype;Sr.isValid=ol,Sr.abs=qe,Sr.add=He,Sr.subtract=ft,Sr.as=$r,Sr.asMilliseconds=Tr,Sr.asSeconds=cr,Sr.asMinutes=Pt,Sr.asHours=Er,Sr.asDays=wn,Sr.asWeeks=$t,Sr.asMonths=zr,Sr.asQuarters=vr,Sr.asYears=tr,Sr.valueOf=gr,Sr._bubble=zt,Sr.clone=mr,Sr.get=Fs,Sr.milliseconds=Du,Sr.seconds=Mu,Sr.minutes=wO,Sr.hours=SO,Sr.days=CO,Sr.weeks=MO,Sr.months=EO,Sr.years=DO,Sr.humanize=OO,Sr.toISOString=Hh,Sr.toString=Hh,Sr.toJSON=Hh,Sr.locale=hd,Sr.localeData=md,Sr.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hh),Sr.lang=pd,te("X",0,0,"unix"),te("x",0,0,"valueOf"),st("x",Ye),st("X",tt),Nt("X",function(T,F,Z){Z._d=new Date(parseFloat(T)*1e3)}),Nt("x",function(T,F,Z){Z._d=new Date(le(T))});return t.version="2.29.4",r(wr),t.fn=Et,t.min=aa,t.max=wu,t.now=ud,t.utc=x,t.unix=Rh,t.months=ne,t.isDate=g,t.locale=ee,t.invalid=y,t.duration=Rt,t.isMoment=f,t.weekdays=me,t.parseZone=Wh,t.localeData=ke,t.isDuration=Oa,t.monthsShort=B,t.weekdaysMin=De,t.defineLocale=re,t.updateLocale=fe,t.locales=Te,t.weekdaysShort=Me,t.normalizeUnits=Ce,t.relativeTimeRounding=LO,t.relativeTimeThreshold=kO,t.calendarFormat=Cu,t.prototype=Et,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});function ba(e,t,r,n,a,s,o,l){let u=[],g=function(b){return b.ss==="h"?(b.color="#e353e3","#e353e3"):b.ss==="s"?(b.color="#e5dd55","#e5dd55"):(b.color="grey","grey")},p=function(b){let C=u[b.resi];return pu[C]?(b.color=pu[C],pu[C]):(b.color="White","White")},_=function(b){return b.b===1?(b.color="red","red"):b.b===.5?(b.color="black","black"):b.b===50?(b.color="white","white"):b.b===100?(b.color="red","red"):(b.color="blue","blue")},x=function(b){let C=0,f=(1-(b.b-C)/(100-C))*240,M=`rgb(${S(f/360,1,.5).join(",")})`;return b.color=M,M};function S(b,C,E){let h,f,D;if(C===0)h=f=D=E;else{let M=(z,O,I)=>(I<0&&(I+=1),I>1&&(I-=1),I<.16666666666666666?z+(O-z)*6*I:I<.5?O:I<.6666666666666666?z+(O-z)*(.6666666666666666-I)*6:z),N=E<.5?E*(1+C):E+C-E*C,k=2*E-N;h=M(k,N,b+1/3),f=M(k,N,b),D=M(k,N,b-1/3)}return[Math.round(h*255),Math.round(f*255),Math.round(D*255)]}let w=function(b){return b.b>90?(b.color="rgb(0, 81, 214)","rgb(0, 81, 214)"):b.b>70?(b.color="rgb(101, 203, 243)","rgb(101, 203, 243)"):b.b>50?(b.color="rgb(255, 219, 19)","rgb(255, 219, 19)"):(b.color="rgb(255, 125, 69)","rgb(255, 125, 69)")},c=e,v={backgroundColor:"#ffffff"},y=Window.$3Dmol.createViewer(c,v);if(y.addModel(t,"pdb"),o){document.getElementById("colorByDomains").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:p}}),y.render()});for(let[b,C]of Object.entries(o))document.getElementById(C).addEventListener("click",function(){let E=JSON.parse(JSON.stringify(u));for(let[h,f]of Object.entries(u))Number(b)!==Number(f)&&(u[h]=0);y.setStyle({},{cartoon:{colorfunc:p}}),y.render(),u=JSON.parse(JSON.stringify(E))})}if(l){document.getElementById("colorByDomains").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:p}}),y.render()});for(let[b,C]of Object.entries(l))document.getElementById(C).addEventListener("click",function(){let E=JSON.parse(JSON.stringify(u));for(let[h,f]of Object.entries(u))Number(b)!==Number(f)&&(u[h]=0);y.setStyle({},{cartoon:{colorfunc:p}}),y.render(),u=JSON.parse(JSON.stringify(E))})}s?(document.getElementById("colorByBFactor").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:x}}),y.render()}),document.getElementById("colorByDomains").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:p}}),y.render()}),document.getElementById("colorByplDDT").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:w}}),y.render()})):r?y.setStyle({},{cartoon:{colorfunc:g}}):y.setStyle({},{cartoon:{colorfunc:_}}),n&&y.addSurface(Window.$3Dmol.SurfaceType.VDW,{opacity:.8,colorscheme:"whiteCarbon"}),a&&(u=pk(a)[0],y.setStyle({},{cartoon:{colorfunc:p}})),y.zoomTo(),y.render(),y.zoom(1.7,3e3)}function Xf(e,t,r,n){console.log("DECIDING WHERE I AM");let a={endpoints_url:"http://127.0.0.1:8000/analytics_automated/endpoints/",submit_url:"http://127.0.0.1:8000/analytics_automated/submission/",times_url:"http://127.0.0.1:8000/analytics_automated/jobtimes/",joblist_url:"http://127.0.0.1:8000/analytics_automated/job/",gears_svg:"../static/images/gears.svg",app_path:"/interface",files_url:"http://127.0.0.1:8000",location:"Dev",main_url:"http://127.0.0.1"};return e.includes(":3000")&&(a.main_url="http://127.0.0.1:3000"),t==="bioinfstaging1.cs.ucl.ac.uk"?(a.main_url="bioinfstaging3.cs.ucl.ac.uk",a.joblist_url=r+n+"/api/job/",a.endpoints_url=r+n+"/api/endpoints/",a.submit_url=r+n+"/api/submission/",a.times_url=r+n+"/api/jobtimes/",a.files_url=r+n+"/api",a.location="Staging",console.log(a),a):e==="http://bioinf.cs.ucl.ac.uk/psipred_beta"||e.includes("psipred_beta")?(a.app_path=n,a.main_url="bioinf.cs.ucl.ac.uk",a.joblist_url=r+n+"/api/job/",a.endpoints_url=r+n+"/api/endpoints/",a.submit_url=r+n+"/api/submission/",a.times_url=r+n+"/api/jobtimes/",a.files_url=r+n+"/api",a.location="Staging",console.log(a),a):e==="http://bioinf.cs.ucl.ac.uk/psipred_alt"||e.includes("psipred_alt")?(a.app_path="/psipred_alt",a.main_url="bioinf.cs.ucl.ac.uk",a.joblist_url=r+"/psipred_alt/api/job/",a.endpoints_url=r+"/psipred_alt/api/endpoints/",a.submit_url=r+"/psipred_alt/api/submission/",a.times_url=r+"/psipred_alt/api/jobtimes/",a.files_url=r+"/psipred_alt/api",a.location="Staging",console.log(a),a):t==="127.0.0.1"||t==="localhost"?(console.log("dev server using default URIs"),console.log(a),a):(e==="http://bioinf.cs.ucl.ac.uk/psipred/"||e.includes("psipred")?(a.main_url="http://bioinf.cs.ucl.ac.uk/",a.app_path="/psipred",a.joblist_url=r+a.app_path+"/api/job/",a.endpoints_url=r+a.app_path+"/api/endpoints/",a.submit_url=r+a.app_path+"/api/submission/",a.times_url=r+a.app_path+"/api/jobtimes/",a.files_url=r+a.app_path+"/api",a.gears_svg="http://bioinf.cs.ucl.ac.uk/psipred/static/images/gears.svg",a.location="Production",console.log("IN PROD")):(alert("UNSETTING ENDPOINTS WARNING, WARNING! WEBSITE NON FUNCTIONAL"),a.joblist_url="",a.endpoints_url="",a.submit_url="",a.times_url=""),console.log(a),a)}function On(e,t,r){let n=null,a=new XMLHttpRequest;return a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&a.status===200&&(n=a.response)},a.open("GET",t+e,!1),r&&(a.setRequestHeader("Accept",r),a.overrideMimeType(r)),a.send(),a.onerror=function(){alert("Request failed")},n}function ws(e,t,r,n,a,s,o){let l=null;o?l=(0,Zf.default)(e).DataTable({searching:!0,pageLength:t,order:[o]}):l=(0,Zf.default)(e).DataTable({searching:!0,pageLength:t});var u=(0,Zf.default)(r),g=(0,Zf.default)(n);Zf.default.fn.dataTable.ext.search.push(function(p,_){if(p.nTable.id!==a)return!0;var x=parseFloat(u.val(),10),S=parseFloat(g.val(),10),w=parseFloat(_[s])||0;return!!(isNaN(x)&&isNaN(S)||isNaN(x)&&w<=S||x<=w&&isNaN(S)||x<=w&&w<=S)}),u.on("input",function(){l.draw()}),g.on("input",function(){l.draw()})}function Ak(e){console.log(e),console.log("Sending form data");var t=null;try{t=new Blob([e.seq])}catch(n){alert(n)}if(e.pdbData)try{t=new Blob([e.pdbData])}catch(n){alert(n)}if(e.transData)try{t=new Blob([e.transData])}catch(n){alert(n)}let r=new FormData;return console.log("JOB NAME: "+e.name),r.append("input_data",t,"input.txt"),r.append("job",e.jobs.join(",")),r.append("submission_name",e.name),r.append("email",e.email),e.jobs.includes("dompred")&&(r.append("psiblast_dompred_evalue",e.dompred_e_value_cutoff),r.append("psiblast_dompred_iterations",e.dompred_psiblast_iterations)),e.jobs.includes("metsite")&&(r.append("metsite_checkchains_chain",e.metsite_chain_id),r.append("extract_fasta_chain",e.metsite_chain_id),r.append("seedSiteFind_metal",e.metsite_metal_type),r.append("seedSiteFind_chain",e.metsite_chain_id),r.append("metpred_wrapper_chain",e.metsite_chain_id),r.append("metpred_wrapper_metal",e.metsite_metal_type),r.append("metpred_wrapper_fpr",e.metsite_fpr)),e.jobs.includes("hspred")&&(r.append("hspred_checkchains_chains",e.hspred_protein_1+e.hspred_protein_2),r.append("hs_pred_first_chain",e.hspred_protein_1),r.append("hs_pred_second_chain",e.hspred_protein_2),r.append("split_pdb_files_first_chain",e.hspred_protein_1),r.append("split_pdb_files_second_chain",e.hspred_protein_2)),e.jobs.includes("memembed")&&(r.append("memembed_algorithm",e.memembed_algorithm),r.append("memembed_barrel",e.memembed_barrel),r.append("memembed_termini",e.memembed_terminal)),e.jobs.includes("ffpred")&&r.append("ffpred_selection",e.ffpred_selection),e.jobs.includes("merizo")&&(r.append("merizo_iterate",e.merizo_iterate),r.append("merizo_chain",e.merizo_chain)),e.jobs.includes("merizosearch")&&(r.append("merizosearch_db",e.merizosearch_db),r.append("merizosearch_chain",e.merizosearch_chain)),e.jobs.includes("gsrcl")&&(r.append("verify_hdf_tissue",e.gsrcl_tissue),r.append("gsrcl_predict_tissue",e.gsrcl_tissue),r.append("gsrcl_log",e.gsrcl_log)),r}function Tk(e){let t={loading_message:null};for(let[r,n]of Object.entries(e))t[r]=IU.duration(n*1e3).humanize();return t}function Lk(e,t){xg(e.annotations,{parent:t,margin_scaler:2,debug:!1,container_width:900,width:900,height:e.annotation_panel_height,container_height:e.annotation_panel_height})}function $f(e){let t="",r=0;return e.steps.forEach(function(n){n.task.configuration.length>0&&(n.task.configuration.forEach(function(a){t+=e.name+",",t+=r+",",t+=a.type+",",t+=a.name+",",t+=a.version+",",t+='"'+a.parameters+`"
`}),r+=1)}),t}var Zf,IU,pn=ae(()=>{Zf=Hr(of());Dc();bh();Iw();kn();IU=Mk()});var Ok=Fn((kfe,kk)=>{kk.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(a){e.addRange(a)}),t&&t.focus()}}});var Ik=Fn((Ofe,Pk)=>{"use strict";var zU=Ok(),Nk={"text/plain":"Text","text/html":"Url",default:"Text"},FU="Copy to clipboard: #{key}, Enter";function BU(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function UU(e,t){var r,n,a,s,o,l,u=!1;t||(t={}),r=t.debug||!1;try{a=zU(),s=document.createRange(),o=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(p){if(p.stopPropagation(),t.format)if(p.preventDefault(),typeof p.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var _=Nk[t.format]||Nk.default;window.clipboardData.setData(_,e)}else p.clipboardData.clearData(),p.clipboardData.setData(t.format,e);t.onCopy&&(p.preventDefault(),t.onCopy(p.clipboardData))}),document.body.appendChild(l),s.selectNodeContents(l),o.addRange(s);var g=document.execCommand("copy");if(!g)throw new Error("copy command was unsuccessful");u=!0}catch(p){r&&console.error("unable to copy using execCommand: ",p),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(_){r&&console.error("unable to copy using clipboardData: ",_),r&&console.error("falling back to prompt"),n=BU("message"in t?t.message:FU),window.prompt(n,e)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),l&&document.body.removeChild(l),a()}return u}Pk.exports=UU});var Wk=Fn(Mg=>{"use strict";function Fw(e){"@babel/helpers - typeof";return Fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fw(e)}Object.defineProperty(Mg,"__esModule",{value:!0});Mg.CopyToClipboard=void 0;var Eg=Uk(Dn()),jU=Uk(Ik()),RU=["text","onCopy","options","children"];function Uk(e){return e&&e.__esModule?e:{default:e}}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){Uw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WU(e,t){if(e==null)return{};var r=GU(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GU(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function HU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VU(e,t,r){return t&&Bk(e.prototype,t),r&&Bk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Bw(e,t)}function KU(e){var t=XU();return function(){var n=Dg(e),a;if(t){var s=Dg(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return ZU(this,a)}}function ZU(e,t){if(t&&(Fw(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jk(e)}function jk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(e)}function Uw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rk=function(e){YU(r,e);var t=KU(r);function r(){var n;HU(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),Uw(jk(n),"onClick",function(l){var u=n.props,g=u.text,p=u.onCopy,_=u.children,x=u.options,S=Eg.default.Children.only(_),w=(0,jU.default)(g,x);p&&p(g,w),S&&S.props&&typeof S.props.onClick=="function"&&S.props.onClick(l)}),n}return VU(r,[{key:"render",value:function(){var a=this.props,s=a.text,o=a.onCopy,l=a.options,u=a.children,g=WU(a,RU),p=Eg.default.Children.only(u);return Eg.default.cloneElement(p,Fk(Fk({},g),{},{onClick:this.onClick}))}}]),r}(Eg.default.PureComponent);Mg.CopyToClipboard=Rk;Uw(Rk,"defaultProps",{onCopy:void 0,options:void 0})});var Ag=Fn((Pfe,Gk)=>{"use strict";var $U=Wk(),jw=$U.CopyToClipboard;jw.CopyToClipboard=jw;Gk.exports=jw});var bt,Hk,Tg,Vk=ae(()=>{bt=Hr(Dn());pn();pn();pn();pn();Hk=Hr(Ag());pn();kn();kn();kn();kn();kn();kn();kn();kn();kn();kn();bh();bh();Dc();bh();Tg=class extends bt.default.Component{constructor(t){super(t);let r=this.props.seq.split(""),n=[];r.forEach(function(s){n.push({res:s})});let a=(Math.ceil(n.length/50)+2)*20+13*20;a<410&&(a=410),this.state={annotations:n,psipred_results:null,disopred_results:null,memsatsvm_results:null,pgenthreader_results:null,annotation_panel_height:a,ann_set:{},ann_gen_set:{},ann_dom_set:{}},this.sequencePlot=bt.default.createRef(),this.horizPlot=bt.default.createRef(),this.disopredPlot=bt.default.createRef(),this.memsatSVMSchematic=bt.default.createRef(),this.memsatSVMCartoon=bt.default.createRef(),this.pgenthreaderTable=bt.default.createRef(),this.dmp_plot=bt.default.createRef(),this.genthreaderTable=bt.default.createRef(),this.pdomthreaderTable=bt.default.createRef(),this.dmpfold_pdb=bt.default.createRef(),this.s4pred_horiz=bt.default.createRef(),this.dompred_chart=bt.default.createRef(),this.dompred_results=bt.default.createRef(),this.ffpred_memsat=bt.default.createRef(),this.ffpred_tables=bt.default.createRef(),this.ffpred_sch=bt.default.createRef(),this.aa_comp=bt.default.createRef(),this.global_features=bt.default.createRef(),this.mempack_plot=bt.default.createRef(),this.gen_table_initialised=!1,this.pdom_table_initialised=!1,this.pgen_table_initialised=!1,this.dmpmetal_table=bt.default.createRef(),this.timer=null,this.update_count=0}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null),console.log("RUNNING COMPONENT DID UPDATE",this.state);for(let s in this.state.psipred_results)if(s.includes(".horiz")){let o=this.state.psipred_results[s],l=(o.match(/Conf/g)||[]).length,u=6*30*(l+1)+120;Jo(o,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:u,container_height:u})}for(let s in this.state.dompred_results)if(s.includes(".horiz")){let o=this.state.dompred_results[s],l=(o.match(/Conf/g)||[]).length,u=6*30*(l+1)+120;Jo(o,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:u,container_height:u})}for(let s in this.state.ffpred_results)if(s.includes(".horiz")){let o=this.state.ffpred_results[s],l=(o.match(/Conf/g)||[]).length,u=6*30*(l+1)+120;Jo(o,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:u,container_height:u})}for(let s in this.state.disopred_results)if(s.includes(".comb")){let o=this.state.disopred_results[s],l=xk(o);ok(l,"pos",["precision"],["Black"],"DisoNNChart",{parent:this.disopredPlot.current,chartType:"line",y_cutoff:.5,margin_scaler:2,debug:!1,container_width:900,width:900,height:300,container_height:300})}for(let s in this.state.memsatsvm_results){if(s.includes("_schematic.png")){let o=this.state.memsatsvm_results[s],l=document.createElement("img");l.src=o,l.alt="Memsat Schematic diagram",this.memsatSVMSchematic.current.appendChild(l),l=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(l)}if(s.includes("_cartoon_memsat_svm.png")){let o=this.state.memsatsvm_results[s],l=document.createElement("img");l.src=o,l.alt="Memsat Cartoon diagram",this.memsatSVMSchematic.current.appendChild(l),l=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(l)}}for(let s in this.state.pgenthreader_results)if(s.includes(".ann")){let o=s.substring(0,s.lastIndexOf(".")),l=o.substring(o.lastIndexOf(".")+1,o.length);this.state.ann_set[l]={ann:o+".ann",aln:o+".aln"}}for(let s in this.state.pgenthreader_results){if(s.includes(".horiz")){let o=this.state.pgenthreader_results[s],l=(o.match(/Conf/g)||[]).length,u=6*30*(l+1)+120;Jo(o,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:u,container_height:u})}if(s.includes(".presults")){let o=this.state.pgenthreader_results[s];if(this.update_count>0){let l=Cg(o,this.state.ann_set,"pgen");var r=document.createElement("template");r.innerHTML=l,this.pgenthreaderTable.current.appendChild(r.content)}}}this.state.pgenthreader_results&&this.pgen_table_initialised===!1&&(ws("#pgen_table",50,"#min_pgen_pval","#max_pgen_pval","pgen_table",2,null),this.pgen_table_initialised=!0);for(let s in this.state.genthreader_results){if(s.includes(".ann")){let o=s.substring(0,s.lastIndexOf(".")),l=o.substring(o.lastIndexOf(".")+1,o.length);this.state.ann_gen_set[l]={ann:o+".ann",aln:o+".aln"}}if(s.includes(".presults")){let o=this.state.genthreader_results[s];if(this.update_count>0){let l=Cg(o,this.state.ann_gen_set,"gen");var n=document.createElement("template");n.innerHTML=l,this.genthreaderTable.current.appendChild(n.content)}}}this.state.genthreader_results&&this.gen_table_initialised===!1&&(ws("#gen_table",50,"#min_gen_pval","#max_gen_pval","gen_table",2,null),this.gen_table_initialised=!0);for(let s in this.state.pdomthreader_results)if(s.includes(".ann")){let o=s.substring(0,s.lastIndexOf(".")),l=o.substring(o.lastIndexOf(".")+1,o.length);this.state.ann_dom_set[l]={ann:o+".ann",aln:o+".aln"}}for(let s in this.state.pdomthreader_results){if(s.includes(".horiz")){let o=this.state.pdomthreader_results[s],l=(o.match(/Conf/g)||[]).length,u=6*30*(l+1)+120;Jo(o,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:u,container_height:u})}if(s.includes(".presults")){let o=this.state.pdomthreader_results[s];if(this.update_count>0){let l=Cg(o,this.state.ann_dom_set,"dgen");var a=document.createElement("template");a.innerHTML=l,this.pdomthreaderTable.current.appendChild(a.content)}}}this.state.pdomthreader_results&&this.pdom_table_initialised===!1&&(ws("#pdom_table",50,"#min_pdom_pval","#max_pdom_pval","pdom_table",2,null),this.pdom_table_initialised=!0);for(let s in this.state.dmp_results){if(s.includes(".horiz")){let o=this.state.dmp_results[s],l=(o.match(/Conf/g)||[]).length,u=6*30*(l+1)+120;Jo(o,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:u,container_height:u})}if(s.includes("png")){let o=this.state.dmp_results[s],l=document.createElement("img");l.src=o,l.alt="DMP Contact Map",this.dmp_plot.current.appendChild(l),l=document.createElement("br"),this.dmp_plot.current.appendChild(l)}}for(let s in this.state.dmpfold_results)s.includes(".pdb")&&ba(this.dmpfold_pdb.current,this.state.dmpfold_results[s],!0,!1);for(let s in this.state.s4pred_results)if(s.includes(".horiz")){let o=this.state.s4pred_results[s],l=(o.match(/Conf/g)||[]).length,u=6*30*(l+1)+120;Jo(o,"psipredChart",{parent:this.s4pred_horiz.current,margin_scaler:2,width:900,container_width:900,height:u,container_height:u})}for(let s in this.state.dompred_results){if(s.includes(".png")){let o=this.state.dompred_results[s],l=document.createElement("img");l.src=o,l.alt="Dompred Chart",this.dompred_chart.current.appendChild(l),l=document.createElement("br"),this.dompred_chart.current.appendChild(l)}if(s.includes(".boundary")){let o=this.state.dompred_results[s],u=/Domain\sBoundary\slocations\spredicted\sDPS:\s(.+)/.exec(o),g=document.createElement("h4");g.innerText+=o,u?g.innerText+=o:g.innerText+="No ParseDS Domain boundaries predicted",this.dompred_results.current.appendChild(g)}}for(let s in this.state.ffpred_results){if(s.includes("_cartoon_memsat_svm.png")){let o=this.state.ffpred_results[s],l=document.createElement("div");l.className="center";let u=document.createElement("img");u.src=o,u.alt="Memsat Cartoon diagram",l.append(u),this.ffpred_memsat.current.appendChild(l),u=document.createElement("br"),this.ffpred_memsat.current.appendChild(u)}if(s.includes("_sch.png")){let o=this.state.ffpred_results[s],l=document.createElement("div");l.className="center";let u=document.createElement("img");u.src=o,u.alt="FFPred Feature Schematic",l.append(u),this.ffpred_sch.current.appendChild(l),u=document.createElement("br"),this.ffpred_sch.current.appendChild(u)}if(s.includes(".featcfg")){let o=this.state.ffpred_results[s],l=_k(o),u=l[0],g=l[1];r=document.createElement("template"),r.innerHTML=u,this.global_features.current.appendChild(r.content),r=document.createElement("template"),r.innerHTML=g,this.aa_comp.current.appendChild(r.content)}if(s.includes(".full_formatted")){let o=this.state.ffpred_results[s],l=vk(o);r=document.createElement("template"),r.innerHTML=l,this.ffpred_tables.current.appendChild(r.content)}}this.state.ffpred_results&&(ws("#bp_table",50,"#min_bp_prob","#max_bp_prob","bp_table",2,[3,"asc"]),ws("#mf_table",50,"#min_mf_prob","#max_mf_prob","mf_table",2,[3,"asc"]),ws("#cc_table",50,"#min_cc_prob","#max_cc_prob","cc_table",2,[3,"asc"]));for(let s in this.state.mempack_results){if(s.includes("_Kamada-Kawai_1.png")){let o=this.state.mempack_results[s],l=document.createElement("img");l.src=o,l.alt="Mempack Diagram",l.setAttribute("width","60%"),this.mempack_plot.current.appendChild(l),l=document.createElement("br"),this.mempack_plot.current.appendChild(l)}if(s.includes("_schematic.png")){let o=this.state.mempack_results[s],l=document.createElement("img");l.src=o,l.alt="Memsat Schematic diagram",this.memsatSVMSchematic.current.appendChild(l),l=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(l)}if(s.includes("_cartoon_memsat_svm.png")){let o=this.state.mempack_results[s],l=document.createElement("img");l.src=o,l.alt="Memsat Cartoon diagram",this.memsatSVMSchematic.current.appendChild(l),l=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(l)}}for(let s in this.state.dmpmetal_results)if(s.includes(".dmpmetal")){let o=this.state.dmpmetal_results[s],l=ck(o),u=document.createElement("template");u.innerHTML=l,this.dmpmetal_table.current.appendChild(u.content)}console.log("UPDATING ANNOTATION GRID"),xg(this.state.annotations,{parent:this.sequencePlot.current,margin_scaler:2,debug:!1,container_width:900,width:900,height:this.state.annotation_panel_height,container_height:this.state.annotation_panel_height}),this.update_count++}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,l=a.data_path.split("/")[2];n[l]=o}else if(r.results_map.includes(s))try{let o=On(a.data_path,r.files_url),l=a.data_path.split("/")[2];n[l]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk  providing the following information; submission data, submission email address, analyses you had selected and the job name."+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},l=this.state.annotations,u={};s.submissions.forEach(g=>{n=this.getResultsFiles(g.results,this.props),o[g.job_name]=n,u[g.job_name]=n;let p=On(g.job_name,r,"application/json");a+=$f(JSON.parse(p));for(let _ in n)_.includes(".ss2")&&(console.log("Found SS2 and parsing"),l=bk(l,n[_])),_.includes(".pbdat")&&(console.log("Found PDBAT and parsing"),l=yk(l,n[_])),_.includes(".memsat_svm")&&(console.log("Found MEMSAT_SVM and parsing"),l=wk(l,n[_])),_.includes(".boundary")&&(console.log("Found Dompred and parsing"),l=Sk(l,n[_])),_.includes(".dmpmetal")&&(console.log("Found DMPmetal and parsing"),l=dk(l,n[_]));this.setState({psipred_results:o.psipred,disopred_results:o.disopred,memsatsvm_results:o.memsatsvm,pgenthreader_results:o.pgenthreader,dmp_results:o.dmp,genthreader_results:o.genthreader,pdomthreader_results:o.pdomthreader,dmpfold_results:o.dmpfold,s4pred_results:o.s4pred,dompred_results:o.dompred,ffpred_results:o.ffpred,mempack_results:o.mempack,dmpmetal_results:o.dmpmetal,annotations:l})}),this.props.updateResultsFiles(u),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw new Error("Job Failed")}}).catch(async s=>{let o="";try{let l=await s.json().then(u=>u);l.error&&(o.message=l.error),l.error.input_data&&(o.message=l.error.input_data)}catch{o=s}return console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidMount(){console.log("DRAWING EMPTY ANNOTATION PANEL"),Lk(this.state,this.sequencePlot.current),this.timer=setInterval(()=>this.getResults(),2e4)}renderPanel(t,r,n,a,s,o,l){return bt.default.createElement("div",{className:"box box-primary collapsed-box",id:t},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},r),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,o)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:l})),bt.default.createElement("div",{className:n,id:a,ref:s})))}render(){return bt.default.createElement("div",null,this.props.uuid&&bt.default.createElement("div",{className:"info-box bg-default job_info"},bt.default.createElement("span",{className:"info-box-icon job_info"},bt.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),bt.default.createElement("div",{className:"info-box-content"},bt.default.createElement("div",{className:"job_info_text job_info_text_left"},bt.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),bt.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",bt.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),bt.default.createElement(Hk.CopyToClipboard,{text:this.props.result_uri},bt.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},bt.default.createElement("img",{src:"http://127.0.0.1:3000//static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.uuid&&bt.default.createElement("div",{className:"box box-primary"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},"Sequence Plot"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"","data-original-title":"Collapse"},bt.default.createElement("i",{className:"fa fa-minus"})))),bt.default.createElement("div",{className:"box-body"},bt.default.createElement("div",{className:"sequence_plot",id:"sequence_plot",ref:this.sequencePlot}),bt.default.createElement("br",null)),this.props.waiting&&bt.default.createElement("div",{className:"overlay processing"},bt.default.createElement("i",{className:"fa fa-refresh fa-spin"}))),(this.props.analyses.includes("psipred_job")||this.props.analyses.includes("pgenthreader_job")||this.props.analyses.includes("dmp_job")||this.props.analyses.includes("dompred_job")||this.props.analyses.includes("ffpred_job"))&&bt.default.createElement("div",null,this.renderPanel("psipred_cartoon",this.props.job_strings.psipred.shortName+" Cartoon","psipred_cartoon","psipred_horiz",this.horizPlot,this.state.psipred_waiting_message,this.state.psipred_waiting_icon)),this.props.analyses.includes("disopred_job")&&bt.default.createElement("div",null,this.renderPanel("disorder_plot",this.props.job_strings.disopred.shortName+" Plot","disorder_plot","pdisorder_svg",this.disopredPlot,this.state.disopred_waiting_message,this.state.disopred_waiting_icon)),(this.props.analyses.includes("memsatsvm_job")||this.props.analyses.includes("mempack_job"))&&bt.default.createElement("div",{className:"box box-primary collapsed-box",id:"memsatsvm_schematics"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},this.props.job_strings.memsatsvm.shortName," Schematics"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,this.props.memsatsvm_waiting_message)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:this.props.memsatsvm_waiting_icon})),bt.default.createElement("div",{className:"memsatsvm_schematic",id:"memsatsvm_schematic",ref:this.memsatSVMSchematic}),bt.default.createElement("div",{className:"memsatsvm_cartoon",id:"memsatsvm_cartoon",ref:this.memsatSVMCartoon}))),this.props.analyses.includes("pgenthreader_job")&&bt.default.createElement("div",null,this.renderPanel("pgen_table_box",this.props.job_strings.pgenthreader.shortName+" Structural Results","pgen_table_div","pgenthreader_table",this.pgenthreaderTable,this.props.pgenthreader_waiting_message,this.props.pgenthreader_waiting_icon)),this.props.analyses.includes("dmp_job")&&bt.default.createElement("div",null,this.renderPanel("dmp_contact_map",this.props.job_strings.dmp.shortName+" Contact Plot","dmp_plot_div","dmp_plot",this.dmp_plot,this.props.dmp_waiting_message,this.props.dmp_waiting_icon)),this.props.analyses.includes("genthreader_job")&&bt.default.createElement("div",null,this.renderPanel("gen_table_box",this.props.job_strings.genthreader.shortName+" Structural Results","gen_table_div","genthreader_table",this.genthreaderTable,this.props.genthreader_waiting_message,this.props.genthreader_waiting_icon)),this.props.analyses.includes("pdomthreader_job")&&bt.default.createElement("div",null,this.renderPanel("pdom_table_box",this.props.job_strings.pdomthreader.shortName+" Structural Results","pdom_table_div","pdomthreader_table",this.pdomthreaderTable,this.props.pdomthreader_waiting_message,this.props.pdomthreader_waiting_icon)),this.props.analyses.includes("dmpfold_job")&&bt.default.createElement("div",null,this.renderPanel("dmpfold_pdb",this.props.job_strings.dmpfold.shortName+" prediction","pdb_panel_class","dmp_pdb_id",this.dmpfold_pdb,this.props.dmpfold_waiting_message,this.props.dmpfold_waiting_icon)),this.props.analyses.includes("s4pred_job")&&bt.default.createElement("div",null,this.renderPanel("s4pred_cartoon",this.props.job_strings.s4pred.shortName+" Cartoon","s4pred_cartoon","s4pred_horiz",this.s4pred_horiz,this.props.s4pred_waiting_message,this.props.dmpfold_waiting_icon)),this.props.analyses.includes("dompred_job")&&bt.default.createElement("div",{className:"box box-primary collapsed-box",id:"dompred_results"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},this.props.job_strings.dompred.shortName," Results"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,this.props.dompred_waiting_message)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:this.props.dompred_waiting_icon})),bt.default.createElement("div",{className:"dompred_results",id:"dompread_results",ref:this.dompred_results}),bt.default.createElement("div",{className:"dompred_chart",id:"dompred_chart",ref:this.dompred_chart}))),this.props.analyses.includes("ffpred_job")&&bt.default.createElement("div",{className:"box box-primary collapsed-box",id:"ffpred_schematics"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},this.props.job_strings.ffpred.shortName," Predictions"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,this.props.ffpred_waiting_message)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:this.props.ffpred_waiting_icon})),bt.default.createElement("p",null,"These prediction terms represent terms predicted where SVM training includes assigned GO terms across all evidence code types. SVM reliability is regarded as High (H) when MCC, sensitivity, specificity and precision are jointly above a given threshold, Otherwise Reliability is indicated as Low (L). "),bt.default.createElement("div",{className:"ffpred_bp_table",id:"ffpred_bp_table",ref:this.ffpred_tables}),bt.default.createElement("h4",null,"Sequence Feature Map"),bt.default.createElement("p",null,"Position dependent feature predictions are mapped onto the sequence schematic shown below. The line height of the Phosphorylation and Glycosylation features reflects the confidence of the residue prediction."),bt.default.createElement("div",{className:"ffpred_sch",id:"ffpred_sch",ref:this.ffpred_sch}),bt.default.createElement("h4",null,"Predicted Transmembrane Topology"),bt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.ffpred_memsat}),bt.default.createElement("h4",null,"Amino Acid Composition"),bt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.aa_comp}),bt.default.createElement("h4",null,"Global Features"),bt.default.createElement("p",null,"Global features are calculated directly from sequence. Localisation values are predicted by the Psort algorithm and reflect the relative likelihood of the protein occupying different cellular localisations. The bias column is highlighted according to the significance of the feature value calculated from Z score of the feature."),bt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.global_features}))),this.props.analyses.includes("mempack_job")&&bt.default.createElement("div",null,this.renderPanel("mempack_pane",this.props.job_strings.mempack.shortName+" Cartoon","mempack_plot","mempack_plot",this.mempack_plot,this.props.mempack_waiting_message,this.props.mempack_waiting_icon)),this.props.analyses.includes("dmpmetal_job")&&bt.default.createElement("div",null,this.renderPanel("dmpmetal_table",this.props.job_strings.dmpmetal.shortName+" Table","dmpmetal_table","dmpmetal_table",this.dmpmetal_table,this.props.dmpmetal_waiting_message,this.props.dmpmetal_waiting_icon)))}}});var et,Yk,Rw,Lg,Kk=ae(()=>{et=Hr(Dn());pn();pn();pn();pn();Yk=Hr(Ag());kn();kn();kn();kn();kn();Rw=Hr(of());Dc();Lg=class extends et.default.Component{constructor(t){super(t),this.state={},this.metsite_pdb=et.default.createRef(),this.metsite_table=et.default.createRef(),this.hspred_initial_pdb=et.default.createRef(),this.hspred_second_pdb=et.default.createRef(),this.hspred_table=et.default.createRef(),this.memembed_pdb=et.default.createRef(),this.merizo_pdb=et.default.createRef(),this.merizo_boundaries=et.default.createRef(),this.merizo_pdb_sidebar=et.default.createRef(),this.merizosearch_pdb=et.default.createRef(),this.merizosearch_results_table=et.default.createRef(),this.merizosearch_alt_results_table=et.default.createRef(),this.merizosearch_multi_exact_table=et.default.createRef(),this.merizosearch_multi_contiguous_table=et.default.createRef(),this.merizosearch_multi_discontiguous_table=et.default.createRef(),this.merizosearch_multi_unordered_table=et.default.createRef(),this.merizosearch_tables_initialised=!1,this.update_count=0,this.timer=null}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null),this.update_count=this.update_count+1;for(let p in this.state.metsite_results)if(p.includes(".MetPred")&&ba(this.metsite_pdb.current,this.state.metsite_results[p],!1,!1,!1),p.includes(".Metpred")){let _=this.state.metsite_results[p],x=gk(_);var r=document.createElement("template");r.innerHTML=x,this.metsite_table.current.appendChild(r.content)}this.state.metsite_results&&ws("#metsite_table",10,"#min_met_score","#max_met_score","metsite_table",1,null);for(let p in this.state.hspred_results)if(p.includes("_initial.pdb")&&ba(this.hspred_initial_pdb.current,this.state.hspred_results[p],!1,!1,!1),p.includes("_second.pdb")&&ba(this.hspred_second_pdb.current,this.state.hspred_results[p],!1,!1,!1),p.includes(".out")){let _=this.state.hspred_results[p],x=mk(_),S=document.createElement("template");S.innerHTML=x,this.hspred_table.current.appendChild(S.content)}this.state.hspred_results&&ws("#hspred_table",50,"#min_hs_score","#max_hs_score","hspred_table",2,[2,"desc"]);for(let p in this.state.memembed_results)p.includes(".pdb")&&ba(this.memembed_pdb.current,this.state.memembed_results[p],!1,!0,!1);for(let p in this.state.merizo_results){let _=p.slice(0,-15);if(p.includes("_v2.pdb2")){let x=this.state.merizo_results[_+"_merizo_v2.idx"];var n=document.getElementById("merizo_sidebar_bg");n.style.display="inline-block",n.style.verticalAlign="top",n.style.width="200px",n.style.height="400px",n.style.position="relative",n.style.left="0px",n.style.backgroundColor="#ffffff";var a=document.createElement("template");a.innerHTML='<h4><b>Colouring Options</b></h4><div class="btn-group btn-group-justified">',a.innerHTML+='<button class="btn btn-secondary btn-block merizo_buttons" id="colorByDomains">Domains&nbsp</button><br />',a.innerHTML+='<button class="btn btn-secondary btn-block merizo_buttons" id="colorByBFactor">B-factor as temperature</button><br />',a.innerHTML+='<button class="btn btn-secondary btn-block merizo_buttons" id="colorByplDDT">B-factor as plDDT score</button><br />',a.innerHTML+="</div>",this.merizo_pdb_sidebar.current.appendChild(a.content),ba(this.merizo_pdb.current,this.state.merizo_results[p],!1,!1,x,!0)}if(p.includes(".merizo")){let x=this.state.merizo_results[p],S=hk(x);this.state.merizo_results&&Object.keys(this.state.merizo_results).length===1&&(S="<h3>Chain ID not present in PDB file</h3>");var s=document.createElement("template");s.innerHTML=S,this.merizo_boundaries.current.appendChild(s.content)}}let o={},l={},u=!1;for(let p in this.state.merizosearch_results)p.includes("search.tsv")&&(u=!0);for(let p in this.state.merizosearch_results){if(p.includes("search.tsv")){let _=this.state.merizosearch_results[p],{html:x,data:S,althtml:w,domdata:c,tableids:v}=Ck(_,this.props.merizosearch_db);o=S,l=c;var r=document.createElement("template");r.innerHTML=x,this.merizosearch_results_table.current.appendChild(r.content);let b=(0,Rw.default)("#toptmtable").DataTable({searching:!1,paging:!1,ordering:!0,order:[[1,"asc"]]});var g=document.createElement("template");g.innerHTML=w,this.merizosearch_alt_results_table.current.appendChild(g.content),v.forEach(function(C){let E=(0,Rw.default)("#"+C).DataTable({searching:!1,paging:!1,ordering:!0,order:[[7,"dsc"]]})}),this.merizosearch_tables_initialised=!0}if(u===!1&&this.merizosearch_tables_initialised===!1){var r=document.createElement("template");r.innerHTML="<h2>Merizo Search identified no significant domain hits after segmentation</h2>",this.merizosearch_results_table.current.appendChild(r.content);var g=document.createElement("template");g.innerHTML="<h2>Merizo Search identified no significant domain hits after segmentation</h2>",this.merizosearch_alt_results_table.current.appendChild(g.content),this.merizosearch_tables_initialised=!0}}if(this.update_count>1&&this.state.merizosearch_results&&Object.keys(this.state.merizosearch_results).length==0){var r=document.createElement("template");r.innerHTML="<h3>Chain ID not present in PDB file</h3>",this.merizosearch_results_table.current.appendChild(r.content),this.merizosearch_pdb.current.appendChild(r.content)}for(let p in this.state.merizosearch_results)if(p.includes("_search_multi_dom.tsv")){let _=this.state.merizosearch_results[p],{unorderedhtml:x,discontightml:S,contightml:w,exacthtml:c,tableids:v}=Ek(_);var r=document.createElement("template");r.innerHTML=w,this.merizosearch_multi_contiguous_table.current.appendChild(r.content);var r=document.createElement("template");r.innerHTML=S,this.merizosearch_multi_discontiguous_table.current.appendChild(r.content);var r=document.createElement("template");r.innerHTML=x,this.merizosearch_multi_unordered_table.current.appendChild(r.content);var r=document.createElement("template");r.innerHTML=c,this.merizosearch_multi_exact_table.current.appendChild(r.content)}for(let p in this.state.merizosearch_results){let _=p.slice(0,-12);if(p.includes(".pdb2")){let x=this.state.merizosearch_results[_+"_merizo.idx"];Object.keys(o).length>0&&Object.keys(l).length>0?ba(this.merizosearch_pdb.current,this.state.merizosearch_results[p],!1,!1,x,!1,o,l):ba(this.merizosearch_pdb.current,this.state.merizosearch_results[p],!1,!1,x,!1)}}}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,l=a.data_path.split("/")[2];n[l]=o}else if(r.results_map.includes(s))try{let o=On(a.data_path,r.files_url,"text/plain;charset=UTF-8"),l=a.data_path.split("/")[2];n[l]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk  providing the following information; submission data, submission email address, analyses you had selected and the job name."+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},l={};s.submissions.forEach(u=>{n=this.getResultsFiles(u.results,this.props),o[u.job_name]=n,l[u.job_name]=n;let g=On(u.job_name,r,"application/json");a+=$f(JSON.parse(g)),this.setState({metsite_results:o.metsite,hspred_results:o.hspred,memembed_results:o.memembed,merizo_results:o.merizo,merizosearch_results:o.merizosearch})}),this.props.updateResultsFiles(l),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw new Error("Job Failed")}}).catch(async s=>{let o="";try{let l=await s.json().then(u=>u);l.error&&(o.message=l.error),l.error.input_data&&(o.message=l.error.input_data)}catch{o=s}return console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidMount(){this.timer=setInterval(()=>this.getResults(),2e4)}renderPanel(t,r,n,a,s,o,l){return et.default.createElement("div",{className:"box box-primary collapsed-box",id:t},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},r),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),et.default.createElement("div",{className:n,id:a,ref:s}),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,o)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},l),this.props.waiting&&et.default.createElement("div",{className:"overlay processing"},et.default.createElement("i",{className:"fa fa-refresh fa-spin"}))))}render(){return et.default.createElement("div",null,this.props.uuid&&et.default.createElement("div",{className:"info-box bg-default job_info"},et.default.createElement("span",{className:"info-box-icon job_info"},et.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),et.default.createElement("div",{className:"info-box-content"},et.default.createElement("div",{className:"job_info_text job_info_text_left"},et.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),et.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",et.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),et.default.createElement(Yk.CopyToClipboard,{text:this.props.result_uri},et.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},et.default.createElement("img",{src:"http://127.0.0.1:3000//static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.analyses.includes("metsite_job")&&et.default.createElement("div",{className:"box box-primary",id:"metsite_preds"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.metsite.shortName," Predictions"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.metsite_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.metsite_waiting_icon})),et.default.createElement("div",{className:"metsite_structure pdb_panel_class",id:"metsite_structure",ref:this.metsite_pdb}),et.default.createElement("div",{className:"metsite_table_holder",id:"metsite_table_holder",ref:this.metsite_table}))),this.props.analyses.includes("hspred_job")&&et.default.createElement("div",{className:"box box-primary",id:"hspred_preds"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.hspred.shortName," Predictions"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.hspred_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.hspred_waiting_icon})),et.default.createElement("div",null,et.default.createElement("div",{className:"hspred_structure pdb_panel_class",id:"hs_pred_initial",ref:this.hspred_initial_pdb}),et.default.createElement("div",{className:"hspred_structure pdb_panel_class",id:"hs_pred_second",ref:this.hspred_second_pdb})),et.default.createElement("div",{className:"hspred_table_holder",id:"hspred_table_holder",ref:this.hspred_table}))),this.props.analyses.includes("memembed_job")&&et.default.createElement("div",{className:"box box-primary",id:"memembed_preds"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.memembed.shortName," Prediction"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.memembed_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.memembed_waiting_icon})),et.default.createElement("div",{className:"memembed_pdb pdb_panel_class",id:"memembed",ref:this.memembed_pdb}))),this.props.analyses.includes("merizo_job")&&et.default.createElement("div",{className:"box box-primary",id:"merizo_preds"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizo.shortName," Prediction"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizo_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizo_waiting_icon})),et.default.createElement("div",{className:"pdb_panel_class_merizo_options",id:"merizo_sidebar_bg",ref:this.merizo_pdb_sidebar}),et.default.createElement("div",{className:"merizo_pdb pdb_panel_class_merizo",id:"merizo_pdb_panel",ref:this.merizo_pdb}),et.default.createElement("div",{className:"merizo_boundaries",id:"merizo_boundary_table",ref:this.merizo_boundaries}))),this.props.analyses.includes("merizosearch_job")&&et.default.createElement("div",null,et.default.createElement("div",{className:"box box-primary",id:"merizosearch_structs"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Domains Found"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),et.default.createElement("div",{className:"merizo_pdb pdb_panel_class_merizo",id:"merizoseach_pdb",ref:this.merizosearch_pdb}))),et.default.createElement("div",{className:"box box-primary",id:"merizosearch_table"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Best Hits"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),et.default.createElement("div",{className:"merizosearch_results_table",id:"merizosearch_results_table",ref:this.merizosearch_results_table}))),et.default.createElement("div",{className:"box box-primary",id:"merizosearch_table"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Alternate Hits"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),et.default.createElement("div",{className:"merizosearch_alt_results_table",id:"merizosearch_alt_results_table",ref:this.merizosearch_alt_results_table}))),et.default.createElement("div",{className:"box box-primary",id:"merizomulti_table"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Multi-domain Chain Matches"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),et.default.createElement("div",{className:"merizosearch_multi_results_table",id:"merizosearch_multi_exact_table",ref:this.merizosearch_multi_exact_table}),et.default.createElement("div",{className:"merizosearch_multi_results_table",id:"merizosearch_multi_contiguous_table",ref:this.merizosearch_multi_contiguous_table}),et.default.createElement("div",{className:"merizosearch_multi_results_table",id:"merizosearch_multi_discontiguous_table",ref:this.merizosearch_multi_discontiguous_table}),et.default.createElement("div",{className:"merizosearch_multi_results_table",id:"merizosearch_multi_unordered_table",ref:this.merizosearch_multi_unordered_table})))))}}});var Wt,Zk,Xk,kg,$k=ae(()=>{Wt=Hr(Dn());pn();pn();Zk=Hr(Ag());kn();kn();Xk=Hr(of());Dc();kg=class extends Wt.default.Component{constructor(t){super(t),this.state={},this.gsrcl_png=Wt.default.createRef(),this.gsrcl_legend=Wt.default.createRef(),this.gsrcl_table=Wt.default.createRef(),this.update_count=0,this.gsrcl_csv_found=!1,this.timer=null}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null),this.update_count=this.update_count+1;for(let n in this.state.gsrcl_results)if(n.includes(".png")){let a=this.state.gsrcl_results[n],s=document.createElement("img");s.src=a,s.alt="GsRCL t-SNE plot",s.style.width="800px",this.gsrcl_png.current.appendChild(s)}for(let n in this.state.gsrcl_results)if(n.includes(".csv")){this.gsrcl_csv_found=!0;let a=this.state.gsrcl_results[n];if(a.length>0){let s=Dk(a);var r=document.createElement("template");r.innerHTML=s,this.gsrcl_table.current.appendChild(r.content);let o=(0,Xk.default)("#gsrcl_probabilities_table").DataTable({searching:!0,paging:!0,ordering:!0,lengthChange:50,pageLength:50,order:[[7,"asc"]],layout:{bottomEnd:{paging:{firstLast:!0,buttons:5}}}})}}for(let n in this.state.gsrcl_results)if(n.includes(".txt")){let a=this.state.gsrcl_results[n];if(console.log(a),this.gsrcl_csv_found==!1){var r=document.createElement("template");r.innerHTML="<h2>Your input file is not formatted correctly</h2><p>"+a.slice(11)+"</p>",this.gsrcl_table.current.appendChild(r.content)}}}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,l=a.data_path.split("/")[2];n[l]=o}else if(r.results_map.includes(s))try{let o=On(a.data_path,r.files_url,"text/plain;charset=UTF-8"),l=a.data_path.split("/")[2];n[l]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk  providing the following information; submission data, submission email address, analyses you had selected and the job name."+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},l={};s.submissions.forEach(u=>{n=this.getResultsFiles(u.results,this.props),o[u.job_name]=n,l[u.job_name]=n;let g=On(u.job_name,r,"application/json");a+=$f(JSON.parse(g)),this.setState({gsrcl_results:o.gsrcl})}),this.props.updateResultsFiles(l),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw new Error("Job Failed")}}).catch(async s=>{let o="";try{let l=await s.json().then(u=>u);l.error&&(o.message=l.error),l.error.input_data&&(o.message=l.error.input_data)}catch{o=s}return console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidMount(){this.timer=setInterval(()=>this.getResults(),500)}renderPanel(t,r,n,a,s,o,l){return Wt.default.createElement("div",{className:"box box-primary collapsed-box",id:t},Wt.default.createElement("div",{className:"box-header with-border"},Wt.default.createElement("h5",{className:"box-title"},r),Wt.default.createElement("div",{className:"box-tools pull-right"},Wt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},Wt.default.createElement("i",{className:"fa fa-plus"})))),Wt.default.createElement("div",{className:"box-body"},this.state.error_message&&Wt.default.createElement("div",{className:"error"},this.state.error_message),Wt.default.createElement("div",{className:n,id:a,ref:s}),this.props.waiting&&Wt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},Wt.default.createElement("br",null),Wt.default.createElement("h4",null,o)),this.props.waiting&&Wt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},l),this.props.waiting&&Wt.default.createElement("div",{className:"overlay processing"},Wt.default.createElement("i",{className:"fa fa-refresh fa-spin"}))))}render(){return Wt.default.createElement("div",null,this.props.uuid&&Wt.default.createElement("div",{className:"info-box bg-default job_info"},Wt.default.createElement("span",{className:"info-box-icon job_info"},Wt.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),Wt.default.createElement("div",{className:"info-box-content"},Wt.default.createElement("div",{className:"job_info_text job_info_text_left"},Wt.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),Wt.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",Wt.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),Wt.default.createElement(Zk.CopyToClipboard,{text:this.props.result_uri},Wt.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},Wt.default.createElement("img",{src:"http://127.0.0.1:3000//static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.analyses.includes("gsrcl_job")&&Wt.default.createElement("div",{className:"box box-primary",id:"gsrcl_svg_image"},Wt.default.createElement("div",{className:"box-header with-border"},Wt.default.createElement("h5",{className:"box-title"},this.props.job_strings.gsrcl.shortName," Cluster Plot"),Wt.default.createElement("div",{className:"box-tools pull-right"},Wt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},Wt.default.createElement("i",{className:"fa fa-plus"})))),Wt.default.createElement("div",{className:"box-body"},this.state.error_message&&Wt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&Wt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},Wt.default.createElement("br",null),Wt.default.createElement("h4",null,this.props.gsrcl_waiting_message)),this.props.waiting&&Wt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},Wt.default.createElement("img",{alt:"waiting icon",src:this.props.gsrcl_waiting_icon})),Wt.default.createElement("div",{className:"gsrcl_png",id:"gsrcl_png",ref:this.gsrcl_png}))),this.props.analyses.includes("gsrcl_job")&&Wt.default.createElement("div",{className:"box box-primary",id:"gsrcl_probabilities"},Wt.default.createElement("div",{className:"box-header with-border"},Wt.default.createElement("h5",{className:"box-title"},this.props.job_strings.gsrcl.shortName," Probabilities"),Wt.default.createElement("div",{className:"box-tools pull-right"},Wt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},Wt.default.createElement("i",{className:"fa fa-plus"})))),Wt.default.createElement("div",{className:"box-body"},this.state.error_message&&Wt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&Wt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},Wt.default.createElement("br",null),Wt.default.createElement("h4",null,this.props.gsrcl_waiting_message)),this.props.waiting&&Wt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},Wt.default.createElement("img",{alt:"waiting icon",src:this.props.gsrcl_waiting_icon})),Wt.default.createElement("div",{className:"gsrcl_table",id:"gsrcl_table",ref:this.gsrcl_table}))))}}});var Qf,Og,Qk=ae(()=>{Qf=Hr(Dn());pn();pn();Vk();Kk();$k();Og=class extends Qf.default.Component{constructor(t){super(t),this.state={result_uri:"",error_message:null,loading_message:"Fetching Times",psipred_waiting_message:"Please wait for your "+this.props.job_strings.psipred.shortName+" job to process",psipred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",disopred_waiting_message:"Please wait for your "+this.props.job_strings.disopred.shortName+" job to process",disopred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",memsatsvm_waiting_message:"Please wait for your "+this.props.job_strings.memsatsvm.shortName+" job to process",memsatsvm_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",pgenthreader_waiting_message:"Please wait for your "+this.props.job_strings.pgenthreader.shortName+" job to process",pgenthreader_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dmp_waiting_message:"Please wait for your "+this.props.job_strings.dmp.shortName+" job to process",dmp_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",mempack_waiting_message:"Please wait for your "+this.props.job_strings.mempack.shortName+" job to process",mempack_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",genthreader_waiting_message:"Please wait for your "+this.props.job_strings.genthreader.shortName+" job to process",genthreader_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",pdomthreader_waiting_message:"Please wait for your "+this.props.job_strings.pdomthreader.shortName+" job to process",pdomthreader_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dmpfold_waiting_message:"Please wait for your "+this.props.job_strings.dmpfold.shortName+" job to process",dmpfold_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",s4pred_waiting_message:"Please wait for your "+this.props.job_strings.s4pred.shortName+" job to process",s4pred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dompred_waiting_message:"Please wait for your "+this.props.job_strings.dompred.shortName+" job to process",dompred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",ffpred_waiting_message:"Please wait for your "+this.props.job_strings.ffpred.shortName+" job to process",ffpred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",metsite_waiting_message:"Please wait for your "+this.props.job_strings.metsite.shortName+" job to process",metsite_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",hspred_waiting_message:"Please wait for your "+this.props.job_strings.hspred.shortName+" job to process",hspred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",memembed_waiting_message:"Please wait for your "+this.props.job_strings.memembed.shortName+" job to process",memembed_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",merizo_waiting_message:"Please wait for your "+this.props.job_strings.merizo.shortName+" job to process",merizo_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dmpmetal_waiting_message:"Please wait for your "+this.props.job_strings.dmpmetal.shortName+" job to process",dmpmetal_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",merizosearch_waiting_message:"Please wait for your "+this.props.job_strings.merizosearch.shortName+" job to process",merizosearch_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",gsrcl_waiting_message:"Please wait for your "+this.props.job_strings.gsrcl.shortName+" job to process",gsrcl_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg"}}checkSubset=(t,r)=>{let n=new Set(t);return r.every(a=>n.has(a))};getJob=t=>{console.log("Getting Job Data URI request: GET: "+t.props.submit_url+t.props.incoming_uuid),fetch(t.props.submit_url+t.props.incoming_uuid,{headers:{Accept:"application/json"},method:"GET"}).then(r=>{if(r.ok)return r.json().then(n=>n);throw r}).then(r=>{if(r.UUID!==null){console.log("RECIEVED JOB DATA FOR UUID: "+r.UUID);let n=[];r.submissions.forEach(o=>{n.push(o.job_name)});let a=r.submissions[0],s="SeqForm";if(this.checkSubset(t.props.seq_job_names,n)){(n.includes("pdomthreader")||n.includes("pgenthreader"))&&n.push("psipred");let o=On(a.input_file,t.props.files_url);o=o.replace(/\r?\n|\r/g,""),t.props.updateAnalyses(n.map(l=>`${l}_job`)),t.props.updateSeq(o),t.props.updateForm(s)}else this.checkSubset(t.props.struct_job_names,n)&&(s="StructForm",t.props.updateAnalyses(n.map(o=>`${o}_job`)),t.props.updateForm(s));this.setState({result_uri:t.props.main_url+t.props.app_path+"/&uuid="+r.UUID}),t.props.updateName(r.submissions[0].submission_name),t.props.updateUuid(r.UUID),t.props.updateWaiting(!0)}}).catch(async r=>{let n=await r.json().then(s=>s),a="";return n.error&&(a=n.error),n.error.input_data&&(a=n.error.input_data),console.log("Getting Job data "+t.props.submit_url+t.props.incoming_uuid+" Failed. "+a+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Getting Job data to "+t.props.submit_url+t.props.incoming_uuid+" Failed. "+a+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null})};postJob=t=>{console.log("Posting Job URI request: POST: "+t.props.submit_url);let r=Ak({...t.state,...t.props});for(let n of r.entries())console.log(`${n[0]}, ${n[1]}`);fetch(t.props.submit_url,{headers:{Accept:"application/json"},method:"POST",body:r}).then(async n=>{if(n.ok)return n.json().then(a=>a);throw n}).then(n=>{if(n.UUID!==null){if(console.log("RECIEVED UUID: "+n.UUID),this.setState({result_uri:t.props.main_url+t.props.app_path+"/&uuid="+n.UUID}),this.props.updateUuid(n.UUID),window.history.replaceState){console.log("Add new history to browser window: "+t.props.main_url+t.props.app_path+"/&uuid="+n.UUID);try{window.history.replaceState({},n.UUID,t.props.app_path+"/&uuid="+n.UUID)}catch{throw new Error("Failed to push new browser history: "+t.props.main_url+t.props.app_path)}}t.props.updateWaiting(!0)}}).catch(async n=>{let a={};try{let s=await n.json().then(o=>o);s.error?a.message=s.error:s.error.input_data?a.message=s.error.input_data:a.message=s}catch{a.message=n}return console.log(a.message),console.log("Posting Job to "+t.props.submit_url+" Failed. "+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),console.log(a.message),alert("Posting Job to "+t.props.submit_url+" Failed. "+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null})};componentDidUpdate(){this.props.resubmit===!0&&(console.log("RESUBMITTING SEQUENCE"),this.props.updateResubmit(!1),this.postJob(this))}componentDidMount(){this.props.incoming_uuid?(console.log("GETTING DETAILS JOB: "+this.props.incoming_uuid),this.getJob(this)):this.postJob(this)}render(){return Qf.default.createElement("div",null,this.props.uuid&&this.props.formSelectedOption==="SeqForm"?Qf.default.createElement(Tg,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}):this.props.formSelectedOption==="StructForm"?Qf.default.createElement(Lg,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}):Qf.default.createElement(kg,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}))}}});var jt,Ng,qk=ae(()=>{jt=Hr(Dn());pn();Ng=class extends jt.default.Component{constructor(t){super(t),this.state={loading_message:"Fetching Times"}}componentDidUpdate(){}componentDidMount(){console.log("Getting Times URI request: GET: "+this.props.times_url),fetch(this.props.times_url,{headers:{Accept:"application/json"},method:"GET"}).then(t=>{if(t.ok)return t.json().then(r=>r);throw t}).then(t=>{if(t.UUID!==null){console.log("RECIEVED TIMES");var r=Tk(t);this.setState(r)}}).catch(async t=>{let r=await t.json().then(n=>n);return console.log("Getting Times data "+this.props.times_url+" Failed. "+r.error+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Getting Times data "+this.props.times_url+" Failed. "+r.error+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null})}render(){return jt.default.createElement("div",{className:"info-box"},jt.default.createElement("span",{className:"info-box-icon bg-blue"},jt.default.createElement("i",{className:"fa fa-clock-o"})),jt.default.createElement("div",{className:"info-box-content"},jt.default.createElement("span",{className:"info-box-text"},"Average Processing Time"),jt.default.createElement("br",null),this.state.loading_message&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.state.loading_message),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.psipred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.psipred.shortName," runtime: ",this.state.psipred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.disopred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.disopred.shortName," runtime: ",this.state.disopred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.memsatsvm.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.memsatsvm.shortName," runtime: ",this.state.memsatsvm),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.pgenthreader.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.pgenthreader.shortName," runtime: ",this.state.pgenthreader),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dmp.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dmp.shortName," runtime: ",this.state.dmp),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.mempack.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.mempack.shortName," runtime: ",this.state.mempack),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.genthreader.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.genthreader.shortName," runtime: ",this.state.genthreader),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.pdomthreader.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.pdomthreader.shortName," runtime: ",this.state.pdomthreader),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.s4pred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.s4pred.shortName," runtime: ",this.state.s4pred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dompred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dompred.shortName," runtime: ",this.state.dompred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.ffpred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.ffpred.shortName," runtime: ",this.state.ffpred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.metsite.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.metsite.shortName," runtime: ",this.state.mesite),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.hspred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.hspred.shortName," runtime: ",this.state.hspred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.memembed.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.memembed.shortName," runtime: ",this.state.memembed),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.merizo.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.merizo.shortName," runtime: ",this.state.merizo),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dmpmetal.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dmpmetal.shortName," runtime: ",this.state.dmpmetal),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.merizosearch.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.merizosearch.shortName," runtime: ",this.state.merizosearch),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.gsrcl.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.gsrcl.shortName," runtime: ",this.state.gsrcl),jt.default.createElement("br",null))))}}});var eO=Fn((Jk,Ww)=>{(function(e){typeof Jk=="object"&&typeof Ww<"u"?Ww.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=e()})(function(){return function e(t,r,n){function a(l,u){if(!r[l]){if(!t[l]){var g=typeof ml=="function"&&ml;if(!u&&g)return g(l,!0);if(s)return s(l,!0);var p=new Error("Cannot find module '"+l+"'");throw p.code="MODULE_NOT_FOUND",p}var _=r[l]={exports:{}};t[l][0].call(_.exports,function(x){var S=t[l][1][x];return a(S||x)},_,_.exports,e,t,r,n)}return r[l].exports}for(var s=typeof ml=="function"&&ml,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(o){for(var l,u,g,p,_,x,S,w=[],c=0,v=o.length,y=v,b=n.getTypeOf(o)!=="string";c<o.length;)y=v-c,g=b?(l=o[c++],u=c<v?o[c++]:0,c<v?o[c++]:0):(l=o.charCodeAt(c++),u=c<v?o.charCodeAt(c++):0,c<v?o.charCodeAt(c++):0),p=l>>2,_=(3&l)<<4|u>>4,x=1<y?(15&u)<<2|g>>6:64,S=2<y?63&g:64,w.push(s.charAt(p)+s.charAt(_)+s.charAt(x)+s.charAt(S));return w.join("")},r.decode=function(o){var l,u,g,p,_,x,S=0,w=0,c="data:";if(o.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var v,y=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===s.charAt(64)&&y--,o.charAt(o.length-2)===s.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=a.uint8array?new Uint8Array(0|y):new Array(0|y);S<o.length;)l=s.indexOf(o.charAt(S++))<<2|(p=s.indexOf(o.charAt(S++)))>>4,u=(15&p)<<4|(_=s.indexOf(o.charAt(S++)))>>2,g=(3&_)<<6|(x=s.indexOf(o.charAt(S++))),v[w++]=l,_!==64&&(v[w++]=u),x!==64&&(v[w++]=g);return v}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),a=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function l(u,g,p,_,x){this.compressedSize=u,this.uncompressedSize=g,this.crc32=p,this.compression=_,this.compressedContent=x}l.prototype={getContentWorker:function(){var u=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),g=this;return u.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(u,g,p){return u.pipe(new s).pipe(new o("uncompressedSize")).pipe(g.compressWorker(p)).pipe(new o("compressedSize")).withStreamInfo("compression",g)},t.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();t.exports=function(s,o){return s!==void 0&&s.length?n.getTypeOf(s)!=="string"?function(l,u,g,p){var _=a,x=p+g;l^=-1;for(var S=p;S<x;S++)l=l>>>8^_[255&(l^u[S])];return-1^l}(0|o,s,s.length,0):function(l,u,g,p){var _=a,x=p+g;l^=-1;for(var S=p;S<x;S++)l=l>>>8^_[255&(l^u.charCodeAt(S))];return-1^l}(0|o,s,s.length,0):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n=null;n=typeof Promise<"u"?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),s=e("./utils"),o=e("./stream/GenericWorker"),l=n?"uint8array":"array";function u(g,p){o.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=p,this.meta={}}r.magic="\b\0",s.inherits(u,o),u.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(l,g.data),!1)},u.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(p){g.push({data:p,meta:g.meta})}},r.compressWorker=function(g){return new u("Deflate",g)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(_,x){var S,w="";for(S=0;S<x;S++)w+=String.fromCharCode(255&_),_>>>=8;return w}function a(_,x,S,w,c,v){var y,b,C=_.file,E=_.compression,h=v!==l.utf8encode,f=s.transformTo("string",v(C.name)),D=s.transformTo("string",l.utf8encode(C.name)),M=C.comment,N=s.transformTo("string",v(M)),k=s.transformTo("string",l.utf8encode(M)),z=D.length!==C.name.length,O=k.length!==M.length,I="",H="",Y="",q=C.dir,G=C.date,$={crc32:0,compressedSize:0,uncompressedSize:0};x&&!S||($.crc32=_.crc32,$.compressedSize=_.compressedSize,$.uncompressedSize=_.uncompressedSize);var R=0;x&&(R|=8),h||!z&&!O||(R|=2048);var V=0,X=0;q&&(V|=16),c==="UNIX"?(X=798,V|=function(te,we){var Pe=te;return te||(Pe=we?16893:33204),(65535&Pe)<<16}(C.unixPermissions,q)):(X=20,V|=function(te){return 63&(te||0)}(C.dosPermissions)),y=G.getUTCHours(),y<<=6,y|=G.getUTCMinutes(),y<<=5,y|=G.getUTCSeconds()/2,b=G.getUTCFullYear()-1980,b<<=4,b|=G.getUTCMonth()+1,b<<=5,b|=G.getUTCDate(),z&&(H=n(1,1)+n(u(f),4)+D,I+="up"+n(H.length,2)+H),O&&(Y=n(1,1)+n(u(N),4)+k,I+="uc"+n(Y.length,2)+Y);var Q="";return Q+=`
\0`,Q+=n(R,2),Q+=E.magic,Q+=n(y,2),Q+=n(b,2),Q+=n($.crc32,4),Q+=n($.compressedSize,4),Q+=n($.uncompressedSize,4),Q+=n(f.length,2),Q+=n(I.length,2),{fileRecord:g.LOCAL_FILE_HEADER+Q+f+I,dirRecord:g.CENTRAL_FILE_HEADER+n(X,2)+Q+n(N.length,2)+"\0\0\0\0"+n(V,4)+n(w,4)+f+I+N}}var s=e("../utils"),o=e("../stream/GenericWorker"),l=e("../utf8"),u=e("../crc32"),g=e("../signature");function p(_,x,S,w){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=S,this.encodeFileName=w,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,o),p.prototype.push=function(_){var x=_.meta.percent||0,S=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,o.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:S?(x+100*(S-w-1))/S:100}}))},p.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var x=this.streamFiles&&!_.file.dir;if(x){var S=a(_,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(_){this.accumulate=!1;var x=this.streamFiles&&!_.file.dir,S=a(_,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),x)this.push({data:function(w){return g.DATA_DESCRIPTOR+n(w.crc32,4)+n(w.compressedSize,4)+n(w.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var _=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var S=this.bytesWritten-_,w=function(c,v,y,b,C){var E=s.transformTo("string",C(b));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(c,2)+n(c,2)+n(v,4)+n(y,4)+n(E.length,2)+E}(this.dirRecords.length,S,_,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(_){this._sources.push(_);var x=this;return _.on("data",function(S){x.processChunk(S)}),_.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),_.on("error",function(S){x.error(S)}),this},p.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(_){var x=this._sources;if(!o.prototype.error.call(this,_))return!1;for(var S=0;S<x.length;S++)try{x[S].error(_)}catch{}return!0},p.prototype.lock=function(){o.prototype.lock.call(this);for(var _=this._sources,x=0;x<_.length;x++)_[x].lock()},t.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),a=e("./ZipFileWorker");r.generateWorker=function(s,o,l){var u=new a(o.streamFiles,l,o.platform,o.encodeFileName),g=0;try{s.forEach(function(p,_){g++;var x=function(v,y){var b=v||y,C=n[b];if(!C)throw new Error(b+" is not a valid compression method !");return C}(_.options.compression,o.compression),S=_.options.compressionOptions||o.compressionOptions||{},w=_.dir,c=_.date;_._compressWorker(x,S).withStreamInfo("file",{name:p,dir:w,date:c,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(u)}),u.entriesCount=g}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new n;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(a,s){return new n().loadAsync(a,s)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./external"),s=e("./utf8"),o=e("./zipEntries"),l=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function g(p){return new a.Promise(function(_,x){var S=p.decompressed.getContentWorker().pipe(new l);S.on("error",function(w){x(w)}).on("end",function(){S.streamInfo.crc32!==p.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}t.exports=function(p,_){var x=this;return _=n.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",p,!0,_.optimizedBinaryString,_.base64).then(function(S){var w=new o(_);return w.load(S),w}).then(function(S){var w=[a.Promise.resolve(S)],c=S.files;if(_.checkCRC32)for(var v=0;v<c.length;v++)w.push(g(c[v]));return a.Promise.all(w)}).then(function(S){for(var w=S.shift(),c=w.files,v=0;v<c.length;v++){var y=c[v],b=y.fileNameStr,C=n.resolve(y.fileNameStr);x.file(C,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:_.createFolders}),y.dir||(x.file(C).unsafeOriginalName=b)}return w.zipComment.length&&(x.comment=w.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../stream/GenericWorker");function s(o,l){a.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(l)}n.inherits(s,a),s.prototype._bindStream=function(o){var l=this;(this._stream=o).pause(),o.on("data",function(u){l.push({data:u,meta:{percent:0}})}).on("error",function(u){l.isPaused?this.generatedError=u:l.error(u)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function a(s,o,l){n.call(this,o),this._helper=s;var u=this;s.on("data",function(g,p){u.push(g)||u._helper.pause(),l&&l(p)}).on("error",function(g){u.emit("error",g)}).on("end",function(){u.push(null)})}e("../utils").inherits(a,n),a.prototype._read=function(){this._helper.resume()},t.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,a);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,a)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var a=new Buffer(n);return a.fill(0),a},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(e,t,r){"use strict";function n(C,E,h){var f,D=s.getTypeOf(E),M=s.extend(h||{},u);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(C=c(C)),M.createFolders&&(f=w(C))&&v.call(this,f,!0);var N=D==="string"&&M.binary===!1&&M.base64===!1;h&&h.binary!==void 0||(M.binary=!N),(E instanceof g&&E.uncompressedSize===0||M.dir||!E||E.length===0)&&(M.base64=!1,M.binary=!0,E="",M.compression="STORE",D="string");var k=null;k=E instanceof g||E instanceof o?E:x.isNode&&x.isStream(E)?new S(C,E):s.prepareContent(C,E,M.binary,M.optimizedBinaryString,M.base64);var z=new p(C,k,M);this.files[C]=z}var a=e("./utf8"),s=e("./utils"),o=e("./stream/GenericWorker"),l=e("./stream/StreamHelper"),u=e("./defaults"),g=e("./compressedObject"),p=e("./zipObject"),_=e("./generate"),x=e("./nodejsUtils"),S=e("./nodejs/NodejsStreamInputAdapter"),w=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var E=C.lastIndexOf("/");return 0<E?C.substring(0,E):""},c=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},v=function(C,E){return E=E!==void 0?E:u.createFolders,C=c(C),this.files[C]||n.call(this,C,null,{dir:!0,createFolders:E}),this.files[C]};function y(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var E,h,f;for(E in this.files)f=this.files[E],(h=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&C(h,f)},filter:function(C){var E=[];return this.forEach(function(h,f){C(h,f)&&E.push(f)}),E},file:function(C,E,h){if(arguments.length!==1)return C=this.root+C,n.call(this,C,E,h),this;if(y(C)){var f=C;return this.filter(function(M,N){return!N.dir&&f.test(M)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(y(C))return this.filter(function(D,M){return M.dir&&C.test(D)});var E=this.root+C,h=v.call(this,E),f=this.clone();return f.root=h.name,f},remove:function(C){C=this.root+C;var E=this.files[C];if(E||(C.slice(-1)!=="/"&&(C+="/"),E=this.files[C]),E&&!E.dir)delete this.files[C];else for(var h=this.filter(function(D,M){return M.name.slice(0,C.length)===C}),f=0;f<h.length;f++)delete this.files[h[f].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var E,h={};try{if((h=s.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=h.type.toLowerCase(),h.compression=h.compression.toUpperCase(),h.type==="binarystring"&&(h.type="string"),!h.type)throw new Error("No output type specified.");s.checkSupport(h.type),h.platform!=="darwin"&&h.platform!=="freebsd"&&h.platform!=="linux"&&h.platform!=="sunos"||(h.platform="UNIX"),h.platform==="win32"&&(h.platform="DOS");var f=h.comment||this.comment||"";E=_.generateWorker(this,h,f)}catch(D){(E=new o("error")).error(D)}return new l(E,h.type||"string",h.mimeType)},generateAsync:function(C,E){return this.generateInternalStream(C).accumulate(E)},generateNodeStream:function(C,E){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(E)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function a(s){n.call(this,s);for(var o=0;o<this.data.length;o++)s[o]=255&s[o]}e("../utils").inherits(a,n),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var o=s.charCodeAt(0),l=s.charCodeAt(1),u=s.charCodeAt(2),g=s.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===o&&this.data[p+1]===l&&this.data[p+2]===u&&this.data[p+3]===g)return p-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var o=s.charCodeAt(0),l=s.charCodeAt(1),u=s.charCodeAt(2),g=s.charCodeAt(3),p=this.readData(4);return o===p[0]&&l===p[1]&&u===p[2]&&g===p[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var o,l=0;for(this.checkOffset(s),o=this.index+s-1;o>=this.index;o--)l=(l<<8)+this.byteAt(o);return this.index+=s,l},readString:function(s){return n.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},t.exports=a},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../support"),s=e("./ArrayReader"),o=e("./StringReader"),l=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");t.exports=function(g){var p=n.getTypeOf(g);return n.checkSupport(p),p!=="string"||a.uint8array?p==="nodebuffer"?new l(g):a.uint8array?new u(n.transformTo("uint8array",g)):new s(n.transformTo("array",g)):new o(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../utils");function s(o){n.call(this,"ConvertWorker to "+o),this.destType=o}a.inherits(s,n),s.prototype.processChunk=function(o){this.push({data:a.transformTo(this.destType,o.data),meta:o.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../crc32");function s(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,n),s.prototype.processChunk=function(o){this.streamInfo.crc32=a(o.data,this.streamInfo.crc32||0),this.push(o)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function s(o){a.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}n.inherits(s,a),s.prototype.processChunk=function(o){if(o){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+o.data.length}a.prototype.processChunk.call(this,o)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function s(o){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(u){l.dataIsReady=!0,l.data=u,l.max=u&&u.length||0,l.type=n.getTypeOf(u),l.isPaused||l._tickAndRepeat()},function(u){l.error(u)})}n.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,l);break;case"uint8array":o=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":o=this.data.slice(this.index,l)}return this.index=l,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var o=0;o<this._listeners[a].length;o++)this._listeners[a][o].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(o){s.processChunk(o)}),a.on("end",function(){s.end()}),a.on("error",function(o){s.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},t.exports=n},{}],29:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./ConvertWorker"),s=e("./GenericWorker"),o=e("../base64"),l=e("../support"),u=e("../external"),g=null;if(l.nodestream)try{g=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(x,S){return new u.Promise(function(w,c){var v=[],y=x._internalType,b=x._outputType,C=x._mimeType;x.on("data",function(E,h){v.push(E),S&&S(h)}).on("error",function(E){v=[],c(E)}).on("end",function(){try{var E=function(h,f,D){switch(h){case"blob":return n.newBlob(n.transformTo("arraybuffer",f),D);case"base64":return o.encode(f);default:return n.transformTo(h,f)}}(b,function(h,f){var D,M=0,N=null,k=0;for(D=0;D<f.length;D++)k+=f[D].length;switch(h){case"string":return f.join("");case"array":return Array.prototype.concat.apply([],f);case"uint8array":for(N=new Uint8Array(k),D=0;D<f.length;D++)N.set(f[D],M),M+=f[D].length;return N;case"nodebuffer":return Buffer.concat(f);default:throw new Error("concat : unsupported type '"+h+"'")}}(y,v),C);w(E)}catch(h){c(h)}v=[]}).resume()})}function _(x,S,w){var c=S;switch(S){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=S,this._mimeType=w,n.checkSupport(c),this._worker=x.pipe(new a(c)),x.lock()}catch(v){this._worker=new s("error"),this._worker.error(v)}}_.prototype={accumulate:function(x){return p(this,x)},on:function(x,S){var w=this;return x==="data"?this._worker.on(x,function(c){S.call(w,c.data,c.meta)}):this._worker.on(x,function(){n.delay(S,arguments,w)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},t.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(n),r.blob=a.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),a=e("./support"),s=e("./nodejsUtils"),o=e("./stream/GenericWorker"),l=new Array(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;l[254]=l[254]=1;function g(){o.call(this,"utf-8 decode"),this.leftOver=null}function p(){o.call(this,"utf-8 encode")}r.utf8encode=function(_){return a.nodebuffer?s.newBufferFrom(_,"utf-8"):function(x){var S,w,c,v,y,b=x.length,C=0;for(v=0;v<b;v++)(64512&(w=x.charCodeAt(v)))==55296&&v+1<b&&(64512&(c=x.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(c-56320),v++),C+=w<128?1:w<2048?2:w<65536?3:4;for(S=a.uint8array?new Uint8Array(C):new Array(C),v=y=0;y<C;v++)(64512&(w=x.charCodeAt(v)))==55296&&v+1<b&&(64512&(c=x.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(c-56320),v++),w<128?S[y++]=w:(w<2048?S[y++]=192|w>>>6:(w<65536?S[y++]=224|w>>>12:(S[y++]=240|w>>>18,S[y++]=128|w>>>12&63),S[y++]=128|w>>>6&63),S[y++]=128|63&w);return S}(_)},r.utf8decode=function(_){return a.nodebuffer?n.transformTo("nodebuffer",_).toString("utf-8"):function(x){var S,w,c,v,y=x.length,b=new Array(2*y);for(S=w=0;S<y;)if((c=x[S++])<128)b[w++]=c;else if(4<(v=l[c]))b[w++]=65533,S+=v-1;else{for(c&=v===2?31:v===3?15:7;1<v&&S<y;)c=c<<6|63&x[S++],v--;1<v?b[w++]=65533:c<65536?b[w++]=c:(c-=65536,b[w++]=55296|c>>10&1023,b[w++]=56320|1023&c)}return b.length!==w&&(b.subarray?b=b.subarray(0,w):b.length=w),n.applyFromCharCode(b)}(_=n.transformTo(a.uint8array?"uint8array":"array",_))},n.inherits(g,o),g.prototype.processChunk=function(_){var x=n.transformTo(a.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var S=x;(x=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),x.set(S,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var w=function(v,y){var b;for((y=y||v.length)>v.length&&(y=v.length),b=y-1;0<=b&&(192&v[b])==128;)b--;return b<0||b===0?y:b+l[v[b]]>y?b:y}(x),c=x;w!==x.length&&(a.uint8array?(c=x.subarray(0,w),this.leftOver=x.subarray(w,x.length)):(c=x.slice(0,w),this.leftOver=x.slice(w,x.length))),this.push({data:r.utf8decode(c),meta:_.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=g,n.inherits(p,o),p.prototype.processChunk=function(_){this.push({data:r.utf8encode(_.data),meta:_.meta})},r.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),a=e("./base64"),s=e("./nodejsUtils"),o=e("./external");function l(S){return S}function u(S,w){for(var c=0;c<S.length;++c)w[c]=255&S.charCodeAt(c);return w}e("setimmediate"),r.newBlob=function(S,w){r.checkSupport("blob");try{return new Blob([S],{type:w})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(S),c.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(S,w,c){var v=[],y=0,b=S.length;if(b<=c)return String.fromCharCode.apply(null,S);for(;y<b;)w==="array"||w==="nodebuffer"?v.push(String.fromCharCode.apply(null,S.slice(y,Math.min(y+c,b)))):v.push(String.fromCharCode.apply(null,S.subarray(y,Math.min(y+c,b)))),y+=c;return v.join("")},stringifyByChar:function(S){for(var w="",c=0;c<S.length;c++)w+=String.fromCharCode(S[c]);return w},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function p(S){var w=65536,c=r.getTypeOf(S),v=!0;if(c==="uint8array"?v=g.applyCanBeUsed.uint8array:c==="nodebuffer"&&(v=g.applyCanBeUsed.nodebuffer),v)for(;1<w;)try{return g.stringifyByChunk(S,c,w)}catch{w=Math.floor(w/2)}return g.stringifyByChar(S)}function _(S,w){for(var c=0;c<S.length;c++)w[c]=S[c];return w}r.applyFromCharCode=p;var x={};x.string={string:l,array:function(S){return u(S,new Array(S.length))},arraybuffer:function(S){return x.string.uint8array(S).buffer},uint8array:function(S){return u(S,new Uint8Array(S.length))},nodebuffer:function(S){return u(S,s.allocBuffer(S.length))}},x.array={string:p,array:l,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return s.newBufferFrom(S)}},x.arraybuffer={string:function(S){return p(new Uint8Array(S))},array:function(S){return _(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:l,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return s.newBufferFrom(new Uint8Array(S))}},x.uint8array={string:p,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:l,nodebuffer:function(S){return s.newBufferFrom(S)}},x.nodebuffer={string:p,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return x.nodebuffer.uint8array(S).buffer},uint8array:function(S){return _(S,new Uint8Array(S.length))},nodebuffer:l},r.transformTo=function(S,w){if(w=w||"",!S)return w;r.checkSupport(S);var c=r.getTypeOf(w);return x[c][S](w)},r.resolve=function(S){for(var w=S.split("/"),c=[],v=0;v<w.length;v++){var y=w[v];y==="."||y===""&&v!==0&&v!==w.length-1||(y===".."?c.pop():c.push(y))}return c.join("/")},r.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":n.nodebuffer&&s.isBuffer(S)?"nodebuffer":n.uint8array&&S instanceof Uint8Array?"uint8array":n.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(S){if(!n[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(S){var w,c,v="";for(c=0;c<(S||"").length;c++)v+="\\x"+((w=S.charCodeAt(c))<16?"0":"")+w.toString(16).toUpperCase();return v},r.delay=function(S,w,c){setImmediate(function(){S.apply(c||null,w||[])})},r.inherits=function(S,w){function c(){}c.prototype=w.prototype,S.prototype=new c},r.extend=function(){var S,w,c={};for(S=0;S<arguments.length;S++)for(w in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],w)&&c[w]===void 0&&(c[w]=arguments[S][w]);return c},r.prepareContent=function(S,w,c,v,y){return o.Promise.resolve(w).then(function(b){return n.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new o.Promise(function(C,E){var h=new FileReader;h.onload=function(f){C(f.target.result)},h.onerror=function(f){E(f.target.error)},h.readAsArrayBuffer(b)}):b}).then(function(b){var C=r.getTypeOf(b);return C?(C==="arraybuffer"?b=r.transformTo("uint8array",b):C==="string"&&(y?b=a.decode(b):c&&v!==!0&&(b=function(E){return u(E,n.uint8array?new Uint8Array(E.length):new Array(E.length))}(b))),b):o.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),s=e("./signature"),o=e("./zipEntry"),l=e("./support");function u(g){this.files=[],this.loadOptions=g}u.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(g)+")")}},isSignature:function(g,p){var _=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===p;return this.reader.setIndex(_),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),p=l.uint8array?"uint8array":"array",_=a.transformTo(p,g);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,p,_,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),p=this.reader.readInt(4),_=this.reader.readData(p),this.zip64ExtensibleData[g]={id:g,length:p,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,p;for(g=0;g<this.files.length;g++)p=this.files[g],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(g=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var p=g;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var x=p-_;if(0<x)this.isSignature(p,s.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=n(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),s=e("./compressedObject"),o=e("./crc32"),l=e("./utf8"),u=e("./compressions"),g=e("./support");function p(_,x){this.options=_,this.loadOptions=x}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var x,S;if(_.skip(22),this.fileNameLength=_.readInt(2),S=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(w){for(var c in u)if(Object.prototype.hasOwnProperty.call(u,c)&&u[c].magic===w)return u[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,x,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var x=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(x),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var x,S,w,c=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<c;)x=_.readInt(2),S=_.readInt(2),w=_.readData(S),this.extraFields[x]={id:x,length:S,value:w};_.setIndex(c)},handleUTF8:function(){var _=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var S=a.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var c=a.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var x=n(_.value);return x.readInt(1)!==1||o(this.fileName)!==x.readInt(4)?null:l.utf8decode(x.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var x=n(_.value);return x.readInt(1)!==1||o(this.fileComment)!==x.readInt(4)?null:l.utf8decode(x.readData(_.length-5))}return null}},t.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(x,S,w){this.name=x,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=S,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var a=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),o=e("./utf8"),l=e("./compressedObject"),u=e("./stream/GenericWorker");n.prototype={internalStream:function(x){var S=null,w="string";try{if(!x)throw new Error("No output type specified.");var c=(w=x.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),S=this._decompressWorker();var v=!this._dataBinary;v&&!c&&(S=S.pipe(new o.Utf8EncodeWorker)),!v&&c&&(S=S.pipe(new o.Utf8DecodeWorker))}catch(y){(S=new u("error")).error(y)}return new a(S,w,"")},async:function(x,S){return this.internalStream(x).accumulate(S)},nodeStream:function(x,S){return this.internalStream(x||"nodebuffer").toNodejsStream(S)},_compressWorker:function(x,S){if(this._data instanceof l&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new o.Utf8EncodeWorker)),l.createWorkerFrom(w,x,S)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof u?this._data:new s(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<g.length;_++)n.prototype[g[_]]=p;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(n){"use strict";var a,s,o=n.MutationObserver||n.WebKitMutationObserver;if(o){var l=0,u=new o(x),g=n.document.createTextNode("");u.observe(g,{characterData:!0}),a=function(){g.data=l=++l%2}}else if(n.setImmediate||n.MessageChannel===void 0)a="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var S=n.document.createElement("script");S.onreadystatechange=function(){x(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},n.document.documentElement.appendChild(S)}:function(){setTimeout(x,0)};else{var p=new n.MessageChannel;p.port1.onmessage=x,a=function(){p.port2.postMessage(0)}}var _=[];function x(){var S,w;s=!0;for(var c=_.length;c;){for(w=_,_=[],S=-1;++S<c;)w[S]();c=_.length}s=!1}t.exports=function(S){_.push(S)!==1||s||a()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function a(){}var s={},o=["REJECTED"],l=["FULFILLED"],u=["PENDING"];function g(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,c!==a&&S(this,c)}function p(c,v,y){this.promise=c,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function _(c,v,y){n(function(){var b;try{b=v(y)}catch(C){return s.reject(c,C)}b===c?s.reject(c,new TypeError("Cannot resolve promise with itself")):s.resolve(c,b)})}function x(c){var v=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof v=="function")return function(){v.apply(c,arguments)}}function S(c,v){var y=!1;function b(h){y||(y=!0,s.reject(c,h))}function C(h){y||(y=!0,s.resolve(c,h))}var E=w(function(){v(C,b)});E.status==="error"&&b(E.value)}function w(c,v){var y={};try{y.value=c(v),y.status="success"}catch(b){y.status="error",y.value=b}return y}(t.exports=g).prototype.finally=function(c){if(typeof c!="function")return this;var v=this.constructor;return this.then(function(y){return v.resolve(c()).then(function(){return y})},function(y){return v.resolve(c()).then(function(){throw y})})},g.prototype.catch=function(c){return this.then(null,c)},g.prototype.then=function(c,v){if(typeof c!="function"&&this.state===l||typeof v!="function"&&this.state===o)return this;var y=new this.constructor(a);return this.state!==u?_(y,this.state===l?c:v,this.outcome):this.queue.push(new p(y,c,v)),y},p.prototype.callFulfilled=function(c){s.resolve(this.promise,c)},p.prototype.otherCallFulfilled=function(c){_(this.promise,this.onFulfilled,c)},p.prototype.callRejected=function(c){s.reject(this.promise,c)},p.prototype.otherCallRejected=function(c){_(this.promise,this.onRejected,c)},s.resolve=function(c,v){var y=w(x,v);if(y.status==="error")return s.reject(c,y.value);var b=y.value;if(b)S(c,b);else{c.state=l,c.outcome=v;for(var C=-1,E=c.queue.length;++C<E;)c.queue[C].callFulfilled(v)}return c},s.reject=function(c,v){c.state=o,c.outcome=v;for(var y=-1,b=c.queue.length;++y<b;)c.queue[y].callRejected(v);return c},g.resolve=function(c){return c instanceof this?c:s.resolve(new this(a),c)},g.reject=function(c){var v=new this(a);return s.reject(v,c)},g.all=function(c){var v=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=c.length,b=!1;if(!y)return this.resolve([]);for(var C=new Array(y),E=0,h=-1,f=new this(a);++h<y;)D(c[h],h);return f;function D(M,N){v.resolve(M).then(function(k){C[N]=k,++E!==y||b||(b=!0,s.resolve(f,C))},function(k){b||(b=!0,s.reject(f,k))})}},g.race=function(c){var v=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=c.length,b=!1;if(!y)return this.resolve([]);for(var C=-1,E=new this(a);++C<y;)h=c[C],v.resolve(h).then(function(f){b||(b=!0,s.resolve(E,f))},function(f){b||(b=!0,s.reject(E,f))});var h;return E}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),a=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),l=e("./zlib/zstream"),u=Object.prototype.toString,g=0,p=-1,_=0,x=8;function S(c){if(!(this instanceof S))return new S(c);this.options=a.assign({level:p,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},c||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var y=n.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(y!==g)throw new Error(o[y]);if(v.header&&n.deflateSetHeader(this.strm,v.header),v.dictionary){var b;if(b=typeof v.dictionary=="string"?s.string2buf(v.dictionary):u.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(y=n.deflateSetDictionary(this.strm,b))!==g)throw new Error(o[y]);this._dict_set=!0}}function w(c,v){var y=new S(v);if(y.push(c,!0),y.err)throw y.msg||o[y.err];return y.result}S.prototype.push=function(c,v){var y,b,C=this.strm,E=this.options.chunkSize;if(this.ended)return!1;b=v===~~v?v:v===!0?4:0,typeof c=="string"?C.input=s.string2buf(c):u.call(c)==="[object ArrayBuffer]"?C.input=new Uint8Array(c):C.input=c,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(E),C.next_out=0,C.avail_out=E),(y=n.deflate(C,b))!==1&&y!==g)return this.onEnd(y),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(C.output,C.next_out))):this.onData(a.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&y!==1);return b===4?(y=n.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===g):b!==2||(this.onEnd(g),!(C.avail_out=0))},S.prototype.onData=function(c){this.chunks.push(c)},S.prototype.onEnd=function(c){c===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},r.Deflate=S,r.deflate=w,r.deflateRaw=function(c,v){return(v=v||{}).raw=!0,w(c,v)},r.gzip=function(c,v){return(v=v||{}).gzip=!0,w(c,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),a=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),g=e("./zlib/gzheader"),p=Object.prototype.toString;function _(S){if(!(this instanceof _))return new _(S);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},S||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||S&&S.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var c=n.inflateInit2(this.strm,w.windowBits);if(c!==o.Z_OK)throw new Error(l[c]);this.header=new g,n.inflateGetHeader(this.strm,this.header)}function x(S,w){var c=new _(w);if(c.push(S,!0),c.err)throw c.msg||l[c.err];return c.result}_.prototype.push=function(S,w){var c,v,y,b,C,E,h=this.strm,f=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;v=w===~~w?w:w===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof S=="string"?h.input=s.binstring2buf(S):p.call(S)==="[object ArrayBuffer]"?h.input=new Uint8Array(S):h.input=S,h.next_in=0,h.avail_in=h.input.length;do{if(h.avail_out===0&&(h.output=new a.Buf8(f),h.next_out=0,h.avail_out=f),(c=n.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&D&&(E=typeof D=="string"?s.string2buf(D):p.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,c=n.inflateSetDictionary(this.strm,E)),c===o.Z_BUF_ERROR&&M===!0&&(c=o.Z_OK,M=!1),c!==o.Z_STREAM_END&&c!==o.Z_OK)return this.onEnd(c),!(this.ended=!0);h.next_out&&(h.avail_out!==0&&c!==o.Z_STREAM_END&&(h.avail_in!==0||v!==o.Z_FINISH&&v!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=s.utf8border(h.output,h.next_out),b=h.next_out-y,C=s.buf2string(h.output,y),h.next_out=b,h.avail_out=f-b,b&&a.arraySet(h.output,h.output,y,b,0),this.onData(C)):this.onData(a.shrinkBuf(h.output,h.next_out)))),h.avail_in===0&&h.avail_out===0&&(M=!0)}while((0<h.avail_in||h.avail_out===0)&&c!==o.Z_STREAM_END);return c===o.Z_STREAM_END&&(v=o.Z_FINISH),v===o.Z_FINISH?(c=n.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===o.Z_OK):v!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(h.avail_out=0))},_.prototype.onData=function(S){this.chunks.push(S)},_.prototype.onEnd=function(S){S===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},r.Inflate=_,r.inflate=x,r.inflateRaw=function(S,w){return(w=w||{}).raw=!0,x(S,w)},r.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(o){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var g in u)u.hasOwnProperty(g)&&(o[g]=u[g])}}return o},r.shrinkBuf=function(o,l){return o.length===l?o:o.subarray?o.subarray(0,l):(o.length=l,o)};var a={arraySet:function(o,l,u,g,p){if(l.subarray&&o.subarray)o.set(l.subarray(u,u+g),p);else for(var _=0;_<g;_++)o[p+_]=l[u+_]},flattenChunks:function(o){var l,u,g,p,_,x;for(l=g=0,u=o.length;l<u;l++)g+=o[l].length;for(x=new Uint8Array(g),l=p=0,u=o.length;l<u;l++)_=o[l],x.set(_,p),p+=_.length;return x}},s={arraySet:function(o,l,u,g,p){for(var _=0;_<g;_++)o[p+_]=l[u+_]},flattenChunks:function(o){return[].concat.apply([],o)}};r.setTyped=function(o){o?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(g,p){if(p<65537&&(g.subarray&&s||!g.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(g,p));for(var _="",x=0;x<p;x++)_+=String.fromCharCode(g[x]);return _}o[254]=o[254]=1,r.string2buf=function(g){var p,_,x,S,w,c=g.length,v=0;for(S=0;S<c;S++)(64512&(_=g.charCodeAt(S)))==55296&&S+1<c&&(64512&(x=g.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(x-56320),S++),v+=_<128?1:_<2048?2:_<65536?3:4;for(p=new n.Buf8(v),S=w=0;w<v;S++)(64512&(_=g.charCodeAt(S)))==55296&&S+1<c&&(64512&(x=g.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(x-56320),S++),_<128?p[w++]=_:(_<2048?p[w++]=192|_>>>6:(_<65536?p[w++]=224|_>>>12:(p[w++]=240|_>>>18,p[w++]=128|_>>>12&63),p[w++]=128|_>>>6&63),p[w++]=128|63&_);return p},r.buf2binstring=function(g){return u(g,g.length)},r.binstring2buf=function(g){for(var p=new n.Buf8(g.length),_=0,x=p.length;_<x;_++)p[_]=g.charCodeAt(_);return p},r.buf2string=function(g,p){var _,x,S,w,c=p||g.length,v=new Array(2*c);for(_=x=0;_<c;)if((S=g[_++])<128)v[x++]=S;else if(4<(w=o[S]))v[x++]=65533,_+=w-1;else{for(S&=w===2?31:w===3?15:7;1<w&&_<c;)S=S<<6|63&g[_++],w--;1<w?v[x++]=65533:S<65536?v[x++]=S:(S-=65536,v[x++]=55296|S>>10&1023,v[x++]=56320|1023&S)}return u(v,x)},r.utf8border=function(g,p){var _;for((p=p||g.length)>g.length&&(p=g.length),_=p-1;0<=_&&(192&g[_])==128;)_--;return _<0||_===0?p:_+o[g[_]]>p?_:p}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(n,a,s,o){for(var l=65535&n|0,u=n>>>16&65535|0,g=0;s!==0;){for(s-=g=2e3<s?2e3:s;u=u+(l=l+a[o++]|0)|0,--g;);l%=65521,u%=65521}return l|u<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var a,s=[],o=0;o<256;o++){a=o;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;s[o]=a}return s}();t.exports=function(a,s,o,l){var u=n,g=l+o;a^=-1;for(var p=l;p<g;p++)a=a>>>8^u[255&(a^s[p])];return-1^a}},{}],46:[function(e,t,r){"use strict";var n,a=e("../utils/common"),s=e("./trees"),o=e("./adler32"),l=e("./crc32"),u=e("./messages"),g=0,p=4,_=0,x=-2,S=-1,w=4,c=2,v=8,y=9,b=286,C=30,E=19,h=2*b+1,f=15,D=3,M=258,N=M+D+1,k=42,z=113,O=1,I=2,H=3,Y=4;function q(U,pe){return U.msg=u[pe],pe}function G(U){return(U<<1)-(4<U?9:0)}function $(U){for(var pe=U.length;0<=--pe;)U[pe]=0}function R(U){var pe=U.state,_e=pe.pending;_e>U.avail_out&&(_e=U.avail_out),_e!==0&&(a.arraySet(U.output,pe.pending_buf,pe.pending_out,_e,U.next_out),U.next_out+=_e,pe.pending_out+=_e,U.total_out+=_e,U.avail_out-=_e,pe.pending-=_e,pe.pending===0&&(pe.pending_out=0))}function V(U,pe){s._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,pe),U.block_start=U.strstart,R(U.strm)}function X(U,pe){U.pending_buf[U.pending++]=pe}function Q(U,pe){U.pending_buf[U.pending++]=pe>>>8&255,U.pending_buf[U.pending++]=255&pe}function te(U,pe){var _e,ie,de=U.max_chain_length,ye=U.strstart,je=U.prev_length,Be=U.nice_match,Ce=U.strstart>U.w_size-N?U.strstart-(U.w_size-N):0,Ie=U.window,Re=U.w_mask,Ke=U.prev,Ne=U.strstart+M,pt=Ie[ye+je-1],yt=Ie[ye+je];U.prev_length>=U.good_match&&(de>>=2),Be>U.lookahead&&(Be=U.lookahead);do if(Ie[(_e=pe)+je]===yt&&Ie[_e+je-1]===pt&&Ie[_e]===Ie[ye]&&Ie[++_e]===Ie[ye+1]){ye+=2,_e++;do;while(Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&ye<Ne);if(ie=M-(Ne-ye),ye=Ne-M,je<ie){if(U.match_start=pe,Be<=(je=ie))break;pt=Ie[ye+je-1],yt=Ie[ye+je]}}while((pe=Ke[pe&Re])>Ce&&--de!=0);return je<=U.lookahead?je:U.lookahead}function we(U){var pe,_e,ie,de,ye,je,Be,Ce,Ie,Re,Ke=U.w_size;do{if(de=U.window_size-U.lookahead-U.strstart,U.strstart>=Ke+(Ke-N)){for(a.arraySet(U.window,U.window,Ke,Ke,0),U.match_start-=Ke,U.strstart-=Ke,U.block_start-=Ke,pe=_e=U.hash_size;ie=U.head[--pe],U.head[pe]=Ke<=ie?ie-Ke:0,--_e;);for(pe=_e=Ke;ie=U.prev[--pe],U.prev[pe]=Ke<=ie?ie-Ke:0,--_e;);de+=Ke}if(U.strm.avail_in===0)break;if(je=U.strm,Be=U.window,Ce=U.strstart+U.lookahead,Ie=de,Re=void 0,Re=je.avail_in,Ie<Re&&(Re=Ie),_e=Re===0?0:(je.avail_in-=Re,a.arraySet(Be,je.input,je.next_in,Re,Ce),je.state.wrap===1?je.adler=o(je.adler,Be,Re,Ce):je.state.wrap===2&&(je.adler=l(je.adler,Be,Re,Ce)),je.next_in+=Re,je.total_in+=Re,Re),U.lookahead+=_e,U.lookahead+U.insert>=D)for(ye=U.strstart-U.insert,U.ins_h=U.window[ye],U.ins_h=(U.ins_h<<U.hash_shift^U.window[ye+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[ye+D-1])&U.hash_mask,U.prev[ye&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=ye,ye++,U.insert--,!(U.lookahead+U.insert<D)););}while(U.lookahead<N&&U.strm.avail_in!==0)}function Pe(U,pe){for(var _e,ie;;){if(U.lookahead<N){if(we(U),U.lookahead<N&&pe===g)return O;if(U.lookahead===0)break}if(_e=0,U.lookahead>=D&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,_e=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),_e!==0&&U.strstart-_e<=U.w_size-N&&(U.match_length=te(U,_e)),U.match_length>=D)if(ie=s._tr_tally(U,U.strstart-U.match_start,U.match_length-D),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=D){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,_e=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else ie=s._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(ie&&(V(U,!1),U.strm.avail_out===0))return O}return U.insert=U.strstart<D-1?U.strstart:D-1,pe===p?(V(U,!0),U.strm.avail_out===0?H:Y):U.last_lit&&(V(U,!1),U.strm.avail_out===0)?O:I}function xe(U,pe){for(var _e,ie,de;;){if(U.lookahead<N){if(we(U),U.lookahead<N&&pe===g)return O;if(U.lookahead===0)break}if(_e=0,U.lookahead>=D&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,_e=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=D-1,_e!==0&&U.prev_length<U.max_lazy_match&&U.strstart-_e<=U.w_size-N&&(U.match_length=te(U,_e),U.match_length<=5&&(U.strategy===1||U.match_length===D&&4096<U.strstart-U.match_start)&&(U.match_length=D-1)),U.prev_length>=D&&U.match_length<=U.prev_length){for(de=U.strstart+U.lookahead-D,ie=s._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-D),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=de&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,_e=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=D-1,U.strstart++,ie&&(V(U,!1),U.strm.avail_out===0))return O}else if(U.match_available){if((ie=s._tr_tally(U,0,U.window[U.strstart-1]))&&V(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return O}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(ie=s._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<D-1?U.strstart:D-1,pe===p?(V(U,!0),U.strm.avail_out===0?H:Y):U.last_lit&&(V(U,!1),U.strm.avail_out===0)?O:I}function Fe(U,pe,_e,ie,de){this.good_length=U,this.max_lazy=pe,this.nice_length=_e,this.max_chain=ie,this.func=de}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*h),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*E+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(f+1),this.heap=new a.Buf16(2*b+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*b+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(U){var pe;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=c,(pe=U.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?k:z,U.adler=pe.wrap===2?0:1,pe.last_flush=g,s._tr_init(pe),_):q(U,x)}function Qe(U){var pe=be(U);return pe===_&&function(_e){_e.window_size=2*_e.w_size,$(_e.head),_e.max_lazy_match=n[_e.level].max_lazy,_e.good_match=n[_e.level].good_length,_e.nice_match=n[_e.level].nice_length,_e.max_chain_length=n[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=D-1,_e.match_available=0,_e.ins_h=0}(U.state),pe}function Xe(U,pe,_e,ie,de,ye){if(!U)return x;var je=1;if(pe===S&&(pe=6),ie<0?(je=0,ie=-ie):15<ie&&(je=2,ie-=16),de<1||y<de||_e!==v||ie<8||15<ie||pe<0||9<pe||ye<0||w<ye)return q(U,x);ie===8&&(ie=9);var Be=new Ae;return(U.state=Be).strm=U,Be.wrap=je,Be.gzhead=null,Be.w_bits=ie,Be.w_size=1<<Be.w_bits,Be.w_mask=Be.w_size-1,Be.hash_bits=de+7,Be.hash_size=1<<Be.hash_bits,Be.hash_mask=Be.hash_size-1,Be.hash_shift=~~((Be.hash_bits+D-1)/D),Be.window=new a.Buf8(2*Be.w_size),Be.head=new a.Buf16(Be.hash_size),Be.prev=new a.Buf16(Be.w_size),Be.lit_bufsize=1<<de+6,Be.pending_buf_size=4*Be.lit_bufsize,Be.pending_buf=new a.Buf8(Be.pending_buf_size),Be.d_buf=1*Be.lit_bufsize,Be.l_buf=3*Be.lit_bufsize,Be.level=pe,Be.strategy=ye,Be.method=_e,Qe(U)}n=[new Fe(0,0,0,0,function(U,pe){var _e=65535;for(_e>U.pending_buf_size-5&&(_e=U.pending_buf_size-5);;){if(U.lookahead<=1){if(we(U),U.lookahead===0&&pe===g)return O;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var ie=U.block_start+_e;if((U.strstart===0||U.strstart>=ie)&&(U.lookahead=U.strstart-ie,U.strstart=ie,V(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-N&&(V(U,!1),U.strm.avail_out===0))return O}return U.insert=0,pe===p?(V(U,!0),U.strm.avail_out===0?H:Y):(U.strstart>U.block_start&&(V(U,!1),U.strm.avail_out),O)}),new Fe(4,4,8,4,Pe),new Fe(4,5,16,8,Pe),new Fe(4,6,32,32,Pe),new Fe(4,4,16,16,xe),new Fe(8,16,32,32,xe),new Fe(8,16,128,128,xe),new Fe(8,32,128,256,xe),new Fe(32,128,258,1024,xe),new Fe(32,258,258,4096,xe)],r.deflateInit=function(U,pe){return Xe(U,pe,v,15,8,0)},r.deflateInit2=Xe,r.deflateReset=Qe,r.deflateResetKeep=be,r.deflateSetHeader=function(U,pe){return U&&U.state?U.state.wrap!==2?x:(U.state.gzhead=pe,_):x},r.deflate=function(U,pe){var _e,ie,de,ye;if(!U||!U.state||5<pe||pe<0)return U?q(U,x):x;if(ie=U.state,!U.output||!U.input&&U.avail_in!==0||ie.status===666&&pe!==p)return q(U,U.avail_out===0?-5:x);if(ie.strm=U,_e=ie.last_flush,ie.last_flush=pe,ie.status===k)if(ie.wrap===2)U.adler=0,X(ie,31),X(ie,139),X(ie,8),ie.gzhead?(X(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),X(ie,255&ie.gzhead.time),X(ie,ie.gzhead.time>>8&255),X(ie,ie.gzhead.time>>16&255),X(ie,ie.gzhead.time>>24&255),X(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),X(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(X(ie,255&ie.gzhead.extra.length),X(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(U.adler=l(U.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(X(ie,0),X(ie,0),X(ie,0),X(ie,0),X(ie,0),X(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),X(ie,3),ie.status=z);else{var je=v+(ie.w_bits-8<<4)<<8;je|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(je|=32),je+=31-je%31,ie.status=z,Q(ie,je),ie.strstart!==0&&(Q(ie,U.adler>>>16),Q(ie,65535&U.adler)),U.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(de=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>de&&(U.adler=l(U.adler,ie.pending_buf,ie.pending-de,de)),R(U),de=ie.pending,ie.pending!==ie.pending_buf_size));)X(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>de&&(U.adler=l(U.adler,ie.pending_buf,ie.pending-de,de)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){de=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>de&&(U.adler=l(U.adler,ie.pending_buf,ie.pending-de,de)),R(U),de=ie.pending,ie.pending===ie.pending_buf_size)){ye=1;break}ye=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,X(ie,ye)}while(ye!==0);ie.gzhead.hcrc&&ie.pending>de&&(U.adler=l(U.adler,ie.pending_buf,ie.pending-de,de)),ye===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){de=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>de&&(U.adler=l(U.adler,ie.pending_buf,ie.pending-de,de)),R(U),de=ie.pending,ie.pending===ie.pending_buf_size)){ye=1;break}ye=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,X(ie,ye)}while(ye!==0);ie.gzhead.hcrc&&ie.pending>de&&(U.adler=l(U.adler,ie.pending_buf,ie.pending-de,de)),ye===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&R(U),ie.pending+2<=ie.pending_buf_size&&(X(ie,255&U.adler),X(ie,U.adler>>8&255),U.adler=0,ie.status=z)):ie.status=z),ie.pending!==0){if(R(U),U.avail_out===0)return ie.last_flush=-1,_}else if(U.avail_in===0&&G(pe)<=G(_e)&&pe!==p)return q(U,-5);if(ie.status===666&&U.avail_in!==0)return q(U,-5);if(U.avail_in!==0||ie.lookahead!==0||pe!==g&&ie.status!==666){var Be=ie.strategy===2?function(Ce,Ie){for(var Re;;){if(Ce.lookahead===0&&(we(Ce),Ce.lookahead===0)){if(Ie===g)return O;break}if(Ce.match_length=0,Re=s._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++,Re&&(V(Ce,!1),Ce.strm.avail_out===0))return O}return Ce.insert=0,Ie===p?(V(Ce,!0),Ce.strm.avail_out===0?H:Y):Ce.last_lit&&(V(Ce,!1),Ce.strm.avail_out===0)?O:I}(ie,pe):ie.strategy===3?function(Ce,Ie){for(var Re,Ke,Ne,pt,yt=Ce.window;;){if(Ce.lookahead<=M){if(we(Ce),Ce.lookahead<=M&&Ie===g)return O;if(Ce.lookahead===0)break}if(Ce.match_length=0,Ce.lookahead>=D&&0<Ce.strstart&&(Ke=yt[Ne=Ce.strstart-1])===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]){pt=Ce.strstart+M;do;while(Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ne<pt);Ce.match_length=M-(pt-Ne),Ce.match_length>Ce.lookahead&&(Ce.match_length=Ce.lookahead)}if(Ce.match_length>=D?(Re=s._tr_tally(Ce,1,Ce.match_length-D),Ce.lookahead-=Ce.match_length,Ce.strstart+=Ce.match_length,Ce.match_length=0):(Re=s._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++),Re&&(V(Ce,!1),Ce.strm.avail_out===0))return O}return Ce.insert=0,Ie===p?(V(Ce,!0),Ce.strm.avail_out===0?H:Y):Ce.last_lit&&(V(Ce,!1),Ce.strm.avail_out===0)?O:I}(ie,pe):n[ie.level].func(ie,pe);if(Be!==H&&Be!==Y||(ie.status=666),Be===O||Be===H)return U.avail_out===0&&(ie.last_flush=-1),_;if(Be===I&&(pe===1?s._tr_align(ie):pe!==5&&(s._tr_stored_block(ie,0,0,!1),pe===3&&($(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),R(U),U.avail_out===0))return ie.last_flush=-1,_}return pe!==p?_:ie.wrap<=0?1:(ie.wrap===2?(X(ie,255&U.adler),X(ie,U.adler>>8&255),X(ie,U.adler>>16&255),X(ie,U.adler>>24&255),X(ie,255&U.total_in),X(ie,U.total_in>>8&255),X(ie,U.total_in>>16&255),X(ie,U.total_in>>24&255)):(Q(ie,U.adler>>>16),Q(ie,65535&U.adler)),R(U),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?_:1)},r.deflateEnd=function(U){var pe;return U&&U.state?(pe=U.state.status)!==k&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==z&&pe!==666?q(U,x):(U.state=null,pe===z?q(U,-3):_):x},r.deflateSetDictionary=function(U,pe){var _e,ie,de,ye,je,Be,Ce,Ie,Re=pe.length;if(!U||!U.state||(ye=(_e=U.state).wrap)===2||ye===1&&_e.status!==k||_e.lookahead)return x;for(ye===1&&(U.adler=o(U.adler,pe,Re,0)),_e.wrap=0,Re>=_e.w_size&&(ye===0&&($(_e.head),_e.strstart=0,_e.block_start=0,_e.insert=0),Ie=new a.Buf8(_e.w_size),a.arraySet(Ie,pe,Re-_e.w_size,_e.w_size,0),pe=Ie,Re=_e.w_size),je=U.avail_in,Be=U.next_in,Ce=U.input,U.avail_in=Re,U.next_in=0,U.input=pe,we(_e);_e.lookahead>=D;){for(ie=_e.strstart,de=_e.lookahead-(D-1);_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[ie+D-1])&_e.hash_mask,_e.prev[ie&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=ie,ie++,--de;);_e.strstart=ie,_e.lookahead=D-1,we(_e)}return _e.strstart+=_e.lookahead,_e.block_start=_e.strstart,_e.insert=_e.lookahead,_e.lookahead=0,_e.match_length=_e.prev_length=D-1,_e.match_available=0,U.next_in=Be,U.input=Ce,U.avail_in=je,_e.wrap=ye,_},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(n,a){var s,o,l,u,g,p,_,x,S,w,c,v,y,b,C,E,h,f,D,M,N,k,z,O,I;s=n.state,o=n.next_in,O=n.input,l=o+(n.avail_in-5),u=n.next_out,I=n.output,g=u-(a-n.avail_out),p=u+(n.avail_out-257),_=s.dmax,x=s.wsize,S=s.whave,w=s.wnext,c=s.window,v=s.hold,y=s.bits,b=s.lencode,C=s.distcode,E=(1<<s.lenbits)-1,h=(1<<s.distbits)-1;e:do{y<15&&(v+=O[o++]<<y,y+=8,v+=O[o++]<<y,y+=8),f=b[v&E];t:for(;;){if(v>>>=D=f>>>24,y-=D,(D=f>>>16&255)===0)I[u++]=65535&f;else{if(!(16&D)){if(!(64&D)){f=b[(65535&f)+(v&(1<<D)-1)];continue t}if(32&D){s.mode=12;break e}n.msg="invalid literal/length code",s.mode=30;break e}M=65535&f,(D&=15)&&(y<D&&(v+=O[o++]<<y,y+=8),M+=v&(1<<D)-1,v>>>=D,y-=D),y<15&&(v+=O[o++]<<y,y+=8,v+=O[o++]<<y,y+=8),f=C[v&h];r:for(;;){if(v>>>=D=f>>>24,y-=D,!(16&(D=f>>>16&255))){if(!(64&D)){f=C[(65535&f)+(v&(1<<D)-1)];continue r}n.msg="invalid distance code",s.mode=30;break e}if(N=65535&f,y<(D&=15)&&(v+=O[o++]<<y,(y+=8)<D&&(v+=O[o++]<<y,y+=8)),_<(N+=v&(1<<D)-1)){n.msg="invalid distance too far back",s.mode=30;break e}if(v>>>=D,y-=D,(D=u-g)<N){if(S<(D=N-D)&&s.sane){n.msg="invalid distance too far back",s.mode=30;break e}if(z=c,(k=0)===w){if(k+=x-D,D<M){for(M-=D;I[u++]=c[k++],--D;);k=u-N,z=I}}else if(w<D){if(k+=x+w-D,(D-=w)<M){for(M-=D;I[u++]=c[k++],--D;);if(k=0,w<M){for(M-=D=w;I[u++]=c[k++],--D;);k=u-N,z=I}}}else if(k+=w-D,D<M){for(M-=D;I[u++]=c[k++],--D;);k=u-N,z=I}for(;2<M;)I[u++]=z[k++],I[u++]=z[k++],I[u++]=z[k++],M-=3;M&&(I[u++]=z[k++],1<M&&(I[u++]=z[k++]))}else{for(k=u-N;I[u++]=I[k++],I[u++]=I[k++],I[u++]=I[k++],2<(M-=3););M&&(I[u++]=I[k++],1<M&&(I[u++]=I[k++]))}break}}break}}while(o<l&&u<p);o-=M=y>>3,v&=(1<<(y-=M<<3))-1,n.next_in=o,n.next_out=u,n.avail_in=o<l?l-o+5:5-(o-l),n.avail_out=u<p?p-u+257:257-(u-p),s.hold=v,s.bits=y}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),a=e("./adler32"),s=e("./crc32"),o=e("./inffast"),l=e("./inftrees"),u=1,g=2,p=0,_=-2,x=1,S=852,w=592;function c(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(k){var z;return k&&k.state?(z=k.state,k.total_in=k.total_out=z.total=0,k.msg="",z.wrap&&(k.adler=1&z.wrap),z.mode=x,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new n.Buf32(S),z.distcode=z.distdyn=new n.Buf32(w),z.sane=1,z.back=-1,p):_}function b(k){var z;return k&&k.state?((z=k.state).wsize=0,z.whave=0,z.wnext=0,y(k)):_}function C(k,z){var O,I;return k&&k.state?(I=k.state,z<0?(O=0,z=-z):(O=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?_:(I.window!==null&&I.wbits!==z&&(I.window=null),I.wrap=O,I.wbits=z,b(k))):_}function E(k,z){var O,I;return k?(I=new v,(k.state=I).window=null,(O=C(k,z))!==p&&(k.state=null),O):_}var h,f,D=!0;function M(k){if(D){var z;for(h=new n.Buf32(512),f=new n.Buf32(32),z=0;z<144;)k.lens[z++]=8;for(;z<256;)k.lens[z++]=9;for(;z<280;)k.lens[z++]=7;for(;z<288;)k.lens[z++]=8;for(l(u,k.lens,0,288,h,0,k.work,{bits:9}),z=0;z<32;)k.lens[z++]=5;l(g,k.lens,0,32,f,0,k.work,{bits:5}),D=!1}k.lencode=h,k.lenbits=9,k.distcode=f,k.distbits=5}function N(k,z,O,I){var H,Y=k.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new n.Buf8(Y.wsize)),I>=Y.wsize?(n.arraySet(Y.window,z,O-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(I<(H=Y.wsize-Y.wnext)&&(H=I),n.arraySet(Y.window,z,O-I,H,Y.wnext),(I-=H)?(n.arraySet(Y.window,z,O-I,I,0),Y.wnext=I,Y.whave=Y.wsize):(Y.wnext+=H,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=H))),0}r.inflateReset=b,r.inflateReset2=C,r.inflateResetKeep=y,r.inflateInit=function(k){return E(k,15)},r.inflateInit2=E,r.inflate=function(k,z){var O,I,H,Y,q,G,$,R,V,X,Q,te,we,Pe,xe,Fe,Ae,be,Qe,Xe,U,pe,_e,ie,de=0,ye=new n.Buf8(4),je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return _;(O=k.state).mode===12&&(O.mode=13),q=k.next_out,H=k.output,$=k.avail_out,Y=k.next_in,I=k.input,G=k.avail_in,R=O.hold,V=O.bits,X=G,Q=$,pe=p;e:for(;;)switch(O.mode){case x:if(O.wrap===0){O.mode=13;break}for(;V<16;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if(2&O.wrap&&R===35615){ye[O.check=0]=255&R,ye[1]=R>>>8&255,O.check=s(O.check,ye,2,0),V=R=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&R)<<8)+(R>>8))%31){k.msg="incorrect header check",O.mode=30;break}if((15&R)!=8){k.msg="unknown compression method",O.mode=30;break}if(V-=4,U=8+(15&(R>>>=4)),O.wbits===0)O.wbits=U;else if(U>O.wbits){k.msg="invalid window size",O.mode=30;break}O.dmax=1<<U,k.adler=O.check=1,O.mode=512&R?10:12,V=R=0;break;case 2:for(;V<16;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if(O.flags=R,(255&O.flags)!=8){k.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){k.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=R>>8&1),512&O.flags&&(ye[0]=255&R,ye[1]=R>>>8&255,O.check=s(O.check,ye,2,0)),V=R=0,O.mode=3;case 3:for(;V<32;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}O.head&&(O.head.time=R),512&O.flags&&(ye[0]=255&R,ye[1]=R>>>8&255,ye[2]=R>>>16&255,ye[3]=R>>>24&255,O.check=s(O.check,ye,4,0)),V=R=0,O.mode=4;case 4:for(;V<16;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}O.head&&(O.head.xflags=255&R,O.head.os=R>>8),512&O.flags&&(ye[0]=255&R,ye[1]=R>>>8&255,O.check=s(O.check,ye,2,0)),V=R=0,O.mode=5;case 5:if(1024&O.flags){for(;V<16;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}O.length=R,O.head&&(O.head.extra_len=R),512&O.flags&&(ye[0]=255&R,ye[1]=R>>>8&255,O.check=s(O.check,ye,2,0)),V=R=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(G<(te=O.length)&&(te=G),te&&(O.head&&(U=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),n.arraySet(O.head.extra,I,Y,te,U)),512&O.flags&&(O.check=s(O.check,I,te,Y)),G-=te,Y+=te,O.length-=te),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(G===0)break e;for(te=0;U=I[Y+te++],O.head&&U&&O.length<65536&&(O.head.name+=String.fromCharCode(U)),U&&te<G;);if(512&O.flags&&(O.check=s(O.check,I,te,Y)),G-=te,Y+=te,U)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(G===0)break e;for(te=0;U=I[Y+te++],O.head&&U&&O.length<65536&&(O.head.comment+=String.fromCharCode(U)),U&&te<G;);if(512&O.flags&&(O.check=s(O.check,I,te,Y)),G-=te,Y+=te,U)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;V<16;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if(R!==(65535&O.check)){k.msg="header crc mismatch",O.mode=30;break}V=R=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),k.adler=O.check=0,O.mode=12;break;case 10:for(;V<32;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}k.adler=O.check=c(R),V=R=0,O.mode=11;case 11:if(O.havedict===0)return k.next_out=q,k.avail_out=$,k.next_in=Y,k.avail_in=G,O.hold=R,O.bits=V,2;k.adler=O.check=1,O.mode=12;case 12:if(z===5||z===6)break e;case 13:if(O.last){R>>>=7&V,V-=7&V,O.mode=27;break}for(;V<3;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}switch(O.last=1&R,V-=1,3&(R>>>=1)){case 0:O.mode=14;break;case 1:if(M(O),O.mode=20,z!==6)break;R>>>=2,V-=2;break e;case 2:O.mode=17;break;case 3:k.msg="invalid block type",O.mode=30}R>>>=2,V-=2;break;case 14:for(R>>>=7&V,V-=7&V;V<32;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if((65535&R)!=(R>>>16^65535)){k.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&R,V=R=0,O.mode=15,z===6)break e;case 15:O.mode=16;case 16:if(te=O.length){if(G<te&&(te=G),$<te&&(te=$),te===0)break e;n.arraySet(H,I,Y,te,q),G-=te,Y+=te,$-=te,q+=te,O.length-=te;break}O.mode=12;break;case 17:for(;V<14;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if(O.nlen=257+(31&R),R>>>=5,V-=5,O.ndist=1+(31&R),R>>>=5,V-=5,O.ncode=4+(15&R),R>>>=4,V-=4,286<O.nlen||30<O.ndist){k.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;V<3;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}O.lens[je[O.have++]]=7&R,R>>>=3,V-=3}for(;O.have<19;)O.lens[je[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,_e={bits:O.lenbits},pe=l(0,O.lens,0,19,O.lencode,0,O.work,_e),O.lenbits=_e.bits,pe){k.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;Fe=(de=O.lencode[R&(1<<O.lenbits)-1])>>>16&255,Ae=65535&de,!((xe=de>>>24)<=V);){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if(Ae<16)R>>>=xe,V-=xe,O.lens[O.have++]=Ae;else{if(Ae===16){for(ie=xe+2;V<ie;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if(R>>>=xe,V-=xe,O.have===0){k.msg="invalid bit length repeat",O.mode=30;break}U=O.lens[O.have-1],te=3+(3&R),R>>>=2,V-=2}else if(Ae===17){for(ie=xe+3;V<ie;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}V-=xe,U=0,te=3+(7&(R>>>=xe)),R>>>=3,V-=3}else{for(ie=xe+7;V<ie;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}V-=xe,U=0,te=11+(127&(R>>>=xe)),R>>>=7,V-=7}if(O.have+te>O.nlen+O.ndist){k.msg="invalid bit length repeat",O.mode=30;break}for(;te--;)O.lens[O.have++]=U}}if(O.mode===30)break;if(O.lens[256]===0){k.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,_e={bits:O.lenbits},pe=l(u,O.lens,0,O.nlen,O.lencode,0,O.work,_e),O.lenbits=_e.bits,pe){k.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,_e={bits:O.distbits},pe=l(g,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,_e),O.distbits=_e.bits,pe){k.msg="invalid distances set",O.mode=30;break}if(O.mode=20,z===6)break e;case 20:O.mode=21;case 21:if(6<=G&&258<=$){k.next_out=q,k.avail_out=$,k.next_in=Y,k.avail_in=G,O.hold=R,O.bits=V,o(k,Q),q=k.next_out,H=k.output,$=k.avail_out,Y=k.next_in,I=k.input,G=k.avail_in,R=O.hold,V=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;Fe=(de=O.lencode[R&(1<<O.lenbits)-1])>>>16&255,Ae=65535&de,!((xe=de>>>24)<=V);){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if(Fe&&!(240&Fe)){for(be=xe,Qe=Fe,Xe=Ae;Fe=(de=O.lencode[Xe+((R&(1<<be+Qe)-1)>>be)])>>>16&255,Ae=65535&de,!(be+(xe=de>>>24)<=V);){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}R>>>=be,V-=be,O.back+=be}if(R>>>=xe,V-=xe,O.back+=xe,O.length=Ae,Fe===0){O.mode=26;break}if(32&Fe){O.back=-1,O.mode=12;break}if(64&Fe){k.msg="invalid literal/length code",O.mode=30;break}O.extra=15&Fe,O.mode=22;case 22:if(O.extra){for(ie=O.extra;V<ie;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}O.length+=R&(1<<O.extra)-1,R>>>=O.extra,V-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;Fe=(de=O.distcode[R&(1<<O.distbits)-1])>>>16&255,Ae=65535&de,!((xe=de>>>24)<=V);){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if(!(240&Fe)){for(be=xe,Qe=Fe,Xe=Ae;Fe=(de=O.distcode[Xe+((R&(1<<be+Qe)-1)>>be)])>>>16&255,Ae=65535&de,!(be+(xe=de>>>24)<=V);){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}R>>>=be,V-=be,O.back+=be}if(R>>>=xe,V-=xe,O.back+=xe,64&Fe){k.msg="invalid distance code",O.mode=30;break}O.offset=Ae,O.extra=15&Fe,O.mode=24;case 24:if(O.extra){for(ie=O.extra;V<ie;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}O.offset+=R&(1<<O.extra)-1,R>>>=O.extra,V-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){k.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if($===0)break e;if(te=Q-$,O.offset>te){if((te=O.offset-te)>O.whave&&O.sane){k.msg="invalid distance too far back",O.mode=30;break}we=te>O.wnext?(te-=O.wnext,O.wsize-te):O.wnext-te,te>O.length&&(te=O.length),Pe=O.window}else Pe=H,we=q-O.offset,te=O.length;for($<te&&(te=$),$-=te,O.length-=te;H[q++]=Pe[we++],--te;);O.length===0&&(O.mode=21);break;case 26:if($===0)break e;H[q++]=O.length,$--,O.mode=21;break;case 27:if(O.wrap){for(;V<32;){if(G===0)break e;G--,R|=I[Y++]<<V,V+=8}if(Q-=$,k.total_out+=Q,O.total+=Q,Q&&(k.adler=O.check=O.flags?s(O.check,H,Q,q-Q):a(O.check,H,Q,q-Q)),Q=$,(O.flags?R:c(R))!==O.check){k.msg="incorrect data check",O.mode=30;break}V=R=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;V<32;){if(G===0)break e;G--,R+=I[Y++]<<V,V+=8}if(R!==(4294967295&O.total)){k.msg="incorrect length check",O.mode=30;break}V=R=0}O.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return _}return k.next_out=q,k.avail_out=$,k.next_in=Y,k.avail_in=G,O.hold=R,O.bits=V,(O.wsize||Q!==k.avail_out&&O.mode<30&&(O.mode<27||z!==4))&&N(k,k.output,k.next_out,Q-k.avail_out)?(O.mode=31,-4):(X-=k.avail_in,Q-=k.avail_out,k.total_in+=X,k.total_out+=Q,O.total+=Q,O.wrap&&Q&&(k.adler=O.check=O.flags?s(O.check,H,Q,k.next_out-Q):a(O.check,H,Q,k.next_out-Q)),k.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(X==0&&Q===0||z===4)&&pe===p&&(pe=-5),pe)},r.inflateEnd=function(k){if(!k||!k.state)return _;var z=k.state;return z.window&&(z.window=null),k.state=null,p},r.inflateGetHeader=function(k,z){var O;return k&&k.state&&2&(O=k.state).wrap?((O.head=z).done=!1,p):_},r.inflateSetDictionary=function(k,z){var O,I=z.length;return k&&k.state?(O=k.state).wrap!==0&&O.mode!==11?_:O.mode===11&&a(1,z,I,0)!==O.check?-3:N(k,z,I,I)?(O.mode=31,-4):(O.havedict=1,p):_},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(u,g,p,_,x,S,w,c){var v,y,b,C,E,h,f,D,M,N=c.bits,k=0,z=0,O=0,I=0,H=0,Y=0,q=0,G=0,$=0,R=0,V=null,X=0,Q=new n.Buf16(16),te=new n.Buf16(16),we=null,Pe=0;for(k=0;k<=15;k++)Q[k]=0;for(z=0;z<_;z++)Q[g[p+z]]++;for(H=N,I=15;1<=I&&Q[I]===0;I--);if(I<H&&(H=I),I===0)return x[S++]=20971520,x[S++]=20971520,c.bits=1,0;for(O=1;O<I&&Q[O]===0;O++);for(H<O&&(H=O),k=G=1;k<=15;k++)if(G<<=1,(G-=Q[k])<0)return-1;if(0<G&&(u===0||I!==1))return-1;for(te[1]=0,k=1;k<15;k++)te[k+1]=te[k]+Q[k];for(z=0;z<_;z++)g[p+z]!==0&&(w[te[g[p+z]]++]=z);if(h=u===0?(V=we=w,19):u===1?(V=a,X-=257,we=s,Pe-=257,256):(V=o,we=l,-1),k=O,E=S,q=z=R=0,b=-1,C=($=1<<(Y=H))-1,u===1&&852<$||u===2&&592<$)return 1;for(;;){for(f=k-q,M=w[z]<h?(D=0,w[z]):w[z]>h?(D=we[Pe+w[z]],V[X+w[z]]):(D=96,0),v=1<<k-q,O=y=1<<Y;x[E+(R>>q)+(y-=v)]=f<<24|D<<16|M|0,y!==0;);for(v=1<<k-1;R&v;)v>>=1;if(v!==0?(R&=v-1,R+=v):R=0,z++,--Q[k]==0){if(k===I)break;k=g[p+w[z]]}if(H<k&&(R&C)!==b){for(q===0&&(q=H),E+=O,G=1<<(Y=k-q);Y+q<I&&!((G-=Q[Y+q])<=0);)Y++,G<<=1;if($+=1<<Y,u===1&&852<$||u===2&&592<$)return 1;x[b=R&C]=H<<24|Y<<16|E-S|0}}return R!==0&&(x[E+R]=k-q<<24|64<<16|0),c.bits=H,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common"),a=0,s=1;function o(de){for(var ye=de.length;0<=--ye;)de[ye]=0}var l=0,u=29,g=256,p=g+1+u,_=30,x=19,S=2*p+1,w=15,c=16,v=7,y=256,b=16,C=17,E=18,h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(p+2));o(N);var k=new Array(2*_);o(k);var z=new Array(512);o(z);var O=new Array(256);o(O);var I=new Array(u);o(I);var H,Y,q,G=new Array(_);function $(de,ye,je,Be,Ce){this.static_tree=de,this.extra_bits=ye,this.extra_base=je,this.elems=Be,this.max_length=Ce,this.has_stree=de&&de.length}function R(de,ye){this.dyn_tree=de,this.max_code=0,this.stat_desc=ye}function V(de){return de<256?z[de]:z[256+(de>>>7)]}function X(de,ye){de.pending_buf[de.pending++]=255&ye,de.pending_buf[de.pending++]=ye>>>8&255}function Q(de,ye,je){de.bi_valid>c-je?(de.bi_buf|=ye<<de.bi_valid&65535,X(de,de.bi_buf),de.bi_buf=ye>>c-de.bi_valid,de.bi_valid+=je-c):(de.bi_buf|=ye<<de.bi_valid&65535,de.bi_valid+=je)}function te(de,ye,je){Q(de,je[2*ye],je[2*ye+1])}function we(de,ye){for(var je=0;je|=1&de,de>>>=1,je<<=1,0<--ye;);return je>>>1}function Pe(de,ye,je){var Be,Ce,Ie=new Array(w+1),Re=0;for(Be=1;Be<=w;Be++)Ie[Be]=Re=Re+je[Be-1]<<1;for(Ce=0;Ce<=ye;Ce++){var Ke=de[2*Ce+1];Ke!==0&&(de[2*Ce]=we(Ie[Ke]++,Ke))}}function xe(de){var ye;for(ye=0;ye<p;ye++)de.dyn_ltree[2*ye]=0;for(ye=0;ye<_;ye++)de.dyn_dtree[2*ye]=0;for(ye=0;ye<x;ye++)de.bl_tree[2*ye]=0;de.dyn_ltree[2*y]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function Fe(de){8<de.bi_valid?X(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function Ae(de,ye,je,Be){var Ce=2*ye,Ie=2*je;return de[Ce]<de[Ie]||de[Ce]===de[Ie]&&Be[ye]<=Be[je]}function be(de,ye,je){for(var Be=de.heap[je],Ce=je<<1;Ce<=de.heap_len&&(Ce<de.heap_len&&Ae(ye,de.heap[Ce+1],de.heap[Ce],de.depth)&&Ce++,!Ae(ye,Be,de.heap[Ce],de.depth));)de.heap[je]=de.heap[Ce],je=Ce,Ce<<=1;de.heap[je]=Be}function Qe(de,ye,je){var Be,Ce,Ie,Re,Ke=0;if(de.last_lit!==0)for(;Be=de.pending_buf[de.d_buf+2*Ke]<<8|de.pending_buf[de.d_buf+2*Ke+1],Ce=de.pending_buf[de.l_buf+Ke],Ke++,Be===0?te(de,Ce,ye):(te(de,(Ie=O[Ce])+g+1,ye),(Re=h[Ie])!==0&&Q(de,Ce-=I[Ie],Re),te(de,Ie=V(--Be),je),(Re=f[Ie])!==0&&Q(de,Be-=G[Ie],Re)),Ke<de.last_lit;);te(de,y,ye)}function Xe(de,ye){var je,Be,Ce,Ie=ye.dyn_tree,Re=ye.stat_desc.static_tree,Ke=ye.stat_desc.has_stree,Ne=ye.stat_desc.elems,pt=-1;for(de.heap_len=0,de.heap_max=S,je=0;je<Ne;je++)Ie[2*je]!==0?(de.heap[++de.heap_len]=pt=je,de.depth[je]=0):Ie[2*je+1]=0;for(;de.heap_len<2;)Ie[2*(Ce=de.heap[++de.heap_len]=pt<2?++pt:0)]=1,de.depth[Ce]=0,de.opt_len--,Ke&&(de.static_len-=Re[2*Ce+1]);for(ye.max_code=pt,je=de.heap_len>>1;1<=je;je--)be(de,Ie,je);for(Ce=Ne;je=de.heap[1],de.heap[1]=de.heap[de.heap_len--],be(de,Ie,1),Be=de.heap[1],de.heap[--de.heap_max]=je,de.heap[--de.heap_max]=Be,Ie[2*Ce]=Ie[2*je]+Ie[2*Be],de.depth[Ce]=(de.depth[je]>=de.depth[Be]?de.depth[je]:de.depth[Be])+1,Ie[2*je+1]=Ie[2*Be+1]=Ce,de.heap[1]=Ce++,be(de,Ie,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(yt,le){var ue,ge,$e,Oe,at,lt,se=le.dyn_tree,Ge=le.max_code,Je=le.stat_desc.static_tree,mt=le.stat_desc.has_stree,Le=le.stat_desc.extra_bits,ut=le.stat_desc.extra_base,oe=le.stat_desc.max_length,dt=0;for(Oe=0;Oe<=w;Oe++)yt.bl_count[Oe]=0;for(se[2*yt.heap[yt.heap_max]+1]=0,ue=yt.heap_max+1;ue<S;ue++)oe<(Oe=se[2*se[2*(ge=yt.heap[ue])+1]+1]+1)&&(Oe=oe,dt++),se[2*ge+1]=Oe,Ge<ge||(yt.bl_count[Oe]++,at=0,ut<=ge&&(at=Le[ge-ut]),lt=se[2*ge],yt.opt_len+=lt*(Oe+at),mt&&(yt.static_len+=lt*(Je[2*ge+1]+at)));if(dt!==0){do{for(Oe=oe-1;yt.bl_count[Oe]===0;)Oe--;yt.bl_count[Oe]--,yt.bl_count[Oe+1]+=2,yt.bl_count[oe]--,dt-=2}while(0<dt);for(Oe=oe;Oe!==0;Oe--)for(ge=yt.bl_count[Oe];ge!==0;)Ge<($e=yt.heap[--ue])||(se[2*$e+1]!==Oe&&(yt.opt_len+=(Oe-se[2*$e+1])*se[2*$e],se[2*$e+1]=Oe),ge--)}}(de,ye),Pe(Ie,pt,de.bl_count)}function U(de,ye,je){var Be,Ce,Ie=-1,Re=ye[1],Ke=0,Ne=7,pt=4;for(Re===0&&(Ne=138,pt=3),ye[2*(je+1)+1]=65535,Be=0;Be<=je;Be++)Ce=Re,Re=ye[2*(Be+1)+1],++Ke<Ne&&Ce===Re||(Ke<pt?de.bl_tree[2*Ce]+=Ke:Ce!==0?(Ce!==Ie&&de.bl_tree[2*Ce]++,de.bl_tree[2*b]++):Ke<=10?de.bl_tree[2*C]++:de.bl_tree[2*E]++,Ie=Ce,pt=(Ke=0)===Re?(Ne=138,3):Ce===Re?(Ne=6,3):(Ne=7,4))}function pe(de,ye,je){var Be,Ce,Ie=-1,Re=ye[1],Ke=0,Ne=7,pt=4;for(Re===0&&(Ne=138,pt=3),Be=0;Be<=je;Be++)if(Ce=Re,Re=ye[2*(Be+1)+1],!(++Ke<Ne&&Ce===Re)){if(Ke<pt)for(;te(de,Ce,de.bl_tree),--Ke!=0;);else Ce!==0?(Ce!==Ie&&(te(de,Ce,de.bl_tree),Ke--),te(de,b,de.bl_tree),Q(de,Ke-3,2)):Ke<=10?(te(de,C,de.bl_tree),Q(de,Ke-3,3)):(te(de,E,de.bl_tree),Q(de,Ke-11,7));Ie=Ce,pt=(Ke=0)===Re?(Ne=138,3):Ce===Re?(Ne=6,3):(Ne=7,4)}}o(G);var _e=!1;function ie(de,ye,je,Be){Q(de,(l<<1)+(Be?1:0),3),function(Ce,Ie,Re,Ke){Fe(Ce),Ke&&(X(Ce,Re),X(Ce,~Re)),n.arraySet(Ce.pending_buf,Ce.window,Ie,Re,Ce.pending),Ce.pending+=Re}(de,ye,je,!0)}r._tr_init=function(de){_e||(function(){var ye,je,Be,Ce,Ie,Re=new Array(w+1);for(Ce=Be=0;Ce<u-1;Ce++)for(I[Ce]=Be,ye=0;ye<1<<h[Ce];ye++)O[Be++]=Ce;for(O[Be-1]=Ce,Ce=Ie=0;Ce<16;Ce++)for(G[Ce]=Ie,ye=0;ye<1<<f[Ce];ye++)z[Ie++]=Ce;for(Ie>>=7;Ce<_;Ce++)for(G[Ce]=Ie<<7,ye=0;ye<1<<f[Ce]-7;ye++)z[256+Ie++]=Ce;for(je=0;je<=w;je++)Re[je]=0;for(ye=0;ye<=143;)N[2*ye+1]=8,ye++,Re[8]++;for(;ye<=255;)N[2*ye+1]=9,ye++,Re[9]++;for(;ye<=279;)N[2*ye+1]=7,ye++,Re[7]++;for(;ye<=287;)N[2*ye+1]=8,ye++,Re[8]++;for(Pe(N,p+1,Re),ye=0;ye<_;ye++)k[2*ye+1]=5,k[2*ye]=we(ye,5);H=new $(N,h,g+1,p,w),Y=new $(k,f,0,_,w),q=new $(new Array(0),D,0,x,v)}(),_e=!0),de.l_desc=new R(de.dyn_ltree,H),de.d_desc=new R(de.dyn_dtree,Y),de.bl_desc=new R(de.bl_tree,q),de.bi_buf=0,de.bi_valid=0,xe(de)},r._tr_stored_block=ie,r._tr_flush_block=function(de,ye,je,Be){var Ce,Ie,Re=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(Ke){var Ne,pt=4093624447;for(Ne=0;Ne<=31;Ne++,pt>>>=1)if(1&pt&&Ke.dyn_ltree[2*Ne]!==0)return a;if(Ke.dyn_ltree[18]!==0||Ke.dyn_ltree[20]!==0||Ke.dyn_ltree[26]!==0)return s;for(Ne=32;Ne<g;Ne++)if(Ke.dyn_ltree[2*Ne]!==0)return s;return a}(de)),Xe(de,de.l_desc),Xe(de,de.d_desc),Re=function(Ke){var Ne;for(U(Ke,Ke.dyn_ltree,Ke.l_desc.max_code),U(Ke,Ke.dyn_dtree,Ke.d_desc.max_code),Xe(Ke,Ke.bl_desc),Ne=x-1;3<=Ne&&Ke.bl_tree[2*M[Ne]+1]===0;Ne--);return Ke.opt_len+=3*(Ne+1)+5+5+4,Ne}(de),Ce=de.opt_len+3+7>>>3,(Ie=de.static_len+3+7>>>3)<=Ce&&(Ce=Ie)):Ce=Ie=je+5,je+4<=Ce&&ye!==-1?ie(de,ye,je,Be):de.strategy===4||Ie===Ce?(Q(de,2+(Be?1:0),3),Qe(de,N,k)):(Q(de,4+(Be?1:0),3),function(Ke,Ne,pt,yt){var le;for(Q(Ke,Ne-257,5),Q(Ke,pt-1,5),Q(Ke,yt-4,4),le=0;le<yt;le++)Q(Ke,Ke.bl_tree[2*M[le]+1],3);pe(Ke,Ke.dyn_ltree,Ne-1),pe(Ke,Ke.dyn_dtree,pt-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,Re+1),Qe(de,de.dyn_ltree,de.dyn_dtree)),xe(de),Be&&Fe(de)},r._tr_tally=function(de,ye,je){return de.pending_buf[de.d_buf+2*de.last_lit]=ye>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&ye,de.pending_buf[de.l_buf+de.last_lit]=255&je,de.last_lit++,ye===0?de.dyn_ltree[2*je]++:(de.matches++,ye--,de.dyn_ltree[2*(O[je]+g+1)]++,de.dyn_dtree[2*V(ye)]++),de.last_lit===de.lit_bufsize-1},r._tr_align=function(de){Q(de,2,3),te(de,y,N),function(ye){ye.bi_valid===16?(X(ye,ye.bi_buf),ye.bi_buf=0,ye.bi_valid=0):8<=ye.bi_valid&&(ye.pending_buf[ye.pending++]=255&ye.bi_buf,ye.bi_buf>>=8,ye.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(n){(function(a,s){"use strict";if(!a.setImmediate){var o,l,u,g,p=1,_={},x=!1,S=a.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(a);w=w&&w.setTimeout?w:a,o={}.toString.call(a.process)==="[object process]"?function(b){process.nextTick(function(){v(b)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,C=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=C,b}}()?(g="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",y,!1):a.attachEvent("onmessage",y),function(b){a.postMessage(g+b,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(b){v(b.data)},function(b){u.port2.postMessage(b)}):S&&"onreadystatechange"in S.createElement("script")?(l=S.documentElement,function(b){var C=S.createElement("script");C.onreadystatechange=function(){v(b),C.onreadystatechange=null,l.removeChild(C),C=null},l.appendChild(C)}):function(b){setTimeout(v,0,b)},w.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var C=new Array(arguments.length-1),E=0;E<C.length;E++)C[E]=arguments[E+1];var h={callback:b,args:C};return _[p]=h,o(p),p++},w.clearImmediate=c}function c(b){delete _[b]}function v(b){if(x)setTimeout(v,0,b);else{var C=_[b];if(C){x=!0;try{(function(E){var h=E.callback,f=E.args;switch(f.length){case 0:h();break;case 1:h(f[0]);break;case 2:h(f[0],f[1]);break;case 3:h(f[0],f[1],f[2]);break;default:h.apply(s,f)}})(C)}finally{c(b),x=!1}}}}function y(b){b.source===a&&typeof b.data=="string"&&b.data.indexOf(g)===0&&v(+b.data.slice(g.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var nO=Fn((kde,rO)=>{"use strict";var Pg={};Pg._getBinaryFromXHR=function(e){return e.response||e.responseText};function tO(){try{return new window.XMLHttpRequest}catch{}}function QU(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch{}}var qU=typeof window<"u"&&window.ActiveXObject?function(){return tO()||QU()}:tO;Pg.getBinaryContent=function(e,t){var r,n,a,s;t||(t={}),typeof t=="function"?(s=t,t={}):typeof t.callback=="function"&&(s=t.callback),!s&&typeof Promise<"u"?r=new Promise(function(l,u){n=l,a=u}):(n=function(l){s(null,l)},a=function(l){s(l,null)});try{var o=qU();o.open("GET",e,!0),"responseType"in o&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(l){if(o.readyState===4)if(o.status===200||o.status===0)try{n(Pg._getBinaryFromXHR(o))}catch(u){a(new Error(u))}else a(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText))},t.progress&&(o.onprogress=function(l){t.progress({path:e,originalEvent:l,percent:l.loaded/l.total*100,loaded:l.loaded,total:l.total})}),o.send()}catch(l){a(new Error(l),null)}return r};rO.exports=Pg});var un,Ig,JU,ej,zg,iO=ae(()=>{un=Hr(Dn()),Ig=Hr(Hf());pn();JU=eO(),ej=nO(),zg=class extends un.default.Component{constructor(t){super(t),this.state={}}getConf=()=>{let t=`job,step_number,type,name,version,parameters
`,r="";return this.props.analyses.forEach(n=>{n=n.replace(/_job/,""),console.log("Getting config for "+n),JSON.parse(On(n,this.props.joblist_url,"application/json")).steps.forEach(s=>{s.task.configuration.length!==0&&s.task.configuration.forEach(o=>{r+=n+","+s.ordering+","+o.type+","+o.name+","+o.version+","+o.parameters+`
`})})}),t+r};returnJobConfig=()=>{let t=this.getConf();(0,Ig.saveAs)(new Blob(t.split()),this.props.uuid+".csv")};getSVGArea=t=>{var r=document.getElementById(t);let n=null;return r&&(n=r.innerHTML,n=n.replace(/<g id="toggle".+?<\/g>/,""),n=n.replace(/<g id="buttons".+?<\/g>/,"")),n};returnZip=async()=>{let t=new JU;Object.keys(this.props.results_files).forEach(a=>{Object.keys(this.props.results_files[a]).forEach(s=>{if(s.includes(".png")||s.includes(".jpg")||s.includes(".jpeg")||s.includes(".gif")){let l=this.props.files_url+"/submissions/"+s;var o=null;try{o=ej.getBinaryContent(l)}catch{console.log("Could not get image data for zip: "+s)}t.file(s,o,{binary:!0})}else t.file(s,this.props.results_files[a][s])})}),t.file("job_configuration.csv",this.getConf());var r=this.getSVGArea("sequence_plot");r&&t.file("seq_annotation.svg",r),r=this.getSVGArea("psipred_horiz"),r&&t.file("psipred_cartoon.svg",r),r=this.getSVGArea("disorder_svg"),r&&t.file("disorder_precision.svg",r);let n=await t.generateAsync({type:"blob"});(0,Ig.saveAs)(n,this.props.uuid+".zip")};packageJobDetails=()=>{};getFile=t=>{Object.keys(this.props.results_files).forEach(r=>{Object.keys(this.props.results_files[r]).forEach(n=>{console.log("Getting "+n),n.includes(t.target.value)&&(0,Ig.saveAs)(new Blob(this.props.results_files[r][n].split()),n)})})};createDownloadLinks=(t,r,n)=>{let a=[];return a.push(un.default.createElement("h5",{key:t},n)),t++,r.forEach(s=>{a.push(un.default.createElement("button",{className:"fake-link",key:t,onClick:this.getFile,value:s[0]},s[1])),t++,a.push(un.default.createElement("br",{key:t})),t++}),[a,t]};renderDownloads=()=>{let t=[],r=0;return this.props.struct_job_names.forEach(n=>{let a=[];this.props.analyses.includes(n+"_job")&&(n===this.props.job_strings.metsite.varName&&(a=this.createDownloadLinks(r,[[".MetPred","Metsite PDB"],[".Metpred","Mesite Predictions"]],this.props.job_strings.metsite.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.hspred.varName&&(a=this.createDownloadLinks(r,[["initial.pdb","HSPred First PDB File"],["second.pdb","HSPred Second PDB File"],[".out","HSPRed Predictions"]],this.props.job_strings.hspred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.memembed.varName&&(a=this.createDownloadLinks(r,[[".pdb","PDB Embedding"]],this.props.job_strings.memembed.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.merizo.varName&&(a=this.createDownloadLinks(r,[[".pdb2",this.props.job_strings.merizo.shortName+" Annotated PDB"],[".dom_pdb",this.props.job_strings.merizo.shortName+" Domain PDB files"],[".merizo",this.props.job_strings.merizo.shortName+" Boundaries"]],this.props.job_strings.merizo.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.merizosearch.varName&&(a=this.createDownloadLinks(r,[[".pdb2",this.props.job_strings.merizo.shortName+" Annotated PDB"],[".dom_pdb",this.props.job_strings.merizo.shortName+" Domain PDB files (all)"],["_segment.tsv",this.props.job_strings.merizo.shortName+" Segmenting Result"],["_search.tsv",this.props.job_strings.merizo.shortName+" Significant Results"],["_search_insignificant.tsv",this.props.job_strings.merizo.shortName+" Insignificant Results"],["search_multi_dom.tsv",this.props.job_strings.merizo.shortName+" Multidomain Matches"]],this.props.job_strings.merizo.shortName+" DOWNLOADS"),t.push(a[0])),r=a[1])}),this.props.trans_job_names.forEach(n=>{let a=[];this.props.analyses.includes(n+"_job")&&(n===this.props.job_strings.gsrcl.varName&&(a=this.createDownloadLinks(r,[[".svg","SVG Image"],[".png","PNG Image"],[".csv","Cell Probabilities"]],this.props.job_strings.gsrcl.shortName+" DOWNLOADS"),t.push(a[0])),r=a[1])}),this.props.seq_job_names.forEach(n=>{let a=[];this.props.analyses.includes(n+"_job")&&((n===this.props.job_strings.psipred.varName||n===this.props.job_strings.dmp.varName)&&(a=this.createDownloadLinks(r,[[".horiz","Horiz Format Output"],[".ss2","SS2 Format Output"]],this.props.job_strings.psipred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.pgenthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.pgenthreader.shortName+" Hits"]],this.props.job_strings.pgenthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.disopred.varName&&(a=this.createDownloadLinks(r,[[".comb","COMB Format Output"],[".pbdat","PBDAT Format Output"]],this.props.job_strings.disopred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.memsatsvm.varName&&(a=this.createDownloadLinks(r,[[".memsat_svm",this.props.job_strings.memsatsvm.shortName+" text format"]],this.props.job_strings.memsatsvm.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmp.varName&&(a=this.createDownloadLinks(r,[[".con",this.props.job_strings.dmp.shortName+" Contact List"]],this.props.job_strings.dmp.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.genthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.genthreader.shortName+" Hits"]],this.props.job_strings.genthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.pdomthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.pdomthreader.shortName+" Hits"]],this.props.job_strings.pdomthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmpfold.varName&&(a=this.createDownloadLinks(r,[[".pdb","PDB Model"]],this.props.job_strings.dmpfold.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.s4pred.varName&&(a=this.createDownloadLinks(r,[[".horiz","Horiz Format Output"],[".ss2","SS2 Format Output"]],this.props.job_strings.s4pred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dompred.varName&&(a=this.createDownloadLinks(r,[[".boundary",this.props.job_strings.dompred.shortName+" Boundaries"]],this.props.job_strings.dompred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.ffpred.varName&&(a=this.createDownloadLinks(r,[[".featcfg",this.props.job_strings.ffpred.shortName+" Predicted Features"],[".full_formatted",this.props.job_strings.ffpred.shortName+" Predictions"]],this.props.job_strings.ffpred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.mempack.varName&&(a=this.createDownloadLinks(r,[["_LIPID_EXPOSURE.results",this.props.job_strings.mempack.shortName+" Lipid Exposure Results"],["_CONTACT_DEF1.results",this.props.job_strings.mempack.shortName+" Contacts"]],this.props.job_strings.mempack.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmpmetal.varName&&(a=this.createDownloadLinks(r,[[".dmpmetal",this.props.job_strings.dmpmetal.shortName+" Residue Results"]],this.props.job_strings.dmpmetal.shortName+" DOWNLOADS"),t.push(a[0])),r=a[1])}),un.default.createElement("div",null,t)};render(){return un.default.createElement("div",{className:"box box-warning",id:"downloads_widget"},un.default.createElement("div",{className:"box-header with-border"},un.default.createElement("h5",{className:"box-title"},"Downloads"),un.default.createElement("div",{className:"box-tools pull-right"},un.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},un.default.createElement("i",{className:"fa fa-minus"})))),un.default.createElement("div",{className:"box-body"},un.default.createElement("h5",null,"RESULTS ZIP FILE"),un.default.createElement("button",{className:"fake-link",onClick:this.returnZip},"Get Zip File"),un.default.createElement("br",null),un.default.createElement("br",null),un.default.createElement("h5",null,"JOB CONFIGURATION"),un.default.createElement("button",{className:"fake-link",onClick:this.returnJobConfig},"Get Job Details"),un.default.createElement("br",null),un.default.createElement("br",null),this.props.results_files?this.renderDownloads():null),this.props.waiting&&un.default.createElement("div",{className:"overlay processing"},un.default.createElement("i",{className:"fa fa-refresh fa-spin"})))}}});var It,Fg,aO=ae(()=>{It=Hr(Dn()),Fg=class extends It.default.Component{constructor(t){super(t),this.state={analyses:["psipred_job"],seqStart:1,seqStop:this.props.seq.length,bioDomModellerKey:""},this.timer=null}handleResubmit=t=>{t.preventDefault();let r=this.props.seq.slice(this.state.seqStart-1,this.state.seqStop);console.log("PREPPING RESUBMIT");let n=this.props.name,a=this.props.email;this.props.handleResubmit(this.state.analyses,r,n,a,t)};componentDidUpdate(){}triggerStartChange=t=>{t.length===0&&this.setState({seqStart:1}),t>this.state.seqStop&&this.setState({seqStart:this.state.seqStop})};triggerStopChange=t=>{t.length===0||t>this.props.seq.length?this.setState({seqStop:this.props.seq.length}):t<this.state.seqStart&&this.setState({seqStop:this.state.seqStart})};handleChange=t=>{if(t.target.name==="bioserf_domserf_modeller_key"&&this.setState({bioDomModellerKey:t.target.value,bioserf_modeller_key:t.target.value,domserf_modeller_key:t.target.value}),t.target.name==="start_coord"){clearTimeout(this.timer);let r=" ";r=parseInt(t.target.value),(r&&r>0||!r)&&(r||(r=""),this.setState({seqStart:r}),this.timer=setTimeout(this.triggerStartChange.bind(null,r),1e3))}if(t.target.name==="stop_coord"){clearTimeout(this.timer);let r="";r=parseInt(t.target.value),(r&&r>0||!r)&&(r||(r=""),this.setState({seqStop:r}),this.timer=setTimeout(this.triggerStopChange.bind(null,r),1e3))}};render(){return It.default.createElement("div",{className:"box box-success collapsed-box",id:"resubmission_widget"},It.default.createElement("div",{className:"box-header with-border"},It.default.createElement("h5",{className:"box-title"},"Segment Resubmission"),It.default.createElement("div",{className:"box-tools pull-right"},It.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},It.default.createElement("i",{className:"fa fa-plus"})))),It.default.createElement("div",{className:"box-body"},It.default.createElement("br",null),It.default.createElement("form",{method:"Post",className:"form",intro:"slide",outro:"slide",onSubmit:this.handleResubmit},It.default.createElement("br",null),It.default.createElement("h5",{"data-toggle":"tool-tip",title:"Select subsequence regions from your current result"},"Select subsequence region"),"Start Coordinate ",It.default.createElement("input",{type:"text",id:"start_coord",name:"start_coord",className:"sequence_coord",value:this.state.seqStart,onChange:this.handleChange})," - Stop Coordinate ",It.default.createElement("input",{id:"stop_coord",type:"text",name:"stop_coord",className:"sequence_coord",value:this.state.seqStop,onChange:this.handleChange}),It.default.createElement("div",{className:"form-group"},It.default.createElement("br",null),It.default.createElement("h5",null,"Choose prediction methods (hover for short description)"),It.default.createElement("table",{className:"full-width-table"},It.default.createElement("tbody",null,It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.psipred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.psipred.jobName,value:this.props.job_strings.psipred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.psipred.jobName)}),It.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.psipred.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.disopred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_diospred_job",name:this.props.job_strings.disopred.jobName,value:this.props.job_strings.disopred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.disopred.jobName)}),It.default.createElement("label",{htmlFor:"id_disopred_job"},"\xA0",this.props.job_strings.disopred.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memsatsvm.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_memsatsvm_job",name:this.props.job_strings.memsatsvm.jobName,value:this.props.job_strings.memsatsvm.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.memsatsvm.jobName)}),It.default.createElement("label",{htmlFor:"id_memsatsvm_job"},"\xA0",this.props.job_strings.memsatsvm.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pgenthreader.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_pgenthreader_job",name:this.props.job_strings.pgenthreader.jobName,value:this.props.job_strings.pgenthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.pgenthreader.jobName)}),It.default.createElement("label",{htmlFor:"id_pgenthreader_job"},"\xA0",this.props.job_strings.pgenthreader.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmp.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dmp_job",name:this.props.job_strings.dmp.jobName,value:this.props.job_strings.dmp.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmp.jobName)}),It.default.createElement("label",{htmlFor:"id_dmp_job"},"\xA0",this.props.job_strings.dmp.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.mempack.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_mempack_job",name:this.props.job_strings.mempack.jobName,value:this.props.job_strings.mempack.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.mempack.jobName)}),It.default.createElement("label",{htmlFor:"id_mempack_job"},"\xA0",this.props.job_strings.mempack.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.genthreader.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_genthreader_job",name:this.props.job_strings.genthreader.jobName,value:this.props.job_strings.genthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.genthreader.jobName)}),It.default.createElement("label",{htmlFor:"id_genthreader_job"},"\xA0",this.props.job_strings.genthreader.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pdomthreader.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_pdomthreader_job",name:this.props.job_strings.pdomthreader.jobName,value:this.props.job_strings.pdomthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.pdomthreader.jobName)}),It.default.createElement("label",{htmlFor:"id_pdomthreader_job"},"\xA0",this.props.job_strings.pdomthreader.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpfold.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dmpfold_job",name:this.props.job_strings.dmpfold.jobName,value:this.props.job_strings.dmpfold.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmpfold.jobName)}),It.default.createElement("label",{htmlFor:"id_dmpfold_job"},"\xA0",this.props.job_strings.dmpfold.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dompred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dompred_job",name:this.props.job_strings.dompred.jobName,value:this.props.job_strings.dompred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dompred.jobName)}),It.default.createElement("label",{htmlFor:"id_dompred_job"},"\xA0",this.props.job_strings.dompred.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.s4pred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_s4pred_job",name:this.props.job_strings.s4pred.jobName,value:this.props.job_strings.s4pred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.s4pred.jobName)}),It.default.createElement("label",{htmlFor:"id_s4pred_job"},"\xA0",this.props.job_strings.s4pred.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.ffpred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_ffpred_job",name:this.props.job_strings.ffpred.jobName,value:this.props.job_strings.ffpred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.ffpred.jobName)}),It.default.createElement("label",{htmlFor:"id_ffpred_job"},"\xA0",this.props.job_strings.ffpred.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpmetal.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dmpmetal_job",name:this.props.job_strings.dmpmetal.jobName,value:this.props.job_strings.dmpmetal.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmpmetal.jobName)}),It.default.createElement("label",{htmlFor:"id_dmpmetal_job"},"\xA0",this.props.job_strings.dmpmetal.shortName)),It.default.createElement("td",null))))),It.default.createElement("div",{className:"text-right"},It.default.createElement("input",{value:"Resubmit",type:"submit",className:"btn btn-primary"})),It.default.createElement("br",null))),this.props.waiting&&It.default.createElement("div",{className:"overlay processing"},It.default.createElement("i",{className:"fa fa-refresh fa-spin"})))}}});function sO(e){return e==="MODELIRANJE"}function tj(e){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(t)}function rj(e){var t=/^[0-9]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(t)}function nj(e){var t=/^[0-9]+$/;return!!e.match(t)}function yh(e){var t=/^[A-Z]$/;return!!e.match(t)}function oO(e,t,r){return e.length===0?"You must provide a protein sequence or MSA for sequence analysis submission":e.length<30?"Your sequence is too short for analysis. Minimum size is 30 residues":e.length>1500?"Your sequence is too long to process. Maximum size is 1500 residues":e.length>500&&t.includes("dmpfold")?"DMPfold jobs have a maximum sequence length of 500 residues.":e.length>500&&t.includes("dmp")?"DeepMetaPSICOV jobs have a maximum sequence length of 500 residues.":(e.match(/A|T|C|G|U|N|a|t|c|g|u|n/g)||[]).length/e.length>.95?"Your sequence appears to be nucleotide sequence. This service requires protein sequence as input":/[^ACDEFGHIKLMNPQRSTVWYX-]+/i.test(e)?"Your sequence contains invalid characters":null}var lO,uO=ae(()=>{lO=(e,t,r,n)=>{let a=(p,_)=>p.filter(x=>_.includes(x)).length,s={send:!1,message:null,result_page:"seq",jobs:null,pdbData:"",transData:null},o=e.seq_job_names,l=e.struct_job_names,u=e.trans_job_names;if(a(t,o)>0&&a(t,l)>0)return s.message="You can not submit both sequence and structure analysis jobs",s;if(a(t,o)>0&&a(t,u)>0)return s.message="You can not submit both sequence and transcriptomics analysis jobs",s;if(a(t,l)>0&&a(t,u)>0)return s.message="You can not submit both transcriptomics and structure analysis jobs",s;if(a(t,o)===0&&a(t,l)===0&&a(t,u)===0)return s.message="You must select at least one analysis job",s;if(t.includes("bioserf")&&!sO(e.bioserf_modeller_key))return s.message="You have not provided a valid MODELLER key for BioSerf. Contact the Sali lab for a MODELLER licence.",s;if(t.includes("domserf")&&!sO(e.domserf_modeller_key))return s.message="You have not provided a valid MODELLER key for DomSerf. Contact the Sali lab for a MODELLER licence.",s;if(!/^[\x00-\x7F]+$/.test(e.name))return s.message="Please restrict job names to alphanumeric characters and simple punctuation",s;if(e.email.length===0){var g=window.confirm(`No email address was provided.

Analyses can be long running and we recommend users leave an
email address to receive completion alerts. Leaving an email address
also allows us to contact you if there are any problems with you analyses

Press OK to submit without an email address.`);if(g===!0)e.email="dummy@dummy.com";else return s}if(!tj(e.email))return s.message="You must provide a valid email address",s;if(e.name.length===0)return s.message="You must provide a short identifying name for your submission",s;if(a(t,l)>0&&(s.result_page="struct"),a(t,u)>0&&(s.result_page="trans"),s.result_page==="seq"){if(t.length===13)return s.message="You can't select all sequence analyses",s;let p=e.seq.split(">").length-1,_=e.seq.split(`
`);if(p<=1){let x="";if(_.forEach(function(S){S.startsWith(">")||(x+=S)}),x.length<1)return s.message="No sequence provided",s;s.message=oO(x,t),e.seq=x}else{let x=0,S=0,w={};_.forEach(function(v){v.startsWith(">")?(x+=1,w[x]=""):(w[x]+=v,S+=v.length)}),console.log(w);let c=w[1].length*x;if(S!==c)return s.message="MSA Sequences must be of same length",s;for(let v in w)if(s.message+=oO(w[v]),s.message>0)return s;e.seq=w[1]}if(rj(e.dompred_e_value_cutoff)||(s.message="E Value cutoff for Dompred must be a number"),nj(e.dompred_psiblast_iterations)||(s.message="PSI-BLAST iterations for Dompred must be an integer"),s.message)return s}else if(s.result_page==="struct"){if(t.length===4)return s.message="You can't select all structure analyses",s;if(!yh(e.metsite_chain_id))return s.message="Metsite chain ID must be a single letter",s;if(!yh(e.hspred_protein_1))return s.message="HSPred Protein 1 must be a single letter",s;if(!yh(e.hspred_protein_2))return s.message="HSPred Protein 2 must be a single letter",s;if(!yh(e.merizo_chain))return s.message="Merizo chain ID must be a single letter",s;if(!yh(e.merizosearch_chain))return s.message="Merizo Search chain ID be a single letter",s;if(r&&!/ATOM\s+\d+/i.test(r))return s.message="Your file does not look like a plain text ascii pdb file. This service does not accept .gz or xml format pdb files",s}if(t.includes("pgenthreader")||t.includes("dompred")||t.includes("pdomthreader")||t.includes("bioserf")||t.includes("domserf")||t.includes("metapsicov")){let p=t.indexOf("psipred");p>-1&&t.splice(p,1)}if(t.includes("bioserf")){let p=t.indexOf("pgenthreader");p>-1&&t.splice(p,1)}if(t.includes("domserf")){let p=t.indexOf("pdomthreader");p>-1&&t.splice(p,1)}return s.send=!0,s.message="all tests passed",s.pdbData=r,s.transData=n,s.jobs=t,s.seq=e.seq,s}});async function ij(e){return await new Promise(r=>{let n=new FileReader;n.onload=a=>r(n.result),n.readAsText(e)})}var kr,Gw,Bg,fO=ae(()=>{kr=Hr(Dn());kC();OC();Qk();qk();iO();aO();uO();pn();Gw=class extends kr.default.Component{constructor(t){super(t);let r="",n="",a=null,s=null,o="",l="";this.props.location==="Dev"&&(o="test",l="a@b.com"),this.state={displayType:"input",displayTime:!0,formSelectedOption:"SeqForm",seq_job_names:["psipred","disopred","pgenthreader","metapsicov","mempack","memsatsvm","genthreader","dompred","pdomthreader","ffpred","dmp","dmpfold","s4pred","dmpmetal"],struct_job_names:["metsite","hspred","memembed","merizo","merizosearch"],trans_job_names:["gsrcl"],analyses:["psipred_job"],jobs:[],input_data:r,seq:n,name:o,email:l,pdbData:a,transData:s,waiting:!1,uuid:null,bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",merizo_iterate:"FALSE",merizo_chain:"A",merizosearch_db:"ted",merizosearch_chain:"A",gsrcl_tissue:"QuakeSmartseq2LimbMuscle",gsrcl_log:"1",svgs:null,results_files:!1,config_data:null,resubmit:!1,results_map:["png","gif","jpg","horiz","ss2","pbdat","comb","memsat_svm","presult","align","presults","dom_presults","parseds","featcfg","full_formatted","csv","ann","aln","con","pdb","merizo","idx","boundary","Metpred","MetPred","out","results","pdb2","pdf","dmpmetal","dom_pdb","tsv","npy","txt","svg"],job_strings:{psipred:{shortName:"PSIPRED",fullName:"PSIPRED 4.0",describedName:"PSIPRED 4.0 (Predict Secondary Structure)",varName:"psipred",jobName:"psipred_job",tooltip:"Predict helices, beta sheets and coils from AA sequence"},disopred:{shortName:"DISOPRED3",fullName:"DISOPRED3",describedName:"DISOPRED3 (Disorder Prediction)",varName:"disopred",jobName:"disopred_job",tooltip:"Detect intrinsically disordered regions in proteins"},pgenthreader:{shortName:"pGenTHREADER",fullName:"pGenTHREADER",describedName:"pGenTHREADER (Profile Based Fold Recognition)",varName:"pgenthreader",jobName:"pgenthreader_job",tooltip:"Protein fold recognition with protein templates of known structure"},memsatsvm:{shortName:"MEMSAT-SVM",fullName:"MEMSAT-SVM",describedName:"MEMSAT-SVM (Membrane Helix Prediction)",varName:"memsatsvm",jobName:"memsatsvm_job",tooltip:"Calculate length, location and topology of transmembrane helices"},dmp:{shortName:"DeepMetaPSICOV",fullName:"DeepMetaPSICOV 1.0",describedName:"DeepMetaPSICOV 1.0 (Structural Contact Prediction)",varName:"dmp",jobName:"dmp_job",tooltip:"Predict inter-residue contacts using a convolutional neural network"},mempack:{shortName:"MEMPACK",fullName:"MEMPACK",describedName:"MEMPACK (TM Topology and Helix Packing)",varName:"mempack",jobName:"mempack_job",tooltip:"Predict membrane helix packing"},genthreader:{shortName:"genTHREADER",fullName:"genTHREADER",describedName:"genTHREADER (Rapid Fold Recognition)",varName:"genthreader",jobName:"genthreader_job",tooltip:"Fast fold recognition method using template structures"},pdomthreader:{shortName:"pDomTHREADER",fullName:"pDomTHREADER",describedName:"pDomTHREADER (Protein Domain Fold Recognition)",varName:"pdomthreader",jobName:"pdomthreader_job",tooltip:"Fast protein domain fold recognition using template domain structures"},dmpfold:{shortName:"DMPFold",fullName:"DMPFold 2.0",describedName:"DMPFold 2.0 (Protein Structure Prediction)",varName:"dmpfold",jobName:"dmpfold_job",tooltip:"Accurate structure prediction using residue-residue contacts"},s4pred:{shortName:"S4Pred",fullName:"S4Pred",describedName:"S4Pred (Single Sequence SS Prediction)",varName:"s4pred",jobName:"s4pred_job",tooltip:"Predict Secondary Structure Prediction with a single sequence"},dompred:{shortName:"DomPred",fullName:"DomPred",describedName:"DomPred (Domain Boundary Prediction)",varName:"dompred",jobName:"dompred_job",tooltip:"Predict protein structural domain boundaries"},ffpred:{shortName:"FFPred",fullName:"FFPred 4",describedName:"FFPred 4 (Eurkaryotic Function Prediction)",varName:"ffpred",jobName:"ffpred_job",tooltip:"Predict protein function, using Gene Ontology annotations"},metsite:{shortName:"Metsite",fullName:"Metsite",describedName:"Metsite (Protein-Metal Ion Contact Prediction)",varName:"metsite",jobName:"metsite_job",tooltip:"Detects metal-binding residues from protein structure"},hspred:{shortName:"HSPred",fullName:"HSPred",describedName:"HSPred (Protein-Protein Hotspot Residue Prediction)",varName:"hspred",jobName:"hspred_job",tooltip:"Predicts protein-protein interaction hotspot residues"},memembed:{shortName:"MEMEMBED",fullName:"MEMEMBED",describedName:"MEMEMBED (Membrane Protein Orientation Prediction)",varName:"memembed",jobName:"memembed_job",tooltip:"Orientate membrane proteins within the lipid bilayer"},merizo:{shortName:"Merizo",fullName:"Merizo",describedName:"Merizo (Protein domain segmentation)",varName:"merizo",jobName:"merizo_job",tooltip:"Fast and accurate protein domain prediction"},merizosearch:{shortName:"Merizo Search",fullName:"Merizo Search",describedName:"Merizo Search (Domain segmentation and identification)",varName:"merizosearch",jobName:"merizosearch_job",tooltip:"Fast domain segmentation and idenftication"},dmpmetal:{shortName:"DMPmetal",fullName:"DMPmetal",describedName:"DMPmetal (Metal Binding Site Prediction)",varName:"dmpmetal",jobName:"dmpmetal_job",tooltip:"llm based prediction of metal binding sites"},gsrcl:{shortName:"GsRCL",fullName:"GsRCL",describedName:"GsRCL (Cell Type Classifiction)",varName:"gsrcl",jobName:"gsrcl_job",tooltip:"Cell Type Classification using contrastive learning"}}}}handleReset=()=>{this.setState({analyses:["psipred_job"],jobs:[],input_data:"",seq:"",name:"",email:"",waiting:!1,uuid:null,bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",pdbData:null,transData:null,metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",merizo_iterate:"FALSE",merizo_chain:"A",merizosearch_db:"ted",merizosearch_iterate:"TRUE",merizosearch_chain:"A",gsrcl_tissue:"QuakeSmartseq2LimbMuscle",gsrcl_log:"1",annotation_svg:null,results_files:!1,config_data:null,resubmit:!1})};updateResultsFiles=t=>{this.setState({results_files:t})};updateSVGs=t=>{this.setState({svgs:t})};handleResubmit=(t,r,n,a,s)=>{this.setState({analyses:t,jobs:[],input_data:"",seq:r,name:n,email:a,waiting:!1,uuid:null,formSelectedOption:"SeqForm",bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",pdbData:"",transData:"",metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",annotation_svg:null,results_files:!1,config_data:null,resubmit:!0}),this.handleSubmit(s)};updateSeq=t=>{this.setState({seq:t})};setTestSeq=()=>{let t="MLELLPTAVEGVSQAQITGRPEWIWLALGTALMGLGTLYFLVKGMGVSDPDAKKFYAITTLVPAIAFTMYLSMLLGYGLTMVPFGGEQNPIYWARYADWLFTTPLLLLDLALLVDADQGTILALVGADGIMIGTGLVGALTKVYSYRFVWWAISTAAMLYILYVLFFGFTSKAESMRPEVASTFKVLRNVTVVLWSAYPVVWLIGSEGAGIVPLNIETLLFMVLDVSAKVGFGLILLRSRAIFGEAEAPEPSAGDGAAATSD";this.setState({seq:t,input_data:t})};setDMPMetSeq=()=>{let t="IDVLLGADDGSLAFVPSEFSISPGEKIVFKNNAGFPHNIVFDEDSIPSGVDASKISMSEEDLLNAKGETFEVALSNKGEYSFYCSPHQGAGMVGKVTVN";this.setState({seq:t,input_data:t})};updateResubmit=t=>{this.setState({resubmit:t})};updateConfig=t=>{this.setState({config_data:t})};updateWaiting=t=>{this.setState({waiting:t})};updateUuid=t=>{this.setState({uuid:t})};updateName=t=>{this.setState({name:t})};updateForm=t=>{this.setState({formSelectedOption:t})};updateAnalyses=t=>{this.setState({analyses:t})};updateDisplayTime=t=>{this.setState({displayTime:t})};componentDidUpdate(){}handleInputChange=t=>{this.handleReset(),this.setState({formSelectedOption:t.target.value,analyses:[]})};handleStructChange=t=>{var r=t.target.value;if(t.target.name==="job_name")this.setState({name:r});else if(t.target.name==="email")this.setState({email:r});else{let n=this.state.analyses,a=this.state.analyses.indexOf(t.target.value);a>-1?n.splice(a,1):n.push(t.target.value),this.setState({analyses:n})}this.state.analyses.length===4&&alert("You have selected every analysis method. We don't allow submissions which select all analyses. Please consider more carefully which predictions you require.")};handleSeqChange=t=>{var r=t.target.value;if(t.target.name==="input_data"){r=r.replace(/\r/g,""),this.setState({input_data:r});var n=(r.match(/>/g)||[]).length;if(n===1){var a=/^>(\S+).*\n([\S\s]+)/,s=a.exec(r);s?this.setState({name:s[1],seq:s[2].toUpperCase()}):this.setState({seq:r.toUpperCase()})}else this.setState({seq:r.toUpperCase()})}else if(t.target.name==="job_name")this.setState({name:r});else if(t.target.name==="email")this.setState({email:r});else{let o=this.state.analyses,l=this.state.analyses.indexOf(t.target.value);l>-1?o.splice(l,1):o.push(t.target.value),this.setState({analyses:o}),this.state.analyses.length===12&&alert("You have selected nearly every analysis. This job may take in excess of 12 hours. Please consider submitting seperate jobs ")}this.state.analyses.length===13&&alert("You have selected every analysis method. We don't allow submissions which select all analyses. Please consider more carefully which predictions you require.")};handleSidebarChange=t=>{var r={};r[t.target.name]=t.target.value,this.setState(r)};handleSubmit=async t=>{t.preventDefault();let r=this.state.analyses;r=r.map(l=>l.replace("_job",""));let n=null,a=null,s=null;try{n=document.getElementById("pdbFile").files[0],n&&(a=await ij(n))}catch(l){a="",l.message.includes("FileReader.readAsText is not an object")&&alert("File selected not valid")}try{s=document.getElementById("transFile").files[0]}catch(l){console.log(l.message),l.message.includes("document.getElementById(...) is null")||alert("Input expression matrix could not be read."+l)}let o=lO(this.state,r,a,s);this.state.seq=o.seq,o.send?this.setState({jobs:o.jobs,pdbData:o.pdbData,transData:o.transData,displayType:"results"}):alert(o.message)};componentDidMount(){console.log("INCOMING UUID: "+this.props.incoming_uuid),this.props.incoming_uuid&&this.setState({displayType:"results"})}render(){return kr.default.createElement("div",{className:"row"},this.state.displayType==="input"?kr.default.createElement("div",null,kr.default.createElement("div",{className:"col-md-9"},kr.default.createElement(g0,{...this.state,...this.props,handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,handleStructChange:this.handleStructChange,handleReset:this.handleReset,handleSeqChange:this.handleSeqChange,setTestSeq:this.setTestSeq,setDMPMetSeq:this.setDMPMetSeq})),kr.default.createElement("div",{className:"col-md-3"},kr.default.createElement(m0,{...this.state,handleSidebarChange:this.handleSidebarChange}))):kr.default.createElement("div",null,kr.default.createElement("div",{className:"col-md-9"},kr.default.createElement(Og,{...this.state,...this.props,updateWaiting:this.updateWaiting,updateResultsFiles:this.updateResultsFiles,updateSVGs:this.updateSVGs,updateName:this.updateName,updateUuid:this.updateUuid,updateConfig:this.updateConfig,updateResubmit:this.updateResubmit,updateForm:this.updateForm,updateSeq:this.updateSeq,updateAnalyses:this.updateAnalyses,updateDisplayTime:this.updateDisplayTime})),kr.default.createElement("div",{className:"col-md-3"},this.state.displayTime===!0&&kr.default.createElement(Ng,{...this.state,...this.props}),kr.default.createElement(zg,{...this.state,...this.props}),this.state.formSelectedOption==="SeqForm"&&kr.default.createElement(Fg,{...this.state,...this.props,handleResubmit:this.handleResubmit}))))}},Bg=class extends kr.default.Component{constructor(t){super(t);let r=window.location.href,n=null;window.location.href.includes("&uuid=")&&(r=window.location.href.split("&uuid=")[0],n=window.location.href.split("&uuid=")[1]),console.log("PAGE LOAD location : "+window.location.hostname),console.log("PAGE LOAD href: "+r),console.log("PAGE LOAD uuid: "+n),this.state={suspension_message:null,server_message:null,endpoints_url:null,submit_url:null,times_url:null,joblist_url:null,files_url:null,gears_svg:"http://bioinf.cs.ucl.ac.uk/psipred_beta/static/images/gears.svg",main_url:"http://bioinf.cs.ucl.ac.uk",app_path:"/psipred_beta",location:"Dev",gear_string:'<object width="140" height="140" type="image/svg+xml" data=""></object>',incoming_uuid:n,href:r};let a=Xf(this.state.href,window.location.hostname,this.state.main_url,this.state.app_path);this.state={...this.state,...a}}render(){return kr.default.createElement("section",{className:"content"},kr.default.createElement("div",{id:"psipred_site"},this.state.location==="Dev"&&kr.default.createElement("div",null,kr.default.createElement("h3",{className:"form_error"},"WARNING: This is Dev")),this.state.location==="Staging"&&kr.default.createElement("div",null,kr.default.createElement("h3",{className:"form_error"},"WARNING: This is Staging")),this.state.server_message!==null&&kr.default.createElement("div",null,kr.default.createElement("h3",{className:"form_error"},this.state.server_message)),this.state.suspension_message!==null&&kr.default.createElement("div",null,kr.default.createElement("h3",{className:"form_error"},this.state.suspension_message)),kr.default.createElement(Gw,{...this.state}),kr.default.createElement("div",{className:"row"},kr.default.createElement("div",{className:"col-md-9"}),kr.default.createElement("div",{className:"col-md-3"})),kr.default.createElement("div",{className:"helixy"},kr.default.createElement("img",{alt:"It's Helixy y'all!",src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/helixy_png_blank.png"}))))}}});var xt,Ug,dO=ae(()=>{xt=Hr(Dn());fO();Ug=class extends xt.default.Component{constructor(t){super(t),this.state={here:"#"}}render(){return xt.default.createElement("div",{className:"wrapper"},"  ",xt.default.createElement("header",{className:"main-header"},xt.default.createElement("a",{href:"/",className:"logo"},xt.default.createElement("span",{className:"logo-mini"},xt.default.createElement("img",{src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/psipred_logomark.svg",alt:"PSIPRED logomark"})),xt.default.createElement("span",{className:"logo-lg"},xt.default.createElement("img",{src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/psipred_logo.svg",alt:"PSIPRED"}))),xt.default.createElement("nav",{className:"navbar navbar-static-top",role:"navigation"},xt.default.createElement("a",{href:"#",className:"sidebar-toggle","data-toggle":"push-menu",role:"button",style:{paddingTop:"18px"}},xt.default.createElement("span",{className:"sr-only"},"Toggle navigation")),xt.default.createElement("div",{className:"container-fluid"},xt.default.createElement("div",{className:"navbar-header",style:{paddingTop:"5px"}},xt.default.createElement("h4",{className:"psipred_title"},xt.default.createElement("b",null,"UCL Department of Computer Science: Bioinformatics Group"))),xt.default.createElement("div",{className:"collapse navbar-collapse",id:"navbar-collapse"},xt.default.createElement("div",{className:"nav navbar-nav navbar-right"},xt.default.createElement("a",{href:"https://www.ucl.ac.uk/",alt:"UCL"},xt.default.createElement("img",{alt:"UCL Logo",height:"50px",src:"http://cms.cs.ucl.ac.uk/typo3/fileadmin/bioinf/templates/images/ucl-logo.svg"}))))))),xt.default.createElement("aside",{className:"main-sidebar"},xt.default.createElement("section",{className:"sidebar"},xt.default.createElement("ul",{className:"sidebar-menu"},xt.default.createElement("li",{className:"header"},"MAIN NAVIGATION"),xt.default.createElement("section",{className:"sidebar"},xt.default.createElement("ul",{className:"sidebar-menu tree","data-widget":"tree"},xt.default.createElement("ul",{className:"sidebar-menu"},xt.default.createElement("li",{className:"treeview"},xt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/index.html"},xt.default.createElement("i",{className:"fa fa-info"}),xt.default.createElement("span",null,xt.default.createElement("b",null,"Introduction")))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Contact.html"},xt.default.createElement("i",{className:"fa fa-keyboard-o"})," ",xt.default.createElement("span",null,"Contact"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Software_Downloads.html"},xt.default.createElement("i",{className:"fa fa-download"})," ",xt.default.createElement("span",null,"Downloads & Branding")))),xt.default.createElement("a",{href:this.state.here},xt.default.createElement("i",{className:"fa fa-th"})," ",xt.default.createElement("span",null,"PSIPRED Team Links"),xt.default.createElement("span",{className:"pull-right-container"},xt.default.createElement("i",{className:"fa fa-angle-left pull-right"}))),xt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_People.html"},xt.default.createElement("i",{className:"fa fa-users"})," ",xt.default.createElement("span",null,"People"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_ProCovar.html"},xt.default.createElement("i",{className:"fa fa-archive"})," ",xt.default.createElement("span",null,"ProCovar"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Publications.html"},xt.default.createElement("i",{className:"fa fa-book"})," ",xt.default.createElement("span",null,"Publications"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Vacancies.html"},xt.default.createElement("i",{className:"fa fa-envelope-square"})," ",xt.default.createElement("span",null,"Vacancies")))))),xt.default.createElement("ul",{className:"sidebar-menu"},xt.default.createElement("li",{className:"treeview"},xt.default.createElement("a",{href:this.state.here},xt.default.createElement("i",{className:"fa fa-th"})," ",xt.default.createElement("span",null,"PSIPRED Workbench Links"),xt.default.createElement("span",{className:"pull-right-container"},xt.default.createElement("i",{className:"fa fa-angle-left pull-right"}))),xt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinf.cs.ucl.ac.uk/psipred/"},xt.default.createElement("i",{className:"fa fa-dashboard"})," ",xt.default.createElement("span",null,"PSIPRED Workbench"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_methods_overview.html"},xt.default.createElement("i",{className:"fa fa-list-ul"})," ",xt.default.createElement("span",null,"Workbench Overview"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_PSIPRED_citation.html"},xt.default.createElement("i",{className:"fa fa-file-text-o"})," ",xt.default.createElement("span",null,"Workbench Citation"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},xt.default.createElement("i",{className:"fa fa-question-circle-o"})," ",xt.default.createElement("span",null,"Help & Tutorials"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"https://www.youtube.com/@psipreducl"},xt.default.createElement("i",{class:"fa fa-youtube-play"})," ",xt.default.createElement("span",null,"YouTube Tutorials"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Web_Services.html"},xt.default.createElement("i",{className:"fa fa-server"})," ",xt.default.createElement("span",null,"REST API"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"https://github.com/psipred"},xt.default.createElement("i",{className:"fa fa-github"})," ",xt.default.createElement("span",null,"PSIPRED Github"))))))))))),xt.default.createElement("div",{className:"content-wrapper"},xt.default.createElement(Bg,null)),xt.default.createElement("footer",{className:"main-footer"},xt.default.createElement("div",{className:"pull-right hidden-xs"},xt.default.createElement("strong",null,"Copyright \xA9",xt.default.createElement("br",null))),"\xA0"))}}});var Hw={};Yh(Hw,{render:()=>aj});var cO,aj,Vw=ae(()=>{cO=Hr(Dn());dO();aj=()=>cO.default.createElement(Ug,null)});var xh,jg,hO=ae(()=>{xh=Hr(Dn());pn();pn();jg=class extends xh.default.Component{constructor(t){super(t);let r=window.location.href,n="http://bioinf.cs.ucl.ac.uk",a="/psipred_beta",s=null,o=null;if(console.log(r),window.location.href.includes("ann=")&&window.location.href.includes("aln=")){let u=window.location.href.split("?")[1];console.log(u);let g=u.split("&");o=g[0].slice(4),s=g[1].slice(4)}console.log("PAGE LOAD location : "+window.location.hostname),console.log("ALN:"+o),console.log("ANN:"+s);let l=Xf(r,window.location.hostname,n,a);l.ann=s,l.aln=o,this.align=xh.default.createRef(),this.state=l,this.aa_colours={A:"#d3f87f",V:"#b2f87f",I:"#97f87f",L:"#86f87f",M:"#7ff87f",F:"#7ff897",Y:"#7ff8d3",W:"#7fd3f8",H:"#7f97f8",R:"#7f7ff8",K:"#977ff8",N:"#d37ff8",Q:"#f87fd3",E:"#f87f97",D:"#f87f7f",S:"#f8867f",T:"#f8977f",G:"#f7b27f",P:"#f7d37f",C:"#f8f87f","-":"#ffffff"},this.ss_colours={C:"#ffffff",H:"#f87fd3",S:"#f8f87f"}}getAlignData(t,r){let n=On(t,this.state.files_url+"/submissions/"),a=On(r,this.state.files_url+"/submissions/");n=n.split(`
`),n=[{seq_name:n[0].slice(1),seq:n[1].split("")},{seq_name:n[2].slice(1),seq:n[3].split("")}],this.setState({aln_data:n,ann_data:a})}componentDidMount(){this.getAlignData(this.state.aln,this.state.ann)}transformAnnotations=(t,r,n)=>{let a={};a[t]=[],a[r]=[];for(let o=0;o<n;o++)a[t][o]="C",a[r][o]="C";let s=this.state.ann_data.split(`
`);return console.log(this.state.ann_data),s.forEach(o=>{let l=o.split(/\s+/);if(l.length===6){let u=parseInt(l[3])-1,g=parseInt(l[4])-1;a[l[1]].forEach((p,_)=>{_>=u&&_<=g&&(a[l[1]][_]=l[0])})}}),a};renderAlignment=()=>{let t=this.transformAnnotations(this.state.aln_data[1].seq_name,this.state.aln_data[0].seq_name,this.state.aln_data[1].seq.length),r="<h2>Alignment:</h2>";return r+="<h2>Query&nbsp;vs&nbsp;"+this.state.aln_data[0].seq_name+"</h2>",r+="<tbody class='residue'>",r+="<tr><td>"+this.state.aln_data[1].seq_name+" </td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach(n=>{r+='<td bgcolor="'+this.aa_colours[n.toUpperCase()]+'">'+n.toUpperCase()+"</td>"}),r+="</tr>",r+="<tr><td>Seconday&nbsp;Structure</td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach((n,a)=>{r+='<td bgcolor="'+this.ss_colours[t[this.state.aln_data[1].seq_name][a]]+'">&nbsp;</td>'}),r+="</tr>",r+="<tr><td>"+this.state.aln_data[0].seq_name+" </td>",r+="<td>:&nbsp</td>",this.state.aln_data[0].seq.forEach(n=>{r+='<td bgcolor="'+this.aa_colours[n.toUpperCase()]+'">'+n.toUpperCase()+"</td>"}),r+="</tr>",r+="<tr><td>Seconday&nbsp;Structure</td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach((n,a)=>{r+='<td bgcolor="'+this.ss_colours[t[this.state.aln_data[0].seq_name][a]]+'">&nbsp;</td>'}),r+="</tr>",r+='</tbody><br/><br/><h4>Residue&nbsp;colours&nbsp;as&nbsp;per&nbsp;<a href="https://academic.oup.com/peds/article/10/7/743/1593029">Taylor&nbsp;(1997)</h4></a>',r+="<h4>Annotations</h4>",r+=`<table><tbody class='residue'><tr><td>Helix:&nbsp</td><td bgcolor="`+this.ss_colours.H+'">&nbsp;</td></tr><tr><td>Strand:&nbsp</td><td bgcolor="'+this.ss_colours.S+'">&nbsp;</td></tr></tbody></table>',r};render(){return xh.default.createElement("div",{style:{overflow:"auto",height:"100%"}},this.state.aln_data?xh.default.createElement("table",{dangerouslySetInnerHTML:{__html:this.renderAlignment()}}):null)}}});var mO={};Yh(mO,{render:()=>sj});var pO,sj,gO=ae(()=>{pO=Hr(Dn());hO();sj=()=>pO.default.createElement(jg,null)});var ya,Rg,vO=ae(()=>{ya=Hr(Dn());pn();pn();pn();Rg=class extends ya.default.Component{constructor(t){super(t);let r=window.location.href,n="http://bioinf.cs.ucl.ac.uk",a="/psipred_beta",s=null,o=null;if(console.log(r),window.location.href.includes("aln=")){let g=window.location.href.split("?")[1].slice(4).split("&type=");s=g[0],o=g[1]}console.log("PAGE LOAD location : "+window.location.hostname),console.log("ALN:"+s);let l=Xf(r,window.location.hostname,n,a);l.aln=s,this.timer=null,this.state=l,this.state.uuid=null,this.state.model_uri=null,this.state.waiting=!0,this.state.aln=On("/submissions/"+s,this.state.files_url,"text/plain"),this.state.form_data=this.configurePost(this.state.aln,o),this.state.uuid=this.postModelJob(this.state.form_data),this.state.pdb_data=null,console.log("MODELLING JOB UUID: "+this.state.uuid),this.model=ya.default.createRef()}postModelJob=t=>{console.log("SENDING MODELLING JOB TO: "+this.state.submit_url);let r=null;var n=new XMLHttpRequest;return n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&n.status===201&&(r=JSON.parse(n.response))},n.open("POST",this.state.submit_url,!1),n.setRequestHeader("Accept","application/json"),n.send(t),n.onerror=function(){alert("Request failed")},r.UUID};configurePost=(t,r)=>{var n=null;try{n=new Blob([t])}catch(s){alert(s)}let a=new FormData;return a.append("input_data",n,"input.txt"),r==="cath"?(console.log("JOB NAME: cath_modeller "),a.append("job","cath_modeller")):(console.log("JOB NAME: pdb_modeller "),a.append("job","pdb_modeller")),a.append("submission_name","genthreader_model"),a.append("email","dummy@dummy.com"),a};getResultsFiles=(t,r)=>{let n={},a=null;return t.forEach(function(s){if(s.data_path.split(/[.]/).pop().includes("pdb")){let l=On(s.data_path,r.files_url),u=s.data_path.split("/")[2];n[u]=l,a=r.files_url+s.data_path}}),[n,a]};getResults=()=>{let t=this.state.submit_url+this.state.uuid,r=null;this.state.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(n=>{if(n.ok)return n.json().then(a=>a);throw n}).then(n=>{if(n.state!=="Running")if(n.state==="Complete")n.submissions.forEach(a=>{r=this.getResultsFiles(a.results,this.state)}),this.setState({waiting:!1,pdb_data:r[0],model_uri:r[1]}),clearInterval(this.timer);else throw n.state==="Error"?new Error(n.submissions.at(-1).last_message):new Error("Job Failed")}).catch(async n=>{let a="";try{let s=await n.json().then(o=>o);s.error&&(a.message=s.error),s.error.input_data&&(a.message=s.error.input_data)}catch{a=n}return console.log(a.message),console.log("Fetching results: "+t+` Failed. 
`+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidUpdate(t){var r=this.state.pdb_data[Object.keys(this.state.pdb_data)[0]];ba(this.model.current,r,!0,!1,!1,!1)}componentDidMount(){console.log("Awaiting structure"),this.timer=setInterval(()=>this.getResults(),500)}render(){return ya.default.createElement(ya.default.Fragment,null,this.state.pdb_data?ya.default.createElement("div",null,ya.default.createElement("div",{className:"row"},ya.default.createElement("div",{className:"col-sm-7 col-sm-offset-5"},ya.default.createElement("h2",null,ya.default.createElement("a",{href:this.state.model_uri},"DOWNLOAD MODEL")),ya.default.createElement("div",{id:"container-01",ref:this.model,className:"mol-container",style:{width:"600px",height:"600px",position:"relative"}})))):ya.default.createElement("h1",null,"\xA03D MODEL Requested (may take up to 30mins)..."))}}});var bO={};Yh(bO,{render:()=>oj});var _O,oj,yO=ae(()=>{_O=Hr(Dn());vO();oj=()=>_O.default.createElement(Rg,null)});var xO=Hr(TC());var lj=Hr(LC());Window.$3Dmol=lj;var Wg=xO.default.createRoot(document.getElementById("root")),Gg=window.location.pathname;console.log(Gg);Gg.startsWith("/interface")?Promise.resolve().then(()=>(Vw(),Hw)).then(e=>{Wg.render(e.render())}):Gg.includes("/msa")?Promise.resolve().then(()=>(gO(),mO)).then(e=>{Wg.render(e.render())}):Gg.includes("/model")?Promise.resolve().then(()=>(yO(),bO)).then(e=>{Wg.render(e.render())}):Promise.resolve().then(()=>(Vw(),Hw)).then(e=>{Wg.render(e.render())});})();
/*! getEmPixels  | Author: Tyson Matanich (http://matanich.com), 2013 | License: MIT */
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

3dmol/build/3Dmol.js:
  (*!
   * 3dmol v2.0.5
   * JavaScript/TypeScript molecular visualization library
   * Author: David Koes and contributors
   *)
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.0
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-05-11T18:29Z
   *)

datatables.net/js/jquery.dataTables.mjs:
  (*! DataTables 1.13.5
   * ©2008-2023 SpryMedia Ltd - datatables.net/license
   *)

datatables.net-dt/js/dataTables.dataTables.mjs:
  (*! DataTables styling integration
   * ©2018 SpryMedia Ltd - datatables.net/license
   *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
