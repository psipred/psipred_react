(()=>{var Sk=Object.create;var jh=Object.defineProperty;var Ck=Object.getOwnPropertyDescriptor;var Ek=Object.getOwnPropertyNames;var Dk=Object.getPrototypeOf,Mk=Object.prototype.hasOwnProperty;var pl=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var ae=(e,t)=>()=>(e&&(t=e(e=0)),t);var Pn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wh=(e,t)=>{for(var r in t)jh(e,r,{get:t[r],enumerable:!0})},Ww=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ek(t))!Mk.call(e,a)&&a!==r&&jh(e,a,{get:()=>t[a],enumerable:!(n=Ck(t,a))||n.enumerable});return e};var en=(e,t,r)=>(r=e!=null?Sk(Dk(e)):{},Ww(t||!e||!e.__esModule?jh(r,"default",{value:e,enumerable:!0}):r,e)),Gw=e=>Ww(jh({},"__esModule",{value:!0}),e);var e2=Pn(vr=>{"use strict";var md=Symbol.for("react.element"),Ak=Symbol.for("react.portal"),Tk=Symbol.for("react.fragment"),Lk=Symbol.for("react.strict_mode"),Ok=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),Pk=Symbol.for("react.context"),Nk=Symbol.for("react.forward_ref"),Ik=Symbol.for("react.suspense"),zk=Symbol.for("react.memo"),Fk=Symbol.for("react.lazy"),Hw=Symbol.iterator;function Bk(e){return e===null||typeof e!="object"?null:(e=Hw&&e[Hw]||e["@@iterator"],typeof e=="function"?e:null)}var Kw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zw=Object.assign,Xw={};function Au(e,t,r){this.props=e,this.context=t,this.refs=Xw,this.updater=r||Kw}Au.prototype.isReactComponent={};Au.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Au.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $w(){}$w.prototype=Au.prototype;function wv(e,t,r){this.props=e,this.context=t,this.refs=Xw,this.updater=r||Kw}var Sv=wv.prototype=new $w;Sv.constructor=wv;Zw(Sv,Au.prototype);Sv.isPureReactComponent=!0;var Vw=Array.isArray,Qw=Object.prototype.hasOwnProperty,Cv={current:null},qw={key:!0,ref:!0,__self:!0,__source:!0};function Jw(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Qw.call(t,n)&&!qw.hasOwnProperty(n)&&(a[n]=t[n]);var u=arguments.length-2;if(u===1)a.children=r;else if(1<u){for(var l=Array(u),g=0;g<u;g++)l[g]=arguments[g+2];a.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)a[n]===void 0&&(a[n]=u[n]);return{$$typeof:md,type:e,key:s,ref:o,props:a,_owner:Cv.current}}function Rk(e,t){return{$$typeof:md,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ev(e){return typeof e=="object"&&e!==null&&e.$$typeof===md}function Uk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yw=/\/+/g;function xv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Uk(""+e.key):t.toString(36)}function Hh(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case md:case Ak:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+xv(o,0):n,Vw(a)?(r="",e!=null&&(r=e.replace(Yw,"$&/")+"/"),Hh(a,t,r,"",function(g){return g})):a!=null&&(Ev(a)&&(a=Rk(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Yw,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Vw(e))for(var u=0;u<e.length;u++){s=e[u];var l=n+xv(s,u);o+=Hh(s,t,r,l,a)}else if(l=Bk(e),typeof l=="function")for(e=l.call(e),u=0;!(s=e.next()).done;)s=s.value,l=n+xv(s,u++),o+=Hh(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gh(e,t,r){if(e==null)return e;var n=[],a=0;return Hh(e,n,"","",function(s){return t.call(r,s,a++)}),n}function jk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var di={current:null},Vh={transition:null},Wk={ReactCurrentDispatcher:di,ReactCurrentBatchConfig:Vh,ReactCurrentOwner:Cv};vr.Children={map:Gh,forEach:function(e,t,r){Gh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gh(e,function(){t++}),t},toArray:function(e){return Gh(e,function(t){return t})||[]},only:function(e){if(!Ev(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vr.Component=Au;vr.Fragment=Tk;vr.Profiler=Ok;vr.PureComponent=wv;vr.StrictMode=Lk;vr.Suspense=Ik;vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wk;vr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Zw({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Cv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)Qw.call(t,l)&&!qw.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&u!==void 0?u[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){u=Array(l);for(var g=0;g<l;g++)u[g]=arguments[g+2];n.children=u}return{$$typeof:md,type:e.type,key:a,ref:s,props:n,_owner:o}};vr.createContext=function(e){return e={$$typeof:Pk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kk,_context:e},e.Consumer=e};vr.createElement=Jw;vr.createFactory=function(e){var t=Jw.bind(null,e);return t.type=e,t};vr.createRef=function(){return{current:null}};vr.forwardRef=function(e){return{$$typeof:Nk,render:e}};vr.isValidElement=Ev;vr.lazy=function(e){return{$$typeof:Fk,_payload:{_status:-1,_result:e},_init:jk}};vr.memo=function(e,t){return{$$typeof:zk,type:e,compare:t===void 0?null:t}};vr.startTransition=function(e){var t=Vh.transition;Vh.transition={};try{e()}finally{Vh.transition=t}};vr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};vr.useCallback=function(e,t){return di.current.useCallback(e,t)};vr.useContext=function(e){return di.current.useContext(e)};vr.useDebugValue=function(){};vr.useDeferredValue=function(e){return di.current.useDeferredValue(e)};vr.useEffect=function(e,t){return di.current.useEffect(e,t)};vr.useId=function(){return di.current.useId()};vr.useImperativeHandle=function(e,t,r){return di.current.useImperativeHandle(e,t,r)};vr.useInsertionEffect=function(e,t){return di.current.useInsertionEffect(e,t)};vr.useLayoutEffect=function(e,t){return di.current.useLayoutEffect(e,t)};vr.useMemo=function(e,t){return di.current.useMemo(e,t)};vr.useReducer=function(e,t,r){return di.current.useReducer(e,t,r)};vr.useRef=function(e){return di.current.useRef(e)};vr.useState=function(e){return di.current.useState(e)};vr.useSyncExternalStore=function(e,t,r){return di.current.useSyncExternalStore(e,t,r)};vr.useTransition=function(){return di.current.useTransition()};vr.version="18.2.0"});var Nn=Pn((eU,t2)=>{"use strict";t2.exports=e2()});var d2=Pn(Hr=>{"use strict";function Tv(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(0<Yh(a,t))e[n]=t,e[r]=a,r=n;else break e}}function Na(e){return e.length===0?null:e[0]}function Zh(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,u=e[o],l=o+1,g=e[l];if(0>Yh(u,r))l<a&&0>Yh(g,u)?(e[n]=g,e[l]=r,n=l):(e[n]=u,e[o]=r,n=o);else if(l<a&&0>Yh(g,r))e[n]=g,e[l]=r,n=l;else break e}}return t}function Yh(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(r2=performance,Hr.unstable_now=function(){return r2.now()}):(Dv=Date,n2=Dv.now(),Hr.unstable_now=function(){return Dv.now()-n2});var r2,Dv,n2,ns=[],mo=[],Gk=1,aa=null,$n=3,Xh=!1,ml=!1,vd=!1,s2=typeof setTimeout=="function"?setTimeout:null,o2=typeof clearTimeout=="function"?clearTimeout:null,i2=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Lv(e){for(var t=Na(mo);t!==null;){if(t.callback===null)Zh(mo);else if(t.startTime<=e)Zh(mo),t.sortIndex=t.expirationTime,Tv(ns,t);else break;t=Na(mo)}}function Ov(e){if(vd=!1,Lv(e),!ml)if(Na(ns)!==null)ml=!0,Pv(kv);else{var t=Na(mo);t!==null&&Nv(Ov,t.startTime-e)}}function kv(e,t){ml=!1,vd&&(vd=!1,o2(_d),_d=-1),Xh=!0;var r=$n;try{for(Lv(t),aa=Na(ns);aa!==null&&(!(aa.expirationTime>t)||e&&!f2());){var n=aa.callback;if(typeof n=="function"){aa.callback=null,$n=aa.priorityLevel;var a=n(aa.expirationTime<=t);t=Hr.unstable_now(),typeof a=="function"?aa.callback=a:aa===Na(ns)&&Zh(ns),Lv(t)}else Zh(ns);aa=Na(ns)}if(aa!==null)var s=!0;else{var o=Na(mo);o!==null&&Nv(Ov,o.startTime-t),s=!1}return s}finally{aa=null,$n=r,Xh=!1}}var $h=!1,Kh=null,_d=-1,l2=5,u2=-1;function f2(){return!(Hr.unstable_now()-u2<l2)}function Mv(){if(Kh!==null){var e=Hr.unstable_now();u2=e;var t=!0;try{t=Kh(!0,e)}finally{t?gd():($h=!1,Kh=null)}}else $h=!1}var gd;typeof i2=="function"?gd=function(){i2(Mv)}:typeof MessageChannel<"u"?(Av=new MessageChannel,a2=Av.port2,Av.port1.onmessage=Mv,gd=function(){a2.postMessage(null)}):gd=function(){s2(Mv,0)};var Av,a2;function Pv(e){Kh=e,$h||($h=!0,gd())}function Nv(e,t){_d=s2(function(){e(Hr.unstable_now())},t)}Hr.unstable_IdlePriority=5;Hr.unstable_ImmediatePriority=1;Hr.unstable_LowPriority=4;Hr.unstable_NormalPriority=3;Hr.unstable_Profiling=null;Hr.unstable_UserBlockingPriority=2;Hr.unstable_cancelCallback=function(e){e.callback=null};Hr.unstable_continueExecution=function(){ml||Xh||(ml=!0,Pv(kv))};Hr.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):l2=0<e?Math.floor(1e3/e):5};Hr.unstable_getCurrentPriorityLevel=function(){return $n};Hr.unstable_getFirstCallbackNode=function(){return Na(ns)};Hr.unstable_next=function(e){switch($n){case 1:case 2:case 3:var t=3;break;default:t=$n}var r=$n;$n=t;try{return e()}finally{$n=r}};Hr.unstable_pauseExecution=function(){};Hr.unstable_requestPaint=function(){};Hr.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=$n;$n=e;try{return t()}finally{$n=r}};Hr.unstable_scheduleCallback=function(e,t,r){var n=Hr.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=r+a,e={id:Gk++,callback:t,priorityLevel:e,startTime:r,expirationTime:a,sortIndex:-1},r>n?(e.sortIndex=r,Tv(mo,e),Na(ns)===null&&e===Na(mo)&&(vd?(o2(_d),_d=-1):vd=!0,Nv(Ov,r-n))):(e.sortIndex=a,Tv(ns,e),ml||Xh||(ml=!0,Pv(kv))),e};Hr.unstable_shouldYield=f2;Hr.unstable_wrapCallback=function(e){var t=$n;return function(){var r=$n;$n=t;try{return e.apply(this,arguments)}finally{$n=r}}}});var h2=Pn((rU,c2)=>{"use strict";c2.exports=d2()});var bC=Pn(Zi=>{"use strict";var y3=Nn(),Yi=h2();function Dt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x3=new Set,Ud={};function Al(e,t){Xu(e,t),Xu(e+"Capture",t)}function Xu(e,t){for(Ud[e]=t,e=0;e<t.length;e++)x3.add(t[e])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n1=Object.prototype.hasOwnProperty,Hk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p2={},m2={};function Vk(e){return n1.call(m2,e)?!0:n1.call(p2,e)?!1:Hk.test(e)?m2[e]=!0:(p2[e]=!0,!1)}function Yk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kk(e,t,r,n){if(t===null||typeof t>"u"||Yk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pi(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vn[e]=new pi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vn[t]=new pi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vn[e]=new pi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vn[e]=new pi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vn[e]=new pi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vn[e]=new pi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vn[e]=new pi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vn[e]=new pi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vn[e]=new pi(e,5,!1,e.toLowerCase(),null,!1,!1)});var X1=/[\-:]([a-z])/g;function $1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(X1,$1);Vn[t]=new pi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(X1,$1);Vn[t]=new pi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(X1,$1);Vn[t]=new pi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vn[e]=new pi(e,1,!1,e.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vn[e]=new pi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q1(e,t,r,n){var a=Vn.hasOwnProperty(t)?Vn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kk(t,r,a,n)&&(r=null),n||a===null?Vk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zs=y3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qh=Symbol.for("react.element"),Ou=Symbol.for("react.portal"),ku=Symbol.for("react.fragment"),q1=Symbol.for("react.strict_mode"),i1=Symbol.for("react.profiler"),w3=Symbol.for("react.provider"),S3=Symbol.for("react.context"),J1=Symbol.for("react.forward_ref"),a1=Symbol.for("react.suspense"),s1=Symbol.for("react.suspense_list"),e_=Symbol.for("react.memo"),vo=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var C3=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var g2=Symbol.iterator;function bd(e){return e===null||typeof e!="object"?null:(e=g2&&e[g2]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Object.assign,Iv;function Md(e){if(Iv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Iv=t&&t[1]||""}return`
`+Iv+e}var zv=!1;function Fv(e,t){if(!e||zv)return"";zv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var n=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){n=g}e.call(t.prototype)}else{try{throw Error()}catch(g){n=g}e()}}catch(g){if(g&&n&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,u=s.length-1;1<=o&&0<=u&&a[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(a[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||a[o]!==s[u]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=u);break}}}finally{zv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Md(e):""}function Zk(e){switch(e.tag){case 5:return Md(e.type);case 16:return Md("Lazy");case 13:return Md("Suspense");case 19:return Md("SuspenseList");case 0:case 2:case 15:return e=Fv(e.type,!1),e;case 11:return e=Fv(e.type.render,!1),e;case 1:return e=Fv(e.type,!0),e;default:return""}}function o1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ku:return"Fragment";case Ou:return"Portal";case i1:return"Profiler";case q1:return"StrictMode";case a1:return"Suspense";case s1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S3:return(e.displayName||"Context")+".Consumer";case w3:return(e._context.displayName||"Context")+".Provider";case J1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case e_:return t=e.displayName||null,t!==null?t:o1(e.type)||"Memo";case vo:t=e._payload,e=e._init;try{return o1(e(t))}catch{}}return null}function Xk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o1(t);case 8:return t===q1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $k(e){var t=E3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qh(e){e._valueTracker||(e._valueTracker=$k(e))}function D3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=E3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function l1(e,t){var r=t.checked;return sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function v2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Oo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M3(e,t){t=t.checked,t!=null&&Q1(e,"checked",t,!1)}function u1(e,t){M3(e,t);var r=Oo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?f1(e,t.type,r):t.hasOwnProperty("defaultValue")&&f1(e,t.type,Oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function f1(e,t,r){(t!=="number"||Dp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ad=Array.isArray;function Gu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Oo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function d1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Dt(91));return sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function b2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Dt(92));if(Ad(r)){if(1<r.length)throw Error(Dt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Oo(r)}}function A3(e,t){var r=Oo(t.value),n=Oo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function y2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function T3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jh,L3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jh=Jh||document.createElement("div"),Jh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qk=["Webkit","ms","Moz","O"];Object.keys(Od).forEach(function(e){Qk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Od[t]=Od[e]})});function O3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Od.hasOwnProperty(e)&&Od[e]?(""+t).trim():t+"px"}function k3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=O3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var qk=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h1(e,t){if(t){if(qk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Dt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Dt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Dt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Dt(62))}}function p1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m1=null;function t_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var g1=null,Hu=null,Vu=null;function x2(e){if(e=ac(e)){if(typeof g1!="function")throw Error(Dt(280));var t=e.stateNode;t&&(t=e0(t),g1(e.stateNode,e.type,t))}}function P3(e){Hu?Vu?Vu.push(e):Vu=[e]:Hu=e}function N3(){if(Hu){var e=Hu,t=Vu;if(Vu=Hu=null,x2(e),t)for(e=0;e<t.length;e++)x2(t[e])}}function I3(e,t){return e(t)}function z3(){}var Bv=!1;function F3(e,t,r){if(Bv)return e(t,r);Bv=!0;try{return I3(e,t,r)}finally{Bv=!1,(Hu!==null||Vu!==null)&&(z3(),N3())}}function Wd(e,t){var r=e.stateNode;if(r===null)return null;var n=e0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Dt(231,t,typeof r));return r}var v1=!1;if(Hs)try{Tu={},Object.defineProperty(Tu,"passive",{get:function(){v1=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{v1=!1}var Tu;function Jk(e,t,r,n,a,s,o,u,l){var g=Array.prototype.slice.call(arguments,3);try{t.apply(r,g)}catch(h){this.onError(h)}}var kd=!1,Mp=null,Ap=!1,_1=null,eP={onError:function(e){kd=!0,Mp=e}};function tP(e,t,r,n,a,s,o,u,l){kd=!1,Mp=null,Jk.apply(eP,arguments)}function rP(e,t,r,n,a,s,o,u,l){if(tP.apply(this,arguments),kd){if(kd){var g=Mp;kd=!1,Mp=null}else throw Error(Dt(198));Ap||(Ap=!0,_1=g)}}function Tl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function B3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w2(e){if(Tl(e)!==e)throw Error(Dt(188))}function nP(e){var t=e.alternate;if(!t){if(t=Tl(e),t===null)throw Error(Dt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return w2(a),e;if(s===n)return w2(a),t;s=s.sibling}throw Error(Dt(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,u=a.child;u;){if(u===r){o=!0,r=a,n=s;break}if(u===n){o=!0,n=a,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=a;break}if(u===n){o=!0,n=s,r=a;break}u=u.sibling}if(!o)throw Error(Dt(189))}}if(r.alternate!==n)throw Error(Dt(190))}if(r.tag!==3)throw Error(Dt(188));return r.stateNode.current===r?e:t}function R3(e){return e=nP(e),e!==null?U3(e):null}function U3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=U3(e);if(t!==null)return t;e=e.sibling}return null}var j3=Yi.unstable_scheduleCallback,S2=Yi.unstable_cancelCallback,iP=Yi.unstable_shouldYield,aP=Yi.unstable_requestPaint,vn=Yi.unstable_now,sP=Yi.unstable_getCurrentPriorityLevel,r_=Yi.unstable_ImmediatePriority,W3=Yi.unstable_UserBlockingPriority,Tp=Yi.unstable_NormalPriority,oP=Yi.unstable_LowPriority,G3=Yi.unstable_IdlePriority,$p=null,os=null;function lP(e){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot($p,e,void 0,(e.current.flags&128)===128)}catch{}}var Ra=Math.clz32?Math.clz32:dP,uP=Math.log,fP=Math.LN2;function dP(e){return e>>>=0,e===0?32:31-(uP(e)/fP|0)|0}var ep=64,tp=4194304;function Td(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var u=o&~a;u!==0?n=Td(u):(s&=o,s!==0&&(n=Td(s)))}else o=r&~a,o!==0?n=Td(o):s!==0&&(n=Td(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ra(t),a=1<<r,n|=e[r],t&=~a;return n}function cP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ra(s),u=1<<o,l=a[o];l===-1?(!(u&r)||u&n)&&(a[o]=cP(u,t)):l<=t&&(e.expiredLanes|=u),s&=~u}}function b1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function H3(){var e=ep;return ep<<=1,!(ep&4194240)&&(ep=64),e}function Rv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function nc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ra(t),e[t]=r}function pP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ra(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function n_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ra(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var zr=0;function V3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y3,i_,K3,Z3,X3,y1=!1,rp=[],So=null,Co=null,Eo=null,Gd=new Map,Hd=new Map,bo=[],mP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C2(e,t){switch(e){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":Gd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hd.delete(t.pointerId)}}function yd(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=ac(t),t!==null&&i_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function gP(e,t,r,n,a){switch(t){case"focusin":return So=yd(So,e,t,r,n,a),!0;case"dragenter":return Co=yd(Co,e,t,r,n,a),!0;case"mouseover":return Eo=yd(Eo,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Gd.set(s,yd(Gd.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Hd.set(s,yd(Hd.get(s)||null,e,t,r,n,a)),!0}return!1}function $3(e){var t=_l(e.target);if(t!==null){var r=Tl(t);if(r!==null){if(t=r.tag,t===13){if(t=B3(r),t!==null){e.blockedOn=t,X3(e.priority,function(){K3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=x1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);m1=n,r.target.dispatchEvent(n),m1=null}else return t=ac(r),t!==null&&i_(t),e.blockedOn=r,!1;t.shift()}return!0}function E2(e,t,r){gp(e)&&r.delete(t)}function vP(){y1=!1,So!==null&&gp(So)&&(So=null),Co!==null&&gp(Co)&&(Co=null),Eo!==null&&gp(Eo)&&(Eo=null),Gd.forEach(E2),Hd.forEach(E2)}function xd(e,t){e.blockedOn===t&&(e.blockedOn=null,y1||(y1=!0,Yi.unstable_scheduleCallback(Yi.unstable_NormalPriority,vP)))}function Vd(e){function t(a){return xd(a,e)}if(0<rp.length){xd(rp[0],e);for(var r=1;r<rp.length;r++){var n=rp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(So!==null&&xd(So,e),Co!==null&&xd(Co,e),Eo!==null&&xd(Eo,e),Gd.forEach(t),Hd.forEach(t),r=0;r<bo.length;r++)n=bo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bo.length&&(r=bo[0],r.blockedOn===null);)$3(r),r.blockedOn===null&&bo.shift()}var Yu=Zs.ReactCurrentBatchConfig,Op=!0;function _P(e,t,r,n){var a=zr,s=Yu.transition;Yu.transition=null;try{zr=1,a_(e,t,r,n)}finally{zr=a,Yu.transition=s}}function bP(e,t,r,n){var a=zr,s=Yu.transition;Yu.transition=null;try{zr=4,a_(e,t,r,n)}finally{zr=a,Yu.transition=s}}function a_(e,t,r,n){if(Op){var a=x1(e,t,r,n);if(a===null)Yv(e,t,n,kp,r),C2(e,n);else if(gP(a,e,t,r,n))n.stopPropagation();else if(C2(e,n),t&4&&-1<mP.indexOf(e)){for(;a!==null;){var s=ac(a);if(s!==null&&Y3(s),s=x1(e,t,r,n),s===null&&Yv(e,t,n,kp,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Yv(e,t,n,null,r)}}var kp=null;function x1(e,t,r,n){if(kp=null,e=t_(n),e=_l(e),e!==null)if(t=Tl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=B3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kp=e,null}function Q3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sP()){case r_:return 1;case W3:return 4;case Tp:case oP:return 16;case G3:return 536870912;default:return 16}default:return 16}}var xo=null,s_=null,vp=null;function q3(){if(vp)return vp;var e,t=s_,r=t.length,n,a="value"in xo?xo.value:xo.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return vp=a.slice(e,1<n?1-n:void 0)}function _p(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function np(){return!0}function D2(){return!1}function Ki(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?np:D2,this.isPropagationStopped=D2,this}return sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=np)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=np)},persist:function(){},isPersistent:np}),t}var rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o_=Ki(rf),ic=sn({},rf,{view:0,detail:0}),yP=Ki(ic),Uv,jv,wd,Qp=sn({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wd&&(wd&&e.type==="mousemove"?(Uv=e.screenX-wd.screenX,jv=e.screenY-wd.screenY):jv=Uv=0,wd=e),Uv)},movementY:function(e){return"movementY"in e?e.movementY:jv}}),M2=Ki(Qp),xP=sn({},Qp,{dataTransfer:0}),wP=Ki(xP),SP=sn({},ic,{relatedTarget:0}),Wv=Ki(SP),CP=sn({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),EP=Ki(CP),DP=sn({},rf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MP=Ki(DP),AP=sn({},rf,{data:0}),A2=Ki(AP),TP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OP[e])?!!t[e]:!1}function l_(){return kP}var PP=sn({},ic,{key:function(e){if(e.key){var t=TP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_p(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l_,charCode:function(e){return e.type==="keypress"?_p(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_p(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NP=Ki(PP),IP=sn({},Qp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T2=Ki(IP),zP=sn({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l_}),FP=Ki(zP),BP=sn({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),RP=Ki(BP),UP=sn({},Qp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jP=Ki(UP),WP=[9,13,27,32],u_=Hs&&"CompositionEvent"in window,Pd=null;Hs&&"documentMode"in document&&(Pd=document.documentMode);var GP=Hs&&"TextEvent"in window&&!Pd,J3=Hs&&(!u_||Pd&&8<Pd&&11>=Pd),L2=" ",O2=!1;function eS(e,t){switch(e){case"keyup":return WP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pu=!1;function HP(e,t){switch(e){case"compositionend":return tS(t);case"keypress":return t.which!==32?null:(O2=!0,L2);case"textInput":return e=t.data,e===L2&&O2?null:e;default:return null}}function VP(e,t){if(Pu)return e==="compositionend"||!u_&&eS(e,t)?(e=q3(),vp=s_=xo=null,Pu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J3&&t.locale!=="ko"?null:t.data;default:return null}}var YP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YP[e.type]:t==="textarea"}function rS(e,t,r,n){P3(n),t=Pp(t,"onChange"),0<t.length&&(r=new o_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nd=null,Yd=null;function KP(e){hS(e,0)}function qp(e){var t=zu(e);if(D3(t))return e}function ZP(e,t){if(e==="change")return t}var nS=!1;Hs&&(Hs?(ap="oninput"in document,ap||(Gv=document.createElement("div"),Gv.setAttribute("oninput","return;"),ap=typeof Gv.oninput=="function"),ip=ap):ip=!1,nS=ip&&(!document.documentMode||9<document.documentMode));var ip,ap,Gv;function P2(){Nd&&(Nd.detachEvent("onpropertychange",iS),Yd=Nd=null)}function iS(e){if(e.propertyName==="value"&&qp(Yd)){var t=[];rS(t,Yd,e,t_(e)),F3(KP,t)}}function XP(e,t,r){e==="focusin"?(P2(),Nd=t,Yd=r,Nd.attachEvent("onpropertychange",iS)):e==="focusout"&&P2()}function $P(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qp(Yd)}function QP(e,t){if(e==="click")return qp(t)}function qP(e,t){if(e==="input"||e==="change")return qp(t)}function JP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ja=typeof Object.is=="function"?Object.is:JP;function Kd(e,t){if(ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!n1.call(t,a)||!ja(e[a],t[a]))return!1}return!0}function N2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function I2(e,t){var r=N2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=N2(r)}}function aS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sS(){for(var e=window,t=Dp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dp(e.document)}return t}function f_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eN(e){var t=sS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&aS(r.ownerDocument.documentElement,r)){if(n!==null&&f_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=I2(r,s);var o=I2(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tN=Hs&&"documentMode"in document&&11>=document.documentMode,Nu=null,w1=null,Id=null,S1=!1;function z2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;S1||Nu==null||Nu!==Dp(n)||(n=Nu,"selectionStart"in n&&f_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Id&&Kd(Id,n)||(Id=n,n=Pp(w1,"onSelect"),0<n.length&&(t=new o_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nu)))}function sp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Iu={animationend:sp("Animation","AnimationEnd"),animationiteration:sp("Animation","AnimationIteration"),animationstart:sp("Animation","AnimationStart"),transitionend:sp("Transition","TransitionEnd")},Hv={},oS={};Hs&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function Jp(e){if(Hv[e])return Hv[e];if(!Iu[e])return e;var t=Iu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in oS)return Hv[e]=t[r];return e}var lS=Jp("animationend"),uS=Jp("animationiteration"),fS=Jp("animationstart"),dS=Jp("transitionend"),cS=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){cS.set(e,t),Al(t,[e])}for(op=0;op<F2.length;op++)lp=F2[op],B2=lp.toLowerCase(),R2=lp[0].toUpperCase()+lp.slice(1),Po(B2,"on"+R2);var lp,B2,R2,op;Po(lS,"onAnimationEnd");Po(uS,"onAnimationIteration");Po(fS,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(dS,"onTransitionEnd");Xu("onMouseEnter",["mouseout","mouseover"]);Xu("onMouseLeave",["mouseout","mouseover"]);Xu("onPointerEnter",["pointerout","pointerover"]);Xu("onPointerLeave",["pointerout","pointerover"]);Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Al("onBeforeInput",["compositionend","keypress","textInput","paste"]);Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ld));function U2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rP(n,t,void 0,e),e.currentTarget=null}function hS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],l=u.instance,g=u.currentTarget;if(u=u.listener,l!==s&&a.isPropagationStopped())break e;U2(a,u,g),s=l}else for(o=0;o<n.length;o++){if(u=n[o],l=u.instance,g=u.currentTarget,u=u.listener,l!==s&&a.isPropagationStopped())break e;U2(a,u,g),s=l}}}if(Ap)throw e=_1,Ap=!1,_1=null,e}function Xr(e,t){var r=t[A1];r===void 0&&(r=t[A1]=new Set);var n=e+"__bubble";r.has(n)||(pS(t,e,2,!1),r.add(n))}function Vv(e,t,r){var n=0;t&&(n|=4),pS(r,e,n,t)}var up="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[up]){e[up]=!0,x3.forEach(function(r){r!=="selectionchange"&&(rN.has(r)||Vv(r,!1,e),Vv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[up]||(t[up]=!0,Vv("selectionchange",!1,t))}}function pS(e,t,r,n){switch(Q3(t)){case 1:var a=_P;break;case 4:a=bP;break;default:a=a_}r=a.bind(null,t,r,e),a=void 0,!v1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Yv(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;u!==null;){if(o=_l(u),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}u=u.parentNode}}n=n.return}F3(function(){var g=s,h=t_(r),_=[];e:{var x=cS.get(e);if(x!==void 0){var S=o_,w=e;switch(e){case"keypress":if(_p(r)===0)break e;case"keydown":case"keyup":S=NP;break;case"focusin":w="focus",S=Wv;break;case"focusout":w="blur",S=Wv;break;case"beforeblur":case"afterblur":S=Wv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=M2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=wP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=FP;break;case lS:case uS:case fS:S=EP;break;case dS:S=RP;break;case"scroll":S=yP;break;case"wheel":S=jP;break;case"copy":case"cut":case"paste":S=MP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=T2}var c=(t&4)!==0,v=!c&&e==="scroll",y=c?x!==null?x+"Capture":null:x;c=[];for(var b=g,C;b!==null;){C=b;var E=C.stateNode;if(C.tag===5&&E!==null&&(C=E,y!==null&&(E=Wd(b,y),E!=null&&c.push(Xd(b,E,C)))),v)break;b=b.return}0<c.length&&(x=new S(x,w,null,r,h),_.push({event:x,listeners:c}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",x&&r!==m1&&(w=r.relatedTarget||r.fromElement)&&(_l(w)||w[Vs]))break e;if((S||x)&&(x=h.window===h?h:(x=h.ownerDocument)?x.defaultView||x.parentWindow:window,S?(w=r.relatedTarget||r.toElement,S=g,w=w?_l(w):null,w!==null&&(v=Tl(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(S=null,w=g),S!==w)){if(c=M2,E="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(c=T2,E="onPointerLeave",y="onPointerEnter",b="pointer"),v=S==null?x:zu(S),C=w==null?x:zu(w),x=new c(E,b+"leave",S,r,h),x.target=v,x.relatedTarget=C,E=null,_l(h)===g&&(c=new c(y,b+"enter",w,r,h),c.target=C,c.relatedTarget=v,E=c),v=E,S&&w)t:{for(c=S,y=w,b=0,C=c;C;C=Lu(C))b++;for(C=0,E=y;E;E=Lu(E))C++;for(;0<b-C;)c=Lu(c),b--;for(;0<C-b;)y=Lu(y),C--;for(;b--;){if(c===y||y!==null&&c===y.alternate)break t;c=Lu(c),y=Lu(y)}c=null}else c=null;S!==null&&j2(_,x,S,c,!1),w!==null&&v!==null&&j2(_,v,w,c,!0)}}e:{if(x=g?zu(g):window,S=x.nodeName&&x.nodeName.toLowerCase(),S==="select"||S==="input"&&x.type==="file")var p=ZP;else if(k2(x))if(nS)p=qP;else{p=$P;var f=XP}else(S=x.nodeName)&&S.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(p=QP);if(p&&(p=p(e,g))){rS(_,p,r,h);break e}f&&f(e,x,g),e==="focusout"&&(f=x._wrapperState)&&f.controlled&&x.type==="number"&&f1(x,"number",x.value)}switch(f=g?zu(g):window,e){case"focusin":(k2(f)||f.contentEditable==="true")&&(Nu=f,w1=g,Id=null);break;case"focusout":Id=w1=Nu=null;break;case"mousedown":S1=!0;break;case"contextmenu":case"mouseup":case"dragend":S1=!1,z2(_,r,h);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":z2(_,r,h)}var D;if(u_)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Pu?eS(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(J3&&r.locale!=="ko"&&(Pu||M!=="onCompositionStart"?M==="onCompositionEnd"&&Pu&&(D=q3()):(xo=h,s_="value"in xo?xo.value:xo.textContent,Pu=!0)),f=Pp(g,M),0<f.length&&(M=new A2(M,e,null,r,h),_.push({event:M,listeners:f}),D?M.data=D:(D=tS(r),D!==null&&(M.data=D)))),(D=GP?HP(e,r):VP(e,r))&&(g=Pp(g,"onBeforeInput"),0<g.length&&(h=new A2("onBeforeInput","beforeinput",null,r,h),_.push({event:h,listeners:g}),h.data=D))}hS(_,t)})}function Xd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Pp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Wd(e,r),s!=null&&n.unshift(Xd(e,s,a)),s=Wd(e,t),s!=null&&n.push(Xd(e,s,a))),e=e.return}return n}function Lu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function j2(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var u=r,l=u.alternate,g=u.stateNode;if(l!==null&&l===n)break;u.tag===5&&g!==null&&(u=g,a?(l=Wd(r,s),l!=null&&o.unshift(Xd(r,l,u))):a||(l=Wd(r,s),l!=null&&o.push(Xd(r,l,u)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var nN=/\r\n?/g,iN=/\u0000|\uFFFD/g;function W2(e){return(typeof e=="string"?e:""+e).replace(nN,`
`).replace(iN,"")}function fp(e,t,r){if(t=W2(t),W2(e)!==t&&r)throw Error(Dt(425))}function Np(){}var C1=null,E1=null;function D1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var M1=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,G2=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof G2<"u"?function(e){return G2.resolve(null).then(e).catch(oN)}:M1;function oN(e){setTimeout(function(){throw e})}function Kv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Vd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Vd(t)}function Do(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function H2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nf=Math.random().toString(36).slice(2),ss="__reactFiber$"+nf,$d="__reactProps$"+nf,Vs="__reactContainer$"+nf,A1="__reactEvents$"+nf,lN="__reactListeners$"+nf,uN="__reactHandles$"+nf;function _l(e){var t=e[ss];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vs]||r[ss]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=H2(e);e!==null;){if(r=e[ss])return r;e=H2(e)}return t}e=r,r=e.parentNode}return null}function ac(e){return e=e[ss]||e[Vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Dt(33))}function e0(e){return e[$d]||null}var T1=[],Fu=-1;function No(e){return{current:e}}function $r(e){0>Fu||(e.current=T1[Fu],T1[Fu]=null,Fu--)}function Vr(e,t){Fu++,T1[Fu]=e.current,e.current=t}var ko={},ei=No(ko),ki=No(!1),Sl=ko;function $u(e,t){var r=e.type.contextTypes;if(!r)return ko;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return e=e.childContextTypes,e!=null}function Ip(){$r(ki),$r(ei)}function V2(e,t,r){if(ei.current!==ko)throw Error(Dt(168));Vr(ei,t),Vr(ki,r)}function mS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Dt(108,Xk(e)||"Unknown",a));return sn({},r,n)}function zp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ko,Sl=ei.current,Vr(ei,e),Vr(ki,ki.current),!0}function Y2(e,t,r){var n=e.stateNode;if(!n)throw Error(Dt(169));r?(e=mS(e,t,Sl),n.__reactInternalMemoizedMergedChildContext=e,$r(ki),$r(ei),Vr(ei,e)):$r(ki),Vr(ki,r)}var Us=null,t0=!1,Zv=!1;function gS(e){Us===null?Us=[e]:Us.push(e)}function fN(e){t0=!0,gS(e)}function Io(){if(!Zv&&Us!==null){Zv=!0;var e=0,t=zr;try{var r=Us;for(zr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Us=null,t0=!1}catch(a){throw Us!==null&&(Us=Us.slice(e+1)),j3(r_,Io),a}finally{zr=t,Zv=!1}}return null}var Bu=[],Ru=0,Fp=null,Bp=0,sa=[],oa=0,Cl=null,js=1,Ws="";function gl(e,t){Bu[Ru++]=Bp,Bu[Ru++]=Fp,Fp=e,Bp=t}function vS(e,t,r){sa[oa++]=js,sa[oa++]=Ws,sa[oa++]=Cl,Cl=e;var n=js;e=Ws;var a=32-Ra(n)-1;n&=~(1<<a),r+=1;var s=32-Ra(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,js=1<<32-Ra(t)+a|r<<a|n,Ws=s+e}else js=1<<s|r<<a|n,Ws=e}function d_(e){e.return!==null&&(gl(e,1),vS(e,1,0))}function c_(e){for(;e===Fp;)Fp=Bu[--Ru],Bu[Ru]=null,Bp=Bu[--Ru],Bu[Ru]=null;for(;e===Cl;)Cl=sa[--oa],sa[oa]=null,Ws=sa[--oa],sa[oa]=null,js=sa[--oa],sa[oa]=null}var Vi=null,Hi=null,tn=!1,Ba=null;function _S(e,t){var r=la(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function K2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vi=e,Hi=Do(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vi=e,Hi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cl!==null?{id:js,overflow:Ws}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=la(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Vi=e,Hi=null,!0):!1;default:return!1}}function L1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function O1(e){if(tn){var t=Hi;if(t){var r=t;if(!K2(e,t)){if(L1(e))throw Error(Dt(418));t=Do(r.nextSibling);var n=Vi;t&&K2(e,t)?_S(n,r):(e.flags=e.flags&-4097|2,tn=!1,Vi=e)}}else{if(L1(e))throw Error(Dt(418));e.flags=e.flags&-4097|2,tn=!1,Vi=e}}}function Z2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vi=e}function dp(e){if(e!==Vi)return!1;if(!tn)return Z2(e),tn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!D1(e.type,e.memoizedProps)),t&&(t=Hi)){if(L1(e))throw bS(),Error(Dt(418));for(;t;)_S(e,t),t=Do(t.nextSibling)}if(Z2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Dt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hi=Do(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hi=null}}else Hi=Vi?Do(e.stateNode.nextSibling):null;return!0}function bS(){for(var e=Hi;e;)e=Do(e.nextSibling)}function Qu(){Hi=Vi=null,tn=!1}function h_(e){Ba===null?Ba=[e]:Ba.push(e)}var dN=Zs.ReactCurrentBatchConfig;function za(e,t){if(e&&e.defaultProps){t=sn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Rp=No(null),Up=null,Uu=null,p_=null;function m_(){p_=Uu=Up=null}function g_(e){var t=Rp.current;$r(Rp),e._currentValue=t}function k1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ku(e,t){Up=e,p_=Uu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oi=!0),e.firstContext=null)}function fa(e){var t=e._currentValue;if(p_!==e)if(e={context:e,memoizedValue:t,next:null},Uu===null){if(Up===null)throw Error(Dt(308));Uu=e,Up.dependencies={lanes:0,firstContext:e}}else Uu=Uu.next=e;return t}var bl=null;function v_(e){bl===null?bl=[e]:bl.push(e)}function yS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,v_(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ys(e,n)}function Ys(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _o=!1;function __(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Er&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ys(e,r)}return a=n.interleaved,a===null?(t.next=t,v_(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ys(e,r)}function bp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n_(e,r)}}function X2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jp(e,t,r,n){var a=e.updateQueue;_o=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var l=u,g=l.next;l.next=null,o===null?s=g:o.next=g,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==o&&(u===null?h.firstBaseUpdate=g:u.next=g,h.lastBaseUpdate=l))}if(s!==null){var _=a.baseState;o=0,h=g=l=null,u=s;do{var x=u.lane,S=u.eventTime;if((n&x)===x){h!==null&&(h=h.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=e,c=u;switch(x=t,S=r,c.tag){case 1:if(w=c.payload,typeof w=="function"){_=w.call(S,_,x);break e}_=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=c.payload,x=typeof w=="function"?w.call(S,_,x):w,x==null)break e;_=sn({},_,x);break e;case 2:_o=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[u]:x.push(u))}else S={eventTime:S,lane:x,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(g=h=S,l=_):h=h.next=S,o|=x;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;x=u,u=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(h===null&&(l=_),a.baseState=l,a.firstBaseUpdate=g,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=_}}function $2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Dt(191,a));a.call(n)}}}var wS=new y3.Component().refs;function P1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:sn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var r0={isMounted:function(e){return(e=e._reactInternals)?Tl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hi(),a=To(e),s=Gs(n,a);s.payload=t,r!=null&&(s.callback=r),t=Mo(e,s,a),t!==null&&(Ua(t,e,a,n),bp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hi(),a=To(e),s=Gs(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Mo(e,s,a),t!==null&&(Ua(t,e,a,n),bp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hi(),n=To(e),a=Gs(r,n);a.tag=2,t!=null&&(a.callback=t),t=Mo(e,a,n),t!==null&&(Ua(t,e,n,r),bp(t,e,n))}};function Q2(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Kd(r,n)||!Kd(a,s):!0}function SS(e,t,r){var n=!1,a=ko,s=t.contextType;return typeof s=="object"&&s!==null?s=fa(s):(a=Pi(t)?Sl:ei.current,n=t.contextTypes,s=(n=n!=null)?$u(e,a):ko),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=r0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function q2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&r0.enqueueReplaceState(t,t.state,null)}function N1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=wS,__(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=fa(s):(s=Pi(t)?Sl:ei.current,a.context=$u(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(P1(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&r0.enqueueReplaceState(a,a.state,null),jp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Sd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Dt(309));var n=r.stateNode}if(!n)throw Error(Dt(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=a.refs;u===wS&&(u=a.refs={}),o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Dt(284));if(!r._owner)throw Error(Dt(290,e))}return e}function cp(e,t){throw e=Object.prototype.toString.call(t),Error(Dt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function J2(e){var t=e._init;return t(e._payload)}function CS(e){function t(y,b){if(e){var C=y.deletions;C===null?(y.deletions=[b],y.flags|=16):C.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Lo(y,b),y.index=0,y.sibling=null,y}function s(y,b,C){return y.index=C,e?(C=y.alternate,C!==null?(C=C.index,C<b?(y.flags|=2,b):C):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function u(y,b,C,E){return b===null||b.tag!==6?(b=t1(C,y.mode,E),b.return=y,b):(b=a(b,C),b.return=y,b)}function l(y,b,C,E){var p=C.type;return p===ku?h(y,b,C.props.children,E,C.key):b!==null&&(b.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===vo&&J2(p)===b.type)?(E=a(b,C.props),E.ref=Sd(y,b,C),E.return=y,E):(E=Ep(C.type,C.key,C.props,null,y.mode,E),E.ref=Sd(y,b,C),E.return=y,E)}function g(y,b,C,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=r1(C,y.mode,E),b.return=y,b):(b=a(b,C.children||[]),b.return=y,b)}function h(y,b,C,E,p){return b===null||b.tag!==7?(b=wl(C,y.mode,E,p),b.return=y,b):(b=a(b,C),b.return=y,b)}function _(y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=t1(""+b,y.mode,C),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qh:return C=Ep(b.type,b.key,b.props,null,y.mode,C),C.ref=Sd(y,null,b),C.return=y,C;case Ou:return b=r1(b,y.mode,C),b.return=y,b;case vo:var E=b._init;return _(y,E(b._payload),C)}if(Ad(b)||bd(b))return b=wl(b,y.mode,C,null),b.return=y,b;cp(y,b)}return null}function x(y,b,C,E){var p=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return p!==null?null:u(y,b,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Qh:return C.key===p?l(y,b,C,E):null;case Ou:return C.key===p?g(y,b,C,E):null;case vo:return p=C._init,x(y,b,p(C._payload),E)}if(Ad(C)||bd(C))return p!==null?null:h(y,b,C,E,null);cp(y,C)}return null}function S(y,b,C,E,p){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(C)||null,u(b,y,""+E,p);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qh:return y=y.get(E.key===null?C:E.key)||null,l(b,y,E,p);case Ou:return y=y.get(E.key===null?C:E.key)||null,g(b,y,E,p);case vo:var f=E._init;return S(y,b,C,f(E._payload),p)}if(Ad(E)||bd(E))return y=y.get(C)||null,h(b,y,E,p,null);cp(b,E)}return null}function w(y,b,C,E){for(var p=null,f=null,D=b,M=b=0,P=null;D!==null&&M<C.length;M++){D.index>M?(P=D,D=null):P=D.sibling;var O=x(y,D,C[M],E);if(O===null){D===null&&(D=P);break}e&&D&&O.alternate===null&&t(y,D),b=s(O,b,M),f===null?p=O:f.sibling=O,f=O,D=P}if(M===C.length)return r(y,D),tn&&gl(y,M),p;if(D===null){for(;M<C.length;M++)D=_(y,C[M],E),D!==null&&(b=s(D,b,M),f===null?p=D:f.sibling=D,f=D);return tn&&gl(y,M),p}for(D=n(y,D);M<C.length;M++)P=S(D,y,M,C[M],E),P!==null&&(e&&P.alternate!==null&&D.delete(P.key===null?M:P.key),b=s(P,b,M),f===null?p=P:f.sibling=P,f=P);return e&&D.forEach(function(z){return t(y,z)}),tn&&gl(y,M),p}function c(y,b,C,E){var p=bd(C);if(typeof p!="function")throw Error(Dt(150));if(C=p.call(C),C==null)throw Error(Dt(151));for(var f=p=null,D=b,M=b=0,P=null,O=C.next();D!==null&&!O.done;M++,O=C.next()){D.index>M?(P=D,D=null):P=D.sibling;var z=x(y,D,O.value,E);if(z===null){D===null&&(D=P);break}e&&D&&z.alternate===null&&t(y,D),b=s(z,b,M),f===null?p=z:f.sibling=z,f=z,D=P}if(O.done)return r(y,D),tn&&gl(y,M),p;if(D===null){for(;!O.done;M++,O=C.next())O=_(y,O.value,E),O!==null&&(b=s(O,b,M),f===null?p=O:f.sibling=O,f=O);return tn&&gl(y,M),p}for(D=n(y,D);!O.done;M++,O=C.next())O=S(D,y,M,O.value,E),O!==null&&(e&&O.alternate!==null&&D.delete(O.key===null?M:O.key),b=s(O,b,M),f===null?p=O:f.sibling=O,f=O);return e&&D.forEach(function(k){return t(y,k)}),tn&&gl(y,M),p}function v(y,b,C,E){if(typeof C=="object"&&C!==null&&C.type===ku&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Qh:e:{for(var p=C.key,f=b;f!==null;){if(f.key===p){if(p=C.type,p===ku){if(f.tag===7){r(y,f.sibling),b=a(f,C.props.children),b.return=y,y=b;break e}}else if(f.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===vo&&J2(p)===f.type){r(y,f.sibling),b=a(f,C.props),b.ref=Sd(y,f,C),b.return=y,y=b;break e}r(y,f);break}else t(y,f);f=f.sibling}C.type===ku?(b=wl(C.props.children,y.mode,E,C.key),b.return=y,y=b):(E=Ep(C.type,C.key,C.props,null,y.mode,E),E.ref=Sd(y,b,C),E.return=y,y=E)}return o(y);case Ou:e:{for(f=C.key;b!==null;){if(b.key===f)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){r(y,b.sibling),b=a(b,C.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=r1(C,y.mode,E),b.return=y,y=b}return o(y);case vo:return f=C._init,v(y,b,f(C._payload),E)}if(Ad(C))return w(y,b,C,E);if(bd(C))return c(y,b,C,E);cp(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,C),b.return=y,y=b):(r(y,b),b=t1(C,y.mode,E),b.return=y,y=b),o(y)):r(y,b)}return v}var qu=CS(!0),ES=CS(!1),sc={},ls=No(sc),Qd=No(sc),qd=No(sc);function yl(e){if(e===sc)throw Error(Dt(174));return e}function b_(e,t){switch(Vr(qd,t),Vr(Qd,e),Vr(ls,sc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:c1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=c1(t,e)}$r(ls),Vr(ls,t)}function Ju(){$r(ls),$r(Qd),$r(qd)}function DS(e){yl(qd.current);var t=yl(ls.current),r=c1(t,e.type);t!==r&&(Vr(Qd,e),Vr(ls,r))}function y_(e){Qd.current===e&&($r(ls),$r(Qd))}var nn=No(0);function Wp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xv=[];function x_(){for(var e=0;e<Xv.length;e++)Xv[e]._workInProgressVersionPrimary=null;Xv.length=0}var yp=Zs.ReactCurrentDispatcher,$v=Zs.ReactCurrentBatchConfig,El=0,an=null,En=null,In=null,Gp=!1,zd=!1,Jd=0,cN=0;function Qn(){throw Error(Dt(321))}function w_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ja(e[r],t[r]))return!1;return!0}function S_(e,t,r,n,a,s){if(El=s,an=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yp.current=e===null||e.memoizedState===null?gN:vN,e=r(n,a),zd){s=0;do{if(zd=!1,Jd=0,25<=s)throw Error(Dt(301));s+=1,In=En=null,t.updateQueue=null,yp.current=_N,e=r(n,a)}while(zd)}if(yp.current=Hp,t=En!==null&&En.next!==null,El=0,In=En=an=null,Gp=!1,t)throw Error(Dt(300));return e}function C_(){var e=Jd!==0;return Jd=0,e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?an.memoizedState=In=e:In=In.next=e,In}function da(){if(En===null){var e=an.alternate;e=e!==null?e.memoizedState:null}else e=En.next;var t=In===null?an.memoizedState:In.next;if(t!==null)In=t,En=e;else{if(e===null)throw Error(Dt(310));En=e,e={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},In===null?an.memoizedState=In=e:In=In.next=e}return In}function ec(e,t){return typeof t=="function"?t(e):t}function Qv(e){var t=da(),r=t.queue;if(r===null)throw Error(Dt(311));r.lastRenderedReducer=e;var n=En,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var u=o=null,l=null,g=s;do{var h=g.lane;if((El&h)===h)l!==null&&(l=l.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),n=g.hasEagerState?g.eagerState:e(n,g.action);else{var _={lane:h,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};l===null?(u=l=_,o=n):l=l.next=_,an.lanes|=h,Dl|=h}g=g.next}while(g!==null&&g!==s);l===null?o=n:l.next=u,ja(n,t.memoizedState)||(Oi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,an.lanes|=s,Dl|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qv(e){var t=da(),r=t.queue;if(r===null)throw Error(Dt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);ja(s,t.memoizedState)||(Oi=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function MS(){}function AS(e,t){var r=an,n=da(),a=t(),s=!ja(n.memoizedState,a);if(s&&(n.memoizedState=a,Oi=!0),n=n.queue,E_(OS.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||In!==null&&In.memoizedState.tag&1){if(r.flags|=2048,tc(9,LS.bind(null,r,n,a,t),void 0,null),zn===null)throw Error(Dt(349));El&30||TS(r,t,a)}return a}function TS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=an.updateQueue,t===null?(t={lastEffect:null,stores:null},an.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function LS(e,t,r,n){t.value=r,t.getSnapshot=n,kS(t)&&PS(e)}function OS(e,t,r){return r(function(){kS(t)&&PS(e)})}function kS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ja(e,r)}catch{return!0}}function PS(e){var t=Ys(e,1);t!==null&&Ua(t,e,1,-1)}function e3(e){var t=as();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:e},t.queue=e,e=e.dispatch=mN.bind(null,an,e),[t.memoizedState,e]}function tc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=an.updateQueue,t===null?(t={lastEffect:null,stores:null},an.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function NS(){return da().memoizedState}function xp(e,t,r,n){var a=as();an.flags|=e,a.memoizedState=tc(1|t,r,void 0,n===void 0?null:n)}function n0(e,t,r,n){var a=da();n=n===void 0?null:n;var s=void 0;if(En!==null){var o=En.memoizedState;if(s=o.destroy,n!==null&&w_(n,o.deps)){a.memoizedState=tc(t,r,s,n);return}}an.flags|=e,a.memoizedState=tc(1|t,r,s,n)}function t3(e,t){return xp(8390656,8,e,t)}function E_(e,t){return n0(2048,8,e,t)}function IS(e,t){return n0(4,2,e,t)}function zS(e,t){return n0(4,4,e,t)}function FS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function BS(e,t,r){return r=r!=null?r.concat([e]):null,n0(4,4,FS.bind(null,t,e),r)}function D_(){}function RS(e,t){var r=da();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&w_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function US(e,t){var r=da();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&w_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jS(e,t,r){return El&21?(ja(r,t)||(r=H3(),an.lanes|=r,Dl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oi=!0),e.memoizedState=r)}function hN(e,t){var r=zr;zr=r!==0&&4>r?r:4,e(!0);var n=$v.transition;$v.transition={};try{e(!1),t()}finally{zr=r,$v.transition=n}}function WS(){return da().memoizedState}function pN(e,t,r){var n=To(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},GS(e))HS(t,r);else if(r=yS(e,t,r,n),r!==null){var a=hi();Ua(r,e,n,a),VS(r,t,n)}}function mN(e,t,r){var n=To(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(GS(e))HS(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,r);if(a.hasEagerState=!0,a.eagerState=u,ja(u,o)){var l=t.interleaved;l===null?(a.next=a,v_(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=yS(e,t,a,n),r!==null&&(a=hi(),Ua(r,e,n,a),VS(r,t,n))}}function GS(e){var t=e.alternate;return e===an||t!==null&&t===an}function HS(e,t){zd=Gp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function VS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n_(e,r)}}var Hp={readContext:fa,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},gN={readContext:fa,useCallback:function(e,t){return as().memoizedState=[e,t===void 0?null:t],e},useContext:fa,useEffect:t3,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xp(4194308,4,FS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xp(4194308,4,e,t)},useInsertionEffect:function(e,t){return xp(4,2,e,t)},useMemo:function(e,t){var r=as();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=as();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pN.bind(null,an,e),[n.memoizedState,e]},useRef:function(e){var t=as();return e={current:e},t.memoizedState=e},useState:e3,useDebugValue:D_,useDeferredValue:function(e){return as().memoizedState=e},useTransition:function(){var e=e3(!1),t=e[0];return e=hN.bind(null,e[1]),as().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=an,a=as();if(tn){if(r===void 0)throw Error(Dt(407));r=r()}else{if(r=t(),zn===null)throw Error(Dt(349));El&30||TS(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,t3(OS.bind(null,n,s,e),[e]),n.flags|=2048,tc(9,LS.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=as(),t=zn.identifierPrefix;if(tn){var r=Ws,n=js;r=(n&~(1<<32-Ra(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vN={readContext:fa,useCallback:RS,useContext:fa,useEffect:E_,useImperativeHandle:BS,useInsertionEffect:IS,useLayoutEffect:zS,useMemo:US,useReducer:Qv,useRef:NS,useState:function(){return Qv(ec)},useDebugValue:D_,useDeferredValue:function(e){var t=da();return jS(t,En.memoizedState,e)},useTransition:function(){var e=Qv(ec)[0],t=da().memoizedState;return[e,t]},useMutableSource:MS,useSyncExternalStore:AS,useId:WS,unstable_isNewReconciler:!1},_N={readContext:fa,useCallback:RS,useContext:fa,useEffect:E_,useImperativeHandle:BS,useInsertionEffect:IS,useLayoutEffect:zS,useMemo:US,useReducer:qv,useRef:NS,useState:function(){return qv(ec)},useDebugValue:D_,useDeferredValue:function(e){var t=da();return En===null?t.memoizedState=e:jS(t,En.memoizedState,e)},useTransition:function(){var e=qv(ec)[0],t=da().memoizedState;return[e,t]},useMutableSource:MS,useSyncExternalStore:AS,useId:WS,unstable_isNewReconciler:!1};function ef(e,t){try{var r="",n=t;do r+=Zk(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Jv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function I1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bN=typeof WeakMap=="function"?WeakMap:Map;function YS(e,t,r){r=Gs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yp||(Yp=!0,V1=n),I1(e,t)},r}function KS(e,t,r){r=Gs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){I1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){I1(e,t),typeof n!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function r3(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bN;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=PN.bind(null,e,t,r),t.then(e,e))}function n3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function i3(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gs(-1,1),t.tag=2,Mo(r,t,1))),r.lanes|=1),e)}var yN=Zs.ReactCurrentOwner,Oi=!1;function ci(e,t,r,n){t.child=e===null?ES(t,null,r,n):qu(t,e.child,r,n)}function a3(e,t,r,n,a){r=r.render;var s=t.ref;return Ku(t,a),n=S_(e,t,r,n,s,a),r=C_(),e!==null&&!Oi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a)):(tn&&r&&d_(t),t.flags|=1,ci(e,t,n,a),t.child)}function s3(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!N_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,ZS(e,t,s,n,a)):(e=Ep(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Kd,r(o,n)&&e.ref===t.ref)return Ks(e,t,a)}return t.flags|=1,e=Lo(s,n),e.ref=t.ref,e.return=t,t.child=e}function ZS(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Kd(s,n)&&e.ref===t.ref)if(Oi=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Oi=!0);else return t.lanes=e.lanes,Ks(e,t,a)}return z1(e,t,r,n,a)}function XS(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vr(Wu,Gi),Gi|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vr(Wu,Gi),Gi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Vr(Wu,Gi),Gi|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Vr(Wu,Gi),Gi|=n;return ci(e,t,a,r),t.child}function $S(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function z1(e,t,r,n,a){var s=Pi(r)?Sl:ei.current;return s=$u(t,s),Ku(t,a),r=S_(e,t,r,n,s,a),n=C_(),e!==null&&!Oi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a)):(tn&&n&&d_(t),t.flags|=1,ci(e,t,r,a),t.child)}function o3(e,t,r,n,a){if(Pi(r)){var s=!0;zp(t)}else s=!1;if(Ku(t,a),t.stateNode===null)wp(e,t),SS(t,r,n),N1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var l=o.context,g=r.contextType;typeof g=="object"&&g!==null?g=fa(g):(g=Pi(r)?Sl:ei.current,g=$u(t,g));var h=r.getDerivedStateFromProps,_=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||l!==g)&&q2(t,o,n,g),_o=!1;var x=t.memoizedState;o.state=x,jp(t,n,o,a),l=t.memoizedState,u!==n||x!==l||ki.current||_o?(typeof h=="function"&&(P1(t,r,h,n),l=t.memoizedState),(u=_o||Q2(t,r,u,n,x,l,g))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=g,n=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,xS(e,t),u=t.memoizedProps,g=t.type===t.elementType?u:za(t.type,u),o.props=g,_=t.pendingProps,x=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=fa(l):(l=Pi(r)?Sl:ei.current,l=$u(t,l));var S=r.getDerivedStateFromProps;(h=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==_||x!==l)&&q2(t,o,n,l),_o=!1,x=t.memoizedState,o.state=x,jp(t,n,o,a);var w=t.memoizedState;u!==_||x!==w||ki.current||_o?(typeof S=="function"&&(P1(t,r,S,n),w=t.memoizedState),(g=_o||Q2(t,r,g,n,x,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=l,n=g):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return F1(e,t,r,n,s,a)}function F1(e,t,r,n,a,s){$S(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Y2(t,r,!1),Ks(e,t,s);n=t.stateNode,yN.current=t;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=qu(t,e.child,null,s),t.child=qu(t,null,u,s)):ci(e,t,u,s),t.memoizedState=n.state,a&&Y2(t,r,!0),t.child}function QS(e){var t=e.stateNode;t.pendingContext?V2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&V2(e,t.context,!1),b_(e,t.containerInfo)}function l3(e,t,r,n,a){return Qu(),h_(a),t.flags|=256,ci(e,t,r,n),t.child}var B1={dehydrated:null,treeContext:null,retryLane:0};function R1(e){return{baseLanes:e,cachePool:null,transitions:null}}function qS(e,t,r){var n=t.pendingProps,a=nn.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(a&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Vr(nn,a&1),e===null)return O1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=s0(o,n,0,null),e=wl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=R1(r),t.memoizedState=B1,e):M_(t,o));if(a=e.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return xN(e,t,o,n,u,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,u=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Lo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),u!==null?s=Lo(u,s):(s=wl(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?R1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=B1,n}return s=e.child,e=s.sibling,n=Lo(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function M_(e,t){return t=s0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hp(e,t,r,n){return n!==null&&h_(n),qu(t,e.child,null,r),e=M_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xN(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Jv(Error(Dt(422))),hp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=s0({mode:"visible",children:n.children},a,0,null),s=wl(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&qu(t,e.child,null,o),t.child.memoizedState=R1(o),t.memoizedState=B1,s);if(!(t.mode&1))return hp(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(Dt(419)),n=Jv(s,n,void 0),hp(e,t,o,n)}if(u=(o&e.childLanes)!==0,Oi||u){if(n=zn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ys(e,a),Ua(n,e,a,-1))}return P_(),n=Jv(Error(Dt(421))),hp(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=NN.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Hi=Do(a.nextSibling),Vi=t,tn=!0,Ba=null,e!==null&&(sa[oa++]=js,sa[oa++]=Ws,sa[oa++]=Cl,js=e.id,Ws=e.overflow,Cl=t),t=M_(t,n.children),t.flags|=4096,t)}function u3(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),k1(e.return,t,r)}function e1(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function JS(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(ci(e,t,n.children,r),n=nn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&u3(e,r,t);else if(e.tag===19)u3(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Vr(nn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Wp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),e1(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Wp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}e1(t,!0,r,null,s);break;case"together":e1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Dt(153));if(t.child!==null){for(e=t.child,r=Lo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wN(e,t,r){switch(t.tag){case 3:QS(t),Qu();break;case 5:DS(t);break;case 1:Pi(t.type)&&zp(t);break;case 4:b_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Vr(Rp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Vr(nn,nn.current&1),t.flags|=128,null):r&t.child.childLanes?qS(e,t,r):(Vr(nn,nn.current&1),e=Ks(e,t,r),e!==null?e.sibling:null);Vr(nn,nn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return JS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Vr(nn,nn.current),n)break;return null;case 22:case 23:return t.lanes=0,XS(e,t,r)}return Ks(e,t,r)}var eC,U1,tC,rC;eC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};U1=function(){};tC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,yl(ls.current);var s=null;switch(r){case"input":a=l1(e,a),n=l1(e,n),s=[];break;case"select":a=sn({},a,{value:void 0}),n=sn({},n,{value:void 0}),s=[];break;case"textarea":a=d1(e,a),n=d1(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Np)}h1(r,n);var o;r=null;for(g in a)if(!n.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var u=a[g];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Ud.hasOwnProperty(g)?s||(s=[]):(s=s||[]).push(g,null));for(g in n){var l=n[g];if(u=a?.[g],n.hasOwnProperty(g)&&l!==u&&(l!=null||u!=null))if(g==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(g,r)),r=l;else g==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(g,l)):g==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(g,""+l):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Ud.hasOwnProperty(g)?(l!=null&&g==="onScroll"&&Xr("scroll",e),s||u===l||(s=[])):(s=s||[]).push(g,l))}r&&(s=s||[]).push("style",r);var g=s;(t.updateQueue=g)&&(t.flags|=4)}};rC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Cd(e,t){if(!tn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function SN(e,t,r){var n=t.pendingProps;switch(c_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(t),null;case 1:return Pi(t.type)&&Ip(),qn(t),null;case 3:return n=t.stateNode,Ju(),$r(ki),$r(ei),x_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ba!==null&&(Z1(Ba),Ba=null))),U1(e,t),qn(t),null;case 5:y_(t);var a=yl(qd.current);if(r=t.type,e!==null&&t.stateNode!=null)tC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Dt(166));return qn(t),null}if(e=yl(ls.current),dp(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ss]=t,n[$d]=s,e=(t.mode&1)!==0,r){case"dialog":Xr("cancel",n),Xr("close",n);break;case"iframe":case"object":case"embed":Xr("load",n);break;case"video":case"audio":for(a=0;a<Ld.length;a++)Xr(Ld[a],n);break;case"source":Xr("error",n);break;case"img":case"image":case"link":Xr("error",n),Xr("load",n);break;case"details":Xr("toggle",n);break;case"input":v2(n,s),Xr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Xr("invalid",n);break;case"textarea":b2(n,s),Xr("invalid",n)}h1(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&fp(n.textContent,u,e),a=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&fp(n.textContent,u,e),a=["children",""+u]):Ud.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Xr("scroll",n)}switch(r){case"input":qh(n),_2(n,s,!0);break;case"textarea":qh(n),y2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Np)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=T3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ss]=t,e[$d]=n,eC(e,t,!1,!1),t.stateNode=e;e:{switch(o=p1(r,n),r){case"dialog":Xr("cancel",e),Xr("close",e),a=n;break;case"iframe":case"object":case"embed":Xr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ld.length;a++)Xr(Ld[a],e);a=n;break;case"source":Xr("error",e),a=n;break;case"img":case"image":case"link":Xr("error",e),Xr("load",e),a=n;break;case"details":Xr("toggle",e),a=n;break;case"input":v2(e,n),a=l1(e,n),Xr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=sn({},n,{value:void 0}),Xr("invalid",e);break;case"textarea":b2(e,n),a=d1(e,n),Xr("invalid",e);break;default:a=n}h1(r,a),u=a;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?k3(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&L3(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&jd(e,l):typeof l=="number"&&jd(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ud.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xr("scroll",e):l!=null&&Q1(e,s,l,o))}switch(r){case"input":qh(e),_2(e,n,!1);break;case"textarea":qh(e),y2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Oo(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Gu(e,!!n.multiple,s,!1):n.defaultValue!=null&&Gu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Np)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qn(t),null;case 6:if(e&&t.stateNode!=null)rC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Dt(166));if(r=yl(qd.current),yl(ls.current),dp(t)){if(n=t.stateNode,r=t.memoizedProps,n[ss]=t,(s=n.nodeValue!==r)&&(e=Vi,e!==null))switch(e.tag){case 3:fp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fp(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ss]=t,t.stateNode=n}return qn(t),null;case 13:if($r(nn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tn&&Hi!==null&&t.mode&1&&!(t.flags&128))bS(),Qu(),t.flags|=98560,s=!1;else if(s=dp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Dt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Dt(317));s[ss]=t}else Qu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qn(t),s=!1}else Ba!==null&&(Z1(Ba),Ba=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nn.current&1?Dn===0&&(Dn=3):P_())),t.updateQueue!==null&&(t.flags|=4),qn(t),null);case 4:return Ju(),U1(e,t),e===null&&Zd(t.stateNode.containerInfo),qn(t),null;case 10:return g_(t.type._context),qn(t),null;case 17:return Pi(t.type)&&Ip(),qn(t),null;case 19:if($r(nn),s=t.memoizedState,s===null)return qn(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Cd(s,!1);else{if(Dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Wp(e),o!==null){for(t.flags|=128,Cd(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Vr(nn,nn.current&1|2),t.child}e=e.sibling}s.tail!==null&&vn()>tf&&(t.flags|=128,n=!0,Cd(s,!1),t.lanes=4194304)}else{if(!n)if(e=Wp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Cd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tn)return qn(t),null}else 2*vn()-s.renderingStartTime>tf&&r!==1073741824&&(t.flags|=128,n=!0,Cd(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=vn(),t.sibling=null,r=nn.current,Vr(nn,n?r&1|2:r&1),t):(qn(t),null);case 22:case 23:return k_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gi&1073741824&&(qn(t),t.subtreeFlags&6&&(t.flags|=8192)):qn(t),null;case 24:return null;case 25:return null}throw Error(Dt(156,t.tag))}function CN(e,t){switch(c_(t),t.tag){case 1:return Pi(t.type)&&Ip(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ju(),$r(ki),$r(ei),x_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return y_(t),null;case 13:if($r(nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Dt(340));Qu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $r(nn),null;case 4:return Ju(),null;case 10:return g_(t.type._context),null;case 22:case 23:return k_(),null;case 24:return null;default:return null}}var pp=!1,Jn=!1,EN=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function ju(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fn(e,t,n)}else r.current=null}function j1(e,t,r){try{r()}catch(n){fn(e,t,n)}}var f3=!1;function DN(e,t){if(C1=Op,e=sS(),f_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,l=-1,g=0,h=0,_=e,x=null;t:for(;;){for(var S;_!==r||a!==0&&_.nodeType!==3||(u=o+a),_!==s||n!==0&&_.nodeType!==3||(l=o+n),_.nodeType===3&&(o+=_.nodeValue.length),(S=_.firstChild)!==null;)x=_,_=S;for(;;){if(_===e)break t;if(x===r&&++g===a&&(u=o),x===s&&++h===n&&(l=o),(S=_.nextSibling)!==null)break;_=x,x=_.parentNode}_=S}r=u===-1||l===-1?null:{start:u,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(E1={focusedElem:e,selectionRange:r},Op=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){t=Rt;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var c=w.memoizedProps,v=w.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?c:za(t.type,c),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Dt(163))}}catch(E){fn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}return w=f3,f3=!1,w}function Fd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&j1(t,r,s)}a=a.next}while(a!==n)}}function i0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function W1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function nC(e){var t=e.alternate;t!==null&&(e.alternate=null,nC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ss],delete t[$d],delete t[A1],delete t[lN],delete t[uN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iC(e){return e.tag===5||e.tag===3||e.tag===4}function d3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function G1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Np));else if(n!==4&&(e=e.child,e!==null))for(G1(e,t,r),e=e.sibling;e!==null;)G1(e,t,r),e=e.sibling}function H1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(H1(e,t,r),e=e.sibling;e!==null;)H1(e,t,r),e=e.sibling}var Gn=null,Fa=!1;function go(e,t,r){for(r=r.child;r!==null;)aC(e,t,r),r=r.sibling}function aC(e,t,r){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount($p,r)}catch{}switch(r.tag){case 5:Jn||ju(r,t);case 6:var n=Gn,a=Fa;Gn=null,go(e,t,r),Gn=n,Fa=a,Gn!==null&&(Fa?(e=Gn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Gn.removeChild(r.stateNode));break;case 18:Gn!==null&&(Fa?(e=Gn,r=r.stateNode,e.nodeType===8?Kv(e.parentNode,r):e.nodeType===1&&Kv(e,r),Vd(e)):Kv(Gn,r.stateNode));break;case 4:n=Gn,a=Fa,Gn=r.stateNode.containerInfo,Fa=!0,go(e,t,r),Gn=n,Fa=a;break;case 0:case 11:case 14:case 15:if(!Jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&j1(r,t,o),a=a.next}while(a!==n)}go(e,t,r);break;case 1:if(!Jn&&(ju(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){fn(r,t,u)}go(e,t,r);break;case 21:go(e,t,r);break;case 22:r.mode&1?(Jn=(n=Jn)||r.memoizedState!==null,go(e,t,r),Jn=n):go(e,t,r);break;default:go(e,t,r)}}function c3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new EN),t.forEach(function(n){var a=IN.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ia(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:Gn=u.stateNode,Fa=!1;break e;case 3:Gn=u.stateNode.containerInfo,Fa=!0;break e;case 4:Gn=u.stateNode.containerInfo,Fa=!0;break e}u=u.return}if(Gn===null)throw Error(Dt(160));aC(s,o,a),Gn=null,Fa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(g){fn(a,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sC(t,e),t=t.sibling}function sC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ia(t,e),is(e),n&4){try{Fd(3,e,e.return),i0(3,e)}catch(c){fn(e,e.return,c)}try{Fd(5,e,e.return)}catch(c){fn(e,e.return,c)}}break;case 1:Ia(t,e),is(e),n&512&&r!==null&&ju(r,r.return);break;case 5:if(Ia(t,e),is(e),n&512&&r!==null&&ju(r,r.return),e.flags&32){var a=e.stateNode;try{jd(a,"")}catch(c){fn(e,e.return,c)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,u=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&M3(a,s),p1(u,o);var g=p1(u,s);for(o=0;o<l.length;o+=2){var h=l[o],_=l[o+1];h==="style"?k3(a,_):h==="dangerouslySetInnerHTML"?L3(a,_):h==="children"?jd(a,_):Q1(a,h,_,g)}switch(u){case"input":u1(a,s);break;case"textarea":A3(a,s);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Gu(a,!!s.multiple,S,!1):x!==!!s.multiple&&(s.defaultValue!=null?Gu(a,!!s.multiple,s.defaultValue,!0):Gu(a,!!s.multiple,s.multiple?[]:"",!1))}a[$d]=s}catch(c){fn(e,e.return,c)}}break;case 6:if(Ia(t,e),is(e),n&4){if(e.stateNode===null)throw Error(Dt(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(c){fn(e,e.return,c)}}break;case 3:if(Ia(t,e),is(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vd(t.containerInfo)}catch(c){fn(e,e.return,c)}break;case 4:Ia(t,e),is(e);break;case 13:Ia(t,e),is(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(L_=vn())),n&4&&c3(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Jn=(g=Jn)||h,Ia(t,e),Jn=g):Ia(t,e),is(e),n&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!h&&e.mode&1)for(Rt=e,h=e.child;h!==null;){for(_=Rt=h;Rt!==null;){switch(x=Rt,S=x.child,x.tag){case 0:case 11:case 14:case 15:Fd(4,x,x.return);break;case 1:ju(x,x.return);var w=x.stateNode;if(typeof w.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(c){fn(n,r,c)}}break;case 5:ju(x,x.return);break;case 22:if(x.memoizedState!==null){p3(_);continue}}S!==null?(S.return=x,Rt=S):p3(_)}h=h.sibling}e:for(h=null,_=e;;){if(_.tag===5){if(h===null){h=_;try{a=_.stateNode,g?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=_.stateNode,l=_.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=O3("display",o))}catch(c){fn(e,e.return,c)}}}else if(_.tag===6){if(h===null)try{_.stateNode.nodeValue=g?"":_.memoizedProps}catch(c){fn(e,e.return,c)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;h===_&&(h=null),_=_.return}h===_&&(h=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Ia(t,e),is(e),n&4&&c3(e);break;case 21:break;default:Ia(t,e),is(e)}}function is(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(iC(r)){var n=r;break e}r=r.return}throw Error(Dt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(jd(a,""),n.flags&=-33);var s=d3(e);H1(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,u=d3(e);G1(e,u,o);break;default:throw Error(Dt(161))}}catch(l){fn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MN(e,t,r){Rt=e,oC(e,t,r)}function oC(e,t,r){for(var n=(e.mode&1)!==0;Rt!==null;){var a=Rt,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||pp;if(!o){var u=a.alternate,l=u!==null&&u.memoizedState!==null||Jn;u=pp;var g=Jn;if(pp=o,(Jn=l)&&!g)for(Rt=a;Rt!==null;)o=Rt,l=o.child,o.tag===22&&o.memoizedState!==null?m3(a):l!==null?(l.return=o,Rt=l):m3(a);for(;s!==null;)Rt=s,oC(s,t,r),s=s.sibling;Rt=a,pp=u,Jn=g}h3(e,t,r)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Rt=s):h3(e,t,r)}}function h3(e){for(;Rt!==null;){var t=Rt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jn||i0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Jn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:za(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$2(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$2(t,o,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var h=g.memoizedState;if(h!==null){var _=h.dehydrated;_!==null&&Vd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Dt(163))}Jn||t.flags&512&&W1(t)}catch(x){fn(t,t.return,x)}}if(t===e){Rt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function p3(e){for(;Rt!==null;){var t=Rt;if(t===e){Rt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function m3(e){for(;Rt!==null;){var t=Rt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{i0(4,t)}catch(l){fn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){fn(t,a,l)}}var s=t.return;try{W1(t)}catch(l){fn(t,s,l)}break;case 5:var o=t.return;try{W1(t)}catch(l){fn(t,o,l)}}}catch(l){fn(t,t.return,l)}if(t===e){Rt=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Rt=u;break}Rt=t.return}}var AN=Math.ceil,Vp=Zs.ReactCurrentDispatcher,A_=Zs.ReactCurrentOwner,ua=Zs.ReactCurrentBatchConfig,Er=0,zn=null,xn=null,Hn=0,Gi=0,Wu=No(0),Dn=0,rc=null,Dl=0,a0=0,T_=0,Bd=null,Li=null,L_=0,tf=1/0,Rs=null,Yp=!1,V1=null,Ao=null,mp=!1,wo=null,Kp=0,Rd=0,Y1=null,Sp=-1,Cp=0;function hi(){return Er&6?vn():Sp!==-1?Sp:Sp=vn()}function To(e){return e.mode&1?Er&2&&Hn!==0?Hn&-Hn:dN.transition!==null?(Cp===0&&(Cp=H3()),Cp):(e=zr,e!==0||(e=window.event,e=e===void 0?16:Q3(e.type)),e):1}function Ua(e,t,r,n){if(50<Rd)throw Rd=0,Y1=null,Error(Dt(185));nc(e,r,n),(!(Er&2)||e!==zn)&&(e===zn&&(!(Er&2)&&(a0|=r),Dn===4&&yo(e,Hn)),Ni(e,n),r===1&&Er===0&&!(t.mode&1)&&(tf=vn()+500,t0&&Io()))}function Ni(e,t){var r=e.callbackNode;hP(e,t);var n=Lp(e,e===zn?Hn:0);if(n===0)r!==null&&S2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&S2(r),t===1)e.tag===0?fN(g3.bind(null,e)):gS(g3.bind(null,e)),sN(function(){!(Er&6)&&Io()}),r=null;else{switch(V3(n)){case 1:r=r_;break;case 4:r=W3;break;case 16:r=Tp;break;case 536870912:r=G3;break;default:r=Tp}r=mC(r,lC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lC(e,t){if(Sp=-1,Cp=0,Er&6)throw Error(Dt(327));var r=e.callbackNode;if(Zu()&&e.callbackNode!==r)return null;var n=Lp(e,e===zn?Hn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zp(e,n);else{t=n;var a=Er;Er|=2;var s=fC();(zn!==e||Hn!==t)&&(Rs=null,tf=vn()+500,xl(e,t));do try{ON();break}catch(u){uC(e,u)}while(!0);m_(),Vp.current=s,Er=a,xn!==null?t=0:(zn=null,Hn=0,t=Dn)}if(t!==0){if(t===2&&(a=b1(e),a!==0&&(n=a,t=K1(e,a))),t===1)throw r=rc,xl(e,0),yo(e,n),Ni(e,vn()),r;if(t===6)yo(e,n);else{if(a=e.current.alternate,!(n&30)&&!TN(a)&&(t=Zp(e,n),t===2&&(s=b1(e),s!==0&&(n=s,t=K1(e,s))),t===1))throw r=rc,xl(e,0),yo(e,n),Ni(e,vn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Dt(345));case 2:vl(e,Li,Rs);break;case 3:if(yo(e,n),(n&130023424)===n&&(t=L_+500-vn(),10<t)){if(Lp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){hi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=M1(vl.bind(null,e,Li,Rs),t);break}vl(e,Li,Rs);break;case 4:if(yo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ra(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AN(n/1960))-n,10<n){e.timeoutHandle=M1(vl.bind(null,e,Li,Rs),n);break}vl(e,Li,Rs);break;case 5:vl(e,Li,Rs);break;default:throw Error(Dt(329))}}}return Ni(e,vn()),e.callbackNode===r?lC.bind(null,e):null}function K1(e,t){var r=Bd;return e.current.memoizedState.isDehydrated&&(xl(e,t).flags|=256),e=Zp(e,t),e!==2&&(t=Li,Li=r,t!==null&&Z1(t)),e}function Z1(e){Li===null?Li=e:Li.push.apply(Li,e)}function TN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ja(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yo(e,t){for(t&=~T_,t&=~a0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ra(t),n=1<<r;e[r]=-1,t&=~n}}function g3(e){if(Er&6)throw Error(Dt(327));Zu();var t=Lp(e,0);if(!(t&1))return Ni(e,vn()),null;var r=Zp(e,t);if(e.tag!==0&&r===2){var n=b1(e);n!==0&&(t=n,r=K1(e,n))}if(r===1)throw r=rc,xl(e,0),yo(e,t),Ni(e,vn()),r;if(r===6)throw Error(Dt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vl(e,Li,Rs),Ni(e,vn()),null}function O_(e,t){var r=Er;Er|=1;try{return e(t)}finally{Er=r,Er===0&&(tf=vn()+500,t0&&Io())}}function Ml(e){wo!==null&&wo.tag===0&&!(Er&6)&&Zu();var t=Er;Er|=1;var r=ua.transition,n=zr;try{if(ua.transition=null,zr=1,e)return e()}finally{zr=n,ua.transition=r,Er=t,!(Er&6)&&Io()}}function k_(){Gi=Wu.current,$r(Wu)}function xl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aN(r)),xn!==null)for(r=xn.return;r!==null;){var n=r;switch(c_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ip();break;case 3:Ju(),$r(ki),$r(ei),x_();break;case 5:y_(n);break;case 4:Ju();break;case 13:$r(nn);break;case 19:$r(nn);break;case 10:g_(n.type._context);break;case 22:case 23:k_()}r=r.return}if(zn=e,xn=e=Lo(e.current,null),Hn=Gi=t,Dn=0,rc=null,T_=a0=Dl=0,Li=Bd=null,bl!==null){for(t=0;t<bl.length;t++)if(r=bl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}bl=null}return e}function uC(e,t){do{var r=xn;try{if(m_(),yp.current=Hp,Gp){for(var n=an.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Gp=!1}if(El=0,In=En=an=null,zd=!1,Jd=0,A_.current=null,r===null||r.return===null){Dn=1,rc=t,xn=null;break}e:{var s=e,o=r.return,u=r,l=t;if(t=Hn,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var g=l,h=u,_=h.tag;if(!(h.mode&1)&&(_===0||_===11||_===15)){var x=h.alternate;x?(h.updateQueue=x.updateQueue,h.memoizedState=x.memoizedState,h.lanes=x.lanes):(h.updateQueue=null,h.memoizedState=null)}var S=n3(o);if(S!==null){S.flags&=-257,i3(S,o,u,s,t),S.mode&1&&r3(s,g,t),t=S,l=g;var w=t.updateQueue;if(w===null){var c=new Set;c.add(l),t.updateQueue=c}else w.add(l);break e}else{if(!(t&1)){r3(s,g,t),P_();break e}l=Error(Dt(426))}}else if(tn&&u.mode&1){var v=n3(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),i3(v,o,u,s,t),h_(ef(l,u));break e}}s=l=ef(l,u),Dn!==4&&(Dn=2),Bd===null?Bd=[s]:Bd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=YS(s,l,t);X2(s,y);break e;case 1:u=l;var b=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ao===null||!Ao.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=KS(s,u,t);X2(s,E);break e}}s=s.return}while(s!==null)}cC(r)}catch(p){t=p,xn===r&&r!==null&&(xn=r=r.return);continue}break}while(!0)}function fC(){var e=Vp.current;return Vp.current=Hp,e===null?Hp:e}function P_(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),zn===null||!(Dl&268435455)&&!(a0&268435455)||yo(zn,Hn)}function Zp(e,t){var r=Er;Er|=2;var n=fC();(zn!==e||Hn!==t)&&(Rs=null,xl(e,t));do try{LN();break}catch(a){uC(e,a)}while(!0);if(m_(),Er=r,Vp.current=n,xn!==null)throw Error(Dt(261));return zn=null,Hn=0,Dn}function LN(){for(;xn!==null;)dC(xn)}function ON(){for(;xn!==null&&!iP();)dC(xn)}function dC(e){var t=pC(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,t===null?cC(e):xn=t,A_.current=null}function cC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=CN(r,t),r!==null){r.flags&=32767,xn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,xn=null;return}}else if(r=SN(r,t,Gi),r!==null){xn=r;return}if(t=t.sibling,t!==null){xn=t;return}xn=t=e}while(t!==null);Dn===0&&(Dn=5)}function vl(e,t,r){var n=zr,a=ua.transition;try{ua.transition=null,zr=1,kN(e,t,r,n)}finally{ua.transition=a,zr=n}return null}function kN(e,t,r,n){do Zu();while(wo!==null);if(Er&6)throw Error(Dt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Dt(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(pP(e,s),e===zn&&(xn=zn=null,Hn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mp||(mp=!0,mC(Tp,function(){return Zu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ua.transition,ua.transition=null;var o=zr;zr=1;var u=Er;Er|=4,A_.current=null,DN(e,r),sC(r,e),eN(E1),Op=!!C1,E1=C1=null,e.current=r,MN(r,e,a),aP(),Er=u,zr=o,ua.transition=s}else e.current=r;if(mp&&(mp=!1,wo=e,Kp=a),s=e.pendingLanes,s===0&&(Ao=null),lP(r.stateNode,n),Ni(e,vn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Yp)throw Yp=!1,e=V1,V1=null,e;return Kp&1&&e.tag!==0&&Zu(),s=e.pendingLanes,s&1?e===Y1?Rd++:(Rd=0,Y1=e):Rd=0,Io(),null}function Zu(){if(wo!==null){var e=V3(Kp),t=ua.transition,r=zr;try{if(ua.transition=null,zr=16>e?16:e,wo===null)var n=!1;else{if(e=wo,wo=null,Kp=0,Er&6)throw Error(Dt(331));var a=Er;for(Er|=4,Rt=e.current;Rt!==null;){var s=Rt,o=s.child;if(Rt.flags&16){var u=s.deletions;if(u!==null){for(var l=0;l<u.length;l++){var g=u[l];for(Rt=g;Rt!==null;){var h=Rt;switch(h.tag){case 0:case 11:case 15:Fd(8,h,s)}var _=h.child;if(_!==null)_.return=h,Rt=_;else for(;Rt!==null;){h=Rt;var x=h.sibling,S=h.return;if(nC(h),h===g){Rt=null;break}if(x!==null){x.return=S,Rt=x;break}Rt=S}}}var w=s.alternate;if(w!==null){var c=w.child;if(c!==null){w.child=null;do{var v=c.sibling;c.sibling=null,c=v}while(c!==null)}}Rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Rt=o;else e:for(;Rt!==null;){if(s=Rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fd(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Rt=y;break e}Rt=s.return}}var b=e.current;for(Rt=b;Rt!==null;){o=Rt;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Rt=C;else e:for(o=b;Rt!==null;){if(u=Rt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:i0(9,u)}}catch(p){fn(u,u.return,p)}if(u===o){Rt=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,Rt=E;break e}Rt=u.return}}if(Er=a,Io(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot($p,e)}catch{}n=!0}return n}finally{zr=r,ua.transition=t}}return!1}function v3(e,t,r){t=ef(r,t),t=YS(e,t,1),e=Mo(e,t,1),t=hi(),e!==null&&(nc(e,1,t),Ni(e,t))}function fn(e,t,r){if(e.tag===3)v3(e,e,r);else for(;t!==null;){if(t.tag===3){v3(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ao===null||!Ao.has(n))){e=ef(r,e),e=KS(t,e,1),t=Mo(t,e,1),e=hi(),t!==null&&(nc(t,1,e),Ni(t,e));break}}t=t.return}}function PN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hi(),e.pingedLanes|=e.suspendedLanes&r,zn===e&&(Hn&r)===r&&(Dn===4||Dn===3&&(Hn&130023424)===Hn&&500>vn()-L_?xl(e,0):T_|=r),Ni(e,t)}function hC(e,t){t===0&&(e.mode&1?(t=tp,tp<<=1,!(tp&130023424)&&(tp=4194304)):t=1);var r=hi();e=Ys(e,t),e!==null&&(nc(e,t,r),Ni(e,r))}function NN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hC(e,r)}function IN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Dt(314))}n!==null&&n.delete(t),hC(e,r)}var pC;pC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ki.current)Oi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Oi=!1,wN(e,t,r);Oi=!!(e.flags&131072)}else Oi=!1,tn&&t.flags&1048576&&vS(t,Bp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wp(e,t),e=t.pendingProps;var a=$u(t,ei.current);Ku(t,r),a=S_(null,t,n,e,a,r);var s=C_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(n)?(s=!0,zp(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,__(t),a.updater=r0,t.stateNode=a,a._reactInternals=t,N1(t,n,e,r),t=F1(null,t,n,!0,s,r)):(t.tag=0,tn&&s&&d_(t),ci(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=FN(n),e=za(n,e),a){case 0:t=z1(null,t,n,e,r);break e;case 1:t=o3(null,t,n,e,r);break e;case 11:t=a3(null,t,n,e,r);break e;case 14:t=s3(null,t,n,za(n.type,e),r);break e}throw Error(Dt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:za(n,a),z1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:za(n,a),o3(e,t,n,a,r);case 3:e:{if(QS(t),e===null)throw Error(Dt(387));n=t.pendingProps,s=t.memoizedState,a=s.element,xS(e,t),jp(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=ef(Error(Dt(423)),t),t=l3(e,t,n,r,a);break e}else if(n!==a){a=ef(Error(Dt(424)),t),t=l3(e,t,n,r,a);break e}else for(Hi=Do(t.stateNode.containerInfo.firstChild),Vi=t,tn=!0,Ba=null,r=ES(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qu(),n===a){t=Ks(e,t,r);break e}ci(e,t,n,r)}t=t.child}return t;case 5:return DS(t),e===null&&O1(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,D1(n,a)?o=null:s!==null&&D1(n,s)&&(t.flags|=32),$S(e,t),ci(e,t,o,r),t.child;case 6:return e===null&&O1(t),null;case 13:return qS(e,t,r);case 4:return b_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qu(t,null,n,r):ci(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:za(n,a),a3(e,t,n,a,r);case 7:return ci(e,t,t.pendingProps,r),t.child;case 8:return ci(e,t,t.pendingProps.children,r),t.child;case 12:return ci(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Vr(Rp,n._currentValue),n._currentValue=o,s!==null)if(ja(s.value,o)){if(s.children===a.children&&!ki.current){t=Ks(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Gs(-1,r&-r),l.tag=2;var g=s.updateQueue;if(g!==null){g=g.shared;var h=g.pending;h===null?l.next=l:(l.next=h.next,h.next=l),g.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),k1(s.return,r,t),u.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Dt(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),k1(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ci(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ku(t,r),a=fa(a),n=n(a),t.flags|=1,ci(e,t,n,r),t.child;case 14:return n=t.type,a=za(n,t.pendingProps),a=za(n.type,a),s3(e,t,n,a,r);case 15:return ZS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:za(n,a),wp(e,t),t.tag=1,Pi(n)?(e=!0,zp(t)):e=!1,Ku(t,r),SS(t,n,a),N1(t,n,a,r),F1(null,t,n,!0,e,r);case 19:return JS(e,t,r);case 22:return XS(e,t,r)}throw Error(Dt(156,t.tag))};function mC(e,t){return j3(e,t)}function zN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(e,t,r,n){return new zN(e,t,r,n)}function N_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FN(e){if(typeof e=="function")return N_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J1)return 11;if(e===e_)return 14}return 2}function Lo(e,t){var r=e.alternate;return r===null?(r=la(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ep(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")N_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ku:return wl(r.children,a,s,t);case q1:o=8,a|=8;break;case i1:return e=la(12,r,t,a|2),e.elementType=i1,e.lanes=s,e;case a1:return e=la(13,r,t,a),e.elementType=a1,e.lanes=s,e;case s1:return e=la(19,r,t,a),e.elementType=s1,e.lanes=s,e;case C3:return s0(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w3:o=10;break e;case S3:o=9;break e;case J1:o=11;break e;case e_:o=14;break e;case vo:o=16,n=null;break e}throw Error(Dt(130,e==null?e:typeof e,""))}return t=la(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function wl(e,t,r,n){return e=la(7,e,n,t),e.lanes=r,e}function s0(e,t,r,n){return e=la(22,e,n,t),e.elementType=C3,e.lanes=r,e.stateNode={isHidden:!1},e}function t1(e,t,r){return e=la(6,e,null,t),e.lanes=r,e}function r1(e,t,r){return t=la(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BN(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rv(0),this.expirationTimes=Rv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function I_(e,t,r,n,a,s,o,u,l){return e=new BN(e,t,r,u,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=la(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},__(s),e}function RN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ou,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function gC(e){if(!e)return ko;e=e._reactInternals;e:{if(Tl(e)!==e||e.tag!==1)throw Error(Dt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Dt(171))}if(e.tag===1){var r=e.type;if(Pi(r))return mS(e,r,t)}return t}function vC(e,t,r,n,a,s,o,u,l){return e=I_(r,n,!0,e,a,s,o,u,l),e.context=gC(null),r=e.current,n=hi(),a=To(r),s=Gs(n,a),s.callback=t??null,Mo(r,s,a),e.current.lanes=a,nc(e,a,n),Ni(e,n),e}function o0(e,t,r,n){var a=t.current,s=hi(),o=To(a);return r=gC(r),t.context===null?t.context=r:t.pendingContext=r,t=Gs(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mo(a,t,o),e!==null&&(Ua(e,a,o,s),bp(e,a,o)),o}function Xp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function z_(e,t){_3(e,t),(e=e.alternate)&&_3(e,t)}function UN(){return null}var _C=typeof reportError=="function"?reportError:function(e){console.error(e)};function F_(e){this._internalRoot=e}l0.prototype.render=F_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Dt(409));o0(e,t,null,null)};l0.prototype.unmount=F_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ml(function(){o0(null,e,null,null)}),t[Vs]=null}};function l0(e){this._internalRoot=e}l0.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bo.length&&t!==0&&t<bo[r].priority;r++);bo.splice(r,0,e),r===0&&$3(e)}};function B_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function b3(){}function jN(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var g=Xp(o);s.call(g)}}var o=vC(t,n,e,0,null,!1,!1,"",b3);return e._reactRootContainer=o,e[Vs]=o.current,Zd(e.nodeType===8?e.parentNode:e),Ml(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var u=n;n=function(){var g=Xp(l);u.call(g)}}var l=I_(e,0,!1,null,null,!1,!1,"",b3);return e._reactRootContainer=l,e[Vs]=l.current,Zd(e.nodeType===8?e.parentNode:e),Ml(function(){o0(t,l,r,n)}),l}function f0(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var u=a;a=function(){var l=Xp(o);u.call(l)}}o0(t,o,e,a)}else o=jN(r,t,e,a,n);return Xp(o)}Y3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Td(t.pendingLanes);r!==0&&(n_(t,r|1),Ni(t,vn()),!(Er&6)&&(tf=vn()+500,Io()))}break;case 13:Ml(function(){var n=Ys(e,1);if(n!==null){var a=hi();Ua(n,e,1,a)}}),z_(e,1)}};i_=function(e){if(e.tag===13){var t=Ys(e,134217728);if(t!==null){var r=hi();Ua(t,e,134217728,r)}z_(e,134217728)}};K3=function(e){if(e.tag===13){var t=To(e),r=Ys(e,t);if(r!==null){var n=hi();Ua(r,e,t,n)}z_(e,t)}};Z3=function(){return zr};X3=function(e,t){var r=zr;try{return zr=e,t()}finally{zr=r}};g1=function(e,t,r){switch(t){case"input":if(u1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=e0(n);if(!a)throw Error(Dt(90));D3(n),u1(n,a)}}}break;case"textarea":A3(e,r);break;case"select":t=r.value,t!=null&&Gu(e,!!r.multiple,t,!1)}};I3=O_;z3=Ml;var WN={usingClientEntryPoint:!1,Events:[ac,zu,e0,P3,N3,O_]},Ed={findFiberByHostInstance:_l,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},GN={bundleType:Ed.bundleType,version:Ed.version,rendererPackageName:Ed.rendererPackageName,rendererConfig:Ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=R3(e),e===null?null:e.stateNode},findFiberByHostInstance:Ed.findFiberByHostInstance||UN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Dd.isDisabled&&Dd.supportsFiber))try{$p=Dd.inject(GN),os=Dd}catch{}var Dd;Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WN;Zi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B_(t))throw Error(Dt(200));return RN(e,t,null,r)};Zi.createRoot=function(e,t){if(!B_(e))throw Error(Dt(299));var r=!1,n="",a=_C;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=I_(e,1,!1,null,null,r,!1,n,a),e[Vs]=t.current,Zd(e.nodeType===8?e.parentNode:e),new F_(t)};Zi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Dt(188)):(e=Object.keys(e).join(","),Error(Dt(268,e)));return e=R3(t),e=e===null?null:e.stateNode,e};Zi.flushSync=function(e){return Ml(e)};Zi.hydrate=function(e,t,r){if(!u0(t))throw Error(Dt(200));return f0(null,e,t,!0,r)};Zi.hydrateRoot=function(e,t,r){if(!B_(e))throw Error(Dt(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=_C;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=vC(t,null,e,1,r??null,a,!1,s,o),e[Vs]=t.current,Zd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new l0(t)};Zi.render=function(e,t,r){if(!u0(t))throw Error(Dt(200));return f0(null,e,t,!1,r)};Zi.unmountComponentAtNode=function(e){if(!u0(e))throw Error(Dt(40));return e._reactRootContainer?(Ml(function(){f0(null,null,e,!1,function(){e._reactRootContainer=null,e[Vs]=null})}),!0):!1};Zi.unstable_batchedUpdates=O_;Zi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!u0(r))throw Error(Dt(200));if(e==null||e._reactInternals===void 0)throw Error(Dt(38));return f0(e,t,r,!1,n)};Zi.version="18.2.0-next-9e3b772b8-20220608"});var wC=Pn((iU,xC)=>{"use strict";function yC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yC)}catch(e){console.error(e)}}yC(),xC.exports=bC()});var CC=Pn(R_=>{"use strict";var SC=wC();R_.createRoot=SC.createRoot,R_.hydrateRoot=SC.hydrateRoot;var aU});var EC=Pn((exports,module)=>{(function(t,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define([],r):typeof exports=="object"?exports["3Dmol"]=r():t["3Dmol"]=r()})(exports,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{IOBuffer:()=>u});var n=r("./node_modules/iobuffer/lib-esm/text.browser.js");let a=1024*8,s=(()=>{let l=new Uint8Array(4),g=new Uint32Array(l.buffer);return!((g[0]=1)&l[0])})(),o={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class u{constructor(g=a,h={}){let _=!1;typeof g=="number"?g=new ArrayBuffer(g):(_=!0,this.lastWrittenByte=g.byteLength);let x=h.offset?h.offset>>>0:0,S=g.byteLength-x,w=x;(ArrayBuffer.isView(g)||g instanceof u)&&(g.byteLength!==g.buffer.byteLength&&(w=g.byteOffset+x),g=g.buffer),_?this.lastWrittenByte=S:this.lastWrittenByte=0,this.buffer=g,this.length=S,this.byteLength=S,this.byteOffset=w,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,w,S),this._mark=0,this._marks=[]}available(g=1){return this.offset+g<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(g=1){return this.offset+=g,this}back(g=1){return this.offset-=g,this}seek(g){return this.offset=g,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let g=this._marks.pop();if(g===void 0)throw new Error("Mark stack empty");return this.seek(g),this}rewind(){return this.offset=0,this}ensureAvailable(g=1){if(!this.available(g)){let _=(this.offset+g)*2,x=new Uint8Array(_);x.set(new Uint8Array(this.buffer)),this.buffer=x.buffer,this.length=this.byteLength=_,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(g=1){return this.readArray(g,"uint8")}readArray(g,h){let _=o[h].BYTES_PER_ELEMENT*g,x=this.byteOffset+this.offset,S=this.buffer.slice(x,x+_);if(this.littleEndian===s&&h!=="uint8"&&h!=="int8"){let c=new Uint8Array(this.buffer.slice(x,x+_));c.reverse();let v=new o[h](c.buffer);return this.offset+=_,v.reverse(),v}let w=new o[h](S);return this.offset+=_,w}readInt16(){let g=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,g}readUint16(){let g=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,g}readInt32(){let g=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,g}readUint32(){let g=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,g}readFloat32(){let g=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,g}readFloat64(){let g=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,g}readBigInt64(){let g=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,g}readBigUint64(){let g=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,g}readChar(){return String.fromCharCode(this.readInt8())}readChars(g=1){let h="";for(let _=0;_<g;_++)h+=this.readChar();return h}readUtf8(g=1){return(0,n.decode)(this.readBytes(g))}decodeText(g=1,h="utf-8"){return(0,n.decode)(this.readBytes(g),h)}writeBoolean(g){return this.writeUint8(g?255:0),this}writeInt8(g){return this.ensureAvailable(1),this._data.setInt8(this.offset++,g),this._updateLastWrittenByte(),this}writeUint8(g){return this.ensureAvailable(1),this._data.setUint8(this.offset++,g),this._updateLastWrittenByte(),this}writeByte(g){return this.writeUint8(g)}writeBytes(g){this.ensureAvailable(g.length);for(let h=0;h<g.length;h++)this._data.setUint8(this.offset++,g[h]);return this._updateLastWrittenByte(),this}writeInt16(g){return this.ensureAvailable(2),this._data.setInt16(this.offset,g,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(g){return this.ensureAvailable(2),this._data.setUint16(this.offset,g,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(g){return this.ensureAvailable(4),this._data.setInt32(this.offset,g,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(g){return this.ensureAvailable(4),this._data.setUint32(this.offset,g,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(g){return this.ensureAvailable(4),this._data.setFloat32(this.offset,g,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(g){return this.ensureAvailable(8),this._data.setFloat64(this.offset,g,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(g){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,g,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(g){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,g,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(g){return this.writeUint8(g.charCodeAt(0))}writeChars(g){for(let h=0;h<g.length;h++)this.writeUint8(g.charCodeAt(h));return this}writeUtf8(g){return this.writeBytes((0,n.encode)(g))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){"use strict";(function(e){"use strict";if(e.TextEncoder&&e.TextDecoder)return!1;function t(n="utf-8"){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${n}') is invalid.`)}Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let s=0,o=n.length,u=[],l=0,g=Math.max(32,o+(o>>1)+7),h=new Uint8Array(g>>3<<3);for(;s<o;){let _=n.charCodeAt(s++);if(_>=55296&&_<=56319){if(s<o){let x=n.charCodeAt(s);(x&64512)===56320&&(++s,_=((_&1023)<<10)+(x&1023)+65536)}if(_>=55296&&_<=56319)continue}if(l+4>h.length){g+=8,g*=1+s/n.length*2,g=g>>3<<3;let x=new Uint8Array(g);x.set(h),h=x}if(_&4294967168)if(!(_&4294965248))h[l++]=_>>6&31|192;else if(!(_&4294901760))h[l++]=_>>12&15|224,h[l++]=_>>6&63|128;else if(!(_&4292870144))h[l++]=_>>18&7|240,h[l++]=_>>12&63|128,h[l++]=_>>6&63|128;else continue;else{h[l++]=_;continue}h[l++]=_&63|128}return h.slice(0,l)};function r(n="utf-8",a={fatal:!1}){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${n}') is invalid.`);if(a.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");let s=new Uint8Array(n),o=0,u=s.length,l=[];for(;o<u;){let g=s[o++];if(g===0)break;if(!(g&128))l.push(g);else if((g&224)===192){let h=s[o++]&63;l.push((g&31)<<6|h)}else if((g&240)===224){let h=s[o++]&63,_=s[o++]&63;l.push((g&31)<<12|h<<6|_)}else if((g&248)===240){let h=s[o++]&63,_=s[o++]&63,x=s[o++]&63,S=(g&7)<<18|h<<12|_<<6|x;S>65535&&(S-=65536,l.push(S>>>10&1023|55296),S=56320|S&1023),l.push(S)}}return String.fromCharCode.apply(null,l)},e.TextEncoder=t,e.TextDecoder=r})(typeof window<"u"?window:typeof self<"u"?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>s,encode:()=>u});var n=r("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js"),a=r.n(n);function s(l,g="utf8"){return new TextDecoder(g).decode(l)}let o=new TextEncoder;function u(l){return o.encode(l)}},"./node_modules/netcdfjs/lib-esm/data.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{nonRecord:()=>a,record:()=>s});var n=r("./node_modules/netcdfjs/lib-esm/types.js");function a(o,u){let l=(0,n.str2num)(u.type),g=u.size/(0,n.num2bytes)(l),h=new Array(g);for(let _=0;_<g;_++)h[_]=(0,n.readType)(o,l,1);return h}function s(o,u,l){let g=(0,n.str2num)(u.type),h=u.size?u.size/(0,n.num2bytes)(g):1,_=l.length,x=new Array(_),S=l.recordStep;if(S)for(let w=0;w<_;w++){let c=o.offset;x[w]=(0,n.readType)(o,g,h),o.seek(c+S)}else throw new Error("recordDimension.recordStep is undefined");return x}},"./node_modules/netcdfjs/lib-esm/header.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{header:()=>h});var n=r("./node_modules/netcdfjs/lib-esm/types.js"),a=r("./node_modules/netcdfjs/lib-esm/utils.js");let s=0,o=10,u=11,l=12,g=0;function h(w,c){let v={version:c},y={length:w.readUint32()},b=_(w);Array.isArray(b)||(y.id=b.recordId,y.name=b.recordName,v.dimensions=b.dimensions),v.globalAttributes=x(w);let C=S(w,y?.id,c);return Array.isArray(C)||(v.variables=C.variables,y.recordStep=C.recordStep),v.recordDimension=y,v}function _(w){let c={},v,y,b=w.readUint32(),C;if(b===s)return(0,a.notNetcdf)(w.readUint32()!==s,"wrong empty tag for list of dimensions"),[];{(0,a.notNetcdf)(b!==o,"wrong tag for list of dimensions");let E=w.readUint32();C=new Array(E);for(let p=0;p<E;p++){let f=(0,a.readName)(w),D=w.readUint32();D===g&&(v=p,y=f),C[p]={name:f,size:D}}}return v!==void 0&&(c.recordId=v),y!==void 0&&(c.recordName=y),c.dimensions=C,c}function x(w){let c=w.readUint32(),v;if(c===s)return(0,a.notNetcdf)(w.readUint32()!==s,"wrong empty tag for list of attributes"),[];{(0,a.notNetcdf)(c!==l,"wrong tag for list of attributes");let y=w.readUint32();v=new Array(y);for(let b=0;b<y;b++){let C=(0,a.readName)(w),E=w.readUint32();(0,a.notNetcdf)(E<1||E>6,`non valid type ${E}`);let p=w.readUint32(),f=(0,n.readType)(w,E,p);(0,a.padding)(w),v[b]={name:C,type:(0,n.num2str)(E),value:f}}}return v}function S(w,c,v){let y=w.readUint32(),b=0,C;if(y===s)return(0,a.notNetcdf)(w.readUint32()!==s,"wrong empty tag for list of variables"),[];{(0,a.notNetcdf)(y!==u,"wrong tag for list of variables");let E=w.readUint32();C=new Array(E);for(let p=0;p<E;p++){let f=(0,a.readName)(w),D=w.readUint32(),M=new Array(D);for(let H=0;H<D;H++)M[H]=w.readUint32();let P=x(w),O=w.readUint32();(0,a.notNetcdf)(O<1&&O>6,`non valid type ${O}`);let z=w.readUint32(),k=w.readUint32();v===2&&((0,a.notNetcdf)(k>0,"offsets larger than 4GB not supported"),k=w.readUint32());let I=!1;typeof c<"u"&&M[0]===c&&(b+=z,I=!0),C[p]={name:f,dimensions:M,attributes:P,type:(0,n.num2str)(O),size:z,offset:k,record:I}}}return{variables:C,recordStep:b}}},"./node_modules/netcdfjs/lib-esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NetCDFReader:()=>n.NetCDFReader});var n=r("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NetCDFReader:()=>l});var n=r("./node_modules/iobuffer/lib-esm/IOBuffer.js"),a=r("./node_modules/netcdfjs/lib-esm/data.js"),s=r("./node_modules/netcdfjs/lib-esm/header.js"),o=r("./node_modules/netcdfjs/lib-esm/toString.js"),u=r("./node_modules/netcdfjs/lib-esm/utils.js");class l{constructor(h){this.toString=o.toString;let _=new n.IOBuffer(h);_.setBigEndian(),(0,u.notNetcdf)(_.readChars(3)!=="CDF","should start with CDF");let x=_.readByte();(0,u.notNetcdf)(x>2,"unknown version"),this.header=(0,s.header)(_,x),this.buffer=_}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(h){let _=this.globalAttributes.find(x=>x.name===h);return _?_.value:null}getDataVariableAsString(h){let _=this.getDataVariable(h);return _?_.join(""):null}get variables(){return this.header.variables}getDataVariable(h){let _;if(typeof h=="string"?_=this.header.variables.find(x=>x.name===h):_=h,_===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(_.offset),_.record?(0,a.record)(this.buffer,_,this.header.recordDimension):(0,a.nonRecord)(this.buffer,_)}dataVariableExists(h){return this.header.variables.find(x=>x.name===h)!==void 0}attributeExists(h){return this.globalAttributes.find(x=>x.name===h)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{toString:()=>n});function n(){let a=[];a.push("DIMENSIONS");for(let o of this.dimensions)a.push(`  ${o.name.padEnd(30)} = size: ${o.size}`);a.push(""),a.push("GLOBAL ATTRIBUTES");for(let o of this.globalAttributes)a.push(`  ${o.name.padEnd(30)} = ${o.value}`);let s=JSON.parse(JSON.stringify(this.variables));a.push(""),a.push("VARIABLES:");for(let o of s){o.value=this.getDataVariable(o);let u=JSON.stringify(o.value);u.length>50&&(u=u.substring(0,50)),isNaN(o.value.length)||(u+=` (length: ${o.value.length})`),a.push(`  ${o.name.padEnd(30)} = ${u}`)}return a.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{num2bytes:()=>s,num2str:()=>a,readType:()=>l,str2num:()=>o});let n={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function a(h){switch(Number(h)){case n.BYTE:return"byte";case n.CHAR:return"char";case n.SHORT:return"short";case n.INT:return"int";case n.FLOAT:return"float";case n.DOUBLE:return"double";default:return"undefined"}}function s(h){switch(Number(h)){case n.BYTE:return 1;case n.CHAR:return 1;case n.SHORT:return 2;case n.INT:return 4;case n.FLOAT:return 4;case n.DOUBLE:return 8;default:return-1}}function o(h){switch(String(h)){case"byte":return n.BYTE;case"char":return n.CHAR;case"short":return n.SHORT;case"int":return n.INT;case"float":return n.FLOAT;case"double":return n.DOUBLE;default:return-1}}function u(h,_){if(h!==1){let x=new Array(h);for(let S=0;S<h;S++)x[S]=_();return x}else return _()}function l(h,_,x){switch(_){case n.BYTE:return Array.from(h.readBytes(x));case n.CHAR:return g(h.readChars(x));case n.SHORT:return u(x,h.readInt16.bind(h));case n.INT:return u(x,h.readInt32.bind(h));case n.FLOAT:return u(x,h.readFloat32.bind(h));case n.DOUBLE:return u(x,h.readFloat64.bind(h));default:throw new Error(`non valid type ${_}`)}}function g(h){return h.charCodeAt(h.length-1)===0?h.substring(0,h.length-1):h}},"./node_modules/netcdfjs/lib-esm/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{notNetcdf:()=>n,padding:()=>a,readName:()=>s});function n(o,u){if(o)throw new TypeError(`Not a valid NetCDF v3.x file: ${u}`)}function a(o){o.offset%4!==0&&o.skip(4-o.offset%4)}function s(o){let u=o.readUint32(),l=o.readChars(u);return a(o),l}},"./src/WebGL/shaders/lib/basic/basic.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/instanced/instanced.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambert/lambert.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/outline/outline.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    gl_Position = projectionMatrix * mvPosition;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/screen/screen.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;

// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0

vec4 applyFXAA(vec2 fragCoord, sampler2D tex)
{
    vec4 color;
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;
    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;
    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;
    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;
    vec3 rgbM  = texture2D(tex, fragCoord  * inverseVP).xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5).xyz +
        texture2D(tex, fragCoord  + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, 1.0);
    else
        color = vec4(rgbB, 1.0);
    return color;
}
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    gl_FragColor = vec4(vLight*vColor, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );


}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);
    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+adjust;
}

`},"./src/WebGL/shaders/lib/sprite/sprite.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform int fogType;
uniform vec3 fogColor;
uniform float fogDensity;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a < alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogType > 0) {

        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = 0.0;

        if (fogType == 1) {
            fogFactor = smoothstep(fogNear, fogFar, depth);
        }

        else {
            const float LOG2 = 1.442695;
            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);
            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);
        }

        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    gl_FragColor = vec4(light*color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
    mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    to.xyz += normalize(to.xyz)*outlinePushback;
    pt.xyz += normalize(pt.xyz)*outlinePushback;

    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/GLDraw.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CAP:()=>a,GLDraw:()=>s});var n=r("./src/WebGL/math/index.ts"),a;(function(o){o[o.NONE=0]="NONE",o[o.FLAT=1]="FLAT",o[o.ROUND=2]="ROUND"})(a||(a={}));var s;(function(o){function u(c,v,y){var b=Math.hypot(c,v),C,E,p,f,D;b<1e-4?(E=0,p=1):(E=-c/b,p=v/b),v=-E*c+p*v,C=Math.hypot(v,y),C<1e-4?(f=0,D=1):(f=y/C,D=v/C);var M=new Float32Array(9);return M[0]=p,M[1]=E,M[2]=0,M[3]=-E*D,M[4]=p*D,M[5]=f,M[6]=E*f,M[7]=-p*f,M[8]=D,M}class l{constructor(){this.cache={};let v=[],y=4,b=Math.pow(2,y),C=2,E=Math.pow(2,C),p=b/E,f;for(v[0]=new n.Vector3(-1,0,0),v[p]=new n.Vector3(0,0,1),v[p*2]=new n.Vector3(1,0,0),v[p*3]=new n.Vector3(0,0,-1),C=3;C<=y;C++){for(E=Math.pow(2,C-1),p=b/E,f=0;f<E-1;f++)v[p/2+f*p]=v[f*p].clone().add(v[(f+1)*p]).normalize();f=E-1,v[p/2+f*p]=v[f*p].clone().add(v[0]).normalize()}this.basisVectors=v}getVerticesForRadius(v,y,b){if(typeof this.cache<"u"&&this.cache[v]!==void 0&&this.cache[v][y+b]!==void 0)return this.cache[v][y+b];for(var C=this.basisVectors.length,E=[],p=[],f,D=0;D<C;D++)E.push(this.basisVectors[D].clone().multiplyScalar(v)),E.push(this.basisVectors[D].clone().multiplyScalar(v)),f=this.basisVectors[D].clone().normalize(),p.push(f),p.push(f);var M=[],P=10,O=C;if(P%2!==0||!P)return console.error("heightSegments must be even"),null;var z=0,k=Math.PI*2,I=0,H=Math.PI,Y,q,G=!1,$=!1;for(q=0;q<=P;q++){G=q===0||q===P,$=q===P/2;var j=[],V=[];for(Y=0;Y<=O;Y++){if($){var X=Y<O?2*Y:0;V.push(X+1),j.push(X);continue}var Q=Y/O,te=q/P;if(!G||Y===0)if(Y<O){var xe=new n.Vector3;xe.x=-v*Math.cos(z+Q*k)*Math.sin(I+te*H),y==1?xe.y=0:xe.y=v*Math.cos(I+te*H),xe.z=v*Math.sin(z+Q*k)*Math.sin(I+te*H),Math.abs(xe.x)<1e-5&&(xe.x=0),Math.abs(xe.y)<1e-5&&(xe.y=0),Math.abs(xe.z)<1e-5&&(xe.z=0),y==a.FLAT?(f=new n.Vector3(0,Math.cos(I+te*H),0),f.normalize()):(f=new n.Vector3(xe.x,xe.y,xe.z),f.normalize()),E.push(xe),p.push(f),j.push(E.length-1)}else j.push(E.length-O);else G&&j.push(E.length-1)}$&&M.push(V),M.push(j)}var Ne={vertices:E,normals:p,verticesRows:M,w:O,h:P};return v in this.cache||(this.cache[v]={}),this.cache[v][y+b]=Ne,Ne}}var g=new l;function h(c,v,y,b,C,E=0,p=0){if(!(!v||!y)){var f=p||E;C=C||{r:0,g:0,b:0};var D=u(y.x-v.x,y.y-v.y,y.z-v.z),M=g.getVerticesForRadius(b,p,"to"),P=M.w,O=M.h,z=f?O*P+2:2*P,k=c.updateGeoGroup(z),I=M.vertices,H=M.normals,Y=M.verticesRows,q=Y[O/2],G=Y[O/2+1],$=k.vertices,j,V,X,Q,te,xe,Ne=k.vertexArray,ye=k.normalArray,Fe=k.colorArray,Me=k.faceArray;for(X=0;X<P;++X){var _e=2*X;Q=D[0]*I[_e].x+D[3]*I[_e].y+D[6]*I[_e].z,te=D[1]*I[_e].x+D[4]*I[_e].y+D[7]*I[_e].z,xe=D[5]*I[_e].y+D[8]*I[_e].z,j=3*($+_e),V=k.faceidx,Ne[j]=Q+v.x,Ne[j+1]=te+v.y,Ne[j+2]=xe+v.z,Ne[j+3]=Q+y.x,Ne[j+4]=te+y.y,Ne[j+5]=xe+y.z,ye[j]=Q,ye[j+3]=Q,ye[j+1]=te,ye[j+4]=te,ye[j+2]=xe,ye[j+5]=xe,Fe[j]=C.r,Fe[j+3]=C.r,Fe[j+1]=C.g,Fe[j+4]=C.g,Fe[j+2]=C.b,Fe[j+5]=C.b,Me[V]=G[X]+$,Me[V+1]=G[X+1]+$,Me[V+2]=q[X]+$,Me[V+3]=q[X]+$,Me[V+4]=G[X+1]+$,Me[V+5]=q[X+1]+$,k.faceidx+=6}if(f){var Qe=p?0:O/2,Xe=E?O+1:O/2+1,R,pe,ve,ie,de,be,Ue,Be,Se,Ie,je,Ke,Pe,ht,yt,le,ue,ge,$e,ke,it,st,se,Ge,Je,pt,Le,ot,oe,ut,At,W;for(te=Qe;te<Xe;te++)if(te!==O/2){var Ve=te<=O/2?y:v,Ye=g.getVerticesForRadius(b,p,"to"),ce=g.getVerticesForRadius(b,E,"from");for(Ve===y?(I=Ye.vertices,H=Ye.normals,Y=Ye.verticesRows):Ve==v&&(I=ce.vertices,H=ce.normals,Y=ce.verticesRows),Q=0;Q<P;Q++)V=k.faceidx,R=Y[te][Q+1],oe=(R+$)*3,pe=Y[te][Q],ut=(pe+$)*3,ve=Y[te+1][Q],At=(ve+$)*3,ie=Y[te+1][Q+1],W=(ie+$)*3,de=D[0]*I[R].x+D[3]*I[R].y+D[6]*I[R].z,be=D[0]*I[pe].x+D[3]*I[pe].y+D[6]*I[pe].z,Ue=D[0]*I[ve].x+D[3]*I[ve].y+D[6]*I[ve].z,Be=D[0]*I[ie].x+D[3]*I[ie].y+D[6]*I[ie].z,Se=D[1]*I[R].x+D[4]*I[R].y+D[7]*I[R].z,Ie=D[1]*I[pe].x+D[4]*I[pe].y+D[7]*I[pe].z,je=D[1]*I[ve].x+D[4]*I[ve].y+D[7]*I[ve].z,Ke=D[1]*I[ie].x+D[4]*I[ie].y+D[7]*I[ie].z,Pe=D[5]*I[R].y+D[8]*I[R].z,ht=D[5]*I[pe].y+D[8]*I[pe].z,yt=D[5]*I[ve].y+D[8]*I[ve].z,le=D[5]*I[ie].y+D[8]*I[ie].z,Ne[oe]=de+Ve.x,Ne[ut]=be+Ve.x,Ne[At]=Ue+Ve.x,Ne[W]=Be+Ve.x,Ne[oe+1]=Se+Ve.y,Ne[ut+1]=Ie+Ve.y,Ne[At+1]=je+Ve.y,Ne[W+1]=Ke+Ve.y,Ne[oe+2]=Pe+Ve.z,Ne[ut+2]=ht+Ve.z,Ne[At+2]=yt+Ve.z,Ne[W+2]=le+Ve.z,Fe[oe]=C.r,Fe[ut]=C.r,Fe[At]=C.r,Fe[W]=C.r,Fe[oe+1]=C.g,Fe[ut+1]=C.g,Fe[At+1]=C.g,Fe[W+1]=C.g,Fe[oe+2]=C.b,Fe[ut+2]=C.b,Fe[At+2]=C.b,Fe[W+2]=C.b,ue=D[0]*H[R].x+D[3]*H[R].y+D[6]*H[R].z,ge=D[0]*H[pe].x+D[3]*H[pe].y+D[6]*H[pe].z,$e=D[0]*H[ve].x+D[3]*H[ve].y+D[6]*H[ve].z,ke=D[0]*H[ie].x+D[3]*H[ie].y+D[6]*H[ie].z,it=D[1]*H[R].x+D[4]*H[R].y+D[7]*H[R].z,st=D[1]*H[pe].x+D[4]*H[pe].y+D[7]*H[pe].z,se=D[1]*H[ve].x+D[4]*H[ve].y+D[7]*H[ve].z,Ge=D[1]*H[ie].x+D[4]*H[ie].y+D[7]*H[ie].z,Je=D[5]*H[R].y+D[8]*H[R].z,pt=D[5]*H[pe].y+D[8]*H[pe].z,Le=D[5]*H[ve].y+D[8]*H[ve].z,ot=D[5]*H[ie].y+D[8]*H[ie].z,te===0?(ye[oe]=ue,ye[At]=$e,ye[W]=ke,ye[oe+1]=it,ye[At+1]=se,ye[W+1]=Ge,ye[oe+2]=Je,ye[At+2]=Le,ye[W+2]=ot,Me[V]=R+$,Me[V+1]=ve+$,Me[V+2]=ie+$,k.faceidx+=3):te===Xe-1?(ye[oe]=ue,ye[ut]=ge,ye[At]=$e,ye[oe+1]=it,ye[ut+1]=st,ye[At+1]=se,ye[oe+2]=Je,ye[ut+2]=pt,ye[At+2]=Le,Me[V]=R+$,Me[V+1]=pe+$,Me[V+2]=ve+$,k.faceidx+=3):(ye[oe]=ue,ye[ut]=ge,ye[W]=ke,ye[oe+1]=it,ye[ut+1]=st,ye[W+1]=Ge,ye[oe+2]=Je,ye[ut+2]=pt,ye[W+2]=ot,ye[ut]=ge,ye[At]=$e,ye[W]=ke,ye[ut+1]=st,ye[At+1]=se,ye[W+1]=Ge,ye[ut+2]=pt,ye[At+2]=Le,ye[W+2]=ot,Me[V]=R+$,Me[V+1]=pe+$,Me[V+2]=ie+$,Me[V+3]=pe+$,Me[V+4]=ve+$,Me[V+5]=ie+$,k.faceidx+=6)}}k.vertices+=z}}o.drawCylinder=h;function _(c,v,y,b,C){if(!v||!y)return;C=C||{r:0,g:0,b:0};let E=new n.Vector3(y.x-v.x,y.y-v.y,y.z-v.z);var p=u(E.x,E.y,E.z);E=E.normalize();var f=g.basisVectors.length,D=g.basisVectors,M=f+2,P=c.updateGeoGroup(M),O=P.vertices,z,k,I,H,Y,q,G=P.vertexArray,$=P.normalArray,j=P.colorArray,V=P.faceArray;for(z=O*3,G[z]=v.x,G[z+1]=v.y,G[z+2]=v.z,$[z]=-E.x,$[z+1]=-E.y,$[z+2]=-E.z,j[z]=C.r,j[z+1]=C.g,j[z+2]=C.b,G[z+3]=y.x,G[z+4]=y.y,G[z+5]=y.z,$[z+3]=E.x,$[z+4]=E.y,$[z+5]=E.z,j[z+3]=C.r,j[z+4]=C.g,j[z+5]=C.b,z+=6,I=0;I<f;++I){var X=D[I].clone();X.multiplyScalar(b),H=p[0]*X.x+p[3]*X.y+p[6]*X.z,Y=p[1]*X.x+p[4]*X.y+p[7]*X.z,q=p[5]*X.y+p[8]*X.z,G[z]=H+v.x,G[z+1]=Y+v.y,G[z+2]=q+v.z,$[z]=H,$[z+1]=Y,$[z+2]=q,j[z]=C.r,j[z+1]=C.g,j[z+2]=C.b,z+=3}for(P.vertices+=f+2,k=P.faceidx,I=0;I<f;I++){var Q=O+2+I,te=O+2+(I+1)%f;V[k]=Q,V[k+1]=te,V[k+2]=O,k+=3,V[k]=Q,V[k+1]=te,V[k+2]=O+1,k+=3}P.faceidx+=6*f}o.drawCone=_;class x{constructor(){this.cache=new Map}getVerticesForRadius(v,y){y=y||2,this.cache.has(y)||this.cache.set(y,new Map);let b=this.cache.get(y);if(b.has(v))return b.get(v);var C={vertices:[],verticesRows:[],normals:[]},E=16*y,p=10*y;v<1&&(E=10*y,p=8*y);var f=0,D=Math.PI*2,M=0,P=Math.PI,O,z;for(z=0;z<=p;z++){let I=[];for(O=0;O<=E;O++){let H=O/E,Y=z/p,q=-v*Math.cos(f+H*D)*Math.sin(M+Y*P),G=v*Math.cos(M+Y*P),$=v*Math.sin(f+H*D)*Math.sin(M+Y*P);var k=new n.Vector3(q,G,$);k.normalize(),C.vertices.push({x:q,y:G,z:$}),C.normals.push(k),I.push(C.vertices.length-1)}C.verticesRows.push(I)}return b.set(v,C),C}}var S=new x;function w(c,v,y,b,C){var E=S.getVerticesForRadius(y,C),p=E.vertices,f=E.normals,D=c.updateGeoGroup(p.length),M=D.vertices,P=D.vertexArray,O=D.colorArray,z=D.faceArray,k=D.lineArray,I=D.normalArray;for(let q=0,G=p.length;q<G;++q){let $=3*(M+q),j=p[q];P[$]=j.x+v.x,P[$+1]=j.y+v.y,P[$+2]=j.z+v.z,O[$]=b.r,O[$+1]=b.g,O[$+2]=b.b}D.vertices+=p.length;let H=E.verticesRows,Y=H.length-1;for(let q=0;q<Y;q++){let G=H[q].length-1;for(let $=0;$<G;$++){let j=D.faceidx,V=D.lineidx,X=H[q][$+1]+M,Q=X*3,te=H[q][$]+M,xe=te*3,Ne=H[q+1][$]+M,ye=Ne*3,Fe=H[q+1][$+1]+M,Me=Fe*3,_e=f[X-M],Qe=f[te-M],Xe=f[Ne-M],R=f[Fe-M];Math.abs(p[X-M].y)===y?(I[Q]=_e.x,I[ye]=Xe.x,I[Me]=R.x,I[Q+1]=_e.y,I[ye+1]=Xe.y,I[Me+1]=R.y,I[Q+2]=_e.z,I[ye+2]=Xe.z,I[Me+2]=R.z,z[j]=X,z[j+1]=Ne,z[j+2]=Fe,k[V]=X,k[V+1]=Ne,k[V+2]=X,k[V+3]=Fe,k[V+4]=Ne,k[V+5]=Fe,D.faceidx+=3,D.lineidx+=6):Math.abs(p[Ne-M].y)===y?(I[Q]=_e.x,I[xe]=Qe.x,I[ye]=Xe.x,I[Q+1]=_e.y,I[xe+1]=Qe.y,I[ye+1]=Xe.y,I[Q+2]=_e.z,I[xe+2]=Qe.z,I[ye+2]=Xe.z,z[j]=X,z[j+1]=te,z[j+2]=Ne,k[V]=X,k[V+1]=te,k[V+2]=X,k[V+3]=Ne,k[V+4]=te,k[V+5]=Ne,D.faceidx+=3,D.lineidx+=6):(I[Q]=_e.x,I[xe]=Qe.x,I[Me]=R.x,I[Q+1]=_e.y,I[xe+1]=Qe.y,I[Me+1]=R.y,I[Q+2]=_e.z,I[xe+2]=Qe.z,I[Me+2]=R.z,I[xe]=Qe.x,I[ye]=Xe.x,I[Me]=R.x,I[xe+1]=Qe.y,I[ye+1]=Xe.y,I[Me+1]=R.y,I[xe+2]=Qe.z,I[ye+2]=Xe.z,I[Me+2]=R.z,z[j]=X,z[j+1]=te,z[j+2]=Fe,z[j+3]=te,z[j+4]=Ne,z[j+5]=Fe,k[V]=X,k[V+1]=te,k[V+2]=X,k[V+3]=Fe,k[V+4]=te,k[V+5]=Ne,k[V+6]=Ne,k[V+7]=Fe,D.faceidx+=6,D.lineidx+=8)}}}o.drawSphere=w})(s||(s={}))},"./src/GLModel.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLModel:()=>v});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts"),u=r("./src/GLDraw.ts"),l=r("./src/glcartoon.ts"),g=r("./src/utilities.ts"),h=r("./src/Gradient.ts"),_=r("./src/parsers/index.ts"),x=r("./node_modules/netcdfjs/lib-esm/index.js"),S=r("./node_modules/pako/dist/pako.esm.mjs"),w=r("./src/parsers/utils/assignBonds.ts");function c(y){let b;return typeof y=="string"?b=new TextEncoder().encode(y):b=new Uint8Array(y),(0,S.inflate)(b,{to:"string"})}class v{static sameObj(b,C){return b&&C?JSON.stringify(b)==JSON.stringify(C):b==C}constructor(b,C){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new s.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=o.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=C||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:o.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=b}getRadiusFromStyle(b,C){var E=this.defaultSphereRadius;if(typeof C.radius<"u")E=C.radius;else if(v.vdwRadii[b.elem])E=v.vdwRadii[b.elem];else if(b.elem.length>1){let p=b.elem;p=p[0].toUpperCase()+p[1].toLowerCase(),v.vdwRadii[p]&&(E=v.vdwRadii[p])}return typeof C.scale<"u"&&(E*=C.scale),E}drawAtomCross(b,C){if(b.style.cross){var E=b.style.cross;if(!E.hidden){var p=E.linewidth||v.defaultlineWidth;C[p]||(C[p]=new n.Geometry);var f=C[p].updateGeoGroup(6),D=this.getRadiusFromStyle(b,E),M=[[D,0,0],[-D,0,0],[0,D,0],[0,-D,0],[0,0,D],[0,0,-D]],P=b.clickable||b.hoverable;P&&b.intersectionShape===void 0&&(b.intersectionShape={sphere:[],cylinder:[],line:[]});for(var O=(0,g.getColorFromStyle)(b,E),z=f.vertexArray,k=f.colorArray,I=0;I<6;I++){var H=f.vertices*3;if(f.vertices++,z[H]=b.x+M[I][0],z[H+1]=b.y+M[I][1],z[H+2]=b.z+M[I][2],k[H]=O.r,k[H+1]=O.g,k[H+2]=O.b,P){var Y=new s.Vector3(M[I][0],M[I][1],M[I][2]);Y.multiplyScalar(.1),Y.set(Y.x+b.x,Y.y+b.y,Y.z+b.z),b.intersectionShape.line.push(Y)}}}}}getGoodCross(b,C,E,p){for(var f=null,D=-1,M=0,P=b.bonds.length;M<P;M++)if(b.bonds[M]!=C.index){let z=b.bonds[M],k=this.atoms[z],H=new s.Vector3(k.x,k.y,k.z).clone();H.sub(E);let Y=H.clone();Y.cross(p);var O=Y.lengthSq();if(O>D&&(D=O,f=Y,D>.1))return f}return f}getSideBondV(b,C,E){var p,f,D,M,P,O=new s.Vector3(b.x,b.y,b.z),z=new s.Vector3(C.x,C.y,C.z),k=z.clone(),I=null;if(k.sub(O),b.bonds.length===1)C.bonds.length===1?(I=k.clone(),Math.abs(I.x)>1e-4?I.y+=1:I.x+=1):(p=(E+1)%C.bonds.length,f=C.bonds[p],D=this.atoms[f],M=new s.Vector3(D.x,D.y,D.z),P=M.clone(),P.sub(O),I=P.clone(),I.cross(k));else if(I=this.getGoodCross(b,C,O,k),I.lengthSq()<.01){var H=this.getGoodCross(C,b,O,k);H!=null&&(I=H)}return I.lengthSq()<.01&&(I=k.clone(),Math.abs(I.x)>1e-4?I.y+=1:I.x+=1),I.cross(k),I.normalize(),I}addLine(b,C,E,p,f,D){b[E]=p.x,b[E+1]=p.y,b[E+2]=p.z,C[E]=D.r,C[E+1]=D.g,C[E+2]=D.b,b[E+3]=f.x,b[E+4]=f.y,b[E+5]=f.z,C[E+3]=D.r,C[E+4]=D.g,C[E+5]=D.b}drawBondLines(b,C,E){if(b.style.line){var p=b.style.line;if(!p.hidden){var f,D,M,P,O=p.linewidth||v.defaultlineWidth;E[O]||(E[O]=new n.Geometry);for(var z=E[O].updateGeoGroup(6*b.bonds.length),k=z.vertexArray,I=z.colorArray,H=0;H<b.bonds.length;H++){var Y=b.bonds[H],q=C[Y];if(q.style.line&&!(b.index>=q.index)){var G=new s.Vector3(b.x,b.y,b.z),$=new s.Vector3(q.x,q.y,q.z),j=G.clone().add($).multiplyScalar(.5),V=!1,X=b.clickable||b.hoverable,Q=q.clickable||q.hoverable;(X||Q)&&(X&&(b.intersectionShape===void 0&&(b.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),b.intersectionShape.line.push(G),b.intersectionShape.line.push(j)),Q&&(q.intersectionShape===void 0&&(q.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),q.intersectionShape.line.push(j),q.intersectionShape.line.push($)));var te=(0,g.getColorFromStyle)(b,b.style.line),xe=(0,g.getColorFromStyle)(q,q.style.line);if(b.bondStyles&&b.bondStyles[H]){var Ne=b.bondStyles[H];if(!Ne.iswire)continue;Ne.singleBond&&(V=!0),typeof Ne.color1<"u"&&(te=o.CC.color(Ne.color1)),typeof Ne.color2<"u"&&(xe=o.CC.color(Ne.color2))}var ye=z.vertices*3,Fe,Me;if(b.bondOrder[H]>1&&b.bondOrder[H]<4&&!V){var _e=this.getSideBondV(b,q,H),Qe=$.clone();Qe.sub(G),b.bondOrder[H]==2?(_e.multiplyScalar(.1),f=G.clone(),f.add(_e),D=G.clone(),D.sub(_e),M=f.clone(),M.add(Qe),P=D.clone(),P.add(Qe),te==xe?(z.vertices+=4,this.addLine(k,I,ye,f,M,te),this.addLine(k,I,ye+6,D,P,te)):(z.vertices+=8,Qe.multiplyScalar(.5),Fe=f.clone(),Fe.add(Qe),Me=D.clone(),Me.add(Qe),this.addLine(k,I,ye,f,Fe,te),this.addLine(k,I,ye+6,Fe,M,xe),this.addLine(k,I,ye+12,D,Me,te),this.addLine(k,I,ye+18,Me,P,xe))):b.bondOrder[H]==3&&(_e.multiplyScalar(.1),f=G.clone(),f.add(_e),D=G.clone(),D.sub(_e),M=f.clone(),M.add(Qe),P=D.clone(),P.add(Qe),te==xe?(z.vertices+=6,this.addLine(k,I,ye,G,$,te),this.addLine(k,I,ye+6,f,M,te),this.addLine(k,I,ye+12,D,P,te)):(z.vertices+=12,Qe.multiplyScalar(.5),Fe=f.clone(),Fe.add(Qe),Me=D.clone(),Me.add(Qe),this.addLine(k,I,ye,G,j,te),this.addLine(k,I,ye+6,j,$,xe),this.addLine(k,I,ye+12,f,Fe,te),this.addLine(k,I,ye+18,Fe,M,xe),this.addLine(k,I,ye+24,D,Me,te),this.addLine(k,I,ye+30,Me,P,xe)))}else te==xe?(z.vertices+=2,this.addLine(k,I,ye,G,$,te)):(z.vertices+=4,this.addLine(k,I,ye,G,j,te),this.addLine(k,I,ye+6,j,$,xe))}}}}}drawAtomSphere(b,C){if(b.style.sphere){var E=b.style.sphere;if(!E.hidden){var p=(0,g.getColorFromStyle)(b,E),f=this.getRadiusFromStyle(b,E);if((b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var D=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(D,f))}u.GLDraw.drawSphere(C,b,f,p)}}}drawAtomClickSphere(b){if(b.style.clicksphere){var C=b.style.clicksphere;if(!C.hidden){var E=this.getRadiusFromStyle(b,C);if((b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var p=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(p,E))}}}}drawAtomInstanced(b,C){if(b.style.sphere){var E=b.style.sphere;if(!E.hidden){var p=this.getRadiusFromStyle(b,E),f=(0,g.getColorFromStyle)(b,E),D=C.updateGeoGroup(1),M=D.vertices,P=M*3,O=D.vertexArray,z=D.colorArray,k=D.radiusArray;if(O[P]=b.x,O[P+1]=b.y,O[P+2]=b.z,z[P]=f.r,z[P+1]=f.g,z[P+2]=f.b,k[M]=p,(b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var I=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(I,p))}D.vertices+=1}}}drawSphereImposter(b,C,E,p){var f=b.updateGeoGroup(4),D,M=f.vertices,P=M*3,O=f.vertexArray,z=f.colorArray;for(D=0;D<4;D++)O[P+3*D]=C.x,O[P+3*D+1]=C.y,O[P+3*D+2]=C.z;var k=f.normalArray;for(D=0;D<4;D++)z[P+3*D]=p.r,z[P+3*D+1]=p.g,z[P+3*D+2]=p.b;k[P+0]=-E,k[P+1]=E,k[P+2]=0,k[P+3]=-E,k[P+4]=-E,k[P+5]=0,k[P+6]=E,k[P+7]=-E,k[P+8]=0,k[P+9]=E,k[P+10]=E,k[P+11]=0,f.vertices+=4;var I=f.faceArray,H=f.faceidx;I[H+0]=M,I[H+1]=M+1,I[H+2]=M+2,I[H+3]=M+2,I[H+4]=M+3,I[H+5]=M,f.faceidx+=6}drawAtomImposter(b,C){if(b.style.sphere){var E=b.style.sphere;if(!E.hidden){var p=this.getRadiusFromStyle(b,E),f=(0,g.getColorFromStyle)(b,E);if((b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var D=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(D,p))}this.drawSphereImposter(C,b,p,f)}}}static drawStickImposter(b,C,E,p,f){for(var D=b.updateGeoGroup(4),M=D.vertices,P=M*3,O=D.vertexArray,z=D.colorArray,k=D.radiusArray,I=D.normalArray,H=f.r,Y=f.g,q=f.b,G=function(Q){var te=-Q;return te==0&&(te=-1e-4),te},$=P,j=0;j<4;j++)O[$]=C.x,I[$]=E.x,z[$]=H,$++,O[$]=C.y,I[$]=E.y,z[$]=Y,$++,O[$]=C.z,I[$]=E.z,j<2?z[$]=q:z[$]=G(q),$++;D.vertices+=4,k[M]=-p,k[M+1]=p,k[M+2]=-p,k[M+3]=p;var V=D.faceArray,X=D.faceidx;V[X+0]=M,V[X+1]=M+1,V[X+2]=M+2,V[X+3]=M+2,V[X+4]=M+3,V[X+5]=M,D.faceidx+=6}drawBondSticks(b,C,E){if(b.style.stick){var p=b.style.stick;if(!p.hidden){var f=p.radius||this.defaultStickRadius,D=f,M=p.singleBonds||!1,P=0,O=0,z,k,I,H,Y,q,G,$,j,V,X,Q=(0,g.getColorFromStyle)(b,p),te,xe,Ne;!b.capDrawn&&b.bonds.length<4&&(P=2);var ye=u.GLDraw.drawCylinder;for(E.imposter&&(ye=v.drawStickImposter),I=0;I<b.bonds.length;I++){var Fe=b.bonds[I],Me=C[Fe];if(te=xe=Ne=null,b.index<Me.index){var _e=Me.style;if(!_e.stick||_e.stick.hidden)continue;var Qe=(0,g.getColorFromStyle)(Me,_e.stick);if(D=f,H=M,b.bondStyles&&b.bondStyles[I]){if(Y=b.bondStyles[I],Y.iswire)continue;Y.radius&&(D=Y.radius),Y.singleBond&&(H=!0),typeof Y.color1<"u"&&(Q=o.CC.color(Y.color1)),typeof Y.color2<"u"&&(Qe=o.CC.color(Y.color2))}var Xe=new s.Vector3(b.x,b.y,b.z),R=new s.Vector3(Me.x,Me.y,Me.z);if(b.bondOrder[I]<=1||H||b.bondOrder[I]>3){if(b.bondOrder[I]<1&&(D*=b.bondOrder[I]),!Me.capDrawn&&Me.bonds.length<4&&(O=2),Q!=Qe?(te=new s.Vector3().addVectors(Xe,R).multiplyScalar(.5),ye(E,Xe,te,D,Q,P,0),ye(E,te,R,D,Qe,0,O)):ye(E,Xe,R,D,Q,P,O),z=b.clickable||b.hoverable,k=Me.clickable||Me.hoverable,z||k){if(te||(te=new s.Vector3().addVectors(Xe,R).multiplyScalar(.5)),z){var pe=new a.Cylinder(Xe,te,D),ve=new a.Sphere(Xe,D);b.intersectionShape.cylinder.push(pe),b.intersectionShape.sphere.push(ve)}if(k){var ie=new a.Cylinder(R,te,D),de=new a.Sphere(R,D);Me.intersectionShape.cylinder.push(ie),Me.intersectionShape.sphere.push(de)}}}else if(b.bondOrder[I]>1){var be=0,Ue=0;D!=f&&(be=2,Ue=2);var Be=R.clone(),Se=null;Be.sub(Xe);var Ie,je,Ke,Pe,ht;Se=this.getSideBondV(b,Me,I),b.bondOrder[I]==2?(Ie=D/2.5,Se.multiplyScalar(Ie*1.5),je=Xe.clone(),je.add(Se),Ke=Xe.clone(),Ke.sub(Se),Pe=je.clone(),Pe.add(Be),ht=Ke.clone(),ht.add(Be),Q!=Qe?(te=new s.Vector3().addVectors(je,Pe).multiplyScalar(.5),xe=new s.Vector3().addVectors(Ke,ht).multiplyScalar(.5),ye(E,je,te,Ie,Q,be,0),ye(E,te,Pe,Ie,Qe,0,Ue),ye(E,Ke,xe,Ie,Q,be,0),ye(E,xe,ht,Ie,Qe,0,Ue)):(ye(E,je,Pe,Ie,Q,be,Ue),ye(E,Ke,ht,Ie,Q,be,Ue)),z=b.clickable||b.hoverable,k=Me.clickable||Me.hoverable,(z||k)&&(te||(te=new s.Vector3().addVectors(je,Pe).multiplyScalar(.5)),xe||(xe=new s.Vector3().addVectors(Ke,ht).multiplyScalar(.5)),z&&(q=new a.Cylinder(je,te,Ie),G=new a.Cylinder(Ke,xe,Ie),b.intersectionShape.cylinder.push(q),b.intersectionShape.cylinder.push(G)),k&&(j=new a.Cylinder(Pe,te,Ie),V=new a.Cylinder(ht,xe,Ie),Me.intersectionShape.cylinder.push(j),Me.intersectionShape.cylinder.push(V)))):b.bondOrder[I]==3&&(Ie=D/4,Se.cross(Be),Se.normalize(),Se.multiplyScalar(Ie*3),je=Xe.clone(),je.add(Se),Ke=Xe.clone(),Ke.sub(Se),Pe=je.clone(),Pe.add(Be),ht=Ke.clone(),ht.add(Be),Q!=Qe?(te=new s.Vector3().addVectors(je,Pe).multiplyScalar(.5),xe=new s.Vector3().addVectors(Ke,ht).multiplyScalar(.5),Ne=new s.Vector3().addVectors(Xe,R).multiplyScalar(.5),ye(E,je,te,Ie,Q,be,0),ye(E,te,Pe,Ie,Qe,0,Ue),ye(E,Xe,Ne,Ie,Q,P,0),ye(E,Ne,R,Ie,Qe,0,O),ye(E,Ke,xe,Ie,Q,be,0),ye(E,xe,ht,Ie,Qe,0,Ue)):(ye(E,je,Pe,Ie,Q,be,Ue),ye(E,Xe,R,Ie,Q,P,O),ye(E,Ke,ht,Ie,Q,be,Ue)),z=b.clickable||b.hoverable,k=Me.clickable||Me.hoverable,(z||k)&&(te||(te=new s.Vector3().addVectors(je,Pe).multiplyScalar(.5)),xe||(xe=new s.Vector3().addVectors(Ke,ht).multiplyScalar(.5)),Ne||(Ne=new s.Vector3().addVectors(Xe,R).multiplyScalar(.5)),z&&(q=new a.Cylinder(je.clone(),te.clone(),Ie),G=new a.Cylinder(Ke.clone(),xe.clone(),Ie),$=new a.Cylinder(Xe.clone(),Ne.clone(),Ie),b.intersectionShape.cylinder.push(q),b.intersectionShape.cylinder.push(G),b.intersectionShape.cylinder.push($)),k&&(j=new a.Cylinder(Pe.clone(),te.clone(),Ie),V=new a.Cylinder(ht.clone(),xe.clone(),Ie),X=new a.Cylinder(R.clone(),Ne.clone(),Ie),Me.intersectionShape.cylinder.push(j),Me.intersectionShape.cylinder.push(V),Me.intersectionShape.cylinder.push(X))))}}}var yt=!1,le=0,ue=!1;for(I=0;I<b.bonds.length;I++)H=M,b.bondStyles&&b.bondStyles[I]&&(Y=b.bondStyles[I],Y.singleBond&&(H=!0),Y.radius&&Y.radius!=f&&(ue=!0)),(H||b.bondOrder[I]==1)&&le++;ue?le>0&&(yt=!0):le==0&&(b.bonds.length>0||p.showNonBonded)&&(yt=!0),yt&&(D=f,E.imposter?this.drawSphereImposter(E.sphereGeometry,b,D,Q):u.GLDraw.drawSphere(E,b,D,Q))}}}createMolObj(b,C){C=C||{};var E=new n.Object3D,p=[],f={},D={},M=this.drawAtomSphere,P=null,O=null;C.supportsImposters?(M=this.drawAtomImposter,P=new n.Geometry(!0),P.imposter=!0,O=new n.Geometry(!0,!0),O.imposter=!0,O.sphereGeometry=new n.Geometry(!0),O.sphereGeometry.imposter=!0,O.drawnCaps={}):C.supportsAIA?(M=this.drawAtomInstanced,P=new n.Geometry(!1,!0,!0),P.instanced=!0,O=new n.Geometry(!0)):(P=new n.Geometry(!0),O=new n.Geometry(!0));var z,k,I,H,Y={},q=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(z=0,I=b.length;z<I;z++){var G=b[z];if(G&&G.style){(G.clickable||G.hoverable)&&G.intersectionShape===void 0&&(G.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),H={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(k in H)G.style[k]?G.style[k].opacity?H[k]=parseFloat(G.style[k].opacity):H[k]=1:H[k]=void 0,Y[k]?H[k]!=null&&Y[k]!=H[k]&&(console.log("Warning: "+k+" opacity is ambiguous"),Y[k]=1):Y[k]=H[k];M.call(this,G,P),this.drawAtomClickSphere(G),this.drawAtomCross(G,D),this.drawBondLines(G,b,f),this.drawBondSticks(G,b,O),typeof G.style.cartoon<"u"&&!G.style.cartoon.hidden&&(G.style.cartoon.color==="spectrum"&&typeof G.resi=="number"&&!G.hetflag&&(G.resi<q[0]&&(q[0]=G.resi),G.resi>q[1]&&(q[1]=G.resi)),p.push(G))}}if(p.length>0&&(0,l.drawCartoon)(E,p,q,this.defaultCartoonQuality),P&&P.vertices>0){P.initTypedArrays();var $=null,j=null;P.imposter?$=new n.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):P.instanced?(j=new n.Geometry(!0),u.GLDraw.drawSphere(j,{x:0,y:0,z:0},1,new o.Color(.5,.5,.5)),j.initTypedArrays(),$=new n.InstancedMaterial({sphereMaterial:new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:j})):$=new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Y.sphere<1&&Y.sphere>=0&&($.transparent=!0,$.opacity=Y.sphere),j=new n.Mesh(P,$),E.add(j)}if(O.vertices>0){var V=null,X=null,Q=O.sphereGeometry;(!Q||typeof Q.vertices>"u"||Q.vertices==0)&&(Q=null),O.initTypedArrays(),Q&&Q.initTypedArrays();var te={ambient:0,vertexColors:!0,reflectivity:0};O.imposter?(V=new n.StickImposterMaterial(te),X=new n.SphereImposterMaterial(te)):(V=new n.MeshLambertMaterial(te),X=new n.MeshLambertMaterial(te),V.wireframe&&(O.setUpWireframe(),Q&&Q.setUpWireframe())),Y.stick<1&&Y.stick>=0&&(V.transparent=!0,V.opacity=Y.stick,X.transparent=!0,X.opacity=Y.stick);var xe=new n.Mesh(O,V);if(E.add(xe),Q){var Ne=new n.Mesh(Q,X);E.add(Ne)}}var ye;for(z in f)if(f.hasOwnProperty(z)){ye=z;var Fe=new n.LineBasicMaterial({linewidth:ye,vertexColors:!0});Y.line<1&&Y.line>=0&&(Fe.transparent=!0,Fe.opacity=Y.line),f[z].initTypedArrays();var Me=new n.Line(f[z],Fe,n.LineStyle.LinePieces);E.add(Me)}for(z in D)if(D.hasOwnProperty(z)){ye=z;var _e=new n.LineBasicMaterial({linewidth:ye,vertexColors:!0});Y.cross<1&&Y.cross>=0&&(_e.transparent=!0,_e.opacity=Y.cross),D[z].initTypedArrays();var Qe=new n.Line(D[z],_e,n.LineStyle.LinePieces);E.add(Qe)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Xe=new n.Object3D,R;for(R=0;R<this.modelData.symmetries.length;R++){var pe=new n.Object3D;pe=E.clone(),pe.matrix.copy(this.modelData.symmetries[R]),pe.matrixAutoUpdate=!1,Xe.add(pe)}return Xe}return E}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(b){this.atoms=b.atoms,this.frames=b.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){let b=this.modelData.cryst;this.modelData.cryst.matrix=(0,s.conversionMatrix3)(b.a,b.b,b.c,b.alpha,b.beta,b.gamma)}return this.modelData.cryst}else return null}setCrystData(b,C,E,p,f,D){b=b||1,C=C||1,E=E||1,p=p||90,f=f||90,D=D||90;let M=(0,s.conversionMatrix3)(b,C,E,p,f,D);this.modelData.cryst={a:b,b:C,c:E,alpha:p,beta:f,gamma:D,matrix:M}}setCrystMatrix(b){b=b||new s.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:b}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(b){typeof b>"u"?this.modelData.symmetries=[this.idMatrix]:this.modelData.symmetries=b}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(b,C,E,p){var f=C-b;return f<-E?C+p:f>E?C-p:C}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var b=this.box[0],C=this.box[1],E=this.box[2],p=b*.9,f=C*.9,D=E*.9,M=0;M<this.atomdfs.length;M++)for(var P=this.atomdfs[M],O=1;O<P.length;O++){var z=this.atoms[P[O][0]],k=this.atoms[P[O][1]];z.x=this.adjustCoord(k.x,z.x,p,b),z.y=this.adjustCoord(k.y,z.y,f,C),z.z=this.adjustCoord(k.z,z.z,D,E)}}setFrame(b,C){var E=this.getNumFrames();let p=this;return new Promise(function(f,D){if(E==0&&f(),(b<0||b>=E)&&(b=E-1),p.frames.url!=null){var M=p.frames.url;(0,g.getbin)(M+"/traj/frame/"+b+"/"+p.frames.path,void 0,"POST",void 0).then(function(P){for(var O=new Float32Array(P,44),z=0,k=0;k<p.atoms.length;k++)p.atoms[k].x=O[z++],p.atoms[k].y=O[z++],p.atoms[k].z=O[z++];p.box&&p.atomdfs&&p.adjustCoordinatesToBox(),f()}).catch(D)}else p.atoms=p.frames[b],f();p.molObj=null,p.modelDatas&&b<p.modelDatas.length&&(p.modelData=p.modelDatas[b],p.unitCellObjects&&C&&(C.removeUnitCell(p),C.addUnitCell(p)))})}addFrame(b){this.frames.push(b)}vibrate(b=10,C=1,E=!1,p,f){var D=0,M=b;E&&(D=-b,M=b),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),D<M&&(this.frames=[]),E&&(this.frames.origIndex=b);for(var P=D;P<M;P++){var O=[],z=this.frames.length;if(P==0&&!f){this.frames.push(this.atoms);continue}for(var k=0;k<this.atoms.length;k++){var I=(0,g.getAtomProperty)(this.atoms[k],"dx"),H=(0,g.getAtomProperty)(this.atoms[k],"dy"),Y=(0,g.getAtomProperty)(this.atoms[k],"dz"),q=new s.Vector3(I,H,Y),G=new s.Vector3(this.atoms[k].x,this.atoms[k].y,this.atoms[k].z),$=P*C/b;q.multiplyScalar($),G.add(q);var j={};for(var V in this.atoms[k])j[V]=this.atoms[k][V];if(j.x=G.x,j.y=G.y,j.z=G.z,O.push(j),p&&f){var X=(0,g.extend)({},f),Q=new s.Vector3(I,H,Y);if(Q.multiplyScalar(C),Q.add(G),X.start=G,X.end=Q,X.frame=z,!X.color){var te=j.style.sphere;te||(te=j.style.stick),te||(te=j.style.line),X.color=(0,g.getColorFromStyle)(j,te)}p.addArrow(X)}}this.frames.push(O)}}setAtomDefaults(b){for(let C=0;C<b.length;C++){let E=b[C];E&&(E.style=E.style||(0,g.deepCopy)(v.defaultAtomStyle),E.color=E.color||this.ElementColors[E.elem]||this.defaultColor,E.model=this.id,(E.clickable||E.hoverable)&&(E.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(b,C,E={}){var p=v.parseMolData(b,C,E);this.dontDuplicateAtoms=!E.duplicateAssemblyAtoms;var f=p.modelData;if(f&&(Array.isArray(f)?(this.modelData=f[0],E.frames&&(this.modelDatas=f)):this.modelData=f),p.box?this.box=p.box:this.box=null,this.frames.length==0){for(let M=0;M<p.length;M++)p[M].length!=0&&this.frames.push(p[M]);this.frames[0]&&(this.atoms=this.frames[0])}else if(E.frames)for(let M=0;M<p.length;M++)this.frames.push(p[M]);else for(var D=0;D<p.length;D++)this.addAtoms(p[D]);for(let M=0;M<this.frames.length;M++)this.setAtomDefaults(this.frames[M]);E.vibrate&&E.vibrate.frames&&E.vibrate.amplitude&&this.vibrate(E.vibrate.frames,E.vibrate.amplitude),E.style&&this.setStyle({},E.style)}setDontDuplicateAtoms(b){this.dontDuplicateAtoms=b}setModelData(b){this.modelData=b}propertyMatches(b,C){if(b==C)return!0;if(typeof C=="string"&&typeof b=="number"){var E=C.match(/(-?\d+)\s*-\s*(-?\d+)/);if(E){var p=parseInt(E[1]),f=parseInt(E[2]);if(E&&b>=p&&b<=f)return!0}}return!1}static deepCopyAndCache(b,C){if(typeof b!="object"||b==null||b.__cache_created)return b;let E={};for(let p in b){let f=b[p];if(Array.isArray(f)){E[p]=[];for(let D=0;D<f.length;D++)E[p].push(v.deepCopyAndCache(f[D],C))}else typeof f=="object"&&p!="properties"&&p!="model"?E[p]=v.deepCopyAndCache(f,C):E[p]=f;if(p=="and"||p=="or"){let D=[];for(let M of E[p]){let P=new Set;for(let O of C.selectedAtoms(M))P.add(O.index);D.push(P)}if(p=="and"){let M=function(O,z){let k=new Set;for(let I of z)O.has(I)&&k.add(I);return k},P=new Set(D[0]);for(let O of D.splice(1))P=M(P,O);E[p].__cached_results=P}else if(p=="or"){let M=new Set;for(let P of D)for(let O of P)M.add(O);E[p].__cached_results=M}}}return E.__cache_created=!0,E}atomIsSelected(b,C){if(typeof C>"u")return!0;var E=!!C.invert,p=!0;for(var f in C)if(f=="and"||f=="or"||f=="not"){if(f=="not"){if(this.atomIsSelected(b,C[f])){p=!1;break}}else if(C[f].__cached_results===void 0&&(C=v.deepCopyAndCache(C,this)),p=C[f].__cached_results.has(b.index),!p)break}else if(f==="predicate"){if(!C.predicate(b)){p=!1;break}}else if(f=="properties"&&b[f]){for(var D in C.properties)if(!D.startsWith("__cache")){if(typeof b.properties[D]>"u"){p=!1;break}if(b.properties[D]!=C.properties[D]){p=!1;break}}}else if(C.hasOwnProperty(f)&&!v.ignoredKeys.has(f)&&!f.startsWith("__cache")){if(typeof b[f]>"u"){p=!1;break}var M=!1;if(f==="bonds"){var P=C[f];if(P!=b.bonds.length){p=!1;break}}else if(Array.isArray(C[f])){var O=C[f],z=b[f];for(let k=0;k<O.length;k++)if(this.propertyMatches(z,O[k])){M=!0;break}if(!M){p=!1;break}}else{let k=C[f];if(!this.propertyMatches(b[f],k)){p=!1;break}}}return E?!p:p}static squaredDistance(b,C){var E=C.x-b.x,p=C.y-b.y,f=C.z-b.z;return E*E+p*p+f*f}expandAtomList(b,C){if(C<=0)return b;for(var E=(0,g.getExtent)(b,void 0),p=[[],[],[]],f=0;f<3;f++)p[0][f]=E[0][f]-C,p[1][f]=E[1][f]+C,p[2][f]=E[2][f];var D=[];for(let z=0;z<this.atoms.length;z++){var M=this.atoms[z].x,P=this.atoms[z].y,O=this.atoms[z].z;M>=p[0][0]&&M<=p[1][0]&&P>=p[0][1]&&P<=p[1][1]&&O>=p[0][2]&&O<=p[1][2]&&(M>=E[0][0]&&M<=E[1][0]&&P>=E[0][1]&&P<=E[1][1]&&O>=E[0][2]&&O<=E[1][2]||D.push(this.atoms[z]))}return D}static getFloat(b){return typeof b=="number"?b:parseFloat(b)}selectedAtoms(b,C){var E=[];b=v.deepCopyAndCache(b||{},this),C||(C=this.atoms);for(var p=C.length,f=0;f<p;f++){var D=C[f];D&&this.atomIsSelected(D,b)&&E.push(D)}if(b.hasOwnProperty("expand")){let j=v.getFloat(b.expand),V=this.expandAtomList(E,j),X=E.length,Q=j*j;for(let te=0;te<V.length;te++)for(let xe=0;xe<X;xe++){var M=v.squaredDistance(V[te],E[xe]);M<Q&&M>0&&E.push(V[te])}}if(b.hasOwnProperty("within")&&b.within.hasOwnProperty("sel")&&b.within.hasOwnProperty("distance")){var P=this.selectedAtoms(b.within.sel,this.atoms),O={};let j=v.getFloat(b.within.distance),V=j*j;for(let X=0;X<P.length;X++)for(let Q=0;Q<E.length;Q++){let te=v.squaredDistance(P[X],E[Q]);te<V&&te>0&&(O[Q]=1)}var z=[];if(b.within.invert)for(let X=0;X<E.length;X++)O[X]||z.push(E[X]);else for(let X in O)z.push(E[X]);E=z}if(b.hasOwnProperty("byres")){var k={},I=[],H=[];for(let j=0;j<E.length;j++){let V=E[j];var Y=V.chain,q=V.resi;if(k[Y]===void 0&&(k[Y]={}),V.hasOwnProperty("resi")&&k[Y][q]===void 0){for(k[Y][q]=!0,H.push(V);H.length>0;)if(V=H.pop(),Y=V.chain,q=V.resi,I[V.index]===void 0){I[V.index]=!0;for(var G=0;G<V.bonds.length;G++){var $=this.atoms[V.bonds[G]];I[$.index]===void 0&&$.hasOwnProperty("resi")&&$.chain==Y&&$.resi==q&&(H.push($),E.push($))}}}}}return E}addAtoms(b){this.molObj=null;var C=this.atoms.length,E=[],p;for(p=0;p<b.length;p++)typeof b[p].index>"u"&&(b[p].index=p),typeof b[p].serial>"u"&&(b[p].serial=p),E[b[p].index]=C+p;for(p=0;p<b.length;p++){var f=b[p],D=E[f.index],M=(0,g.extend)({},f);M.index=D,M.bonds=[],M.bondOrder=[],M.model=this.id,M.style=M.style||(0,g.deepCopy)(v.defaultAtomStyle),typeof M.color>"u"&&(M.color=this.ElementColors[M.elem]||this.defaultColor);for(var P=f.bonds?f.bonds.length:0,O=0;O<P;O++){var z=E[f.bonds[O]];typeof z<"u"&&(M.bonds.push(z),M.bondOrder.push(f.bondOrder?f.bondOrder[O]:1))}this.atoms.push(M)}}assignBonds(){(0,w.assignBonds)(this.atoms)}removeAtoms(b){this.molObj=null;var C=[],E;for(E=0;E<b.length;E++)C[b[E].index]=!0;var p=[];for(E=0;E<this.atoms.length;E++){var f=this.atoms[E];C[f.index]||p.push(f)}this.atoms=[],this.addAtoms(p)}setStyle(b,C,E){typeof C>"u"&&typeof E>"u"&&(C=b,b={}),b=b,typeof C=="string"&&(C=(0,g.specStringToObject)(C));var p=!1,f=this,D=function(P){var O=f.selectedAtoms(b,P);for(let z=0;z<P.length;z++)P[z]&&(P[z].capDrawn=!1);for(let z=0;z<O.length;z++){p=!0,(O[z].clickable||O[z].hoverable)&&(O[z].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),E||(O[z].style={});for(let k in C)C.hasOwnProperty(k)&&(O[z].style[k]=O[z].style[k]||{},Object.assign(O[z].style[k],C[k]))}};if(b.frame!==void 0&&b.frame<this.frames.length){let P=b.frame;P<0&&(P=this.frames.length+P),D(this.frames[P])}else{D(this.atoms);for(var M=0;M<this.frames.length;M++)this.frames[M]!==this.atoms&&D(this.frames[M])}p&&(this.molObj=null)}setClickable(b,C,E){if(C=!!C,E=(0,g.makeFunction)(E),E===null){console.log("Callback is not a function");return}var p=this.selectedAtoms(b,this.atoms),f=p.length;for(let D=0;D<f;D++)p[D].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},p[D].clickable=C,E&&(p[D].callback=E);f>0&&(this.molObj=null)}setHoverable(b,C,E,p){if(C=!!C,E=(0,g.makeFunction)(E),p=(0,g.makeFunction)(p),E===null){console.log("Hover_callback is not a function");return}if(p===null){console.log("Unhover_callback is not a function");return}var f=this.selectedAtoms(b,this.atoms),D=f.length;for(let M=0;M<D;M++)f[M].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},f[M].hoverable=C,E&&(f[M].hover_callback=E),p&&(f[M].unhover_callback=p);D>0&&(this.molObj=null)}enableContextMenu(b,C){C=!!C;var E,p=this.selectedAtoms(b,this.atoms),f=p.length;for(E=0;E<f;E++)p[E].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},p[E].contextMenuEnabled=C;f>0&&(this.molObj=null)}setColorByElement(b,C){if(!(this.molObj!==null&&v.sameObj(C,this.lastColors))){this.lastColors=C;var E=this.selectedAtoms(b,E);E.length>0&&(this.molObj=null);for(var p=0;p<E.length;p++){var f=E[p];typeof C[f.elem]<"u"&&(f.color=C[f.elem])}}}setColorByProperty(b,C,E,p){var f,D,M=this.selectedAtoms(b,M);for(this.lastColors=null,M.length>0&&(this.molObj=null),typeof E=="string"&&typeof h.Gradient.builtinGradients[E]<"u"&&(E=new h.Gradient.builtinGradients[E]),E=E,p||(p=E.range()),p||(p=(0,g.getPropertyRange)(M,C)),f=0;f<M.length;f++){D=M[f];var P=(0,g.getAtomProperty)(D,C);P!=null&&(D.color=E.valueToHex(parseFloat(D.properties[C]),p))}}setColorByFunction(b,C){var E=this.selectedAtoms(b,E);if(typeof C=="function"){this.lastColors=null,E.length>0&&(this.molObj=null);for(let p=0;p<E.length;p++){let f=E[p];f.color=C(f)}}}toCDObject(b=!1){var C={a:[],b:[]};b&&(C.s=[]);for(let p=0;p<this.atoms.length;p++){let f={},D=this.atoms[p];if(f.x=D.x,f.y=D.y,f.z=D.z,D.elem!="C"&&(f.l=D.elem),b){for(var E=0;E<C.s.length&&JSON.stringify(D.style)!==JSON.stringify(C.s[E]);)E++;E===C.s.length&&C.s.push(D.style),E!==0&&(f.s=E)}C.a.push(f);for(let M=0;M<D.bonds.length;M++){let P=p,O=D.bonds[M];if(P>=O)continue;let z={b:P,e:O},k=D.bondOrder[M];k!=1&&(z.o=k),C.b.push(z)}}return C}globj(b,C){(this.molObj===null||C.regen)&&(this.molObj=this.createMolObj(this.atoms,C),this.renderedMolObj&&(b.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),b.add(this.renderedMolObj))}exportVRML(){var b=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return b.vrml()}removegl(b){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),b.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(b,C,E,p){for(var f=this.selectedAtoms(C,f),D=(0,g.deepCopy)(p),M=0;M<f.length;M++){var P=f[M],O=null;typeof P[b]<"u"?O=String(P[b]):typeof P.properties[b]<"u"&&(O=String(P.properties[b])),O!=null&&(D.position=P,E.addLabel(O,D))}}addResLabels(b,C,E,p=!1){var f=[],D=function(P,O){for(var z=P.selectedAtoms(b,z),k={},I=0;I<z.length;I++){var H=z[I],Y=H.chain,q=H.resn,G=H.resi,$=q+""+G;k[Y]||(k[Y]={}),k[Y][$]||(k[Y][$]=[]),k[Y][$].push(H)}var j=(0,g.deepCopy)(E);for(let X in k)if(k.hasOwnProperty(X)){var V=k[X];for(let Q in V)if(V.hasOwnProperty(Q)){let te=V[Q],xe=new s.Vector3(0,0,0);for(let ye=0;ye<te.length;ye++){let Fe=te[ye];xe.x+=Fe.x,xe.y+=Fe.y,xe.z+=Fe.z}xe.divideScalar(te.length),j.position=xe,j.frame=O;let Ne=C.addLabel(Q,j,void 0,!0);f.push(Ne)}}};if(p){var M=this.getNumFrames();let P=this.atoms;for(let O=0;O<M;O++)this.frames[O]&&(this.atoms=this.frames[O],D(this,O));this.atoms=P}else D(this);return f}setupDFS(){this.atomdfs=[];var b=this,C=new Int8Array(this.atoms.length);C.fill(0);for(var E=function(M,P,O){O.push([M,P]);var z=b.atoms[M];C[M]=1;for(var k=0;k<z.bonds.length;k++){var I=z.bonds[k];b.atoms[I]&&!C[I]&&E(I,M,O)}},p=0;p<this.atoms.length;p++){var f=this.atoms[p];if(f&&!C[p]){var D=[];E(p,-1,D),this.atomdfs.push(D)}}}setCoordinatesFromURL(b,C){this.frames=[];var E=this;return this.box&&this.setupDFS(),b.startsWith("http")||(b="http://"+b),(0,g.get)(b+"/traj/numframes/"+C,function(p){if(!isNaN(parseInt(p)))return E.frames.push(E.atoms),E.frames.numFrames=p,E.frames.url=b,E.frames.path=C,E.setFrame(0)})}setCoordinates(b,C){if(C=C||"",!b)return[];if(/\.gz$/.test(C)){C=C.replace(/\.gz$/,"");try{b=c(b)}catch(k){console.log(k)}}var E={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(E.hasOwnProperty(C)){this.frames=[];for(var p=this.atoms.length,f=v.parseCrd(b,C),D=0;D<f.length;){for(var M=[],P=0;P<p;P++){var O={};for(var z in this.atoms[P])O[z]=this.atoms[P][z];M[P]=O,M[P].x=f[D++],M[P].y=f[D++],M[P].z=f[D++]}this.frames.push(M)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(b){}static parseCrd(b,C){var E=[],p=0;if(C=="pdb")for(var f=b.indexOf(`
ATOM`);f!=-1;){for(;b.slice(f,f+5)==`
ATOM`||b.slice(f,f+7)==`
HETATM`;)E[p++]=parseFloat(b.slice(f+31,f+39)),E[p++]=parseFloat(b.slice(f+39,f+47)),E[p++]=parseFloat(b.slice(f+47,f+55)),f=b.indexOf(`
`,f+54),b.slice(f,f+4)==`
TER`&&(f=b.indexOf(`
`,f+5));f=b.indexOf(`
ATOM`,f)}else if(C=="netcdf"){var D=new x.NetCDFReader(b);E=[].concat.apply([],D.getDataVariable("coordinates"))}else{if(C=="array"||Array.isArray(b))return b.flat(2);{let M=b.indexOf(`
`);C=="inpcrd"&&(M=b.indexOf(`
`,M+1)),b=b.slice(M+1),E=b.match(/\S+/g).map(parseFloat)}}return E}static parseMolData(b,C="",E){if(!b)return[];if(/\.gz$/.test(C)){C=C.replace(/\.gz$/,"");try{b=c(b)}catch(D){console.log(D)}}typeof _.Parsers[C]>"u"&&(C=C.split(".").pop(),typeof _.Parsers[C]>"u"&&(console.log("Unknown format: "+C),b instanceof Uint8Array?C="mmtf":b.match(/^@<TRIPOS>MOLECULE/gm)?C="mol2":b.match(/^data_/gm)&&b.match(/^loop_/gm)?C="cif":b.match(/^HETATM/gm)||b.match(/^ATOM/gm)?C="pdb":b.match(/ITEM: TIMESTEP/gm)?C="lammpstrj":b.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?C="sdf":b.match(/^%VERSION\s+VERSION_STAMP/gm)?C="prmtop":C="xyz",console.log("Best guess: "+C)));var p=_.Parsers[C],f=p(b,E);return f}}v.defaultAtomStyle={line:{}},v.defaultlineWidth=1,v.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},v.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLShape:()=>x,splitMesh:()=>S});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts"),u=r("./src/ProteinSurface4.ts"),l=r("./src/VolumeData.ts"),g=r("./src/GLDraw.ts"),h=r("./src/glcartoon.ts"),_=r("./src/utilities.ts");class x{static finalizeGeo(c){var v=c.updateGeoGroup(0);v.vertices>0&&v.truncateArrayBuffers(!0,!0)}static updateColor(c,v){v=v||o.CC.color(v),c.colorsNeedUpdate=!0;var y,b,C;v.constructor!==Array&&(y=v.r,b=v.g,C=v.b);for(let E in c.geometryGroups){let p=c.geometryGroups[E],f=p.colorArray;for(let D=0,M=p.vertices;D<M;++D){if(v.constructor===Array){let P=v[D];y=P.r,b=P.g,C=P.b}f[D*3]=y,f[D*3+1]=b,f[D*3+2]=C}}}static drawArrow(c,v,y){var b=y.start,C=y.end,E=y.radius,p=y.radiusRatio,f=y.mid,D=y.midpos;if(!(b&&C))return;var M=v.updateGeoGroup(51),P=new s.Vector3(C.x,C.y,C.z).sub(b);if(D){let Le=P.length();D>0?f=D/Le:f=(Le+D)/Le}P.multiplyScalar(f);var O=new s.Vector3(b.x,b.y,b.z).add(P),z=P.clone().negate();let k=new s.Vector3(b.x,b.y,b.z);c.intersectionShape.cylinder.push(new a.Cylinder(k,O.clone(),E)),c.intersectionShape.sphere.push(new a.Sphere(k,E));var I=[];I[0]=P.clone(),Math.abs(I[0].x)>1e-4?I[0].y+=1:I[0].x+=1,I[0].cross(P),I[0].normalize(),I[4]=I[0].clone(),I[4].crossVectors(I[0],P),I[4].normalize(),I[8]=I[0].clone().negate(),I[12]=I[4].clone().negate(),I[2]=I[0].clone().add(I[4]).normalize(),I[6]=I[4].clone().add(I[8]).normalize(),I[10]=I[8].clone().add(I[12]).normalize(),I[14]=I[12].clone().add(I[0]).normalize(),I[1]=I[0].clone().add(I[2]).normalize(),I[3]=I[2].clone().add(I[4]).normalize(),I[5]=I[4].clone().add(I[6]).normalize(),I[7]=I[6].clone().add(I[8]).normalize(),I[9]=I[8].clone().add(I[10]).normalize(),I[11]=I[10].clone().add(I[12]).normalize(),I[13]=I[12].clone().add(I[14]).normalize(),I[15]=I[14].clone().add(I[0]).normalize();var H=M.vertices,Y=M.vertexArray,q=M.faceArray,G=M.normalArray,$=M.lineArray,j,V,X;for(V=0,X=I.length;V<X;++V){j=3*(H+3*V);var Q=I[V].clone().multiplyScalar(E).add(b),te=I[V].clone().multiplyScalar(E).add(O),xe=I[V].clone().multiplyScalar(E*p).add(O);if(Y[j]=Q.x,Y[j+1]=Q.y,Y[j+2]=Q.z,Y[j+3]=te.x,Y[j+4]=te.y,Y[j+5]=te.z,Y[j+6]=xe.x,Y[j+7]=xe.y,Y[j+8]=xe.z,V>0){var Ne=Y[j-3],ye=Y[j-2],Fe=Y[j-1],Me=new s.Vector3(Ne,ye,Fe),_e=new s.Vector3(C.x,C.y,C.z),Qe=O.clone(),Xe=new s.Vector3(xe.x,xe.y,xe.z);c.intersectionShape.triangle.push(new a.Triangle(Xe,_e,Me)),c.intersectionShape.triangle.push(new a.Triangle(Me.clone(),Qe,Xe.clone()))}}M.vertices+=48,j=M.vertices*3,Y[j]=b.x,Y[j+1]=b.y,Y[j+2]=b.z,Y[j+3]=O.x,Y[j+4]=O.y,Y[j+5]=O.z,Y[j+6]=C.x,Y[j+7]=C.y,Y[j+8]=C.z,M.vertices+=3;var R,pe,ve,ie,de,be,Ue,Be,Se,Ie,je,Ke,Pe,ht,yt,le,ue,ge,$e,ke=M.vertices-3,it=M.vertices-2,st=M.vertices-1,se=ke*3,Ge=it*3,Je=st*3;for(V=0,X=I.length-1;V<X;++V){var pt=H+3*V;j=pt*3,pe=M.faceidx,ve=M.lineidx,ie=pt,Ie=ie*3,de=pt+1,je=de*3,be=pt+2,Ke=be*3,Ue=pt+4,Pe=Ue*3,Be=pt+5,ht=Be*3,Se=pt+3,yt=Se*3,le=ue=I[V],ge=$e=I[V+1],G[Ie]=le.x,G[je]=ue.x,G[yt]=$e.x,G[Ie+1]=le.y,G[je+1]=ue.y,G[yt+1]=$e.y,G[Ie+2]=le.z,G[je+2]=ue.z,G[yt+2]=$e.z,G[je]=ue.x,G[Pe]=ge.x,G[yt]=$e.x,G[je+1]=ue.y,G[Pe+1]=ge.y,G[yt+1]=$e.y,G[je+2]=ue.z,G[Pe+2]=ge.z,G[yt+2]=$e.z,G[Ke]=ue.x,G[ht]=ge.x,G[Ke+1]=ue.y,G[ht+1]=ge.y,G[Ke+2]=ue.z,G[ht+2]=ge.z,q[pe]=ie,q[pe+1]=de,q[pe+2]=Se,q[pe+3]=de,q[pe+4]=Ue,q[pe+5]=Se,q[pe+6]=ie,q[pe+7]=Se,q[pe+8]=ke,q[pe+9]=be,q[pe+10]=it,q[pe+11]=Be,q[pe+12]=be,q[pe+13]=st,q[pe+14]=Be,$[ve]=ie,$[ve+1]=de,$[ve+2]=ie,$[ve+3]=Se,$[ve+4]=Ue,$[ve+5]=Se,$[ve+6]=ie,$[ve+7]=Se,$[ve+8]=be,$[ve+9]=de,$[ve+10]=be,$[ve+11]=Be,$[ve+12]=Ue,$[ve+13]=Be,$[ve+14]=be,$[ve+15]=st,$[ve+16]=be,$[ve+17]=Be,$[ve+18]=st,$[ve+19]=Be,M.faceidx+=15,M.lineidx+=20}R=[H+45,H+46,H+1,H,H+47,H+2],pe=M.faceidx,ve=M.lineidx,ie=R[0],Ie=ie*3,de=R[1],je=de*3,be=R[4],Ke=be*3,Ue=R[2],Pe=Ue*3,Be=R[5],ht=Be*3,Se=R[3],yt=Se*3,le=ue=I[15],ge=$e=I[0],G[Ie]=le.x,G[je]=ue.x,G[yt]=$e.x,G[Ie+1]=le.y,G[je+1]=ue.y,G[yt+1]=$e.y,G[Ie+2]=le.z,G[je+2]=ue.z,G[yt+2]=$e.z,G[je]=ue.x,G[Pe]=ge.x,G[yt]=$e.x,G[je+1]=ue.y,G[Pe+1]=ge.y,G[yt+1]=$e.y,G[je+2]=ue.z,G[Pe+2]=ge.z,G[yt+2]=$e.z,G[Ke]=ue.x,G[ht]=ge.x,G[Ke+1]=ue.y,G[ht+1]=ge.y,G[Ke+2]=ue.z,G[ht+2]=ge.z,P.normalize(),z.normalize(),G[se]=z.x,G[Ge]=G[Je]=P.x,G[se+1]=z.y,G[Ge+1]=G[Je+1]=P.y,G[se+2]=z.z,G[Ge+2]=G[Je+2]=P.z,q[pe]=ie,q[pe+1]=de,q[pe+2]=Se,q[pe+3]=de,q[pe+4]=Ue,q[pe+5]=Se,q[pe+6]=ie,q[pe+7]=Se,q[pe+8]=ke,q[pe+9]=be,q[pe+10]=it,q[pe+11]=Be,q[pe+12]=be,q[pe+13]=st,q[pe+14]=Be,$[ve]=ie,$[ve+1]=de,$[ve+2]=ie,$[ve+3]=Se,$[ve+4]=Ue,$[ve+5]=Se,$[ve+6]=ie,$[ve+7]=Se,$[ve+8]=be,$[ve+9]=de,$[ve+10]=be,$[ve+11]=Be,$[ve+12]=Ue,$[ve+13]=Be,$[ve+14]=be,$[ve+15]=st,$[ve+16]=be,$[ve+17]=Be,$[ve+18]=st,$[ve+19]=Be,M.faceidx+=15,M.lineidx+=20}static updateBoundingFromPoints(c,v,y,b){c.center.set(0,0,0);let C=1/0,E=1/0,p=1/0,f=-1/0,D=-1/0,M=-1/0;c.box&&(C=c.box.min.x,f=c.box.max.x,E=c.box.min.y,D=c.box.max.y,p=c.box.min.z,M=c.box.max.z);for(let k=0,I=b;k<I;k++){var P=y[k*3],O=y[k*3+1],z=y[k*3+2];P<C&&(C=P),O<E&&(E=O),z<p&&(p=z),P>f&&(f=P),O>D&&(D=O),z>M&&(M=z)}c.center.set((f+C)/2,(D+E)/2,(M+p)/2),c.radius=c.center.distanceTo({x:f,y:D,z:M}),c.box={min:{x:C,y:E,z:p},max:{x:f,y:D,z:M}}}static addCustomGeo(c,v,y,b,C){var E=v.addGeoGroup(),p=y.vertexArr,f=y.normalArr,D=y.faceArr;E.vertices=p.length,E.faceidx=D.length;var M,P,O,z,k,I,H,Y,q,G=E.vertexArray,$=E.colorArray;for(b.constructor!==Array&&(Y=b.r,q=b.g,z=b.b),I=0,H=E.vertices;I<H;++I)M=I*3,P=p[I],G[M]=P.x,G[M+1]=P.y,G[M+2]=P.z,b.constructor===Array&&(k=b[I],Y=k.r,q=k.g,z=k.b),$[M]=Y,$[M+1]=q,$[M+2]=z;if(C)for(I=0,H=E.faceidx/3;I<H;++I){M=I*3,O=D[M],z=D[M+1],k=D[M+2];var j=new s.Vector3,V=new s.Vector3,X=new s.Vector3;c.intersectionShape.triangle.push(new a.Triangle(j.copy(p[O]),V.copy(p[z]),X.copy(p[k])))}if(C){var Q=new s.Vector3(0,0,0),te=0;for(let ye=0;ye<v.geometryGroups.length;ye++)Q.add(v.geometryGroups[ye].getCentroid()),te++;Q.divideScalar(te),x.updateBoundingFromPoints(c.boundingSphere,{centroid:Q},G,E.vertices)}if(E.faceArray=new Uint16Array(D),E.truncateArrayBuffers(!0,!0),f.length<E.vertices)E.setNormals();else{var xe=E.normalArray=new Float32Array(E.vertices*3),Ne;for(I=0,H=E.vertices;I<H;++I)M=I*3,Ne=f[I],xe[M]=Ne.x,xe[M+1]=Ne.y,xe[M+2]=Ne.z}E.setLineIndices(),E.lineidx=E.lineArray.length}static updateFromStyle(c,v){typeof v.color<"u"?(c.color=v.color||new o.Color,v.color instanceof o.Color||(c.color=o.CC.color(v.color))):c.color=o.CC.color(0),c.wireframe=!!v.wireframe,c.opacity=v.alpha?(0,s.clamp)(v.alpha,0,1):1,typeof v.opacity<"u"&&(c.opacity=(0,s.clamp)(v.opacity,0,1)),c.side=v.side!==void 0?v.side:n.DoubleSide,c.linewidth=typeof v.linewidth>"u"?1:v.linewidth,c.clickable=!!v.clickable,c.callback=(0,_.makeFunction)(v.callback),c.hoverable=!!v.hoverable,c.hover_callback=(0,_.makeFunction)(v.hover_callback),c.unhover_callback=(0,_.makeFunction)(v.unhover_callback),c.hidden=v.hidden,c.frame=v.frame}constructor(c){this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.side=n.DoubleSide,this.stylespec=c||{},this.boundingSphere=new a.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},x.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new n.Geometry(!0),this.linegeo=new n.Geometry(!0)}updateStyle(c){for(var v in c)this.stylespec[v]=c[v];if(x.updateFromStyle(this,this.stylespec),c.voldata&&c.volscheme){(0,_.adjustVolumeStyle)(c);let y=c.volscheme,b=c.voldata,C=o.CC,E=y.range()||[-1,1];this.geo.setColors(function(p,f,D){let M=b.getVal(p,f,D);return C.color(y.valueToHex(M,E))}),delete this.color}}addCustom(c){c.vertexArr=c.vertexArr||[],c.faceArr=c.faceArr||[],c.normalArr=c.normalArr||[],x.drawCustom(this,this.geo,c)}addSphere(c){c.center||(c.center=new s.Vector3(0,0,0)),c.radius=c.radius?(0,s.clamp)(c.radius,0,1/0):1.5,c.color=o.CC.color(c.color),this.intersectionShape.sphere.push(new a.Sphere(c.center,c.radius)),g.GLDraw.drawSphere(this.geo,c.center,c.radius,c.color,c.quality),this.components.push({centroid:new s.Vector3(c.center.x,c.center.y,c.center.z)});var v=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,v.vertexArray,v.vertices)}addBox(c){var v=c.dimensions||{w:1,h:1,d:1},y;typeof v.w=="number"?y={x:v.w,y:0,z:0}:y=v.w;var b;typeof v.h=="number"?b={x:0,y:v.h,z:0}:b=v.h;var C;typeof v.d=="number"?C={x:0,y:0,z:v.d}:C=v.d;var E=c.corner;E==null&&(c.center!==void 0?E={x:c.center.x-.5*(y.x+b.x+C.x),y:c.center.y-.5*(y.y+b.y+C.y),z:c.center.z-.5*(y.z+b.z+C.z)}:E={x:0,y:0,z:0});var p=[{x:E.x,y:E.y,z:E.z},{x:E.x+y.x,y:E.y+y.y,z:E.z+y.z},{x:E.x+b.x,y:E.y+b.y,z:E.z+b.z},{x:E.x+y.x+b.x,y:E.y+y.y+b.y,z:E.z+y.z+b.z},{x:E.x+C.x,y:E.y+C.y,z:E.z+C.z},{x:E.x+y.x+C.x,y:E.y+y.y+C.y,z:E.z+y.z+C.z},{x:E.x+b.x+C.x,y:E.y+b.y+C.y,z:E.z+b.z+C.z},{x:E.x+y.x+b.x+C.x,y:E.y+y.y+b.y+C.y,z:E.z+y.z+b.z+C.z}],f=[],D=[];f.splice(f.length,0,p[0],p[1],p[2],p[3]),D.splice(D.length,0,0,2,1,1,2,3);var M=4;f.splice(f.length,0,p[2],p[3],p[6],p[7]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,p[4],p[5],p[0],p[1]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,p[6],p[7],p[4],p[5]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,p[3],p[1],p[7],p[5]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,p[2],p[6],p[0],p[4]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4;var P=(0,_.extend)({},c);P.vertexArr=f,P.faceArr=D,P.normalArr=[],x.drawCustom(this,this.geo,P);var O=new s.Vector3;this.components.push({centroid:O.addVectors(p[0],p[7]).multiplyScalar(.5)});var z=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,z.vertexArray,z.vertices)}addCylinder(c){var v,y;c.start?v=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):v=new s.Vector3(0,0,0),c.end?(y=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof y.x>"u"&&(y.x=3)):y=new s.Vector3(0,0,0);var b=c.radius||.1,C=o.CC.color(c.color);this.intersectionShape.cylinder.push(new a.Cylinder(v,y,b)),g.GLDraw.drawCylinder(this.geo,v,y,b,C,c.fromCap,c.toCap);var E=new s.Vector3;this.components.push({centroid:E.addVectors(v,y).multiplyScalar(.5)});var p=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,p.vertexArray,p.vertices)}addDashedCylinder(c){c.dashLength=c.dashLength||.25,c.gapLength=c.gapLength||.25;var v;c.start?v=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):v=new s.Vector3(0,0,0);var y;c.end?(y=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof y.x>"u"&&(y.x=3)):y=new s.Vector3(3,0,0);for(var b=c.radius||.1,C=o.CC.color(c.color),E=Math.sqrt(Math.pow(v.x-y.x,2)+Math.pow(v.y-y.y,2)+Math.pow(v.z-y.z,2)),p=E/(c.gapLength+c.dashLength),f=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),D=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),M=new s.Vector3((y.x-v.x)/(E/c.gapLength),(y.y-v.y)/(E/c.gapLength),(y.z-v.z)/(E/c.gapLength)),P=new s.Vector3((y.x-v.x)/(E/c.dashLength),(y.y-v.y)/(E/c.dashLength),(y.z-v.z)/(E/c.dashLength)),O=0;O<p;O++)D=new s.Vector3(f.x+P.x,f.y+P.y,f.z+P.z),this.intersectionShape.cylinder.push(new a.Cylinder(f,D,b)),g.GLDraw.drawCylinder(this.geo,f,D,b,C,c.fromCap,c.toCap),f=new s.Vector3(D.x+M.x,D.y+M.y,D.z+M.z);var z=new s.Vector3;this.components.push({centroid:z.addVectors(v,y).multiplyScalar(.5)});var k=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,k.vertexArray,k.vertices)}addCurve(c){c.points=c.points||[],c.smooth=c.smooth||10,typeof c.fromCap>"u"&&(c.fromCap=2),typeof c.toCap>"u"&&(c.toCap=2);var v=(0,h.subdivide_spline)(c.points,c.smooth);if(v.length<3){console.log("Too few points in addCurve");return}var y=c.radius||.1,b=o.CC.color(c.color),C=0,E=v.length-1,p=v[0].distanceTo(v[1]),f=Math.ceil(2*y/p);if(c.toArrow){E-=f;let O={start:v[E],end:v[v.length-1],radius:y,color:b,mid:1e-4};this.addArrow(O)}if(c.fromArrow){C+=f;let O={start:v[C],end:v[0],radius:y,color:b,mid:1e-4};this.addArrow(O)}for(var D=Math.ceil(v.length/2),M={radius:y,color:b,fromCap:2,toCap:2},P=C;P<E;P++)M.start=v[P],M.end=v[P+1],M.fromCap=2,M.toCap=2,P<D?(M.fromCap=2,M.toCap=0):P>D?(M.fromCap=0,M.toCap=2):(M.fromCap=2,M.toCap=2),this.addCylinder(M)}addLine(c){var v,y;c.start?v=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):v=new s.Vector3(0,0,0),c.end?(y=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof y.x>"u"&&(y.x=3)):y=new s.Vector3(3,0,0);var b=this.geo.updateGeoGroup(2),C=b.vertices,E=C*3,p=b.vertexArray;p[E]=v.x,p[E+1]=v.y,p[E+2]=v.z,p[E+3]=y.x,p[E+4]=y.y,p[E+5]=y.z,b.vertices+=2;var f=b.lineArray,D=b.lineidx;f[D]=C,f[D+1]=C+1,b.lineidx+=2;var M=new s.Vector3;this.components.push({centroid:M.addVectors(v,y).multiplyScalar(.5)}),b=this.geo.updateGeoGroup(0),x.updateBoundingFromPoints(this.boundingSphere,this.components,b.vertexArray,b.vertices)}addArrow(c){if(c.start?c.start=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):c.start=new s.Vector3(0,0,0),c.dir instanceof s.Vector3&&typeof c.length=="number"){var v=c.dir.clone().multiplyScalar(c.length).add(c.start);c.end=v}else c.end?(c.end=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof c.end.x>"u"&&(c.end.x=3)):c.end=new s.Vector3(3,0,0);c.radius=c.radius||.1,c.radiusRatio=c.radiusRatio||1.618034,c.mid=0<c.mid&&c.mid<1?c.mid:.618034,x.drawArrow(this,this.geo,c);var y=new s.Vector3;this.components.push({centroid:y.addVectors(c.start,c.end).multiplyScalar(.5)});var b=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,b.vertexArray,b.vertices)}static distance_from(c,v){return Math.sqrt(Math.pow(c.x-v.x,2)+Math.pow(c.y-v.y,2)+Math.pow(c.z-v.z,2))}static inSelectedRegion(c,v,y){for(var b=0;b<v.length;b++)if(x.distance_from(v[b],c)<=y)return!0;return!1}addIsosurface(c,v,y){var b=v.isoval!==void 0&&typeof v.isoval=="number"?v.isoval:0,C=!!v.voxel,E=v.smoothness===void 0?1:v.smoothness,p=c.size.x,f=c.size.y,D=c.size.z,M=new Int16Array(p*f*D),P=c.data,O,z;for(O=0,z=M.length;O<z;++O)M[O]=-1;var k=new Uint8Array(p*f*D);for(O=0,z=P.length;O<z;++O){var I=b>=0?P[O]-b:b-P[O];I>0&&(k[O]|=x.ISDONE)}var H=[],Y=[];u.MarchingCube.march(k,H,Y,{fulltable:!0,voxel:C,unitCube:c.unit,origin:c.origin,matrix:c.matrix,nX:p,nY:f,nZ:D}),!C&&E>0&&u.MarchingCube.laplacianSmooth(E,H,Y);var q=[],G=[],$=[];if(v.selectedRegion&&v.coords===void 0&&(v.coords=v.selectedRegion),v.coords!==void 0){var j=v.coords[0].x,V=v.coords[0].y,X=v.coords[0].z,Q=v.coords[0].x,te=v.coords[0].y,xe=v.coords[0].z;for(let pe=0;pe<v.coords.length;pe++)v.coords[pe].x>j?j=v.coords[pe].x:v.coords[pe].x<Q&&(Q=v.coords[pe].x),v.coords[pe].y>V?V=v.coords[pe].y:v.coords[pe].y<te&&(te=v.coords[pe].y),v.coords[pe].z>X?X=v.coords[pe].z:v.coords[pe].z<xe&&(xe=v.coords[pe].z);var Ne=2;v.radius!==void 0&&(Ne=v.radius),v.selectedOffset!==void 0&&(Ne=v.selectedOffset),v.seldist!==void 0&&(Ne=v.seldist),Q-=Ne,j+=Ne,te-=Ne,V+=Ne,xe-=Ne,X+=Ne;for(let pe=0;pe<H.length;pe++)H[pe].x>Q&&H[pe].x<j&&H[pe].y>te&&H[pe].y<V&&H[pe].z>xe&&H[pe].z<X&&x.inSelectedRegion(H[pe],v.coords,Ne)?(q.push(G.length),G.push(H[pe])):q.push(-1);for(let pe=0;pe+2<Y.length;pe+=3)q[Y[pe]]!==-1&&q[Y[pe+1]]!==-1&&q[Y[pe+2]]!==-1&&($.push(Y[pe]-(Y[pe]-q[Y[pe]])),$.push(Y[pe+1]-(Y[pe+1]-q[Y[pe+1]])),$.push(Y[pe+2]-(Y[pe+2]-q[Y[pe+2]])));H=G,Y=$}x.drawCustom(this,this.geo,{vertexArr:H,faceArr:Y,normalArr:[],clickable:v.clickable,hoverable:v.hoverable}),this.updateStyle(v);var ye=new s.Vector3(c.origin.x,c.origin.y,c.origin.z),Fe=new s.Vector3(c.size.x*c.unit.x,c.size.y*c.unit.y,c.size.z*c.unit.z),Me=new s.Vector3(0,0,0),_e=ye.clone(),Qe=ye.clone().add(Fe);for(let pe=0;pe<H.length;pe++)Me.add(H[pe]),_e.max(H[pe]),Qe.min(H[pe]);Me.divideScalar(H.length);var Xe=Me.distanceTo(Qe),R=Me.distanceTo(_e);this.boundingSphere.center=Me,this.boundingSphere.radius=Math.max(Xe,R),typeof y=="function"&&y()}addVolumetricData(c,v,y){c=new l.VolumeData(c,v),this.addIsosurface(c,y)}finalize(){return x.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(c){if(this.renderedShapeObj&&(c.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){x.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&x.updateColor(this.geo,this.color),this.shapeObj=new n.Object3D;var v=null;this.side==n.DoubleSide?v=new n.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors}):v=new n.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors});var y=new n.Mesh(this.geo,v);this.shapeObj.add(y);var b=new n.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),C=new n.Line(this.linegeo,b,n.LineStyle.LinePieces);this.shapeObj.add(C),this.renderedShapeObj=this.shapeObj.clone(),c.add(this.renderedShapeObj)}}removegl(c){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),c.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}x.ISDONE=2,x.drawCustom=function(w,c,v){var y=v,b=y.vertexArr,C=y.faceArr;(b.length===0||C.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var E=v.color;typeof E>"u"&&(E=w.color),E=o.CC.color(E);for(var p=S(y),f=0,D=p.length;f<D;f++)x.addCustomGeo(w,c,p[f],p[f].colorArr?p[f].colorArr:E,v.clickable)};function S(w){var c=64e3;if(w.vertexArr.length<c)return[w];var v=[{vertexArr:[],normalArr:[],faceArr:[]}];w.colorArr&&(v.colorArr=[]);var y=[],b=[],C=0,E=w.faceArr;for(let f=0,D=E.length;f<D;f+=3){let M=v[C];for(let P=0;P<3;P++){var p=E[f+P];y[p]!==C&&(y[p]=C,b[p]=M.vertexArr.length,M.vertexArr.push(w.vertexArr[p]),w.normalArr&&w.normalArr[p]&&M.normalArr.push(w.normalArr[p]),w.colorArr&&w.colorArr[p]&&M.colorArr.push(w.colorArr[p])),M.faceArr.push(b[p])}M.vertexArr.length>=c&&(v.push({vertexArr:[],normalArr:[],faceArr:[]}),w.colorArr&&(v.colorArr=[]),C++)}return v}},"./src/GLViewer.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLViewer:()=>v,createStereoViewer:()=>C,createViewer:()=>y,createViewerGrid:()=>b});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/colors.ts"),o=r("./src/utilities.ts"),u=r("./src/Gradient.ts"),l=r("./src/GLModel.ts"),g=r("./src/Label.ts"),h=r("./src/GLShape.ts"),_=r("./src/VolumeData.ts"),x=r("./src/ProteinSurface4.ts"),S=r("./src/VolumetricRender.ts"),w=r("./node_modules/upng-js/UPNG.js"),c=r.n(w);class v{getRect(){let p=this.container,f=p.getBoundingClientRect();if(f.width==0&&f.height==0&&p.style.display==="none"){let D=p.style.position,M=p.style.visibility;p.style.display="block",p.style.visibility="hidden",p.style.position="absolute",f=p.getBoundingClientRect(),p.style.display="none",p.style.visibility=M,p.style.position=D}return f}getWidth(){return this.getRect().width}getHeight(){return this.getRect().height}setupRenderer(){this.renderer=new n.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH||1,containerHeight:this.HEIGHT||1}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new n.Scene,this.scene.fog=new n.Fog(this.bgColor,100,200),this.modelGroup=new n.Object3D,this.rotationGroup=new n.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new a.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var p=new n.Light(16777215);p.position=new a.Vector3(.2,.2,1).normalize(),p.intensity=1,this.scene.add(p)}initContainer(p){this.container=p,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var p=0;for(let D in this.surfaces)if(this.surfaces.hasOwnProperty(D)){var f=parseInt(D);isNaN(f)||f>p&&(p=f)}return p+1}setSlabAndFog(){let p=this.camera.position.z-this.rotationGroup.position.z;p<1&&(p=1),this.camera.near=p+this.slabNear,this.camera.near<1&&(this.camera.near=1),this.camera.far=p+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=p*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(p){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!p&&this.linkedViewers.length>0))for(var f=this._viewer.getView(),D=0;D<this.linkedViewers.length;D++){var M=this.linkedViewers[D];M.setView(f,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledAtoms.splice(0,this.contextMenuEnabledAtoms.length);for(let p=0,f=this.models.length;p<f;p++){let D=this.models[p];if(D){let M=D.selectedAtoms({clickable:!0}),P=D.selectedAtoms({hoverable:!0}),O=D.selectedAtoms({contextMenuEnabled:!0});for(let z=0;z<P.length;z++)this.hoverables.push(P[z]);for(let z=0;z<M.length;z++)this.clickables.push(M[z]);for(let z=0;z<O.length;z++)this.contextMenuEnabledAtoms.push(O[z])}}for(let p=0,f=this.shapes.length;p<f;p++){let D=this.shapes[p];D&&D.clickable&&this.clickables.push(D),D&&D.hoverable&&this.hoverables.push(D)}}handleClickSelection(p,f,D){let M=this.targetedObjects(p,f,this.clickables);if(M.length){var P=M[0].clickable;P.callback!==void 0&&(typeof P.callback!="function"&&(P.callback=(0,o.makeFunction)(P.callback)),typeof P.callback=="function"&&P.callback(P,this._viewer,D,this.container,M))}}canvasOffset(){let p=this.glDOM,f=p.getBoundingClientRect(),D=p.ownerDocument,M=D.documentElement,P=D.defaultView;return{top:f.top+P.pageYOffset-M.clientTop,left:f.left+P.pageXOffset-M.clientLeft}}setHover(p,f,D){this.current_hover!=p&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,o.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,f,this.container,D)),this.current_hover=p,p&&p.hover_callback!==void 0&&(typeof p.hover_callback!="function"&&(p.hover_callback=(0,o.makeFunction)(p.hover_callback)),typeof p.hover_callback=="function"&&p.hover_callback(p,this._viewer,f,this.container,D)))}handleHoverSelection(p,f,D){if(this.hoverables.length==0)return;let M=this.targetedObjects(p,f,this.hoverables);if(M.length){var P=M[0].clickable;this.setHover(P,D,M),this.current_hover=P}else this.setHover(null)}handleHoverContinue(p,f){let D=this.targetedObjects(p,f,this.hoverables);(D.length==0||D[0]===void 0)&&this.setHover(null),D[0]!==void 0&&D[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(p,{allowTolerance:f=p.targetTouches,tolerance:D=5}={}){let M=this.getX(p),P=this.getY(p);if(f){let O=Math.abs(M-this.mouseStartX),z=Math.abs(P-this.mouseStartY);return O<=D&&z<=D}else return M===this.mouseStartX&&P===this.mouseStartY}calcTouchDistance(p){var f=p.targetTouches[0].pageX-p.targetTouches[1].pageX,D=p.targetTouches[0].pageY-p.targetTouches[1].pageY;return Math.hypot(f,D)}getX(p){var f=p.pageX;return f==null&&(f=p.pageX),p.targetTouches&&p.targetTouches[0]?f=p.targetTouches[0].pageX:p.changedTouches&&p.changedTouches[0]&&(f=p.changedTouches[0].pageX),f}getY(p){var f=p.pageY;return f==null&&(f=p.pageY),p.targetTouches&&p.targetTouches[0]?f=p.targetTouches[0].pageY:p.changedTouches&&p.changedTouches[0]&&(f=p.changedTouches[0].pageY),f}isInViewer(p,f){if(this.viewers!=null){var D=this.WIDTH/this.cols,M=this.HEIGHT/this.rows,P=this.canvasOffset(),O=p-P.left,z=f-P.top,k=this.rows-Math.floor(z/M)-1,I=Math.floor(O/D);if(k!=this.row||I!=this.col)return!1}return!0}adjustZoomToLimits(p){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let f=this.CAMERA_Z-this.config.lowerZoomLimit;p>f&&(p=f)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let f=this.CAMERA_Z-this.config.upperZoomLimit;p<f&&(p=f)}return p>this.CAMERA_Z-1&&(p=this.CAMERA_Z-1),p}static slerp(p,f,D){if(D==1)return f.clone();if(D==0)return p.clone();let M=p.x*f.x+p.y*f.y+p.z*f.z+p.w*f.w;if(M>.9995){let Y=new a.Quaternion(p.x+D*(f.x-p.x),p.y+D*(f.y-p.y),p.z+D*(f.z-p.z),p.w+D*(f.w-p.w));return Y.normalize(),Y}M<0&&(f=f.clone().multiplyScalar(-1),M=-M),M>1?M=1:M<-1&&(M=-1);var P=Math.acos(M),O=P*D,z=f.clone();z.sub(p.clone().multiplyScalar(M)),z.normalize();var k=Math.cos(O),I=Math.sin(O),H=new a.Quaternion(p.x*k+z.x*I,p.y*k+z.y*I,p.z*k+z.z*I,p.w*k+z.w*I);return H.normalize(),H}constructor(p,f={}){this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledAtoms=[],this.current_hover=null,this.hoverDuration=500,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new a.Quaternion(0,0,0,1),this.dq=new a.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=f,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=s.elementColors.defaultColors),this.nomouse=this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=s.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=parseFloat(this.config.camerax)),this._viewer=this,this.container=p,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new n.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new a.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new a.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new n.Raycaster(new a.Vector3(0,0,0),new a.Vector3(0,0,0)),this.projector=new n.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=s.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container));try{typeof this.callback=="function"&&this.callback(this)}catch(D){console.log("error with glviewer callback: "+D)}}targetedObjects(p,f,D){var M={x:p,y:f,z:-1};return Array.isArray(D)||(D=this.selectedAtoms(D)),D.length==0?[]:(this.raycaster.setFromCamera(M,this.camera),this.raycaster.intersectObjects(this.modelGroup,D))}modelToScreen(p){let f=!1;Array.isArray(p)||(p=[p],f=!0);let D=this.renderer.getXRatio(),M=this.renderer.getYRatio(),P=this.col,O=this.row,z=P*(this.WIDTH/D),k=(M-O-1)*(this.HEIGHT/M),I=[],H=this.canvasOffset();return p.forEach(Y=>{let q=new a.Vector3(Y.x,Y.y,Y.z);q.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(q,this.camera);let G=this.WIDTH/D*(q.x+1)/2+H.left+z,$=-(this.HEIGHT/M)*(q.y-1)/2+H.top+k;I.push({x:G,y:$})}),f&&(I=I[0]),I}screenOffsetToModel(p,f,D){var M=p/this.WIDTH,P=f/this.HEIGHT,O=D===void 0?this.rotationGroup.position.z:D,z=this.rotationGroup.quaternion,k=new a.Vector3(0,0,O);return this.projector.projectVector(k,this.camera),k.x+=M*2,k.y-=P*2,this.projector.unprojectVector(k,this.camera),k.z=0,k.applyQuaternion(z),k}screenToModelDistance(p,f){let D=this.canvasOffset(),M=new a.Vector3(f.x,f.y,f.z);M.applyMatrix4(this.modelGroup.matrixWorld);let P=M.clone();this.projector.projectVector(M,this.camera);let O=new a.Vector3((p.x-D.left)*2/this.WIDTH-1,(p.y-D.top)*2/-this.HEIGHT+1,M.z);return this.projector.unprojectVector(O,this.camera),O.distanceTo(P)}setViewChangeCallback(p){(typeof p=="function"||p==null)&&(this.viewChangeCallback=p)}setStateChangeCallback(p){(typeof p=="function"||p==null)&&(this.stateChangeCallback=p)}getConfig(){return this.config}setConfig(p){this.config=p}getInternalState(){var p={models:[],surfaces:[],shapes:[],labels:[]};for(let f=0;f<this.models.length;f++)this.models[f]&&(p.models[f]=this.models[f].getInternalState());return p}setInternalState(p){this.clear();var f=p.models;for(let D=0;D<f.length;D++)f[D]&&(this.models[D]=new l.GLModel(D),this.models[D].setInternalState(f[D]));this.render()}setZoomLimits(p,f){typeof p<"u"&&(this.config.lowerZoomLimit=p),f&&(this.config.upperZoomLimit=f),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(p){p.fov!==void 0&&(this.fov=p.fov,this.camera.fov=this.fov),p.z!==void 0&&(this.CAMERA_Z=p.z,this.camera.z=this.CAMERA_Z),p.orthographic!==void 0&&(this.camera.ortho=p.orthographic)}_handleMouseDown(p){if(p.preventDefault(),!this.scene)return;var f=this.getX(p),D=this.getY(p);if(f===void 0)return;this.isDragging=!0,this.mouseButton=p.which,this.mouseStartX=f,this.mouseStartY=D,this.touchHold=!0,this.touchDistanceStart=0,p.targetTouches&&p.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(p)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let M=this;setTimeout(function(){p.targetTouches&&M.touchHold==!0&&(M.glDOM=M.renderer.domElement,M.glDOM.dispatchEvent(new Event("contextmenu")))},1e3)}_handleMouseUp(p){if(this.touchHold=!1,this.isDragging&&this.scene){var f=this.getX(p),D=this.getY(p);if(this.closeEnoughForClick(p)&&this.isInViewer(f,D)){let M=this.mouseXY(f,D);this.handleClickSelection(M.x,M.y,p)}}this.isDragging=!1}_handleMouseScroll(p){if(p.preventDefault(),!!this.scene){var f=this.getX(p),D=this.getY(p);if(f!==void 0&&!(!this.control_all&&!this.isInViewer(f,D))){var M=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,P=1;if(p.ctrlKey&&(P=-1),p.detail)this.rotationGroup.position.z+=P*M*p.detail/10;else if(p.wheelDelta){let O=p.wheelDelta*600/(p.wheelDelta+600);this.rotationGroup.position.z-=P*M*O/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(p){let f=this;return p=p||1,new Promise(function(D){let M=0,P=f.viewChangeCallback,O=[],z=[],k=Date.now();f.viewChangeCallback=function(){z.push(Date.now()-k),k=Date.now(),O.push(new Promise(I=>{f.getCanvas().toBlob(function(H){H.arrayBuffer().then(I)},"image/png")})),M+=1,M==p&&(f.viewChangeCallback=P,Promise.all(O).then(I=>{let H=[];for(let V=0;V<I.length;V++){let X=(0,w.decode)(I[V]);H.push((0,w.toRGBA8)(X)[0])}let Y=f.getCanvas().width,q=f.getCanvas().height,G=(0,w.encode)(H,Y,q,0,z),$=new Blob([G],{type:"image/png"}),j=new FileReader;j.onload=function(V){D(V.target.result)},j.readAsDataURL($)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(p){this.hoverDuration=p}mouseXY(p,f){let D=this.canvasOffset(),M=this.renderer.getXRatio(),P=this.renderer.getYRatio(),O=this.col,z=this.row,k=O*(this.WIDTH/M),I=(P-z-1)*(this.HEIGHT/P),H=(p-D.left-k)/(this.WIDTH/M)*2-1,Y=-((f-D.top-I)/(this.HEIGHT/P))*2+1;return{x:H,y:Y}}_handleMouseMove(p){clearTimeout(this.hoverTimeout),p.preventDefault();let f=this.getX(p),D=this.getY(p);if(f===void 0)return;let M=this.renderer.getXRatio(),P=this.renderer.getYRatio(),O=this.mouseXY(f,D),z=this;this.current_hover!==null&&this.handleHoverContinue(O.x,O.y);var k=0;if(!(!this.control_all&&!this.isInViewer(f,D))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){z.handleHoverSelection(O.x,O.y,p)},this.hoverDuration)),!!this.isDragging)){var I=(f-this.mouseStartX)/this.WIDTH,H=(D-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&p.targetTouches&&p.targetTouches.length==2){var Y=this.calcTouchDistance(p);k=2,H=(Y-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else p.targetTouches&&p.targetTouches.length==3&&(k=1);I*=M,H*=P;var q=Math.hypot(I,H),G;if(k==3||this.mouseButton==3&&p.ctrlKey)this.slabNear=this.cslabNear+I*100,this.slabFar=this.cslabFar-H*100;else if(k==2||this.mouseButton==3||p.shiftKey)G=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,G<80&&(G=80),this.rotationGroup.position.z=this.cz+H*G,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(k==1||this.mouseButton==2||p.ctrlKey){var $=this.screenOffsetToModel(M*(f-this.mouseStartX),P*(D-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,$)}else if((k===0||this.mouseButton==1)&&q!==0){var j=Math.sin(q*Math.PI)/q;this.dq.x=Math.cos(q*Math.PI),this.dq.y=0,this.dq.z=j*I,this.dq.w=-j*H,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(p){p.preventDefault();var f=this.getX(p),D=this.getY(p);if(!(f!=this.mouseStartX||D!=this.mouseStartY)){var O=this.mouseStartX,z=this.mouseStartY,P=this.canvasOffset();let k=this.mouseXY(O,z),I=k.x,H=k.y,Y=this.targetedObjects(I,H,this.contextMenuEnabledAtoms);var M=null;Y.length&&(M=Y[0].clickable);var P=this.canvasOffset(),O=this.mouseStartX-P.left,z=this.mouseStartY-P.top;this.userContextMenuHandler&&this.userContextMenuHandler(M,O,z,Y)}}setContainer(p){let f=(0,o.getElement)(p)||this.container;return this.initContainer(f),this}setBackgroundColor(p,f){(typeof f>"u"||f<0||f>1)&&(f=1);var D=s.CC.color(p);return this.scene.fog.color=D,this.bgColor=D.getHex(),this.renderer.setClearColorHex(D.getHex(),f),this.show(),this}setProjection(p){this.camera.ortho=p==="orthographic",this.setSlabAndFog()}setViewStyle(p){if(p.style==="outline"){var f={};p.color&&(f.color=s.CC.color(p.color)),p.width&&(f.width=p.width),this.renderer.enableOutline(f)}else this.renderer.disableOutline();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(p){return this.WIDTH=p||this.WIDTH,this.updateSize(),this}setHeight(p){return this.HEIGHT=p||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let p=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0&&(this.container.querySelector("canvas").remove(),this.setupRenderer(),this.initContainer(this.container),p=!0),this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),p){let f=this.renderer.supportedExtensions();f.regen=!0,this._viewer.render(null,f)}else this.show();return this}getModel(p){return p===void 0?this.models.length==0?null:this.models[this.models.length-1]:p instanceof l.GLModel?p:p in this.models?this.models[p]:this.models.length==0?null:this.models[this.models.length-1]}spin(p,f=1){if(clearInterval(this.spinInterval),typeof p>"u"&&(p="y"),typeof p=="boolean")if(p)p="y";else return;Array.isArray(p)&&(p={x:p[0],y:p[1],z:p[2]});var D=this;this.spinInterval=setInterval(function(){!D.getCanvas().isConnected&&D.renderer.isLost()&&clearInterval(D.spinInterval),D.rotate(1*f,p)},25)}animateMotion(p,f,D,M,P,O){var z=20,k=Math.ceil(p/z);k<1&&(k=1),this.incAnim();var I={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(f){let q=new Array(k);for(let V=0;V<k;V++){let X=(V+1)/k,Q={mpos:I.mpos,rz:I.rz,rot:I.rot};Q.mpos=D.clone().sub(I.mpos).multiplyScalar(X).add(I.mpos),Q.rz=I.rz+X*(M-I.rz),Q.rot=v.slerp(I.rot,P,X),Q.cam=O.clone().sub(I.cam).multiplyScalar(X).add(I.cam),q[V]=Q}let G=0,$=this,j=function(){var V=q[G];G+=1,$.modelGroup.position=V.mpos,$.rotationGroup.position.z=V.rz,$.rotationGroup.quaternion=V.rot,$.camera.lookAt(V.cam),G<q.length?setTimeout(j,z):$.decAnim(),$.show()};setTimeout(j,z)}else{var H={};let q=1/k;if(D&&(H.mpos=D.clone().sub(I.mpos).multiplyScalar(q)),typeof M<"u"&&M!=null&&(H.rz=q*(M-I.rz)),P){var Y=v.slerp(I.rot,P,q);H.rot=I.rot.clone().inverse().multiply(Y)}O&&(H.cam=O.clone().sub(I.cam).multiplyScalar(q));let G=0,$=this,j=function(){G+=1,H.mpos&&$.modelGroup.position.add(H.mpos),H.rz&&($.rotationGroup.position.z+=H.rz),H.rot&&$.rotationGroup.quaternion.multiply(H.rot),H.cam&&($.lookingAt.add(H.cam),$.camera.lookAt($.lookingAt)),G<k?setTimeout(j,z):$.decAnim(),$.show()};setTimeout(j,z)}}rotate(p,f="y",D=0,M=!1){if(f=="x"?f={x:1,y:0,z:0}:f=="y"?f={x:0,y:1,z:0}:f=="z"&&(f={x:0,y:0,z:1}),f=="vx"?f={vx:1,vy:0,vz:0}:f=="vy"?f={vx:0,vy:1,vz:0}:f=="vz"&&(f={vx:0,vy:0,vz:1}),typeof f.vx<"u"){var P=new a.Vector3(f.vx,f.vy,f.vz);P.applyQuaternion(this.rotationGroup.quaternion),f={x:P.x,y:P.y,z:P.z}}var O=function(H){var Y=Math.sin(H/2),q=Math.cos(H/2),G=0,$=0,j=0;return G=f.x*Y,$=f.y*Y,j=f.z*Y,new a.Quaternion(G,$,j,q).normalize()},z=Math.PI*p/180,k=O(z);if(D){var I=new a.Quaternion().copy(this.rotationGroup.quaternion).multiply(k);this.animateMotion(D,M,this.modelGroup.position,this.rotationGroup.position.z,I,this.lookingAt)}else this.rotationGroup.quaternion.multiply(k),this.show();return this}surfacesFinished(){for(var p in this.surfaces)if(!this.surfaces[p][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var p=this.modelGroup.position,f=this.rotationGroup.quaternion;return[p.x,p.y,p.z,this.rotationGroup.position.z,f.x,f.y,f.z,f.w]}setView(p,f){return p===void 0||!(p instanceof Array||p.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=p[0],this.modelGroup.position.y=p[1],this.modelGroup.position.z=p[2],this.rotationGroup.position.z=p[3],this.rotationGroup.quaternion.x=p[4],this.rotationGroup.quaternion.y=p[5],this.rotationGroup.quaternion.z=p[6],this.rotationGroup.quaternion.w=p[7],typeof p[8]<"u"&&(this.rotationGroup.position.x=p[8],this.rotationGroup.position.y=p[9]),this.show(f),this)}render(p,f){this.renderer.setViewport(),this.updateClickables();var D=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var M,P;for(f||(f=this.renderer.supportedExtensions()),M=0;M<this.models.length;M++)this.models[M]&&this.models[M].globj(this.modelGroup,f);for(M=0;M<this.shapes.length;M++)this.shapes[M]&&(typeof this.shapes[M].frame>"u"||this.viewer_frame<0||this.shapes[M].frame<0||this.shapes[M].frame==this.viewer_frame?this.shapes[M].globj(this.modelGroup,f):this.shapes[M].removegl(this.modelGroup));for(M=0;M<this.labels.length;M++)this.labels[M]&&typeof this.labels[M].frame<"u"&&this.labels[M].frame>=0&&(this.modelGroup.remove(this.labels[M].sprite),(this.viewer_frame<0||this.labels[M].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[M].sprite));for(M in this.surfaces)if(this.surfaces.hasOwnProperty(M)){var O=this.surfaces[M];for(P=0;P<O.length;P++)if(O.hasOwnProperty(P)){var z=O[P].geo;if(!O[P].finished||f.regen){z.verticesNeedUpdate=!0,z.elementsNeedUpdate=!0,z.normalsNeedUpdate=!0,z.colorsNeedUpdate=!0,z.buffersNeedUpdate=!0,z.boundingSphere=null,O[P].done&&(O[P].finished=!0),O[P].lastGL&&this.modelGroup.remove(O[P].lastGL);var k=null;if(O[P].mat instanceof n.LineBasicMaterial?k=new n.Line(z,O[P].mat):k=new n.Mesh(z,O[P].mat),O[P].mat.transparent&&O[P].mat.opacity==0?k.visible=!1:k.visible=!0,O[P].symmetries.length>1||O[P].symmetries.length==1&&!O[P].symmetries[P].isIdentity()){var I,H=new n.Object3D;for(I=0;I<O[P].symmetries.length;I++){var Y=k.clone();Y.matrix=O[P].symmetries[I],Y.matrixAutoUpdate=!1,H.add(Y)}O[P].lastGL=H,this.modelGroup.add(H)}else O[P].lastGL=k,this.modelGroup.add(k)}}}return this.setView(D),typeof p=="function"&&p(this),this}getModelList(p){let f=[];if(typeof p>"u"||typeof p.model>"u")for(let M=0;M<this.models.length;M++)this.models[M]&&f.push(this.models[M]);else{let M=p.model;Array.isArray(M)||(M=[M]);for(let P=0;P<M.length;P++)if(typeof M[P]=="number"){var D=M[P];D<0&&(D+=this.models.length),f.push(this.models[D])}else f.push(M[P])}return f}getAtomsFromSel(p){var f=[];typeof p>"u"&&(p={});var D=this.getModelList(p);for(let M=0;M<D.length;M++)f=f.concat(D[M].selectedAtoms(p));return f}atomIsSelected(p,f){typeof f>"u"&&(f={});for(var D=this.getModelList(f),M=0;M<D.length;M++)if(D[M].atomIsSelected(p,f))return!0;return!1}selectedAtoms(p){return this.getAtomsFromSel(p)}getUniqueValues(p,f){typeof f>"u"&&(f={});var D=this.getAtomsFromSel(f),M={};for(var P in D)if(D[P].hasOwnProperty(p)){var O=D[P][p];M[O]=!0}return Object.keys(M)}pdbData(p){for(var f=this.getAtomsFromSel(p),D="",M=0,P=f.length;M<P;++M)D+=f[M].pdbline+`
`;return D}zoom(p=2,f=0,D=!1){var M=(this.CAMERA_Z-this.rotationGroup.position.z)/p,P=this.CAMERA_Z-M;return f>0?this.animateMotion(f,D,this.modelGroup.position,this.adjustZoomToLimits(P),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(P),this.show()),this}translate(p,f,D=0,M=!1){var P=p/this.WIDTH,O=f/this.HEIGHT,z=new a.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(z,this.camera),z.x-=P,z.y-=O,this.projector.unprojectVector(z,this.camera),z.z=0;var k=this.lookingAt.clone().add(z);return D>0?this.animateMotion(D,M,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,k):(this.lookingAt=k,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(p,f,D=0,M=!1){var P=this.screenOffsetToModel(p,f),O=this.modelGroup.position.clone().add(P);return D>0?this.animateMotion(D,M,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=O,this.show()),this}fitSlab(p){p=p||{};var f=this.getAtomsFromSel(p),D=(0,o.getExtent)(f),M=D[1][0]-D[0][0],P=D[1][1]-D[0][1],O=D[1][2]-D[0][2],z=Math.hypot(M,P,O);return z<5&&(z=5),this.slabNear=-z/1.9,this.slabFar=z/2,this}center(p={},f=0,D=!1){var M,P,O=this.getAtomsFromSel(p),z=(0,o.getExtent)(O);(0,o.isEmptyObject)(p)?(this.shapes.forEach(X=>{if(X&&X.boundingSphere&&X.boundingSphere.center){var Q=X.boundingSphere.center,te=X.boundingSphere.radius;te>0?(O.push(new a.Vector3(Q.x+te,Q.y,Q.z)),O.push(new a.Vector3(Q.x-te,Q.y,Q.z)),O.push(new a.Vector3(Q.x,Q.y+te,Q.z)),O.push(new a.Vector3(Q.x,Q.y-te,Q.z)),O.push(new a.Vector3(Q.x,Q.y,Q.z+te)),O.push(new a.Vector3(Q.x,Q.y,Q.z-te))):O.push(Q)}}),z=(0,o.getExtent)(O),M=O,P=z):(M=this.getAtomsFromSel({}),P=(0,o.getExtent)(M));var k=new a.Vector3(z[2][0],z[2][1],z[2][2]),I=P[1][0]-P[0][0],H=P[1][1]-P[0][1],Y=P[1][2]-P[0][2],q=Math.hypot(I,H,Y);q<5&&(q=5),this.slabNear=-q/1.9,this.slabFar=q/2,I=z[1][0]-z[0][0],H=z[1][1]-z[0][1],Y=z[1][2]-z[0][2],q=Math.hypot(I,H,Y),q<5&&(q=5);for(var G=25,$=0;$<O.length;$++)if(O[$]){var j=k.distanceToSquared(O[$]);j>G&&(G=j)}q=Math.sqrt(G)*2;var V=k.clone().multiplyScalar(-1);return f>0?this.animateMotion(f,D,V,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=V,this.show()),this}zoomTo(p={},f=0,D=!1){let M=this.getAtomsFromSel(p),P=(0,o.getExtent)(M),O=P;if((0,o.isEmptyObject)(p)){let Q=M&&M.length;if(this.shapes.forEach(te=>{if(te&&te.boundingSphere){if(te.boundingSphere.box){let ye=te.boundingSphere.box;M.push(new a.Vector3(ye.min.x,ye.min.y,ye.min.z)),M.push(new a.Vector3(ye.max.x,ye.max.y,ye.max.z))}else if(te.boundingSphere.center){var xe=te.boundingSphere.center,Ne=te.boundingSphere.radius;Ne>0?(M.push(new a.Vector3(xe.x+Ne,xe.y,xe.z)),M.push(new a.Vector3(xe.x-Ne,xe.y,xe.z)),M.push(new a.Vector3(xe.x,xe.y+Ne,xe.z)),M.push(new a.Vector3(xe.x,xe.y-Ne,xe.z)),M.push(new a.Vector3(xe.x,xe.y,xe.z+Ne)),M.push(new a.Vector3(xe.x,xe.y,xe.z-Ne))):M.push(xe)}}}),O=(0,o.getExtent)(M),!Q)for(let te=0;te<3;te++)P[2][te]=(O[0][te]+O[1][te])/2}else{let Q=this.getAtomsFromSel({});O=(0,o.getExtent)(Q)}var z=new a.Vector3(P[2][0],P[2][1],P[2][2]),k=O[1][0]-O[0][0],I=O[1][1]-O[0][1],H=O[1][2]-O[0][2],Y=Math.hypot(k,I,H);Y<5&&(Y=5),this.slabNear=-Y/1.9,this.slabFar=Y/2,Object.keys(p).length===0&&(this.slabNear=Math.min(-Y*2,-50),this.slabFar=Math.max(Y*2,50));var q=this.config.minimumZoomToDistance||5;k=P[1][0]-P[0][0],I=P[1][1]-P[0][1],H=P[1][2]-P[0][2],Y=Math.hypot(k,I,H),Y<q&&(Y=q);for(var G=q*q,$=0;$<M.length;$++)if(M[$]){var j=z.distanceToSquared(M[$]);j>G&&(G=j)}Y=Math.sqrt(G)*2;var V=z.clone().multiplyScalar(-1),X=-(Y*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return X=this.adjustZoomToLimits(X),f>0?this.animateMotion(f,D,V,X,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=V,this.rotationGroup.position.z=X,this.show()),this}setSlab(p,f){this.slabNear=p,this.slabFar=f}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(p,f={},D,M=!1){if(D){var P=(0,o.getExtent)(this.getAtomsFromSel(D));f.position={x:P[2][0],y:P[2][1],z:P[2][2]}}var O=new g.Label(p,f);return O.setContext(),this.modelGroup.add(O.sprite),this.labels.push(O),M||this.show(),O}addResLabels(p,f,D=!1){let M=this.labels.length;return this.applyToModels("addResLabels",p,this,f,D),this.show(),this.labels.slice(M)}addPropertyLabels(p,f,D){return this.applyToModels("addPropertyLabels",p,f,this,D),this.show(),this}removeLabel(p){for(var f=0;f<this.labels.length;f++)if(this.labels[f]==p){this.labels.splice(f,1),p.dispose(),this.modelGroup.remove(p.sprite);break}return this.show(),this}removeAllLabels(){for(var p=0;p<this.labels.length;p++)this.labels[p]&&this.labels[p].sprite&&this.modelGroup.remove(this.labels[p].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}setLabelStyle(p,f){return this.modelGroup.remove(p.sprite),p.dispose(),p.stylespec=f,p.setContext(),this.modelGroup.add(p.sprite),this.show(),p}setLabelText(p,f){return this.modelGroup.remove(p.sprite),p.dispose(),p.text=f,p.setContext(),this.modelGroup.add(p.sprite),this.show(),p}addShape(p){p=p||{};var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,this.shapes.push(f),f}removeShape(p){if(!p)return this;for(p.removegl(this.modelGroup),delete this.shapes[p.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var p=0;p<this.shapes.length;p++){var f=this.shapes[p];f&&f.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(p){if(p.hasOwnProperty("x")&&p.hasOwnProperty("y")&&p.hasOwnProperty("z"))return p;var f=this.getAtomsFromSel(p);if(f.length==0)return{x:0,y:0,z:0};var D=(0,o.getExtent)(f);return{x:D[0][0]+(D[1][0]-D[0][0])/2,y:D[0][1]+(D[1][1]-D[0][1])/2,z:D[0][2]+(D[1][2]-D[0][2])/2}}addSphere(p){p=p||{},p.center=this.getSelectionCenter(p.center);var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addSphere(p),this.shapes.push(f),f.finalize(),f}addBox(p={}){p.corner!=null&&(p.corner=this.getSelectionCenter(p.corner)),p.center!=null&&(p.center=this.getSelectionCenter(p.center));var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addBox(p),this.shapes.push(f),f.finalize(),f}addArrow(p={}){p.start=this.getSelectionCenter(p.start),p.end=this.getSelectionCenter(p.end);var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addArrow(p),this.shapes.push(f),f.finalize(),f}addCylinder(p={}){p.start=this.getSelectionCenter(p.start),p.end=this.getSelectionCenter(p.end);var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,p.dashed?f.addDashedCylinder(p):f.addCylinder(p),this.shapes.push(f),f.finalize(),f}addCurve(p={}){var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addCurve(p),this.shapes.push(f),f.finalize(),f}addLine(p={}){p.start=this.getSelectionCenter(p.start),p.end=this.getSelectionCenter(p.end),p.wireframe=!0;var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,p.dashed?f=this.addLineDashed(p,f):f.addLine(p),this.shapes.push(f),f.finalize(),f}addUnitCell(p,f){p=this.getModel(p),f=f||{alabel:"a",blabel:"b",clabel:"c"},f.box=f.box||{},f.astyle=f.astyle||{color:"red",radius:.1,midpos:-1},f.bstyle=f.bstyle||{color:"green",radius:.1,midpos:-1},f.cstyle=f.cstyle||{color:"blue",radius:.1,midpos:-1},f.alabelstyle=f.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},f.blabelstyle=f.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},f.clabelstyle=f.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},p.unitCellObjects&&this.removeUnitCell(p),p.unitCellObjects={shapes:[],labels:[]};var D=p.getCrystData(),M=null;if(D){if(D.matrix)M=D.matrix;else{var P=D.a,O=D.b,z=D.c,k=D.alpha,I=D.beta,H=D.gamma;k=k*Math.PI/180,I=I*Math.PI/180,H=H*Math.PI/180;var Y,q,G;Y=Math.cos(I),q=(Math.cos(k)-Math.cos(I)*Math.cos(H))/Math.sin(H),G=Math.sqrt(Math.max(0,1-Y*Y-q*q)),M=new a.Matrix3(P,O*Math.cos(H),z*Y,0,O*Math.sin(H),z*q,0,0,z*G)}var $=[new a.Vector3(0,0,0),new a.Vector3(1,0,0),new a.Vector3(0,1,0),new a.Vector3(0,0,1),new a.Vector3(1,1,0),new a.Vector3(0,1,1),new a.Vector3(1,0,1),new a.Vector3(1,1,1)];if(D.matrix4)for(let V=0;V<$.length;V++)D.size&&$[V].multiplyVectors($[V],D.size),$[V]=$[V].applyMatrix4(D.matrix4);else for(let V=0;V<$.length;V++)$[V]=$[V].applyMatrix3(M);if(f.box&&!f.box.hidden){f.box.wireframe=!0;var j=new h.GLShape(f.box);j.shapePosition=this.shapes.length,j.addLine({start:$[0],end:$[1]}),j.addLine({start:$[0],end:$[2]}),j.addLine({start:$[1],end:$[4]}),j.addLine({start:$[2],end:$[4]}),j.addLine({start:$[0],end:$[3]}),j.addLine({start:$[3],end:$[5]}),j.addLine({start:$[2],end:$[5]}),j.addLine({start:$[1],end:$[6]}),j.addLine({start:$[4],end:$[7]}),j.addLine({start:$[6],end:$[7]}),j.addLine({start:$[3],end:$[6]}),j.addLine({start:$[5],end:$[7]}),this.shapes.push(j),p.unitCellObjects.shapes.push(j),j.finalize()}if(!f.astyle.hidden){f.astyle.start=$[0],f.astyle.end=$[1];let V=this.addArrow(f.astyle);p.unitCellObjects.shapes.push(V)}if(!f.bstyle.hidden){f.bstyle.start=$[0],f.bstyle.end=$[2];let V=this.addArrow(f.bstyle);p.unitCellObjects.shapes.push(V)}if(!f.cstyle.hidden){f.cstyle.start=$[0],f.cstyle.end=$[3];let V=this.addArrow(f.cstyle);p.unitCellObjects.shapes.push(V)}if(f.alabel){f.alabelstyle.position=$[1];let V=this.addLabel(f.alabel,f.alabelstyle);p.unitCellObjects.labels.push(V)}if(f.blabel){f.blabelstyle.position=$[2];let V=this.addLabel(f.blabel,f.blabelstyle);p.unitCellObjects.labels.push(V)}if(f.clabel){f.clabelstyle.position=$[3];let V=this.addLabel(f.clabel,f.clabelstyle);p.unitCellObjects.labels.push(V)}}}removeUnitCell(p){if(p=this.getModel(p),p.unitCellObjects){let f=this;p.unitCellObjects.shapes.forEach(function(D){f.removeShape(D)}),p.unitCellObjects.labels.forEach(function(D){f.removeLabel(D)})}delete p.unitCellObjects}replicateUnitCell(p=3,f=p,D=f,M,P){M=this.getModel(M);let O=M.getCrystData();if(O){let z=M.selectedAtoms({}),k=O.matrix,I=function(H){return H%2==0?-H/2:Math.ceil(H/2)};for(let H=0;H<p;H++)for(let Y=0;Y<f;Y++)for(let q=0;q<D;q++){if(H==0&&Y==0&&q==0)continue;let G=new a.Vector3(I(H),I(Y),I(q));G.applyMatrix3(k);let $=[];for(let j=0;j<z.length;j++){let V={};for(let X in z[j])V[X]=z[j][X];V.x+=G.x,V.y+=G.y,V.z+=G.z,$.push(V)}M.addAtoms($)}P&&M.assignBonds()}}addLineDashed(p,f){p.dashLength=p.dashLength||.5,p.gapLength=p.gapLength||.5;var D;p.start?D=new a.Vector3(p.start.x||0,p.start.y||0,p.start.z||0):D=new a.Vector3(0,0,0);var M;p.end?M=new a.Vector3(p.end.x,p.end.y||0,p.end.z||0):M=new a.Vector3(0,0,0);var P=new a.Vector3,O=new a.Vector3,z=new a.Vector3,k,I,H,Y=D.clone(),q=0;for(P.subVectors(M,D),k=P.length(),P.normalize(),O=P.clone(),z=P.clone(),O.multiplyScalar(p.dashLength),z.multiplyScalar(p.gapLength),I=O.length(),H=z.length();q<k;){if(q+I>k){p.start=D,p.end=M,f.addLine(p);break}Y.addVectors(D,O),p.start=D,p.end=Y,f.addLine(p),D=Y.clone(),q+=I,Y.addVectors(D,z),D=Y.clone(),q+=H}return f.finalize(),f}addCustom(p){p=p||{};var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addCustom(p),this.shapes.push(f),f.finalize(),f}addVolumetricData(p,f,D={}){var M=new _.VolumeData(p,f);return D.hasOwnProperty("transferfn")?this.addVolumetricRender(M,D):this.addIsosurface(M,D)}addIsosurface(p,f={},D){var M=new h.GLShape(f);return M.shapePosition=this.shapes.length,M.addIsosurface(p,f,D),this.shapes.push(M),M}addVolumetricRender(p,f){f=f||{};var D=new S.GLVolumetricRender(p,f);return D.shapePosition=this.shapes.length,this.shapes.push(D),D}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(p){p?this.scene.fog=new n.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(p){this.viewer_frame=p;let f=this;return new Promise(function(D){var M=f.models.map(function(P){return P.setFrame(p,f)});Promise.all(M).then(function(){D()})})}getFrame(){return this.viewer_frame}getNumFrames(){var p=0;for(let f=0;f<this.models.length;f++)this.models[f].getNumFrames()>p&&(p=this.models[f].getNumFrames());for(let f=0;f<this.shapes.length;f++)this.shapes[f].frame&&this.shapes[f].frame>=p&&(p=this.shapes[f].frame+1);for(let f=0;f<this.labels.length;f++)this.labels[f].frame&&this.labels[f].frame>=p&&(p=this.labels[f].frame+1);return p}animate(p){this.incAnim();var f=100,D="forward",M=0;p=p||{},p.interval&&(f=p.interval),p.loop&&(D=p.loop),p.reps&&(M=p.reps);var P=this.getNumFrames(),O=this,z=0;p.startFrame&&(z=p.startFrame%P);var k=1;p.step&&(k=p.step,M/=k);var I=0,H=P*M,Y=new Date,q,G,$=function(j){Y=new Date,j=="forward"?O.setFrame(z).then(function(){z=(z+k)%P,q()}):j=="backward"?O.setFrame(P-1-z).then(function(){z=(z+k)%P,q()}):O.setFrame(z).then(function(){z+=k,k*=z%(P-1)==0?-1:1,q()})};return q=function(){if(O.render(),!O.getCanvas().isConnected)O.stopAnimate();else if(++I==H||!O.isAnimated())G.cancel(),O.animationTimers.delete(G),O.decAnim();else{var j=f-(new Date().getTime()-Y.getTime());j=j>0?j:0,O.animationTimers.delete(G),G=new o.PausableTimer($,j,D),O.animationTimers.add(G)}},G=new o.PausableTimer($,0,D),this.animationTimers.add(G),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(p){p.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(p){p.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(p){p.resume()}),this}isAnimated(){return this.animated>0}addModel(p,f="",D){D&&!D.defaultcolors?(D.defaultcolors=this.defaultcolors,D.cartoonQuality=D.cartoonQuality||this.config.cartoonQuality):typeof D>"u"&&(D={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality});var M=new l.GLModel(this.models.length,D);return M.addMolData(p,f,D),this.models.push(M),M}addModels(p,f,D){D=D||{},D.multimodel=!0,D.frames=!0;for(var M=l.GLModel.parseMolData(p,f,D),P=0;P<M.length;P++){var O=new l.GLModel(this.models.length,this.defaultcolors);O.setAtomDefaults(M[P]),O.addFrame(M[P]),O.setFrame(0),M.modelData&&O.setModelData(M.modelData[P]),O.setDontDuplicateAtoms(!D.duplicateAssemblyAtoms),this.models.push(O)}return this.models}addModelsAsFrames(p,f,D){D=D||{},D.multimodel=!0,D.frames=!0;var M=new l.GLModel(this.models.length,this.defaultcolors);return M.addMolData(p,f,D),this.models.push(M),M}addAsOneMolecule(p,f,D){D=D||{},D.multimodel=!0,D.onemol=!0;var M=new l.GLModel(this.models.length,this.defaultcolors);return M.addMolData(p,f,D),this.models.push(M),M}removeModel(p){if(p=this.getModel(p),!!p){for(p.removegl(this.modelGroup),delete this.models[p.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var p=0;p<this.models.length;p++){var f=this.models[p];f&&f.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(p,f){var D={};return f===void 0?D.m=this.models.map(function(M){return M.toCDObject(p)}):D.m=[this.models[f].toCDObject()],JSON.stringify(D)}exportVRML(){var p=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new n.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var f=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=p,f}createModelFrom(p,f=!1){for(var D=new l.GLModel(this.models.length,this.defaultcolors),M=0;M<this.models.length;M++)if(this.models[M]){var P=this.models[M].selectedAtoms(p);D.addAtoms(P),f&&this.models[M].removeAtoms(P)}return this.models.push(D),D}applyToModels(p,f,D,M,P,O,z){for(var k=this.getModelList(f),I=0;I<k.length;I++)k[I][p](f,D,M,P,O,z)}setStyle(p,f){return typeof f>"u"&&(f=p,p={}),this.applyToModels("setStyle",p,f,!1),this}addStyle(p,f){return typeof f>"u"&&(f=p,p={}),this.applyToModels("setStyle",p,f,!0),this}setClickable(p,f,D){return this.applyToModels("setClickable",p,f,D),this}setHoverable(p,f,D,M){return this.applyToModels("setHoverable",p,f,D,M),this}enableContextMenu(p,f){return this.applyToModels("enableContextMenu",p,f),this}vibrate(p,f,D,M){return this.applyToModels("vibrate",p,f,D,this,M),this}setColorByProperty(p,f,D,M){return this.applyToModels("setColorByProperty",p,f,D,M),this}setColorByElement(p,f){return this.applyToModels("setColorByElement",p,f),this}static getAtomsWithin(p,f){var D=[];for(let P=0;P<p.length;P++){var M=p[P];typeof M>"u"||M.x<f[0][0]||M.x>f[1][0]||M.y<f[0][1]||M.y>f[1][1]||M.z<f[0][2]||M.z>f[1][2]||D.push(M)}return D}static volume(p){var f=p[1][0]-p[0][0],D=p[1][1]-p[0][1],M=p[1][2]-p[0][2];return f*D*M}carveUpExtent(p,f,D){let M=[],P={};for(let Y=0,q=f.length;Y<q;Y++)P[f[Y].index]=Y;let O=function(Y){let q=[];for(let G=0,$=Y.length;G<$;G++)Y[G].index in P&&q.push(P[Y[G].index]);return q},z=function(Y){let q=[];return q[0]=[Y[0][0],Y[0][1],Y[0][2]],q[1]=[Y[1][0],Y[1][1],Y[1][2]],q},k=function(Y){if(v.volume(Y)<v.maxVolume)return[Y];var q=Y[1][0]-Y[0][0],G=Y[1][1]-Y[0][1],$=Y[1][2]-Y[0][2],j;q>G&&q>$?j=0:G>q&&G>$?j=1:j=2;var V=z(Y),X=z(Y),Q=(Y[1][j]-Y[0][j])/2+Y[0][j];V[1][j]=Q,X[0][j]=Q;var te=k(V),xe=k(X);return te.concat(xe)},I=k(p),H=6;for(let Y=0,q=I.length;Y<q;Y++){let G=z(I[Y]);G[0][0]-=H,G[0][1]-=H,G[0][2]-=H,G[1][0]+=H,G[1][1]+=H,G[1][2]+=H;let $=v.getAtomsWithin(f,G),j=v.getAtomsWithin(D,I[Y]);M.push({extent:I[Y],atoms:O($),toshow:O(j)})}return M}static generateSurfaceMesh(p,f,D){var M=new n.Geometry(!0),P=M.updateGeoGroup(0),O=[];for(let R=0,pe=p.length;R<pe;R++){var z=p[R];z&&(typeof z.surfaceColor<"u"?O[R]=z.surfaceColor:z.color&&(O[R]=s.CC.color(z.color)))}var k=P.vertexArray,I=f.vertices;for(let R=0,pe=I.length;R<pe;R++){let ve=P.vertices*3;k[ve]=I[R].x,k[ve+1]=I[R].y,k[ve+2]=I[R].z,P.vertices++}var H=P.colorArray;if(D.voldata&&D.volscheme){var Y=D.volscheme,q=D.voldata,G=Y.range()||[-1,1];for(let R=0,pe=I.length;R<pe;R++){let ve=q.getVal(I[R].x,I[R].y,I[R].z),ie=s.CC.color(Y.valueToHex(ve,G)),de=R*3;H[de]=ie.r,H[de+1]=ie.g,H[de+2]=ie.b}}else if(O.length>0)for(let R=0,pe=I.length;R<pe;R++){let ve=I[R].atomid,ie=R*3;H[ie]=O[ve].r,H[ie+1]=O[ve].g,H[ie+2]=O[ve].b}var $=f.faces;P.faceidx=$.length,M.initTypedArrays();var j=P.vertexArray,V=P.normalArray,X,Q,te,xe;for(let R=0,pe=$.length;R<pe;R+=3){var Ne=$[R],ye=$[R+1],Fe=$[R+2],Me=Ne*3,_e=ye*3,Qe=Fe*3;X=new a.Vector3(j[Me],j[Me+1],j[Me+2]),Q=new a.Vector3(j[_e],j[_e+1],j[_e+2]),te=new a.Vector3(j[Qe],j[Qe+1],j[Qe+2]),te.subVectors(te,Q),X.subVectors(X,Q),te.cross(X),xe=te,xe.normalize(),V[Me]+=xe.x,V[_e]+=xe.x,V[Qe]+=xe.x,V[Me+1]+=xe.y,V[_e+1]+=xe.y,V[Qe+1]+=xe.y,V[Me+2]+=xe.z,V[_e+2]+=xe.z,V[Qe+2]+=xe.z}P.faceArray=new Uint16Array($);var Xe=new n.Mesh(M,D);return Xe}static generateMeshSyncHelper(p,f,D,M,P,O){var z=new x.ProteinSurface;return z.initparm(f,p!==1,O),z.fillvoxels(P,D),z.buildboundary(),(p==x.SurfaceType.SES||p==x.SurfaceType.MS)&&(z.fastdistancemap(),z.boundingatom(!1),z.fillvoxelswaals(P,D)),z.marchingcube(p),z.getFacesAndVertices(M)}static getMatWithStyle(p){var f=new n.MeshLambertMaterial;f.vertexColors=n.Coloring.VertexColors;for(var D in p)D==="color"||D==="map"||p.hasOwnProperty(D)&&(f[D]=p[D]);return p.opacity!==void 0&&(p.opacity===1?f.transparent=!1:f.transparent=!0),f}addMesh(p){var f={geo:p.geometry,mat:p.material,done:!0,finished:!1},D=this.nextSurfID();return this.surfaces[D]=f,D}static shallowCopy(p){var f=[];let D=p.length;for(let M=0;M<D;M++)f[M]=(0,o.extend)({},p[M]);return f}addSurface(p,f={},D={},M,P,O){let z=this.nextSurfID(),k=null,I=this,H=x.SurfaceType.VDW;typeof p=="string"?v.surfaceTypeMap[p.toUpperCase()]!==void 0?H=v.surfaceTypeMap[p]:console.log("Surface type : "+p+" is not recognized"):typeof p=="number"&&(H=p);var Y=null,q=null,G=v.shallowCopy(this.getAtomsFromSel(D));M?Y=v.shallowCopy(this.getAtomsFromSel(M)):Y=G,(0,o.adjustVolumeStyle)(f);var $=!1,j;for(j=0;j<this.models.length;j++)if(this.models[j]){var V=this.models[j].getSymmetries();if(V.length>1||V.length==1&&!V[0].isIdentity()){$=!0;break}}var X=function(Me,_e,Qe){P?q=v.shallowCopy(I.getAtomsFromSel(P)):q=Qe;var Xe,R=(0,o.getExtent)(Qe,!0);if(f.map&&f.map.prop){var pe=f.map.prop;let Pe=(0,u.getGradient)(f.map.scheme||f.map.gradient||new u.Gradient.RWB),ht=Pe.range();ht||(ht=(0,o.getPropertyRange)(Qe,pe)),f.colorscheme={prop:pe,gradient:Pe}}for(let Pe=0,ht=_e.length;Pe<ht;Pe++)Xe=_e[Pe],Xe.surfaceColor=(0,o.getColorFromStyle)(Xe,f);var ve=v.volume(R),ie=I.carveUpExtent(R,_e,Qe);if(q&&q.length&&q.length>0){var de=(0,o.getExtent)(q,!0),be=function(Pe,ht){var yt=function(ge,$e){var ke=ge.extent,it=ke[1][0]-ke[0][0],st=ke[1][1]-ke[0][1],se=ke[1][2]-ke[0][2],Ge=it-$e[2][0];Ge*=Ge;var Je=st-$e[2][1];Je*=Je;var pt=se-$e[2][2];return pt*=pt,Ge+Je+pt},le=yt(Pe,de),ue=yt(ht,de);return le-ue};ie.sort(be)}var Ue=[];for(let Pe=0,ht=_e.length;Pe<ht;Pe++)Xe=_e[Pe],Ue[Pe]={x:Xe.x,y:Xe.y,z:Xe.z,serial:Pe,elem:Xe.elem};var Be=!!x.syncSurface;if(Be){var Se=function(ht){return new Promise(function(yt){for(var le=v.generateMeshSyncHelper(H,ie[ht].extent,ie[ht].atoms,ie[ht].toshow,Ue,ve),ue=(0,h.splitMesh)({vertexArr:le.vertices,faceArr:le.faces}),ge=0,$e=ue.length;ge<$e;ge++){le={vertices:ue[ge].vertexArr,faces:ue[ge].faceArr};var ke=v.generateSurfaceMesh(_e,le,k);(0,o.mergeGeos)(Me.geo,ke)}I.render(),yt()})},Ie=[];for(let Pe=0;Pe<ie.length;Pe++)Ie.push(Se(Pe));return Promise.all(Ie).then(function(){return Me.done=!0,Promise.resolve(z)})}else{var je=[];H<0&&(H=0);for(let Pe=0,ht=v.numWorkers;Pe<ht;Pe++){var Ke=new Worker($3Dmol.SurfaceWorker);je.push(Ke),Ke.postMessage({type:-1,atoms:Ue,volume:ve})}return new Promise(function(Pe,ht){var yt=0,le=function(){!je||!je.length||je.forEach(function(ke){ke&&ke.terminate&&ke.terminate()})},ue=function(ke){for(var it=(0,h.splitMesh)({vertexArr:ke.data.vertices,faceArr:ke.data.faces}),st=0,se=it.length;st<se;st++){var Ge={vertices:it[st].vertexArr,faces:it[st].faceArr},Je=v.generateSurfaceMesh(_e,Ge,k);(0,o.mergeGeos)(Me.geo,Je)}I.render(),yt++,yt==ie.length&&(Me.done=!0,le(),Pe(z))},ge=function(ke){le(),console.log(ke.message+" ("+ke.filename+":"+ke.lineno+")"),ht(ke)};for(let ke=0;ke<ie.length;ke++){var $e=je[ke%je.length];$e.onmessage=ue,$e.onerror=ge,$e.postMessage({type:H,expandedExtent:ie[ke].extent,extendedAtoms:ie[ke].atoms,atomsToShow:ie[ke].toshow})}})}};f=f||{},k=v.getMatWithStyle(f);var Q=[];Q.style=f,Q.atomsel=D,Q.allsel=M,Q.focus=P;var te=null;if($){var xe={},Ne={};for(j=0;j<this.models.length;j++)xe[j]=[],Ne[j]=[];for(j=0;j<Y.length;j++)xe[Y[j].model].push(Y[j]);for(j=0;j<G.length;j++)Ne[G[j].model].push(G[j]);var ye=[];for(j=0;j<this.models.length;j++)Ne[j].length>0&&(Q.push({geo:new n.Geometry(!0),mat:k,done:!1,finished:!1,symmetries:this.models[j].getSymmetries()}),ye.push(X(Q[Q.length-1],xe[j],Ne[j])));te=Promise.all(ye)}else Q.push({geo:new n.Geometry(!0),mat:k,done:!1,finished:!1,symmetries:[new a.Matrix4]}),te=X(Q[Q.length-1],Y,G);return this.surfaces[z]=Q,te.surfid=z,O&&typeof O=="function"?(te.then(function(Fe){O(Fe)}),z):te}setSurfaceMaterialStyle(p,f){if((0,o.adjustVolumeStyle)(f),this.surfaces[p]){var D=this.surfaces[p];D.style=f;for(var M=0;M<D.length;M++){var P=D[M].mat=v.getMatWithStyle(f);if(D[M].mat.side=n.FrontSide,f.color){D[M].mat.color=f.color,D[M].geo.colorsNeedUpdate=!0;let O=s.CC.color(f.color);D[M].geo.setColors(function(){return O})}else if(P.voldata&&P.volscheme){let O=P.volscheme,z=P.voldata,k=s.CC,I=O.range()||[-1,1];D[M].geo.setColors(function(H,Y,q){let G=z.getVal(H,Y,q);return k.color(O.valueToHex(G,I))})}D[M].finished=!1}}return this}getSurface(p){return this.surfaces[p]}removeSurface(p){for(var f=this.surfaces[p],D=0;D<f.length;D++)f[D]&&f[D].lastGL&&(f[D].geo!==void 0&&f[D].geo.dispose(),f[D].mat!==void 0&&f[D].mat.dispose(),this.modelGroup.remove(f[D].lastGL));return delete this.surfaces[p],this.show(),this}removeAllSurfaces(){for(var p in this.surfaces)if(this.surfaces.hasOwnProperty(p)){for(var f=this.surfaces[p],D=0;D<f.length;D++)f[D]&&f[D].lastGL&&(f[D].geo!==void 0&&f[D].geo.dispose(),f[D].mat!==void 0&&f[D].mat.dispose(),this.modelGroup.remove(f[D].lastGL));delete this.surfaces[p]}return this.show(),this}jmolMoveTo(){var p=this.modelGroup.position,f="center { "+-p.x+" "+-p.y+" "+-p.z+" }; ",D=this.rotationGroup.quaternion;return f+="moveto .5 quaternion { "+D.x+" "+D.y+" "+D.z+" "+D.w+" };",f}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(p,f){f=f||{};var D=this.getAtomsFromSel(f);if(typeof p=="function")for(let O=0,z=D.length;O<z;O++){let k=D[O];p(k)}else for(let O=0,z=D.length;O<z;O++){var M=D[O];for(let k=0,I=p.length;k<I;k++){let H=p[k];if(H.props)for(var P in H.props)H.props.hasOwnProperty(P)&&this.atomIsSelected(M,H)&&(M.properties||(M.properties={}),M.properties[P]=H.props[P])}}return this}linkViewer(p){return this.linkedViewers.push(p),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(p){this.rotationGroup.position.z=this.CAMERA_Z-p}setAutoEyeSeparation(p,f){var D=this.getPerceivedDistance();return f||(f=5),p||this.camera.position.x>0?this.camera.position.x=D*Math.tan(Math.PI/180*f):this.camera.position.x=-D*Math.tan(Math.PI/180*f),this.camera.lookAt(new a.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(p){this.config.cartoonQuality=p}}v.numWorkers=4,v.maxVolume=64e3,v.surfaceTypeMap={VDW:x.SurfaceType.VDW,MS:x.SurfaceType.MS,SAS:x.SurfaceType.SAS,SES:x.SurfaceType.SES};function y(E,p){if(E=(0,o.getElement)(E),!!E){p=p||{};try{var f=new v(E,p);return f}catch(D){throw"error creating viewer: "+D}}}function b(E,p={},f={}){if(E=(0,o.getElement)(E),!!E){var D=[],M=document.createElement("canvas");f.rows=p.rows,f.cols=p.cols,f.control_all=p.control_all!=null?p.control_all:!1,E.appendChild(M);try{for(var P=0;P<p.rows;P++){for(var O=[],z=0;z<p.cols;z++){f.row=P,f.col=z,f.canvas=M,f.viewers=D,f.control_all=p.control_all;var k=y(E,(0,o.extend)({},f));O.push(k)}D.unshift(O)}}catch(I){throw"error creating viewer grid: "+I}return D}}function C(E){var p=this;if(E=(0,o.getElement)(E),!!E){var f=b(E,{rows:1,cols:2,control_all:!0});this.glviewer1=f[0][0],this.glviewer2=f[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var D=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(P){return typeof p.glviewer1[P]=="function"}),M=0;M<D.length;M++)this[D[M]]=function(P){return function(){var O=this.glviewer1[P].apply(this.glviewer1,arguments),z=this.glviewer2[P].apply(this.glviewer2,arguments);return[O,z]}}(D[M]);this.setCoordinates=function(P,O,z){for(var k=0;k<P.length;k++)P[k].setCoordinates(O,z)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(P){this.glviewer1.render(),this.glviewer2.render(),P&&P(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CustomLinear:()=>h,Gradient:()=>x,GradientType:()=>a,ROYGB:()=>l,RWB:()=>u,Sinebow:()=>g,builtinGradients:()=>_,getGradient:()=>o,normalizeValue:()=>s});var n=r("./src/colors.ts");class a{}function s(S,w,c){return w>=S?(c<S&&(c=S),c>w&&(c=w),{lo:S,hi:w,val:c}):(c>S&&(c=S),c<w&&(c=w),c=S-c+w,{lo:w,hi:S,val:c})}function o(S){if(S instanceof a)return S;if(S.gradient!==void 0&&_[S.gradient]){let w=S.min===void 0?-1:S.min,c=S.max===void 0?1:S.max;return S.mid===void 0?S.colors===void 0?new _[S.gradient](w,c):new _[S.gradient](w,c,S.colors):new _[S.gradient](w,c,S.mid)}return S}class u extends a{constructor(w,c,v){super(),this.gradient="RWB",this.mult=1,this.mid=v,this.min=w,this.max=c,typeof c>"u"&&Array.isArray(w)&&w.length>=2?(this.max=w[1],this.min=w[0]):w&&c&&!Array.isArray(w)&&(this.min=w,this.max=c)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(w,c){var v,y;if(w=this.mult*w,c?(v=c[0],y=c[1]):(v=this.min,y=this.max),w===void 0)return 16777215;var b=s(v,y,w);v=b.lo,y=b.hi,w=b.val;var C=(y+v)/2;c&&typeof c[2]<"u"?C=c[2]:typeof this.mid<"u"?C=this.mid:C=(v+y)/2;var E,p;return w<C?(E=Math.floor(255*Math.sqrt((w-v)/(C-v))),p=16711680+256*E+E,p):w>C?(E=Math.floor(255*Math.sqrt(1-(w-C)/(y-C))),p=65536*E+256*E+255,p):16777215}}class l extends a{constructor(w,c){super(),this.gradient="ROYGB",this.mult=1,this.min=w,this.max=c,typeof c>"u"&&Array.isArray(w)&&w.length>=2?(this.max=w[1],this.min=w[0]):w&&c&&!Array.isArray(w)&&(this.min=w,this.max=c)}valueToHex(w,c){var v,y;if(w=this.mult*w,c?(v=c[0],y=c[1]):(v=this.min,y=this.max),typeof w>"u")return 16777215;var b=s(v,y,w);v=b.lo,y=b.hi,w=b.val;var C=(v+y)/2,E=(v+C)/2,p=(C+y)/2,f,D;return w<E?(f=Math.floor(255*Math.sqrt((w-v)/(E-v))),D=16711680+256*f+0,D):w<C?(f=Math.floor(255*Math.sqrt(1-(w-E)/(C-E))),D=65536*f+65280+0,D):w<p?(f=Math.floor(255*Math.sqrt((w-C)/(p-C))),D=65280+1*f,D):(f=Math.floor(255*Math.sqrt(1-(w-p)/(y-p))),D=0+256*f+255,D)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class g extends a{constructor(w,c){super(),this.gradient="Sinebow",this.mult=1,this.min=w,this.max=c,typeof c>"u"&&Array.isArray(w)&&w.length>=2&&(this.max=w[1],this.min=w[0]),c<w&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(w,c){var v,y;if(w=this.mult*w,c?(v=c[0],y=c[1]):(v=this.min,y=this.max),typeof w>"u")return 16777215;var b=x.normalizeValue(v,y,w);v=b.lo,y=b.hi,w=b.val;var C=(w-v)/(y-v),E=5*C/6+.5,p=Math.sin(Math.PI*E);p*=p*255;var f=Math.sin(Math.PI*(E+1/3));f*=f*255;var D=Math.sin(Math.PI*(E+2/3));return D*=D*255,65536*Math.floor(p)+256*Math.floor(D)+1*Math.floor(f)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class h extends a{constructor(w,c,v){super(),this.gradient="linear",this.colors=new Array;var y;if(Array.isArray(w)&&w.length>=2?(this.max=w[1],this.min=w[0],y=c):(this.min=w,this.max=c,y=v),y)for(let b of y)this.colors.push(n.CC.color(b));else this.colors.push(n.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(w,c){var v,y;if(c?(v=c[0],y=c[1]):(v=this.min,y=this.max),w===void 0)return 16777215;var b=s(v,y,w);v=b.lo,y=b.hi,w=b.val;let C=this.colors.length,E=(y-v)/C,p=Math.min(Math.floor((w-v)/E),C-1),f=Math.min(p+1,C-1),D=(w-v-p*E)/E,M=this.colors[p],P=this.colors[f];return new n.Color(M.r+D*(P.r-M.r),M.g+D*(P.g-M.g),M.b+D*(P.b-M.b)).getHex()}}let _={rwb:u,RWB:u,roygb:l,ROYGB:l,sinebow:g,linear:h};class x extends a{valueToHex(w,c){return 0}range(){return null}}x.RWB=u,x.ROYGB=l,x.Sinebow=g,x.CustomLinear=h,x.builtinGradients=_,x.normalizeValue=s,x.getGradient=o},"./src/Label.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Label:()=>g,LabelCount:()=>o});var n=r("./src/WebGL/index.ts"),a=r("./src/Gradient.ts"),s=r("./src/colors.ts");let o=0;function u(h,_,x,S,w,c,v){h.beginPath(),h.moveTo(_+c,x),h.lineTo(_+S-c,x),h.quadraticCurveTo(_+S,x,_+S,x+c),h.lineTo(_+S,x+w-c),h.quadraticCurveTo(_+S,x+w,_+S-c,x+w),h.lineTo(_+c,x+w),h.quadraticCurveTo(_,x+w,_,x+w-c),h.lineTo(_,x+c),h.quadraticCurveTo(_,x,_+c,x),h.closePath(),h.fill(),v&&h.stroke()}function l(h,_,x){var S=x;return typeof h<"u"&&(h instanceof s.Color?S=h.scaled():(S=s.CC.color(h),typeof S.scaled<"u"&&(S=S.scaled()))),typeof _<"u"&&(S.a=parseFloat(_)),S}class g{constructor(_,x){this.id=o++,this.stylespec=x||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new n.Sprite,this.text=_,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}setContext(){var _=this.stylespec,x=typeof _.useScreen>"u"?!1:_.useScreen,S=_.showBackground;(S==="0"||S==="false")&&(S=!1),typeof S>"u"&&(S=!0);var w=_.font?_.font:"sans-serif",c=parseInt(_.fontSize)?parseInt(_.fontSize):18,v=l(_.fontColor,_.fontOpacity,{r:255,g:255,b:255,a:1}),y=_.padding?_.padding:4,b=_.borderThickness?_.borderThickness:0,C=l(_.backgroundColor,_.backgroundOpacity,{r:0,g:0,b:0,a:1}),E=l(_.borderColor,_.borderOpacity,C),p=_.position?_.position:{x:-10,y:1,z:1},f=_.inFront!==void 0?_.inFront:!0;(f==="false"||f==="0")&&(f=!1);var D=_.alignment||n.SpriteAlignment.topLeft;typeof D=="string"&&D in n.SpriteAlignment&&(D=n.SpriteAlignment[D]);var M="";_.bold&&(M="bold "),this.context.font=M+c+"px  "+w;var P=this.context.measureText(this.text),O=P.width;S||(b=0);var z=O+2.5*b+2*y,k=c*1.25+2*b+2*y;if(_.backgroundImage){var I=_.backgroundImage,H=_.backgroundWidth?_.backgroundWidth:I.width,Y=_.backgroundHeight?_.backgroundHeight:I.height;H>z&&(z=H),Y>k&&(k=Y)}if(this.canvas.width=z,this.canvas.height=k,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),M="",_.bold&&(M="bold "),this.context.font=M+c+"px  "+w,this.context.fillStyle="rgba("+C.r+","+C.g+","+C.b+","+C.a+")",this.context.strokeStyle="rgba("+E.r+","+E.g+","+E.b+","+E.a+")",_.backgroundGradient){let G=this.context.createLinearGradient(0,k/2,z,k/2),$=a.Gradient.getGradient(_.backgroundGradient),j=$.range(),V=-1,X=1;j&&(V=j[0],X=j[1]);let Q=X-V;for(let te=0;te<1.01;te+=.1){let xe=l($.valueToHex(V+Q*te)),Ne="rgba("+xe.r+","+xe.g+","+xe.b+","+xe.a+")";G.addColorStop(te,Ne)}this.context.fillStyle=G}this.context.lineWidth=b,S&&u(this.context,b,b,z-2*b,k-2*b,6,b>0),_.backgroundImage&&this.context.drawImage(I,0,0,z,k),this.context.fillStyle="rgba("+v.r+","+v.g+","+v.b+","+v.a+")",this.context.fillText(this.text,b+y,c+b+y,O);var q=new n.Texture(this.canvas);q.needsUpdate=!0,this.sprite.material=new n.SpriteMaterial({map:q,useScreenCoordinates:x,alignment:D,depthTest:!f,screenOffset:_.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(p.x,p.y,p.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MarchingCube:()=>l,MarchingCubeInitializer:()=>u,PointGrid:()=>g,ProteinSurface:()=>h,SurfaceType:()=>a,setSyncSurface:()=>o,syncSurface:()=>s});var n=r("./src/WebGL/math/index.ts"),a;(function(_){_[_.VDW=1]="VDW",_[_.MS=2]="MS",_[_.SAS=3]="SAS",_[_.SES=4]="SES"})(a||(a={}));var s=!1;function o(_){s=_}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(s=!0);class u{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(x,S,w,c){let v=!!c.fulltable,y=c.hasOwnProperty("origin")&&c.origin.hasOwnProperty("x")?c.origin:{x:0,y:0,z:0},b=!!c.voxel,C=c.matrix,E=c.nX||0,p=c.nY||0,f=c.nZ||0,D=c.scale||1,M=null;c.unitCube?M=c.unitCube:M={x:D,y:D,z:D};let P=new Int32Array(E*p*f),O,z;for(O=0,z=P.length;O<z;++O)P[O]=-1;let k=function(q,G,$,j,V,X){let Q={x:0,y:0,z:0},te=!!(j&1<<V),xe=!!(j&1<<X),Ne=V;if(!te&&xe&&(Ne=X),Ne&1&&$++,Ne&2&&G++,Ne&4&&q++,C){let Fe=new n.Vector3(q,G,$);Fe=Fe.applyMatrix4(C),Q={x:Fe.x,y:Fe.y,z:Fe.z}}else Q.x=y.x+M.x*q,Q.y=y.y+M.y*G,Q.z=y.z+M.z*$;let ye=(p*q+G)*f+$;return b?(S.push(Q),S.length-1):(P[ye]<0&&(P[ye]=S.length,S.push(Q)),P[ye])},I=new Int32Array(12),H=v?this.edgeTable2:this.edgeTable,Y=v?this.triTable2:this.triTable;for(O=0;O<E-1;++O)for(let q=0;q<p-1;++q)for(let G=0;G<f-1;++G){let $=0;for(let X=0;X<8;++X){let Q=(p*(O+((X&4)>>2))+q+((X&2)>>1))*f+G+(X&1),te=!!(x[Q]&this.ISDONE);$|=te<<X}if($===0||$===255)continue;let j=H[$];if(j===0)continue;let V=Y[$];j&1&&(I[0]=k(O,q,G,$,0,1)),j&2&&(I[1]=k(O,q,G,$,1,3)),j&4&&(I[2]=k(O,q,G,$,3,2)),j&8&&(I[3]=k(O,q,G,$,2,0)),j&16&&(I[4]=k(O,q,G,$,4,5)),j&32&&(I[5]=k(O,q,G,$,5,7)),j&64&&(I[6]=k(O,q,G,$,7,6)),j&128&&(I[7]=k(O,q,G,$,6,4)),j&256&&(I[8]=k(O,q,G,$,0,4)),j&512&&(I[9]=k(O,q,G,$,1,5)),j&1024&&(I[10]=k(O,q,G,$,3,7)),j&2048&&(I[11]=k(O,q,G,$,2,6));for(let X=0;X<V.length;X+=3){let Q=I[V[X]],te=I[V[X+1]],xe=I[V[X+2]];b&&X>=3&&(S.push(S[Q]),Q=S.length-1,S.push(S[te]),te=S.length-1,S.push(S[xe]),xe=S.length-1),w.push(Q),w.push(te),w.push(xe)}}}laplacianSmooth(x,S,w){let c=new Array(S.length),v,y,b,C,E;for(v=0,y=S.length;v<y;v++)c[v]={x:0,y:0,z:0};let p=new Array(20),f;for(v=0;v<20;v++)p[v]=new Array(S.length);for(v=0,y=S.length;v<y;v++)p[0][v]=0;for(v=0,y=w.length/3;v<y;v++){let P=v*3,O=v*3+1,z=v*3+2;for(f=!0,b=0,C=p[0][w[P]];b<C;b++)if(w[O]==p[b+1][w[P]]){f=!1;break}for(f&&(p[0][w[P]]++,p[p[0][w[P]]][w[P]]=w[O]),f=!0,b=0,C=p[0][w[P]];b<C;b++)if(w[z]==p[b+1][w[P]]){f=!1;break}for(f&&(p[0][w[P]]++,p[p[0][w[P]]][w[P]]=w[z]),f=!0,b=0,C=p[0][w[O]];b<C;b++)if(w[P]==p[b+1][w[O]]){f=!1;break}for(f&&(p[0][w[O]]++,p[p[0][w[O]]][w[O]]=w[P]),f=!0,b=0,C=p[0][w[O]];b<C;b++)if(w[z]==p[b+1][w[O]]){f=!1;break}for(f&&(p[0][w[O]]++,p[p[0][w[O]]][w[O]]=w[z]),f=!0,b=0;b<p[0][w[z]];b++)if(w[P]==p[b+1][w[z]]){f=!1;break}for(f&&(p[0][w[z]]++,p[p[0][w[z]]][w[z]]=w[P]),f=!0,b=0,C=p[0][w[z]];b<C;b++)if(w[O]==p[b+1][w[z]]){f=!1;break}f&&(p[0][w[z]]++,p[p[0][w[z]]][w[z]]=w[O])}let D=1,M=.5;for(E=0;E<x;E++){for(v=0,y=S.length;v<y;v++)if(p[0][v]<3)c[v].x=S[v].x,c[v].y=S[v].y,c[v].z=S[v].z;else if(p[0][v]==3||p[0][v]==4){for(c[v].x=0,c[v].y=0,c[v].z=0,b=0,C=p[0][v];b<C;b++)c[v].x+=S[p[b+1][v]].x,c[v].y+=S[p[b+1][v]].y,c[v].z+=S[p[b+1][v]].z;c[v].x+=M*S[v].x,c[v].y+=M*S[v].y,c[v].z+=M*S[v].z,c[v].x/=M+p[0][v],c[v].y/=M+p[0][v],c[v].z/=M+p[0][v]}else{for(c[v].x=0,c[v].y=0,c[v].z=0,b=0,C=p[0][v];b<C;b++)c[v].x+=S[p[b+1][v]].x,c[v].y+=S[p[b+1][v]].y,c[v].z+=S[p[b+1][v]].z;c[v].x+=D*S[v].x,c[v].y+=D*S[v].y,c[v].z+=D*S[v].z,c[v].x/=D+p[0][v],c[v].y/=D+p[0][v],c[v].z/=D+p[0][v]}for(v=0,y=S.length;v<y;v++)S[v].x=c[v].x,S[v].y=c[v].y,S[v].z=c[v].z}}}let l=new u;class g{constructor(x,S,w){this.data=new Int32Array(x*S*w*3),this.width=S,this.height=w}set(x,S,w,c){let v=((x*this.width+S)*this.height+w)*3;this.data[v]=c.ix,this.data[v+1]=c.iy,this.data[v+2]=c.iz}get(x,S,w){let c=((x*this.width+S)*this.height+w)*3;return{ix:this.data[c],iy:this.data[c+1],iz:this.data[c+2]}}}class h{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],h.MarchingCube||(h.MarchingCube=new u)}getVDWIndex(x){return!x.elem||typeof this.vdwRadii[x.elem]>"u"?"X":x.elem}getFacesAndVertices(x){let S={};for(let v=0,y=x.length;v<y;v++)S[x[v]]=!0;let w=this.verts;for(let v=0,y=w.length;v<y;v++)w[v].x=w[v].x/this.scaleFactor-this.ptranx,w[v].y=w[v].y/this.scaleFactor-this.ptrany,w[v].z=w[v].z/this.scaleFactor-this.ptranz;let c=[];for(let v=0,y=this.faces.length;v<y;v+=3){let b=this.faces[v],C=this.faces[v+1],E=this.faces[v+2],p=w[b].atomid,f=w[C].atomid,D=w[E].atomid,M=p;f<M&&(M=f),D<M&&(M=D),S[M]&&b!==C&&C!==E&&b!==E&&(c.push(b),c.push(C),c.push(E))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:w,faces:c}}initparm(x,S,w){w>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let c=1/this.scaleFactor*5.5;this.pminx=x[0][0],this.pmaxx=x[1][0],this.pminy=x[0][1],this.pmaxy=x[1][1],this.pminz=x[0][2],this.pmaxz=x[1][2],S?(this.pminx-=this.probeRadius+c,this.pminy-=this.probeRadius+c,this.pminz-=this.probeRadius+c,this.pmaxx+=this.probeRadius+c,this.pmaxy+=this.probeRadius+c,this.pmaxz+=this.probeRadius+c):(this.pminx-=c,this.pminy-=c,this.pminz-=c,this.pmaxx+=c,this.pmaxy+=c,this.pmaxz+=c),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(S),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(x){let S={};for(let w in this.vdwRadii){let c=this.vdwRadii[w];x?S[w]=(c+this.probeRadius)*this.scaleFactor+.5:S[w]=c*this.scaleFactor+.5;let v=S[w]*S[w];this.widxz[w]=Math.floor(S[w])+1,this.depty[w]=new Int32Array(this.widxz[w]*this.widxz[w]);let y=0;for(let b=0;b<this.widxz[w];b++)for(let C=0;C<this.widxz[w];C++){let E=b*b+C*C;if(E>v)this.depty[w][y]=-1;else{let p=Math.sqrt(v-E);this.depty[w][y]=Math.floor(p)}y++}}}fillvoxels(x,S){for(let w=0,c=this.vpBits.length;w<c;w++)this.vpBits[w]=0,this.vpDistance[w]=-1,this.vpAtomID[w]=-1;for(let w in S){let c=x[S[w]];c!==void 0&&this.fillAtom(c,x)}for(let w=0,c=this.vpBits.length;w<c;w++)this.vpBits[w]&this.INOUT&&(this.vpBits[w]|=this.ISDONE)}fillAtom(x,S){let w=Math.floor(.5+this.scaleFactor*(x.x+this.ptranx)),c=Math.floor(.5+this.scaleFactor*(x.y+this.ptrany)),v=Math.floor(.5+this.scaleFactor*(x.z+this.ptranz)),y=this.getVDWIndex(x),b=0,C=this.pWidth*this.pHeight;for(let E=0,p=this.widxz[y];E<p;E++)for(let f=0;f<p;f++){if(this.depty[y][b]!=-1){for(let D=-1;D<2;D++)for(let M=-1;M<2;M++)for(let P=-1;P<2;P++)if(D!==0&&M!==0&&P!==0){let O=D*E,z=P*f;for(let k=0;k<=this.depty[y][b];k++){let I=k*M,H=w+O,Y=c+I,q=v+z;if(H<0||Y<0||q<0||H>=this.pLength||Y>=this.pWidth||q>=this.pHeight)continue;let G=H*C+Y*this.pHeight+q;if(!(this.vpBits[G]&this.INOUT))this.vpBits[G]|=this.INOUT,this.vpAtomID[G]=x.serial;else{let $=S[this.vpAtomID[G]];if($.serial!=x.serial){let j=w+O-Math.floor(.5+this.scaleFactor*($.x+this.ptranx)),V=c+I-Math.floor(.5+this.scaleFactor*($.y+this.ptrany)),X=v+z-Math.floor(.5+this.scaleFactor*($.z+this.ptranz));O*O+I*I+z*z<j*j+V*V+X*X&&(this.vpAtomID[G]=x.serial)}}}}}b++}}fillvoxelswaals(x,S){for(let w=0,c=this.vpBits.length;w<c;w++)this.vpBits[w]&=~this.ISDONE;for(let w in S){let c=x[S[w]];c!==void 0&&this.fillAtomWaals(c,x)}}fillAtomWaals(x,S){let w=0,c=Math.floor(.5+this.scaleFactor*(x.x+this.ptranx)),v=Math.floor(.5+this.scaleFactor*(x.y+this.ptrany)),y=Math.floor(.5+this.scaleFactor*(x.z+this.ptranz)),b=this.getVDWIndex(x),C=this.pWidth*this.pHeight;for(let E=0,p=this.widxz[b];E<p;E++)for(let f=0;f<p;f++){if(this.depty[b][w]!=-1){for(let D=-1;D<2;D++)for(let M=-1;M<2;M++)for(let P=-1;P<2;P++)if(D!==0&&M!==0&&P!==0){let O=D*E,z=P*f;for(let k=0;k<=this.depty[b][w];k++){let I=k*M,H=c+O,Y=v+I,q=y+z;if(H<0||Y<0||q<0||H>=this.pLength||Y>=this.pWidth||q>=this.pHeight)continue;let G=H*C+Y*this.pHeight+q;if(!(this.vpBits[G]&this.ISDONE))this.vpBits[G]|=this.ISDONE,this.vpAtomID[G]=x.serial;else{let $=S[this.vpAtomID[G]];if($.serial!=x.serial){let j=c+O-Math.floor(.5+this.scaleFactor*($.x+this.ptranx)),V=v+I-Math.floor(.5+this.scaleFactor*($.y+this.ptrany)),X=y+z-Math.floor(.5+this.scaleFactor*($.z+this.ptranz));O*O+I*I+z*z<j*j+V*V+X*X&&(this.vpAtomID[G]=x.serial)}}}}}w++}}buildboundary(){let x=this.pWidth*this.pHeight;for(let S=0;S<this.pLength;S++)for(let w=0;w<this.pHeight;w++)for(let c=0;c<this.pWidth;c++){let v=S*x+c*this.pHeight+w;if(this.vpBits[v]&this.INOUT){let y=0;for(;y<26;){let b=S+this.nb[y][0],C=w+this.nb[y][2],E=c+this.nb[y][1];if(b>-1&&b<this.pLength&&E>-1&&E<this.pWidth&&C>-1&&C<this.pHeight&&!(this.vpBits[b*x+E*this.pHeight+C]&this.INOUT)){this.vpBits[v]|=this.ISBOUND;break}else y++}}}}fastdistancemap(){let x=new g(this.pLength,this.pWidth,this.pHeight),S=this.pWidth*this.pHeight,w=this.cutRadius*this.cutRadius,c=[],v=[],y;for(let E=0;E<this.pLength;E++)for(let p=0;p<this.pWidth;p++)for(let f=0;f<this.pHeight;f++)if(y=E*S+p*this.pHeight+f,this.vpBits[y]&=~this.ISDONE,this.vpBits[y]&this.INOUT&&this.vpBits[y]&this.ISBOUND){let D={ix:E,iy:p,iz:f};x.set(E,p,f,D),c.push(D),this.vpDistance[y]=0,this.vpBits[y]|=this.ISDONE,this.vpBits[y]&=~this.ISBOUND}do{v=this.fastoneshell(c,x),c=[];for(let E=0,p=v.length;E<p;E++)y=S*v[E].ix+this.pHeight*v[E].iy+v[E].iz,this.vpBits[y]&=~this.ISBOUND,this.vpDistance[y]<=1.0404*w&&c.push({ix:v[E].ix,iy:v[E].iy,iz:v[E].iz})}while(c.length!==0);c=[],v=[],x=null;let b=this.scaleFactor-.5;b<0&&(b=0);let C=w-.5/(.1+b);for(let E=0;E<this.pLength;E++)for(let p=0;p<this.pWidth;p++)for(let f=0;f<this.pHeight;f++)y=E*S+p*this.pHeight+f,this.vpBits[y]&=~this.ISBOUND,this.vpBits[y]&this.INOUT&&(!(this.vpBits[y]&this.ISDONE)||this.vpBits[y]&this.ISDONE&&this.vpDistance[y]>=C)&&(this.vpBits[y]|=this.ISBOUND)}fastoneshell(x,S){let w,c,v,y,b,C,E,p,f,D=[];if(x.length===0)return D;let M={ix:-1,iy:-1,iz:-1},P=this.pWidth*this.pHeight;for(let O=0,z=x.length;O<z;O++){w=x[O].ix,c=x[O].iy,v=x[O].iz,p=S.get(w,c,v);for(let k=0;k<6;k++)M.ix=w+this.nb[k][0],M.iy=c+this.nb[k][1],M.iz=v+this.nb[k][2],M.ix<this.pLength&&M.ix>-1&&M.iy<this.pWidth&&M.iy>-1&&M.iz<this.pHeight&&M.iz>-1&&(f=M.ix*P+this.pHeight*M.iy+M.iz,this.vpBits[f]&this.INOUT&&!(this.vpBits[f]&this.ISDONE)?(S.set(M.ix,M.iy,v+this.nb[k][2],p),y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,this.vpDistance[f]=E,this.vpBits[f]|=this.ISDONE,this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})):this.vpBits[f]&this.INOUT&&this.vpBits[f]&this.ISDONE&&(y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,E<this.vpDistance[f]&&(S.set(M.ix,M.iy,M.iz,p),this.vpDistance[f]=E,this.vpBits[f]&this.ISBOUND||(this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})))))}for(let O=0,z=x.length;O<z;O++){w=x[O].ix,c=x[O].iy,v=x[O].iz,p=S.get(w,c,v);for(let k=6;k<18;k++)M.ix=w+this.nb[k][0],M.iy=c+this.nb[k][1],M.iz=v+this.nb[k][2],M.ix<this.pLength&&M.ix>-1&&M.iy<this.pWidth&&M.iy>-1&&M.iz<this.pHeight&&M.iz>-1&&(f=M.ix*P+this.pHeight*M.iy+M.iz,this.vpBits[f]&this.INOUT&&!(this.vpBits[f]&this.ISDONE)?(S.set(M.ix,M.iy,v+this.nb[k][2],p),y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,this.vpDistance[f]=E,this.vpBits[f]|=this.ISDONE,this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})):this.vpBits[f]&this.INOUT&&this.vpBits[f]&this.ISDONE&&(y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,E<this.vpDistance[f]&&(S.set(M.ix,M.iy,M.iz,p),this.vpDistance[f]=E,this.vpBits[f]&this.ISBOUND||(this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})))))}for(let O=0,z=x.length;O<z;O++){w=x[O].ix,c=x[O].iy,v=x[O].iz,p=S.get(w,c,v);for(let k=18;k<26;k++)M.ix=w+this.nb[k][0],M.iy=c+this.nb[k][1],M.iz=v+this.nb[k][2],M.ix<this.pLength&&M.ix>-1&&M.iy<this.pWidth&&M.iy>-1&&M.iz<this.pHeight&&M.iz>-1&&(f=M.ix*P+this.pHeight*M.iy+M.iz,this.vpBits[f]&this.INOUT&&!(this.vpBits[f]&this.ISDONE)?(S.set(M.ix,M.iy,v+this.nb[k][2],p),y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,this.vpDistance[f]=E,this.vpBits[f]|=this.ISDONE,this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})):this.vpBits[f]&this.INOUT&&this.vpBits[f]&this.ISDONE&&(y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,E<this.vpDistance[f]&&(S.set(M.ix,M.iy,M.iz,p),this.vpDistance[f]=E,this.vpBits[f]&this.ISBOUND||(this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})))))}return D}marchingcubeinit(x){for(let S=0,w=this.vpBits.length;S<w;S++)x==1?this.vpBits[S]&=~this.ISBOUND:x==4?(this.vpBits[S]&=~this.ISDONE,this.vpBits[S]&this.ISBOUND&&(this.vpBits[S]|=this.ISDONE),this.vpBits[S]&=~this.ISBOUND):x==2?this.vpBits[S]&this.ISBOUND&&this.vpBits[S]&this.ISDONE?this.vpBits[S]&=~this.ISBOUND:this.vpBits[S]&this.ISBOUND&&!(this.vpBits[S]&this.ISDONE)&&(this.vpBits[S]|=this.ISDONE):x==3&&(this.vpBits[S]&=~this.ISBOUND)}marchingcube(x){this.marchingcubeinit(x),this.verts=[],this.faces=[],h.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let S=this.pWidth*this.pHeight;for(let w=0,c=this.verts.length;w<c;w++)this.verts[w].atomid=this.vpAtomID[this.verts[w].x*S+this.pHeight*this.verts[w].y+this.verts[w].z];h.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}h.MarchingCube=new u},"./src/VolumeData.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VolumeData:()=>l});var n=r("./src/utilities.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/parsers/VASP.ts"),o=r("./src/parsers/CUBE.ts"),u=r("./node_modules/pako/dist/pako.esm.mjs");class l{constructor(h,_,x){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(y){var b=y/(this.size.y*this.size.z),C=y%(this.size.y*this.size.z),E=y%this.size.z;return b*=this.unit.x,C*=this.unit.y,E*=this.unit.z,b+=this.origin.x,C+=this.origin.y,E+=this.origin.z,{x:b,y:C,z:E}},this.vasp=function(y){var b=y.replace(/^\s+/,"").split(/[\n\r]/),C=(0,s.VASP)(y)[0],E=C.length;if(E==0){console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var p=1.889725992,f=.036749309,D=parseFloat(b[1]),M;M=b[2].replace(/^\s+/,"").split(/\s+/);var P=new a.Vector3(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])).multiplyScalar(D*p);M=b[3].replace(/^\s+/,"").split(/\s+/);var O=new a.Vector3(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])).multiplyScalar(D*p);M=b[4].replace(/^\s+/,"").split(/\s+/);var z=new a.Vector3(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])).multiplyScalar(D*p),k=P.x*(O.y*z.z-z.y*O.z)-O.x*(P.y*z.z-z.y*P.z)+z.x*(P.y*O.z-O.y*P.z);k=Math.abs(k)/Math.pow(p,3);var I=1/k;b.splice(0,8+E+1);var H=b[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Y=Math.abs(parseFloat(H[0])),q=Math.abs(parseFloat(H[1])),G=Math.abs(parseFloat(H[2])),$=this.origin=new a.Vector3(0,0,0);this.size={x:Y,y:q,z:G},this.unit=new a.Vector3(P.x,O.y,z.z),P=P.multiplyScalar(1/(p*Y)),O=O.multiplyScalar(1/(p*q)),z=z.multiplyScalar(1/(p*G)),(P.y!=0||P.z!=0||O.x!=0||O.z!=0||z.x!=0||z.y!=0)&&(this.matrix=new a.Matrix4(P.x,O.x,z.x,0,P.y,O.y,z.y,0,P.z,O.z,z.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new a.Matrix4().makeTranslation($.x,$.y,$.z)),this.origin=new a.Vector3(0,0,0),this.unit=new a.Vector3(1,1,1)),b.splice(0,1);var j=b.join(" ");j=j.replace(/^\s+/,"");var V=j.split(/[\s\r]+/);V.splice(Y*q*G+1);for(var X=Float32Array.from(V,parseFloat),Q=0;Q<X.length;Q++)X[Q]=X[Q]*I*f;this.data=X},this.dx=function(y){var b=y.split(/[\n\r]+/),C,E=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,p=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,f=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,D=/data follows/,M=0;for(M=0;M<b.length;M++){var P=b[M];if(C=E.exec(P)){var O=parseInt(C[1]),z=parseInt(C[2]),k=parseInt(C[3]);this.size={x:O,y:z,z:k}}else if(C=f.exec(P)){var I=parseFloat(C[1]);if((parseFloat(C[2])!=0||parseFloat(C[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),M+=1,P=b[M],C=f.exec(P),C==null){console.log("Parse error in dx delta matrix");return}var H=parseFloat(C[2]);if((parseFloat(C[1])!=0||parseFloat(C[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),M+=1,P=b[M],C=f.exec(P),C==null){console.log("Parse error in dx delta matrix");return}var Y=parseFloat(C[3]);(parseFloat(C[1])!=0||parseFloat(C[2])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new a.Vector3(I,H,Y)}else if(C=p.exec(P)){var q=parseFloat(C[1]),G=parseFloat(C[2]),$=parseFloat(C[3]);this.origin=new a.Vector3(q,G,$)}else if(C=D.exec(P))break}if(M+=1,!this.size||!this.origin||!this.unit||!this.size){console.log("Error parsing dx format");return}var j=b.splice(M).join(" "),V=j.split(/[\s\r]+/);this.data=Float32Array.from(V,parseFloat)},_=_.toLowerCase(),/\.gz$/.test(_)){_=_.replace(/\.gz$/,"");try{this[_]&&this.isbinary.has(_)?(typeof h=="string"&&(h=(0,n.base64ToArray)(h)),h=(0,u.inflate)(h)):h=new TextDecoder("utf-8").decode((0,u.inflate)(h))}catch(y){console.log(y)}}if(this[_]&&(this.isbinary.has(_)&&typeof h=="string"&&(h=(0,n.base64ToArray)(h)),this[_](h)),x){if(x.negate)for(let y=0,b=this.data.length;y<b;y++)this.data[y]=-this.data[y];if(x.normalize){var S=0;for(let y=0,b=this.data.length;y<b;y++)S+=this.data[y];var w=S/this.data.length;S=0;for(let y=0,b=this.data.length;y<b;y++){var c=this.data[y]-w;S+=c*c}var v=S/this.data.length;for(let y=0,b=this.data.length;y<b;y++)this.data[y]=(this.data[y]-w)/v}}}getIndex(h,_,x){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new a.Matrix4().getInverse(this.matrix));var S=new a.Vector3(h,_,x);S=S.applyMatrix4(this.inversematrix),h=S.x,_=S.y,x=S.z}else h-=this.origin.x,_-=this.origin.y,x-=this.origin.z,h/=this.unit.x,_/=this.unit.y,x/=this.unit.z;return h=Math.round(h),_=Math.round(_),x=Math.round(x),h<0||h>=this.size.x||_<0||_>=this.size.y||x<0||x>=this.size.z?-1:h*this.size.y*this.size.z+_*this.size.z+x}getVal(h,_,x){let S=this.getIndex(h,_,x);return S<0?0:this.data[S]}cube(h){var _=h.split(/\r?\n/);if(!(_.length<6)){var x=(0,o.CUBE)(h,{}).modelData[0].cryst,S=_[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w=parseFloat(S[0]),c=Math.abs(w);this.origin=x.origin,this.size=x.size,this.unit=x.unit,this.matrix=x.matrix4;var v=6;w<0&&v++;var y=_.splice(c+v).join(" ");y=y.replace(/^\s+/,"");var b=y.split(/[\s\r]+/);this.data=Float32Array.from(b,parseFloat)}}ccp4(h){var _={};h=new Int8Array(h);var x=new Int32Array(h.buffer,0,56),S=new Float32Array(h.buffer,0,56),w=new DataView(h.buffer);if(_.MAP=String.fromCharCode(w.getUint8(208),w.getUint8(209),w.getUint8(210),w.getUint8(211)),_.MACHST=[w.getUint8(212),w.getUint8(213)],_.MACHST[0]===17&&_.MACHST[1]===17)for(var c=h.byteLength,v=0;v<c;v+=4)w.setFloat32(v,w.getFloat32(v),!0);_.NX=x[0],_.NY=x[1],_.NZ=x[2],_.MODE=x[3],_.NXSTART=x[4],_.NYSTART=x[5],_.NZSTART=x[6],_.MX=x[7],_.MY=x[8],_.MZ=x[9],_.xlen=S[10],_.ylen=S[11],_.zlen=S[12],_.alpha=S[13],_.beta=S[14],_.gamma=S[15],_.MAPC=x[16],_.MAPR=x[17],_.MAPS=x[18],_.DMIN=S[19],_.DMAX=S[20],_.DMEAN=S[21],_.ISPG=x[22],_.NSYMBT=x[23],_.LSKFLG=x[24],_.originX=S[49],_.originY=S[50],_.originZ=S[51],_.ARMS=S[54];var y=_,b=[y.xlen,0,0],C=[y.ylen*Math.cos(Math.PI/180*y.gamma),y.ylen*Math.sin(Math.PI/180*y.gamma),0],E=[y.zlen*Math.cos(Math.PI/180*y.beta),y.zlen*(Math.cos(Math.PI/180*y.alpha)-Math.cos(Math.PI/180*y.gamma)*Math.cos(Math.PI/180*y.beta))/Math.sin(Math.PI/180*y.gamma),0];E[2]=Math.sqrt(y.zlen*y.zlen*Math.sin(Math.PI/180*y.beta)*Math.sin(Math.PI/180*y.beta)-E[1]*E[1]);var p=[0,b,C,E],f=[0,y.MX,y.MY,y.MZ],D=[0,y.MAPC,y.MAPR,y.MAPS];this.matrix=new a.Matrix4,this.matrix.set(p[D[1]][0]/f[D[1]],p[D[2]][0]/f[D[2]],p[D[3]][0]/f[D[3]],0,p[D[1]][1]/f[D[1]],p[D[2]][1]/f[D[2]],p[D[3]][1]/f[D[3]],0,p[D[1]][2]/f[D[1]],p[D[2]][2]/f[D[2]],p[D[3]][2]/f[D[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new a.Matrix4().makeTranslation(y.NXSTART+y.originX,y.NYSTART+y.originY,y.NZSTART+y.originZ)),this.origin=new a.Vector3(0,0,0),this.unit=new a.Vector3(1,1,1),this.size={x:_.NX,y:_.NY,z:_.NZ},this.dimensionorder=[_.MAPC,_.MAPR,_.MAPS];var M=new Float32Array(h.buffer,1024+_.NSYMBT),P=_.NX,O=_.NY,z=_.NZ;this.data=new Float32Array(P*O*z);for(let k=0;k<P;k++)for(let I=0;I<O;I++)for(let H=0;H<z;H++)this.data[(k*O+I)*z+H]=M[(H*O+I)*P+k]}}},"./src/VolumetricRender.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLVolumetricRender:()=>l});var n=r("./src/WebGL/shapes/index.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/index.ts"),o=r("./src/colors.ts"),u=r("./src/GLShape.ts");class l{static interpolateArray(h,_){function x(E,p,f){return E+(p-E)*f}var S=[],w=(h.length-1)/(_-1);S[0]=h[0];for(var c=1;c<_-1;c++){var v=c*w,y=Math.floor(v),b=Math.ceil(v),C=v-y;S[c]=x(h[y],h[b],C)}return S[_-1]=h[h.length-1],S}constructor(h,_){this.hidden=!1,this.boundingSphere=new n.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,_=_||{};var x=Object.assign([],_.transferfn);this.subsamples=_.subsamples||5;let S=256;x.forEach(function(P){P.value=parseFloat(P.value)}),x.sort(function(P,O){return P.value-O.value}),this.min=x[0].value,x.length==0&&x.push(x[0]),this.max=x[x.length-1].value;var w,c,v,y,b,C,E,p,f,D;for(let P=0;P<x.length-1;P++)if(v=o.CC.color(x[P].color),y=o.CC.color(x[P+1].color),f=x[P].opacity,D=x[P+1].opacity,w=Math.floor((x[P].value-this.min)*S/(this.max-this.min)),c=Math.floor((x[P+1].value-this.min)*S/(this.max-this.min)),w!=c){b=l.interpolateArray([v.r*255,y.r*255],c-w),C=l.interpolateArray([v.g*255,y.g*255],c-w),E=l.interpolateArray([v.b*255,y.b*255],c-w),p=l.interpolateArray([f*255,D*255],c-w);for(let O=0;O<b.length;O++)this.transferfunctionbuffer.push(b[O]),this.transferfunctionbuffer.push(C[O]),this.transferfunctionbuffer.push(E[O]),this.transferfunctionbuffer.push(p[O])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),h.matrix){let P=new a.Vector3(0,0,0),O=new a.Vector3(h.size.x,h.size.y,h.size.z),z=new a.Vector3(1,1,1);P.applyMatrix4(h.matrix),O.applyMatrix4(h.matrix),z.applyMatrix4(h.matrix).sub(P),this.extent=[[P.x,P.y,P.z],[O.x,O.y,O.z]];for(let Y=1;Y<7;Y++)O.x=Y&1?h.size.x:0,O.y=Y&2?h.size.y:0,O.z=Y&4?h.size.z:0,O.applyMatrix4(h.matrix),this.extent[0][0]=Math.min(this.extent[0][0],O.x),this.extent[0][1]=Math.min(this.extent[0][1],O.y),this.extent[0][2]=Math.min(this.extent[0][2],O.z),this.extent[1][0]=Math.max(this.extent[1][0],O.x),this.extent[1][1]=Math.max(this.extent[1][1],O.y),this.extent[1][2]=Math.max(this.extent[1][2],O.z);let k=O.x-P.x,I=O.y-P.y,H=O.z-P.z;this.maxdepth=Math.sqrt(k*k+I*I+H*H),this.minunit=Math.min(Math.min(z.x,z.y),z.z),this.texmatrix=new a.Matrix4().identity().scale({x:h.size.x,y:h.size.y,z:h.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(h.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new a.Matrix4().identity();let P=h.unit.x*h.size.x,O=h.unit.y*h.size.y,z=h.unit.z*h.size.z;this.texmatrix.makeTranslation(-h.origin.x/P,-h.origin.y/O,-h.origin.z/z),this.texmatrix.scale({x:1/P,y:1/O,z:1/z}),this.minunit=Math.min(Math.min(h.unit.x,h.unit.y),h.unit.z),this.extent=[[h.origin.x,h.origin.y,h.origin.z],[h.origin.x+P,h.origin.y+O,h.origin.z+z]],this.maxdepth=Math.sqrt(P*P+O*O+z*z)}var M=new u.GLShape({});if(M.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=M.finalize(),this.boundingSphere.center=new a.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,_.coords!==void 0&&_.seldist!==void 0){let P=new Uint8Array(h.data.length),O=_.seldist,z=O*O;for(let k=0,I=_.coords.length;k<I;k++){let H=_.coords[k],Y=H.x-O,q=H.y-O,G=H.z-O,$=H.x+O,j=H.y+O,V=H.z+O;if(h.getIndex(Y,q,G)>=0||h.getIndex($,j,V)>=0)for(let X=Y;X<$;X+=this.minunit)for(let Q=q;Q<j;Q+=this.minunit)for(let te=G;te<V;te+=this.minunit){let xe=h.getIndex(X,Q,te);xe>=0&&!P[xe]&&(X-H.x)*(X-H.x)+(Q-H.y)*(Q-H.y)+(te-H.z)*(te-H.z)<z&&(P[xe]=1)}}for(let k=0,I=h.data.length;k<I;k++)P[k]==0&&(h.data[k]=1/0)}this.data=h}globj(h){if(this.renderedShapeObj&&(h.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new s.Object3D;var _=null,x=new s.Texture(this.data,!0),S=new s.Texture(this.transferfunctionbuffer,!1);x.needsUpdate=!0,S.needsUpdate=!0,S.flipY=!1,_=new s.VolumetricMaterial({transferfn:S,transfermin:this.min,transfermax:this.max,map:x,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var w=new s.Mesh(this.geo,_);this.shapeObj.add(w),this.renderedShapeObj=this.shapeObj.clone(),h.add(this.renderedShapeObj)}}removegl(h){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),h.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Camera:()=>s});var n=r("./src/WebGL/core/index.ts"),a=r("./src/WebGL/math/index.ts");class s extends n.Object3D{constructor(u=50,l=1,g=.1,h=2e3,_=!1){super(),this.projectionMatrix=new a.Matrix4,this.projectionMatrixInverse=new a.Matrix4,this.matrixWorldInverse=new a.Matrix4,this.fov=u,this.aspect=l,this.near=g,this.far=h;var x=this.position.z;this.right=x*Math.tan(Math.PI/180*u),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!_,this.updateProjectionMatrix()}lookAt(u){this.matrix.lookAt(this.position,u,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof a.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Fog:()=>a});var n=r("./src/colors.ts");class a{constructor(o,u=1,l=1e3){this.name="",this.color=new n.Color(o),this.near=u,this.far=l}clone(){return new a(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Renderer:()=>S});var n=r("./src/WebGL/Camera.ts"),a=r("./src/WebGL/constants/Sides.ts"),s=r("./src/WebGL/constants/TextureConstants.ts"),o=r("./src/WebGL/core/index.ts"),u=r("./src/colors.ts"),l=r("./src/WebGL/materials/index.ts"),g=r("./src/WebGL/math/index.ts"),h=r("./src/WebGL/objects/index.ts"),_=r("./src/WebGL/shaders/index.ts"),x=r("./src/WebGL/SpritePlugin.ts");class S{constructor(c){this.context=null,this.devicePixelRatio=1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._projScreenMatrix=new g.Matrix4,this._vector3=new g.Vector3,this._worldInverse=new g.Matrix4,this._projInverse=new g.Matrix4,this._textureMatrix=new g.Matrix4,this._direction=new g.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new x.SpritePlugin,this._screenshader=null,this._vertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,c=c||{},this.row=c.row,this.col=c.col,this.rows=c.rows,this.cols=c.cols,this._canvas=c.canvas!==void 0?c.canvas:document.createElement("canvas"),this._precision=c.precision!==void 0?c.precision:"highp",this._alpha=c.alpha!==void 0?c.alpha:!0,this._premultipliedAlpha=c.premultipliedAlpha!==void 0?c.premultipliedAlpha:!0,this._antialias=c.antialias!==void 0?c.antialias:!1,this._stencil=c.stencil!==void 0?c.stencil:!0,this._preserveDrawingBuffer=c.preserveDrawingBuffer!==void 0?c.preserveDrawingBuffer:!1,this._clearColor=c.clearColor!==void 0?new u.Color(c.clearColor):new u.Color(0),this._clearAlpha=c.clearAlpha!==void 0?c.clearAlpha:0,this._outlineMaterial=new l.MeshOutlineMaterial(c.outline),this._outlineSphereImposterMaterial=new l.SphereImposterOutlineMaterial(c.outline),this._outlineStickImposterMaterial=new l.StickImposterOutlineMaterial(c.outline),this._outlineEnabled=!!c.outline,this.domElement=this._canvas,this._canvas.id=c.id,this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this)}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}isLost(){return this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(c,v){this._clearColor.setHex(c),this._clearAlpha=v,this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(c){this._outlineMaterial=new l.MeshOutlineMaterial(c),this._outlineSphereImposterMaterial=new l.SphereImposterOutlineMaterial(c),this._outlineStickImposterMaterial=new l.StickImposterOutlineMaterial(c),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}setViewport(){if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var c=this._canvas.width/this.cols,v=this._canvas.height/this.rows;this._viewportWidth=c,this._viewportHeight=v,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(c*this.col,v*this.row,c,v),this._gl.viewport(c*this.col,v*this.row,c,v)}}setSize(c,v){if(this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var y=c/this.cols,b=v/this.rows;this._canvas.width=c*this.devicePixelRatio,this._canvas.height=v*this.devicePixelRatio,this._viewportWidth=y*this.devicePixelRatio,this._viewportHeight=b*this.devicePixelRatio,this._canvas.style.width=c+"px",this._canvas.style.height=v+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=c*this.devicePixelRatio,this._viewportHeight=this._canvas.height=v*this.devicePixelRatio,this._canvas.style.width=c+"px",this._canvas.style.height=v+"px",this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(c,v,y){var b=0;(c===void 0||c)&&(b|=this._gl.COLOR_BUFFER_BIT),(v===void 0||v)&&(b|=this._gl.DEPTH_BUFFER_BIT),(y===void 0||y)&&(b|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(b)}clearTarget(c,v,y){this.clear(c,v,y)}setMaterialFaces(c,v){var y=c.side===a.DoubleSide,b=c.side===a.BackSide;c.imposter||(b=v?!b:b),this._oldDoubleSided!==y&&(y?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=y),this._oldFlipSided!==b&&(b?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=b),this._gl.cullFace(this._gl.BACK)}setDepthTest(c){this._oldDepthTest!==c&&(c?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=c)}setDepthWrite(c){this._oldDepthWrite!==c&&(this._gl.depthMask(c),this._oldDepthWrite=c)}setBlending(c){c?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(c,v,y,b){c.addEventListener("dispose",this.onMaterialDispose.bind(this));var C,E;if(E=c.shaderID,E){var p=_.ShaderLib[E];c.vertexShader=p.vertexShader,c.fragmentShader=p.fragmentShader,c.uniforms=_.ShaderUtils.clone(p.uniforms)}C={wireframe:c.wireframe,fragdepth:c.imposter,volumetric:c.volumetric},c.program=this.buildProgram(c.fragmentShader,c.vertexShader,c.uniforms,C)}renderBuffer(c,v,y,b,C,E){if(b.visible){var p,f;if(p=this.setProgram(c,v,y,b,E,this),!!p){f=p.attributes;var D=!1,M=b.wireframe?1:0,P=C.id*16777215+p.id*2+M;P!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=P,D=!0),D&&(this.disableAttributes(),f.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglVertexBuffer),this.enableAttribute(f.position),this._gl.vertexAttribPointer(f.position,3,this._gl.FLOAT,!1,0,0)),f.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglColorBuffer),this.enableAttribute(f.color),this._gl.vertexAttribPointer(f.color,3,this._gl.FLOAT,!1,0,0)),f.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglNormalBuffer),this.enableAttribute(f.normal),this._gl.vertexAttribPointer(f.normal,3,this._gl.FLOAT,!1,0,0)),f.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglOffsetBuffer),this.enableAttribute(f.offset),this._gl.vertexAttribPointer(f.offset,3,this._gl.FLOAT,!1,0,0)),f.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglRadiusBuffer),this.enableAttribute(f.radius),this._gl.vertexAttribPointer(f.radius,1,this._gl.FLOAT,!1,0,0)));var O,z;if(E instanceof h.Mesh){if(b.shaderID==="instanced"){var k=b.sphere.geometryGroups[0];D&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,k.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,k.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,k.faceArray,this._gl.STATIC_DRAW)),O=k.faceidx,this._extInstanced.vertexAttribDivisorANGLE(f.offset,1),this._extInstanced.vertexAttribDivisorANGLE(f.radius,1),this._extInstanced.vertexAttribDivisorANGLE(f.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,O,this._gl.UNSIGNED_SHORT,0,C.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(f.offset,0),this._extInstanced.vertexAttribDivisorANGLE(f.radius,0),this._extInstanced.vertexAttribDivisorANGLE(f.color,0)}else b.wireframe?(z=C.lineidx,this.setLineWidth(b.wireframeLinewidth),D&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,z,this._gl.UNSIGNED_SHORT,0)):(O=C.faceidx,D&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,O,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=O,this.info.render.faces+=O/3}else E instanceof h.Line&&(z=C.vertices,this.setLineWidth(b.linewidth),this._gl.drawArrays(this._gl.LINES,0,z),this.info.render.calls++)}}}render(c,v,y){if(!(v instanceof n.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var b,C,E,p,f,D=c.__lights,M=c.fog;this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&c.updateMatrixWorld(),v.parent===void 0&&v.updateMatrixWorld(),v.matrixWorldInverse.getInverse(v.matrixWorld),this._projScreenMatrix.multiplyMatrices(v.projectionMatrix,v.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(c),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),(this.autoClear||y)&&(this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)),f=c.__webglObjects;var P=!1;for(b=0,C=f.length;b<C;b++)E=f[b],p=E.object,E.render=!1,p.visible&&(this.setupMatrices(p,v),this.unrollBufferMaterial(E),E.render=!0,E.volumetric&&(P=!0));var O=null;this.setBlending(!1),this.renderObjects(c.__webglObjects,!0,"opaque",v,D,M,!1,O),this.renderSprites(c,v,!1),this.renderObjects(c.__webglObjects,!0,"blank",v,D,M,!0,O),this.renderObjects(c.__webglObjects,!1,"transparent",v,D,M,!0,O),P&&this._fb&&(this.reinitFrameBuffer(),this.renderObjects(c.__webglObjects,!1,"volumetric",v,D,M,!0,O)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(c,v,!0)}reinitFrameBuffer(){this.isWebGL1()||(this._fb=this._gl.createFramebuffer(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0))}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let c=this._viewportWidth,v=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,c,v),this._gl.viewport(0,0,c,v),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,c,v,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,c,v,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let c=this._viewportWidth,v=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,c,v),this._gl.viewport(0,0,c,v),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var y=_.ShaderLib.screen;this._screenshader=this.buildProgram(y.fragmentShader,y.vertexShader,y.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var b=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(b),this._gl.STATIC_DRAW)}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(c){if(c.__webglObjects||(c.__webglObjects=[],c.__webglObjectsImmediate=[],c.__webglSprites=[],c.__webglFlares=[]),c.__objectsAdded.length){for(;c.__objectsAdded.length;)this.addObject(c.__objectsAdded[0],c),c.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;c.__objectsRemoved.length;)this.removeObject(c.__objectsRemoved[0],c),c.__objectsRemoved.splice(0,1);for(var v=0,y=c.__webglObjects.length;v<y;v++)this.updateObject(c.__webglObjects[v].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(c,v){(c==null||v==null)&&(c=this._canvas.width,v=this._canvas.height);var y=c/v;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var b=c/this.cols,C=v/this.rows;y=b/C}return y}setTexture(c,v,y){if(c.needsUpdate){c.__webglInit||(c.__webglInit=!0,c.addEventListener("dispose",this.onTextureDispose.bind(this)),c.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+v);var b=y?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(b,c.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,c.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,c.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,c.unpackAlignment);var C=this.paramToGL(c.format),E=this.paramToGL(c.type);if(y)this.setTextureParameters(this._gl.TEXTURE_3D,c),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,c.image.size.z,c.image.size.y,c.image.size.x,0,this._gl.RED,this._gl.FLOAT,c.image.data);else{var p=c.image,f=p.width,D=p.height;typeof f>"u"&&(f=p.length,C==this._gl.RGBA&&(f/=4),D=1),this.setTextureParameters(this._gl.TEXTURE_2D,c),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,C,C,E,c.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,C,f,D,0,C,E,c.image)}c.needsUpdate=!1,c.onUpdate&&c.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+v),y?this._gl.bindTexture(this._gl.TEXTURE_3D,c.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,c.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(c){this._enabledAttributes[c]||(this._gl.enableVertexAttribArray(c),this._enabledAttributes[c]=!0)}disableAttributes(){for(let c in this._enabledAttributes)this._enabledAttributes[c]&&(this._gl.disableVertexAttribArray(c),this._enabledAttributes[c]=!1)}setPolygonOffset(c,v,y){this._oldPolygonOffset!==c&&(c?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(c){c!==this._oldLineWidth&&(this._gl.lineWidth(c),this._oldLineWidth=c)}deallocateGeometry(c){if(c.__webglInit=void 0,c.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(c.__webglVertexBuffer),c.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(c.__webglColorBuffer),c.geometryGroups!==void 0)for(var v=0,y=c.groups;v<y;v++){var b=c.geometryGroups[v];b.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(b.__webglVertexBuffer),b.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(b.__webglColorBuffer),b.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(b.__webglNormalBuffer),b.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(b.__webglFaceBuffer),b.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(b.__webglLineBuffer)}}deallocateMaterial(c){var v=c.program;if(v!==void 0){c.program=void 0;var y,b,C,E=!1;for(y=0,b=this._programs.length;y<b;y++)if(C=this._programs[y],C.program===v){C.usedTimes--,C.usedTimes===0&&(E=!0);break}if(E===!0){var p=[];for(y=0,b=this._programs.length;y<b;y++)C=this._programs[y],C.program!==v&&p.push(C);this._programs=p,this._gl.deleteProgram(v),this.info.memory.programs--}}}deallocateTexture(c){if(c.image&&c.image.__webglTextureCube)this._gl.deleteTexture(c.image.__webglTextureCube);else{if(!c.__webglInit)return;c.__webglInit=!1,this._gl.deleteTexture(c.__webglTexture)}}onGeometryDispose(c){var v=c.target;v.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(v),this.info.memory.geometries--}onTextureDispose(c){var v=c.target;v.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(v),this.info.memory.textures--}onMaterialDispose(c){var v=c.target;v.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(v)}getShader(c,v){var y;return!this.isWebGL1()&&!v.startsWith("#version")&&(v=v.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),c=="fragment"?v=v.replace(/varying/g,"in"):v=v.replace(/varying/g,"out"),v=v.replace(/attribute/g,"in"),v=v.replace(/texture2D/g,"texture"),v=v.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),v=v.replace(/gl_FragColor/g,"glFragColor"),v=`#version 300 es
`+v),c==="fragment"?y=this._gl.createShader(this._gl.FRAGMENT_SHADER):c==="vertex"&&(y=this._gl.createShader(this._gl.VERTEX_SHADER)),y==null?null:(this._gl.shaderSource(y,v),this._gl.compileShader(y),this._gl.getShaderParameter(y,this._gl.COMPILE_STATUS)?y:(console.error(this._gl.getShaderInfoLog(y)),console.error("could not initialize shader"),null))}buildProgram(c,v,y,b){var C,E,p,f,D=[];D.push(c),D.push(v);for(C in b)D.push(C),D.push(b[C]);for(f=D.join(),C=0,E=this._programs.length;C<E;C++){var M=this._programs[C];if(M.code===f)return M.usedTimes++,M.program}if(this.isWebGL1()&&b.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(p=this._gl.createProgram(),p==null)return null;var P=this._precision,O="precision "+P+" float;",z=[b.volumetric?"#version 300 es":"",O].join(`
`),k=[b.volumetric?"#version 300 es":"",b.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",b.wireframe?"#define WIREFRAME 1":"",O].join(`
`),I=this.getShader("fragment",k+c),H=this.getShader("vertex",z+v);H!=null&&this._gl.attachShader(p,H),I!=null&&this._gl.attachShader(p,I),this._gl.linkProgram(p),this._gl.getProgramParameter(p,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),p.uniforms={},p.attributes={};var Y,q,G;Y=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"];for(q in y)Y.push(q);for(G=0;G<Y.length;G++){var $=Y[G];p.uniforms[$]=this._gl.getUniformLocation(p,$)}for(Y=["position","normal","color","lineDistance","offset","radius"],G=0;G<Y.length;G++){var j=Y[G];p.attributes[j]=this._gl.getAttribLocation(p,j)}return p.id=this._programs_counter++,this._programs.push({program:p,code:f,usedTimes:1}),this.info.memory.programs=this._programs.length,p}setProgram(c,v,y,b,C,E){if(b.needsUpdate&&(b.program&&this.deallocateMaterial(b),this.initMaterial(b,v,y,C),b.needsUpdate=!1),b.program==null)return null;var p=!1,f=b.program,D=f.uniforms,M=b.uniforms;if(f!=this._currentProgram&&(this._gl.useProgram(f),this._currentProgram=f,p=!0),b.id!=this._currentMaterialId&&(this._currentMaterialId=b.id,p=!0),c!=this._currentCamera&&(this._currentCamera=c,p=!0),this._gl.uniformMatrix4fv(D.projectionMatrix,!1,c.projectionMatrix.elements),this._gl.uniformMatrix4fv(D.modelViewMatrix,!1,C._modelViewMatrix.elements),this._gl.uniformMatrix3fv(D.normalMatrix,!1,C._normalMatrix.elements),p){if(M.fogColor.value=y.color,M.fogNear.value=y.near,M.fogFar.value=y.far,b.shaderID.startsWith("lambert")||b.shaderID==="instanced"||b.shaderID.endsWith("imposter"))this._gl.uniformMatrix4fv(D.viewMatrix,!1,c.matrixWorldInverse.elements),this._lightsNeedUpdate&&(this.setupLights(f,v),this._lightsNeedUpdate=!1),M.directionalLightColor.value=this._lights.directional.colors,M.directionalLightDirection.value=this._lights.directional.positions;else if(b.shaderID.endsWith("outline"))M.outlineColor.value=b.outlineColor,M.outlineWidth.value=b.outlineWidth,M.outlinePushback.value=b.outlinePushback;else if(b.shaderID==="volumetric"){C._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(C._modelViewMatrix),this._projInverse.getInverse(c.projectionMatrix),this._textureMatrix.multiplyMatrices(C.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(D.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(D.projinv,!1,this._projInverse.elements);let P=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);M.step.value=C.material.unit*P,M.maxdepth.value=C.material.maxdepth*P,M.transfermax.value=C.material.transfermax,M.transfermin.value=C.material.transfermin,M.subsamples.value=C.material.subsamples,E.setTexture(C.material.transferfn,4,!1),E.setTexture(C.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}M.opacity.value=b.opacity,this.loadMaterialUniforms(D,M)}return f}loadMaterialUniforms(c,v){var y,b,C,E;for(y in v)c[y]&&(b=v[y].type,C=v[y].value,E=c[y],b==="f"?this._gl.uniform1f(E,C):b==="i"?this._gl.uniform1i(E,C):b==="fv"?this._gl.uniform3fv(E,C):b==="c"?this._gl.uniform3f(E,C.r,C.g,C.b):b==="f4"&&this._gl.uniform4f(E,C[0],C[1],C[2],C[3]))}addObject(c,v){var y,b,C,E;if(!c.__webglInit&&(c.__webglInit=!0,c._modelViewMatrix=new g.Matrix4,c._normalMatrix=new g.Matrix3,c.geometry!==void 0&&c.geometry.__webglInit===void 0&&(c.geometry.__webglInit=!0,c.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),c instanceof h.Mesh||c instanceof h.Line))for(C=c.geometry,y=0,b=C.geometryGroups.length;y<b;y++)E=C.geometryGroups[y],E.id=this._geometryGroupCounter++,E.__webglVertexBuffer||(c instanceof h.Mesh?(this.createMeshBuffers(E),C.elementsNeedUpdate=!0,C.normalsNeedUpdate=!0):c instanceof h.Line&&this.createLineBuffers(E),C.verticesNeedUpdate=!0,C.colorsNeedUpdate=!0);if(!c.__webglActive){if(c instanceof h.Mesh||c instanceof h.Line)for(C=c.geometry,y=0,b=C.geometryGroups.length;y<b;y++)E=C.geometryGroups[y],this.addBuffer(v.__webglObjects,E,c);else c instanceof h.Sprite&&v.__webglSprites.push(c);c.__webglActive=!0}}updateObject(c){var v=c.geometry,y;if(c instanceof h.Mesh||c instanceof h.Line){for(var b=0,C=v.geometryGroups.length;b<C;b++)y=v.geometryGroups[b],(v.verticesNeedUpdate||v.elementsNeedUpdate||v.colorsNeedUpdate||v.normalsNeedUpdate)&&this.setBuffers(y,this._gl.STATIC_DRAW);v.verticesNeedUpdate=!1,v.elementsNeedUpdate=!1,v.normalsNeedUpdate=!1,v.colorsNeedUpdate=!1,v.buffersNeedUpdate=!1}}removeObject(c,v){c instanceof h.Mesh||c instanceof h.Line?this.removeInstances(v.__webglObjects,c):c instanceof h.Sprite&&this.removeInstancesDirect(v.__webglSprites,c),c.__webglActive=!1}removeInstances(c,v){for(var y=c.length-1;y>=0;--y)c[y].object===v&&c.splice(y,1)}removeInstancesDirect(c,v){for(var y=c.length-1;y>=0;--y)c[y]===v&&c.splice(y,1)}unrollBufferMaterial(c){var v=c.object,y=v.material;if(y.volumetric)c.opaque=null,c.transparent=null,c.volumetric=y;else if(y.transparent){if(c.opaque=null,c.volumetric=null,c.transparent=y,!y.wireframe){var b=y.clone();b.opacity=0,c.blank=b}}else c.opaque=y,c.transparent=null,c.volumetric=null}setBuffers(c,v){var y=c.vertexArray,b=c.colorArray;if(c.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,y,v)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,y,v)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,b,v),c.normalArray&&c.__webglNormalBuffer!==void 0){var C=c.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,C,v)}if(c.radiusArray&&c.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,c.radiusArray,v)),c.faceArray&&c.__webglFaceBuffer!==void 0){var E=c.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,c.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,E,v)}if(c.lineArray&&c.__webglLineBuffer!==void 0){var p=c.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,c.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,p,v)}}createMeshBuffers(c){c.radiusArray&&(c.__webglRadiusBuffer=this._gl.createBuffer()),c.useOffset&&(c.__webglOffsetBuffer=this._gl.createBuffer()),c.__webglVertexBuffer=this._gl.createBuffer(),c.__webglNormalBuffer=this._gl.createBuffer(),c.__webglColorBuffer=this._gl.createBuffer(),c.__webglFaceBuffer=this._gl.createBuffer(),c.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(c){c.__webglVertexBuffer=this._gl.createBuffer(),c.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(c,v,y){c.push({buffer:v,object:y,opaque:null,transparent:null})}setupMatrices(c,v){c._modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,c.matrixWorld),c._normalMatrix.getInverse(c._modelViewMatrix),c._normalMatrix.transpose()}filterFallback(c){return this._gl.LINEAR}setTextureParameters(c,v){c==this._gl.TEXTURE_2D?(this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(v.magFilter)),this._gl.texParameteri(c,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(v.minFilter))):(this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(c,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(c,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(c,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(c,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(c){return c===s.UnsignedByteType?this._gl.UNSIGNED_BYTE:c===s.RGBAFormat?this._gl.RGBA:c===s.NearestFilter?this._gl.NEAREST:0}setupLights(c,v){var y,b,C,E=0,p=0,f=0,D,M,P=this._lights,O=P.directional.colors,z=P.directional.positions,k=0,I=0;for(y=0,b=v.length;y<b;y++)if(C=v[y],D=C.color,M=C.intensity,C instanceof o.Light){if(this._direction.getPositionFromMatrix(C.matrixWorld),this._vector3.getPositionFromMatrix(C.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;z[I]=this._direction.x,z[I+1]=this._direction.y,z[I+2]=this._direction.z,O[I]=D.r*M,O[I+1]=D.g*M,O[I+2]=D.b*M,I+=3,k++}P.ambient[0]=E,P.ambient[1]=p,P.ambient[2]=f,P.directional.length=k}initGL(){try{if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var c=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(c[6])}catch(v){console.error(v)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearColor(0,0,0,1),this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(c,v,y,b,C,E,p,O){var D,M,P,O,z,k,I;v?(z=c.length-1,k=-1,I=-1):(z=0,k=c.length,I=1);for(var H=z;H!==k;H+=I)if(D=c[H],D.render){if(M=D.object,P=D.buffer,O=D[y],!O)continue;p&&this.setBlending(!0),this.setDepthTest(O.depthTest),this.setDepthWrite(O.depthWrite),this.setPolygonOffset(O.polygonOffset,O.polygonOffsetFactor,O.polygonOffsetUnits);var Y=M._modelViewMatrix.isReflected();this.setMaterialFaces(O,Y),this.renderBuffer(b,C,E,O,P,M),(this._outlineEnabled||O.outline)&&(O.shaderID=="sphereimposter"?this.renderBuffer(b,C,E,this._outlineSphereImposterMaterial,P,M):O.shaderID=="stickimposter"?this.renderBuffer(b,C,E,this._outlineStickImposterMaterial,P,M):!O.wireframe&&O.shaderID!=="basic"&&O.opacity!==0&&this.renderBuffer(b,C,E,this._outlineMaterial,P,M))}}renderSprites(c,v,y){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(c,v,this._currentWidth,this._currentHeight,y),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpritePlugin:()=>a});var n=r("./src/WebGL/shaders/index.ts");class a{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(u){this.gl=u.context,this.renderer=u,this.precision=u.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var l=0;this.sprite.vertices[l++]=-1,this.sprite.vertices[l++]=-1,this.sprite.vertices[l++]=0,this.sprite.vertices[l++]=0,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=-1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=0,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=-1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=0,this.sprite.vertices[l++]=1,l=0,this.sprite.faces[l++]=0,this.sprite.faces[l++]=1,this.sprite.faces[l++]=2,this.sprite.faces[l++]=0,this.sprite.faces[l++]=2,this.sprite.faces[l++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(n.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};let g={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),g.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),g.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),g.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),g.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),g.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),g.color=this.gl.getUniformLocation(this.sprite.program,"color"),g.map=this.gl.getUniformLocation(this.sprite.program,"map"),g.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),g.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),g.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),g.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),g.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),g.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),g.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),g.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),g.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),g.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),g.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=g}render(u,l,g,h,_){var x,S,w,c,v,y,b,C,E,p;if(!this.gl)throw new Error("WebGLRenderer not initialized");let f=[];(x=u?.__webglSprites)===null||x===void 0||x.forEach(te=>{(_&&te.material.depthTest==!1||!_&&te.material.depthTest)&&f.push(te)});let D=f.length;if(!D)return;let M=this.sprite.attributes,P=this.sprite.uniforms;if(!P)throw new Error("Uniforms not defined");var O=g*.5,z=h*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(M.position),this.gl.enableVertexAttribArray(M.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(M.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(M.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(P.projectionMatrix,!1,l.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(P.map,0);var k=0,I=0,H=u.fog;H?(this.gl.uniform3f(P.fogColor,H.color.r,H.color.g,H.color.b),this.gl.uniform1f(P.fogNear,H.near),this.gl.uniform1f(P.fogFar,H.far),this.gl.uniform1i(P.fogType,1),k=1,I=1):(this.gl.uniform1i(P.fogType,0),k=0,I=0);var Y;let q,G,$,j,V=[];for(Y=0;Y<D;Y++)q=f[Y],G=q.material,G&&(G.depthTest==!1&&!_||!q.visible||G.opacity===0||(G.useScreenCoordinates?q.z=-q.position.z:(q._modelViewMatrix.multiplyMatrices(l.matrixWorldInverse,q.matrixWorld),q.z=-q._modelViewMatrix.elements[14])));for(f.sort(s),Y=0;Y<D;Y++)if(q=f[Y],G=q.material,!!G&&!(!q.visible||G.opacity===0)&&G.map&&G.map.image&&G.map.image.width){this.gl.uniform1f(P?.alphaTest||null,G.alphaTest);var X=G.map.image.width,Q=G.map.image.height;V[0]=X*this.renderer.devicePixelRatio/g,V[1]=Q*this.renderer.devicePixelRatio/h,G.useScreenCoordinates===!0?(this.gl.uniform1i(P.useScreenCoordinates,1),this.gl.uniform3f(P.screenPosition,(q.position.x*this.renderer.devicePixelRatio-O)/O,(z-q.position.y*this.renderer.devicePixelRatio)/z,Math.max(0,Math.min(1,q.position.z)))):(this.gl.uniform1i(P.useScreenCoordinates,0),this.gl.uniformMatrix4fv(P.modelViewMatrix,!1,q._modelViewMatrix.elements)),u.fog&&G.fog?j=I:j=0,k!==j&&(this.gl.uniform1i(P.fogType,j),k=j),$=1/(G.scaleByViewport?h:1),V[0]*=$*q.scale.x,V[1]*=$*q.scale.y;let te=(S=G?.alignment)===null||S===void 0?void 0:S.x,xe=(w=G?.alignment)===null||w===void 0?void 0:w.y;G.screenOffset&&(te=(te||0)+2*G.screenOffset.x/X,xe=(xe||0)+2*G.screenOffset.y/Q),this.gl.uniform2f(P.uvScale,((c=G?.uvScale)===null||c===void 0?void 0:c.x)||1,((v=G?.uvScale)===null||v===void 0?void 0:v.y)||1),this.gl.uniform2f(P.uvOffset,((y=G?.uvOffset)===null||y===void 0?void 0:y.x)||0,((b=G?.uvOffset)===null||b===void 0?void 0:b.y)||0),this.gl.uniform2f(P.alignment,te||0,xe||0),this.gl.uniform1f(P.opacity,G.opacity),this.gl.uniform3f(P.color,((C=G?.color)===null||C===void 0?void 0:C.r)||0,((E=G?.color)===null||E===void 0?void 0:E.g)||0,((p=G?.color)===null||p===void 0?void 0:p.b)||0),this.gl.uniform1f(P.rotation,q.rotation),this.gl.uniform2fv(P.scale,V),this.renderer.setDepthTest(G.depthTest),this.renderer.setDepthWrite(G.depthWrite),this.renderer.setTexture(G.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(u,l){if(!this.gl)throw new Error("WebGL Rendering context not found");var g=this.gl.createProgram();if(!g)throw new Error("Error creating webgl program");var h=this.gl.createShader(this.gl.FRAGMENT_SHADER),_=this.gl.createShader(this.gl.VERTEX_SHADER);if(!h)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!_)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var x="precision "+l+` float;
`;if(this.gl.shaderSource(h,x+u.fragmentShader),this.gl.shaderSource(_,x+u.vertexShader),this.gl.compileShader(h),this.gl.compileShader(_),!this.gl.getShaderParameter(h,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(_,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(h)} 
      ${this.gl.getShaderInfoLog(_)}`);return this.gl.attachShader(g,h),this.gl.attachShader(g,_),this.gl.linkProgram(g),this.gl.getProgramParameter(g,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),g}}function s(o,u){return o.z!==u.z?u.z-o.z:u.id-o.id}},"./src/WebGL/constants/Coloring.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Coloring:()=>n});var n;(function(a){a[a.NoColors=0]="NoColors",a[a.FaceColors=1]="FaceColors",a[a.VertexColors=2]="VertexColors"})(n||(n={}))},"./src/WebGL/constants/Shading.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Shading:()=>n});var n;(function(a){a[a.NoShading=0]="NoShading",a[a.FlatShading=1]="FlatShading",a[a.SmoothShading=2]="SmoothShading"})(n||(n={}))},"./src/WebGL/constants/Sides.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>a,DoubleSide:()=>s,FrontSide:()=>n});let n=0,a=1,s=2},"./src/WebGL/constants/SpriteAlignment.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpriteAlignment:()=>a});var n=r("./src/WebGL/math/index.ts");let a={topLeft:new n.Vector2(1,-1),topCenter:new n.Vector2(0,-1),topRight:new n.Vector2(-1,-1),centerLeft:new n.Vector2(1,0),center:new n.Vector2(0,0),centerRight:new n.Vector2(-1,0),bottomLeft:new n.Vector2(1,1),bottomCenter:new n.Vector2(0,1),bottomRight:new n.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ClampToEdgeWrapping:()=>n,FloatType:()=>l,LinearFilter:()=>a,LinearMipMapLinearFilter:()=>o,NearestFilter:()=>s,R32Format:()=>_,RFormat:()=>h,RGBAFormat:()=>g,UnsignedByteType:()=>u});let n=1001,a=1006,s=1007,o=1008,u=1009,l=1010,g=1021,h=1022,_=1023},"./src/WebGL/constants/TextureOperations.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TextureOperations:()=>n});var n;(function(a){a[a.MultiplyOperation=0]="MultiplyOperation",a[a.MixOperation=1]="MixOperation",a[a.AddOperation=2]="AddOperation"})(n||(n={}))},"./src/WebGL/constants/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>a.BackSide,ClampToEdgeWrapping:()=>u.ClampToEdgeWrapping,Coloring:()=>n.Coloring,DoubleSide:()=>a.DoubleSide,FloatType:()=>u.FloatType,FrontSide:()=>a.FrontSide,LinearFilter:()=>u.LinearFilter,LinearMipMapLinearFilter:()=>u.LinearMipMapLinearFilter,NearestFilter:()=>u.NearestFilter,R32Format:()=>u.R32Format,RFormat:()=>u.RFormat,RGBAFormat:()=>u.RGBAFormat,Shading:()=>s.Shading,SpriteAlignment:()=>o.SpriteAlignment,TextureOperations:()=>l.TextureOperations,UnsignedByteType:()=>u.UnsignedByteType});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Sides.ts"),s=r("./src/WebGL/constants/Shading.ts"),o=r("./src/WebGL/constants/SpriteAlignment.ts"),u=r("./src/WebGL/constants/TextureConstants.ts"),l=r("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{EventDispatcher:()=>n});class n{constructor(){this.listeners={}}dispatchEvent(s){var o=this.listeners[s.type];if(o!==void 0){s.target=this;for(var u=0,l=o.length;u<l;u++)o[u].call(this,s)}}removeEventListener(s,o){if(!o)this.listeners[s]=[];else{var u=this.listeners[s].indexOf(o);u!==-1&&this.listeners[s].splice(u,1)}}addEventListener(s,o){this.listeners[s]===void 0&&(this.listeners[s]=[]),this.listeners[s].indexOf(o)===-1&&this.listeners[s].push(o)}}},"./src/WebGL/core/Geometry.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Geometry:()=>g,GeometryGroup:()=>l,GeometryIDCount:()=>h});var n=r("./src/WebGL/materials/LineBasicMaterial.ts"),a=r("./src/WebGL/core/EventDispatcher.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts");let u=65535;class l{constructor(x=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=x}setColors(x){var S=this.vertexArray,w=this.colorArray;if(!S)throw new Error("vertex array not initialized");if(!w)throw new Error("color array not initialized");if(S.length!=w.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var c=0;c<S.length;c+=3){var v=x(S[c],S[c+1],S[c+2]);v instanceof o.Color||(v=o.CC.color(v)),w[c]=v.r,w[c+1]=v.g,w[c+2]=v.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var x=new s.Vector3,S,w,c,v,y=0;y<this.vertices;++y)S=y*3,w=this.vertexArray[S],c=this.vertexArray[S+1],v=this.vertexArray[S+2],x.x+=w,x.y+=c,x.z+=v;return x.divideScalar(this.vertices),x}setNormals(){var x=this.faceArray,S=this.vertexArray,w=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!x)throw new Error("face array not initialized");if(!S)throw new Error("vertex array not initialized");if(!w)throw new Error("normal array not initialized");for(var c,v,y,b,C,E,p,f=0;f<x.length/3;++f)c=x[f*3]*3,v=x[f*3+1]*3,y=x[f*3+2]*3,b=new s.Vector3(S[c],S[c+1],S[c+2]),C=new s.Vector3(S[v],S[v+1],S[v+2]),E=new s.Vector3(S[y],S[y+1],S[y+2]),b.subVectors(b,C),E.subVectors(E,C),E.cross(b),p=E,p.normalize(),w[c]+=p.x,w[v]+=p.x,w[y]+=p.x,w[c+1]+=p.y,w[v+1]+=p.y,w[y+1]+=p.y,w[c+2]+=p.z,w[v+2]+=p.z,w[y+2]+=p.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var x=this.faceArray,S=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!x)throw new Error("face array not initialized");for(var w=0;w<this.faceidx/3;++w){var c=w*3,v=c*2,y=x[c],b=x[c+1],C=x[c+2];S[v]=y,S[v+1]=b,S[v+2]=y,S[v+3]=C,S[v+4]=b,S[v+5]=C}}}vrml(x,S){var w,c,v,y,b,C,E,p,f,D,M,P,O,z,k,I="";I+=x+`Shape {
`+x+` appearance Appearance {
`+x+`  material Material {
`+x+"   diffuseColor "+((w=S?.color)===null||w===void 0?void 0:w.r)+" "+((c=S?.color)===null||c===void 0?void 0:c.g)+" "+((v=S?.color)===null||v===void 0?void 0:v.b)+`
`,S?.transparent&&(I+=x+"   transparency "+(1-S.opacity)+`
`),I+=x+`  }
`,I+=x+` }
`;var H=x;if(x+=" ",S instanceof n.LineBasicMaterial){I+=x+`geometry IndexedLineSet {
`+x+` colorPerVertex TRUE
`+x+` coord Coordinate {
`+x+`  point [
`;let q,G,$;for(let j=0;j<this.vertices;++j){let V=j*3;q=(y=this.vertexArray)===null||y===void 0?void 0:y[V],G=(b=this.vertexArray)===null||b===void 0?void 0:b[V+1],$=(C=this.vertexArray)===null||C===void 0?void 0:C[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}if(I+=x+`  ]
`,I+=x+` }
`,this.colorArray){I+=x+` color Color {
`+x+`  color [
`;for(let j=0;j<this.vertices;++j){let V=j*3;q=this.colorArray[V],G=this.colorArray[V+1],$=this.colorArray[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}I+=x+`  ]
`,I+=x+` }
`}I+=x+` coordIndex [
`;for(let j=0;j<this.vertices;j+=2)I+=x+"  "+j+", "+(j+1)+`, -1,
`;I+=x+` ]
`,I+=x+`}
`}else{I+=x+`geometry IndexedFaceSet {
`+x+` colorPerVertex TRUE
`+x+` normalPerVertex TRUE
`+x+` solid FALSE
`,I+=x+` coord Coordinate {
`+x+`  point [
`;let q,G,$;for(let j=0;j<this.vertices;++j){let V=j*3;q=(E=this.vertexArray)===null||E===void 0?void 0:E[V],G=(p=this.vertexArray)===null||p===void 0?void 0:p[V+1],$=(f=this.vertexArray)===null||f===void 0?void 0:f[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}I+=x+`  ]
`,I+=x+` }
`,I+=x+` normal Normal {
`+x+`  vector [
`;for(let j=0;j<this.vertices;++j){let V=j*3;q=(D=this.normalArray)===null||D===void 0?void 0:D[V],G=(M=this.normalArray)===null||M===void 0?void 0:M[V+1],$=(P=this.normalArray)===null||P===void 0?void 0:P[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}if(I+=x+`  ]
`,I+=x+` }
`,this.colorArray){I+=x+` color Color {
`+x+`  color [
`;for(let j=0;j<this.vertices;++j){let V=j*3;q=this.colorArray[V],G=this.colorArray[V+1],$=this.colorArray[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}I+=x+`  ]
`,I+=x+` }
`}I+=x+` coordIndex [
`;for(var Y=0;Y<this.faceidx;Y+=3)q=(O=this.faceArray)===null||O===void 0?void 0:O[Y],G=(z=this.faceArray)===null||z===void 0?void 0:z[Y+1],$=(k=this.faceArray)===null||k===void 0?void 0:k[Y+2],I+=x+"  "+q+", "+G+", "+$+`, -1,
`;I+=x+` ]
`,I+=x+`}
`}return I+=H+"}",I}truncateArrayBuffers(x=!0,S=!1){var w=this.vertexArray,c=this.colorArray,v=this.normalArray,y=this.faceArray,b=this.lineArray,C=this.radiusArray;this.vertexArray=w?.subarray(0,this.vertices*3)||null,this.colorArray=c?.subarray(0,this.vertices*3)||null,x?(this.normalArray=v?.subarray(0,this.vertices*3)||null,this.faceArray=y?.subarray(0,this.faceidx)||null,this.lineidx>0?this.lineArray=b?.subarray(0,this.lineidx)||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),C&&(this.radiusArray=C.subarray(0,this.vertices)),S&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class g extends a.EventDispatcher{constructor(x=!1,S=!1,w=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=h++,this.mesh=x,this.radii=S,this.offset=w}updateGeoGroup(x=0){var S,w=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!w||w.vertices+x>(((S=w?.vertexArray)===null||S===void 0?void 0:S.length)||0)/3)&&(w=this.addGeoGroup()),w}vrml(x,S){for(var w="",c=this.geometryGroups.length,v=0;v<c;v++){var y=this.geometryGroups[v];w+=y.vrml(x,S)+`,
`}return w}addGeoGroup(){var x=new l(this.geometryGroups.length);return this.geometryGroups.push(x),this.groups=this.geometryGroups.length,x.vertexArray=new Float32Array(u*3),x.colorArray=new Float32Array(u*3),this.mesh&&(x.normalArray=new Float32Array(u*3),x.faceArray=new Uint16Array(u*6),x.lineArray=new Uint16Array(u*6)),this.radii&&(x.radiusArray=new Float32Array(u)),x.useOffset=this.offset,x}setUpNormals(...x){for(var S=0;S<this.groups;S++){var w=this.geometryGroups[S];w.setNormals(...x)}}setColors(...x){for(var S=this.geometryGroups.length,w=0;w<S;w++){var c=this.geometryGroups[w];c.setColors(...x)}}setUpWireframe(...x){for(var S=0;S<this.groups;S++){var w=this.geometryGroups[S];w.setLineIndices(...x)}}initTypedArrays(){for(var x=0;x<this.groups;x++){var S=this.geometryGroups[x];S.__inittedArrays!==!0&&S.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var x=0,S=0;S<this.groups;S++)x+=this.geometryGroups[S].vertices;return x}}let h=0},"./src/WebGL/core/Object3D.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Light:()=>l,Object3D:()=>o,Object3DIDCount:()=>s,Scene:()=>u});var n=r("./src/WebGL/math/index.ts"),a=r("./src/colors.ts");let s=0;class o{constructor(){this.id=s++,this.name="",this.children=[],this.position=new n.Vector3,this.rotation=new n.Vector3,this.matrix=new n.Matrix4,this.matrixWorld=new n.Matrix4,this.quaternion=new n.Quaternion,this.eulerOrder="XYZ",this.up=new n.Vector3(0,1,0),this.scale=new n.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(h){this.matrix.lookAt(h,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof n.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(h){if(h===this){console.error("Can't add $3Dmol.Object3D to itself");return}h.parent=this,this.children.push(h);for(var _=this;_.parent!==void 0;)_=_.parent;_!==void 0&&_ instanceof u&&_.__addObject(h)}remove(h){var _=this.children.indexOf(h);if(_!==-1){h.parent=void 0,this.children.splice(_,1);for(var x=this;x.parent!==void 0;)x=x.parent;x!==void 0&&x instanceof u&&x.__removeObject(h)}}vrml(h){h||(h=" ");var _=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),x=0,S=0,w=0;if(_!=0){let y=Math.sin(_/2);x=this.quaternion.x/y,S=this.quaternion.y/y,w=this.quaternion.z/y}var c=h+`Transform {
`+h+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+h+" rotation "+x+" "+S+" "+w+" "+_+`
`+h+` children [
`;this.geometry&&(c+=this.geometry.vrml(h,this.material));for(var v=0;v<this.children.length;v++)c+=this.children[v].vrml(h+" ")+`,
`;return c+=` ]
`,c+="}",c}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof n.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(h){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||h===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var _=0;_<this.children.length;_++)this.children[_].updateMatrixWorld(!0)}clone(h){h===void 0&&(h=new o),h.name=this.name,h.up.copy(this.up),h.position.copy(this.position),h.rotation instanceof n.Vector3&&this.rotation instanceof n.Vector3?h.rotation.copy(this.rotation):h.rotation=this.rotation,h.eulerOrder=this.eulerOrder,h.scale.copy(this.scale),h.rotationAutoUpdate=this.rotationAutoUpdate,h.matrix.copy(this.matrix),h.matrixWorld.copy(this.matrixWorld),h.quaternion.copy(this.quaternion),h.matrixAutoUpdate=this.matrixAutoUpdate,h.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,h.useQuaternion=this.useQuaternion,h.visible=this.visible;for(var _=0;_<this.children.length;_++){var x=this.children[_];h.add(x.clone())}return h}setVisible(h){this.visible=h;for(var _=0;_<this.children.length;_++){var x=this.children[_];x.setVisible(h)}}}class u extends o{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(h){if(h instanceof l)this.__lights.indexOf(h)===-1&&this.__lights.push(h),h.target&&h.target.parent===void 0&&this.add(h.target);else if(this.__objects.indexOf(h)===-1){this.__objects.push(h),this.__objectsAdded.push(h);var _=this.__objectsRemoved.indexOf(h);_!==-1&&this.__objectsRemoved.splice(_,1)}for(var x=0;x<h.children.length;x++)this.__addObject(h.children[x])}__removeObject(h){var _;if(h instanceof l)_=this.__lights.indexOf(h),_!==-1&&this.__lights.splice(_,1);else if(_=this.__objects.indexOf(h),_!==-1){this.__objects.splice(_,1),this.__objectsRemoved.push(h);var x=this.__objectsAdded.indexOf(h);x!==-1&&this.__objectsAdded.splice(_,1)}for(var S=0;S<h.children.length;S++)this.__removeObject(h.children[S])}}class l extends o{constructor(h,_=1){super(),this.position=new n.Vector3(0,1,0),this.target=new o,this.castShadow=!1,this.onlyShadow=!1,this.color=new a.Color(h),this.intensity=_}}},"./src/WebGL/core/Projector.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Projector:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Matrix4;class s{static unprojectVector(u,l){return l.projectionMatrixInverse.getInverse(l.projectionMatrix),a.multiplyMatrices(l.matrixWorld,l.projectionMatrixInverse),u.applyProjection(a)}static projectVector(u,l){return l.matrixWorldInverse.getInverse(l.matrixWorld),a.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),u.applyProjection(a)}projectVector(u,l){return s.projectVector(u,l)}unprojectVector(u,l){return s.unprojectVector(u,l)}}},"./src/WebGL/core/Raycaster.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Raycaster:()=>u,intersectObject:()=>y});var n=r("./src/WebGL/math/index.ts"),a=r("./src/WebGL/shapes/index.ts");let s=(b,C)=>b.distance-C.distance,o=new n.Matrix4;class u{constructor(C,E,p,f){this.precision=1e-4,this.linePrecision=.2,this.ray=new n.Ray(C,E),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=f||0,this.far=p||1/0}set(C,E){this.ray.set(C,E)}setFromCamera(C,E){E.ortho?(this.ray.origin.set(C.x,C.y,(E.near+E.far)/(E.near-E.far)).unproject(E),this.ray.direction.set(0,0,-1).transformDirection(E.matrixWorld)):(this.ray.origin.setFromMatrixPosition(E.matrixWorld),this.ray.direction.set(C.x,C.y,C.z),E.projectionMatrixInverse.getInverse(E.projectionMatrix),o.multiplyMatrices(E.matrixWorld,E.projectionMatrixInverse),this.ray.direction.applyProjection(o),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(C,E){for(var p=[],f=0,D=E.length;f<D;f++)y(C,E[f],this,p);return p.sort(s),p}}let l=b=>Math.min(Math.max(b,-1),1);var g=new a.Sphere,h=new a.Cylinder,_=new a.Triangle,x=new n.Vector3,S=new n.Vector3,w=new n.Vector3,c=new n.Vector3,v=new n.Vector3;function y(b,C,E,p){if(v.getPositionFromMatrix(b.matrixWorld),C.intersectionShape===void 0)return p;var f=C.intersectionShape,D=E.linePrecision;D*=b.matrixWorld.getMaxScaleOnAxis();var M=D*D;if(C.boundingSphere!==void 0&&C.boundingSphere instanceof a.Sphere&&(g.copy(C.boundingSphere),g.applyMatrix4(b.matrixWorld),!E.ray.isIntersectionSphere(g)))return p;var P,O,z,k,I,H,Y,q,G,$,j,V,X,Q;for(P=0,O=f.triangle.length;P<O;P++)if(f.triangle[P]instanceof a.Triangle){if(_.copy(f.triangle[P]),_.applyMatrix4(b.matrixWorld),z=_.getNormal(),k=E.ray.direction.dot(z),k>=0||(x.subVectors(_.a,E.ray.origin),Y=z.dot(x)/k,Y<0))continue;S.copy(E.ray.direction).multiplyScalar(Y).add(E.ray.origin),S.sub(_.a),w.copy(_.b).sub(_.a),c.copy(_.c).sub(_.a);var te=w.dot(c),xe=w.lengthSq(),Ne=c.lengthSq();if(V=(xe*S.dot(c)-te*S.dot(w))/(xe*Ne-te*te),V<0||V>1||(j=(S.dot(w)-V*te)/xe,j<0||j>1||j+V>1))continue;p.push({clickable:C,distance:Y})}for(P=0,O=f.cylinder.length;P<O;P++)if(f.cylinder[P]instanceof a.Cylinder){if(h.copy(f.cylinder[P]),h.applyMatrix4(b.matrixWorld),x.subVectors(h.c1,E.ray.origin),I=x.dot(h.direction),H=x.dot(E.ray.direction),k=l(E.ray.direction.dot(h.direction)),G=1-k*k,G===0)continue;X=(k*H-I)/G,Q=(H-k*I)/G,S.copy(h.direction).multiplyScalar(X).add(h.c1),w.copy(E.ray.direction).multiplyScalar(Q).add(E.ray.origin),q=c.subVectors(S,w).lengthSq();var ye=h.radius*h.radius;if(q<=ye){if($=(k*I-H)*(k*I-H)-G*(x.lengthSq()-I*I-ye),$<=0?V=Y=Math.sqrt(q):V=Y=(H-k*I-Math.sqrt($))/G,j=k*V-I,j<0||j*j>h.lengthSq()||V<0)continue;p.push({clickable:C,distance:Y})}}for(P=0,O=f.line.length;P<O;P+=2){S.copy(f.line[P]),S.applyMatrix4(b.matrixWorld),w.copy(f.line[P+1]),w.applyMatrix4(b.matrixWorld),c.subVectors(w,S);var Fe=c.lengthSq();c.normalize(),x.subVectors(S,E.ray.origin);var Me=x.dot(c);H=x.dot(E.ray.direction),k=l(E.ray.direction.dot(c)),G=1-k*k,G!==0&&(X=(k*H-Me)/G,Q=(H-k*Me)/G,S.add(c.multiplyScalar(X)),w.copy(E.ray.direction).multiplyScalar(Q).add(E.ray.origin),q=c.subVectors(w,S).lengthSq(),q<M&&X*X<Fe&&p.push({clickable:C,distance:Q}))}for(P=0,O=f.sphere.length;P<O;P++)if(f.sphere[P]instanceof a.Sphere&&(g.copy(f.sphere[P]),g.applyMatrix4(b.matrixWorld),E.ray.isIntersectionSphere(g))){S.subVectors(g.center,E.ray.origin);var _e=S.dot(E.ray.direction);if($=_e*_e-(S.lengthSq()-g.radius*g.radius),_e<0)return p;$<=0?Y=_e:Y=_e-Math.sqrt($),p.push({clickable:C,distance:Y})}return p}},"./src/WebGL/core/Texture.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Texture:()=>u,TextureIdCount:()=>l});var n=r("./src/WebGL/constants/TextureConstants.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/core/EventDispatcher.ts"),o=r("./src/WebGL/core/UVMapping.ts");class u extends s.EventDispatcher{constructor(h,_){super(),this.id=l++,this.name="",this.image=h,this.mapping=new o.UVMapping,this.wrapS=n.ClampToEdgeWrapping,this.wrapT=n.ClampToEdgeWrapping,this.anisotropy=1,_?(this.format=n.RFormat,this.type=n.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=n.NearestFilter,this.minFilter=n.NearestFilter):(this.format=n.RGBAFormat,this.type=n.UnsignedByteType,this.offset=new a.Vector2(0,0),this.repeat=new a.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=n.LinearFilter,this.minFilter=n.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(h=new u){return h.image=this.image,h.mapping=this.mapping,h.wrapS=this.wrapS,h.wrapT=this.wrapT,h.magFilter=this.magFilter,h.minFilter=this.minFilter,h.anisotropy=this.anisotropy,h.format=this.format,h.type=this.type,h.offset.copy(this.offset),h.repeat.copy(this.repeat),h.premultiplyAlpha=this.premultiplyAlpha,h.flipY=this.flipY,h.unpackAlignment=this.unpackAlignment,h}dispose(){this.dispatchEvent({type:"dispose"})}}let l=0},"./src/WebGL/core/UVMapping.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{UVMapping:()=>n});class n{}},"./src/WebGL/core/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{EventDispatcher:()=>n.EventDispatcher,Geometry:()=>a.Geometry,GeometryGroup:()=>a.GeometryGroup,GeometryIDCount:()=>a.GeometryIDCount,Light:()=>s.Light,Object3D:()=>s.Object3D,Object3DIDCount:()=>s.Object3DIDCount,Projector:()=>o.Projector,Raycaster:()=>u.Raycaster,Scene:()=>s.Scene,Texture:()=>l.Texture,TextureIdCount:()=>l.TextureIdCount,UVMapping:()=>g.UVMapping,intersectObject:()=>u.intersectObject});var n=r("./src/WebGL/core/EventDispatcher.ts"),a=r("./src/WebGL/core/Geometry.ts"),s=r("./src/WebGL/core/Object3D.ts"),o=r("./src/WebGL/core/Projector.ts"),u=r("./src/WebGL/core/Raycaster.ts"),l=r("./src/WebGL/core/Texture.ts"),g=r("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>n.BackSide,Camera:()=>h.Camera,ClampToEdgeWrapping:()=>n.ClampToEdgeWrapping,Coloring:()=>n.Coloring,Cylinder:()=>g.Cylinder,DoubleSide:()=>n.DoubleSide,EventDispatcher:()=>a.EventDispatcher,FloatType:()=>n.FloatType,Fog:()=>_.Fog,FrontSide:()=>n.FrontSide,Geometry:()=>a.Geometry,GeometryGroup:()=>a.GeometryGroup,GeometryIDCount:()=>a.GeometryIDCount,ImposterMaterial:()=>s.ImposterMaterial,InstancedMaterial:()=>s.InstancedMaterial,Light:()=>a.Light,Line:()=>u.Line,LineBasicMaterial:()=>s.LineBasicMaterial,LineStyle:()=>u.LineStyle,LinearFilter:()=>n.LinearFilter,LinearMipMapLinearFilter:()=>n.LinearMipMapLinearFilter,Material:()=>s.Material,MaterialIdCount:()=>s.MaterialIdCount,Matrix3:()=>o.Matrix3,Matrix4:()=>o.Matrix4,Mesh:()=>u.Mesh,MeshDoubleLambertMaterial:()=>s.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>s.MeshLambertMaterial,MeshOutlineMaterial:()=>s.MeshOutlineMaterial,NearestFilter:()=>n.NearestFilter,Object3D:()=>a.Object3D,Object3DIDCount:()=>a.Object3DIDCount,Projector:()=>a.Projector,Quaternion:()=>o.Quaternion,R32Format:()=>n.R32Format,RFormat:()=>n.RFormat,RGBAFormat:()=>n.RGBAFormat,Ray:()=>o.Ray,Raycaster:()=>a.Raycaster,Renderer:()=>x.Renderer,Scene:()=>a.Scene,ShaderLib:()=>l.ShaderLib,ShaderUtils:()=>l.ShaderUtils,Shading:()=>n.Shading,Sphere:()=>g.Sphere,SphereImposterMaterial:()=>s.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>s.SphereImposterOutlineMaterial,Sprite:()=>u.Sprite,SpriteAlignment:()=>n.SpriteAlignment,SpriteMaterial:()=>s.SpriteMaterial,SpritePlugin:()=>S.SpritePlugin,StickImposterMaterial:()=>s.StickImposterMaterial,StickImposterOutlineMaterial:()=>s.StickImposterOutlineMaterial,Texture:()=>a.Texture,TextureIdCount:()=>a.TextureIdCount,TextureOperations:()=>n.TextureOperations,Triangle:()=>g.Triangle,UVMapping:()=>a.UVMapping,UnsignedByteType:()=>n.UnsignedByteType,Vector2:()=>o.Vector2,Vector3:()=>o.Vector3,VolumetricMaterial:()=>s.VolumetricMaterial,basic:()=>l.basic,clamp:()=>o.clamp,clone:()=>l.clone,conversionMatrix3:()=>o.conversionMatrix3,degToRad:()=>o.degToRad,instanced:()=>l.instanced,intersectObject:()=>a.intersectObject,lambert:()=>l.lambert,lambertdouble:()=>l.lambertdouble,outline:()=>l.outline,screen:()=>l.screen,screenaa:()=>l.screenaa,sphereimposter:()=>l.sphereimposter,sphereimposteroutline:()=>l.sphereimposteroutline,sprite:()=>l.sprite,stickimposter:()=>l.stickimposter,stickimposteroutline:()=>l.stickimposteroutline,volumetric:()=>l.volumetric});var n=r("./src/WebGL/constants/index.ts"),a=r("./src/WebGL/core/index.ts"),s=r("./src/WebGL/materials/index.ts"),o=r("./src/WebGL/math/index.ts"),u=r("./src/WebGL/objects/index.ts"),l=r("./src/WebGL/shaders/index.ts"),g=r("./src/WebGL/shapes/index.ts"),h=r("./src/WebGL/Camera.ts"),_=r("./src/WebGL/Fog.ts"),x=r("./src/WebGL/Renderer.ts"),S=r("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ImposterMaterial:()=>l});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),u=r("./src/WebGL/materials/Material.ts");class l extends u.Material{constructor(h){super(),this.color=new s.Color(16777215),this.ambient=new s.Color(1048575),this.emissive=new s.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new o.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID=null,this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(h)}clone(h=new l){return super.clone.call(this,h),h.color.copy(this.color),h.ambient.copy(this.ambient),h.emissive.copy(this.emissive),h.wrapAround=this.wrapAround,h.wrapRGB.copy(this.wrapRGB),h.map=this.map,h.lightMap=this.lightMap,h.specularMap=this.specularMap,h.envMap=this.envMap,h.combine=this.combine,h.reflectivity=this.reflectivity,h.refractionRatio=this.refractionRatio,h.fog=this.fog,h.shading=this.shading,h.shaderID=this.shaderID,h.vertexColors=this.vertexColors,h.skinning=this.skinning,h.morphTargets=this.morphTargets,h.morphNormals=this.morphNormals,h}}},"./src/WebGL/materials/InstancedMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstancedMaterial:()=>l});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),u=r("./src/WebGL/materials/Material.ts");class l extends u.Material{constructor(h){super(),this.color=new s.Color(16777215),this.ambient=new s.Color(1048575),this.emissive=new s.Color(0),this.wrapAround=!1,this.wrapRGB=new o.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(h)}clone(h=new l){return super.clone.call(this,h),h.color.copy(this.color),h.ambient.copy(this.ambient),h.emissive.copy(this.emissive),h.wrapAround=this.wrapAround,h.wrapRGB.copy(this.wrapRGB),h.map=this.map,h.lightMap=this.lightMap,h.specularMap=this.specularMap,h.envMap=this.envMap,h.combine=this.combine,h.reflectivity=this.reflectivity,h.refractionRatio=this.refractionRatio,h.fog=this.fog,h.shading=this.shading,h.shaderID=this.shaderID,h.vertexColors=this.vertexColors,h.skinning=this.skinning,h.morphTargets=this.morphTargets,h.morphNormals=this.morphNormals,h.sphere=this.sphere,h}}},"./src/WebGL/materials/LineBasicMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{LineBasicMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/Material.ts");class s extends a.Material{constructor(u){super(),this.color=new n.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(u)}clone(u=new s){return super.clone.call(this,u),u.color.copy(this.color),u}}},"./src/WebGL/materials/Material.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Material:()=>u,MaterialIdCount:()=>l});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/WebGL/core/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts");class u extends a.EventDispatcher{constructor(){super(...arguments),this.id=l++,this.name="",this.side=n.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.stencilTest=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1}setValues(h={}){if(h!==void 0)for(var _ in h){var x=h[_];if(x===void 0){console.warn("$3Dmol.Material: '"+_+"' parameter is undefined.");continue}if(_ in this){var S=this[_];S instanceof o.Color&&x instanceof o.Color?S.copy(x):S instanceof o.Color?S.set(x):S instanceof s.Vector3&&x instanceof s.Vector3?S.copy(x):this[_]=x}}}clone(h=new u){return h.name=this.name,h.side=this.side,h.opacity=this.opacity,h.transparent=this.transparent,h.depthTest=this.depthTest,h.depthWrite=this.depthWrite,h.stencilTest=this.stencilTest,h.polygonOffset=this.polygonOffset,h.polygonOffsetFactor=this.polygonOffsetFactor,h.polygonOffsetUnits=this.polygonOffsetUnits,h.alphaTest=this.alphaTest,h.overdraw=this.overdraw,h.visible=this.visible,h}dispose(){this.dispatchEvent({type:"dispose"})}}let l=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshDoubleLambertMaterial:()=>s});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/WebGL/materials/MeshLambertMaterial.ts");class s extends a.MeshLambertMaterial{constructor(u){super(u),this.shaderID="lambertdouble",this.side=n.DoubleSide,this.outline=!1}clone(u=new s){return super.clone.call(this,u),u}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshLambertMaterial:()=>l});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/WebGL/materials/Material.ts"),o=r("./src/colors.ts"),u=r("./src/WebGL/math/index.ts");class l extends s.Material{constructor(h){super(),this.color=new o.Color(16777215),this.ambient=new o.Color(1048575),this.emissive=new o.Color(0),this.wrapAround=!1,this.wrapRGB=new u.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(h)}clone(h=new l){return super.clone.call(this,h),h.color.copy(this.color),h.ambient.copy(this.ambient),h.emissive.copy(this.emissive),h.wrapAround=this.wrapAround,h.wrapRGB.copy(this.wrapRGB),h.map=this.map,h.lightMap=this.lightMap,h.specularMap=this.specularMap,h.envMap=this.envMap,h.combine=this.combine,h.reflectivity=this.reflectivity,h.refractionRatio=this.refractionRatio,h.fog=this.fog,h.shading=this.shading,h.shaderID=this.shaderID,h.vertexColors=this.vertexColors,h.skinning=this.skinning,h.morphTargets=this.morphTargets,h.morphNormals=this.morphNormals,h}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/Material.ts");class s extends a.Material{constructor(u){super(),u=u||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=u.color||new n.Color(0,0,0),this.outlineWidth=u.width||.1,this.outlinePushback=u.pushback||1}clone(u=new s){return super.clone.call(this,u),u.fog=this.fog,u.shaderID=this.shaderID,u.wireframe=this.wireframe,u}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SphereImposterMaterial:()=>a});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class a extends n.ImposterMaterial{constructor(o){super(o),this.shaderID="sphereimposter",this.setValues(o)}clone(o=new a){return super.clone.call(this,o),o}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SphereImposterOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/ImposterMaterial.ts");class s extends a.ImposterMaterial{constructor(u){super(u),u=u||{},this.shaderID="sphereimposteroutline",this.outlineColor=u.color||new n.Color(0,0,0),this.outlineWidth=u.width||.1,this.outlinePushback=u.pushback||1,this.setValues(u)}clone(u=new s){return super.clone.call(this,u),u.outlineColor=this.outlineColor,u.outlineWidth=this.outlineWidth,u.outlinePushback=this.outlinePushback,u}}},"./src/WebGL/materials/SpriteMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpriteMaterial:()=>l});var n=r("./src/WebGL/constants/SpriteAlignment.ts"),a=r("./src/WebGL/core/Texture.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),u=r("./src/WebGL/materials/Material.ts");class l extends u.Material{constructor(h){super(),this.color=new s.Color(16777215),this.map=new a.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new o.Vector2(0,0),this.uvScale=new o.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=n.SpriteAlignment.center.clone(),this.setValues(h),h=h||{},h.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),h.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),h.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(h=new l){return super.clone.call(this,h),h.color.copy(this.color),h.map=this.map,h.useScreenCoordinates=this.useScreenCoordinates,h.screenOffset=this.screenOffset,h.sizeAttenuation=this.sizeAttenuation,h.scaleByViewport=this.scaleByViewPort,h.alignment.copy(this.alignment),h.uvOffset.copy(this.uvOffset),h}}},"./src/WebGL/materials/StickImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StickImposterMaterial:()=>a});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class a extends n.ImposterMaterial{constructor(o){super(o),this.shaderID="stickimposter",this.setValues(o)}clone(o=new a){return super.clone.call(this,o),o}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StickImposterOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/ImposterMaterial.ts");class s extends a.ImposterMaterial{constructor(u={}){super(u),this.shaderID="stickimposteroutline",this.outlineColor=new n.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,u.color&&(this.outlineColor=u.color),u.width&&(this.outlineWidth=u.width),u.pushback&&(this.outlinePushback=u.pushback),this.setValues(u)}clone(u=new s){return super.clone.call(this,u),u.outlineColor=this.outlineColor,u.outlineWidth=this.outlineWidth,u.outlinePushback=this.outlinePushback,u}}},"./src/WebGL/materials/VolumetricMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VolumetricMaterial:()=>o});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/colors.ts"),s=r("./src/WebGL/materials/Material.ts");class o extends s.Material{constructor(l){super(),this.transparent=!1,this.volumetric=!0,this.color=new a.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=n.FrontSide,this.setValues(l)}clone(l=new o){return super.clone.call(this,l),l.transparent=this.transparent,l.volumetric=this.volumetric,l.color=this.color,l.transferfn=this.transferfn,l.map=this.map,l.extent=this.extent,l.maxdepth=this.maxdepth,l.unit=this.unit,l.texmatrix=this.texmatrix,l.transfermin=this.transfermin,l.transfermax=this.transfermax,l.subsamples=this.subsamples,l.shaderID=this.shaderID,l.side=this.side,l}}},"./src/WebGL/materials/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ImposterMaterial:()=>n.ImposterMaterial,InstancedMaterial:()=>a.InstancedMaterial,LineBasicMaterial:()=>s.LineBasicMaterial,Material:()=>o.Material,MaterialIdCount:()=>o.MaterialIdCount,MeshDoubleLambertMaterial:()=>u.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>l.MeshLambertMaterial,MeshOutlineMaterial:()=>g.MeshOutlineMaterial,SphereImposterMaterial:()=>h.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>_.SphereImposterOutlineMaterial,SpriteMaterial:()=>x.SpriteMaterial,StickImposterMaterial:()=>S.StickImposterMaterial,StickImposterOutlineMaterial:()=>w.StickImposterOutlineMaterial,VolumetricMaterial:()=>c.VolumetricMaterial});var n=r("./src/WebGL/materials/ImposterMaterial.ts"),a=r("./src/WebGL/materials/InstancedMaterial.ts"),s=r("./src/WebGL/materials/LineBasicMaterial.ts"),o=r("./src/WebGL/materials/Material.ts"),u=r("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),l=r("./src/WebGL/materials/MeshLambertMaterial.ts"),g=r("./src/WebGL/materials/MeshOutlineMaterial.ts"),h=r("./src/WebGL/materials/SphereImposterMaterial.ts"),_=r("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),x=r("./src/WebGL/materials/SpriteMaterial.ts"),S=r("./src/WebGL/materials/StickImposterMaterial.ts"),w=r("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),c=r("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Quaternion:()=>n});class n{constructor(s,o,u,l){this.x=s||0,this.y=o||0,this.z=u||0,this.w=l!==void 0?l:1}set(s,o,u,l){return this.x=s,this.y=o,this.z=u,this.w=l,this}copy(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let s=this.length();return s===0?(this.x=0,this.y=0,this.z=0,this.w=1):(s=1/s,this.x*=s,this.y*=s,this.z*=s,this.w*=s),this}multiply(s){return this.multiplyQuaternions(this,s)}multiplyScalar(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this}multiplyQuaternions(s,o){let u=s.x,l=s.y,g=s.z,h=s.w,_=o.x,x=o.y,S=o.z,w=o.w;return this.x=u*w+h*_+l*S-g*x,this.y=l*w+h*x+g*_-u*S,this.z=g*w+h*S+u*x-l*_,this.w=h*w-u*_-l*x-g*S,this}sub(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this.w-=s.w,this}clone(){return new n(this.x,this.y,this.z,this.w)}setFromEuler(s){let o=Math.cos(s.x/2),u=Math.cos(s.y/2),l=Math.cos(s.z/2),g=Math.sin(s.x/2),h=Math.sin(s.y/2),_=Math.sin(s.z/2);return this.x=g*u*l+o*h*_,this.y=o*h*l-g*u*_,this.z=o*u*_+g*h*l,this.w=o*u*l-g*h*_,this}}},"./src/WebGL/math/Vector2.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Vector2:()=>n});class n{constructor(s,o){this.x=s||0,this.y=o||0}set(s,o){return this.x=s,this.y=o,this}subVectors(s,o){return this.x=s.x-o.x,this.y=s.y-o.y,this}copy(s){return this.x=s.x,this.y=s.y,this}clone(){return new n(this.x,this.y)}}},"./src/WebGL/math/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Matrix3:()=>l.Matrix3,Matrix4:()=>l.Matrix4,Quaternion:()=>n.Quaternion,Ray:()=>l.Ray,Vector2:()=>a.Vector2,Vector3:()=>l.Vector3,clamp:()=>s.clamp,conversionMatrix3:()=>o.conversionMatrix3,degToRad:()=>u.degToRad});var n=r("./src/WebGL/math/Quaternion.ts"),a=r("./src/WebGL/math/Vector2.ts"),s=r("./src/WebGL/math/utils/clamp.ts"),o=r("./src/WebGL/math/utils/conversionMatrix3.ts"),u=r("./src/WebGL/math/utils/degToRad.ts"),l=r("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Matrix3:()=>x,Matrix4:()=>h,Ray:()=>S,Vector3:()=>_});var n=r("./src/WebGL/math/utils/degToRad.ts"),a=r("./src/WebGL/math/utils/clamp.ts"),s,o,u,l,g;class h{constructor(c=1,v=0,y=0,b=0,C=0,E=1,p=0,f=0,D=0,M=0,P=1,O=0,z=0,k=0,I=0,H=1){typeof c<"u"&&typeof c!="number"?this.elements=new Float32Array(c):(this.elements=new Float32Array(16),this.elements[0]=c,this.elements[4]=v,this.elements[8]=y,this.elements[12]=b,this.elements[1]=C,this.elements[5]=E,this.elements[9]=p,this.elements[13]=f,this.elements[2]=D,this.elements[6]=M,this.elements[10]=P,this.elements[14]=O,this.elements[3]=z,this.elements[7]=k,this.elements[11]=I,this.elements[15]=H)}makeScale(c,v,y){throw new Error("Method not implemented.")}set(c,v,y,b,C,E,p,f,D,M,P,O,z,k,I,H){let Y=this.elements;return Y[0]=c,Y[4]=v,Y[8]=y,Y[12]=b,Y[1]=C,Y[5]=E,Y[9]=p,Y[13]=f,Y[2]=D,Y[6]=M,Y[10]=P,Y[14]=O,Y[3]=z,Y[7]=k,Y[11]=I,Y[15]=H,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(c){let v=c.elements;return this.set(v[0],v[4],v[8],v[12],v[1],v[5],v[9],v[13],v[2],v[6],v[10],v[14],v[3],v[7],v[11],v[15]),this}matrix3FromTopLeft(){let c=this.elements;return new x(c[0],c[4],c[8],c[1],c[5],c[9],c[2],c[6],c[10])}setRotationFromEuler(c,v){let y=this.elements,{x:b,y:C,z:E}=c,p=Math.cos(b),f=Math.sin(b),D=Math.cos(C),M=Math.sin(C),P=Math.cos(E),O=Math.sin(E);if(v===void 0||v==="XYZ"){let z=p*P,k=p*O,I=f*P,H=f*O;y[0]=D*P,y[4]=-D*O,y[8]=M,y[1]=k+I*M,y[5]=z-H*M,y[9]=-f*D,y[2]=H-z*M,y[6]=I+k*M,y[10]=p*D}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${v}`);return this}setRotationFromQuaternion(c){let v=this.elements,{x:y,y:b,z:C,w:E}=c,p=y+y,f=b+b,D=C+C,M=y*p,P=y*f,O=y*D,z=b*f,k=b*D,I=C*D,H=E*p,Y=E*f,q=E*D;return v[0]=1-(z+I),v[4]=P-q,v[8]=O+Y,v[1]=P+q,v[5]=1-(M+I),v[9]=k-H,v[2]=O-Y,v[6]=k+H,v[10]=1-(M+z),this}multiplyMatrices(c,v){let y=c.elements,b=v.elements,C=this.elements,E=y[0],p=y[4],f=y[8],D=y[12],M=y[1],P=y[5],O=y[9],z=y[13],k=y[2],I=y[6],H=y[10],Y=y[14],q=y[3],G=y[7],$=y[11],j=y[15],V=b[0],X=b[4],Q=b[8],te=b[12],xe=b[1],Ne=b[5],ye=b[9],Fe=b[13],Me=b[2],_e=b[6],Qe=b[10],Xe=b[14],R=b[3],pe=b[7],ve=b[11],ie=b[15];return C[0]=E*V+p*xe+f*Me+D*R,C[4]=E*X+p*Ne+f*_e+D*pe,C[8]=E*Q+p*ye+f*Qe+D*ve,C[12]=E*te+p*Fe+f*Xe+D*ie,C[1]=M*V+P*xe+O*Me+z*R,C[5]=M*X+P*Ne+O*_e+z*pe,C[9]=M*Q+P*ye+O*Qe+z*ve,C[13]=M*te+P*Fe+O*Xe+z*ie,C[2]=k*V+I*xe+H*Me+Y*R,C[6]=k*X+I*Ne+H*_e+Y*pe,C[10]=k*Q+I*ye+H*Qe+Y*ve,C[14]=k*te+I*Fe+H*Xe+Y*ie,C[3]=q*V+G*xe+$*Me+j*R,C[7]=q*X+G*Ne+$*_e+j*pe,C[11]=q*Q+G*ye+$*Qe+j*ve,C[15]=q*te+G*Fe+$*Xe+j*ie,this}multiplyScalar(c){let v=this.elements;return v[0]*=c,v[4]*=c,v[8]*=c,v[12]*=c,v[1]*=c,v[5]*=c,v[9]*=c,v[13]*=c,v[2]*=c,v[6]*=c,v[10]*=c,v[14]*=c,v[3]*=c,v[7]*=c,v[11]*=c,v[15]*=c,this}makeTranslation(c,v,y){return this.set(1,0,0,c,0,1,0,v,0,0,1,y,0,0,0,1),this}snap(c){c||(c=4);let v=Math.pow(10,4),y=this.elements;for(let b=0;b<16;b++){let C=Math.round(y[b]);C===Math.round(y[b]*v)/v&&(y[b]=C)}return this}transpose(){let c=this.elements,v;return v=c[1],c[1]=c[4],c[4]=v,v=c[2],c[2]=c[8],c[8]=v,v=c[6],c[6]=c[9],c[9]=v,v=c[3],c[3]=c[12],c[12]=v,v=c[7],c[7]=c[13],c[13]=v,v=c[11],c[11]=c[14],c[14]=v,this}setPosition(c){let v=this.elements;return v[12]=c.x,v[13]=c.y,v[14]=c.z,this}translate(c){let v=this.elements;return v[12]+=c.x,v[13]+=c.y,v[14]+=c.z,this}getInverse(c,v){let y=this.elements,b=c.elements,C=b[0],E=b[4],p=b[8],f=b[12],D=b[1],M=b[5],P=b[9],O=b[13],z=b[2],k=b[6],I=b[10],H=b[14],Y=b[3],q=b[7],G=b[11],$=b[15];y[0]=P*H*q-O*I*q+O*k*G-M*H*G-P*k*$+M*I*$,y[4]=f*I*q-p*H*q-f*k*G+E*H*G+p*k*$-E*I*$,y[8]=p*O*q-f*P*q+f*M*G-E*O*G-p*M*$+E*P*$,y[12]=f*P*k-p*O*k-f*M*I+E*O*I+p*M*H-E*P*H,y[1]=O*I*Y-P*H*Y-O*z*G+D*H*G+P*z*$-D*I*$,y[5]=p*H*Y-f*I*Y+f*z*G-C*H*G-p*z*$+C*I*$,y[9]=f*P*Y-p*O*Y-f*D*G+C*O*G+p*D*$-C*P*$,y[13]=p*O*z-f*P*z+f*D*I-C*O*I-p*D*H+C*P*H,y[2]=M*H*Y-O*k*Y+O*z*q-D*H*q-M*z*$+D*k*$,y[6]=f*k*Y-E*H*Y-f*z*q+C*H*q+E*z*$-C*k*$,y[10]=E*O*Y-f*M*Y+f*D*q-C*O*q-E*D*$+C*M*$,y[14]=f*M*z-E*O*z-f*D*k+C*O*k+E*D*H-C*M*H,y[3]=P*k*Y-M*I*Y-P*z*q+D*I*q+M*z*G-D*k*G,y[7]=E*I*Y-p*k*Y+p*z*q-C*I*q-E*z*G+C*k*G,y[11]=p*M*Y-E*P*Y-p*D*q+C*P*q+E*D*G-C*M*G,y[15]=E*P*z-p*M*z+p*D*k-C*P*k-E*D*I+C*M*I;let j=C*y[0]+D*y[4]+z*y[8]+Y*y[12];if(j===0){let V="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(v)throw new Error(V);return console.warn(V),this.identity(),this}return this.multiplyScalar(1/j),this}isReflected(){let c=this.elements,v=c[0],y=c[4],b=c[8],C=c[1],E=c[5],p=c[9],f=c[2],D=c[6],M=c[10];return v*E*M+C*D*b+f*y*p-f*E*b-C*y*M-v*D*p<0}scale(c){let v=this.elements,{x:y}=c,{y:b}=c,{z:C}=c;return v[0]*=y,v[4]*=b,v[8]*=C,v[1]*=y,v[5]*=b,v[9]*=C,v[2]*=y,v[6]*=b,v[10]*=C,v[3]*=y,v[7]*=b,v[11]*=C,this}getMaxScaleOnAxis(){let c=this.elements,v=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],y=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],b=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(v,Math.max(y,b)))}makeFrustum(c,v,y,b,C,E){let p=this.elements,f=2*C/(v-c),D=2*C/(b-y),M=(v+c)/(v-c),P=(b+y)/(b-y),O=-(E+C)/(E-C),z=-2*E*C/(E-C);return p[0]=f,p[4]=0,p[8]=M,p[12]=0,p[1]=0,p[5]=D,p[9]=P,p[13]=0,p[2]=0,p[6]=0,p[10]=O,p[14]=z,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makePerspective(c,v,y,b){let C=y*Math.tan((0,n.degToRad)(c*.5)),E=-C,p=E*v,f=C*v;return this.makeFrustum(p,f,E,C,y,b)}makeOrthographic(c,v,y,b,C,E){let p=this.elements,f=1/(v-c),D=1/(y-b),M=1/(E-C),P=(v+c)*f,O=(y+b)*D,z=(E+C)*M;return p[0]=2*f,p[4]=0,p[8]=0,p[12]=-P,p[1]=0,p[5]=2*D,p[9]=0,p[13]=-O,p[2]=0,p[6]=0,p[10]=-2*M,p[14]=-z,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}isEqual(c){let v=c.elements,y=this.elements;return y[0]===v[0]&&y[4]===v[4]&&y[8]===v[8]&&y[12]===v[12]&&y[1]===v[1]&&y[5]===v[5]&&y[9]===v[9]&&y[13]===v[13]&&y[2]===v[2]&&y[6]===v[6]&&y[10]===v[10]&&y[14]===v[14]&&y[3]===v[3]&&y[7]===v[7]&&y[11]===v[11]&&y[15]===v[15]}clone(){let c=this.elements;return new h(c[0],c[4],c[8],c[12],c[1],c[5],c[9],c[13],c[2],c[6],c[10],c[14],c[3],c[7],c[11],c[15])}isIdentity(){let c=this.elements;return c[0]===1&&c[4]===0&&c[8]===0&&c[12]===0&&c[1]===0&&c[5]===1&&c[9]===0&&c[13]===0&&c[2]===0&&c[6]===0&&c[10]===1&&c[14]===0&&c[3]===0&&c[7]===0&&c[11]===0&&c[15]===1}isNearlyIdentity(c){return this.clone().snap(c).isIdentity()}getScale(c){let v=this.elements;return c=c||new _,u.set(v[0],v[1],v[2]),l.set(v[4],v[5],v[6]),g.set(v[8],v[9],v[10]),c.x=u.length(),c.y=l.length(),c.z=g.length(),c}lookAt(c,v,y){let b=this.elements;return g.subVectors(c,v).normalize(),g.length()===0&&(g.z=1),u.crossVectors(y,g).normalize(),u.length()===0&&(g.x+=1e-4,u.crossVectors(y,g).normalize()),l.crossVectors(g,u),b[0]=u.x,b[4]=l.x,b[8]=g.x,b[1]=u.y,b[5]=l.y,b[9]=g.y,b[2]=u.z,b[6]=l.z,b[10]=g.z,this}compose(c,v,y){let b=this.elements;return s.identity(),s.setRotationFromQuaternion(v),o.makeScale(y.x,y.y,y.z),this.multiplyMatrices(s,o),b[12]=c.x,b[13]=c.y,b[14]=c.z,this}}s=new h,o=new h;class _{constructor(c,v,y){this.x=c||0,this.y=v||0,this.z=y||0,this.atomid=void 0}set(c,v,y){return this.x=c,this.y=v,this.z=y,this}copy(c){return this.x=c.x,this.y=c.y,this.z=c.z,this}add(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z,this}addVectors(c,v){return this.x=c.x+v.x,this.y=c.y+v.y,this.z=c.z+v.z,this}multiplyVectors(c,v){return this.x=c.x*v.x,this.y=c.y*v.y,this.z=c.z*v.z,this}sub(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z,this}subVectors(c,v){return this.x=c.x-v.x,this.y=c.y-v.y,this.z=c.z-v.z,this}multiplyScalar(c){return this.x*=c,this.y*=c,this.z*=c,this}divideScalar(c){return c!==0?(this.x/=c,this.y/=c,this.z/=c):(this.x=0,this.y=0,this.z=0),this}max(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this}min(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this}distanceTo(c){return Math.sqrt(this.distanceToSquared(c))}distanceToSquared(c){let v=this.x-c.x,y=this.y-c.y,b=this.z-c.z;return v*v+y*y+b*b}applyMatrix3(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.elements;return this.x=C[0]*v+C[3]*y+C[6]*b,this.y=C[1]*v+C[4]*y+C[7]*b,this.z=C[2]*v+C[5]*y+C[8]*b,this}applyMatrix4(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.elements;return this.x=C[0]*v+C[4]*y+C[8]*b+C[12],this.y=C[1]*v+C[5]*y+C[9]*b+C[13],this.z=C[2]*v+C[6]*y+C[10]*b+C[14],this}applyProjection(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.elements,E=C[3]*v+C[7]*y+C[11]*b+C[15];return this.x=(C[0]*v+C[4]*y+C[8]*b+C[12])/E,this.y=(C[1]*v+C[5]*y+C[9]*b+C[13])/E,this.z=(C[2]*v+C[6]*y+C[10]*b+C[14])/E,this}applyQuaternion(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.x,E=c.y,p=c.z,f=c.w,D={};D.x=2*(y*p-b*E),D.y=2*(b*C-v*p),D.z=2*(v*E-y*C);let M={};return M.x=D.y*p-D.z*E,M.y=D.z*C-D.x*p,M.z=D.x*E-D.y*C,this.x=v+f*D.x+M.x,this.y=y+f*D.y+M.y,this.z=b+f*D.z+M.z,this}negate(){return this.multiplyScalar(-1)}dot(c){return this.x*c.x+this.y*c.y+this.z*c.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(c){let{x:v}=this,{y}=this,{z:b}=this;return this.x=y*c.z-b*c.y,this.y=b*c.x-v*c.z,this.z=v*c.y-y*c.x,this}crossVectors(c,v){return this.x=c.y*v.z-c.z*v.y,this.y=c.z*v.x-c.x*v.z,this.z=c.x*v.y-c.y*v.x,this}equals(c){return this.x==c.x&&this.y==c.y&&this.z==c.z}getPositionFromMatrix(c){return this.x=c.elements[12],this.y=c.elements[13],this.z=c.elements[14],this}setEulerFromRotationMatrix(c,v){let y=c.elements,b=y[0],C=y[4],E=y[8],p=y[5],f=y[9],D=y[6],M=y[10];return v===void 0||v==="XYZ"?(this.y=Math.asin((0,a.clamp)(E,-1,1)),Math.abs(E)<.99999?(this.x=Math.atan2(-f,M),this.z=Math.atan2(-C,b)):(this.x=Math.atan2(D,p),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${v}`),this}rotateAboutVector(c,v){c.normalize();let y=Math.cos(v),b=Math.sin(v),C=this.clone().multiplyScalar(y),E=c.clone().cross(this).multiplyScalar(b),p=c.clone().multiplyScalar(c.clone().dot(this)).multiplyScalar(1-y),f=C.add(E).add(p);return this.x=f.x,this.y=f.y,this.z=f.z,this}setFromMatrixPosition(c){let v=c.elements;return this.x=v[12],this.y=v[13],this.z=v[14],this}transformDirection(c){let{x:v}=this,{y}=this,{z:b}=this,C=c.elements;return this.x=C[0]*v+C[4]*y+C[8]*b,this.y=C[1]*v+C[5]*y+C[9]*b,this.z=C[2]*v+C[6]*y+C[10]*b,this.normalize()}clone(){return new _(this.x,this.y,this.z)}unproject(c){let v=s;return v.multiplyMatrices(c.matrixWorld,v.getInverse(c.projectionMatrix)),this.applyMatrix4(v)}}u=new _,l=new _,g=new _;class x{constructor(c=1,v=0,y=0,b=0,C=1,E=0,p=0,f=0,D=1){this.elements=new Float32Array(9),this.set(c,v,y,b,C,E,p,f,D)}set(c,v,y,b,C,E,p,f,D){let M=this.elements;return M[0]=c,M[3]=v,M[6]=y,M[1]=b,M[4]=C,M[7]=E,M[2]=p,M[5]=f,M[8]=D,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(c){let v=c.elements;this.set(v[0],v[3],v[6],v[1],v[4],v[7],v[2],v[5],v[8])}multiplyScalar(c){let v=this.elements;return v[0]*=c,v[3]*=c,v[6]*=c,v[1]*=c,v[4]*=c,v[7]*=c,v[2]*=c,v[5]*=c,v[8]*=c,this}getInverse3(c){let v=c.elements,y=this.elements;y[0]=v[4]*v[8]-v[5]*v[7],y[3]=v[6]*v[5]-v[3]*v[8],y[6]=v[3]*v[7]-v[6]*v[4],y[1]=v[7]*v[2]-v[1]*v[8],y[4]=v[0]*v[8]-v[6]*v[2],y[7]=v[1]*v[6]-v[0]*v[7],y[2]=v[1]*v[5]-v[2]*v[4],y[5]=v[2]*v[3]-v[0]*v[5],y[8]=v[0]*v[4]-v[1]*v[3];let b=v[0]*y[0]+v[3]*y[1]+v[6]*y[2];return this.multiplyScalar(1/b),this}getInverse(c,v){let y=c.elements,b=this.elements;b[0]=y[10]*y[5]-y[6]*y[9],b[1]=-y[10]*y[1]+y[2]*y[9],b[2]=y[6]*y[1]-y[2]*y[5],b[3]=-y[10]*y[4]+y[6]*y[8],b[4]=y[10]*y[0]-y[2]*y[8],b[5]=-y[6]*y[0]+y[2]*y[4],b[6]=y[9]*y[4]-y[5]*y[8],b[7]=-y[9]*y[0]+y[1]*y[8],b[8]=y[5]*y[0]-y[1]*y[4];let C=y[0]*b[0]+y[1]*b[3]+y[2]*b[6];if(C===0){let E="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(v)throw new Error(E);return console.warn(E),this.identity(),this}return this.multiplyScalar(1/C),this}getDeterminant(){let c=this.elements;return c[0]*c[4]*c[8]+c[1]*c[5]*c[6]+c[2]*c[3]*c[7]-c[2]*c[4]*c[6]-c[1]*c[3]*c[8]-c[0]*c[5]*c[7]}transpose(){let c,v=this.elements;return c=v[1],v[1]=v[3],v[3]=c,c=v[2],v[2]=v[6],v[6]=c,c=v[5],v[5]=v[7],v[7]=c,this}clone(){let c=this.elements;return new x(c[0],c[3],c[6],c[1],c[4],c[7],c[2],c[5],c[8])}getMatrix4(){let c=this.elements;return new h(c[0],c[3],c[6],0,c[1],c[4],c[7],0,c[2],c[5],c[8],0)}}class S{constructor(c,v){this.origin=c!==void 0?c:new _,this.direction=v!==void 0?v:new _}set(c,v){return this.origin.copy(c),this.direction.copy(v),this}copy(c){return this.origin.copy(c.origin),this.direction.copy(c.direction),this}at(c,v){return(v||new _).copy(this.direction).multiplyScalar(c).add(this.origin)}recast(c){let v=u;return this.origin.copy(this.at(c,v)),this}closestPointToPoint(c,v){let y=v||new _;y.subVectors(c,this.origin);let b=y.dot(this.direction);return y.copy(this.direction).multiplyScalar(b).add(this.origin)}distanceToPoint(c){let v=u,y=v.subVectors(c,this.origin).dot(this.direction);return v.copy(this.direction).multiplyScalar(y).add(this.origin),v.distanceTo(c)}isIntersectionCylinder(){}isIntersectionSphere(c){return this.distanceToPoint(c.center)<=c.radius}isIntersectionPlane(c){return c.normal.dot(this.direction)!==0||c.distanceToPoint(this.origin)===0}distanceToPlane(c){let v=c.normal.dot(this.direction);return v===0?c.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(c.normal)+c.constant)/v}intersectPlane(c,v){let y=this.distanceToPlane(c);if(y!==void 0)return this.at(y,v)}applyMatrix4(c){return this.direction.add(this.origin).applyMatrix4(c),this.origin.applyMatrix4(c),this.direction.sub(this.origin),this}clone(){return new S().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{clamp:()=>n});function n(a,s,o){return Math.min(Math.max(a,s),o)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{conversionMatrix3:()=>a});var n=r("./src/WebGL/math/math.ts");function a(s,o,u,l,g,h){l=l*Math.PI/180,g=g*Math.PI/180,h=h*Math.PI/180;let _=y=>y*y,x=Math.cos(l),S=Math.cos(g),w=Math.cos(h),c=Math.sin(h);return new n.Matrix3(s,o*w,u*S,0,o*c,u*(x-S*w)/c,0,0,u*Math.sqrt(1-_(x)-_(S)-_(w)+2*x*S*w)/c)}},"./src/WebGL/math/utils/degToRad.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{degToRad:()=>a});let n=Math.PI/180;function a(s){return s*n}},"./src/WebGL/objects/Line.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Line:()=>o,LineStyle:()=>s});var n=r("./src/WebGL/materials/index.ts"),a=r("./src/WebGL/core/index.ts"),s;(function(u){u[u.LineStrip=0]="LineStrip",u[u.LinePieces=1]="LinePieces"})(s||(s={}));class o extends a.Object3D{constructor(l,g=new n.LineBasicMaterial({color:Math.random()*16777215}),h=s.LineStrip){super(),this.geometry=l,this.material=g,this.type=h}clone(l=new o(this.geometry,this.material,this.type)){return super.clone.call(this,l),l}}},"./src/WebGL/objects/Mesh.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Mesh:()=>a});var n=r("./src/WebGL/core/index.ts");class a extends n.Object3D{constructor(o,u){super(),this.geometry=o,this.material=u}clone(o){return o===void 0&&(o=new a(this.geometry,this.material)),super.clone.call(this,o),o}}},"./src/WebGL/objects/Sprite.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Sprite:()=>s});var n=r("./src/WebGL/materials/index.ts"),a=r("./src/WebGL/core/index.ts");class s extends a.Object3D{constructor(u=new n.SpriteMaterial){super(),this.material=u,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(u=new s(this.material)){return a.Object3D.prototype.clone.call(this,u),u}}},"./src/WebGL/objects/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Line:()=>n.Line,LineStyle:()=>n.LineStyle,Mesh:()=>a.Mesh,Sprite:()=>s.Sprite});var n=r("./src/WebGL/objects/Line.ts"),a=r("./src/WebGL/objects/Mesh.ts"),s=r("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(e,t,r)=>{"use strict";r.r(t)},"./src/WebGL/shaders/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderLib:()=>n.ShaderLib,ShaderUtils:()=>a.ShaderUtils,basic:()=>n.basic,clone:()=>a.clone,instanced:()=>n.instanced,lambert:()=>n.lambert,lambertdouble:()=>n.lambertdouble,outline:()=>n.outline,screen:()=>n.screen,screenaa:()=>n.screenaa,sphereimposter:()=>n.sphereimposter,sphereimposteroutline:()=>n.sphereimposteroutline,sprite:()=>n.sprite,stickimposter:()=>n.stickimposter,stickimposteroutline:()=>n.stickimposteroutline,volumetric:()=>n.volumetric});var n=r("./src/WebGL/shaders/lib/index.ts"),a=r("./src/WebGL/shaders/utils/index.ts"),s=r("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{basic:()=>o});var n=r("./src/WebGL/shaders/lib/basic/uniforms.ts"),a=r("./src/WebGL/shaders/lib/basic/basic.frag"),s=r("./src/WebGL/shaders/lib/basic/basic.vert");let o={vertexShader:s.default.replace("#define GLSLIFY 1",""),fragmentShader:a.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderLib:()=>v,basic:()=>n.basic,instanced:()=>a.instanced,lambert:()=>s.lambert,lambertdouble:()=>o.lambertdouble,outline:()=>u.outline,screen:()=>l.screen,screenaa:()=>g.screenaa,sphereimposter:()=>h.sphereimposter,sphereimposteroutline:()=>_.sphereimposteroutline,sprite:()=>x.sprite,stickimposter:()=>S.stickimposter,stickimposteroutline:()=>w.stickimposteroutline,volumetric:()=>c.volumetric});var n=r("./src/WebGL/shaders/lib/basic/index.ts"),a=r("./src/WebGL/shaders/lib/instanced/index.ts"),s=r("./src/WebGL/shaders/lib/lambert/index.ts"),o=r("./src/WebGL/shaders/lib/lambertdouble/index.ts"),u=r("./src/WebGL/shaders/lib/outline/index.ts"),l=r("./src/WebGL/shaders/lib/screen/index.ts"),g=r("./src/WebGL/shaders/lib/screenaa/index.ts"),h=r("./src/WebGL/shaders/lib/sphereimposter/index.ts"),_=r("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),x=r("./src/WebGL/shaders/lib/sprite/index.ts"),S=r("./src/WebGL/shaders/lib/stickimposter/index.ts"),w=r("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),c=r("./src/WebGL/shaders/lib/volumetric/index.ts");let v={basic:n.basic,instanced:a.instanced,lambert:s.lambert,lambertdouble:o.lambertdouble,outline:u.outline,screen:l.screen,screenaa:g.screenaa,sphereimposter:h.sphereimposter,sphereimposteroutline:_.sphereimposteroutline,sprite:x.sprite,stickimposter:S.stickimposter,stickimposteroutline:w.stickimposteroutline,volumetric:c.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{instanced:()=>o});var n=r("./src/WebGL/shaders/lib/instanced/uniforms.ts"),a=r("./src/WebGL/shaders/lib/instanced/instanced.frag"),s=r("./src/WebGL/shaders/lib/instanced/instanced.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{lambert:()=>o});var n=r("./src/WebGL/shaders/lib/lambert/uniforms.ts"),a=r("./src/WebGL/shaders/lib/lambert/lambert.frag"),s=r("./src/WebGL/shaders/lib/lambert/lambert.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{lambertdouble:()=>o});var n=r("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),a=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),s=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{outline:()=>o});var n=r("./src/WebGL/shaders/lib/outline/uniforms.ts"),a=r("./src/WebGL/shaders/lib/outline/outline.frag"),s=r("./src/WebGL/shaders/lib/outline/outline.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/screen/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{screen:()=>o});var n=r("./src/WebGL/shaders/lib/screen/uniforms.ts"),a=r("./src/WebGL/shaders/lib/screen/screen.frag"),s=r("./src/WebGL/shaders/lib/screen/screen.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{screenaa:()=>o});var n=r("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),a=r("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),s=r("./src/WebGL/shaders/lib/screenaa/screenaa.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sphereimposter:()=>o});var n=r("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),s=r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");let o={vertexShader:s.default.replace("#define GLSLIFY 1",""),fragmentShader:a.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sphereimposteroutline:()=>o});var n=r("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),s=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/sprite/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sprite:()=>o});var n=r("./src/WebGL/shaders/lib/sprite/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sprite/sprite.frag"),s=r("./src/WebGL/shaders/lib/sprite/sprite.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{stickimposter:()=>l});var n=r("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),s=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),o=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");let l={fragmentShader:[a.default,s.default].join(`
`).replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{stickimposteroutline:()=>u});var n=r("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),s=r("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");let u={fragmentShader:(a.default+"gl_FragColor = vec4(color,1.0);}").replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new n.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{volumetric:()=>o});var n=r("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),a=r("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),s=r("./src/WebGL/shaders/lib/volumetric/volumetric.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{clone:()=>a});var n=r("./src/colors.ts");function a(s){let o={};for(let l in s){o[l]={},o[l].type=s[l].type;var u=s[l].value;u instanceof n.Color?o[l].value=u.clone():typeof u=="number"?o[l].value=u:u instanceof Array?o[l].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return o}},"./src/WebGL/shaders/utils/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderUtils:()=>s,clone:()=>n.clone});var n=r("./src/WebGL/shaders/utils/clone.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag");let s={clone:n.clone,stickimposterFragmentShader:a.default}},"./src/WebGL/shapes/Cylinder.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Cylinder:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Vector3;class s{constructor(u=new n.Vector3,l=new n.Vector3,g=0){this.c1=u,this.c2=l,this.radius=g,this.direction=new n.Vector3().subVectors(this.c2,this.c1).normalize()}copy(u){return this.c1.copy(u.c1),this.c2.copy(u.c2),this.direction.copy(u.direction),this.radius=u.radius,this}lengthSq(){return a.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(u){return this.direction.add(this.c1).applyMatrix4(u),this.c1.applyMatrix4(u),this.c2.applyMatrix4(u),this.direction.sub(this.c1).normalize(),this.radius=this.radius*u.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Sphere:()=>a});var n=r("./src/WebGL/math/index.ts");class a{constructor(o={x:0,y:0,z:0},u=0){this.center=new n.Vector3(o.x,o.y,o.z),this.radius=u}set(o,u){return this.center.copy(o),this.radius=u,this}copy(o){return this.center.copy(o.center),this.radius=o.radius,this}applyMatrix4(o){return this.center.applyMatrix4(o),this.radius=this.radius*o.getMaxScaleOnAxis(),this}translate(o){return this.center.add(o),this}equals(o){return o.center.equals(this.center)&&o.radius===this.radius}clone(){return new a().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Triangle:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Vector3;class s{constructor(u=new n.Vector3,l=new n.Vector3,g=new n.Vector3){this.a=u,this.b=l,this.c=g}copy(u){return this.a.copy(u.a),this.b.copy(u.b),this.c.copy(u.c),this}applyMatrix4(u){return this.a.applyMatrix4(u),this.b.applyMatrix4(u),this.c.applyMatrix4(u),this}getNormal(){var u=this.a.clone();return u.sub(this.b),a.subVectors(this.c,this.b),u.cross(a),u.normalize(),u}}},"./src/WebGL/shapes/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Cylinder:()=>a.Cylinder,Sphere:()=>n.Sphere,Triangle:()=>s.Triangle});var n=r("./src/WebGL/shapes/Sphere.ts"),a=r("./src/WebGL/shapes/Cylinder.ts"),s=r("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{autoinit:()=>autoinit,autoload:()=>autoload,processing_autoinit:()=>processing_autoinit,viewers:()=>viewers});var _GLViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/GLViewer.ts"),_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ProteinSurface4.ts"),_utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utilities.ts"),_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/colors.ts"),autoinit=!1,processing_autoinit=!1,viewers={};function autoload(viewer,callback){var i,dataname,type;if(document.querySelector(".viewer_3Dmoljs")!=null&&(autoinit=!0),autoinit){processing_autoinit=!0,viewer=viewer??null;var nviewers=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(viewerdiv=>{var datauri=[],datatypes=[],uri="";viewerdiv.style.position=="static"&&(viewerdiv.style.position="relative");var UI=null;if(type=null,viewerdiv.dataset.pdb)datauri.push("https://files.rcsb.org/view/"+viewerdiv.dataset.pdb+".pdb"),datatypes.push("pdb");else if(viewerdiv.dataset.cid)datatypes.push("sdf"),datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+viewerdiv.dataset.cid+"/SDF?record_type=3d");else if(viewerdiv.dataset.href||viewerdiv.dataset.url){viewerdiv.dataset.href?uri=viewerdiv.dataset.href:uri=viewerdiv.dataset.url,datauri.push(uri),type=uri.substring(uri.lastIndexOf(".")+1),datatypes.push(type);var molName=uri.substring(uri.lastIndexOf("/")+1,uri.lastIndexOf("."));molName=="/"&&(molName=uri.substring(uri.lastIndexOf("/")+1)),viewerdiv.dataset[datatypes[datatypes.length-1]]=molName}var divdata=viewerdiv.dataset;for(i in divdata)i.substring(0,3)==="pdb"&&i!=="pdb"?(datauri.push("https://files.rcsb.org/view/"+divdata[i]+".pdb"),datatypes.push("pdb")):i.substring(0,4)==="href"&&i!=="href"?(uri=divdata[i],datauri.push(uri),datatypes.push(uri.substring(uri.lastIndexOf(".")+1))):i.substring(0,3)==="cid"&&i!=="cid"&&(datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+divdata[i]+"/SDF?record_type=3d"),datatypes.push("sdf"));var options={};viewerdiv.dataset.options&&(options=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.options));var bgcolor=_colors__WEBPACK_IMPORTED_MODULE_3__.CC.color(viewerdiv.dataset.backgroundcolor),bgalpha=viewerdiv.dataset.backgroundalpha;bgalpha=bgalpha==null?1:parseFloat(bgalpha);var style={line:{}};viewerdiv.dataset.style&&(style=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.style));var select={};viewerdiv.dataset.select&&(select=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.select));var selectstylelist=[],surfaces=[],labels=[],zoomto={},spin=null,d=viewerdiv.dataset,stylere=/style(.+)/,surfre=/surface(.*)/,reslabre=/labelres(.*)/,keys=[];for(dataname in d)Object.prototype.hasOwnProperty.call(d,dataname)&&keys.push(dataname);for(keys.sort(),i=0;i<keys.length;i++){dataname=keys[i];var m=stylere.exec(dataname),selname,newsel,styleobj;m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),selectstylelist.push([newsel,styleobj])),m=surfre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),surfaces.push([newsel,styleobj])),m=reslabre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),labels.push([newsel,styleobj])),dataname=="zoomto"&&(zoomto=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname])),dataname=="spin"&&(spin=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]))}var applyStyles=function(e){for(e.setStyle(select,style),UI&&UI.createSelectionAndStyle(select,style),i=0;i<selectstylelist.length;i++){let t=selectstylelist[i][0]||{},r=selectstylelist[i][1]||{line:{}};e.setStyle(t,r),UI&&UI.createSelectionAndStyle(select,style)}for(i=0;i<surfaces.length;i++){let t=surfaces[i][0]||{},r=surfaces[i][1]||{};UI?e.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,r,t,t).then(a=>{UI.loadSurface("VDW",t,r,a)}):e.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,r,t,t)}for(i=0;i<labels.length;i++){let t=labels[i][0]||{},r=labels[i][1]||{};e.addResLabels(t,r)}e.render(),e.zoomTo(zoomto),spin&&e.spin(spin.axis,spin.speed)},glviewer=viewer;try{var config=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.config)||{};config.backgroundColor===void 0&&(config.backgroundColor=bgcolor),config.backgroundAlpha===void 0&&(config.backgroundAlpha=bgalpha),glviewer==null?glviewer=viewers[viewerdiv.id||nviewers++]=(0,_GLViewer__WEBPACK_IMPORTED_MODULE_0__.createViewer)(viewerdiv,config):(glviewer.setBackgroundColor(bgcolor,bgalpha),glviewer.setConfig(config),UI&&UI.initiateUI()),viewerdiv.dataset.ui&&$3Dmol.StateManager&&(UI=new $3Dmol.StateManager(glviewer))}catch(e){console.log(e),viewerdiv.textContent="WebGL appears to be disabled."}if(datauri.length!=0){let i=0;var process=function(moldata){uri=datauri[i];var type=viewerdiv.dataset.type||viewerdiv.dataset.datatype||datatypes[i];if(glviewer.addModel(moldata,type,options),UI){var modelName=viewerdiv.dataset[datatypes[i]];UI.setModelTitle(modelName)}if(i+=1,i<datauri.length)(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[i]).then(process);else{if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}};(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[0]).then(process)}else{if(viewerdiv.dataset.element){var moldataid="#"+viewerdiv.dataset.element,molelem=document.querySelector(moldataid),moldata=molelem?molelem.textContent:"";type=viewerdiv.dataset.type||viewerdiv.dataset.datatype,glviewer.addModel(moldata,type,options)}if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&autoload()}},"./src/colors.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CC:()=>a,Color:()=>n,builtinColorSchemes:()=>_,chains:()=>h,elementColors:()=>l,htmlColors:()=>s,residues:()=>g,ssColors:()=>o});class n{constructor(S,w,c){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof S=="number"?(this.r=S||0,this.g=w||0,this.b=c||0,this):this.set(S||0)}set(S){return S instanceof n?S.clone():(typeof S=="number"?this.setHex(S):typeof S=="object"&&(this.r=S?.r||0,this.g=S?.g||0,this.b=S?.b||0),this)}setHex(S){return S=Math.floor(S),this.r=(S>>16&255)/255,this.g=(S>>8&255)/255,this.b=(S&255)/255,this}getHex(){var S=Math.round(this.r*255),w=Math.round(this.g*255),c=Math.round(this.b*255);return S<<16|w<<8|c}clone(){return new n(this.r,this.g,this.b)}copy(S){return this.r=S.r,this.g=S.g,this.b=S.b,this}scaled(){var S={};return S.r=Math.round(this.r*255),S.g=Math.round(this.g*255),S.b=Math.round(this.b*255),S.a=1,S}}class a{static color(S){if(!S)return a.cache[0];if(S instanceof n)return S;if(typeof S=="number"&&typeof a.cache[S]<"u")return a.cache[S];if(S&&Array.isArray(S))return S.map(a.color);let w=a.getHex(S),c=new n(w);return a.cache[w]=c,c}static getHex(S){var w;if(Array.isArray(S))return S.map(a.getHex);if(typeof S=="string"){let c=S;if(!isNaN(parseInt(c)))return parseInt(c);if(c=c.trim(),c.length==4&&c[0]=="#"&&(c="#"+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]),c.length==7&&c[0]=="#")return parseInt(c.substring(1),16);let v=a.rgbRegEx.exec(c);if(v){v[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let y=0;for(let b=2;b<5;b++){y*=256;let C=v[b].endsWith("%")?255*parseFloat(v[b])/100:parseFloat(v[b]);y+=Math.round(C)}return y}return((w=window?.$3Dmol)===null||w===void 0?void 0:w.htmlColors[S.toLowerCase()])||0}return S}}a.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,a.cache={0:new n(0)};let s={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},o={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},u={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},l={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:u,defaultColors:Object.assign({},u),greenCarbon:Object.assign(Object.assign({},u),{C:65280}),cyanCarbon:Object.assign(Object.assign({},u),{C:65535}),magentaCarbon:Object.assign(Object.assign({},u),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},u),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},u),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},u),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},u),{C:8388736}),blueCarbon:Object.assign(Object.assign({},u),{C:255})},g={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},h={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},_={ssPyMol:{prop:"ss",map:o.pyMol},ssJmol:{prop:"ss",map:o.Jmol},Jmol:{prop:"elem",map:l.Jmol},amino:{prop:"resn",map:g.amino},shapely:{prop:"resn",map:g.shapely},nucleic:{prop:"resn",map:g.nucleic},chain:{prop:"chain",map:h.atom},rasmol:{prop:"elem",map:l.rasmol},default:{prop:"elem",map:l.defaultColors},greenCarbon:{prop:"elem",map:l.greenCarbon},chainHetatm:{prop:"chain",map:h.hetatm},cyanCarbon:{prop:"elem",map:l.cyanCarbon},magentaCarbon:{prop:"elem",map:l.magentaCarbon},purpleCarbon:{prop:"elem",map:l.purpleCarbon},whiteCarbon:{prop:"elem",map:l.whiteCarbon},orangeCarbon:{prop:"elem",map:l.orangeCarbon},yellowCarbon:{prop:"elem",map:l.yellowCarbon},blueCarbon:{prop:"elem",map:l.blueCarbon}}},"./src/glcartoon.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{drawCartoon:()=>k,subdivide_spline:()=>h});var n=r("./src/WebGL/math/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/index.ts"),o=r("./src/Gradient.ts"),u=r("./src/colors.ts"),l=r("./src/GLDraw.ts"),g=r("./src/utilities.ts");function h(I,H){var Y=[],q=I;q=[],q.push(I[0]);var G,$,j,V,X,Q,te,xe,Ne;for(G=1,$=I.length-1;G<$;G++)if(X=I[G],Q=I[G+1],X.smoothen){var ye=new n.Vector3((X.x+Q.x)/2,(X.y+Q.y)/2,(X.z+Q.z)/2);ye.atom=X.atom,q.push(ye)}else q.push(X);for(q.push(I[I.length-1]),G=-1,j=q.length;G<=j-3;G++)if(V=q[G===-1?0:G],X=q[G+1],Q=q[G+2],te=q[G===j-3?j-1:G+3],xe=new n.Vector3().subVectors(Q,V).multiplyScalar(.5),Ne=new n.Vector3().subVectors(te,X).multiplyScalar(.5),!Q.skip)for(var Fe=0;Fe<H;Fe++){var Me=1/H*Fe,_e=X.x+Me*xe.x+Me*Me*(-3*X.x+3*Q.x-2*xe.x-Ne.x)+Me*Me*Me*(2*X.x-2*Q.x+xe.x+Ne.x),Qe=X.y+Me*xe.y+Me*Me*(-3*X.y+3*Q.y-2*xe.y-Ne.y)+Me*Me*Me*(2*X.y-2*Q.y+xe.y+Ne.y),Xe=X.z+Me*xe.z+Me*Me*(-3*X.z+3*Q.z-2*xe.z-Ne.z)+Me*Me*Me*(2*X.z-2*Q.z+xe.z+Ne.z),R=new n.Vector3(_e,Qe,Xe);Fe<H/2?R.atom=X.atom:R.atom=Q.atom,Y.push(R)}return Y.push(q[q.length-1]),Y}let _=.5,x=1.3,S=.8,w=.4,c=.4;function v(I,H,Y,q){for(var G,$,j,V,X=0,Q=H.length;X<Q;X++){V=Math.round(X*(q.length-1)/Q),j=u.CC.color(q[V]);var te=I.updateGeoGroup(2),xe=te.vertexArray,Ne=te.colorArray,ye=te.faceArray;G=te.vertices,$=G*3,xe[$]=H[X].x,xe[$+1]=H[X].y,xe[$+2]=H[X].z,xe[$+3]=Y[X].x,xe[$+4]=Y[X].y,xe[$+5]=Y[X].z;for(var Fe=0;Fe<6;++Fe)Ne[$+3*Fe]=j.r,Ne[$+1+3*Fe]=j.g,Ne[$+2+3*Fe]=j.b;if(X>0){var Me=[G,G+1,G-1,G-2],_e=te.faceidx;ye[_e]=Me[0],ye[_e+1]=Me[1],ye[_e+2]=Me[3],ye[_e+3]=Me[1],ye[_e+4]=Me[2],ye[_e+5]=Me[3],te.faceidx+=6}te.vertices+=2}}function y(I,H,Y,q,G,$,j){var V,X,Q,te;if(Q=H.length,Q<2||H[0].length<2)return;for(V=0;V<Q;V++)H[V]=h(H[V],q);if(te=H[0].length,!G)return v(I,H[0],H[Q-1],Y);var xe,Ne,ye,Fe,Me,_e,Qe=[],Xe=[],R=[];for(X=0;X<Q;X++)Qe.push(.25+1.5*Math.sqrt((Q-1)*X-Math.pow(X,2))/(Q-1)),Xe.push(.5),R.push(2*(Math.pow(X/Q,2)-X/Q)+.6);var pe=[];for(X=0;X<Q*2-1;X++)pe[X]=[X,X+1,X+1-2*Q,X-2*Q];pe[Q*2-1]=[X,X+1-2*Q,X+1-4*Q,X-2*Q];var ve,ie,de,be,Ue,Be,Se,Ie,je,Ke;let Pe=I.updateGeoGroup();for(V=0;V<te;V++){let ue=I.groups,ge=!1;Pe=I.updateGeoGroup(2*Q),ue!=I.groups&&V>0&&(V=V-1,ge=!0),Be=Math.round(V*(Y.length-1)/te),Ue=u.CC.color(Y[Be]),Me=ye,_e=Fe,ye=[],Fe=[],xe=[],H[0][V].atom!==void 0&&(be=H[0][V].atom,j==="oval"?Ne=Qe:j==="rectangle"?Ne=Xe:j==="parabola"&&(Ne=R)),Ne||(Ne=Xe);var ht,yt;for(X=0;X<Q;X++)V<te-1?ht=H[X][V+1].clone().sub(H[X][V]):ht=H[X][V-1].clone().sub(H[X][V]).negate(),X<Q-1?yt=H[X+1][V].clone().sub(H[X][V]):yt=H[X-1][V].clone().sub(H[X][V]).negate(),xe[X]=yt.cross(ht).normalize().multiplyScalar(G*Ne[X]);for(X=0;X<Q;X++)ye[X]=H[X][V].clone().add(xe[X].clone().negate());for(X=0;X<Q;X++)Fe[X]=H[X][V].clone().add(xe[X]);for(Se=Pe.vertexArray,Ie=Pe.colorArray,je=Pe.faceArray,ve=Pe.vertices,ie=ve*3,X=0;X<Q;X++)Se[ie+3*X+0]=ye[X].x,Se[ie+3*X+1]=ye[X].y,Se[ie+3*X+2]=ye[X].z;for(X=0;X<Q;X++)Se[ie+3*X+0+3*Q]=Fe[Q-1-X].x,Se[ie+3*X+1+3*Q]=Fe[Q-1-X].y,Se[ie+3*X+2+3*Q]=Fe[Q-1-X].z;for(X=0;X<2*Q;++X)Ie[ie+3*X+0]=Ue.r,Ie[ie+3*X+1]=Ue.g,Ie[ie+3*X+2]=Ue.b;if(V>0&&!ge){for(X=0;X<Q*2;X++)Ke=[ve+pe[X][0],ve+pe[X][1],ve+pe[X][2],ve+pe[X][3]],de=Pe.faceidx,je[de]=Ke[0],je[de+1]=Ke[1],je[de+2]=Ke[3],je[de+3]=Ke[1],je[de+4]=Ke[2],je[de+5]=Ke[3],Pe.faceidx+=6;if(be.clickable||be.hoverable){var le=[];le.push(new a.Triangle(Me[0],ye[0],ye[Q-1])),le.push(new a.Triangle(Me[0],ye[Q-1],Me[Q-1])),le.push(new a.Triangle(Me[Q-1],ye[Q-1],Fe[Q-1])),le.push(new a.Triangle(Me[Q-1],Fe[Q-1],_e[Q-1])),le.push(new a.Triangle(Fe[0],_e[0],_e[Q-1])),le.push(new a.Triangle(Fe[Q-1],Fe[0],_e[Q-1])),le.push(new a.Triangle(ye[0],Me[0],_e[0])),le.push(new a.Triangle(Fe[0],ye[0],_e[0]));for(X in le)be.intersectionShape.triangle.push(le[X])}}Pe.vertices+=2*Q}for(Se=Pe.vertexArray,Ie=Pe.colorArray,je=Pe.faceArray,ve=Pe.vertices,ie=ve*3,de=Pe.faceidx,V=0;V<Q-1;V++)Ke=[V,V+1,2*Q-2-V,2*Q-1-V],de=Pe.faceidx,je[de]=Ke[0],je[de+1]=Ke[1],je[de+2]=Ke[3],je[de+3]=Ke[1],je[de+4]=Ke[2],je[de+5]=Ke[3],Pe.faceidx+=6;for(V=0;V<Q-1;V++)Ke=[ve-1-V,ve-2-V,ve-2*Q+V+1,ve-2*Q+V],de=Pe.faceidx,je[de]=Ke[0],je[de+1]=Ke[1],je[de+2]=Ke[3],je[de+3]=Ke[1],je[de+4]=Ke[2],je[de+5]=Ke[3],Pe.faceidx+=6}function b(I,H,Y,q,G,$){if(!(H.length<2)){var j,V;if(j=H[0],V=H[H.length-1],j=h(j,q),V=h(V,q),!G)return v(I,j,V,Y);var X=[],Q,te,xe,Ne,ye,Fe=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],Me,_e,Qe,Xe,R,pe,ve,ie,de,be,Ue,Be,Se,Ie,je,Ke,Pe;for(ie=0,de=j.length;ie<de;ie++){if(R=Math.round(ie*(Y.length-1)/de),Xe=u.CC.color(Y[R]),X.push(te=j[ie]),X.push(te),X.push(xe=V[ie]),X.push(xe),ie<de-1){var ht=j[ie+1].clone().sub(j[ie]),yt=V[ie].clone().sub(j[ie]);Q=yt.cross(ht).normalize().multiplyScalar(G)}for(X.push(Ne=j[ie].clone().add(Q)),X.push(Ne),X.push(ye=V[ie].clone().add(Q)),X.push(ye),te.atom!==void 0&&(pe=te.atom),Ie=I.updateGeoGroup(8),je=Ie.vertexArray,Ke=Ie.colorArray,Pe=Ie.faceArray,Me=Ie.vertices,_e=Me*3,je[_e]=te.x,je[_e+1]=te.y,je[_e+2]=te.z,je[_e+3]=te.x,je[_e+4]=te.y,je[_e+5]=te.z,je[_e+6]=xe.x,je[_e+7]=xe.y,je[_e+8]=xe.z,je[_e+9]=xe.x,je[_e+10]=xe.y,je[_e+11]=xe.z,je[_e+12]=Ne.x,je[_e+13]=Ne.y,je[_e+14]=Ne.z,je[_e+15]=Ne.x,je[_e+16]=Ne.y,je[_e+17]=Ne.z,je[_e+18]=ye.x,je[_e+19]=ye.y,je[_e+20]=ye.z,je[_e+21]=ye.x,je[_e+22]=ye.y,je[_e+23]=ye.z,be=0;be<8;++be)Ke[_e+3*be]=Xe.r,Ke[_e+1+3*be]=Xe.g,Ke[_e+2+3*be]=Xe.b;if(ie>0){var le=ve!==void 0&&pe!==void 0&&ve.serial!==pe.serial;for(be=0;be<4;be++){var ue=[Me+Fe[be][0],Me+Fe[be][1],Me+Fe[be][2],Me+Fe[be][3]];if(Qe=Ie.faceidx,Pe[Qe]=ue[0],Pe[Qe+1]=ue[1],Pe[Qe+2]=ue[3],Pe[Qe+3]=ue[1],Pe[Qe+4]=ue[2],Pe[Qe+5]=ue[3],Ie.faceidx+=6,pe.clickable||ve.clickable||pe.hoverable||ve.hoverable){var ge=X[ue[3]].clone(),$e=X[ue[0]].clone(),ke=X[ue[2]].clone(),it=X[ue[1]].clone();if(ge.atom=X[ue[3]].atom||null,ke.atom=X[ue[2]].atom||null,$e.atom=X[ue[0]].atom||null,it.atom=X[ue[1]].atom||null,le){var st=ge.clone().add($e).multiplyScalar(.5),se=ke.clone().add(it).multiplyScalar(.5),Ge=ge.clone().add(it).multiplyScalar(.5);be%2===0?((ve.clickable||ve.hoverable)&&(Ue=new a.Triangle(st,Ge,ge),Be=new a.Triangle(se,ke,Ge),Se=new a.Triangle(Ge,ke,ge),ve.intersectionShape.triangle.push(Ue),ve.intersectionShape.triangle.push(Be),ve.intersectionShape.triangle.push(Se)),(pe.clickable||pe.hoverable)&&(Ue=new a.Triangle($e,it,Ge),Be=new a.Triangle(it,se,Ge),Se=new a.Triangle($e,Ge,st),pe.intersectionShape.triangle.push(Ue),pe.intersectionShape.triangle.push(Be),pe.intersectionShape.triangle.push(Se))):((pe.clickable||pe.hoverable)&&(Ue=new a.Triangle(st,Ge,ge),Be=new a.Triangle(se,ke,Ge),Se=new a.Triangle(Ge,ke,ge),pe.intersectionShape.triangle.push(Ue),pe.intersectionShape.triangle.push(Be),pe.intersectionShape.triangle.push(Se)),(ve.clickable||ve.hoverable)&&(Ue=new a.Triangle($e,it,Ge),Be=new a.Triangle(it,se,Ge),Se=new a.Triangle($e,Ge,st),ve.intersectionShape.triangle.push(Ue),ve.intersectionShape.triangle.push(Be),ve.intersectionShape.triangle.push(Se)))}else(pe.clickable||pe.hoverable)&&(Ue=new a.Triangle($e,it,ge),Be=new a.Triangle(it,ke,ge),pe.intersectionShape.triangle.push(Ue),pe.intersectionShape.triangle.push(Be))}}}Ie.vertices+=8,ve=pe}var Je=X.length-8;for(Ie=I.updateGeoGroup(8),je=Ie.vertexArray,Ke=Ie.colorArray,Pe=Ie.faceArray,Me=Ie.vertices,_e=Me*3,Qe=Ie.faceidx,ie=0;ie<4;ie++){X.push(X[ie*2]),X.push(X[Je+ie*2]);var pt=X[ie*2],Le=X[Je+ie*2];je[_e+6*ie]=pt.x,je[_e+1+6*ie]=pt.y,je[_e+2+6*ie]=pt.z,je[_e+3+6*ie]=Le.x,je[_e+4+6*ie]=Le.y,je[_e+5+6*ie]=Le.z,Ke[_e+6*ie]=Xe.r,Ke[_e+1+6*ie]=Xe.g,Ke[_e+2+6*ie]=Xe.b,Ke[_e+3+6*ie]=Xe.r,Ke[_e+4+6*ie]=Xe.g,Ke[_e+5+6*ie]=Xe.b}Je+=8,Ue=[Me,Me+2,Me+6,Me+4],Be=[Me+1,Me+5,Me+7,Me+3],Pe[Qe]=Ue[0],Pe[Qe+1]=Ue[1],Pe[Qe+2]=Ue[3],Pe[Qe+3]=Ue[1],Pe[Qe+4]=Ue[2],Pe[Qe+5]=Ue[3],Pe[Qe+6]=Be[0],Pe[Qe+7]=Be[1],Pe[Qe+8]=Be[3],Pe[Qe+9]=Be[1],Pe[Qe+10]=Be[2],Pe[Qe+11]=Be[3],Ie.faceidx+=12,Ie.vertices+=8}}function C(I,H,Y,q,G,$,j){(!j||j==="default")&&(j="rectangle"),j==="edged"?b(I,H,Y,q,G,$):(j==="rectangle"||j==="oval"||j==="parabola")&&y(I,H,Y,q,G,$,j)}function E(I){return I&&I.elem==="C"&&I.atom==="CA"}function p(I,H){if(I&&H&&I.chain===H.chain){if(!I.hetflag&&!H.hetflag&&I.reschain===H.reschain&&(I.resi===H.resi||I.resi===H.resi-1))return!0;if(I.resi<H.resi){var Y=I.x-H.x,q=I.y-H.y,G=I.z-H.z,$=Y*Y+q*q+G*G;if(I.atom=="CA"&&H.atom=="CA"&&$<16)return!0;if((I.atom=="P"||H.atom=="P")&&$<64)return!0}}return!1}function f(I,H,Y,q,G){if(!(H==null||H.vertices==0)){G&&(H.initTypedArrays(),H.setUpNormals());var $=new s.MeshDoubleLambertMaterial;$.vertexColors=s.Coloring.FaceColors,typeof Y=="number"&&Y>=0&&Y<1&&($.transparent=!0,$.opacity=Y),$.outline=q;var j=new s.Mesh(H,$);I.add(j)}}function D(I,H,Y,q,G,$,j,V,X){var Q,te,xe,Ne,ye,Fe;if(!(!q||!G||!j)){var Me=G.sub(q);Me.normalize();var _e=V[X];for(te=X+1;te<V.length&&(_e=V[te],_e.atom!=j.atom);te++);if(_e=_e?new n.Vector3(_e.x,_e.y,_e.z):new n.Vector3(0,0,0),_e.sub(q),j.ss==="arrow start"){var Qe=_e.clone().multiplyScalar(.3).cross(G);q.add(Qe);var Xe=_e.clone().cross(Me).normalize();Me.rotateAboutVector(Xe,.43)}for(j.style.cartoon.ribbon?Q=j.style.cartoon.thickness||w:j.style.cartoon.width?Q=j.style.cartoon.width:j.ss==="c"?j.atom==="P"?Q=S:Q=_:j.ss==="arrow start"?(Q=x,ye=!0):j.ss==="arrow end"||j.ss==="h"&&j.style.cartoon.tubes||j.ss==="tube start"?Q=_:Q=x,$!=null&&Me.dot($)<0&&Me.negate(),Me.multiplyScalar(Q),te=0;te<H;te++)xe=-1+te*2/(H-1),Ne=new n.Vector3(q.x+xe*Me.x,q.y+xe*Me.y,q.z+xe*Me.z),Ne.atom=j,Y&&j.ss==="s"&&(Ne.smoothen=!0),I[te].push(Ne);if(ye)for(Me.multiplyScalar(2),te=0;te<H;te++)xe=-1+te*2/(H-1),Ne=new n.Vector3(q.x+xe*Me.x,q.y+xe*Me.y,q.z+xe*Me.z),Ne.atom=j,Ne.smoothen=!1,Ne.skip=!0,I[te].push(Ne);return Fe=j.style.cartoon.style||"default",I.style?I.style!=Fe&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),I.style="default"):I.style=Fe,(j.ss==="arrow start"||j.ss==="arrow end")&&(j.ss="s"),ye}}let M={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},P={DA:!0,DG:!0,A:!0,G:!0},O={DT:!0,DC:!0,U:!0,C:!0,T:!0},z={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function k(I,H,Y,q=10){let G=q,$=q;var j,V,X,Q,te,xe,Ne,ye,Fe,Me,_e,Qe,Xe,R,pe,ve,ie,de,be=new s.Geometry(!0),Ue=new s.Geometry(!0),Be=[],Se=[],Ie=1,je=!1,Ke={};for(var Pe in o.Gradient.builtinGradients)o.Gradient.builtinGradients.hasOwnProperty(Pe)&&(Ke[Pe]=new o.Gradient.builtinGradients[Pe](Y[1],Y[0]));var ht=function(oe,ut){return Y&&ut.color==="spectrum"?ut.colorscheme in Ke?Ke[ut.colorscheme].valueToHex(oe.resi):Ke.sinebow.valueToHex(oe.resi):(0,g.getColorFromStyle)(oe,ut).getHex()};for(ye=0;ye<G;ye++)Se[ye]=[];var yt=!1,le=!1,ue=[];for(ye in H){if(Q=H[ye],Q.elem==="C"&&Q.atom==="CA"){var ge=p(X,Q);ge&&Q.ss==="s"?yt=!0:yt&&(X&&V&&X.style.cartoon.arrows&&V.style.cartoon.arrows&&(X.ss="arrow end",V.ss="arrow start"),yt=!1),ge&&(X.ss==="h"||X.ss=="tube start")&&X.style.cartoon.tubes?!le&&X.ss!="tube start"&&Q.style.cartoon.tubes&&(Q.ss="tube start",le=!0):le&&(X.ss==="tube start"?X.ss="tube end":V&&V.style.cartoon.tubes&&(V.ss="tube end"),le=!1),V=X,X=Q}Q&&Q.atom in M&&ue.push(Q)}le&&X.style.cartoon.tubes&&(X.ss="tube end",le=!1);var $e=function(oe){Se[0].length>0&&C(Ue,Se,Be,$,Ne,Ie,Se.style);var ut=[],At=null;if(oe){for(ye=0;ye<G;ye++)ut[ye]=Se[ye][Se[ye].length-1];At=Be[Be.length-1]}for(Se=[],ye=0;ye<G;ye++)Se[ye]=[];if(Be=[],oe){for(ye=0;ye<G;ye++)Se[ye].push(ut[ye]);Be.push(At)}f(I,Ue,Ie,je,!0),f(I,be,Ie,je,!1),Ue=new s.Geometry(!0),be=new s.Geometry(!0)};X=void 0;for(var ke=0;ke<ue.length;ke++){Q=ue[ke];var it=Q.resn.trim(),st=it in z;if(Ie=1,j=Q.style.cartoon,X&&X.style.cartoon&&(Ie=X.style.cartoon.opacity),X&&X.style.cartoon&&X.style.cartoon.outline&&(je=X.style.cartoon.outline),X&&X.style.cartoon&&(!Q.style.cartoon||X.style.cartoon.opacity!=Q.style.cartoon.opacity)&&$e(X.chain==Q.chain),j.style==="trace"){if(!Q.hetflag){if(Q.elem==="C"&&Q.atom==="CA"||st&&Q.atom==="P"||Q.atom==="BB"){if(xe=ht(Q,j),(0,g.isNumeric)(j.thickness)?Ne=j.thickness:Ne=w,p(X,Q))if(xe==te){var se=u.CC.color(xe);l.GLDraw.drawCylinder(be,X,Q,Ne,se,2,2)}else{var Ge=new n.Vector3().addVectors(X,Q).multiplyScalar(.5),Je=u.CC.color(te),pt=u.CC.color(xe);l.GLDraw.drawCylinder(be,X,Ge,Ne,Je,2,0),l.GLDraw.drawCylinder(be,Ge,Q,Ne,pt,0,2)}if((Q.clickable===!0||Q.hoverable)&&Q.intersectionShape!==void 0){var Le=new n.Vector3(Q.x,Q.y,Q.z);Q.intersectionShape.sphere.push(new a.Sphere(Le,Ne))}X=Q,te=xe}}}else{if(E(Q)||st&&(Q.atom==="P"||Q.atom.indexOf("O5")==0)){if(de)if(Q.ss==="tube end")de=!1,ie=new n.Vector3(Q.x,Q.y,Q.z),l.GLDraw.drawCylinder(be,ve,ie,2,u.CC.color(te),1,1),Q.ss="h";else if(X.chain!=Q.chain||X.ss==="tube end")de=!1,X.ss="h",ie=new n.Vector3(X.x,X.y,X.z),l.GLDraw.drawCylinder(be,ve,ie,2,u.CC.color(te),1,1);else continue;if(X&&(!p(X,Q)||X.ss==="tube start")){for(X.ss==="tube start"&&(de=!0,ve=new n.Vector3(X.x,X.y,X.z),X.ss="h"),pe&&(Qe?R=new n.Vector3().addVectors(X,Qe).multiplyScalar(.5):R=new n.Vector3(X.x,X.y,X.z),l.GLDraw.drawCylinder(be,R,pe,c,u.CC.color(pe.color),0,2),D(Se,G,!0,Qe,Xe,_e,X,ue,ke),Be.push(xe),R=null,pe=null),Se[0].length>0&&C(Ue,Se,Be,$,Ne,Ie,Se.style),Se=[],ye=0;ye<G;ye++)Se[ye]=[];Be=[]}if(X===void 0||X.rescode!=Q.rescode||X.resi!=Q.resi){if(pe){R=new n.Vector3().addVectors(X,Q).multiplyScalar(.5);var ot=R.clone().sub(pe).multiplyScalar(.02);R.add(ot),l.GLDraw.drawCylinder(be,R,pe,c,u.CC.color(pe.color),0,2),R=null,pe=null}xe=ht(Q,j),Be.push(xe),(0,g.isNumeric)(j.thickness)?Ne=j.thickness:Ne=w,X=Q,Fe=new n.Vector3(X.x,X.y,X.z),Fe.resi=X.resi,te=xe}(Q.clickable===!0||Q.hoverable===!0)&&(Q.intersectionShape===void 0||Q.intersectionShape.triangle===void 0)&&(Q.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else E(X)&&Q.atom==="O"||st&&X.atom==="P"&&(Q.atom==="OP2"||Q.atom==="O2P")||st&&X.atom.indexOf("O5")==0&&Q.atom.indexOf("C5")==0?(Me=new n.Vector3(Q.x,Q.y,Q.z),Me.resi=Q.resi,(Q.atom==="OP2"||Q.atom==="O2P")&&(Xe=new n.Vector3(Q.x,Q.y,Q.z))):st&&Q.atom.indexOf("O3")==0?Qe=new n.Vector3(Q.x,Q.y,Q.z):(Q.atom==="N1"&&it in P||Q.atom==="N3"&&it in O)&&(pe=new n.Vector3(Q.x,Q.y,Q.z),pe.color=(0,g.getColorFromStyle)(Q,j).getHex());Me&&Fe&&Me.resi===Fe.resi&&(D(Se,G,!0,Fe,Me,_e,X,ue,ke),_e=Me,Fe=null,Me=null,Be.push(xe))}}pe&&(Qe?R=new n.Vector3().addVectors(X,Qe).multiplyScalar(.5):R=new n.Vector3(X.x,X.y,X.z),l.GLDraw.drawCylinder(be,R,pe,c,u.CC.color(pe.color),0,2),D(Se,G,!0,Qe,Xe,_e,X,ue,ke),Be.push(xe)),$e(!1)}},"./src/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CAP:()=>c.CAP,CC:()=>a.CC,Color:()=>a.Color,CustomLinear:()=>n.CustomLinear,Cylinder:()=>g.Cylinder,GLDraw:()=>c.GLDraw,GLModel:()=>y.GLModel,GLShape:()=>w.GLShape,GLViewer:()=>b.GLViewer,GLVolumetricRender:()=>S.GLVolumetricRender,Gradient:()=>n.Gradient,GradientType:()=>n.GradientType,Label:()=>s.Label,LabelCount:()=>s.LabelCount,MarchingCube:()=>_.MarchingCube,MarchingCubeInitializer:()=>_.MarchingCubeInitializer,Matrix3:()=>l.Matrix3,Matrix4:()=>l.Matrix4,Parsers:()=>u.Parsers,PausableTimer:()=>h.PausableTimer,PointGrid:()=>_.PointGrid,ProteinSurface:()=>_.ProteinSurface,Quaternion:()=>l.Quaternion,ROYGB:()=>n.ROYGB,RWB:()=>n.RWB,Ray:()=>l.Ray,Sinebow:()=>n.Sinebow,Sphere:()=>g.Sphere,SurfaceType:()=>_.SurfaceType,Triangle:()=>g.Triangle,Vector2:()=>l.Vector2,Vector3:()=>l.Vector3,VolumeData:()=>x.VolumeData,adjustVolumeStyle:()=>h.adjustVolumeStyle,applyPartialCharges:()=>o.applyPartialCharges,autoinit:()=>C.autoinit,autoload:()=>C.autoload,base64ToArray:()=>h.base64ToArray,bondLength:()=>u.bondLength,builtinColorSchemes:()=>a.builtinColorSchemes,builtinGradients:()=>n.builtinGradients,chains:()=>a.chains,clamp:()=>l.clamp,conversionMatrix3:()=>l.conversionMatrix3,createStereoViewer:()=>b.createStereoViewer,createViewer:()=>b.createViewer,createViewerGrid:()=>b.createViewerGrid,deepCopy:()=>h.deepCopy,degToRad:()=>l.degToRad,download:()=>h.download,drawCartoon:()=>v.drawCartoon,elementColors:()=>a.elementColors,extend:()=>h.extend,get:()=>h.get,getAtomProperty:()=>h.getAtomProperty,getColorFromStyle:()=>h.getColorFromStyle,getElement:()=>h.getElement,getExtent:()=>h.getExtent,getGradient:()=>n.getGradient,getPropertyRange:()=>h.getPropertyRange,getbin:()=>h.getbin,htmlColors:()=>a.htmlColors,isEmptyObject:()=>h.isEmptyObject,isNumeric:()=>h.isNumeric,makeFunction:()=>h.makeFunction,mergeGeos:()=>h.mergeGeos,normalizeValue:()=>n.normalizeValue,partialCharges:()=>o.partialCharges,processing_autoinit:()=>C.processing_autoinit,residues:()=>a.residues,setBondLength:()=>u.setBondLength,setSyncSurface:()=>_.setSyncSurface,specStringToObject:()=>h.specStringToObject,splitMesh:()=>w.splitMesh,ssColors:()=>a.ssColors,subdivide_spline:()=>v.subdivide_spline,syncSurface:()=>_.syncSurface,viewers:()=>C.viewers});var n=r("./src/Gradient.ts"),a=r("./src/colors.ts"),s=r("./src/Label.ts"),o=r("./src/partialCharges.ts"),u=r("./src/parsers/index.ts"),l=r("./src/WebGL/math/index.ts"),g=r("./src/WebGL/shapes/index.ts"),h=r("./src/utilities.ts"),_=r("./src/ProteinSurface4.ts"),x=r("./src/VolumeData.ts"),S=r("./src/VolumetricRender.ts"),w=r("./src/GLShape.ts"),c=r("./src/GLDraw.ts"),v=r("./src/glcartoon.ts"),y=r("./src/GLModel.ts"),b=r("./src/GLViewer.ts"),C=r("./src/autoload.ts"),E=r("./src/specs.ts");window&&(window.$3Dmol=t)},"./src/parsers/CDJSON.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CDJSON:()=>n});function n(a,s){var o=[[]];typeof a=="string"&&(a=JSON.parse(a));for(var u=a.m,l=u[0].a,g=u[0].b,h=u[0].s,_=s!==void 0&&s.parseStyle!==void 0?s.parseStyle:h!==void 0,x=o[o.length-1].length,S=0;S<l.length;S++){var w=l[S],c={};c.id=w.i,c.x=w.x,c.y=w.y,c.z=w.z||0,c.bonds=[],c.bondOrder=[];var v=w.l||"C";c.elem=v[0].toUpperCase()+v.substring(1).toLowerCase(),c.serial=o[o.length-1].length,_&&(c.style=h[w.s||0]),o[o.length-1].push(c)}for(let y=0;y<g.length;y++){let b=g[y],C=b.b+x,E=b.e+x,p=b.o||1,f=o[o.length-1][C],D=o[o.length-1][E];f.bonds.push(E),f.bondOrder.push(p),D.bonds.push(C),D.bondOrder.push(p)}return o}},"./src/parsers/CIF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CIF:()=>u});var n=r("./src/parsers/utils/assignBonds.ts"),a=r("./src/parsers/utils/computeSecondaryStructure.ts"),s=r("./src/parsers/utils/processSymmetries.ts"),o=r("./src/WebGL/index.ts");function u(l,g={}){var h=[],_=!g.doAssembly,x=h.modelData=[],S=g.assignBonds===void 0?!0:g.assignBonds,w=function(ue,ge,$e,ke){return new o.Vector3(ge,$e,ke).applyMatrix3(ue)};function c(ue,ge){for(var $e=[],ke=0,it=0;it<ue.length;){for(;ue.substring(it,it+ge.length)!==ge&&it<ue.length;){if(ue[it]==="'")for(it++;it<ue.length&&ue[it]!=="'";)it++;else if(ue[it]==='"')for(it++;it<ue.length&&ue[it]!=='"';)it++;it++}$e.push(ue.substring(ke,it)),ke=it=it+ge.length}return $e}var v=l.split(/\r?\n|\r/),y=[],b=!1;for(let ue=0;ue<v.length;ue++){var C=v[ue].split("#")[0];if(b?C[0]===";"&&(b=!1):C[0]===";"&&(b=!0),b||C!==""){if(!b&&(C=C.trim(),C[0]==="_")){var E=C.split(/\s/)[0].indexOf(".");if(E>-1){let ge=C.split("");ge[E]="_",C=ge.join(""),C=C.substring(0,E)+"_"+C.substring(E+1)}}y.push(C)}}for(var p=0;p<y.length;){for(;!y[p].startsWith("data_")||y[p]==="data_global";)p++;p++;for(var f={};p<y.length&&!y[p].startsWith("data_");)if(y[p][0]===void 0)p++;else if(y[p][0]==="_"){var D=y[p].split(/\s/)[0].toLowerCase(),M=f[D]=f[D]||[],P=y[p].substring(y[p].indexOf(D)+D.length);if(P==="")if(p++,y[p][0]===";"){var O=y[p].substring(1);for(p++;y[p]!==";";)O=O+`
`+y[p],p++;M.push(O)}else M.push(y[p]);else M.push(P.trim());p++}else if(y[p].substring(0,5)==="loop_"){p++;for(var z=[];y[p]===""||y[p][0]==="_";){if(y[p]!==""){let ue=y[p].split(/\s/)[0].toLowerCase(),ge=f[ue]=f[ue]||[];z.push(ge)}p++}for(var k=0;p<y.length&&y[p][0]!=="_"&&!y[p].startsWith("loop_")&&!y[p].startsWith("data_");){let ue=c(y[p]," ");for(var I=0;I<ue.length;I++)ue[I]!==""&&(z[k].push(ue[I]),k=(k+1)%z.length);p++}}else p++;x.push({symmetries:[]}),h.push([]);var H=f._atom_site_id!==void 0?f._atom_site_id.length:f._atom_site_label.length,Y;if(f._cell_length_a!==void 0){var q=parseFloat(f._cell_length_a),G=parseFloat(f._cell_length_b),$=parseFloat(f._cell_length_c),j=parseFloat(f._cell_angle_alpha)||90,V=parseFloat(f._cell_angle_beta)||90,X=parseFloat(f._cell_angle_gamma)||90;Y=(0,o.conversionMatrix3)(q,G,$,j,V,X),x[x.length-1].cryst={a:q,b:G,c:$,alpha:j,beta:V,gamma:X}}for(var Q=0;Q<H;Q++)if(!(f._atom_site_group_pdb!==void 0&&f._atom_site_group_pdb[Q]==="TER")){var te={};if(f._atom_site_cartn_x!==void 0)te.x=parseFloat(f._atom_site_cartn_x[Q]),te.y=parseFloat(f._atom_site_cartn_y[Q]),te.z=parseFloat(f._atom_site_cartn_z[Q]);else{var xe=w(Y,parseFloat(f._atom_site_fract_x[Q]),parseFloat(f._atom_site_fract_y[Q]),parseFloat(f._atom_site_fract_z[Q]));te.x=xe.x,te.y=xe.y,te.z=xe.z}te.chain=f._atom_site_auth_asym_id?f._atom_site_auth_asym_id[Q]:void 0,te.resi=f._atom_site_auth_seq_id?parseInt(f._atom_site_auth_seq_id[Q]):void 0,te.resn=f._atom_site_auth_comp_id?f._atom_site_auth_comp_id[Q].trim():void 0,te.atom=f._atom_site_auth_atom_id?f._atom_site_auth_atom_id[Q].replace(/"/gm,""):void 0,te.hetflag=!f._atom_site_group_pdb||f._atom_site_group_pdb[Q]==="HETA"||f._atom_site_group_pdb[Q]==="HETATM";var Ne="X";f._atom_site_type_symbol?Ne=f._atom_site_type_symbol[Q].replace(/\(?\+?\d+.*/,""):f._atom_site_label&&(Ne=f._atom_site_label[Q].split("_")[0].replace(/\(?\d+.*/,"")),te.elem=Ne[0].toUpperCase()+Ne.substring(1,2).toLowerCase(),te.bonds=[],te.ss="c",te.serial=Q,te.bondOrder=[],te.properties={},h[h.length-1].push(te)}if(f._pdbx_struct_oper_list_id!==void 0&&!_)for(let ue=0;ue<f._pdbx_struct_oper_list_id.length;ue++){var ye=parseFloat(f["_pdbx_struct_oper_list_matrix[1][1]"][ue]),Fe=parseFloat(f["_pdbx_struct_oper_list_matrix[1][2]"][ue]),Me=parseFloat(f["_pdbx_struct_oper_list_matrix[1][3]"][ue]),_e=parseFloat(f["_pdbx_struct_oper_list_vector[1]"][ue]),Qe=parseFloat(f["_pdbx_struct_oper_list_matrix[2][1]"][ue]),Xe=parseFloat(f["_pdbx_struct_oper_list_matrix[2][2]"][ue]),R=parseFloat(f["_pdbx_struct_oper_list_matrix[2][3]"][ue]),pe=parseFloat(f["_pdbx_struct_oper_list_vector[2]"][ue]),ve=parseFloat(f["_pdbx_struct_oper_list_matrix[3][1]"][ue]),ie=parseFloat(f["_pdbx_struct_oper_list_matrix[3][2]"][ue]),de=parseFloat(f["_pdbx_struct_oper_list_matrix[3][3]"][ue]),be=parseFloat(f["_pdbx_struct_oper_list_vector[3]"][ue]),Ue=new o.Matrix4(ye,Fe,Me,_e,Qe,Xe,R,pe,ve,ie,de,be);x[x.length-1].symmetries.push(Ue)}var Be=function(ue){var ge=ue.match("-");ue=ue.replace(/[-xyz]/g,"");var $e=ue.split("/"),ke,it;return $e[1]===void 0?it=1:it=parseInt($e[1]),$e[0]===""?ke=1:ke=parseInt($e[0]),ke/it*(ge?-1:1)};if(f._symmetry_equiv_pos_as_xyz!==void 0&&!_)for(var Se=0;Se<f._symmetry_equiv_pos_as_xyz.length;Se++){var Ie=f._symmetry_equiv_pos_as_xyz[Se].replace(/["' ]/g,""),je=Ie.split(",").map(function(ge){return ge.replace(/-/g,"+-")});let ue=new o.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let ge=0;ge<3;ge++){var Ke=je[ge].split("+");for(let $e=0;$e<Ke.length;$e++){var Pe=Ke[$e];if(Pe!==""){var ht=Be(Pe);Pe.match("x")?ue.elements[ge+0]=ht:Pe.match("y")?ue.elements[ge+4]=ht:Pe.match("z")?ue.elements[ge+8]=ht:ue.elements[ge+12]=ht}}}var yt=Y.getMatrix4(),le=new o.Matrix4().getInverse(yt,!0);ue=new o.Matrix4().multiplyMatrices(ue,le),ue=new o.Matrix4().multiplyMatrices(yt,ue),x[x.length-1].symmetries.push(ue)}}for(let ue=0;ue<h.length;ue++)S&&(0,n.assignBonds)(h[ue]),(0,a.computeSecondaryStructure)(h[ue],g.hbondCutoff),(0,s.processSymmetries)(x[ue].symmetries,h[ue],g,x[ue].cryst),g.duplicateAssemblyAtoms&&!g.dontConnectDuplicatedAtoms&&S&&(0,n.assignBonds)(h[ue]);return h}},"./src/parsers/CUBE.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CUBE:()=>o});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/assignBonds.ts"),s=r("./src/parsers/utils/anumToSymbol.ts");function o(u,l){l=l||{};var g=[[]],h=u.split(/\r?\n/),_=l.assignBonds===void 0?!0:l.assignBonds;if(h.length<6)return g;var x=h[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),S=Math.abs(parseFloat(x[0]));let w={};var c=w.origin=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3]));x=h[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),x=h[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var v=x[0]>0?.529177:1;c.multiplyScalar(v);var y=Math.abs(x[0]),b=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])).multiplyScalar(v);x=h[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var C=Math.abs(x[0]),E=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])).multiplyScalar(v);x=h[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var p=Math.abs(x[0]),f=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])).multiplyScalar(v);if(w.size={x:y,y:C,z:p},w.unit=new n.Vector3(b.x,E.y,f.z),b.y!=0||b.z!=0||E.x!=0||E.z!=0||f.x!=0||f.y!=0){w.matrix4=new n.Matrix4(b.x,E.x,f.x,0,b.y,E.y,f.y,0,b.z,E.z,f.z,0,0,0,0,1);let I=new n.Matrix4().makeTranslation(c.x,c.y,c.z);w.matrix4=w.matrix4.multiplyMatrices(I,w.matrix4),w.matrix=w.matrix4.matrix3FromTopLeft(),w.origin=new n.Vector3(0,0,0),w.unit=new n.Vector3(1,1,1)}g.modelData=[{cryst:w}],h=h.splice(6,S);for(var D=g[g.length-1].length,M=D+h.length,P=D;P<M;++P){var O={};O.serial=P;var z=h[P-D],k=z.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");O.elem=s.anumToSymbol[k[0]],O.x=parseFloat(k[2])*v,O.y=parseFloat(k[3])*v,O.z=parseFloat(k[4])*v,O.hetflag=!0,O.bonds=[],O.bondOrder=[],O.properties={},g[g.length-1].push(O)}if(_)for(let I=0;I<g.length;I++)(0,a.assignBonds)(g[I]);return g}},"./src/parsers/GRO.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GRO:()=>s});var n=r("./src/parsers/utils/assignPDBBonds.ts"),a=r("./src/parsers/utils/atomNameToElem.ts");function s(o){for(var u=[],l=o.split(/\r?\n|\r/);l.length>0&&!(l.length<3);){var g=parseInt(l[1]);if(isNaN(g)||g<=0||l.length<g+3)break;var h=[];u.push(h);for(var _=2,x=h.length,S=x+g,w=x;w<S;w++){var c=l[_++],v={};v.serial=w,v.atom=c.slice(10,15).trim(),v.elem=(0,a.atomNameToElem)(v.atom,!0),v.x=10*parseFloat(c.slice(20,28)),v.y=10*parseFloat(c.slice(28,36)),v.z=10*parseFloat(c.slice(36,44)),v.resi=parseInt(c.slice(0,5)),v.resn=c.slice(5,10).trim(),v.bonds=[],v.bondOrder=[],v.properties={},c.length>44&&(v.dx=10*parseFloat(c.slice(44,52)),v.dy=10*parseFloat(c.slice(52,60)),v.dz=10*parseFloat(c.slice(60,68))),h[w]=v}if(l.length<=_+3){var y=l[_++],b=y.trim().split(/\s+/);if(b.length==3){for(var C=0;C<3;C++)b[C]=parseFloat(b[C])*10;u.box=b}}l.splice(0,++_)}for(let E=0;E<u.length;E++)(0,n.assignPDBBonds)(u[E]);return u}},"./src/parsers/LAMMPSTRJ.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{LAMMPSTRJ:()=>a});var n=r("./src/parsers/utils/assignBonds.ts");function a(s,o){for(var u=[],l={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"},g=s.split(/\r?\n|\r/),h=0,_=0,x=0;x<g.length-9;){for(var S=x;S<g.length;S++)if(g[S].match(/ITEM: NUMBER OF ATOMS/)&&(_=parseInt(g[S+1])),g[S].match(/ITEM: ATOMS/)){h=S+1;break}var w=g[h-1].replace("ITEM: ATOMS ","").split(" ");u.push([]);for(let p=h;p<h+_;p++){for(var c={},v={},y=g[p].split(" "),b=0;b<y.length;b++){var C=l[w[b]];C!=null&&(C=="serial"?c[C]=parseInt(y[b]):C=="x"||C=="y"||C==="z"?c[C]=parseFloat(y[b]):C=="charge"||C=="radius"?v[C]=parseFloat(y[b]):c[C]=y[b]),c.properties=v,c.bonds=[],c.bondOrder=[]}u[u.length-1][p-h]=c}x=h+_-1}if(o.assignBonds)for(var E=0;E<u.length;E++)(0,n.assignBonds)(u[E]);return u}},"./src/parsers/MMTF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MMTFparser:()=>_});var n=r("./src/utilities.ts"),a=r("./src/WebGL/index.ts"),s=r("./src/parsers/utils/computeSecondaryStructure.ts"),o=r("./src/parsers/utils/processSymmetries.ts"),u=r("./src/vendor/mmtf.js"),l=function(x){return String.fromCharCode.apply(null,x).replace(/\0/g,"")},g=function(x){return x==0||x==2||x==4?"h":x==3?"s":"c"};let h=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function _(x,S){var w=!S.keepH,c=S.altLoc?S.altLoc:"A",v=!!S.noSecondaryStructure,y=!S.noComputeSecondaryStructure,b=!S.doAssembly,C=S.assemblyIndex?S.assemblyIndex:0;typeof x=="string"?x=(0,n.base64ToArray)(x):x=new Uint8Array(x);var E=u.decode(x),p=[[]],f=p.modelData=[],D=0,M=0,P=0,O=E.secStructList,z=E.bFactorList,k=E.altLocList,I=E.occupancyList,H=E.bondAtomList,Y=E.bondOrderList,q=E.numModels;if(q==0)return p;S.multimodel||(q=1);var G,$,j,V,X,Q,te=[];if(!b&&E.bioAssemblyList&&E.bioAssemblyList.length>0){var xe=E.bioAssemblyList[C].transformList;for(G=0,Q=xe.length;G<Q;G++){var Ne=new a.Matrix4(xe[G].matrix);Ne.transpose(),te.push(Ne)}}var ye=null;if(E.unitCell){var Fe=E.unitCell;ye={a:Fe[0],b:Fe[1],c:Fe[2],alpha:Fe[3],beta:Fe[4],gamma:Fe[5]}}let Me=[];E.entityList.forEach(Ye=>{Ye.chainIndexList.forEach(ce=>{Me[ce]=Ye.type=="polymer"})});var _e=0;for(X=0;X<q;X++){var Qe=E.chainsPerModel[X],Xe=p[p.length-1],R=[];for(f.push({symmetries:te,cryst:ye}),G=0;G<Qe;++G){var pe=E.groupsPerChain[D],ve=l(E.chainIdList.subarray(D*4,D*4+4));E.chainNameList&&(ve=l(E.chainNameList.subarray(D*4,D*4+4)));var ie=M,de="";for($=0;$<pe;++$){var be=E.groupList[E.groupTypeList[M]],Ue=be.atomNameList.length,Be=0,Se=!1,Ie=!1;if(O){Be=O[M];var je=g(Be);(M==0||je!=de)&&(Se=!0),de=je;var Ke=M+1;(Ke>=O.length||g(O[Ke]!=je))&&(Ie=!0)}var Pe=E.groupIdList[M],ht=be.groupName;let Ye=be.chemCompType;var yt=P;let ce=h.has(Ye)||!Me[D];for(j=0;j<Ue;++j){var le=be.elementList[j];if(w&&le=="H"){P+=1;continue}var ue="";z&&(ue=z[P]);var ge="";k&&k[P]&&(ge=String.fromCharCode(k[P]));var $e="";if(I&&($e=I[P]),ge!=""&&ge!=c&&c!="*"){P+=1;continue}var ke=E.atomIdList[P],it=be.atomNameList[j],st=0;be.atomChargeList&&(st=be.atomChargeList[j]);var se=E.xCoordList[P],Ge=E.yCoordList[P],Je=E.zCoordList[P];R[P]=Xe.length,Xe.push({resn:ht,x:se,y:Ge,z:Je,elem:le,hetflag:ce,chain:ve,resi:Pe,icode:ge,rescode:Pe+(ge!=" "?"^"+ge:""),serial:ke,altLoc:ge,index:P,atom:it,bonds:[],ss:g(Be),ssbegin:Se,ssend:Ie,bondOrder:[],properties:{charge:st,occupancy:$e},b:ue}),P+=1}var pt=be.bondAtomList;for(j=0,V=be.bondOrderList.length;j<V;++j){var Le=yt+pt[j*2],ot=yt+pt[j*2+1],oe=be.bondOrderList[j],ut=R[Le],At=R[ot],W=Xe[ut],Ve=Xe[At];W&&Ve&&(W.bonds.push(At),W.bondOrder.push(oe),Ve.bonds.push(ut),Ve.bondOrder.push(oe))}M+=1}for(M=ie,$=0;$<pe;++$)M+=1;D+=1}if(H)for(let Ye=_e,ce=H.length;Ye<ce;Ye+=2){let ze=H[Ye],et=H[Ye+1],Lt=Y?Y[Ye/2]:1;if(ze>=P){_e=Ye;break}let Mt=R[ze],at=R[et],qt=Xe[Mt],Yr=Xe[at];qt&&Yr&&(qt.bonds.push(at),qt.bondOrder.push(Lt),Yr.bonds.push(Mt),Yr.bondOrder.push(Lt))}S.multimodel&&(S.onemol||p.push([]))}if(!b)for(let Ye=0;Ye<p.length;Ye++)(0,o.processSymmetries)(f[Ye].symmetries,p[Ye],S,f[Ye].cryst);return y&&!v&&(0,s.computeSecondaryStructure)(p,S.hbondCutoff),p}},"./src/parsers/MOL2.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MOL2:()=>a});let n={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function a(s,o){var u=[[]],l=!1;typeof o.keepH<"u"&&(l=!o.keepH);var g=s.search(/@<TRIPOS>MOLECULE/),h=s.search(/@<TRIPOS>ATOM/);if(g==-1||h==-1)return u;for(var _=s.substring(g).split(/\r?\n|\r/);_.length>0;){var x=[],S=_[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w=parseInt(S[0]),c=0;S.length>1&&(c=parseInt(S[1]));var v=4,y;for(y=3;y<_.length;y++)if(_[y]=="@<TRIPOS>ATOM"){v=y+1;break}var b=u[u.length-1].length,C=b+w,E;for(y=b;y<C;y++){E=_[v++],S=E.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var p={},f=S[5];if(n[f]!==void 0?f=n[f]:(f=f.split(".")[0],f=f[0].toUpperCase()+f.substring(1).toLowerCase()),p.atom=S[1],p.elem=f,!(p.elem=="H"&&l)){var D=u[u.length-1].length,M=parseInt(S[0]);p.serial=M,p.x=parseFloat(S[2]),p.y=parseFloat(S[3]),p.z=parseFloat(S[4]),p.atom=S[5];var P=parseFloat(S[8]);p.index=D,p.bonds=[],p.bondOrder=[],p.properties={charge:P,partialCharge:P},x[M]=D,u[u.length-1].push(p)}}for(var O=!1;v<_.length;)if(_[v++]=="@<TRIPOS>BOND"){O=!0;break}if(O&&c)for(y=0;y<c;y++){E=_[v++],S=E.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var z=parseInt(S[1]),k=u[u.length-1][x[z]],I=parseInt(S[2]),H=u[u.length-1][x[I]],Y=parseInt(S[3]);isNaN(Y)&&(Y=1),k!==void 0&&H!==void 0&&(k.bonds.push(x[I]),k.bondOrder.push(Y),H.bonds.push(x[z]),H.bondOrder.push(Y))}if(o.multimodel){o.onemol||u.push([]),_.splice(0,v),s=_.join(`
`);continue}else break}return u}},"./src/parsers/PDB.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PDB:()=>a});var n=r("./src/parsers/utils/getSinglePDB.ts");function a(s,o){o=o||{};var u=[],l={};u.modelData=[];for(var g=s.split(/\r?\n|\r/);g.length>0;){var h=(0,n.getSinglePDB)(g,o,l),_=h[0],x=h[1];if(g=h[2],_.length!=0){if(o.multimodel&&o.onemol&&u.length>0)for(var S=u[0].length,w=0;w<_.length;w++){var c=_[w];c.index=w;for(var v=0;v<c.bonds.length;v++)c.bonds[v]+=S;u[0].push(c)}else u.modelData.push(x),u.push(_);if(!o.multimodel)break}}return u}},"./src/parsers/PQR.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PQR:()=>s});var n=r("./src/parsers/utils/assignPDBBonds.ts"),a=r("./src/parsers/utils/computeSecondaryStructure.ts");function s(o,u){var l=[[]],g=!u.noSecondaryStructure;l.modelData=[{symmetries:[]}];var h=[],_=o.split(/\r?\n|\r/),x;for(let O=0;O<_.length;O++){x=_[O].replace(/^\s*/,"");var S=x.substring(0,6);if(S.indexOf("END")==0)if(u.multimodel){u.onemol||l.push([]);continue}else break;else if(S=="ATOM  "||S=="HETATM"){var w;let z=parseInt(x.substring(6,11)),k=x.substring(12,16).replace(/ /g,""),I=x.substring(17,20).trim(),H=x.substring(21,22),Y=parseInt(x.substring(22,26));var c=x.substring(30).trim().split(/\s+/),v=parseFloat(c[0]),y=parseFloat(c[1]),b=parseFloat(c[2]),C=parseFloat(c[3]),E=parseFloat(c[4]),p=k[0];k.length>1&&k[1].toUpperCase()!=k[1]&&(p=k.substring(0,2)),x[0]=="H"?w=!0:w=!1,h[z]=l[l.length-1].length,l[l.length-1].push({resn:I,x:v,y,z:b,elem:p,hetflag:w,chain:H,resi:Y,serial:z,atom:k,bonds:[],ss:"c",bondOrder:[],properties:{charge:C,partialCharge:C,radius:E},pdbline:x})}else if(S=="CONECT"){var f=parseInt(x.substring(6,11)),D=l[l.length-1][h[f]];for(let z=0;z<4;z++){var M=parseInt(x.substring([11,16,21,26][z],[11,16,21,26][z]+5)),P=l[l.length-1][h[M]];D!==void 0&&P!==void 0&&(D.bonds.push(h[M]),D.bondOrder.push(1))}}}for(let O=0;O<l.length;O++)(0,n.assignPDBBonds)(l[O]),g&&(0,a.computeSecondaryStructure)(l[O],u.hbondCutoff);return l}},"./src/parsers/PRMTOP.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PRMTOP:()=>n});function n(a){var s=[],o,u=0,l=a.split(/\r?\n|\r/);if(l.length>0&&l[0].includes("VERSION")){var g=l.filter(function(v){return v.includes("POINTERS")||v.includes("ATOM_NAME")||v.includes("CHARGE")||v.includes("RADII")||v.includes("BONDS_INC_HYDROGEN")||v.includes("BONDS_WITHOUT_HYDROGEN")}),h=w("POINTERS");if(h==-1)return[];var _=c(h),x=parseInt(l[h+1].slice(0,_[1]));if(isNaN(x)||x<=0)return[];if(h=w("ATOM_NAME"),h==-1)return[];_=c(h);var S=_[0];for(let v=0;v<x/_[0];v++){v==parseInt(x/_[0])&&(S=x%_[0]);for(let y=0;y<S;y++){let b={},C={charge:"",radii:""};b.serial=u,b.x=0,b.y=0,b.z=0,b.atom=l[h+1].slice(_[1]*y,_[1]*(y+1)),b.elem=l[h+1].slice(_[1]*y,_[1]*y+1),b.properties=C,b.bonds=[],b.bondOrder=[],s.push(b),u++}h++}if(h=w("CHARGE"),h!=-1){_=c(h),u=0,S=_[0];for(let v=0;v<x/_[0];v++){v==parseInt(x/_[0])&&(S=x%_[0]);for(let y=0;y<S;y++)s[u].properties.charge=parseFloat(l[h+1].slice(_[1]*y,_[1]*(y+1))),u++;h++}}if(h=w("RADII"),h!=-1){_=c(h),u=0,S=_[0];for(let v=0;v<x/_[0];v++){v==parseInt(x/_[0])&&(S=x%_[0]);for(let y=0;y<S;y++)s[u].properties.radii=parseFloat(l[h+1].slice(_[1]*y,_[1]*(y+1))),u++;h++}}if(h=w("BONDS_WITHOUT_HYDROGEN"),h!=-1)for(_=c(h),u=0,S=_[0],h=h+1;!l[h].match(/^%FLAG/);){l[h+1].match(/^%FLAG/)&&(S=x%_[0]);for(let v=0;v<S;v++)u%3==0?o=parseInt(l[h].slice(_[1]*v,_[1]*(v+1))/3):u%3==1&&s[o].bonds.push(parseInt(l[h].slice(_[1]*v,_[1]*(v+1))/3)),u++;h++}if(h=w("BONDS_INC_HYDROGEN"),h!=-1)for(_=c(h),u=0,S=_[0],h=h+1;!l[h].match(/^%FLAG/);){l[h+1].match(/^%FLAG/)&&(S=x%_[0]);for(let v=0;v<S;v++)u%3==0?o=parseInt(l[h].slice(_[1]*v,_[1]*(v+1))/3):u%3==1&&s[o].bonds.push(parseInt(l[h].slice(_[1]*v,_[1]*(v+1))/3)),u++;h++}}else return[];function w(v){var y=l.indexOf(g.filter(function(b){return b.includes(v)})[0]);if(Number.isInteger(y)&&y>0){for(;!l[y].includes("FORMAT");)y++;return y}else return-1}function c(v){var y=l[v].match(/\((\d*)\S*/),b=l[v].match(/[a-zA-Z](\d*)\)\s*/);return b==null&&(b=l[v].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[y[1],b[1]]}return[s]}},"./src/parsers/SDF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SDF:()=>s});var n=function(o,u){var l=[[]],g=!1;for(typeof u.keepH<"u"&&(g=!u.keepH);o.length>0&&!(o.length<4);){var h=parseInt(o[3].substring(0,3));if(isNaN(h)||h<=0)break;var _=parseInt(o[3].substring(3,6)),x=4;if(o.length<4+h+_)break;var S=[],w=l[l.length-1].length,c=w+h,v,y;for(v=w;v<c;v++,x++){y=o[x];var b={},C=y.substring(31,34).replace(/ /g,"");b.atom=b.elem=C[0].toUpperCase()+C.substring(1).toLowerCase(),(b.elem!=="H"||!g)&&(b.serial=v,S[v]=l[l.length-1].length,b.x=parseFloat(y.substring(0,10)),b.y=parseFloat(y.substring(10,20)),b.z=parseFloat(y.substring(20,30)),b.hetflag=!0,b.bonds=[],b.bondOrder=[],b.properties={},b.index=l[l.length-1].length,l[l.length-1].push(b))}for(v=0;v<_;v++,x++){y=o[x];var E=S[parseInt(y.substring(0,3))-1+w],p=S[parseInt(y.substring(3,6))-1+w],f=parseFloat(y.substring(6));typeof E<"u"&&typeof p<"u"&&(l[l.length-1][E].bonds.push(p),l[l.length-1][E].bondOrder.push(f),l[l.length-1][p].bonds.push(E),l[l.length-1][p].bondOrder.push(f))}if(u.multimodel){for(u.onemol||l.push([]);o[x]!=="$$$$"&&x<o.length;)x++;o.splice(0,++x)}else break}return l},a=function(o,u){var l=[[]],g=!1;for(typeof u.keepH<"u"&&(g=!u.keepH);o.length>0&&!(o.length<8||!o[4].startsWith("M  V30 BEGIN CTAB")||!o[5].startsWith("M  V30 COUNTS")||o[5].length<14);){var h=o[5].substring(13).match(/\S+/g);if(h.length<2)break;var _=parseInt(h[0]);if(isNaN(_)||_<=0)break;var x=parseInt(h[1]),S=7;if(o.length<8+_+x)break;var w=[],c=l[l.length-1].length,v=c+_,y,b;for(y=c;y<v;y++,S++){b=o[S];var C=b.substring(6).match(/\S+/g);if(C.length>4){var E={},p=C[1].replace(/ /g,"");E.atom=E.elem=p[0].toUpperCase()+p.substring(1).toLowerCase(),(E.elem!=="H"||!g)&&(E.serial=y,w[y]=l[l.length-1].length,E.x=parseFloat(C[2]),E.y=parseFloat(C[3]),E.z=parseFloat(C[4]),E.hetflag=!0,E.bonds=[],E.bondOrder=[],E.properties={},E.index=l[l.length-1].length,l[l.length-1].push(E))}}if(o[S]==="M  V30 END ATOM")S++;else break;if(x!==0&&o[S]==="M  V30 BEGIN BOND")S++;else break;for(y=0;y<x;y++,S++){b=o[S];var f=b.substring(6).match(/\S+/g);if(f.length>3){var D=w[parseInt(f[2])-1+c],M=w[parseInt(f[3])-1+c],P=parseFloat(f[1]);typeof D<"u"&&typeof M<"u"&&(l[l.length-1][D].bonds.push(M),l[l.length-1][D].bondOrder.push(P),l[l.length-1][M].bonds.push(D),l[l.length-1][M].bondOrder.push(P))}}if(u.multimodel){for(u.onemol||l.push([]);o[S]!=="$$$$"&&S<o.length;)S++;o.splice(0,++S)}else break}return l};function s(o,u){var l="V2000",g=o.split(/\r?\n|\r/);return g.length>3&&g[3].length>38&&(l=g[3].substring(34,39)),l==="V2000"?n(g,u):l==="V3000"?a(g,u):[[""]]}},"./src/parsers/VASP.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VASP:()=>a});var n=r("./src/WebGL/index.ts");function a(s){var o=[[]],u={},l=s.replace(/^\s+/,"").split(/\r?\n/);if(l.length<3)return o;if(l[1].match(/\d+/))u.length=parseFloat(l[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),o;if(u.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),o;u.xVec=new Float32Array(l[2].replace(/^\s+/,"").split(/\s+/)),u.yVec=new Float32Array(l[3].replace(/^\s+/,"").split(/\s+/)),u.zVec=new Float32Array(l[4].replace(/^\s+/,"").split(/\s+/));var g=new n.Matrix3(u.xVec[0],u.xVec[1],u.xVec[2],u.yVec[0],u.yVec[1],u.yVec[2],u.zVec[0],u.zVec[1],u.zVec[2]);g.multiplyScalar(u.length),o.modelData=[{symmetries:[],cryst:{matrix:g}}];var h=l[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/),_=new Int16Array(l[6].replace(/^\s+/,"").split(/\s+/)),x=l[7].replace(/\s+/,"");if(x.match(/C/))x="cartesian";else if(x.match(/D/))x="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),o;if(h.length!=_.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(h),console.log(_),o;l.splice(0,8);for(var S=0,w=0,c=h.length;w<c;w++){for(var v=h[w],y=0,b=_[w];y<b;y++){var C=new Float32Array(l[S+y].replace(/^\s+/,"").split(/\s+/)),E={};E.elem=v,x=="cartesian"?(E.x=u.length*C[0],E.y=u.length*C[1],E.z=u.length*C[2]):(E.x=u.length*(C[0]*u.xVec[0]+C[1]*u.yVec[0]+C[2]*u.zVec[0]),E.y=u.length*(C[0]*u.xVec[1]+C[1]*u.yVec[1]+C[2]*u.zVec[1]),E.z=u.length*(C[0]*u.xVec[2]+C[1]*u.yVec[2]+C[2]*u.zVec[2])),E.bonds=[],o[0].push(E)}S+=_[w]}return o}},"./src/parsers/XYZ.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{XYZ:()=>s});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/assignBonds.ts");function s(o,u){u=u||{};for(var l=[[]],g=u.assignBonds===void 0?!0:u.assignBonds,h=o.split(/\r?\n|\r/);h.length>0&&!(h.length<3);){var _=parseInt(h[0]);if(isNaN(_)||_<=0||h.length<_+2)break;var x=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,S=x.exec(h[1]);if(S!=null&&S.length>1){var w=new Float32Array(S[1].split(/\s+/)),c=new n.Matrix3(w[0],w[3],w[6],w[1],w[4],w[7],w[2],w[5],w[8]);l.modelData=[{cryst:{matrix:c}}]}for(var v=2,y=l[l.length-1].length,b=y+_,C=y;C<b;C++){var E=h[v++],p=E.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),f={};f.serial=C;var D=p[0];f.atom=f.elem=D[0].toUpperCase()+D.substring(1,2).toLowerCase(),f.x=parseFloat(p[1]),f.y=parseFloat(p[2]),f.z=parseFloat(p[3]),f.hetflag=!0,f.bonds=[],f.bondOrder=[],f.properties={},l[l.length-1][C]=f,p.length>=7&&(f.dx=parseFloat(p[4]),f.dy=parseFloat(p[5]),f.dz=parseFloat(p[6]))}if(u.multimodel)l.push([]),h.splice(0,v);else break}if(g)for(let P=0;P<l.length;P++)(0,a.assignBonds)(l[P]);if(u.onemol){var M=l;l=[],l.push(M[0]);for(let P=1;P<M.length;P++){let O=l[0].length;for(let z=0;z<M[P].length;z++){let k=M[P][z];for(let I=0;I<k.bonds.length;I++)k.bonds[I]=k.bonds[I]+O;k.index=l[0].length,k.serial=l[0].length,l[0].push(k)}}}return l}},"./src/parsers/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Parsers:()=>y,bondLength:()=>v.bondLength,setBondLength:()=>v.setBondLength});var n=r("./src/parsers/VASP.ts"),a=r("./src/parsers/CUBE.ts"),s=r("./src/parsers/XYZ.ts"),o=r("./src/parsers/SDF.ts"),u=r("./src/parsers/CDJSON.ts"),l=r("./src/parsers/CIF.ts"),g=r("./src/parsers/MOL2.ts"),h=r("./src/parsers/PDB.ts"),_=r("./src/parsers/PQR.ts"),x=r("./src/parsers/MMTF.ts"),S=r("./src/parsers/PRMTOP.ts"),w=r("./src/parsers/GRO.ts"),c=r("./src/parsers/LAMMPSTRJ.ts"),v=r("./src/parsers/utils/bondLength.ts");let y={vasp:n.VASP,VASP:n.VASP,cube:a.CUBE,CUBE:a.CUBE,xyz:s.XYZ,XYZ:s.XYZ,sdf:o.SDF,SDF:o.SDF,json:u.CDJSON,cdjson:u.CDJSON,CDJSON:u.CDJSON,mcif:l.CIF,cif:l.CIF,CIF:l.CIF,mol2:g.MOL2,MOL2:g.MOL2,pdb:h.PDB,PDB:h.PDB,pdbqt:h.PDB,PDBQT:h.PDB,pqr:_.PQR,PQR:_.PQR,mmtf:x.MMTFparser,MMTF:x.MMTFparser,prmtop:S.PRMTOP,PRMTOP:S.PRMTOP,gro:w.GRO,GRO:w.GRO,lammpstrj:c.LAMMPSTRJ,LAMMPSTRJ:c.LAMMPSTRJ}},"./src/parsers/utils/anumToSymbol.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{anumToSymbol:()=>n});let n={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{areConnected:()=>a});var n=r("./src/parsers/utils/bondLength.ts");function a(s,o){var u=(0,n.bondLength)(s.elem)+(0,n.bondLength)(o.elem);u+=.25,u*=u;var l=s.x-o.x;if(l*=l,l>u)return!1;var g=s.y-o.y;if(g*=g,g>u)return!1;var h=s.z-o.z;if(h*=h,h>u)return!1;var _=l+g+h;return isNaN(_)||_<.5||_>u?!1:!(s.altLoc!=o.altLoc&&s.altLoc!=" "&&o.altLoc!=" ")}},"./src/parsers/utils/assignBackboneHBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignBackboneHBonds:()=>n});function n(a,s){let o=s||3.2,u=o*o,l=[];for(let v=0,y=a.length;v<y;v++){a[v].index=v;var g=a[v];!g.hetflag&&(g.atom==="N"||g.atom==="O")&&(l.push(g),g.hbondOther=null,g.hbondDistanceSq=Number.POSITIVE_INFINITY)}l.sort(function(v,y){return v.z-y.z});for(let v=0,y=l.length;v<y;v++){var h=l[v];for(let b=v+1;b<y;b++){var _=l[b],x=_.z-h.z;if(x>o)break;if(_.atom!=h.atom){var S=Math.abs(_.y-h.y);if(!(S>o)){var w=Math.abs(_.x-h.x);if(!(w>o)){var c=w*w+S*S+x*x;c>u||_.chain==h.chain&&Math.abs(_.resi-h.resi)<4||(c<h.hbondDistanceSq&&(h.hbondOther=_,h.hbondDistanceSq=c),c<_.hbondDistanceSq&&(_.hbondOther=h,_.hbondDistanceSq=c))}}}}}}},"./src/parsers/utils/assignBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignBonds:()=>a});var n=r("./src/parsers/utils/areConnected.ts");function a(s){for(var o=0,u=s.length;o<u;o++)s[o].index||(s[o].index=o);for(var l={},g=4.95,h=0;h<s.length;h++){var _=s[h],x=Math.floor(_.x/g),S=Math.floor(_.y/g),w=Math.floor(_.z/g);l[x]||(l[x]={}),l[x][S]||(l[x][S]={}),l[x][S][w]||(l[x][S][w]=[]),l[x][S][w].push(_)}var c=function(y,b){for(var C=0;C<y.length;C++)for(var E=y[C],p=0;p<b.length;p++){var f=b[p];if((0,n.areConnected)(E,f)){var D=E.bonds.indexOf(f.index),M=f.bonds.indexOf(E.index);D==-1&&M==-1?(E.bonds.push(f.index),E.bondOrder.push(1),f.bonds.push(E.index),f.bondOrder.push(1)):D==-1?(E.bonds.push(f.index),E.bondOrder.push(f.bondOrder[M])):M==-1&&(f.bonds.push(E.index),f.bondOrder.push(E.bondOrder[D]))}}},v=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(let y in l){let b=parseInt(y);for(let C in l[b]){let E=parseInt(C);for(let p in l[b][E]){let f=parseInt(p),D=l[b][E][f];for(let M=0;M<D.length;M++){let P=D[M];for(let O=M+1;O<D.length;O++){let z=D[O];(0,n.areConnected)(P,z)&&P.bonds.indexOf(z.index)==-1&&(P.bonds.push(z.index),P.bondOrder.push(1),z.bonds.push(P.index),z.bondOrder.push(1))}}for(let M=0;M<v.length;M++){let P=v[M];if(!l[b+P.x]||!l[b+P.x][E+P.y]||!l[b+P.x][E+P.y][f+P.z])continue;let O=l[b+P.x][E+P.y][f+P.z];c(D,O)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignPDBBonds:()=>o});var n=r("./src/parsers/utils/areConnected.ts"),a=r("./src/parsers/utils/assignBonds.ts"),s=r("./src/parsers/utils/standardResidues.ts");function o(u){var l=[],g=[],h,_;for(h=0,_=u.length;h<_;h++){var x=u[h];x.index=h,x.hetflag||!s.standardResidues.has(x.resn)?g.push(x):l.push(x)}(0,a.assignBonds)(g),l.sort(function(C,E){return C.chain!=E.chain?C.chain<E.chain?-1:1:C.resi-E.resi});var S=-1,w=-1,c;for(h=0,_=l.length;h<_;h++){var v=l[h];v.resi!==S&&(S=v.resi,c||w++,c=!1),v.reschain=w;for(var y=h+1;y<l.length;y++){var b=l[y];if(b.chain!=v.chain||b.resi-v.resi>1)break;(0,n.areConnected)(v,b)&&(v.bonds.indexOf(b.index)===-1&&(v.bonds.push(b.index),v.bondOrder.push(1),b.bonds.push(v.index),b.bondOrder.push(1)),v.resi!==b.resi&&(c=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{atomNameToElem:()=>a});var n=r("./src/parsers/utils/bondLength.ts");function a(s,o){var u=s.replace(/ /g,"");return u.length>0&&u[0]=="H"&&u!="Hg"&&u!="He"&&u!="Hf"&&u!="Hs"&&u!="Ho"&&(u="H"),u.length>1&&(u=u[0].toUpperCase()+u.substring(1).toLowerCase(),typeof n.bondTable[u]>"u"?u=u[0]:o&&(u=="Ca"||u=="Cd")&&(u="C")),u}},"./src/parsers/utils/bondLength.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{bondLength:()=>a,bondTable:()=>n,setBondLength:()=>s});let n={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function a(o){return n[o]||1.6}function s(o,u){u<0&&(u=0),n[o]=u}},"./src/parsers/utils/computeSecondaryStructure.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{computeSecondaryStructure:()=>a});var n=r("./src/parsers/utils/assignBackboneHBonds.ts");function a(s,o){(0,n.assignBackboneHBonds)(s,o);var u={},l,g,h,_,x,S;for(l=0,g=s.length;l<g;l++)if(x=s[l],typeof u[x.chain]>"u"&&(u[x.chain]=[]),isFinite(x.hbondDistanceSq)){var w=x.hbondOther;typeof u[w.chain]>"u"&&(u[w.chain]=[]),Math.abs(w.resi-x.resi)===4&&(u[x.chain][x.resi]="h")}for(h in u)for(_=1;_<u[h].length-1;_++){var c=u[h][_-1],v=u[h][_+1];S=u[h][_],c=="h"&&c==v&&S!=c&&(u[h][_]=c)}for(l=0,g=s.length;l<g;l++)x=s[l],isFinite(x.hbondDistanceSq)&&u[x.chain][x.resi]!="h"&&x.ss!="h"&&(u[x.chain][x.resi]="maybesheet");for(let y=0,b=s.length;y<b;y++)if(x=s[y],isFinite(x.hbondDistanceSq)&&u[x.chain][x.resi]=="maybesheet"){let C=x.hbondOther,E=u[C.chain][C.resi];(E=="maybesheet"||E=="s")&&(u[x.chain][x.resi]="s",u[C.chain][C.resi]="s")}for(let y in u){for(let b=1;b<u[y].length-1;b++){let C=u[y][b-1],E=u[y][b+1];S=u[y][b],C=="s"&&C==E&&S!=C&&(u[y][b]=C)}for(let b=0;b<u[y].length;b++){let C=u[y][b];(C=="h"||C=="s")&&u[y][b-1]!=C&&u[y][b+1]!=C&&delete u[y][b]}}for(l=0,g=s.length;l<g;l++)x=s[l],S=u[x.chain][x.resi],delete x.hbondOther,delete x.hbondDistanceSq,!(typeof S>"u"||S=="maybesheet")&&(x.ss=S,u[x.chain][x.resi-1]!=S&&(x.ssbegin=!0),u[x.chain][x.resi+1]!=S&&(x.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getSinglePDB:()=>_});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/atomNameToElem.ts"),s=r("./src/parsers/utils/bondLength.ts"),o=r("./src/parsers/utils/computeSecondaryStructure.ts"),u=r("./src/parsers/utils/isEmpty.ts"),l=r("./src/parsers/utils/processSymmetries.ts"),g=r("./src/parsers/utils/assignPDBBonds.ts"),h=r("./src/parsers/utils/validateBonds.ts");function _(x,S,w){var c=[],v=S.assignBonds===void 0?!0:S.assignBonds,y=!S.keepH,b=!!S.noSecondaryStructure,C=!S.noComputeSecondaryStructure,E=!S.doAssembly,p=S.altLoc?S.altLoc:"A",f={symmetries:[]},D,M=[],P=[],O,z={};for(let ht=0;ht<x.length;ht++){O=x[ht].replace(/^\s*/,"");var k=O.substring(0,6),I,H,Y;if(k.indexOf("END")==0){if(M=x.slice(ht+1),k=="END")for(var q in w)w.hasOwnProperty(q)&&delete w[q];break}else if(k=="ATOM  "||k=="HETATM"){var G,$,j,V,X,Q,te,xe,Ne,ye,Fe,Me;if(Fe=O.substring(16,17),Fe!=" "&&Fe!=p&&p!="*"||(ye=parseInt(O.substring(6,11)),D=O.substring(12,16).replace(/ /g,""),G=O.substring(17,20).replace(/ /g,""),$=O.substring(21,22),j=parseInt(O.substring(22,26)),V=O.substring(26,27),X=parseFloat(O.substring(30,38)),Q=parseFloat(O.substring(38,46)),te=parseFloat(O.substring(46,54)),Me=parseFloat(O.substring(60,68)),Ne=O.substring(76,78).replace(/ /g,""),Ne===""||typeof s.bondTable[Ne]>"u"?Ne=(0,a.atomNameToElem)(O.substring(12,14),O[0]=="A"):Ne=Ne[0].toUpperCase()+Ne.substring(1).toLowerCase(),Ne=="H"&&y))continue;k[0]=="H"?xe=!0:xe=!1,P[ye]=c.length,c.push({resn:G,x:X,y:Q,z:te,elem:Ne,hetflag:xe,altLoc:Fe,chain:$,resi:j,icode:V,rescode:j+(V!=" "?"^"+V:""),serial:ye,atom:D,bonds:[],ss:"c",bondOrder:[],properties:{},b:Me,pdbline:O})}else if(k=="SHEET "){I=O.substring(21,22),H=parseInt(O.substring(22,26)),Y=parseInt(O.substring(33,37)),I in w||(w[I]={}),w[I][H]="s1";for(var _e=H+1;_e<Y;_e++)w[I][_e]="s";w[I][Y]="s2"}else if(k=="CONECT"){var Qe=parseInt(O.substring(6,11)),Xe=P[Qe],R=c[Xe],pe=[11,16,21,26];for(let yt=0;yt<4;yt++){var ve=parseInt(O.substring(pe[yt],pe[yt]+5)),ie=P[ve];let le=Xe+":"+ie;var de=c[ie];if(R!==void 0&&de!==void 0)if(!z[le])z[le]=1,(R.bonds.length==0||R.bonds[R.bonds.length-1]!=ie)&&(R.bonds.push(ie),R.bondOrder.push(1));else{z[le]+=1;for(let ue=0;ue<R.bonds.length;ue++)if(R.bonds[ue]==ie){var be=z[le];be>=4?R.bondOrder[ue]=1:R.bondOrder[ue]=be}}}}else if(k=="HELIX "){I=O.substring(19,20),H=parseInt(O.substring(21,25)),Y=parseInt(O.substring(33,37)),I in w||(w[I]={}),w[I][H]="h1";for(let yt=H+1;yt<Y;yt++)w[I][yt]="h";w[I][Y]="h2"}else if(!E&&k=="REMARK"&&O.substring(13,18)=="BIOMT"){var Ue,Be=new n.Matrix4;for(Ue=1;Ue<=3;Ue++)if(O=x[ht].replace(/^\s*/,""),parseInt(O.substring(18,19))==Ue)Be.elements[Ue-1]=parseFloat(O.substring(23,33)),Be.elements[Ue-1+4]=parseFloat(O.substring(33,43)),Be.elements[Ue-1+8]=parseFloat(O.substring(43,53)),Be.elements[Ue-1+12]=parseFloat(O.substring(53)),ht++;else for(;O.substring(13,18)=="BIOMT";)ht++,O=x[ht].replace(/^\s*/,"");Be.elements[3]=0,Be.elements[7]=0,Be.elements[11]=0,Be.elements[15]=1,f.symmetries.push(Be),ht--}else if(k=="CRYST1"){let yt,le,ue,ge,$e,ke;yt=parseFloat(O.substring(7,15)),le=parseFloat(O.substring(16,24)),ue=parseFloat(O.substring(25,33)),ge=parseFloat(O.substring(34,40)),$e=parseFloat(O.substring(41,47)),ke=parseFloat(O.substring(48,54)),f.cryst={a:yt,b:le,c:ue,alpha:ge,beta:$e,gamma:ke}}else if(k=="ANISOU"){let yt=parseInt(O.substring(6,11));var Se=P[yt],Ie=c[Se];if(Ie){var je=O.substring(30).trim().split(/\s+/),Ke={u11:parseInt(je[0]),u22:parseInt(je[1]),u33:parseInt(je[2]),u12:parseInt(je[3]),u13:parseInt(je[4]),u23:parseInt(je[5])};Ie.uMat=Ke}}}if((0,h.validateBonds)(c,P),v&&(0,g.assignPDBBonds)(c),E||(0,l.processSymmetries)(f.symmetries,c,S,f.cryst),C&&!b&&(0,o.computeSecondaryStructure)(c,S.hbondCutoff),!(0,u.isEmpty)(w)){for(let ht=0;ht<c.length;ht++)if(D=c[ht],D!==void 0&&D.chain in w&&D.resi in w[D.chain]){var Pe=w[D.chain][D.resi];D.ss=Pe[0],Pe.length>1&&(Pe[1]=="1"?D.ssbegin=!0:Pe[1]=="2"&&(D.ssend=!0))}}return[c,f,M]}},"./src/parsers/utils/isEmpty.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isEmpty:()=>n});function n(a){var s;for(s in a)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{processSymmetries:()=>a});var n=r("./src/WebGL/index.ts");function a(s,o,u,l){var g=!u.duplicateAssemblyAtoms,h=o.length,_=h,x,S,w;let c=-1;if(u.normalizeAssembly&&l){let p=(0,n.conversionMatrix3)(l.a,l.b,l.c,l.alpha,l.beta,l.gamma),f=new n.Matrix3;for(f.getInverse3(p),x=0;x<s.length;x++){let D=new n.Vector3(0,0,0);for(w=0;w<h;w++){let z=new n.Vector3(o[w].x,o[w].y,o[w].z);z.applyMatrix4(s[x]),z.applyMatrix3(f),D.add(z)}D.divideScalar(h);let M=[D.x,D.y,D.z],P=[0,0,0];for(let z=0;z<3;z++){for(;M[z]<-.001;)M[z]+=1,P[z]+=1;for(;M[z]>1.001;)M[z]-=1,P[z]-=1}let O=new n.Vector3(P[0],P[1],P[2]);O.applyMatrix3(p),s[x].isNearlyIdentity()&&O.lengthSq()>.001&&(c=x),s[x].translate(O)}}if(g){if(s.length>1)for(x=0;x<o.length;x++){var C=[];for(S=0;S<s.length;S++)if(!s[S].isNearlyIdentity()){var E=new n.Vector3;E.set(o[x].x,o[x].y,o[x].z),E.applyMatrix4(s[S]),C.push(E)}o[x].symmetries=C}}else{for(w=0;w<h;w++)o[w].sym=-1;for(x=0;x<s.length;x++)if(!s[x].isNearlyIdentity()&&c!=x){let p=new n.Vector3;for(w=0;w<h;w++){var v=[];for(S=0;S<o[w].bonds.length;S++)v.push(o[w].bonds[S]+_);p.set(o[w].x,o[w].y,o[w].z),p.applyMatrix4(s[x]);var y={};for(var b in o[w])y[b]=o[w][b];y.x=p.x,y.y=p.y,y.z=p.z,y.bonds=v,y.sym=x,y.index=o.length,o.push(y)}_=o.length}else for(w=0;w<h;w++)o[w].sym=x;if(c>=0){let p=new n.Vector3;for(w=0;w<h;w++)p.set(o[w].x,o[w].y,o[w].z),p.applyMatrix4(s[c]),o[w].x=p.x,o[w].y=p.y,o[w].z=p.z}s.length=0}}},"./src/parsers/utils/standardResidues.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{standardResidues:()=>n});let n=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{validateBonds:()=>n});function n(a,s){for(var o=0,u=a.length;o<u;o++)for(var l=a[o],g=0;g<l.bonds.length;g++){var h=l.bonds[g],_=a[h],x=s[l.serial];if(_&&x){var S=_.bonds.indexOf(x);S<0&&(_.bonds.push(x),_.bondOrder.push(l.bondOrder[g]))}}}},"./src/partialCharges.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{applyPartialCharges:()=>a,partialCharges:()=>n});let n={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function a(s,o){if((!o||typeof s.partialCharge>"u")&&s.resn&&s.atom){var u=s.resn+":"+s.atom;s.properties.partialCharge=n[u]}}},"./src/specs.ts":(e,t,r)=>{"use strict";r.r(t)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts");function extend(e,t){for(var r in t)t.hasOwnProperty(r)&&t[r]!==void 0&&(e[r]=t[r]);return e}function deepCopy(e){let t,r,n;if(e==null)return{};if(typeof e!="object"||e===null)return e;t=Array.isArray(e)?[]:{};for(n in e)r=e[n],t[n]=deepCopy(r);return t}function isNumeric(e){var t=typeof e;return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))}function isEmptyObject(e){var t;for(t in e)return!1;return!0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?null:callback}function adjustVolumeStyle(e){e&&(e.volformat&&!(e.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(e.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(e.voldata,e.volformat)),e.volscheme&&(e.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(e.volscheme)))}function getExtent(e,t){var r,n,a,s,o,u,l,g,h,_,x=!t;if(r=n=a=9999,s=o=u=-9999,l=g=h=_=0,e.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var S=0;S<e.length;S++){var w=e[S];if(!(typeof w>"u"||!isFinite(w.x)||!isFinite(w.y)||!isFinite(w.z))&&(_++,l+=w.x,g+=w.y,h+=w.z,r=r<w.x?r:w.x,n=n<w.y?n:w.y,a=a<w.z?a:w.z,s=s>w.x?s:w.x,o=o>w.y?o:w.y,u=u>w.z?u:w.z,w.symmetries&&x))for(var c=0;c<w.symmetries.length;c++)_++,l+=w.symmetries[c].x,g+=w.symmetries[c].y,h+=w.symmetries[c].z,r=r<w.symmetries[c].x?r:w.symmetries[c].x,n=n<w.symmetries[c].y?n:w.symmetries[c].y,a=a<w.symmetries[c].z?a:w.symmetries[c].z,s=s>w.symmetries[c].x?s:w.symmetries[c].x,o=o>w.symmetries[c].y?o:w.symmetries[c].y,u=u>w.symmetries[c].z?u:w.symmetries[c].z}return[[r,n,a],[s,o,u],[l/_,g/_,h/_]]}function getPropertyRange(e,t){for(var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=0,s=e.length;a<s;a++){var o=e[a],u=getAtomProperty(o,t);u!=null&&(u<r&&(r=u),u>n&&(n=u))}return!isFinite(r)&&!isFinite(n)?r=n=0:isFinite(r)?isFinite(n)||(n=r):r=n,[r,n]}class PausableTimer{constructor(t,r,n){this.total_time_run=0,this.fn=t,this.arg=n,this.countdown=r,this.start_time=new Date().getTime(),this.ident=setTimeout(t,r,n)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(e){for(var t=window.atob(e),r=t.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=t.charCodeAt(a);return n}function getAtomProperty(e,t){var r=null;return e.properties&&typeof e.properties[t]<"u"?r=e.properties[t]:typeof e[t]<"u"&&(r=e[t]),r}function mergeGeos(e,t){var r=t.geometry;r!==void 0&&e.geometryGroups.push(r.geometryGroups[0])}function specStringToObject(e){if(typeof e=="object")return e;if(typeof e>"u"||e==null)return e;try{return JSON.parse(e)}catch{}e=e.replace(/%7E/g,"~");var t=function(x){return isNumeric(x)?Math.floor(parseFloat(x))==parseInt(x)||x.indexOf(".")>=0?parseFloat(x):parseInt(x):x==="true"?!0:x==="false"?!1:x},r={};if(e==="all")return r;for(var n=e.split(";"),a=0;a<n.length;a++){var s=n[a].split(":"),o=s[0],u={},l=s[1];if(l)if(l=l.replace(/~/g,"="),l.indexOf("=")!==-1)for(var g=l.split(","),h=0;h<g.length;h++){var _=g[h].split("=",2);u[_[0]]=t(_[1])}else l.indexOf(",")!==-1?u=l.split(","):u=t(l);r[o]=u}return r}function checkStatus(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}function get(e,t){var r=fetch(e).then(checkStatus).then(n=>n.text());return t?r.then(t):r}function getbin(e,t,r,n){var a;return r=="POST"?a=fetch(e,{method:"POST",body:n}).then(s=>checkStatus(s)).then(s=>s.arrayBuffer()):a=fetch(e).then(s=>checkStatus(s)).then(s=>s.arrayBuffer()),t?a.then(t):a}function download(e,t,r,n){var a="",s="",o="",u="",l=null,g=t.addModel();if(e.indexOf(":")<0&&(e.length==4?e="pdb:"+e:isNaN(e)?e="url:"+e:e="cid:"+e),e.substring(0,5)==="mmtf:")s=r&&r.pdbUri?r.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",e=e.substring(5).toUpperCase(),u=s+e,r&&typeof r.noComputeSecondaryStructure>"u"&&(r.noComputeSecondaryStructure=!0),l=new Promise(function(_){getbin(u).then(function(x){g.addMolData(x,"mmtf",r),t.zoomTo(),t.render(),_(g)},function(){console.log("fetch of "+u+" failed.")})});else{if(e.substring(0,4)==="pdb:"){if(a="mmtf",r&&r.format&&(a=r.format),r&&typeof r.noComputeSecondaryStructure>"u"&&(r.noComputeSecondaryStructure=!0),e=e.substring(4).toUpperCase(),!e.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}a=="mmtf"?(o=r&&r.mmtfUri?r.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",u=o+e.toUpperCase()):(s=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",u=s+e+"."+a)}else if(e.substring(0,4)=="cid:"){if(a="sdf",e=e.substring(4),!e.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}u="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else e.substring(0,4)=="url:"&&(u=e.substring(4),a=u);var h=function(_){g.addMolData(_,a,r),t.zoomTo(),t.render()};l=new Promise(function(_){a=="mmtf"?getbin(u).then(function(x){h(x),_(g)}).catch(function(){s=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",u=s+e+".pdb",a="pdb",console.log("falling back to pdb format"),get(u).then(function(x){h(x),_(g)}).catch(function(x){h(""),_(g),console.log("fetch of "+u+" failed: "+x.statusText)})}):get(u).then(function(x){h(x),_(g)}).catch(function(x){h(""),_(g),console.log("fetch of "+u+" failed: "+x.statusText)})})}return n?(l.then(function(_){n(_)}),g):l}function getColorFromStyle(e,t){let r=t.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]<"u")r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r];else if(typeof r=="string"&&r.endsWith("Carbon")){let o=r.substring(0,r.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[o]<"u"){let u=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);u.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[o],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]={prop:"elem",map:u},r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]}}let n=e.color;if(typeof t.color<"u"&&t.color!="spectrum"&&(n=t.color),typeof r<"u"){let o,u;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r]<"u")r=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r],typeof r[e[r.prop]]<"u"&&(n=r.map[e[r.prop]]);else if(typeof r[e[r.prop]]<"u")n=r.map[e[r.prop]];else if(typeof r.prop<"u"&&typeof r.gradient<"u"){o=r.prop;var a=r.gradient;typeof _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[a]<"u"&&(a=new _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[a](r.min,r.max,r.mid?r.mid:r.colors));let l=a.range()||[-1,1];u=getAtomProperty(e,o),u!=null&&(n=a.valueToHex(u,l))}else typeof r.prop<"u"&&typeof r.map<"u"?(o=r.prop,u=getAtomProperty(e,o),typeof r.map[u]<"u"&&(n=r.map[u])):typeof t.colorscheme[e.elem]<"u"?n=t.colorscheme[e.elem]:console.log("Could not interpret colorscheme "+r)}else typeof t.colorfunc<"u"&&(n=t.colorfunc(e));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(n)}function getElement(e){let t=e;return typeof e=="string"?t=document.querySelector("#"+e):typeof e=="object"&&e.get&&(t=e.get(0)),t}},"./node_modules/upng-js/UPNG.js":(e,t,r)=>{(function(){var n={},a;e.exports=n,a=r("./node_modules/upng-js/node_modules/pako/index.js");function s(){typeof process>"u",console.log.apply(console,arguments)}(function(o,u){o.toRGBA8=function(l){var g=l.width,h=l.height;if(l.tabs.acTL==null)return[o.toRGBA8.decodeImage(l.data,g,h,l).buffer];var _=[];l.frames[0].data==null&&(l.frames[0].data=l.data);for(var x,S=new Uint8Array(g*h*4),w=0;w<l.frames.length;w++){var c=l.frames[w],v=c.rect.x,y=c.rect.y,b=c.rect.width,C=c.rect.height,E=o.toRGBA8.decodeImage(c.data,b,C,l);if(w==0?x=E:c.blend==0?o._copyTile(E,b,C,x,g,h,v,y,0):c.blend==1&&o._copyTile(E,b,C,x,g,h,v,y,1),_.push(x.buffer),x=x.slice(0),c.dispose!=0){if(c.dispose==1)o._copyTile(S,b,C,x,g,h,v,y,0);else if(c.dispose==2){for(var p=w-1;l.frames[p].dispose==2;)p--;x=new Uint8Array(_[p]).slice(0)}}}return _},o.toRGBA8.decodeImage=function(l,g,h,_){var x=g*h,S=o.decode._getBPP(_),w=Math.ceil(g*S/8),c=new Uint8Array(x*4),v=new Uint32Array(c.buffer),y=_.ctype,b=_.depth,C=o._bin.readUshort;if(y==6){var E=x<<2;if(b==8)for(var p=0;p<E;p++)c[p]=l[p];if(b==16)for(var p=0;p<E;p++)c[p]=l[p<<1]}else if(y==2){var f=_.tabs.tRNS,D=-1,M=-1,P=-1;if(f&&(D=f[0],M=f[1],P=f[2]),b==8)for(var p=0;p<x;p++){var O=p<<2,z=p*3;c[O]=l[z],c[O+1]=l[z+1],c[O+2]=l[z+2],c[O+3]=255,D!=-1&&l[z]==D&&l[z+1]==M&&l[z+2]==P&&(c[O+3]=0)}if(b==16)for(var p=0;p<x;p++){var O=p<<2,z=p*6;c[O]=l[z],c[O+1]=l[z+2],c[O+2]=l[z+4],c[O+3]=255,D!=-1&&C(l,z)==D&&C(l,z+2)==M&&C(l,z+4)==P&&(c[O+3]=0)}}else if(y==3){var k=_.tabs.PLTE,I=_.tabs.tRNS,H=I?I.length:0;if(b==1)for(var Y=0;Y<h;Y++)for(var q=Y*w,G=Y*g,p=0;p<g;p++){var O=G+p<<2,$=l[q+(p>>3)]>>7-((p&7)<<0)&1,j=3*$;c[O]=k[j],c[O+1]=k[j+1],c[O+2]=k[j+2],c[O+3]=$<H?I[$]:255}if(b==2)for(var Y=0;Y<h;Y++)for(var q=Y*w,G=Y*g,p=0;p<g;p++){var O=G+p<<2,$=l[q+(p>>2)]>>6-((p&3)<<1)&3,j=3*$;c[O]=k[j],c[O+1]=k[j+1],c[O+2]=k[j+2],c[O+3]=$<H?I[$]:255}if(b==4)for(var Y=0;Y<h;Y++)for(var q=Y*w,G=Y*g,p=0;p<g;p++){var O=G+p<<2,$=l[q+(p>>1)]>>4-((p&1)<<2)&15,j=3*$;c[O]=k[j],c[O+1]=k[j+1],c[O+2]=k[j+2],c[O+3]=$<H?I[$]:255}if(b==8)for(var p=0;p<x;p++){var O=p<<2,$=l[p],j=3*$;c[O]=k[j],c[O+1]=k[j+1],c[O+2]=k[j+2],c[O+3]=$<H?I[$]:255}}else if(y==4){if(b==8)for(var p=0;p<x;p++){var O=p<<2,V=p<<1,X=l[V];c[O]=X,c[O+1]=X,c[O+2]=X,c[O+3]=l[V+1]}if(b==16)for(var p=0;p<x;p++){var O=p<<2,V=p<<2,X=l[V];c[O]=X,c[O+1]=X,c[O+2]=X,c[O+3]=l[V+2]}}else if(y==0){var D=_.tabs.tRNS?_.tabs.tRNS:-1;if(b==1)for(var p=0;p<x;p++){var X=255*(l[p>>3]>>7-(p&7)&1),Q=X==D*255?0:255;v[p]=Q<<24|X<<16|X<<8|X}if(b==2)for(var p=0;p<x;p++){var X=85*(l[p>>2]>>6-((p&3)<<1)&3),Q=X==D*85?0:255;v[p]=Q<<24|X<<16|X<<8|X}if(b==4)for(var p=0;p<x;p++){var X=17*(l[p>>1]>>4-((p&1)<<2)&15),Q=X==D*17?0:255;v[p]=Q<<24|X<<16|X<<8|X}if(b==8)for(var p=0;p<x;p++){var X=l[p],Q=X==D?0:255;v[p]=Q<<24|X<<16|X<<8|X}if(b==16)for(var p=0;p<x;p++){var X=l[p<<1],Q=C(l,p<<1)==D?0:255;v[p]=Q<<24|X<<16|X<<8|X}}return c},o.decode=function(l){for(var g=new Uint8Array(l),h=8,_=o._bin,x=_.readUshort,S=_.readUint,w={tabs:{},frames:[]},c=new Uint8Array(g.length),v=0,y,b=0,C=[137,80,78,71,13,10,26,10],E=0;E<8;E++)if(g[E]!=C[E])throw"The input is not a PNG file!";for(;h<g.length;){var p=_.readUint(g,h);h+=4;var f=_.readASCII(g,h,4);if(h+=4,f=="IHDR")o.decode._IHDR(g,h,w);else if(f=="IDAT"){for(var E=0;E<p;E++)c[v+E]=g[h+E];v+=p}else if(f=="acTL")w.tabs[f]={num_frames:S(g,h),num_plays:S(g,h+4)},y=new Uint8Array(g.length);else if(f=="fcTL"){if(b!=0){var D=w.frames[w.frames.length-1];D.data=o.decode._decompress(w,y.slice(0,b),D.rect.width,D.rect.height),b=0}var M={x:S(g,h+12),y:S(g,h+16),width:S(g,h+4),height:S(g,h+8)},P=x(g,h+22);P=x(g,h+20)/(P==0?100:P);var O={rect:M,delay:Math.round(P*1e3),dispose:g[h+24],blend:g[h+25]};w.frames.push(O)}else if(f=="fdAT"){for(var E=0;E<p-4;E++)y[b+E]=g[h+E+4];b+=p-4}else if(f=="pHYs")w.tabs[f]=[_.readUint(g,h),_.readUint(g,h+4),g[h+8]];else if(f=="cHRM"){w.tabs[f]=[];for(var E=0;E<8;E++)w.tabs[f].push(_.readUint(g,h+E*4))}else if(f=="tEXt"){w.tabs[f]==null&&(w.tabs[f]={});var z=_.nextZero(g,h),k=_.readASCII(g,h,z-h),I=_.readASCII(g,z+1,h+p-z-1);w.tabs[f][k]=I}else if(f=="iTXt"){w.tabs[f]==null&&(w.tabs[f]={});var z=0,H=h;z=_.nextZero(g,H);var k=_.readASCII(g,H,z-H);H=z+1;var Y=g[H],q=g[H+1];H+=2,z=_.nextZero(g,H);var G=_.readASCII(g,H,z-H);H=z+1,z=_.nextZero(g,H);var $=_.readUTF8(g,H,z-H);H=z+1;var I=_.readUTF8(g,H,p-(H-h));w.tabs[f][k]=I}else if(f=="PLTE")w.tabs[f]=_.readBytes(g,h,p);else if(f=="hIST"){var j=w.tabs.PLTE.length/3;w.tabs[f]=[];for(var E=0;E<j;E++)w.tabs[f].push(x(g,h+E*2))}else if(f=="tRNS")w.ctype==3?w.tabs[f]=_.readBytes(g,h,p):w.ctype==0?w.tabs[f]=x(g,h):w.ctype==2&&(w.tabs[f]=[x(g,h),x(g,h+2),x(g,h+4)]);else if(f=="gAMA")w.tabs[f]=_.readUint(g,h)/1e5;else if(f=="sRGB")w.tabs[f]=g[h];else if(f=="bKGD")w.ctype==0||w.ctype==4?w.tabs[f]=[x(g,h)]:w.ctype==2||w.ctype==6?w.tabs[f]=[x(g,h),x(g,h+2),x(g,h+4)]:w.ctype==3&&(w.tabs[f]=g[h]);else if(f=="IEND"){if(b!=0){var D=w.frames[w.frames.length-1];D.data=o.decode._decompress(w,y.slice(0,b),D.rect.width,D.rect.height),b=0}w.data=o.decode._decompress(w,c,w.width,w.height);break}h+=p;var V=_.readUint(g,h);h+=4}return delete w.compress,delete w.interlace,delete w.filter,w},o.decode._decompress=function(l,g,h,_){return l.compress==0&&(g=o.decode._inflate(g)),l.interlace==0?g=o.decode._filterZero(g,l,0,h,_):l.interlace==1&&(g=o.decode._readInterlace(g,l)),g},o.decode._inflate=function(l){return u.inflate(l)},o.decode._readInterlace=function(l,g){for(var h=g.width,_=g.height,x=o.decode._getBPP(g),S=x>>3,w=Math.ceil(h*x/8),c=new Uint8Array(_*w),v=0,y=[0,0,4,0,2,0,1],b=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],E=[8,8,4,4,2,2,1],p=0;p<7;){for(var f=C[p],D=E[p],M=0,P=0,O=y[p];O<_;)O+=f,P++;for(var z=b[p];z<h;)z+=D,M++;var k=Math.ceil(M*x/8);o.decode._filterZero(l,g,v,M,P);for(var I=0,H=y[p];H<_;){for(var Y=b[p],q=v+I*k<<3;Y<h;){if(x==1){var G=l[q>>3];G=G>>7-(q&7)&1,c[H*w+(Y>>3)]|=G<<7-((Y&3)<<0)}if(x==2){var G=l[q>>3];G=G>>6-(q&7)&3,c[H*w+(Y>>2)]|=G<<6-((Y&3)<<1)}if(x==4){var G=l[q>>3];G=G>>4-(q&7)&15,c[H*w+(Y>>1)]|=G<<4-((Y&1)<<2)}if(x>=8)for(var $=H*w+Y*S,j=0;j<S;j++)c[$+j]=l[(q>>3)+j];q+=x,Y+=D}I++,H+=f}M*P!=0&&(v+=P*(1+k)),p=p+1}return c},o.decode._getBPP=function(l){var g=[1,null,3,1,2,null,4][l.ctype];return g*l.depth},o.decode._filterZero=function(l,g,h,_,x){var S=o.decode._getBPP(g),w=Math.ceil(_*S/8),c=o.decode._paeth;S=Math.ceil(S/8);for(var v=0;v<x;v++){var y=h+v*w,b=y+v+1,C=l[b-1];if(C==0)for(var E=0;E<w;E++)l[y+E]=l[b+E];else if(C==1){for(var E=0;E<S;E++)l[y+E]=l[b+E];for(var E=S;E<w;E++)l[y+E]=l[b+E]+l[y+E-S]&255}else if(v==0){for(var E=0;E<S;E++)l[y+E]=l[b+E];if(C==2)for(var E=S;E<w;E++)l[y+E]=l[b+E]&255;if(C==3)for(var E=S;E<w;E++)l[y+E]=l[b+E]+(l[y+E-S]>>1)&255;if(C==4)for(var E=S;E<w;E++)l[y+E]=l[b+E]+c(l[y+E-S],0,0)&255}else{if(C==2)for(var E=0;E<w;E++)l[y+E]=l[b+E]+l[y+E-w]&255;if(C==3){for(var E=0;E<S;E++)l[y+E]=l[b+E]+(l[y+E-w]>>1)&255;for(var E=S;E<w;E++)l[y+E]=l[b+E]+(l[y+E-w]+l[y+E-S]>>1)&255}if(C==4){for(var E=0;E<S;E++)l[y+E]=l[b+E]+c(0,l[y+E-w],0)&255;for(var E=S;E<w;E++)l[y+E]=l[b+E]+c(l[y+E-S],l[y+E-w],l[y+E-S-w])&255}}}return l},o.decode._paeth=function(l,g,h){var _=l+g-h,x=Math.abs(_-l),S=Math.abs(_-g),w=Math.abs(_-h);return x<=S&&x<=w?l:S<=w?g:h},o.decode._IHDR=function(l,g,h){var _=o._bin;h.width=_.readUint(l,g),g+=4,h.height=_.readUint(l,g),g+=4,h.depth=l[g],g++,h.ctype=l[g],g++,h.compress=l[g],g++,h.filter=l[g],g++,h.interlace=l[g],g++},o._bin={nextZero:function(l,g){for(;l[g]!=0;)g++;return g},readUshort:function(l,g){return l[g]<<8|l[g+1]},writeUshort:function(l,g,h){l[g]=h>>8&255,l[g+1]=h&255},readUint:function(l,g){return l[g]*16777216+(l[g+1]<<16|l[g+2]<<8|l[g+3])},writeUint:function(l,g,h){l[g]=h>>24&255,l[g+1]=h>>16&255,l[g+2]=h>>8&255,l[g+3]=h&255},readASCII:function(l,g,h){for(var _="",x=0;x<h;x++)_+=String.fromCharCode(l[g+x]);return _},writeASCII:function(l,g,h){for(var _=0;_<h.length;_++)l[g+_]=h.charCodeAt(_)},readBytes:function(l,g,h){for(var _=[],x=0;x<h;x++)_.push(l[g+x]);return _},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,g,h){for(var _="",x,S=0;S<h;S++)_+="%"+o._bin.pad(l[g+S].toString(16));try{x=decodeURIComponent(_)}catch{return o._bin.readASCII(l,g,h)}return x}},o._copyTile=function(l,g,h,_,x,S,w,c,v){for(var y=Math.min(g,x),b=Math.min(h,S),C=0,E=0,p=0;p<b;p++)for(var f=0;f<y;f++)if(w>=0&&c>=0?(C=p*g+f<<2,E=(c+p)*x+w+f<<2):(C=(-c+p)*g-w+f<<2,E=p*x+f<<2),v==0)_[E]=l[C],_[E+1]=l[C+1],_[E+2]=l[C+2],_[E+3]=l[C+3];else if(v==1){var D=l[C+3]*.00392156862745098,M=l[C]*D,P=l[C+1]*D,O=l[C+2]*D,z=_[E+3]*(1/255),k=_[E]*z,I=_[E+1]*z,H=_[E+2]*z,Y=1-D,q=D+z*Y,G=q==0?0:1/q;_[E+3]=255*q,_[E+0]=(M+k*Y)*G,_[E+1]=(P+I*Y)*G,_[E+2]=(O+H*Y)*G}else if(v==2){var D=l[C+3],M=l[C],P=l[C+1],O=l[C+2],z=_[E+3],k=_[E],I=_[E+1],H=_[E+2];D==z&&M==k&&P==I&&O==H?(_[E]=0,_[E+1]=0,_[E+2]=0,_[E+3]=0):(_[E]=M,_[E+1]=P,_[E+2]=O,_[E+3]=D)}else if(v==3){var D=l[C+3],M=l[C],P=l[C+1],O=l[C+2],z=_[E+3],k=_[E],I=_[E+1],H=_[E+2];if(D==z&&M==k&&P==I&&O==H)continue;if(D<220&&z>20)return!1}return!0},o.encode=function(l,g,h,_,x,S){_==null&&(_=0),S==null&&(S=!1);for(var w=new Uint8Array(l[0].byteLength*l.length+100),c=[137,80,78,71,13,10,26,10],v=0;v<8;v++)w[v]=c[v];var y=8,b=o._bin,C=o.crc.crc,E=b.writeUint,p=b.writeUshort,f=b.writeASCII,D=o.encode.compressPNG(l,g,h,_,S);E(w,y,13),y+=4,f(w,y,"IHDR"),y+=4,E(w,y,g),y+=4,E(w,y,h),y+=4,w[y]=D.depth,y++,w[y]=D.ctype,y++,w[y]=0,y++,w[y]=0,y++,w[y]=0,y++,E(w,y,C(w,y-17,17)),y+=4,E(w,y,1),y+=4,f(w,y,"sRGB"),y+=4,w[y]=1,y++,E(w,y,C(w,y-5,5)),y+=4;var M=l.length>1;if(M&&(E(w,y,8),y+=4,f(w,y,"acTL"),y+=4,E(w,y,l.length),y+=4,E(w,y,0),y+=4,E(w,y,C(w,y-12,12)),y+=4),D.ctype==3){var P=D.plte.length;E(w,y,P*3),y+=4,f(w,y,"PLTE"),y+=4;for(var v=0;v<P;v++){var O=v*3,z=D.plte[v],k=z&255,I=z>>8&255,H=z>>16&255;w[y+O+0]=k,w[y+O+1]=I,w[y+O+2]=H}if(y+=P*3,E(w,y,C(w,y-P*3-4,P*3+4)),y+=4,D.gotAlpha){E(w,y,P),y+=4,f(w,y,"tRNS"),y+=4;for(var v=0;v<P;v++)w[y+v]=D.plte[v]>>24&255;y+=P,E(w,y,C(w,y-P-4,P+4)),y+=4}}for(var Y=0,q=0;q<D.frames.length;q++){var G=D.frames[q];M&&(E(w,y,26),y+=4,f(w,y,"fcTL"),y+=4,E(w,y,Y++),y+=4,E(w,y,G.rect.width),y+=4,E(w,y,G.rect.height),y+=4,E(w,y,G.rect.x),y+=4,E(w,y,G.rect.y),y+=4,p(w,y,x[q]),y+=2,p(w,y,1e3),y+=2,w[y]=G.dispose,y++,w[y]=G.blend,y++,E(w,y,C(w,y-30,30)),y+=4);var $=G.cimg,P=$.length;E(w,y,P+(q==0?0:4)),y+=4;var j=y;f(w,y,q==0?"IDAT":"fdAT"),y+=4,q!=0&&(E(w,y,Y++),y+=4);for(var v=0;v<P;v++)w[y+v]=$[v];y+=P,E(w,y,C(w,j,y-j)),y+=4}return E(w,y,0),y+=4,f(w,y,"IEND"),y+=4,E(w,y,C(w,y-4,4)),y+=4,w.buffer.slice(0,y)},o.encode.compressPNG=function(l,g,h,_,x){for(var S=o.encode.compress(l,g,h,_,!1,x),w=0;w<l.length;w++){var c=S.frames[w],v=c.rect.width,y=c.rect.height,b=c.bpl,C=c.bpp,E=new Uint8Array(y*b+y);c.cimg=o.encode._filterZero(c.img,y,C,b,E)}return S},o.encode.compress=function(l,g,h,_,x,S){S==null&&(S=!1);for(var w=6,c=8,v=4,y=255,b=0;b<l.length;b++)for(var C=new Uint8Array(l[b]),E=C.length,p=0;p<E;p+=4)y&=C[p+3];var f=y!=255,D={},M=[];if(l.length!=0&&(D[0]=0,M.push(0),_!=0&&_--),_!=0){var P=o.quantize(l,_,x);l=P.bufs;for(var p=0;p<P.plte.length;p++){var O=P.plte[p].est.rgba;D[O]==null&&(D[O]=M.length,M.push(O))}}else for(var b=0;b<l.length;b++)for(var z=new Uint32Array(l[b]),E=z.length,p=0;p<E;p++){var O=z[p];if((p<g||O!=z[p-1]&&O!=z[p-g])&&D[O]==null&&(D[O]=M.length,M.push(O),M.length>=300))break}var k=f?x:!1,I=M.length;I<=256&&S==!1&&(I<=2?c=1:I<=4?c=2:I<=16?c=4:c=8,x&&(c=8),f=!0);for(var H=[],b=0;b<l.length;b++){var Y=new Uint8Array(l[b]),q=new Uint32Array(Y.buffer),G=0,$=0,j=g,V=h,X=0;if(b!=0&&!k){for(var Q=x||b==1||H[H.length-2].dispose==2?1:2,te=0,xe=1e9,Ne=0;Ne<Q;Ne++){for(var ve=new Uint8Array(l[b-1-Ne]),ye=new Uint32Array(l[b-1-Ne]),Fe=g,Me=h,_e=-1,Qe=-1,Xe=0;Xe<h;Xe++)for(var R=0;R<g;R++){var p=Xe*g+R;q[p]!=ye[p]&&(R<Fe&&(Fe=R),R>_e&&(_e=R),Xe<Me&&(Me=Xe),Xe>Qe&&(Qe=Xe))}var pe=_e==-1?1:(_e-Fe+1)*(Qe-Me+1);pe<xe&&(xe=pe,te=Ne,_e==-1?(G=$=0,j=V=1):(G=Fe,$=Me,j=_e-Fe+1,V=Qe-Me+1))}var ve=new Uint8Array(l[b-1-te]);te==1&&(H[H.length-1].dispose=2);var ie=new Uint8Array(j*V*4),de=new Uint32Array(ie.buffer);o._copyTile(ve,g,h,ie,j,V,-G,-$,0),o._copyTile(Y,g,h,ie,j,V,-G,-$,3)?(o._copyTile(Y,g,h,ie,j,V,-G,-$,2),X=1):(o._copyTile(Y,g,h,ie,j,V,-G,-$,0),X=0),Y=ie,q=new Uint32Array(Y.buffer)}var be=4*j;if(I<=256&&S==!1){be=Math.ceil(c*j/8);for(var ie=new Uint8Array(be*V),Xe=0;Xe<V;Xe++){var p=Xe*be,Ue=Xe*j;if(c==8)for(var R=0;R<j;R++)ie[p+R]=D[q[Ue+R]];else if(c==4)for(var R=0;R<j;R++)ie[p+(R>>1)]|=D[q[Ue+R]]<<4-(R&1)*4;else if(c==2)for(var R=0;R<j;R++)ie[p+(R>>2)]|=D[q[Ue+R]]<<6-(R&3)*2;else if(c==1)for(var R=0;R<j;R++)ie[p+(R>>3)]|=D[q[Ue+R]]<<7-(R&7)*1}Y=ie,w=3,v=1}else if(f==!1&&l.length==1){for(var ie=new Uint8Array(j*V*3),Be=j*V,p=0;p<Be;p++){var Se=p*3,Ie=p*4;ie[Se]=Y[Ie],ie[Se+1]=Y[Ie+1],ie[Se+2]=Y[Ie+2]}Y=ie,w=2,v=3,be=3*j}H.push({rect:{x:G,y:$,width:j,height:V},img:Y,bpl:be,bpp:v,blend:X,dispose:k?1:0})}return{ctype:w,depth:c,plte:M,gotAlpha:f,frames:H}},o.encode._filterZero=function(l,g,h,_,x){for(var S=[],w=0;w<5;w++)if(!(g*_>5e5&&(w==2||w==3||w==4))){for(var c=0;c<g;c++)o.encode._filterLine(x,l,c,_,h,w);if(S.push(u.deflate(x)),h==1)break}for(var v,y=1e9,b=0;b<S.length;b++)S[b].length<y&&(v=b,y=S[b].length);return S[v]},o.encode._filterLine=function(l,g,h,_,x,S){var w=h*_,c=w+h,v=o.decode._paeth;if(l[c]=S,c++,S==0)for(var y=0;y<_;y++)l[c+y]=g[w+y];else if(S==1){for(var y=0;y<x;y++)l[c+y]=g[w+y];for(var y=x;y<_;y++)l[c+y]=g[w+y]-g[w+y-x]+256&255}else if(h==0){for(var y=0;y<x;y++)l[c+y]=g[w+y];if(S==2)for(var y=x;y<_;y++)l[c+y]=g[w+y];if(S==3)for(var y=x;y<_;y++)l[c+y]=g[w+y]-(g[w+y-x]>>1)+256&255;if(S==4)for(var y=x;y<_;y++)l[c+y]=g[w+y]-v(g[w+y-x],0,0)+256&255}else{if(S==2)for(var y=0;y<_;y++)l[c+y]=g[w+y]+256-g[w+y-_]&255;if(S==3){for(var y=0;y<x;y++)l[c+y]=g[w+y]+256-(g[w+y-_]>>1)&255;for(var y=x;y<_;y++)l[c+y]=g[w+y]+256-(g[w+y-_]+g[w+y-x]>>1)&255}if(S==4){for(var y=0;y<x;y++)l[c+y]=g[w+y]+256-v(0,g[w+y-_],0)&255;for(var y=x;y<_;y++)l[c+y]=g[w+y]+256-v(g[w+y-x],g[w+y-_],g[w+y-x-_])&255}}},o.crc={table:function(){for(var l=new Uint32Array(256),g=0;g<256;g++){for(var h=g,_=0;_<8;_++)h&1?h=3988292384^h>>>1:h=h>>>1;l[g]=h}return l}(),update:function(l,g,h,_){for(var x=0;x<_;x++)l=o.crc.table[(l^g[h+x])&255]^l>>>8;return l},crc:function(l,g,h){return o.crc.update(4294967295,l,g,h)^4294967295}},o.quantize=function(l,g,h){for(var _=[],x=0,S=0;S<l.length;S++)_.push(o.encode.alphaMul(new Uint8Array(l[S]),h)),x+=l[S].byteLength;for(var w=new Uint8Array(x),c=new Uint32Array(w.buffer),v=0,S=0;S<_.length;S++){for(var y=_[S],b=y.length,C=0;C<b;C++)w[v+C]=y[C];v+=b}var E={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=o.quantize.stats(w,E.i0,E.i1),E.est=o.quantize.estats(E.bst);for(var p=[E];p.length<g;){for(var f=0,D=0,S=0;S<p.length;S++)p[S].est.L>f&&(f=p[S].est.L,D=S);if(f<.001)break;var M=p[D],P=o.quantize.splitPixels(w,c,M.i0,M.i1,M.est.e,M.est.eMq255),O={i0:M.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};O.bst=o.quantize.stats(w,O.i0,O.i1),O.est=o.quantize.estats(O.bst);var z={i0:P,i1:M.i1,bst:null,est:null,tdst:0,left:null,right:null};z.bst={R:[],m:[],N:M.bst.N-O.bst.N};for(var S=0;S<16;S++)z.bst.R[S]=M.bst.R[S]-O.bst.R[S];for(var S=0;S<4;S++)z.bst.m[S]=M.bst.m[S]-O.bst.m[S];z.est=o.quantize.estats(z.bst),M.left=O,M.right=z,p[D]=O,p.push(z)}p.sort(function(xe,Ne){return Ne.bst.N-xe.bst.N});for(var k=0;k<_.length;k++){for(var I=o.quantize.planeDst,H=new Uint8Array(_[k].buffer),Y=new Uint32Array(_[k].buffer),q=H.length,G=[],$=0,S=0;S<q;S+=4){for(var j=H[S]*.00392156862745098,V=H[S+1]*(1/255),X=H[S+2]*(1/255),Q=H[S+3]*(1/255),te=E;te.left;)te=I(te.est,j,V,X,Q)<=0?te.left:te.right;Y[S>>2]=te.est.rgba}_[k]=Y.buffer}return{bufs:_,plte:p}},o.quantize.getNearest=function(l,g,h,_,x){if(l.left==null)return l.tdst=o.quantize.dist(l.est.q,g,h,_,x),l;var S=o.quantize.planeDst(l.est,g,h,_,x),w=l.left,c=l.right;S>0&&(w=l.right,c=l.left);var v=o.quantize.getNearest(w,g,h,_,x);if(v.tdst<=S*S)return v;var y=o.quantize.getNearest(c,g,h,_,x);return y.tdst<v.tdst?y:v},o.quantize.planeDst=function(l,g,h,_,x){var S=l.e;return S[0]*g+S[1]*h+S[2]*_+S[3]*x-l.eMq},o.quantize.dist=function(l,g,h,_,x){var S=g-l[0],w=h-l[1],c=_-l[2],v=x-l[3];return S*S+w*w+c*c+v*v},o.quantize.splitPixels=function(l,g,h,_,x,S){var w=o.quantize.vecDot;_-=4;for(var c=0;h<_;){for(;w(l,h,x)<=S;)h+=4;for(;w(l,_,x)>S;)_-=4;if(h>=_)break;var v=g[h>>2];g[h>>2]=g[_>>2],g[_>>2]=v,h+=4,_-=4}for(;w(l,h,x)>S;)h-=4;return h+4},o.quantize.vecDot=function(l,g,h){return l[g]*h[0]+l[g+1]*h[1]+l[g+2]*h[2]+l[g+3]*h[3]},o.quantize.stats=function(l,g,h){for(var _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=[0,0,0,0],S=h-g>>2,w=g;w<h;w+=4){var c=l[w]*.00392156862745098,v=l[w+1]*(1/255),y=l[w+2]*(1/255),b=l[w+3]*(1/255);x[0]+=c,x[1]+=v,x[2]+=y,x[3]+=b,_[0]+=c*c,_[1]+=c*v,_[2]+=c*y,_[3]+=c*b,_[5]+=v*v,_[6]+=v*y,_[7]+=v*b,_[10]+=y*y,_[11]+=y*b,_[15]+=b*b}return _[4]=_[1],_[8]=_[2],_[12]=_[3],_[9]=_[6],_[13]=_[7],_[14]=_[11],{R:_,m:x,N:S}},o.quantize.estats=function(l){var g=l.R,h=l.m,_=l.N,x=h[0],S=h[1],w=h[2],c=h[3],v=_==0?0:1/_,y=[g[0]-x*x*v,g[1]-x*S*v,g[2]-x*w*v,g[3]-x*c*v,g[4]-S*x*v,g[5]-S*S*v,g[6]-S*w*v,g[7]-S*c*v,g[8]-w*x*v,g[9]-w*S*v,g[10]-w*w*v,g[11]-w*c*v,g[12]-c*x*v,g[13]-c*S*v,g[14]-c*w*v,g[15]-c*c*v],b=y,C=o.M4,E=[.5,.5,.5,.5],p=0,f=0;if(_!=0)for(var D=0;D<10&&(E=C.multVec(b,E),f=Math.sqrt(C.dot(E,E)),E=C.sml(1/f,E),!(Math.abs(f-p)<1e-9));D++)p=f;var M=[x*v,S*v,w*v,c*v],P=C.dot(C.sml(255,M),E),O=M[3]<.001?0:1/M[3];return{Cov:y,q:M,e:E,L:p,eMq255:P,eMq:C.dot(E,M),rgba:(Math.round(255*M[3])<<24|Math.round(255*M[2]*O)<<16|Math.round(255*M[1]*O)<<8|Math.round(255*M[0]*O)<<0)>>>0}},o.M4={multVec:function(l,g){return[l[0]*g[0]+l[1]*g[1]+l[2]*g[2]+l[3]*g[3],l[4]*g[0]+l[5]*g[1]+l[6]*g[2]+l[7]*g[3],l[8]*g[0]+l[9]*g[1]+l[10]*g[2]+l[11]*g[3],l[12]*g[0]+l[13]*g[1]+l[14]*g[2]+l[15]*g[3]]},dot:function(l,g){return l[0]*g[0]+l[1]*g[1]+l[2]*g[2]+l[3]*g[3]},sml:function(l,g){return[l*g[0],l*g[1],l*g[2],l*g[3]]}},o.encode.alphaMul=function(l,g){for(var h=new Uint8Array(l.length),_=l.length>>2,x=0;x<_;x++){var S=x<<2,w=l[S+3];g&&(w=w<128?0:255);var c=w*(1/255);h[S+0]=l[S+0]*c,h[S+1]=l[S+1]*c,h[S+2]=l[S+2]*c,h[S+3]=w}return h}})(n,a)})()},"./node_modules/upng-js/node_modules/pako/index.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,a=r("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),u={};n(u,a,s,o),e.exports=u},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),l=Object.prototype.toString,g=0,h=4,_=0,x=1,S=2,w=-1,c=0,v=8;function y(p){if(!(this instanceof y))return new y(p);this.options=a.assign({level:w,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},p||{});var f=this.options;f.raw&&f.windowBits>0?f.windowBits=-f.windowBits:f.gzip&&f.windowBits>0&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var D=n.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(D!==_)throw new Error(o[D]);if(f.header&&n.deflateSetHeader(this.strm,f.header),f.dictionary){var M;if(typeof f.dictionary=="string"?M=s.string2buf(f.dictionary):l.call(f.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(f.dictionary):M=f.dictionary,D=n.deflateSetDictionary(this.strm,M),D!==_)throw new Error(o[D]);this._dict_set=!0}}y.prototype.push=function(p,f){var D=this.strm,M=this.options.chunkSize,P,O;if(this.ended)return!1;O=f===~~f?f:f===!0?h:g,typeof p=="string"?D.input=s.string2buf(p):l.call(p)==="[object ArrayBuffer]"?D.input=new Uint8Array(p):D.input=p,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(M),D.next_out=0,D.avail_out=M),P=n.deflate(D,O),P!==x&&P!==_)return this.onEnd(P),this.ended=!0,!1;(D.avail_out===0||D.avail_in===0&&(O===h||O===S))&&(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(D.output,D.next_out))):this.onData(a.shrinkBuf(D.output,D.next_out)))}while((D.avail_in>0||D.avail_out===0)&&P!==x);return O===h?(P=n.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===_):(O===S&&(this.onEnd(_),D.avail_out=0),!0)},y.prototype.onData=function(p){this.chunks.push(p)},y.prototype.onEnd=function(p){p===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function b(p,f){var D=new y(f);if(D.push(p,!0),D.err)throw D.msg||o[D.err];return D.result}function C(p,f){return f=f||{},f.raw=!0,b(p,f)}function E(p,f){return f=f||{},f.gzip=!0,b(p,f)}t.Deflate=y,t.deflate=b,t.deflateRaw=C,t.gzip=E},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),g=r("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),h=Object.prototype.toString;function _(w){if(!(this instanceof _))return new _(w);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},w||{});var c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),c.windowBits>=0&&c.windowBits<16&&!(w&&w.windowBits)&&(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&(c.windowBits&15||(c.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var v=n.inflateInit2(this.strm,c.windowBits);if(v!==o.Z_OK)throw new Error(u[v]);if(this.header=new g,n.inflateGetHeader(this.strm,this.header),c.dictionary&&(typeof c.dictionary=="string"?c.dictionary=s.string2buf(c.dictionary):h.call(c.dictionary)==="[object ArrayBuffer]"&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(v=n.inflateSetDictionary(this.strm,c.dictionary),v!==o.Z_OK)))throw new Error(u[v])}_.prototype.push=function(w,c){var v=this.strm,y=this.options.chunkSize,b=this.options.dictionary,C,E,p,f,D,M=!1;if(this.ended)return!1;E=c===~~c?c:c===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof w=="string"?v.input=s.binstring2buf(w):h.call(w)==="[object ArrayBuffer]"?v.input=new Uint8Array(w):v.input=w,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new a.Buf8(y),v.next_out=0,v.avail_out=y),C=n.inflate(v,o.Z_NO_FLUSH),C===o.Z_NEED_DICT&&b&&(C=n.inflateSetDictionary(this.strm,b)),C===o.Z_BUF_ERROR&&M===!0&&(C=o.Z_OK,M=!1),C!==o.Z_STREAM_END&&C!==o.Z_OK)return this.onEnd(C),this.ended=!0,!1;v.next_out&&(v.avail_out===0||C===o.Z_STREAM_END||v.avail_in===0&&(E===o.Z_FINISH||E===o.Z_SYNC_FLUSH))&&(this.options.to==="string"?(p=s.utf8border(v.output,v.next_out),f=v.next_out-p,D=s.buf2string(v.output,p),v.next_out=f,v.avail_out=y-f,f&&a.arraySet(v.output,v.output,p,f,0),this.onData(D)):this.onData(a.shrinkBuf(v.output,v.next_out))),v.avail_in===0&&v.avail_out===0&&(M=!0)}while((v.avail_in>0||v.avail_out===0)&&C!==o.Z_STREAM_END);return C===o.Z_STREAM_END&&(E=o.Z_FINISH),E===o.Z_FINISH?(C=n.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===o.Z_OK):(E===o.Z_SYNC_FLUSH&&(this.onEnd(o.Z_OK),v.avail_out=0),!0)},_.prototype.onData=function(w){this.chunks.push(w)},_.prototype.onEnd=function(w){w===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg};function x(w,c){var v=new _(c);if(v.push(w,!0),v.err)throw v.msg||u[v.err];return v.result}function S(w,c){return c=c||{},c.raw=!0,x(w,c)}t.Inflate=_,t.inflate=x,t.inflateRaw=S,t.ungzip=x},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(e,t)=>{"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,u){return Object.prototype.hasOwnProperty.call(o,u)}t.assign=function(o){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var l=u.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var g in l)n(l,g)&&(o[g]=l[g])}}return o},t.shrinkBuf=function(o,u){return o.length===u?o:o.subarray?o.subarray(0,u):(o.length=u,o)};var a={arraySet:function(o,u,l,g,h){if(u.subarray&&o.subarray){o.set(u.subarray(l,l+g),h);return}for(var _=0;_<g;_++)o[h+_]=u[l+_]},flattenChunks:function(o){var u,l,g,h,_,x;for(g=0,u=0,l=o.length;u<l;u++)g+=o[u].length;for(x=new Uint8Array(g),h=0,u=0,l=o.length;u<l;u++)_=o[u],x.set(_,h),h+=_.length;return x}},s={arraySet:function(o,u,l,g,h){for(var _=0;_<g;_++)o[h+_]=u[l+_]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var o=new n.Buf8(256),u=0;u<256;u++)o[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;o[254]=o[254]=1,t.string2buf=function(g){var h,_,x,S,w,c=g.length,v=0;for(S=0;S<c;S++)_=g.charCodeAt(S),(_&64512)===55296&&S+1<c&&(x=g.charCodeAt(S+1),(x&64512)===56320&&(_=65536+(_-55296<<10)+(x-56320),S++)),v+=_<128?1:_<2048?2:_<65536?3:4;for(h=new n.Buf8(v),w=0,S=0;w<v;S++)_=g.charCodeAt(S),(_&64512)===55296&&S+1<c&&(x=g.charCodeAt(S+1),(x&64512)===56320&&(_=65536+(_-55296<<10)+(x-56320),S++)),_<128?h[w++]=_:_<2048?(h[w++]=192|_>>>6,h[w++]=128|_&63):_<65536?(h[w++]=224|_>>>12,h[w++]=128|_>>>6&63,h[w++]=128|_&63):(h[w++]=240|_>>>18,h[w++]=128|_>>>12&63,h[w++]=128|_>>>6&63,h[w++]=128|_&63);return h};function l(g,h){if(h<65534&&(g.subarray&&s||!g.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(g,h));for(var _="",x=0;x<h;x++)_+=String.fromCharCode(g[x]);return _}t.buf2binstring=function(g){return l(g,g.length)},t.binstring2buf=function(g){for(var h=new n.Buf8(g.length),_=0,x=h.length;_<x;_++)h[_]=g.charCodeAt(_);return h},t.buf2string=function(g,h){var _,x,S,w,c=h||g.length,v=new Array(c*2);for(x=0,_=0;_<c;){if(S=g[_++],S<128){v[x++]=S;continue}if(w=o[S],w>4){v[x++]=65533,_+=w-1;continue}for(S&=w===2?31:w===3?15:7;w>1&&_<c;)S=S<<6|g[_++]&63,w--;if(w>1){v[x++]=65533;continue}S<65536?v[x++]=S:(S-=65536,v[x++]=55296|S>>10&1023,v[x++]=56320|S&1023)}return l(v,x)},t.utf8border=function(g,h){var _;for(h=h||g.length,h>g.length&&(h=g.length),_=h-1;_>=0&&(g[_]&192)===128;)_--;return _<0||_===0?h:_+o[g[_]]>h?_:h}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":e=>{"use strict";function t(r,n,a,s){for(var o=r&65535|0,u=r>>>16&65535|0,l=0;a!==0;){l=a>2e3?2e3:a,a-=l;do o=o+n[s++]|0,u=u+o|0;while(--l);o%=65521,u%=65521}return o|u<<16|0}e.exports=t},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":e=>{"use strict";function t(){for(var a,s=[],o=0;o<256;o++){a=o;for(var u=0;u<8;u++)a=a&1?3988292384^a>>>1:a>>>1;s[o]=a}return s}var r=t();function n(a,s,o,u){var l=r,g=u+o;a^=-1;for(var h=u;h<g;h++)a=a>>>8^l[(a^s[h])&255];return a^-1}e.exports=n},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),l=0,g=1,h=3,_=4,x=5,S=0,w=1,c=-2,v=-3,y=-5,b=-1,C=1,E=2,p=3,f=4,D=0,M=2,P=8,O=9,z=15,k=8,I=29,H=256,Y=H+1+I,q=30,G=19,$=2*Y+1,j=15,V=3,X=258,Q=X+V+1,te=32,xe=42,Ne=69,ye=73,Fe=91,Me=103,_e=113,Qe=666,Xe=1,R=2,pe=3,ve=4,ie=3;function de(W,Ve){return W.msg=u[Ve],Ve}function be(W){return(W<<1)-(W>4?9:0)}function Ue(W){for(var Ve=W.length;--Ve>=0;)W[Ve]=0}function Be(W){var Ve=W.state,Ye=Ve.pending;Ye>W.avail_out&&(Ye=W.avail_out),Ye!==0&&(n.arraySet(W.output,Ve.pending_buf,Ve.pending_out,Ye,W.next_out),W.next_out+=Ye,Ve.pending_out+=Ye,W.total_out+=Ye,W.avail_out-=Ye,Ve.pending-=Ye,Ve.pending===0&&(Ve.pending_out=0))}function Se(W,Ve){a._tr_flush_block(W,W.block_start>=0?W.block_start:-1,W.strstart-W.block_start,Ve),W.block_start=W.strstart,Be(W.strm)}function Ie(W,Ve){W.pending_buf[W.pending++]=Ve}function je(W,Ve){W.pending_buf[W.pending++]=Ve>>>8&255,W.pending_buf[W.pending++]=Ve&255}function Ke(W,Ve,Ye,ce){var ze=W.avail_in;return ze>ce&&(ze=ce),ze===0?0:(W.avail_in-=ze,n.arraySet(Ve,W.input,W.next_in,ze,Ye),W.state.wrap===1?W.adler=s(W.adler,Ve,ze,Ye):W.state.wrap===2&&(W.adler=o(W.adler,Ve,ze,Ye)),W.next_in+=ze,W.total_in+=ze,ze)}function Pe(W,Ve){var Ye=W.max_chain_length,ce=W.strstart,ze,et,Lt=W.prev_length,Mt=W.nice_match,at=W.strstart>W.w_size-Q?W.strstart-(W.w_size-Q):0,qt=W.window,Yr=W.w_mask,Vt=W.prev,Jt=W.strstart+X,Pt=qt[ce+Lt-1],Or=qt[ce+Lt];W.prev_length>=W.good_match&&(Ye>>=2),Mt>W.lookahead&&(Mt=W.lookahead);do if(ze=Ve,!(qt[ze+Lt]!==Or||qt[ze+Lt-1]!==Pt||qt[ze]!==qt[ce]||qt[++ze]!==qt[ce+1])){ce+=2,ze++;do;while(qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&ce<Jt);if(et=X-(Jt-ce),ce=Jt-X,et>Lt){if(W.match_start=Ve,Lt=et,et>=Mt)break;Pt=qt[ce+Lt-1],Or=qt[ce+Lt]}}while((Ve=Vt[Ve&Yr])>at&&--Ye!==0);return Lt<=W.lookahead?Lt:W.lookahead}function ht(W){var Ve=W.w_size,Ye,ce,ze,et,Lt;do{if(et=W.window_size-W.lookahead-W.strstart,W.strstart>=Ve+(Ve-Q)){n.arraySet(W.window,W.window,Ve,Ve,0),W.match_start-=Ve,W.strstart-=Ve,W.block_start-=Ve,ce=W.hash_size,Ye=ce;do ze=W.head[--Ye],W.head[Ye]=ze>=Ve?ze-Ve:0;while(--ce);ce=Ve,Ye=ce;do ze=W.prev[--Ye],W.prev[Ye]=ze>=Ve?ze-Ve:0;while(--ce);et+=Ve}if(W.strm.avail_in===0)break;if(ce=Ke(W.strm,W.window,W.strstart+W.lookahead,et),W.lookahead+=ce,W.lookahead+W.insert>=V)for(Lt=W.strstart-W.insert,W.ins_h=W.window[Lt],W.ins_h=(W.ins_h<<W.hash_shift^W.window[Lt+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[Lt+V-1])&W.hash_mask,W.prev[Lt&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=Lt,Lt++,W.insert--,!(W.lookahead+W.insert<V)););}while(W.lookahead<Q&&W.strm.avail_in!==0)}function yt(W,Ve){var Ye=65535;for(Ye>W.pending_buf_size-5&&(Ye=W.pending_buf_size-5);;){if(W.lookahead<=1){if(ht(W),W.lookahead===0&&Ve===l)return Xe;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var ce=W.block_start+Ye;if((W.strstart===0||W.strstart>=ce)&&(W.lookahead=W.strstart-ce,W.strstart=ce,Se(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-Q&&(Se(W,!1),W.strm.avail_out===0))return Xe}return W.insert=0,Ve===_?(Se(W,!0),W.strm.avail_out===0?pe:ve):(W.strstart>W.block_start&&(Se(W,!1),W.strm.avail_out===0),Xe)}function le(W,Ve){for(var Ye,ce;;){if(W.lookahead<Q){if(ht(W),W.lookahead<Q&&Ve===l)return Xe;if(W.lookahead===0)break}if(Ye=0,W.lookahead>=V&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),Ye!==0&&W.strstart-Ye<=W.w_size-Q&&(W.match_length=Pe(W,Ye)),W.match_length>=V)if(ce=a._tr_tally(W,W.strstart-W.match_start,W.match_length-V),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=V){W.match_length--;do W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart;while(--W.match_length!==0);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else ce=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(ce&&(Se(W,!1),W.strm.avail_out===0))return Xe}return W.insert=W.strstart<V-1?W.strstart:V-1,Ve===_?(Se(W,!0),W.strm.avail_out===0?pe:ve):W.last_lit&&(Se(W,!1),W.strm.avail_out===0)?Xe:R}function ue(W,Ve){for(var Ye,ce,ze;;){if(W.lookahead<Q){if(ht(W),W.lookahead<Q&&Ve===l)return Xe;if(W.lookahead===0)break}if(Ye=0,W.lookahead>=V&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=V-1,Ye!==0&&W.prev_length<W.max_lazy_match&&W.strstart-Ye<=W.w_size-Q&&(W.match_length=Pe(W,Ye),W.match_length<=5&&(W.strategy===C||W.match_length===V&&W.strstart-W.match_start>4096)&&(W.match_length=V-1)),W.prev_length>=V&&W.match_length<=W.prev_length){ze=W.strstart+W.lookahead-V,ce=a._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-V),W.lookahead-=W.prev_length-1,W.prev_length-=2;do++W.strstart<=ze&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart);while(--W.prev_length!==0);if(W.match_available=0,W.match_length=V-1,W.strstart++,ce&&(Se(W,!1),W.strm.avail_out===0))return Xe}else if(W.match_available){if(ce=a._tr_tally(W,0,W.window[W.strstart-1]),ce&&Se(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return Xe}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(ce=a._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<V-1?W.strstart:V-1,Ve===_?(Se(W,!0),W.strm.avail_out===0?pe:ve):W.last_lit&&(Se(W,!1),W.strm.avail_out===0)?Xe:R}function ge(W,Ve){for(var Ye,ce,ze,et,Lt=W.window;;){if(W.lookahead<=X){if(ht(W),W.lookahead<=X&&Ve===l)return Xe;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=V&&W.strstart>0&&(ze=W.strstart-1,ce=Lt[ze],ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze])){et=W.strstart+X;do;while(ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ze<et);W.match_length=X-(et-ze),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=V?(Ye=a._tr_tally(W,1,W.match_length-V),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(Ye=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),Ye&&(Se(W,!1),W.strm.avail_out===0))return Xe}return W.insert=0,Ve===_?(Se(W,!0),W.strm.avail_out===0?pe:ve):W.last_lit&&(Se(W,!1),W.strm.avail_out===0)?Xe:R}function $e(W,Ve){for(var Ye;;){if(W.lookahead===0&&(ht(W),W.lookahead===0)){if(Ve===l)return Xe;break}if(W.match_length=0,Ye=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,Ye&&(Se(W,!1),W.strm.avail_out===0))return Xe}return W.insert=0,Ve===_?(Se(W,!0),W.strm.avail_out===0?pe:ve):W.last_lit&&(Se(W,!1),W.strm.avail_out===0)?Xe:R}function ke(W,Ve,Ye,ce,ze){this.good_length=W,this.max_lazy=Ve,this.nice_length=Ye,this.max_chain=ce,this.func=ze}var it;it=[new ke(0,0,0,0,yt),new ke(4,4,8,4,le),new ke(4,5,16,8,le),new ke(4,6,32,32,le),new ke(4,4,16,16,ue),new ke(8,16,32,32,ue),new ke(8,16,128,128,ue),new ke(8,32,128,256,ue),new ke(32,128,258,1024,ue),new ke(32,258,258,4096,ue)];function st(W){W.window_size=2*W.w_size,Ue(W.head),W.max_lazy_match=it[W.level].max_lazy,W.good_match=it[W.level].good_length,W.nice_match=it[W.level].nice_length,W.max_chain_length=it[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=V-1,W.match_available=0,W.ins_h=0}function se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16($*2),this.dyn_dtree=new n.Buf16((2*q+1)*2),this.bl_tree=new n.Buf16((2*G+1)*2),Ue(this.dyn_ltree),Ue(this.dyn_dtree),Ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(j+1),this.heap=new n.Buf16(2*Y+1),Ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*Y+1),Ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(W){var Ve;return!W||!W.state?de(W,c):(W.total_in=W.total_out=0,W.data_type=M,Ve=W.state,Ve.pending=0,Ve.pending_out=0,Ve.wrap<0&&(Ve.wrap=-Ve.wrap),Ve.status=Ve.wrap?xe:_e,W.adler=Ve.wrap===2?0:1,Ve.last_flush=l,a._tr_init(Ve),S)}function Je(W){var Ve=Ge(W);return Ve===S&&st(W.state),Ve}function pt(W,Ve){return!W||!W.state||W.state.wrap!==2?c:(W.state.gzhead=Ve,S)}function Le(W,Ve,Ye,ce,ze,et){if(!W)return c;var Lt=1;if(Ve===b&&(Ve=6),ce<0?(Lt=0,ce=-ce):ce>15&&(Lt=2,ce-=16),ze<1||ze>O||Ye!==P||ce<8||ce>15||Ve<0||Ve>9||et<0||et>f)return de(W,c);ce===8&&(ce=9);var Mt=new se;return W.state=Mt,Mt.strm=W,Mt.wrap=Lt,Mt.gzhead=null,Mt.w_bits=ce,Mt.w_size=1<<Mt.w_bits,Mt.w_mask=Mt.w_size-1,Mt.hash_bits=ze+7,Mt.hash_size=1<<Mt.hash_bits,Mt.hash_mask=Mt.hash_size-1,Mt.hash_shift=~~((Mt.hash_bits+V-1)/V),Mt.window=new n.Buf8(Mt.w_size*2),Mt.head=new n.Buf16(Mt.hash_size),Mt.prev=new n.Buf16(Mt.w_size),Mt.lit_bufsize=1<<ze+6,Mt.pending_buf_size=Mt.lit_bufsize*4,Mt.pending_buf=new n.Buf8(Mt.pending_buf_size),Mt.d_buf=1*Mt.lit_bufsize,Mt.l_buf=3*Mt.lit_bufsize,Mt.level=Ve,Mt.strategy=et,Mt.method=Ye,Je(W)}function ot(W,Ve){return Le(W,Ve,P,z,k,D)}function oe(W,Ve){var Ye,ce,ze,et;if(!W||!W.state||Ve>x||Ve<0)return W?de(W,c):c;if(ce=W.state,!W.output||!W.input&&W.avail_in!==0||ce.status===Qe&&Ve!==_)return de(W,W.avail_out===0?y:c);if(ce.strm=W,Ye=ce.last_flush,ce.last_flush=Ve,ce.status===xe)if(ce.wrap===2)W.adler=0,Ie(ce,31),Ie(ce,139),Ie(ce,8),ce.gzhead?(Ie(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),Ie(ce,ce.gzhead.time&255),Ie(ce,ce.gzhead.time>>8&255),Ie(ce,ce.gzhead.time>>16&255),Ie(ce,ce.gzhead.time>>24&255),Ie(ce,ce.level===9?2:ce.strategy>=E||ce.level<2?4:0),Ie(ce,ce.gzhead.os&255),ce.gzhead.extra&&ce.gzhead.extra.length&&(Ie(ce,ce.gzhead.extra.length&255),Ie(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(W.adler=o(W.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=Ne):(Ie(ce,0),Ie(ce,0),Ie(ce,0),Ie(ce,0),Ie(ce,0),Ie(ce,ce.level===9?2:ce.strategy>=E||ce.level<2?4:0),Ie(ce,ie),ce.status=_e);else{var Lt=P+(ce.w_bits-8<<4)<<8,Mt=-1;ce.strategy>=E||ce.level<2?Mt=0:ce.level<6?Mt=1:ce.level===6?Mt=2:Mt=3,Lt|=Mt<<6,ce.strstart!==0&&(Lt|=te),Lt+=31-Lt%31,ce.status=_e,je(ce,Lt),ce.strstart!==0&&(je(ce,W.adler>>>16),je(ce,W.adler&65535)),W.adler=1}if(ce.status===Ne)if(ce.gzhead.extra){for(ze=ce.pending;ce.gzindex<(ce.gzhead.extra.length&65535)&&!(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),Be(W),ze=ce.pending,ce.pending===ce.pending_buf_size));)Ie(ce,ce.gzhead.extra[ce.gzindex]&255),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=ye)}else ce.status=ye;if(ce.status===ye)if(ce.gzhead.name){ze=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),Be(W),ze=ce.pending,ce.pending===ce.pending_buf_size)){et=1;break}ce.gzindex<ce.gzhead.name.length?et=ce.gzhead.name.charCodeAt(ce.gzindex++)&255:et=0,Ie(ce,et)}while(et!==0);ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),et===0&&(ce.gzindex=0,ce.status=Fe)}else ce.status=Fe;if(ce.status===Fe)if(ce.gzhead.comment){ze=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),Be(W),ze=ce.pending,ce.pending===ce.pending_buf_size)){et=1;break}ce.gzindex<ce.gzhead.comment.length?et=ce.gzhead.comment.charCodeAt(ce.gzindex++)&255:et=0,Ie(ce,et)}while(et!==0);ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),et===0&&(ce.status=Me)}else ce.status=Me;if(ce.status===Me&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&Be(W),ce.pending+2<=ce.pending_buf_size&&(Ie(ce,W.adler&255),Ie(ce,W.adler>>8&255),W.adler=0,ce.status=_e)):ce.status=_e),ce.pending!==0){if(Be(W),W.avail_out===0)return ce.last_flush=-1,S}else if(W.avail_in===0&&be(Ve)<=be(Ye)&&Ve!==_)return de(W,y);if(ce.status===Qe&&W.avail_in!==0)return de(W,y);if(W.avail_in!==0||ce.lookahead!==0||Ve!==l&&ce.status!==Qe){var at=ce.strategy===E?$e(ce,Ve):ce.strategy===p?ge(ce,Ve):it[ce.level].func(ce,Ve);if((at===pe||at===ve)&&(ce.status=Qe),at===Xe||at===pe)return W.avail_out===0&&(ce.last_flush=-1),S;if(at===R&&(Ve===g?a._tr_align(ce):Ve!==x&&(a._tr_stored_block(ce,0,0,!1),Ve===h&&(Ue(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),Be(W),W.avail_out===0))return ce.last_flush=-1,S}return Ve!==_?S:ce.wrap<=0?w:(ce.wrap===2?(Ie(ce,W.adler&255),Ie(ce,W.adler>>8&255),Ie(ce,W.adler>>16&255),Ie(ce,W.adler>>24&255),Ie(ce,W.total_in&255),Ie(ce,W.total_in>>8&255),Ie(ce,W.total_in>>16&255),Ie(ce,W.total_in>>24&255)):(je(ce,W.adler>>>16),je(ce,W.adler&65535)),Be(W),ce.wrap>0&&(ce.wrap=-ce.wrap),ce.pending!==0?S:w)}function ut(W){var Ve;return!W||!W.state?c:(Ve=W.state.status,Ve!==xe&&Ve!==Ne&&Ve!==ye&&Ve!==Fe&&Ve!==Me&&Ve!==_e&&Ve!==Qe?de(W,c):(W.state=null,Ve===_e?de(W,v):S))}function At(W,Ve){var Ye=Ve.length,ce,ze,et,Lt,Mt,at,qt,Yr;if(!W||!W.state||(ce=W.state,Lt=ce.wrap,Lt===2||Lt===1&&ce.status!==xe||ce.lookahead))return c;for(Lt===1&&(W.adler=s(W.adler,Ve,Ye,0)),ce.wrap=0,Ye>=ce.w_size&&(Lt===0&&(Ue(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Yr=new n.Buf8(ce.w_size),n.arraySet(Yr,Ve,Ye-ce.w_size,ce.w_size,0),Ve=Yr,Ye=ce.w_size),Mt=W.avail_in,at=W.next_in,qt=W.input,W.avail_in=Ye,W.next_in=0,W.input=Ve,ht(ce);ce.lookahead>=V;){ze=ce.strstart,et=ce.lookahead-(V-1);do ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ze+V-1])&ce.hash_mask,ce.prev[ze&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ze,ze++;while(--et);ce.strstart=ze,ce.lookahead=V-1,ht(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=V-1,ce.match_available=0,W.next_in=at,W.input=qt,W.avail_in=Mt,ce.wrap=Lt,S}t.deflateInit=ot,t.deflateInit2=Le,t.deflateReset=Je,t.deflateResetKeep=Ge,t.deflateSetHeader=pt,t.deflate=oe,t.deflateEnd=ut,t.deflateSetDictionary=At,t.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":e=>{"use strict";function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=t},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":e=>{"use strict";var t=30,r=12;e.exports=function(a,s){var o,u,l,g,h,_,x,S,w,c,v,y,b,C,E,p,f,D,M,P,O,z,k,I,H;o=a.state,u=a.next_in,I=a.input,l=u+(a.avail_in-5),g=a.next_out,H=a.output,h=g-(s-a.avail_out),_=g+(a.avail_out-257),x=o.dmax,S=o.wsize,w=o.whave,c=o.wnext,v=o.window,y=o.hold,b=o.bits,C=o.lencode,E=o.distcode,p=(1<<o.lenbits)-1,f=(1<<o.distbits)-1;e:do{b<15&&(y+=I[u++]<<b,b+=8,y+=I[u++]<<b,b+=8),D=C[y&p];t:for(;;){if(M=D>>>24,y>>>=M,b-=M,M=D>>>16&255,M===0)H[g++]=D&65535;else if(M&16){P=D&65535,M&=15,M&&(b<M&&(y+=I[u++]<<b,b+=8),P+=y&(1<<M)-1,y>>>=M,b-=M),b<15&&(y+=I[u++]<<b,b+=8,y+=I[u++]<<b,b+=8),D=E[y&f];r:for(;;){if(M=D>>>24,y>>>=M,b-=M,M=D>>>16&255,M&16){if(O=D&65535,M&=15,b<M&&(y+=I[u++]<<b,b+=8,b<M&&(y+=I[u++]<<b,b+=8)),O+=y&(1<<M)-1,O>x){a.msg="invalid distance too far back",o.mode=t;break e}if(y>>>=M,b-=M,M=g-h,O>M){if(M=O-M,M>w&&o.sane){a.msg="invalid distance too far back",o.mode=t;break e}if(z=0,k=v,c===0){if(z+=S-M,M<P){P-=M;do H[g++]=v[z++];while(--M);z=g-O,k=H}}else if(c<M){if(z+=S+c-M,M-=c,M<P){P-=M;do H[g++]=v[z++];while(--M);if(z=0,c<P){M=c,P-=M;do H[g++]=v[z++];while(--M);z=g-O,k=H}}}else if(z+=c-M,M<P){P-=M;do H[g++]=v[z++];while(--M);z=g-O,k=H}for(;P>2;)H[g++]=k[z++],H[g++]=k[z++],H[g++]=k[z++],P-=3;P&&(H[g++]=k[z++],P>1&&(H[g++]=k[z++]))}else{z=g-O;do H[g++]=H[z++],H[g++]=H[z++],H[g++]=H[z++],P-=3;while(P>2);P&&(H[g++]=H[z++],P>1&&(H[g++]=H[z++]))}}else if(M&64){a.msg="invalid distance code",o.mode=t;break e}else{D=E[(D&65535)+(y&(1<<M)-1)];continue r}break}}else if(M&64)if(M&32){o.mode=r;break e}else{a.msg="invalid literal/length code",o.mode=t;break e}else{D=C[(D&65535)+(y&(1<<M)-1)];continue t}break}}while(u<l&&g<_);P=b>>3,u-=P,b-=P<<3,y&=(1<<b)-1,a.next_in=u,a.next_out=g,a.avail_in=u<l?5+(l-u):5-(u-l),a.avail_out=g<_?257+(_-g):257-(g-_),o.hold=y,o.bits=b}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),l=0,g=1,h=2,_=4,x=5,S=6,w=0,c=1,v=2,y=-2,b=-3,C=-4,E=-5,p=8,f=1,D=2,M=3,P=4,O=5,z=6,k=7,I=8,H=9,Y=10,q=11,G=12,$=13,j=14,V=15,X=16,Q=17,te=18,xe=19,Ne=20,ye=21,Fe=22,Me=23,_e=24,Qe=25,Xe=26,R=27,pe=28,ve=29,ie=30,de=31,be=32,Ue=852,Be=592,Se=15,Ie=Se;function je(Le){return(Le>>>24&255)+(Le>>>8&65280)+((Le&65280)<<8)+((Le&255)<<24)}function Ke(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Pe(Le){var ot;return!Le||!Le.state?y:(ot=Le.state,Le.total_in=Le.total_out=ot.total=0,Le.msg="",ot.wrap&&(Le.adler=ot.wrap&1),ot.mode=f,ot.last=0,ot.havedict=0,ot.dmax=32768,ot.head=null,ot.hold=0,ot.bits=0,ot.lencode=ot.lendyn=new n.Buf32(Ue),ot.distcode=ot.distdyn=new n.Buf32(Be),ot.sane=1,ot.back=-1,w)}function ht(Le){var ot;return!Le||!Le.state?y:(ot=Le.state,ot.wsize=0,ot.whave=0,ot.wnext=0,Pe(Le))}function yt(Le,ot){var oe,ut;return!Le||!Le.state||(ut=Le.state,ot<0?(oe=0,ot=-ot):(oe=(ot>>4)+1,ot<48&&(ot&=15)),ot&&(ot<8||ot>15))?y:(ut.window!==null&&ut.wbits!==ot&&(ut.window=null),ut.wrap=oe,ut.wbits=ot,ht(Le))}function le(Le,ot){var oe,ut;return Le?(ut=new Ke,Le.state=ut,ut.window=null,oe=yt(Le,ot),oe!==w&&(Le.state=null),oe):y}function ue(Le){return le(Le,Ie)}var ge=!0,$e,ke;function it(Le){if(ge){var ot;for($e=new n.Buf32(512),ke=new n.Buf32(32),ot=0;ot<144;)Le.lens[ot++]=8;for(;ot<256;)Le.lens[ot++]=9;for(;ot<280;)Le.lens[ot++]=7;for(;ot<288;)Le.lens[ot++]=8;for(u(g,Le.lens,0,288,$e,0,Le.work,{bits:9}),ot=0;ot<32;)Le.lens[ot++]=5;u(h,Le.lens,0,32,ke,0,Le.work,{bits:5}),ge=!1}Le.lencode=$e,Le.lenbits=9,Le.distcode=ke,Le.distbits=5}function st(Le,ot,oe,ut){var At,W=Le.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new n.Buf8(W.wsize)),ut>=W.wsize?(n.arraySet(W.window,ot,oe-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(At=W.wsize-W.wnext,At>ut&&(At=ut),n.arraySet(W.window,ot,oe-ut,At,W.wnext),ut-=At,ut?(n.arraySet(W.window,ot,oe-ut,ut,0),W.wnext=ut,W.whave=W.wsize):(W.wnext+=At,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=At))),0}function se(Le,ot){var oe,ut,At,W,Ve,Ye,ce,ze,et,Lt,Mt,at,qt,Yr,Vt=0,Jt,Pt,Or,Dr,Fr,rn,fr,Zt,nr=new n.Buf8(4),Br,jr,xi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Le||!Le.state||!Le.output||!Le.input&&Le.avail_in!==0)return y;oe=Le.state,oe.mode===G&&(oe.mode=$),Ve=Le.next_out,At=Le.output,ce=Le.avail_out,W=Le.next_in,ut=Le.input,Ye=Le.avail_in,ze=oe.hold,et=oe.bits,Lt=Ye,Mt=ce,Zt=w;e:for(;;)switch(oe.mode){case f:if(oe.wrap===0){oe.mode=$;break}for(;et<16;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if(oe.wrap&2&&ze===35615){oe.check=0,nr[0]=ze&255,nr[1]=ze>>>8&255,oe.check=s(oe.check,nr,2,0),ze=0,et=0,oe.mode=D;break}if(oe.flags=0,oe.head&&(oe.head.done=!1),!(oe.wrap&1)||(((ze&255)<<8)+(ze>>8))%31){Le.msg="incorrect header check",oe.mode=ie;break}if((ze&15)!==p){Le.msg="unknown compression method",oe.mode=ie;break}if(ze>>>=4,et-=4,fr=(ze&15)+8,oe.wbits===0)oe.wbits=fr;else if(fr>oe.wbits){Le.msg="invalid window size",oe.mode=ie;break}oe.dmax=1<<fr,Le.adler=oe.check=1,oe.mode=ze&512?Y:G,ze=0,et=0;break;case D:for(;et<16;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if(oe.flags=ze,(oe.flags&255)!==p){Le.msg="unknown compression method",oe.mode=ie;break}if(oe.flags&57344){Le.msg="unknown header flags set",oe.mode=ie;break}oe.head&&(oe.head.text=ze>>8&1),oe.flags&512&&(nr[0]=ze&255,nr[1]=ze>>>8&255,oe.check=s(oe.check,nr,2,0)),ze=0,et=0,oe.mode=M;case M:for(;et<32;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}oe.head&&(oe.head.time=ze),oe.flags&512&&(nr[0]=ze&255,nr[1]=ze>>>8&255,nr[2]=ze>>>16&255,nr[3]=ze>>>24&255,oe.check=s(oe.check,nr,4,0)),ze=0,et=0,oe.mode=P;case P:for(;et<16;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}oe.head&&(oe.head.xflags=ze&255,oe.head.os=ze>>8),oe.flags&512&&(nr[0]=ze&255,nr[1]=ze>>>8&255,oe.check=s(oe.check,nr,2,0)),ze=0,et=0,oe.mode=O;case O:if(oe.flags&1024){for(;et<16;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}oe.length=ze,oe.head&&(oe.head.extra_len=ze),oe.flags&512&&(nr[0]=ze&255,nr[1]=ze>>>8&255,oe.check=s(oe.check,nr,2,0)),ze=0,et=0}else oe.head&&(oe.head.extra=null);oe.mode=z;case z:if(oe.flags&1024&&(at=oe.length,at>Ye&&(at=Ye),at&&(oe.head&&(fr=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Array(oe.head.extra_len)),n.arraySet(oe.head.extra,ut,W,at,fr)),oe.flags&512&&(oe.check=s(oe.check,ut,at,W)),Ye-=at,W+=at,oe.length-=at),oe.length))break e;oe.length=0,oe.mode=k;case k:if(oe.flags&2048){if(Ye===0)break e;at=0;do fr=ut[W+at++],oe.head&&fr&&oe.length<65536&&(oe.head.name+=String.fromCharCode(fr));while(fr&&at<Ye);if(oe.flags&512&&(oe.check=s(oe.check,ut,at,W)),Ye-=at,W+=at,fr)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=I;case I:if(oe.flags&4096){if(Ye===0)break e;at=0;do fr=ut[W+at++],oe.head&&fr&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(fr));while(fr&&at<Ye);if(oe.flags&512&&(oe.check=s(oe.check,ut,at,W)),Ye-=at,W+=at,fr)break e}else oe.head&&(oe.head.comment=null);oe.mode=H;case H:if(oe.flags&512){for(;et<16;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if(ze!==(oe.check&65535)){Le.msg="header crc mismatch",oe.mode=ie;break}ze=0,et=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),Le.adler=oe.check=0,oe.mode=G;break;case Y:for(;et<32;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}Le.adler=oe.check=je(ze),ze=0,et=0,oe.mode=q;case q:if(oe.havedict===0)return Le.next_out=Ve,Le.avail_out=ce,Le.next_in=W,Le.avail_in=Ye,oe.hold=ze,oe.bits=et,v;Le.adler=oe.check=1,oe.mode=G;case G:if(ot===x||ot===S)break e;case $:if(oe.last){ze>>>=et&7,et-=et&7,oe.mode=R;break}for(;et<3;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}switch(oe.last=ze&1,ze>>>=1,et-=1,ze&3){case 0:oe.mode=j;break;case 1:if(it(oe),oe.mode=Ne,ot===S){ze>>>=2,et-=2;break e}break;case 2:oe.mode=Q;break;case 3:Le.msg="invalid block type",oe.mode=ie}ze>>>=2,et-=2;break;case j:for(ze>>>=et&7,et-=et&7;et<32;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if((ze&65535)!==(ze>>>16^65535)){Le.msg="invalid stored block lengths",oe.mode=ie;break}if(oe.length=ze&65535,ze=0,et=0,oe.mode=V,ot===S)break e;case V:oe.mode=X;case X:if(at=oe.length,at){if(at>Ye&&(at=Ye),at>ce&&(at=ce),at===0)break e;n.arraySet(At,ut,W,at,Ve),Ye-=at,W+=at,ce-=at,Ve+=at,oe.length-=at;break}oe.mode=G;break;case Q:for(;et<14;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if(oe.nlen=(ze&31)+257,ze>>>=5,et-=5,oe.ndist=(ze&31)+1,ze>>>=5,et-=5,oe.ncode=(ze&15)+4,ze>>>=4,et-=4,oe.nlen>286||oe.ndist>30){Le.msg="too many length or distance symbols",oe.mode=ie;break}oe.have=0,oe.mode=te;case te:for(;oe.have<oe.ncode;){for(;et<3;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}oe.lens[xi[oe.have++]]=ze&7,ze>>>=3,et-=3}for(;oe.have<19;)oe.lens[xi[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,Br={bits:oe.lenbits},Zt=u(l,oe.lens,0,19,oe.lencode,0,oe.work,Br),oe.lenbits=Br.bits,Zt){Le.msg="invalid code lengths set",oe.mode=ie;break}oe.have=0,oe.mode=xe;case xe:for(;oe.have<oe.nlen+oe.ndist;){for(;Vt=oe.lencode[ze&(1<<oe.lenbits)-1],Jt=Vt>>>24,Pt=Vt>>>16&255,Or=Vt&65535,!(Jt<=et);){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if(Or<16)ze>>>=Jt,et-=Jt,oe.lens[oe.have++]=Or;else{if(Or===16){for(jr=Jt+2;et<jr;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if(ze>>>=Jt,et-=Jt,oe.have===0){Le.msg="invalid bit length repeat",oe.mode=ie;break}fr=oe.lens[oe.have-1],at=3+(ze&3),ze>>>=2,et-=2}else if(Or===17){for(jr=Jt+3;et<jr;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}ze>>>=Jt,et-=Jt,fr=0,at=3+(ze&7),ze>>>=3,et-=3}else{for(jr=Jt+7;et<jr;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}ze>>>=Jt,et-=Jt,fr=0,at=11+(ze&127),ze>>>=7,et-=7}if(oe.have+at>oe.nlen+oe.ndist){Le.msg="invalid bit length repeat",oe.mode=ie;break}for(;at--;)oe.lens[oe.have++]=fr}}if(oe.mode===ie)break;if(oe.lens[256]===0){Le.msg="invalid code -- missing end-of-block",oe.mode=ie;break}if(oe.lenbits=9,Br={bits:oe.lenbits},Zt=u(g,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,Br),oe.lenbits=Br.bits,Zt){Le.msg="invalid literal/lengths set",oe.mode=ie;break}if(oe.distbits=6,oe.distcode=oe.distdyn,Br={bits:oe.distbits},Zt=u(h,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,Br),oe.distbits=Br.bits,Zt){Le.msg="invalid distances set",oe.mode=ie;break}if(oe.mode=Ne,ot===S)break e;case Ne:oe.mode=ye;case ye:if(Ye>=6&&ce>=258){Le.next_out=Ve,Le.avail_out=ce,Le.next_in=W,Le.avail_in=Ye,oe.hold=ze,oe.bits=et,o(Le,Mt),Ve=Le.next_out,At=Le.output,ce=Le.avail_out,W=Le.next_in,ut=Le.input,Ye=Le.avail_in,ze=oe.hold,et=oe.bits,oe.mode===G&&(oe.back=-1);break}for(oe.back=0;Vt=oe.lencode[ze&(1<<oe.lenbits)-1],Jt=Vt>>>24,Pt=Vt>>>16&255,Or=Vt&65535,!(Jt<=et);){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if(Pt&&!(Pt&240)){for(Dr=Jt,Fr=Pt,rn=Or;Vt=oe.lencode[rn+((ze&(1<<Dr+Fr)-1)>>Dr)],Jt=Vt>>>24,Pt=Vt>>>16&255,Or=Vt&65535,!(Dr+Jt<=et);){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}ze>>>=Dr,et-=Dr,oe.back+=Dr}if(ze>>>=Jt,et-=Jt,oe.back+=Jt,oe.length=Or,Pt===0){oe.mode=Xe;break}if(Pt&32){oe.back=-1,oe.mode=G;break}if(Pt&64){Le.msg="invalid literal/length code",oe.mode=ie;break}oe.extra=Pt&15,oe.mode=Fe;case Fe:if(oe.extra){for(jr=oe.extra;et<jr;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}oe.length+=ze&(1<<oe.extra)-1,ze>>>=oe.extra,et-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=Me;case Me:for(;Vt=oe.distcode[ze&(1<<oe.distbits)-1],Jt=Vt>>>24,Pt=Vt>>>16&255,Or=Vt&65535,!(Jt<=et);){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if(!(Pt&240)){for(Dr=Jt,Fr=Pt,rn=Or;Vt=oe.distcode[rn+((ze&(1<<Dr+Fr)-1)>>Dr)],Jt=Vt>>>24,Pt=Vt>>>16&255,Or=Vt&65535,!(Dr+Jt<=et);){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}ze>>>=Dr,et-=Dr,oe.back+=Dr}if(ze>>>=Jt,et-=Jt,oe.back+=Jt,Pt&64){Le.msg="invalid distance code",oe.mode=ie;break}oe.offset=Or,oe.extra=Pt&15,oe.mode=_e;case _e:if(oe.extra){for(jr=oe.extra;et<jr;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}oe.offset+=ze&(1<<oe.extra)-1,ze>>>=oe.extra,et-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){Le.msg="invalid distance too far back",oe.mode=ie;break}oe.mode=Qe;case Qe:if(ce===0)break e;if(at=Mt-ce,oe.offset>at){if(at=oe.offset-at,at>oe.whave&&oe.sane){Le.msg="invalid distance too far back",oe.mode=ie;break}at>oe.wnext?(at-=oe.wnext,qt=oe.wsize-at):qt=oe.wnext-at,at>oe.length&&(at=oe.length),Yr=oe.window}else Yr=At,qt=Ve-oe.offset,at=oe.length;at>ce&&(at=ce),ce-=at,oe.length-=at;do At[Ve++]=Yr[qt++];while(--at);oe.length===0&&(oe.mode=ye);break;case Xe:if(ce===0)break e;At[Ve++]=oe.length,ce--,oe.mode=ye;break;case R:if(oe.wrap){for(;et<32;){if(Ye===0)break e;Ye--,ze|=ut[W++]<<et,et+=8}if(Mt-=ce,Le.total_out+=Mt,oe.total+=Mt,Mt&&(Le.adler=oe.check=oe.flags?s(oe.check,At,Mt,Ve-Mt):a(oe.check,At,Mt,Ve-Mt)),Mt=ce,(oe.flags?ze:je(ze))!==oe.check){Le.msg="incorrect data check",oe.mode=ie;break}ze=0,et=0}oe.mode=pe;case pe:if(oe.wrap&&oe.flags){for(;et<32;){if(Ye===0)break e;Ye--,ze+=ut[W++]<<et,et+=8}if(ze!==(oe.total&4294967295)){Le.msg="incorrect length check",oe.mode=ie;break}ze=0,et=0}oe.mode=ve;case ve:Zt=c;break e;case ie:Zt=b;break e;case de:return C;case be:default:return y}return Le.next_out=Ve,Le.avail_out=ce,Le.next_in=W,Le.avail_in=Ye,oe.hold=ze,oe.bits=et,(oe.wsize||Mt!==Le.avail_out&&oe.mode<ie&&(oe.mode<R||ot!==_))&&st(Le,Le.output,Le.next_out,Mt-Le.avail_out)?(oe.mode=de,C):(Lt-=Le.avail_in,Mt-=Le.avail_out,Le.total_in+=Lt,Le.total_out+=Mt,oe.total+=Mt,oe.wrap&&Mt&&(Le.adler=oe.check=oe.flags?s(oe.check,At,Mt,Le.next_out-Mt):a(oe.check,At,Mt,Le.next_out-Mt)),Le.data_type=oe.bits+(oe.last?64:0)+(oe.mode===G?128:0)+(oe.mode===Ne||oe.mode===V?256:0),(Lt===0&&Mt===0||ot===_)&&Zt===w&&(Zt=E),Zt)}function Ge(Le){if(!Le||!Le.state)return y;var ot=Le.state;return ot.window&&(ot.window=null),Le.state=null,w}function Je(Le,ot){var oe;return!Le||!Le.state||(oe=Le.state,!(oe.wrap&2))?y:(oe.head=ot,ot.done=!1,w)}function pt(Le,ot){var oe=ot.length,ut,At,W;return!Le||!Le.state||(ut=Le.state,ut.wrap!==0&&ut.mode!==q)?y:ut.mode===q&&(At=1,At=a(At,ot,oe,0),At!==ut.check)?b:(W=st(Le,ot,oe,oe),W?(ut.mode=de,C):(ut.havedict=1,w))}t.inflateReset=ht,t.inflateReset2=yt,t.inflateResetKeep=Pe,t.inflateInit=ue,t.inflateInit2=le,t.inflate=se,t.inflateEnd=Ge,t.inflateGetHeader=Je,t.inflateSetDictionary=pt,t.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=15,s=852,o=592,u=0,l=1,g=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],S=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(c,v,y,b,C,E,p,f){var D=f.bits,M=0,P=0,O=0,z=0,k=0,I=0,H=0,Y=0,q=0,G=0,$,j,V,X,Q,te=null,xe=0,Ne,ye=new n.Buf16(a+1),Fe=new n.Buf16(a+1),Me=null,_e=0,Qe,Xe,R;for(M=0;M<=a;M++)ye[M]=0;for(P=0;P<b;P++)ye[v[y+P]]++;for(k=D,z=a;z>=1&&ye[z]===0;z--);if(k>z&&(k=z),z===0)return C[E++]=20971520,C[E++]=20971520,f.bits=1,0;for(O=1;O<z&&ye[O]===0;O++);for(k<O&&(k=O),Y=1,M=1;M<=a;M++)if(Y<<=1,Y-=ye[M],Y<0)return-1;if(Y>0&&(c===u||z!==1))return-1;for(Fe[1]=0,M=1;M<a;M++)Fe[M+1]=Fe[M]+ye[M];for(P=0;P<b;P++)v[y+P]!==0&&(p[Fe[v[y+P]]++]=P);if(c===u?(te=Me=p,Ne=19):c===l?(te=h,xe-=257,Me=_,_e-=257,Ne=256):(te=x,Me=S,Ne=-1),G=0,P=0,M=O,Q=E,I=k,H=0,V=-1,q=1<<k,X=q-1,c===l&&q>s||c===g&&q>o)return 1;for(;;){Qe=M-H,p[P]<Ne?(Xe=0,R=p[P]):p[P]>Ne?(Xe=Me[_e+p[P]],R=te[xe+p[P]]):(Xe=96,R=0),$=1<<M-H,j=1<<I,O=j;do j-=$,C[Q+(G>>H)+j]=Qe<<24|Xe<<16|R|0;while(j!==0);for($=1<<M-1;G&$;)$>>=1;if($!==0?(G&=$-1,G+=$):G=0,P++,--ye[M]===0){if(M===z)break;M=v[y+p[P]]}if(M>k&&(G&X)!==V){for(H===0&&(H=k),Q+=O,I=M-H,Y=1<<I;I+H<z&&(Y-=ye[I+H],!(Y<=0));)I++,Y<<=1;if(q+=1<<I,c===l&&q>s||c===g&&q>o)return 1;V=G&X,C[V]=k<<24|I<<16|Q-E|0}}return G!==0&&(C[Q+G]=M-H<<24|4194304|0),f.bits=k,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=4,s=0,o=1,u=2;function l(se){for(var Ge=se.length;--Ge>=0;)se[Ge]=0}var g=0,h=1,_=2,x=3,S=258,w=29,c=256,v=c+1+w,y=30,b=19,C=2*v+1,E=15,p=16,f=7,D=256,M=16,P=17,O=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=512,q=new Array((v+2)*2);l(q);var G=new Array(y*2);l(G);var $=new Array(Y);l($);var j=new Array(S-x+1);l(j);var V=new Array(w);l(V);var X=new Array(y);l(X);function Q(se,Ge,Je,pt,Le){this.static_tree=se,this.extra_bits=Ge,this.extra_base=Je,this.elems=pt,this.max_length=Le,this.has_stree=se&&se.length}var te,xe,Ne;function ye(se,Ge){this.dyn_tree=se,this.max_code=0,this.stat_desc=Ge}function Fe(se){return se<256?$[se]:$[256+(se>>>7)]}function Me(se,Ge){se.pending_buf[se.pending++]=Ge&255,se.pending_buf[se.pending++]=Ge>>>8&255}function _e(se,Ge,Je){se.bi_valid>p-Je?(se.bi_buf|=Ge<<se.bi_valid&65535,Me(se,se.bi_buf),se.bi_buf=Ge>>p-se.bi_valid,se.bi_valid+=Je-p):(se.bi_buf|=Ge<<se.bi_valid&65535,se.bi_valid+=Je)}function Qe(se,Ge,Je){_e(se,Je[Ge*2],Je[Ge*2+1])}function Xe(se,Ge){var Je=0;do Je|=se&1,se>>>=1,Je<<=1;while(--Ge>0);return Je>>>1}function R(se){se.bi_valid===16?(Me(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):se.bi_valid>=8&&(se.pending_buf[se.pending++]=se.bi_buf&255,se.bi_buf>>=8,se.bi_valid-=8)}function pe(se,Ge){var Je=Ge.dyn_tree,pt=Ge.max_code,Le=Ge.stat_desc.static_tree,ot=Ge.stat_desc.has_stree,oe=Ge.stat_desc.extra_bits,ut=Ge.stat_desc.extra_base,At=Ge.stat_desc.max_length,W,Ve,Ye,ce,ze,et,Lt=0;for(ce=0;ce<=E;ce++)se.bl_count[ce]=0;for(Je[se.heap[se.heap_max]*2+1]=0,W=se.heap_max+1;W<C;W++)Ve=se.heap[W],ce=Je[Je[Ve*2+1]*2+1]+1,ce>At&&(ce=At,Lt++),Je[Ve*2+1]=ce,!(Ve>pt)&&(se.bl_count[ce]++,ze=0,Ve>=ut&&(ze=oe[Ve-ut]),et=Je[Ve*2],se.opt_len+=et*(ce+ze),ot&&(se.static_len+=et*(Le[Ve*2+1]+ze)));if(Lt!==0){do{for(ce=At-1;se.bl_count[ce]===0;)ce--;se.bl_count[ce]--,se.bl_count[ce+1]+=2,se.bl_count[At]--,Lt-=2}while(Lt>0);for(ce=At;ce!==0;ce--)for(Ve=se.bl_count[ce];Ve!==0;)Ye=se.heap[--W],!(Ye>pt)&&(Je[Ye*2+1]!==ce&&(se.opt_len+=(ce-Je[Ye*2+1])*Je[Ye*2],Je[Ye*2+1]=ce),Ve--)}}function ve(se,Ge,Je){var pt=new Array(E+1),Le=0,ot,oe;for(ot=1;ot<=E;ot++)pt[ot]=Le=Le+Je[ot-1]<<1;for(oe=0;oe<=Ge;oe++){var ut=se[oe*2+1];ut!==0&&(se[oe*2]=Xe(pt[ut]++,ut))}}function ie(){var se,Ge,Je,pt,Le,ot=new Array(E+1);for(Je=0,pt=0;pt<w-1;pt++)for(V[pt]=Je,se=0;se<1<<z[pt];se++)j[Je++]=pt;for(j[Je-1]=pt,Le=0,pt=0;pt<16;pt++)for(X[pt]=Le,se=0;se<1<<k[pt];se++)$[Le++]=pt;for(Le>>=7;pt<y;pt++)for(X[pt]=Le<<7,se=0;se<1<<k[pt]-7;se++)$[256+Le++]=pt;for(Ge=0;Ge<=E;Ge++)ot[Ge]=0;for(se=0;se<=143;)q[se*2+1]=8,se++,ot[8]++;for(;se<=255;)q[se*2+1]=9,se++,ot[9]++;for(;se<=279;)q[se*2+1]=7,se++,ot[7]++;for(;se<=287;)q[se*2+1]=8,se++,ot[8]++;for(ve(q,v+1,ot),se=0;se<y;se++)G[se*2+1]=5,G[se*2]=Xe(se,5);te=new Q(q,z,c+1,v,E),xe=new Q(G,k,0,y,E),Ne=new Q(new Array(0),I,0,b,f)}function de(se){var Ge;for(Ge=0;Ge<v;Ge++)se.dyn_ltree[Ge*2]=0;for(Ge=0;Ge<y;Ge++)se.dyn_dtree[Ge*2]=0;for(Ge=0;Ge<b;Ge++)se.bl_tree[Ge*2]=0;se.dyn_ltree[D*2]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function be(se){se.bi_valid>8?Me(se,se.bi_buf):se.bi_valid>0&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function Ue(se,Ge,Je,pt){be(se),pt&&(Me(se,Je),Me(se,~Je)),n.arraySet(se.pending_buf,se.window,Ge,Je,se.pending),se.pending+=Je}function Be(se,Ge,Je,pt){var Le=Ge*2,ot=Je*2;return se[Le]<se[ot]||se[Le]===se[ot]&&pt[Ge]<=pt[Je]}function Se(se,Ge,Je){for(var pt=se.heap[Je],Le=Je<<1;Le<=se.heap_len&&(Le<se.heap_len&&Be(Ge,se.heap[Le+1],se.heap[Le],se.depth)&&Le++,!Be(Ge,pt,se.heap[Le],se.depth));)se.heap[Je]=se.heap[Le],Je=Le,Le<<=1;se.heap[Je]=pt}function Ie(se,Ge,Je){var pt,Le,ot=0,oe,ut;if(se.last_lit!==0)do pt=se.pending_buf[se.d_buf+ot*2]<<8|se.pending_buf[se.d_buf+ot*2+1],Le=se.pending_buf[se.l_buf+ot],ot++,pt===0?Qe(se,Le,Ge):(oe=j[Le],Qe(se,oe+c+1,Ge),ut=z[oe],ut!==0&&(Le-=V[oe],_e(se,Le,ut)),pt--,oe=Fe(pt),Qe(se,oe,Je),ut=k[oe],ut!==0&&(pt-=X[oe],_e(se,pt,ut)));while(ot<se.last_lit);Qe(se,D,Ge)}function je(se,Ge){var Je=Ge.dyn_tree,pt=Ge.stat_desc.static_tree,Le=Ge.stat_desc.has_stree,ot=Ge.stat_desc.elems,oe,ut,At=-1,W;for(se.heap_len=0,se.heap_max=C,oe=0;oe<ot;oe++)Je[oe*2]!==0?(se.heap[++se.heap_len]=At=oe,se.depth[oe]=0):Je[oe*2+1]=0;for(;se.heap_len<2;)W=se.heap[++se.heap_len]=At<2?++At:0,Je[W*2]=1,se.depth[W]=0,se.opt_len--,Le&&(se.static_len-=pt[W*2+1]);for(Ge.max_code=At,oe=se.heap_len>>1;oe>=1;oe--)Se(se,Je,oe);W=ot;do oe=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Se(se,Je,1),ut=se.heap[1],se.heap[--se.heap_max]=oe,se.heap[--se.heap_max]=ut,Je[W*2]=Je[oe*2]+Je[ut*2],se.depth[W]=(se.depth[oe]>=se.depth[ut]?se.depth[oe]:se.depth[ut])+1,Je[oe*2+1]=Je[ut*2+1]=W,se.heap[1]=W++,Se(se,Je,1);while(se.heap_len>=2);se.heap[--se.heap_max]=se.heap[1],pe(se,Ge),ve(Je,At,se.bl_count)}function Ke(se,Ge,Je){var pt,Le=-1,ot,oe=Ge[0*2+1],ut=0,At=7,W=4;for(oe===0&&(At=138,W=3),Ge[(Je+1)*2+1]=65535,pt=0;pt<=Je;pt++)ot=oe,oe=Ge[(pt+1)*2+1],!(++ut<At&&ot===oe)&&(ut<W?se.bl_tree[ot*2]+=ut:ot!==0?(ot!==Le&&se.bl_tree[ot*2]++,se.bl_tree[M*2]++):ut<=10?se.bl_tree[P*2]++:se.bl_tree[O*2]++,ut=0,Le=ot,oe===0?(At=138,W=3):ot===oe?(At=6,W=3):(At=7,W=4))}function Pe(se,Ge,Je){var pt,Le=-1,ot,oe=Ge[0*2+1],ut=0,At=7,W=4;for(oe===0&&(At=138,W=3),pt=0;pt<=Je;pt++)if(ot=oe,oe=Ge[(pt+1)*2+1],!(++ut<At&&ot===oe)){if(ut<W)do Qe(se,ot,se.bl_tree);while(--ut!==0);else ot!==0?(ot!==Le&&(Qe(se,ot,se.bl_tree),ut--),Qe(se,M,se.bl_tree),_e(se,ut-3,2)):ut<=10?(Qe(se,P,se.bl_tree),_e(se,ut-3,3)):(Qe(se,O,se.bl_tree),_e(se,ut-11,7));ut=0,Le=ot,oe===0?(At=138,W=3):ot===oe?(At=6,W=3):(At=7,W=4)}}function ht(se){var Ge;for(Ke(se,se.dyn_ltree,se.l_desc.max_code),Ke(se,se.dyn_dtree,se.d_desc.max_code),je(se,se.bl_desc),Ge=b-1;Ge>=3&&se.bl_tree[H[Ge]*2+1]===0;Ge--);return se.opt_len+=3*(Ge+1)+5+5+4,Ge}function yt(se,Ge,Je,pt){var Le;for(_e(se,Ge-257,5),_e(se,Je-1,5),_e(se,pt-4,4),Le=0;Le<pt;Le++)_e(se,se.bl_tree[H[Le]*2+1],3);Pe(se,se.dyn_ltree,Ge-1),Pe(se,se.dyn_dtree,Je-1)}function le(se){var Ge=4093624447,Je;for(Je=0;Je<=31;Je++,Ge>>>=1)if(Ge&1&&se.dyn_ltree[Je*2]!==0)return s;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return o;for(Je=32;Je<c;Je++)if(se.dyn_ltree[Je*2]!==0)return o;return s}var ue=!1;function ge(se){ue||(ie(),ue=!0),se.l_desc=new ye(se.dyn_ltree,te),se.d_desc=new ye(se.dyn_dtree,xe),se.bl_desc=new ye(se.bl_tree,Ne),se.bi_buf=0,se.bi_valid=0,de(se)}function $e(se,Ge,Je,pt){_e(se,(g<<1)+(pt?1:0),3),Ue(se,Ge,Je,!0)}function ke(se){_e(se,h<<1,3),Qe(se,D,q),R(se)}function it(se,Ge,Je,pt){var Le,ot,oe=0;se.level>0?(se.strm.data_type===u&&(se.strm.data_type=le(se)),je(se,se.l_desc),je(se,se.d_desc),oe=ht(se),Le=se.opt_len+3+7>>>3,ot=se.static_len+3+7>>>3,ot<=Le&&(Le=ot)):Le=ot=Je+5,Je+4<=Le&&Ge!==-1?$e(se,Ge,Je,pt):se.strategy===a||ot===Le?(_e(se,(h<<1)+(pt?1:0),3),Ie(se,q,G)):(_e(se,(_<<1)+(pt?1:0),3),yt(se,se.l_desc.max_code+1,se.d_desc.max_code+1,oe+1),Ie(se,se.dyn_ltree,se.dyn_dtree)),de(se),pt&&be(se)}function st(se,Ge,Je){return se.pending_buf[se.d_buf+se.last_lit*2]=Ge>>>8&255,se.pending_buf[se.d_buf+se.last_lit*2+1]=Ge&255,se.pending_buf[se.l_buf+se.last_lit]=Je&255,se.last_lit++,Ge===0?se.dyn_ltree[Je*2]++:(se.matches++,Ge--,se.dyn_ltree[(j[Je]+c+1)*2]++,se.dyn_dtree[Fe(Ge)*2]++),se.last_lit===se.lit_bufsize-1}t._tr_init=ge,t._tr_stored_block=$e,t._tr_flush_block=it,t._tr_tally=st,t._tr_align=ke},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":e=>{"use strict";function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=t},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=function(){self.onmessage=function(e){var t=e.data,r=t.type;if(r<0)self.atomData=t.atoms,self.volume=t.volume,self.ps=new ProteinSurface;else{var n=self.ps;n.initparm(t.expandedExtent,r!=1,self.volume),n.fillvoxels(self.atomData,t.extendedAtoms),n.buildboundary(),(r===4||r===2)&&(n.fastdistancemap(),n.boundingatom(!1),n.fillvoxelswaals(self.atomData,t.extendedAtoms)),n.marchingcube(r);var a=n.getFacesAndVertices(t.atomsToShow);self.postMessage(a)}}}.toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":e=>{typeof e.exports=="object"&&(e.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(e,t){(function(r,n){n(t)})(this,function(r){"use strict";function n(le,ue,ge){for(var $e=(le.byteLength,0),ke=ge.length;ke>$e;$e++){var it=ge.charCodeAt($e);if(128>it)le.setUint8(ue++,it>>>0&127|0);else if(2048>it)le.setUint8(ue++,it>>>6&31|192),le.setUint8(ue++,it>>>0&63|128);else if(65536>it)le.setUint8(ue++,it>>>12&15|224),le.setUint8(ue++,it>>>6&63|128),le.setUint8(ue++,it>>>0&63|128);else{if(!(1114112>it))throw new Error("bad codepoint "+it);le.setUint8(ue++,it>>>18&7|240),le.setUint8(ue++,it>>>12&63|128),le.setUint8(ue++,it>>>6&63|128),le.setUint8(ue++,it>>>0&63|128)}}}function a(le){for(var ue=0,ge=0,$e=le.length;$e>ge;ge++){var ke=le.charCodeAt(ge);if(128>ke)ue+=1;else if(2048>ke)ue+=2;else if(65536>ke)ue+=3;else{if(!(1114112>ke))throw new Error("bad codepoint "+ke);ue+=4}}return ue}function s(le,ue,ge){var $e=typeof le;if($e==="string"){var ke=a(le);if(32>ke)return ue.setUint8(ge,160|ke),n(ue,ge+1,le),1+ke;if(256>ke)return ue.setUint8(ge,217),ue.setUint8(ge+1,ke),n(ue,ge+2,le),2+ke;if(65536>ke)return ue.setUint8(ge,218),ue.setUint16(ge+1,ke),n(ue,ge+3,le),3+ke;if(4294967296>ke)return ue.setUint8(ge,219),ue.setUint32(ge+1,ke),n(ue,ge+5,le),5+ke}if(le instanceof Uint8Array){var ke=le.byteLength,it=new Uint8Array(ue.buffer);if(256>ke)return ue.setUint8(ge,196),ue.setUint8(ge+1,ke),it.set(le,ge+2),2+ke;if(65536>ke)return ue.setUint8(ge,197),ue.setUint16(ge+1,ke),it.set(le,ge+3),3+ke;if(4294967296>ke)return ue.setUint8(ge,198),ue.setUint32(ge+1,ke),it.set(le,ge+5),5+ke}if($e==="number"){if(!isFinite(le))throw new Error("Number not finite: "+le);if(Math.floor(le)!==le)return ue.setUint8(ge,203),ue.setFloat64(ge+1,le),9;if(le>=0){if(128>le)return ue.setUint8(ge,le),1;if(256>le)return ue.setUint8(ge,204),ue.setUint8(ge+1,le),2;if(65536>le)return ue.setUint8(ge,205),ue.setUint16(ge+1,le),3;if(4294967296>le)return ue.setUint8(ge,206),ue.setUint32(ge+1,le),5;throw new Error("Number too big 0x"+le.toString(16))}if(le>=-32)return ue.setInt8(ge,le),1;if(le>=-128)return ue.setUint8(ge,208),ue.setInt8(ge+1,le),2;if(le>=-32768)return ue.setUint8(ge,209),ue.setInt16(ge+1,le),3;if(le>=-2147483648)return ue.setUint8(ge,210),ue.setInt32(ge+1,le),5;throw new Error("Number too small -0x"+(-le).toString(16).substr(1))}if(le===null)return ue.setUint8(ge,192),1;if($e==="boolean")return ue.setUint8(ge,le?195:194),1;if($e==="object"){var ke,Ge=0,st=Array.isArray(le);if(st)ke=le.length;else{var se=Object.keys(le);ke=se.length}var Ge;if(16>ke?(ue.setUint8(ge,ke|(st?144:128)),Ge=1):65536>ke?(ue.setUint8(ge,st?220:222),ue.setUint16(ge+1,ke),Ge=3):4294967296>ke&&(ue.setUint8(ge,st?221:223),ue.setUint32(ge+1,ke),Ge=5),st)for(var Je=0;ke>Je;Je++)Ge+=s(le[Je],ue,ge+Ge);else for(var Je=0;ke>Je;Je++){var pt=se[Je];Ge+=s(pt,ue,ge+Ge),Ge+=s(le[pt],ue,ge+Ge)}return Ge}throw new Error("Unknown type "+$e)}function o(le){var ue=typeof le;if(ue==="string"){var ge=a(le);if(32>ge)return 1+ge;if(256>ge)return 2+ge;if(65536>ge)return 3+ge;if(4294967296>ge)return 5+ge}if(le instanceof Uint8Array){var ge=le.byteLength;if(256>ge)return 2+ge;if(65536>ge)return 3+ge;if(4294967296>ge)return 5+ge}if(ue==="number"){if(Math.floor(le)!==le)return 9;if(le>=0){if(128>le)return 1;if(256>le)return 2;if(65536>le)return 3;if(4294967296>le)return 5;throw new Error("Number too big 0x"+le.toString(16))}if(le>=-32)return 1;if(le>=-128)return 2;if(le>=-32768)return 3;if(le>=-2147483648)return 5;throw new Error("Number too small -0x"+le.toString(16).substr(1))}if(ue==="boolean"||le===null)return 1;if(ue==="object"){var ge,$e=0;if(Array.isArray(le)){ge=le.length;for(var ke=0;ge>ke;ke++)$e+=o(le[ke])}else{var it=Object.keys(le);ge=it.length;for(var ke=0;ge>ke;ke++){var st=it[ke];$e+=o(st)+o(le[st])}}if(16>ge)return 1+$e;if(65536>ge)return 3+$e;if(4294967296>ge)return 5+$e;throw new Error("Array or object too long 0x"+ge.toString(16))}throw new Error("Unknown type "+ue)}function u(le){var ue=new ArrayBuffer(o(le)),ge=new DataView(ue);return s(le,ge,0),new Uint8Array(ue)}function l(le,ue,ge){return ue?new le(ue.buffer,ue.byteOffset,ue.byteLength/(ge||1)):void 0}function g(le){return l(DataView,le)}function h(le){return l(Uint8Array,le)}function _(le){return l(Int8Array,le)}function x(le){return l(Int32Array,le,4)}function S(le){return l(Float32Array,le,4)}function w(le,ue){var ge=le.length/2;ue||(ue=new Int16Array(ge));for(var $e=0,ke=0;ge>$e;++$e,ke+=2)ue[$e]=le[ke]<<8^le[ke+1]<<0;return ue}function c(le,ue){var ge=le.length;ue||(ue=new Uint8Array(2*ge));for(var $e=g(ue),ke=0;ge>ke;++ke)$e.setInt16(2*ke,le[ke]);return h(ue)}function v(le,ue){var ge=le.length/4;ue||(ue=new Int32Array(ge));for(var $e=0,ke=0;ge>$e;++$e,ke+=4)ue[$e]=le[ke]<<24^le[ke+1]<<16^le[ke+2]<<8^le[ke+3]<<0;return ue}function y(le,ue){var ge=le.length;ue||(ue=new Uint8Array(4*ge));for(var $e=g(ue),ke=0;ge>ke;++ke)$e.setInt32(4*ke,le[ke]);return h(ue)}function b(le,ue){var ge=le.length;ue||(ue=new Float32Array(ge/4));for(var $e=g(ue),ke=g(le),it=0,st=0,se=ge/4;se>it;++it,st+=4)$e.setFloat32(st,ke.getFloat32(st),!0);return ue}function C(le,ue,ge){var $e=le.length,ke=1/ue;ge||(ge=new Float32Array($e));for(var it=0;$e>it;++it)ge[it]=le[it]*ke;return ge}function E(le,ue,ge){var $e=le.length;ge||(ge=new Int32Array($e));for(var ke=0;$e>ke;++ke)ge[ke]=Math.round(le[ke]*ue);return ge}function p(le,ue){var ge,$e;if(!ue){var ke=0;for(ge=0,$e=le.length;$e>ge;ge+=2)ke+=le[ge+1];ue=new le.constructor(ke)}var it=0;for(ge=0,$e=le.length;$e>ge;ge+=2)for(var st=le[ge],se=le[ge+1],Ge=0;se>Ge;++Ge)ue[it]=st,++it;return ue}function f(le){if(le.length===0)return new Int32Array;var ue,ge,$e=2;for(ue=1,ge=le.length;ge>ue;++ue)le[ue-1]!==le[ue]&&($e+=2);var ke=new Int32Array($e),it=0,st=1;for(ue=1,ge=le.length;ge>ue;++ue)le[ue-1]!==le[ue]?(ke[it]=le[ue-1],ke[it+1]=st,st=1,it+=2):++st;return ke[it]=le[le.length-1],ke[it+1]=st,ke}function D(le,ue){var ge=le.length;ue||(ue=new le.constructor(ge)),ge&&(ue[0]=le[0]);for(var $e=1;ge>$e;++$e)ue[$e]=le[$e]+ue[$e-1];return ue}function M(le,ue){var ge=le.length;ue||(ue=new le.constructor(ge)),ue[0]=le[0];for(var $e=1;ge>$e;++$e)ue[$e]=le[$e]-le[$e-1];return ue}function P(le,ue){var ge,$e,ke=le instanceof Int8Array?127:32767,it=-ke-1,st=le.length;if(!ue){var se=0;for(ge=0;st>ge;++ge)le[ge]<ke&&le[ge]>it&&++se;ue=new Int32Array(se)}for(ge=0,$e=0;st>ge;){for(var Ge=0;le[ge]===ke||le[ge]===it;)Ge+=le[ge],++ge;Ge+=le[ge],++ge,ue[$e]=Ge,++$e}return ue}function O(le,ue){var ge,$e=ue?127:32767,ke=-$e-1,it=le.length,st=0;for(ge=0;it>ge;++ge){var se=le[ge];se===0?++st:se>0?(st+=Math.ceil(se/$e),se%$e===0&&(st+=1)):(st+=Math.ceil(se/ke),se%ke===0&&(st+=1))}var Ge=ue?new Int8Array(st):new Int16Array(st),Je=0;for(ge=0;it>ge;++ge){var se=le[ge];if(se>=0)for(;se>=$e;)Ge[Je]=$e,++Je,se-=$e;else for(;ke>=se;)Ge[Je]=ke,++Je,se-=ke;Ge[Je]=se,++Je}return Ge}function z(le,ue){return D(p(le),ue)}function k(le){return f(M(le))}function I(le,ue,ge){return C(p(le,x(ge)),ue,ge)}function H(le,ue){return f(E(le,ue))}function Y(le,ue,ge){return C(D(le,x(ge)),ue,ge)}function q(le,ue,ge){return M(E(le,ue),ge)}function G(le,ue,ge){return C(P(le,x(ge)),ue,ge)}function $(le,ue,ge){var $e=P(le,x(ge));return Y($e,ue,S($e))}function j(le,ue,ge){return O(q(le,ue),ge)}function V(it){var ue=g(it),ge=ue.getInt32(0),$e=ue.getInt32(4),ke=it.subarray(8,12),it=it.subarray(12);return[ge,it,$e,ke]}function X(le,ue,ge,$e){var ke=new ArrayBuffer(12+$e.byteLength),it=new Uint8Array(ke),st=new DataView(ke);return st.setInt32(0,le),st.setInt32(4,ue),ge&&it.set(ge,8),it.set($e,12),it}function Q(le){var ue=le.length,ge=h(le);return X(2,ue,void 0,ge)}function te(le){var ue=le.length,ge=y(le);return X(4,ue,void 0,ge)}function xe(le,ue){var ge=le.length/ue,$e=y([ue]),ke=h(le);return X(5,ge,$e,ke)}function Ne(le){var ue=le.length,ge=y(f(le));return X(6,ue,void 0,ge)}function ye(le){var ue=le.length,ge=y(k(le));return X(8,ue,void 0,ge)}function Fe(le,ue){var ge=le.length,$e=y([ue]),ke=y(H(le,ue));return X(9,ge,$e,ke)}function Me(le,ue){var ge=le.length,$e=y([ue]),ke=c(j(le,ue));return X(10,ge,$e,ke)}function _e(le){var ue={};return Se.forEach(function(ge){le[ge]!==void 0&&(ue[ge]=le[ge])}),le.bondAtomList&&(ue.bondAtomList=te(le.bondAtomList)),le.bondOrderList&&(ue.bondOrderList=Q(le.bondOrderList)),ue.xCoordList=Me(le.xCoordList,1e3),ue.yCoordList=Me(le.yCoordList,1e3),ue.zCoordList=Me(le.zCoordList,1e3),le.bFactorList&&(ue.bFactorList=Me(le.bFactorList,100)),le.atomIdList&&(ue.atomIdList=ye(le.atomIdList)),le.altLocList&&(ue.altLocList=Ne(le.altLocList)),le.occupancyList&&(ue.occupancyList=Fe(le.occupancyList,100)),ue.groupIdList=ye(le.groupIdList),ue.groupTypeList=te(le.groupTypeList),le.secStructList&&(ue.secStructList=Q(le.secStructList)),le.insCodeList&&(ue.insCodeList=Ne(le.insCodeList)),le.sequenceIndexList&&(ue.sequenceIndexList=ye(le.sequenceIndexList)),ue.chainIdList=xe(le.chainIdList,4),le.chainNameList&&(ue.chainNameList=xe(le.chainNameList,4)),ue}function Qe(le){function ue(Ge){for(var Je={},pt=0;Ge>pt;pt++){var Le=it();Je[Le]=it()}return Je}function ge(Ge){var Je=le.subarray(st,st+Ge);return st+=Ge,Je}function $e(Ge){var Je=le.subarray(st,st+Ge);st+=Ge;var pt=65535;if(Ge>pt){for(var Le=[],ot=0;ot<Je.length;ot+=pt)Le.push(String.fromCharCode.apply(null,Je.subarray(ot,ot+pt)));return Le.join("")}return String.fromCharCode.apply(null,Je)}function ke(Ge){for(var Je=new Array(Ge),pt=0;Ge>pt;pt++)Je[pt]=it();return Je}function it(){var Ge,Je,pt=le[st];if(!(128&pt))return st++,pt;if((240&pt)===128)return Je=15&pt,st++,ue(Je);if((240&pt)===144)return Je=15&pt,st++,ke(Je);if((224&pt)===160)return Je=31&pt,st++,$e(Je);if((224&pt)===224)return Ge=se.getInt8(st),st++,Ge;switch(pt){case 192:return st++,null;case 194:return st++,!1;case 195:return st++,!0;case 196:return Je=se.getUint8(st+1),st+=2,ge(Je);case 197:return Je=se.getUint16(st+1),st+=3,ge(Je);case 198:return Je=se.getUint32(st+1),st+=5,ge(Je);case 202:return Ge=se.getFloat32(st+1),st+=5,Ge;case 203:return Ge=se.getFloat64(st+1),st+=9,Ge;case 204:return Ge=le[st+1],st+=2,Ge;case 205:return Ge=se.getUint16(st+1),st+=3,Ge;case 206:return Ge=se.getUint32(st+1),st+=5,Ge;case 208:return Ge=se.getInt8(st+1),st+=2,Ge;case 209:return Ge=se.getInt16(st+1),st+=3,Ge;case 210:return Ge=se.getInt32(st+1),st+=5,Ge;case 217:return Je=se.getUint8(st+1),st+=2,$e(Je);case 218:return Je=se.getUint16(st+1),st+=3,$e(Je);case 219:return Je=se.getUint32(st+1),st+=5,$e(Je);case 220:return Je=se.getUint16(st+1),st+=3,ke(Je);case 221:return Je=se.getUint32(st+1),st+=5,ke(Je);case 222:return Je=se.getUint16(st+1),st+=3,ue(Je);case 223:return Je=se.getUint32(st+1),st+=5,ue(Je)}throw new Error("Unknown type 0x"+pt.toString(16))}var st=0,se=new DataView(le.buffer);return it()}function Xe(le,ue,ge,$e){switch(le){case 1:return b(ue);case 2:return _(ue);case 3:return w(ue);case 4:return v(ue);case 5:return h(ue);case 6:return p(v(ue),new Uint8Array(ge));case 7:return p(v(ue));case 8:return z(v(ue));case 9:return I(v(ue),v($e)[0]);case 10:return $(w(ue),v($e)[0]);case 11:return C(w(ue),v($e)[0]);case 12:return G(w(ue),v($e)[0]);case 13:return G(_(ue),v($e)[0]);case 14:return P(w(ue));case 15:return P(_(ue))}}function R(le,ue){ue=ue||{};var ge=ue.ignoreFields,$e={};return je.forEach(function(ke){var it=ge?ge.indexOf(ke)!==-1:!1,st=le[ke];it||st===void 0||(st instanceof Uint8Array?$e[ke]=Xe.apply(null,V(st)):$e[ke]=st)}),$e}function pe(le){return String.fromCharCode.apply(null,le).replace(/\0/g,"")}function ve(le,ue,ge){ge=ge||{};var $e,ke,it,st,se,Ge,Je=ge.firstModelOnly,pt=ue.onModel,Le=ue.onChain,ot=ue.onGroup,oe=ue.onAtom,ut=ue.onBond,At=0,W=0,Ve=0,Ye=0,ce=0,ze=-1,et=le.chainNameList,Lt=le.secStructList,Mt=le.insCodeList,at=le.sequenceIndexList,qt=le.atomIdList,Yr=le.bFactorList,Vt=le.altLocList,Jt=le.occupancyList,Pt=le.bondAtomList,Or=le.bondOrderList;for($e=0,ke=le.chainsPerModel.length;ke>$e&&!(Je&&At>0);++$e){var Dr=le.chainsPerModel[At];for(pt&&pt({chainCount:Dr,modelIndex:At}),it=0;Dr>it;++it){var Fr=le.groupsPerChain[W];if(Le){var rn=pe(le.chainIdList.subarray(4*W,4*W+4)),fr=null;et&&(fr=pe(et.subarray(4*W,4*W+4))),Le({groupCount:Fr,chainIndex:W,modelIndex:At,chainId:rn,chainName:fr})}for(st=0;Fr>st;++st){var Zt=le.groupList[le.groupTypeList[Ve]],nr=Zt.atomNameList.length;if(ot){var Br=null;Lt&&(Br=Lt[Ve]);var jr=null;le.insCodeList&&(jr=String.fromCharCode(Mt[Ve]));var xi=null;at&&(xi=at[Ve]),ot({atomCount:nr,groupIndex:Ve,chainIndex:W,modelIndex:At,groupId:le.groupIdList[Ve],groupType:le.groupTypeList[Ve],groupName:Zt.groupName,singleLetterCode:Zt.singleLetterCode,chemCompType:Zt.chemCompType,secStruct:Br,insCode:jr,sequenceIndex:xi})}for(se=0;nr>se;++se){if(oe){var ws=null;qt&&(ws=qt[Ye]);var ba=null;Yr&&(ba=Yr[Ye]);var Mr=null;Vt&&(Mr=String.fromCharCode(Vt[Ye]));var ea=null;Jt&&(ea=Jt[Ye]),oe({atomIndex:Ye,groupIndex:Ve,chainIndex:W,modelIndex:At,atomId:ws,element:Zt.elementList[se],atomName:Zt.atomNameList[se],formalCharge:Zt.formalChargeList[se],xCoord:le.xCoordList[Ye],yCoord:le.yCoordList[Ye],zCoord:le.zCoordList[Ye],bFactor:ba,altLoc:Mr,occupancy:ea})}Ye+=1}if(ut){var Ss=Zt.bondAtomList;for(se=0,Ge=Zt.bondOrderList.length;Ge>se;++se)ut({atomIndex1:Ye-nr+Ss[2*se],atomIndex2:Ye-nr+Ss[2*se+1],bondOrder:Zt.bondOrderList[se]})}Ve+=1}W+=1}if(ce=ze+1,ze=Ye-1,ut&&Pt)for(se=0,Ge=Pt.length;Ge>se;se+=2){var Za=Pt[se],Xa=Pt[se+1];(Za>=ce&&ze>=Za||Xa>=ce&&ze>=Xa)&&ut({atomIndex1:Za,atomIndex2:Xa,bondOrder:Or?Or[se/2]:null})}At+=1}}function ie(le){return u(_e(le))}function de(le,ue){le instanceof ArrayBuffer&&(le=new Uint8Array(le));var ge;return ge=le instanceof Uint8Array?Qe(le):le,R(ge,ue)}function be(le,ue,ge,$e){function ke(){try{var st=de(it.response);ge(st)}catch(se){$e(se)}}var it=new XMLHttpRequest;it.addEventListener("load",ke,!0),it.addEventListener("error",$e,!0),it.responseType="arraybuffer",it.open("GET",ue+le.toUpperCase()),it.send()}function Ue(le,ue,ge){be(le,ht,ue,ge)}function Be(le,ue,ge){be(le,yt,ue,ge)}var Se=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],Ie=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],je=Se.concat(Ie),Ke="v1.0.1",Pe="//mmtf.rcsb.org/v1.0/",ht=Pe+"full/",yt=Pe+"reduced/";r.encode=ie,r.decode=de,r.traverse=ve,r.fetch=Ue,r.fetchReduced=Be,r.version=Ke,r.fetchUrl=ht,r.fetchReducedUrl=yt,r.encodeMsgpack=u,r.encodeMmtf=_e,r.decodeMsgpack=Qe,r.decodeMmtf=R})},"./node_modules/pako/dist/pako.esm.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Deflate:()=>Nh,Inflate:()=>Fh,constants:()=>hl,default:()=>Rh,deflate:()=>Ih,deflateRaw:()=>zh,gzip:()=>Et,inflate:()=>Bh,inflateRaw:()=>pd,ungzip:()=>br});let n=4,a=0,s=1,o=2;function u(L){let ne=L.length;for(;--ne>=0;)L[ne]=0}let l=0,g=1,h=2,_=3,x=258,S=29,w=256,c=w+1+S,v=30,y=19,b=2*c+1,C=15,E=16,p=7,f=256,D=16,M=17,P=18,O=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),z=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),k=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H=512,Y=new Array((c+2)*2);u(Y);let q=new Array(v*2);u(q);let G=new Array(H);u(G);let $=new Array(x-_+1);u($);let j=new Array(S);u(j);let V=new Array(v);u(V);function X(L,ne,B,me,De){this.static_tree=L,this.extra_bits=ne,this.extra_base=B,this.elems=me,this.max_length=De,this.has_stree=L&&L.length}let Q,te,xe;function Ne(L,ne){this.dyn_tree=L,this.max_code=0,this.stat_desc=ne}let ye=L=>L<256?G[L]:G[256+(L>>>7)],Fe=(L,ne)=>{L.pending_buf[L.pending++]=ne&255,L.pending_buf[L.pending++]=ne>>>8&255},Me=(L,ne,B)=>{L.bi_valid>E-B?(L.bi_buf|=ne<<L.bi_valid&65535,Fe(L,L.bi_buf),L.bi_buf=ne>>E-L.bi_valid,L.bi_valid+=B-E):(L.bi_buf|=ne<<L.bi_valid&65535,L.bi_valid+=B)},_e=(L,ne,B)=>{Me(L,B[ne*2],B[ne*2+1])},Qe=(L,ne)=>{let B=0;do B|=L&1,L>>>=1,B<<=1;while(--ne>0);return B>>>1},Xe=L=>{L.bi_valid===16?(Fe(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=L.bi_buf&255,L.bi_buf>>=8,L.bi_valid-=8)},R=(L,ne)=>{let B=ne.dyn_tree,me=ne.max_code,De=ne.stat_desc.static_tree,Ee=ne.stat_desc.has_stree,nt=ne.stat_desc.extra_bits,qe=ne.stat_desc.extra_base,Ft=ne.stat_desc.max_length,He,lt,yr,zt,Ct,Yt,Zr=0;for(zt=0;zt<=C;zt++)L.bl_count[zt]=0;for(B[L.heap[L.heap_max]*2+1]=0,He=L.heap_max+1;He<b;He++)lt=L.heap[He],zt=B[B[lt*2+1]*2+1]+1,zt>Ft&&(zt=Ft,Zr++),B[lt*2+1]=zt,!(lt>me)&&(L.bl_count[zt]++,Ct=0,lt>=qe&&(Ct=nt[lt-qe]),Yt=B[lt*2],L.opt_len+=Yt*(zt+Ct),Ee&&(L.static_len+=Yt*(De[lt*2+1]+Ct)));if(Zr!==0){do{for(zt=Ft-1;L.bl_count[zt]===0;)zt--;L.bl_count[zt]--,L.bl_count[zt+1]+=2,L.bl_count[Ft]--,Zr-=2}while(Zr>0);for(zt=Ft;zt!==0;zt--)for(lt=L.bl_count[zt];lt!==0;)yr=L.heap[--He],!(yr>me)&&(B[yr*2+1]!==zt&&(L.opt_len+=(zt-B[yr*2+1])*B[yr*2],B[yr*2+1]=zt),lt--)}},pe=(L,ne,B)=>{let me=new Array(C+1),De=0,Ee,nt;for(Ee=1;Ee<=C;Ee++)De=De+B[Ee-1]<<1,me[Ee]=De;for(nt=0;nt<=ne;nt++){let qe=L[nt*2+1];qe!==0&&(L[nt*2]=Qe(me[qe]++,qe))}},ve=()=>{let L,ne,B,me,De,Ee=new Array(C+1);for(B=0,me=0;me<S-1;me++)for(j[me]=B,L=0;L<1<<O[me];L++)$[B++]=me;for($[B-1]=me,De=0,me=0;me<16;me++)for(V[me]=De,L=0;L<1<<z[me];L++)G[De++]=me;for(De>>=7;me<v;me++)for(V[me]=De<<7,L=0;L<1<<z[me]-7;L++)G[256+De++]=me;for(ne=0;ne<=C;ne++)Ee[ne]=0;for(L=0;L<=143;)Y[L*2+1]=8,L++,Ee[8]++;for(;L<=255;)Y[L*2+1]=9,L++,Ee[9]++;for(;L<=279;)Y[L*2+1]=7,L++,Ee[7]++;for(;L<=287;)Y[L*2+1]=8,L++,Ee[8]++;for(pe(Y,c+1,Ee),L=0;L<v;L++)q[L*2+1]=5,q[L*2]=Qe(L,5);Q=new X(Y,O,w+1,c,C),te=new X(q,z,0,v,C),xe=new X(new Array(0),k,0,y,p)},ie=L=>{let ne;for(ne=0;ne<c;ne++)L.dyn_ltree[ne*2]=0;for(ne=0;ne<v;ne++)L.dyn_dtree[ne*2]=0;for(ne=0;ne<y;ne++)L.bl_tree[ne*2]=0;L.dyn_ltree[f*2]=1,L.opt_len=L.static_len=0,L.sym_next=L.matches=0},de=L=>{L.bi_valid>8?Fe(L,L.bi_buf):L.bi_valid>0&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0},be=(L,ne,B,me)=>{let De=ne*2,Ee=B*2;return L[De]<L[Ee]||L[De]===L[Ee]&&me[ne]<=me[B]},Ue=(L,ne,B)=>{let me=L.heap[B],De=B<<1;for(;De<=L.heap_len&&(De<L.heap_len&&be(ne,L.heap[De+1],L.heap[De],L.depth)&&De++,!be(ne,me,L.heap[De],L.depth));)L.heap[B]=L.heap[De],B=De,De<<=1;L.heap[B]=me},Be=(L,ne,B)=>{let me,De,Ee=0,nt,qe;if(L.sym_next!==0)do me=L.pending_buf[L.sym_buf+Ee++]&255,me+=(L.pending_buf[L.sym_buf+Ee++]&255)<<8,De=L.pending_buf[L.sym_buf+Ee++],me===0?_e(L,De,ne):(nt=$[De],_e(L,nt+w+1,ne),qe=O[nt],qe!==0&&(De-=j[nt],Me(L,De,qe)),me--,nt=ye(me),_e(L,nt,B),qe=z[nt],qe!==0&&(me-=V[nt],Me(L,me,qe)));while(Ee<L.sym_next);_e(L,f,ne)},Se=(L,ne)=>{let B=ne.dyn_tree,me=ne.stat_desc.static_tree,De=ne.stat_desc.has_stree,Ee=ne.stat_desc.elems,nt,qe,Ft=-1,He;for(L.heap_len=0,L.heap_max=b,nt=0;nt<Ee;nt++)B[nt*2]!==0?(L.heap[++L.heap_len]=Ft=nt,L.depth[nt]=0):B[nt*2+1]=0;for(;L.heap_len<2;)He=L.heap[++L.heap_len]=Ft<2?++Ft:0,B[He*2]=1,L.depth[He]=0,L.opt_len--,De&&(L.static_len-=me[He*2+1]);for(ne.max_code=Ft,nt=L.heap_len>>1;nt>=1;nt--)Ue(L,B,nt);He=Ee;do nt=L.heap[1],L.heap[1]=L.heap[L.heap_len--],Ue(L,B,1),qe=L.heap[1],L.heap[--L.heap_max]=nt,L.heap[--L.heap_max]=qe,B[He*2]=B[nt*2]+B[qe*2],L.depth[He]=(L.depth[nt]>=L.depth[qe]?L.depth[nt]:L.depth[qe])+1,B[nt*2+1]=B[qe*2+1]=He,L.heap[1]=He++,Ue(L,B,1);while(L.heap_len>=2);L.heap[--L.heap_max]=L.heap[1],R(L,ne),pe(B,Ft,L.bl_count)},Ie=(L,ne,B)=>{let me,De=-1,Ee,nt=ne[0*2+1],qe=0,Ft=7,He=4;for(nt===0&&(Ft=138,He=3),ne[(B+1)*2+1]=65535,me=0;me<=B;me++)Ee=nt,nt=ne[(me+1)*2+1],!(++qe<Ft&&Ee===nt)&&(qe<He?L.bl_tree[Ee*2]+=qe:Ee!==0?(Ee!==De&&L.bl_tree[Ee*2]++,L.bl_tree[D*2]++):qe<=10?L.bl_tree[M*2]++:L.bl_tree[P*2]++,qe=0,De=Ee,nt===0?(Ft=138,He=3):Ee===nt?(Ft=6,He=3):(Ft=7,He=4))},je=(L,ne,B)=>{let me,De=-1,Ee,nt=ne[0*2+1],qe=0,Ft=7,He=4;for(nt===0&&(Ft=138,He=3),me=0;me<=B;me++)if(Ee=nt,nt=ne[(me+1)*2+1],!(++qe<Ft&&Ee===nt)){if(qe<He)do _e(L,Ee,L.bl_tree);while(--qe!==0);else Ee!==0?(Ee!==De&&(_e(L,Ee,L.bl_tree),qe--),_e(L,D,L.bl_tree),Me(L,qe-3,2)):qe<=10?(_e(L,M,L.bl_tree),Me(L,qe-3,3)):(_e(L,P,L.bl_tree),Me(L,qe-11,7));qe=0,De=Ee,nt===0?(Ft=138,He=3):Ee===nt?(Ft=6,He=3):(Ft=7,He=4)}},Ke=L=>{let ne;for(Ie(L,L.dyn_ltree,L.l_desc.max_code),Ie(L,L.dyn_dtree,L.d_desc.max_code),Se(L,L.bl_desc),ne=y-1;ne>=3&&L.bl_tree[I[ne]*2+1]===0;ne--);return L.opt_len+=3*(ne+1)+5+5+4,ne},Pe=(L,ne,B,me)=>{let De;for(Me(L,ne-257,5),Me(L,B-1,5),Me(L,me-4,4),De=0;De<me;De++)Me(L,L.bl_tree[I[De]*2+1],3);je(L,L.dyn_ltree,ne-1),je(L,L.dyn_dtree,B-1)},ht=L=>{let ne=4093624447,B;for(B=0;B<=31;B++,ne>>>=1)if(ne&1&&L.dyn_ltree[B*2]!==0)return a;if(L.dyn_ltree[9*2]!==0||L.dyn_ltree[10*2]!==0||L.dyn_ltree[13*2]!==0)return s;for(B=32;B<w;B++)if(L.dyn_ltree[B*2]!==0)return s;return a},yt=!1,le=L=>{yt||(ve(),yt=!0),L.l_desc=new Ne(L.dyn_ltree,Q),L.d_desc=new Ne(L.dyn_dtree,te),L.bl_desc=new Ne(L.bl_tree,xe),L.bi_buf=0,L.bi_valid=0,ie(L)},ue=(L,ne,B,me)=>{Me(L,(l<<1)+(me?1:0),3),de(L),Fe(L,B),Fe(L,~B),B&&L.pending_buf.set(L.window.subarray(ne,ne+B),L.pending),L.pending+=B},ge=L=>{Me(L,g<<1,3),_e(L,f,Y),Xe(L)},$e=(L,ne,B,me)=>{let De,Ee,nt=0;L.level>0?(L.strm.data_type===o&&(L.strm.data_type=ht(L)),Se(L,L.l_desc),Se(L,L.d_desc),nt=Ke(L),De=L.opt_len+3+7>>>3,Ee=L.static_len+3+7>>>3,Ee<=De&&(De=Ee)):De=Ee=B+5,B+4<=De&&ne!==-1?ue(L,ne,B,me):L.strategy===n||Ee===De?(Me(L,(g<<1)+(me?1:0),3),Be(L,Y,q)):(Me(L,(h<<1)+(me?1:0),3),Pe(L,L.l_desc.max_code+1,L.d_desc.max_code+1,nt+1),Be(L,L.dyn_ltree,L.dyn_dtree)),ie(L),me&&de(L)},ke=(L,ne,B)=>(L.pending_buf[L.sym_buf+L.sym_next++]=ne,L.pending_buf[L.sym_buf+L.sym_next++]=ne>>8,L.pending_buf[L.sym_buf+L.sym_next++]=B,ne===0?L.dyn_ltree[B*2]++:(L.matches++,ne--,L.dyn_ltree[($[B]+w+1)*2]++,L.dyn_dtree[ye(ne)*2]++),L.sym_next===L.sym_end);var it=le,st=ue,se=$e,Ge=ke,Je=ge,pt={_tr_init:it,_tr_stored_block:st,_tr_flush_block:se,_tr_tally:Ge,_tr_align:Je},ot=(L,ne,B,me)=>{let De=L&65535|0,Ee=L>>>16&65535|0,nt=0;for(;B!==0;){nt=B>2e3?2e3:B,B-=nt;do De=De+ne[me++]|0,Ee=Ee+De|0;while(--nt);De%=65521,Ee%=65521}return De|Ee<<16|0};let oe=()=>{let L,ne=[];for(var B=0;B<256;B++){L=B;for(var me=0;me<8;me++)L=L&1?3988292384^L>>>1:L>>>1;ne[B]=L}return ne},ut=new Uint32Array(oe());var W=(L,ne,B,me)=>{let De=ut,Ee=me+B;L^=-1;for(let nt=me;nt<Ee;nt++)L=L>>>8^De[(L^ne[nt])&255];return L^-1},Ve={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ye={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:ce,_tr_stored_block:ze,_tr_flush_block:et,_tr_tally:Lt,_tr_align:Mt}=pt,{Z_NO_FLUSH:at,Z_PARTIAL_FLUSH:qt,Z_FULL_FLUSH:Yr,Z_FINISH:Vt,Z_BLOCK:Jt,Z_OK:Pt,Z_STREAM_END:Or,Z_STREAM_ERROR:Dr,Z_DATA_ERROR:Fr,Z_BUF_ERROR:rn,Z_DEFAULT_COMPRESSION:fr,Z_FILTERED:Zt,Z_HUFFMAN_ONLY:nr,Z_RLE:Br,Z_FIXED:jr,Z_DEFAULT_STRATEGY:xi,Z_UNKNOWN:ws,Z_DEFLATED:ba}=Ye,Mr=9,ea=15,Ss=8,Jo=256+1+29,el=30,Zf=19,Xf=2*Jo+1,hu=15,ar=3,oi=258,Kn=oi+ar+1,Tn=32,li=42,$a=57,ao=69,ya=73,Qa=91,so=103,wi=113,Si=666,un=1,xa=2,Kr=3,Cn=4,Cs=3,wa=(L,ne)=>(L.msg=Ve[ne],ne),pu=L=>L*2-(L>4?9:0),Ln=L=>{let ne=L.length;for(;--ne>=0;)L[ne]=0},Sa=L=>{let ne,B,me,De=L.w_size;ne=L.hash_size,me=ne;do B=L.head[--me],L.head[me]=B>=De?B-De:0;while(--ne);ne=De,me=ne;do B=L.prev[--me],L.prev[me]=B>=De?B-De:0;while(--ne)},ta=(L,ne,B)=>(ne<<L.hash_shift^B)&L.hash_mask,hn=L=>{let ne=L.state,B=ne.pending;B>L.avail_out&&(B=L.avail_out),B!==0&&(L.output.set(ne.pending_buf.subarray(ne.pending_out,ne.pending_out+B),L.next_out),L.next_out+=B,ne.pending_out+=B,L.total_out+=B,L.avail_out-=B,ne.pending-=B,ne.pending===0&&(ne.pending_out=0))},_n=(L,ne)=>{et(L,L.block_start>=0?L.block_start:-1,L.strstart-L.block_start,ne),L.block_start=L.strstart,hn(L.strm)},cr=(L,ne)=>{L.pending_buf[L.pending++]=ne},Ca=(L,ne)=>{L.pending_buf[L.pending++]=ne>>>8&255,L.pending_buf[L.pending++]=ne&255},oo=(L,ne,B,me)=>{let De=L.avail_in;return De>me&&(De=me),De===0?0:(L.avail_in-=De,ne.set(L.input.subarray(L.next_in,L.next_in+De),B),L.state.wrap===1?L.adler=ot(L.adler,ne,De,B):L.state.wrap===2&&(L.adler=W(L.adler,ne,De,B)),L.next_in+=De,L.total_in+=De,De)},gu=(L,ne)=>{let B=L.max_chain_length,me=L.strstart,De,Ee,nt=L.prev_length,qe=L.nice_match,Ft=L.strstart>L.w_size-Kn?L.strstart-(L.w_size-Kn):0,He=L.window,lt=L.w_mask,yr=L.prev,zt=L.strstart+oi,Ct=He[me+nt-1],Yt=He[me+nt];L.prev_length>=L.good_match&&(B>>=2),qe>L.lookahead&&(qe=L.lookahead);do if(De=ne,!(He[De+nt]!==Yt||He[De+nt-1]!==Ct||He[De]!==He[me]||He[++De]!==He[me+1])){me+=2,De++;do;while(He[++me]===He[++De]&&He[++me]===He[++De]&&He[++me]===He[++De]&&He[++me]===He[++De]&&He[++me]===He[++De]&&He[++me]===He[++De]&&He[++me]===He[++De]&&He[++me]===He[++De]&&me<zt);if(Ee=oi-(zt-me),me=zt-oi,Ee>nt){if(L.match_start=ne,nt=Ee,Ee>=qe)break;Ct=He[me+nt-1],Yt=He[me+nt]}}while((ne=yr[ne&lt])>Ft&&--B!==0);return nt<=L.lookahead?nt:L.lookahead},Ea=L=>{let ne=L.w_size,B,me,De;do{if(me=L.window_size-L.lookahead-L.strstart,L.strstart>=ne+(ne-Kn)&&(L.window.set(L.window.subarray(ne,ne+ne-me),0),L.match_start-=ne,L.strstart-=ne,L.block_start-=ne,L.insert>L.strstart&&(L.insert=L.strstart),Sa(L),me+=ne),L.strm.avail_in===0)break;if(B=oo(L.strm,L.window,L.strstart+L.lookahead,me),L.lookahead+=B,L.lookahead+L.insert>=ar)for(De=L.strstart-L.insert,L.ins_h=L.window[De],L.ins_h=ta(L,L.ins_h,L.window[De+1]);L.insert&&(L.ins_h=ta(L,L.ins_h,L.window[De+ar-1]),L.prev[De&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=De,De++,L.insert--,!(L.lookahead+L.insert<ar)););}while(L.lookahead<Kn&&L.strm.avail_in!==0)},vu=(L,ne)=>{let B=L.pending_buf_size-5>L.w_size?L.w_size:L.pending_buf_size-5,me,De,Ee,nt=0,qe=L.strm.avail_in;do{if(me=65535,Ee=L.bi_valid+42>>3,L.strm.avail_out<Ee||(Ee=L.strm.avail_out-Ee,De=L.strstart-L.block_start,me>De+L.strm.avail_in&&(me=De+L.strm.avail_in),me>Ee&&(me=Ee),me<B&&(me===0&&ne!==Vt||ne===at||me!==De+L.strm.avail_in)))break;nt=ne===Vt&&me===De+L.strm.avail_in?1:0,ze(L,0,0,nt),L.pending_buf[L.pending-4]=me,L.pending_buf[L.pending-3]=me>>8,L.pending_buf[L.pending-2]=~me,L.pending_buf[L.pending-1]=~me>>8,hn(L.strm),De&&(De>me&&(De=me),L.strm.output.set(L.window.subarray(L.block_start,L.block_start+De),L.strm.next_out),L.strm.next_out+=De,L.strm.avail_out-=De,L.strm.total_out+=De,L.block_start+=De,me-=De),me&&(oo(L.strm,L.strm.output,L.strm.next_out,me),L.strm.next_out+=me,L.strm.avail_out-=me,L.strm.total_out+=me)}while(nt===0);return qe-=L.strm.avail_in,qe&&(qe>=L.w_size?(L.matches=2,L.window.set(L.strm.input.subarray(L.strm.next_in-L.w_size,L.strm.next_in),0),L.strstart=L.w_size,L.insert=L.strstart):(L.window_size-L.strstart<=qe&&(L.strstart-=L.w_size,L.window.set(L.window.subarray(L.w_size,L.w_size+L.strstart),0),L.matches<2&&L.matches++,L.insert>L.strstart&&(L.insert=L.strstart)),L.window.set(L.strm.input.subarray(L.strm.next_in-qe,L.strm.next_in),L.strstart),L.strstart+=qe,L.insert+=qe>L.w_size-L.insert?L.w_size-L.insert:qe),L.block_start=L.strstart),L.high_water<L.strstart&&(L.high_water=L.strstart),nt?Cn:ne!==at&&ne!==Vt&&L.strm.avail_in===0&&L.strstart===L.block_start?xa:(Ee=L.window_size-L.strstart,L.strm.avail_in>Ee&&L.block_start>=L.w_size&&(L.block_start-=L.w_size,L.strstart-=L.w_size,L.window.set(L.window.subarray(L.w_size,L.w_size+L.strstart),0),L.matches<2&&L.matches++,Ee+=L.w_size,L.insert>L.strstart&&(L.insert=L.strstart)),Ee>L.strm.avail_in&&(Ee=L.strm.avail_in),Ee&&(oo(L.strm,L.window,L.strstart,Ee),L.strstart+=Ee,L.insert+=Ee>L.w_size-L.insert?L.w_size-L.insert:Ee),L.high_water<L.strstart&&(L.high_water=L.strstart),Ee=L.bi_valid+42>>3,Ee=L.pending_buf_size-Ee>65535?65535:L.pending_buf_size-Ee,B=Ee>L.w_size?L.w_size:Ee,De=L.strstart-L.block_start,(De>=B||(De||ne===Vt)&&ne!==at&&L.strm.avail_in===0&&De<=Ee)&&(me=De>Ee?Ee:De,nt=ne===Vt&&L.strm.avail_in===0&&me===De?1:0,ze(L,L.block_start,me,nt),L.block_start+=me,hn(L.strm)),nt?Kr:un)},tl=(L,ne)=>{let B,me;for(;;){if(L.lookahead<Kn){if(Ea(L),L.lookahead<Kn&&ne===at)return un;if(L.lookahead===0)break}if(B=0,L.lookahead>=ar&&(L.ins_h=ta(L,L.ins_h,L.window[L.strstart+ar-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),B!==0&&L.strstart-B<=L.w_size-Kn&&(L.match_length=gu(L,B)),L.match_length>=ar)if(me=Lt(L,L.strstart-L.match_start,L.match_length-ar),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=ar){L.match_length--;do L.strstart++,L.ins_h=ta(L,L.ins_h,L.window[L.strstart+ar-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart;while(--L.match_length!==0);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=ta(L,L.ins_h,L.window[L.strstart+1]);else me=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(me&&(_n(L,!1),L.strm.avail_out===0))return un}return L.insert=L.strstart<ar-1?L.strstart:ar-1,ne===Vt?(_n(L,!0),L.strm.avail_out===0?Kr:Cn):L.sym_next&&(_n(L,!1),L.strm.avail_out===0)?un:xa},ra=(L,ne)=>{let B,me,De;for(;;){if(L.lookahead<Kn){if(Ea(L),L.lookahead<Kn&&ne===at)return un;if(L.lookahead===0)break}if(B=0,L.lookahead>=ar&&(L.ins_h=ta(L,L.ins_h,L.window[L.strstart+ar-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=ar-1,B!==0&&L.prev_length<L.max_lazy_match&&L.strstart-B<=L.w_size-Kn&&(L.match_length=gu(L,B),L.match_length<=5&&(L.strategy===Zt||L.match_length===ar&&L.strstart-L.match_start>4096)&&(L.match_length=ar-1)),L.prev_length>=ar&&L.match_length<=L.prev_length){De=L.strstart+L.lookahead-ar,me=Lt(L,L.strstart-1-L.prev_match,L.prev_length-ar),L.lookahead-=L.prev_length-1,L.prev_length-=2;do++L.strstart<=De&&(L.ins_h=ta(L,L.ins_h,L.window[L.strstart+ar-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart);while(--L.prev_length!==0);if(L.match_available=0,L.match_length=ar-1,L.strstart++,me&&(_n(L,!1),L.strm.avail_out===0))return un}else if(L.match_available){if(me=Lt(L,0,L.window[L.strstart-1]),me&&_n(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return un}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(me=Lt(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<ar-1?L.strstart:ar-1,ne===Vt?(_n(L,!0),L.strm.avail_out===0?Kr:Cn):L.sym_next&&(_n(L,!1),L.strm.avail_out===0)?un:xa},$f=(L,ne)=>{let B,me,De,Ee,nt=L.window;for(;;){if(L.lookahead<=oi){if(Ea(L),L.lookahead<=oi&&ne===at)return un;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=ar&&L.strstart>0&&(De=L.strstart-1,me=nt[De],me===nt[++De]&&me===nt[++De]&&me===nt[++De])){Ee=L.strstart+oi;do;while(me===nt[++De]&&me===nt[++De]&&me===nt[++De]&&me===nt[++De]&&me===nt[++De]&&me===nt[++De]&&me===nt[++De]&&me===nt[++De]&&De<Ee);L.match_length=oi-(Ee-De),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=ar?(B=Lt(L,1,L.match_length-ar),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(B=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),B&&(_n(L,!1),L.strm.avail_out===0))return un}return L.insert=0,ne===Vt?(_n(L,!0),L.strm.avail_out===0?Kr:Cn):L.sym_next&&(_n(L,!1),L.strm.avail_out===0)?un:xa},Qf=(L,ne)=>{let B;for(;;){if(L.lookahead===0&&(Ea(L),L.lookahead===0)){if(ne===at)return un;break}if(L.match_length=0,B=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,B&&(_n(L,!1),L.strm.avail_out===0))return un}return L.insert=0,ne===Vt?(_n(L,!0),L.strm.avail_out===0?Kr:Cn):L.sym_next&&(_n(L,!1),L.strm.avail_out===0)?un:xa};function Ci(L,ne,B,me,De){this.good_length=L,this.max_lazy=ne,this.nice_length=B,this.max_chain=me,this.func=De}let Es=[new Ci(0,0,0,0,vu),new Ci(4,4,8,4,tl),new Ci(4,5,16,8,tl),new Ci(4,6,32,32,tl),new Ci(4,4,16,16,ra),new Ci(8,16,32,32,ra),new Ci(8,16,128,128,ra),new Ci(8,32,128,256,ra),new Ci(32,128,258,1024,ra),new Ci(32,258,258,4096,ra)],qf=L=>{L.window_size=2*L.w_size,Ln(L.head),L.max_lazy_match=Es[L.level].max_lazy,L.good_match=Es[L.level].good_length,L.nice_match=Es[L.level].nice_length,L.max_chain_length=Es[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=ar-1,L.match_available=0,L.ins_h=0};function Jf(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ba,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Xf*2),this.dyn_dtree=new Uint16Array((2*el+1)*2),this.bl_tree=new Uint16Array((2*Zf+1)*2),Ln(this.dyn_ltree),Ln(this.dyn_dtree),Ln(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(hu+1),this.heap=new Uint16Array(2*Jo+1),Ln(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Jo+1),Ln(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let Ds=L=>{if(!L)return 1;let ne=L.state;return!ne||ne.strm!==L||ne.status!==li&&ne.status!==$a&&ne.status!==ao&&ne.status!==ya&&ne.status!==Qa&&ne.status!==so&&ne.status!==wi&&ne.status!==Si?1:0},rl=L=>{if(Ds(L))return wa(L,Dr);L.total_in=L.total_out=0,L.data_type=ws;let ne=L.state;return ne.pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap===2?$a:ne.wrap?li:wi,L.adler=ne.wrap===2?0:1,ne.last_flush=-2,ce(ne),Pt},lo=L=>{let ne=rl(L);return ne===Pt&&qf(L.state),ne},uo=(L,ne)=>Ds(L)||L.state.wrap!==2?Dr:(L.state.gzhead=ne,Pt),qa=(L,ne,B,me,De,Ee)=>{if(!L)return Dr;let nt=1;if(ne===fr&&(ne=6),me<0?(nt=0,me=-me):me>15&&(nt=2,me-=16),De<1||De>Mr||B!==ba||me<8||me>15||ne<0||ne>9||Ee<0||Ee>jr||me===8&&nt!==1)return wa(L,Dr);me===8&&(me=9);let qe=new Jf;return L.state=qe,qe.strm=L,qe.status=li,qe.wrap=nt,qe.gzhead=null,qe.w_bits=me,qe.w_size=1<<qe.w_bits,qe.w_mask=qe.w_size-1,qe.hash_bits=De+7,qe.hash_size=1<<qe.hash_bits,qe.hash_mask=qe.hash_size-1,qe.hash_shift=~~((qe.hash_bits+ar-1)/ar),qe.window=new Uint8Array(qe.w_size*2),qe.head=new Uint16Array(qe.hash_size),qe.prev=new Uint16Array(qe.w_size),qe.lit_bufsize=1<<De+6,qe.pending_buf_size=qe.lit_bufsize*4,qe.pending_buf=new Uint8Array(qe.pending_buf_size),qe.sym_buf=qe.lit_bufsize,qe.sym_end=(qe.lit_bufsize-1)*3,qe.level=ne,qe.strategy=Ee,qe.method=B,lo(L)},_u=(L,ne)=>qa(L,ne,ba,ea,Ss,xi),nl=(L,ne)=>{if(Ds(L)||ne>Jt||ne<0)return L?wa(L,Dr):Dr;let B=L.state;if(!L.output||L.avail_in!==0&&!L.input||B.status===Si&&ne!==Vt)return wa(L,L.avail_out===0?rn:Dr);let me=B.last_flush;if(B.last_flush=ne,B.pending!==0){if(hn(L),L.avail_out===0)return B.last_flush=-1,Pt}else if(L.avail_in===0&&pu(ne)<=pu(me)&&ne!==Vt)return wa(L,rn);if(B.status===Si&&L.avail_in!==0)return wa(L,rn);if(B.status===li&&B.wrap===0&&(B.status=wi),B.status===li){let De=ba+(B.w_bits-8<<4)<<8,Ee=-1;if(B.strategy>=nr||B.level<2?Ee=0:B.level<6?Ee=1:B.level===6?Ee=2:Ee=3,De|=Ee<<6,B.strstart!==0&&(De|=Tn),De+=31-De%31,Ca(B,De),B.strstart!==0&&(Ca(B,L.adler>>>16),Ca(B,L.adler&65535)),L.adler=1,B.status=wi,hn(L),B.pending!==0)return B.last_flush=-1,Pt}if(B.status===$a){if(L.adler=0,cr(B,31),cr(B,139),cr(B,8),B.gzhead)cr(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),cr(B,B.gzhead.time&255),cr(B,B.gzhead.time>>8&255),cr(B,B.gzhead.time>>16&255),cr(B,B.gzhead.time>>24&255),cr(B,B.level===9?2:B.strategy>=nr||B.level<2?4:0),cr(B,B.gzhead.os&255),B.gzhead.extra&&B.gzhead.extra.length&&(cr(B,B.gzhead.extra.length&255),cr(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(L.adler=W(L.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=ao;else if(cr(B,0),cr(B,0),cr(B,0),cr(B,0),cr(B,0),cr(B,B.level===9?2:B.strategy>=nr||B.level<2?4:0),cr(B,Cs),B.status=wi,hn(L),B.pending!==0)return B.last_flush=-1,Pt}if(B.status===ao){if(B.gzhead.extra){let De=B.pending,Ee=(B.gzhead.extra.length&65535)-B.gzindex;for(;B.pending+Ee>B.pending_buf_size;){let qe=B.pending_buf_size-B.pending;if(B.pending_buf.set(B.gzhead.extra.subarray(B.gzindex,B.gzindex+qe),B.pending),B.pending=B.pending_buf_size,B.gzhead.hcrc&&B.pending>De&&(L.adler=W(L.adler,B.pending_buf,B.pending-De,De)),B.gzindex+=qe,hn(L),B.pending!==0)return B.last_flush=-1,Pt;De=0,Ee-=qe}let nt=new Uint8Array(B.gzhead.extra);B.pending_buf.set(nt.subarray(B.gzindex,B.gzindex+Ee),B.pending),B.pending+=Ee,B.gzhead.hcrc&&B.pending>De&&(L.adler=W(L.adler,B.pending_buf,B.pending-De,De)),B.gzindex=0}B.status=ya}if(B.status===ya){if(B.gzhead.name){let De=B.pending,Ee;do{if(B.pending===B.pending_buf_size){if(B.gzhead.hcrc&&B.pending>De&&(L.adler=W(L.adler,B.pending_buf,B.pending-De,De)),hn(L),B.pending!==0)return B.last_flush=-1,Pt;De=0}B.gzindex<B.gzhead.name.length?Ee=B.gzhead.name.charCodeAt(B.gzindex++)&255:Ee=0,cr(B,Ee)}while(Ee!==0);B.gzhead.hcrc&&B.pending>De&&(L.adler=W(L.adler,B.pending_buf,B.pending-De,De)),B.gzindex=0}B.status=Qa}if(B.status===Qa){if(B.gzhead.comment){let De=B.pending,Ee;do{if(B.pending===B.pending_buf_size){if(B.gzhead.hcrc&&B.pending>De&&(L.adler=W(L.adler,B.pending_buf,B.pending-De,De)),hn(L),B.pending!==0)return B.last_flush=-1,Pt;De=0}B.gzindex<B.gzhead.comment.length?Ee=B.gzhead.comment.charCodeAt(B.gzindex++)&255:Ee=0,cr(B,Ee)}while(Ee!==0);B.gzhead.hcrc&&B.pending>De&&(L.adler=W(L.adler,B.pending_buf,B.pending-De,De))}B.status=so}if(B.status===so){if(B.gzhead.hcrc){if(B.pending+2>B.pending_buf_size&&(hn(L),B.pending!==0))return B.last_flush=-1,Pt;cr(B,L.adler&255),cr(B,L.adler>>8&255),L.adler=0}if(B.status=wi,hn(L),B.pending!==0)return B.last_flush=-1,Pt}if(L.avail_in!==0||B.lookahead!==0||ne!==at&&B.status!==Si){let De=B.level===0?vu(B,ne):B.strategy===nr?Qf(B,ne):B.strategy===Br?$f(B,ne):Es[B.level].func(B,ne);if((De===Kr||De===Cn)&&(B.status=Si),De===un||De===Kr)return L.avail_out===0&&(B.last_flush=-1),Pt;if(De===xa&&(ne===qt?Mt(B):ne!==Jt&&(ze(B,0,0,!1),ne===Yr&&(Ln(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),hn(L),L.avail_out===0))return B.last_flush=-1,Pt}return ne!==Vt?Pt:B.wrap<=0?Or:(B.wrap===2?(cr(B,L.adler&255),cr(B,L.adler>>8&255),cr(B,L.adler>>16&255),cr(B,L.adler>>24&255),cr(B,L.total_in&255),cr(B,L.total_in>>8&255),cr(B,L.total_in>>16&255),cr(B,L.total_in>>24&255)):(Ca(B,L.adler>>>16),Ca(B,L.adler&65535)),hn(L),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?Pt:Or)},fo=L=>{if(Ds(L))return Dr;let ne=L.state.status;return L.state=null,ne===wi?wa(L,Fr):Pt},ed=(L,ne)=>{let B=ne.length;if(Ds(L))return Dr;let me=L.state,De=me.wrap;if(De===2||De===1&&me.status!==li||me.lookahead)return Dr;if(De===1&&(L.adler=ot(L.adler,ne,B,0)),me.wrap=0,B>=me.w_size){De===0&&(Ln(me.head),me.strstart=0,me.block_start=0,me.insert=0);let Ft=new Uint8Array(me.w_size);Ft.set(ne.subarray(B-me.w_size,B),0),ne=Ft,B=me.w_size}let Ee=L.avail_in,nt=L.next_in,qe=L.input;for(L.avail_in=B,L.next_in=0,L.input=ne,Ea(me);me.lookahead>=ar;){let Ft=me.strstart,He=me.lookahead-(ar-1);do me.ins_h=ta(me,me.ins_h,me.window[Ft+ar-1]),me.prev[Ft&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=Ft,Ft++;while(--He);me.strstart=Ft,me.lookahead=ar-1,Ea(me)}return me.strstart+=me.lookahead,me.block_start=me.strstart,me.insert=me.lookahead,me.lookahead=0,me.match_length=me.prev_length=ar-1,me.match_available=0,L.next_in=nt,L.input=qe,L.avail_in=Ee,me.wrap=De,Pt};var td=_u,rd=qa,Ms=lo,il=rl,Nr=uo,As=nl,Ts=fo,nd=ed,A="pako deflate (from Nodeca project)",N={deflateInit:td,deflateInit2:rd,deflateReset:Ms,deflateResetKeep:il,deflateSetHeader:Nr,deflate:As,deflateEnd:Ts,deflateSetDictionary:nd,deflateInfo:A};let U=(L,ne)=>Object.prototype.hasOwnProperty.call(L,ne);var K=function(L){let ne=Array.prototype.slice.call(arguments,1);for(;ne.length;){let B=ne.shift();if(B){if(typeof B!="object")throw new TypeError(B+"must be non-object");for(let me in B)U(B,me)&&(L[me]=B[me])}}return L},ee=L=>{let ne=0;for(let me=0,De=L.length;me<De;me++)ne+=L[me].length;let B=new Uint8Array(ne);for(let me=0,De=0,Ee=L.length;me<Ee;me++){let nt=L[me];B.set(nt,De),De+=nt.length}return B},re={assign:K,flattenChunks:ee};let fe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fe=!1}let Oe=new Uint8Array(256);for(let L=0;L<256;L++)Oe[L]=L>=252?6:L>=248?5:L>=240?4:L>=224?3:L>=192?2:1;Oe[254]=Oe[254]=1;var Ae=L=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(L);let ne,B,me,De,Ee,nt=L.length,qe=0;for(De=0;De<nt;De++)B=L.charCodeAt(De),(B&64512)===55296&&De+1<nt&&(me=L.charCodeAt(De+1),(me&64512)===56320&&(B=65536+(B-55296<<10)+(me-56320),De++)),qe+=B<128?1:B<2048?2:B<65536?3:4;for(ne=new Uint8Array(qe),Ee=0,De=0;Ee<qe;De++)B=L.charCodeAt(De),(B&64512)===55296&&De+1<nt&&(me=L.charCodeAt(De+1),(me&64512)===56320&&(B=65536+(B-55296<<10)+(me-56320),De++)),B<128?ne[Ee++]=B:B<2048?(ne[Ee++]=192|B>>>6,ne[Ee++]=128|B&63):B<65536?(ne[Ee++]=224|B>>>12,ne[Ee++]=128|B>>>6&63,ne[Ee++]=128|B&63):(ne[Ee++]=240|B>>>18,ne[Ee++]=128|B>>>12&63,ne[Ee++]=128|B>>>6&63,ne[Ee++]=128|B&63);return ne};let Ze=(L,ne)=>{if(ne<65534&&L.subarray&&fe)return String.fromCharCode.apply(null,L.length===ne?L:L.subarray(0,ne));let B="";for(let me=0;me<ne;me++)B+=String.fromCharCode(L[me]);return B};var ct=(L,ne)=>{let B=ne||L.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(L.subarray(0,ne));let me,De,Ee=new Array(B*2);for(De=0,me=0;me<B;){let nt=L[me++];if(nt<128){Ee[De++]=nt;continue}let qe=Oe[nt];if(qe>4){Ee[De++]=65533,me+=qe-1;continue}for(nt&=qe===2?31:qe===3?15:7;qe>1&&me<B;)nt=nt<<6|L[me++]&63,qe--;if(qe>1){Ee[De++]=65533;continue}nt<65536?Ee[De++]=nt:(nt-=65536,Ee[De++]=55296|nt>>10&1023,Ee[De++]=56320|nt&1023)}return Ze(Ee,De)},vt=(L,ne)=>{ne=ne||L.length,ne>L.length&&(ne=L.length);let B=ne-1;for(;B>=0&&(L[B]&192)===128;)B--;return B<0||B===0?ne:B+Oe[L[B]]>ne?B:ne},rt={string2buf:Ae,buf2string:ct,utf8border:vt};function wt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kt=wt;let lr=Object.prototype.toString,{Z_NO_FLUSH:tr,Z_SYNC_FLUSH:pn,Z_FULL_FLUSH:Jr,Z_FINISH:Ei,Z_OK:Un,Z_STREAM_END:sr,Z_DEFAULT_COMPRESSION:Da,Z_DEFAULT_STRATEGY:hr,Z_DEFLATED:Wr}=Ye;function Ri(L){this.options=re.assign({level:Da,method:Wr,chunkSize:16384,windowBits:15,memLevel:8,strategy:hr},L||{});let ne=this.options;ne.raw&&ne.windowBits>0?ne.windowBits=-ne.windowBits:ne.gzip&&ne.windowBits>0&&ne.windowBits<16&&(ne.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let B=N.deflateInit2(this.strm,ne.level,ne.method,ne.windowBits,ne.memLevel,ne.strategy);if(B!==Un)throw new Error(Ve[B]);if(ne.header&&N.deflateSetHeader(this.strm,ne.header),ne.dictionary){let me;if(typeof ne.dictionary=="string"?me=rt.string2buf(ne.dictionary):lr.call(ne.dictionary)==="[object ArrayBuffer]"?me=new Uint8Array(ne.dictionary):me=ne.dictionary,B=N.deflateSetDictionary(this.strm,me),B!==Un)throw new Error(Ve[B]);this._dict_set=!0}}Ri.prototype.push=function(L,ne){let B=this.strm,me=this.options.chunkSize,De,Ee;if(this.ended)return!1;for(ne===~~ne?Ee=ne:Ee=ne===!0?Ei:tr,typeof L=="string"?B.input=rt.string2buf(L):lr.call(L)==="[object ArrayBuffer]"?B.input=new Uint8Array(L):B.input=L,B.next_in=0,B.avail_in=B.input.length;;){if(B.avail_out===0&&(B.output=new Uint8Array(me),B.next_out=0,B.avail_out=me),(Ee===pn||Ee===Jr)&&B.avail_out<=6){this.onData(B.output.subarray(0,B.next_out)),B.avail_out=0;continue}if(De=N.deflate(B,Ee),De===sr)return B.next_out>0&&this.onData(B.output.subarray(0,B.next_out)),De=N.deflateEnd(this.strm),this.onEnd(De),this.ended=!0,De===Un;if(B.avail_out===0){this.onData(B.output);continue}if(Ee>0&&B.next_out>0){this.onData(B.output.subarray(0,B.next_out)),B.avail_out=0;continue}if(B.avail_in===0)break}return!0},Ri.prototype.onData=function(L){this.chunks.push(L)},Ri.prototype.onEnd=function(L){L===Un&&(this.result=re.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function Di(L,ne){let B=new Ri(ne);if(B.push(L,!0),B.err)throw B.msg||Ve[B.err];return B.result}function Mi(L,ne){return ne=ne||{},ne.raw=!0,Di(L,ne)}function Ma(L,ne){return ne=ne||{},ne.gzip=!0,Di(L,ne)}var Ai=Ri,Ti=Di,na=Mi,Zn=Ma,al=Ye,Ui={Deflate:Ai,deflate:Ti,deflateRaw:na,gzip:Zn,constants:al};let jn=16209,id=16191;var bu=function(ne,B){let me,De,Ee,nt,qe,Ft,He,lt,yr,zt,Ct,Yt,Zr,mr,Qt,Ar,dr,Nt,Cr,yn,Xt,Ir,gr,er,pr=ne.state;me=ne.next_in,gr=ne.input,De=me+(ne.avail_in-5),Ee=ne.next_out,er=ne.output,nt=Ee-(B-ne.avail_out),qe=Ee+(ne.avail_out-257),Ft=pr.dmax,He=pr.wsize,lt=pr.whave,yr=pr.wnext,zt=pr.window,Ct=pr.hold,Yt=pr.bits,Zr=pr.lencode,mr=pr.distcode,Qt=(1<<pr.lenbits)-1,Ar=(1<<pr.distbits)-1;e:do{Yt<15&&(Ct+=gr[me++]<<Yt,Yt+=8,Ct+=gr[me++]<<Yt,Yt+=8),dr=Zr[Ct&Qt];t:for(;;){if(Nt=dr>>>24,Ct>>>=Nt,Yt-=Nt,Nt=dr>>>16&255,Nt===0)er[Ee++]=dr&65535;else if(Nt&16){Cr=dr&65535,Nt&=15,Nt&&(Yt<Nt&&(Ct+=gr[me++]<<Yt,Yt+=8),Cr+=Ct&(1<<Nt)-1,Ct>>>=Nt,Yt-=Nt),Yt<15&&(Ct+=gr[me++]<<Yt,Yt+=8,Ct+=gr[me++]<<Yt,Yt+=8),dr=mr[Ct&Ar];r:for(;;){if(Nt=dr>>>24,Ct>>>=Nt,Yt-=Nt,Nt=dr>>>16&255,Nt&16){if(yn=dr&65535,Nt&=15,Yt<Nt&&(Ct+=gr[me++]<<Yt,Yt+=8,Yt<Nt&&(Ct+=gr[me++]<<Yt,Yt+=8)),yn+=Ct&(1<<Nt)-1,yn>Ft){ne.msg="invalid distance too far back",pr.mode=jn;break e}if(Ct>>>=Nt,Yt-=Nt,Nt=Ee-nt,yn>Nt){if(Nt=yn-Nt,Nt>lt&&pr.sane){ne.msg="invalid distance too far back",pr.mode=jn;break e}if(Xt=0,Ir=zt,yr===0){if(Xt+=He-Nt,Nt<Cr){Cr-=Nt;do er[Ee++]=zt[Xt++];while(--Nt);Xt=Ee-yn,Ir=er}}else if(yr<Nt){if(Xt+=He+yr-Nt,Nt-=yr,Nt<Cr){Cr-=Nt;do er[Ee++]=zt[Xt++];while(--Nt);if(Xt=0,yr<Cr){Nt=yr,Cr-=Nt;do er[Ee++]=zt[Xt++];while(--Nt);Xt=Ee-yn,Ir=er}}}else if(Xt+=yr-Nt,Nt<Cr){Cr-=Nt;do er[Ee++]=zt[Xt++];while(--Nt);Xt=Ee-yn,Ir=er}for(;Cr>2;)er[Ee++]=Ir[Xt++],er[Ee++]=Ir[Xt++],er[Ee++]=Ir[Xt++],Cr-=3;Cr&&(er[Ee++]=Ir[Xt++],Cr>1&&(er[Ee++]=Ir[Xt++]))}else{Xt=Ee-yn;do er[Ee++]=er[Xt++],er[Ee++]=er[Xt++],er[Ee++]=er[Xt++],Cr-=3;while(Cr>2);Cr&&(er[Ee++]=er[Xt++],Cr>1&&(er[Ee++]=er[Xt++]))}}else if(Nt&64){ne.msg="invalid distance code",pr.mode=jn;break e}else{dr=mr[(dr&65535)+(Ct&(1<<Nt)-1)];continue r}break}}else if(Nt&64)if(Nt&32){pr.mode=id;break e}else{ne.msg="invalid literal/length code",pr.mode=jn;break e}else{dr=Zr[(dr&65535)+(Ct&(1<<Nt)-1)];continue t}break}}while(me<De&&Ee<qe);Cr=Yt>>3,me-=Cr,Yt-=Cr<<3,Ct&=(1<<Yt)-1,ne.next_in=me,ne.next_out=Ee,ne.avail_in=me<De?5+(De-me):5-(me-De),ne.avail_out=Ee<qe?257+(qe-Ee):257-(Ee-qe),pr.hold=Ct,pr.bits=Yt};let xr=15,Sr=852,Ls=592,Wn=0,ia=1,yu=2,ad=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ja=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Aa=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sl=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ji=(L,ne,B,me,De,Ee,nt,qe)=>{let Ft=qe.bits,He=0,lt=0,yr=0,zt=0,Ct=0,Yt=0,Zr=0,mr=0,Qt=0,Ar=0,dr,Nt,Cr,yn,Xt,Ir=null,gr,er=new Uint16Array(xr+1),pr=new Uint16Array(xr+1),zs=null,rs,Cu,Eu;for(He=0;He<=xr;He++)er[He]=0;for(lt=0;lt<me;lt++)er[ne[B+lt]]++;for(Ct=Ft,zt=xr;zt>=1&&er[zt]===0;zt--);if(Ct>zt&&(Ct=zt),zt===0)return De[Ee++]=1<<24|64<<16|0,De[Ee++]=1<<24|64<<16|0,qe.bits=1,0;for(yr=1;yr<zt&&er[yr]===0;yr++);for(Ct<yr&&(Ct=yr),mr=1,He=1;He<=xr;He++)if(mr<<=1,mr-=er[He],mr<0)return-1;if(mr>0&&(L===Wn||zt!==1))return-1;for(pr[1]=0,He=1;He<xr;He++)pr[He+1]=pr[He]+er[He];for(lt=0;lt<me;lt++)ne[B+lt]!==0&&(nt[pr[ne[B+lt]]++]=lt);if(L===Wn?(Ir=zs=nt,gr=20):L===ia?(Ir=ad,zs=Ja,gr=257):(Ir=Aa,zs=sl,gr=0),Ar=0,lt=0,He=yr,Xt=Ee,Yt=Ct,Zr=0,Cr=-1,Qt=1<<Ct,yn=Qt-1,L===ia&&Qt>Sr||L===yu&&Qt>Ls)return 1;for(;;){rs=He-Zr,nt[lt]+1<gr?(Cu=0,Eu=nt[lt]):nt[lt]>=gr?(Cu=zs[nt[lt]-gr],Eu=Ir[nt[lt]-gr]):(Cu=96,Eu=0),dr=1<<He-Zr,Nt=1<<Yt,yr=Nt;do Nt-=dr,De[Xt+(Ar>>Zr)+Nt]=rs<<24|Cu<<16|Eu|0;while(Nt!==0);for(dr=1<<He-1;Ar&dr;)dr>>=1;if(dr!==0?(Ar&=dr-1,Ar+=dr):Ar=0,lt++,--er[He]===0){if(He===zt)break;He=ne[B+nt[lt]]}if(He>Ct&&(Ar&yn)!==Cr){for(Zr===0&&(Zr=Ct),Xt+=yr,Yt=He-Zr,mr=1<<Yt;Yt+Zr<zt&&(mr-=er[Yt+Zr],!(mr<=0));)Yt++,mr<<=1;if(Qt+=1<<Yt,L===ia&&Qt>Sr||L===yu&&Qt>Ls)return 1;Cr=Ar&yn,De[Cr]=Ct<<24|Yt<<16|Xt-Ee|0}}return Ar!==0&&(De[Xt+Ar]=He-Zr<<24|64<<16|0),qe.bits=Ct,0};let La=0,Oa=1,Os=2,{Z_FINISH:ks,Z_BLOCK:sd,Z_TREES:Wi,Z_OK:ui,Z_STREAM_END:Ps,Z_NEED_DICT:od,Z_STREAM_ERROR:On,Z_DATA_ERROR:ol,Z_MEM_ERROR:we,Z_BUF_ERROR:We,Z_DEFLATED:tt}=Ye,ft=16180,gt=16181,Tt=16182,Ot=16183,Bt=16184,kt=16185,ir=16186,Ut=16187,Gt=16188,rr=16189,Wt=16190,ur=16191,mn=16192,gn=16193,kn=16194,Xn=16195,ka=16196,bn=16197,_h=16198,xu=16199,wu=16200,bh=16201,yh=16202,xh=16203,wh=16204,Sh=16205,ld=16206,Ch=16207,Eh=16208,Gr=16209,ll=16210,Dh=16211,Rg=852,Ug=592,jg=15,Mh=L=>(L>>>24&255)+(L>>>8&65280)+((L&65280)<<8)+((L&255)<<24);function Wg(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let Ns=L=>{if(!L)return 1;let ne=L.state;return!ne||ne.strm!==L||ne.mode<ft||ne.mode>Dh?1:0},ud=L=>{if(Ns(L))return On;let ne=L.state;return L.total_in=L.total_out=ne.total=0,L.msg="",ne.wrap&&(L.adler=ne.wrap&1),ne.mode=ft,ne.last=0,ne.havedict=0,ne.flags=-1,ne.dmax=32768,ne.head=null,ne.hold=0,ne.bits=0,ne.lencode=ne.lendyn=new Int32Array(Rg),ne.distcode=ne.distdyn=new Int32Array(Ug),ne.sane=1,ne.back=-1,ui},fd=L=>{if(Ns(L))return On;let ne=L.state;return ne.wsize=0,ne.whave=0,ne.wnext=0,ud(L)},dd=(L,ne)=>{let B;if(Ns(L))return On;let me=L.state;return ne<0?(B=0,ne=-ne):(B=(ne>>4)+5,ne<48&&(ne&=15)),ne&&(ne<8||ne>15)?On:(me.window!==null&&me.wbits!==ne&&(me.window=null),me.wrap=B,me.wbits=ne,fd(L))},ul=(L,ne)=>{if(!L)return On;let B=new Wg;L.state=B,B.strm=L,B.window=null,B.mode=ft;let me=dd(L,ne);return me!==ui&&(L.state=null),me},co=L=>ul(L,jg),fl=!0,Su,es,Ah=L=>{if(fl){Su=new Int32Array(512),es=new Int32Array(32);let ne=0;for(;ne<144;)L.lens[ne++]=8;for(;ne<256;)L.lens[ne++]=9;for(;ne<280;)L.lens[ne++]=7;for(;ne<288;)L.lens[ne++]=8;for(ji(Oa,L.lens,0,288,Su,0,L.work,{bits:9}),ne=0;ne<32;)L.lens[ne++]=5;ji(Os,L.lens,0,32,es,0,L.work,{bits:5}),fl=!1}L.lencode=Su,L.lenbits=9,L.distcode=es,L.distbits=5},cd=(L,ne,B,me)=>{let De,Ee=L.state;return Ee.window===null&&(Ee.wsize=1<<Ee.wbits,Ee.wnext=0,Ee.whave=0,Ee.window=new Uint8Array(Ee.wsize)),me>=Ee.wsize?(Ee.window.set(ne.subarray(B-Ee.wsize,B),0),Ee.wnext=0,Ee.whave=Ee.wsize):(De=Ee.wsize-Ee.wnext,De>me&&(De=me),Ee.window.set(ne.subarray(B-me,B-me+De),Ee.wnext),me-=De,me?(Ee.window.set(ne.subarray(B-me,B),0),Ee.wnext=me,Ee.whave=Ee.wsize):(Ee.wnext+=De,Ee.wnext===Ee.wsize&&(Ee.wnext=0),Ee.whave<Ee.wsize&&(Ee.whave+=De))),0},Gg=(L,ne)=>{let B,me,De,Ee,nt,qe,Ft,He,lt,yr,zt,Ct,Yt,Zr,mr=0,Qt,Ar,dr,Nt,Cr,yn,Xt,Ir,gr=new Uint8Array(4),er,pr,zs=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ns(L)||!L.output||!L.input&&L.avail_in!==0)return On;B=L.state,B.mode===ur&&(B.mode=mn),nt=L.next_out,De=L.output,Ft=L.avail_out,Ee=L.next_in,me=L.input,qe=L.avail_in,He=B.hold,lt=B.bits,yr=qe,zt=Ft,Ir=ui;e:for(;;)switch(B.mode){case ft:if(B.wrap===0){B.mode=mn;break}for(;lt<16;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if(B.wrap&2&&He===35615){B.wbits===0&&(B.wbits=15),B.check=0,gr[0]=He&255,gr[1]=He>>>8&255,B.check=W(B.check,gr,2,0),He=0,lt=0,B.mode=gt;break}if(B.head&&(B.head.done=!1),!(B.wrap&1)||(((He&255)<<8)+(He>>8))%31){L.msg="incorrect header check",B.mode=Gr;break}if((He&15)!==tt){L.msg="unknown compression method",B.mode=Gr;break}if(He>>>=4,lt-=4,Xt=(He&15)+8,B.wbits===0&&(B.wbits=Xt),Xt>15||Xt>B.wbits){L.msg="invalid window size",B.mode=Gr;break}B.dmax=1<<B.wbits,B.flags=0,L.adler=B.check=1,B.mode=He&512?rr:ur,He=0,lt=0;break;case gt:for(;lt<16;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if(B.flags=He,(B.flags&255)!==tt){L.msg="unknown compression method",B.mode=Gr;break}if(B.flags&57344){L.msg="unknown header flags set",B.mode=Gr;break}B.head&&(B.head.text=He>>8&1),B.flags&512&&B.wrap&4&&(gr[0]=He&255,gr[1]=He>>>8&255,B.check=W(B.check,gr,2,0)),He=0,lt=0,B.mode=Tt;case Tt:for(;lt<32;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}B.head&&(B.head.time=He),B.flags&512&&B.wrap&4&&(gr[0]=He&255,gr[1]=He>>>8&255,gr[2]=He>>>16&255,gr[3]=He>>>24&255,B.check=W(B.check,gr,4,0)),He=0,lt=0,B.mode=Ot;case Ot:for(;lt<16;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}B.head&&(B.head.xflags=He&255,B.head.os=He>>8),B.flags&512&&B.wrap&4&&(gr[0]=He&255,gr[1]=He>>>8&255,B.check=W(B.check,gr,2,0)),He=0,lt=0,B.mode=Bt;case Bt:if(B.flags&1024){for(;lt<16;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}B.length=He,B.head&&(B.head.extra_len=He),B.flags&512&&B.wrap&4&&(gr[0]=He&255,gr[1]=He>>>8&255,B.check=W(B.check,gr,2,0)),He=0,lt=0}else B.head&&(B.head.extra=null);B.mode=kt;case kt:if(B.flags&1024&&(Ct=B.length,Ct>qe&&(Ct=qe),Ct&&(B.head&&(Xt=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Uint8Array(B.head.extra_len)),B.head.extra.set(me.subarray(Ee,Ee+Ct),Xt)),B.flags&512&&B.wrap&4&&(B.check=W(B.check,me,Ct,Ee)),qe-=Ct,Ee+=Ct,B.length-=Ct),B.length))break e;B.length=0,B.mode=ir;case ir:if(B.flags&2048){if(qe===0)break e;Ct=0;do Xt=me[Ee+Ct++],B.head&&Xt&&B.length<65536&&(B.head.name+=String.fromCharCode(Xt));while(Xt&&Ct<qe);if(B.flags&512&&B.wrap&4&&(B.check=W(B.check,me,Ct,Ee)),qe-=Ct,Ee+=Ct,Xt)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=Ut;case Ut:if(B.flags&4096){if(qe===0)break e;Ct=0;do Xt=me[Ee+Ct++],B.head&&Xt&&B.length<65536&&(B.head.comment+=String.fromCharCode(Xt));while(Xt&&Ct<qe);if(B.flags&512&&B.wrap&4&&(B.check=W(B.check,me,Ct,Ee)),qe-=Ct,Ee+=Ct,Xt)break e}else B.head&&(B.head.comment=null);B.mode=Gt;case Gt:if(B.flags&512){for(;lt<16;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if(B.wrap&4&&He!==(B.check&65535)){L.msg="header crc mismatch",B.mode=Gr;break}He=0,lt=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),L.adler=B.check=0,B.mode=ur;break;case rr:for(;lt<32;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}L.adler=B.check=Mh(He),He=0,lt=0,B.mode=Wt;case Wt:if(B.havedict===0)return L.next_out=nt,L.avail_out=Ft,L.next_in=Ee,L.avail_in=qe,B.hold=He,B.bits=lt,od;L.adler=B.check=1,B.mode=ur;case ur:if(ne===sd||ne===Wi)break e;case mn:if(B.last){He>>>=lt&7,lt-=lt&7,B.mode=ld;break}for(;lt<3;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}switch(B.last=He&1,He>>>=1,lt-=1,He&3){case 0:B.mode=gn;break;case 1:if(Ah(B),B.mode=xu,ne===Wi){He>>>=2,lt-=2;break e}break;case 2:B.mode=ka;break;case 3:L.msg="invalid block type",B.mode=Gr}He>>>=2,lt-=2;break;case gn:for(He>>>=lt&7,lt-=lt&7;lt<32;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if((He&65535)!==(He>>>16^65535)){L.msg="invalid stored block lengths",B.mode=Gr;break}if(B.length=He&65535,He=0,lt=0,B.mode=kn,ne===Wi)break e;case kn:B.mode=Xn;case Xn:if(Ct=B.length,Ct){if(Ct>qe&&(Ct=qe),Ct>Ft&&(Ct=Ft),Ct===0)break e;De.set(me.subarray(Ee,Ee+Ct),nt),qe-=Ct,Ee+=Ct,Ft-=Ct,nt+=Ct,B.length-=Ct;break}B.mode=ur;break;case ka:for(;lt<14;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if(B.nlen=(He&31)+257,He>>>=5,lt-=5,B.ndist=(He&31)+1,He>>>=5,lt-=5,B.ncode=(He&15)+4,He>>>=4,lt-=4,B.nlen>286||B.ndist>30){L.msg="too many length or distance symbols",B.mode=Gr;break}B.have=0,B.mode=bn;case bn:for(;B.have<B.ncode;){for(;lt<3;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}B.lens[zs[B.have++]]=He&7,He>>>=3,lt-=3}for(;B.have<19;)B.lens[zs[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,er={bits:B.lenbits},Ir=ji(La,B.lens,0,19,B.lencode,0,B.work,er),B.lenbits=er.bits,Ir){L.msg="invalid code lengths set",B.mode=Gr;break}B.have=0,B.mode=_h;case _h:for(;B.have<B.nlen+B.ndist;){for(;mr=B.lencode[He&(1<<B.lenbits)-1],Qt=mr>>>24,Ar=mr>>>16&255,dr=mr&65535,!(Qt<=lt);){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if(dr<16)He>>>=Qt,lt-=Qt,B.lens[B.have++]=dr;else{if(dr===16){for(pr=Qt+2;lt<pr;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if(He>>>=Qt,lt-=Qt,B.have===0){L.msg="invalid bit length repeat",B.mode=Gr;break}Xt=B.lens[B.have-1],Ct=3+(He&3),He>>>=2,lt-=2}else if(dr===17){for(pr=Qt+3;lt<pr;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}He>>>=Qt,lt-=Qt,Xt=0,Ct=3+(He&7),He>>>=3,lt-=3}else{for(pr=Qt+7;lt<pr;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}He>>>=Qt,lt-=Qt,Xt=0,Ct=11+(He&127),He>>>=7,lt-=7}if(B.have+Ct>B.nlen+B.ndist){L.msg="invalid bit length repeat",B.mode=Gr;break}for(;Ct--;)B.lens[B.have++]=Xt}}if(B.mode===Gr)break;if(B.lens[256]===0){L.msg="invalid code -- missing end-of-block",B.mode=Gr;break}if(B.lenbits=9,er={bits:B.lenbits},Ir=ji(Oa,B.lens,0,B.nlen,B.lencode,0,B.work,er),B.lenbits=er.bits,Ir){L.msg="invalid literal/lengths set",B.mode=Gr;break}if(B.distbits=6,B.distcode=B.distdyn,er={bits:B.distbits},Ir=ji(Os,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,er),B.distbits=er.bits,Ir){L.msg="invalid distances set",B.mode=Gr;break}if(B.mode=xu,ne===Wi)break e;case xu:B.mode=wu;case wu:if(qe>=6&&Ft>=258){L.next_out=nt,L.avail_out=Ft,L.next_in=Ee,L.avail_in=qe,B.hold=He,B.bits=lt,bu(L,zt),nt=L.next_out,De=L.output,Ft=L.avail_out,Ee=L.next_in,me=L.input,qe=L.avail_in,He=B.hold,lt=B.bits,B.mode===ur&&(B.back=-1);break}for(B.back=0;mr=B.lencode[He&(1<<B.lenbits)-1],Qt=mr>>>24,Ar=mr>>>16&255,dr=mr&65535,!(Qt<=lt);){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if(Ar&&!(Ar&240)){for(Nt=Qt,Cr=Ar,yn=dr;mr=B.lencode[yn+((He&(1<<Nt+Cr)-1)>>Nt)],Qt=mr>>>24,Ar=mr>>>16&255,dr=mr&65535,!(Nt+Qt<=lt);){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}He>>>=Nt,lt-=Nt,B.back+=Nt}if(He>>>=Qt,lt-=Qt,B.back+=Qt,B.length=dr,Ar===0){B.mode=Sh;break}if(Ar&32){B.back=-1,B.mode=ur;break}if(Ar&64){L.msg="invalid literal/length code",B.mode=Gr;break}B.extra=Ar&15,B.mode=bh;case bh:if(B.extra){for(pr=B.extra;lt<pr;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}B.length+=He&(1<<B.extra)-1,He>>>=B.extra,lt-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=yh;case yh:for(;mr=B.distcode[He&(1<<B.distbits)-1],Qt=mr>>>24,Ar=mr>>>16&255,dr=mr&65535,!(Qt<=lt);){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if(!(Ar&240)){for(Nt=Qt,Cr=Ar,yn=dr;mr=B.distcode[yn+((He&(1<<Nt+Cr)-1)>>Nt)],Qt=mr>>>24,Ar=mr>>>16&255,dr=mr&65535,!(Nt+Qt<=lt);){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}He>>>=Nt,lt-=Nt,B.back+=Nt}if(He>>>=Qt,lt-=Qt,B.back+=Qt,Ar&64){L.msg="invalid distance code",B.mode=Gr;break}B.offset=dr,B.extra=Ar&15,B.mode=xh;case xh:if(B.extra){for(pr=B.extra;lt<pr;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}B.offset+=He&(1<<B.extra)-1,He>>>=B.extra,lt-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){L.msg="invalid distance too far back",B.mode=Gr;break}B.mode=wh;case wh:if(Ft===0)break e;if(Ct=zt-Ft,B.offset>Ct){if(Ct=B.offset-Ct,Ct>B.whave&&B.sane){L.msg="invalid distance too far back",B.mode=Gr;break}Ct>B.wnext?(Ct-=B.wnext,Yt=B.wsize-Ct):Yt=B.wnext-Ct,Ct>B.length&&(Ct=B.length),Zr=B.window}else Zr=De,Yt=nt-B.offset,Ct=B.length;Ct>Ft&&(Ct=Ft),Ft-=Ct,B.length-=Ct;do De[nt++]=Zr[Yt++];while(--Ct);B.length===0&&(B.mode=wu);break;case Sh:if(Ft===0)break e;De[nt++]=B.length,Ft--,B.mode=wu;break;case ld:if(B.wrap){for(;lt<32;){if(qe===0)break e;qe--,He|=me[Ee++]<<lt,lt+=8}if(zt-=Ft,L.total_out+=zt,B.total+=zt,B.wrap&4&&zt&&(L.adler=B.check=B.flags?W(B.check,De,zt,nt-zt):ot(B.check,De,zt,nt-zt)),zt=Ft,B.wrap&4&&(B.flags?He:Mh(He))!==B.check){L.msg="incorrect data check",B.mode=Gr;break}He=0,lt=0}B.mode=Ch;case Ch:if(B.wrap&&B.flags){for(;lt<32;){if(qe===0)break e;qe--,He+=me[Ee++]<<lt,lt+=8}if(B.wrap&4&&He!==(B.total&4294967295)){L.msg="incorrect length check",B.mode=Gr;break}He=0,lt=0}B.mode=Eh;case Eh:Ir=Ps;break e;case Gr:Ir=ol;break e;case ll:return we;case Dh:default:return On}return L.next_out=nt,L.avail_out=Ft,L.next_in=Ee,L.avail_in=qe,B.hold=He,B.bits=lt,(B.wsize||zt!==L.avail_out&&B.mode<Gr&&(B.mode<ld||ne!==ks))&&cd(L,L.output,L.next_out,zt-L.avail_out),yr-=L.avail_in,zt-=L.avail_out,L.total_in+=yr,L.total_out+=zt,B.total+=zt,B.wrap&4&&zt&&(L.adler=B.check=B.flags?W(B.check,De,zt,L.next_out-zt):ot(B.check,De,zt,L.next_out-zt)),L.data_type=B.bits+(B.last?64:0)+(B.mode===ur?128:0)+(B.mode===xu||B.mode===kn?256:0),(yr===0&&zt===0||ne===ks)&&Ir===ui&&(Ir=We),Ir},Hg=L=>{if(Ns(L))return On;let ne=L.state;return ne.window&&(ne.window=null),L.state=null,ui},Vg=(L,ne)=>{if(Ns(L))return On;let B=L.state;return B.wrap&2?(B.head=ne,ne.done=!1,ui):On},Yg=(L,ne)=>{let B=ne.length,me,De,Ee;return Ns(L)||(me=L.state,me.wrap!==0&&me.mode!==Wt)?On:me.mode===Wt&&(De=1,De=ot(De,ne,B,0),De!==me.check)?ol:(Ee=cd(L,ne,B,B),Ee?(me.mode=ll,we):(me.havedict=1,ui))};var Kg=fd,Zg=dd,Xg=ud,$g=co,Qg=ul,qg=Gg,Jg=Hg,ev=Vg,tv=Yg,rv="pako inflate (from Nodeca project)",Pa={inflateReset:Kg,inflateReset2:Zg,inflateResetKeep:Xg,inflateInit:$g,inflateInit2:Qg,inflate:qg,inflateEnd:Jg,inflateGetHeader:ev,inflateSetDictionary:tv,inflateInfo:rv};function nv(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var iv=nv;let Th=Object.prototype.toString,{Z_NO_FLUSH:av,Z_FINISH:sv,Z_OK:dl,Z_STREAM_END:hd,Z_NEED_DICT:cl,Z_STREAM_ERROR:ov,Z_DATA_ERROR:Lh,Z_MEM_ERROR:lv}=Ye;function Is(L){this.options=re.assign({chunkSize:65536,windowBits:15,to:""},L||{});let ne=this.options;ne.raw&&ne.windowBits>=0&&ne.windowBits<16&&(ne.windowBits=-ne.windowBits,ne.windowBits===0&&(ne.windowBits=-15)),ne.windowBits>=0&&ne.windowBits<16&&!(L&&L.windowBits)&&(ne.windowBits+=32),ne.windowBits>15&&ne.windowBits<48&&(ne.windowBits&15||(ne.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let B=Pa.inflateInit2(this.strm,ne.windowBits);if(B!==dl)throw new Error(Ve[B]);if(this.header=new iv,Pa.inflateGetHeader(this.strm,this.header),ne.dictionary&&(typeof ne.dictionary=="string"?ne.dictionary=rt.string2buf(ne.dictionary):Th.call(ne.dictionary)==="[object ArrayBuffer]"&&(ne.dictionary=new Uint8Array(ne.dictionary)),ne.raw&&(B=Pa.inflateSetDictionary(this.strm,ne.dictionary),B!==dl)))throw new Error(Ve[B])}Is.prototype.push=function(L,ne){let B=this.strm,me=this.options.chunkSize,De=this.options.dictionary,Ee,nt,qe;if(this.ended)return!1;for(ne===~~ne?nt=ne:nt=ne===!0?sv:av,Th.call(L)==="[object ArrayBuffer]"?B.input=new Uint8Array(L):B.input=L,B.next_in=0,B.avail_in=B.input.length;;){for(B.avail_out===0&&(B.output=new Uint8Array(me),B.next_out=0,B.avail_out=me),Ee=Pa.inflate(B,nt),Ee===cl&&De&&(Ee=Pa.inflateSetDictionary(B,De),Ee===dl?Ee=Pa.inflate(B,nt):Ee===Lh&&(Ee=cl));B.avail_in>0&&Ee===hd&&B.state.wrap>0&&L[B.next_in]!==0;)Pa.inflateReset(B),Ee=Pa.inflate(B,nt);switch(Ee){case ov:case Lh:case cl:case lv:return this.onEnd(Ee),this.ended=!0,!1}if(qe=B.avail_out,B.next_out&&(B.avail_out===0||Ee===hd))if(this.options.to==="string"){let Ft=rt.utf8border(B.output,B.next_out),He=B.next_out-Ft,lt=rt.buf2string(B.output,Ft);B.next_out=He,B.avail_out=me-He,He&&B.output.set(B.output.subarray(Ft,Ft+He),0),this.onData(lt)}else this.onData(B.output.length===B.next_out?B.output:B.output.subarray(0,B.next_out));if(!(Ee===dl&&qe===0)){if(Ee===hd)return Ee=Pa.inflateEnd(this.strm),this.onEnd(Ee),this.ended=!0,!0;if(B.avail_in===0)break}}return!0},Is.prototype.onData=function(L){this.chunks.push(L)},Is.prototype.onEnd=function(L){L===dl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=re.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function ho(L,ne){let B=new Is(ne);if(B.push(L),B.err)throw B.msg||Ve[B.err];return B.result}function uv(L,ne){return ne=ne||{},ne.raw=!0,ho(L,ne)}var fv=Is,dv=ho,cv=uv,hv=ho,pv=Ye,Oh={Inflate:fv,inflate:dv,inflateRaw:cv,ungzip:hv,constants:pv};let{Deflate:mv,deflate:gv,deflateRaw:kh,gzip:vv}=Ui,{Inflate:_v,inflate:bv,inflateRaw:ts,ungzip:Ph}=Oh;var Nh=mv,Ih=gv,zh=kh,Et=vv,Fh=_v,Bh=bv,pd=ts,br=Ph,hl=Ye,Rh={Deflate:Nh,deflate:Ih,deflateRaw:zh,gzip:Et,Inflate:Fh,inflate:Bh,inflateRaw:pd,ungzip:br,constants:hl}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())});var _t,d0,U_,j_,W_,G_,H_,V_,Y_,DC=ae(()=>{_t=en(Nn()),d0=class extends _t.default.Component{render(){return _t.default.createElement("div",{className:"box box-primary",id:"main_form"},_t.default.createElement("div",{className:"box-header with-border"},_t.default.createElement("h5",{className:"box-title"},"Additional Settings")),_t.default.createElement("div",{className:"box-body"},_t.default.createElement("div",{className:"col-md-12"},this.props.analyses.includes(this.props.job_strings.dompred.jobName)&&_t.default.createElement(G_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.ffpred.jobName)&&_t.default.createElement(H_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.metsite.jobName)&&_t.default.createElement(U_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.hspred.jobName)&&_t.default.createElement(j_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.memembed.jobName)&&_t.default.createElement(W_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.merizo.jobName)&&_t.default.createElement(V_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.merizosearch.jobName)&&_t.default.createElement(Y_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}))))}},U_=class extends _t.default.Component{render(){return _t.default.createElement("div",{className:"row form-header-row"},_t.default.createElement("h4",null,this.props.job_strings.metsite.fullName),_t.default.createElement("strong",null,"Select Metal:"),_t.default.createElement("br",null),_t.default.createElement("select",{id:"metsite_metal_type",size:"6",name:"metsite_metal_type",value:this.props.metsite_metal_type,onChange:this.props.handleSidebarChange},_t.default.createElement("option",{value:"CA"},"Calcium"),_t.default.createElement("option",{value:"ZN"},"Zinc"),_t.default.createElement("option",{value:"MG"},"Magnesium"),_t.default.createElement("option",{value:"FE"},"Iron"),_t.default.createElement("option",{value:"CU"},"Copper"),_t.default.createElement("option",{value:"MN"},"Manganese")),_t.default.createElement("br",null),_t.default.createElement("br",null),_t.default.createElement("strong",null,"Chain ID:"),_t.default.createElement("input",{type:"text",id:"metsite_chain_id",name:"metsite_chain_id",value:this.props.metsite_chain_id,onChange:this.props.handleSidebarChange}),_t.default.createElement("br",null),_t.default.createElement("br",null),_t.default.createElement("strong",null,"False Positive Rate:"),_t.default.createElement("br",null),_t.default.createElement("select",{id:"metsite_fpr",size:"1",name:"metsite_fpr",value:this.props.metsite_fpr,onChange:this.props.handleSidebarChange},_t.default.createElement("option",{value:"0"},"1%"),_t.default.createElement("option",{value:"1"},"5%"),_t.default.createElement("option",{value:"2"},"10%"),_t.default.createElement("option",{value:"3"},"20%")))}},j_=class extends _t.default.Component{render(){return _t.default.createElement("div",{className:"row form-header-row"},_t.default.createElement("h4",null,this.props.job_strings.hspred.fullName),_t.default.createElement("strong",null,"Protein 1:"),_t.default.createElement("input",{type:"text",id:"hspred_protein_1",name:"hspred_protein_1",value:this.props.hspred_protein_1,onChange:this.props.handleSidebarChange}),_t.default.createElement("br",null),_t.default.createElement("br",null),_t.default.createElement("strong",null,"Protein 2:")," ",_t.default.createElement("input",{type:"text",id:"hspred_protein_2",name:"hspred_protein_2",value:this.props.hspred_protein_2,onChange:this.props.handleSidebarChange}))}},W_=class extends _t.default.Component{render(){return _t.default.createElement("div",{className:"row form-header-row"},_t.default.createElement("h4",null,this.props.job_strings.memembed.fullName),_t.default.createElement("strong",null,"Search Type:"),_t.default.createElement("select",{id:"memembed_algorithm",size:"1",name:"memembed_algorithm",value:this.props.memembed_algorithm,onChange:this.props.handleSidebarChange},_t.default.createElement("option",{value:"0"},"Genetic Algorithm"),_t.default.createElement("option",{value:"1"},"Grid Search"),_t.default.createElement("option",{value:"2"},"Direct"),_t.default.createElement("option",{value:"3"},"GA x 5")),_t.default.createElement("br",null),_t.default.createElement("br",null),_t.default.createElement("strong",null,"Target is Beta Barrel:"),_t.default.createElement("br",null),_t.default.createElement("input",{type:"radio",id:"memembed_barrel_yes",name:"memembed_barrel",value:"TRUE",checked:this.props.memembed_barrel==="TRUE",onChange:this.props.handleSidebarChange})," ",_t.default.createElement("label",{htmlFor:"memembed_barrel_yes"},"Yes"),_t.default.createElement("br",null),_t.default.createElement("input",{type:"radio",id:"memembed_barrel_no",name:"memembed_barrel",value:"FALSE",checked:this.props.memembed_barrel==="FALSE",onChange:this.props.handleSidebarChange})," ",_t.default.createElement("label",{htmlFor:"memembed_barrel_no"},"No"),_t.default.createElement("br",null),_t.default.createElement("br",null),_t.default.createElement("strong",null,"N-Terminal Location:"),_t.default.createElement("br",null),_t.default.createElement("input",{type:"radio",id:"memembed_terminal_in",name:"memembed_terminal",value:"in",checked:this.props.memembed_terminal==="in",onChange:this.props.handleSidebarChange})," ",_t.default.createElement("label",{htmlFor:"memembed_terminal_in"},"Cytoplasmic"),_t.default.createElement("br",null),_t.default.createElement("input",{type:"radio",id:"memembed_terminal_out",name:"memembed_terminal",value:"out",checked:this.props.memembed_terminal==="out",onChange:this.props.handleSidebarChange})," ",_t.default.createElement("label",{htmlFor:"memembed_terminal_out"},"Extra Cellular"),_t.default.createElement("br",null),_t.default.createElement("br",null))}},G_=class extends _t.default.Component{render(){return _t.default.createElement("div",{className:"row form-header-row"},_t.default.createElement("h4",null,this.props.job_strings.dompred.fullName),_t.default.createElement("strong",null,"PSI-BLAST e-value cutoff:"),_t.default.createElement("input",{type:"text",id:"dompred_e_value_cutoff",name:"dompred_e_value_cutoff",value:this.props.dompred_e_value_cutoff,onChange:this.props.handleSidebarChange}),_t.default.createElement("br",null),_t.default.createElement("br",null),_t.default.createElement("strong",null,"PSI-BLAST Iterations:")," ",_t.default.createElement("input",{type:"text",id:"dompred_psiblast_iterations",name:"dompred_psiblast_iterations",value:this.props.dompred_psiblast_iterations,onChange:this.props.handleSidebarChange}))}},H_=class extends _t.default.Component{render(){return _t.default.createElement("div",{className:"row form-header-row"},_t.default.createElement("h4",null,this.props.job_strings.ffpred.fullName),_t.default.createElement("input",{type:"radio",id:"ffpred_human",name:"ffpred_selection",value:"human",checked:this.props.ffpred_selection==="human",onChange:this.props.handleSidebarChange})," ",_t.default.createElement("label",{htmlFor:"ffpred_human"},"Human Prediction"),_t.default.createElement("br",null),_t.default.createElement("input",{type:"radio",id:"ffpred_fly",name:"ffpred_selection",value:"fly",checked:this.props.ffpred_selection==="fly",onChange:this.props.handleSidebarChange})," ",_t.default.createElement("label",{htmlFor:"ffpred_fly"},"Fly Prediction"))}},V_=class extends _t.default.Component{render(){return _t.default.createElement("div",{className:"row form-header-row"},_t.default.createElement("h4",null,this.props.job_strings.merizo.fullName),_t.default.createElement("strong",null,"Chain:"),_t.default.createElement("input",{type:"text",id:"merizo_chain",name:"merizo_chain",value:this.props.merizo_chain,onChange:this.props.handleSidebarChange}),_t.default.createElement("br",null),_t.default.createElement("br",null),_t.default.createElement("strong",null,"Segmentation Mode:"),_t.default.createElement("br",null),_t.default.createElement("input",{type:"radio",id:"merizo_mode_default",name:"merizo_iterate",value:"FALSE",checked:this.props.merizo_iterate==="FALSE",onChange:this.props.handleSidebarChange})," ",_t.default.createElement("label",{htmlFor:"merizo_mode"},"Default (short chain)"),_t.default.createElement("br",null),_t.default.createElement("input",{type:"radio",id:"merizo_mode_iterative",name:"merizo_iterate",value:"TRUE",checked:this.props.merizo_iterate==="TRUE",onChange:this.props.handleSidebarChange})," ",_t.default.createElement("label",{htmlFor:"merizo_mode"},"Iterative (long chain)"),_t.default.createElement("br",null))}},Y_=class extends _t.default.Component{render(){return _t.default.createElement("div",{className:"row form-header-row"},_t.default.createElement("h4",null,this.props.job_strings.merizosearch.fullName),_t.default.createElement("strong",null,"Chain:"),_t.default.createElement("input",{type:"text",id:"merizosearch_chain",name:"merizosearch_chain",value:this.props.merizosearch_chain,onChange:this.props.handleSidebarChange}),_t.default.createElement("br",null),_t.default.createElement("br",null),_t.default.createElement("strong",null,"Search Database:"),_t.default.createElement("br",null),_t.default.createElement("input",{type:"radio",id:"merizosearch_db_cath",name:"merizosearch_db",value:"cath",checked:this.props.merizosearch_db==="cath",onChange:this.props.handleSidebarChange}),_t.default.createElement("label",{htmlFor:"merizosearch_db"},"\xA0CATH S20 NR"),_t.default.createElement("br",null),_t.default.createElement("input",{type:"radio",id:"merizosearch_db_ted100",name:"merizosearch_db",value:"ted100",checked:this.props.merizosearch_db==="ted100",onChange:this.props.handleSidebarChange})," ",_t.default.createElement("label",{htmlFor:"merizosearch_db"},"\xA0TED100"),_t.default.createElement("br",null))}}});var Te,K_,Z_,X_,c0,MC=ae(()=>{Te=en(Nn()),K_=class extends Te.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return Te.default.createElement("div",{className:"form-group"},Te.default.createElement("div",{className:"col-md-12"},Te.default.createElement("div",{className:"row form-header-row"},Te.default.createElement("br",null),Te.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},Te.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),Te.default.createElement("div",{className:"form-group"},Te.default.createElement("table",{className:"full-width-table"},Te.default.createElement("tbody",null,Te.default.createElement("tr",null,Te.default.createElement("td",{colSpan:"2"},Te.default.createElement("h4",null,"Popular Analyses"))),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.psipred.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.psipred.jobName,value:this.props.job_strings.psipred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.psipred.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_psipred_job"},this.props.job_strings.psipred.describedName)),Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.disopred.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_disopred_job",name:this.props.job_strings.disopred.jobName,value:this.props.job_strings.disopred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.disopred.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_disopred_job"},this.props.job_strings.disopred.describedName))),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memsatsvm.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_memsatsvm_job",name:this.props.job_strings.memsatsvm.jobName,value:this.props.job_strings.memsatsvm.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.memsatsvm.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_memsatsvm_job"},this.props.job_strings.memsatsvm.describedName)),Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pgenthreader.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_pgenthreader_job",name:this.props.job_strings.pgenthreader.jobName,value:this.props.job_strings.pgenthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.pgenthreader.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_pgenthreader_job"},this.props.job_strings.pgenthreader.describedName))),Te.default.createElement("tr",null,Te.default.createElement("td",{className:"input_table",colSpan:"2"},Te.default.createElement("hr",null))),Te.default.createElement("tr",null,Te.default.createElement("td",null,Te.default.createElement("h4",null,"Structure Modelling")),Te.default.createElement("td",null)),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpfold.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_dmpfold_job",name:this.props.job_strings.dmpfold.jobName,value:this.props.job_strings.dmpfold.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmpfold.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_dmpfold_job"},this.props.job_strings.dmpfold.describedName)),Te.default.createElement("td",null)),Te.default.createElement("tr",null,Te.default.createElement("td",{className:"input_table",colSpan:"2"},Te.default.createElement("hr",null))),Te.default.createElement("tr",null,Te.default.createElement("td",null,Te.default.createElement("h4",null,"Single Sequence Prediction")),Te.default.createElement("td",null)),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.s4pred.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_s4pred_job",name:this.props.job_strings.s4pred.jobName,value:this.props.job_strings.s4pred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.s4pred.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_s4pred_job"},this.props.job_strings.s4pred.describedName)),Te.default.createElement("td",null)),Te.default.createElement("tr",null,Te.default.createElement("td",{className:"input_table",colSpan:"2"},Te.default.createElement("hr",null))),Te.default.createElement("tr",null,Te.default.createElement("td",{colSpan:"2"},Te.default.createElement("h4",null,"Contact Analysis"))),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmp.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_dmp_job",name:this.props.job_strings.dmp.jobName,value:this.props.job_strings.dmp.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmp.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_dmp_job"},this.props.job_strings.dmp.describedName)),Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.mempack.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_mempack_job",name:this.props.job_strings.mempack.jobName,value:this.props.job_strings.mempack.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.mempack.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_mempack_job"},this.props.job_strings.mempack.describedName))),Te.default.createElement("tr",null,Te.default.createElement("td",{className:"input_table",colSpan:"2"},Te.default.createElement("hr",null))),Te.default.createElement("tr",null,Te.default.createElement("td",null,Te.default.createElement("h4",null,"Fold Recognition")),Te.default.createElement("td",null)),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.genthreader.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_genthreader_job",name:this.props.job_strings.genthreader.jobName,value:this.props.job_strings.genthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.genthreader.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_genthreader_job"},this.props.job_strings.genthreader.describedName)),Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pdomthreader.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_pdomthreader_job",name:this.props.job_strings.pdomthreader.jobName,value:this.props.job_strings.pdomthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.pdomthreader.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_pdomthreader_job"},this.props.job_strings.pdomthreader.describedName))),Te.default.createElement("tr",null,Te.default.createElement("td",{className:"input_table",colSpan:"2"},Te.default.createElement("hr",null))),Te.default.createElement("tr",null,Te.default.createElement("td",null,Te.default.createElement("h4",null,"Domain Prediction")),Te.default.createElement("td",null)),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dompred.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_dompred_job",name:this.props.job_strings.dompred.jobName,value:this.props.job_strings.dompred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dompred.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_dompred_job"},this.props.job_strings.dompred.describedName)),Te.default.createElement("td",null)),Te.default.createElement("tr",null,Te.default.createElement("td",{className:"input_table",colSpan:"2"},Te.default.createElement("hr",null))),Te.default.createElement("tr",null,Te.default.createElement("td",null,Te.default.createElement("h4",null,"Function Prediction")),Te.default.createElement("td",null)),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.ffpred.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_ffpred_job",name:this.props.job_strings.ffpred.jobName,value:this.props.job_strings.ffpred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.ffpred.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_ffpred_job"},this.props.job_strings.ffpred.describedName)," "),Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpmetal.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_dmpmetal_job",name:this.props.job_strings.dmpmetal.jobName,value:this.props.job_strings.dmpmetal.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmpmetal.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_dmpmetal_job"},this.props.job_strings.dmpmetal.describedName)," ")),Te.default.createElement("tr",null,Te.default.createElement("td",{colSpan:"2"},Te.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),Te.default.createElement("br",null)))))),Te.default.createElement("div",{className:"col-sm-12 form-header-blue"},Te.default.createElement("div",{className:"row form-header-row"},Te.default.createElement("h5",{className:"float-header"},"Submission details"))),Te.default.createElement("br",null),Te.default.createElement("br",null),Te.default.createElement("p",{className:"form_error"}),Te.default.createElement("div",{className:"form-group"},Te.default.createElement("div",{className:"form-group"},Te.default.createElement("label",{className:"control-label",htmlFor:"id_input_data"},"Protein Sequence"),Te.default.createElement("textarea",{className:"form-control",cols:"40",rows:"3",placeholder:"Protein Sequence",title:"",required:"",id:"id_input_data",name:"input_data",value:this.props.input_data,onChange:this.handleChange}))),Te.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),Te.default.createElement("br",null)," If you wish to test these services follow this link to retrieve ",Te.default.createElement("a",{className:"form-link",href:"http://www.uniprot.org/uniprot/B0R5N9.fasta"},"a test fasta sequence")," or ",Te.default.createElement("button",{onClick:this.props.setTestSeq,type:"button",class:"fake-link"},"click here to load a test seq"),".",Te.default.createElement("br",null),"For DMPmetal, ",Te.default.createElement("button",{onClick:this.props.setDMPMetSeq,type:"button",class:"fake-link"},"click here to set a test sequence"),".",Te.default.createElement("br",null),Te.default.createElement("br",null),Te.default.createElement("div",{className:"form-group"},Te.default.createElement("div",{className:"form-group"},Te.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),Te.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),Te.default.createElement("div",{className:"form-group"},Te.default.createElement("div",{className:"form-group"},Te.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),Te.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?Te.default.createElement("div",null,Te.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):Te.default.createElement("div",{className:"form-group"},Te.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",Te.default.createElement("input",{className:"btn btn-primary",name:"submit",type:"submit",value:"submit"}))))))}},Z_=class extends Te.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return Te.default.createElement("div",{className:"form-group"},Te.default.createElement("div",{className:"col-md-12"},Te.default.createElement("div",{className:"row form-header-row"},Te.default.createElement("br",null),Te.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},Te.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),Te.default.createElement("div",{className:"form-group"},Te.default.createElement("table",{className:"full-width-table"},Te.default.createElement("tbody",null,Te.default.createElement("tr",null,Te.default.createElement("td",{colSpan:"2"},Te.default.createElement("h4",null,"Popular Analyses"))),Te.default.createElement("tr",null,Te.default.createElement("td",{colspan:"2","data-toggle":"tool-tip",title:this.props.job_strings.merizosearch.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_merizosearch_job",name:this.props.job_strings.merizosearch.jobName,value:this.props.job_strings.merizosearch.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.merizosearch.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_merizosearch_job"},this.props.job_strings.merizosearch.describedName))),Te.default.createElement("tr",null,Te.default.createElement("td",{colSpan:"2"},Te.default.createElement("h4",null,"Structure Analyses"))),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.metsite.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_metsite_job",name:this.props.job_strings.metsite.jobName,value:this.props.job_strings.metsite.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.metsite.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_metsite_job"},this.props.job_strings.metsite.describedName)),Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.hspred.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_hspred_job",name:this.props.job_strings.hspred.jobName,value:this.props.job_strings.hspred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.hspred.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_hspred_job"},this.props.job_strings.hspred.describedName))),Te.default.createElement("tr",null,Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memembed.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_memembed_job",name:this.props.job_strings.memembed.jobName,value:this.props.job_strings.memembed.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.memembed.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_memembed_job"},this.props.job_strings.memembed.describedName)),Te.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.merizo.tooltip},Te.default.createElement("input",{type:"checkbox",id:"id_merizo_job",name:this.props.job_strings.merizo.jobName,value:this.props.job_strings.merizo.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.merizo.jobName)}),"\xA0",Te.default.createElement("label",{htmlFor:"id_merizo_job"},this.props.job_strings.merizo.describedName))),Te.default.createElement("tr",null,Te.default.createElement("td",{colSpan:"2"},Te.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),Te.default.createElement("br",null)))))),Te.default.createElement("div",{className:"col-sm-12 form-header-red"},Te.default.createElement("div",{className:"row form-header-row"},Te.default.createElement("h5",{className:"float-header"},"Submission details"))),Te.default.createElement("p",{className:"form_error"})," ",Te.default.createElement("br",null),Te.default.createElement("br",null),Te.default.createElement("br",null)," Select PDB file",Te.default.createElement("br",null)," ",Te.default.createElement("input",{type:"file",id:"pdbFile",name:"pdbFile",defaultValue:""}),Te.default.createElement("br",null),Te.default.createElement("br",null),Te.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),Te.default.createElement("br",null),"If you wish to try Metsite or HSPred follow this link to retrieve ",Te.default.createElement("a",{className:"form-link",href:"http://www.rcsb.org/pdb/download/downloadFile.do?fileFormat=pdb&compression=NO&structureId=1IAR"},"a test pdb file."),Te.default.createElement("br",null),Te.default.createElement("br",null),Te.default.createElement("div",{className:"form-group"},Te.default.createElement("div",{className:"form-group"},Te.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),Te.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),Te.default.createElement("div",{className:"form-group"},Te.default.createElement("div",{className:"form-group"},Te.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),Te.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?Te.default.createElement("div",null,Te.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):Te.default.createElement("div",{className:"form-group"},Te.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",Te.default.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))))))}},X_=class extends Te.default.Component{render(t){return Te.default.createElement("div",{className:"box-body"},Te.default.createElement("div",{className:"form-group"},this.props.formSelectedOption==="SeqForm"?Te.default.createElement("div",{className:"col-md-12 form-header-blue"},Te.default.createElement("div",{className:"row form-header-row"},Te.default.createElement("h5",{className:"float-header"},"Select input data type"))):Te.default.createElement("div",{className:"col-md-12 form-header-red"},Te.default.createElement("div",{className:"row form-header-row"},Te.default.createElement("h5",{className:"float-header"},"Select input data type"))),Te.default.createElement("div",{className:"col-md-12"},Te.default.createElement("div",{className:"row form-header-row"},Te.default.createElement("div",{className:"funkyradio"},Te.default.createElement("div",{className:"funkyradio-primary"},Te.default.createElement("input",{type:"radio",id:"radio1",name:"radio",value:"SeqForm",checked:this.props.formSelectedOption==="SeqForm",onChange:this.props.handleInputChange})," ",Te.default.createElement("label",{htmlFor:"radio1"},Te.default.createElement("b",null,"Sequence Data\xA0\xA0"))),"\xA0\xA0\xA0",Te.default.createElement("div",{className:"funkyradio-danger"},Te.default.createElement("input",{type:"radio",id:"radio2",name:"radio",value:"StructForm",checked:this.props.formSelectedOption==="StructForm",onChange:this.props.handleInputChange})," ",Te.default.createElement("label",{htmlFor:"radio2"},Te.default.createElement("b",null,"PDB Structure Data\xA0\xA0")))),Te.default.createElement("br",null)))),Te.default.createElement("div",{className:"form-group"},this.props.formSelectedOption==="SeqForm"?Te.default.createElement("div",{className:"col-md-12 form-header-blue"},Te.default.createElement("div",{className:"row form-header-row"},Te.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)"))):Te.default.createElement("div",{className:"col-md-12 form-header-red"},Te.default.createElement("div",{className:"row form-header-row"},Te.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)")))),this.props.formSelectedOption==="SeqForm"?Te.default.createElement(K_,{...this.props,handleChange:this.props.handleSeqChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit,setTestSeq:this.props.setTestSeq}):Te.default.createElement(Z_,{...this.props,handleChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit}))}},c0=class extends Te.default.Component{render(){return Te.default.createElement("div",{id:"main_form",className:"box box-primary"},Te.default.createElement("div",{className:"box-header with-border"},Te.default.createElement("p",null,"The PSIPRED Workbench provides a range of protein structure prediction methods. The site can be used interactively via a web browser or programmatically via our REST API. For high-throughput analyses, downloads of all the algorithms are available."),Te.default.createElement("p",null,Te.default.createElement("b",null,"Amino acid")," sequences enable: secondary structure prediction, including regions of disorder and transmembrane helix packing; contact analysis; fold recognition; structure modelling; and prediction of domains and function. In addition ",Te.default.createElement("b",null,"PDB Structure files")," allow prediction of protein-metal ion contacts, protein-protein hotspot residues, and membrane protein orientation."),Te.default.createElement("p",null,"For Help or Errors please email psipred-help@cs.ucl.ac.uk"),Te.default.createElement("hr",{id:"hr_form"})),Te.default.createElement("div",{className:"box-header with-border"},Te.default.createElement("h5",{className:"box-title"},"Data Input")),Te.default.createElement(X_,{...this.props,handleSubmit:this.props.handleSubmit,handleInputChange:this.props.handleInputChange,handleStructChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSeqChange:this.props.handleSeqChange,setTestSeq:this.props.setTestSeq}))}}});var oc=Pn((AC,h0)=>{(function(e,t){"use strict";typeof h0=="object"&&typeof h0.exports=="object"?h0.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return t(r)}:t(e)})(typeof window<"u"?window:AC,function(e,t){"use strict";var r=[],n=Object.getPrototypeOf,a=r.slice,s=r.flat?function(A){return r.flat.call(A)}:function(A){return r.concat.apply([],A)},o=r.push,u=r.indexOf,l={},g=l.toString,h=l.hasOwnProperty,_=h.toString,x=_.call(Object),S={},w=function(N){return typeof N=="function"&&typeof N.nodeType!="number"&&typeof N.item!="function"},c=function(N){return N!=null&&N===N.window},v=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function b(A,N,U){U=U||v;var K,ee,re=U.createElement("script");if(re.text=A,N)for(K in y)ee=N[K]||N.getAttribute&&N.getAttribute(K),ee&&re.setAttribute(K,ee);U.head.appendChild(re).parentNode.removeChild(re)}function C(A){return A==null?A+"":typeof A=="object"||typeof A=="function"?l[g.call(A)]||"object":typeof A}var E="3.7.0",p=/HTML$/i,f=function(A,N){return new f.fn.init(A,N)};f.fn=f.prototype={jquery:E,constructor:f,length:0,toArray:function(){return a.call(this)},get:function(A){return A==null?a.call(this):A<0?this[A+this.length]:this[A]},pushStack:function(A){var N=f.merge(this.constructor(),A);return N.prevObject=this,N},each:function(A){return f.each(this,A)},map:function(A){return this.pushStack(f.map(this,function(N,U){return A.call(N,U,N)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(A,N){return(N+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(A,N){return N%2}))},eq:function(A){var N=this.length,U=+A+(A<0?N:0);return this.pushStack(U>=0&&U<N?[this[U]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:r.sort,splice:r.splice},f.extend=f.fn.extend=function(){var A,N,U,K,ee,re,fe=arguments[0]||{},Oe=1,Ae=arguments.length,Ze=!1;for(typeof fe=="boolean"&&(Ze=fe,fe=arguments[Oe]||{},Oe++),typeof fe!="object"&&!w(fe)&&(fe={}),Oe===Ae&&(fe=this,Oe--);Oe<Ae;Oe++)if((A=arguments[Oe])!=null)for(N in A)K=A[N],!(N==="__proto__"||fe===K)&&(Ze&&K&&(f.isPlainObject(K)||(ee=Array.isArray(K)))?(U=fe[N],ee&&!Array.isArray(U)?re=[]:!ee&&!f.isPlainObject(U)?re={}:re=U,ee=!1,fe[N]=f.extend(Ze,re,K)):K!==void 0&&(fe[N]=K));return fe},f.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(A){throw new Error(A)},noop:function(){},isPlainObject:function(A){var N,U;return!A||g.call(A)!=="[object Object]"?!1:(N=n(A),N?(U=h.call(N,"constructor")&&N.constructor,typeof U=="function"&&_.call(U)===x):!0)},isEmptyObject:function(A){var N;for(N in A)return!1;return!0},globalEval:function(A,N,U){b(A,{nonce:N&&N.nonce},U)},each:function(A,N){var U,K=0;if(D(A))for(U=A.length;K<U&&N.call(A[K],K,A[K])!==!1;K++);else for(K in A)if(N.call(A[K],K,A[K])===!1)break;return A},text:function(A){var N,U="",K=0,ee=A.nodeType;if(ee){if(ee===1||ee===9||ee===11)return A.textContent;if(ee===3||ee===4)return A.nodeValue}else for(;N=A[K++];)U+=f.text(N);return U},makeArray:function(A,N){var U=N||[];return A!=null&&(D(Object(A))?f.merge(U,typeof A=="string"?[A]:A):o.call(U,A)),U},inArray:function(A,N,U){return N==null?-1:u.call(N,A,U)},isXMLDoc:function(A){var N=A&&A.namespaceURI,U=A&&(A.ownerDocument||A).documentElement;return!p.test(N||U&&U.nodeName||"HTML")},merge:function(A,N){for(var U=+N.length,K=0,ee=A.length;K<U;K++)A[ee++]=N[K];return A.length=ee,A},grep:function(A,N,U){for(var K,ee=[],re=0,fe=A.length,Oe=!U;re<fe;re++)K=!N(A[re],re),K!==Oe&&ee.push(A[re]);return ee},map:function(A,N,U){var K,ee,re=0,fe=[];if(D(A))for(K=A.length;re<K;re++)ee=N(A[re],re,U),ee!=null&&fe.push(ee);else for(re in A)ee=N(A[re],re,U),ee!=null&&fe.push(ee);return s(fe)},guid:1,support:S}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=r[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(A,N){l["[object "+N+"]"]=N.toLowerCase()});function D(A){var N=!!A&&"length"in A&&A.length,U=C(A);return w(A)||c(A)?!1:U==="array"||N===0||typeof N=="number"&&N>0&&N-1 in A}function M(A,N){return A.nodeName&&A.nodeName.toLowerCase()===N.toLowerCase()}var P=r.pop,O=r.sort,z=r.splice,k="[\\x20\\t\\r\\n\\f]",I=new RegExp("^"+k+"+|((?:^|[^\\\\])(?:\\\\.)*)"+k+"+$","g");f.contains=function(A,N){var U=N&&N.parentNode;return A===U||!!(U&&U.nodeType===1&&(A.contains?A.contains(U):A.compareDocumentPosition&&A.compareDocumentPosition(U)&16))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Y(A,N){return N?A==="\0"?"\uFFFD":A.slice(0,-1)+"\\"+A.charCodeAt(A.length-1).toString(16)+" ":"\\"+A}f.escapeSelector=function(A){return(A+"").replace(H,Y)};var q=v,G=o;(function(){var A,N,U,K,ee,re=G,fe,Oe,Ae,Ze,ct,vt=f.expando,rt=0,wt=0,Kt=Ls(),lr=Ls(),tr=Ls(),pn=Ls(),Jr=function(we,We){return we===We&&(ee=!0),0},Ei="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Un="(?:\\\\[\\da-fA-F]{1,6}"+k+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",sr="\\["+k+"*("+Un+")(?:"+k+"*([*^$|!~]?=)"+k+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Un+"))|)"+k+"*\\]",Da=":("+Un+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+sr+")*)|.*)\\)|)",hr=new RegExp(k+"+","g"),Wr=new RegExp("^"+k+"*,"+k+"*"),Ri=new RegExp("^"+k+"*([>+~]|"+k+")"+k+"*"),Di=new RegExp(k+"|>"),Mi=new RegExp(Da),Ma=new RegExp("^"+Un+"$"),Ai={ID:new RegExp("^#("+Un+")"),CLASS:new RegExp("^\\.("+Un+")"),TAG:new RegExp("^("+Un+"|[*])"),ATTR:new RegExp("^"+sr),PSEUDO:new RegExp("^"+Da),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+k+"*(even|odd|(([+-]|)(\\d*)n|)"+k+"*(?:([+-]|)"+k+"*(\\d+)|))"+k+"*\\)|)","i"),bool:new RegExp("^(?:"+Ei+")$","i"),needsContext:new RegExp("^"+k+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+k+"*((?:-\\d)?\\d*)"+k+"*\\)|)(?=[^-]|$)","i")},Ti=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,Zn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,al=/[+~]/,Ui=new RegExp("\\\\[\\da-fA-F]{1,6}"+k+"?|\\\\([^\\r\\n\\f])","g"),jn=function(we,We){var tt="0x"+we.slice(1)-65536;return We||(tt<0?String.fromCharCode(tt+65536):String.fromCharCode(tt>>10|55296,tt&1023|56320))},id=function(){Ta()},bu=Os(function(we){return we.disabled===!0&&M(we,"fieldset")},{dir:"parentNode",next:"legend"});function xr(){try{return fe.activeElement}catch{}}try{re.apply(r=a.call(q.childNodes),q.childNodes),r[q.childNodes.length].nodeType}catch{re={apply:function(We,tt){G.apply(We,a.call(tt))},call:function(We){G.apply(We,a.call(arguments,1))}}}function Sr(we,We,tt,ft){var gt,Tt,Ot,Bt,kt,ir,Ut,Gt=We&&We.ownerDocument,rr=We?We.nodeType:9;if(tt=tt||[],typeof we!="string"||!we||rr!==1&&rr!==9&&rr!==11)return tt;if(!ft&&(Ta(We),We=We||fe,Ae)){if(rr!==11&&(kt=Zn.exec(we)))if(gt=kt[1]){if(rr===9)if(Ot=We.getElementById(gt)){if(Ot.id===gt)return re.call(tt,Ot),tt}else return tt;else if(Gt&&(Ot=Gt.getElementById(gt))&&Sr.contains(We,Ot)&&Ot.id===gt)return re.call(tt,Ot),tt}else{if(kt[2])return re.apply(tt,We.getElementsByTagName(we)),tt;if((gt=kt[3])&&We.getElementsByClassName)return re.apply(tt,We.getElementsByClassName(gt)),tt}if(!pn[we+" "]&&(!Ze||!Ze.test(we))){if(Ut=we,Gt=We,rr===1&&(Di.test(we)||Ri.test(we))){for(Gt=al.test(we)&&sl(We.parentNode)||We,(Gt!=We||!S.scope)&&((Bt=We.getAttribute("id"))?Bt=f.escapeSelector(Bt):We.setAttribute("id",Bt=vt)),ir=La(we),Tt=ir.length;Tt--;)ir[Tt]=(Bt?"#"+Bt:":scope")+" "+Oa(ir[Tt]);Ut=ir.join(",")}try{return re.apply(tt,Gt.querySelectorAll(Ut)),tt}catch{pn(we,!0)}finally{Bt===vt&&We.removeAttribute("id")}}}return ol(we.replace(I,"$1"),We,tt,ft)}function Ls(){var we=[];function We(tt,ft){return we.push(tt+" ")>N.cacheLength&&delete We[we.shift()],We[tt+" "]=ft}return We}function Wn(we){return we[vt]=!0,we}function ia(we){var We=fe.createElement("fieldset");try{return!!we(We)}catch{return!1}finally{We.parentNode&&We.parentNode.removeChild(We),We=null}}function yu(we){return function(We){return M(We,"input")&&We.type===we}}function ad(we){return function(We){return(M(We,"input")||M(We,"button"))&&We.type===we}}function Ja(we){return function(We){return"form"in We?We.parentNode&&We.disabled===!1?"label"in We?"label"in We.parentNode?We.parentNode.disabled===we:We.disabled===we:We.isDisabled===we||We.isDisabled!==!we&&bu(We)===we:We.disabled===we:"label"in We?We.disabled===we:!1}}function Aa(we){return Wn(function(We){return We=+We,Wn(function(tt,ft){for(var gt,Tt=we([],tt.length,We),Ot=Tt.length;Ot--;)tt[gt=Tt[Ot]]&&(tt[gt]=!(ft[gt]=tt[gt]))})})}function sl(we){return we&&typeof we.getElementsByTagName<"u"&&we}function Ta(we){var We,tt=we?we.ownerDocument||we:q;return tt==fe||tt.nodeType!==9||!tt.documentElement||(fe=tt,Oe=fe.documentElement,Ae=!f.isXMLDoc(fe),ct=Oe.matches||Oe.webkitMatchesSelector||Oe.msMatchesSelector,q!=fe&&(We=fe.defaultView)&&We.top!==We&&We.addEventListener("unload",id),S.getById=ia(function(ft){return Oe.appendChild(ft).id=f.expando,!fe.getElementsByName||!fe.getElementsByName(f.expando).length}),S.disconnectedMatch=ia(function(ft){return ct.call(ft,"*")}),S.scope=ia(function(){return fe.querySelectorAll(":scope")}),S.cssHas=ia(function(){try{return fe.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),S.getById?(N.filter.ID=function(ft){var gt=ft.replace(Ui,jn);return function(Tt){return Tt.getAttribute("id")===gt}},N.find.ID=function(ft,gt){if(typeof gt.getElementById<"u"&&Ae){var Tt=gt.getElementById(ft);return Tt?[Tt]:[]}}):(N.filter.ID=function(ft){var gt=ft.replace(Ui,jn);return function(Tt){var Ot=typeof Tt.getAttributeNode<"u"&&Tt.getAttributeNode("id");return Ot&&Ot.value===gt}},N.find.ID=function(ft,gt){if(typeof gt.getElementById<"u"&&Ae){var Tt,Ot,Bt,kt=gt.getElementById(ft);if(kt){if(Tt=kt.getAttributeNode("id"),Tt&&Tt.value===ft)return[kt];for(Bt=gt.getElementsByName(ft),Ot=0;kt=Bt[Ot++];)if(Tt=kt.getAttributeNode("id"),Tt&&Tt.value===ft)return[kt]}return[]}}),N.find.TAG=function(ft,gt){return typeof gt.getElementsByTagName<"u"?gt.getElementsByTagName(ft):gt.querySelectorAll(ft)},N.find.CLASS=function(ft,gt){if(typeof gt.getElementsByClassName<"u"&&Ae)return gt.getElementsByClassName(ft)},Ze=[],ia(function(ft){var gt;Oe.appendChild(ft).innerHTML="<a id='"+vt+"' href='' disabled='disabled'></a><select id='"+vt+"-\r\\' disabled='disabled'><option selected=''></option></select>",ft.querySelectorAll("[selected]").length||Ze.push("\\["+k+"*(?:value|"+Ei+")"),ft.querySelectorAll("[id~="+vt+"-]").length||Ze.push("~="),ft.querySelectorAll("a#"+vt+"+*").length||Ze.push(".#.+[+~]"),ft.querySelectorAll(":checked").length||Ze.push(":checked"),gt=fe.createElement("input"),gt.setAttribute("type","hidden"),ft.appendChild(gt).setAttribute("name","D"),Oe.appendChild(ft).disabled=!0,ft.querySelectorAll(":disabled").length!==2&&Ze.push(":enabled",":disabled"),gt=fe.createElement("input"),gt.setAttribute("name",""),ft.appendChild(gt),ft.querySelectorAll("[name='']").length||Ze.push("\\["+k+"*name"+k+"*="+k+`*(?:''|"")`)}),S.cssHas||Ze.push(":has"),Ze=Ze.length&&new RegExp(Ze.join("|")),Jr=function(ft,gt){if(ft===gt)return ee=!0,0;var Tt=!ft.compareDocumentPosition-!gt.compareDocumentPosition;return Tt||(Tt=(ft.ownerDocument||ft)==(gt.ownerDocument||gt)?ft.compareDocumentPosition(gt):1,Tt&1||!S.sortDetached&&gt.compareDocumentPosition(ft)===Tt?ft===fe||ft.ownerDocument==q&&Sr.contains(q,ft)?-1:gt===fe||gt.ownerDocument==q&&Sr.contains(q,gt)?1:K?u.call(K,ft)-u.call(K,gt):0:Tt&4?-1:1)}),fe}Sr.matches=function(we,We){return Sr(we,null,null,We)},Sr.matchesSelector=function(we,We){if(Ta(we),Ae&&!pn[We+" "]&&(!Ze||!Ze.test(We)))try{var tt=ct.call(we,We);if(tt||S.disconnectedMatch||we.document&&we.document.nodeType!==11)return tt}catch{pn(We,!0)}return Sr(We,fe,null,[we]).length>0},Sr.contains=function(we,We){return(we.ownerDocument||we)!=fe&&Ta(we),f.contains(we,We)},Sr.attr=function(we,We){(we.ownerDocument||we)!=fe&&Ta(we);var tt=N.attrHandle[We.toLowerCase()],ft=tt&&h.call(N.attrHandle,We.toLowerCase())?tt(we,We,!Ae):void 0;return ft!==void 0?ft:we.getAttribute(We)},Sr.error=function(we){throw new Error("Syntax error, unrecognized expression: "+we)},f.uniqueSort=function(we){var We,tt=[],ft=0,gt=0;if(ee=!S.sortStable,K=!S.sortStable&&a.call(we,0),O.call(we,Jr),ee){for(;We=we[gt++];)We===we[gt]&&(ft=tt.push(gt));for(;ft--;)z.call(we,tt[ft],1)}return K=null,we},f.fn.uniqueSort=function(){return this.pushStack(f.uniqueSort(a.apply(this)))},N=f.expr={cacheLength:50,createPseudo:Wn,match:Ai,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(we){return we[1]=we[1].replace(Ui,jn),we[3]=(we[3]||we[4]||we[5]||"").replace(Ui,jn),we[2]==="~="&&(we[3]=" "+we[3]+" "),we.slice(0,4)},CHILD:function(we){return we[1]=we[1].toLowerCase(),we[1].slice(0,3)==="nth"?(we[3]||Sr.error(we[0]),we[4]=+(we[4]?we[5]+(we[6]||1):2*(we[3]==="even"||we[3]==="odd")),we[5]=+(we[7]+we[8]||we[3]==="odd")):we[3]&&Sr.error(we[0]),we},PSEUDO:function(we){var We,tt=!we[6]&&we[2];return Ai.CHILD.test(we[0])?null:(we[3]?we[2]=we[4]||we[5]||"":tt&&Mi.test(tt)&&(We=La(tt,!0))&&(We=tt.indexOf(")",tt.length-We)-tt.length)&&(we[0]=we[0].slice(0,We),we[2]=tt.slice(0,We)),we.slice(0,3))}},filter:{TAG:function(we){var We=we.replace(Ui,jn).toLowerCase();return we==="*"?function(){return!0}:function(tt){return M(tt,We)}},CLASS:function(we){var We=Kt[we+" "];return We||(We=new RegExp("(^|"+k+")"+we+"("+k+"|$)"))&&Kt(we,function(tt){return We.test(typeof tt.className=="string"&&tt.className||typeof tt.getAttribute<"u"&&tt.getAttribute("class")||"")})},ATTR:function(we,We,tt){return function(ft){var gt=Sr.attr(ft,we);return gt==null?We==="!=":We?(gt+="",We==="="?gt===tt:We==="!="?gt!==tt:We==="^="?tt&&gt.indexOf(tt)===0:We==="*="?tt&&gt.indexOf(tt)>-1:We==="$="?tt&&gt.slice(-tt.length)===tt:We==="~="?(" "+gt.replace(hr," ")+" ").indexOf(tt)>-1:We==="|="?gt===tt||gt.slice(0,tt.length+1)===tt+"-":!1):!0}},CHILD:function(we,We,tt,ft,gt){var Tt=we.slice(0,3)!=="nth",Ot=we.slice(-4)!=="last",Bt=We==="of-type";return ft===1&&gt===0?function(kt){return!!kt.parentNode}:function(kt,ir,Ut){var Gt,rr,Wt,ur,mn,gn=Tt!==Ot?"nextSibling":"previousSibling",kn=kt.parentNode,Xn=Bt&&kt.nodeName.toLowerCase(),ka=!Ut&&!Bt,bn=!1;if(kn){if(Tt){for(;gn;){for(Wt=kt;Wt=Wt[gn];)if(Bt?M(Wt,Xn):Wt.nodeType===1)return!1;mn=gn=we==="only"&&!mn&&"nextSibling"}return!0}if(mn=[Ot?kn.firstChild:kn.lastChild],Ot&&ka){for(rr=kn[vt]||(kn[vt]={}),Gt=rr[we]||[],ur=Gt[0]===rt&&Gt[1],bn=ur&&Gt[2],Wt=ur&&kn.childNodes[ur];Wt=++ur&&Wt&&Wt[gn]||(bn=ur=0)||mn.pop();)if(Wt.nodeType===1&&++bn&&Wt===kt){rr[we]=[rt,ur,bn];break}}else if(ka&&(rr=kt[vt]||(kt[vt]={}),Gt=rr[we]||[],ur=Gt[0]===rt&&Gt[1],bn=ur),bn===!1)for(;(Wt=++ur&&Wt&&Wt[gn]||(bn=ur=0)||mn.pop())&&!((Bt?M(Wt,Xn):Wt.nodeType===1)&&++bn&&(ka&&(rr=Wt[vt]||(Wt[vt]={}),rr[we]=[rt,bn]),Wt===kt)););return bn-=gt,bn===ft||bn%ft===0&&bn/ft>=0}}},PSEUDO:function(we,We){var tt,ft=N.pseudos[we]||N.setFilters[we.toLowerCase()]||Sr.error("unsupported pseudo: "+we);return ft[vt]?ft(We):ft.length>1?(tt=[we,we,"",We],N.setFilters.hasOwnProperty(we.toLowerCase())?Wn(function(gt,Tt){for(var Ot,Bt=ft(gt,We),kt=Bt.length;kt--;)Ot=u.call(gt,Bt[kt]),gt[Ot]=!(Tt[Ot]=Bt[kt])}):function(gt){return ft(gt,0,tt)}):ft}},pseudos:{not:Wn(function(we){var We=[],tt=[],ft=On(we.replace(I,"$1"));return ft[vt]?Wn(function(gt,Tt,Ot,Bt){for(var kt,ir=ft(gt,null,Bt,[]),Ut=gt.length;Ut--;)(kt=ir[Ut])&&(gt[Ut]=!(Tt[Ut]=kt))}):function(gt,Tt,Ot){return We[0]=gt,ft(We,null,Ot,tt),We[0]=null,!tt.pop()}}),has:Wn(function(we){return function(We){return Sr(we,We).length>0}}),contains:Wn(function(we){return we=we.replace(Ui,jn),function(We){return(We.textContent||f.text(We)).indexOf(we)>-1}}),lang:Wn(function(we){return Ma.test(we||"")||Sr.error("unsupported lang: "+we),we=we.replace(Ui,jn).toLowerCase(),function(We){var tt;do if(tt=Ae?We.lang:We.getAttribute("xml:lang")||We.getAttribute("lang"))return tt=tt.toLowerCase(),tt===we||tt.indexOf(we+"-")===0;while((We=We.parentNode)&&We.nodeType===1);return!1}}),target:function(we){var We=e.location&&e.location.hash;return We&&We.slice(1)===we.id},root:function(we){return we===Oe},focus:function(we){return we===xr()&&fe.hasFocus()&&!!(we.type||we.href||~we.tabIndex)},enabled:Ja(!1),disabled:Ja(!0),checked:function(we){return M(we,"input")&&!!we.checked||M(we,"option")&&!!we.selected},selected:function(we){return we.parentNode&&we.parentNode.selectedIndex,we.selected===!0},empty:function(we){for(we=we.firstChild;we;we=we.nextSibling)if(we.nodeType<6)return!1;return!0},parent:function(we){return!N.pseudos.empty(we)},header:function(we){return na.test(we.nodeName)},input:function(we){return Ti.test(we.nodeName)},button:function(we){return M(we,"input")&&we.type==="button"||M(we,"button")},text:function(we){var We;return M(we,"input")&&we.type==="text"&&((We=we.getAttribute("type"))==null||We.toLowerCase()==="text")},first:Aa(function(){return[0]}),last:Aa(function(we,We){return[We-1]}),eq:Aa(function(we,We,tt){return[tt<0?tt+We:tt]}),even:Aa(function(we,We){for(var tt=0;tt<We;tt+=2)we.push(tt);return we}),odd:Aa(function(we,We){for(var tt=1;tt<We;tt+=2)we.push(tt);return we}),lt:Aa(function(we,We,tt){var ft;for(tt<0?ft=tt+We:tt>We?ft=We:ft=tt;--ft>=0;)we.push(ft);return we}),gt:Aa(function(we,We,tt){for(var ft=tt<0?tt+We:tt;++ft<We;)we.push(ft);return we})}},N.pseudos.nth=N.pseudos.eq;for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[A]=yu(A);for(A in{submit:!0,reset:!0})N.pseudos[A]=ad(A);function ji(){}ji.prototype=N.filters=N.pseudos,N.setFilters=new ji;function La(we,We){var tt,ft,gt,Tt,Ot,Bt,kt,ir=lr[we+" "];if(ir)return We?0:ir.slice(0);for(Ot=we,Bt=[],kt=N.preFilter;Ot;){(!tt||(ft=Wr.exec(Ot)))&&(ft&&(Ot=Ot.slice(ft[0].length)||Ot),Bt.push(gt=[])),tt=!1,(ft=Ri.exec(Ot))&&(tt=ft.shift(),gt.push({value:tt,type:ft[0].replace(I," ")}),Ot=Ot.slice(tt.length));for(Tt in N.filter)(ft=Ai[Tt].exec(Ot))&&(!kt[Tt]||(ft=kt[Tt](ft)))&&(tt=ft.shift(),gt.push({value:tt,type:Tt,matches:ft}),Ot=Ot.slice(tt.length));if(!tt)break}return We?Ot.length:Ot?Sr.error(we):lr(we,Bt).slice(0)}function Oa(we){for(var We=0,tt=we.length,ft="";We<tt;We++)ft+=we[We].value;return ft}function Os(we,We,tt){var ft=We.dir,gt=We.next,Tt=gt||ft,Ot=tt&&Tt==="parentNode",Bt=wt++;return We.first?function(kt,ir,Ut){for(;kt=kt[ft];)if(kt.nodeType===1||Ot)return we(kt,ir,Ut);return!1}:function(kt,ir,Ut){var Gt,rr,Wt=[rt,Bt];if(Ut){for(;kt=kt[ft];)if((kt.nodeType===1||Ot)&&we(kt,ir,Ut))return!0}else for(;kt=kt[ft];)if(kt.nodeType===1||Ot)if(rr=kt[vt]||(kt[vt]={}),gt&&M(kt,gt))kt=kt[ft]||kt;else{if((Gt=rr[Tt])&&Gt[0]===rt&&Gt[1]===Bt)return Wt[2]=Gt[2];if(rr[Tt]=Wt,Wt[2]=we(kt,ir,Ut))return!0}return!1}}function ks(we){return we.length>1?function(We,tt,ft){for(var gt=we.length;gt--;)if(!we[gt](We,tt,ft))return!1;return!0}:we[0]}function sd(we,We,tt){for(var ft=0,gt=We.length;ft<gt;ft++)Sr(we,We[ft],tt);return tt}function Wi(we,We,tt,ft,gt){for(var Tt,Ot=[],Bt=0,kt=we.length,ir=We!=null;Bt<kt;Bt++)(Tt=we[Bt])&&(!tt||tt(Tt,ft,gt))&&(Ot.push(Tt),ir&&We.push(Bt));return Ot}function ui(we,We,tt,ft,gt,Tt){return ft&&!ft[vt]&&(ft=ui(ft)),gt&&!gt[vt]&&(gt=ui(gt,Tt)),Wn(function(Ot,Bt,kt,ir){var Ut,Gt,rr,Wt,ur=[],mn=[],gn=Bt.length,kn=Ot||sd(We||"*",kt.nodeType?[kt]:kt,[]),Xn=we&&(Ot||!We)?Wi(kn,ur,we,kt,ir):kn;if(tt?(Wt=gt||(Ot?we:gn||ft)?[]:Bt,tt(Xn,Wt,kt,ir)):Wt=Xn,ft)for(Ut=Wi(Wt,mn),ft(Ut,[],kt,ir),Gt=Ut.length;Gt--;)(rr=Ut[Gt])&&(Wt[mn[Gt]]=!(Xn[mn[Gt]]=rr));if(Ot){if(gt||we){if(gt){for(Ut=[],Gt=Wt.length;Gt--;)(rr=Wt[Gt])&&Ut.push(Xn[Gt]=rr);gt(null,Wt=[],Ut,ir)}for(Gt=Wt.length;Gt--;)(rr=Wt[Gt])&&(Ut=gt?u.call(Ot,rr):ur[Gt])>-1&&(Ot[Ut]=!(Bt[Ut]=rr))}}else Wt=Wi(Wt===Bt?Wt.splice(gn,Wt.length):Wt),gt?gt(null,Bt,Wt,ir):re.apply(Bt,Wt)})}function Ps(we){for(var We,tt,ft,gt=we.length,Tt=N.relative[we[0].type],Ot=Tt||N.relative[" "],Bt=Tt?1:0,kt=Os(function(Gt){return Gt===We},Ot,!0),ir=Os(function(Gt){return u.call(We,Gt)>-1},Ot,!0),Ut=[function(Gt,rr,Wt){var ur=!Tt&&(Wt||rr!=U)||((We=rr).nodeType?kt(Gt,rr,Wt):ir(Gt,rr,Wt));return We=null,ur}];Bt<gt;Bt++)if(tt=N.relative[we[Bt].type])Ut=[Os(ks(Ut),tt)];else{if(tt=N.filter[we[Bt].type].apply(null,we[Bt].matches),tt[vt]){for(ft=++Bt;ft<gt&&!N.relative[we[ft].type];ft++);return ui(Bt>1&&ks(Ut),Bt>1&&Oa(we.slice(0,Bt-1).concat({value:we[Bt-2].type===" "?"*":""})).replace(I,"$1"),tt,Bt<ft&&Ps(we.slice(Bt,ft)),ft<gt&&Ps(we=we.slice(ft)),ft<gt&&Oa(we))}Ut.push(tt)}return ks(Ut)}function od(we,We){var tt=We.length>0,ft=we.length>0,gt=function(Tt,Ot,Bt,kt,ir){var Ut,Gt,rr,Wt=0,ur="0",mn=Tt&&[],gn=[],kn=U,Xn=Tt||ft&&N.find.TAG("*",ir),ka=rt+=kn==null?1:Math.random()||.1,bn=Xn.length;for(ir&&(U=Ot==fe||Ot||ir);ur!==bn&&(Ut=Xn[ur])!=null;ur++){if(ft&&Ut){for(Gt=0,!Ot&&Ut.ownerDocument!=fe&&(Ta(Ut),Bt=!Ae);rr=we[Gt++];)if(rr(Ut,Ot||fe,Bt)){re.call(kt,Ut);break}ir&&(rt=ka)}tt&&((Ut=!rr&&Ut)&&Wt--,Tt&&mn.push(Ut))}if(Wt+=ur,tt&&ur!==Wt){for(Gt=0;rr=We[Gt++];)rr(mn,gn,Ot,Bt);if(Tt){if(Wt>0)for(;ur--;)mn[ur]||gn[ur]||(gn[ur]=P.call(kt));gn=Wi(gn)}re.apply(kt,gn),ir&&!Tt&&gn.length>0&&Wt+We.length>1&&f.uniqueSort(kt)}return ir&&(rt=ka,U=kn),mn};return tt?Wn(gt):gt}function On(we,We){var tt,ft=[],gt=[],Tt=tr[we+" "];if(!Tt){for(We||(We=La(we)),tt=We.length;tt--;)Tt=Ps(We[tt]),Tt[vt]?ft.push(Tt):gt.push(Tt);Tt=tr(we,od(gt,ft)),Tt.selector=we}return Tt}function ol(we,We,tt,ft){var gt,Tt,Ot,Bt,kt,ir=typeof we=="function"&&we,Ut=!ft&&La(we=ir.selector||we);if(tt=tt||[],Ut.length===1){if(Tt=Ut[0]=Ut[0].slice(0),Tt.length>2&&(Ot=Tt[0]).type==="ID"&&We.nodeType===9&&Ae&&N.relative[Tt[1].type]){if(We=(N.find.ID(Ot.matches[0].replace(Ui,jn),We)||[])[0],We)ir&&(We=We.parentNode);else return tt;we=we.slice(Tt.shift().value.length)}for(gt=Ai.needsContext.test(we)?0:Tt.length;gt--&&(Ot=Tt[gt],!N.relative[Bt=Ot.type]);)if((kt=N.find[Bt])&&(ft=kt(Ot.matches[0].replace(Ui,jn),al.test(Tt[0].type)&&sl(We.parentNode)||We))){if(Tt.splice(gt,1),we=ft.length&&Oa(Tt),!we)return re.apply(tt,ft),tt;break}}return(ir||On(we,Ut))(ft,We,!Ae,tt,!We||al.test(we)&&sl(We.parentNode)||We),tt}S.sortStable=vt.split("").sort(Jr).join("")===vt,Ta(),S.sortDetached=ia(function(we){return we.compareDocumentPosition(fe.createElement("fieldset"))&1}),f.find=Sr,f.expr[":"]=f.expr.pseudos,f.unique=f.uniqueSort,Sr.compile=On,Sr.select=ol,Sr.setDocument=Ta,Sr.escape=f.escapeSelector,Sr.getText=f.text,Sr.isXML=f.isXMLDoc,Sr.selectors=f.expr,Sr.support=f.support,Sr.uniqueSort=f.uniqueSort})();var $=function(A,N,U){for(var K=[],ee=U!==void 0;(A=A[N])&&A.nodeType!==9;)if(A.nodeType===1){if(ee&&f(A).is(U))break;K.push(A)}return K},j=function(A,N){for(var U=[];A;A=A.nextSibling)A.nodeType===1&&A!==N&&U.push(A);return U},V=f.expr.match.needsContext,X=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(A,N,U){return w(N)?f.grep(A,function(K,ee){return!!N.call(K,ee,K)!==U}):N.nodeType?f.grep(A,function(K){return K===N!==U}):typeof N!="string"?f.grep(A,function(K){return u.call(N,K)>-1!==U}):f.filter(N,A,U)}f.filter=function(A,N,U){var K=N[0];return U&&(A=":not("+A+")"),N.length===1&&K.nodeType===1?f.find.matchesSelector(K,A)?[K]:[]:f.find.matches(A,f.grep(N,function(ee){return ee.nodeType===1}))},f.fn.extend({find:function(A){var N,U,K=this.length,ee=this;if(typeof A!="string")return this.pushStack(f(A).filter(function(){for(N=0;N<K;N++)if(f.contains(ee[N],this))return!0}));for(U=this.pushStack([]),N=0;N<K;N++)f.find(A,ee[N],U);return K>1?f.uniqueSort(U):U},filter:function(A){return this.pushStack(Q(this,A||[],!1))},not:function(A){return this.pushStack(Q(this,A||[],!0))},is:function(A){return!!Q(this,typeof A=="string"&&V.test(A)?f(A):A||[],!1).length}});var te,xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ne=f.fn.init=function(A,N,U){var K,ee;if(!A)return this;if(U=U||te,typeof A=="string")if(A[0]==="<"&&A[A.length-1]===">"&&A.length>=3?K=[null,A,null]:K=xe.exec(A),K&&(K[1]||!N))if(K[1]){if(N=N instanceof f?N[0]:N,f.merge(this,f.parseHTML(K[1],N&&N.nodeType?N.ownerDocument||N:v,!0)),X.test(K[1])&&f.isPlainObject(N))for(K in N)w(this[K])?this[K](N[K]):this.attr(K,N[K]);return this}else return ee=v.getElementById(K[2]),ee&&(this[0]=ee,this.length=1),this;else return!N||N.jquery?(N||U).find(A):this.constructor(N).find(A);else{if(A.nodeType)return this[0]=A,this.length=1,this;if(w(A))return U.ready!==void 0?U.ready(A):A(f)}return f.makeArray(A,this)};Ne.prototype=f.fn,te=f(v);var ye=/^(?:parents|prev(?:Until|All))/,Fe={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(A){var N=f(A,this),U=N.length;return this.filter(function(){for(var K=0;K<U;K++)if(f.contains(this,N[K]))return!0})},closest:function(A,N){var U,K=0,ee=this.length,re=[],fe=typeof A!="string"&&f(A);if(!V.test(A)){for(;K<ee;K++)for(U=this[K];U&&U!==N;U=U.parentNode)if(U.nodeType<11&&(fe?fe.index(U)>-1:U.nodeType===1&&f.find.matchesSelector(U,A))){re.push(U);break}}return this.pushStack(re.length>1?f.uniqueSort(re):re)},index:function(A){return A?typeof A=="string"?u.call(f(A),this[0]):u.call(this,A.jquery?A[0]:A):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(A,N){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(A,N))))},addBack:function(A){return this.add(A==null?this.prevObject:this.prevObject.filter(A))}});function Me(A,N){for(;(A=A[N])&&A.nodeType!==1;);return A}f.each({parent:function(A){var N=A.parentNode;return N&&N.nodeType!==11?N:null},parents:function(A){return $(A,"parentNode")},parentsUntil:function(A,N,U){return $(A,"parentNode",U)},next:function(A){return Me(A,"nextSibling")},prev:function(A){return Me(A,"previousSibling")},nextAll:function(A){return $(A,"nextSibling")},prevAll:function(A){return $(A,"previousSibling")},nextUntil:function(A,N,U){return $(A,"nextSibling",U)},prevUntil:function(A,N,U){return $(A,"previousSibling",U)},siblings:function(A){return j((A.parentNode||{}).firstChild,A)},children:function(A){return j(A.firstChild)},contents:function(A){return A.contentDocument!=null&&n(A.contentDocument)?A.contentDocument:(M(A,"template")&&(A=A.content||A),f.merge([],A.childNodes))}},function(A,N){f.fn[A]=function(U,K){var ee=f.map(this,N,U);return A.slice(-5)!=="Until"&&(K=U),K&&typeof K=="string"&&(ee=f.filter(K,ee)),this.length>1&&(Fe[A]||f.uniqueSort(ee),ye.test(A)&&ee.reverse()),this.pushStack(ee)}});var _e=/[^\x20\t\r\n\f]+/g;function Qe(A){var N={};return f.each(A.match(_e)||[],function(U,K){N[K]=!0}),N}f.Callbacks=function(A){A=typeof A=="string"?Qe(A):f.extend({},A);var N,U,K,ee,re=[],fe=[],Oe=-1,Ae=function(){for(ee=ee||A.once,K=N=!0;fe.length;Oe=-1)for(U=fe.shift();++Oe<re.length;)re[Oe].apply(U[0],U[1])===!1&&A.stopOnFalse&&(Oe=re.length,U=!1);A.memory||(U=!1),N=!1,ee&&(U?re=[]:re="")},Ze={add:function(){return re&&(U&&!N&&(Oe=re.length-1,fe.push(U)),function ct(vt){f.each(vt,function(rt,wt){w(wt)?(!A.unique||!Ze.has(wt))&&re.push(wt):wt&&wt.length&&C(wt)!=="string"&&ct(wt)})}(arguments),U&&!N&&Ae()),this},remove:function(){return f.each(arguments,function(ct,vt){for(var rt;(rt=f.inArray(vt,re,rt))>-1;)re.splice(rt,1),rt<=Oe&&Oe--}),this},has:function(ct){return ct?f.inArray(ct,re)>-1:re.length>0},empty:function(){return re&&(re=[]),this},disable:function(){return ee=fe=[],re=U="",this},disabled:function(){return!re},lock:function(){return ee=fe=[],!U&&!N&&(re=U=""),this},locked:function(){return!!ee},fireWith:function(ct,vt){return ee||(vt=vt||[],vt=[ct,vt.slice?vt.slice():vt],fe.push(vt),N||Ae()),this},fire:function(){return Ze.fireWith(this,arguments),this},fired:function(){return!!K}};return Ze};function Xe(A){return A}function R(A){throw A}function pe(A,N,U,K){var ee;try{A&&w(ee=A.promise)?ee.call(A).done(N).fail(U):A&&w(ee=A.then)?ee.call(A,N,U):N.apply(void 0,[A].slice(K))}catch(re){U.apply(void 0,[re])}}f.extend({Deferred:function(A){var N=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],U="pending",K={state:function(){return U},always:function(){return ee.done(arguments).fail(arguments),this},catch:function(re){return K.then(null,re)},pipe:function(){var re=arguments;return f.Deferred(function(fe){f.each(N,function(Oe,Ae){var Ze=w(re[Ae[4]])&&re[Ae[4]];ee[Ae[1]](function(){var ct=Ze&&Ze.apply(this,arguments);ct&&w(ct.promise)?ct.promise().progress(fe.notify).done(fe.resolve).fail(fe.reject):fe[Ae[0]+"With"](this,Ze?[ct]:arguments)})}),re=null}).promise()},then:function(re,fe,Oe){var Ae=0;function Ze(ct,vt,rt,wt){return function(){var Kt=this,lr=arguments,tr=function(){var Jr,Ei;if(!(ct<Ae)){if(Jr=rt.apply(Kt,lr),Jr===vt.promise())throw new TypeError("Thenable self-resolution");Ei=Jr&&(typeof Jr=="object"||typeof Jr=="function")&&Jr.then,w(Ei)?wt?Ei.call(Jr,Ze(Ae,vt,Xe,wt),Ze(Ae,vt,R,wt)):(Ae++,Ei.call(Jr,Ze(Ae,vt,Xe,wt),Ze(Ae,vt,R,wt),Ze(Ae,vt,Xe,vt.notifyWith))):(rt!==Xe&&(Kt=void 0,lr=[Jr]),(wt||vt.resolveWith)(Kt,lr))}},pn=wt?tr:function(){try{tr()}catch(Jr){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(Jr,pn.error),ct+1>=Ae&&(rt!==R&&(Kt=void 0,lr=[Jr]),vt.rejectWith(Kt,lr))}};ct?pn():(f.Deferred.getErrorHook?pn.error=f.Deferred.getErrorHook():f.Deferred.getStackHook&&(pn.error=f.Deferred.getStackHook()),e.setTimeout(pn))}}return f.Deferred(function(ct){N[0][3].add(Ze(0,ct,w(Oe)?Oe:Xe,ct.notifyWith)),N[1][3].add(Ze(0,ct,w(re)?re:Xe)),N[2][3].add(Ze(0,ct,w(fe)?fe:R))}).promise()},promise:function(re){return re!=null?f.extend(re,K):K}},ee={};return f.each(N,function(re,fe){var Oe=fe[2],Ae=fe[5];K[fe[1]]=Oe.add,Ae&&Oe.add(function(){U=Ae},N[3-re][2].disable,N[3-re][3].disable,N[0][2].lock,N[0][3].lock),Oe.add(fe[3].fire),ee[fe[0]]=function(){return ee[fe[0]+"With"](this===ee?void 0:this,arguments),this},ee[fe[0]+"With"]=Oe.fireWith}),K.promise(ee),A&&A.call(ee,ee),ee},when:function(A){var N=arguments.length,U=N,K=Array(U),ee=a.call(arguments),re=f.Deferred(),fe=function(Oe){return function(Ae){K[Oe]=this,ee[Oe]=arguments.length>1?a.call(arguments):Ae,--N||re.resolveWith(K,ee)}};if(N<=1&&(pe(A,re.done(fe(U)).resolve,re.reject,!N),re.state()==="pending"||w(ee[U]&&ee[U].then)))return re.then();for(;U--;)pe(ee[U],fe(U),re.reject);return re.promise()}});var ve=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(A,N){e.console&&e.console.warn&&A&&ve.test(A.name)&&e.console.warn("jQuery.Deferred exception: "+A.message,A.stack,N)},f.readyException=function(A){e.setTimeout(function(){throw A})};var ie=f.Deferred();f.fn.ready=function(A){return ie.then(A).catch(function(N){f.readyException(N)}),this},f.extend({isReady:!1,readyWait:1,ready:function(A){(A===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(A!==!0&&--f.readyWait>0)&&ie.resolveWith(v,[f]))}}),f.ready.then=ie.then;function de(){v.removeEventListener("DOMContentLoaded",de),e.removeEventListener("load",de),f.ready()}v.readyState==="complete"||v.readyState!=="loading"&&!v.documentElement.doScroll?e.setTimeout(f.ready):(v.addEventListener("DOMContentLoaded",de),e.addEventListener("load",de));var be=function(A,N,U,K,ee,re,fe){var Oe=0,Ae=A.length,Ze=U==null;if(C(U)==="object"){ee=!0;for(Oe in U)be(A,N,Oe,U[Oe],!0,re,fe)}else if(K!==void 0&&(ee=!0,w(K)||(fe=!0),Ze&&(fe?(N.call(A,K),N=null):(Ze=N,N=function(ct,vt,rt){return Ze.call(f(ct),rt)})),N))for(;Oe<Ae;Oe++)N(A[Oe],U,fe?K:K.call(A[Oe],Oe,N(A[Oe],U)));return ee?A:Ze?N.call(A):Ae?N(A[0],U):re},Ue=/^-ms-/,Be=/-([a-z])/g;function Se(A,N){return N.toUpperCase()}function Ie(A){return A.replace(Ue,"ms-").replace(Be,Se)}var je=function(A){return A.nodeType===1||A.nodeType===9||!+A.nodeType};function Ke(){this.expando=f.expando+Ke.uid++}Ke.uid=1,Ke.prototype={cache:function(A){var N=A[this.expando];return N||(N={},je(A)&&(A.nodeType?A[this.expando]=N:Object.defineProperty(A,this.expando,{value:N,configurable:!0}))),N},set:function(A,N,U){var K,ee=this.cache(A);if(typeof N=="string")ee[Ie(N)]=U;else for(K in N)ee[Ie(K)]=N[K];return ee},get:function(A,N){return N===void 0?this.cache(A):A[this.expando]&&A[this.expando][Ie(N)]},access:function(A,N,U){return N===void 0||N&&typeof N=="string"&&U===void 0?this.get(A,N):(this.set(A,N,U),U!==void 0?U:N)},remove:function(A,N){var U,K=A[this.expando];if(K!==void 0){if(N!==void 0)for(Array.isArray(N)?N=N.map(Ie):(N=Ie(N),N=N in K?[N]:N.match(_e)||[]),U=N.length;U--;)delete K[N[U]];(N===void 0||f.isEmptyObject(K))&&(A.nodeType?A[this.expando]=void 0:delete A[this.expando])}},hasData:function(A){var N=A[this.expando];return N!==void 0&&!f.isEmptyObject(N)}};var Pe=new Ke,ht=new Ke,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;function ue(A){return A==="true"?!0:A==="false"?!1:A==="null"?null:A===+A+""?+A:yt.test(A)?JSON.parse(A):A}function ge(A,N,U){var K;if(U===void 0&&A.nodeType===1)if(K="data-"+N.replace(le,"-$&").toLowerCase(),U=A.getAttribute(K),typeof U=="string"){try{U=ue(U)}catch{}ht.set(A,N,U)}else U=void 0;return U}f.extend({hasData:function(A){return ht.hasData(A)||Pe.hasData(A)},data:function(A,N,U){return ht.access(A,N,U)},removeData:function(A,N){ht.remove(A,N)},_data:function(A,N,U){return Pe.access(A,N,U)},_removeData:function(A,N){Pe.remove(A,N)}}),f.fn.extend({data:function(A,N){var U,K,ee,re=this[0],fe=re&&re.attributes;if(A===void 0){if(this.length&&(ee=ht.get(re),re.nodeType===1&&!Pe.get(re,"hasDataAttrs"))){for(U=fe.length;U--;)fe[U]&&(K=fe[U].name,K.indexOf("data-")===0&&(K=Ie(K.slice(5)),ge(re,K,ee[K])));Pe.set(re,"hasDataAttrs",!0)}return ee}return typeof A=="object"?this.each(function(){ht.set(this,A)}):be(this,function(Oe){var Ae;if(re&&Oe===void 0)return Ae=ht.get(re,A),Ae!==void 0||(Ae=ge(re,A),Ae!==void 0)?Ae:void 0;this.each(function(){ht.set(this,A,Oe)})},null,N,arguments.length>1,null,!0)},removeData:function(A){return this.each(function(){ht.remove(this,A)})}}),f.extend({queue:function(A,N,U){var K;if(A)return N=(N||"fx")+"queue",K=Pe.get(A,N),U&&(!K||Array.isArray(U)?K=Pe.access(A,N,f.makeArray(U)):K.push(U)),K||[]},dequeue:function(A,N){N=N||"fx";var U=f.queue(A,N),K=U.length,ee=U.shift(),re=f._queueHooks(A,N),fe=function(){f.dequeue(A,N)};ee==="inprogress"&&(ee=U.shift(),K--),ee&&(N==="fx"&&U.unshift("inprogress"),delete re.stop,ee.call(A,fe,re)),!K&&re&&re.empty.fire()},_queueHooks:function(A,N){var U=N+"queueHooks";return Pe.get(A,U)||Pe.access(A,U,{empty:f.Callbacks("once memory").add(function(){Pe.remove(A,[N+"queue",U])})})}}),f.fn.extend({queue:function(A,N){var U=2;return typeof A!="string"&&(N=A,A="fx",U--),arguments.length<U?f.queue(this[0],A):N===void 0?this:this.each(function(){var K=f.queue(this,A,N);f._queueHooks(this,A),A==="fx"&&K[0]!=="inprogress"&&f.dequeue(this,A)})},dequeue:function(A){return this.each(function(){f.dequeue(this,A)})},clearQueue:function(A){return this.queue(A||"fx",[])},promise:function(A,N){var U,K=1,ee=f.Deferred(),re=this,fe=this.length,Oe=function(){--K||ee.resolveWith(re,[re])};for(typeof A!="string"&&(N=A,A=void 0),A=A||"fx";fe--;)U=Pe.get(re[fe],A+"queueHooks"),U&&U.empty&&(K++,U.empty.add(Oe));return Oe(),ee.promise(N)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],st=v.documentElement,se=function(A){return f.contains(A.ownerDocument,A)},Ge={composed:!0};st.getRootNode&&(se=function(A){return f.contains(A.ownerDocument,A)||A.getRootNode(Ge)===A.ownerDocument});var Je=function(A,N){return A=N||A,A.style.display==="none"||A.style.display===""&&se(A)&&f.css(A,"display")==="none"};function pt(A,N,U,K){var ee,re,fe=20,Oe=K?function(){return K.cur()}:function(){return f.css(A,N,"")},Ae=Oe(),Ze=U&&U[3]||(f.cssNumber[N]?"":"px"),ct=A.nodeType&&(f.cssNumber[N]||Ze!=="px"&&+Ae)&&ke.exec(f.css(A,N));if(ct&&ct[3]!==Ze){for(Ae=Ae/2,Ze=Ze||ct[3],ct=+Ae||1;fe--;)f.style(A,N,ct+Ze),(1-re)*(1-(re=Oe()/Ae||.5))<=0&&(fe=0),ct=ct/re;ct=ct*2,f.style(A,N,ct+Ze),U=U||[]}return U&&(ct=+ct||+Ae||0,ee=U[1]?ct+(U[1]+1)*U[2]:+U[2],K&&(K.unit=Ze,K.start=ct,K.end=ee)),ee}var Le={};function ot(A){var N,U=A.ownerDocument,K=A.nodeName,ee=Le[K];return ee||(N=U.body.appendChild(U.createElement(K)),ee=f.css(N,"display"),N.parentNode.removeChild(N),ee==="none"&&(ee="block"),Le[K]=ee,ee)}function oe(A,N){for(var U,K,ee=[],re=0,fe=A.length;re<fe;re++)K=A[re],K.style&&(U=K.style.display,N?(U==="none"&&(ee[re]=Pe.get(K,"display")||null,ee[re]||(K.style.display="")),K.style.display===""&&Je(K)&&(ee[re]=ot(K))):U!=="none"&&(ee[re]="none",Pe.set(K,"display",U)));for(re=0;re<fe;re++)ee[re]!=null&&(A[re].style.display=ee[re]);return A}f.fn.extend({show:function(){return oe(this,!0)},hide:function(){return oe(this)},toggle:function(A){return typeof A=="boolean"?A?this.show():this.hide():this.each(function(){Je(this)?f(this).show():f(this).hide()})}});var ut=/^(?:checkbox|radio)$/i,At=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,W=/^$|^module$|\/(?:java|ecma)script/i;(function(){var A=v.createDocumentFragment(),N=A.appendChild(v.createElement("div")),U=v.createElement("input");U.setAttribute("type","radio"),U.setAttribute("checked","checked"),U.setAttribute("name","t"),N.appendChild(U),S.checkClone=N.cloneNode(!0).cloneNode(!0).lastChild.checked,N.innerHTML="<textarea>x</textarea>",S.noCloneChecked=!!N.cloneNode(!0).lastChild.defaultValue,N.innerHTML="<option></option>",S.option=!!N.lastChild})();var Ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,S.option||(Ve.optgroup=Ve.option=[1,"<select multiple='multiple'>","</select>"]);function Ye(A,N){var U;return typeof A.getElementsByTagName<"u"?U=A.getElementsByTagName(N||"*"):typeof A.querySelectorAll<"u"?U=A.querySelectorAll(N||"*"):U=[],N===void 0||N&&M(A,N)?f.merge([A],U):U}function ce(A,N){for(var U=0,K=A.length;U<K;U++)Pe.set(A[U],"globalEval",!N||Pe.get(N[U],"globalEval"))}var ze=/<|&#?\w+;/;function et(A,N,U,K,ee){for(var re,fe,Oe,Ae,Ze,ct,vt=N.createDocumentFragment(),rt=[],wt=0,Kt=A.length;wt<Kt;wt++)if(re=A[wt],re||re===0)if(C(re)==="object")f.merge(rt,re.nodeType?[re]:re);else if(!ze.test(re))rt.push(N.createTextNode(re));else{for(fe=fe||vt.appendChild(N.createElement("div")),Oe=(At.exec(re)||["",""])[1].toLowerCase(),Ae=Ve[Oe]||Ve._default,fe.innerHTML=Ae[1]+f.htmlPrefilter(re)+Ae[2],ct=Ae[0];ct--;)fe=fe.lastChild;f.merge(rt,fe.childNodes),fe=vt.firstChild,fe.textContent=""}for(vt.textContent="",wt=0;re=rt[wt++];){if(K&&f.inArray(re,K)>-1){ee&&ee.push(re);continue}if(Ze=se(re),fe=Ye(vt.appendChild(re),"script"),Ze&&ce(fe),U)for(ct=0;re=fe[ct++];)W.test(re.type||"")&&U.push(re)}return vt}var Lt=/^([^.]*)(?:\.(.+)|)/;function Mt(){return!0}function at(){return!1}function qt(A,N,U,K,ee,re){var fe,Oe;if(typeof N=="object"){typeof U!="string"&&(K=K||U,U=void 0);for(Oe in N)qt(A,Oe,U,K,N[Oe],re);return A}if(K==null&&ee==null?(ee=U,K=U=void 0):ee==null&&(typeof U=="string"?(ee=K,K=void 0):(ee=K,K=U,U=void 0)),ee===!1)ee=at;else if(!ee)return A;return re===1&&(fe=ee,ee=function(Ae){return f().off(Ae),fe.apply(this,arguments)},ee.guid=fe.guid||(fe.guid=f.guid++)),A.each(function(){f.event.add(this,N,ee,K,U)})}f.event={global:{},add:function(A,N,U,K,ee){var re,fe,Oe,Ae,Ze,ct,vt,rt,wt,Kt,lr,tr=Pe.get(A);if(je(A))for(U.handler&&(re=U,U=re.handler,ee=re.selector),ee&&f.find.matchesSelector(st,ee),U.guid||(U.guid=f.guid++),(Ae=tr.events)||(Ae=tr.events=Object.create(null)),(fe=tr.handle)||(fe=tr.handle=function(pn){return typeof f<"u"&&f.event.triggered!==pn.type?f.event.dispatch.apply(A,arguments):void 0}),N=(N||"").match(_e)||[""],Ze=N.length;Ze--;)Oe=Lt.exec(N[Ze])||[],wt=lr=Oe[1],Kt=(Oe[2]||"").split(".").sort(),wt&&(vt=f.event.special[wt]||{},wt=(ee?vt.delegateType:vt.bindType)||wt,vt=f.event.special[wt]||{},ct=f.extend({type:wt,origType:lr,data:K,handler:U,guid:U.guid,selector:ee,needsContext:ee&&f.expr.match.needsContext.test(ee),namespace:Kt.join(".")},re),(rt=Ae[wt])||(rt=Ae[wt]=[],rt.delegateCount=0,(!vt.setup||vt.setup.call(A,K,Kt,fe)===!1)&&A.addEventListener&&A.addEventListener(wt,fe)),vt.add&&(vt.add.call(A,ct),ct.handler.guid||(ct.handler.guid=U.guid)),ee?rt.splice(rt.delegateCount++,0,ct):rt.push(ct),f.event.global[wt]=!0)},remove:function(A,N,U,K,ee){var re,fe,Oe,Ae,Ze,ct,vt,rt,wt,Kt,lr,tr=Pe.hasData(A)&&Pe.get(A);if(!(!tr||!(Ae=tr.events))){for(N=(N||"").match(_e)||[""],Ze=N.length;Ze--;){if(Oe=Lt.exec(N[Ze])||[],wt=lr=Oe[1],Kt=(Oe[2]||"").split(".").sort(),!wt){for(wt in Ae)f.event.remove(A,wt+N[Ze],U,K,!0);continue}for(vt=f.event.special[wt]||{},wt=(K?vt.delegateType:vt.bindType)||wt,rt=Ae[wt]||[],Oe=Oe[2]&&new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"),fe=re=rt.length;re--;)ct=rt[re],(ee||lr===ct.origType)&&(!U||U.guid===ct.guid)&&(!Oe||Oe.test(ct.namespace))&&(!K||K===ct.selector||K==="**"&&ct.selector)&&(rt.splice(re,1),ct.selector&&rt.delegateCount--,vt.remove&&vt.remove.call(A,ct));fe&&!rt.length&&((!vt.teardown||vt.teardown.call(A,Kt,tr.handle)===!1)&&f.removeEvent(A,wt,tr.handle),delete Ae[wt])}f.isEmptyObject(Ae)&&Pe.remove(A,"handle events")}},dispatch:function(A){var N,U,K,ee,re,fe,Oe=new Array(arguments.length),Ae=f.event.fix(A),Ze=(Pe.get(this,"events")||Object.create(null))[Ae.type]||[],ct=f.event.special[Ae.type]||{};for(Oe[0]=Ae,N=1;N<arguments.length;N++)Oe[N]=arguments[N];if(Ae.delegateTarget=this,!(ct.preDispatch&&ct.preDispatch.call(this,Ae)===!1)){for(fe=f.event.handlers.call(this,Ae,Ze),N=0;(ee=fe[N++])&&!Ae.isPropagationStopped();)for(Ae.currentTarget=ee.elem,U=0;(re=ee.handlers[U++])&&!Ae.isImmediatePropagationStopped();)(!Ae.rnamespace||re.namespace===!1||Ae.rnamespace.test(re.namespace))&&(Ae.handleObj=re,Ae.data=re.data,K=((f.event.special[re.origType]||{}).handle||re.handler).apply(ee.elem,Oe),K!==void 0&&(Ae.result=K)===!1&&(Ae.preventDefault(),Ae.stopPropagation()));return ct.postDispatch&&ct.postDispatch.call(this,Ae),Ae.result}},handlers:function(A,N){var U,K,ee,re,fe,Oe=[],Ae=N.delegateCount,Ze=A.target;if(Ae&&Ze.nodeType&&!(A.type==="click"&&A.button>=1)){for(;Ze!==this;Ze=Ze.parentNode||this)if(Ze.nodeType===1&&!(A.type==="click"&&Ze.disabled===!0)){for(re=[],fe={},U=0;U<Ae;U++)K=N[U],ee=K.selector+" ",fe[ee]===void 0&&(fe[ee]=K.needsContext?f(ee,this).index(Ze)>-1:f.find(ee,this,null,[Ze]).length),fe[ee]&&re.push(K);re.length&&Oe.push({elem:Ze,handlers:re})}}return Ze=this,Ae<N.length&&Oe.push({elem:Ze,handlers:N.slice(Ae)}),Oe},addProp:function(A,N){Object.defineProperty(f.Event.prototype,A,{enumerable:!0,configurable:!0,get:w(N)?function(){if(this.originalEvent)return N(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[A]},set:function(U){Object.defineProperty(this,A,{enumerable:!0,configurable:!0,writable:!0,value:U})}})},fix:function(A){return A[f.expando]?A:new f.Event(A)},special:{load:{noBubble:!0},click:{setup:function(A){var N=this||A;return ut.test(N.type)&&N.click&&M(N,"input")&&Yr(N,"click",!0),!1},trigger:function(A){var N=this||A;return ut.test(N.type)&&N.click&&M(N,"input")&&Yr(N,"click"),!0},_default:function(A){var N=A.target;return ut.test(N.type)&&N.click&&M(N,"input")&&Pe.get(N,"click")||M(N,"a")}},beforeunload:{postDispatch:function(A){A.result!==void 0&&A.originalEvent&&(A.originalEvent.returnValue=A.result)}}}};function Yr(A,N,U){if(!U){Pe.get(A,N)===void 0&&f.event.add(A,N,Mt);return}Pe.set(A,N,!1),f.event.add(A,N,{namespace:!1,handler:function(K){var ee,re=Pe.get(this,N);if(K.isTrigger&1&&this[N]){if(re)(f.event.special[N]||{}).delegateType&&K.stopPropagation();else if(re=a.call(arguments),Pe.set(this,N,re),this[N](),ee=Pe.get(this,N),Pe.set(this,N,!1),re!==ee)return K.stopImmediatePropagation(),K.preventDefault(),ee}else re&&(Pe.set(this,N,f.event.trigger(re[0],re.slice(1),this)),K.stopPropagation(),K.isImmediatePropagationStopped=Mt)}})}f.removeEvent=function(A,N,U){A.removeEventListener&&A.removeEventListener(N,U)},f.Event=function(A,N){if(!(this instanceof f.Event))return new f.Event(A,N);A&&A.type?(this.originalEvent=A,this.type=A.type,this.isDefaultPrevented=A.defaultPrevented||A.defaultPrevented===void 0&&A.returnValue===!1?Mt:at,this.target=A.target&&A.target.nodeType===3?A.target.parentNode:A.target,this.currentTarget=A.currentTarget,this.relatedTarget=A.relatedTarget):this.type=A,N&&f.extend(this,N),this.timeStamp=A&&A.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:at,isPropagationStopped:at,isImmediatePropagationStopped:at,isSimulated:!1,preventDefault:function(){var A=this.originalEvent;this.isDefaultPrevented=Mt,A&&!this.isSimulated&&A.preventDefault()},stopPropagation:function(){var A=this.originalEvent;this.isPropagationStopped=Mt,A&&!this.isSimulated&&A.stopPropagation()},stopImmediatePropagation:function(){var A=this.originalEvent;this.isImmediatePropagationStopped=Mt,A&&!this.isSimulated&&A.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(A,N){function U(K){if(v.documentMode){var ee=Pe.get(this,"handle"),re=f.event.fix(K);re.type=K.type==="focusin"?"focus":"blur",re.isSimulated=!0,ee(K),re.target===re.currentTarget&&ee(re)}else f.event.simulate(N,K.target,f.event.fix(K))}f.event.special[A]={setup:function(){var K;if(Yr(this,A,!0),v.documentMode)K=Pe.get(this,N),K||this.addEventListener(N,U),Pe.set(this,N,(K||0)+1);else return!1},trigger:function(){return Yr(this,A),!0},teardown:function(){var K;if(v.documentMode)K=Pe.get(this,N)-1,K?Pe.set(this,N,K):(this.removeEventListener(N,U),Pe.remove(this,N));else return!1},_default:function(K){return Pe.get(K.target,A)},delegateType:N},f.event.special[N]={setup:function(){var K=this.ownerDocument||this.document||this,ee=v.documentMode?this:K,re=Pe.get(ee,N);re||(v.documentMode?this.addEventListener(N,U):K.addEventListener(A,U,!0)),Pe.set(ee,N,(re||0)+1)},teardown:function(){var K=this.ownerDocument||this.document||this,ee=v.documentMode?this:K,re=Pe.get(ee,N)-1;re?Pe.set(ee,N,re):(v.documentMode?this.removeEventListener(N,U):K.removeEventListener(A,U,!0),Pe.remove(ee,N))}}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(A,N){f.event.special[A]={delegateType:N,bindType:N,handle:function(U){var K,ee=this,re=U.relatedTarget,fe=U.handleObj;return(!re||re!==ee&&!f.contains(ee,re))&&(U.type=fe.origType,K=fe.handler.apply(this,arguments),U.type=N),K}}}),f.fn.extend({on:function(A,N,U,K){return qt(this,A,N,U,K)},one:function(A,N,U,K){return qt(this,A,N,U,K,1)},off:function(A,N,U){var K,ee;if(A&&A.preventDefault&&A.handleObj)return K=A.handleObj,f(A.delegateTarget).off(K.namespace?K.origType+"."+K.namespace:K.origType,K.selector,K.handler),this;if(typeof A=="object"){for(ee in A)this.off(ee,N,A[ee]);return this}return(N===!1||typeof N=="function")&&(U=N,N=void 0),U===!1&&(U=at),this.each(function(){f.event.remove(this,A,U,N)})}});var Vt=/<script|<style|<link/i,Jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Or(A,N){return M(A,"table")&&M(N.nodeType!==11?N:N.firstChild,"tr")&&f(A).children("tbody")[0]||A}function Dr(A){return A.type=(A.getAttribute("type")!==null)+"/"+A.type,A}function Fr(A){return(A.type||"").slice(0,5)==="true/"?A.type=A.type.slice(5):A.removeAttribute("type"),A}function rn(A,N){var U,K,ee,re,fe,Oe,Ae;if(N.nodeType===1){if(Pe.hasData(A)&&(re=Pe.get(A),Ae=re.events,Ae)){Pe.remove(N,"handle events");for(ee in Ae)for(U=0,K=Ae[ee].length;U<K;U++)f.event.add(N,ee,Ae[ee][U])}ht.hasData(A)&&(fe=ht.access(A),Oe=f.extend({},fe),ht.set(N,Oe))}}function fr(A,N){var U=N.nodeName.toLowerCase();U==="input"&&ut.test(A.type)?N.checked=A.checked:(U==="input"||U==="textarea")&&(N.defaultValue=A.defaultValue)}function Zt(A,N,U,K){N=s(N);var ee,re,fe,Oe,Ae,Ze,ct=0,vt=A.length,rt=vt-1,wt=N[0],Kt=w(wt);if(Kt||vt>1&&typeof wt=="string"&&!S.checkClone&&Jt.test(wt))return A.each(function(lr){var tr=A.eq(lr);Kt&&(N[0]=wt.call(this,lr,tr.html())),Zt(tr,N,U,K)});if(vt&&(ee=et(N,A[0].ownerDocument,!1,A,K),re=ee.firstChild,ee.childNodes.length===1&&(ee=re),re||K)){for(fe=f.map(Ye(ee,"script"),Dr),Oe=fe.length;ct<vt;ct++)Ae=ee,ct!==rt&&(Ae=f.clone(Ae,!0,!0),Oe&&f.merge(fe,Ye(Ae,"script"))),U.call(A[ct],Ae,ct);if(Oe)for(Ze=fe[fe.length-1].ownerDocument,f.map(fe,Fr),ct=0;ct<Oe;ct++)Ae=fe[ct],W.test(Ae.type||"")&&!Pe.access(Ae,"globalEval")&&f.contains(Ze,Ae)&&(Ae.src&&(Ae.type||"").toLowerCase()!=="module"?f._evalUrl&&!Ae.noModule&&f._evalUrl(Ae.src,{nonce:Ae.nonce||Ae.getAttribute("nonce")},Ze):b(Ae.textContent.replace(Pt,""),Ae,Ze))}return A}function nr(A,N,U){for(var K,ee=N?f.filter(N,A):A,re=0;(K=ee[re])!=null;re++)!U&&K.nodeType===1&&f.cleanData(Ye(K)),K.parentNode&&(U&&se(K)&&ce(Ye(K,"script")),K.parentNode.removeChild(K));return A}f.extend({htmlPrefilter:function(A){return A},clone:function(A,N,U){var K,ee,re,fe,Oe=A.cloneNode(!0),Ae=se(A);if(!S.noCloneChecked&&(A.nodeType===1||A.nodeType===11)&&!f.isXMLDoc(A))for(fe=Ye(Oe),re=Ye(A),K=0,ee=re.length;K<ee;K++)fr(re[K],fe[K]);if(N)if(U)for(re=re||Ye(A),fe=fe||Ye(Oe),K=0,ee=re.length;K<ee;K++)rn(re[K],fe[K]);else rn(A,Oe);return fe=Ye(Oe,"script"),fe.length>0&&ce(fe,!Ae&&Ye(A,"script")),Oe},cleanData:function(A){for(var N,U,K,ee=f.event.special,re=0;(U=A[re])!==void 0;re++)if(je(U)){if(N=U[Pe.expando]){if(N.events)for(K in N.events)ee[K]?f.event.remove(U,K):f.removeEvent(U,K,N.handle);U[Pe.expando]=void 0}U[ht.expando]&&(U[ht.expando]=void 0)}}}),f.fn.extend({detach:function(A){return nr(this,A,!0)},remove:function(A){return nr(this,A)},text:function(A){return be(this,function(N){return N===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=N)})},null,A,arguments.length)},append:function(){return Zt(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=Or(this,A);N.appendChild(A)}})},prepend:function(){return Zt(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=Or(this,A);N.insertBefore(A,N.firstChild)}})},before:function(){return Zt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this)})},after:function(){return Zt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this.nextSibling)})},empty:function(){for(var A,N=0;(A=this[N])!=null;N++)A.nodeType===1&&(f.cleanData(Ye(A,!1)),A.textContent="");return this},clone:function(A,N){return A=A??!1,N=N??A,this.map(function(){return f.clone(this,A,N)})},html:function(A){return be(this,function(N){var U=this[0]||{},K=0,ee=this.length;if(N===void 0&&U.nodeType===1)return U.innerHTML;if(typeof N=="string"&&!Vt.test(N)&&!Ve[(At.exec(N)||["",""])[1].toLowerCase()]){N=f.htmlPrefilter(N);try{for(;K<ee;K++)U=this[K]||{},U.nodeType===1&&(f.cleanData(Ye(U,!1)),U.innerHTML=N);U=0}catch{}}U&&this.empty().append(N)},null,A,arguments.length)},replaceWith:function(){var A=[];return Zt(this,arguments,function(N){var U=this.parentNode;f.inArray(this,A)<0&&(f.cleanData(Ye(this)),U&&U.replaceChild(N,this))},A)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,N){f.fn[A]=function(U){for(var K,ee=[],re=f(U),fe=re.length-1,Oe=0;Oe<=fe;Oe++)K=Oe===fe?this:this.clone(!0),f(re[Oe])[N](K),o.apply(ee,K.get());return this.pushStack(ee)}});var Br=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),jr=/^--/,xi=function(A){var N=A.ownerDocument.defaultView;return(!N||!N.opener)&&(N=e),N.getComputedStyle(A)},ws=function(A,N,U){var K,ee,re={};for(ee in N)re[ee]=A.style[ee],A.style[ee]=N[ee];K=U.call(A);for(ee in N)A.style[ee]=re[ee];return K},ba=new RegExp(it.join("|"),"i");(function(){function A(){if(Ze){Ae.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ze.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(Ae).appendChild(Ze);var ct=e.getComputedStyle(Ze);U=ct.top!=="1%",Oe=N(ct.marginLeft)===12,Ze.style.right="60%",re=N(ct.right)===36,K=N(ct.width)===36,Ze.style.position="absolute",ee=N(Ze.offsetWidth/3)===12,st.removeChild(Ae),Ze=null}}function N(ct){return Math.round(parseFloat(ct))}var U,K,ee,re,fe,Oe,Ae=v.createElement("div"),Ze=v.createElement("div");Ze.style&&(Ze.style.backgroundClip="content-box",Ze.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle=Ze.style.backgroundClip==="content-box",f.extend(S,{boxSizingReliable:function(){return A(),K},pixelBoxStyles:function(){return A(),re},pixelPosition:function(){return A(),U},reliableMarginLeft:function(){return A(),Oe},scrollboxSize:function(){return A(),ee},reliableTrDimensions:function(){var ct,vt,rt,wt;return fe==null&&(ct=v.createElement("table"),vt=v.createElement("tr"),rt=v.createElement("div"),ct.style.cssText="position:absolute;left:-11111px;border-collapse:separate",vt.style.cssText="border:1px solid",vt.style.height="1px",rt.style.height="9px",rt.style.display="block",st.appendChild(ct).appendChild(vt).appendChild(rt),wt=e.getComputedStyle(vt),fe=parseInt(wt.height,10)+parseInt(wt.borderTopWidth,10)+parseInt(wt.borderBottomWidth,10)===vt.offsetHeight,st.removeChild(ct)),fe}}))})();function Mr(A,N,U){var K,ee,re,fe,Oe=jr.test(N),Ae=A.style;return U=U||xi(A),U&&(fe=U.getPropertyValue(N)||U[N],Oe&&fe&&(fe=fe.replace(I,"$1")||void 0),fe===""&&!se(A)&&(fe=f.style(A,N)),!S.pixelBoxStyles()&&Br.test(fe)&&ba.test(N)&&(K=Ae.width,ee=Ae.minWidth,re=Ae.maxWidth,Ae.minWidth=Ae.maxWidth=Ae.width=fe,fe=U.width,Ae.width=K,Ae.minWidth=ee,Ae.maxWidth=re)),fe!==void 0?fe+"":fe}function ea(A,N){return{get:function(){if(A()){delete this.get;return}return(this.get=N).apply(this,arguments)}}}var Ss=["Webkit","Moz","ms"],Za=v.createElement("div").style,Xa={};function Jo(A){for(var N=A[0].toUpperCase()+A.slice(1),U=Ss.length;U--;)if(A=Ss[U]+N,A in Za)return A}function el(A){var N=f.cssProps[A]||Xa[A];return N||(A in Za?A:Xa[A]=Jo(A)||A)}var Zf=/^(none|table(?!-c[ea]).+)/,Xf={position:"absolute",visibility:"hidden",display:"block"},hu={letterSpacing:"0",fontWeight:"400"};function ar(A,N,U){var K=ke.exec(N);return K?Math.max(0,K[2]-(U||0))+(K[3]||"px"):N}function oi(A,N,U,K,ee,re){var fe=N==="width"?1:0,Oe=0,Ae=0,Ze=0;if(U===(K?"border":"content"))return 0;for(;fe<4;fe+=2)U==="margin"&&(Ze+=f.css(A,U+it[fe],!0,ee)),K?(U==="content"&&(Ae-=f.css(A,"padding"+it[fe],!0,ee)),U!=="margin"&&(Ae-=f.css(A,"border"+it[fe]+"Width",!0,ee))):(Ae+=f.css(A,"padding"+it[fe],!0,ee),U!=="padding"?Ae+=f.css(A,"border"+it[fe]+"Width",!0,ee):Oe+=f.css(A,"border"+it[fe]+"Width",!0,ee));return!K&&re>=0&&(Ae+=Math.max(0,Math.ceil(A["offset"+N[0].toUpperCase()+N.slice(1)]-re-Ae-Oe-.5))||0),Ae+Ze}function Kn(A,N,U){var K=xi(A),ee=!S.boxSizingReliable()||U,re=ee&&f.css(A,"boxSizing",!1,K)==="border-box",fe=re,Oe=Mr(A,N,K),Ae="offset"+N[0].toUpperCase()+N.slice(1);if(Br.test(Oe)){if(!U)return Oe;Oe="auto"}return(!S.boxSizingReliable()&&re||!S.reliableTrDimensions()&&M(A,"tr")||Oe==="auto"||!parseFloat(Oe)&&f.css(A,"display",!1,K)==="inline")&&A.getClientRects().length&&(re=f.css(A,"boxSizing",!1,K)==="border-box",fe=Ae in A,fe&&(Oe=A[Ae])),Oe=parseFloat(Oe)||0,Oe+oi(A,N,U||(re?"border":"content"),fe,K,Oe)+"px"}f.extend({cssHooks:{opacity:{get:function(A,N){if(N){var U=Mr(A,"opacity");return U===""?"1":U}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(A,N,U,K){if(!(!A||A.nodeType===3||A.nodeType===8||!A.style)){var ee,re,fe,Oe=Ie(N),Ae=jr.test(N),Ze=A.style;if(Ae||(N=el(Oe)),fe=f.cssHooks[N]||f.cssHooks[Oe],U!==void 0){if(re=typeof U,re==="string"&&(ee=ke.exec(U))&&ee[1]&&(U=pt(A,N,ee),re="number"),U==null||U!==U)return;re==="number"&&!Ae&&(U+=ee&&ee[3]||(f.cssNumber[Oe]?"":"px")),!S.clearCloneStyle&&U===""&&N.indexOf("background")===0&&(Ze[N]="inherit"),(!fe||!("set"in fe)||(U=fe.set(A,U,K))!==void 0)&&(Ae?Ze.setProperty(N,U):Ze[N]=U)}else return fe&&"get"in fe&&(ee=fe.get(A,!1,K))!==void 0?ee:Ze[N]}},css:function(A,N,U,K){var ee,re,fe,Oe=Ie(N),Ae=jr.test(N);return Ae||(N=el(Oe)),fe=f.cssHooks[N]||f.cssHooks[Oe],fe&&"get"in fe&&(ee=fe.get(A,!0,U)),ee===void 0&&(ee=Mr(A,N,K)),ee==="normal"&&N in hu&&(ee=hu[N]),U===""||U?(re=parseFloat(ee),U===!0||isFinite(re)?re||0:ee):ee}}),f.each(["height","width"],function(A,N){f.cssHooks[N]={get:function(U,K,ee){if(K)return Zf.test(f.css(U,"display"))&&(!U.getClientRects().length||!U.getBoundingClientRect().width)?ws(U,Xf,function(){return Kn(U,N,ee)}):Kn(U,N,ee)},set:function(U,K,ee){var re,fe=xi(U),Oe=!S.scrollboxSize()&&fe.position==="absolute",Ae=Oe||ee,Ze=Ae&&f.css(U,"boxSizing",!1,fe)==="border-box",ct=ee?oi(U,N,ee,Ze,fe):0;return Ze&&Oe&&(ct-=Math.ceil(U["offset"+N[0].toUpperCase()+N.slice(1)]-parseFloat(fe[N])-oi(U,N,"border",!1,fe)-.5)),ct&&(re=ke.exec(K))&&(re[3]||"px")!=="px"&&(U.style[N]=K,K=f.css(U,N)),ar(U,K,ct)}}}),f.cssHooks.marginLeft=ea(S.reliableMarginLeft,function(A,N){if(N)return(parseFloat(Mr(A,"marginLeft"))||A.getBoundingClientRect().left-ws(A,{marginLeft:0},function(){return A.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(A,N){f.cssHooks[A+N]={expand:function(U){for(var K=0,ee={},re=typeof U=="string"?U.split(" "):[U];K<4;K++)ee[A+it[K]+N]=re[K]||re[K-2]||re[0];return ee}},A!=="margin"&&(f.cssHooks[A+N].set=ar)}),f.fn.extend({css:function(A,N){return be(this,function(U,K,ee){var re,fe,Oe={},Ae=0;if(Array.isArray(K)){for(re=xi(U),fe=K.length;Ae<fe;Ae++)Oe[K[Ae]]=f.css(U,K[Ae],!1,re);return Oe}return ee!==void 0?f.style(U,K,ee):f.css(U,K)},A,N,arguments.length>1)}});function Tn(A,N,U,K,ee){return new Tn.prototype.init(A,N,U,K,ee)}f.Tween=Tn,Tn.prototype={constructor:Tn,init:function(A,N,U,K,ee,re){this.elem=A,this.prop=U,this.easing=ee||f.easing._default,this.options=N,this.start=this.now=this.cur(),this.end=K,this.unit=re||(f.cssNumber[U]?"":"px")},cur:function(){var A=Tn.propHooks[this.prop];return A&&A.get?A.get(this):Tn.propHooks._default.get(this)},run:function(A){var N,U=Tn.propHooks[this.prop];return this.options.duration?this.pos=N=f.easing[this.easing](A,this.options.duration*A,0,1,this.options.duration):this.pos=N=A,this.now=(this.end-this.start)*N+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),U&&U.set?U.set(this):Tn.propHooks._default.set(this),this}},Tn.prototype.init.prototype=Tn.prototype,Tn.propHooks={_default:{get:function(A){var N;return A.elem.nodeType!==1||A.elem[A.prop]!=null&&A.elem.style[A.prop]==null?A.elem[A.prop]:(N=f.css(A.elem,A.prop,""),!N||N==="auto"?0:N)},set:function(A){f.fx.step[A.prop]?f.fx.step[A.prop](A):A.elem.nodeType===1&&(f.cssHooks[A.prop]||A.elem.style[el(A.prop)]!=null)?f.style(A.elem,A.prop,A.now+A.unit):A.elem[A.prop]=A.now}}},Tn.propHooks.scrollTop=Tn.propHooks.scrollLeft={set:function(A){A.elem.nodeType&&A.elem.parentNode&&(A.elem[A.prop]=A.now)}},f.easing={linear:function(A){return A},swing:function(A){return .5-Math.cos(A*Math.PI)/2},_default:"swing"},f.fx=Tn.prototype.init,f.fx.step={};var li,$a,ao=/^(?:toggle|show|hide)$/,ya=/queueHooks$/;function Qa(){$a&&(v.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Qa):e.setTimeout(Qa,f.fx.interval),f.fx.tick())}function so(){return e.setTimeout(function(){li=void 0}),li=Date.now()}function wi(A,N){var U,K=0,ee={height:A};for(N=N?1:0;K<4;K+=2-N)U=it[K],ee["margin"+U]=ee["padding"+U]=A;return N&&(ee.opacity=ee.width=A),ee}function Si(A,N,U){for(var K,ee=(Kr.tweeners[N]||[]).concat(Kr.tweeners["*"]),re=0,fe=ee.length;re<fe;re++)if(K=ee[re].call(U,N,A))return K}function un(A,N,U){var K,ee,re,fe,Oe,Ae,Ze,ct,vt="width"in N||"height"in N,rt=this,wt={},Kt=A.style,lr=A.nodeType&&Je(A),tr=Pe.get(A,"fxshow");U.queue||(fe=f._queueHooks(A,"fx"),fe.unqueued==null&&(fe.unqueued=0,Oe=fe.empty.fire,fe.empty.fire=function(){fe.unqueued||Oe()}),fe.unqueued++,rt.always(function(){rt.always(function(){fe.unqueued--,f.queue(A,"fx").length||fe.empty.fire()})}));for(K in N)if(ee=N[K],ao.test(ee)){if(delete N[K],re=re||ee==="toggle",ee===(lr?"hide":"show"))if(ee==="show"&&tr&&tr[K]!==void 0)lr=!0;else continue;wt[K]=tr&&tr[K]||f.style(A,K)}if(Ae=!f.isEmptyObject(N),!(!Ae&&f.isEmptyObject(wt))){vt&&A.nodeType===1&&(U.overflow=[Kt.overflow,Kt.overflowX,Kt.overflowY],Ze=tr&&tr.display,Ze==null&&(Ze=Pe.get(A,"display")),ct=f.css(A,"display"),ct==="none"&&(Ze?ct=Ze:(oe([A],!0),Ze=A.style.display||Ze,ct=f.css(A,"display"),oe([A]))),(ct==="inline"||ct==="inline-block"&&Ze!=null)&&f.css(A,"float")==="none"&&(Ae||(rt.done(function(){Kt.display=Ze}),Ze==null&&(ct=Kt.display,Ze=ct==="none"?"":ct)),Kt.display="inline-block")),U.overflow&&(Kt.overflow="hidden",rt.always(function(){Kt.overflow=U.overflow[0],Kt.overflowX=U.overflow[1],Kt.overflowY=U.overflow[2]})),Ae=!1;for(K in wt)Ae||(tr?"hidden"in tr&&(lr=tr.hidden):tr=Pe.access(A,"fxshow",{display:Ze}),re&&(tr.hidden=!lr),lr&&oe([A],!0),rt.done(function(){lr||oe([A]),Pe.remove(A,"fxshow");for(K in wt)f.style(A,K,wt[K])})),Ae=Si(lr?tr[K]:0,K,rt),K in tr||(tr[K]=Ae.start,lr&&(Ae.end=Ae.start,Ae.start=0))}}function xa(A,N){var U,K,ee,re,fe;for(U in A)if(K=Ie(U),ee=N[K],re=A[U],Array.isArray(re)&&(ee=re[1],re=A[U]=re[0]),U!==K&&(A[K]=re,delete A[U]),fe=f.cssHooks[K],fe&&"expand"in fe){re=fe.expand(re),delete A[K];for(U in re)U in A||(A[U]=re[U],N[U]=ee)}else N[K]=ee}function Kr(A,N,U){var K,ee,re=0,fe=Kr.prefilters.length,Oe=f.Deferred().always(function(){delete Ae.elem}),Ae=function(){if(ee)return!1;for(var vt=li||so(),rt=Math.max(0,Ze.startTime+Ze.duration-vt),wt=rt/Ze.duration||0,Kt=1-wt,lr=0,tr=Ze.tweens.length;lr<tr;lr++)Ze.tweens[lr].run(Kt);return Oe.notifyWith(A,[Ze,Kt,rt]),Kt<1&&tr?rt:(tr||Oe.notifyWith(A,[Ze,1,0]),Oe.resolveWith(A,[Ze]),!1)},Ze=Oe.promise({elem:A,props:f.extend({},N),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},U),originalProperties:N,originalOptions:U,startTime:li||so(),duration:U.duration,tweens:[],createTween:function(vt,rt){var wt=f.Tween(A,Ze.opts,vt,rt,Ze.opts.specialEasing[vt]||Ze.opts.easing);return Ze.tweens.push(wt),wt},stop:function(vt){var rt=0,wt=vt?Ze.tweens.length:0;if(ee)return this;for(ee=!0;rt<wt;rt++)Ze.tweens[rt].run(1);return vt?(Oe.notifyWith(A,[Ze,1,0]),Oe.resolveWith(A,[Ze,vt])):Oe.rejectWith(A,[Ze,vt]),this}}),ct=Ze.props;for(xa(ct,Ze.opts.specialEasing);re<fe;re++)if(K=Kr.prefilters[re].call(Ze,A,ct,Ze.opts),K)return w(K.stop)&&(f._queueHooks(Ze.elem,Ze.opts.queue).stop=K.stop.bind(K)),K;return f.map(ct,Si,Ze),w(Ze.opts.start)&&Ze.opts.start.call(A,Ze),Ze.progress(Ze.opts.progress).done(Ze.opts.done,Ze.opts.complete).fail(Ze.opts.fail).always(Ze.opts.always),f.fx.timer(f.extend(Ae,{elem:A,anim:Ze,queue:Ze.opts.queue})),Ze}f.Animation=f.extend(Kr,{tweeners:{"*":[function(A,N){var U=this.createTween(A,N);return pt(U.elem,A,ke.exec(N),U),U}]},tweener:function(A,N){w(A)?(N=A,A=["*"]):A=A.match(_e);for(var U,K=0,ee=A.length;K<ee;K++)U=A[K],Kr.tweeners[U]=Kr.tweeners[U]||[],Kr.tweeners[U].unshift(N)},prefilters:[un],prefilter:function(A,N){N?Kr.prefilters.unshift(A):Kr.prefilters.push(A)}}),f.speed=function(A,N,U){var K=A&&typeof A=="object"?f.extend({},A):{complete:U||!U&&N||w(A)&&A,duration:A,easing:U&&N||N&&!w(N)&&N};return f.fx.off?K.duration=0:typeof K.duration!="number"&&(K.duration in f.fx.speeds?K.duration=f.fx.speeds[K.duration]:K.duration=f.fx.speeds._default),(K.queue==null||K.queue===!0)&&(K.queue="fx"),K.old=K.complete,K.complete=function(){w(K.old)&&K.old.call(this),K.queue&&f.dequeue(this,K.queue)},K},f.fn.extend({fadeTo:function(A,N,U,K){return this.filter(Je).css("opacity",0).show().end().animate({opacity:N},A,U,K)},animate:function(A,N,U,K){var ee=f.isEmptyObject(A),re=f.speed(N,U,K),fe=function(){var Oe=Kr(this,f.extend({},A),re);(ee||Pe.get(this,"finish"))&&Oe.stop(!0)};return fe.finish=fe,ee||re.queue===!1?this.each(fe):this.queue(re.queue,fe)},stop:function(A,N,U){var K=function(ee){var re=ee.stop;delete ee.stop,re(U)};return typeof A!="string"&&(U=N,N=A,A=void 0),N&&this.queue(A||"fx",[]),this.each(function(){var ee=!0,re=A!=null&&A+"queueHooks",fe=f.timers,Oe=Pe.get(this);if(re)Oe[re]&&Oe[re].stop&&K(Oe[re]);else for(re in Oe)Oe[re]&&Oe[re].stop&&ya.test(re)&&K(Oe[re]);for(re=fe.length;re--;)fe[re].elem===this&&(A==null||fe[re].queue===A)&&(fe[re].anim.stop(U),ee=!1,fe.splice(re,1));(ee||!U)&&f.dequeue(this,A)})},finish:function(A){return A!==!1&&(A=A||"fx"),this.each(function(){var N,U=Pe.get(this),K=U[A+"queue"],ee=U[A+"queueHooks"],re=f.timers,fe=K?K.length:0;for(U.finish=!0,f.queue(this,A,[]),ee&&ee.stop&&ee.stop.call(this,!0),N=re.length;N--;)re[N].elem===this&&re[N].queue===A&&(re[N].anim.stop(!0),re.splice(N,1));for(N=0;N<fe;N++)K[N]&&K[N].finish&&K[N].finish.call(this);delete U.finish})}}),f.each(["toggle","show","hide"],function(A,N){var U=f.fn[N];f.fn[N]=function(K,ee,re){return K==null||typeof K=="boolean"?U.apply(this,arguments):this.animate(wi(N,!0),K,ee,re)}}),f.each({slideDown:wi("show"),slideUp:wi("hide"),slideToggle:wi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(A,N){f.fn[A]=function(U,K,ee){return this.animate(N,U,K,ee)}}),f.timers=[],f.fx.tick=function(){var A,N=0,U=f.timers;for(li=Date.now();N<U.length;N++)A=U[N],!A()&&U[N]===A&&U.splice(N--,1);U.length||f.fx.stop(),li=void 0},f.fx.timer=function(A){f.timers.push(A),f.fx.start()},f.fx.interval=13,f.fx.start=function(){$a||($a=!0,Qa())},f.fx.stop=function(){$a=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(A,N){return A=f.fx&&f.fx.speeds[A]||A,N=N||"fx",this.queue(N,function(U,K){var ee=e.setTimeout(U,A);K.stop=function(){e.clearTimeout(ee)}})},function(){var A=v.createElement("input"),N=v.createElement("select"),U=N.appendChild(v.createElement("option"));A.type="checkbox",S.checkOn=A.value!=="",S.optSelected=U.selected,A=v.createElement("input"),A.value="t",A.type="radio",S.radioValue=A.value==="t"}();var Cn,Cs=f.expr.attrHandle;f.fn.extend({attr:function(A,N){return be(this,f.attr,A,N,arguments.length>1)},removeAttr:function(A){return this.each(function(){f.removeAttr(this,A)})}}),f.extend({attr:function(A,N,U){var K,ee,re=A.nodeType;if(!(re===3||re===8||re===2)){if(typeof A.getAttribute>"u")return f.prop(A,N,U);if((re!==1||!f.isXMLDoc(A))&&(ee=f.attrHooks[N.toLowerCase()]||(f.expr.match.bool.test(N)?Cn:void 0)),U!==void 0){if(U===null){f.removeAttr(A,N);return}return ee&&"set"in ee&&(K=ee.set(A,U,N))!==void 0?K:(A.setAttribute(N,U+""),U)}return ee&&"get"in ee&&(K=ee.get(A,N))!==null?K:(K=f.find.attr(A,N),K??void 0)}},attrHooks:{type:{set:function(A,N){if(!S.radioValue&&N==="radio"&&M(A,"input")){var U=A.value;return A.setAttribute("type",N),U&&(A.value=U),N}}}},removeAttr:function(A,N){var U,K=0,ee=N&&N.match(_e);if(ee&&A.nodeType===1)for(;U=ee[K++];)A.removeAttribute(U)}}),Cn={set:function(A,N,U){return N===!1?f.removeAttr(A,U):A.setAttribute(U,U),U}},f.each(f.expr.match.bool.source.match(/\w+/g),function(A,N){var U=Cs[N]||f.find.attr;Cs[N]=function(K,ee,re){var fe,Oe,Ae=ee.toLowerCase();return re||(Oe=Cs[Ae],Cs[Ae]=fe,fe=U(K,ee,re)!=null?Ae:null,Cs[Ae]=Oe),fe}});var wa=/^(?:input|select|textarea|button)$/i,pu=/^(?:a|area)$/i;f.fn.extend({prop:function(A,N){return be(this,f.prop,A,N,arguments.length>1)},removeProp:function(A){return this.each(function(){delete this[f.propFix[A]||A]})}}),f.extend({prop:function(A,N,U){var K,ee,re=A.nodeType;if(!(re===3||re===8||re===2))return(re!==1||!f.isXMLDoc(A))&&(N=f.propFix[N]||N,ee=f.propHooks[N]),U!==void 0?ee&&"set"in ee&&(K=ee.set(A,U,N))!==void 0?K:A[N]=U:ee&&"get"in ee&&(K=ee.get(A,N))!==null?K:A[N]},propHooks:{tabIndex:{get:function(A){var N=f.find.attr(A,"tabindex");return N?parseInt(N,10):wa.test(A.nodeName)||pu.test(A.nodeName)&&A.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),S.optSelected||(f.propHooks.selected={get:function(A){var N=A.parentNode;return N&&N.parentNode&&N.parentNode.selectedIndex,null},set:function(A){var N=A.parentNode;N&&(N.selectedIndex,N.parentNode&&N.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function Ln(A){var N=A.match(_e)||[];return N.join(" ")}function Sa(A){return A.getAttribute&&A.getAttribute("class")||""}function mu(A){return Array.isArray(A)?A:typeof A=="string"?A.match(_e)||[]:[]}f.fn.extend({addClass:function(A){var N,U,K,ee,re,fe;return w(A)?this.each(function(Oe){f(this).addClass(A.call(this,Oe,Sa(this)))}):(N=mu(A),N.length?this.each(function(){if(K=Sa(this),U=this.nodeType===1&&" "+Ln(K)+" ",U){for(re=0;re<N.length;re++)ee=N[re],U.indexOf(" "+ee+" ")<0&&(U+=ee+" ");fe=Ln(U),K!==fe&&this.setAttribute("class",fe)}}):this)},removeClass:function(A){var N,U,K,ee,re,fe;return w(A)?this.each(function(Oe){f(this).removeClass(A.call(this,Oe,Sa(this)))}):arguments.length?(N=mu(A),N.length?this.each(function(){if(K=Sa(this),U=this.nodeType===1&&" "+Ln(K)+" ",U){for(re=0;re<N.length;re++)for(ee=N[re];U.indexOf(" "+ee+" ")>-1;)U=U.replace(" "+ee+" "," ");fe=Ln(U),K!==fe&&this.setAttribute("class",fe)}}):this):this.attr("class","")},toggleClass:function(A,N){var U,K,ee,re,fe=typeof A,Oe=fe==="string"||Array.isArray(A);return w(A)?this.each(function(Ae){f(this).toggleClass(A.call(this,Ae,Sa(this),N),N)}):typeof N=="boolean"&&Oe?N?this.addClass(A):this.removeClass(A):(U=mu(A),this.each(function(){if(Oe)for(re=f(this),ee=0;ee<U.length;ee++)K=U[ee],re.hasClass(K)?re.removeClass(K):re.addClass(K);else(A===void 0||fe==="boolean")&&(K=Sa(this),K&&Pe.set(this,"__className__",K),this.setAttribute&&this.setAttribute("class",K||A===!1?"":Pe.get(this,"__className__")||""))}))},hasClass:function(A){var N,U,K=0;for(N=" "+A+" ";U=this[K++];)if(U.nodeType===1&&(" "+Ln(Sa(U))+" ").indexOf(N)>-1)return!0;return!1}});var ta=/\r/g;f.fn.extend({val:function(A){var N,U,K,ee=this[0];return arguments.length?(K=w(A),this.each(function(re){var fe;this.nodeType===1&&(K?fe=A.call(this,re,f(this).val()):fe=A,fe==null?fe="":typeof fe=="number"?fe+="":Array.isArray(fe)&&(fe=f.map(fe,function(Oe){return Oe==null?"":Oe+""})),N=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!N||!("set"in N)||N.set(this,fe,"value")===void 0)&&(this.value=fe))})):ee?(N=f.valHooks[ee.type]||f.valHooks[ee.nodeName.toLowerCase()],N&&"get"in N&&(U=N.get(ee,"value"))!==void 0?U:(U=ee.value,typeof U=="string"?U.replace(ta,""):U??"")):void 0}}),f.extend({valHooks:{option:{get:function(A){var N=f.find.attr(A,"value");return N??Ln(f.text(A))}},select:{get:function(A){var N,U,K,ee=A.options,re=A.selectedIndex,fe=A.type==="select-one",Oe=fe?null:[],Ae=fe?re+1:ee.length;for(re<0?K=Ae:K=fe?re:0;K<Ae;K++)if(U=ee[K],(U.selected||K===re)&&!U.disabled&&(!U.parentNode.disabled||!M(U.parentNode,"optgroup"))){if(N=f(U).val(),fe)return N;Oe.push(N)}return Oe},set:function(A,N){for(var U,K,ee=A.options,re=f.makeArray(N),fe=ee.length;fe--;)K=ee[fe],(K.selected=f.inArray(f.valHooks.option.get(K),re)>-1)&&(U=!0);return U||(A.selectedIndex=-1),re}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(A,N){if(Array.isArray(N))return A.checked=f.inArray(f(A).val(),N)>-1}},S.checkOn||(f.valHooks[this].get=function(A){return A.getAttribute("value")===null?"on":A.value})});var hn=e.location,_n={guid:Date.now()},cr=/\?/;f.parseXML=function(A){var N,U;if(!A||typeof A!="string")return null;try{N=new e.DOMParser().parseFromString(A,"text/xml")}catch{}return U=N&&N.getElementsByTagName("parsererror")[0],(!N||U)&&f.error("Invalid XML: "+(U?f.map(U.childNodes,function(K){return K.textContent}).join(`
`):A)),N};var Ca=/^(?:focusinfocus|focusoutblur)$/,oo=function(A){A.stopPropagation()};f.extend(f.event,{trigger:function(A,N,U,K){var ee,re,fe,Oe,Ae,Ze,ct,vt,rt=[U||v],wt=h.call(A,"type")?A.type:A,Kt=h.call(A,"namespace")?A.namespace.split("."):[];if(re=vt=fe=U=U||v,!(U.nodeType===3||U.nodeType===8)&&!Ca.test(wt+f.event.triggered)&&(wt.indexOf(".")>-1&&(Kt=wt.split("."),wt=Kt.shift(),Kt.sort()),Ae=wt.indexOf(":")<0&&"on"+wt,A=A[f.expando]?A:new f.Event(wt,typeof A=="object"&&A),A.isTrigger=K?2:3,A.namespace=Kt.join("."),A.rnamespace=A.namespace?new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,A.result=void 0,A.target||(A.target=U),N=N==null?[A]:f.makeArray(N,[A]),ct=f.event.special[wt]||{},!(!K&&ct.trigger&&ct.trigger.apply(U,N)===!1))){if(!K&&!ct.noBubble&&!c(U)){for(Oe=ct.delegateType||wt,Ca.test(Oe+wt)||(re=re.parentNode);re;re=re.parentNode)rt.push(re),fe=re;fe===(U.ownerDocument||v)&&rt.push(fe.defaultView||fe.parentWindow||e)}for(ee=0;(re=rt[ee++])&&!A.isPropagationStopped();)vt=re,A.type=ee>1?Oe:ct.bindType||wt,Ze=(Pe.get(re,"events")||Object.create(null))[A.type]&&Pe.get(re,"handle"),Ze&&Ze.apply(re,N),Ze=Ae&&re[Ae],Ze&&Ze.apply&&je(re)&&(A.result=Ze.apply(re,N),A.result===!1&&A.preventDefault());return A.type=wt,!K&&!A.isDefaultPrevented()&&(!ct._default||ct._default.apply(rt.pop(),N)===!1)&&je(U)&&Ae&&w(U[wt])&&!c(U)&&(fe=U[Ae],fe&&(U[Ae]=null),f.event.triggered=wt,A.isPropagationStopped()&&vt.addEventListener(wt,oo),U[wt](),A.isPropagationStopped()&&vt.removeEventListener(wt,oo),f.event.triggered=void 0,fe&&(U[Ae]=fe)),A.result}},simulate:function(A,N,U){var K=f.extend(new f.Event,U,{type:A,isSimulated:!0});f.event.trigger(K,null,N)}}),f.fn.extend({trigger:function(A,N){return this.each(function(){f.event.trigger(A,N,this)})},triggerHandler:function(A,N){var U=this[0];if(U)return f.event.trigger(A,N,U,!0)}});var gu=/\[\]$/,Ea=/\r?\n/g,vu=/^(?:submit|button|image|reset|file)$/i,tl=/^(?:input|select|textarea|keygen)/i;function ra(A,N,U,K){var ee;if(Array.isArray(N))f.each(N,function(re,fe){U||gu.test(A)?K(A,fe):ra(A+"["+(typeof fe=="object"&&fe!=null?re:"")+"]",fe,U,K)});else if(!U&&C(N)==="object")for(ee in N)ra(A+"["+ee+"]",N[ee],U,K);else K(A,N)}f.param=function(A,N){var U,K=[],ee=function(re,fe){var Oe=w(fe)?fe():fe;K[K.length]=encodeURIComponent(re)+"="+encodeURIComponent(Oe??"")};if(A==null)return"";if(Array.isArray(A)||A.jquery&&!f.isPlainObject(A))f.each(A,function(){ee(this.name,this.value)});else for(U in A)ra(U,A[U],N,ee);return K.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var A=f.prop(this,"elements");return A?f.makeArray(A):this}).filter(function(){var A=this.type;return this.name&&!f(this).is(":disabled")&&tl.test(this.nodeName)&&!vu.test(A)&&(this.checked||!ut.test(A))}).map(function(A,N){var U=f(this).val();return U==null?null:Array.isArray(U)?f.map(U,function(K){return{name:N.name,value:K.replace(Ea,`\r
`)}}):{name:N.name,value:U.replace(Ea,`\r
`)}}).get()}});var $f=/%20/g,Qf=/#.*$/,Ci=/([?&])_=[^&]*/,Es=/^(.*?):[ \t]*([^\r\n]*)$/mg,qf=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Jf=/^(?:GET|HEAD)$/,Ds=/^\/\//,rl={},lo={},uo="*/".concat("*"),qa=v.createElement("a");qa.href=hn.href;function _u(A){return function(N,U){typeof N!="string"&&(U=N,N="*");var K,ee=0,re=N.toLowerCase().match(_e)||[];if(w(U))for(;K=re[ee++];)K[0]==="+"?(K=K.slice(1)||"*",(A[K]=A[K]||[]).unshift(U)):(A[K]=A[K]||[]).push(U)}}function nl(A,N,U,K){var ee={},re=A===lo;function fe(Oe){var Ae;return ee[Oe]=!0,f.each(A[Oe]||[],function(Ze,ct){var vt=ct(N,U,K);if(typeof vt=="string"&&!re&&!ee[vt])return N.dataTypes.unshift(vt),fe(vt),!1;if(re)return!(Ae=vt)}),Ae}return fe(N.dataTypes[0])||!ee["*"]&&fe("*")}function fo(A,N){var U,K,ee=f.ajaxSettings.flatOptions||{};for(U in N)N[U]!==void 0&&((ee[U]?A:K||(K={}))[U]=N[U]);return K&&f.extend(!0,A,K),A}function ed(A,N,U){for(var K,ee,re,fe,Oe=A.contents,Ae=A.dataTypes;Ae[0]==="*";)Ae.shift(),K===void 0&&(K=A.mimeType||N.getResponseHeader("Content-Type"));if(K){for(ee in Oe)if(Oe[ee]&&Oe[ee].test(K)){Ae.unshift(ee);break}}if(Ae[0]in U)re=Ae[0];else{for(ee in U){if(!Ae[0]||A.converters[ee+" "+Ae[0]]){re=ee;break}fe||(fe=ee)}re=re||fe}if(re)return re!==Ae[0]&&Ae.unshift(re),U[re]}function td(A,N,U,K){var ee,re,fe,Oe,Ae,Ze={},ct=A.dataTypes.slice();if(ct[1])for(fe in A.converters)Ze[fe.toLowerCase()]=A.converters[fe];for(re=ct.shift();re;)if(A.responseFields[re]&&(U[A.responseFields[re]]=N),!Ae&&K&&A.dataFilter&&(N=A.dataFilter(N,A.dataType)),Ae=re,re=ct.shift(),re){if(re==="*")re=Ae;else if(Ae!=="*"&&Ae!==re){if(fe=Ze[Ae+" "+re]||Ze["* "+re],!fe){for(ee in Ze)if(Oe=ee.split(" "),Oe[1]===re&&(fe=Ze[Ae+" "+Oe[0]]||Ze["* "+Oe[0]],fe)){fe===!0?fe=Ze[ee]:Ze[ee]!==!0&&(re=Oe[0],ct.unshift(Oe[1]));break}}if(fe!==!0)if(fe&&A.throws)N=fe(N);else try{N=fe(N)}catch(vt){return{state:"parsererror",error:fe?vt:"No conversion from "+Ae+" to "+re}}}}return{state:"success",data:N}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:hn.href,type:"GET",isLocal:qf.test(hn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":uo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(A,N){return N?fo(fo(A,f.ajaxSettings),N):fo(f.ajaxSettings,A)},ajaxPrefilter:_u(rl),ajaxTransport:_u(lo),ajax:function(A,N){typeof A=="object"&&(N=A,A=void 0),N=N||{};var U,K,ee,re,fe,Oe,Ae,Ze,ct,vt,rt=f.ajaxSetup({},N),wt=rt.context||rt,Kt=rt.context&&(wt.nodeType||wt.jquery)?f(wt):f.event,lr=f.Deferred(),tr=f.Callbacks("once memory"),pn=rt.statusCode||{},Jr={},Ei={},Un="canceled",sr={readyState:0,getResponseHeader:function(hr){var Wr;if(Ae){if(!re)for(re={};Wr=Es.exec(ee);)re[Wr[1].toLowerCase()+" "]=(re[Wr[1].toLowerCase()+" "]||[]).concat(Wr[2]);Wr=re[hr.toLowerCase()+" "]}return Wr==null?null:Wr.join(", ")},getAllResponseHeaders:function(){return Ae?ee:null},setRequestHeader:function(hr,Wr){return Ae==null&&(hr=Ei[hr.toLowerCase()]=Ei[hr.toLowerCase()]||hr,Jr[hr]=Wr),this},overrideMimeType:function(hr){return Ae==null&&(rt.mimeType=hr),this},statusCode:function(hr){var Wr;if(hr)if(Ae)sr.always(hr[sr.status]);else for(Wr in hr)pn[Wr]=[pn[Wr],hr[Wr]];return this},abort:function(hr){var Wr=hr||Un;return U&&U.abort(Wr),Da(0,Wr),this}};if(lr.promise(sr),rt.url=((A||rt.url||hn.href)+"").replace(Ds,hn.protocol+"//"),rt.type=N.method||N.type||rt.method||rt.type,rt.dataTypes=(rt.dataType||"*").toLowerCase().match(_e)||[""],rt.crossDomain==null){Oe=v.createElement("a");try{Oe.href=rt.url,Oe.href=Oe.href,rt.crossDomain=qa.protocol+"//"+qa.host!=Oe.protocol+"//"+Oe.host}catch{rt.crossDomain=!0}}if(rt.data&&rt.processData&&typeof rt.data!="string"&&(rt.data=f.param(rt.data,rt.traditional)),nl(rl,rt,N,sr),Ae)return sr;Ze=f.event&&rt.global,Ze&&f.active++===0&&f.event.trigger("ajaxStart"),rt.type=rt.type.toUpperCase(),rt.hasContent=!Jf.test(rt.type),K=rt.url.replace(Qf,""),rt.hasContent?rt.data&&rt.processData&&(rt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(rt.data=rt.data.replace($f,"+")):(vt=rt.url.slice(K.length),rt.data&&(rt.processData||typeof rt.data=="string")&&(K+=(cr.test(K)?"&":"?")+rt.data,delete rt.data),rt.cache===!1&&(K=K.replace(Ci,"$1"),vt=(cr.test(K)?"&":"?")+"_="+_n.guid+++vt),rt.url=K+vt),rt.ifModified&&(f.lastModified[K]&&sr.setRequestHeader("If-Modified-Since",f.lastModified[K]),f.etag[K]&&sr.setRequestHeader("If-None-Match",f.etag[K])),(rt.data&&rt.hasContent&&rt.contentType!==!1||N.contentType)&&sr.setRequestHeader("Content-Type",rt.contentType),sr.setRequestHeader("Accept",rt.dataTypes[0]&&rt.accepts[rt.dataTypes[0]]?rt.accepts[rt.dataTypes[0]]+(rt.dataTypes[0]!=="*"?", "+uo+"; q=0.01":""):rt.accepts["*"]);for(ct in rt.headers)sr.setRequestHeader(ct,rt.headers[ct]);if(rt.beforeSend&&(rt.beforeSend.call(wt,sr,rt)===!1||Ae))return sr.abort();if(Un="abort",tr.add(rt.complete),sr.done(rt.success),sr.fail(rt.error),U=nl(lo,rt,N,sr),!U)Da(-1,"No Transport");else{if(sr.readyState=1,Ze&&Kt.trigger("ajaxSend",[sr,rt]),Ae)return sr;rt.async&&rt.timeout>0&&(fe=e.setTimeout(function(){sr.abort("timeout")},rt.timeout));try{Ae=!1,U.send(Jr,Da)}catch(hr){if(Ae)throw hr;Da(-1,hr)}}function Da(hr,Wr,Ri,Di){var Mi,Ma,Ai,Ti,na,Zn=Wr;Ae||(Ae=!0,fe&&e.clearTimeout(fe),U=void 0,ee=Di||"",sr.readyState=hr>0?4:0,Mi=hr>=200&&hr<300||hr===304,Ri&&(Ti=ed(rt,sr,Ri)),!Mi&&f.inArray("script",rt.dataTypes)>-1&&f.inArray("json",rt.dataTypes)<0&&(rt.converters["text script"]=function(){}),Ti=td(rt,Ti,sr,Mi),Mi?(rt.ifModified&&(na=sr.getResponseHeader("Last-Modified"),na&&(f.lastModified[K]=na),na=sr.getResponseHeader("etag"),na&&(f.etag[K]=na)),hr===204||rt.type==="HEAD"?Zn="nocontent":hr===304?Zn="notmodified":(Zn=Ti.state,Ma=Ti.data,Ai=Ti.error,Mi=!Ai)):(Ai=Zn,(hr||!Zn)&&(Zn="error",hr<0&&(hr=0))),sr.status=hr,sr.statusText=(Wr||Zn)+"",Mi?lr.resolveWith(wt,[Ma,Zn,sr]):lr.rejectWith(wt,[sr,Zn,Ai]),sr.statusCode(pn),pn=void 0,Ze&&Kt.trigger(Mi?"ajaxSuccess":"ajaxError",[sr,rt,Mi?Ma:Ai]),tr.fireWith(wt,[sr,Zn]),Ze&&(Kt.trigger("ajaxComplete",[sr,rt]),--f.active||f.event.trigger("ajaxStop")))}return sr},getJSON:function(A,N,U){return f.get(A,N,U,"json")},getScript:function(A,N){return f.get(A,void 0,N,"script")}}),f.each(["get","post"],function(A,N){f[N]=function(U,K,ee,re){return w(K)&&(re=re||ee,ee=K,K=void 0),f.ajax(f.extend({url:U,type:N,dataType:re,data:K,success:ee},f.isPlainObject(U)&&U))}}),f.ajaxPrefilter(function(A){var N;for(N in A.headers)N.toLowerCase()==="content-type"&&(A.contentType=A.headers[N]||"")}),f._evalUrl=function(A,N,U){return f.ajax({url:A,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(K){f.globalEval(K,N,U)}})},f.fn.extend({wrapAll:function(A){var N;return this[0]&&(w(A)&&(A=A.call(this[0])),N=f(A,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&N.insertBefore(this[0]),N.map(function(){for(var U=this;U.firstElementChild;)U=U.firstElementChild;return U}).append(this)),this},wrapInner:function(A){return w(A)?this.each(function(N){f(this).wrapInner(A.call(this,N))}):this.each(function(){var N=f(this),U=N.contents();U.length?U.wrapAll(A):N.append(A)})},wrap:function(A){var N=w(A);return this.each(function(U){f(this).wrapAll(N?A.call(this,U):A)})},unwrap:function(A){return this.parent(A).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(A){return!f.expr.pseudos.visible(A)},f.expr.pseudos.visible=function(A){return!!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var rd={0:200,1223:204},Ms=f.ajaxSettings.xhr();S.cors=!!Ms&&"withCredentials"in Ms,S.ajax=Ms=!!Ms,f.ajaxTransport(function(A){var N,U;if(S.cors||Ms&&!A.crossDomain)return{send:function(K,ee){var re,fe=A.xhr();if(fe.open(A.type,A.url,A.async,A.username,A.password),A.xhrFields)for(re in A.xhrFields)fe[re]=A.xhrFields[re];A.mimeType&&fe.overrideMimeType&&fe.overrideMimeType(A.mimeType),!A.crossDomain&&!K["X-Requested-With"]&&(K["X-Requested-With"]="XMLHttpRequest");for(re in K)fe.setRequestHeader(re,K[re]);N=function(Oe){return function(){N&&(N=U=fe.onload=fe.onerror=fe.onabort=fe.ontimeout=fe.onreadystatechange=null,Oe==="abort"?fe.abort():Oe==="error"?typeof fe.status!="number"?ee(0,"error"):ee(fe.status,fe.statusText):ee(rd[fe.status]||fe.status,fe.statusText,(fe.responseType||"text")!=="text"||typeof fe.responseText!="string"?{binary:fe.response}:{text:fe.responseText},fe.getAllResponseHeaders()))}},fe.onload=N(),U=fe.onerror=fe.ontimeout=N("error"),fe.onabort!==void 0?fe.onabort=U:fe.onreadystatechange=function(){fe.readyState===4&&e.setTimeout(function(){N&&U()})},N=N("abort");try{fe.send(A.hasContent&&A.data||null)}catch(Oe){if(N)throw Oe}},abort:function(){N&&N()}}}),f.ajaxPrefilter(function(A){A.crossDomain&&(A.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(A){return f.globalEval(A),A}}}),f.ajaxPrefilter("script",function(A){A.cache===void 0&&(A.cache=!1),A.crossDomain&&(A.type="GET")}),f.ajaxTransport("script",function(A){if(A.crossDomain||A.scriptAttrs){var N,U;return{send:function(K,ee){N=f("<script>").attr(A.scriptAttrs||{}).prop({charset:A.scriptCharset,src:A.url}).on("load error",U=function(re){N.remove(),U=null,re&&ee(re.type==="error"?404:200,re.type)}),v.head.appendChild(N[0])},abort:function(){U&&U()}}}});var il=[],Nr=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var A=il.pop()||f.expando+"_"+_n.guid++;return this[A]=!0,A}}),f.ajaxPrefilter("json jsonp",function(A,N,U){var K,ee,re,fe=A.jsonp!==!1&&(Nr.test(A.url)?"url":typeof A.data=="string"&&(A.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Nr.test(A.data)&&"data");if(fe||A.dataTypes[0]==="jsonp")return K=A.jsonpCallback=w(A.jsonpCallback)?A.jsonpCallback():A.jsonpCallback,fe?A[fe]=A[fe].replace(Nr,"$1"+K):A.jsonp!==!1&&(A.url+=(cr.test(A.url)?"&":"?")+A.jsonp+"="+K),A.converters["script json"]=function(){return re||f.error(K+" was not called"),re[0]},A.dataTypes[0]="json",ee=e[K],e[K]=function(){re=arguments},U.always(function(){ee===void 0?f(e).removeProp(K):e[K]=ee,A[K]&&(A.jsonpCallback=N.jsonpCallback,il.push(K)),re&&w(ee)&&ee(re[0]),re=ee=void 0}),"script"}),S.createHTMLDocument=function(){var A=v.implementation.createHTMLDocument("").body;return A.innerHTML="<form></form><form></form>",A.childNodes.length===2}(),f.parseHTML=function(A,N,U){if(typeof A!="string")return[];typeof N=="boolean"&&(U=N,N=!1);var K,ee,re;return N||(S.createHTMLDocument?(N=v.implementation.createHTMLDocument(""),K=N.createElement("base"),K.href=v.location.href,N.head.appendChild(K)):N=v),ee=X.exec(A),re=!U&&[],ee?[N.createElement(ee[1])]:(ee=et([A],N,re),re&&re.length&&f(re).remove(),f.merge([],ee.childNodes))},f.fn.load=function(A,N,U){var K,ee,re,fe=this,Oe=A.indexOf(" ");return Oe>-1&&(K=Ln(A.slice(Oe)),A=A.slice(0,Oe)),w(N)?(U=N,N=void 0):N&&typeof N=="object"&&(ee="POST"),fe.length>0&&f.ajax({url:A,type:ee||"GET",dataType:"html",data:N}).done(function(Ae){re=arguments,fe.html(K?f("<div>").append(f.parseHTML(Ae)).find(K):Ae)}).always(U&&function(Ae,Ze){fe.each(function(){U.apply(this,re||[Ae.responseText,Ze,Ae])})}),this},f.expr.pseudos.animated=function(A){return f.grep(f.timers,function(N){return A===N.elem}).length},f.offset={setOffset:function(A,N,U){var K,ee,re,fe,Oe,Ae,Ze,ct=f.css(A,"position"),vt=f(A),rt={};ct==="static"&&(A.style.position="relative"),Oe=vt.offset(),re=f.css(A,"top"),Ae=f.css(A,"left"),Ze=(ct==="absolute"||ct==="fixed")&&(re+Ae).indexOf("auto")>-1,Ze?(K=vt.position(),fe=K.top,ee=K.left):(fe=parseFloat(re)||0,ee=parseFloat(Ae)||0),w(N)&&(N=N.call(A,U,f.extend({},Oe))),N.top!=null&&(rt.top=N.top-Oe.top+fe),N.left!=null&&(rt.left=N.left-Oe.left+ee),"using"in N?N.using.call(A,rt):vt.css(rt)}},f.fn.extend({offset:function(A){if(arguments.length)return A===void 0?this:this.each(function(ee){f.offset.setOffset(this,A,ee)});var N,U,K=this[0];if(K)return K.getClientRects().length?(N=K.getBoundingClientRect(),U=K.ownerDocument.defaultView,{top:N.top+U.pageYOffset,left:N.left+U.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var A,N,U,K=this[0],ee={top:0,left:0};if(f.css(K,"position")==="fixed")N=K.getBoundingClientRect();else{for(N=this.offset(),U=K.ownerDocument,A=K.offsetParent||U.documentElement;A&&(A===U.body||A===U.documentElement)&&f.css(A,"position")==="static";)A=A.parentNode;A&&A!==K&&A.nodeType===1&&(ee=f(A).offset(),ee.top+=f.css(A,"borderTopWidth",!0),ee.left+=f.css(A,"borderLeftWidth",!0))}return{top:N.top-ee.top-f.css(K,"marginTop",!0),left:N.left-ee.left-f.css(K,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var A=this.offsetParent;A&&f.css(A,"position")==="static";)A=A.offsetParent;return A||st})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(A,N){var U=N==="pageYOffset";f.fn[A]=function(K){return be(this,function(ee,re,fe){var Oe;if(c(ee)?Oe=ee:ee.nodeType===9&&(Oe=ee.defaultView),fe===void 0)return Oe?Oe[N]:ee[re];Oe?Oe.scrollTo(U?Oe.pageXOffset:fe,U?fe:Oe.pageYOffset):ee[re]=fe},A,K,arguments.length)}}),f.each(["top","left"],function(A,N){f.cssHooks[N]=ea(S.pixelPosition,function(U,K){if(K)return K=Mr(U,N),Br.test(K)?f(U).position()[N]+"px":K})}),f.each({Height:"height",Width:"width"},function(A,N){f.each({padding:"inner"+A,content:N,"":"outer"+A},function(U,K){f.fn[K]=function(ee,re){var fe=arguments.length&&(U||typeof ee!="boolean"),Oe=U||(ee===!0||re===!0?"margin":"border");return be(this,function(Ae,Ze,ct){var vt;return c(Ae)?K.indexOf("outer")===0?Ae["inner"+A]:Ae.document.documentElement["client"+A]:Ae.nodeType===9?(vt=Ae.documentElement,Math.max(Ae.body["scroll"+A],vt["scroll"+A],Ae.body["offset"+A],vt["offset"+A],vt["client"+A])):ct===void 0?f.css(Ae,Ze,Oe):f.style(Ae,Ze,ct,Oe)},N,fe?ee:void 0,fe)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(A,N){f.fn[N]=function(U){return this.on(N,U)}}),f.fn.extend({bind:function(A,N,U){return this.on(A,null,N,U)},unbind:function(A,N){return this.off(A,null,N)},delegate:function(A,N,U,K){return this.on(N,A,U,K)},undelegate:function(A,N,U){return arguments.length===1?this.off(A,"**"):this.off(N,A||"**",U)},hover:function(A,N){return this.mouseenter(A).mouseleave(N||A)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(A,N){f.fn[N]=function(U,K){return arguments.length>0?this.on(N,null,U,K):this.trigger(N)}});var As=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(A,N){var U,K,ee;if(typeof N=="string"&&(U=A[N],N=A,A=U),!!w(A))return K=a.call(arguments,2),ee=function(){return A.apply(N||this,K.concat(a.call(arguments)))},ee.guid=A.guid=A.guid||f.guid++,ee},f.holdReady=function(A){A?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=M,f.isFunction=w,f.isWindow=c,f.camelCase=Ie,f.type=C,f.now=Date.now,f.isNumeric=function(A){var N=f.type(A);return(N==="number"||N==="string")&&!isNaN(A-parseFloat(A))},f.trim=function(A){return A==null?"":(A+"").replace(As,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return f});var Ts=e.jQuery,nd=e.$;return f.noConflict=function(A){return e.$===f&&(e.$=nd),A&&e.jQuery===f&&(e.jQuery=Ts),f},typeof t>"u"&&(e.jQuery=e.$=f),f})});function pc(e){var t="a aa ai ao as b fn i m o s ",r,n,a={};Ce.each(e,function(s,o){r=s.match(/^([^A-Z]+?)([A-Z])/),r&&t.indexOf(r[1]+" ")!==-1&&(n=s.replace(r[0],r[2].toLowerCase()),a[n]=s,r[1]==="o"&&pc(e[s]))}),e._hungarianMap=a}function Xs(e,t,r){e._hungarianMap||pc(e);var n;Ce.each(t,function(a,s){n=e._hungarianMap[a],n!==void 0&&(r||t[n]===void 0)&&(n.charAt(0)==="o"?(t[n]||(t[n]={}),Ce.extend(!0,t[n],t[a]),Xs(e[n],t[n],r)):t[n]=t[a])})}function eb(e){var t=St.defaults.oLanguage,r=t.sDecimal;if(r&&sb(r),e){var n=e.sZeroRecords;!e.sEmptyTable&&n&&t.sEmptyTable==="No data available in table"&&Wa(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&t.sLoadingRecords==="Loading..."&&Wa(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var a=e.sDecimal;a&&r!==a&&sb(a)}}function OC(e){Ii(e,"ordering","bSort"),Ii(e,"orderMulti","bSortMulti"),Ii(e,"orderClasses","bSortClasses"),Ii(e,"orderCellsTop","bSortCellsTop"),Ii(e,"order","aaSorting"),Ii(e,"orderFixed","aaSortingFixed"),Ii(e,"paging","bPaginate"),Ii(e,"pagingType","sPaginationType"),Ii(e,"pageLength","iDisplayLength"),Ii(e,"searching","bFilter"),typeof e.sScrollX=="boolean"&&(e.sScrollX=e.sScrollX?"100%":""),typeof e.scrollX=="boolean"&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var r=0,n=t.length;r<n;r++)t[r]&&Xs(St.models.oSearch,t[r])}function GC(e){Ii(e,"orderable","bSortable"),Ii(e,"orderData","aDataSort"),Ii(e,"orderSequence","asSorting"),Ii(e,"orderDataType","sortDataType");var t=e.aDataSort;typeof t=="number"&&!Array.isArray(t)&&(e.aDataSort=[t])}function HC(e){if(!St.__browser){var t={};St.__browser=t;var r=Ce("<div/>").css({position:"fixed",top:0,left:Ce(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append(Ce("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(Ce("<div/>").css({width:"100%",height:10}))).appendTo("body"),n=r.children(),a=n.children();t.barWidth=n[0].offsetWidth-n[0].clientWidth,t.bScrollOversize=a[0].offsetWidth===100&&n[0].clientWidth!==100,t.bScrollbarLeft=Math.round(a.offset().left)!==1,t.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}Ce.extend(e.oBrowser,St.__browser),e.oScroll.iBarWidth=St.__browser.barWidth}function kC(e,t,r,n,a,s){var o=n,u,l=!1;for(r!==void 0&&(u=r,l=!0);o!==a;)e.hasOwnProperty(o)&&(u=l?t(u,e[o],o,e):e[o],l=!0,o+=s);return u}function ob(e,t){var r=St.defaults.column,n=e.aoColumns.length,a=Ce.extend({},St.models.oColumn,r,{nTh:t||document.createElement("th"),sTitle:r.sTitle?r.sTitle:t?t.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[n],mData:r.mData?r.mData:n,idx:n});e.aoColumns.push(a);var s=e.aoPreSearchCols;s[n]=Ce.extend({},St.models.oSearch,s[n]),b0(e,n,Ce(t).data())}function b0(e,t,r){var n=e.aoColumns[t],a=e.oClasses,s=Ce(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var o=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);o&&(n.sWidthOrig=o[1])}if(r!=null){GC(r),Xs(St.defaults.column,r,!0),r.mDataProp!==void 0&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&s.addClass(r.sClass);var u=n.sClass;Ce.extend(n,r),Wa(n,r,"sWidth","sWidthOrig"),u!==n.sClass&&(n.sClass=u+" "+n.sClass),r.iDataSort!==void 0&&(n.aDataSort=[r.iDataSort]),Wa(n,r,"aDataSort")}var l=n.mData,g=lf(l),h=n.mRender?lf(n.mRender):null,_=function(w){return typeof w=="string"&&w.indexOf("@")!==-1};n._bAttrSrc=Ce.isPlainObject(l)&&(_(l.sort)||_(l.type)||_(l.filter)),n._setter=null,n.fnGetData=function(w,c,v){var y=g(w,c,void 0,v);return h&&c?h(y,c,w,v):y},n.fnSetData=function(w,c,v){return zo(l)(w,c,v)},typeof l!="number"&&!n._isArrayHost&&(e._rowReadObject=!0),e.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone));var x=Ce.inArray("asc",n.asSorting)!==-1,S=Ce.inArray("desc",n.asSorting)!==-1;!n.bSortable||!x&&!S?(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI=""):x&&!S?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!x&&S?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI)}function mc(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;mb(e);for(var r=0,n=t.length;r<n;r++)t[r].nTh.style.width=t[r].sWidth}var a=e.oScroll;(a.sY!==""||a.sX!=="")&&O0(e),kr(e,null,"column-sizing",[e])}function gc(e,t){var r=E0(e,"bVisible");return typeof r[t]=="number"?r[t]:null}function vc(e,t){var r=E0(e,"bVisible"),n=Ce.inArray(t,r);return n!==-1?n:null}function uf(e){var t=0;return Ce.each(e.aoColumns,function(r,n){n.bVisible&&Ce(n.nTh).css("display")!=="none"&&t++}),t}function E0(e,t){var r=[];return Ce.map(e.aoColumns,function(n,a){n[t]&&r.push(a)}),r}function lb(e){var t=e.aoColumns,r=e.aoData,n=St.ext.type.detect,a,s,o,u,l,g,h,_,x,S;for(a=0,s=t.length;a<s;a++)if(h=t[a],S=[],!h.sType&&h._sManualType)h.sType=h._sManualType;else if(!h.sType){for(o=0,u=n.length;o<u;o++){for(l=0,g=r.length;l<g&&(S[l]===void 0&&(S[l]=zi(e,l,a,"type")),x=n[o](S[l],e),!(!x&&o!==n.length-1||x==="html"&&!fs(S[l])));l++);if(x){h.sType=x;break}}h.sType||(h.sType="string")}}function VC(e,t,r,n){var a,s,o,u,l,g,h,_=e.aoColumns;if(t)for(a=t.length-1;a>=0;a--){h=t[a];var x=h.target!==void 0?h.target:h.targets!==void 0?h.targets:h.aTargets;for(Array.isArray(x)||(x=[x]),o=0,u=x.length;o<u;o++)if(typeof x[o]=="number"&&x[o]>=0){for(;_.length<=x[o];)ob(e);n(x[o],h)}else if(typeof x[o]=="number"&&x[o]<0)n(_.length+x[o],h);else if(typeof x[o]=="string")for(l=0,g=_.length;l<g;l++)(x[o]=="_all"||Ce(_[l].nTh).hasClass(x[o]))&&n(l,h)}if(r)for(a=0,s=r.length;a<s;a++)n(a,r[a])}function Fo(e,t,r,n){var a=e.aoData.length,s=Ce.extend(!0,{},St.models.oRow,{src:r?"dom":"data",idx:a});s._aData=t,e.aoData.push(s);for(var o,u,l=e.aoColumns,g=0,h=l.length;g<h;g++)l[g].sType=null;e.aiDisplayMaster.push(a);var _=e.rowIdFn(t);return _!==void 0&&(e.aIds[_]=s),(r||!e.oFeatures.bDeferRender)&&fb(e,a,r,n),a}function D0(e,t){var r;return t instanceof Ce||(t=Ce(t)),t.map(function(n,a){return r=ub(e,a),Fo(e,r.data,a,r.cells)})}function XN(e,t){return t._DT_RowIndex!==void 0?t._DT_RowIndex:null}function $N(e,t,r){return Ce.inArray(r,e.aoData[t].anCells)}function zi(e,t,r,n){n==="search"?n="filter":n==="order"&&(n="sort");var a=e.iDraw,s=e.aoColumns[r],o=e.aoData[t]._aData,u=s.sDefaultContent,l=s.fnGetData(o,n,{settings:e,row:t,col:r});if(l===void 0)return e.iDrawError!=a&&u===null&&(ca(e,0,"Requested unknown parameter "+(typeof s.mData=="function"?"{function}":"'"+s.mData+"'")+" for row "+t+", column "+r,4),e.iDrawError=a),u;if((l===o||l===null)&&u!==null&&n!==void 0)l=u;else if(typeof l=="function")return l.call(o);if(l===null&&n==="display")return"";if(n==="filter"){var g=St.ext.type.search;g[s.sType]&&(l=g[s.sType](l))}return l}function YC(e,t,r,n){var a=e.aoColumns[r],s=e.aoData[t]._aData;a.fnSetData(s,n,{settings:e,row:t,col:r})}function tb(e){return Ce.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function rb(e){return $i(e.aoData,"_aData")}function M0(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function m0(e,t,r){for(var n=-1,a=0,s=e.length;a<s;a++)e[a]==t?n=a:e[a]>t&&e[a]--;n!=-1&&r===void 0&&e.splice(n,1)}function _c(e,t,r,n){var a=e.aoData[t],s,o,u=function(h,_){for(;h.childNodes.length;)h.removeChild(h.firstChild);h.innerHTML=zi(e,t,_,"display")};if(r==="dom"||(!r||r==="auto")&&a.src==="dom")a._aData=ub(e,a,n,n===void 0?void 0:a._aData).data;else{var l=a.anCells;if(l)if(n!==void 0)u(l[n],n);else for(s=0,o=l.length;s<o;s++)u(l[s],s)}a._aSortData=null,a._aFilterData=null;var g=e.aoColumns;if(n!==void 0)g[n].sType=null;else{for(s=0,o=g.length;s<o;s++)g[s].sType=null;db(e,a)}}function ub(e,t,r,n){var a=[],s=t.firstChild,o,u,l,g=0,h,_=e.aoColumns,x=e._rowReadObject;n=n!==void 0?n:x?{}:[];var S=function(C,E){if(typeof C=="string"){var p=C.indexOf("@");if(p!==-1){var f=C.substring(p+1),D=zo(C);D(n,E.getAttribute(f))}}},w=function(C){if(r===void 0||r===g)if(u=_[g],h=C.innerHTML.trim(),u&&u._bAttrSrc){var E=zo(u.mData._);E(n,h),S(u.mData.sort,C),S(u.mData.type,C),S(u.mData.filter,C)}else x?(u._setter||(u._setter=zo(u.mData)),u._setter(n,h)):n[g]=h;g++};if(s)for(;s;)o=s.nodeName.toUpperCase(),(o=="TD"||o=="TH")&&(w(s),a.push(s)),s=s.nextSibling;else{a=t.anCells;for(var c=0,v=a.length;c<v;c++)w(a[c])}var y=t.firstChild?t:t.nTr;if(y){var b=y.getAttribute("id");b&&zo(e.rowId)(n,b)}return{data:n,cells:a}}function fb(e,t,r,n){var a=e.aoData[t],s=a._aData,o=[],u,l,g,h,_,x;if(a.nTr===null){for(u=r||document.createElement("tr"),a.nTr=u,a.anCells=o,u._DT_RowIndex=t,db(e,a),h=0,_=e.aoColumns.length;h<_;h++)g=e.aoColumns[h],x=!r,l=x?document.createElement(g.sCellType):n[h],l||ca(e,0,"Incorrect column count",18),l._DT_CellIndex={row:t,column:h},o.push(l),(x||(g.mRender||g.mData!==h)&&(!Ce.isPlainObject(g.mData)||g.mData._!==h+".display"))&&(l.innerHTML=zi(e,t,h,"display")),g.sClass&&(l.className+=" "+g.sClass),g.bVisible&&!r?u.appendChild(l):!g.bVisible&&r&&l.parentNode.removeChild(l),g.fnCreatedCell&&g.fnCreatedCell.call(e.oInstance,l,zi(e,t,h),s,t,h);kr(e,"aoRowCreatedCallback",null,[u,s,t,o])}}function db(e,t){var r=t.nTr,n=t._aData;if(r){var a=e.rowIdFn(n);if(a&&(r.id=a),n.DT_RowClass){var s=n.DT_RowClass.split(" ");t.__rowc=t.__rowc?C0(t.__rowc.concat(s)):s,Ce(r).removeClass(t.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&Ce(r).attr(n.DT_RowAttr),n.DT_RowData&&Ce(r).data(n.DT_RowData)}}function KC(e){var t,r,n,a,s,o=e.nTHead,u=e.nTFoot,l=Ce("th, td",o).length===0,g=e.oClasses,h=e.aoColumns;for(l&&(a=Ce("<tr/>").appendTo(o)),t=0,r=h.length;t<r;t++)s=h[t],n=Ce(s.nTh).addClass(s.sClass),l&&n.appendTo(a),e.oFeatures.bSort&&(n.addClass(s.sSortingClass),s.bSortable!==!1&&(n.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),vb(e,s.nTh,t))),s.sTitle!=n[0].innerHTML&&n.html(s.sTitle),yb(e,"header")(e,n,s,g);if(l&&cc(e.aoHeader,o),Ce(o).children("tr").children("th, td").addClass(g.sHeaderTH),Ce(u).children("tr").children("th, td").addClass(g.sFooterTH),u!==null){var _=e.aoFooter[0];for(t=0,r=_.length;t<r;t++)s=h[t],s?(s.nTf=_[t].cell,s.sClass&&Ce(s.nTf).addClass(s.sClass)):ca(e,0,"Incorrect column count",18)}}function dc(e,t,r){var n,a,s,o,u,l,g,h,_=[],x=[],S=e.aoColumns.length,w,c;if(t){for(r===void 0&&(r=!1),n=0,a=t.length;n<a;n++){for(_[n]=t[n].slice(),_[n].nTr=t[n].nTr,s=S-1;s>=0;s--)!e.aoColumns[s].bVisible&&!r&&_[n].splice(s,1);x.push([])}for(n=0,a=_.length;n<a;n++){if(h=_[n].nTr,h)for(;g=h.firstChild;)h.removeChild(g);for(s=0,o=_[n].length;s<o;s++)if(w=1,c=1,x[n][s]===void 0){for(h.appendChild(_[n][s].cell),x[n][s]=1;_[n+w]!==void 0&&_[n][s].cell==_[n+w][s].cell;)x[n+w][s]=1,w++;for(;_[n][s+c]!==void 0&&_[n][s].cell==_[n][s+c].cell;){for(u=0;u<w;u++)x[n+u][s+c]=1;c++}Ce(_[n][s].cell).attr("rowspan",w).attr("colspan",c)}}}}function Bo(e,t){QN(e);var r=kr(e,"aoPreDrawCallback","preDraw",[e]);if(Ce.inArray(!1,r)!==-1){Xi(e,!1);return}var n=[],a=0,s=e.asStripeClasses,o=s.length,u=e.oLanguage,l=ti(e)=="ssp",g=e.aiDisplay,h=e._iDisplayStart,_=e.fnDisplayEnd();if(e.bDrawing=!0,e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,Xi(e,!1);else if(!l)e.iDraw++;else if(!e.bDestroying&&!t){XC(e);return}if(g.length!==0)for(var x=l?0:h,S=l?e.aoData.length:_,w=x;w<S;w++){var c=g[w],v=e.aoData[c];v.nTr===null&&fb(e,c);var y=v.nTr;if(o!==0){var b=s[a%o];v._sRowStripe!=b&&(Ce(y).removeClass(v._sRowStripe).addClass(b),v._sRowStripe=b)}kr(e,"aoRowCallback",null,[y,v._aData,a,w,c]),n.push(y),a++}else{var C=u.sZeroRecords;e.iDraw==1&&ti(e)=="ajax"?C=u.sLoadingRecords:u.sEmptyTable&&e.fnRecordsTotal()===0&&(C=u.sEmptyTable),n[0]=Ce("<tr/>",{class:o?s[0]:""}).append(Ce("<td />",{valign:"top",colSpan:uf(e),class:e.oClasses.sRowEmpty}).html(C))[0]}kr(e,"aoHeaderCallback","header",[Ce(e.nTHead).children("tr")[0],rb(e),h,_,g]),kr(e,"aoFooterCallback","footer",[Ce(e.nTFoot).children("tr")[0],rb(e),h,_,g]);var E=Ce(e.nTBody);E.children().detach(),E.append(Ce(n)),kr(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function Ol(e,t){var r=e.oFeatures,n=r.bSort,a=r.bFilter;n&&hE(e),a?yc(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,Bo(e),e._drawHold=!1}function ZC(e){var t=e.oClasses,r=Ce(e.nTable),n=Ce("<div/>").insertBefore(r),a=e.oFeatures,s=Ce("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=s[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o=e.sDom.split(""),u,l,g,h,_,x,S=0;S<o.length;S++){if(u=null,l=o[S],l=="<"){if(g=Ce("<div/>")[0],h=o[S+1],h=="'"||h=='"'){for(_="",x=2;o[S+x]!=h;)_+=o[S+x],x++;if(_=="H"?_=t.sJUIHeader:_=="F"&&(_=t.sJUIFooter),_.indexOf(".")!=-1){var w=_.split(".");g.id=w[0].substr(1,w[0].length-1),g.className=w[1]}else _.charAt(0)=="#"?g.id=_.substr(1,_.length-1):g.className=_;S+=x}s.append(g),s=Ce(g)}else if(l==">")s=s.parent();else if(l=="l"&&a.bPaginate&&a.bLengthChange)u=sE(e);else if(l=="f"&&a.bFilter)u=qC(e);else if(l=="r"&&a.bProcessing)u=lE(e);else if(l=="t")u=uE(e);else if(l=="i"&&a.bInfo)u=nE(e);else if(l=="p"&&a.bPaginate)u=oE(e);else if(St.ext.feature.length!==0){for(var c=St.ext.feature,v=0,y=c.length;v<y;v++)if(l==c[v].cFeature){u=c[v].fnInit(e);break}}if(u){var b=e.aanFeatures;b[l]||(b[l]=[]),b[l].push(u),s.append(u)}}n.replaceWith(s),e.nHolding=null}function cc(e,t){var r=Ce(t).children("tr"),n,a,s,o,u,l,g,h,_,x,S,w,c=function(v,y,b){for(var C=v[y];C[b];)b++;return b};for(e.splice(0,e.length),s=0,l=r.length;s<l;s++)e.push([]);for(s=0,l=r.length;s<l;s++)for(n=r[s],_=0,a=n.firstChild;a;){if(a.nodeName.toUpperCase()=="TD"||a.nodeName.toUpperCase()=="TH")for(x=a.getAttribute("colspan")*1,S=a.getAttribute("rowspan")*1,x=!x||x===0||x===1?1:x,S=!S||S===0||S===1?1:S,h=c(e,s,_),w=x===1,u=0;u<x;u++)for(o=0;o<S;o++)e[s+o][h+u]={cell:a,unique:w},e[s+o].nTr=n;a=a.nextSibling}}function A0(e,t,r){var n=[];r||(r=e.aoHeader,t&&(r=[],cc(r,t)));for(var a=0,s=r.length;a<s;a++)for(var o=0,u=r[a].length;o<u;o++)r[a][o].unique&&(!n[o]||!e.bSortCellsTop)&&(n[o]=r[a][o].cell);return n}function QN(e){var t=ti(e)=="ssp",r=e.iInitDisplayStart;r!==void 0&&r!==-1&&(e._iDisplayStart=t?r:r>=e.fnRecordsDisplay()?0:r,e.iInitDisplayStart=-1)}function T0(e,t,r){if(kr(e,"aoServerParams","serverParams",[t]),t&&Array.isArray(t)){var n={},a=/(.*?)\[\]$/;Ce.each(t,function(_,x){var S=x.name.match(a);if(S){var w=S[0];n[w]||(n[w]=[]),n[w].push(x.value)}else n[x.name]=x.value}),t=n}var s,o=e.ajax,u=e.oInstance,l=function(_){var x=e.jqXHR?e.jqXHR.status:null;(_===null||typeof x=="number"&&x==204)&&(_={},bc(e,_,[]));var S=_.error||_.sError;S&&ca(e,0,S),e.json=_,kr(e,null,"xhr",[e,_,e.jqXHR]),r(_)};if(Ce.isPlainObject(o)&&o.data){s=o.data;var g=typeof s=="function"?s(t,e):s;t=typeof s=="function"&&g?g:Ce.extend(!0,t,g),delete o.data}var h={data:t,success:l,dataType:"json",cache:!1,type:e.sServerMethod,error:function(_,x,S){var w=kr(e,null,"xhr",[e,null,e.jqXHR]);Ce.inArray(!0,w)===-1&&(x=="parsererror"?ca(e,0,"Invalid JSON response",1):_.readyState===4&&ca(e,0,"Ajax error",7)),Xi(e,!1)}};e.oAjaxData=t,kr(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(u,e.sAjaxSource,Ce.map(t,function(_,x){return{name:x,value:_}}),l,e):e.sAjaxSource||typeof o=="string"?e.jqXHR=Ce.ajax(Ce.extend(h,{url:o||e.sAjaxSource})):typeof o=="function"?e.jqXHR=o.call(u,t,l,e):(e.jqXHR=Ce.ajax(Ce.extend(h,o)),o.data=s)}function XC(e){e.iDraw++,Xi(e,!0);var t=e._drawHold;T0(e,$C(e),function(r){e._drawHold=t,QC(e,r),e._drawHold=!1})}function $C(e){var t=e.aoColumns,r=t.length,n=e.oFeatures,a=e.oPreviousSearch,s=e.aoPreSearchCols,o,u=[],l,g,h,_=ff(e),x=e._iDisplayStart,S=n.bPaginate!==!1?e._iDisplayLength:-1,w=function(y,b){u.push({name:y,value:b})};w("sEcho",e.iDraw),w("iColumns",r),w("sColumns",$i(t,"sName").join(",")),w("iDisplayStart",x),w("iDisplayLength",S);var c={draw:e.iDraw,columns:[],order:[],start:x,length:S,search:{value:a.sSearch,regex:a.bRegex}};for(o=0;o<r;o++)g=t[o],h=s[o],l=typeof g.mData=="function"?"function":g.mData,c.columns.push({data:l,name:g.sName,searchable:g.bSearchable,orderable:g.bSortable,search:{value:h.sSearch,regex:h.bRegex}}),w("mDataProp_"+o,l),n.bFilter&&(w("sSearch_"+o,h.sSearch),w("bRegex_"+o,h.bRegex),w("bSearchable_"+o,g.bSearchable)),n.bSort&&w("bSortable_"+o,g.bSortable);n.bFilter&&(w("sSearch",a.sSearch),w("bRegex",a.bRegex)),n.bSort&&(Ce.each(_,function(y,b){c.order.push({column:b.col,dir:b.dir}),w("iSortCol_"+y,b.col),w("sSortDir_"+y,b.dir)}),w("iSortingCols",_.length));var v=St.ext.legacy.ajax;return v===null?e.sAjaxSource?u:c:v?u:c}function QC(e,t){var r=function(g,h){return t[g]!==void 0?t[g]:t[h]},n=bc(e,t),a=r("sEcho","draw"),s=r("iTotalRecords","recordsTotal"),o=r("iTotalDisplayRecords","recordsFiltered");if(a!==void 0){if(a*1<e.iDraw)return;e.iDraw=a*1}n||(n=[]),M0(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(o,10);for(var u=0,l=n.length;u<l;u++)Fo(e,n[u]);e.aiDisplay=e.aiDisplayMaster.slice(),Bo(e,!0),e._bInitComplete||y0(e,t),Xi(e,!1)}function bc(e,t,r){var n=Ce.isPlainObject(e.ajax)&&e.ajax.dataSrc!==void 0?e.ajax.dataSrc:e.sAjaxDataProp;if(!r)return n==="data"?t.aaData||t[n]:n!==""?lf(n)(t):t;zo(n)(t,r)}function qC(e){var t=e.oClasses,r=e.sTableId,n=e.oLanguage,a=e.oPreviousSearch,s=e.aanFeatures,o='<input type="search" class="'+t.sFilterInput+'"/>',u=n.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",o):u+o;var l=Ce("<div/>",{id:s.f?null:r+"_filter",class:t.sFilter}).append(Ce("<label/>").append(u)),g=function(x){var S=s.f,w=this.value?this.value:"";a.return&&x.key!=="Enter"||w!=a.sSearch&&(yc(e,{sSearch:w,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive,return:a.return}),e._iDisplayStart=0,Bo(e))},h=e.searchDelay!==null?e.searchDelay:ti(e)==="ssp"?400:0,_=Ce("input",l).val(a.sSearch).attr("placeholder",n.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",h?gb(g,h):g).on("mouseup.DT",function(x){setTimeout(function(){g.call(_[0],x)},10)}).on("keypress.DT",function(x){if(x.keyCode==13)return!1}).attr("aria-controls",r);return Ce(e.nTable).on("search.dt.DT",function(x,S){if(e===S)try{_[0]!==document.activeElement&&_.val(a.sSearch)}catch{}}),l[0]}function yc(e,t,r){var n=e.oPreviousSearch,a=e.aoPreSearchCols,s=function(l){n.sSearch=l.sSearch,n.bRegex=l.bRegex,n.bSmart=l.bSmart,n.bCaseInsensitive=l.bCaseInsensitive,n.return=l.return},o=function(l){return l.bEscapeRegex!==void 0?!l.bEscapeRegex:l.bRegex};if(lb(e),ti(e)!="ssp"){tE(e,t.sSearch,r,o(t),t.bSmart,t.bCaseInsensitive),s(t);for(var u=0;u<a.length;u++)eE(e,a[u].sSearch,u,o(a[u]),a[u].bSmart,a[u].bCaseInsensitive);JC(e)}else s(t);e.bFiltered=!0,kr(e,null,"search",[e])}function JC(e){for(var t=St.ext.search,r=e.aiDisplay,n,a,s=0,o=t.length;s<o;s++){for(var u=[],l=0,g=r.length;l<g;l++)a=r[l],n=e.aoData[a],t[s](e,n._aFilterData,a,n._aData,l)&&u.push(a);r.length=0,Ce.merge(r,u)}}function eE(e,t,r,n,a,s){if(t!==""){for(var o,u=[],l=e.aiDisplay,g=cb(t,n,a,s),h=0;h<l.length;h++)o=e.aoData[l[h]]._aFilterData[r],g.test(o)&&u.push(l[h]);e.aiDisplay=u}}function tE(e,t,r,n,a,s){var o=cb(t,n,a,s),u=e.oPreviousSearch.sSearch,l=e.aiDisplayMaster,g,h,_,x=[];if(St.ext.search.length!==0&&(r=!0),h=rE(e),t.length<=0)e.aiDisplay=l.slice();else{for((h||r||n||u.length>t.length||t.indexOf(u)!==0||e.bSorted)&&(e.aiDisplay=l.slice()),g=e.aiDisplay,_=0;_<g.length;_++)o.test(e.aoData[g[_]]._sFilterRow)&&x.push(g[_]);e.aiDisplay=x}}function cb(e,t,r,n){if(e=t?e:hb(e),r){var a=Ce.map(e.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(s){if(s.charAt(0)==='"'){var o=s.match(/^"(.*)"$/);s=o?o[1]:s}else if(s.charAt(0)==="\u201C"){var o=s.match(/^\u201C(.*)\u201D$/);s=o?o[1]:s}return s.replace('"',"")});e="^(?=.*?"+a.join(")(?=.*?")+").*$"}return new RegExp(e,n?"i":"")}function rE(e){var t=e.aoColumns,r,n,a,s,o,u,l,g,h=!1;for(n=0,s=e.aoData.length;n<s;n++)if(g=e.aoData[n],!g._aFilterData){for(u=[],a=0,o=t.length;a<o;a++)r=t[a],r.bSearchable?(l=zi(e,n,a,"filter"),l===null&&(l=""),typeof l!="string"&&l.toString&&(l=l.toString())):l="",l.indexOf&&l.indexOf("&")!==-1&&(g0.innerHTML=l,l=qN?g0.textContent:g0.innerText),l.replace&&(l=l.replace(/[\r\n\u2028]/g,"")),u.push(l);g._aFilterData=u,g._sFilterRow=u.join("  "),h=!0}return h}function PC(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function NC(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function nE(e){var t=e.sTableId,r=e.aanFeatures.i,n=Ce("<div/>",{class:e.oClasses.sInfo,id:r?null:t+"_info"});return r||(e.aoDrawCallback.push({fn:iE,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),Ce(e.nTable).attr("aria-describedby",t+"_info")),n[0]}function iE(e){var t=e.aanFeatures.i;if(t.length!==0){var r=e.oLanguage,n=e._iDisplayStart+1,a=e.fnDisplayEnd(),s=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),u=o?r.sInfo:r.sInfoEmpty;o!==s&&(u+=" "+r.sInfoFiltered),u+=r.sInfoPostFix,u=aE(e,u);var l=r.fnInfoCallback;l!==null&&(u=l.call(e.oInstance,e,n,a,s,o,u)),Ce(t).html(u)}}function aE(e,t){var r=e.fnFormatNumber,n=e._iDisplayStart+1,a=e._iDisplayLength,s=e.fnRecordsDisplay(),o=a===-1;return t.replace(/_START_/g,r.call(e,n)).replace(/_END_/g,r.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,r.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,r.call(e,s)).replace(/_PAGE_/g,r.call(e,o?1:Math.ceil(n/a))).replace(/_PAGES_/g,r.call(e,o?1:Math.ceil(s/a)))}function fc(e){var t,r,n=e.iInitDisplayStart,a=e.aoColumns,s,o=e.oFeatures,u=e.bDeferLoading;if(!e.bInitialised){setTimeout(function(){fc(e)},200);return}for(ZC(e),KC(e),dc(e,e.aoHeader),dc(e,e.aoFooter),Xi(e,!0),o.bAutoWidth&&mb(e),t=0,r=a.length;t<r;t++)s=a[t],s.sWidth&&(s.nTh.style.width=dn(s.sWidth));kr(e,null,"preInit",[e]),Ol(e);var l=ti(e);(l!="ssp"||u)&&(l=="ajax"?T0(e,[],function(g){var h=bc(e,g);for(t=0;t<h.length;t++)Fo(e,h[t]);e.iInitDisplayStart=n,Ol(e),Xi(e,!1),y0(e,g)},e):(Xi(e,!1),y0(e)))}function y0(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&mc(e),kr(e,null,"plugin-init",[e,t]),kr(e,"aoInitComplete","init",[e,t])}function pb(e,t){var r=parseInt(t,10);e._iDisplayLength=r,bb(e),kr(e,null,"length",[e,r])}function sE(e){for(var t=e.oClasses,r=e.sTableId,n=e.aLengthMenu,a=Array.isArray(n[0]),s=a?n[0]:n,o=a?n[1]:n,u=Ce("<select/>",{name:r+"_length","aria-controls":r,class:t.sLengthSelect}),l=0,g=s.length;l<g;l++)u[0][l]=new Option(typeof o[l]=="number"?e.fnFormatNumber(o[l]):o[l],s[l]);var h=Ce("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(h[0].id=r+"_length"),h.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",u[0].outerHTML)),Ce("select",h).val(e._iDisplayLength).on("change.DT",function(_){pb(e,Ce(this).val()),Bo(e)}),Ce(e.nTable).on("length.dt.DT",function(_,x,S){e===x&&Ce("select",h).val(S)}),h[0]}function oE(e){var t=e.sPaginationType,r=St.ext.pager[t],n=typeof r=="function",a=function(u){Bo(u)},s=Ce("<div/>").addClass(e.oClasses.sPaging+t)[0],o=e.aanFeatures;return n||r.fnInit(e,s,a),o.p||(s.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(u){if(n){var l=u._iDisplayStart,g=u._iDisplayLength,h=u.fnRecordsDisplay(),_=g===-1,x=_?0:Math.ceil(l/g),S=_?1:Math.ceil(h/g),w=r(x,S),c,v;for(c=0,v=o.p.length;c<v;c++)yb(u,"pageButton")(u,o.p[c],c,w,x,S)}else r.fnUpdate(u,a)},sName:"pagination"})),s}function L0(e,t,r){var n=e._iDisplayStart,a=e._iDisplayLength,s=e.fnRecordsDisplay();s===0||a===-1?n=0:typeof t=="number"?(n=t*a,n>s&&(n=0)):t=="first"?n=0:t=="previous"?(n=a>=0?n-a:0,n<0&&(n=0)):t=="next"?n+a<s&&(n+=a):t=="last"?n=Math.floor((s-1)/a)*a:ca(e,0,"Unknown paging action: "+t,5);var o=e._iDisplayStart!==n;return e._iDisplayStart=n,o?(kr(e,null,"page",[e]),r&&Bo(e)):kr(e,null,"page-nc",[e]),o}function lE(e){return Ce("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing,role:"status"}).html(e.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(e.nTable)[0]}function Xi(e,t){e.oFeatures.bProcessing&&Ce(e.aanFeatures.r).css("display",t?"block":"none"),kr(e,null,"processing",[e,t])}function uE(e){var t=Ce(e.nTable),r=e.oScroll;if(r.sX===""&&r.sY==="")return e.nTable;var n=r.sX,a=r.sY,s=e.oClasses,o=t.children("caption"),u=o.length?o[0]._captionSide:null,l=Ce(t[0].cloneNode(!1)),g=Ce(t[0].cloneNode(!1)),h=t.children("tfoot"),_="<div/>",x=function(b){return b?dn(b):null};h.length||(h=null);var S=Ce(_,{class:s.sScrollWrapper}).append(Ce(_,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?x(n):"100%"}).append(Ce(_,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:r.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append(u==="top"?o:null).append(t.children("thead"))))).append(Ce(_,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:x(n)}).append(t));h&&S.append(Ce(_,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:n?x(n):"100%"}).append(Ce(_,{class:s.sScrollFootInner}).append(g.removeAttr("id").css("margin-left",0).append(u==="bottom"?o:null).append(t.children("tfoot")))));var w=S.children(),c=w[0],v=w[1],y=h?w[2]:null;return n&&Ce(v).on("scroll.DT",function(b){var C=this.scrollLeft;c.scrollLeft=C,h&&(y.scrollLeft=C)}),Ce(v).css("max-height",a),r.bCollapse||Ce(v).css("height",a),e.nScrollHead=c,e.nScrollBody=v,e.nScrollFoot=y,e.aoDrawCallback.push({fn:O0,sName:"scrolling"}),S[0]}function O0(e){var t=e.oScroll,r=t.sX,n=t.sXInner,a=t.sY,s=t.iBarWidth,o=Ce(e.nScrollHead),u=o[0].style,l=o.children("div"),g=l[0].style,h=l.children("table"),_=e.nScrollBody,x=Ce(_),S=_.style,w=Ce(e.nScrollFoot),c=w.children("div"),v=c.children("table"),y=Ce(e.nTHead),b=Ce(e.nTable),C=b[0],E=C.style,p=e.nTFoot?Ce(e.nTFoot):null,f=e.oBrowser,D=f.bScrollOversize,M=$i(e.aoColumns,"nTh"),P,O,z,k,I,H,Y=[],q=[],G=[],$=[],j,V,X,Q=function(Fe){var Me=Fe.style;Me.paddingTop="0",Me.paddingBottom="0",Me.borderTopWidth="0",Me.borderBottomWidth="0",Me.height=0},te=_.scrollHeight>_.clientHeight;if(e.scrollBarVis!==te&&e.scrollBarVis!==void 0){e.scrollBarVis=te,mc(e);return}else e.scrollBarVis=te;b.children("thead, tfoot").remove(),p&&(H=p.clone().prependTo(b),O=p.find("tr"),k=H.find("tr"),H.find("[id]").removeAttr("id")),I=y.clone().prependTo(b),P=y.find("tr"),z=I.find("tr"),I.find("th, td").removeAttr("tabindex"),I.find("[id]").removeAttr("id"),r||(S.width="100%",o[0].style.width="100%"),Ce.each(A0(e,I),function(Fe,Me){j=gc(e,Fe),Me.style.width=e.aoColumns[j].sWidth}),p&&us(function(Fe){Fe.style.width=""},k),X=b.outerWidth(),r===""?(E.width="100%",D&&(b.find("tbody").height()>_.offsetHeight||x.css("overflow-y")=="scroll")&&(E.width=dn(b.outerWidth()-s)),X=b.outerWidth()):n!==""&&(E.width=dn(n),X=b.outerWidth()),us(Q,z),us(function(Fe){var Me=window.getComputedStyle?window.getComputedStyle(Fe).width:dn(Ce(Fe).width());G.push(Fe.innerHTML),Y.push(Me)},z),us(function(Fe,Me){Fe.style.width=Y[Me]},P),Ce(z).css("height",0),p&&(us(Q,k),us(function(Fe){$.push(Fe.innerHTML),q.push(dn(Ce(Fe).css("width")))},k),us(function(Fe,Me){Fe.style.width=q[Me]},O),Ce(k).height(0)),us(function(Fe,Me){Fe.innerHTML='<div class="dataTables_sizing">'+G[Me]+"</div>",Fe.childNodes[0].style.height="0",Fe.childNodes[0].style.overflow="hidden",Fe.style.width=Y[Me]},z),p&&us(function(Fe,Me){Fe.innerHTML='<div class="dataTables_sizing">'+$[Me]+"</div>",Fe.childNodes[0].style.height="0",Fe.childNodes[0].style.overflow="hidden",Fe.style.width=q[Me]},k),Math.round(b.outerWidth())<Math.round(X)?(V=_.scrollHeight>_.offsetHeight||x.css("overflow-y")=="scroll"?X+s:X,D&&(_.scrollHeight>_.offsetHeight||x.css("overflow-y")=="scroll")&&(E.width=dn(V-s)),(r===""||n!=="")&&ca(e,1,"Possible column misalignment",6)):V="100%",S.width=dn(V),u.width=dn(V),p&&(e.nScrollFoot.style.width=dn(V)),a||D&&(S.height=dn(C.offsetHeight+s));var xe=b.outerWidth();h[0].style.width=dn(xe),g.width=dn(xe);var Ne=b.height()>_.clientHeight||x.css("overflow-y")=="scroll",ye="padding"+(f.bScrollbarLeft?"Left":"Right");g[ye]=Ne?s+"px":"0px",p&&(v[0].style.width=dn(xe),c[0].style.width=dn(xe),c[0].style[ye]=Ne?s+"px":"0px"),b.children("colgroup").insertBefore(b.children("thead")),x.trigger("scroll"),(e.bSorted||e.bFiltered)&&!e._drawHold&&(_.scrollTop=0)}function us(e,t,r){for(var n=0,a=0,s=t.length,o,u;a<s;){for(o=t[a].firstChild,u=r?r[a].firstChild:null;o;)o.nodeType===1&&(r?e(o,u,n):e(o,n),n++),o=o.nextSibling,u=r?u.nextSibling:null;a++}}function mb(e){var t=e.nTable,r=e.aoColumns,n=e.oScroll,a=n.sY,s=n.sX,o=n.sXInner,u=r.length,l=E0(e,"bVisible"),g=Ce("th",e.nTHead),h=t.getAttribute("width"),_=t.parentNode,x=!1,S,w,c,v,y,b=e.oBrowser,C=b.bScrollOversize,E=t.style.width;for(E&&E.indexOf("%")!==-1&&(h=E),S=0;S<l.length;S++)w=r[l[S]],w.sWidth!==null&&(w.sWidth=fE(w.sWidthOrig,_),x=!0);if(C||!x&&!s&&!a&&u==uf(e)&&u==g.length)for(S=0;S<u;S++){var p=gc(e,S);p!==null&&(r[p].sWidth=dn(g.eq(S).width()))}else{var f=Ce(t).clone().css("visibility","hidden").removeAttr("id");f.find("tbody tr").remove();var D=Ce("<tr/>").appendTo(f.find("tbody"));for(f.find("thead, tfoot").remove(),f.append(Ce(e.nTHead).clone()).append(Ce(e.nTFoot).clone()),f.find("tfoot th, tfoot td").css("width",""),g=A0(e,f.find("thead")[0]),S=0;S<l.length;S++)w=r[l[S]],g[S].style.width=w.sWidthOrig!==null&&w.sWidthOrig!==""?dn(w.sWidthOrig):"",w.sWidthOrig&&s&&Ce(g[S]).append(Ce("<div/>").css({width:w.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(e.aoData.length)for(S=0;S<l.length;S++)c=l[S],w=r[c],Ce(dE(e,c)).clone(!1).append(w.sContentPadding).appendTo(D);Ce("[name]",f).removeAttr("name");var M=Ce("<div/>").css(s||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(f).appendTo(_);s&&o?f.width(o):s?(f.css("width","auto"),f.removeAttr("width"),f.width()<_.clientWidth&&h&&f.width(_.clientWidth)):a?f.width(_.clientWidth):h&&f.width(h);var P=0;for(S=0;S<l.length;S++){var O=Ce(g[S]),z=O.outerWidth()-O.width(),k=b.bBounding?Math.ceil(g[S].getBoundingClientRect().width):O.outerWidth();P+=k,r[l[S]].sWidth=dn(k-z)}t.style.width=dn(P),M.remove()}if(h&&(t.style.width=dn(h)),(h||s)&&!e._reszEvt){var I=function(){Ce(window).on("resize.DT-"+e.sInstance,gb(function(){mc(e)}))};C?setTimeout(I,1e3):I(),e._reszEvt=!0}}function fE(e,t){if(!e)return 0;var r=Ce("<div/>").css("width",dn(e)).appendTo(t||document.body),n=r[0].offsetWidth;return r.remove(),n}function dE(e,t){var r=cE(e,t);if(r<0)return null;var n=e.aoData[r];return n.nTr?n.anCells[t]:Ce("<td/>").html(zi(e,r,t,"display"))[0]}function cE(e,t){for(var r,n=-1,a=-1,s=0,o=e.aoData.length;s<o;s++)r=zi(e,s,t,"display")+"",r=r.replace(JN,""),r=r.replace(/&nbsp;/g," "),r.length>n&&(n=r.length,a=s);return a}function dn(e){return e===null?"0px":typeof e=="number"?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function ff(e){var t,r,n,a,s=[],o=[],u=e.aoColumns,l,g,h,_,x=e.aaSortingFixed,S=Ce.isPlainObject(x),w=[],c=function(v){v.length&&!Array.isArray(v[0])?w.push(v):Ce.merge(w,v)};for(Array.isArray(x)&&c(x),S&&x.pre&&c(x.pre),c(e.aaSorting),S&&x.post&&c(x.post),t=0;t<w.length;t++)for(_=w[t][0],l=u[_].aDataSort,n=0,a=l.length;n<a;n++)g=l[n],h=u[g].sType||"string",w[t]._idx===void 0&&(w[t]._idx=Ce.inArray(w[t][1],u[g].asSorting)),s.push({src:_,col:g,dir:w[t][1],index:w[t]._idx,type:h,formatter:St.ext.type.order[h+"-pre"]});return s}function hE(e){var t,r,n,a,s,o,u,l,g,h=[],_=St.ext.type.order,x=e.aoData,S=e.aoColumns,w,c,v,y,b,C=0,E,p=e.aiDisplayMaster,f;for(lb(e),f=ff(e),t=0,r=f.length;t<r;t++)E=f[t],E.formatter&&C++,mE(e,E.col);if(ti(e)!="ssp"&&f.length!==0){for(t=0,n=p.length;t<n;t++)h[p[t]]=t;C===f.length?p.sort(function(D,M){var P,O,z,k,I,H=f.length,Y=x[D]._aSortData,q=x[M]._aSortData;for(z=0;z<H;z++)if(I=f[z],P=Y[I.col],O=q[I.col],k=P<O?-1:P>O?1:0,k!==0)return I.dir==="asc"?k:-k;return P=h[D],O=h[M],P<O?-1:P>O?1:0}):p.sort(function(D,M){var P,O,z,k,I,H,Y,q=f.length,G=x[D]._aSortData,$=x[M]._aSortData;for(z=0;z<q;z++)if(H=f[z],P=G[H.col],O=$[H.col],Y=_[H.type+"-"+H.dir]||_["string-"+H.dir],I=Y(P,O),I!==0)return I;return P=h[D],O=h[M],P<O?-1:P>O?1:0})}e.bSorted=!0}function pE(e){for(var t,r,n=e.aoColumns,a=ff(e),s=e.oLanguage.oAria,o=0,u=n.length;o<u;o++){var l=n[o],g=l.asSorting,h=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),_=l.nTh;_.removeAttribute("aria-sort"),l.bSortable?(a.length>0&&a[0].col==o?(_.setAttribute("aria-sort",a[0].dir=="asc"?"ascending":"descending"),r=g[a[0].index+1]||g[0]):r=g[0],t=h+(r==="asc"?s.sSortAscending:s.sSortDescending)):t=h,_.setAttribute("aria-label",t)}}function nb(e,t,r,n){var a=e.aoColumns[t],s=e.aaSorting,o=a.asSorting,u,l=function(h,_){var x=h._idx;return x===void 0&&(x=Ce.inArray(h[1],o)),x+1<o.length?x+1:_?null:0};if(typeof s[0]=="number"&&(s=e.aaSorting=[s]),r&&e.oFeatures.bSortMulti){var g=Ce.inArray(t,$i(s,"0"));g!==-1?(u=l(s[g],!0),u===null&&s.length===1&&(u=0),u===null?s.splice(g,1):(s[g][1]=o[u],s[g]._idx=u)):(s.push([t,o[0],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==t?(u=l(s[0]),s.length=1,s[0][1]=o[u],s[0]._idx=u):(s.length=0,s.push([t,o[0]]),s[0]._idx=0);Ol(e),typeof n=="function"&&n(e)}function vb(e,t,r,n){var a=e.aoColumns[r];_b(t,{},function(s){a.bSortable!==!1&&(e.oFeatures.bProcessing?(Xi(e,!0),setTimeout(function(){nb(e,r,s.shiftKey,n),ti(e)!=="ssp"&&Xi(e,!1)},0)):nb(e,r,s.shiftKey,n))})}function x0(e){var t=e.aLastSort,r=e.oClasses.sSortColumn,n=ff(e),a=e.oFeatures,s,o,u;if(a.bSort&&a.bSortClasses){for(s=0,o=t.length;s<o;s++)u=t[s].src,Ce($i(e.aoData,"anCells",u)).removeClass(r+(s<2?s+1:3));for(s=0,o=n.length;s<o;s++)u=n[s].src,Ce($i(e.aoData,"anCells",u)).addClass(r+(s<2?s+1:3))}e.aLastSort=n}function mE(e,t){var r=e.aoColumns[t],n=St.ext.order[r.sSortDataType],a;n&&(a=n.call(e.oInstance,e,t,vc(e,t)));for(var s,o,u=St.ext.type.order[r.sType+"-pre"],l=0,g=e.aoData.length;l<g;l++)s=e.aoData[l],s._aSortData||(s._aSortData=[]),(!s._aSortData[t]||n)&&(o=n?a[l]:zi(e,l,t,"sort"),s._aSortData[t]=u?u(o):o)}function xc(e){if(!e._bLoadingState){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:Ce.extend(!0,[],e.aaSorting),search:PC(e.oPreviousSearch),columns:Ce.map(e.aoColumns,function(r,n){return{visible:r.bVisible,search:PC(e.aoPreSearchCols[n])}})};e.oSavedState=t,kr(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oFeatures.bStateSave&&!e.bDestroying&&e.fnStateSaveCallback.call(e.oInstance,e,t)}}function gE(e,t,r){if(!e.oFeatures.bStateSave){r();return}var n=function(s){ib(e,s,r)},a=e.fnStateLoadCallback.call(e.oInstance,e,n);return a!==void 0&&ib(e,a,r),!0}function ib(e,t,r){var n,a,s=e.aoColumns;e._bLoadingState=!0;var o=e._bInitComplete?new St.Api(e):null;if(!t||!t.time){e._bLoadingState=!1,r();return}var u=kr(e,"aoStateLoadParams","stateLoadParams",[e,t]);if(Ce.inArray(!1,u)!==-1){e._bLoadingState=!1,r();return}var l=e.iStateDuration;if(l>0&&t.time<+new Date-l*1e3){e._bLoadingState=!1,r();return}if(t.columns&&s.length!==t.columns.length){e._bLoadingState=!1,r();return}if(e.oLoadedState=Ce.extend(!0,{},t),t.length!==void 0&&(o?o.page.len(t.length):e._iDisplayLength=t.length),t.start!==void 0&&(o===null?(e._iDisplayStart=t.start,e.iInitDisplayStart=t.start):L0(e,t.start/e._iDisplayLength)),t.order!==void 0&&(e.aaSorting=[],Ce.each(t.order,function(h,_){e.aaSorting.push(_[0]>=s.length?[0,_[1]]:_)})),t.search!==void 0&&Ce.extend(e.oPreviousSearch,NC(t.search)),t.columns){for(n=0,a=t.columns.length;n<a;n++){var g=t.columns[n];g.visible!==void 0&&(o?o.column(n).visible(g.visible,!1):s[n].bVisible=g.visible),g.search!==void 0&&Ce.extend(e.aoPreSearchCols[n],NC(g.search))}o&&o.columns.adjust()}e._bLoadingState=!1,kr(e,"aoStateLoaded","stateLoaded",[e,t]),r()}function w0(e){var t=St.settings,r=Ce.inArray(e,$i(t,"nTable"));return r!==-1?t[r]:null}function ca(e,t,r,n){if(r="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+r,n&&(r+=". For more information about this error, please see http://datatables.net/tn/"+n),t)window.console&&console.log&&console.log(r);else{var a=St.ext,s=a.sErrMode||a.errMode;if(e&&kr(e,null,"error",[e,n,r]),s=="alert")alert(r);else{if(s=="throw")throw new Error(r);typeof s=="function"&&s(e,n,r)}}}function Wa(e,t,r,n){if(Array.isArray(r)){Ce.each(r,function(a,s){Array.isArray(s)?Wa(e,t,s[0],s[1]):Wa(e,t,s)});return}n===void 0&&(n=r),t[r]!==void 0&&(e[n]=t[r])}function ab(e,t,r){var n;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],Ce.isPlainObject(n)?(Ce.isPlainObject(e[a])||(e[a]={}),Ce.extend(!0,e[a],n)):r&&a!=="data"&&a!=="aaData"&&Array.isArray(n)?e[a]=n.slice():e[a]=n);return e}function _b(e,t,r){Ce(e).on("click.DT",t,function(n){Ce(e).trigger("blur"),r(n)}).on("keypress.DT",t,function(n){n.which===13&&(n.preventDefault(),r(n))}).on("selectstart.DT",function(){return!1})}function mi(e,t,r,n){r&&e[t].push({fn:r,sName:n})}function kr(e,t,r,n){var a=[];if(t&&(a=Ce.map(e[t].slice().reverse(),function(u,l){return u.fn.apply(e.oInstance,n)})),r!==null){var s=Ce.Event(r+".dt"),o=Ce(e.nTable);o.trigger(s,n),o.parents("body").length===0&&Ce("body").trigger(s,n),a.push(s.result)}return a}function bb(e){var t=e._iDisplayStart,r=e.fnDisplayEnd(),n=e._iDisplayLength;t>=r&&(t=r-n),t-=t%n,(n===-1||t<0)&&(t=0),e._iDisplayStart=t}function yb(e,t){var r=e.renderer,n=St.ext.renderer[t];return Ce.isPlainObject(r)&&r[t]?n[r[t]]||n._:typeof r=="string"&&n[r]||n._}function ti(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function uc(e,t){var r=[],n=SE.numbers_length,a=Math.floor(n/2),s=1;return t<=n?r=of(0,t):e<=a?(r=of(0,n-2),r.push("ellipsis"),r.push(t-1)):e>=t-1-a?(r=of(t-(n-2),t),r.splice(0,0,"ellipsis"),r.splice(0,0,0)):(r=of(e-a+2,e+a-1),r.push("ellipsis"),r.push(t-1),r.splice(0,0,"ellipsis"),r.splice(0,0,0)),r.DT_el="span",r}function sb(e){Ce.each({num:function(t){return p0(t,e)},"num-fmt":function(t){return p0(t,e,q_)},"html-num":function(t){return p0(t,e,_0)},"html-num-fmt":function(t){return p0(t,e,_0,q_)}},function(t,r){wn.type.order[t+e+"-pre"]=r,t.match(/^html\-/)&&(wn.type.search[t+e]=wn.type.search.html)})}function IC(e,t,r,n,a){return window.moment?e[t](a):window.luxon?e[r](a):n?e[n](a):e}function S0(e,t,r){var n;if(window.moment){if(n=window.moment.utc(e,t,r,!0),!n.isValid())return null}else if(window.luxon){if(n=t&&typeof e=="string"?window.luxon.DateTime.fromFormat(e,t):window.luxon.DateTime.fromISO(e),!n.isValid)return null;n.setLocale(r)}else t?(zC||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),zC=!0):n=new Date(e);return n}function Q_(e){return function(t,r,n,a){arguments.length===0?(n="en",r=null,t=null):arguments.length===1?(n="en",r=t,t=null):arguments.length===2&&(n=r,r=t,t=null);var s="datetime-"+r;return St.ext.type.order[s]||(St.ext.type.detect.unshift(function(o){return o===s?s:!1}),St.ext.type.order[s+"-asc"]=function(o,u){var l=o.valueOf(),g=u.valueOf();return l===g?0:l<g?-1:1},St.ext.type.order[s+"-desc"]=function(o,u){var l=o.valueOf(),g=u.valueOf();return l===g?0:l>g?-1:1}),function(o,u){if(o==null)if(a==="--now"){var l=new Date;o=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds()))}else o="";if(u==="type")return s;if(o==="")return u!=="sort"?"":S0("0000-01-01 00:00:00",null,n);if(r!==null&&t===r&&u!=="sort"&&u!=="type"&&!(o instanceof Date))return o;var g=S0(o,t,n);if(g===null)return o;if(u==="sort")return g;var h=r===null?IC(g,"toDate","toJSDate","")[e]():IC(g,"format","toFormat","toISOString",r);return u==="display"?v0(h):h}}}function DE(e){return function(){var t=[w0(this[St.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return St.ext.internal[e].apply(this,t)}}var FC,Ce,St,wn,_r,$t,Qr,$_,TC,_0,HN,VN,q_,fs,BC,RC,J_,YN,LC,$i,hc,of,UC,KN,ZN,C0,jC,WC,Ii,lc,af,lf,zo,hb,g0,qN,JN,gb,vE,Fn,eI,_E,bE,xb,wb,Sb,k0,tI,rI,yE,Cb,xE,nI,iI,wc,P0,aI,wE,sI,oI,lI,SE,p0,v0,zC,CE,EE,sf,Ll,ME=ae(()=>{FC=en(oc(),1);Ce=FC.default,St=function(e,t){if(St.factory(e,t))return St;if(this instanceof St)return Ce(e).DataTable(t);t=e,this.$=function(o,u){return this.api(!0).$(o,u)},this._=function(o,u){return this.api(!0).rows(o,u).data()},this.api=function(o){return o?new _r(w0(this[wn.iApiIndex])):new _r(this)},this.fnAddData=function(o,u){var l=this.api(!0),g=Array.isArray(o)&&(Array.isArray(o[0])||Ce.isPlainObject(o[0]))?l.rows.add(o):l.row.add(o);return(u===void 0||u)&&l.draw(),g.flatten().toArray()},this.fnAdjustColumnSizing=function(o){var u=this.api(!0).columns.adjust(),l=u.settings()[0],g=l.oScroll;o===void 0||o?u.draw(!1):(g.sX!==""||g.sY!=="")&&O0(l)},this.fnClearTable=function(o){var u=this.api(!0).clear();(o===void 0||o)&&u.draw()},this.fnClose=function(o){this.api(!0).row(o).child.hide()},this.fnDeleteRow=function(o,u,l){var g=this.api(!0),h=g.rows(o),_=h.settings()[0],x=_.aoData[h[0][0]];return h.remove(),u&&u.call(this,_,x),(l===void 0||l)&&g.draw(),x},this.fnDestroy=function(o){this.api(!0).destroy(o)},this.fnDraw=function(o){this.api(!0).draw(o)},this.fnFilter=function(o,u,l,g,h,_){var x=this.api(!0);u==null?x.search(o,l,g,_):x.column(u).search(o,l,g,_),x.draw()},this.fnGetData=function(o,u){var l=this.api(!0);if(o!==void 0){var g=o.nodeName?o.nodeName.toLowerCase():"";return u!==void 0||g=="td"||g=="th"?l.cell(o,u).data():l.row(o).data()||null}return l.data().toArray()},this.fnGetNodes=function(o){var u=this.api(!0);return o!==void 0?u.row(o).node():u.rows().nodes().flatten().toArray()},this.fnGetPosition=function(o){var u=this.api(!0),l=o.nodeName.toUpperCase();if(l=="TR")return u.row(o).index();if(l=="TD"||l=="TH"){var g=u.cell(o).index();return[g.row,g.columnVisible,g.column]}return null},this.fnIsOpen=function(o){return this.api(!0).row(o).child.isShown()},this.fnOpen=function(o,u,l){return this.api(!0).row(o).child(u,l).show().child()[0]},this.fnPageChange=function(o,u){var l=this.api(!0).page(o);(u===void 0||u)&&l.draw(!1)},this.fnSetColumnVis=function(o,u,l){var g=this.api(!0).column(o).visible(u);(l===void 0||l)&&g.columns.adjust().draw()},this.fnSettings=function(){return w0(this[wn.iApiIndex])},this.fnSort=function(o){this.api(!0).order(o).draw()},this.fnSortListener=function(o,u,l){this.api(!0).order.listener(o,u,l)},this.fnUpdate=function(o,u,l,g,h){var _=this.api(!0);return l==null?_.row(u).data(o):_.cell(u,l).data(o),(h===void 0||h)&&_.columns.adjust(),(g===void 0||g)&&_.draw(),0},this.fnVersionCheck=wn.fnVersionCheck;var r=this,n=t===void 0,a=this.length;n&&(t={}),this.oApi=this.internal=wn.internal;for(var s in St.ext.internal)s&&(this[s]=DE(s));return this.each(function(){var o={},u=a>1?ab(o,t,!0):t,l=0,g,h,_,x,S,w=this.getAttribute("id"),c=!1,v=St.defaults,y=Ce(this);if(this.nodeName.toLowerCase()!="table"){ca(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}OC(v),GC(v.column),Xs(v,v,!0),Xs(v.column,v.column,!0),Xs(v,Ce.extend(u,y.data()),!0);var b=St.settings;for(l=0,g=b.length;l<g;l++){var C=b[l];if(C.nTable==this||C.nTHead&&C.nTHead.parentNode==this||C.nTFoot&&C.nTFoot.parentNode==this){var E=u.bRetrieve!==void 0?u.bRetrieve:v.bRetrieve,p=u.bDestroy!==void 0?u.bDestroy:v.bDestroy;if(n||E)return C.oInstance;if(p){C.oInstance.fnDestroy();break}else{ca(C,0,"Cannot reinitialise DataTable",3);return}}if(C.sTableId==this.id){b.splice(l,1);break}}(w===null||w==="")&&(w="DataTables_Table_"+St.ext._unique++,this.id=w);var f=Ce.extend(!0,{},St.models.oSettings,{sDestroyWidth:y[0].style.width,sInstance:w,sTableId:w});f.nTable=this,f.oApi=r.internal,f.oInit=u,b.push(f),f.oInstance=r.length===1?r:y.dataTable(),OC(u),eb(u.oLanguage),u.aLengthMenu&&!u.iDisplayLength&&(u.iDisplayLength=Array.isArray(u.aLengthMenu[0])?u.aLengthMenu[0][0]:u.aLengthMenu[0]),u=ab(Ce.extend(!0,{},v),u),Wa(f.oFeatures,u,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Wa(f,u,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Wa(f.oScroll,u,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Wa(f.oLanguage,u,"fnInfoCallback"),mi(f,"aoDrawCallback",u.fnDrawCallback,"user"),mi(f,"aoServerParams",u.fnServerParams,"user"),mi(f,"aoStateSaveParams",u.fnStateSaveParams,"user"),mi(f,"aoStateLoadParams",u.fnStateLoadParams,"user"),mi(f,"aoStateLoaded",u.fnStateLoaded,"user"),mi(f,"aoRowCallback",u.fnRowCallback,"user"),mi(f,"aoRowCreatedCallback",u.fnCreatedRow,"user"),mi(f,"aoHeaderCallback",u.fnHeaderCallback,"user"),mi(f,"aoFooterCallback",u.fnFooterCallback,"user"),mi(f,"aoInitComplete",u.fnInitComplete,"user"),mi(f,"aoPreDrawCallback",u.fnPreDrawCallback,"user"),f.rowIdFn=lf(u.rowId),HC(f);var D=f.oClasses;if(Ce.extend(D,St.ext.classes,u.oClasses),y.addClass(D.sTable),f.iInitDisplayStart===void 0&&(f.iInitDisplayStart=u.iDisplayStart,f._iDisplayStart=u.iDisplayStart),u.iDeferLoading!==null){f.bDeferLoading=!0;var M=Array.isArray(u.iDeferLoading);f._iRecordsDisplay=M?u.iDeferLoading[0]:u.iDeferLoading,f._iRecordsTotal=M?u.iDeferLoading[1]:u.iDeferLoading}var P=f.oLanguage;Ce.extend(!0,P,u.oLanguage),P.sUrl?(Ce.ajax({dataType:"json",url:P.sUrl,success:function($){Xs(v.oLanguage,$),eb($),Ce.extend(!0,P,$,f.oInit.oLanguage),kr(f,null,"i18n",[f]),fc(f)},error:function(){fc(f)}}),c=!0):kr(f,null,"i18n",[f]),u.asStripeClasses===null&&(f.asStripeClasses=[D.sStripeOdd,D.sStripeEven]);var O=f.asStripeClasses,z=y.children("tbody").find("tr").eq(0);Ce.inArray(!0,Ce.map(O,function($,j){return z.hasClass($)}))!==-1&&(Ce("tbody tr",this).removeClass(O.join(" ")),f.asDestroyStripes=O.slice());var k=[],I,H=this.getElementsByTagName("thead");if(H.length!==0&&(cc(f.aoHeader,H[0]),k=A0(f)),u.aoColumns===null)for(I=[],l=0,g=k.length;l<g;l++)I.push(null);else I=u.aoColumns;for(l=0,g=I.length;l<g;l++)ob(f,k?k[l]:null);if(VC(f,u.aoColumnDefs,I,function($,j){b0(f,$,j)}),z.length){var Y=function($,j){return $.getAttribute("data-"+j)!==null?j:null};Ce(z[0]).children("th, td").each(function($,j){var V=f.aoColumns[$];if(V||ca(f,0,"Incorrect column count",18),V.mData===$){var X=Y(j,"sort")||Y(j,"order"),Q=Y(j,"filter")||Y(j,"search");(X!==null||Q!==null)&&(V.mData={_:$+".display",sort:X!==null?$+".@data-"+X:void 0,type:X!==null?$+".@data-"+X:void 0,filter:Q!==null?$+".@data-"+Q:void 0},V._isArrayHost=!0,b0(f,$))}})}var q=f.oFeatures,G=function(){if(u.aaSorting===void 0){var $=f.aaSorting;for(l=0,g=$.length;l<g;l++)$[l][1]=f.aoColumns[l].asSorting[0]}x0(f),q.bSort&&mi(f,"aoDrawCallback",function(){if(f.bSorted){var te=ff(f),xe={};Ce.each(te,function(Ne,ye){xe[ye.src]=ye.dir}),kr(f,null,"order",[f,te,xe]),pE(f)}}),mi(f,"aoDrawCallback",function(){(f.bSorted||ti(f)==="ssp"||q.bDeferRender)&&x0(f)},"sc");var j=y.children("caption").each(function(){this._captionSide=Ce(this).css("caption-side")}),V=y.children("thead");V.length===0&&(V=Ce("<thead/>").appendTo(y)),f.nTHead=V[0];var X=y.children("tbody");X.length===0&&(X=Ce("<tbody/>").insertAfter(V)),f.nTBody=X[0];var Q=y.children("tfoot");if(Q.length===0&&j.length>0&&(f.oScroll.sX!==""||f.oScroll.sY!=="")&&(Q=Ce("<tfoot/>").appendTo(y)),Q.length===0||Q.children().length===0?y.addClass(D.sNoFooter):Q.length>0&&(f.nTFoot=Q[0],cc(f.aoFooter,f.nTFoot)),u.aaData)for(l=0;l<u.aaData.length;l++)Fo(f,u.aaData[l]);else(f.bDeferLoading||ti(f)=="dom")&&D0(f,Ce(f.nTBody).children("tr"));f.aiDisplay=f.aiDisplayMaster.slice(),f.bInitialised=!0,c===!1&&fc(f)};mi(f,"aoDrawCallback",xc,"state_save"),u.bStateSave?(q.bStateSave=!0,gE(f,u,G)):G()}),r=null,this},$_={},TC=/[\r\n\u2028]/g,_0=/<.*?>/g,HN=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,VN=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),q_=/['\u00A0,$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,fs=function(e){return!e||e===!0||e==="-"},BC=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},RC=function(e,t){return $_[t]||($_[t]=new RegExp(hb(t),"g")),typeof e=="string"&&t!=="."?e.replace(/\./g,"").replace($_[t],"."):e},J_=function(e,t,r){var n=typeof e,a=n==="string";return n==="number"||n==="bigint"||fs(e)?!0:(t&&a&&(e=RC(e,t)),r&&a&&(e=e.replace(q_,"")),!isNaN(parseFloat(e))&&isFinite(e))},YN=function(e){return fs(e)||typeof e=="string"},LC=function(e,t,r){if(fs(e))return!0;var n=YN(e);return n&&J_(KN(e),t,r)?!0:null},$i=function(e,t,r){var n=[],a=0,s=e.length;if(r!==void 0)for(;a<s;a++)e[a]&&e[a][t]&&n.push(e[a][t][r]);else for(;a<s;a++)e[a]&&n.push(e[a][t]);return n},hc=function(e,t,r,n){var a=[],s=0,o=t.length;if(n!==void 0)for(;s<o;s++)e[t[s]][r]&&a.push(e[t[s]][r][n]);else for(;s<o;s++)a.push(e[t[s]][r]);return a},of=function(e,t){var r=[],n;t===void 0?(t=0,n=e):(n=t,t=e);for(var a=t;a<n;a++)r.push(a);return r},UC=function(e){for(var t=[],r=0,n=e.length;r<n;r++)e[r]&&t.push(e[r]);return t},KN=function(e){return e.replace(_0,"").replace(/<script/i,"")},ZN=function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),r=t[0],n=1,a=t.length;n<a;n++){if(t[n]===r)return!1;r=t[n]}return!0},C0=function(e){if(ZN(e))return e.slice();var t=[],r,n,a=e.length,s,o=0;e:for(n=0;n<a;n++){for(r=e[n],s=0;s<o;s++)if(t[s]===r)continue e;t.push(r),o++}return t},jC=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)jC(e,t[r]);else e.push(t);return e},WC=function(e,t){return t===void 0&&(t=0),this.indexOf(e,t)!==-1};Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});Array.prototype.includes||(Array.prototype.includes=WC);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=WC);St.util={throttle:function(e,t){var r=t!==void 0?t:200,n,a;return function(){var s=this,o=+new Date,u=arguments;n&&o<n+r?(clearTimeout(a),a=setTimeout(function(){n=void 0,e.apply(s,u)},r)):(n=o,e.apply(s,u))}},escapeRegex:function(e){return e.replace(VN,"\\$1")},set:function(e){if(Ce.isPlainObject(e))return St.util.set(e._);if(e===null)return function(){};if(typeof e=="function")return function(r,n,a){e(r,"set",n,a)};if(typeof e=="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var t=function(r,n,a){for(var s=tb(a),o,u=s[s.length-1],l,g,h,_,x=0,S=s.length-1;x<S;x++){if(s[x]==="__proto__"||s[x]==="constructor")throw new Error("Cannot set prototype values");if(l=s[x].match(lc),g=s[x].match(af),l){if(s[x]=s[x].replace(lc,""),r[s[x]]=[],o=s.slice(),o.splice(0,x+1),_=o.join("."),Array.isArray(n))for(var w=0,c=n.length;w<c;w++)h={},t(h,n[w],_),r[s[x]].push(h);else r[s[x]]=n;return}else g&&(s[x]=s[x].replace(af,""),r=r[s[x]](n));(r[s[x]]===null||r[s[x]]===void 0)&&(r[s[x]]={}),r=r[s[x]]}u.match(af)?r=r[u.replace(af,"")](n):r[u.replace(lc,"")]=n};return function(r,n){return t(r,n,e)}}else return function(r,n){r[e]=n}},get:function(e){if(Ce.isPlainObject(e)){var t={};return Ce.each(e,function(n,a){a&&(t[n]=St.util.get(a))}),function(n,a,s,o){var u=t[a]||t._;return u!==void 0?u(n,a,s,o):n}}else{if(e===null)return function(n){return n};if(typeof e=="function")return function(n,a,s,o){return e(n,a,s,o)};if(typeof e=="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var r=function(n,a,s){var o,u,l,g;if(s!=="")for(var h=tb(s),_=0,x=h.length;_<x;_++){if(o=h[_].match(lc),u=h[_].match(af),o){if(h[_]=h[_].replace(lc,""),h[_]!==""&&(n=n[h[_]]),l=[],h.splice(0,_+1),g=h.join("."),Array.isArray(n))for(var S=0,w=n.length;S<w;S++)l.push(r(n[S],a,g));var c=o[0].substring(1,o[0].length-1);n=c===""?l:l.join(c);break}else if(u){h[_]=h[_].replace(af,""),n=n[h[_]]();continue}if(n===null||n[h[_]]===null)return null;if(n===void 0||n[h[_]]===void 0)return;n=n[h[_]]}return n};return function(n,a){return r(n,a,e)}}else return function(n,a){return n[e]}}}};Ii=function(e,t,r){e[t]!==void 0&&(e[r]=e[t])};lc=/\[.*?\]$/,af=/\(\)$/;lf=St.util.get,zo=St.util.set;hb=St.util.escapeRegex,g0=Ce("<div>")[0],qN=g0.textContent!==void 0;JN=/<.*?>/g;gb=St.util.throttle;vE=[],Fn=Array.prototype,eI=function(e){var t,r,n=St.settings,a=Ce.map(n,function(s,o){return s.nTable});if(e){if(e.nTable&&e.oApi)return[e];if(e.nodeName&&e.nodeName.toLowerCase()==="table")return t=Ce.inArray(e,a),t!==-1?[n[t]]:null;if(e&&typeof e.settings=="function")return e.settings().toArray();typeof e=="string"?r=Ce(e):e instanceof Ce&&(r=e)}else return[];if(r)return r.map(function(s){return t=Ce.inArray(this,a),t!==-1?n[t]:null}).toArray()};_r=function(e,t){if(!(this instanceof _r))return new _r(e,t);var r=[],n=function(o){var u=eI(o);u&&r.push.apply(r,u)};if(Array.isArray(e))for(var a=0,s=e.length;a<s;a++)n(e[a]);else n(e);this.context=C0(r),t&&Ce.merge(this,t),this.selector={rows:null,cols:null,opts:null},_r.extend(this,this,vE)};St.Api=_r;Ce.extend(_r.prototype,{any:function(){return this.count()!==0},concat:Fn.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,r=this.length;t<r;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new _r(t[e],this[e]):null},filter:function(e){var t=[];if(Fn.filter)t=Fn.filter.call(this,e,this);else for(var r=0,n=this.length;r<n;r++)e.call(this,this[r],r,this)&&t.push(this[r]);return new _r(this.context,t)},flatten:function(){var e=[];return new _r(this.context,e.concat.apply(e,this.toArray()))},join:Fn.join,indexOf:Fn.indexOf||function(e,t){for(var r=t||0,n=this.length;r<n;r++)if(this[r]===e)return r;return-1},iterator:function(e,t,r,n){var a=[],s,o,u,l,g,h=this.context,_,x,S,w=this.selector;for(typeof e=="string"&&(n=r,r=t,t=e,e=!1),o=0,u=h.length;o<u;o++){var c=new _r(h[o]);if(t==="table")s=r.call(c,h[o],o),s!==void 0&&a.push(s);else if(t==="columns"||t==="rows")s=r.call(c,h[o],this[o],o),s!==void 0&&a.push(s);else if(t==="column"||t==="column-rows"||t==="row"||t==="cell")for(x=this[o],t==="column-rows"&&(_=k0(h[o],w.opts)),l=0,g=x.length;l<g;l++)S=x[l],t==="cell"?s=r.call(c,h[o],S.row,S.column,o,l):s=r.call(c,h[o],S,o,l,_),s!==void 0&&a.push(s)}if(a.length||n){var v=new _r(h,e?a.concat.apply([],a):a),y=v.selector;return y.rows=w.rows,y.cols=w.cols,y.opts=w.opts,v}return this},lastIndexOf:Fn.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Fn.map)t=Fn.map.call(this,e,this);else for(var r=0,n=this.length;r<n;r++)t.push(e.call(this,this[r],r));return new _r(this.context,t)},pluck:function(e){var t=St.util.get(e);return this.map(function(r){return t(r)})},pop:Fn.pop,push:Fn.push,reduce:Fn.reduce||function(e,t){return kC(this,e,t,0,this.length,1)},reduceRight:Fn.reduceRight||function(e,t){return kC(this,e,t,this.length-1,-1,-1)},reverse:Fn.reverse,selector:null,shift:Fn.shift,slice:function(){return new _r(this.context,this)},sort:Fn.sort,splice:Fn.splice,toArray:function(){return Fn.slice.call(this)},to$:function(){return Ce(this)},toJQuery:function(){return Ce(this)},unique:function(){return new _r(this.context,C0(this))},unshift:Fn.unshift});_r.extend=function(e,t,r){if(!(!r.length||!t||!(t instanceof _r)&&!t.__dt_wrapper)){var n,a,s,o=function(u,l,g){return function(){var h=l.apply(u,arguments);return _r.extend(h,h,g.methodExt),h}};for(n=0,a=r.length;n<a;n++)s=r[n],t[s.name]=s.type==="function"?o(e,s.val,s):s.type==="object"?{}:s.val,t[s.name].__dt_wrapper=!0,_r.extend(e,t[s.name],s.propExt)}};_r.register=$t=function(e,t){if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)_r.register(e[r],t);return}var a,s,o=e.split("."),u=vE,l,g,h=function(x,S){for(var w=0,c=x.length;w<c;w++)if(x[w].name===S)return x[w];return null};for(a=0,s=o.length;a<s;a++){g=o[a].indexOf("()")!==-1,l=g?o[a].replace("()",""):o[a];var _=h(u,l);_||(_={name:l,val:{},methodExt:[],propExt:[],type:"object"},u.push(_)),a===s-1?(_.val=t,_.type=typeof t=="function"?"function":Ce.isPlainObject(t)?"object":"other"):u=g?_.methodExt:_.propExt}};_r.registerPlural=Qr=function(e,t,r){_r.register(e,r),_r.register(t,function(){var n=r.apply(this,arguments);return n===this?this:n instanceof _r?n.length?Array.isArray(n[0])?new _r(n.context,n[0]):n[0]:void 0:n})};_E=function(e,t){if(Array.isArray(e))return Ce.map(e,function(n){return _E(n,t)});if(typeof e=="number")return[t[e]];var r=Ce.map(t,function(n,a){return n.nTable});return Ce(r).filter(e).map(function(n){var a=Ce.inArray(this,r);return t[a]}).toArray()};$t("tables()",function(e){return e!=null?new _r(_E(e,this.context)):this});$t("table()",function(e){var t=this.tables(e),r=t.context;return r.length?new _r(r[0]):t});Qr("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)});Qr("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)});Qr("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)});Qr("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)});Qr("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)});$t("draw()",function(e){return this.iterator("table",function(t){e==="page"?Bo(t):(typeof e=="string"&&(e=e!=="full-hold"),Ol(t,e===!1))})});$t("page()",function(e){return e===void 0?this.page.info().page:this.iterator("table",function(t){L0(t,e)})});$t("page.info()",function(e){if(this.context.length!==0){var t=this.context[0],r=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,a=t.fnRecordsDisplay(),s=n===-1;return{page:s?0:Math.floor(r/n),pages:s?1:Math.ceil(a/n),start:r,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:a,serverSide:ti(t)==="ssp"}}});$t("page.len()",function(e){return e===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(t){pb(t,e)})});bE=function(e,t,r){if(r){var n=new _r(e);n.one("draw",function(){r(n.ajax.json())})}if(ti(e)=="ssp")Ol(e,t);else{Xi(e,!0);var a=e.jqXHR;a&&a.readyState!==4&&a.abort(),T0(e,[],function(s){M0(e);for(var o=bc(e,s),u=0,l=o.length;u<l;u++)Fo(e,o[u]);Ol(e,t),Xi(e,!1)})}};$t("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json});$t("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData});$t("ajax.reload()",function(e,t){return this.iterator("table",function(r){bE(r,t===!1,e)})});$t("ajax.url()",function(e){var t=this.context;return e===void 0?t.length===0?void 0:(t=t[0],t.ajax?Ce.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(r){Ce.isPlainObject(r.ajax)?r.ajax.url=e:r.ajax=e})});$t("ajax.url().load()",function(e,t){return this.iterator("table",function(r){bE(r,t===!1,e)})});xb=function(e,t,r,n,a){var s=[],o,u,l,g,h,_,x=typeof t;for((!t||x==="string"||x==="function"||t.length===void 0)&&(t=[t]),l=0,g=t.length;l<g;l++)for(u=t[l]&&t[l].split&&!t[l].match(/[\[\(:]/)?t[l].split(","):[t[l]],h=0,_=u.length;h<_;h++)o=r(typeof u[h]=="string"?u[h].trim():u[h]),o&&o.length&&(s=s.concat(o));var S=wn.selector[e];if(S.length)for(l=0,g=S.length;l<g;l++)s=S[l](n,a,s);return C0(s)},wb=function(e){return e||(e={}),e.filter&&e.search===void 0&&(e.search=e.filter),Ce.extend({search:"none",order:"current",page:"all"},e)},Sb=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},k0=function(e,t){var r,n,a,s=[],o=e.aiDisplay,u=e.aiDisplayMaster,l=t.search,g=t.order,h=t.page;if(ti(e)=="ssp")return l==="removed"?[]:of(0,u.length);if(h=="current")for(r=e._iDisplayStart,n=e.fnDisplayEnd();r<n;r++)s.push(o[r]);else if(g=="current"||g=="applied"){if(l=="none")s=u.slice();else if(l=="applied")s=o.slice();else if(l=="removed"){for(var _={},r=0,n=o.length;r<n;r++)_[o[r]]=null;s=Ce.map(u,function(x){return _.hasOwnProperty(x)?null:x})}}else if(g=="index"||g=="original")for(r=0,n=e.aoData.length;r<n;r++)l=="none"?s.push(r):(a=Ce.inArray(r,o),(a===-1&&l=="removed"||a>=0&&l=="applied")&&s.push(r));return s},tI=function(e,t,r){var n,a=function(s){var o=BC(s),u,l,g=e.aoData;if(o!==null&&!r)return[o];if(n||(n=k0(e,r)),o!==null&&Ce.inArray(o,n)!==-1)return[o];if(s==null||s==="")return n;if(typeof s=="function")return Ce.map(n,function(c){var v=g[c];return s(c,v._aData,v.nTr)?c:null});if(s.nodeName){var h=s._DT_RowIndex,_=s._DT_CellIndex;if(h!==void 0)return g[h]&&g[h].nTr===s?[h]:[];if(_)return g[_.row]&&g[_.row].nTr===s.parentNode?[_.row]:[];var x=Ce(s).closest("*[data-dt-row]");return x.length?[x.data("dt-row")]:[]}if(typeof s=="string"&&s.charAt(0)==="#"){var S=e.aIds[s.replace(/^#/,"")];if(S!==void 0)return[S.idx]}var w=UC(hc(e.aoData,n,"nTr"));return Ce(w).filter(s).map(function(){return this._DT_RowIndex}).toArray()};return xb("row",t,a,e,r)};$t("rows()",function(e,t){e===void 0?e="":Ce.isPlainObject(e)&&(t=e,e=""),t=wb(t);var r=this.iterator("table",function(n){return tI(n,e,t)},1);return r.selector.rows=e,r.selector.opts=t,r});$t("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||void 0},1)});$t("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return hc(e.aoData,t,"_aData")},1)});Qr("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,r){var n=t.aoData[r];return e==="search"?n._aFilterData:n._aSortData},1)});Qr("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,r){_c(t,r,e)})});Qr("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)});Qr("rows().ids()","row().id()",function(e){for(var t=[],r=this.context,n=0,a=r.length;n<a;n++)for(var s=0,o=this[n].length;s<o;s++){var u=r[n].rowIdFn(r[n].aoData[this[n][s]]._aData);t.push((e===!0?"#":"")+u)}return new _r(r,t)});Qr("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,r,n){var a=t.aoData,s=a[r],o,u,l,g,h,_;for(a.splice(r,1),o=0,u=a.length;o<u;o++)if(h=a[o],_=h.anCells,h.nTr!==null&&(h.nTr._DT_RowIndex=o),_!==null)for(l=0,g=_.length;l<g;l++)_[l]._DT_CellIndex.row=o;m0(t.aiDisplayMaster,r),m0(t.aiDisplay,r),m0(e[n],r,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,bb(t);var x=t.rowIdFn(s._aData);x!==void 0&&delete t.aIds[x]}),this.iterator("table",function(t){for(var r=0,n=t.aoData.length;r<n;r++)t.aoData[r].idx=r}),this});$t("rows.add()",function(e){var t=this.iterator("table",function(n){var a,s,o,u=[];for(s=0,o=e.length;s<o;s++)a=e[s],a.nodeName&&a.nodeName.toUpperCase()==="TR"?u.push(D0(n,a)[0]):u.push(Fo(n,a));return u},1),r=this.rows(-1);return r.pop(),Ce.merge(r,t),r});$t("row()",function(e,t){return Sb(this.rows(e,t))});$t("row().data()",function(e){var t=this.context;if(e===void 0)return t.length&&this.length?t[0].aoData[this[0]]._aData:void 0;var r=t[0].aoData[this[0]];return r._aData=e,Array.isArray(e)&&r.nTr&&r.nTr.id&&zo(t[0].rowId)(e,r.nTr.id),_c(t[0],this[0],"data"),this});$t("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null});$t("row.add()",function(e){e instanceof Ce&&e.length&&(e=e[0]);var t=this.iterator("table",function(r){return e.nodeName&&e.nodeName.toUpperCase()==="TR"?D0(r,e)[0]:Fo(r,e)});return this.row(t[0])});Ce(document).on("plugin-init.dt",function(e,t){var r=new _r(t),n="on-plugin-init",a="stateSaveParams."+n,s="destroy. "+n;r.on(a,function(u,l,g){for(var h=l.rowIdFn,_=l.aoData,x=[],S=0;S<_.length;S++)_[S]._detailsShow&&x.push("#"+h(_[S]._aData));g.childRows=x}),r.on(s,function(){r.off(a+" "+s)});var o=r.state.loaded();o&&o.childRows&&r.rows(Ce.map(o.childRows,function(u){return u.replace(/:/g,"\\:")})).every(function(){kr(t,null,"requestChild",[this])})});rI=function(e,t,r,n){var a=[],s=function(o,u){if(Array.isArray(o)||o instanceof Ce){for(var l=0,g=o.length;l<g;l++)s(o[l],u);return}if(o.nodeName&&o.nodeName.toLowerCase()==="tr")a.push(o);else{var h=Ce("<tr><td></td></tr>").addClass(u);Ce("td",h).addClass(u).html(o)[0].colSpan=uf(e),a.push(h[0])}};s(r,n),t._details&&t._details.detach(),t._details=Ce(a),t._detailsShow&&t._details.insertAfter(t.nTr)},yE=St.util.throttle(function(e){xc(e[0])},500),Cb=function(e,t){var r=e.context;if(r.length){var n=r[0].aoData[t!==void 0?t:e[0]];n&&n._details&&(n._details.remove(),n._detailsShow=void 0,n._details=void 0,Ce(n.nTr).removeClass("dt-hasChild"),yE(r))}},xE=function(e,t){var r=e.context;if(r.length&&e.length){var n=r[0].aoData[e[0]];n._details&&(n._detailsShow=t,t?(n._details.insertAfter(n.nTr),Ce(n.nTr).addClass("dt-hasChild")):(n._details.detach(),Ce(n.nTr).removeClass("dt-hasChild")),kr(r[0],null,"childRow",[t,e.row(e[0])]),nI(r[0]),yE(r))}},nI=function(e){var t=new _r(e),r=".dt.DT_details",n="draw"+r,a="column-sizing"+r,s="destroy"+r,o=e.aoData;t.off(n+" "+a+" "+s),$i(o,"_details").length>0&&(t.on(n,function(u,l){e===l&&t.rows({page:"current"}).eq(0).each(function(g){var h=o[g];h._detailsShow&&h._details.insertAfter(h.nTr)})}),t.on(a,function(u,l,g,h){if(e===l)for(var _,x=uf(l),S=0,w=o.length;S<w;S++)_=o[S],_._details&&_._details.children("td[colspan]").attr("colspan",x)}),t.on(s,function(u,l){if(e===l)for(var g=0,h=o.length;g<h;g++)o[g]._details&&Cb(t,g)}))},iI="",wc=iI+"row().child",P0=wc+"()";$t(P0,function(e,t){var r=this.context;return e===void 0?r.length&&this.length?r[0].aoData[this[0]]._details:void 0:(e===!0?this.child.show():e===!1?Cb(this):r.length&&this.length&&rI(r[0],r[0].aoData[this[0]],e,t),this)});$t([wc+".show()",P0+".show()"],function(e){return xE(this,!0),this});$t([wc+".hide()",P0+".hide()"],function(){return xE(this,!1),this});$t([wc+".remove()",P0+".remove()"],function(){return Cb(this),this});$t(wc+".isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});aI=/^([^:]+):(name|visIdx|visible)$/,wE=function(e,t,r,n,a){for(var s=[],o=0,u=a.length;o<u;o++)s.push(zi(e,a[o],t));return s},sI=function(e,t,r){var n=e.aoColumns,a=$i(n,"sName"),s=$i(n,"nTh"),o=function(u){var l=BC(u);if(u==="")return of(n.length);if(l!==null)return[l>=0?l:n.length+l];if(typeof u=="function"){var g=k0(e,r);return Ce.map(n,function(c,v){return u(v,wE(e,v,0,0,g),s[v])?v:null})}var h=typeof u=="string"?u.match(aI):"";if(h)switch(h[2]){case"visIdx":case"visible":var _=parseInt(h[1],10);if(_<0){var x=Ce.map(n,function(c,v){return c.bVisible?v:null});return[x[x.length+_]]}return[gc(e,_)];case"name":return Ce.map(a,function(c,v){return c===h[1]?v:null});default:return[]}if(u.nodeName&&u._DT_CellIndex)return[u._DT_CellIndex.column];var S=Ce(s).filter(u).map(function(){return Ce.inArray(this,s)}).toArray();if(S.length||!u.nodeName)return S;var w=Ce(u).closest("*[data-dt-column]");return w.length?[w.data("dt-column")]:[]};return xb("column",t,o,e,r)},oI=function(e,t,r){var n=e.aoColumns,a=n[t],s=e.aoData,o,u,l,g,h;if(r===void 0)return a.bVisible;if(a.bVisible!==r){if(r){var _=Ce.inArray(!0,$i(n,"bVisible"),t+1);for(l=0,g=s.length;l<g;l++)h=s[l].nTr,u=s[l].anCells,h&&h.insertBefore(u[t],u[_]||null)}else Ce($i(e.aoData,"anCells",t)).detach();a.bVisible=r}};$t("columns()",function(e,t){e===void 0?e="":Ce.isPlainObject(e)&&(t=e,e=""),t=wb(t);var r=this.iterator("table",function(n){return sI(n,e,t)},1);return r.selector.cols=e,r.selector.opts=t,r});Qr("columns().header()","column().header()",function(e,t){return this.iterator("column",function(r,n){return r.aoColumns[n].nTh},1)});Qr("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(r,n){return r.aoColumns[n].nTf},1)});Qr("columns().data()","column().data()",function(){return this.iterator("column-rows",wE,1)});Qr("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)});Qr("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,r,n,a,s){return hc(t.aoData,s,e==="search"?"_aFilterData":"_aSortData",r)},1)});Qr("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,r,n,a){return hc(e.aoData,a,"anCells",t)},1)});Qr("columns().visible()","column().visible()",function(e,t){var r=this,n=this.iterator("column",function(a,s){if(e===void 0)return a.aoColumns[s].bVisible;oI(a,s,e)});return e!==void 0&&this.iterator("table",function(a){dc(a,a.aoHeader),dc(a,a.aoFooter),a.aiDisplay.length||Ce(a.nTBody).find("td[colspan]").attr("colspan",uf(a)),xc(a),r.iterator("column",function(s,o){kr(s,null,"column-visibility",[s,o,e,t])}),(t===void 0||t)&&r.columns.adjust()}),n});Qr("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,r){return e==="visible"?vc(t,r):r},1)});$t("columns.adjust()",function(){return this.iterator("table",function(e){mc(e)},1)});$t("column.index()",function(e,t){if(this.context.length!==0){var r=this.context[0];if(e==="fromVisible"||e==="toData")return gc(r,t);if(e==="fromData"||e==="toVisible")return vc(r,t)}});$t("column()",function(e,t){return Sb(this.columns(e,t))});lI=function(e,t,r){var n=e.aoData,a=k0(e,r),s=UC(hc(n,a,"anCells")),o=Ce(jC([],s)),u,l=e.aoColumns.length,g,h,_,x,S,w,c=function(v){var y=typeof v=="function";if(v==null||y){for(g=[],h=0,_=a.length;h<_;h++)for(u=a[h],x=0;x<l;x++)S={row:u,column:x},y?(w=n[u],v(S,zi(e,u,x),w.anCells?w.anCells[x]:null)&&g.push(S)):g.push(S);return g}if(Ce.isPlainObject(v))return v.column!==void 0&&v.row!==void 0&&Ce.inArray(v.row,a)!==-1?[v]:[];var b=o.filter(v).map(function(C,E){return{row:E._DT_CellIndex.row,column:E._DT_CellIndex.column}}).toArray();return b.length||!v.nodeName?b:(w=Ce(v).closest("*[data-dt-row]"),w.length?[{row:w.data("dt-row"),column:w.data("dt-column")}]:[])};return xb("cell",t,c,e,r)};$t("cells()",function(e,t,r){if(Ce.isPlainObject(e)&&(e.row===void 0?(r=e,e=null):(r=t,t=null)),Ce.isPlainObject(t)&&(r=t,t=null),t==null)return this.iterator("table",function(x){return lI(x,e,wb(r))});var n=r?{page:r.page,order:r.order,search:r.search}:{},a=this.columns(t,n),s=this.rows(e,n),o,u,l,g,h=this.iterator("table",function(x,S){var w=[];for(o=0,u=s[S].length;o<u;o++)for(l=0,g=a[S].length;l<g;l++)w.push({row:s[S][o],column:a[S][l]});return w},1),_=r&&r.selected?this.cells(h,r):h;return Ce.extend(_.selector,{cols:t,rows:e,opts:r}),_});Qr("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,r){var n=e.aoData[t];return n&&n.anCells?n.anCells[r]:void 0},1)});$t("cells().data()",function(){return this.iterator("cell",function(e,t,r){return zi(e,t,r)},1)});Qr("cells().cache()","cell().cache()",function(e){return e=e==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(t,r,n){return t.aoData[r][e][n]},1)});Qr("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,r,n){return zi(t,r,n,e)},1)});Qr("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,r){return{row:t,column:r,columnVisible:vc(e,r)}},1)});Qr("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,r,n){_c(t,r,e,n)})});$t("cell()",function(e,t,r){return Sb(this.cells(e,t,r))});$t("cell().data()",function(e){var t=this.context,r=this[0];return e===void 0?t.length&&r.length?zi(t[0],r[0].row,r[0].column):void 0:(YC(t[0],r[0].row,r[0].column,e),_c(t[0],r[0].row,"data",r[0].column),this)});$t("order()",function(e,t){var r=this.context;return e===void 0?r.length!==0?r[0].aaSorting:void 0:(typeof e=="number"?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(n){n.aaSorting=e.slice()}))});$t("order.listener()",function(e,t,r){return this.iterator("table",function(n){vb(n,e,t,r)})});$t("order.fixed()",function(e){if(!e){var t=this.context,r=t.length?t[0].aaSortingFixed:void 0;return Array.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=Ce.extend(!0,{},e)})});$t(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(r,n){var a=[];Ce.each(t[n],function(s,o){a.push([o,e])}),r.aaSorting=a})});$t("search()",function(e,t,r,n){var a=this.context;return e===void 0?a.length!==0?a[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(s){s.oFeatures.bFilter&&yc(s,Ce.extend({},s.oPreviousSearch,{sSearch:e+"",bRegex:t===null?!1:t,bSmart:r===null?!0:r,bCaseInsensitive:n===null?!0:n}),1)})});Qr("columns().search()","column().search()",function(e,t,r,n){return this.iterator("column",function(a,s){var o=a.aoPreSearchCols;if(e===void 0)return o[s].sSearch;a.oFeatures.bFilter&&(Ce.extend(o[s],{sSearch:e+"",bRegex:t===null?!1:t,bSmart:r===null?!0:r,bCaseInsensitive:n===null?!0:n}),yc(a,a.oPreviousSearch,1))})});$t("state()",function(){return this.context.length?this.context[0].oSavedState:null});$t("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})});$t("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});$t("state.save()",function(){return this.iterator("table",function(e){xc(e)})});St.use=function(e,t){t==="lib"||e.fn?Ce=e:t=="win"||e.document?(window=e,document=e.document):(t==="datetime"||e.type==="DateTime")&&(St.DateTime=e)};St.factory=function(e,t){var r=!1;return e&&e.document&&(window=e,document=e.document),t&&t.fn&&t.fn.jquery&&(Ce=t,r=!0),r};St.versionCheck=St.fnVersionCheck=function(e){for(var t=St.version.split("."),r=e.split("."),n,a,s=0,o=r.length;s<o;s++)if(n=parseInt(t[s],10)||0,a=parseInt(r[s],10)||0,n!==a)return n>a;return!0};St.isDataTable=St.fnIsDataTable=function(e){var t=Ce(e).get(0),r=!1;return e instanceof St.Api?!0:(Ce.each(St.settings,function(n,a){var s=a.nScrollHead?Ce("table",a.nScrollHead)[0]:null,o=a.nScrollFoot?Ce("table",a.nScrollFoot)[0]:null;(a.nTable===t||s===t||o===t)&&(r=!0)}),r)};St.tables=St.fnTables=function(e){var t=!1;Ce.isPlainObject(e)&&(t=e.api,e=e.visible);var r=Ce.map(St.settings,function(n){if(!e||e&&Ce(n.nTable).is(":visible"))return n.nTable});return t?new _r(r):r};St.camelToHungarian=Xs;$t("$()",function(e,t){var r=this.rows(t).nodes(),n=Ce(r);return Ce([].concat(n.filter(e).toArray(),n.find(e).toArray()))});Ce.each(["on","one","off"],function(e,t){$t(t+"()",function(){var r=Array.prototype.slice.call(arguments);r[0]=Ce.map(r[0].split(/\s/),function(a){return a.match(/\.dt\b/)?a:a+".dt"}).join(" ");var n=Ce(this.tables().nodes());return n[t].apply(n,r),this})});$t("clear()",function(){return this.iterator("table",function(e){M0(e)})});$t("settings()",function(){return new _r(this.context,this.context)});$t("init()",function(){var e=this.context;return e.length?e[0].oInit:null});$t("data()",function(){return this.iterator("table",function(e){return $i(e.aoData,"_aData")}).flatten()});$t("destroy()",function(e){return e=e||!1,this.iterator("table",function(t){var r=t.oClasses,n=t.nTable,a=t.nTBody,s=t.nTHead,o=t.nTFoot,u=Ce(n),l=Ce(a),g=Ce(t.nTableWrapper),h=Ce.map(t.aoData,function(v){return v.nTr}),_,x;t.bDestroying=!0,kr(t,"aoDestroyCallback","destroy",[t]),e||new _r(t).columns().visible(!0),g.off(".DT").find(":not(tbody *)").off(".DT"),Ce(window).off(".DT-"+t.sInstance),n!=s.parentNode&&(u.children("thead").detach(),u.append(s)),o&&n!=o.parentNode&&(u.children("tfoot").detach(),u.append(o)),t.aaSorting=[],t.aaSortingFixed=[],x0(t),Ce(h).removeClass(t.asStripeClasses.join(" ")),Ce("th, td",s).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),l.children().detach(),l.append(h);var S=t.nTableWrapper.parentNode,w=e?"remove":"detach";u[w](),g[w](),!e&&S&&(S.insertBefore(n,t.nTableReinsertBefore),u.css("width",t.sDestroyWidth).removeClass(r.sTable),x=t.asDestroyStripes.length,x&&l.children().each(function(v){Ce(this).addClass(t.asDestroyStripes[v%x])}));var c=Ce.inArray(t,St.settings);c!==-1&&St.settings.splice(c,1)})});Ce.each(["column","row","cell"],function(e,t){$t(t+"s().every()",function(r){var n=this.selector.opts,a=this;return this.iterator(t,function(s,o,u,l,g){r.call(a[t](o,t==="cell"?u:n,t==="cell"?n:void 0),o,u,l,g)})})});$t("i18n()",function(e,t,r){var n=this.context[0],a=lf(e)(n.oLanguage);return a===void 0&&(a=t),r!==void 0&&Ce.isPlainObject(a)&&(a=a[r]!==void 0?a[r]:a._),typeof a=="string"?a.replace("%d",r):a});St.version="1.13.5";St.settings=[];St.models={};St.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1};St.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};St.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};St.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:Ce.extend({},St.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};pc(St.defaults);St.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};pc(St.defaults.column);St.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return ti(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return ti(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,r=t+e,n=this.aiDisplay.length,a=this.oFeatures,s=a.bPaginate;return a.bServerSide?s===!1||e===-1?t+n:Math.min(t+e,this._iRecordsDisplay):!s||r>n||e===-1?n:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};St.ext=wn={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:St.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:St.version};Ce.extend(wn,{afnFiltering:wn.search,aTypes:wn.type.detect,ofnSearch:wn.type.search,oSort:wn.type.order,afnSortData:wn.order,aoFeatures:wn.feature,oApi:wn.internal,oStdClasses:wn.classes,oPagination:wn.pager});Ce.extend(St.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});SE=St.ext.pager;Ce.extend(SE,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[uc(e,t)]},simple_numbers:function(e,t){return["previous",uc(e,t),"next"]},full_numbers:function(e,t){return["first","previous",uc(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",uc(e,t),"last"]},_numbers:uc,numbers_length:7});Ce.extend(!0,St.ext.renderer,{pageButton:{_:function(e,t,r,n,a,s){var o=e.oClasses,u=e.oLanguage.oPaginate,l=e.oLanguage.oAria.paginate||{},g,h,_=function(S,w){var c,v,y,b,C,E=o.sPageButtonDisabled,p=function(P){L0(e,P.data.action,!0)};for(c=0,v=w.length;c<v;c++)if(b=w[c],Array.isArray(b)){var f=Ce("<"+(b.DT_el||"div")+"/>").appendTo(S);_(f,b)}else{switch(g=null,h=b,C=e.iTabIndex,b){case"ellipsis":S.append('<span class="ellipsis">&#x2026;</span>');break;case"first":g=u.sFirst,a===0&&(C=-1,h+=" "+E);break;case"previous":g=u.sPrevious,a===0&&(C=-1,h+=" "+E);break;case"next":g=u.sNext,(s===0||a===s-1)&&(C=-1,h+=" "+E);break;case"last":g=u.sLast,(s===0||a===s-1)&&(C=-1,h+=" "+E);break;default:g=e.fnFormatNumber(b+1),h=a===b?o.sPageButtonActive:"";break}if(g!==null){var D=e.oInit.pagingTag||"a",M=h.indexOf(E)!==-1;y=Ce("<"+D+">",{class:o.sPageButton+" "+h,"aria-controls":e.sTableId,"aria-disabled":M?"true":null,"aria-label":l[b],role:"link","aria-current":h===o.sPageButtonActive?"page":null,"data-dt-idx":b,tabindex:C,id:r===0&&typeof b=="string"?e.sTableId+"_"+b:null}).html(g).appendTo(S),_b(y,{action:b},p)}}},x;try{x=Ce(t).find(document.activeElement).data("dt-idx")}catch{}_(Ce(t).empty(),n),x!==void 0&&Ce(t).find("[data-dt-idx="+x+"]").trigger("focus")}}});Ce.extend(St.ext.type.detect,[function(e,t){var r=t.oLanguage.sDecimal;return J_(e,r)?"num"+r:null},function(e,t){if(e&&!(e instanceof Date)&&!HN.test(e))return null;var r=Date.parse(e);return r!==null&&!isNaN(r)||fs(e)?"date":null},function(e,t){var r=t.oLanguage.sDecimal;return J_(e,r,!0)?"num-fmt"+r:null},function(e,t){var r=t.oLanguage.sDecimal;return LC(e,r)?"html-num"+r:null},function(e,t){var r=t.oLanguage.sDecimal;return LC(e,r,!0)?"html-num-fmt"+r:null},function(e,t){return fs(e)||typeof e=="string"&&e.indexOf("<")!==-1?"html":null}]);Ce.extend(St.ext.type.search,{html:function(e){return fs(e)?e:typeof e=="string"?e.replace(TC," ").replace(_0,""):""},string:function(e){return fs(e)?e:typeof e=="string"?e.replace(TC," "):e}});p0=function(e,t,r,n){if(e!==0&&(!e||e==="-"))return-1/0;var a=typeof e;return a==="number"||a==="bigint"?e:(t&&(e=RC(e,t)),e.replace&&(r&&(e=e.replace(r,"")),n&&(e=e.replace(n,""))),e*1)};Ce.extend(wn.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return fs(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return fs(e)?"":typeof e=="string"?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}});sb("");Ce.extend(!0,St.ext.renderer,{header:{_:function(e,t,r,n){Ce(e.nTable).on("order.dt.DT",function(a,s,o,u){if(e===s){var l=r.idx;t.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass(u[l]=="asc"?n.sSortAsc:u[l]=="desc"?n.sSortDesc:r.sSortingClass)}})},jqueryui:function(e,t,r,n){Ce("<div/>").addClass(n.sSortJUIWrapper).append(t.contents()).append(Ce("<span/>").addClass(n.sSortIcon+" "+r.sSortingClassJUI)).appendTo(t),Ce(e.nTable).on("order.dt.DT",function(a,s,o,u){if(e===s){var l=r.idx;t.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass(u[l]=="asc"?n.sSortAsc:u[l]=="desc"?n.sSortDesc:r.sSortingClass),t.find("span."+n.sSortIcon).removeClass(n.sSortJUIAsc+" "+n.sSortJUIDesc+" "+n.sSortJUI+" "+n.sSortJUIAscAllowed+" "+n.sSortJUIDescAllowed).addClass(u[l]=="asc"?n.sSortJUIAsc:u[l]=="desc"?n.sSortJUIDesc:r.sSortingClassJUI)}})}}});v0=function(e){return Array.isArray(e)&&(e=e.join(",")),typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};zC=!1;CE=",",EE=".";if(window.Intl!==void 0)try{for(sf=new Intl.NumberFormat().formatToParts(100000.1),Ll=0;Ll<sf.length;Ll++)sf[Ll].type==="group"?CE=sf[Ll].value:sf[Ll].type==="decimal"&&(EE=sf[Ll].value)}catch{}St.datetime=function(e,t){var r="datetime-detect-"+e;t||(t="en"),St.ext.type.order[r]||(St.ext.type.detect.unshift(function(n){var a=S0(n,e,t);return n===""||a?r:!1}),St.ext.type.order[r+"-pre"]=function(n){return S0(n,e,t)||0})};St.render={date:Q_("toLocaleDateString"),datetime:Q_("toLocaleString"),time:Q_("toLocaleTimeString"),number:function(e,t,r,n,a){return e==null&&(e=CE),t==null&&(t=EE),{display:function(s){if(typeof s!="number"&&typeof s!="string"||s===""||s===null)return s;var o=s<0?"-":"",u=parseFloat(s);if(isNaN(u))return v0(s);u=u.toFixed(r),s=Math.abs(u);var l=parseInt(s,10),g=r?t+(s-l).toFixed(r).substring(2):"";return l===0&&parseFloat(g)===0&&(o=""),o+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+g+(a||"")}}},text:function(){return{display:v0,filter:v0}}};Ce.extend(St.ext.internal,{_fnExternApiFunc:DE,_fnBuildAjax:T0,_fnAjaxUpdate:XC,_fnAjaxParameters:$C,_fnAjaxUpdateDraw:QC,_fnAjaxDataSrc:bc,_fnAddColumn:ob,_fnColumnOptions:b0,_fnAdjustColumnSizing:mc,_fnVisibleToColumnIndex:gc,_fnColumnIndexToVisible:vc,_fnVisbleColumns:uf,_fnGetColumns:E0,_fnColumnTypes:lb,_fnApplyColumnDefs:VC,_fnHungarianMap:pc,_fnCamelToHungarian:Xs,_fnLanguageCompat:eb,_fnBrowserDetect:HC,_fnAddData:Fo,_fnAddTr:D0,_fnNodeToDataIndex:XN,_fnNodeToColumnIndex:$N,_fnGetCellData:zi,_fnSetCellData:YC,_fnSplitObjNotation:tb,_fnGetObjectDataFn:lf,_fnSetObjectDataFn:zo,_fnGetDataMaster:rb,_fnClearTable:M0,_fnDeleteIndex:m0,_fnInvalidate:_c,_fnGetRowElements:ub,_fnCreateTr:fb,_fnBuildHead:KC,_fnDrawHead:dc,_fnDraw:Bo,_fnReDraw:Ol,_fnAddOptionsHtml:ZC,_fnDetectHeader:cc,_fnGetUniqueThs:A0,_fnFeatureHtmlFilter:qC,_fnFilterComplete:yc,_fnFilterCustom:JC,_fnFilterColumn:eE,_fnFilter:tE,_fnFilterCreateSearch:cb,_fnEscapeRegex:hb,_fnFilterData:rE,_fnFeatureHtmlInfo:nE,_fnUpdateInfo:iE,_fnInfoMacros:aE,_fnInitialise:fc,_fnInitComplete:y0,_fnLengthChange:pb,_fnFeatureHtmlLength:sE,_fnFeatureHtmlPaginate:oE,_fnPageChange:L0,_fnFeatureHtmlProcessing:lE,_fnProcessingDisplay:Xi,_fnFeatureHtmlTable:uE,_fnScrollDraw:O0,_fnApplyToChildren:us,_fnCalculateColumnWidths:mb,_fnThrottle:gb,_fnConvertToWidth:fE,_fnGetWidestNode:dE,_fnGetMaxLenString:cE,_fnStringToCss:dn,_fnSortFlatten:ff,_fnSort:hE,_fnSortAria:pE,_fnSortListener:nb,_fnSortAttachListener:vb,_fnSortingClasses:x0,_fnSortData:mE,_fnSaveState:xc,_fnLoadState:gE,_fnImplementState:ib,_fnSettingsFromNode:w0,_fnLog:ca,_fnMap:Wa,_fnBindAction:_b,_fnCallbackReg:mi,_fnCallbackFire:kr,_fnLengthOverflow:bb,_fnRenderer:yb,_fnDataSource:ti,_fnRowAttributes:db,_fnExtend:ab,_fnCalculateEnd:function(){}});Ce.fn.dataTable=St;St.$=Ce;Ce.fn.dataTableSettings=St.settings;Ce.fn.dataTableExt=St.ext;Ce.fn.DataTable=function(e){return Ce(this).dataTable(e).api()};Ce.each(St,function(e,t){Ce.fn.DataTable[e]=t})});var uI,N0=ae(()=>{uI=en(oc(),1);ME();});var AE=ae(()=>{});function ds(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var kl=ae(()=>{});function I0(e){return e.length===1&&(e=fI(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)<0?n=s+1:a=s}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)>0?a=s:n=s+1}return n}}}function fI(e){return function(t,r){return ds(e(t),r)}}var Eb=ae(()=>{kl()});var TE,LE,dI,Ro,Db=ae(()=>{kl();Eb();TE=I0(ds),LE=TE.right,dI=TE.left,Ro=LE});var Mb=ae(()=>{});var OE=ae(()=>{Mb()});var kE=ae(()=>{});var df=ae(()=>{});var Ab=ae(()=>{df()});var Tb=ae(()=>{Ab()});function cs(e,t){var r=e.length,n=-1,a,s,o;if(t==null){for(;++n<r;)if((a=e[n])!=null&&a>=a)for(s=o=a;++n<r;)(a=e[n])!=null&&(s>a&&(s=a),o<a&&(o=a))}else for(;++n<r;)if((a=t(e[n],n,e))!=null&&a>=a)for(s=o=a;++n<r;)(a=t(e[n],n,e))!=null&&(s>a&&(s=a),o<a&&(o=a));return[s,o]}var Lb=ae(()=>{});var PE,hI,pI,Ob=ae(()=>{PE=Array.prototype,hI=PE.slice,pI=PE.map});var NE=ae(()=>{});var IE=ae(()=>{});function Ga(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}var kb=ae(()=>{});function F0(e,t,r){var n,a=-1,s,o,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(s=e,e=t,t=s),(u=cf(e,t,r))===0||!isFinite(u))return[];if(u>0)for(e=Math.ceil(e/u),t=Math.floor(t/u),o=new Array(s=Math.ceil(t-e+1));++a<s;)o[a]=(e+a)*u;else for(e=Math.floor(e*u),t=Math.ceil(t*u),o=new Array(s=Math.ceil(e-t+1));++a<s;)o[a]=(e-a)/u;return n&&o.reverse(),o}function cf(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,a);return a>=0?(s>=Pb?10:s>=Nb?5:s>=Ib?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=Pb?10:s>=Nb?5:s>=Ib?2:1)}function Pl(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=Pb?a*=10:s>=Nb?a*=5:s>=Ib&&(a*=2),t<e?-a:a}var Pb,Nb,Ib,zb=ae(()=>{Pb=Math.sqrt(50),Nb=Math.sqrt(10),Ib=Math.sqrt(2)});var Fb=ae(()=>{});var FE=ae(()=>{Ob();Db();NE();Lb();IE();kb();zb();Fb()});var B0=ae(()=>{df()});var BE=ae(()=>{Ob();kl();df();B0()});var RE=ae(()=>{Tb()});var UE=ae(()=>{});var jE=ae(()=>{df()});var WE=ae(()=>{kl();df();B0()});var GE=ae(()=>{});var Rb=ae(()=>{});var HE=ae(()=>{});var VE=ae(()=>{kl()});var YE=ae(()=>{});var KE=ae(()=>{});var Ub=ae(()=>{Rb()});var ZE=ae(()=>{Ub()});var gi=ae(()=>{Db();kl();Eb();OE();kE();Tb();Lb();FE();BE();RE();Fb();UE();jE();WE();GE();Rb();Mb();HE();B0();kb();VE();YE();KE();zb();Ub();Ab();ZE()});var R0,XE=ae(()=>{R0=Array.prototype.slice});function $E(e){return e}var QE=ae(()=>{});function bI(e){return"translate("+(e+.5)+",0)"}function yI(e){return"translate(0,"+(e+.5)+")"}function xI(e){return function(t){return+e(t)}}function wI(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(r){return+e(r)+t}}function SI(){return!this.__axis}function W0(e,t){var r=[],n=null,a=null,s=6,o=6,u=3,l=e===U0||e===Sc?-1:1,g=e===Sc||e===j0?"x":"y",h=e===U0||e===jb?bI:yI;function _(x){var S=n??(t.ticks?t.ticks.apply(t,r):t.domain()),w=a??(t.tickFormat?t.tickFormat.apply(t,r):$E),c=Math.max(s,0)+u,v=t.range(),y=+v[0]+.5,b=+v[v.length-1]+.5,C=(t.bandwidth?wI:xI)(t.copy()),E=x.selection?x.selection():x,p=E.selectAll(".domain").data([null]),f=E.selectAll(".tick").data(S,t).order(),D=f.exit(),M=f.enter().append("g").attr("class","tick"),P=f.select("line"),O=f.select("text");p=p.merge(p.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),f=f.merge(M),P=P.merge(M.append("line").attr("stroke","currentColor").attr(g+"2",l*s)),O=O.merge(M.append("text").attr("fill","currentColor").attr(g,l*c).attr("dy",e===U0?"0em":e===jb?"0.71em":"0.32em")),x!==E&&(p=p.transition(x),f=f.transition(x),P=P.transition(x),O=O.transition(x),D=D.transition(x).attr("opacity",qE).attr("transform",function(z){return isFinite(z=C(z))?h(z):this.getAttribute("transform")}),M.attr("opacity",qE).attr("transform",function(z){var k=this.parentNode.__axis;return h(k&&isFinite(k=k(z))?k:C(z))})),D.remove(),p.attr("d",e===Sc||e==j0?o?"M"+l*o+","+y+"H0.5V"+b+"H"+l*o:"M0.5,"+y+"V"+b:o?"M"+y+","+l*o+"V0.5H"+b+"V"+l*o:"M"+y+",0.5H"+b),f.attr("opacity",1).attr("transform",function(z){return h(C(z))}),P.attr(g+"2",l*s),O.attr(g,l*c).text(w),E.filter(SI).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===j0?"start":e===Sc?"end":"middle"),E.each(function(){this.__axis=C})}return _.scale=function(x){return arguments.length?(t=x,_):t},_.ticks=function(){return r=R0.call(arguments),_},_.tickArguments=function(x){return arguments.length?(r=x==null?[]:R0.call(x),_):r.slice()},_.tickValues=function(x){return arguments.length?(n=x==null?null:R0.call(x),_):n&&n.slice()},_.tickFormat=function(x){return arguments.length?(a=x,_):a},_.tickSize=function(x){return arguments.length?(s=o=+x,_):s},_.tickSizeInner=function(x){return arguments.length?(s=+x,_):s},_.tickSizeOuter=function(x){return arguments.length?(o=+x,_):o},_.tickPadding=function(x){return arguments.length?(u=+x,_):u},_}function Wb(e){return W0(U0,e)}function Gb(e){return W0(j0,e)}function Nl(e){return W0(jb,e)}function Il(e){return W0(Sc,e)}var U0,j0,jb,Sc,qE,JE=ae(()=>{XE();QE();U0=1,j0=2,jb=3,Sc=4,qE=1e-6});var eD=ae(()=>{JE()});function rD(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new G0(r)}function G0(e){this._=e}function EI(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function DI(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function tD(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=CI,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var CI,Hb,nD=ae(()=>{CI={value:function(){}};G0.prototype=rD.prototype={constructor:G0,on:function(e,t){var r=this._,n=EI(e+"",r),a,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((a=(e=n[s]).type)&&(a=DI(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=n[s]).type)r[a]=tD(r[a],e.name,t);else if(t==null)for(a in r)r[a]=tD(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new G0(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};Hb=rD});var Vb=ae(()=>{nD()});var H0,Yb,Kb=ae(()=>{H0="http://www.w3.org/1999/xhtml",Yb={svg:"http://www.w3.org/2000/svg",xhtml:H0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function $s(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Yb.hasOwnProperty(t)?{space:Yb[t],local:e}:e}var V0=ae(()=>{Kb()});function MI(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===H0&&t.documentElement.namespaceURI===H0?t.createElement(e):t.createElementNS(r,e)}}function AI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Y0(e){var t=$s(e);return(t.local?AI:MI)(t)}var Zb=ae(()=>{V0();Kb()});function TI(){}function zl(e){return e==null?TI:function(){return this.querySelector(e)}}var K0=ae(()=>{});function iD(e){typeof e!="function"&&(e=zl(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=new Array(o),l,g,h=0;h<o;++h)(l=s[h])&&(g=e.call(l,l.__data__,h,s))&&("__data__"in l&&(g.__data__=l.__data__),u[h]=g);return new cn(n,this._parents)}var aD=ae(()=>{Ha();K0()});function LI(){return[]}function Cc(e){return e==null?LI:function(){return this.querySelectorAll(e)}}var Xb=ae(()=>{});function sD(e){typeof e!="function"&&(e=Cc(e));for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var o=t[s],u=o.length,l,g=0;g<u;++g)(l=o[g])&&(n.push(e.call(l,l.__data__,g,o)),a.push(l));return new cn(n,a)}var oD=ae(()=>{Ha();Xb()});function Ec(e){return function(){return this.matches(e)}}var $b=ae(()=>{});function lD(e){typeof e!="function"&&(e=Ec(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=[],l,g=0;g<o;++g)(l=s[g])&&e.call(l,l.__data__,g,s)&&u.push(l);return new cn(n,this._parents)}var uD=ae(()=>{Ha();$b()});function Z0(e){return new Array(e.length)}var Qb=ae(()=>{});function fD(){return new cn(this._enter||this._groups.map(Z0),this._parents)}function Dc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var qb=ae(()=>{Qb();Ha();Dc.prototype={constructor:Dc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function dD(e){return function(){return e}}var cD=ae(()=>{});function OI(e,t,r,n,a,s){for(var o=0,u,l=t.length,g=s.length;o<g;++o)(u=t[o])?(u.__data__=s[o],n[o]=u):r[o]=new Dc(e,s[o]);for(;o<l;++o)(u=t[o])&&(a[o]=u)}function kI(e,t,r,n,a,s,o){var u,l,g={},h=t.length,_=s.length,x=new Array(h),S;for(u=0;u<h;++u)(l=t[u])&&(x[u]=S=hD+o.call(l,l.__data__,u,t),S in g?a[u]=l:g[S]=l);for(u=0;u<_;++u)S=hD+o.call(e,s[u],u,s),(l=g[S])?(n[u]=l,l.__data__=s[u],g[S]=null):r[u]=new Dc(e,s[u]);for(u=0;u<h;++u)(l=t[u])&&g[x[u]]===l&&(a[u]=l)}function pD(e,t){if(!e)return S=new Array(this.size()),g=-1,this.each(function(f){S[++g]=f}),S;var r=t?kI:OI,n=this._parents,a=this._groups;typeof e!="function"&&(e=dD(e));for(var s=a.length,o=new Array(s),u=new Array(s),l=new Array(s),g=0;g<s;++g){var h=n[g],_=a[g],x=_.length,S=e.call(h,h&&h.__data__,g,n),w=S.length,c=u[g]=new Array(w),v=o[g]=new Array(w),y=l[g]=new Array(x);r(h,_,c,v,y,S,t);for(var b=0,C=0,E,p;b<w;++b)if(E=c[b]){for(b>=C&&(C=b+1);!(p=v[C])&&++C<w;);E._next=p||null}}return o=new cn(o,n),o._enter=u,o._exit=l,o}var hD,mD=ae(()=>{Ha();qb();cD();hD="$"});function gD(){return new cn(this._exit||this._groups.map(Z0),this._parents)}var vD=ae(()=>{Qb();Ha()});function _D(e,t,r){var n=this.enter(),a=this,s=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(a=t(a)),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}var bD=ae(()=>{});function yD(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),u=0;u<s;++u)for(var l=t[u],g=r[u],h=l.length,_=o[u]=new Array(h),x,S=0;S<h;++S)(x=l[S]||g[S])&&(_[S]=x);for(;u<n;++u)o[u]=t[u];return new cn(o,this._parents)}var xD=ae(()=>{Ha()});function wD(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],o;--a>=0;)(o=n[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}var SD=ae(()=>{});function CD(e){e||(e=PI);function t(_,x){return _&&x?e(_.__data__,x.__data__):!_-!x}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var o=r[s],u=o.length,l=a[s]=new Array(u),g,h=0;h<u;++h)(g=o[h])&&(l[h]=g);l.sort(t)}return new cn(a,this._parents).order()}function PI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var ED=ae(()=>{Ha()});function DD(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var MD=ae(()=>{});function AD(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}var TD=ae(()=>{});function LD(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null}var OD=ae(()=>{});function kD(){var e=0;return this.each(function(){++e}),e}var PD=ae(()=>{});function ND(){return!this.node()}var ID=ae(()=>{});function zD(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length,u;s<o;++s)(u=a[s])&&e.call(u,u.__data__,s,a);return this}var FD=ae(()=>{});function NI(e){return function(){this.removeAttribute(e)}}function II(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zI(e,t){return function(){this.setAttribute(e,t)}}function FI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function BI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function RI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function BD(e,t){var r=$s(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?II:NI:typeof t=="function"?r.local?RI:BI:r.local?FI:zI)(r,t))}var RD=ae(()=>{V0()});function X0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var Jb=ae(()=>{});function jI(e){return function(){this.style.removeProperty(e)}}function WI(e,t,r){return function(){this.style.setProperty(e,t,r)}}function GI(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function UD(e,t,r){return arguments.length>1?this.each((t==null?jI:typeof t=="function"?GI:WI)(e,t,r??"")):Uo(this.node(),e)}function Uo(e,t){return e.style.getPropertyValue(t)||X0(e).getComputedStyle(e,null).getPropertyValue(t)}var ey=ae(()=>{Jb()});function HI(e){return function(){delete this[e]}}function VI(e,t){return function(){this[e]=t}}function YI(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function jD(e,t){return arguments.length>1?this.each((t==null?HI:typeof t=="function"?YI:VI)(e,t)):this.node()[e]}var WD=ae(()=>{});function GD(e){return e.trim().split(/^|\s+/)}function ty(e){return e.classList||new HD(e)}function HD(e){this._node=e,this._names=GD(e.getAttribute("class")||"")}function VD(e,t){for(var r=ty(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function YD(e,t){for(var r=ty(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function KI(e){return function(){VD(this,e)}}function ZI(e){return function(){YD(this,e)}}function XI(e,t){return function(){(t.apply(this,arguments)?VD:YD)(this,e)}}function KD(e,t){var r=GD(e+"");if(arguments.length<2){for(var n=ty(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?XI:t?KI:ZI)(r,t))}var ZD=ae(()=>{HD.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function $I(){this.textContent=""}function QI(e){return function(){this.textContent=e}}function qI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function XD(e){return arguments.length?this.each(e==null?$I:(typeof e=="function"?qI:QI)(e)):this.node().textContent}var $D=ae(()=>{});function JI(){this.innerHTML=""}function ez(e){return function(){this.innerHTML=e}}function tz(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function QD(e){return arguments.length?this.each(e==null?JI:(typeof e=="function"?tz:ez)(e)):this.node().innerHTML}var qD=ae(()=>{});function rz(){this.nextSibling&&this.parentNode.appendChild(this)}function JD(){return this.each(rz)}var eM=ae(()=>{});function nz(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tM(){return this.each(nz)}var rM=ae(()=>{});function nM(e){var t=typeof e=="function"?e:Y0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var iM=ae(()=>{Zb()});function iz(){return null}function aM(e,t){var r=typeof e=="function"?e:Y0(e),n=t==null?iz:typeof t=="function"?t:zl(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var sM=ae(()=>{Zb();K0()});function az(){var e=this.parentNode;e&&e.removeChild(this)}function oM(){return this.each(az)}var lM=ae(()=>{});function sz(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oz(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uM(e){return this.select(e?oz:sz)}var fM=ae(()=>{});function dM(e){return arguments.length?this.property("__data__",e):this.node().__data__}var cM=ae(()=>{});function lz(e,t,r){return e=mM(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function mM(e,t,r){return function(n){var a=ry;ry=n;try{e.call(this,this.__data__,t,r)}finally{ry=a}}}function uz(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function fz(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++n]=s;++n?t.length=n:delete this.__on}}}function dz(e,t,r){var n=pM.hasOwnProperty(e.type)?lz:mM;return function(a,s,o){var u=this.__on,l,g=n(t,s,o);if(u){for(var h=0,_=u.length;h<_;++h)if((l=u[h]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=g,l.capture=r),l.value=t;return}}this.addEventListener(e.type,g,r),l={type:e.type,name:e.name,value:t,listener:g,capture:r},u?u.push(l):this.__on=[l]}}function gM(e,t,r){var n=uz(e+""),a,s=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,g=u.length,h;l<g;++l)for(a=0,h=u[l];a<s;++a)if((o=n[a]).type===h.type&&o.name===h.name)return h.value}return}for(u=t?dz:fz,r==null&&(r=!1),a=0;a<s;++a)this.each(u(n[a],t,r));return this}var pM,ry,hM,vM=ae(()=>{pM={},ry=null;typeof document<"u"&&(hM=document.documentElement,"onmouseenter"in hM||(pM={mouseenter:"mouseover",mouseleave:"mouseout"}))});function _M(e,t,r){var n=X0(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function cz(e,t){return function(){return _M(this,e,t)}}function hz(e,t){return function(){return _M(this,e,t.apply(this,arguments))}}function bM(e,t){return this.each((typeof t=="function"?hz:cz)(e,t))}var yM=ae(()=>{Jb()});function cn(e,t){this._groups=e,this._parents=t}function xM(){return new cn([[document.documentElement]],ny)}var ny,Qs,Ha=ae(()=>{aD();oD();uD();mD();qb();vD();bD();xD();SD();ED();MD();TD();OD();PD();ID();FD();RD();ey();WD();ZD();$D();qD();eM();rM();iM();sM();lM();fM();cM();vM();yM();ny=[null];cn.prototype=xM.prototype={constructor:cn,select:iD,selectAll:sD,filter:lD,data:pD,enter:fD,exit:gD,join:_D,merge:yD,order:wD,sort:CD,call:DD,nodes:AD,node:LD,size:kD,empty:ND,each:zD,attr:BD,style:UD,property:jD,classed:KD,text:XD,html:QD,raise:JD,lower:tM,append:nM,insert:aM,remove:oM,clone:uM,datum:dM,on:gM,dispatch:bM};Qs=xM});function qr(e){return typeof e=="string"?new cn([[document.querySelector(e)]],[document.documentElement]):new cn([[e]],ny)}var wM=ae(()=>{Ha()});var ha=ae(()=>{$b();V0();wM();Ha();K0();Xb();ey()});var SM=ae(()=>{});function hf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Mc(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var iy=ae(()=>{});function Bl(){}function EM(){return this.rgb().formatHex()}function xz(){return OM(this).formatHsl()}function DM(){return this.rgb().formatRgb()}function Va(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=pz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?MM(t):r===3?new ri(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mz.exec(e))?new ri(t[1],t[2],t[3],1):(t=gz.exec(e))?new ri(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vz.exec(e))?$0(t[1],t[2],t[3],t[4]):(t=_z.exec(e))?$0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bz.exec(e))?LM(t[1],t[2]/100,t[3]/100,1):(t=yz.exec(e))?LM(t[1],t[2]/100,t[3]/100,t[4]):CM.hasOwnProperty(e)?MM(CM[e]):e==="transparent"?new ri(NaN,NaN,NaN,0):null}function MM(e){return new ri(e>>16&255,e>>8&255,e&255,1)}function $0(e,t,r,n){return n<=0&&(e=t=r=NaN),new ri(e,t,r,n)}function oy(e){return e instanceof Bl||(e=Va(e)),e?(e=e.rgb(),new ri(e.r,e.g,e.b,e.opacity)):new ri}function mf(e,t,r,n){return arguments.length===1?oy(e):new ri(e,t,r,n??1)}function ri(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function AM(){return"#"+ay(this.r)+ay(this.g)+ay(this.b)}function TM(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function ay(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function LM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hs(e,t,r,n)}function OM(e){if(e instanceof hs)return new hs(e.h,e.s,e.l,e.opacity);if(e instanceof Bl||(e=Va(e)),!e)return new hs;if(e instanceof hs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,u=s-a,l=(s+a)/2;return u?(t===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-t)/u+2:o=(t-r)/u+4,u/=l<.5?s+a:2-s-a,o*=60):u=l>0&&l<1?0:o,new hs(o,u,l,e.opacity)}function kM(e,t,r,n){return arguments.length===1?OM(e):new hs(e,t,r,n??1)}function hs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function sy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var jo,Fl,pf,Ac,ps,pz,mz,gz,vz,_z,bz,yz,CM,ly=ae(()=>{iy();jo=.7,Fl=1/jo,pf="\\s*([+-]?\\d+)\\s*",Ac="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ps="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pz=/^#([0-9a-f]{3,8})$/,mz=new RegExp("^rgb\\("+[pf,pf,pf]+"\\)$"),gz=new RegExp("^rgb\\("+[ps,ps,ps]+"\\)$"),vz=new RegExp("^rgba\\("+[pf,pf,pf,Ac]+"\\)$"),_z=new RegExp("^rgba\\("+[ps,ps,ps,Ac]+"\\)$"),bz=new RegExp("^hsl\\("+[Ac,ps,ps]+"\\)$"),yz=new RegExp("^hsla\\("+[Ac,ps,ps,Ac]+"\\)$"),CM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hf(Bl,Va,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:EM,formatHex:EM,formatHsl:xz,formatRgb:DM,toString:DM});hf(ri,mf,Mc(Bl,{brighter:function(e){return e=e==null?Fl:Math.pow(Fl,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?jo:Math.pow(jo,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AM,formatHex:AM,formatRgb:TM,toString:TM}));hf(hs,kM,Mc(Bl,{brighter:function(e){return e=e==null?Fl:Math.pow(Fl,e),new hs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?jo:Math.pow(jo,e),new hs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ri(sy(e>=240?e-240:e+120,a,n),sy(e,a,n),sy(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}))});var PM,NM,IM=ae(()=>{PM=Math.PI/180,NM=180/Math.PI});function wz(e){if(e instanceof Rl)return new Rl(e.h,e.s,e.l,e.opacity);e instanceof ri||(e=oy(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(BM*n+zM*t-FM*r)/(BM+zM-FM),s=n-a,o=(Tc*(r-a)-fy*s)/Q0,u=Math.sqrt(o*o+s*s)/(Tc*a*(1-a)),l=u?Math.atan2(o,s)*NM-120:NaN;return new Rl(l<0?l+360:l,u,a,e.opacity)}function vi(e,t,r,n){return arguments.length===1?wz(e):new Rl(e,t,r,n??1)}function Rl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}var RM,uy,fy,Q0,Tc,zM,FM,BM,UM=ae(()=>{iy();ly();IM();RM=-.14861,uy=1.78277,fy=-.29227,Q0=-.90649,Tc=1.97294,zM=Tc*Q0,FM=Tc*uy,BM=uy*fy-Q0*RM;hf(Rl,vi,Mc(Bl,{brighter:function(e){return e=e==null?Fl:Math.pow(Fl,e),new Rl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?jo:Math.pow(jo,e),new Rl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*PM,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new ri(255*(t+r*(RM*n+uy*a)),255*(t+r*(fy*n+Q0*a)),255*(t+r*(Tc*n)),this.opacity)}}))});var Wo=ae(()=>{ly();UM()});function dy(e,t,r,n,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*a)/6}function jM(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],s=e[n+1],o=n>0?e[n-1]:2*a-s,u=n<t-1?e[n+2]:2*s-a;return dy((r-n/t)*t,o,a,s,u)}}var cy=ae(()=>{});function WM(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],u=e[(n+2)%t];return dy((r-n/t)*t,a,s,o,u)}}var GM=ae(()=>{cy()});function gf(e){return function(){return e}}var hy=ae(()=>{});function HM(e,t){return function(r){return e+r*t}}function Sz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function VM(e,t){var r=t-e;return r?HM(e,r>180||r<-180?r-360*Math.round(r/360):r):gf(isNaN(e)?t:e)}function YM(e){return(e=+e)==1?qs:function(t,r){return r-t?Sz(t,r,e):gf(isNaN(t)?r:t)}}function qs(e,t){var r=t-e;return r?HM(e,r):gf(isNaN(e)?t:e)}var py=ae(()=>{hy()});function KM(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),s=new Array(r),o,u;for(o=0;o<r;++o)u=mf(t[o]),n[o]=u.r||0,a[o]=u.g||0,s[o]=u.b||0;return n=e(n),a=e(a),s=e(s),u.opacity=1,function(l){return u.r=n(l),u.g=a(l),u.b=s(l),u+""}}}var Ul,Cz,Ez,my=ae(()=>{Wo();cy();GM();py();Ul=function e(t){var r=YM(t);function n(a,s){var o=r((a=mf(a)).r,(s=mf(s)).r),u=r(a.g,s.g),l=r(a.b,s.b),g=qs(a.opacity,s.opacity);return function(h){return a.r=o(h),a.g=u(h),a.b=l(h),a.opacity=g(h),a+""}}return n.gamma=e,n}(1);Cz=KM(jM),Ez=KM(WM)});function ZM(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function XM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var $M=ae(()=>{});function QM(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Js(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(u){for(o=0;o<n;++o)s[o]=a[o](u);return s}}var qM=ae(()=>{q0()});function JM(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var e5=ae(()=>{});function Mn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Lc=ae(()=>{});function t5(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Js(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var r5=ae(()=>{q0()});function Dz(e){return function(){return e}}function Mz(e){return function(t){return e(t)+""}}function Oc(e,t){var r=vy.lastIndex=gy.lastIndex=0,n,a,s,o=-1,u=[],l=[];for(e=e+"",t=t+"";(n=vy.exec(e))&&(a=gy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,l.push({i:o,x:Mn(n,a)})),r=gy.lastIndex;return r<t.length&&(s=t.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?l[0]?Mz(l[0].x):Dz(t):(t=l.length,function(g){for(var h=0,_;h<t;++h)u[(_=l[h]).i]=_.x(g);return u.join("")})}var vy,gy,_y=ae(()=>{Lc();vy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gy=new RegExp(vy.source,"g")});function Js(e,t){var r=typeof t,n;return t==null||r==="boolean"?gf(t):(r==="number"?Mn:r==="string"?(n=Va(t))?(t=n,Ul):Oc:t instanceof Va?Ul:t instanceof Date?JM:XM(t)?ZM:Array.isArray(t)?QM:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?t5:Mn)(e,t)}var q0=ae(()=>{Wo();my();qM();e5();Lc();r5();_y();hy();$M()});function kc(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var n5=ae(()=>{});function by(e,t,r,n,a,s){var o,u,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,l/=u),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*i5,skewX:Math.atan(l)*i5,scaleX:o,scaleY:u}}var i5,J0,a5=ae(()=>{i5=180/Math.PI,J0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function o5(e){return e==="none"?J0:(Pc||(Pc=document.createElement("DIV"),yy=document.documentElement,s5=document.defaultView),Pc.style.transform=e,e=s5.getComputedStyle(yy.appendChild(Pc),null).getPropertyValue("transform"),yy.removeChild(Pc),e=e.slice(7,-1).split(","),by(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function l5(e){return e==null?J0:(em||(em=document.createElementNS("http://www.w3.org/2000/svg","g")),em.setAttribute("transform",e),(e=em.transform.baseVal.consolidate())?(e=e.matrix,by(e.a,e.b,e.c,e.d,e.e,e.f)):J0)}var Pc,yy,s5,em,u5=ae(()=>{a5()});function f5(e,t,r,n){function a(g){return g.length?g.pop()+" ":""}function s(g,h,_,x,S,w){if(g!==_||h!==x){var c=S.push("translate(",null,t,null,r);w.push({i:c-4,x:Mn(g,_)},{i:c-2,x:Mn(h,x)})}else(_||x)&&S.push("translate("+_+t+x+r)}function o(g,h,_,x){g!==h?(g-h>180?h+=360:h-g>180&&(g+=360),x.push({i:_.push(a(_)+"rotate(",null,n)-2,x:Mn(g,h)})):h&&_.push(a(_)+"rotate("+h+n)}function u(g,h,_,x){g!==h?x.push({i:_.push(a(_)+"skewX(",null,n)-2,x:Mn(g,h)}):h&&_.push(a(_)+"skewX("+h+n)}function l(g,h,_,x,S,w){if(g!==_||h!==x){var c=S.push(a(S)+"scale(",null,",",null,")");w.push({i:c-4,x:Mn(g,_)},{i:c-2,x:Mn(h,x)})}else(_!==1||x!==1)&&S.push(a(S)+"scale("+_+","+x+")")}return function(g,h){var _=[],x=[];return g=e(g),h=e(h),s(g.translateX,g.translateY,h.translateX,h.translateY,_,x),o(g.rotate,h.rotate,_,x),u(g.skewX,h.skewX,_,x),l(g.scaleX,g.scaleY,h.scaleX,h.scaleY,_,x),g=h=null,function(S){for(var w=-1,c=x.length,v;++w<c;)_[(v=x[w]).i]=v.x(S);return _.join("")}}}var xy,wy,d5=ae(()=>{Lc();u5();xy=f5(o5,"px, ","px)","deg)"),wy=f5(l5,", ",")",")")});function c5(e){return function t(r){r=+r;function n(a,s){var o=e((a=vi(a)).h,(s=vi(s)).h),u=qs(a.s,s.s),l=qs(a.l,s.l),g=qs(a.opacity,s.opacity);return function(h){return a.h=o(h),a.s=u(h),a.l=l(Math.pow(h,r)),a.opacity=g(h),a+""}}return n.gamma=t,n}(1)}var Az,vf,h5=ae(()=>{Wo();py();Az=c5(VM),vf=c5(qs)});var ms=ae(()=>{q0();Lc();n5();_y();d5();my();h5()});function bf(){return jl||(g5(Tz),jl=Fc.now()+nm)}function Tz(){jl=0}function Bc(){this._call=this._time=this._next=null}function im(e,t,r){var n=new Bc;return n.restart(e,t,r),n}function v5(){bf(),++_f;for(var e=tm,t;e;)(t=jl-e._time)>=0&&e._call.call(null,t),e=e._next;--_f}function p5(){jl=(rm=Fc.now())+nm,_f=Ic=0;try{v5()}finally{_f=0,Oz(),jl=0}}function Lz(){var e=Fc.now(),t=e-rm;t>m5&&(nm-=t,rm=e)}function Oz(){for(var e,t=tm,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:tm=r);zc=e,Sy(n)}function Sy(e){if(!_f){Ic&&(Ic=clearTimeout(Ic));var t=e-jl;t>24?(e<1/0&&(Ic=setTimeout(p5,e-Fc.now()-nm)),Nc&&(Nc=clearInterval(Nc))):(Nc||(rm=Fc.now(),Nc=setInterval(Lz,m5)),_f=1,g5(p5))}}var _f,Ic,Nc,m5,tm,zc,rm,jl,nm,Fc,g5,Cy=ae(()=>{_f=0,Ic=0,Nc=0,m5=1e3,rm=0,jl=0,nm=0,Fc=typeof performance=="object"&&performance.now?performance:Date,g5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};Bc.prototype=im.prototype={constructor:Bc,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?bf():+r)+(t==null?0:+t),!this._next&&zc!==this&&(zc?zc._next=this:tm=this,zc=this),this._call=e,this._time=r,Sy()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sy())}}});function am(e,t,r){var n=new Bc;return t=t==null?0:+t,n.restart(function(a){n.stop(),e(a+t)},t,r),n}var _5=ae(()=>{Cy()});var sm=ae(()=>{Cy();_5()});function Go(e,t,r,n,a,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;Nz(e,r,{name:t,index:n,group:a,on:kz,tween:Pz,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:y5})}function Uc(e,t){var r=An(e,t);if(r.state>y5)throw new Error("too late; already scheduled");return r}function _i(e,t){var r=An(e,t);if(r.state>om)throw new Error("too late; already running");return r}function An(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Nz(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=im(s,0,r.time);function s(g){r.state=Ey,r.timer.restart(o,r.delay,r.time),r.delay<=g&&o(g-r.delay)}function o(g){var h,_,x,S;if(r.state!==Ey)return l();for(h in n)if(S=n[h],S.name===r.name){if(S.state===om)return am(o);S.state===b5?(S.state=Rc,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete n[h]):+h<t&&(S.state=Rc,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete n[h])}if(am(function(){r.state===om&&(r.state=b5,r.timer.restart(u,r.delay,r.time),u(g))}),r.state=lm,r.on.call("start",e,e.__data__,r.index,r.group),r.state===lm){for(r.state=om,a=new Array(x=r.tween.length),h=0,_=-1;h<x;++h)(S=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(a[++_]=S);a.length=_+1}}function u(g){for(var h=g<r.duration?r.ease.call(null,g/r.duration):(r.timer.restart(l),r.state=um,1),_=-1,x=a.length;++_<x;)a[_].call(e,h);r.state===um&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Rc,r.timer.stop(),delete n[t];for(var g in n)return;delete e.__transition}}var kz,Pz,y5,Ey,lm,om,b5,um,Rc,Fi=ae(()=>{Vb();sm();kz=Hb("start","end","cancel","interrupt"),Pz=[],y5=0,Ey=1,lm=2,om=3,b5=4,um=5,Rc=6});function jc(e,t){var r=e.__transition,n,a,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}a=n.state>lm&&n.state<um,n.state=Rc,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}var Dy=ae(()=>{Fi()});function x5(e){return this.each(function(){jc(this,e)})}var w5=ae(()=>{Dy()});function Iz(e,t){var r,n;return function(){var a=_i(this,e),s=a.tween;if(s!==r){n=r=s;for(var o=0,u=n.length;o<u;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function zz(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=_i(this,e),o=s.tween;if(o!==n){a=(n=o).slice();for(var u={name:t,value:r},l=0,g=a.length;l<g;++l)if(a[l].name===t){a[l]=u;break}l===g&&a.push(u)}s.tween=a}}function S5(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=An(this.node(),r).tween,a=0,s=n.length,o;a<s;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?Iz:zz)(r,e,t))}function yf(e,t,r){var n=e._id;return e.each(function(){var a=_i(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return An(a,n).value[t]}}var Wc=ae(()=>{Fi()});function fm(e,t){var r;return(typeof t=="number"?Mn:t instanceof Va?Ul:(r=Va(t))?(t=r,Ul):Oc)(e,t)}var My=ae(()=>{Wo();ms()});function Fz(e){return function(){this.removeAttribute(e)}}function Bz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rz(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===n?s:s=t(n=o,r)}}function Uz(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?s:s=t(n=o,r)}}function jz(e,t,r){var n,a,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=u+"",o===l?null:o===n&&l===a?s:(a=l,s=t(n=o,u)))}}function Wz(e,t,r){var n,a,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=u+"",o===l?null:o===n&&l===a?s:(a=l,s=t(n=o,u)))}}function C5(e,t){var r=$s(e),n=r==="transform"?wy:fm;return this.attrTween(e,typeof t=="function"?(r.local?Wz:jz)(r,n,yf(this,"attr."+e,t)):t==null?(r.local?Bz:Fz)(r):(r.local?Uz:Rz)(r,n,t))}var E5=ae(()=>{ms();ha();Wc();My()});function Gz(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Hz(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Vz(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Hz(e,s)),r}return a._value=t,a}function Yz(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Gz(e,s)),r}return a._value=t,a}function D5(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=$s(e);return this.tween(r,(n.local?Vz:Yz)(n,t))}var M5=ae(()=>{ha()});function Kz(e,t){return function(){Uc(this,e).delay=+t.apply(this,arguments)}}function Zz(e,t){return t=+t,function(){Uc(this,e).delay=t}}function A5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Kz:Zz)(t,e)):An(this.node(),t).delay}var T5=ae(()=>{Fi()});function Xz(e,t){return function(){_i(this,e).duration=+t.apply(this,arguments)}}function $z(e,t){return t=+t,function(){_i(this,e).duration=t}}function L5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Xz:$z)(t,e)):An(this.node(),t).duration}var O5=ae(()=>{Fi()});function Qz(e,t){if(typeof t!="function")throw new Error;return function(){_i(this,e).ease=t}}function k5(e){var t=this._id;return arguments.length?this.each(Qz(t,e)):An(this.node(),t).ease}var P5=ae(()=>{Fi()});function N5(e){typeof e!="function"&&(e=Ec(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=[],l,g=0;g<o;++g)(l=s[g])&&e.call(l,l.__data__,g,s)&&u.push(l);return new ni(n,this._parents,this._name,this._id)}var I5=ae(()=>{ha();eo()});function z5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),u=0;u<s;++u)for(var l=t[u],g=r[u],h=l.length,_=o[u]=new Array(h),x,S=0;S<h;++S)(x=l[S]||g[S])&&(_[S]=x);for(;u<n;++u)o[u]=t[u];return new ni(o,this._parents,this._name,this._id)}var F5=ae(()=>{eo()});function qz(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Jz(e,t,r){var n,a,s=qz(t)?Uc:_i;return function(){var o=s(this,e),u=o.on;u!==n&&(a=(n=u).copy()).on(t,r),o.on=a}}function B5(e,t){var r=this._id;return arguments.length<2?An(this.node(),r).on.on(e):this.each(Jz(r,e,t))}var R5=ae(()=>{Fi()});function e9(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function U5(){return this.on("end.remove",e9(this._id))}var j5=ae(()=>{});function W5(e){var t=this._name,r=this._id;typeof e!="function"&&(e=zl(e));for(var n=this._groups,a=n.length,s=new Array(a),o=0;o<a;++o)for(var u=n[o],l=u.length,g=s[o]=new Array(l),h,_,x=0;x<l;++x)(h=u[x])&&(_=e.call(h,h.__data__,x,u))&&("__data__"in h&&(_.__data__=h.__data__),g[x]=_,Go(g[x],t,r,x,g,An(h,r)));return new ni(s,this._parents,t,r)}var G5=ae(()=>{ha();eo();Fi()});function H5(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Cc(e));for(var n=this._groups,a=n.length,s=[],o=[],u=0;u<a;++u)for(var l=n[u],g=l.length,h,_=0;_<g;++_)if(h=l[_]){for(var x=e.call(h,h.__data__,_,l),S,w=An(h,r),c=0,v=x.length;c<v;++c)(S=x[c])&&Go(S,t,r,c,x,w);s.push(x),o.push(h)}return new ni(s,o,t,r)}var V5=ae(()=>{ha();eo();Fi()});function Y5(){return new t9(this._groups,this._parents)}var t9,K5=ae(()=>{ha();t9=Qs.prototype.constructor});function r9(e,t){var r,n,a;return function(){var s=Uo(this,e),o=(this.style.removeProperty(e),Uo(this,e));return s===o?null:s===r&&o===n?a:a=t(r=s,n=o)}}function Z5(e){return function(){this.style.removeProperty(e)}}function n9(e,t,r){var n,a=r+"",s;return function(){var o=Uo(this,e);return o===a?null:o===n?s:s=t(n=o,r)}}function i9(e,t,r){var n,a,s;return function(){var o=Uo(this,e),u=r(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),Uo(this,e))),o===l?null:o===n&&l===a?s:(a=l,s=t(n=o,u))}}function a9(e,t){var r,n,a,s="style."+t,o="end."+s,u;return function(){var l=_i(this,e),g=l.on,h=l.value[s]==null?u||(u=Z5(t)):void 0;(g!==r||a!==h)&&(n=(r=g).copy()).on(o,a=h),l.on=n}}function X5(e,t,r){var n=(e+="")=="transform"?xy:fm;return t==null?this.styleTween(e,r9(e,n)).on("end.style."+e,Z5(e)):typeof t=="function"?this.styleTween(e,i9(e,n,yf(this,"style."+e,t))).each(a9(this._id,e)):this.styleTween(e,n9(e,n,t),r).on("end.style."+e,null)}var $5=ae(()=>{ms();ha();Fi();Wc();My()});function s9(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function o9(e,t,r){var n,a;function s(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&s9(e,o,r)),n}return s._value=t,s}function Q5(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,o9(e,t,r??""))}var q5=ae(()=>{});function l9(e){return function(){this.textContent=e}}function u9(e){return function(){var t=e(this);this.textContent=t??""}}function J5(e){return this.tween("text",typeof e=="function"?u9(yf(this,"text",e)):l9(e==null?"":e+""))}var eA=ae(()=>{Wc()});function f9(e){return function(t){this.textContent=e.call(this,t)}}function d9(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&f9(a)),t}return n._value=e,n}function tA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,d9(e))}var rA=ae(()=>{});function nA(){for(var e=this._name,t=this._id,r=dm(),n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],u=o.length,l,g=0;g<u;++g)if(l=o[g]){var h=An(l,t);Go(l,e,r,g,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ni(n,this._parents,e,r)}var iA=ae(()=>{eo();Fi()});function aA(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,o){var u={value:o},l={value:function(){--a===0&&s()}};r.each(function(){var g=_i(this,n),h=g.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),g.on=t})})}var sA=ae(()=>{Fi()});function ni(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Ay(e){return Qs().transition(e)}function dm(){return++c9}var c9,xf,eo=ae(()=>{ha();E5();M5();T5();O5();P5();I5();F5();R5();j5();G5();V5();K5();$5();q5();eA();rA();iA();Wc();sA();c9=0;xf=Qs.prototype;ni.prototype=Ay.prototype={constructor:ni,select:W5,selectAll:H5,filter:N5,merge:z5,selection:Y5,transition:nA,call:xf.call,nodes:xf.nodes,node:xf.node,size:xf.size,empty:xf.empty,each:xf.each,on:B5,attr:C5,attrTween:D5,style:X5,styleTween:Q5,text:J5,textTween:tA,remove:U5,tween:S5,delay:A5,duration:L5,ease:k5,end:aA}});function cm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var oA=ae(()=>{});var Ty=ae(()=>{oA()});function h9(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return Ly.time=bf(),Ly;return r}function lA(e){var t,r;e instanceof ni?(t=e._id,e=e._name):(t=dm(),(r=Ly).time=bf(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],u=o.length,l,g=0;g<u;++g)(l=o[g])&&Go(l,e,t,g,o,r||h9(l,t));return new ni(n,this._parents,e,t)}var Ly,uA=ae(()=>{eo();Fi();Ty();sm();Ly={time:null,delay:0,duration:250,ease:cm}});var fA=ae(()=>{ha();w5();uA();Qs.prototype.interrupt=x5;Qs.prototype.transition=lA});var dA=ae(()=>{eo();Fi()});var Wl=ae(()=>{fA();eo();dA();Dy()});var cA=ae(()=>{});var hA=ae(()=>{});var pA=ae(()=>{});function mA(e){return[+e[0],+e[1]]}function p9(e){return[mA(e[0]),mA(e[1])]}function Oy(e){return{type:e}}var IK,zK,FK,gA=ae(()=>{Wl();cA();hA();pA();IK={name:"x",handles:["w","e"].map(Oy),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},zK={name:"y",handles:["n","s"].map(Oy),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},FK={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Oy),input:function(e){return e==null?null:p9(e)},output:function(e){return e}}});var vA=ae(()=>{gA()});var _A,m9,g9,ky=ae(()=>{_A=Math.PI,m9=_A/2,g9=_A*2});var bA=ae(()=>{gi();ky()});var v9,yA=ae(()=>{v9=Array.prototype.slice});var xA=ae(()=>{});function Iy(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function wA(){return new Iy}var Py,Ny,Gl,_9,Gc,SA=ae(()=>{Py=Math.PI,Ny=2*Py,Gl=1e-6,_9=Ny-Gl;Iy.prototype=wA.prototype={constructor:Iy,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,s){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+s)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var s=this._x1,o=this._y1,u=r-e,l=n-t,g=s-e,h=o-t,_=g*g+h*h;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(_>Gl)if(!(Math.abs(h*u-l*g)>Gl)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var x=r-s,S=n-o,w=u*u+l*l,c=x*x+S*S,v=Math.sqrt(w),y=Math.sqrt(_),b=a*Math.tan((Py-Math.acos((w+_-c)/(2*v*y)))/2),C=b/y,E=b/v;Math.abs(C-1)>Gl&&(this._+="L"+(e+C*g)+","+(t+C*h)),this._+="A"+a+","+a+",0,0,"+ +(h*x>g*S)+","+(this._x1=e+E*u)+","+(this._y1=t+E*l)}},arc:function(e,t,r,n,a,s){e=+e,t=+t,r=+r,s=!!s;var o=r*Math.cos(n),u=r*Math.sin(n),l=e+o,g=t+u,h=1^s,_=s?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+g:(Math.abs(this._x1-l)>Gl||Math.abs(this._y1-g)>Gl)&&(this._+="L"+l+","+g),r&&(_<0&&(_=_%Ny+Ny),_>_9?this._+="A"+r+","+r+",0,1,"+h+","+(e-o)+","+(t-u)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=g):_>Gl&&(this._+="A"+r+","+r+",0,"+ +(_>=Py)+","+h+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};Gc=wA});var hm=ae(()=>{SA()});var CA=ae(()=>{yA();xA();ky()});var EA=ae(()=>{bA();CA()});function pm(){}function DA(e,t){var r=new pm;if(e instanceof pm)e.each(function(u,l){r.set(l,u)});else if(Array.isArray(e)){var n=-1,a=e.length,s;if(t==null)for(;++n<a;)r.set(n,e[n]);else for(;++n<a;)r.set(t(s=e[n],n,e),s)}else if(e)for(var o in e)r.set(o,e[o]);return r}var Qi,gs,mm=ae(()=>{Qi="$";pm.prototype=DA.prototype={constructor:pm,has:function(e){return Qi+e in this},get:function(e){return this[Qi+e]},set:function(e,t){return this[Qi+e]=t,this},remove:function(e){var t=Qi+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Qi&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Qi&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Qi&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Qi&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Qi&&++e;return e},empty:function(){for(var e in this)if(e[0]===Qi)return!1;return!0},each:function(e){for(var t in this)t[0]===Qi&&e(this[t],t.slice(1),this)}};gs=DA});var MA=ae(()=>{mm()});function gm(){}function b9(e,t){var r=new gm;if(e instanceof gm)e.each(function(s){r.add(s)});else if(e){var n=-1,a=e.length;if(t==null)for(;++n<a;)r.add(e[n]);else for(;++n<a;)r.add(t(e[n],n,e))}return r}var Hl,AA=ae(()=>{mm();Hl=gs.prototype;gm.prototype=b9.prototype={constructor:gm,has:Hl.has,add:function(e){return e+="",this[Qi+e]=e,this},remove:Hl.remove,clear:Hl.clear,values:Hl.keys,size:Hl.size,empty:Hl.empty,each:Hl.each}});var TA=ae(()=>{});var LA=ae(()=>{});var OA=ae(()=>{});var wf=ae(()=>{MA();AA();mm();TA();LA();OA()});var y9,kA,zy=ae(()=>{y9=Array.prototype,kA=y9.slice});var PA=ae(()=>{});var NA=ae(()=>{});var Fy=ae(()=>{});var IA=ae(()=>{});var zA=ae(()=>{});var By=ae(()=>{gi();zy();PA();NA();Fy();IA();zA()});var FA=ae(()=>{});var BA=ae(()=>{gi();zy();FA();Fy();By()});var RA=ae(()=>{By();BA()});var UA=ae(()=>{});var jA=ae(()=>{});var WA=ae(()=>{});var Vl=ae(()=>{});var vm=ae(()=>{});var GA=ae(()=>{});var VA=ae(()=>{Vl();vm()});var YA=ae(()=>{Vl();vm();wf()});var CX,Ry=ae(()=>{wf();CX=Math.PI*(3-Math.sqrt(5))});var KA=ae(()=>{Vl();vm();Ry()});var ZA=ae(()=>{Vl()});var XA=ae(()=>{Vl()});var $A=ae(()=>{Vl()});var QA=ae(()=>{WA();VA();YA();KA();ZA();Ry();XA();$A()});function qA(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yl(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var Vc=ae(()=>{});function vs(e){return e=Yl(Math.abs(e)),e?e[1]:NaN}var Yc=ae(()=>{Vc()});function JA(e,t){return function(r,n){for(var a=r.length,s=[],o=0,u=e[0],l=0;a>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),s.push(r.substring(a-=u,a+u)),!((l+=u+1)>n));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}var eT=ae(()=>{});function tT(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rT=ae(()=>{});function Ho(e){if(!(t=S9.exec(e)))throw new Error("invalid format: "+e);var t;return new _m({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function _m(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var S9,Uy=ae(()=>{S9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ho.prototype=_m.prototype;_m.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function nT(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var iT=ae(()=>{});function aT(e,t){var r=Yl(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(jy=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Yl(e,Math.max(0,t+s-1))[0]}var jy,Wy=ae(()=>{Vc()});function Gy(e,t){var r=Yl(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var sT=ae(()=>{Vc()});var Hy,oT=ae(()=>{Vc();Wy();sT();Hy={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:qA,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Gy(e*100,t)},r:Gy,s:aT,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}});function Vy(e){return e}var lT=ae(()=>{});function dT(e){var t=e.grouping===void 0||e.thousands===void 0?Vy:JA(uT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Vy:tT(uT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"-":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function g(_){_=Ho(_);var x=_.fill,S=_.align,w=_.sign,c=_.symbol,v=_.zero,y=_.width,b=_.comma,C=_.precision,E=_.trim,p=_.type;p==="n"?(b=!0,p="g"):Hy[p]||(C===void 0&&(C=12),E=!0,p="g"),(v||x==="0"&&S==="=")&&(v=!0,x="0",S="=");var f=c==="$"?r:c==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",D=c==="$"?n:/[%p]/.test(p)?o:"",M=Hy[p],P=/[defgprs%]/.test(p);C=C===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function O(z){var k=f,I=D,H,Y,q;if(p==="c")I=M(z)+I,z="";else{z=+z;var G=z<0||1/z<0;if(z=isNaN(z)?l:M(Math.abs(z),C),E&&(z=nT(z)),G&&+z==0&&w!=="+"&&(G=!1),k=(G?w==="("?w:u:w==="-"||w==="("?"":w)+k,I=(p==="s"?fT[8+jy/3]:"")+I+(G&&w==="("?")":""),P){for(H=-1,Y=z.length;++H<Y;)if(q=z.charCodeAt(H),48>q||q>57){I=(q===46?a+z.slice(H+1):z.slice(H))+I,z=z.slice(0,H);break}}}b&&!v&&(z=t(z,1/0));var $=k.length+z.length+I.length,j=$<y?new Array(y-$+1).join(x):"";switch(b&&v&&(z=t(j+z,j.length?y-I.length:1/0),j=""),S){case"<":z=k+z+I+j;break;case"=":z=k+j+z+I;break;case"^":z=j.slice(0,$=j.length>>1)+k+z+I+j.slice($);break;default:z=j+k+z+I;break}return s(z)}return O.toString=function(){return _+""},O}function h(_,x){var S=g((_=Ho(_),_.type="f",_)),w=Math.max(-8,Math.min(8,Math.floor(vs(x)/3)))*3,c=Math.pow(10,-w),v=fT[8+w/3];return function(y){return S(c*y)+v}}return{format:g,formatPrefix:h}}var uT,fT,cT=ae(()=>{Yc();eT();rT();Uy();iT();oT();Wy();lT();uT=Array.prototype.map,fT=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function Yy(e){return bm=dT(e),ym=bm.format,xm=bm.formatPrefix,bm}var bm,ym,xm,hT=ae(()=>{cT();Yy({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})});function Ky(e){return Math.max(0,-vs(Math.abs(e)))}var pT=ae(()=>{Yc()});function Zy(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vs(t)/3)))*3-vs(Math.abs(e)))}var mT=ae(()=>{Yc()});function Xy(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vs(t)-vs(e))+1}var gT=ae(()=>{Yc()});var $y=ae(()=>{hT();Uy();pT();mT();gT()});var vT=ae(()=>{});var _T=ae(()=>{});var bT=ae(()=>{});function pa(){return Math.random()}var Kl=ae(()=>{});var C9,yT=ae(()=>{Kl();C9=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,arguments.length===1?(a=n,n=0):a-=n,function(){return t()*a+n}}return r.source=e,r}(pa)});var Qy,qy=ae(()=>{Kl();Qy=function e(t){function r(n,a){var s,o;return n=n==null?0:+n,a=a==null?1:+a,function(){var u;if(s!=null)u=s,s=null;else do s=t()*2-1,u=t()*2-1,o=s*s+u*u;while(!o||o>1);return n+a*u*Math.sqrt(-2*Math.log(o)/o)}}return r.source=e,r}(pa)});var E9,xT=ae(()=>{Kl();qy();E9=function e(t){function r(){var n=Qy.source(t).apply(this,arguments);return function(){return Math.exp(n())}}return r.source=e,r}(pa)});var Jy,ex=ae(()=>{Kl();Jy=function e(t){function r(n){return function(){for(var a=0,s=0;s<n;++s)a+=t();return a}}return r.source=e,r}(pa)});var D9,wT=ae(()=>{Kl();ex();D9=function e(t){function r(n){var a=Jy.source(t)(n);return function(){return a()/n}}return r.source=e,r}(pa)});var M9,ST=ae(()=>{Kl();M9=function e(t){function r(n){return function(){return-Math.log(1-t())/n}}return r.source=e,r}(pa)});var CT=ae(()=>{yT();qy();xT();wT();ex();ST()});function Bi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var bi=ae(()=>{});var ET,wm,Vo,Yo=ae(()=>{ET=Array.prototype,wm=ET.map,Vo=ET.slice});function Zl(){var e=gs(),t=[],r=[],n=tx;function a(s){var o=s+"",u=e.get(o);if(!u){if(n!==tx)return n;e.set(o,u=t.push(s))}return r[(u-1)%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=gs();for(var o=-1,u=s.length,l,g;++o<u;)e.has(g=(l=s[o])+"")||e.set(g,t.push(l));return a},a.range=function(s){return arguments.length?(r=Vo.call(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Zl(t,r).unknown(n)},Bi.apply(a,arguments),a}var tx,rx=ae(()=>{wf();Yo();bi();tx={name:"implicit"}});function qi(){var e=Zl().unknown(void 0),t=e.domain,r=e.range,n=[0,1],a,s,o=!1,u=0,l=0,g=.5;delete e.unknown;function h(){var _=t().length,x=n[1]<n[0],S=n[x-0],w=n[1-x];a=(w-S)/Math.max(1,_-u+l*2),o&&(a=Math.floor(a)),S+=(w-S-a*(_-u))*g,s=a*(1-u),o&&(S=Math.round(S),s=Math.round(s));var c=Ga(_).map(function(v){return S+a*v});return r(x?c.reverse():c)}return e.domain=function(_){return arguments.length?(t(_),h()):t()},e.range=function(_){return arguments.length?(n=[+_[0],+_[1]],h()):n.slice()},e.rangeRound=function(_){return n=[+_[0],+_[1]],o=!0,h()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(_){return arguments.length?(o=!!_,h()):o},e.padding=function(_){return arguments.length?(u=Math.min(1,l=+_),h()):u},e.paddingInner=function(_){return arguments.length?(u=Math.min(1,_),h()):u},e.paddingOuter=function(_){return arguments.length?(l=+_,h()):l},e.align=function(_){return arguments.length?(g=Math.max(0,Math.min(1,_)),h()):g},e.copy=function(){return qi(t(),n).round(o).paddingInner(u).paddingOuter(l).align(g)},Bi.apply(h(),arguments)}var DT=ae(()=>{gi();bi();rx()});function MT(e){return function(){return e}}var AT=ae(()=>{});function nx(e){return+e}var ix=ae(()=>{});function ma(e){return e}function ax(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:MT(isNaN(t)?NaN:.5)}function LT(e){var t=e[0],r=e[e.length-1],n;return t>r&&(n=t,t=r,r=n),function(a){return Math.max(t,Math.min(r,a))}}function A9(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=ax(a,n),s=r(o,s)):(n=ax(n,a),s=r(s,o)),function(u){return s(n(u))}}function T9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ax(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(u){var l=Ro(e,u,1,n)-1;return s[l](a[l](u))}}function Sf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sm(){var e=TT,t=TT,r=Js,n,a,s,o=ma,u,l,g;function h(){return u=Math.min(e.length,t.length)>2?T9:A9,l=g=null,_}function _(x){return isNaN(x=+x)?s:(l||(l=u(e.map(n),t,r)))(n(o(x)))}return _.invert=function(x){return o(a((g||(g=u(t,e.map(n),Mn)))(x)))},_.domain=function(x){return arguments.length?(e=wm.call(x,nx),o===ma||(o=LT(e)),h()):e.slice()},_.range=function(x){return arguments.length?(t=Vo.call(x),h()):t.slice()},_.rangeRound=function(x){return t=Vo.call(x),r=kc,h()},_.clamp=function(x){return arguments.length?(o=x?LT(e):ma,_):o!==ma},_.interpolate=function(x){return arguments.length?(r=x,h()):r},_.unknown=function(x){return arguments.length?(s=x,_):s},function(x,S){return n=x,a=S,h()}}function Cm(e,t){return Sm()(e,t)}var TT,to=ae(()=>{gi();ms();Yo();AT();ix();TT=[0,1]});function sx(e,t,r,n){var a=Pl(e,t,r),s;switch(n=Ho(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Zy(a,o))&&(n.precision=s),xm(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Xy(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Ky(a))&&(n.precision=s-(n.type==="%")*2);break}}return ym(n)}var ox=ae(()=>{gi();$y()});function Xl(e){var t=e.domain;return e.ticks=function(r){var n=t();return F0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return sx(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],u=n[s],l;return u<o&&(l=o,o=u,u=l,l=a,a=s,s=l),l=cf(o,u,r),l>0?(o=Math.floor(o/l)*l,u=Math.ceil(u/l)*l,l=cf(o,u,r)):l<0&&(o=Math.ceil(o*l)/l,u=Math.floor(u*l)/l,l=cf(o,u,r)),l>0?(n[a]=Math.floor(o/l)*l,n[s]=Math.ceil(u/l)*l,t(n)):l<0&&(n[a]=Math.ceil(o*l)/l,n[s]=Math.floor(u*l)/l,t(n)),e},e}function ga(){var e=Cm(ma,ma);return e.copy=function(){return Sf(e,ga())},Bi.apply(e,arguments),Xl(e)}var Ko=ae(()=>{gi();to();bi();ox()});var OT=ae(()=>{Yo();Ko();ix()});var lx=ae(()=>{});var Em=ae(()=>{gi();lx();to();bi()});var Dm=ae(()=>{Ko();to();bi()});var Mm=ae(()=>{Ko();to();bi()});var kT=ae(()=>{gi();Yo();bi()});var PT=ae(()=>{gi();Yo();Ko();bi()});var NT=ae(()=>{gi();Yo();bi()});function ii(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=function(s){return e(s=new Date(+s)),s},a.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},a.round=function(s){var o=a(s),u=a.ceil(s);return s-o<u-s?o:u},a.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},a.range=function(s,o,u){var l=[],g;if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return l;do l.push(g=new Date(+s)),t(s,u),e(s);while(g<s&&s<o);return l},a.filter=function(s){return ii(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,u){if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!s(o););else for(;--u>=0;)for(;t(o,1),!s(o););})},r&&(a.count=function(s,o){return ux.setTime(+s),fx.setTime(+o),e(ux),e(fx),Math.floor(r(ux,fx))},a.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?function(o){return n(o)%s===0}:function(o){return a.count(0,o)%s===0}):a}),a}var ux,fx,$l=ae(()=>{ux=new Date,fx=new Date});var Am,Tm,Lm,Kc=ae(()=>{Am=6e4,Tm=864e5,Lm=6048e5});var IT,Om,O9,zT=ae(()=>{$l();Kc();IT=ii(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Am)/Tm},function(e){return e.getDate()-1}),Om=IT,O9=IT.range});function Ql(e){return ii(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Am)/Lm})}var Zc,Cf,FT,BT,Zo,RT,UT,jT,k9,P9,N9,I9,z9,F9,WT=ae(()=>{$l();Kc();Zc=Ql(0),Cf=Ql(1),FT=Ql(2),BT=Ql(3),Zo=Ql(4),RT=Ql(5),UT=Ql(6),jT=Zc.range,k9=Cf.range,P9=FT.range,N9=BT.range,I9=Zo.range,z9=RT.range,F9=UT.range});var dx,ql,B9,GT=ae(()=>{$l();dx=ii(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});dx.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ii(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};ql=dx,B9=dx.range});var HT,km,R9,VT=ae(()=>{$l();Kc();HT=ii(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Tm},function(e){return e.getUTCDate()-1}),km=HT,R9=HT.range});function Jl(e){return ii(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/Lm})}var Xc,Ef,YT,KT,Xo,ZT,XT,$T,U9,j9,W9,G9,H9,V9,QT=ae(()=>{$l();Kc();Xc=Jl(0),Ef=Jl(1),YT=Jl(2),KT=Jl(3),Xo=Jl(4),ZT=Jl(5),XT=Jl(6),$T=Xc.range,U9=Ef.range,j9=YT.range,W9=KT.range,G9=Xo.range,H9=ZT.range,V9=XT.range});var cx,eu,Y9,qT=ae(()=>{$l();cx=ii(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});cx.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ii(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};eu=cx,Y9=cx.range});var hx=ae(()=>{zT();WT();GT();VT();QT();qT()});function px(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $c(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function gx(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,u=e.months,l=e.shortMonths,g=Qc(a),h=qc(a),_=Qc(s),x=qc(s),S=Qc(o),w=qc(o),c=Qc(u),v=qc(u),y=Qc(l),b=qc(l),C={a:G,A:$,b:j,B:V,c:null,d:i4,e:i4,f:m7,g:E7,G:M7,H:c7,I:h7,j:p7,L:u4,m:g7,M:v7,p:X,q:Q,Q:o4,s:l4,S:_7,u:b7,U:y7,V:x7,w:w7,W:S7,x:null,X:null,y:C7,Y:D7,Z:A7,"%":s4},E={a:te,A:xe,b:Ne,B:ye,c:null,d:a4,e:a4,f:k7,g:W7,G:H7,H:T7,I:L7,j:O7,L:d4,m:P7,M:N7,p:Fe,q:Me,Q:o4,s:l4,S:I7,u:z7,U:F7,V:B7,w:R7,W:U7,x:null,X:null,y:j7,Y:G7,Z:V7,"%":s4},p={a:O,A:z,b:k,B:I,c:H,d:r4,e:r4,f:l7,g:t4,G:e4,H:n4,I:n4,j:i7,L:o7,m:n7,M:a7,p:P,q:r7,Q:f7,s:d7,S:s7,u:Q9,U:q9,V:J9,w:$9,W:e7,x:Y,X:q,y:t4,Y:e4,Z:t7,"%":u7};C.x=f(r,C),C.X=f(n,C),C.c=f(t,C),E.x=f(r,E),E.X=f(n,E),E.c=f(t,E);function f(_e,Qe){return function(Xe){var R=[],pe=-1,ve=0,ie=_e.length,de,be,Ue;for(Xe instanceof Date||(Xe=new Date(+Xe));++pe<ie;)_e.charCodeAt(pe)===37&&(R.push(_e.slice(ve,pe)),(be=JT[de=_e.charAt(++pe)])!=null?de=_e.charAt(++pe):be=de==="e"?" ":"0",(Ue=Qe[de])&&(de=Ue(Xe,be)),R.push(de),ve=pe+1);return R.push(_e.slice(ve,pe)),R.join("")}}function D(_e,Qe){return function(Xe){var R=$c(1900,void 0,1),pe=M(R,_e,Xe+="",0),ve,ie;if(pe!=Xe.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(Qe&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(ve=mx($c(R.y,0,1)),ie=ve.getUTCDay(),ve=ie>4||ie===0?Ef.ceil(ve):Ef(ve),ve=km.offset(ve,(R.V-1)*7),R.y=ve.getUTCFullYear(),R.m=ve.getUTCMonth(),R.d=ve.getUTCDate()+(R.w+6)%7):(ve=px($c(R.y,0,1)),ie=ve.getDay(),ve=ie>4||ie===0?Cf.ceil(ve):Cf(ve),ve=Om.offset(ve,(R.V-1)*7),R.y=ve.getFullYear(),R.m=ve.getMonth(),R.d=ve.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),ie="Z"in R?mx($c(R.y,0,1)).getUTCDay():px($c(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(ie+5)%7:R.w+R.U*7-(ie+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,mx(R)):px(R)}}function M(_e,Qe,Xe,R){for(var pe=0,ve=Qe.length,ie=Xe.length,de,be;pe<ve;){if(R>=ie)return-1;if(de=Qe.charCodeAt(pe++),de===37){if(de=Qe.charAt(pe++),be=p[de in JT?Qe.charAt(pe++):de],!be||(R=be(_e,Xe,R))<0)return-1}else if(de!=Xe.charCodeAt(R++))return-1}return R}function P(_e,Qe,Xe){var R=g.exec(Qe.slice(Xe));return R?(_e.p=h[R[0].toLowerCase()],Xe+R[0].length):-1}function O(_e,Qe,Xe){var R=S.exec(Qe.slice(Xe));return R?(_e.w=w[R[0].toLowerCase()],Xe+R[0].length):-1}function z(_e,Qe,Xe){var R=_.exec(Qe.slice(Xe));return R?(_e.w=x[R[0].toLowerCase()],Xe+R[0].length):-1}function k(_e,Qe,Xe){var R=y.exec(Qe.slice(Xe));return R?(_e.m=b[R[0].toLowerCase()],Xe+R[0].length):-1}function I(_e,Qe,Xe){var R=c.exec(Qe.slice(Xe));return R?(_e.m=v[R[0].toLowerCase()],Xe+R[0].length):-1}function H(_e,Qe,Xe){return M(_e,t,Qe,Xe)}function Y(_e,Qe,Xe){return M(_e,r,Qe,Xe)}function q(_e,Qe,Xe){return M(_e,n,Qe,Xe)}function G(_e){return o[_e.getDay()]}function $(_e){return s[_e.getDay()]}function j(_e){return l[_e.getMonth()]}function V(_e){return u[_e.getMonth()]}function X(_e){return a[+(_e.getHours()>=12)]}function Q(_e){return 1+~~(_e.getMonth()/3)}function te(_e){return o[_e.getUTCDay()]}function xe(_e){return s[_e.getUTCDay()]}function Ne(_e){return l[_e.getUTCMonth()]}function ye(_e){return u[_e.getUTCMonth()]}function Fe(_e){return a[+(_e.getUTCHours()>=12)]}function Me(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var Qe=f(_e+="",C);return Qe.toString=function(){return _e},Qe},parse:function(_e){var Qe=D(_e+="",!1);return Qe.toString=function(){return _e},Qe},utcFormat:function(_e){var Qe=f(_e+="",E);return Qe.toString=function(){return _e},Qe},utcParse:function(_e){var Qe=D(_e+="",!0);return Qe.toString=function(){return _e},Qe}}}function Tr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function X9(e){return e.replace(Z9,"\\$&")}function Qc(e){return new RegExp("^(?:"+e.map(X9).join("|")+")","i")}function qc(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function $9(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Q9(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function q9(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function J9(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function e7(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function e4(e,t,r){var n=Bn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function t4(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function t7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function r7(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function n7(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function r4(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function i7(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function n4(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function a7(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function s7(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function o7(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function l7(e,t,r){var n=Bn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function u7(e,t,r){var n=K9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function f7(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function d7(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function i4(e,t){return Tr(e.getDate(),t,2)}function c7(e,t){return Tr(e.getHours(),t,2)}function h7(e,t){return Tr(e.getHours()%12||12,t,2)}function p7(e,t){return Tr(1+Om.count(ql(e),e),t,3)}function u4(e,t){return Tr(e.getMilliseconds(),t,3)}function m7(e,t){return u4(e,t)+"000"}function g7(e,t){return Tr(e.getMonth()+1,t,2)}function v7(e,t){return Tr(e.getMinutes(),t,2)}function _7(e,t){return Tr(e.getSeconds(),t,2)}function b7(e){var t=e.getDay();return t===0?7:t}function y7(e,t){return Tr(Zc.count(ql(e)-1,e),t,2)}function f4(e){var t=e.getDay();return t>=4||t===0?Zo(e):Zo.ceil(e)}function x7(e,t){return e=f4(e),Tr(Zo.count(ql(e),e)+(ql(e).getDay()===4),t,2)}function w7(e){return e.getDay()}function S7(e,t){return Tr(Cf.count(ql(e)-1,e),t,2)}function C7(e,t){return Tr(e.getFullYear()%100,t,2)}function E7(e,t){return e=f4(e),Tr(e.getFullYear()%100,t,2)}function D7(e,t){return Tr(e.getFullYear()%1e4,t,4)}function M7(e,t){var r=e.getDay();return e=r>=4||r===0?Zo(e):Zo.ceil(e),Tr(e.getFullYear()%1e4,t,4)}function A7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tr(t/60|0,"0",2)+Tr(t%60,"0",2)}function a4(e,t){return Tr(e.getUTCDate(),t,2)}function T7(e,t){return Tr(e.getUTCHours(),t,2)}function L7(e,t){return Tr(e.getUTCHours()%12||12,t,2)}function O7(e,t){return Tr(1+km.count(eu(e),e),t,3)}function d4(e,t){return Tr(e.getUTCMilliseconds(),t,3)}function k7(e,t){return d4(e,t)+"000"}function P7(e,t){return Tr(e.getUTCMonth()+1,t,2)}function N7(e,t){return Tr(e.getUTCMinutes(),t,2)}function I7(e,t){return Tr(e.getUTCSeconds(),t,2)}function z7(e){var t=e.getUTCDay();return t===0?7:t}function F7(e,t){return Tr(Xc.count(eu(e)-1,e),t,2)}function c4(e){var t=e.getUTCDay();return t>=4||t===0?Xo(e):Xo.ceil(e)}function B7(e,t){return e=c4(e),Tr(Xo.count(eu(e),e)+(eu(e).getUTCDay()===4),t,2)}function R7(e){return e.getUTCDay()}function U7(e,t){return Tr(Ef.count(eu(e)-1,e),t,2)}function j7(e,t){return Tr(e.getUTCFullYear()%100,t,2)}function W7(e,t){return e=c4(e),Tr(e.getUTCFullYear()%100,t,2)}function G7(e,t){return Tr(e.getUTCFullYear()%1e4,t,4)}function H7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xo(e):Xo.ceil(e),Tr(e.getUTCFullYear()%1e4,t,4)}function V7(){return"+0000"}function s4(){return"%"}function o4(e){return+e}function l4(e){return Math.floor(+e/1e3)}var JT,Bn,K9,Z9,h4=ae(()=>{hx();JT={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,K9=/^%/,Z9=/[\\^$*+?|[\]().{}]/g});function vx(e){return Df=gx(e),p4=Df.format,m4=Df.parse,g4=Df.utcFormat,v4=Df.utcParse,Df}var Df,p4,m4,g4,v4,_4=ae(()=>{h4();vx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var b4=ae(()=>{_4()});var Y7,K7,Z7,_x,$q,Qq,qq,bx=ae(()=>{gi();Yo();to();bi();lx();Y7=1e3,K7=Y7*60,Z7=K7*60,_x=Z7*24,$q=_x*7,Qq=_x*30,qq=_x*365});var y4=ae(()=>{bx();bi()});var yx=ae(()=>{to();bi();Ko();Em();Dm();Mm()});var w4=ae(()=>{gi();to();bi()});var S4=ae(()=>{to();bi();Ko();Em();yx();Dm();Mm()});var C4=ae(()=>{DT();OT();Ko();Em();Dm();rx();Mm();kT();PT();NT();bx();y4();yx();w4();S4();ox()});var E4=ae(()=>{});function _s(e){return function(){return e}}var xx=ae(()=>{});var Pm,dee,D4,M4=ae(()=>{Pm=Math.PI,dee=Pm/2,D4=2*Pm});function A4(e){this._context=e}function Jc(e){return new A4(e)}var wx=ae(()=>{A4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function T4(e){return e[0]}function L4(e){return e[1]}var O4=ae(()=>{});function Nm(){var e=T4,t=L4,r=_s(!0),n=null,a=Jc,s=null;function o(u){var l,g=u.length,h,_=!1,x;for(n==null&&(s=a(x=Gc())),l=0;l<=g;++l)!(l<g&&r(h=u[l],l,u))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+e(h,l,u),+t(h,l,u));if(x)return s=null,x+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:_s(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:_s(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:_s(!!u),o):r},o.curve=function(u){return arguments.length?(a=u,n!=null&&(s=a(n)),o):a},o.context=function(u){return arguments.length?(u==null?n=s=null:s=a(n=u),o):n},o}var k4=ae(()=>{hm();xx();wx();O4()});var P4,N4=ae(()=>{M4();P4={draw:function(e,t){var r=Math.sqrt(t/Pm);e.moveTo(r,0),e.arc(0,0,r,0,D4)}}});var Sx,I4=ae(()=>{Sx={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}}});function Cx(){var e=_s(P4),t=_s(64),r=null;function n(){var a;if(r||(r=a=Gc()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return n.type=function(a){return arguments.length?(e=typeof a=="function"?a:_s(a),n):e},n.size=function(a){return arguments.length?(t=typeof a=="function"?a:_s(+a),n):t},n.context=function(a){return arguments.length?(r=a??null,n):r},n}var z4=ae(()=>{hm();N4();xx()});function F4(e){return e<0?-1:1}function B4(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),u=(s*a+o*n)/(n+a);return(F4(s)+F4(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function R4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ex(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,o-u*r,s,o)}function Im(e){this._context=e}function q7(e){this._context=new U4(e)}function U4(e){this._context=e}function Dx(e){return new Im(e)}var j4=ae(()=>{Im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ex(this,this._t0,R4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ex(this,R4(this,r=B4(this,e,t)),r);break;default:Ex(this,this._t0,r=B4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};(q7.prototype=Object.create(Im.prototype)).point=function(e,t){Im.prototype.point.call(this,t,e)};U4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}}});var W4=ae(()=>{k4();z4();I4();wx();j4()});var G4=ae(()=>{});var H4=ae(()=>{});function Mx(){this._=null}function Mf(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function eh(e,t){var r=t,n=t.R,a=r.U;a?a.L===r?a.L=n:a.R=n:e._=n,n.U=a,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function th(e,t){var r=t,n=t.L,a=r.U;a?a.L===r?a.L=n:a.R=n:e._=n,n.U=a,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function V4(e){for(;e.L;)e=e.L;return e}var Ax,zm=ae(()=>{Mx.prototype={constructor:Mx,insert:function(e,t){var r,n,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;r=e}else this._?(e=V4(this._),t.P=null,t.N=e,e.P=e.L=t,r=e):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,e=t;r&&r.C;)n=r.U,r===n.L?(a=n.R,a&&a.C?(r.C=a.C=!1,n.C=!0,e=n):(e===r.R&&(eh(this,r),e=r,r=e.U),r.C=!1,n.C=!0,th(this,n))):(a=n.L,a&&a.C?(r.C=a.C=!1,n.C=!0,e=n):(e===r.L&&(th(this,r),e=r,r=e.U),r.C=!1,n.C=!0,eh(this,n))),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,r,n=e.L,a=e.R,s,o;if(n?a?s=V4(a):s=n:s=a,t?t.L===e?t.L=s:t.R=s:this._=s,n&&a?(o=s.C,s.C=e.C,s.L=n,n.U=s,s!==a?(t=s.U,s.U=e.U,e=s.R,t.L=e,s.R=a,a.U=s):(s.U=t,t=s,e=s.R)):(o=e.C,e=s),e&&(e.U=t),!o){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(r=t.R,r.C&&(r.C=!1,t.C=!0,eh(this,t),r=t.R),r.L&&r.L.C||r.R&&r.R.C){(!r.R||!r.R.C)&&(r.L.C=!1,r.C=!0,th(this,r),r=t.R),r.C=t.C,t.C=r.R.C=!1,eh(this,t),e=this._;break}}else if(r=t.L,r.C&&(r.C=!1,t.C=!0,th(this,t),r=t.L),r.L&&r.L.C||r.R&&r.R.C){(!r.L||!r.L.C)&&(r.R.C=!1,r.C=!0,eh(this,r),r=t.L),r.C=t.C,t.C=r.L.C=!1,th(this,t),e=this._;break}r.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};Ax=Mx});function Af(e,t,r,n){var a=[null,null],s=Rn.push(a)-1;return a.left=e,a.right=t,r&&rh(a,e,t,r),n&&rh(a,t,e,n),yi[e.index].halfedges.push(s),yi[t.index].halfedges.push(s),a}function Tf(e,t,r){var n=[t,r];return n.left=e,n}function rh(e,t,r,n){!e[0]&&!e[1]?(e[0]=n,e.left=t,e.right=r):e.left===r?e[1]=n:e[0]=n}function J7(e,t,r,n,a){var s=e[0],o=e[1],u=s[0],l=s[1],g=o[0],h=o[1],_=0,x=1,S=g-u,w=h-l,c;if(c=t-u,!(!S&&c>0)){if(c/=S,S<0){if(c<_)return;c<x&&(x=c)}else if(S>0){if(c>x)return;c>_&&(_=c)}if(c=n-u,!(!S&&c<0)){if(c/=S,S<0){if(c>x)return;c>_&&(_=c)}else if(S>0){if(c<_)return;c<x&&(x=c)}if(c=r-l,!(!w&&c>0)){if(c/=w,w<0){if(c<_)return;c<x&&(x=c)}else if(w>0){if(c>x)return;c>_&&(_=c)}if(c=a-l,!(!w&&c<0)){if(c/=w,w<0){if(c>x)return;c>_&&(_=c)}else if(w>0){if(c<_)return;c<x&&(x=c)}return!(_>0)&&!(x<1)||(_>0&&(e[0]=[u+_*S,l+_*w]),x<1&&(e[1]=[u+x*S,l+x*w])),!0}}}}}function eF(e,t,r,n,a){var s=e[1];if(s)return!0;var o=e[0],u=e.left,l=e.right,g=u[0],h=u[1],_=l[0],x=l[1],S=(g+_)/2,w=(h+x)/2,c,v;if(x===h){if(S<t||S>=n)return;if(g>_){if(!o)o=[S,r];else if(o[1]>=a)return;s=[S,a]}else{if(!o)o=[S,a];else if(o[1]<r)return;s=[S,r]}}else if(c=(g-_)/(x-h),v=w-c*S,c<-1||c>1)if(g>_){if(!o)o=[(r-v)/c,r];else if(o[1]>=a)return;s=[(a-v)/c,a]}else{if(!o)o=[(a-v)/c,a];else if(o[1]<r)return;s=[(r-v)/c,r]}else if(h<x){if(!o)o=[t,c*t+v];else if(o[0]>=n)return;s=[n,c*n+v]}else{if(!o)o=[n,c*n+v];else if(o[0]<t)return;s=[t,c*t+v]}return e[0]=o,e[1]=s,!0}function Y4(e,t,r,n){for(var a=Rn.length,s;a--;)(!eF(s=Rn[a],e,t,r,n)||!J7(s,e,t,r,n)||!(Math.abs(s[0][0]-s[1][0])>Ur||Math.abs(s[0][1]-s[1][1])>Ur))&&delete Rn[a]}var Fm=ae(()=>{Lf()});function K4(e){return yi[e.index]={site:e,halfedges:[]}}function tF(e,t){var r=e.site,n=t.left,a=t.right;return r===a&&(a=n,n=r),a?Math.atan2(a[1]-n[1],a[0]-n[0]):(r===n?(n=t[1],a=t[0]):(n=t[0],a=t[1]),Math.atan2(n[0]-a[0],a[1]-n[1]))}function Tx(e,t){return t[+(t.left!==e.site)]}function rF(e,t){return t[+(t.left===e.site)]}function Z4(){for(var e=0,t=yi.length,r,n,a,s;e<t;++e)if((r=yi[e])&&(s=(n=r.halfedges).length)){var o=new Array(s),u=new Array(s);for(a=0;a<s;++a)o[a]=a,u[a]=tF(r,Rn[n[a]]);for(o.sort(function(l,g){return u[g]-u[l]}),a=0;a<s;++a)u[a]=n[o[a]];for(a=0;a<s;++a)n[a]=u[a]}}function X4(e,t,r,n){var a=yi.length,s,o,u,l,g,h,_,x,S,w,c,v,y=!0;for(s=0;s<a;++s)if(o=yi[s]){for(u=o.site,g=o.halfedges,l=g.length;l--;)Rn[g[l]]||g.splice(l,1);for(l=0,h=g.length;l<h;)w=rF(o,Rn[g[l]]),c=w[0],v=w[1],_=Tx(o,Rn[g[++l%h]]),x=_[0],S=_[1],(Math.abs(c-x)>Ur||Math.abs(v-S)>Ur)&&(g.splice(l,0,Rn.push(Tf(u,w,Math.abs(c-e)<Ur&&n-v>Ur?[e,Math.abs(x-e)<Ur?S:n]:Math.abs(v-n)<Ur&&r-c>Ur?[Math.abs(S-n)<Ur?x:r,n]:Math.abs(c-r)<Ur&&v-t>Ur?[r,Math.abs(x-r)<Ur?S:t]:Math.abs(v-t)<Ur&&c-e>Ur?[Math.abs(S-t)<Ur?x:e,t]:null))-1),++h);h&&(y=!1)}if(y){var b,C,E,p=1/0;for(s=0,y=null;s<a;++s)(o=yi[s])&&(u=o.site,b=u[0]-e,C=u[1]-t,E=b*b+C*C,E<p&&(p=E,y=o));if(y){var f=[e,t],D=[e,n],M=[r,n],P=[r,t];y.halfedges.push(Rn.push(Tf(u=y.site,f,D))-1,Rn.push(Tf(u,D,M))-1,Rn.push(Tf(u,M,P))-1,Rn.push(Tf(u,P,f))-1)}}for(s=0;s<a;++s)(o=yi[s])&&(o.halfedges.length||delete yi[s])}var Lx=ae(()=>{Fm();Lf()});function nF(){Mf(this),this.x=this.y=this.arc=this.site=this.cy=null}function tu(e){var t=e.P,r=e.N;if(!(!t||!r)){var n=t.site,a=e.site,s=r.site;if(n!==s){var o=a[0],u=a[1],l=n[0]-o,g=n[1]-u,h=s[0]-o,_=s[1]-u,x=2*(l*_-g*h);if(!(x>=-Q4)){var S=l*l+g*g,w=h*h+_*_,c=(_*S-g*w)/x,v=(l*w-h*S)/x,y=$4.pop()||new nF;y.arc=e,y.site=a,y.x=c+o,y.y=(y.cy=v+u)+Math.sqrt(c*c+v*v),e.circle=y;for(var b=null,C=Of._;C;)if(y.y<C.y||y.y===C.y&&y.x<=C.x)if(C.L)C=C.L;else{b=C.P;break}else if(C.R)C=C.R;else{b=C;break}Of.insert(b,y),b||(Bm=y)}}}}function ru(e){var t=e.circle;t&&(t.P||(Bm=t.N),Of.remove(t),$4.push(t),Mf(t),e.circle=null)}var $4,Bm,Ox=ae(()=>{zm();Lf();$4=[]});function iF(){Mf(this),this.edge=this.site=this.circle=null}function q4(e){var t=J4.pop()||new iF;return t.site=e,t}function kx(e){ru(e),nu.remove(e),J4.push(e),Mf(e)}function e6(e){var t=e.circle,r=t.x,n=t.cy,a=[r,n],s=e.P,o=e.N,u=[e];kx(e);for(var l=s;l.circle&&Math.abs(r-l.circle.x)<Ur&&Math.abs(n-l.circle.cy)<Ur;)s=l.P,u.unshift(l),kx(l),l=s;u.unshift(l),ru(l);for(var g=o;g.circle&&Math.abs(r-g.circle.x)<Ur&&Math.abs(n-g.circle.cy)<Ur;)o=g.N,u.push(g),kx(g),g=o;u.push(g),ru(g);var h=u.length,_;for(_=1;_<h;++_)g=u[_],l=u[_-1],rh(g.edge,l.site,g.site,a);l=u[0],g=u[h-1],g.edge=Af(l.site,g.site,null,a),tu(l),tu(g)}function t6(e){for(var t=e[0],r=e[1],n,a,s,o,u=nu._;u;)if(s=r6(u,r)-t,s>Ur)u=u.L;else if(o=t-aF(u,r),o>Ur){if(!u.R){n=u;break}u=u.R}else{s>-Ur?(n=u.P,a=u):o>-Ur?(n=u,a=u.N):n=a=u;break}K4(e);var l=q4(e);if(nu.insert(n,l),!(!n&&!a)){if(n===a){ru(n),a=q4(n.site),nu.insert(l,a),l.edge=a.edge=Af(n.site,l.site),tu(n),tu(a);return}if(!a){l.edge=Af(n.site,l.site);return}ru(n),ru(a);var g=n.site,h=g[0],_=g[1],x=e[0]-h,S=e[1]-_,w=a.site,c=w[0]-h,v=w[1]-_,y=2*(x*v-S*c),b=x*x+S*S,C=c*c+v*v,E=[(v*b-S*C)/y+h,(x*C-c*b)/y+_];rh(a.edge,g,w,E),l.edge=Af(g,e,null,E),a.edge=Af(e,w,null,E),tu(n),tu(a)}}function r6(e,t){var r=e.site,n=r[0],a=r[1],s=a-t;if(!s)return n;var o=e.P;if(!o)return-1/0;r=o.site;var u=r[0],l=r[1],g=l-t;if(!g)return u;var h=u-n,_=1/s-1/g,x=h/g;return _?(-x+Math.sqrt(x*x-2*_*(h*h/(-2*g)-l+g/2+a-s/2)))/_+n:(n+u)/2}function aF(e,t){var r=e.N;if(r)return r6(r,t);var n=e.site;return n[1]===t?n[0]:1/0}var J4,n6=ae(()=>{zm();Lx();Ox();Fm();Lf();J4=[]});function sF(e,t,r){return(e[0]-r[0])*(t[1]-e[1])-(e[0]-t[0])*(r[1]-e[1])}function oF(e,t){return t[1]-e[1]||t[0]-e[0]}function Rm(e,t){var r=e.sort(oF).pop(),n,a,s;for(Rn=[],yi=new Array(e.length),nu=new Ax,Of=new Ax;;)if(s=Bm,r&&(!s||r[1]<s.y||r[1]===s.y&&r[0]<s.x))(r[0]!==n||r[1]!==a)&&(t6(r),n=r[0],a=r[1]),r=e.pop();else if(s)e6(s.arc);else break;if(Z4(),t){var o=+t[0][0],u=+t[0][1],l=+t[1][0],g=+t[1][1];Y4(o,u,l,g),X4(o,u,l,g)}this.edges=Rn,this.cells=yi,nu=Of=Rn=yi=null}var Ur,Q4,nu,yi,Of,Rn,Lf=ae(()=>{n6();Lx();Ox();Fm();zm();Ur=1e-6,Q4=1e-12;Rm.prototype={constructor:Rm,polygons:function(){var e=this.edges;return this.cells.map(function(t){var r=t.halfedges.map(function(n){return Tx(t,e[n])});return r.data=t.site.data,r})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(r,n){if(u=(s=r.halfedges).length)for(var a=r.site,s,o=-1,u,l,g=t[s[u-1]],h=g.left===a?g.right:g.left;++o<u;)l=h,g=t[s[o]],h=g.left===a?g.right:g.left,l&&h&&n<l.index&&n<h.index&&sF(a,l,h)<0&&e.push([a.data,l.data,h.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,r){for(var n=this,a,s=n._found||0,o=n.cells.length,u;!(u=n.cells[s]);)if(++s>=o)return null;var l=e-u.site[0],g=t-u.site[1],h=l*l+g*g;do u=n.cells[a=s],s=null,u.halfedges.forEach(function(_){var x=n.edges[_],S=x.left;if(!((S===u.site||!S)&&!(S=x.right))){var w=e-S[0],c=t-S[1],v=w*w+c*c;v<h&&(h=v,s=S.index)}});while(s!==null);return n._found=a,r==null||h<=r*r?u.site:null}}});var i6=ae(()=>{G4();H4();Lf()});var a6=ae(()=>{i6()});var s6=ae(()=>{});var o6=ae(()=>{});function iu(e,t,r){this.k=e,this.x=t,this.y=r}function Nx(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Px;return e.__zoom}var Px,Ix=ae(()=>{iu.prototype={constructor:iu,scale:function(e){return e===1?this:new iu(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new iu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Px=new iu(1,0,0);Nx.prototype=iu.prototype});var l6=ae(()=>{});var u6=ae(()=>{Wl();s6();o6();Ix();l6()});var f6=ae(()=>{u6();Ix()});var kf=ae(()=>{AE();gi();eD();vA();EA();wf();Wo();RA();Vb();SM();UA();Ty();jA();QA();$y();vT();_T();ms();hm();bT();GA();CT();C4();E4();ha();W4();hx();b4();sm();Wl();a6();f6()});var d6=ae(()=>{});var jm,Wm,Gm=ae(()=>{jm="http://www.w3.org/1999/xhtml",Wm={svg:"http://www.w3.org/2000/svg",xhtml:jm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function nh(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Wm.hasOwnProperty(t)?{space:Wm[t],local:e}:e}var Hm=ae(()=>{Gm()});function lF(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===jm&&t.documentElement.namespaceURI===jm?t.createElement(e):t.createElementNS(r,e)}}function uF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ih(e){var t=nh(e);return(t.local?uF:lF)(t)}var Vm=ae(()=>{Hm();Gm()});function Fx(){return new zx}function zx(){this._="@"+(++fF).toString(36)}var fF,c6=ae(()=>{fF=0;zx.prototype=Fx.prototype={constructor:zx,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});var p6,Pf,h6,Bx,Rx=ae(()=>{p6=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(Pf=document.documentElement,Pf.matches||(h6=Pf.webkitMatchesSelector||Pf.msMatchesSelector||Pf.mozMatchesSelector||Pf.oMatchesSelector,p6=function(e){return function(){return h6.call(this,e)}}));Bx=p6});function dF(e,t,r){return e=v6(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function v6(e,t,r){return function(n){var a=ah;ah=n;try{e.call(this,this.__data__,t,r)}finally{ah=a}}}function cF(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function hF(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++n]=s;++n?t.length=n:delete this.__on}}}function pF(e,t,r){var n=g6.hasOwnProperty(e.type)?dF:v6;return function(a,s,o){var u=this.__on,l,g=n(t,s,o);if(u){for(var h=0,_=u.length;h<_;++h)if((l=u[h]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=g,l.capture=r),l.value=t;return}}this.addEventListener(e.type,g,r),l={type:e.type,name:e.name,value:t,listener:g,capture:r},u?u.push(l):this.__on=[l]}}function _6(e,t,r){var n=cF(e+""),a,s=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,g=u.length,h;l<g;++l)for(a=0,h=u[l];a<s;++a)if((o=n[a]).type===h.type&&o.name===h.name)return h.value}return}for(u=t?pF:hF,r==null&&(r=!1),a=0;a<s;++a)this.each(u(n[a],t,r));return this}var g6,ah,m6,Ym=ae(()=>{g6={},ah=null;typeof document<"u"&&(m6=document.documentElement,"onmouseenter"in m6||(g6={mouseenter:"mouseover",mouseleave:"mouseout"}))});var Km=ae(()=>{Ym()});var Zm=ae(()=>{});var x6=ae(()=>{Km();Zm()});function mF(){}function sh(e){return e==null?mF:function(){return this.querySelector(e)}}var Xm=ae(()=>{});function w6(e){typeof e!="function"&&(e=sh(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=new Array(o),l,g,h=0;h<o;++h)(l=s[h])&&(g=e.call(l,l.__data__,h,s))&&("__data__"in l&&(g.__data__=l.__data__),u[h]=g);return new on(n,this._parents)}var S6=ae(()=>{va();Xm()});function gF(){return[]}function Ux(e){return e==null?gF:function(){return this.querySelectorAll(e)}}var jx=ae(()=>{});function C6(e){typeof e!="function"&&(e=Ux(e));for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var o=t[s],u=o.length,l,g=0;g<u;++g)(l=o[g])&&(n.push(e.call(l,l.__data__,g,o)),a.push(l));return new on(n,a)}var E6=ae(()=>{va();jx()});function D6(e){typeof e!="function"&&(e=Bx(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=[],l,g=0;g<o;++g)(l=s[g])&&e.call(l,l.__data__,g,s)&&u.push(l);return new on(n,this._parents)}var M6=ae(()=>{va();Rx()});function $m(e){return new Array(e.length)}var Wx=ae(()=>{});function A6(){return new on(this._enter||this._groups.map($m),this._parents)}function oh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var Gx=ae(()=>{Wx();va();oh.prototype={constructor:oh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function T6(e){return function(){return e}}var L6=ae(()=>{});function vF(e,t,r,n,a,s){for(var o=0,u,l=t.length,g=s.length;o<g;++o)(u=t[o])?(u.__data__=s[o],n[o]=u):r[o]=new oh(e,s[o]);for(;o<l;++o)(u=t[o])&&(a[o]=u)}function _F(e,t,r,n,a,s,o){var u,l,g={},h=t.length,_=s.length,x=new Array(h),S;for(u=0;u<h;++u)(l=t[u])&&(x[u]=S=O6+o.call(l,l.__data__,u,t),S in g?a[u]=l:g[S]=l);for(u=0;u<_;++u)S=O6+o.call(e,s[u],u,s),(l=g[S])?(n[u]=l,l.__data__=s[u],g[S]=null):r[u]=new oh(e,s[u]);for(u=0;u<h;++u)(l=t[u])&&g[x[u]]===l&&(a[u]=l)}function k6(e,t){if(!e)return S=new Array(this.size()),g=-1,this.each(function(f){S[++g]=f}),S;var r=t?_F:vF,n=this._parents,a=this._groups;typeof e!="function"&&(e=T6(e));for(var s=a.length,o=new Array(s),u=new Array(s),l=new Array(s),g=0;g<s;++g){var h=n[g],_=a[g],x=_.length,S=e.call(h,h&&h.__data__,g,n),w=S.length,c=u[g]=new Array(w),v=o[g]=new Array(w),y=l[g]=new Array(x);r(h,_,c,v,y,S,t);for(var b=0,C=0,E,p;b<w;++b)if(E=c[b]){for(b>=C&&(C=b+1);!(p=v[C])&&++C<w;);E._next=p||null}}return o=new on(o,n),o._enter=u,o._exit=l,o}var O6,P6=ae(()=>{va();Gx();L6();O6="$"});function N6(){return new on(this._exit||this._groups.map($m),this._parents)}var I6=ae(()=>{Wx();va()});function z6(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),u=0;u<s;++u)for(var l=t[u],g=r[u],h=l.length,_=o[u]=new Array(h),x,S=0;S<h;++S)(x=l[S]||g[S])&&(_[S]=x);for(;u<n;++u)o[u]=t[u];return new on(o,this._parents)}var F6=ae(()=>{va()});function B6(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],o;--a>=0;)(o=n[a])&&(s&&s!==o.nextSibling&&s.parentNode.insertBefore(o,s),s=o);return this}var R6=ae(()=>{});function U6(e){e||(e=bF);function t(_,x){return _&&x?e(_.__data__,x.__data__):!_-!x}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var o=r[s],u=o.length,l=a[s]=new Array(u),g,h=0;h<u;++h)(g=o[h])&&(l[h]=g);l.sort(t)}return new on(a,this._parents).order()}function bF(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var j6=ae(()=>{va()});function W6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var G6=ae(()=>{});function H6(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}var V6=ae(()=>{});function Y6(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null}var K6=ae(()=>{});function Z6(){var e=0;return this.each(function(){++e}),e}var X6=ae(()=>{});function $6(){return!this.node()}var Q6=ae(()=>{});function q6(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length,u;s<o;++s)(u=a[s])&&e.call(u,u.__data__,s,a);return this}var J6=ae(()=>{});function yF(e){return function(){this.removeAttribute(e)}}function xF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wF(e,t){return function(){this.setAttribute(e,t)}}function SF(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function CF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function EF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function e8(e,t){var r=nh(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?xF:yF:typeof t=="function"?r.local?EF:CF:r.local?SF:wF)(r,t))}var t8=ae(()=>{Hm()});function lh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var Qm=ae(()=>{});function DF(e){return function(){this.style.removeProperty(e)}}function MF(e,t,r){return function(){this.style.setProperty(e,t,r)}}function AF(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function r8(e,t,r){var n;return arguments.length>1?this.each((t==null?DF:typeof t=="function"?AF:MF)(e,t,r??"")):lh(n=this.node()).getComputedStyle(n,null).getPropertyValue(e)}var n8=ae(()=>{Qm()});function TF(e){return function(){delete this[e]}}function LF(e,t){return function(){this[e]=t}}function OF(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function i8(e,t){return arguments.length>1?this.each((t==null?TF:typeof t=="function"?OF:LF)(e,t)):this.node()[e]}var a8=ae(()=>{});function s8(e){return e.trim().split(/^|\s+/)}function Hx(e){return e.classList||new o8(e)}function o8(e){this._node=e,this._names=s8(e.getAttribute("class")||"")}function l8(e,t){for(var r=Hx(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function u8(e,t){for(var r=Hx(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function kF(e){return function(){l8(this,e)}}function PF(e){return function(){u8(this,e)}}function NF(e,t){return function(){(t.apply(this,arguments)?l8:u8)(this,e)}}function f8(e,t){var r=s8(e+"");if(arguments.length<2){for(var n=Hx(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?NF:t?kF:PF)(r,t))}var d8=ae(()=>{o8.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function IF(){this.textContent=""}function zF(e){return function(){this.textContent=e}}function FF(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function c8(e){return arguments.length?this.each(e==null?IF:(typeof e=="function"?FF:zF)(e)):this.node().textContent}var h8=ae(()=>{});function BF(){this.innerHTML=""}function RF(e){return function(){this.innerHTML=e}}function UF(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function p8(e){return arguments.length?this.each(e==null?BF:(typeof e=="function"?UF:RF)(e)):this.node().innerHTML}var m8=ae(()=>{});function jF(){this.nextSibling&&this.parentNode.appendChild(this)}function g8(){return this.each(jF)}var v8=ae(()=>{});function WF(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _8(){return this.each(WF)}var b8=ae(()=>{});function y8(e){var t=typeof e=="function"?e:ih(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var x8=ae(()=>{Vm()});function GF(){return null}function w8(e,t){var r=typeof e=="function"?e:ih(e),n=t==null?GF:typeof t=="function"?t:sh(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var S8=ae(()=>{Vm();Xm()});function HF(){var e=this.parentNode;e&&e.removeChild(this)}function C8(){return this.each(HF)}var E8=ae(()=>{});function D8(e){return arguments.length?this.property("__data__",e):this.node().__data__}var M8=ae(()=>{});function A8(e,t,r){var n=lh(e),a=n.CustomEvent;a?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function VF(e,t){return function(){return A8(this,e,t)}}function YF(e,t){return function(){return A8(this,e,t.apply(this,arguments))}}function T8(e,t){return this.each((typeof t=="function"?YF:VF)(e,t))}var L8=ae(()=>{Qm()});function on(e,t){this._groups=e,this._parents=t}function KF(){return new on([[document.documentElement]],qm)}var qm,va=ae(()=>{S6();E6();M6();P6();Gx();I6();F6();R6();j6();G6();V6();K6();X6();Q6();J6();t8();n8();a8();d8();h8();m8();v8();b8();x8();S8();E8();M8();Ym();L8();qm=[null];on.prototype=KF.prototype={constructor:on,select:w6,selectAll:C6,filter:D6,data:k6,enter:A6,exit:N6,merge:z6,order:B6,sort:U6,call:W6,nodes:H6,node:Y6,size:Z6,empty:$6,each:q6,attr:e8,style:r8,property:i8,classed:f8,text:c8,html:p8,raise:g8,lower:_8,append:y8,insert:w8,remove:C8,datum:D8,on:_6,dispatch:T8}});function Vx(e){return typeof e=="string"?new on([[document.querySelector(e)]],[document.documentElement]):new on([[e]],qm)}var O8=ae(()=>{va()});var k8=ae(()=>{va()});var P8=ae(()=>{Km();Zm()});var N8=ae(()=>{Km();Zm()});var I8=ae(()=>{Vm();c6();Rx();x6();Hm();Gm();O8();k8();va();Xm();jx();P8();N8();Qm();Ym()});function au(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var Jm=ae(()=>{});function bs(e){return e=au(Math.abs(e)),e?e[1]:NaN}var uh=ae(()=>{Jm()});function z8(e,t){return function(r,n){for(var a=r.length,s=[],o=0,u=e[0],l=0;a>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),s.push(r.substring(a-=u,a+u)),!((l+=u+1)>n));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}var F8=ae(()=>{});function B8(e,t){e=e.toPrecision(t);e:for(var r=e.length,n=1,a=-1,s;n<r;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;case"e":break e;default:a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var R8=ae(()=>{});function U8(e,t){var r=au(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Yx=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+au(e,Math.max(0,t+s-1))[0]}var Yx,Kx=ae(()=>{Jm()});function Zx(e,t){var r=au(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var j8=ae(()=>{Jm()});var eg,Xx=ae(()=>{R8();Kx();j8();eg={"":B8,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Zx(e*100,t)},r:Zx,s:U8,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}});function ys(e){return new W8(e)}function W8(e){if(!(t=ZF.exec(e)))throw new Error("invalid format: "+e);var t,r=t[1]||" ",n=t[2]||">",a=t[3]||"-",s=t[4]||"",o=!!t[5],u=t[6]&&+t[6],l=!!t[7],g=t[8]&&+t[8].slice(1),h=t[9]||"";h==="n"?(l=!0,h="g"):eg[h]||(h=""),(o||r==="0"&&n==="=")&&(o=!0,r="0",n="="),this.fill=r,this.align=n,this.sign=a,this.symbol=s,this.zero=o,this.width=u,this.comma=l,this.precision=g,this.type=h}var ZF,$x=ae(()=>{Xx();ZF=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;W8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type}});function XF(e){return e}function su(e){var t=e.grouping&&e.thousands?z8(e.grouping,e.thousands):XF,r=e.currency,n=e.decimal;function a(o){o=ys(o);var u=o.fill,l=o.align,g=o.sign,h=o.symbol,_=o.zero,x=o.width,S=o.comma,w=o.precision,c=o.type,v=h==="$"?r[0]:h==="#"&&/[boxX]/.test(c)?"0"+c.toLowerCase():"",y=h==="$"?r[1]:/[%p]/.test(c)?"%":"",b=eg[c],C=!c||/[defgprs%]/.test(c);w=w==null?c?6:12:/[gprs]/.test(c)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(p){var f=v,D=y,M,P,O;if(c==="c")D=b(p)+D,p="";else{p=+p;var z=(p<0||1/p<0)&&(p*=-1,!0);if(p=b(p,w),z){for(M=-1,P=p.length,z=!1;++M<P;)if(O=p.charCodeAt(M),48<O&&O<58||c==="x"&&96<O&&O<103||c==="X"&&64<O&&O<71){z=!0;break}}if(f=(z?g==="("?g:"-":g==="-"||g==="("?"":g)+f,D=D+(c==="s"?G8[8+Yx/3]:"")+(z&&g==="("?")":""),C){for(M=-1,P=p.length;++M<P;)if(O=p.charCodeAt(M),48>O||O>57){D=(O===46?n+p.slice(M+1):p.slice(M))+D,p=p.slice(0,M);break}}}S&&!_&&(p=t(p,1/0));var k=f.length+p.length+D.length,I=k<x?new Array(x-k+1).join(u):"";switch(S&&_&&(p=t(I+p,I.length?x-D.length:1/0),I=""),l){case"<":return f+p+D+I;case"=":return f+I+p+D;case"^":return I.slice(0,k=I.length>>1)+f+p+D+I.slice(k)}return I+f+p+D}return E.toString=function(){return o+""},E}function s(o,u){var l=a((o=ys(o),o.type="f",o)),g=Math.max(-8,Math.min(8,Math.floor(bs(u)/3)))*3,h=Math.pow(10,-g),_=G8[8+g/3];return function(x){return l(h*x)+_}}return{format:a,formatPrefix:s}}var G8,Qx=ae(()=>{uh();F8();$x();Xx();Kx();G8=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function qx(e){return tg=su(e),ou=tg.format,Nf=tg.formatPrefix,tg}var tg,ou,Nf,H8=ae(()=>{Qx();qx({decimal:".",thousands:",",grouping:[3],currency:["$",""]})});function Jx(e){return Math.max(0,-bs(Math.abs(e)))}var V8=ae(()=>{uh()});function ew(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bs(t)/3)))*3-bs(Math.abs(e)))}var Y8=ae(()=>{uh()});function tw(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bs(t)-bs(e))+1}var K8=ae(()=>{uh()});var rg=ae(()=>{H8();Qx();$x();V8();Y8();K8()});function X8(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new ng(r)}function ng(e){this._=e}function QF(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function qF(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function Z8(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=$F,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var $F,fh,$8=ae(()=>{$F={value:function(){}};ng.prototype=X8.prototype={constructor:ng,on:function(e,t){var r=this._,n=QF(e+"",r),a,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((a=(e=n[s]).type)&&(a=qF(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=n[s]).type)r[a]=Z8(r[a],e.name,t);else if(t==null)for(a in r)r[a]=Z8(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new ng(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};fh=X8});var Q8=ae(()=>{$8()});function ro(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var lu=ae(()=>{});function ig(e){return e.length===1&&(e=JF(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)<0?n=s+1:a=s}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)>0?a=s:n=s+1}return n}}}function JF(e){return function(t,r){return ro(e(t),r)}}var rw=ae(()=>{lu()});var q8,J8,eB,uu,nw=ae(()=>{lu();rw();q8=ig(ro),J8=q8.right,eB=q8.left,uu=J8});var eL=ae(()=>{});var If=ae(()=>{});var iw=ae(()=>{If()});var aw=ae(()=>{iw()});var sw=ae(()=>{});var tL,rB,nB,ow=ae(()=>{tL=Array.prototype,rB=tL.slice,nB=tL.map});var rL=ae(()=>{});var nL=ae(()=>{});function sg(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}var lw=ae(()=>{});function dh(e,t,r){var n=$o(e,t,r);return sg(Math.ceil(e/n)*n,Math.floor(t/n)*n+n/2,n)}function $o(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=iB?a*=10:s>=aB?a*=5:s>=sB&&(a*=2),t<e?-a:a}var iB,aB,sB,uw=ae(()=>{lw();iB=Math.sqrt(50),aB=Math.sqrt(10),sB=Math.sqrt(2)});var fw=ae(()=>{});var iL=ae(()=>{ow();nw();rL();sw();nL();uw();fw()});var og=ae(()=>{If()});var aL=ae(()=>{ow();lu();If();og()});var sL=ae(()=>{aw()});function zf(e,t){var r=-1,n=e.length,a,s;if(t==null){for(;++r<n;)if((s=e[r])!=null&&s>=s){a=s;break}for(;++r<n;)(s=e[r])!=null&&s>a&&(a=s)}else{for(;++r<n;)if((s=t(e[r],r,e))!=null&&s>=s){a=s;break}for(;++r<n;)(s=t(e[r],r,e))!=null&&s>a&&(a=s)}return a}var oL=ae(()=>{});var lL=ae(()=>{If()});var uL=ae(()=>{lu();If();og()});var fL=ae(()=>{});var cw=ae(()=>{});var dL=ae(()=>{});var cL=ae(()=>{});var hL=ae(()=>{lu()});var pL=ae(()=>{});function Ff(e,t){var r=0,n=e.length,a,s=-1;if(t==null)for(;++s<n;)(a=+e[s])&&(r+=a);else for(;++s<n;)(a=+t(e[s],s,e))&&(r+=a);return r}var mL=ae(()=>{});var hw=ae(()=>{cw()});var gL=ae(()=>{hw()});var Ya=ae(()=>{nw();lu();rw();eL();aw();sw();iL();aL();sL();fw();oL();lL();uL();fL();cw();dL();cL();og();lw();hL();pL();mL();uw();hw();iw();gL()});var vL,lg,fu,Qo=ae(()=>{vL=Array.prototype,lg=vL.map,fu=vL.slice});var pw=ae(()=>{wf();Qo()});var _L=ae(()=>{Ya();pw()});function ug(e){return function(){return e}}var fg=ae(()=>{});function mw(e){return+e}var gw=ae(()=>{});function dg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ug(t)}function hB(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=t?0:a>=r?1:n(a)}}}function pB(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=0?t:a>=1?r:n(a)}}}function mB(e,t,r,n){var a=e[0],s=e[1],o=t[0],u=t[1];return s<a?(a=r(s,a),o=n(u,o)):(a=r(a,s),o=n(o,u)),function(l){return o(a(l))}}function gB(e,t,r,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),o=new Array(a),u=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<a;)s[u]=r(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(l){var g=uu(e,l,1,a)-1;return o[g](s[g](l))}}function ch(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function Bf(e,t){var r=bL,n=bL,a=Js,s=!1,o,u,l;function g(){return o=Math.min(r.length,n.length)>2?gB:mB,u=l=null,h}function h(_){return(u||(u=o(r,n,s?hB(e):e,a)))(+_)}return h.invert=function(_){return(l||(l=o(n,r,dg,s?pB(t):t)))(+_)},h.domain=function(_){return arguments.length?(r=lg.call(_,mw),g()):r.slice()},h.range=function(_){return arguments.length?(n=fu.call(_),g()):n.slice()},h.rangeRound=function(_){return n=fu.call(_),a=kc,g()},h.clamp=function(_){return arguments.length?(s=!!_,g()):s},h.interpolate=function(_){return arguments.length?(a=_,g()):a},g()}var bL,hh=ae(()=>{Ya();ms();Qo();fg();gw();bL=[0,1]});function yL(e,t,r){var n=e[0],a=e[e.length-1],s=$o(n,a,t??10),o;switch(r=ys(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(a));return r.precision==null&&!isNaN(o=ew(s,u))&&(r.precision=o),Nf(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=tw(s,Math.max(Math.abs(n),Math.abs(a))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Jx(s))&&(r.precision=o-(r.type==="%")*2);break}}return ou(r)}var xL=ae(()=>{Ya();rg()});function ph(e){var t=e.domain;return e.ticks=function(r){var n=t();return dh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){return yL(t(),r,n)},e.nice=function(r){var n=t(),a=n.length-1,s=r??10,o=n[0],u=n[a],l=$o(o,u,s);return l&&(l=$o(Math.floor(o/l)*l,Math.ceil(u/l)*l,s),n[0]=Math.floor(o/l)*l,n[a]=Math.ceil(u/l)*l,t(n)),e},e}function du(){var e=Bf(dg,Mn);return e.copy=function(){return ch(e,du())},ph(e)}var Rf=ae(()=>{Ya();ms();hh();xL()});var wL=ae(()=>{Qo();Rf();gw()});var vw=ae(()=>{});var SL=ae(()=>{Ya();rg();fg();vw();hh()});var CL=ae(()=>{fg();Rf();hh()});var EL=ae(()=>{Ya();Qo()});var DL=ae(()=>{Ya();Qo();Rf()});var ML=ae(()=>{Ya();Qo()});var _B,bB,yB,_w,ule,fle,dle,bw=ae(()=>{Ya();Qo();hh();vw();_B=1e3,bB=_B*60,yB=bB*60,_w=yB*24,ule=_w*7,fle=_w*30,dle=_w*365});var AL=ae(()=>{bw()});function Ji(e){return e.match(/.{6}/g).map(function(t){return"#"+t})}var Uf=ae(()=>{});var xB,TL=ae(()=>{Uf();xB=Ji("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var wB,LL=ae(()=>{Uf();wB=Ji("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")});var SB,OL=ae(()=>{Uf();SB=Ji("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")});var CB,kL=ae(()=>{Uf();CB=Ji("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")});var EB,PL=ae(()=>{Wo();ms();EB=vf(vi(300,.5,0),vi(-240,.5,1))});var DB,MB,Lle,NL=ae(()=>{Wo();ms();DB=vf(vi(-100,.75,.35),vi(80,1.5,.8)),MB=vf(vi(260,.75,.35),vi(80,1.5,.8)),Lle=vi()});function cg(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var AB,TB,LB,OB,IL=ae(()=>{Uf();AB=cg(Ji("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),TB=cg(Ji("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),LB=cg(Ji("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),OB=cg(Ji("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var zL=ae(()=>{Rf()});var FL=ae(()=>{_L();wL();Rf();SL();pw();CL();EL();DL();ML();bw();AL();TL();LL();OL();kL();PL();NL();IL();zL()});function UB(){var e=du(),t="rect",r=15,n=15,a=10,s=2,o=[5],u=void 0,l=[],g="",h=!1,_="",x=Pr.d3_defaultLocale,S=Pr.d3_defaultFormatSpecifier,w=10,c="middle",v=Pr.d3_defaultDelimiter,y=void 0,b="vertical",C=!1,E=void 0,p=void 0,f=fh("cellover","cellout","cellclick");function D(M){var P=Pr.d3_calcType(e,C,o,l,x.format(S),v),O=M.selectAll("g").data([e]);O.enter().append("g").attr("class",g+"legendCells"),u&&Pr.d3_filterCells(P,u);var z=M.select("."+g+"legendCells").selectAll("."+g+"cell").data(P.data),k=z.enter().append("g").attr("class",g+"cell");k.append(t).attr("class",g+"swatch");var I=M.selectAll("g."+g+"cell "+t+"."+g+"swatch").data(P.data);Pr.d3_addEvents(k,f),z.exit().transition().style("opacity",0).remove(),I.exit().transition().style("opacity",0).remove(),I=I.merge(I),Pr.d3_drawShapes(t,I,n,r,a,E);var H=Pr.d3_addText(M,k,P.labels,g,y);z=k.merge(z);var Y=H.nodes().map(function(V){return V.getBBox()}),q=I.nodes().map(function(V){return V.getBBox()});h?I.attr("class",function(V){return g+"swatch "+P.feature(V)}):t=="line"?I.style("stroke",P.feature):I.style("fill",P.feature);var G=void 0,$=void 0,j=c=="start"?0:c=="middle"?.5:1;b==="vertical"?function(){var V=Y.map(function(X,Q){return Math.max(X.height,q[Q].height)});G=function(Q,te){var xe=Ff(V.slice(0,te));return"translate(0, "+(xe+te*s)+")"},$=function(Q,te){return"translate( "+(q[te].width+q[te].x+w)+", "+(q[te].y+q[te].height/2+5)+")"}}():b==="horizontal"&&(G=function(X,Q){return"translate("+Q*(q[Q].width+s)+",0)"},$=function(X,Q){return"translate("+(q[Q].width*j+q[Q].x)+`,
          `+(q[Q].height+q[Q].y+w+8)+")"}),Pr.d3_placement(b,z,G,H,$,c),Pr.d3_title(M,_,g,p),z.transition().style("opacity",1)}return D.scale=function(M){return arguments.length?(e=M,D):e},D.cells=function(M){return arguments.length?((M.length>1||M>=2)&&(o=M),D):o},D.cellFilter=function(M){return arguments.length?(u=M,D):u},D.shape=function(M,P){return arguments.length?((M=="rect"||M=="circle"||M=="line"||M=="path"&&typeof P=="string")&&(t=M,E=P),D):t},D.shapeWidth=function(M){return arguments.length?(r=+M,D):r},D.shapeHeight=function(M){return arguments.length?(n=+M,D):n},D.shapeRadius=function(M){return arguments.length?(a=+M,D):a},D.shapePadding=function(M){return arguments.length?(s=+M,D):s},D.labels=function(M){return arguments.length?(l=M,D):l},D.labelAlign=function(M){return arguments.length?((M=="start"||M=="end"||M=="middle")&&(c=M),D):c},D.locale=function(M){return arguments.length?(x=su(M),D):x},D.labelFormat=function(M){return arguments.length?(S=ys(M),D):D.locale().format(S)},D.labelOffset=function(M){return arguments.length?(w=+M,D):w},D.labelDelimiter=function(M){return arguments.length?(v=M,D):v},D.labelWrap=function(M){return arguments.length?(y=M,D):y},D.useClass=function(M){return arguments.length?((M===!0||M===!1)&&(h=M),D):h},D.orient=function(M){return arguments.length?(M=M.toLowerCase(),(M=="horizontal"||M=="vertical")&&(b=M),D):b},D.ascending=function(M){return arguments.length?(C=!!M,D):C},D.classPrefix=function(M){return arguments.length?(g=M,D):g},D.title=function(M){return arguments.length?(_=M,D):_},D.titleWidth=function(M){return arguments.length?(p=M,D):p},D.textWrap=function(M){return arguments.length?(textWrap=M,D):textWrap},D.on=function(){var M=f.on.apply(f,arguments);return M===f?D:M},D}function jB(){var e=du(),t="rect",r=15,n=2,a=[5],s=void 0,o=[],u="",l="",g=Pr.d3_defaultLocale,h=Pr.d3_defaultFormatSpecifier,_=10,x="middle",S=Pr.d3_defaultDelimiter,w=void 0,c="vertical",v=!1,y=void 0,b=void 0,C=fh("cellover","cellout","cellclick");function E(p){var f=Pr.d3_calcType(e,v,a,o,g.format(h),S),D=p.selectAll("g").data([e]);s&&Pr.d3_filterCells(f,s),D.enter().append("g").attr("class",u+"legendCells");var M=p.select("."+u+"legendCells").selectAll("."+u+"cell").data(f.data),P=M.enter().append("g").attr("class",u+"cell");P.append(t).attr("class",u+"swatch");var O=p.selectAll("g."+u+"cell "+t+"."+u+"swatch");Pr.d3_addEvents(P,C),M.exit().transition().style("opacity",0).remove(),O.exit().transition().style("opacity",0).remove(),O=O.merge(O),t==="line"?(Pr.d3_drawShapes(t,O,0,r),O.attr("stroke-width",f.feature)):Pr.d3_drawShapes(t,O,f.feature,f.feature,f.feature,y);var z=Pr.d3_addText(p,P,f.labels,u,w);M=P.merge(M);var k=z.nodes().map(function(j){return j.getBBox()}),I=O.nodes().map(function(j,V){var X=j.getBBox(),Q=e(f.data[V]);return t==="line"&&c==="horizontal"?X.height=X.height+Q:t==="line"&&c==="vertical"&&(X.width=X.width),X}),H=zf(I,function(j){return j.height+j.y}),Y=zf(I,function(j){return j.width+j.x}),q=void 0,G=void 0,$=x=="start"?0:x=="middle"?.5:1;c==="vertical"?function(){var j=k.map(function(X,Q){return Math.max(X.height,I[Q].height)}),V=t=="circle"||t=="line"?I[0].height/2:0;q=function(Q,te){var xe=Ff(j.slice(0,te));return"translate(0, "+(V+xe+te*n)+")"},G=function(Q,te){return"translate( "+(Y+_)+`,
          `+(I[te].y+I[te].height/2+5)+")"}}():c==="horizontal"&&function(){q=function(X,Q){var te=Ff(I.slice(0,Q),function(Ne){return Ne.width}),xe=t=="circle"||t=="line"?H/2:0;return"translate("+(te+Q*n)+", "+xe+")"};var j=t=="line"?H/2:H;G=function(X,Q){return"translate( "+(I[Q].width*$+I[Q].x)+`,
              `+(j+_)+")"}}(),Pr.d3_placement(c,M,q,z,G,x),Pr.d3_title(p,l,u,b),M.transition().style("opacity",1)}return E.scale=function(p){return arguments.length?(e=p,E):e},E.cells=function(p){return arguments.length?((p.length>1||p>=2)&&(a=p),E):a},E.cellFilter=function(p){return arguments.length?(s=p,E):s},E.shape=function(p,f){return arguments.length?((p=="rect"||p=="circle"||p=="line")&&(t=p,y=f),E):t},E.shapeWidth=function(p){return arguments.length?(r=+p,E):r},E.shapePadding=function(p){return arguments.length?(n=+p,E):n},E.labels=function(p){return arguments.length?(o=p,E):o},E.labelAlign=function(p){return arguments.length?((p=="start"||p=="end"||p=="middle")&&(x=p),E):x},E.locale=function(p){return arguments.length?(g=su(p),E):g},E.labelFormat=function(p){return arguments.length?(h=ys(p),E):E.locale().format(h)},E.labelOffset=function(p){return arguments.length?(_=+p,E):_},E.labelDelimiter=function(p){return arguments.length?(S=p,E):S},E.labelWrap=function(p){return arguments.length?(w=p,E):w},E.orient=function(p){return arguments.length?(p=p.toLowerCase(),(p=="horizontal"||p=="vertical")&&(c=p),E):c},E.ascending=function(p){return arguments.length?(v=!!p,E):v},E.classPrefix=function(p){return arguments.length?(u=p,E):u},E.title=function(p){return arguments.length?(l=p,E):l},E.titleWidth=function(p){return arguments.length?(b=p,E):b},E.on=function(){var p=C.on.apply(C,arguments);return p===C?E:p},E}function WB(){var e=du(),t="path",r=15,n=15,a=10,s=5,o=[5],u=void 0,l=[],g="",h="",_=Pr.d3_defaultLocale,x=Pr.d3_defaultFormatSpecifier,S="middle",w=10,c=Pr.d3_defaultDelimiter,v=void 0,y="vertical",b=!1,C=void 0,E=fh("cellover","cellout","cellclick");function p(f){var D=Pr.d3_calcType(e,b,o,l,_.format(x),c),M=f.selectAll("g").data([e]);u&&Pr.d3_filterCells(D,u),M.enter().append("g").attr("class",g+"legendCells");var P=f.select("."+g+"legendCells").selectAll("."+g+"cell").data(D.data),O=P.enter().append("g").attr("class",g+"cell");O.append(t).attr("class",g+"swatch");var z=f.selectAll("g."+g+"cell "+t+"."+g+"swatch");Pr.d3_addEvents(O,E),P.exit().transition().style("opacity",0).remove(),z.exit().transition().style("opacity",0).remove(),z=z.merge(z),Pr.d3_drawShapes(t,z,n,r,a,D.feature);var k=Pr.d3_addText(f,O,D.labels,g,v);P=O.merge(P);var I=k.nodes().map(function(V){return V.getBBox()}),H=z.nodes().map(function(V){return V.getBBox()}),Y=zf(H,function(V){return V.height}),q=zf(H,function(V){return V.width}),G=void 0,$=void 0,j=S=="start"?0:S=="middle"?.5:1;y==="vertical"?function(){var V=I.map(function(X,Q){return Math.max(Y,X.height)});G=function(Q,te){var xe=Ff(V.slice(0,te));return"translate(0, "+(xe+te*s)+" )"},$=function(Q,te){return"translate( "+(q+w)+`,
              `+(H[te].y+H[te].height/2+5)+")"}}():y==="horizontal"&&(G=function(X,Q){return"translate( "+Q*(q+s)+",0)"},$=function(X,Q){return"translate( "+(H[Q].width*j+H[Q].x)+`,
              `+(Y+w)+")"}),Pr.d3_placement(y,P,G,k,$,S),Pr.d3_title(f,h,g,C),P.transition().style("opacity",1)}return p.scale=function(f){return arguments.length?(e=f,p):e},p.cells=function(f){return arguments.length?((f.length>1||f>=2)&&(o=f),p):o},p.cellFilter=function(f){return arguments.length?(u=f,p):u},p.shapePadding=function(f){return arguments.length?(s=+f,p):s},p.labels=function(f){return arguments.length?(l=f,p):l},p.labelAlign=function(f){return arguments.length?((f=="start"||f=="end"||f=="middle")&&(S=f),p):S},p.locale=function(f){return arguments.length?(_=su(f),p):_},p.labelFormat=function(f){return arguments.length?(x=ys(f),p):p.locale().format(x)},p.labelOffset=function(f){return arguments.length?(w=+f,p):w},p.labelDelimiter=function(f){return arguments.length?(c=f,p):c},p.labelWrap=function(f){return arguments.length?(v=f,p):v},p.orient=function(f){return arguments.length?(f=f.toLowerCase(),(f=="horizontal"||f=="vertical")&&(y=f),p):y},p.ascending=function(f){return arguments.length?(b=!!f,p):b},p.classPrefix=function(f){return arguments.length?(g=f,p):g},p.title=function(f){return arguments.length?(h=f,p):h},p.titleWidth=function(f){return arguments.length?(C=f,p):C},p.on=function(){var f=E.on.apply(E,arguments);return f===E?p:f},p}var kB,UL,BL,RL,PB,NB,IB,zB,FB,BB,RB,Pr,GB,HB,VB,jL,hg=ae(()=>{I8();rg();Q8();FL();Ya();kB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UL=function(t){return t},BL=function(t){for(var r=[],n=0,a=t.length;n<a;n++)r[n]=t[a-n-1];return r},RL=function(t,r){t.each(function(){for(var n=Vx(this),a=n.text().split(/\s+/).reverse(),s,o=[],u=0,l=1.2,g=n.attr("y"),h=parseFloat(n.attr("dy"))||0,_=n.text(null).append("tspan").attr("x",0).attr("dy",h+"em");s=a.pop();)o.push(s),_.text(o.join(" ")),_.node().getComputedTextLength()>r&&o.length>1&&(o.pop(),_.text(o.join(" ")),o=[s],_=n.append("tspan").attr("x",0).attr("dy",l+h+"em").text(s))})},PB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments[1],n=arguments[2],a=arguments[3],s=arguments[4];if((typeof r>"u"?"undefined":kB(r))==="object"){if(r.length===0)return t;for(var o=r.length;o<t.length;o++)r.push(t[o]);return r}else if(typeof r=="function"){for(var u=[],l=t.length,g=0;g<l;g++)u.push(r({i:g,genLength:l,generatedLabels:t,domain:n,range:a,labelDelimiter:s}));return u}return t},NB=function(t,r,n){var a=[];if(r.length>1)a=r;else for(var s=t.domain(),o=(s[s.length-1]-s[0])/(r-1),u=0;u<r;u++)a.push(s[0]+u*o);var l=a.map(n);return{data:a,labels:l,feature:function(h){return t(h)}}},IB=function(t,r,n){var a=t.range().map(function(s){var o=t.invertExtent(s);return r(o[0])+" "+n+" "+r(o[1])});return{data:t.range(),labels:a,feature:UL}},zB=function(t){return{data:t.domain(),labels:t.domain(),feature:function(n){return t(n)}}},FB=function(t,r,n){t.call("cellover",n,r)},BB=function(t,r,n){t.call("cellout",n,r)},RB=function(t,r,n){t.call("cellclick",n,r)},Pr={d3_drawShapes:function(t,r,n,a,s,o){t==="rect"?r.attr("height",n).attr("width",a):t==="circle"?r.attr("r",s):t==="line"?r.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&r.attr("d",o)},d3_addText:function(t,r,n,a,s){r.append("text").attr("class",a+"label");var o=t.selectAll("g."+a+"cell text."+a+"label").data(n).text(UL);return s&&t.selectAll("g."+a+"cell text."+a+"label").call(RL,s),o},d3_calcType:function(t,r,n,a,s,o){var u=t.invertExtent?IB(t,s,o):t.ticks?NB(t,n,s):zB(t),l=t.range&&t.range()||t.domain();return u.labels=PB(u.labels,a,t.domain(),l,o),r&&(u.labels=BL(u.labels),u.data=BL(u.data)),u},d3_filterCells:function(t,r){var n=t.data.map(function(o,u){return{data:o,label:t.labels[u]}}).filter(r),a=n.map(function(o){return o.data}),s=n.map(function(o){return o.label});return t.data=t.data.filter(function(o){return a.indexOf(o)!==-1}),t.labels=t.labels.filter(function(o){return s.indexOf(o)!==-1}),t},d3_placement:function(t,r,n,a,s,o){r.attr("transform",n),a.attr("transform",s),t==="horizontal"&&a.style("text-anchor",o)},d3_addEvents:function(t,r){t.on("mouseover.legend",function(n){FB(r,n,this)}).on("mouseout.legend",function(n){BB(r,n,this)}).on("click.legend",function(n){RB(r,n,this)})},d3_title:function(t,r,n,a){if(r!==""){var s=t.selectAll("text."+n+"legendTitle");s.data([r]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(r),a&&t.selectAll("text."+n+"legendTitle").call(RL,a);var o=t.select("."+n+"legendCells"),u=t.select("."+n+"legendTitle").nodes().map(function(g){return g.getBBox().height})[0],l=-o.nodes().map(function(g){return g.getBBox().x})[0];o.attr("transform","translate("+l+","+u+")")}},d3_defaultLocale:{format:ou,formatPrefix:Nf},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};GB=function(t){var r=t.i,n=t.genLength,a=t.generatedLabels,s=t.labelDelimiter;if(r===0){var o=a[r].split(" "+s+" ");return"Less than "+o[1]}else if(r===n-1){var u=a[r].split(" "+s+" ");return u[0]+" or more"}return a[r]},HB={thresholdLabels:GB},VB={legendColor:UB,legendSize:jB,legendSymbol:WB,legendHelpers:HB},jL=VB});var WL=Pn((wue,pg)=>{(function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),n=r&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,s=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,o=(r||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(u){var l,g,h,_,x,S,w,c,v;if(l=u.match(s),!l)throw new Error("invalid data URI");for(g=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),h=!!l[4],_=u.slice(l[0].length),h?x=atob(_):x=decodeURIComponent(_),S=new ArrayBuffer(x.length),w=new Uint8Array(S),c=0;c<x.length;c+=1)w[c]=x.charCodeAt(c);return r?new Blob([n?w:S],{type:g}):(v=new a,v.append(S),v.getBlob(g))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(u,l,g){var h=this;setTimeout(function(){g&&t.toDataURL&&o?u(o(h.toDataURL(l,g))):u(h.mozGetAsFile("blob",l))})}:t.toDataURL&&o&&(t.msToBlob?t.toBlob=function(u,l,g){var h=this;setTimeout(function(){(l&&l!=="image/png"||g)&&t.toDataURL&&o?u(o(h.toDataURL(l,g))):u(h.msToBlob(l))})}:t.toBlob=function(u,l,g){var h=this;setTimeout(function(){u(o(h.toDataURL(l,g)))})})),typeof define=="function"&&define.amd?define(function(){return o}):typeof pg=="object"&&pg.exports?pg.exports=o:e.dataURLtoBlob=o})(window)});var jf=Pn((yw,xw)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof yw<"u"?t():(t(),e.FileSaver={})})(yw,function(){"use strict";function e(u,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function t(u,l,g){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){o(h.response,l,g)},h.onerror=function(){console.error("could not download file")},h.send()}function r(u){var l=new XMLHttpRequest;l.open("HEAD",u,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function n(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(l)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(u,l,g){var h=a.URL||a.webkitURL,_=document.createElement("a");l=l||u.name||"download",_.download=l,_.rel="noopener",typeof u=="string"?(_.href=u,_.origin===location.origin?n(_):r(_.href)?t(u,l,g):n(_,_.target="_blank")):(_.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(_.href)},4e4),setTimeout(function(){n(_)},0))}:"msSaveOrOpenBlob"in navigator?function(u,l,g){if(l=l||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(e(u,g),l);else if(r(u))t(u,l,g);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){n(h)})}}:function(u,l,g,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return t(u,l,g);var _=u.type==="application/octet-stream",x=/constructor/i.test(a.HTMLElement)||a.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||_&&x||s)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var y=w.result;y=S?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=y:location=y,h=null},w.readAsDataURL(u)}else{var c=a.URL||a.webkitURL,v=c.createObjectURL(u);h?h.location=v:location.href=v,h=null,setTimeout(function(){c.revokeObjectURL(v)},4e4)}});a.saveAs=o.saveAs=o,typeof xw<"u"&&(xw.exports=o)})});function Wf(e,t=YB){let r=Object.assign({},t,e);r.em_size=getEmPixels(),r.margin.left=r.em_size*r.margin_scaler,r.margin.right=r.em_size*r.margin_scaler,r.margin.top=r.em_size*r.margin_scaler,r.margin.bottom=r.em_size*r.margin_scaler,qr(r.parent).select("svg").remove(),r.svg=qr(r.parent).append("svg").attr("id",r.id||"chart").attr("width",r.width).attr("height",r.height),r.svg.style("text-rendering","optimizeLegibility").style("shape-rendering","default").style("font-family","sans-serif"),r.download_buttons&&(r.key_panel=!0),r.key_panel&&(r.chartType==="line"?r.container_width=r.container_width*.9:r.container_height=r.container_height-r.container_height*.2),r.container_width<r.margin.left+r.margin.right&&(r.container_width=r.margin.left+r.margin.right+r.em_size),r.assignment_ribbon&&(r.container_height=r.container_height-r.container_height*.1);let n=r.margin.top,a=0;r.annotation_sets&&(n=r.em_size*5,a=r.em_size*3);let s=0,o=r.container_height-r.margin.bottom;r.chartType,s=r.width-r.margin.right-r.em_size*4,o=r.margin.top,r.chartType==="annotationGrid"&&(s=0,o=r.container_height);let u=r.container_width-r.em_size*10,l=r.container_height-r.margin.bottom;return r.chartType,u=r.width-10*r.em_size,l=r.height-10*r.em_size,r.chartType==="annotationGrid"&&(u=r.width-r.margin.right-r.em_size*10,l=r.container_height),r.container=r.svg.append("g").attr("id","container").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.height-r.margin.top-r.margin.bottom).attr("transform","translate("+[r.margin.left,n]+")"),r.axes=r.svg.append("g").attr("id","axes").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[0,a]+")"),r.key=r.svg.append("g").attr("id","key").attr("width",r.width*.2-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[s,o]+")"),r.buttons=r.svg.append("g").attr("id","buttons").attr("width",r.width*.2-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[u,l]+")"),r.ribbon=r.svg.append("g").attr("id","ribbon").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.margin.top).attr("transform","translate("+[r.margin.left,0]+")"),r.annotationToggle=r.svg.append("g").attr("id","toggle").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.margin.top).attr("transform","translate("+[r.margin.left/2,n/3]+")"),r}function VL(e){console.log("parent: "+e.parent),console.log("emsize: "+e.em_size),console.log("width: "+e.width),console.log("height: "+e.height),console.log("container_width: "+e.container_width),console.log("container_height: "+e.container_height),console.log("margin scaler: "+e.margin_scaler),console.log("margin.left: "+e.margin.left),console.log("margin.right: "+e.margin.right),console.log("margin.top: "+e.margin.top),console.log("margin.bottom: "+e.margin.bottom)}function KB(e){e.setAttribute("xlink","http://www.w3.org/1999/xlink");var t=a(e);s(t,e);var r=new XMLSerializer,n=r.serializeToString(e);return n=n.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),n=n.replace(/NS\d+:href/g,"xlink:href"),n;function a(o){var u=[];u.push("#"+o.id);for(var l=0;l<o.classList.length;l++)y("."+o.classList[l],u)||u.push("."+o.classList[l]);for(var g=o.getElementsByTagName("*"),h=0;h<g.length;h++){var _=g[h].id;y("#"+_,u)||u.push("#"+_);var x=g[h].classList;for(let b=0;b<x.length;b++)y("."+x[b],u)||u.push("."+x[b])}var S="";for(let b=0;b<document.styleSheets.length;b++){var w=document.styleSheets[b];try{if(!w.cssRules)continue}catch(C){if(C.name!=="SecurityError")throw C;continue}for(var c=w.cssRules,v=0;v<c.length;v++)y(c[v].selectorText,u)&&(S+=c[v].cssText)}return S;function y(b,C){return C.indexOf(b)!==-1}}function s(o,u){var l=document.createElement("style");l.setAttribute("type","text/css"),l.innerHTML=o;var g=u.hasChildNodes()?u.children[0]:null;u.insertBefore(l,g)}}function ZB(e,t,r,n,a){n=n||"png";var s="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),o=document.createElement("canvas"),u=o.getContext("2d");o.width=t,o.height=r;var l=new Image;l.onload=function(){u.clearRect(0,0,t,r),u.drawImage(l,0,0,t,r),o.toBlob(function(g){var h=Math.round(g.length/1024)+" KB";a&&a(g,h)})},l.src=s}function XB(e){try{let n=!!new Blob}catch{alert("blob not supported. Can't save file from the browser you are using")}console.log(e);let t=qr("#"+e).attr("title",e).attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML;console.log(t),t=t.substring(t.indexOf("<svg")),t=t.replace(/<g id="toggle".+?<\/g>/,""),t=t.replace(/<g id="buttons".+?<\/g>/,"");let r=new Blob([t],{type:"image/svg+xml"});HL.saveAs(r,e+".svg")}function no(e,t,r,n,a="buttons",s=0,o=0){let u=n+s,l=0+o;e[a].append("rect").attr("x",u).attr("y",l).attr("id",t+r+"Button").attr("width",e.em_size*4.5).attr("height",e.em_size*2).attr("class",r+"button").on("mouseover",function(){qr("#"+t+r+"Button").attr("fill","").classed("active",!0),qr("#"+t+r+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(){qr("#"+t+r+"Button").classed("active",!1),qr("#"+t+r+"Text").classed("active",!1)}),e[a].append("text").attr("id",t+r+"Text").attr("class","buttonText").attr("x",e.em_size/2+u).attr("y",e.em_size+l).attr("dy",".35em").text("Get "+r.toUpperCase()).on("mouseover",function(){qr("#"+t+r+"Button").attr("fill","").classed("active",!0),qr("#"+t+r+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(){qr("#"+t+r+"Button").classed("active",!1),qr("#"+t+r+"Text").classed("active",!1)})}function Gf(e,t){GL(e,"Button",t),GL(e,"Text",t)}function GL(e,t,r){console.log(r),qr("#"+r+"png"+t).on("click",function(){var n=KB(e.svg.node());console.log(n),n=n.replace(/<g id="toggle".+?<\/g>/,""),n=n.replace(/<g id="buttons".+?<\/g>/,""),ZB(n,2*e.width,2*e.height,"png",a);function a(s,o){HL.saveAs(s,r+".png")}}),qr("#"+r+"svg"+t).on("click",function(){XB(r)})}function YL(e,t,r){var n=1;return r&&(n=-1),e.sort(function(a,s){var o=a[t],u=s[t];return n*(o<u?-1:o>u?1:0)})}function mg(e,t){let r=[];return Object.keys(e).forEach(function(n){r.push(e[n][t])}),r}function cu(e,t){let r=[];for(var n=e;n<=t;n++)r.push(n);return r}var HL,YB,Yn=ae(()=>{ha();kf();WL();HL=jf(),YB={chartType:!1,em_size:!1,width:window.innerWidth,height:window.innerHeight,container_width:window.innerWidth,container_height:window.innerHeight,parent:"body",key_panel:!0,y_axis_label:!1,x_axis_label:!1,ribbon_label:!1,y_cutoff:!1,x_cutoff:!1,x_cutoff_text:"Cutoff",y_cutoff_text:"Cutoff",assignment_ribbon:!1,assignment_label:"",download_buttons:!1,grid_label:!1,grid_colour_type:!1,grid_colour_annotations:!1,x_grid_labels:!1,y_grid_labels:!1,y_labels:!1,x_labels:!1,custom_grid_palette:!1,grid_key:!1,annotation_sets:!1,margin_scaler:5,margin:{left:!1,right:!1,top:!1,bottom:!1}};(function(e,t){"use strict";var r="!important;",n="position:absolute"+r+"visibility:hidden"+r+"width:1em"+r+"font-size:1em"+r+"padding:0"+r;window.getEmPixels=function(a){var s;a||(a=s=e.createElement("body"),s.style.cssText="font-size:1em"+r,t.insertBefore(s,e.body));var o=e.createElement("i");o.style.cssText=n,a.appendChild(o);var u=o.clientWidth;return s?t.removeChild(s):a.removeChild(o),u}})(document,document.documentElement)});function ZL(e,t,r,n,a="xyLineChart",s={}){s=Object.assign(s,{chartType:"line"});let o=Wf(s),u=e.reduce(function(x,S){return x.concat(Number(S[t]))},[]),l=function(x){return h.x(x[t])},g=[];r.forEach(function(x){g=g.concat(e.reduce(function(S,w){return S.concat(Number(w[x]))},[]))});let h=XL(o,u,g,o.height-o.margin.bottom*2);JB(o,"axes",h.x,h.y);let _={};r.forEach(function(x){_[x]=function(S){return h.y(S[x])}}),qB(o,e,l,_,h,t),o.key_panel&&QB(o,r,n),o.download_buttons&&(no(o,a,"png",0),no(o,a,"svg",o.em_size*5),Gf(o,a)),o.assignment_ribbon&&$B(e,o,u,h),o.x_cutoff&&KL(o,h,o.x_cutoff,"x"),o.y_cutoff&&KL(o,h,o.y_cutoff,"y")}function $B(e,t,r,n){let a=e.reduce(function(u,l){let g=l[t.assignment_label],h=u[g]||[];return u[g]=h.concat({x:Number(l.pos),y:1}),u},[]);Object.keys(a).forEach(function(u){let l=r.slice(0);a[u].forEach(function(g){l=l.filter(function(h){return h!==g.x})}),l.forEach(function(g){let h=a[u]||[];a[u]=h.concat({x:Number(g),y:null})}),a[u]=YL(a[u],"x")});let o=XL(t,r,[1],t.margin.top/4);Object.keys(a).forEach(function(u){let l=Nm().defined(function(h){return h.y}).x(function(h){return n.x(h.x)}).y(function(h){return o.y(h.y)}).curve(Jc),g=t.ribbon.selectAll("."+u+"line").data([a[u]]);g.enter().append("path").classed(u,!0).merge(g).attr("d",l).attr("fill","none")}),t.ribbon_label&&t.ribbon.append("text").attr("transform","translate("+t.margin.left/2+", 10)").style("text-anchor","middle").text(t.ribbon_label)}function KL(e,t,r,n){let a="x",s=1,o=e.y_cutoff_text,u=5;n==="x"&&(a="y",s=0,o=e.x_cutoff_text,u=-3);let l=e.container.append("line").classed("cutoff_line",!0).attr(a+"1",0).attr(n+"1",t[n](r)).attr(a+"2",t[a].range()[s]).attr(n+"2",t[n](r)),g=e.container.append("text").attr("class","cutoffText").attr(a,5).attr(n,t[n](r)-u).attr("dy",".1em").text(o+": "+r.toString())}function QB(e,t,r){var n=Zl().domain(t).range(r),a=jL.legendColor().shape("path",Cx().type(Sx).size(e.em_size*10)()).shapePadding(10).scale(n);e.key.append("g").attr("class","legendOrdinal").call(a)}function qB(e,t,r,n,a,s){Object.keys(n).forEach(function(o){let u=n[o],l=Nm().x(r).y(u).curve(Dx),g=e.container.selectAll("."+o+"line").data([t]);g.enter().append("path").classed(o,!0).merge(g).attr("d",l).attr("fill","none"),e.container.selectAll(".dot").data(t).enter().append("circle").classed(o,!0).attr("r",1.5).attr("cx",r).attr("cy",u).attr("fill","black").append("svg:title").text(function(h,_){return s+": "+h[s]+`
val: `+h[o]+`
type: `+h[e.assignment_label]})})}function XL(e,t,r,n){let a=ga().range([0,e.container_width-e.margin.left-e.margin.right]).domain(cs(t)),s=ga().range([n,0]).domain(cs(r));return{x:a,y:s}}function JB(e,t,r,n){let a=Nl().scale(r),s=Il().scale(n);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(s),e.y_axis_label&&e.container.append("text").attr("transform","rotate(-90)").attr("y",0-e.margin.left/2).attr("x",0-e.container_height/2).attr("dy","1em").style("text-anchor","middle").text(e.y_axis_label),console.log(e.container_height-100),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,e.height-e.margin.bottom]+")").call(a),e.x_axis_label&&e.container.append("text").attr("transform","translate("+e.container_width/2+" ,"+(e.height-e.margin.bottom-e.em_size*3)+")").style("text-anchor","middle").text(e.x_axis_label)}var Oue,ww=ae(()=>{kf();Wl();hg();Yn();Yn();Yn();Yn();Oue=jf()});var Sw={};Wh(Sw,{aatypes:()=>oR,aatypes_annotations:()=>lR,clustal:()=>nR,clustal_annotations:()=>iR,colorbrewer:()=>eR,lesk:()=>aR,lesk_annotations:()=>sR,secondary_structure:()=>uR,taylor:()=>tR,taylor_annotations:()=>rR,transmembrane:()=>fR});var eR,tR,rR,nR,iR,aR,sR,oR,lR,uR,fR,Cw=ae(()=>{eR={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}},tR={A:{fill:"#ccff00"},V:{fill:"#99ff00"},I:{fill:"#66ff00"},L:{fill:"#33ff00"},M:{fill:"#00ff00"},F:{fill:"#00ff66"},Y:{fill:"#00ffcc"},W:{fill:"#00ccff"},H:{fill:"#0066ff"},R:{fill:"#0000ff"},K:{fill:"#6600ff"},N:{fill:"#cc00ff"},Q:{fill:"#ff00cc"},E:{fill:"#ff0066"},D:{fill:"#ff0000"},S:{fill:"#ff3300"},T:{fill:"#ff6600"},G:{fill:"#ff9900"},P:{fill:"#ffcc00"},C:{fill:"#ffff00"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},rR={S:{fill:"#ffff00",name:"Small axis"},B:{fill:"#00ff00",name:"Big axis"},P:{fill:"#ff0000",name:"Positive axis"},N:{fill:"#0000ff",name:"Negative axis"}},nR={A:{fill:"#c23f35"},V:{fill:"#c23f35"},F:{fill:"#c23f35"},P:{fill:"#c23f35"},I:{fill:"#c23f35"},L:{fill:"#c23f35"},M:{fill:"#c23f35"},W:{fill:"#c23f35"},D:{fill:"#6e6caa"},E:{fill:"#6e6caa"},K:{fill:"#b73c86"},R:{fill:"#b73c86"},C:{fill:"#319900"},N:{fill:"#319900"},Q:{fill:"#319900"},G:{fill:"#319900"},S:{fill:"#319900"},T:{fill:"#319900"},H:{fill:"#319900"},Y:{fill:"#319900"}},iR={S:{fill:"#c23f35",name:"Small and hydrophobic"},A:{fill:"#6e6caa",name:"Acidic"},B:{fill:"#b73c86",name:"Basic"},H:{fill:"#319900",name:"Hydroxyl, sulfhydril, amine"},O:{fill:"LightGrey",name:"Other"}},aR={G:{fill:"#e18f27"},A:{fill:"#e18f27"},S:{fill:"#e18f27"},T:{fill:"#e18f27"},C:{fill:"#319900"},V:{fill:"#319900"},I:{fill:"#319900"},L:{fill:"#319900"},P:{fill:"#319900"},F:{fill:"#319900"},Y:{fill:"#319900"},M:{fill:"#319900"},W:{fill:"#319900"},N:{fill:"#b73c86"},Q:{fill:"#b73c86"},H:{fill:"#b73c86"},D:{fill:"#c23f35"},E:{fill:"#c23f35"},K:{fill:"#6e6caa"},R:{fill:"#6e6caa"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},sR={S:{fill:"#e18f27",name:"Small nonpolar"},H:{fill:"#319900",name:"Hydrophobic"},P:{fill:"#b73c86",name:"Polar"},N:{fill:"#c23f35",name:"Negatively charged"},E:{fill:"#6e6caa",name:"Positively charged"}},oR={A:{fill:"#e18f27"},S:{fill:"#e18f27"},T:{fill:"#e18f27"},G:{fill:"#e18f27"},P:{fill:"#e18f27"},M:{fill:"#319900"},I:{fill:"#319900"},L:{fill:"#319900"},V:{fill:"#319900"},K:{fill:"#c23f35"},R:{fill:"#c23f35"},E:{fill:"#c23f35"},N:{fill:"#c23f35"},D:{fill:"#c23f35"},H:{fill:"#c23f35"},Q:{fill:"#c23f35"},W:{fill:"#7ebfd3"},Y:{fill:"#7ebfd3"},F:{fill:"#7ebfd3"},C:{fill:"#7ebfd3"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},lR={S:{fill:"#e18f27",name:"Small nonpolar"},H:{fill:"#319900",name:"Hydrophobic"},P:{fill:"#c23f35",name:"Polar"},A:{fill:"#7ebfd3",name:"Aromatics plus cystiene"}},uR={E:{fill:"Gold"},H:{fill:"HotPink"},C:{fill:"LightGrey"}},fR={C:{fill:"LightGrey"},H:{fill:"#e18f27"}}});function $L(e,t={}){let r={id:"annotationGrid",chartType:"annotationGrid",annotation_sets:cR,download_buttons:!0,grid_label:!0,grid_colour_type:"custom",grid_colour_annotations:["ss","disopred","dompred","dmpmetal","memsat"],custom_grid_palette:dR};r=Object.assign(r,t),QL(e,"res",50,"annotationGrid",r)}function QL(e,t,r,n="seqAnnotationChart",a={}){a=Object.assign(a,{});let s=Wf(a),o=e.length,u=Math.ceil(o/r),l=mR(s,[1,r],[1,u],u*(s.em_size+3),r,u,o);a.debug===!0&&VL(s),pR(s,"axes",l.x,l.y,l.x_top,l.y_right,u*(s.em_size+3)),JL(s,e,l,r),s.key_panel&&qL(s),s.download_buttons&&(no(s,n,"png",0),no(s,n,"svg",s.em_size*5),Gf(s,n)),s.annotation_sets&&hR(s,e,l,r)}function hR(e,t,r,n){let a=function(g){e.grid_colour_type=g.name,e.grid_colour_annotations=g.values,e.container.selectAll(".rect").remove(),e.container.selectAll(".text").remove(),JL(e,t,r,n),e.key.selectAll(".rect").remove(),e.key.selectAll("text").remove(),qL(e)},s=e.annotationToggle.selectAll(".rect").data(e.annotation_sets),o=function(g){return g.name+"button"},u=function(g){return g.label?g.label:g.name};s.enter().append("rect").attr("x",e.em_size*4).attr("id",function(g){return u(g)+"button"}).attr("width",function(g){let h="";return g.label?h="Show "+g.label:h="Show "+g.name,h.length*e.em_size/1.8}).attr("height",e.em_size*1.5).attr("transform",function(g,h){return"translate("+[h*e.em_size*10,0]+")"}).attr("class",function(g){return u(g)+"button"}).on("mouseover",function(g){qr("#"+u(g)+"button").attr("fill","").classed("active",!0),qr("#"+u(g)+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(g){qr("#"+u(g)+"button").classed("active",!1),qr("#"+u(g)+"Text").classed("active",!1)}).on("click",a),e.annotationToggle.selectAll(".text").data(e.annotation_sets).enter().append("text").attr("id",function(g){return u(g)+"Text"}).attr("class","buttonText").attr("x",10+e.em_size*4).attr("y",e.em_size*.8).attr("dy",".35em").attr("transform",function(g,h){return"translate("+[h*e.em_size*10,0]+")"}).text(function(g){return"Show "+u(g)}).on("mouseover",function(g){qr("#"+u(g)+"button").attr("fill","").classed("active",!0),qr("#"+u(g)+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(g){qr("#"+u(g)+"button").classed("active",!1),qr("#"+u(g)+"Text").classed("active",!1)}).on("click",a)}function qL(e){let t;e.grid_colour_type==="lesk"&&(t=io.lesk_annotations),e.grid_colour_type==="aatypes"&&(t=io.aatypes_annotations),e.grid_colour_type==="clustal"&&(t=io.clustal_annotations),e.grid_colour_type==="taylor"&&(t=io.taylor_annotations),e.custom_grid_palette&&e.grid_colour_type==="custom"&&(t=e.custom_grid_palette);let r=0,n=0;e.key.selectAll(".rect").data(Object.keys(t)).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",e.em_size).attr("transform",function(o,u){r==4&&(r=0,n+=1);let l=[r*11*e.em_size+e.margin.left,n*e.em_size*1.4];return r+=1,"translate("+l+")"}).attr("stroke",function(o){let u="white";return t[o].stroke?t[o].stroke:u}).attr("fill",function(o){let u="white";return t[o].fill?t[o].fill:u}),r=0,n=0,e.key.selectAll(".text").data(Object.keys(t)).enter().append("text").attr("transform",function(o,u){r==4&&(r=0,n+=1);let l=[r*11*e.em_size+e.margin.left+e.em_size*1.2,n*e.em_size*1.4+e.em_size/1.5];return r+=1,"translate("+l+")"}).text(function(o){return t[o].name}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","bold").attr("fill","black")}function JL(e,t,r,n){let a=0,s=0,o=ga().domain(Ga(0,1,1/(io.colorbrewer.RdYlGn[11].length-1))).range(io.colorbrewer.RdYlGn[11]),u=ga().domain(cs(mg(t,e.grid_colour_annotations))).range([0,1]),l=function(x,S){let w="Pos: "+(S+1)+`
`;if(e.grid_colour_type&&e.grid_colour_annotations)return e.grid_colour_type==="heatmap"&&(w+=x[e.grid_colour_annotations[0]]),(e.grid_colour_type==="lesk"||e.grid_colour_type==="aatypes"||e.grid_colour_type==="clustal"||e.grid_colour_type==="taylor"||e.grid_colour_type==="secondary_structure"||e.grid_colour_type==="transmembrane")&&(w+=x[e.grid_colour_annotations]),e.grid_colour_type==="custom"&&e.grid_colour_annotations.forEach(function(c,v){e.custom_grid_palette[x[c]]&&(w+=c+": "+x[c]+`
`)}),w},g=function(x,S){let w="white";if(e.grid_colour_type&&e.grid_colour_annotations){if(e.grid_colour_type==="heatmap")return o(u(x[e.grid_colour_annotations[0]]));(e.grid_colour_type==="lesk"||e.grid_colour_type==="aatypes"||e.grid_colour_type==="clustal"||e.grid_colour_type==="taylor"||e.grid_colour_type==="secondary_structure"||e.grid_colour_type==="transmembrane")&&io[e.grid_colour_type].hasOwnProperty(x[e.grid_colour_annotations[0]])&&io[e.grid_colour_type][x[e.grid_colour_annotations[0]]].hasOwnProperty(S)&&(w=io[e.grid_colour_type][x[e.grid_colour_annotations[0]]][S]),e.grid_colour_type==="custom"&&e.grid_colour_annotations.forEach(function(c,v){e.custom_grid_palette[x[c]]&&e.custom_grid_palette[x[c]].hasOwnProperty(S)&&(w=e.custom_grid_palette[x[c]][S])})}return w},h=e.container.selectAll(".rect").data(t);if(h.enter().append("rect").attr("class","rect").attr("width",e.em_size*1.1).attr("height",e.em_size*1.1).attr("transform",function(x){return s==n&&(s=0,a+=e.em_size*1.2),s+=1,"translate("+[r.x(s),a]+")"}).attr("fill",function(x){return g(x,"fill")}).attr("stroke",function(x){return g(x,"stroke")}).append("svg:title").text(l),h.exit().transition().remove(),e.grid_label){a=e.em_size*.8,s=0;var _=e.container.selectAll(".text").data(t);_.enter().append("text").attr("transform",function(x){return s==n&&(s=0,a+=e.em_size*1.2),s+=1,"translate("+[r.x(s)+5,a]+")"}).text(function(x){return x.res}).attr("font-family","sans-serif").attr("font-size",e.em_size*.66).attr("font-weight","bold").attr("fill","black").append("svg:title").text(l),_.exit().transition().remove()}}function pR(e,t,r,n,a,s,o){let u=Nl().scale(r).tickValues(r.domain().filter(function(x,S){return!((S+1)%10)})),l=Wb().scale(a).tickValues(r.domain().filter(function(x,S){return!((S+1)%10)})),g=Il().scale(n),h=Gb().scale(s);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(g).select(".domain").remove(),e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.container_width-e.margin.right,e.margin.top]+")").call(h).selectAll(".domain").remove(),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,o+e.margin.top]+")").call(u).selectAll(".domain").remove();let _=e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(l);e.x_labels&&_.selectAll("text").attr("y",0).attr("x",e.em_size/2).attr("dy",".35em").attr("transform","rotate(-60)").style("text-anchor","start"),_.selectAll(".domain").remove(),e[t].selectAll("line").remove()}function mR(e,t,r,n,a,s,o){let u=qi().range([0,e.container_width-e.margin.left-e.margin.right]).domain(cu(t[0],t[1])),l=cu(r[0],r[1]);l.forEach(function(S,w){S==1?l[w]=1:l[w]=(S-1)*a+1});let g=qi().range([0,n]).domain(l),h=qi().range([0,e.container_width-e.margin.left-e.margin.right]).domain(cu(t[0],t[1]));if(e.x_labels){let S=[];if(e.x_labels.length<a){let w=-1;for(let c=0;c<=a;c+=1)c%e.x_labels.length===0&&(w+=1),S.push(e.x_labels[c%e.x_labels.length]+"_"+w)}else S=e.x_labels;h=qi().range([0,e.container_width-e.margin.left-e.margin.right]).domain(S.slice(0,a))}let _=cu(r[0],r[1]);_.forEach(function(S,w){_[w]=S*a,w===_.length-1&&(_[w]=o)});let x=qi().range([0,n]).domain(_);if(e.y_labels){let S=[];if(e.y_labels.length<s){let w=-1;for(let c=0;c<=s;c+=1)c%e.y_labels.length===0&&(w+=1),S.push(e.y_labels[c%e.y_labels.length]+"_"+w)}else S=e.y_labels;x=qi().range([0,n]).domain(S.slice(0,s))}return{x:u,y:g,x_top:h,y_right:x}}var io,Wue,dR,cR,gg=ae(()=>{kf();Wl();hg();Yn();Yn();Yn();Yn();Yn();Yn();io=(Cw(),Gw(Sw)),Wue=jf(),dR={E:{fill:"Gold",name:"Strand"},H:{fill:"HotPink",name:"Helix"},C:{fill:"LightGrey",name:"Coil"},D:{stroke:"blue",name:"Disordered"},PB:{stroke:"green",name:"Disordered, protein binding"},B:{fill:"#7ebfd3",name:"Putative Domain Boundary"},I:{fill:"DarkGrey",name:"Membrane Interaction"},TM:{fill:"DarkGrey",name:"Transmembrane Helix"},EC:{fill:"Orange",name:"Extracellular"},RH:{fill:"Green",name:"Re-entrant Helix"},CY:{fill:"White",name:"Cytoplasmic"},S:{fill:"Pink",name:"Signal Peptide"},MB:{fill:"FireBrick",name:"Metal Binding"}},cR=[{name:"custom",values:["ss","disopred","dompred","dmpmetal"],label:"psipred"},{name:"custom",values:["memsat"],label:"memsat"},{name:"aatypes",values:["res"]}]});function eO(e,t="psipredChart",r={}){let a=xR(e),s=Math.ceil(a.length/50);r=Object.assign(r,{key_panel:!1,download_buttons:!0,id:t});let o=Wf(r);o.height=7*o.em_size*(s+1),o.container_height=o.height,o.width=o.em_size*50,o.container_width=o.em_size*50,o.chartType="psipred";let u=0;for(let l=0;l<s;l+=1){let g=1+l*50,h=50+l*50,_=0+l*(10*o.em_size),x=7*o.em_size+l*(10*o.em_size),S=bR(o,g,h,7*o.em_size);yR(o,"axes",S.x,S.y,x,_);let w=a.slice(g-1,h);u=_R(o,w,x,_,g)}gR(o,a,u+2*o.em_size,t)}function gR(e,t,r,n){let a=e.container;r+=e.em_size,e.download_buttons&&(no(e,n,"png",0,"buttons",0,3),no(e,n,"svg",e.em_size*5,"buttons",0,3),Gf(e,n)),a.append("text").attr("transform",function(s,o){return"translate("+[0,r]+")"}).text("Legend:").attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black"),r+=e.em_size,Ew(e,a,r,"Strand","Gold"),vg(e,a,r,"Conf:","-"),vR(e,a,r),a.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*17.5,r+e.em_size*.8]+")"}).text("+ Confidence of prediction").attr("font-family","sans-serif").attr("fill","black"),r+=e.em_size,Ew(e,a,r,"Helix","HotPink"),vg(e,a,r,"Cart:","3-state assignment cartoon"),r+=e.em_size,Ew(e,a,r,"Coil","DimGrey"),vg(e,a,r,"Pred:","3-state prediction"),r+=e.em_size,vg(e,a,r,"AA:","Target Sequence")}function vR(e,t,r){let n=9,a=0;for(let s=0;s<9;s+=1)t.append("rect").attr("class","rect").attr("width",e.em_size/2).attr("height",e.em_size*(s/10)).attr("transform",function(o,u){let l=e.em_size-e.em_size*(s/10);return"translate("+[e.em_size*13+e.em_size*a,r+l]+")"}).attr("stroke","black").attr("fill",Mw.colorbrewer.PuBu[9][s]),n-=1,a+=.5}function vg(e,t,r,n,a){t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*10,r+e.em_size*.8]+")"}).text(n).attr("font-family","sans-serif").attr("fill","black").attr("font-weight","bold"),t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*13,r+e.em_size*.8]+")"}).text(a).attr("font-family","sans-serif").attr("fill","black")}function Ew(e,t,r,n,a){t.append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(s){return n==="Coil"?e.em_size/4:e.em_size}).attr("transform",function(s,o){let u=0;return n==="Coil"&&(u+=e.em_size/2),"translate("+[0,r+u]+")"}).attr("stroke","White").attr("fill",a),t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*1.5,r+e.em_size*.8]+")"}).text(n).attr("font-family","sans-serif").attr("fill","black")}function _R(e,t,r,n,a){let s=0,o=0,u=ga().domain(Ga(0,1,1/(Mw.colorbrewer.PuBu[9].length-1))).range(Mw.colorbrewer.PuBu[9]),l=ga().domain(cs(mg(t,"conf"))).range([0,1]);return e.container.selectAll("g").data(t).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(S){return e.em_size*((S.conf+1)/10)}).attr("transform",function(S,w){let c=e.em_size-e.em_size*((S.conf+1)/10);return"translate("+[w*e.em_size,n+c]+")"}).attr("fill",function(S){return u(l(S.conf))}).attr("stroke","black").append("svg:title").text(function(S){return S.conf}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(S){return S.pred==="C"?e.em_size/4:e.em_size}).attr("transform",function(S,w){let c=0;return S.pred==="C"&&(c+=e.em_size/3),"translate("+[w*e.em_size,n+c]+")"}).attr("fill",function(S){if(S.pred==="C")return"DimGrey";if(S.pred==="E")return"Gold";if(S.pred==="H")return"HotPink"}).attr("stroke",function(S){if(S.pred==="C")return"DimGrey";if(S.pred==="E")return"Gold";if(S.pred==="H")return"HotPink"}).append("svg:title").text(function(S){return S.pred}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("text").attr("transform",function(S,w){return"translate("+[w*e.em_size,n+e.em_size/2]+")"}).text(function(S){return S.pred}).attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black").append("svg:title").text(function(S,w){return w+a}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("text").attr("transform",function(S,w){return"translate("+[w*e.em_size,n+e.em_size/3]+")"}).text(function(S){return S.aa}).attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black").append("svg:title").text(function(S,w){return w+a}),n}function bR(e,t,r,n){let a=qi().range([0,e.container_width]).domain(cu(t,r)),s=qi().range([0,n]).domain(["Conf","Cart","Pred","AA"]);return{x:a,y:s}}function yR(e,t,r,n,a,s){let o=Nl().scale(r).tickValues(r.domain().filter(function(l,g){return!((g+1)%10)})),u=Il().scale(n);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,s+e.margin.top]+")").call(u).select(".domain").remove(),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,a+e.margin.top]+")").call(o).selectAll(".domain").remove(),e[t].selectAll("line").remove()}function xR(e){let t=[],r=e.split(`
`),n="",a="",s="";return r.forEach(function(o,u){n+=Dw(o,"Conf: "),a+=Dw(o,"Pred: "),s+=Dw(o,"  AA: ")}),s.split("").forEach(function(o,u){t.push({aa:s[u],pred:a[u],conf:Number(n[u])})}),t}function Dw(e,t){if(e.startsWith(t)){let r=new RegExp("^"+t);return e.replace(r,"")}else return""}var Mw,que,tO=ae(()=>{kf();Wl();hg();Yn();Yn();Yn();Yn();Yn();Mw=(Cw(),Gw(Sw)),que=jf()});var qo,rO,_g,mh=ae(()=>{kf();d6();ww();ww();gg();gg();gg();tO();Yn();qo=eO,rO=ZL,_g=$L});var Hf,Aw=ae(()=>{Hf=["white","Blue","Green","Red","Magenta","Orange","Aquamarine","Crimson","DarkGreen","BlueViolet","GoldenRod","DarkKhaki","DarkSalmon","DarkTurquoise","DeepSkyBlue","FireBrick","Fuchsia","Gainsboro","HoneyDew","LavenderBlush"]});function sO(e,t){return t.split(`
`).forEach(n=>{let a=n.split("	"),s=parseInt(a[2])-1;a.length==4&&parseFloat(a[3])>=.1&&(e[s].dmpmetal="MB")}),e}function oO(e){let t=e.split(`
`),r=0,n={"CHEBI:48775":"Cd2+","CHEBI:29108":"Ca2+","CHEBI:48828":"Co2+","CHEBI:49415":"Co3+","CHEBI:23378":"Cu cation","CHEBI:49552":"Cu+","CHEBI:29036":"Cu2+","CHEBI:60240":"divalent metal cation","CHEBI:190135":"di-\u03BC-sulfido-diiron","CHEBI:24875":"iron cation","CHEBI:29033":"Fe2+","CHEBI:29034":"Fe3+","CHEBI:30408":"iron-sulfur cluster","CHEBI:49713":"Li+","CHEBI:18420":"Mg2+","CHEBI:29035":"Mn2+","CHEBI:16793":"Hg2+","CHEBI:49786":"Ni2+","CHEBI:60400":"nickel-iron-sulfur cluster","CHEBI:47739":"NiFe4S4 cluster","CHEBI:29103":"K+","CHEBI:29101":"Na+","CHEBI:49883":"tetra-\u03BC3-sulfido-tetrairon","CHEBI:21137":"tri-\u03BC-sulfido-\u03BC3-sulfido-triiron","CHEBI:29105":"Zn2+","CHEBI:177874":"NiFe4S5 cluster","CHEBI:21143":"Fe8S7 iron-sulfur cluster","CHEBI:60504":"iron-sulfur-iron cofactor","CHEBI:25213":"metal cation"},a='<br /><p>Binding residues are reported where estimated p-value 0.1% or greater.</p><table class="small-table table-striped table-bordered" style="width: 100%">';return a+='<tr><th style="width: 10%">Residue ID</th><th style="width: 30%">CHEBI ID</th><th style="width: 30%">Metal</th><th style="width: 30%">P-Value</th></tr>',t.forEach(s=>{let o=s.split("	");o.length==4&&parseFloat(o[3])>=.1&&(r++,a+='<tr><td style="width: 10%">'+o[2]+"</td>",a+='<td style="width: 30%"><a href="https://www.ebi.ac.uk/chebi/searchId.do?chebiId='+o[1]+'">'+o[1]+"</a></td>",a+='<td style="width: 30%">'+n[o[1]]+"</td>",a+='<td style="width: 30%">'+o[3]+"</td></tr>")}),a+="</table><p>There may be lower probability predictions in the Residue Results file.</p>",r===0&&(a="<h4>No binding site residues with p-value >= 0.1 predicted for this sequence. There may be lower probability predictions in the Residue Results file.</h4>"),a}function lO(e){let t=e.split(`
`);t.shift(),e=t[0];let r='<br /><h3>Domain Assignments</h3><table class="small-table table-striped table-bordered"  style="width: 30%" >';r+="<tr><th>Domain ID</th><th>Domain Region</th><th>Colour</th></tr>";let n=e.split("	");return n[7]?(n[7].split(",").forEach((s,o)=>{r+="<tr><td>"+(o+1)+"</td><td>"+s+'</td><td style="background-color:'+Hf[o+1]+';">&nbsp;</td></tr>'}),r+="</table>",r+='<div style="width: 100%;"><div style="display: inline-block; width: 100%;">',r+='<h3>B-factor Temperature Key</h3><table class="small-table table-striped table-bordered" style="width: 30%;">',r+="<tr><th>Range</th><th>Colour</th></tr>",r+='<tr><td>Min</td><td style="background-color:#000080">&nbsp;</td></tr>',r+='<tr><td>Mid</td><td style="background-color:#008000">&nbsp;</td></tr>',r+='<tr><td>Max</td><td style="background-color:#800000">&nbsp;</td></tr>',r+="</table>",r+="</div>",r+='<div style="display: inline-block; width: 100%;">',r+='<h3>B-factor plDDT Key</h3><table class="small-table table-striped table-bordered" style="width: 30%;">',r+="<tr><th NOWRAP>Confidence Bin</th><th>plDDT</th><th>Colour</th></tr>",r+='<tr><td>Very High</td><td>>90</td><td style="background-color:rgb(0, 81, 214)">&nbsp;</td></tr>',r+='<tr><td>High</td><td>70-90</td><td style="background-color:rgb(101, 203, 243)">&nbsp;</td></tr>',r+='<tr><td>Low</td><td>50-70</td><td style="background-color:rgb(255, 219, 19)">&nbsp;</td></tr>',r+='<tr><td>Very Low</td><td><50</td><td style="background-color:rgb(255, 125, 69)">&nbsp;</td></tr>',r+="</table>",r+="</div></div>",r):"<br /><h3>NO DOMAIN BOUNDARIES FOUND FOR THIS PDB FILE</h3>"}function uO(e){let t={},r=e.split(",");for(var n=0;n<r.length;n++){let o=r[n].split(":"),u=parseInt(o[0],10),l=parseInt(o[1],10);t[u]=l}var a=Object.values(t),s=Math.max(...a);return[t,s]}function fO(e){let t='<br /><h3>Key</h3><table class="small-table table-striped table-bordered"><tr><td bgcolor="#ff0000" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Hotspot Residue</td></tr>';return t+='<tr><td bgcolor="#ffffff" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Non-Hotspot Residue</td></tr>',t+='<tr><td bgcolor="#0000ff" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Non-interface residue</td></tr></table><br /><br />',t+="<h3>Residue Predictions</h3>",t+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Score: <input id="min_hs_score" name="min_hs_score" type="text"></td></tr><tr><td class="alnright" >Max Score: <input id="max_hs_score" name="max_hs_score" type="text"></td></tr></tbody></table><br />',t+='<table id="hspred_table" class="table table-striped table-bordered"><thead><tr><th>Chain/Residue</th><th>Residue Identity</th><th>Score</th><th>Highlight Residue</th></thead><tbody>',e.split(`
`).forEach(function(n,a){let s=n.split(/\s+/);s.length===3&&(t+="<tr><td>"+s[0]+"</td><td>"+s[1]+"</td><td>"+s[2]+'</td><td><input type="checkbox" value="'+s[0]+'" id="'+s[0]+`" onClick="psipred.highlight_hs_residue('`+s[0]+`')"=></td></td></tr>`)}),t+="</tbody><tfoot></tfoot><table>",t}function dO(e){let t='<br /><h3>Key</h3><table class="small-table table-striped table-bordered"><tr><td bgcolor="#ff0000" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Metal Binding Contact&nbsp;</h5></td></tr>';t+='<tr><td bgcolor="#000000" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Chain not predicted&nbsp;</h5></td></tr>',t+='<tr><td bgcolor="#0000ff" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Predicted chain&nbsp;</h5></td></tr></table><br />',t+="<h3>Residue Predictions</h3>",t+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Score: <input id="min_met_score" name="min_met_score" type="text"></td></tr><tr><td class="alnright" >Max Score: <input id="max_met_score" name="max_met_score" type="text"></td></tr></tbody></table><br />',t+='<table id="metsite_table" class="table small-table table-striped table-bordered"><thead><tr><th>Residue</th><th>Raw Neural Network Score</th><th>Highlight Residue</th><thead><tbody>';let r=/\d+\s.+?\s\w{3}\d+/g,n=e.match(r);return n&&n.forEach(function(a,s){let o=a.split(/\s/);t+="<tr><td>"+o[2]+"</td><td>"+o[1]+'</td><td><input type="checkbox" value="'+o[2]+'" id="'+o[2]+`" onClick="psipred.highlight_metsite_residue('`+o[2]+`')"=></td></tr>`}),t+="</tbody><tfoot></tfoot><table>",t}function cO(e){let t=e.split(`
`),r=[],n=[],a=[],s="";return t.forEach(function(o,u){if(o.startsWith("#"))return;let l=o.split("	");l.length<4||(l[3]==="BP"&&r.push(l),l[3]==="CC"&&a.push(l),l[3]==="MF"&&n.push(l))}),s+="<b>Biological Process Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_bp_prob" name="min_bp_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_bp_prob" name="max_bp_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='bp_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",r.forEach(function(o,u){let l="safe";o[2]==="L"&&(l="notsafe"),s+='<tr class="'+l+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="<b>Molecular Function Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_mf_prob" name="min_mf_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_mf_prob" name="max_mf_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='mf_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",n.forEach(function(o,u){let l="safe";o[2]==="L"&&(l="notsafe"),s+='<tr class="'+l+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="<b>Cellular Component Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_cc_prob" name="min_cc_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_cc_prob" name="max_cc_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='cc_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",a.forEach(function(o,u){let l="safe";o[2]==="L"&&(l="notsafe"),s+='<tr class="'+l+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="These prediction terms represent terms predicted where SVM training includes assigned GO terms across all evidence code types. SVM reliability is regarded as High (H) when MCC, sensitivity, specificity and precision are jointly above a given threshold. otherwise Reliability is indicated as Low (L). <br />",s}function wR(){let e={};return e.A={val:.071783248006309,sde:.027367661524275},e.V={val:.059624595369901,sde:.020377791528745},e.Y={val:.026075068240437,sde:.014822471531379},e.W={val:.014166002612771,sde:.010471835801996},e.T={val:.052593582972714,sde:.020094793964597},e.S={val:.082123241332099,sde:.028687566081512},e.P={val:.065557531322241,sde:.034239398496736},e.F={val:.037103994969002,sde:.018543423139186},e.M={val:.022562818183955,sde:.011321039662481},e.K={val:.054833979269185,sde:.029264083667157},e.L={val:.10010591575906,sde:.030276808519009},e.I={val:.042034526040467,sde:.020826849262495},e.H={val:.027141403537598,sde:.01550566378985},e.G={val:.069179820104536,sde:.030087562057328},e.Q={val:.065920561931801,sde:.030103091008366},e.E={val:.04647846225838,sde:.019946269461736},e.C={val:.024908551872056,sde:.020822909589504},e.D={val:.044337904726041,sde:.018436677256726},e.N={val:.033507020987033,sde:.016536022288204},e.R={val:.05974046903119,sde:.025165994773384},e}function SR(){let e={};return e.hydrophobicity={val:-.34876828080152,sde:.75559152769799},e["percent positive residues"]={val:11.457717466948,sde:3.567133341139},e["aliphatic index"]={val:79.911549319099,sde:16.787617978827},e["isoelectric point"]={val:7.6102046383603,sde:1.9716111020088},e["molecular weight"]={val:48668.412839961,sde:37838.324895969},e.charge={val:5.0991763057604,sde:16.83863659025},e["percent negative residues"]={val:11.026190128176,sde:4.0206631680926},e["molar extinction coefficient"]={val:46475.293923926,sde:39299.399848823},e}function iO(e){let t=Math.abs(e);return t>=2.96?e>0?"signif1p":"signif1n":t>=2.24?e>0?"signif2p":"signif2n":t>=1.96?e>0?"signif5p":"signif5n":t>=1.645?e>0?"signif10p":"signif10n":"plain"}function hO(e){let t=e.split(`
`),r={},n={},a=SR(),s=wR();t.forEach(function(l,g){if(l.startsWith("AA")){let h=l.split("	");n[h[1]]=h[2]}if(l.startsWith("SF")){let h=l.split("	");r[h[1]]=h[2]}});let o='<table align="center" class="small-table table-striped table-bordered ffpred-table"><tr><th>Feature Name</th><th>Value</th><th>Bias</th></tr>';Object.keys(r).sort().forEach(function(l){let g="";l in a&&(g=iO((parseFloat(r[l])-a[l].val)/a[l].sde)),o+="<tr><td>"+l+"</td><td>"+parseFloat(r[l]).toFixed(2)+'</td><td class="'+g+'">&nbsp;&nbsp;&nbsp;</td></tr>'}),o+="</table>";let u="<b>Amino Acid Composition (percentages)</b><br />";return u+='<table width="50%" class="small-table table-striped table-bordered ffpred-table" align="center" ><tr>',Object.keys(n).sort().forEach(function(l){u+='<th width="5%">'+l+"</th>"}),u+="</tr><tr>",Object.keys(n).sort().forEach(function(l){let g="";g=iO((parseFloat(n[l])-s[l].val)/s[l].sde),u+='<td width="5% class="'+g+'">'+(parseFloat(n[l])*100).toFixed(2)+"</td>"}),u+="</tr></table><br />",u+="<b>Significance Key</b><br /><br />",u+='<table width="50%" class="small-table table-striped table-bordered ffpred-table" align="center">',u+="<thead><tr>",u+='<th width="9%" align="left"><b>low</b></th>',u+='<th colspan="9">&nbsp;</th>',u+='<th width="9%" align="right"><b>high</b></th>',u+="</tr></thead>",u+="<tbody><tr>",u+="<td>&nbsp;</td>",u+='<td class="signif1n">p &lt; 0.01</td>',u+='<td class="signif2n">p &lt; 0.02</td>',u+='<td class="signif5n">p &lt; 0.05</td>',u+='<td class="signif10n">p &lt; 0.1</td>',u+="<td>p &gt;= 0.1</td>",u+='<td class="signif10p">p &lt; 0.1</td>',u+='<td class="signif5p">p &lt; 0.05</td>',u+='<td class="signif2p">p &lt; 0.02</td>',u+='<td class="signif1p">p &lt; 0.01</td>',u+="<td>&nbsp</td>",u+="</tr></tbody>",u+="<tfoot><tr>",u+='<td colspan="11">Significance p value is calculated using the Z score of the percent amino acid composition</td>',u+="</tr><tfoot>",u+="</table>",[o,u]}function bg(e,t){let r=e.exec(t);if(r[1].includes(",")){let n=r[1].split(",");return n.forEach(function(a,s){n[s]=a.split("-"),n[s][0]=parseInt(n[s][0]-1),n[s][1]=parseInt(n[s][1]-1)}),n}else if(r[1].includes("-")){let n=r[1].split("-"),a=[[]];return a[0][0]=parseInt(n[0]-1),a[0][1]=parseInt(n[1]-1),a}return r[1]}function pO(e,t){let r=t.split(`
`);return r.shift(),r=r.filter(Boolean),e.length===r.length?r.forEach(function(n,a){let s=n.split(/\s+/);e[a].ss=s[3]}):alert("SS2 annotation length does not match query sequence"),e}function mO(e,t){let r=t.split(`
`);return r.shift(),r.shift(),r.shift(),r.shift(),r.shift(),r=r.filter(Boolean),e.length===r.length?r.forEach(function(n,a){let s=n.split(/\s+/);s[3]==="-"&&(e[a].disopred="D"),s[3]==="^"&&(e[a].disopred="PB")}):alert("PBDAT annotation length does not match query sequence"),e}function gO(e){let t=[],r=e.split(`
`);return r.shift(),r.shift(),r.shift(),r=r.filter(Boolean),r.forEach(function(n,a){let s=n.split(/\s+/);t[a]={},t[a].pos=s[1],t[a].precision=s[4]}),t}function vO(e,t){let r=bg(/Topology:\s+(.+?)\n/,t),n=bg(/Signal\speptide:\s+(.+)\n/,t),a=bg(/Re-entrant\shelices:\s+(.+?)\n/,t),s=bg(/N-terminal:\s+(.+?)\n/,t),o="CY";s==="out"&&(o="EC");let u=new Array(e.length);if(r!=="Not detected."){let l=0;r.forEach(function(g){u=u.fill("TM",g[0],g[1]+1),l>0&&(l-=1),u=u.fill(o,l,g[0]),o==="EC"?o="CY":o="EC",l=g[1]+2}),u=u.fill(o,l-1,e.length)}return n!=="Not detected."&&n.forEach(function(l){u=u.fill("S",l[0],l[1]+1)}),a!=="Not detected."&&a.forEach(function(l){u=u.fill("RH",l[0],l[1]+1)}),u.forEach(function(l,g){e[g].memsat=l}),console.log(e),e}function yg(e,t,r){let n="http://127.0.0.1:3000";n="http://127.0.0.1:3000/";let a=e.split(`
`),s=null;return Object.keys(t).length>0?(s='<div class="text-right modeller-key" style="visibility: visible;">Modeller Licence Key: <input class="text" value=""><br><br></div>',s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min P-Value: <input id="min_'+r+'_pval" name="min_'+r+'_score" type="text"></td></tr><tr><td class="alnright" >Max P-Value: <input id="max_'+r+'_pval" name="max_'+r+'_pval" type="text"></td></tr></tbody></table><br />',s+='<table id="'+r+`_table" class="small-table table-striped table-bordered gen-table"><thead>
`,s+="<tr><th>Conf.</th>",s+="<th>Net Score</th>",s+="<th>p-value</th>",s+="<th>PairE</th>",s+="<th>SolvE</th>",s+="<th>Aln Score</th>",s+="<th>Aln Length</th>",s+="<th>Target Len</th>",s+="<th>Query Len</th>",r==="dgen"?(s+="<th>Region Start</th>",s+="<th>Region End</th>",s+="<th>CATH</th>",s+="<th>SCOP</th>"):(s+="<th>Fold</th>",s+="<th>SCOP</th>",s+="<th>CATH</th>"),s+="<th>PDBSUM</th>",s+="<th>Alignment</th>",s+="<th>MODEL</th>",s+=`</tr></thead><tbody">
`,a.forEach(function(o,u){if(o.length===0)return;let l=o.split(/\s+/),g=l[9];if(r==="dgen"&&(g=l[11]),g+"_"+u in t){s+="<tr>",s+="<td class='"+l[0].toLowerCase()+"'>"+l[0]+"</td>",s+="<td>"+l[1]+"</td>",s+="<td>"+l[2]+"</td>",s+="<td>"+l[3]+"</td>",s+="<td>"+l[4]+"</td>",s+="<td>"+l[5]+"</td>",s+="<td>"+l[6]+"</td>",s+="<td>"+l[7]+"</td>",s+="<td>"+l[8]+"</td>";let h=l[9].substring(0,l[9].length-2);r==="dgen"&&(h=l[11].substring(0,l[11].length-3)),r==="dgen"?(s+="<td>"+l[9]+"</td>",s+="<td>"+l[10]+"</td>",s+="<td><a target='_blank' href='http://www.cathdb.info/version/latest/domain/"+g+"'>"+g+"</a></td>",s+="<td><a target='_blank' href='http://scop.mrc-lmb.cam.ac.uk/search?t=txt;q="+h+"'>SEARCH</a></td>",s+="<td><a target='_blank' href='http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/GetPage.pl?pdbcode="+h+"'>Open</a></td>",s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/msa/?aln="+t[g+"_"+u].aln+"&ann="+t[g+"_"+u].ann+`", "Popup", "scrolling=yes, scrollbars=yes status width=1000 height=400 top=30")' value='View' /></td>`,s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/model/?aln="+t[g+"_"+u].aln+`&type=cath", "Popup", "scrolling=yes, scrollbars=yes status width=500 height=600 top=30")' value='View' /></td>`):(s+="<td><a target='_blank' href='https://www.rcsb.org/pdb/explore/explore.do?structureId="+h+"'>"+g+"</a></td>",s+="<td><a target='_blank' href='http://scop.mrc-lmb.cam.ac.uk/search?t=txt;q="+h+"'>SEARCH</a></td>",s+="<td><a target='_blank' href='http://www.cathdb.info/pdb/"+h+"'>SEARCH</a></td>",s+="<td><a target='_blank' href='http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/GetPage.pl?pdbcode="+h+"'>Open</a></td>",s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/msa/?aln="+t[g+"_"+u].aln+"&ann="+t[g+"_"+u].ann+`", "Popup", "scrolling=yes, scrollbars=yes status width=1000 height=400 top=30")' value='View' /></td>`,s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/model/?aln="+t[g+"_"+u].aln+`&type=pdb", "Popup", "scrolling=yes, scrollbars=yes status width=500 height=600 top=30")' value='View' /></td>`),s+=`</tr>
`}}),s+=`</tbody><tfoot></tfoot></table>
`):s="<h3>No good hits found. GUESS and LOW confidence hits can be found in the results file</h3>",s}function _O(e,t){let n=/Domain\sBoundary\slocations\spredicted\sDPS:\s(.+)/.exec(t);if(n){let a=[];n[1].indexOf(",")?(a=n[1].split(","),a.forEach(function(s,o){a[o]=parseInt(s)})):a[0]=parseInt(n[1]),a.forEach(function(s){e[s].dompred="B"})}return e}function aO(e,t,r,n){let a={},s='<table width="100%" class="small-table table-striped table-bordered ffpred-table" id="'+n+'" align="center"><thead><tr>';r&&(s+="<th>Show</th>",s+="<th>Chopping</th>"),s+="<th>plddt</th>",t?(s+="<th>Hit:CATH</th>",s+="<th>Hit:PDB</th>"):s+="<th>Hit:TED</th>",s+="<th>Cosine Sim</th>",s+="<th>Query Length</th>",s+="<th>Hit Length</th>",s+="<th>Align Length</th>",s+="<th>Seq ID</th>",s+="<th>Max TM</th>",s+="<th>RMSD</th></tr></thead><tbody>";let o=0;return e.forEach(function(u){if(u.length>0){o+=1,s+="<tr>";let l=u.split(/\t+/);l.shift(),r&&(s+='<td><button class="btn btn-secondary btn-block merizo_tbl_buttons" id="show_msearch_'+o+'">Show</button></td>',a[o]="show_msearch_"+o),l.forEach(function(g,h){if(!(h===1||h===3||h===10||h===11))if(h===4)if(t)s+='<td><a href="https://www.cathdb.info/version/latest/domain/'+g+'">'+g+"</a></td>",s+='<td><a href="https://www.rcsb.org/structure/'+g.substring(0,4)+'">'+g.substring(0,4)+"</a></td>";else{let _=g;_=_.replace("AF-",""),_=_.replace("-F1-model_v4","");let x=_.slice(0,-2);x=x.replace("_TED",""),s+='<td><a href="https://ted-dev.cathdb.info/uniprot/'+x+'">'+_+"</a></td>"}else!r&&h===0||(s+="<td>"+g+"</td>")}),s+="</tr>"}}),s+="</tbody></table>",o===0?{html:"<h2>Merizo Search identified no domains for this PDB structure</h2>",data:{}}:{html:s,data:a}}function bO(e){let t=!0,r={},n={},a=e.split(`
`);a.shift(),a.forEach(function(h){if(h.length===0)return;let _=h.split(/\t+/);_[5].includes("_TED")&&(t=!1);let x=parseInt(_[0].slice(-2),10);x in r||(r[x]={tm:0,data:[]},n[x]={data:[]}),parseFloat(_[12])>r[x].tm&&(r[x].tm=parseFloat(_[12]),r[x].data=[h]),n[x].data.push(h)});let s=[];for(let[h,_]of Object.entries(r))a=r[h].data,s.push(a[0]);let o=aO(s,t,!0,"toptmtable");o.html='<button align="right" class="btn btn-secondary btn-block merizo_buttons" id="colorByDomains">Re-colour All Domains&nbsp</button><h3>Domains with highest TM Score</h3>'+o.html;let u="",l={},g=[];for(let[h,_]of Object.entries(n)){let x=aO(_.data,t,!1,h+"tmtable"),S=_.data[0].split("	");u+="<h3>Domain "+h+" hits: "+S[1]+"</h3>",u+='<button align="right" class="btn btn-secondary btn-block merizo_buttons" id="show_domain_'+h+'">Show Domain '+h+"&nbsp</button>"+x.html,l[h]="show_domain_"+h,g.push(h+"tmtable")}return{html:o.html,data:o.data,althtml:u,domdata:l,tableids:g}}var ai=ae(()=>{Aw()});var yO=Pn((Tw,Vf)=>{(function(e,t){typeof Tw=="object"&&typeof Vf<"u"?Vf.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(Tw,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function r(T){e=T}function n(T){return T instanceof Array||Object.prototype.toString.call(T)==="[object Array]"}function a(T){return T!=null&&Object.prototype.toString.call(T)==="[object Object]"}function s(T,F){return Object.prototype.hasOwnProperty.call(T,F)}function o(T){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(T).length===0;var F;for(F in T)if(s(T,F))return!1;return!0}function u(T){return T===void 0}function l(T){return typeof T=="number"||Object.prototype.toString.call(T)==="[object Number]"}function g(T){return T instanceof Date||Object.prototype.toString.call(T)==="[object Date]"}function h(T,F){var Z=[],J,he=T.length;for(J=0;J<he;++J)Z.push(F(T[J],J));return Z}function _(T,F){for(var Z in F)s(F,Z)&&(T[Z]=F[Z]);return s(F,"toString")&&(T.toString=F.toString),s(F,"valueOf")&&(T.valueOf=F.valueOf),T}function x(T,F,Z,J){return bu(T,F,Z,J,!0).utc()}function S(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(T){return T._pf==null&&(T._pf=S()),T._pf}var c;Array.prototype.some?c=Array.prototype.some:c=function(T){var F=Object(this),Z=F.length>>>0,J;for(J=0;J<Z;J++)if(J in F&&T.call(this,F[J],J,F))return!0;return!1};function v(T){if(T._isValid==null){var F=w(T),Z=c.call(F.parsedDateParts,function(he){return he!=null}),J=!isNaN(T._d.getTime())&&F.overflow<0&&!F.empty&&!F.invalidEra&&!F.invalidMonth&&!F.invalidWeekday&&!F.weekdayMismatch&&!F.nullInput&&!F.invalidFormat&&!F.userInvalidated&&(!F.meridiem||F.meridiem&&Z);if(T._strict&&(J=J&&F.charsLeftOver===0&&F.unusedTokens.length===0&&F.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(T))T._isValid=J;else return J}return T._isValid}function y(T){var F=x(NaN);return T!=null?_(w(F),T):w(F).userInvalidated=!0,F}var b=t.momentProperties=[],C=!1;function E(T,F){var Z,J,he,Re=b.length;if(u(F._isAMomentObject)||(T._isAMomentObject=F._isAMomentObject),u(F._i)||(T._i=F._i),u(F._f)||(T._f=F._f),u(F._l)||(T._l=F._l),u(F._strict)||(T._strict=F._strict),u(F._tzm)||(T._tzm=F._tzm),u(F._isUTC)||(T._isUTC=F._isUTC),u(F._offset)||(T._offset=F._offset),u(F._pf)||(T._pf=w(F)),u(F._locale)||(T._locale=F._locale),Re>0)for(Z=0;Z<Re;Z++)J=b[Z],he=F[J],u(he)||(T[J]=he);return T}function p(T){E(this,T),this._d=new Date(T._d!=null?T._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),C===!1&&(C=!0,t.updateOffset(this),C=!1)}function f(T){return T instanceof p||T!=null&&T._isAMomentObject!=null}function D(T){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+T)}function M(T,F){var Z=!0;return _(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,T),Z){var J=[],he,Re,mt,Ht=arguments.length;for(Re=0;Re<Ht;Re++){if(he="",typeof arguments[Re]=="object"){he+=`
[`+Re+"] ";for(mt in arguments[0])s(arguments[0],mt)&&(he+=mt+": "+arguments[0][mt]+", ");he=he.slice(0,-2)}else he=arguments[Re];J.push(he)}D(T+`
Arguments: `+Array.prototype.slice.call(J).join("")+`
`+new Error().stack),Z=!1}return F.apply(this,arguments)},F)}var P={};function O(T,F){t.deprecationHandler!=null&&t.deprecationHandler(T,F),P[T]||(D(F),P[T]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function z(T){return typeof Function<"u"&&T instanceof Function||Object.prototype.toString.call(T)==="[object Function]"}function k(T){var F,Z;for(Z in T)s(T,Z)&&(F=T[Z],z(F)?this[Z]=F:this["_"+Z]=F);this._config=T,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(T,F){var Z=_({},T),J;for(J in F)s(F,J)&&(a(T[J])&&a(F[J])?(Z[J]={},_(Z[J],T[J]),_(Z[J],F[J])):F[J]!=null?Z[J]=F[J]:delete Z[J]);for(J in T)s(T,J)&&!s(F,J)&&a(T[J])&&(Z[J]=_({},Z[J]));return Z}function H(T){T!=null&&this.set(T)}var Y;Object.keys?Y=Object.keys:Y=function(T){var F,Z=[];for(F in T)s(T,F)&&Z.push(F);return Z};var q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function G(T,F,Z){var J=this._calendar[T]||this._calendar.sameElse;return z(J)?J.call(F,Z):J}function $(T,F,Z){var J=""+Math.abs(T),he=F-J.length,Re=T>=0;return(Re?Z?"+":"":"-")+Math.pow(10,Math.max(0,he)).toString().substr(1)+J}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,X={},Q={};function te(T,F,Z,J){var he=J;typeof J=="string"&&(he=function(){return this[J]()}),T&&(Q[T]=he),F&&(Q[F[0]]=function(){return $(he.apply(this,arguments),F[1],F[2])}),Z&&(Q[Z]=function(){return this.localeData().ordinal(he.apply(this,arguments),T)})}function xe(T){return T.match(/\[[\s\S]/)?T.replace(/^\[|\]$/g,""):T.replace(/\\/g,"")}function Ne(T){var F=T.match(j),Z,J;for(Z=0,J=F.length;Z<J;Z++)Q[F[Z]]?F[Z]=Q[F[Z]]:F[Z]=xe(F[Z]);return function(he){var Re="",mt;for(mt=0;mt<J;mt++)Re+=z(F[mt])?F[mt].call(he,T):F[mt];return Re}}function ye(T,F){return T.isValid()?(F=Fe(F,T.localeData()),X[F]=X[F]||Ne(F),X[F](T)):T.localeData().invalidDate()}function Fe(T,F){var Z=5;function J(he){return F.longDateFormat(he)||he}for(V.lastIndex=0;Z>=0&&V.test(T);)T=T.replace(V,J),V.lastIndex=0,Z-=1;return T}var Me={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function _e(T){var F=this._longDateFormat[T],Z=this._longDateFormat[T.toUpperCase()];return F||!Z?F:(this._longDateFormat[T]=Z.match(j).map(function(J){return J==="MMMM"||J==="MM"||J==="DD"||J==="dddd"?J.slice(1):J}).join(""),this._longDateFormat[T])}var Qe="Invalid date";function Xe(){return this._invalidDate}var R="%d",pe=/\d{1,2}/;function ve(T){return this._ordinal.replace("%d",T)}var ie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function de(T,F,Z,J){var he=this._relativeTime[Z];return z(he)?he(T,F,Z,J):he.replace(/%d/i,T)}function be(T,F){var Z=this._relativeTime[T>0?"future":"past"];return z(Z)?Z(F):Z.replace(/%s/i,F)}var Ue={};function Be(T,F){var Z=T.toLowerCase();Ue[Z]=Ue[Z+"s"]=Ue[F]=T}function Se(T){return typeof T=="string"?Ue[T]||Ue[T.toLowerCase()]:void 0}function Ie(T){var F={},Z,J;for(J in T)s(T,J)&&(Z=Se(J),Z&&(F[Z]=T[J]));return F}var je={};function Ke(T,F){je[T]=F}function Pe(T){var F=[],Z;for(Z in T)s(T,Z)&&F.push({unit:Z,priority:je[Z]});return F.sort(function(J,he){return J.priority-he.priority}),F}function ht(T){return T%4===0&&T%100!==0||T%400===0}function yt(T){return T<0?Math.ceil(T)||0:Math.floor(T)}function le(T){var F=+T,Z=0;return F!==0&&isFinite(F)&&(Z=yt(F)),Z}function ue(T,F){return function(Z){return Z!=null?($e(this,T,Z),t.updateOffset(this,F),this):ge(this,T)}}function ge(T,F){return T.isValid()?T._d["get"+(T._isUTC?"UTC":"")+F]():NaN}function $e(T,F,Z){T.isValid()&&!isNaN(Z)&&(F==="FullYear"&&ht(T.year())&&T.month()===1&&T.date()===29?(Z=le(Z),T._d["set"+(T._isUTC?"UTC":"")+F](Z,T.month(),ea(Z,T.month()))):T._d["set"+(T._isUTC?"UTC":"")+F](Z))}function ke(T){return T=Se(T),z(this[T])?this[T]():this}function it(T,F){if(typeof T=="object"){T=Ie(T);var Z=Pe(T),J,he=Z.length;for(J=0;J<he;J++)this[Z[J].unit](T[Z[J].unit])}else if(T=Se(T),z(this[T]))return this[T](F);return this}var st=/\d/,se=/\d\d/,Ge=/\d{3}/,Je=/\d{4}/,pt=/[+-]?\d{6}/,Le=/\d\d?/,ot=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ut=/\d{1,3}/,At=/\d{1,4}/,W=/[+-]?\d{1,6}/,Ve=/\d+/,Ye=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,ze=/Z|[+-]\d\d(?::?\d\d)?/gi,et=/[+-]?\d+(\.\d{1,3})?/,Lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Mt;Mt={};function at(T,F,Z){Mt[T]=z(F)?F:function(J,he){return J&&Z?Z:F}}function qt(T,F){return s(Mt,T)?Mt[T](F._strict,F._locale):new RegExp(Yr(T))}function Yr(T){return Vt(T.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(F,Z,J,he,Re){return Z||J||he||Re}))}function Vt(T){return T.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Jt={};function Pt(T,F){var Z,J=F,he;for(typeof T=="string"&&(T=[T]),l(F)&&(J=function(Re,mt){mt[F]=le(Re)}),he=T.length,Z=0;Z<he;Z++)Jt[T[Z]]=J}function Or(T,F){Pt(T,function(Z,J,he,Re){he._w=he._w||{},F(Z,he._w,he,Re)})}function Dr(T,F,Z){F!=null&&s(Jt,T)&&Jt[T](F,Z._a,Z,T)}var Fr=0,rn=1,fr=2,Zt=3,nr=4,Br=5,jr=6,xi=7,ws=8;function ba(T,F){return(T%F+F)%F}var Mr;Array.prototype.indexOf?Mr=Array.prototype.indexOf:Mr=function(T){var F;for(F=0;F<this.length;++F)if(this[F]===T)return F;return-1};function ea(T,F){if(isNaN(T)||isNaN(F))return NaN;var Z=ba(F,12);return T+=(F-Z)/12,Z===1?ht(T)?29:28:31-Z%7%2}te("M",["MM",2],"Mo",function(){return this.month()+1}),te("MMM",0,0,function(T){return this.localeData().monthsShort(this,T)}),te("MMMM",0,0,function(T){return this.localeData().months(this,T)}),Be("month","M"),Ke("month",8),at("M",Le),at("MM",Le,se),at("MMM",function(T,F){return F.monthsShortRegex(T)}),at("MMMM",function(T,F){return F.monthsRegex(T)}),Pt(["M","MM"],function(T,F){F[rn]=le(T)-1}),Pt(["MMM","MMMM"],function(T,F,Z,J){var he=Z._locale.monthsParse(T,J,Z._strict);he!=null?F[rn]=he:w(Z).invalidMonth=T});var Ss="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Za="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xa=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Jo=Lt,el=Lt;function Zf(T,F){return T?n(this._months)?this._months[T.month()]:this._months[(this._months.isFormat||Xa).test(F)?"format":"standalone"][T.month()]:n(this._months)?this._months:this._months.standalone}function Xf(T,F){return T?n(this._monthsShort)?this._monthsShort[T.month()]:this._monthsShort[Xa.test(F)?"format":"standalone"][T.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function hu(T,F,Z){var J,he,Re,mt=T.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],J=0;J<12;++J)Re=x([2e3,J]),this._shortMonthsParse[J]=this.monthsShort(Re,"").toLocaleLowerCase(),this._longMonthsParse[J]=this.months(Re,"").toLocaleLowerCase();return Z?F==="MMM"?(he=Mr.call(this._shortMonthsParse,mt),he!==-1?he:null):(he=Mr.call(this._longMonthsParse,mt),he!==-1?he:null):F==="MMM"?(he=Mr.call(this._shortMonthsParse,mt),he!==-1?he:(he=Mr.call(this._longMonthsParse,mt),he!==-1?he:null)):(he=Mr.call(this._longMonthsParse,mt),he!==-1?he:(he=Mr.call(this._shortMonthsParse,mt),he!==-1?he:null))}function ar(T,F,Z){var J,he,Re;if(this._monthsParseExact)return hu.call(this,T,F,Z);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),J=0;J<12;J++){if(he=x([2e3,J]),Z&&!this._longMonthsParse[J]&&(this._longMonthsParse[J]=new RegExp("^"+this.months(he,"").replace(".","")+"$","i"),this._shortMonthsParse[J]=new RegExp("^"+this.monthsShort(he,"").replace(".","")+"$","i")),!Z&&!this._monthsParse[J]&&(Re="^"+this.months(he,"")+"|^"+this.monthsShort(he,""),this._monthsParse[J]=new RegExp(Re.replace(".",""),"i")),Z&&F==="MMMM"&&this._longMonthsParse[J].test(T))return J;if(Z&&F==="MMM"&&this._shortMonthsParse[J].test(T))return J;if(!Z&&this._monthsParse[J].test(T))return J}}function oi(T,F){var Z;if(!T.isValid())return T;if(typeof F=="string"){if(/^\d+$/.test(F))F=le(F);else if(F=T.localeData().monthsParse(F),!l(F))return T}return Z=Math.min(T.date(),ea(T.year(),F)),T._d["set"+(T._isUTC?"UTC":"")+"Month"](F,Z),T}function Kn(T){return T!=null?(oi(this,T),t.updateOffset(this,!0),this):ge(this,"Month")}function Tn(){return ea(this.year(),this.month())}function li(T){return this._monthsParseExact?(s(this,"_monthsRegex")||ao.call(this),T?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Jo),this._monthsShortStrictRegex&&T?this._monthsShortStrictRegex:this._monthsShortRegex)}function $a(T){return this._monthsParseExact?(s(this,"_monthsRegex")||ao.call(this),T?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=el),this._monthsStrictRegex&&T?this._monthsStrictRegex:this._monthsRegex)}function ao(){function T(mt,Ht){return Ht.length-mt.length}var F=[],Z=[],J=[],he,Re;for(he=0;he<12;he++)Re=x([2e3,he]),F.push(this.monthsShort(Re,"")),Z.push(this.months(Re,"")),J.push(this.months(Re,"")),J.push(this.monthsShort(Re,""));for(F.sort(T),Z.sort(T),J.sort(T),he=0;he<12;he++)F[he]=Vt(F[he]),Z[he]=Vt(Z[he]);for(he=0;he<24;he++)J[he]=Vt(J[he]);this._monthsRegex=new RegExp("^("+J.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Z.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+F.join("|")+")","i")}te("Y",0,0,function(){var T=this.year();return T<=9999?$(T,4):"+"+T}),te(0,["YY",2],0,function(){return this.year()%100}),te(0,["YYYY",4],0,"year"),te(0,["YYYYY",5],0,"year"),te(0,["YYYYYY",6,!0],0,"year"),Be("year","y"),Ke("year",1),at("Y",Ye),at("YY",Le,se),at("YYYY",At,Je),at("YYYYY",W,pt),at("YYYYYY",W,pt),Pt(["YYYYY","YYYYYY"],Fr),Pt("YYYY",function(T,F){F[Fr]=T.length===2?t.parseTwoDigitYear(T):le(T)}),Pt("YY",function(T,F){F[Fr]=t.parseTwoDigitYear(T)}),Pt("Y",function(T,F){F[Fr]=parseInt(T,10)});function ya(T){return ht(T)?366:365}t.parseTwoDigitYear=function(T){return le(T)+(le(T)>68?1900:2e3)};var Qa=ue("FullYear",!0);function so(){return ht(this.year())}function wi(T,F,Z,J,he,Re,mt){var Ht;return T<100&&T>=0?(Ht=new Date(T+400,F,Z,J,he,Re,mt),isFinite(Ht.getFullYear())&&Ht.setFullYear(T)):Ht=new Date(T,F,Z,J,he,Re,mt),Ht}function Si(T){var F,Z;return T<100&&T>=0?(Z=Array.prototype.slice.call(arguments),Z[0]=T+400,F=new Date(Date.UTC.apply(null,Z)),isFinite(F.getUTCFullYear())&&F.setUTCFullYear(T)):F=new Date(Date.UTC.apply(null,arguments)),F}function un(T,F,Z){var J=7+F-Z,he=(7+Si(T,0,J).getUTCDay()-F)%7;return-he+J-1}function xa(T,F,Z,J,he){var Re=(7+Z-J)%7,mt=un(T,J,he),Ht=1+7*(F-1)+Re+mt,or,Rr;return Ht<=0?(or=T-1,Rr=ya(or)+Ht):Ht>ya(T)?(or=T+1,Rr=Ht-ya(T)):(or=T,Rr=Ht),{year:or,dayOfYear:Rr}}function Kr(T,F,Z){var J=un(T.year(),F,Z),he=Math.floor((T.dayOfYear()-J-1)/7)+1,Re,mt;return he<1?(mt=T.year()-1,Re=he+Cn(mt,F,Z)):he>Cn(T.year(),F,Z)?(Re=he-Cn(T.year(),F,Z),mt=T.year()+1):(mt=T.year(),Re=he),{week:Re,year:mt}}function Cn(T,F,Z){var J=un(T,F,Z),he=un(T+1,F,Z);return(ya(T)-J+he)/7}te("w",["ww",2],"wo","week"),te("W",["WW",2],"Wo","isoWeek"),Be("week","w"),Be("isoWeek","W"),Ke("week",5),Ke("isoWeek",5),at("w",Le),at("ww",Le,se),at("W",Le),at("WW",Le,se),Or(["w","ww","W","WW"],function(T,F,Z,J){F[J.substr(0,1)]=le(T)});function Cs(T){return Kr(T,this._week.dow,this._week.doy).week}var wa={dow:0,doy:6};function pu(){return this._week.dow}function Ln(){return this._week.doy}function Sa(T){var F=this.localeData().week(this);return T==null?F:this.add((T-F)*7,"d")}function mu(T){var F=Kr(this,1,4).week;return T==null?F:this.add((T-F)*7,"d")}te("d",0,"do","day"),te("dd",0,0,function(T){return this.localeData().weekdaysMin(this,T)}),te("ddd",0,0,function(T){return this.localeData().weekdaysShort(this,T)}),te("dddd",0,0,function(T){return this.localeData().weekdays(this,T)}),te("e",0,0,"weekday"),te("E",0,0,"isoWeekday"),Be("day","d"),Be("weekday","e"),Be("isoWeekday","E"),Ke("day",11),Ke("weekday",11),Ke("isoWeekday",11),at("d",Le),at("e",Le),at("E",Le),at("dd",function(T,F){return F.weekdaysMinRegex(T)}),at("ddd",function(T,F){return F.weekdaysShortRegex(T)}),at("dddd",function(T,F){return F.weekdaysRegex(T)}),Or(["dd","ddd","dddd"],function(T,F,Z,J){var he=Z._locale.weekdaysParse(T,J,Z._strict);he!=null?F.d=he:w(Z).invalidWeekday=T}),Or(["d","e","E"],function(T,F,Z,J){F[J]=le(T)});function ta(T,F){return typeof T!="string"?T:isNaN(T)?(T=F.weekdaysParse(T),typeof T=="number"?T:null):parseInt(T,10)}function hn(T,F){return typeof T=="string"?F.weekdaysParse(T)%7||7:isNaN(T)?null:T}function _n(T,F){return T.slice(F,7).concat(T.slice(0,F))}var cr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ca="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gu=Lt,Ea=Lt,vu=Lt;function tl(T,F){var Z=n(this._weekdays)?this._weekdays:this._weekdays[T&&T!==!0&&this._weekdays.isFormat.test(F)?"format":"standalone"];return T===!0?_n(Z,this._week.dow):T?Z[T.day()]:Z}function ra(T){return T===!0?_n(this._weekdaysShort,this._week.dow):T?this._weekdaysShort[T.day()]:this._weekdaysShort}function $f(T){return T===!0?_n(this._weekdaysMin,this._week.dow):T?this._weekdaysMin[T.day()]:this._weekdaysMin}function Qf(T,F,Z){var J,he,Re,mt=T.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],J=0;J<7;++J)Re=x([2e3,1]).day(J),this._minWeekdaysParse[J]=this.weekdaysMin(Re,"").toLocaleLowerCase(),this._shortWeekdaysParse[J]=this.weekdaysShort(Re,"").toLocaleLowerCase(),this._weekdaysParse[J]=this.weekdays(Re,"").toLocaleLowerCase();return Z?F==="dddd"?(he=Mr.call(this._weekdaysParse,mt),he!==-1?he:null):F==="ddd"?(he=Mr.call(this._shortWeekdaysParse,mt),he!==-1?he:null):(he=Mr.call(this._minWeekdaysParse,mt),he!==-1?he:null):F==="dddd"?(he=Mr.call(this._weekdaysParse,mt),he!==-1||(he=Mr.call(this._shortWeekdaysParse,mt),he!==-1)?he:(he=Mr.call(this._minWeekdaysParse,mt),he!==-1?he:null)):F==="ddd"?(he=Mr.call(this._shortWeekdaysParse,mt),he!==-1||(he=Mr.call(this._weekdaysParse,mt),he!==-1)?he:(he=Mr.call(this._minWeekdaysParse,mt),he!==-1?he:null)):(he=Mr.call(this._minWeekdaysParse,mt),he!==-1||(he=Mr.call(this._weekdaysParse,mt),he!==-1)?he:(he=Mr.call(this._shortWeekdaysParse,mt),he!==-1?he:null))}function Ci(T,F,Z){var J,he,Re;if(this._weekdaysParseExact)return Qf.call(this,T,F,Z);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),J=0;J<7;J++){if(he=x([2e3,1]).day(J),Z&&!this._fullWeekdaysParse[J]&&(this._fullWeekdaysParse[J]=new RegExp("^"+this.weekdays(he,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[J]=new RegExp("^"+this.weekdaysShort(he,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[J]=new RegExp("^"+this.weekdaysMin(he,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[J]||(Re="^"+this.weekdays(he,"")+"|^"+this.weekdaysShort(he,"")+"|^"+this.weekdaysMin(he,""),this._weekdaysParse[J]=new RegExp(Re.replace(".",""),"i")),Z&&F==="dddd"&&this._fullWeekdaysParse[J].test(T))return J;if(Z&&F==="ddd"&&this._shortWeekdaysParse[J].test(T))return J;if(Z&&F==="dd"&&this._minWeekdaysParse[J].test(T))return J;if(!Z&&this._weekdaysParse[J].test(T))return J}}function Es(T){if(!this.isValid())return T!=null?this:NaN;var F=this._isUTC?this._d.getUTCDay():this._d.getDay();return T!=null?(T=ta(T,this.localeData()),this.add(T-F,"d")):F}function qf(T){if(!this.isValid())return T!=null?this:NaN;var F=(this.day()+7-this.localeData()._week.dow)%7;return T==null?F:this.add(T-F,"d")}function Jf(T){if(!this.isValid())return T!=null?this:NaN;if(T!=null){var F=hn(T,this.localeData());return this.day(this.day()%7?F:F-7)}else return this.day()||7}function Ds(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||uo.call(this),T?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=gu),this._weekdaysStrictRegex&&T?this._weekdaysStrictRegex:this._weekdaysRegex)}function rl(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||uo.call(this),T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ea),this._weekdaysShortStrictRegex&&T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function lo(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||uo.call(this),T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vu),this._weekdaysMinStrictRegex&&T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function uo(){function T(fi,Bs){return Bs.length-fi.length}var F=[],Z=[],J=[],he=[],Re,mt,Ht,or,Rr;for(Re=0;Re<7;Re++)mt=x([2e3,1]).day(Re),Ht=Vt(this.weekdaysMin(mt,"")),or=Vt(this.weekdaysShort(mt,"")),Rr=Vt(this.weekdays(mt,"")),F.push(Ht),Z.push(or),J.push(Rr),he.push(Ht),he.push(or),he.push(Rr);F.sort(T),Z.sort(T),J.sort(T),he.sort(T),this._weekdaysRegex=new RegExp("^("+he.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+J.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Z.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+F.join("|")+")","i")}function qa(){return this.hours()%12||12}function _u(){return this.hours()||24}te("H",["HH",2],0,"hour"),te("h",["hh",2],0,qa),te("k",["kk",2],0,_u),te("hmm",0,0,function(){return""+qa.apply(this)+$(this.minutes(),2)}),te("hmmss",0,0,function(){return""+qa.apply(this)+$(this.minutes(),2)+$(this.seconds(),2)}),te("Hmm",0,0,function(){return""+this.hours()+$(this.minutes(),2)}),te("Hmmss",0,0,function(){return""+this.hours()+$(this.minutes(),2)+$(this.seconds(),2)});function nl(T,F){te(T,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),F)})}nl("a",!0),nl("A",!1),Be("hour","h"),Ke("hour",13);function fo(T,F){return F._meridiemParse}at("a",fo),at("A",fo),at("H",Le),at("h",Le),at("k",Le),at("HH",Le,se),at("hh",Le,se),at("kk",Le,se),at("hmm",ot),at("hmmss",oe),at("Hmm",ot),at("Hmmss",oe),Pt(["H","HH"],Zt),Pt(["k","kk"],function(T,F,Z){var J=le(T);F[Zt]=J===24?0:J}),Pt(["a","A"],function(T,F,Z){Z._isPm=Z._locale.isPM(T),Z._meridiem=T}),Pt(["h","hh"],function(T,F,Z){F[Zt]=le(T),w(Z).bigHour=!0}),Pt("hmm",function(T,F,Z){var J=T.length-2;F[Zt]=le(T.substr(0,J)),F[nr]=le(T.substr(J)),w(Z).bigHour=!0}),Pt("hmmss",function(T,F,Z){var J=T.length-4,he=T.length-2;F[Zt]=le(T.substr(0,J)),F[nr]=le(T.substr(J,2)),F[Br]=le(T.substr(he)),w(Z).bigHour=!0}),Pt("Hmm",function(T,F,Z){var J=T.length-2;F[Zt]=le(T.substr(0,J)),F[nr]=le(T.substr(J))}),Pt("Hmmss",function(T,F,Z){var J=T.length-4,he=T.length-2;F[Zt]=le(T.substr(0,J)),F[nr]=le(T.substr(J,2)),F[Br]=le(T.substr(he))});function ed(T){return(T+"").toLowerCase().charAt(0)==="p"}var td=/[ap]\.?m?\.?/i,rd=ue("Hours",!0);function Ms(T,F,Z){return T>11?Z?"pm":"PM":Z?"am":"AM"}var il={calendar:q,longDateFormat:Me,invalidDate:Qe,ordinal:R,dayOfMonthOrdinalParse:pe,relativeTime:ie,months:Ss,monthsShort:Za,week:wa,weekdays:cr,weekdaysMin:oo,weekdaysShort:Ca,meridiemParse:td},Nr={},As={},Ts;function nd(T,F){var Z,J=Math.min(T.length,F.length);for(Z=0;Z<J;Z+=1)if(T[Z]!==F[Z])return Z;return J}function A(T){return T&&T.toLowerCase().replace("_","-")}function N(T){for(var F=0,Z,J,he,Re;F<T.length;){for(Re=A(T[F]).split("-"),Z=Re.length,J=A(T[F+1]),J=J?J.split("-"):null;Z>0;){if(he=K(Re.slice(0,Z).join("-")),he)return he;if(J&&J.length>=Z&&nd(Re,J)>=Z-1)break;Z--}F++}return Ts}function U(T){return T.match("^[^/\\\\]*$")!=null}function K(T){var F=null,Z;if(Nr[T]===void 0&&typeof Vf<"u"&&Vf&&Vf.exports&&U(T))try{F=Ts._abbr,Z=pl,Z("./locale/"+T),ee(F)}catch{Nr[T]=null}return Nr[T]}function ee(T,F){var Z;return T&&(u(F)?Z=Oe(T):Z=re(T,F),Z?Ts=Z:typeof console<"u"&&console.warn&&console.warn("Locale "+T+" not found. Did you forget to load it?")),Ts._abbr}function re(T,F){if(F!==null){var Z,J=il;if(F.abbr=T,Nr[T]!=null)O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),J=Nr[T]._config;else if(F.parentLocale!=null)if(Nr[F.parentLocale]!=null)J=Nr[F.parentLocale]._config;else if(Z=K(F.parentLocale),Z!=null)J=Z._config;else return As[F.parentLocale]||(As[F.parentLocale]=[]),As[F.parentLocale].push({name:T,config:F}),null;return Nr[T]=new H(I(J,F)),As[T]&&As[T].forEach(function(he){re(he.name,he.config)}),ee(T),Nr[T]}else return delete Nr[T],null}function fe(T,F){if(F!=null){var Z,J,he=il;Nr[T]!=null&&Nr[T].parentLocale!=null?Nr[T].set(I(Nr[T]._config,F)):(J=K(T),J!=null&&(he=J._config),F=I(he,F),J==null&&(F.abbr=T),Z=new H(F),Z.parentLocale=Nr[T],Nr[T]=Z),ee(T)}else Nr[T]!=null&&(Nr[T].parentLocale!=null?(Nr[T]=Nr[T].parentLocale,T===ee()&&ee(T)):Nr[T]!=null&&delete Nr[T]);return Nr[T]}function Oe(T){var F;if(T&&T._locale&&T._locale._abbr&&(T=T._locale._abbr),!T)return Ts;if(!n(T)){if(F=K(T),F)return F;T=[T]}return N(T)}function Ae(){return Y(Nr)}function Ze(T){var F,Z=T._a;return Z&&w(T).overflow===-2&&(F=Z[rn]<0||Z[rn]>11?rn:Z[fr]<1||Z[fr]>ea(Z[Fr],Z[rn])?fr:Z[Zt]<0||Z[Zt]>24||Z[Zt]===24&&(Z[nr]!==0||Z[Br]!==0||Z[jr]!==0)?Zt:Z[nr]<0||Z[nr]>59?nr:Z[Br]<0||Z[Br]>59?Br:Z[jr]<0||Z[jr]>999?jr:-1,w(T)._overflowDayOfYear&&(F<Fr||F>fr)&&(F=fr),w(T)._overflowWeeks&&F===-1&&(F=xi),w(T)._overflowWeekday&&F===-1&&(F=ws),w(T).overflow=F),T}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rt=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Kt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],lr=/^\/?Date\((-?\d+)/i,tr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,pn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Jr(T){var F,Z,J=T._i,he=ct.exec(J)||vt.exec(J),Re,mt,Ht,or,Rr=wt.length,fi=Kt.length;if(he){for(w(T).iso=!0,F=0,Z=Rr;F<Z;F++)if(wt[F][1].exec(he[1])){mt=wt[F][0],Re=wt[F][2]!==!1;break}if(mt==null){T._isValid=!1;return}if(he[3]){for(F=0,Z=fi;F<Z;F++)if(Kt[F][1].exec(he[3])){Ht=(he[2]||" ")+Kt[F][0];break}if(Ht==null){T._isValid=!1;return}}if(!Re&&Ht!=null){T._isValid=!1;return}if(he[4])if(rt.exec(he[4]))or="Z";else{T._isValid=!1;return}T._f=mt+(Ht||"")+(or||""),Ti(T)}else T._isValid=!1}function Ei(T,F,Z,J,he,Re){var mt=[Un(T),Za.indexOf(F),parseInt(Z,10),parseInt(J,10),parseInt(he,10)];return Re&&mt.push(parseInt(Re,10)),mt}function Un(T){var F=parseInt(T,10);return F<=49?2e3+F:F<=999?1900+F:F}function sr(T){return T.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Da(T,F,Z){if(T){var J=Ca.indexOf(T),he=new Date(F[0],F[1],F[2]).getDay();if(J!==he)return w(Z).weekdayMismatch=!0,Z._isValid=!1,!1}return!0}function hr(T,F,Z){if(T)return pn[T];if(F)return 0;var J=parseInt(Z,10),he=J%100,Re=(J-he)/100;return Re*60+he}function Wr(T){var F=tr.exec(sr(T._i)),Z;if(F){if(Z=Ei(F[4],F[3],F[2],F[5],F[6],F[7]),!Da(F[1],Z,T))return;T._a=Z,T._tzm=hr(F[8],F[9],F[10]),T._d=Si.apply(null,T._a),T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),w(T).rfc2822=!0}else T._isValid=!1}function Ri(T){var F=lr.exec(T._i);if(F!==null){T._d=new Date(+F[1]);return}if(Jr(T),T._isValid===!1)delete T._isValid;else return;if(Wr(T),T._isValid===!1)delete T._isValid;else return;T._strict?T._isValid=!1:t.createFromInputFallback(T)}t.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(T){T._d=new Date(T._i+(T._useUTC?" UTC":""))});function Di(T,F,Z){return T??F??Z}function Mi(T){var F=new Date(t.now());return T._useUTC?[F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate()]:[F.getFullYear(),F.getMonth(),F.getDate()]}function Ma(T){var F,Z,J=[],he,Re,mt;if(!T._d){for(he=Mi(T),T._w&&T._a[fr]==null&&T._a[rn]==null&&Ai(T),T._dayOfYear!=null&&(mt=Di(T._a[Fr],he[Fr]),(T._dayOfYear>ya(mt)||T._dayOfYear===0)&&(w(T)._overflowDayOfYear=!0),Z=Si(mt,0,T._dayOfYear),T._a[rn]=Z.getUTCMonth(),T._a[fr]=Z.getUTCDate()),F=0;F<3&&T._a[F]==null;++F)T._a[F]=J[F]=he[F];for(;F<7;F++)T._a[F]=J[F]=T._a[F]==null?F===2?1:0:T._a[F];T._a[Zt]===24&&T._a[nr]===0&&T._a[Br]===0&&T._a[jr]===0&&(T._nextDay=!0,T._a[Zt]=0),T._d=(T._useUTC?Si:wi).apply(null,J),Re=T._useUTC?T._d.getUTCDay():T._d.getDay(),T._tzm!=null&&T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),T._nextDay&&(T._a[Zt]=24),T._w&&typeof T._w.d<"u"&&T._w.d!==Re&&(w(T).weekdayMismatch=!0)}}function Ai(T){var F,Z,J,he,Re,mt,Ht,or,Rr;F=T._w,F.GG!=null||F.W!=null||F.E!=null?(Re=1,mt=4,Z=Di(F.GG,T._a[Fr],Kr(xr(),1,4).year),J=Di(F.W,1),he=Di(F.E,1),(he<1||he>7)&&(or=!0)):(Re=T._locale._week.dow,mt=T._locale._week.doy,Rr=Kr(xr(),Re,mt),Z=Di(F.gg,T._a[Fr],Rr.year),J=Di(F.w,Rr.week),F.d!=null?(he=F.d,(he<0||he>6)&&(or=!0)):F.e!=null?(he=F.e+Re,(F.e<0||F.e>6)&&(or=!0)):he=Re),J<1||J>Cn(Z,Re,mt)?w(T)._overflowWeeks=!0:or!=null?w(T)._overflowWeekday=!0:(Ht=xa(Z,J,he,Re,mt),T._a[Fr]=Ht.year,T._dayOfYear=Ht.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Ti(T){if(T._f===t.ISO_8601){Jr(T);return}if(T._f===t.RFC_2822){Wr(T);return}T._a=[],w(T).empty=!0;var F=""+T._i,Z,J,he,Re,mt,Ht=F.length,or=0,Rr,fi;for(he=Fe(T._f,T._locale).match(j)||[],fi=he.length,Z=0;Z<fi;Z++)Re=he[Z],J=(F.match(qt(Re,T))||[])[0],J&&(mt=F.substr(0,F.indexOf(J)),mt.length>0&&w(T).unusedInput.push(mt),F=F.slice(F.indexOf(J)+J.length),or+=J.length),Q[Re]?(J?w(T).empty=!1:w(T).unusedTokens.push(Re),Dr(Re,J,T)):T._strict&&!J&&w(T).unusedTokens.push(Re);w(T).charsLeftOver=Ht-or,F.length>0&&w(T).unusedInput.push(F),T._a[Zt]<=12&&w(T).bigHour===!0&&T._a[Zt]>0&&(w(T).bigHour=void 0),w(T).parsedDateParts=T._a.slice(0),w(T).meridiem=T._meridiem,T._a[Zt]=na(T._locale,T._a[Zt],T._meridiem),Rr=w(T).era,Rr!==null&&(T._a[Fr]=T._locale.erasConvertYear(Rr,T._a[Fr])),Ma(T),Ze(T)}function na(T,F,Z){var J;return Z==null?F:T.meridiemHour!=null?T.meridiemHour(F,Z):(T.isPM!=null&&(J=T.isPM(Z),J&&F<12&&(F+=12),!J&&F===12&&(F=0)),F)}function Zn(T){var F,Z,J,he,Re,mt,Ht=!1,or=T._f.length;if(or===0){w(T).invalidFormat=!0,T._d=new Date(NaN);return}for(he=0;he<or;he++)Re=0,mt=!1,F=E({},T),T._useUTC!=null&&(F._useUTC=T._useUTC),F._f=T._f[he],Ti(F),v(F)&&(mt=!0),Re+=w(F).charsLeftOver,Re+=w(F).unusedTokens.length*10,w(F).score=Re,Ht?Re<J&&(J=Re,Z=F):(J==null||Re<J||mt)&&(J=Re,Z=F,mt&&(Ht=!0));_(T,Z||F)}function al(T){if(!T._d){var F=Ie(T._i),Z=F.day===void 0?F.date:F.day;T._a=h([F.year,F.month,Z,F.hour,F.minute,F.second,F.millisecond],function(J){return J&&parseInt(J,10)}),Ma(T)}}function Ui(T){var F=new p(Ze(jn(T)));return F._nextDay&&(F.add(1,"d"),F._nextDay=void 0),F}function jn(T){var F=T._i,Z=T._f;return T._locale=T._locale||Oe(T._l),F===null||Z===void 0&&F===""?y({nullInput:!0}):(typeof F=="string"&&(T._i=F=T._locale.preparse(F)),f(F)?new p(Ze(F)):(g(F)?T._d=F:n(Z)?Zn(T):Z?Ti(T):id(T),v(T)||(T._d=null),T))}function id(T){var F=T._i;u(F)?T._d=new Date(t.now()):g(F)?T._d=new Date(F.valueOf()):typeof F=="string"?Ri(T):n(F)?(T._a=h(F.slice(0),function(Z){return parseInt(Z,10)}),Ma(T)):a(F)?al(T):l(F)?T._d=new Date(F):t.createFromInputFallback(T)}function bu(T,F,Z,J,he){var Re={};return(F===!0||F===!1)&&(J=F,F=void 0),(Z===!0||Z===!1)&&(J=Z,Z=void 0),(a(T)&&o(T)||n(T)&&T.length===0)&&(T=void 0),Re._isAMomentObject=!0,Re._useUTC=Re._isUTC=he,Re._l=Z,Re._i=T,Re._f=F,Re._strict=J,Ui(Re)}function xr(T,F,Z,J){return bu(T,F,Z,J,!1)}var Sr=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=xr.apply(null,arguments);return this.isValid()&&T.isValid()?T<this?this:T:y()}),Ls=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=xr.apply(null,arguments);return this.isValid()&&T.isValid()?T>this?this:T:y()});function Wn(T,F){var Z,J;if(F.length===1&&n(F[0])&&(F=F[0]),!F.length)return xr();for(Z=F[0],J=1;J<F.length;++J)(!F[J].isValid()||F[J][T](Z))&&(Z=F[J]);return Z}function ia(){var T=[].slice.call(arguments,0);return Wn("isBefore",T)}function yu(){var T=[].slice.call(arguments,0);return Wn("isAfter",T)}var ad=function(){return Date.now?Date.now():+new Date},Ja=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Aa(T){var F,Z=!1,J,he=Ja.length;for(F in T)if(s(T,F)&&!(Mr.call(Ja,F)!==-1&&(T[F]==null||!isNaN(T[F]))))return!1;for(J=0;J<he;++J)if(T[Ja[J]]){if(Z)return!1;parseFloat(T[Ja[J]])!==le(T[Ja[J]])&&(Z=!0)}return!0}function sl(){return this._isValid}function Ta(){return Ut(NaN)}function ji(T){var F=Ie(T),Z=F.year||0,J=F.quarter||0,he=F.month||0,Re=F.week||F.isoWeek||0,mt=F.day||0,Ht=F.hour||0,or=F.minute||0,Rr=F.second||0,fi=F.millisecond||0;this._isValid=Aa(F),this._milliseconds=+fi+Rr*1e3+or*6e4+Ht*1e3*60*60,this._days=+mt+Re*7,this._months=+he+J*3+Z*12,this._data={},this._locale=Oe(),this._bubble()}function La(T){return T instanceof ji}function Oa(T){return T<0?Math.round(-1*T)*-1:Math.round(T)}function Os(T,F,Z){var J=Math.min(T.length,F.length),he=Math.abs(T.length-F.length),Re=0,mt;for(mt=0;mt<J;mt++)(Z&&T[mt]!==F[mt]||!Z&&le(T[mt])!==le(F[mt]))&&Re++;return Re+he}function ks(T,F){te(T,0,0,function(){var Z=this.utcOffset(),J="+";return Z<0&&(Z=-Z,J="-"),J+$(~~(Z/60),2)+F+$(~~Z%60,2)})}ks("Z",":"),ks("ZZ",""),at("Z",ze),at("ZZ",ze),Pt(["Z","ZZ"],function(T,F,Z){Z._useUTC=!0,Z._tzm=Wi(ze,T)});var sd=/([\+\-]|\d\d)/gi;function Wi(T,F){var Z=(F||"").match(T),J,he,Re;return Z===null?null:(J=Z[Z.length-1]||[],he=(J+"").match(sd)||["-",0,0],Re=+(he[1]*60)+le(he[2]),Re===0?0:he[0]==="+"?Re:-Re)}function ui(T,F){var Z,J;return F._isUTC?(Z=F.clone(),J=(f(T)||g(T)?T.valueOf():xr(T).valueOf())-Z.valueOf(),Z._d.setTime(Z._d.valueOf()+J),t.updateOffset(Z,!1),Z):xr(T).local()}function Ps(T){return-Math.round(T._d.getTimezoneOffset())}t.updateOffset=function(){};function od(T,F,Z){var J=this._offset||0,he;if(!this.isValid())return T!=null?this:NaN;if(T!=null){if(typeof T=="string"){if(T=Wi(ze,T),T===null)return this}else Math.abs(T)<16&&!Z&&(T=T*60);return!this._isUTC&&F&&(he=Ps(this)),this._offset=T,this._isUTC=!0,he!=null&&this.add(he,"m"),J!==T&&(!F||this._changeInProgress?mn(this,Ut(T-J,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?J:Ps(this)}function On(T,F){return T!=null?(typeof T!="string"&&(T=-T),this.utcOffset(T,F),this):-this.utcOffset()}function ol(T){return this.utcOffset(0,T)}function we(T){return this._isUTC&&(this.utcOffset(0,T),this._isUTC=!1,T&&this.subtract(Ps(this),"m")),this}function We(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var T=Wi(ce,this._i);T!=null?this.utcOffset(T):this.utcOffset(0,!0)}return this}function tt(T){return this.isValid()?(T=T?xr(T).utcOffset():0,(this.utcOffset()-T)%60===0):!1}function ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function gt(){if(!u(this._isDSTShifted))return this._isDSTShifted;var T={},F;return E(T,this),T=jn(T),T._a?(F=T._isUTC?x(T._a):xr(T._a),this._isDSTShifted=this.isValid()&&Os(T._a,F.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tt(){return this.isValid()?!this._isUTC:!1}function Ot(){return this.isValid()?this._isUTC:!1}function Bt(){return this.isValid()?this._isUTC&&this._offset===0:!1}var kt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ir=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ut(T,F){var Z=T,J=null,he,Re,mt;return La(T)?Z={ms:T._milliseconds,d:T._days,M:T._months}:l(T)||!isNaN(+T)?(Z={},F?Z[F]=+T:Z.milliseconds=+T):(J=kt.exec(T))?(he=J[1]==="-"?-1:1,Z={y:0,d:le(J[fr])*he,h:le(J[Zt])*he,m:le(J[nr])*he,s:le(J[Br])*he,ms:le(Oa(J[jr]*1e3))*he}):(J=ir.exec(T))?(he=J[1]==="-"?-1:1,Z={y:Gt(J[2],he),M:Gt(J[3],he),w:Gt(J[4],he),d:Gt(J[5],he),h:Gt(J[6],he),m:Gt(J[7],he),s:Gt(J[8],he)}):Z==null?Z={}:typeof Z=="object"&&("from"in Z||"to"in Z)&&(mt=Wt(xr(Z.from),xr(Z.to)),Z={},Z.ms=mt.milliseconds,Z.M=mt.months),Re=new ji(Z),La(T)&&s(T,"_locale")&&(Re._locale=T._locale),La(T)&&s(T,"_isValid")&&(Re._isValid=T._isValid),Re}Ut.fn=ji.prototype,Ut.invalid=Ta;function Gt(T,F){var Z=T&&parseFloat(T.replace(",","."));return(isNaN(Z)?0:Z)*F}function rr(T,F){var Z={};return Z.months=F.month()-T.month()+(F.year()-T.year())*12,T.clone().add(Z.months,"M").isAfter(F)&&--Z.months,Z.milliseconds=+F-+T.clone().add(Z.months,"M"),Z}function Wt(T,F){var Z;return T.isValid()&&F.isValid()?(F=ui(F,T),T.isBefore(F)?Z=rr(T,F):(Z=rr(F,T),Z.milliseconds=-Z.milliseconds,Z.months=-Z.months),Z):{milliseconds:0,months:0}}function ur(T,F){return function(Z,J){var he,Re;return J!==null&&!isNaN(+J)&&(O(F,"moment()."+F+"(period, number) is deprecated. Please use moment()."+F+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Re=Z,Z=J,J=Re),he=Ut(Z,J),mn(this,he,T),this}}function mn(T,F,Z,J){var he=F._milliseconds,Re=Oa(F._days),mt=Oa(F._months);T.isValid()&&(J=J??!0,mt&&oi(T,ge(T,"Month")+mt*Z),Re&&$e(T,"Date",ge(T,"Date")+Re*Z),he&&T._d.setTime(T._d.valueOf()+he*Z),J&&t.updateOffset(T,Re||mt))}var gn=ur(1,"add"),kn=ur(-1,"subtract");function Xn(T){return typeof T=="string"||T instanceof String}function ka(T){return f(T)||g(T)||Xn(T)||l(T)||_h(T)||bn(T)||T===null||T===void 0}function bn(T){var F=a(T)&&!o(T),Z=!1,J=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],he,Re,mt=J.length;for(he=0;he<mt;he+=1)Re=J[he],Z=Z||s(T,Re);return F&&Z}function _h(T){var F=n(T),Z=!1;return F&&(Z=T.filter(function(J){return!l(J)&&Xn(T)}).length===0),F&&Z}function xu(T){var F=a(T)&&!o(T),Z=!1,J=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],he,Re;for(he=0;he<J.length;he+=1)Re=J[he],Z=Z||s(T,Re);return F&&Z}function wu(T,F){var Z=T.diff(F,"days",!0);return Z<-6?"sameElse":Z<-1?"lastWeek":Z<0?"lastDay":Z<1?"sameDay":Z<2?"nextDay":Z<7?"nextWeek":"sameElse"}function bh(T,F){arguments.length===1&&(arguments[0]?ka(arguments[0])?(T=arguments[0],F=void 0):xu(arguments[0])&&(F=arguments[0],T=void 0):(T=void 0,F=void 0));var Z=T||xr(),J=ui(Z,this).startOf("day"),he=t.calendarFormat(this,J)||"sameElse",Re=F&&(z(F[he])?F[he].call(this,Z):F[he]);return this.format(Re||this.localeData().calendar(he,this,xr(Z)))}function yh(){return new p(this)}function xh(T,F){var Z=f(T)?T:xr(T);return this.isValid()&&Z.isValid()?(F=Se(F)||"millisecond",F==="millisecond"?this.valueOf()>Z.valueOf():Z.valueOf()<this.clone().startOf(F).valueOf()):!1}function wh(T,F){var Z=f(T)?T:xr(T);return this.isValid()&&Z.isValid()?(F=Se(F)||"millisecond",F==="millisecond"?this.valueOf()<Z.valueOf():this.clone().endOf(F).valueOf()<Z.valueOf()):!1}function Sh(T,F,Z,J){var he=f(T)?T:xr(T),Re=f(F)?F:xr(F);return this.isValid()&&he.isValid()&&Re.isValid()?(J=J||"()",(J[0]==="("?this.isAfter(he,Z):!this.isBefore(he,Z))&&(J[1]===")"?this.isBefore(Re,Z):!this.isAfter(Re,Z))):!1}function ld(T,F){var Z=f(T)?T:xr(T),J;return this.isValid()&&Z.isValid()?(F=Se(F)||"millisecond",F==="millisecond"?this.valueOf()===Z.valueOf():(J=Z.valueOf(),this.clone().startOf(F).valueOf()<=J&&J<=this.clone().endOf(F).valueOf())):!1}function Ch(T,F){return this.isSame(T,F)||this.isAfter(T,F)}function Eh(T,F){return this.isSame(T,F)||this.isBefore(T,F)}function Gr(T,F,Z){var J,he,Re;if(!this.isValid())return NaN;if(J=ui(T,this),!J.isValid())return NaN;switch(he=(J.utcOffset()-this.utcOffset())*6e4,F=Se(F),F){case"year":Re=ll(this,J)/12;break;case"month":Re=ll(this,J);break;case"quarter":Re=ll(this,J)/3;break;case"second":Re=(this-J)/1e3;break;case"minute":Re=(this-J)/6e4;break;case"hour":Re=(this-J)/36e5;break;case"day":Re=(this-J-he)/864e5;break;case"week":Re=(this-J-he)/6048e5;break;default:Re=this-J}return Z?Re:yt(Re)}function ll(T,F){if(T.date()<F.date())return-ll(F,T);var Z=(F.year()-T.year())*12+(F.month()-T.month()),J=T.clone().add(Z,"months"),he,Re;return F-J<0?(he=T.clone().add(Z-1,"months"),Re=(F-J)/(J-he)):(he=T.clone().add(Z+1,"months"),Re=(F-J)/(he-J)),-(Z+Re)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Dh(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Rg(T){if(!this.isValid())return null;var F=T!==!0,Z=F?this.clone().utc():this;return Z.year()<0||Z.year()>9999?ye(Z,F?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?F?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ye(Z,"Z")):ye(Z,F?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ug(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var T="moment",F="",Z,J,he,Re;return this.isLocal()||(T=this.utcOffset()===0?"moment.utc":"moment.parseZone",F="Z"),Z="["+T+'("]',J=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",he="-MM-DD[T]HH:mm:ss.SSS",Re=F+'[")]',this.format(Z+J+he+Re)}function jw(T){T||(T=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var F=ye(this,T);return this.localeData().postformat(F)}function jg(T,F){return this.isValid()&&(f(T)&&T.isValid()||xr(T).isValid())?Ut({to:this,from:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()}function Mh(T){return this.from(xr(),T)}function Wg(T,F){return this.isValid()&&(f(T)&&T.isValid()||xr(T).isValid())?Ut({from:this,to:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()}function Ns(T){return this.to(xr(),T)}function ud(T){var F;return T===void 0?this._locale._abbr:(F=Oe(T),F!=null&&(this._locale=F),this)}var fd=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(T){return T===void 0?this.localeData():this.locale(T)});function dd(){return this._locale}var ul=1e3,co=60*ul,fl=60*co,Su=(365*400+97)*24*fl;function es(T,F){return(T%F+F)%F}function Ah(T,F,Z){return T<100&&T>=0?new Date(T+400,F,Z)-Su:new Date(T,F,Z).valueOf()}function cd(T,F,Z){return T<100&&T>=0?Date.UTC(T+400,F,Z)-Su:Date.UTC(T,F,Z)}function Gg(T){var F,Z;if(T=Se(T),T===void 0||T==="millisecond"||!this.isValid())return this;switch(Z=this._isUTC?cd:Ah,T){case"year":F=Z(this.year(),0,1);break;case"quarter":F=Z(this.year(),this.month()-this.month()%3,1);break;case"month":F=Z(this.year(),this.month(),1);break;case"week":F=Z(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":F=Z(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":F=Z(this.year(),this.month(),this.date());break;case"hour":F=this._d.valueOf(),F-=es(F+(this._isUTC?0:this.utcOffset()*co),fl);break;case"minute":F=this._d.valueOf(),F-=es(F,co);break;case"second":F=this._d.valueOf(),F-=es(F,ul);break}return this._d.setTime(F),t.updateOffset(this,!0),this}function Hg(T){var F,Z;if(T=Se(T),T===void 0||T==="millisecond"||!this.isValid())return this;switch(Z=this._isUTC?cd:Ah,T){case"year":F=Z(this.year()+1,0,1)-1;break;case"quarter":F=Z(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":F=Z(this.year(),this.month()+1,1)-1;break;case"week":F=Z(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":F=Z(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":F=Z(this.year(),this.month(),this.date()+1)-1;break;case"hour":F=this._d.valueOf(),F+=fl-es(F+(this._isUTC?0:this.utcOffset()*co),fl)-1;break;case"minute":F=this._d.valueOf(),F+=co-es(F,co)-1;break;case"second":F=this._d.valueOf(),F+=ul-es(F,ul)-1;break}return this._d.setTime(F),t.updateOffset(this,!0),this}function Vg(){return this._d.valueOf()-(this._offset||0)*6e4}function Yg(){return Math.floor(this.valueOf()/1e3)}function Kg(){return new Date(this.valueOf())}function Zg(){var T=this;return[T.year(),T.month(),T.date(),T.hour(),T.minute(),T.second(),T.millisecond()]}function Xg(){var T=this;return{years:T.year(),months:T.month(),date:T.date(),hours:T.hours(),minutes:T.minutes(),seconds:T.seconds(),milliseconds:T.milliseconds()}}function $g(){return this.isValid()?this.toISOString():null}function Qg(){return v(this)}function qg(){return _({},w(this))}function Jg(){return w(this).overflow}function ev(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}te("N",0,0,"eraAbbr"),te("NN",0,0,"eraAbbr"),te("NNN",0,0,"eraAbbr"),te("NNNN",0,0,"eraName"),te("NNNNN",0,0,"eraNarrow"),te("y",["y",1],"yo","eraYear"),te("y",["yy",2],0,"eraYear"),te("y",["yyy",3],0,"eraYear"),te("y",["yyyy",4],0,"eraYear"),at("N",cl),at("NN",cl),at("NNN",cl),at("NNNN",ov),at("NNNNN",Lh),Pt(["N","NN","NNN","NNNN","NNNNN"],function(T,F,Z,J){var he=Z._locale.erasParse(T,J,Z._strict);he?w(Z).era=he:w(Z).invalidEra=T}),at("y",Ve),at("yy",Ve),at("yyy",Ve),at("yyyy",Ve),at("yo",lv),Pt(["y","yy","yyy","yyyy"],Fr),Pt(["yo"],function(T,F,Z,J){var he;Z._locale._eraYearOrdinalRegex&&(he=T.match(Z._locale._eraYearOrdinalRegex)),Z._locale.eraYearOrdinalParse?F[Fr]=Z._locale.eraYearOrdinalParse(T,he):F[Fr]=parseInt(T,10)});function tv(T,F){var Z,J,he,Re=this._eras||Oe("en")._eras;for(Z=0,J=Re.length;Z<J;++Z){switch(typeof Re[Z].since){case"string":he=t(Re[Z].since).startOf("day"),Re[Z].since=he.valueOf();break}switch(typeof Re[Z].until){case"undefined":Re[Z].until=1/0;break;case"string":he=t(Re[Z].until).startOf("day").valueOf(),Re[Z].until=he.valueOf();break}}return Re}function rv(T,F,Z){var J,he,Re=this.eras(),mt,Ht,or;for(T=T.toUpperCase(),J=0,he=Re.length;J<he;++J)if(mt=Re[J].name.toUpperCase(),Ht=Re[J].abbr.toUpperCase(),or=Re[J].narrow.toUpperCase(),Z)switch(F){case"N":case"NN":case"NNN":if(Ht===T)return Re[J];break;case"NNNN":if(mt===T)return Re[J];break;case"NNNNN":if(or===T)return Re[J];break}else if([mt,Ht,or].indexOf(T)>=0)return Re[J]}function Pa(T,F){var Z=T.since<=T.until?1:-1;return F===void 0?t(T.since).year():t(T.since).year()+(F-T.offset)*Z}function nv(){var T,F,Z,J=this.localeData().eras();for(T=0,F=J.length;T<F;++T)if(Z=this.clone().startOf("day").valueOf(),J[T].since<=Z&&Z<=J[T].until||J[T].until<=Z&&Z<=J[T].since)return J[T].name;return""}function iv(){var T,F,Z,J=this.localeData().eras();for(T=0,F=J.length;T<F;++T)if(Z=this.clone().startOf("day").valueOf(),J[T].since<=Z&&Z<=J[T].until||J[T].until<=Z&&Z<=J[T].since)return J[T].narrow;return""}function Th(){var T,F,Z,J=this.localeData().eras();for(T=0,F=J.length;T<F;++T)if(Z=this.clone().startOf("day").valueOf(),J[T].since<=Z&&Z<=J[T].until||J[T].until<=Z&&Z<=J[T].since)return J[T].abbr;return""}function av(){var T,F,Z,J,he=this.localeData().eras();for(T=0,F=he.length;T<F;++T)if(Z=he[T].since<=he[T].until?1:-1,J=this.clone().startOf("day").valueOf(),he[T].since<=J&&J<=he[T].until||he[T].until<=J&&J<=he[T].since)return(this.year()-t(he[T].since).year())*Z+he[T].offset;return this.year()}function sv(T){return s(this,"_erasNameRegex")||Is.call(this),T?this._erasNameRegex:this._erasRegex}function dl(T){return s(this,"_erasAbbrRegex")||Is.call(this),T?this._erasAbbrRegex:this._erasRegex}function hd(T){return s(this,"_erasNarrowRegex")||Is.call(this),T?this._erasNarrowRegex:this._erasRegex}function cl(T,F){return F.erasAbbrRegex(T)}function ov(T,F){return F.erasNameRegex(T)}function Lh(T,F){return F.erasNarrowRegex(T)}function lv(T,F){return F._eraYearOrdinalRegex||Ve}function Is(){var T=[],F=[],Z=[],J=[],he,Re,mt=this.eras();for(he=0,Re=mt.length;he<Re;++he)F.push(Vt(mt[he].name)),T.push(Vt(mt[he].abbr)),Z.push(Vt(mt[he].narrow)),J.push(Vt(mt[he].name)),J.push(Vt(mt[he].abbr)),J.push(Vt(mt[he].narrow));this._erasRegex=new RegExp("^("+J.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+F.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+T.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Z.join("|")+")","i")}te(0,["gg",2],0,function(){return this.weekYear()%100}),te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ho(T,F){te(0,[T,T.length],0,F)}ho("gggg","weekYear"),ho("ggggg","weekYear"),ho("GGGG","isoWeekYear"),ho("GGGGG","isoWeekYear"),Be("weekYear","gg"),Be("isoWeekYear","GG"),Ke("weekYear",1),Ke("isoWeekYear",1),at("G",Ye),at("g",Ye),at("GG",Le,se),at("gg",Le,se),at("GGGG",At,Je),at("gggg",At,Je),at("GGGGG",W,pt),at("ggggg",W,pt),Or(["gggg","ggggg","GGGG","GGGGG"],function(T,F,Z,J){F[J.substr(0,2)]=le(T)}),Or(["gg","GG"],function(T,F,Z,J){F[J]=t.parseTwoDigitYear(T)});function uv(T){return Oh.call(this,T,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function fv(T){return Oh.call(this,T,this.isoWeek(),this.isoWeekday(),1,4)}function dv(){return Cn(this.year(),1,4)}function cv(){return Cn(this.isoWeekYear(),1,4)}function hv(){var T=this.localeData()._week;return Cn(this.year(),T.dow,T.doy)}function pv(){var T=this.localeData()._week;return Cn(this.weekYear(),T.dow,T.doy)}function Oh(T,F,Z,J,he){var Re;return T==null?Kr(this,J,he).year:(Re=Cn(T,J,he),F>Re&&(F=Re),mv.call(this,T,F,Z,J,he))}function mv(T,F,Z,J,he){var Re=xa(T,F,Z,J,he),mt=Si(Re.year,0,Re.dayOfYear);return this.year(mt.getUTCFullYear()),this.month(mt.getUTCMonth()),this.date(mt.getUTCDate()),this}te("Q",0,"Qo","quarter"),Be("quarter","Q"),Ke("quarter",7),at("Q",st),Pt("Q",function(T,F){F[rn]=(le(T)-1)*3});function gv(T){return T==null?Math.ceil((this.month()+1)/3):this.month((T-1)*3+this.month()%3)}te("D",["DD",2],"Do","date"),Be("date","D"),Ke("date",9),at("D",Le),at("DD",Le,se),at("Do",function(T,F){return T?F._dayOfMonthOrdinalParse||F._ordinalParse:F._dayOfMonthOrdinalParseLenient}),Pt(["D","DD"],fr),Pt("Do",function(T,F){F[fr]=le(T.match(Le)[0])});var kh=ue("Date",!0);te("DDD",["DDDD",3],"DDDo","dayOfYear"),Be("dayOfYear","DDD"),Ke("dayOfYear",4),at("DDD",ut),at("DDDD",Ge),Pt(["DDD","DDDD"],function(T,F,Z){Z._dayOfYear=le(T)});function vv(T){var F=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return T==null?F:this.add(T-F,"d")}te("m",["mm",2],0,"minute"),Be("minute","m"),Ke("minute",14),at("m",Le),at("mm",Le,se),Pt(["m","mm"],nr);var _v=ue("Minutes",!1);te("s",["ss",2],0,"second"),Be("second","s"),Ke("second",15),at("s",Le),at("ss",Le,se),Pt(["s","ss"],Br);var bv=ue("Seconds",!1);te("S",0,0,function(){return~~(this.millisecond()/100)}),te(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),te(0,["SSS",3],0,"millisecond"),te(0,["SSSS",4],0,function(){return this.millisecond()*10}),te(0,["SSSSS",5],0,function(){return this.millisecond()*100}),te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Be("millisecond","ms"),Ke("millisecond",16),at("S",ut,st),at("SS",ut,se),at("SSS",ut,Ge);var ts,Ph;for(ts="SSSS";ts.length<=9;ts+="S")at(ts,Ve);function Nh(T,F){F[jr]=le(("0."+T)*1e3)}for(ts="S";ts.length<=9;ts+="S")Pt(ts,Nh);Ph=ue("Milliseconds",!1),te("z",0,0,"zoneAbbr"),te("zz",0,0,"zoneName");function Ih(){return this._isUTC?"UTC":""}function zh(){return this._isUTC?"Coordinated Universal Time":""}var Et=p.prototype;Et.add=gn,Et.calendar=bh,Et.clone=yh,Et.diff=Gr,Et.endOf=Hg,Et.format=jw,Et.from=jg,Et.fromNow=Mh,Et.to=Wg,Et.toNow=Ns,Et.get=ke,Et.invalidAt=Jg,Et.isAfter=xh,Et.isBefore=wh,Et.isBetween=Sh,Et.isSame=ld,Et.isSameOrAfter=Ch,Et.isSameOrBefore=Eh,Et.isValid=Qg,Et.lang=fd,Et.locale=ud,Et.localeData=dd,Et.max=Ls,Et.min=Sr,Et.parsingFlags=qg,Et.set=it,Et.startOf=Gg,Et.subtract=kn,Et.toArray=Zg,Et.toObject=Xg,Et.toDate=Kg,Et.toISOString=Rg,Et.inspect=Ug,typeof Symbol<"u"&&Symbol.for!=null&&(Et[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Et.toJSON=$g,Et.toString=Dh,Et.unix=Yg,Et.valueOf=Vg,Et.creationData=ev,Et.eraName=nv,Et.eraNarrow=iv,Et.eraAbbr=Th,Et.eraYear=av,Et.year=Qa,Et.isLeapYear=so,Et.weekYear=uv,Et.isoWeekYear=fv,Et.quarter=Et.quarters=gv,Et.month=Kn,Et.daysInMonth=Tn,Et.week=Et.weeks=Sa,Et.isoWeek=Et.isoWeeks=mu,Et.weeksInYear=hv,Et.weeksInWeekYear=pv,Et.isoWeeksInYear=dv,Et.isoWeeksInISOWeekYear=cv,Et.date=kh,Et.day=Et.days=Es,Et.weekday=qf,Et.isoWeekday=Jf,Et.dayOfYear=vv,Et.hour=Et.hours=rd,Et.minute=Et.minutes=_v,Et.second=Et.seconds=bv,Et.millisecond=Et.milliseconds=Ph,Et.utcOffset=od,Et.utc=ol,Et.local=we,Et.parseZone=We,Et.hasAlignedHourOffset=tt,Et.isDST=ft,Et.isLocal=Tt,Et.isUtcOffset=Ot,Et.isUtc=Bt,Et.isUTC=Bt,Et.zoneAbbr=Ih,Et.zoneName=zh,Et.dates=M("dates accessor is deprecated. Use date instead.",kh),Et.months=M("months accessor is deprecated. Use month instead",Kn),Et.years=M("years accessor is deprecated. Use year instead",Qa),Et.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",On),Et.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",gt);function Fh(T){return xr(T*1e3)}function Bh(){return xr.apply(null,arguments).parseZone()}function pd(T){return T}var br=H.prototype;br.calendar=G,br.longDateFormat=_e,br.invalidDate=Xe,br.ordinal=ve,br.preparse=pd,br.postformat=pd,br.relativeTime=de,br.pastFuture=be,br.set=k,br.eras=tv,br.erasParse=rv,br.erasConvertYear=Pa,br.erasAbbrRegex=dl,br.erasNameRegex=sv,br.erasNarrowRegex=hd,br.months=Zf,br.monthsShort=Xf,br.monthsParse=ar,br.monthsRegex=$a,br.monthsShortRegex=li,br.week=Cs,br.firstDayOfYear=Ln,br.firstDayOfWeek=pu,br.weekdays=tl,br.weekdaysMin=$f,br.weekdaysShort=ra,br.weekdaysParse=Ci,br.weekdaysRegex=Ds,br.weekdaysShortRegex=rl,br.weekdaysMinRegex=lo,br.isPM=ed,br.meridiem=Ms;function hl(T,F,Z,J){var he=Oe(),Re=x().set(J,F);return he[Z](Re,T)}function Rh(T,F,Z){if(l(T)&&(F=T,T=void 0),T=T||"",F!=null)return hl(T,F,Z,"month");var J,he=[];for(J=0;J<12;J++)he[J]=hl(T,J,Z,"month");return he}function L(T,F,Z,J){typeof T=="boolean"?(l(F)&&(Z=F,F=void 0),F=F||""):(F=T,Z=F,T=!1,l(F)&&(Z=F,F=void 0),F=F||"");var he=Oe(),Re=T?he._week.dow:0,mt,Ht=[];if(Z!=null)return hl(F,(Z+Re)%7,J,"day");for(mt=0;mt<7;mt++)Ht[mt]=hl(F,(mt+Re)%7,J,"day");return Ht}function ne(T,F){return Rh(T,F,"months")}function B(T,F){return Rh(T,F,"monthsShort")}function me(T,F,Z){return L(T,F,Z,"weekdays")}function De(T,F,Z){return L(T,F,Z,"weekdaysShort")}function Ee(T,F,Z){return L(T,F,Z,"weekdaysMin")}ee("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(T){var F=T%10,Z=le(T%100/10)===1?"th":F===1?"st":F===2?"nd":F===3?"rd":"th";return T+Z}}),t.lang=M("moment.lang is deprecated. Use moment.locale instead.",ee),t.langData=M("moment.langData is deprecated. Use moment.localeData instead.",Oe);var nt=Math.abs;function qe(){var T=this._data;return this._milliseconds=nt(this._milliseconds),this._days=nt(this._days),this._months=nt(this._months),T.milliseconds=nt(T.milliseconds),T.seconds=nt(T.seconds),T.minutes=nt(T.minutes),T.hours=nt(T.hours),T.months=nt(T.months),T.years=nt(T.years),this}function Ft(T,F,Z,J){var he=Ut(F,Z);return T._milliseconds+=J*he._milliseconds,T._days+=J*he._days,T._months+=J*he._months,T._bubble()}function He(T,F){return Ft(this,T,F,1)}function lt(T,F){return Ft(this,T,F,-1)}function yr(T){return T<0?Math.floor(T):Math.ceil(T)}function zt(){var T=this._milliseconds,F=this._days,Z=this._months,J=this._data,he,Re,mt,Ht,or;return T>=0&&F>=0&&Z>=0||T<=0&&F<=0&&Z<=0||(T+=yr(Yt(Z)+F)*864e5,F=0,Z=0),J.milliseconds=T%1e3,he=yt(T/1e3),J.seconds=he%60,Re=yt(he/60),J.minutes=Re%60,mt=yt(Re/60),J.hours=mt%24,F+=yt(mt/24),or=yt(Ct(F)),Z+=or,F-=yr(Yt(or)),Ht=yt(Z/12),Z%=12,J.days=F,J.months=Z,J.years=Ht,this}function Ct(T){return T*4800/146097}function Yt(T){return T*146097/4800}function Zr(T){if(!this.isValid())return NaN;var F,Z,J=this._milliseconds;if(T=Se(T),T==="month"||T==="quarter"||T==="year")switch(F=this._days+J/864e5,Z=this._months+Ct(F),T){case"month":return Z;case"quarter":return Z/3;case"year":return Z/12}else switch(F=this._days+Math.round(Yt(this._months)),T){case"week":return F/7+J/6048e5;case"day":return F+J/864e5;case"hour":return F*24+J/36e5;case"minute":return F*1440+J/6e4;case"second":return F*86400+J/1e3;case"millisecond":return Math.floor(F*864e5)+J;default:throw new Error("Unknown unit "+T)}}function mr(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+le(this._months/12)*31536e6:NaN}function Qt(T){return function(){return this.as(T)}}var Ar=Qt("ms"),dr=Qt("s"),Nt=Qt("m"),Cr=Qt("h"),yn=Qt("d"),Xt=Qt("w"),Ir=Qt("M"),gr=Qt("Q"),er=Qt("y");function pr(){return Ut(this)}function zs(T){return T=Se(T),this.isValid()?this[T+"s"]():NaN}function rs(T){return function(){return this.isValid()?this._data[T]:NaN}}var Cu=rs("milliseconds"),Eu=rs("seconds"),ck=rs("minutes"),hk=rs("hours"),pk=rs("days"),mk=rs("months"),gk=rs("years");function vk(){return yt(this.days()/7)}var Fs=Math.round,Du={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function _k(T,F,Z,J,he){return he.relativeTime(F||1,!!Z,T,J)}function bk(T,F,Z,J){var he=Ut(T).abs(),Re=Fs(he.as("s")),mt=Fs(he.as("m")),Ht=Fs(he.as("h")),or=Fs(he.as("d")),Rr=Fs(he.as("M")),fi=Fs(he.as("w")),Bs=Fs(he.as("y")),po=Re<=Z.ss&&["s",Re]||Re<Z.s&&["ss",Re]||mt<=1&&["m"]||mt<Z.m&&["mm",mt]||Ht<=1&&["h"]||Ht<Z.h&&["hh",Ht]||or<=1&&["d"]||or<Z.d&&["dd",or];return Z.w!=null&&(po=po||fi<=1&&["w"]||fi<Z.w&&["ww",fi]),po=po||Rr<=1&&["M"]||Rr<Z.M&&["MM",Rr]||Bs<=1&&["y"]||["yy",Bs],po[2]=F,po[3]=+T>0,po[4]=J,_k.apply(null,po)}function yk(T){return T===void 0?Fs:typeof T=="function"?(Fs=T,!0):!1}function xk(T,F){return Du[T]===void 0?!1:F===void 0?Du[T]:(Du[T]=F,T==="s"&&(Du.ss=F-1),!0)}function wk(T,F){if(!this.isValid())return this.localeData().invalidDate();var Z=!1,J=Du,he,Re;return typeof T=="object"&&(F=T,T=!1),typeof T=="boolean"&&(Z=T),typeof F=="object"&&(J=Object.assign({},Du,F),F.s!=null&&F.ss==null&&(J.ss=F.s-1)),he=this.localeData(),Re=bk(this,!Z,J,he),Z&&(Re=he.pastFuture(+this,Re)),he.postformat(Re)}var yv=Math.abs;function Mu(T){return(T>0)-(T<0)||+T}function Uh(){if(!this.isValid())return this.localeData().invalidDate();var T=yv(this._milliseconds)/1e3,F=yv(this._days),Z=yv(this._months),J,he,Re,mt,Ht=this.asSeconds(),or,Rr,fi,Bs;return Ht?(J=yt(T/60),he=yt(J/60),T%=60,J%=60,Re=yt(Z/12),Z%=12,mt=T?T.toFixed(3).replace(/\.?0+$/,""):"",or=Ht<0?"-":"",Rr=Mu(this._months)!==Mu(Ht)?"-":"",fi=Mu(this._days)!==Mu(Ht)?"-":"",Bs=Mu(this._milliseconds)!==Mu(Ht)?"-":"",or+"P"+(Re?Rr+Re+"Y":"")+(Z?Rr+Z+"M":"")+(F?fi+F+"D":"")+(he||J||T?"T":"")+(he?Bs+he+"H":"")+(J?Bs+J+"M":"")+(T?Bs+mt+"S":"")):"P0D"}var wr=ji.prototype;wr.isValid=sl,wr.abs=qe,wr.add=He,wr.subtract=lt,wr.as=Zr,wr.asMilliseconds=Ar,wr.asSeconds=dr,wr.asMinutes=Nt,wr.asHours=Cr,wr.asDays=yn,wr.asWeeks=Xt,wr.asMonths=Ir,wr.asQuarters=gr,wr.asYears=er,wr.valueOf=mr,wr._bubble=zt,wr.clone=pr,wr.get=zs,wr.milliseconds=Cu,wr.seconds=Eu,wr.minutes=ck,wr.hours=hk,wr.days=pk,wr.weeks=vk,wr.months=mk,wr.years=gk,wr.humanize=wk,wr.toISOString=Uh,wr.toString=Uh,wr.toJSON=Uh,wr.locale=ud,wr.localeData=dd,wr.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Uh),wr.lang=fd,te("X",0,0,"unix"),te("x",0,0,"valueOf"),at("x",Ye),at("X",et),Pt("X",function(T,F,Z){Z._d=new Date(parseFloat(T)*1e3)}),Pt("x",function(T,F,Z){Z._d=new Date(le(T))});return t.version="2.29.4",r(xr),t.fn=Et,t.min=ia,t.max=yu,t.now=ad,t.utc=x,t.unix=Fh,t.months=ne,t.isDate=g,t.locale=ee,t.invalid=y,t.duration=Ut,t.isMoment=f,t.weekdays=me,t.parseZone=Bh,t.localeData=Oe,t.isDuration=La,t.monthsShort=B,t.weekdaysMin=Ee,t.defineLocale=re,t.updateLocale=fe,t.locales=Ae,t.weekdaysShort=De,t.normalizeUnits=Se,t.relativeTimeRounding=yk,t.relativeTimeThreshold=xk,t.calendarFormat=wu,t.prototype=Et,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});function Ka(e,t,r,n,a,s,o,u){let l=[],g=function(b){return b.ss==="h"?(b.color="#e353e3","#e353e3"):b.ss==="s"?(b.color="#e5dd55","#e5dd55"):(b.color="grey","grey")},h=function(b){let C=l[b.resi];return Hf[C]?(b.color=Hf[C],Hf[C]):(b.color="White","White")},_=function(b){return b.b===1?(b.color="red","red"):b.b===.5?(b.color="black","black"):b.b===50?(b.color="white","white"):b.b===100?(b.color="red","red"):(b.color="blue","blue")},x=function(b){let C=0,f=(1-(b.b-C)/(100-C))*240,M=`rgb(${S(f/360,1,.5).join(",")})`;return b.color=M,M};function S(b,C,E){let p,f,D;if(C===0)p=f=D=E;else{let M=(z,k,I)=>(I<0&&(I+=1),I>1&&(I-=1),I<.16666666666666666?z+(k-z)*6*I:I<.5?k:I<.6666666666666666?z+(k-z)*(.6666666666666666-I)*6:z),P=E<.5?E*(1+C):E+C-E*C,O=2*E-P;p=M(O,P,b+1/3),f=M(O,P,b),D=M(O,P,b-1/3)}return[Math.round(p*255),Math.round(f*255),Math.round(D*255)]}let w=function(b){return b.b>90?(b.color="rgb(0, 81, 214)","rgb(0, 81, 214)"):b.b>70?(b.color="rgb(101, 203, 243)","rgb(101, 203, 243)"):b.b>50?(b.color="rgb(255, 219, 19)","rgb(255, 219, 19)"):(b.color="rgb(255, 125, 69)","rgb(255, 125, 69)")},c=e,v={backgroundColor:"#ffffff"},y=Window.$3Dmol.createViewer(c,v);if(y.addModel(t,"pdb"),o){document.getElementById("colorByDomains").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:h}}),y.render()});for(let[b,C]of Object.entries(o))document.getElementById(C).addEventListener("click",function(){let E=JSON.parse(JSON.stringify(l));for(let[p,f]of Object.entries(l))Number(b)!==Number(f)&&(l[p]=0);y.setStyle({},{cartoon:{colorfunc:h}}),y.render(),l=JSON.parse(JSON.stringify(E))})}if(u){document.getElementById("colorByDomains").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:h}}),y.render()});for(let[b,C]of Object.entries(u))document.getElementById(C).addEventListener("click",function(){let E=JSON.parse(JSON.stringify(l));for(let[p,f]of Object.entries(l))Number(b)!==Number(f)&&(l[p]=0);y.setStyle({},{cartoon:{colorfunc:h}}),y.render(),l=JSON.parse(JSON.stringify(E))})}s?(document.getElementById("colorByBFactor").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:x}}),y.render()}),document.getElementById("colorByDomains").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:h}}),y.render()}),document.getElementById("colorByplDDT").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:w}}),y.render()})):r?y.setStyle({},{cartoon:{colorfunc:g}}):y.setStyle({},{cartoon:{colorfunc:_}}),n&&y.addSurface(Window.$3Dmol.SurfaceType.VDW,{opacity:.8,colorscheme:"whiteCarbon"}),a&&(l=uO(a)[0],y.setStyle({},{cartoon:{colorfunc:h}})),y.zoomTo(),y.render(),y.zoom(1.7,3e3)}function Kf(e,t,r,n){console.log("DECIDING WHERE I AM");let a={endpoints_url:"http://127.0.0.1:8000/analytics_automated/endpoints/",submit_url:"http://127.0.0.1:8000/analytics_automated/submission/",times_url:"http://127.0.0.1:8000/analytics_automated/jobtimes/",joblist_url:"http://127.0.0.1:8000/analytics_automated/job/",gears_svg:"../static/images/gears.svg",app_path:"/interface",files_url:"http://127.0.0.1:8000",location:"Dev",main_url:"http://127.0.0.1"};return e.includes(":3000")&&(a.main_url="http://127.0.0.1:3000"),t==="bioinfstaging1.cs.ucl.ac.uk"?(a.main_url="bioinfstaging3.cs.ucl.ac.uk",a.joblist_url=r+n+"/api/job/",a.endpoints_url=r+n+"/api/endpoints/",a.submit_url=r+n+"/api/submission/",a.times_url=r+n+"/api/jobtimes/",a.files_url=r+n+"/api",a.location="Staging",console.log(a),a):e==="http://bioinf.cs.ucl.ac.uk/psipred_beta"||e.includes("psipred_beta")?(a.app_path=n,a.main_url="bioinf.cs.ucl.ac.uk",a.joblist_url=r+n+"/api/job/",a.endpoints_url=r+n+"/api/endpoints/",a.submit_url=r+n+"/api/submission/",a.times_url=r+n+"/api/jobtimes/",a.files_url=r+n+"/api",a.location="Staging",console.log(a),a):e==="http://bioinf.cs.ucl.ac.uk/psipred_alt"||e.includes("psipred_alt")?(a.app_path="/psipred_alt",a.main_url="bioinf.cs.ucl.ac.uk",a.joblist_url=r+"/psipred_alt/api/job/",a.endpoints_url=r+"/psipred_alt/api/endpoints/",a.submit_url=r+"/psipred_alt/api/submission/",a.times_url=r+"/psipred_alt/api/jobtimes/",a.files_url=r+"/psipred_alt/api",a.location="Staging",console.log(a),a):t==="127.0.0.1"||t==="localhost"?(console.log("dev server using default URIs"),console.log(a),a):(e==="http://bioinf.cs.ucl.ac.uk/psipred/"||e.includes("psipred")?(a.main_url="http://bioinf.cs.ucl.ac.uk/",a.app_path="/psipred",a.joblist_url=r+a.app_path+"/api/job/",a.endpoints_url=r+a.app_path+"/api/endpoints/",a.submit_url=r+a.app_path+"/api/submission/",a.times_url=r+a.app_path+"/api/jobtimes/",a.files_url=r+a.app_path+"/api",a.gears_svg="http://bioinf.cs.ucl.ac.uk/psipred/static/images/gears.svg",a.location="Production",console.log("IN PROD")):(alert("UNSETTING ENDPOINTS WARNING, WARNING! WEBSITE NON FUNCTIONAL"),a.joblist_url="",a.endpoints_url="",a.submit_url="",a.times_url=""),console.log(a),a)}function si(e,t,r){console.log("REQUESTING ASCII DATA: "+t+e);let n=null,a=new XMLHttpRequest;return a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&a.status===200&&(n=a.response)},a.open("GET",t+e,!1),r&&a.setRequestHeader("Accept",r),a.send(),a.onerror=function(){alert("Request failed")},n}function xs(e,t,r,n,a,s,o){let u=null;o?u=(0,Yf.default)(e).DataTable({searching:!0,pageLength:t,order:[o]}):u=(0,Yf.default)(e).DataTable({searching:!0,pageLength:t});var l=(0,Yf.default)(r),g=(0,Yf.default)(n);Yf.default.fn.dataTable.ext.search.push(function(h,_){if(h.nTable.id!==a)return!0;var x=parseFloat(l.val(),10),S=parseFloat(g.val(),10),w=parseFloat(_[s])||0;return!!(isNaN(x)&&isNaN(S)||isNaN(x)&&w<=S||x<=w&&isNaN(S)||x<=w&&w<=S)}),l.on("input",function(){u.draw()}),g.on("input",function(){u.draw()})}function xO(e){console.log(e),console.log("Sending form data");var t=null;try{t=new Blob([e.seq])}catch(n){alert(n)}if(e.pdbData)try{t=new Blob([e.pdbData])}catch(n){alert(n)}let r=new FormData;return console.log("JOB NAME: "+e.name),r.append("input_data",t,"input.txt"),r.append("job",e.jobs.join(",")),r.append("submission_name",e.name),r.append("email",e.email),e.jobs.includes("dompred")&&(r.append("psiblast_dompred_evalue",e.dompred_e_value_cutoff),r.append("psiblast_dompred_iterations",e.dompred_psiblast_iterations)),e.jobs.includes("metsite")&&(r.append("metsite_checkchains_chain",e.metsite_chain_id),r.append("extract_fasta_chain",e.metsite_chain_id),r.append("seedSiteFind_metal",e.metsite_metal_type),r.append("seedSiteFind_chain",e.metsite_chain_id),r.append("metpred_wrapper_chain",e.metsite_chain_id),r.append("metpred_wrapper_metal",e.metsite_metal_type),r.append("metpred_wrapper_fpr",e.metsite_fpr)),e.jobs.includes("hspred")&&(r.append("hspred_checkchains_chains",e.hspred_protein_1+e.hspred_protein_2),r.append("hs_pred_first_chain",e.hspred_protein_1),r.append("hs_pred_second_chain",e.hspred_protein_2),r.append("split_pdb_files_first_chain",e.hspred_protein_1),r.append("split_pdb_files_second_chain",e.hspred_protein_2)),e.jobs.includes("memembed")&&(r.append("memembed_algorithm",e.memembed_algorithm),r.append("memembed_barrel",e.memembed_barrel),r.append("memembed_termini",e.memembed_terminal)),e.jobs.includes("ffpred")&&r.append("ffpred_selection",e.ffpred_selection),e.jobs.includes("merizo")&&r.append("merizo_iterate",e.merizo_iterate),e.jobs.includes("merizosearch")&&(r.append("merizosearch_iterate",e.merizosearch_iterate),r.append("merizosearch_db",e.merizosearch_db)),r}function wO(e){let t={loading_message:null};for(let[r,n]of Object.entries(e))t[r]=CR.duration(n*1e3).humanize();return t}function SO(e,t){_g(e.annotations,{parent:t,margin_scaler:2,debug:!1,container_width:900,width:900,height:e.annotation_panel_height,container_height:e.annotation_panel_height})}function xg(e){let t="",r=0;return e.steps.forEach(function(n){n.task.configuration.length>0&&(n.task.configuration.forEach(function(a){t+=e.name+",",t+=r+",",t+=a.type+",",t+=a.name+",",t+=a.version+",",t+='"'+a.parameters+`"
`}),r+=1)}),t}var Yf,CR,Sn=ae(()=>{Yf=en(oc());N0();mh();Aw();ai();CR=yO()});var EO=Pn((yfe,CO)=>{CO.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(a){e.addRange(a)}),t&&t.focus()}}});var AO=Pn((xfe,MO)=>{"use strict";var ER=EO(),DO={"text/plain":"Text","text/html":"Url",default:"Text"},DR="Copy to clipboard: #{key}, Enter";function MR(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function AR(e,t){var r,n,a,s,o,u,l=!1;t||(t={}),r=t.debug||!1;try{a=ER(),s=document.createRange(),o=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(h){if(h.stopPropagation(),t.format)if(h.preventDefault(),typeof h.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var _=DO[t.format]||DO.default;window.clipboardData.setData(_,e)}else h.clipboardData.clearData(),h.clipboardData.setData(t.format,e);t.onCopy&&(h.preventDefault(),t.onCopy(h.clipboardData))}),document.body.appendChild(u),s.selectNodeContents(u),o.addRange(s);var g=document.execCommand("copy");if(!g)throw new Error("copy command was unsuccessful");l=!0}catch(h){r&&console.error("unable to copy using execCommand: ",h),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(_){r&&console.error("unable to copy using clipboardData: ",_),r&&console.error("falling back to prompt"),n=MR("message"in t?t.message:DR),window.prompt(n,e)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),u&&document.body.removeChild(u),a()}return l}MO.exports=AR});var IO=Pn(Cg=>{"use strict";function Lw(e){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lw(e)}Object.defineProperty(Cg,"__esModule",{value:!0});Cg.CopyToClipboard=void 0;var wg=kO(Nn()),TR=kO(AO()),LR=["text","onCopy","options","children"];function kO(e){return e&&e.__esModule?e:{default:e}}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){kw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OR(e,t){if(e==null)return{};var r=kR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kR(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function PR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NR(e,t,r){return t&&OO(e.prototype,t),r&&OO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}function Ow(e,t){return Ow=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Ow(e,t)}function zR(e){var t=BR();return function(){var n=Sg(e),a;if(t){var s=Sg(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return FR(this,a)}}function FR(e,t){if(t&&(Lw(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PO(e)}function PO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(e)}function kw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NO=function(e){IR(r,e);var t=zR(r);function r(){var n;PR(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),kw(PO(n),"onClick",function(u){var l=n.props,g=l.text,h=l.onCopy,_=l.children,x=l.options,S=wg.default.Children.only(_),w=(0,TR.default)(g,x);h&&h(g,w),S&&S.props&&typeof S.props.onClick=="function"&&S.props.onClick(u)}),n}return NR(r,[{key:"render",value:function(){var a=this.props,s=a.text,o=a.onCopy,u=a.options,l=a.children,g=OR(a,LR),h=wg.default.Children.only(l);return wg.default.cloneElement(h,LO(LO({},g),{},{onClick:this.onClick}))}}]),r}(wg.default.PureComponent);Cg.CopyToClipboard=NO;kw(NO,"defaultProps",{onCopy:void 0,options:void 0})});var Nw=Pn((Sfe,zO)=>{"use strict";var RR=IO(),Pw=RR.CopyToClipboard;Pw.CopyToClipboard=Pw;zO.exports=Pw});var bt,FO,Eg,BO=ae(()=>{bt=en(Nn());Sn();Sn();Sn();Sn();FO=en(Nw());Sn();ai();ai();ai();ai();ai();ai();ai();ai();ai();ai();mh();mh();N0();mh();Eg=class extends bt.default.Component{constructor(t){super(t);let r=this.props.seq.split(""),n=[];r.forEach(function(s){n.push({res:s})});let a=(Math.ceil(n.length/50)+2)*20+13*20;a<410&&(a=410),this.state={annotations:n,psipred_results:null,disopred_results:null,memsatsvm_results:null,pgenthreader_results:null,annotation_panel_height:a},this.sequencePlot=bt.default.createRef(),this.horizPlot=bt.default.createRef(),this.disopredPlot=bt.default.createRef(),this.memsatSVMSchematic=bt.default.createRef(),this.memsatSVMCartoon=bt.default.createRef(),this.pgenthreaderTable=bt.default.createRef(),this.dmp_plot=bt.default.createRef(),this.genthreaderTable=bt.default.createRef(),this.pdomthreaderTable=bt.default.createRef(),this.dmpfold_pdb=bt.default.createRef(),this.s4pred_horiz=bt.default.createRef(),this.dompred_chart=bt.default.createRef(),this.dompred_results=bt.default.createRef(),this.ffpred_memsat=bt.default.createRef(),this.ffpred_tables=bt.default.createRef(),this.ffpred_sch=bt.default.createRef(),this.aa_comp=bt.default.createRef(),this.global_features=bt.default.createRef(),this.mempack_plot=bt.default.createRef(),this.gen_table_initialised=!1,this.pdom_table_initialised=!1,this.pgen_table_initialised=!1,this.dmpmetal_table=bt.default.createRef(),this.timer=null}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null),console.log("RUNNING COMPONENT DID UPDATE",this.state);for(let l in this.state.psipred_results)if(l.includes(".horiz")){let g=this.state.psipred_results[l],h=(g.match(/Conf/g)||[]).length,_=6*30*(h+1)+120;qo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}for(let l in this.state.dompred_results)if(l.includes(".horiz")){let g=this.state.dompred_results[l],h=(g.match(/Conf/g)||[]).length,_=6*30*(h+1)+120;qo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}for(let l in this.state.ffpred_results)if(l.includes(".horiz")){let g=this.state.ffpred_results[l],h=(g.match(/Conf/g)||[]).length,_=6*30*(h+1)+120;qo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}for(let l in this.state.disopred_results)if(l.includes(".comb")){let g=this.state.disopred_results[l],h=gO(g);rO(h,"pos",["precision"],["Black"],"DisoNNChart",{parent:this.disopredPlot.current,chartType:"line",y_cutoff:.5,margin_scaler:2,debug:!1,container_width:900,width:900,height:300,container_height:300})}for(let l in this.state.memsatsvm_results){if(l.includes("_schematic.png")){let g=this.state.memsatsvm_results[l],h=document.createElement("img");h.src=g,h.alt="Memsat Schematic diagram",this.memsatSVMSchematic.current.appendChild(h),h=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(h)}if(l.includes("_cartoon_memsat_svm.png")){let g=this.state.memsatsvm_results[l],h=document.createElement("img");h.src=g,h.alt="Memsat Cartoon diagram",this.memsatSVMSchematic.current.appendChild(h),h=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(h)}}let r={},n={},a={};for(let l in this.state.pgenthreader_results)if(l.includes(".ann")){let g=l.substring(0,l.lastIndexOf(".")),h=g.substring(g.lastIndexOf(".")+1,g.length);r[h]={},r[h].ann=g+".ann",r[h].aln=g+".aln"}for(let l in this.state.pgenthreader_results){if(l.includes(".horiz")){let g=this.state.pgenthreader_results[l],h=(g.match(/Conf/g)||[]).length,_=6*30*(h+1)+120;qo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}if(l.includes(".presults")){let g=this.state.pgenthreader_results[l],h=yg(g,r,"pgen");var s=document.createElement("template");s.innerHTML=h,this.pgenthreaderTable.current.appendChild(s.content)}}this.state.pgenthreader_results&&this.pgen_table_initialised===!1&&(xs("#pgen_table",50,"#min_pgen_pval","#max_pgen_pval","pgen_table",2,null),this.pgen_table_initialised=!0);for(let l in this.state.genthreader_results){if(l.includes(".ann")){let g=l.substring(0,l.lastIndexOf(".")),h=g.substring(g.lastIndexOf(".")+1,g.length);n[h]={},n[h].ann=g+".ann",n[h].aln=g+".aln"}if(l.includes(".presults")){let g=this.state.genthreader_results[l],h=yg(g,n,"gen");var o=document.createElement("template");o.innerHTML=h,this.genthreaderTable.current.appendChild(o.content)}}this.state.genthreader_results&&this.gen_table_initialised===!1&&(xs("#gen_table",50,"#min_gen_pval","#max_gen_pval","gen_table",2,null),this.gen_table_initialised=!0);for(let l in this.state.pdomthreader_results)if(l.includes(".ann")){let g=l.substring(0,l.lastIndexOf(".")),h=g.substring(g.lastIndexOf(".")+1,g.length);a[h]={},a[h].ann=g+".ann",a[h].aln=g+".aln"}for(let l in this.state.pdomthreader_results){if(l.includes(".horiz")){let g=this.state.pdomthreader_results[l],h=(g.match(/Conf/g)||[]).length,_=6*30*(h+1)+120;qo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}if(l.includes(".presults")){let g=this.state.pdomthreader_results[l],h=yg(g,a,"dgen");var u=document.createElement("template");u.innerHTML=h,this.pdomthreaderTable.current.appendChild(u.content)}}this.state.pdomthreader_results&&this.pdom_table_initialised===!1&&(xs("#pdom_table",50,"#min_pdom_pval","#max_pdom_pval","pdom_table",2,null),this.pdom_table_initialised=!0);for(let l in this.state.dmp_results){if(l.includes(".horiz")){let g=this.state.dmp_results[l],h=(g.match(/Conf/g)||[]).length,_=6*30*(h+1)+120;qo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}if(l.includes("png")){let g=this.state.dmp_results[l],h=document.createElement("img");h.src=g,h.alt="DMP Contact Map",this.dmp_plot.current.appendChild(h),h=document.createElement("br"),this.dmp_plot.current.appendChild(h)}}for(let l in this.state.dmpfold_results)l.includes(".pdb")&&Ka(this.dmpfold_pdb.current,this.state.dmpfold_results[l],!0,!1);for(let l in this.state.s4pred_results)if(l.includes(".horiz")){let g=this.state.s4pred_results[l],h=(g.match(/Conf/g)||[]).length,_=6*30*(h+1)+120;qo(g,"psipredChart",{parent:this.s4pred_horiz.current,margin_scaler:2,width:900,container_width:900,height:_,container_height:_})}for(let l in this.state.dompred_results){if(l.includes(".png")){let g=this.state.dompred_results[l],h=document.createElement("img");h.src=g,h.alt="Dompred Chart",this.dompred_chart.current.appendChild(h),h=document.createElement("br"),this.dompred_chart.current.appendChild(h)}if(l.includes(".boundary")){let g=this.state.dompred_results[l],_=/Domain\sBoundary\slocations\spredicted\sDPS:\s(.+)/.exec(g),x=document.createElement("h4");x.innerText+=g,_?x.innerText+=g:x.innerText+="No ParseDS Domain boundaries predicted",this.dompred_results.current.appendChild(x)}}for(let l in this.state.ffpred_results){if(l.includes("_cartoon_memsat_svm.png")){let g=this.state.ffpred_results[l],h=document.createElement("div");h.className="center";let _=document.createElement("img");_.src=g,_.alt="Memsat Cartoon diagram",h.append(_),this.ffpred_memsat.current.appendChild(h),_=document.createElement("br"),this.ffpred_memsat.current.appendChild(_)}if(l.includes("_sch.png")){let g=this.state.ffpred_results[l],h=document.createElement("div");h.className="center";let _=document.createElement("img");_.src=g,_.alt="FFPred Feature Schematic",h.append(_),this.ffpred_sch.current.appendChild(h),_=document.createElement("br"),this.ffpred_sch.current.appendChild(_)}if(l.includes(".featcfg")){let g=this.state.ffpred_results[l],h=hO(g),_=h[0],x=h[1];s=document.createElement("template"),s.innerHTML=_,this.global_features.current.appendChild(s.content),s=document.createElement("template"),s.innerHTML=x,this.aa_comp.current.appendChild(s.content)}if(l.includes(".full_formatted")){let g=this.state.ffpred_results[l],h=cO(g);s=document.createElement("template"),s.innerHTML=h,this.ffpred_tables.current.appendChild(s.content)}}this.state.ffpred_results&&(xs("#bp_table",50,"#min_bp_prob","#max_bp_prob","bp_table",2,[3,"asc"]),xs("#mf_table",50,"#min_mf_prob","#max_mf_prob","mf_table",2,[3,"asc"]),xs("#cc_table",50,"#min_cc_prob","#max_cc_prob","cc_table",2,[3,"asc"]));for(let l in this.state.mempack_results){if(l.includes("_Kamada-Kawai_1.png")){let g=this.state.mempack_results[l],h=document.createElement("img");h.src=g,h.alt="Mempack Diagram",h.setAttribute("width","60%"),this.mempack_plot.current.appendChild(h),h=document.createElement("br"),this.mempack_plot.current.appendChild(h)}if(l.includes("_schematic.png")){let g=this.state.mempack_results[l],h=document.createElement("img");h.src=g,h.alt="Memsat Schematic diagram",this.memsatSVMSchematic.current.appendChild(h),h=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(h)}if(l.includes("_cartoon_memsat_svm.png")){let g=this.state.mempack_results[l],h=document.createElement("img");h.src=g,h.alt="Memsat Cartoon diagram",this.memsatSVMSchematic.current.appendChild(h),h=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(h)}}for(let l in this.state.dmpmetal_results)if(l.includes(".dmpmetal")){let g=this.state.dmpmetal_results[l],h=oO(g),_=document.createElement("template");_.innerHTML=h,this.dmpmetal_table.current.appendChild(_.content)}console.log("UPDATING ANNOTATION GRID"),_g(this.state.annotations,{parent:this.sequencePlot.current,margin_scaler:2,debug:!1,container_width:900,width:900,height:this.state.annotation_panel_height,container_height:this.state.annotation_panel_height})}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,u=a.data_path.split("/")[2];n[u]=o}else if(r.results_map.includes(s))try{let o=si(a.data_path,r.files_url),u=a.data_path.split("/")[2];n[u]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk  providing the following information; submission data, submission email address, analyses you had selected and the job name."+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},u=this.state.annotations,l={};s.submissions.forEach(g=>{n=this.getResultsFiles(g.results,this.props),o[g.job_name]=n,l[g.job_name]=n;let h=si(g.job_name,r,"application/json");a+=xg(JSON.parse(h));for(let _ in n)_.includes(".ss2")&&(console.log("Found SS2 and parsing"),u=pO(u,n[_])),_.includes(".pbdat")&&(console.log("Found PDBAT and parsing"),u=mO(u,n[_])),_.includes(".memsat_svm")&&(console.log("Found MEMSAT_SVM and parsing"),u=vO(u,n[_])),_.includes(".boundary")&&(console.log("Found Dompred and parsing"),u=_O(u,n[_])),_.includes(".dmpmetal")&&(console.log("Found DMPmetal and parsing"),u=sO(u,n[_]));this.setState({psipred_results:o.psipred,disopred_results:o.disopred,memsatsvm_results:o.memsatsvm,pgenthreader_results:o.pgenthreader,dmp_results:o.dmp,genthreader_results:o.genthreader,pdomthreader_results:o.pdomthreader,dmpfold_results:o.dmpfold,s4pred_results:o.s4pred,dompred_results:o.dompred,ffpred_results:o.ffpred,mempack_results:o.mempack,dmpmetal_results:o.dmpmetal,annotations:u})}),console.log(o),this.props.updateResultsFiles(l),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw console.log("hello"),new Error("Job Failed")}}).catch(async s=>{let o="";try{let u=await s.json().then(l=>l);u.error&&(o.message=u.error),u.error.input_data&&(o.message=u.error.input_data)}catch{o=s}return console.log(o.message),console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidMount(){console.log("DRAWING EMPTY ANNOTATION PANEL"),SO(this.state,this.sequencePlot.current),this.timer=setInterval(()=>this.getResults(),2e4)}renderPanel(t,r,n,a,s,o,u){return bt.default.createElement("div",{className:"box box-primary collapsed-box",id:t},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},r),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,o)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:u})),bt.default.createElement("div",{className:n,id:a,ref:s})))}render(){return bt.default.createElement("div",null,this.props.uuid&&bt.default.createElement("div",{className:"info-box bg-default job_info"},bt.default.createElement("span",{className:"info-box-icon job_info"},bt.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),bt.default.createElement("div",{className:"info-box-content"},bt.default.createElement("div",{className:"job_info_text job_info_text_left"},bt.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),bt.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",bt.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),bt.default.createElement(FO.CopyToClipboard,{text:this.props.result_uri},bt.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},bt.default.createElement("img",{src:"http://127.0.0.1:3000//static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.uuid&&bt.default.createElement("div",{className:"box box-primary"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},"Sequence Plot"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"","data-original-title":"Collapse"},bt.default.createElement("i",{className:"fa fa-minus"})))),bt.default.createElement("div",{className:"box-body"},bt.default.createElement("div",{className:"sequence_plot",id:"sequence_plot",ref:this.sequencePlot}),bt.default.createElement("br",null)),this.props.waiting&&bt.default.createElement("div",{className:"overlay processing"},bt.default.createElement("i",{className:"fa fa-refresh fa-spin"}))),(this.props.analyses.includes("psipred_job")||this.props.analyses.includes("pgenthreader_job")||this.props.analyses.includes("dmp_job")||this.props.analyses.includes("dompred_job")||this.props.analyses.includes("ffpred_job"))&&bt.default.createElement("div",null,this.renderPanel("psipred_cartoon",this.props.job_strings.psipred.shortName+" Cartoon","psipred_cartoon","psipred_horiz",this.horizPlot,this.state.psipred_waiting_message,this.state.psipred_waiting_icon)),this.props.analyses.includes("disopred_job")&&bt.default.createElement("div",null,this.renderPanel("disorder_plot",this.props.job_strings.disopred.shortName+" Plot","disorder_plot","pdisorder_svg",this.disopredPlot,this.state.disopred_waiting_message,this.state.disopred_waiting_icon)),(this.props.analyses.includes("memsatsvm_job")||this.props.analyses.includes("mempack_job"))&&bt.default.createElement("div",{className:"box box-primary collapsed-box",id:"memsatsvm_schematics"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},this.props.job_strings.memsatsvm.shortName," Schematics"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,this.props.memsatsvm_waiting_message)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:this.props.memsatsvm_waiting_icon})),bt.default.createElement("div",{className:"memsatsvm_schematic",id:"memsatsvm_schematic",ref:this.memsatSVMSchematic}),bt.default.createElement("div",{className:"memsatsvm_cartoon",id:"memsatsvm_cartoon",ref:this.memsatSVMCartoon}))),this.props.analyses.includes("pgenthreader_job")&&bt.default.createElement("div",null,this.renderPanel("pgen_table_box",this.props.job_strings.pgenthreader.shortName+" Structural Results","pgen_table_div","pgenthreader_table",this.pgenthreaderTable,this.props.pgenthreader_waiting_message,this.props.pgenthreader_waiting_icon)),this.props.analyses.includes("dmp_job")&&bt.default.createElement("div",null,this.renderPanel("dmp_contact_map",this.props.job_strings.dmp.shortName+" Contact Plot","dmp_plot_div","dmp_plot",this.dmp_plot,this.props.dmp_waiting_message,this.props.dmp_waiting_icon)),this.props.analyses.includes("genthreader_job")&&bt.default.createElement("div",null,this.renderPanel("gen_table_box",this.props.job_strings.genthreader.shortName+" Structural Results","gen_table_div","genthreader_table",this.genthreaderTable,this.props.genthreader_waiting_message,this.props.genthreader_waiting_icon)),this.props.analyses.includes("pdomthreader_job")&&bt.default.createElement("div",null,this.renderPanel("pdom_table_box",this.props.job_strings.pdomthreader.shortName+" Structural Results","pdom_table_div","pdomthreader_table",this.pdomthreaderTable,this.props.pdomthreader_waiting_message,this.props.pdomthreader_waiting_icon)),this.props.analyses.includes("dmpfold_job")&&bt.default.createElement("div",null,this.renderPanel("dmpfold_pdb",this.props.job_strings.dmpfold.shortName+" prediction","pdb_panel_class","dmp_pdb_id",this.dmpfold_pdb,this.props.dmpfold_waiting_message,this.props.dmpfold_waiting_icon)),this.props.analyses.includes("s4pred_job")&&bt.default.createElement("div",null,this.renderPanel("s4pred_cartoon",this.props.job_strings.s4pred.shortName+" Cartoon","s4pred_cartoon","s4pred_horiz",this.s4pred_horiz,this.props.s4pred_waiting_message,this.props.dmpfold_waiting_icon)),this.props.analyses.includes("dompred_job")&&bt.default.createElement("div",{className:"box box-primary collapsed-box",id:"dompred_results"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},this.props.job_strings.dompred.shortName," Results"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,this.props.dompred_waiting_message)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:this.props.dompred_waiting_icon})),bt.default.createElement("div",{className:"dompred_results",id:"dompread_results",ref:this.dompred_results}),bt.default.createElement("div",{className:"dompred_chart",id:"dompred_chart",ref:this.dompred_chart}))),this.props.analyses.includes("ffpred_job")&&bt.default.createElement("div",{className:"box box-primary collapsed-box",id:"ffpred_schematics"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},this.props.job_strings.ffpred.shortName," Predictions"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,this.props.ffpred_waiting_message)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:this.props.ffpred_waiting_icon})),bt.default.createElement("p",null,"These prediction terms represent terms predicted where SVM training includes assigned GO terms across all evidence code types. SVM reliability is regarded as High (H) when MCC, sensitivity, specificity and precision are jointly above a given threshold, Otherwise Reliability is indicated as Low (L). "),bt.default.createElement("div",{className:"ffpred_bp_table",id:"ffpred_bp_table",ref:this.ffpred_tables}),bt.default.createElement("h4",null,"Sequence Feature Map"),bt.default.createElement("p",null,"Position dependent feature predictions are mapped onto the sequence schematic shown below. The line height of the Phosphorylation and Glycosylation features reflects the confidence of the residue prediction."),bt.default.createElement("div",{className:"ffpred_sch",id:"ffpred_sch",ref:this.ffpred_sch}),bt.default.createElement("h4",null,"Predicted Transmembrane Topology"),bt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.ffpred_memsat}),bt.default.createElement("h4",null,"Amino Acid Composition"),bt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.aa_comp}),bt.default.createElement("h4",null,"Global Features"),bt.default.createElement("p",null,"Global features are calculated directly from sequence. Localisation values are predicted by the Psort algorithm and reflect the relative likelihood of the protein occupying different cellular localisations. The bias column is highlighted according to the significance of the feature value calculated from Z score of the feature."),bt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.global_features}))),this.props.analyses.includes("mempack_job")&&bt.default.createElement("div",null,this.renderPanel("mempack_pane",this.props.job_strings.mempack.shortName+" Cartoon","mempack_plot","mempack_plot",this.mempack_plot,this.props.mempack_waiting_message,this.props.mempack_waiting_icon)),this.props.analyses.includes("dmpmetal_job")&&bt.default.createElement("div",null,this.renderPanel("dmpmetal_table",this.props.job_strings.dmpmetal.shortName+" Table","dmpmetal_table","dmpmetal_table",this.dmpmetal_table,this.props.dmpmetal_waiting_message,this.props.dmpmetal_waiting_icon)))}}});var dt,RO,Iw,Dg,UO=ae(()=>{dt=en(Nn());Sn();Sn();Sn();Sn();RO=en(Nw());ai();ai();ai();ai();Iw=en(oc());N0();Dg=class extends dt.default.Component{constructor(t){super(t),this.state={},this.metsite_pdb=dt.default.createRef(),this.metsite_table=dt.default.createRef(),this.hspred_initial_pdb=dt.default.createRef(),this.hspred_second_pdb=dt.default.createRef(),this.hspred_table=dt.default.createRef(),this.memembed_pdb=dt.default.createRef(),this.merizo_pdb=dt.default.createRef(),this.merizo_boundaries=dt.default.createRef(),this.merizo_pdb_sidebar=dt.default.createRef(),this.merizosearch_pdb=dt.default.createRef(),this.merizosearch_results_table=dt.default.createRef(),this.merizosearch_alt_results_table=dt.default.createRef(),this.timer=null}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null);for(let g in this.state.metsite_results)if(g.includes(".MetPred")&&Ka(this.metsite_pdb.current,this.state.metsite_results[g],!1,!1,!1),g.includes(".Metpred")){let h=this.state.metsite_results[g],_=dO(h);var r=document.createElement("template");r.innerHTML=_,this.metsite_table.current.appendChild(r.content)}this.state.metsite_results&&xs("#metsite_table",10,"#min_met_score","#max_met_score","metsite_table",1,null);for(let g in this.state.hspred_results)if(g.includes("_initial.pdb")&&Ka(this.hspred_initial_pdb.current,this.state.hspred_results[g],!1,!1,!1),g.includes("_second.pdb")&&Ka(this.hspred_second_pdb.current,this.state.hspred_results[g],!1,!1,!1),g.includes(".out")){let h=this.state.hspred_results[g],_=fO(h),x=document.createElement("template");x.innerHTML=_,this.hspred_table.current.appendChild(x.content)}this.state.hspred_results&&xs("#hspred_table",50,"#min_hs_score","#max_hs_score","hspred_table",2,[2,"desc"]);for(let g in this.state.memembed_results)g.includes(".pdb")&&Ka(this.memembed_pdb.current,this.state.memembed_results[g],!1,!0,!1);for(let g in this.state.merizo_results){let h=g.slice(0,-15);if(g.includes("_v2.pdb2")){let _=this.state.merizo_results[h+"_merizo_v2.idx"];var n=document.getElementById("merizo_sidebar_bg");n.style.display="inline-block",n.style.verticalAlign="top",n.style.width="200px",n.style.height="400px",n.style.position="relative",n.style.left="0px",n.style.backgroundColor="#ffffff";var a=document.createElement("template");a.innerHTML='<h4><b>Colouring Options</b></h4><div class="btn-group btn-group-justified">',a.innerHTML+='<button class="btn btn-secondary btn-block merizo_buttons" id="colorByDomains">Domains&nbsp</button><br />',a.innerHTML+='<button class="btn btn-secondary btn-block merizo_buttons" id="colorByBFactor">B-factor as temperature</button><br />',a.innerHTML+='<button class="btn btn-secondary btn-block merizo_buttons" id="colorByplDDT">B-factor as plDDT score</button><br />',a.innerHTML+="</div>",this.merizo_pdb_sidebar.current.appendChild(a.content),Ka(this.merizo_pdb.current,this.state.merizo_results[g],!1,!1,_,!0)}if(g.includes(".merizo")){let _=this.state.merizo_results[g];console.log(_);let x=lO(_);var s=document.createElement("template");s.innerHTML=x,this.merizo_boundaries.current.appendChild(s.content)}}let o={},u={};for(let g in this.state.merizosearch_results)if(g.includes("search.tsv")){let h=this.state.merizosearch_results[g],{html:_,data:x,althtml:S,domdata:w,tableids:c}=bO(h);o=x,u=w;var r=document.createElement("template");r.innerHTML=_,this.merizosearch_results_table.current.appendChild(r.content);let y=(0,Iw.default)("#toptmtable").DataTable({searching:!1,paging:!1,ordering:!0,order:[[1,"asc"]]});var l=document.createElement("template");l.innerHTML=S,this.merizosearch_alt_results_table.current.appendChild(l.content),c.forEach(function(b){console.log(b);let C=(0,Iw.default)("#"+b).DataTable({searching:!1,paging:!1,ordering:!0,order:[[7,"dsc"]]})})}for(let g in this.state.merizosearch_results){let h=g.slice(0,-12);if(g.includes(".pdb2")){let _=this.state.merizosearch_results[h+"_merizo.idx"];Ka(this.merizosearch_pdb.current,this.state.merizosearch_results[g],!1,!1,_,!1,o,u)}}}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,u=a.data_path.split("/")[2];n[u]=o}else if(r.results_map.includes(s))try{let o=si(a.data_path,r.files_url),u=a.data_path.split("/")[2];n[u]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk  providing the following information; submission data, submission email address, analyses you had selected and the job name."+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},u={};s.submissions.forEach(l=>{n=this.getResultsFiles(l.results,this.props),o[l.job_name]=n,u[l.job_name]=n;let g=si(l.job_name,r,"application/json");a+=xg(JSON.parse(g)),this.setState({metsite_results:o.metsite,hspred_results:o.hspred,memembed_results:o.memembed,merizo_results:o.merizo,merizosearch_results:o.merizosearch})}),this.props.updateResultsFiles(u),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw new Error("Job Failed")}}).catch(async s=>{let o="";try{let u=await s.json().then(l=>l);u.error&&(o.message=u.error),u.error.input_data&&(o.message=u.error.input_data)}catch{o=s}return console.log(o.message),console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidMount(){this.timer=setInterval(()=>this.getResults(),500)}renderPanel(t,r,n,a,s,o,u){return dt.default.createElement("div",{className:"box box-primary collapsed-box",id:t},dt.default.createElement("div",{className:"box-header with-border"},dt.default.createElement("h5",{className:"box-title"},r),dt.default.createElement("div",{className:"box-tools pull-right"},dt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},dt.default.createElement("i",{className:"fa fa-plus"})))),dt.default.createElement("div",{className:"box-body"},this.state.error_message&&dt.default.createElement("div",{className:"error"},this.state.error_message),dt.default.createElement("div",{className:n,id:a,ref:s}),this.props.waiting&&dt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},dt.default.createElement("br",null),dt.default.createElement("h4",null,o)),this.props.waiting&&dt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},u),this.props.waiting&&dt.default.createElement("div",{className:"overlay processing"},dt.default.createElement("i",{className:"fa fa-refresh fa-spin"}))))}render(){return dt.default.createElement("div",null,this.props.uuid&&dt.default.createElement("div",{className:"info-box bg-default job_info"},dt.default.createElement("span",{className:"info-box-icon job_info"},dt.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),dt.default.createElement("div",{className:"info-box-content"},dt.default.createElement("div",{className:"job_info_text job_info_text_left"},dt.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),dt.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",dt.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),dt.default.createElement(RO.CopyToClipboard,{text:this.props.result_uri},dt.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},dt.default.createElement("img",{src:"http://127.0.0.1:3000//static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.analyses.includes("metsite_job")&&dt.default.createElement("div",{className:"box box-primary",id:"metsite_preds"},dt.default.createElement("div",{className:"box-header with-border"},dt.default.createElement("h5",{className:"box-title"},this.props.job_strings.metsite.shortName," Predictions"),dt.default.createElement("div",{className:"box-tools pull-right"},dt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},dt.default.createElement("i",{className:"fa fa-plus"})))),dt.default.createElement("div",{className:"box-body"},this.state.error_message&&dt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&dt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},dt.default.createElement("br",null),dt.default.createElement("h4",null,this.props.metsite_waiting_message)),this.props.waiting&&dt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},dt.default.createElement("img",{alt:"waiting icon",src:this.props.metsite_waiting_icon})),dt.default.createElement("div",{className:"metsite_structure pdb_panel_class",id:"metsite_structure",ref:this.metsite_pdb}),dt.default.createElement("div",{className:"metsite_table_holder",id:"metsite_table_holder",ref:this.metsite_table}))),this.props.analyses.includes("hspred_job")&&dt.default.createElement("div",{className:"box box-primary",id:"hspred_preds"},dt.default.createElement("div",{className:"box-header with-border"},dt.default.createElement("h5",{className:"box-title"},this.props.job_strings.hspred.shortName," Predictions"),dt.default.createElement("div",{className:"box-tools pull-right"},dt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},dt.default.createElement("i",{className:"fa fa-plus"})))),dt.default.createElement("div",{className:"box-body"},this.state.error_message&&dt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&dt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},dt.default.createElement("br",null),dt.default.createElement("h4",null,this.props.hspred_waiting_message)),this.props.waiting&&dt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},dt.default.createElement("img",{alt:"waiting icon",src:this.props.hspred_waiting_icon})),dt.default.createElement("div",null,dt.default.createElement("div",{className:"hspred_structure pdb_panel_class",id:"hs_pred_initial",ref:this.hspred_initial_pdb}),dt.default.createElement("div",{className:"hspred_structure pdb_panel_class",id:"hs_pred_second",ref:this.hspred_second_pdb})),dt.default.createElement("div",{className:"hspred_table_holder",id:"hspred_table_holder",ref:this.hspred_table}))),this.props.analyses.includes("memembed_job")&&dt.default.createElement("div",{className:"box box-primary",id:"memembed_preds"},dt.default.createElement("div",{className:"box-header with-border"},dt.default.createElement("h5",{className:"box-title"},this.props.job_strings.memembed.shortName," Prediction"),dt.default.createElement("div",{className:"box-tools pull-right"},dt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},dt.default.createElement("i",{className:"fa fa-plus"})))),dt.default.createElement("div",{className:"box-body"},this.state.error_message&&dt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&dt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},dt.default.createElement("br",null),dt.default.createElement("h4",null,this.props.memembed_waiting_message)),this.props.waiting&&dt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},dt.default.createElement("img",{alt:"waiting icon",src:this.props.memembed_waiting_icon})),dt.default.createElement("div",{className:"memembed_pdb pdb_panel_class",id:"memembed",ref:this.memembed_pdb}))),this.props.analyses.includes("merizo_job")&&dt.default.createElement("div",{className:"box box-primary",id:"merizo_preds"},dt.default.createElement("div",{className:"box-header with-border"},dt.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizo.shortName," Prediction"),dt.default.createElement("div",{className:"box-tools pull-right"},dt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},dt.default.createElement("i",{className:"fa fa-plus"})))),dt.default.createElement("div",{className:"box-body"},this.state.error_message&&dt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&dt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},dt.default.createElement("br",null),dt.default.createElement("h4",null,this.props.merizo_waiting_message)),this.props.waiting&&dt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},dt.default.createElement("img",{alt:"waiting icon",src:this.props.merizo_waiting_icon})),dt.default.createElement("div",{className:"pdb_panel_class_merizo_options",id:"merizo_sidebar_bg",ref:this.merizo_pdb_sidebar}),dt.default.createElement("div",{className:"merizo_pdb pdb_panel_class_merizo",id:"merizo_pdb_panel",ref:this.merizo_pdb}),dt.default.createElement("div",{className:"merizo_boundaries",id:"merizo_boundary_table",ref:this.merizo_boundaries}))),this.props.analyses.includes("merizosearch_job")&&dt.default.createElement("div",null,dt.default.createElement("div",{className:"box box-primary",id:"merizosearch_structs"},dt.default.createElement("div",{className:"box-header with-border"},dt.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Domains Found"),dt.default.createElement("div",{className:"box-tools pull-right"},dt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},dt.default.createElement("i",{className:"fa fa-plus"})))),dt.default.createElement("div",{className:"box-body"},this.state.error_message&&dt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&dt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},dt.default.createElement("br",null),dt.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&dt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},dt.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),dt.default.createElement("div",{className:"merizo_pdb pdb_panel_class_merizo",id:"merizoseach_pdb",ref:this.merizosearch_pdb}))),dt.default.createElement("div",{className:"box box-primary",id:"merizosearch_table"},dt.default.createElement("div",{className:"box-header with-border"},dt.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Best Hits"),dt.default.createElement("div",{className:"box-tools pull-right"},dt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},dt.default.createElement("i",{className:"fa fa-plus"})))),dt.default.createElement("div",{className:"box-body"},this.state.error_message&&dt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&dt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},dt.default.createElement("br",null),dt.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&dt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},dt.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),dt.default.createElement("div",{className:"merizosearch_results_table",id:"merizosearch_results_table",ref:this.merizosearch_results_table}))),dt.default.createElement("div",{className:"box box-primary",id:"merizosearch_table"},dt.default.createElement("div",{className:"box-header with-border"},dt.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Alternate Hits"),dt.default.createElement("div",{className:"box-tools pull-right"},dt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},dt.default.createElement("i",{className:"fa fa-plus"})))),dt.default.createElement("div",{className:"box-body"},this.state.error_message&&dt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&dt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},dt.default.createElement("br",null),dt.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&dt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},dt.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),dt.default.createElement("div",{className:"merizosearch_alt_results_table",id:"merizosearch_alt_results_table",ref:this.merizosearch_alt_results_table})))))}}});var gh,Mg,jO=ae(()=>{gh=en(Nn());Sn();Sn();BO();UO();Mg=class extends gh.default.Component{constructor(t){super(t),this.state={result_uri:"",error_message:null,loading_message:"Fetching Times",psipred_waiting_message:"Please wait for your "+this.props.job_strings.psipred.shortName+" job to process",psipred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",disopred_waiting_message:"Please wait for your "+this.props.job_strings.disopred.shortName+" job to process",disopred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",memsatsvm_waiting_message:"Please wait for your "+this.props.job_strings.memsatsvm.shortName+" job to process",memsatsvm_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",pgenthreader_waiting_message:"Please wait for your "+this.props.job_strings.pgenthreader.shortName+" job to process",pgenthreader_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dmp_waiting_message:"Please wait for your "+this.props.job_strings.dmp.shortName+" job to process",dmp_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",mempack_waiting_message:"Please wait for your "+this.props.job_strings.mempack.shortName+" job to process",mempack_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",genthreader_waiting_message:"Please wait for your "+this.props.job_strings.genthreader.shortName+" job to process",genthreader_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",pdomthreader_waiting_message:"Please wait for your "+this.props.job_strings.pdomthreader.shortName+" job to process",pdomthreader_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dmpfold_waiting_message:"Please wait for your "+this.props.job_strings.dmpfold.shortName+" job to process",dmpfold_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",s4pred_waiting_message:"Please wait for your "+this.props.job_strings.s4pred.shortName+" job to process",s4pred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dompred_waiting_message:"Please wait for your "+this.props.job_strings.dompred.shortName+" job to process",dompred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",ffpred_waiting_message:"Please wait for your "+this.props.job_strings.ffpred.shortName+" job to process",ffpred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",metsite_waiting_message:"Please wait for your "+this.props.job_strings.metsite.shortName+" job to process",metsite_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",hspred_waiting_message:"Please wait for your "+this.props.job_strings.hspred.shortName+" job to process",hspred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",memembed_waiting_message:"Please wait for your "+this.props.job_strings.memembed.shortName+" job to process",memembed_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",merizo_waiting_message:"Please wait for your "+this.props.job_strings.merizo.shortName+" job to process",merizo_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dmpmetal_waiting_message:"Please wait for your "+this.props.job_strings.dmpmetal.shortName+" job to process",dmpmetal_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",merizosearch_waiting_message:"Please wait for your "+this.props.job_strings.merizosearch.shortName+" job to process",merizosearch_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg"}}checkSubset=(t,r)=>{let n=new Set(t);return r.every(a=>n.has(a))};getJob=t=>{console.log("Getting Job Data URI request: GET: "+t.props.submit_url+t.props.incoming_uuid),fetch(t.props.submit_url+t.props.incoming_uuid,{headers:{Accept:"application/json"},method:"GET"}).then(r=>{if(r.ok)return r.json().then(n=>n);throw r}).then(r=>{if(r.UUID!==null){console.log("RECIEVED JOB DATA FOR UUID: "+r.UUID);let n=[];r.submissions.forEach(o=>{n.push(o.job_name)});let a=r.submissions[0],s="SeqForm";if(this.checkSubset(t.props.seq_job_names,n)){(n.includes("pdomthreader")||n.includes("pgenthreader"))&&n.push("psipred");let o=si(a.input_file,t.props.files_url);o=o.replace(/\r?\n|\r/g,""),t.props.updateAnalyses(n.map(u=>`${u}_job`)),t.props.updateSeq(o),t.props.updateForm(s)}else this.checkSubset(t.props.struct_job_names,n)&&(s="StructForm",t.props.updateAnalyses(n.map(o=>`${o}_job`)),t.props.updateForm(s));this.setState({result_uri:t.props.main_url+t.props.app_path+"/&uuid="+r.UUID}),t.props.updateUuid(r.UUID),t.props.updateWaiting(!0)}}).catch(async r=>{let n=await r.json().then(s=>s),a="";return n.error&&(a=n.error),n.error.input_data&&(a=n.error.input_data),console.log("Getting Job data "+t.props.submit_url+t.props.incoming_uuid+" Failed. "+a+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Getting Job data to "+t.props.submit_url+t.props.incoming_uuid+" Failed. "+a+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null})};postJob=t=>{console.log("Posting Job URI request: POST: "+t.props.submit_url);let r=xO({...t.state,...t.props});for(let n of r.entries())console.log(`${n[0]}, ${n[1]}`);fetch(t.props.submit_url,{headers:{Accept:"application/json"},method:"POST",body:r}).then(async n=>{if(n.ok)return n.json().then(a=>a);throw n}).then(n=>{if(n.UUID!==null){if(console.log("RECIEVED UUID: "+n.UUID),this.setState({result_uri:t.props.main_url+t.props.app_path+"/&uuid="+n.UUID}),this.props.updateUuid(n.UUID),window.history.replaceState){console.log("Add new history to browser window: "+t.props.main_url+t.props.app_path+"/&uuid="+n.UUID);try{window.history.replaceState({},n.UUID,t.props.app_path+"/&uuid="+n.UUID)}catch{throw new Error("Failed to push new browser history: "+t.props.main_url+t.props.app_path)}}t.props.updateWaiting(!0)}}).catch(async n=>{let a={};try{let s=await n.json().then(o=>o);console.log(s),s.error?a.message=s.error:s.error.input_data?a.message=s.error.input_data:a.message=s}catch{a.message=n}return console.log("Posting Job to "+t.props.submit_url+" Failed. "+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Posting Job to "+t.props.submit_url+" Failed. "+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null})};componentDidUpdate(){this.props.resubmit===!0&&(console.log("RESUBMITTING SEQUENCE"),this.props.updateResubmit(!1),this.postJob(this))}componentDidMount(){this.props.incoming_uuid?(console.log("GETTING DETAILS JOB: "+this.props.incoming_uuid),this.getJob(this)):this.postJob(this)}render(){return gh.default.createElement("div",null,this.props.uuid&&this.props.formSelectedOption==="SeqForm"?gh.default.createElement(Eg,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}):gh.default.createElement(Dg,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}))}}});var jt,Ag,WO=ae(()=>{jt=en(Nn());Sn();Ag=class extends jt.default.Component{constructor(t){super(t),this.state={loading_message:"Fetching Times"}}componentDidUpdate(){}componentDidMount(){console.log("Getting Times URI request: GET: "+this.props.times_url),fetch(this.props.times_url,{headers:{Accept:"application/json"},method:"GET"}).then(t=>{if(t.ok)return t.json().then(r=>r);throw t}).then(t=>{if(t.UUID!==null){console.log("RECIEVED TIMES");var r=wO(t);this.setState(r)}}).catch(async t=>{let r=await t.json().then(n=>n);return console.log("Getting Times data "+this.props.times_url+" Failed. "+r.error+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Getting Times data "+this.props.times_url+" Failed. "+r.error+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null})}render(){return jt.default.createElement("div",{className:"info-box"},jt.default.createElement("span",{className:"info-box-icon bg-blue"},jt.default.createElement("i",{className:"fa fa-clock-o"})),jt.default.createElement("div",{className:"info-box-content"},jt.default.createElement("span",{className:"info-box-text"},"Average Processing Time"),jt.default.createElement("br",null),this.state.loading_message&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.state.loading_message),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.psipred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.psipred.shortName," runtime: ",this.state.psipred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.disopred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.disopred.shortName," runtime: ",this.state.disopred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.memsatsvm.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.memsatsvm.shortName," runtime: ",this.state.memsatsvm),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.pgenthreader.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.pgenthreader.shortName," runtime: ",this.state.pgenthreader),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dmp.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dmp.shortName," runtime: ",this.state.dmp),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.mempack.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.mempack.shortName," runtime: ",this.state.mempack),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.genthreader.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.genthreader.shortName," runtime: ",this.state.genthreader),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.pdomthreader.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.pdomthreader.shortName," runtime: ",this.state.pdomthreader),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.s4pred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.s4pred.shortName," runtime: ",this.state.s4pred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dompred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dompred.shortName," runtime: ",this.state.dompred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.ffpred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.ffpred.shortName," runtime: ",this.state.ffpred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.metsite.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.metsite.shortName," runtime: ",this.state.mesite),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.hspred.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.hspred.shortName," runtime: ",this.state.hspred),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.memembed.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.memembed.shortName," runtime: ",this.state.memembed),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.merizo.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.merizo.shortName," runtime: ",this.state.merizo),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dmpmetal.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dmpmetal.shortName," runtime: ",this.state.dmpmetal),jt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.merizosearch.jobName)&&jt.default.createElement("div",null,jt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.merizosearch.shortName," runtime: ",this.state.merizosearch),jt.default.createElement("br",null))))}}});var HO=Pn((GO,zw)=>{(function(e){typeof GO=="object"&&typeof zw<"u"?zw.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=e()})(function(){return function e(t,r,n){function a(u,l){if(!r[u]){if(!t[u]){var g=typeof pl=="function"&&pl;if(!l&&g)return g(u,!0);if(s)return s(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var _=r[u]={exports:{}};t[u][0].call(_.exports,function(x){var S=t[u][1][x];return a(S||x)},_,_.exports,e,t,r,n)}return r[u].exports}for(var s=typeof pl=="function"&&pl,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(o){for(var u,l,g,h,_,x,S,w=[],c=0,v=o.length,y=v,b=n.getTypeOf(o)!=="string";c<o.length;)y=v-c,g=b?(u=o[c++],l=c<v?o[c++]:0,c<v?o[c++]:0):(u=o.charCodeAt(c++),l=c<v?o.charCodeAt(c++):0,c<v?o.charCodeAt(c++):0),h=u>>2,_=(3&u)<<4|l>>4,x=1<y?(15&l)<<2|g>>6:64,S=2<y?63&g:64,w.push(s.charAt(h)+s.charAt(_)+s.charAt(x)+s.charAt(S));return w.join("")},r.decode=function(o){var u,l,g,h,_,x,S=0,w=0,c="data:";if(o.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var v,y=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===s.charAt(64)&&y--,o.charAt(o.length-2)===s.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=a.uint8array?new Uint8Array(0|y):new Array(0|y);S<o.length;)u=s.indexOf(o.charAt(S++))<<2|(h=s.indexOf(o.charAt(S++)))>>4,l=(15&h)<<4|(_=s.indexOf(o.charAt(S++)))>>2,g=(3&_)<<6|(x=s.indexOf(o.charAt(S++))),v[w++]=u,_!==64&&(v[w++]=l),x!==64&&(v[w++]=g);return v}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),a=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function u(l,g,h,_,x){this.compressedSize=l,this.uncompressedSize=g,this.crc32=h,this.compression=_,this.compressedContent=x}u.prototype={getContentWorker:function(){var l=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),g=this;return l.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(l,g,h){return l.pipe(new s).pipe(new o("uncompressedSize")).pipe(g.compressWorker(h)).pipe(new o("compressedSize")).withStreamInfo("compression",g)},t.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),a=function(){for(var s,o=[],u=0;u<256;u++){s=u;for(var l=0;l<8;l++)s=1&s?3988292384^s>>>1:s>>>1;o[u]=s}return o}();t.exports=function(s,o){return s!==void 0&&s.length?n.getTypeOf(s)!=="string"?function(u,l,g,h){var _=a,x=h+g;u^=-1;for(var S=h;S<x;S++)u=u>>>8^_[255&(u^l[S])];return-1^u}(0|o,s,s.length,0):function(u,l,g,h){var _=a,x=h+g;u^=-1;for(var S=h;S<x;S++)u=u>>>8^_[255&(u^l.charCodeAt(S))];return-1^u}(0|o,s,s.length,0):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n=null;n=typeof Promise<"u"?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),s=e("./utils"),o=e("./stream/GenericWorker"),u=n?"uint8array":"array";function l(g,h){o.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=h,this.meta={}}r.magic="\b\0",s.inherits(l,o),l.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,g.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(h){g.push({data:h,meta:g.meta})}},r.compressWorker=function(g){return new l("Deflate",g)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(_,x){var S,w="";for(S=0;S<x;S++)w+=String.fromCharCode(255&_),_>>>=8;return w}function a(_,x,S,w,c,v){var y,b,C=_.file,E=_.compression,p=v!==u.utf8encode,f=s.transformTo("string",v(C.name)),D=s.transformTo("string",u.utf8encode(C.name)),M=C.comment,P=s.transformTo("string",v(M)),O=s.transformTo("string",u.utf8encode(M)),z=D.length!==C.name.length,k=O.length!==M.length,I="",H="",Y="",q=C.dir,G=C.date,$={crc32:0,compressedSize:0,uncompressedSize:0};x&&!S||($.crc32=_.crc32,$.compressedSize=_.compressedSize,$.uncompressedSize=_.uncompressedSize);var j=0;x&&(j|=8),p||!z&&!k||(j|=2048);var V=0,X=0;q&&(V|=16),c==="UNIX"?(X=798,V|=function(te,xe){var Ne=te;return te||(Ne=xe?16893:33204),(65535&Ne)<<16}(C.unixPermissions,q)):(X=20,V|=function(te){return 63&(te||0)}(C.dosPermissions)),y=G.getUTCHours(),y<<=6,y|=G.getUTCMinutes(),y<<=5,y|=G.getUTCSeconds()/2,b=G.getUTCFullYear()-1980,b<<=4,b|=G.getUTCMonth()+1,b<<=5,b|=G.getUTCDate(),z&&(H=n(1,1)+n(l(f),4)+D,I+="up"+n(H.length,2)+H),k&&(Y=n(1,1)+n(l(P),4)+O,I+="uc"+n(Y.length,2)+Y);var Q="";return Q+=`
\0`,Q+=n(j,2),Q+=E.magic,Q+=n(y,2),Q+=n(b,2),Q+=n($.crc32,4),Q+=n($.compressedSize,4),Q+=n($.uncompressedSize,4),Q+=n(f.length,2),Q+=n(I.length,2),{fileRecord:g.LOCAL_FILE_HEADER+Q+f+I,dirRecord:g.CENTRAL_FILE_HEADER+n(X,2)+Q+n(P.length,2)+"\0\0\0\0"+n(V,4)+n(w,4)+f+I+P}}var s=e("../utils"),o=e("../stream/GenericWorker"),u=e("../utf8"),l=e("../crc32"),g=e("../signature");function h(_,x,S,w){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=S,this.encodeFileName=w,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,o),h.prototype.push=function(_){var x=_.meta.percent||0,S=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,o.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:S?(x+100*(S-w-1))/S:100}}))},h.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var x=this.streamFiles&&!_.file.dir;if(x){var S=a(_,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(_){this.accumulate=!1;var x=this.streamFiles&&!_.file.dir,S=a(_,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),x)this.push({data:function(w){return g.DATA_DESCRIPTOR+n(w.crc32,4)+n(w.compressedSize,4)+n(w.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var _=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var S=this.bytesWritten-_,w=function(c,v,y,b,C){var E=s.transformTo("string",C(b));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(c,2)+n(c,2)+n(v,4)+n(y,4)+n(E.length,2)+E}(this.dirRecords.length,S,_,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(_){this._sources.push(_);var x=this;return _.on("data",function(S){x.processChunk(S)}),_.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),_.on("error",function(S){x.error(S)}),this},h.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(_){var x=this._sources;if(!o.prototype.error.call(this,_))return!1;for(var S=0;S<x.length;S++)try{x[S].error(_)}catch{}return!0},h.prototype.lock=function(){o.prototype.lock.call(this);for(var _=this._sources,x=0;x<_.length;x++)_[x].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),a=e("./ZipFileWorker");r.generateWorker=function(s,o,u){var l=new a(o.streamFiles,u,o.platform,o.encodeFileName),g=0;try{s.forEach(function(h,_){g++;var x=function(v,y){var b=v||y,C=n[b];if(!C)throw new Error(b+" is not a valid compression method !");return C}(_.options.compression,o.compression),S=_.options.compressionOptions||o.compressionOptions||{},w=_.dir,c=_.date;_._compressWorker(x,S).withStreamInfo("file",{name:h,dir:w,date:c,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(l)}),l.entriesCount=g}catch(h){l.error(h)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new n;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(a,s){return new n().loadAsync(a,s)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./external"),s=e("./utf8"),o=e("./zipEntries"),u=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function g(h){return new a.Promise(function(_,x){var S=h.decompressed.getContentWorker().pipe(new u);S.on("error",function(w){x(w)}).on("end",function(){S.streamInfo.crc32!==h.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}t.exports=function(h,_){var x=this;return _=n.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",h,!0,_.optimizedBinaryString,_.base64).then(function(S){var w=new o(_);return w.load(S),w}).then(function(S){var w=[a.Promise.resolve(S)],c=S.files;if(_.checkCRC32)for(var v=0;v<c.length;v++)w.push(g(c[v]));return a.Promise.all(w)}).then(function(S){for(var w=S.shift(),c=w.files,v=0;v<c.length;v++){var y=c[v],b=y.fileNameStr,C=n.resolve(y.fileNameStr);x.file(C,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:_.createFolders}),y.dir||(x.file(C).unsafeOriginalName=b)}return w.zipComment.length&&(x.comment=w.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../stream/GenericWorker");function s(o,u){a.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(u)}n.inherits(s,a),s.prototype._bindStream=function(o){var u=this;(this._stream=o).pause(),o.on("data",function(l){u.push({data:l,meta:{percent:0}})}).on("error",function(l){u.isPaused?this.generatedError=l:u.error(l)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function a(s,o,u){n.call(this,o),this._helper=s;var l=this;s.on("data",function(g,h){l.push(g)||l._helper.pause(),u&&u(h)}).on("error",function(g){l.emit("error",g)}).on("end",function(){l.push(null)})}e("../utils").inherits(a,n),a.prototype._read=function(){this._helper.resume()},t.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,a);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,a)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var a=new Buffer(n);return a.fill(0),a},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(e,t,r){"use strict";function n(C,E,p){var f,D=s.getTypeOf(E),M=s.extend(p||{},l);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(C=c(C)),M.createFolders&&(f=w(C))&&v.call(this,f,!0);var P=D==="string"&&M.binary===!1&&M.base64===!1;p&&p.binary!==void 0||(M.binary=!P),(E instanceof g&&E.uncompressedSize===0||M.dir||!E||E.length===0)&&(M.base64=!1,M.binary=!0,E="",M.compression="STORE",D="string");var O=null;O=E instanceof g||E instanceof o?E:x.isNode&&x.isStream(E)?new S(C,E):s.prepareContent(C,E,M.binary,M.optimizedBinaryString,M.base64);var z=new h(C,O,M);this.files[C]=z}var a=e("./utf8"),s=e("./utils"),o=e("./stream/GenericWorker"),u=e("./stream/StreamHelper"),l=e("./defaults"),g=e("./compressedObject"),h=e("./zipObject"),_=e("./generate"),x=e("./nodejsUtils"),S=e("./nodejs/NodejsStreamInputAdapter"),w=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var E=C.lastIndexOf("/");return 0<E?C.substring(0,E):""},c=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},v=function(C,E){return E=E!==void 0?E:l.createFolders,C=c(C),this.files[C]||n.call(this,C,null,{dir:!0,createFolders:E}),this.files[C]};function y(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var E,p,f;for(E in this.files)f=this.files[E],(p=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&C(p,f)},filter:function(C){var E=[];return this.forEach(function(p,f){C(p,f)&&E.push(f)}),E},file:function(C,E,p){if(arguments.length!==1)return C=this.root+C,n.call(this,C,E,p),this;if(y(C)){var f=C;return this.filter(function(M,P){return!P.dir&&f.test(M)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(y(C))return this.filter(function(D,M){return M.dir&&C.test(D)});var E=this.root+C,p=v.call(this,E),f=this.clone();return f.root=p.name,f},remove:function(C){C=this.root+C;var E=this.files[C];if(E||(C.slice(-1)!=="/"&&(C+="/"),E=this.files[C]),E&&!E.dir)delete this.files[C];else for(var p=this.filter(function(D,M){return M.name.slice(0,C.length)===C}),f=0;f<p.length;f++)delete this.files[p[f].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var E,p={};try{if((p=s.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=p.type.toLowerCase(),p.compression=p.compression.toUpperCase(),p.type==="binarystring"&&(p.type="string"),!p.type)throw new Error("No output type specified.");s.checkSupport(p.type),p.platform!=="darwin"&&p.platform!=="freebsd"&&p.platform!=="linux"&&p.platform!=="sunos"||(p.platform="UNIX"),p.platform==="win32"&&(p.platform="DOS");var f=p.comment||this.comment||"";E=_.generateWorker(this,p,f)}catch(D){(E=new o("error")).error(D)}return new u(E,p.type||"string",p.mimeType)},generateAsync:function(C,E){return this.generateInternalStream(C).accumulate(E)},generateNodeStream:function(C,E){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(E)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function a(s){n.call(this,s);for(var o=0;o<this.data.length;o++)s[o]=255&s[o]}e("../utils").inherits(a,n),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var o=s.charCodeAt(0),u=s.charCodeAt(1),l=s.charCodeAt(2),g=s.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===o&&this.data[h+1]===u&&this.data[h+2]===l&&this.data[h+3]===g)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var o=s.charCodeAt(0),u=s.charCodeAt(1),l=s.charCodeAt(2),g=s.charCodeAt(3),h=this.readData(4);return o===h[0]&&u===h[1]&&l===h[2]&&g===h[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var o,u=0;for(this.checkOffset(s),o=this.index+s-1;o>=this.index;o--)u=(u<<8)+this.byteAt(o);return this.index+=s,u},readString:function(s){return n.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},t.exports=a},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../support"),s=e("./ArrayReader"),o=e("./StringReader"),u=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(g){var h=n.getTypeOf(g);return n.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new u(g):a.uint8array?new l(n.transformTo("uint8array",g)):new s(n.transformTo("array",g)):new o(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../utils");function s(o){n.call(this,"ConvertWorker to "+o),this.destType=o}a.inherits(s,n),s.prototype.processChunk=function(o){this.push({data:a.transformTo(this.destType,o.data),meta:o.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../crc32");function s(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,n),s.prototype.processChunk=function(o){this.streamInfo.crc32=a(o.data,this.streamInfo.crc32||0),this.push(o)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function s(o){a.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}n.inherits(s,a),s.prototype.processChunk=function(o){if(o){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+o.data.length}a.prototype.processChunk.call(this,o)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function s(o){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(l){u.dataIsReady=!0,u.data=l,u.max=l&&l.length||0,u.type=n.getTypeOf(l),u.isPaused||u._tickAndRepeat()},function(l){u.error(l)})}n.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,u);break;case"uint8array":o=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":o=this.data.slice(this.index,u)}return this.index=u,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var o=0;o<this._listeners[a].length;o++)this._listeners[a][o].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(o){s.processChunk(o)}),a.on("end",function(){s.end()}),a.on("error",function(o){s.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},t.exports=n},{}],29:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./ConvertWorker"),s=e("./GenericWorker"),o=e("../base64"),u=e("../support"),l=e("../external"),g=null;if(u.nodestream)try{g=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(x,S){return new l.Promise(function(w,c){var v=[],y=x._internalType,b=x._outputType,C=x._mimeType;x.on("data",function(E,p){v.push(E),S&&S(p)}).on("error",function(E){v=[],c(E)}).on("end",function(){try{var E=function(p,f,D){switch(p){case"blob":return n.newBlob(n.transformTo("arraybuffer",f),D);case"base64":return o.encode(f);default:return n.transformTo(p,f)}}(b,function(p,f){var D,M=0,P=null,O=0;for(D=0;D<f.length;D++)O+=f[D].length;switch(p){case"string":return f.join("");case"array":return Array.prototype.concat.apply([],f);case"uint8array":for(P=new Uint8Array(O),D=0;D<f.length;D++)P.set(f[D],M),M+=f[D].length;return P;case"nodebuffer":return Buffer.concat(f);default:throw new Error("concat : unsupported type '"+p+"'")}}(y,v),C);w(E)}catch(p){c(p)}v=[]}).resume()})}function _(x,S,w){var c=S;switch(S){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=S,this._mimeType=w,n.checkSupport(c),this._worker=x.pipe(new a(c)),x.lock()}catch(v){this._worker=new s("error"),this._worker.error(v)}}_.prototype={accumulate:function(x){return h(this,x)},on:function(x,S){var w=this;return x==="data"?this._worker.on(x,function(c){S.call(w,c.data,c.meta)}):this._worker.on(x,function(){n.delay(S,arguments,w)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},t.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(n),r.blob=a.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),a=e("./support"),s=e("./nodejsUtils"),o=e("./stream/GenericWorker"),u=new Array(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;u[254]=u[254]=1;function g(){o.call(this,"utf-8 decode"),this.leftOver=null}function h(){o.call(this,"utf-8 encode")}r.utf8encode=function(_){return a.nodebuffer?s.newBufferFrom(_,"utf-8"):function(x){var S,w,c,v,y,b=x.length,C=0;for(v=0;v<b;v++)(64512&(w=x.charCodeAt(v)))==55296&&v+1<b&&(64512&(c=x.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(c-56320),v++),C+=w<128?1:w<2048?2:w<65536?3:4;for(S=a.uint8array?new Uint8Array(C):new Array(C),v=y=0;y<C;v++)(64512&(w=x.charCodeAt(v)))==55296&&v+1<b&&(64512&(c=x.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(c-56320),v++),w<128?S[y++]=w:(w<2048?S[y++]=192|w>>>6:(w<65536?S[y++]=224|w>>>12:(S[y++]=240|w>>>18,S[y++]=128|w>>>12&63),S[y++]=128|w>>>6&63),S[y++]=128|63&w);return S}(_)},r.utf8decode=function(_){return a.nodebuffer?n.transformTo("nodebuffer",_).toString("utf-8"):function(x){var S,w,c,v,y=x.length,b=new Array(2*y);for(S=w=0;S<y;)if((c=x[S++])<128)b[w++]=c;else if(4<(v=u[c]))b[w++]=65533,S+=v-1;else{for(c&=v===2?31:v===3?15:7;1<v&&S<y;)c=c<<6|63&x[S++],v--;1<v?b[w++]=65533:c<65536?b[w++]=c:(c-=65536,b[w++]=55296|c>>10&1023,b[w++]=56320|1023&c)}return b.length!==w&&(b.subarray?b=b.subarray(0,w):b.length=w),n.applyFromCharCode(b)}(_=n.transformTo(a.uint8array?"uint8array":"array",_))},n.inherits(g,o),g.prototype.processChunk=function(_){var x=n.transformTo(a.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var S=x;(x=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),x.set(S,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var w=function(v,y){var b;for((y=y||v.length)>v.length&&(y=v.length),b=y-1;0<=b&&(192&v[b])==128;)b--;return b<0||b===0?y:b+u[v[b]]>y?b:y}(x),c=x;w!==x.length&&(a.uint8array?(c=x.subarray(0,w),this.leftOver=x.subarray(w,x.length)):(c=x.slice(0,w),this.leftOver=x.slice(w,x.length))),this.push({data:r.utf8decode(c),meta:_.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=g,n.inherits(h,o),h.prototype.processChunk=function(_){this.push({data:r.utf8encode(_.data),meta:_.meta})},r.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),a=e("./base64"),s=e("./nodejsUtils"),o=e("./external");function u(S){return S}function l(S,w){for(var c=0;c<S.length;++c)w[c]=255&S.charCodeAt(c);return w}e("setimmediate"),r.newBlob=function(S,w){r.checkSupport("blob");try{return new Blob([S],{type:w})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(S),c.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(S,w,c){var v=[],y=0,b=S.length;if(b<=c)return String.fromCharCode.apply(null,S);for(;y<b;)w==="array"||w==="nodebuffer"?v.push(String.fromCharCode.apply(null,S.slice(y,Math.min(y+c,b)))):v.push(String.fromCharCode.apply(null,S.subarray(y,Math.min(y+c,b)))),y+=c;return v.join("")},stringifyByChar:function(S){for(var w="",c=0;c<S.length;c++)w+=String.fromCharCode(S[c]);return w},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function h(S){var w=65536,c=r.getTypeOf(S),v=!0;if(c==="uint8array"?v=g.applyCanBeUsed.uint8array:c==="nodebuffer"&&(v=g.applyCanBeUsed.nodebuffer),v)for(;1<w;)try{return g.stringifyByChunk(S,c,w)}catch{w=Math.floor(w/2)}return g.stringifyByChar(S)}function _(S,w){for(var c=0;c<S.length;c++)w[c]=S[c];return w}r.applyFromCharCode=h;var x={};x.string={string:u,array:function(S){return l(S,new Array(S.length))},arraybuffer:function(S){return x.string.uint8array(S).buffer},uint8array:function(S){return l(S,new Uint8Array(S.length))},nodebuffer:function(S){return l(S,s.allocBuffer(S.length))}},x.array={string:h,array:u,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return s.newBufferFrom(S)}},x.arraybuffer={string:function(S){return h(new Uint8Array(S))},array:function(S){return _(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:u,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return s.newBufferFrom(new Uint8Array(S))}},x.uint8array={string:h,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:u,nodebuffer:function(S){return s.newBufferFrom(S)}},x.nodebuffer={string:h,array:function(S){return _(S,new Array(S.length))},arraybuffer:function(S){return x.nodebuffer.uint8array(S).buffer},uint8array:function(S){return _(S,new Uint8Array(S.length))},nodebuffer:u},r.transformTo=function(S,w){if(w=w||"",!S)return w;r.checkSupport(S);var c=r.getTypeOf(w);return x[c][S](w)},r.resolve=function(S){for(var w=S.split("/"),c=[],v=0;v<w.length;v++){var y=w[v];y==="."||y===""&&v!==0&&v!==w.length-1||(y===".."?c.pop():c.push(y))}return c.join("/")},r.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":n.nodebuffer&&s.isBuffer(S)?"nodebuffer":n.uint8array&&S instanceof Uint8Array?"uint8array":n.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(S){if(!n[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(S){var w,c,v="";for(c=0;c<(S||"").length;c++)v+="\\x"+((w=S.charCodeAt(c))<16?"0":"")+w.toString(16).toUpperCase();return v},r.delay=function(S,w,c){setImmediate(function(){S.apply(c||null,w||[])})},r.inherits=function(S,w){function c(){}c.prototype=w.prototype,S.prototype=new c},r.extend=function(){var S,w,c={};for(S=0;S<arguments.length;S++)for(w in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],w)&&c[w]===void 0&&(c[w]=arguments[S][w]);return c},r.prepareContent=function(S,w,c,v,y){return o.Promise.resolve(w).then(function(b){return n.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new o.Promise(function(C,E){var p=new FileReader;p.onload=function(f){C(f.target.result)},p.onerror=function(f){E(f.target.error)},p.readAsArrayBuffer(b)}):b}).then(function(b){var C=r.getTypeOf(b);return C?(C==="arraybuffer"?b=r.transformTo("uint8array",b):C==="string"&&(y?b=a.decode(b):c&&v!==!0&&(b=function(E){return l(E,n.uint8array?new Uint8Array(E.length):new Array(E.length))}(b))),b):o.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),s=e("./signature"),o=e("./zipEntry"),u=e("./support");function l(g){this.files=[],this.loadOptions=g}l.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(g)+")")}},isSignature:function(g,h){var _=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===h;return this.reader.setIndex(_),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",_=a.transformTo(h,g);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,h,_,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),h=this.reader.readInt(4),_=this.reader.readData(h),this.zip64ExtensibleData[g]={id:g,length:h,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,h;for(g=0;g<this.files.length;g++)h=this.files[g],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(g=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var h=g;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var x=h-_;if(0<x)this.isSignature(h,s.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=n(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),s=e("./compressedObject"),o=e("./crc32"),u=e("./utf8"),l=e("./compressions"),g=e("./support");function h(_,x){this.options=_,this.loadOptions=x}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var x,S;if(_.skip(22),this.fileNameLength=_.readInt(2),S=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(w){for(var c in l)if(Object.prototype.hasOwnProperty.call(l,c)&&l[c].magic===w)return l[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,x,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var x=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(x),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var x,S,w,c=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<c;)x=_.readInt(2),S=_.readInt(2),w=_.readData(S),this.extraFields[x]={id:x,length:S,value:w};_.setIndex(c)},handleUTF8:function(){var _=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var S=a.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var c=a.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var x=n(_.value);return x.readInt(1)!==1||o(this.fileName)!==x.readInt(4)?null:u.utf8decode(x.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var x=n(_.value);return x.readInt(1)!==1||o(this.fileComment)!==x.readInt(4)?null:u.utf8decode(x.readData(_.length-5))}return null}},t.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(x,S,w){this.name=x,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=S,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var a=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),o=e("./utf8"),u=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(x){var S=null,w="string";try{if(!x)throw new Error("No output type specified.");var c=(w=x.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),S=this._decompressWorker();var v=!this._dataBinary;v&&!c&&(S=S.pipe(new o.Utf8EncodeWorker)),!v&&c&&(S=S.pipe(new o.Utf8DecodeWorker))}catch(y){(S=new l("error")).error(y)}return new a(S,w,"")},async:function(x,S){return this.internalStream(x).accumulate(S)},nodeStream:function(x,S){return this.internalStream(x||"nodebuffer").toNodejsStream(S)},_compressWorker:function(x,S){if(this._data instanceof u&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(w,x,S)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<g.length;_++)n.prototype[g[_]]=h;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(n){"use strict";var a,s,o=n.MutationObserver||n.WebKitMutationObserver;if(o){var u=0,l=new o(x),g=n.document.createTextNode("");l.observe(g,{characterData:!0}),a=function(){g.data=u=++u%2}}else if(n.setImmediate||n.MessageChannel===void 0)a="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var S=n.document.createElement("script");S.onreadystatechange=function(){x(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},n.document.documentElement.appendChild(S)}:function(){setTimeout(x,0)};else{var h=new n.MessageChannel;h.port1.onmessage=x,a=function(){h.port2.postMessage(0)}}var _=[];function x(){var S,w;s=!0;for(var c=_.length;c;){for(w=_,_=[],S=-1;++S<c;)w[S]();c=_.length}s=!1}t.exports=function(S){_.push(S)!==1||s||a()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function a(){}var s={},o=["REJECTED"],u=["FULFILLED"],l=["PENDING"];function g(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,c!==a&&S(this,c)}function h(c,v,y){this.promise=c,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function _(c,v,y){n(function(){var b;try{b=v(y)}catch(C){return s.reject(c,C)}b===c?s.reject(c,new TypeError("Cannot resolve promise with itself")):s.resolve(c,b)})}function x(c){var v=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof v=="function")return function(){v.apply(c,arguments)}}function S(c,v){var y=!1;function b(p){y||(y=!0,s.reject(c,p))}function C(p){y||(y=!0,s.resolve(c,p))}var E=w(function(){v(C,b)});E.status==="error"&&b(E.value)}function w(c,v){var y={};try{y.value=c(v),y.status="success"}catch(b){y.status="error",y.value=b}return y}(t.exports=g).prototype.finally=function(c){if(typeof c!="function")return this;var v=this.constructor;return this.then(function(y){return v.resolve(c()).then(function(){return y})},function(y){return v.resolve(c()).then(function(){throw y})})},g.prototype.catch=function(c){return this.then(null,c)},g.prototype.then=function(c,v){if(typeof c!="function"&&this.state===u||typeof v!="function"&&this.state===o)return this;var y=new this.constructor(a);return this.state!==l?_(y,this.state===u?c:v,this.outcome):this.queue.push(new h(y,c,v)),y},h.prototype.callFulfilled=function(c){s.resolve(this.promise,c)},h.prototype.otherCallFulfilled=function(c){_(this.promise,this.onFulfilled,c)},h.prototype.callRejected=function(c){s.reject(this.promise,c)},h.prototype.otherCallRejected=function(c){_(this.promise,this.onRejected,c)},s.resolve=function(c,v){var y=w(x,v);if(y.status==="error")return s.reject(c,y.value);var b=y.value;if(b)S(c,b);else{c.state=u,c.outcome=v;for(var C=-1,E=c.queue.length;++C<E;)c.queue[C].callFulfilled(v)}return c},s.reject=function(c,v){c.state=o,c.outcome=v;for(var y=-1,b=c.queue.length;++y<b;)c.queue[y].callRejected(v);return c},g.resolve=function(c){return c instanceof this?c:s.resolve(new this(a),c)},g.reject=function(c){var v=new this(a);return s.reject(v,c)},g.all=function(c){var v=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=c.length,b=!1;if(!y)return this.resolve([]);for(var C=new Array(y),E=0,p=-1,f=new this(a);++p<y;)D(c[p],p);return f;function D(M,P){v.resolve(M).then(function(O){C[P]=O,++E!==y||b||(b=!0,s.resolve(f,C))},function(O){b||(b=!0,s.reject(f,O))})}},g.race=function(c){var v=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=c.length,b=!1;if(!y)return this.resolve([]);for(var C=-1,E=new this(a);++C<y;)p=c[C],v.resolve(p).then(function(f){b||(b=!0,s.resolve(E,f))},function(f){b||(b=!0,s.reject(E,f))});var p;return E}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),a=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),u=e("./zlib/zstream"),l=Object.prototype.toString,g=0,h=-1,_=0,x=8;function S(c){if(!(this instanceof S))return new S(c);this.options=a.assign({level:h,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},c||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=n.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(y!==g)throw new Error(o[y]);if(v.header&&n.deflateSetHeader(this.strm,v.header),v.dictionary){var b;if(b=typeof v.dictionary=="string"?s.string2buf(v.dictionary):l.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(y=n.deflateSetDictionary(this.strm,b))!==g)throw new Error(o[y]);this._dict_set=!0}}function w(c,v){var y=new S(v);if(y.push(c,!0),y.err)throw y.msg||o[y.err];return y.result}S.prototype.push=function(c,v){var y,b,C=this.strm,E=this.options.chunkSize;if(this.ended)return!1;b=v===~~v?v:v===!0?4:0,typeof c=="string"?C.input=s.string2buf(c):l.call(c)==="[object ArrayBuffer]"?C.input=new Uint8Array(c):C.input=c,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(E),C.next_out=0,C.avail_out=E),(y=n.deflate(C,b))!==1&&y!==g)return this.onEnd(y),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(C.output,C.next_out))):this.onData(a.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&y!==1);return b===4?(y=n.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===g):b!==2||(this.onEnd(g),!(C.avail_out=0))},S.prototype.onData=function(c){this.chunks.push(c)},S.prototype.onEnd=function(c){c===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},r.Deflate=S,r.deflate=w,r.deflateRaw=function(c,v){return(v=v||{}).raw=!0,w(c,v)},r.gzip=function(c,v){return(v=v||{}).gzip=!0,w(c,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),a=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),u=e("./zlib/messages"),l=e("./zlib/zstream"),g=e("./zlib/gzheader"),h=Object.prototype.toString;function _(S){if(!(this instanceof _))return new _(S);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},S||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||S&&S.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=n.inflateInit2(this.strm,w.windowBits);if(c!==o.Z_OK)throw new Error(u[c]);this.header=new g,n.inflateGetHeader(this.strm,this.header)}function x(S,w){var c=new _(w);if(c.push(S,!0),c.err)throw c.msg||u[c.err];return c.result}_.prototype.push=function(S,w){var c,v,y,b,C,E,p=this.strm,f=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;v=w===~~w?w:w===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof S=="string"?p.input=s.binstring2buf(S):h.call(S)==="[object ArrayBuffer]"?p.input=new Uint8Array(S):p.input=S,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new a.Buf8(f),p.next_out=0,p.avail_out=f),(c=n.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&D&&(E=typeof D=="string"?s.string2buf(D):h.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,c=n.inflateSetDictionary(this.strm,E)),c===o.Z_BUF_ERROR&&M===!0&&(c=o.Z_OK,M=!1),c!==o.Z_STREAM_END&&c!==o.Z_OK)return this.onEnd(c),!(this.ended=!0);p.next_out&&(p.avail_out!==0&&c!==o.Z_STREAM_END&&(p.avail_in!==0||v!==o.Z_FINISH&&v!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=s.utf8border(p.output,p.next_out),b=p.next_out-y,C=s.buf2string(p.output,y),p.next_out=b,p.avail_out=f-b,b&&a.arraySet(p.output,p.output,y,b,0),this.onData(C)):this.onData(a.shrinkBuf(p.output,p.next_out)))),p.avail_in===0&&p.avail_out===0&&(M=!0)}while((0<p.avail_in||p.avail_out===0)&&c!==o.Z_STREAM_END);return c===o.Z_STREAM_END&&(v=o.Z_FINISH),v===o.Z_FINISH?(c=n.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===o.Z_OK):v!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},_.prototype.onData=function(S){this.chunks.push(S)},_.prototype.onEnd=function(S){S===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},r.Inflate=_,r.inflate=x,r.inflateRaw=function(S,w){return(w=w||{}).raw=!0,x(S,w)},r.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(o){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var l=u.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var g in l)l.hasOwnProperty(g)&&(o[g]=l[g])}}return o},r.shrinkBuf=function(o,u){return o.length===u?o:o.subarray?o.subarray(0,u):(o.length=u,o)};var a={arraySet:function(o,u,l,g,h){if(u.subarray&&o.subarray)o.set(u.subarray(l,l+g),h);else for(var _=0;_<g;_++)o[h+_]=u[l+_]},flattenChunks:function(o){var u,l,g,h,_,x;for(u=g=0,l=o.length;u<l;u++)g+=o[u].length;for(x=new Uint8Array(g),u=h=0,l=o.length;u<l;u++)_=o[u],x.set(_,h),h+=_.length;return x}},s={arraySet:function(o,u,l,g,h){for(var _=0;_<g;_++)o[h+_]=u[l+_]},flattenChunks:function(o){return[].concat.apply([],o)}};r.setTyped=function(o){o?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var o=new n.Buf8(256),u=0;u<256;u++)o[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(g,h){if(h<65537&&(g.subarray&&s||!g.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(g,h));for(var _="",x=0;x<h;x++)_+=String.fromCharCode(g[x]);return _}o[254]=o[254]=1,r.string2buf=function(g){var h,_,x,S,w,c=g.length,v=0;for(S=0;S<c;S++)(64512&(_=g.charCodeAt(S)))==55296&&S+1<c&&(64512&(x=g.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(x-56320),S++),v+=_<128?1:_<2048?2:_<65536?3:4;for(h=new n.Buf8(v),S=w=0;w<v;S++)(64512&(_=g.charCodeAt(S)))==55296&&S+1<c&&(64512&(x=g.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(x-56320),S++),_<128?h[w++]=_:(_<2048?h[w++]=192|_>>>6:(_<65536?h[w++]=224|_>>>12:(h[w++]=240|_>>>18,h[w++]=128|_>>>12&63),h[w++]=128|_>>>6&63),h[w++]=128|63&_);return h},r.buf2binstring=function(g){return l(g,g.length)},r.binstring2buf=function(g){for(var h=new n.Buf8(g.length),_=0,x=h.length;_<x;_++)h[_]=g.charCodeAt(_);return h},r.buf2string=function(g,h){var _,x,S,w,c=h||g.length,v=new Array(2*c);for(_=x=0;_<c;)if((S=g[_++])<128)v[x++]=S;else if(4<(w=o[S]))v[x++]=65533,_+=w-1;else{for(S&=w===2?31:w===3?15:7;1<w&&_<c;)S=S<<6|63&g[_++],w--;1<w?v[x++]=65533:S<65536?v[x++]=S:(S-=65536,v[x++]=55296|S>>10&1023,v[x++]=56320|1023&S)}return l(v,x)},r.utf8border=function(g,h){var _;for((h=h||g.length)>g.length&&(h=g.length),_=h-1;0<=_&&(192&g[_])==128;)_--;return _<0||_===0?h:_+o[g[_]]>h?_:h}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(n,a,s,o){for(var u=65535&n|0,l=n>>>16&65535|0,g=0;s!==0;){for(s-=g=2e3<s?2e3:s;l=l+(u=u+a[o++]|0)|0,--g;);u%=65521,l%=65521}return u|l<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var a,s=[],o=0;o<256;o++){a=o;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;s[o]=a}return s}();t.exports=function(a,s,o,u){var l=n,g=u+o;a^=-1;for(var h=u;h<g;h++)a=a>>>8^l[255&(a^s[h])];return-1^a}},{}],46:[function(e,t,r){"use strict";var n,a=e("../utils/common"),s=e("./trees"),o=e("./adler32"),u=e("./crc32"),l=e("./messages"),g=0,h=4,_=0,x=-2,S=-1,w=4,c=2,v=8,y=9,b=286,C=30,E=19,p=2*b+1,f=15,D=3,M=258,P=M+D+1,O=42,z=113,k=1,I=2,H=3,Y=4;function q(R,pe){return R.msg=l[pe],pe}function G(R){return(R<<1)-(4<R?9:0)}function $(R){for(var pe=R.length;0<=--pe;)R[pe]=0}function j(R){var pe=R.state,ve=pe.pending;ve>R.avail_out&&(ve=R.avail_out),ve!==0&&(a.arraySet(R.output,pe.pending_buf,pe.pending_out,ve,R.next_out),R.next_out+=ve,pe.pending_out+=ve,R.total_out+=ve,R.avail_out-=ve,pe.pending-=ve,pe.pending===0&&(pe.pending_out=0))}function V(R,pe){s._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,pe),R.block_start=R.strstart,j(R.strm)}function X(R,pe){R.pending_buf[R.pending++]=pe}function Q(R,pe){R.pending_buf[R.pending++]=pe>>>8&255,R.pending_buf[R.pending++]=255&pe}function te(R,pe){var ve,ie,de=R.max_chain_length,be=R.strstart,Ue=R.prev_length,Be=R.nice_match,Se=R.strstart>R.w_size-P?R.strstart-(R.w_size-P):0,Ie=R.window,je=R.w_mask,Ke=R.prev,Pe=R.strstart+M,ht=Ie[be+Ue-1],yt=Ie[be+Ue];R.prev_length>=R.good_match&&(de>>=2),Be>R.lookahead&&(Be=R.lookahead);do if(Ie[(ve=pe)+Ue]===yt&&Ie[ve+Ue-1]===ht&&Ie[ve]===Ie[be]&&Ie[++ve]===Ie[be+1]){be+=2,ve++;do;while(Ie[++be]===Ie[++ve]&&Ie[++be]===Ie[++ve]&&Ie[++be]===Ie[++ve]&&Ie[++be]===Ie[++ve]&&Ie[++be]===Ie[++ve]&&Ie[++be]===Ie[++ve]&&Ie[++be]===Ie[++ve]&&Ie[++be]===Ie[++ve]&&be<Pe);if(ie=M-(Pe-be),be=Pe-M,Ue<ie){if(R.match_start=pe,Be<=(Ue=ie))break;ht=Ie[be+Ue-1],yt=Ie[be+Ue]}}while((pe=Ke[pe&je])>Se&&--de!=0);return Ue<=R.lookahead?Ue:R.lookahead}function xe(R){var pe,ve,ie,de,be,Ue,Be,Se,Ie,je,Ke=R.w_size;do{if(de=R.window_size-R.lookahead-R.strstart,R.strstart>=Ke+(Ke-P)){for(a.arraySet(R.window,R.window,Ke,Ke,0),R.match_start-=Ke,R.strstart-=Ke,R.block_start-=Ke,pe=ve=R.hash_size;ie=R.head[--pe],R.head[pe]=Ke<=ie?ie-Ke:0,--ve;);for(pe=ve=Ke;ie=R.prev[--pe],R.prev[pe]=Ke<=ie?ie-Ke:0,--ve;);de+=Ke}if(R.strm.avail_in===0)break;if(Ue=R.strm,Be=R.window,Se=R.strstart+R.lookahead,Ie=de,je=void 0,je=Ue.avail_in,Ie<je&&(je=Ie),ve=je===0?0:(Ue.avail_in-=je,a.arraySet(Be,Ue.input,Ue.next_in,je,Se),Ue.state.wrap===1?Ue.adler=o(Ue.adler,Be,je,Se):Ue.state.wrap===2&&(Ue.adler=u(Ue.adler,Be,je,Se)),Ue.next_in+=je,Ue.total_in+=je,je),R.lookahead+=ve,R.lookahead+R.insert>=D)for(be=R.strstart-R.insert,R.ins_h=R.window[be],R.ins_h=(R.ins_h<<R.hash_shift^R.window[be+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[be+D-1])&R.hash_mask,R.prev[be&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=be,be++,R.insert--,!(R.lookahead+R.insert<D)););}while(R.lookahead<P&&R.strm.avail_in!==0)}function Ne(R,pe){for(var ve,ie;;){if(R.lookahead<P){if(xe(R),R.lookahead<P&&pe===g)return k;if(R.lookahead===0)break}if(ve=0,R.lookahead>=D&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+D-1])&R.hash_mask,ve=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),ve!==0&&R.strstart-ve<=R.w_size-P&&(R.match_length=te(R,ve)),R.match_length>=D)if(ie=s._tr_tally(R,R.strstart-R.match_start,R.match_length-D),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=D){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+D-1])&R.hash_mask,ve=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else ie=s._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(ie&&(V(R,!1),R.strm.avail_out===0))return k}return R.insert=R.strstart<D-1?R.strstart:D-1,pe===h?(V(R,!0),R.strm.avail_out===0?H:Y):R.last_lit&&(V(R,!1),R.strm.avail_out===0)?k:I}function ye(R,pe){for(var ve,ie,de;;){if(R.lookahead<P){if(xe(R),R.lookahead<P&&pe===g)return k;if(R.lookahead===0)break}if(ve=0,R.lookahead>=D&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+D-1])&R.hash_mask,ve=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=D-1,ve!==0&&R.prev_length<R.max_lazy_match&&R.strstart-ve<=R.w_size-P&&(R.match_length=te(R,ve),R.match_length<=5&&(R.strategy===1||R.match_length===D&&4096<R.strstart-R.match_start)&&(R.match_length=D-1)),R.prev_length>=D&&R.match_length<=R.prev_length){for(de=R.strstart+R.lookahead-D,ie=s._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-D),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=de&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+D-1])&R.hash_mask,ve=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=D-1,R.strstart++,ie&&(V(R,!1),R.strm.avail_out===0))return k}else if(R.match_available){if((ie=s._tr_tally(R,0,R.window[R.strstart-1]))&&V(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return k}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(ie=s._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<D-1?R.strstart:D-1,pe===h?(V(R,!0),R.strm.avail_out===0?H:Y):R.last_lit&&(V(R,!1),R.strm.avail_out===0)?k:I}function Fe(R,pe,ve,ie,de){this.good_length=R,this.max_lazy=pe,this.nice_length=ve,this.max_chain=ie,this.func=de}function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*p),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*E+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(f+1),this.heap=new a.Buf16(2*b+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*b+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(R){var pe;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=c,(pe=R.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?O:z,R.adler=pe.wrap===2?0:1,pe.last_flush=g,s._tr_init(pe),_):q(R,x)}function Qe(R){var pe=_e(R);return pe===_&&function(ve){ve.window_size=2*ve.w_size,$(ve.head),ve.max_lazy_match=n[ve.level].max_lazy,ve.good_match=n[ve.level].good_length,ve.nice_match=n[ve.level].nice_length,ve.max_chain_length=n[ve.level].max_chain,ve.strstart=0,ve.block_start=0,ve.lookahead=0,ve.insert=0,ve.match_length=ve.prev_length=D-1,ve.match_available=0,ve.ins_h=0}(R.state),pe}function Xe(R,pe,ve,ie,de,be){if(!R)return x;var Ue=1;if(pe===S&&(pe=6),ie<0?(Ue=0,ie=-ie):15<ie&&(Ue=2,ie-=16),de<1||y<de||ve!==v||ie<8||15<ie||pe<0||9<pe||be<0||w<be)return q(R,x);ie===8&&(ie=9);var Be=new Me;return(R.state=Be).strm=R,Be.wrap=Ue,Be.gzhead=null,Be.w_bits=ie,Be.w_size=1<<Be.w_bits,Be.w_mask=Be.w_size-1,Be.hash_bits=de+7,Be.hash_size=1<<Be.hash_bits,Be.hash_mask=Be.hash_size-1,Be.hash_shift=~~((Be.hash_bits+D-1)/D),Be.window=new a.Buf8(2*Be.w_size),Be.head=new a.Buf16(Be.hash_size),Be.prev=new a.Buf16(Be.w_size),Be.lit_bufsize=1<<de+6,Be.pending_buf_size=4*Be.lit_bufsize,Be.pending_buf=new a.Buf8(Be.pending_buf_size),Be.d_buf=1*Be.lit_bufsize,Be.l_buf=3*Be.lit_bufsize,Be.level=pe,Be.strategy=be,Be.method=ve,Qe(R)}n=[new Fe(0,0,0,0,function(R,pe){var ve=65535;for(ve>R.pending_buf_size-5&&(ve=R.pending_buf_size-5);;){if(R.lookahead<=1){if(xe(R),R.lookahead===0&&pe===g)return k;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var ie=R.block_start+ve;if((R.strstart===0||R.strstart>=ie)&&(R.lookahead=R.strstart-ie,R.strstart=ie,V(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-P&&(V(R,!1),R.strm.avail_out===0))return k}return R.insert=0,pe===h?(V(R,!0),R.strm.avail_out===0?H:Y):(R.strstart>R.block_start&&(V(R,!1),R.strm.avail_out),k)}),new Fe(4,4,8,4,Ne),new Fe(4,5,16,8,Ne),new Fe(4,6,32,32,Ne),new Fe(4,4,16,16,ye),new Fe(8,16,32,32,ye),new Fe(8,16,128,128,ye),new Fe(8,32,128,256,ye),new Fe(32,128,258,1024,ye),new Fe(32,258,258,4096,ye)],r.deflateInit=function(R,pe){return Xe(R,pe,v,15,8,0)},r.deflateInit2=Xe,r.deflateReset=Qe,r.deflateResetKeep=_e,r.deflateSetHeader=function(R,pe){return R&&R.state?R.state.wrap!==2?x:(R.state.gzhead=pe,_):x},r.deflate=function(R,pe){var ve,ie,de,be;if(!R||!R.state||5<pe||pe<0)return R?q(R,x):x;if(ie=R.state,!R.output||!R.input&&R.avail_in!==0||ie.status===666&&pe!==h)return q(R,R.avail_out===0?-5:x);if(ie.strm=R,ve=ie.last_flush,ie.last_flush=pe,ie.status===O)if(ie.wrap===2)R.adler=0,X(ie,31),X(ie,139),X(ie,8),ie.gzhead?(X(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),X(ie,255&ie.gzhead.time),X(ie,ie.gzhead.time>>8&255),X(ie,ie.gzhead.time>>16&255),X(ie,ie.gzhead.time>>24&255),X(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),X(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(X(ie,255&ie.gzhead.extra.length),X(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(R.adler=u(R.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(X(ie,0),X(ie,0),X(ie,0),X(ie,0),X(ie,0),X(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),X(ie,3),ie.status=z);else{var Ue=v+(ie.w_bits-8<<4)<<8;Ue|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(Ue|=32),Ue+=31-Ue%31,ie.status=z,Q(ie,Ue),ie.strstart!==0&&(Q(ie,R.adler>>>16),Q(ie,65535&R.adler)),R.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(de=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>de&&(R.adler=u(R.adler,ie.pending_buf,ie.pending-de,de)),j(R),de=ie.pending,ie.pending!==ie.pending_buf_size));)X(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>de&&(R.adler=u(R.adler,ie.pending_buf,ie.pending-de,de)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){de=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>de&&(R.adler=u(R.adler,ie.pending_buf,ie.pending-de,de)),j(R),de=ie.pending,ie.pending===ie.pending_buf_size)){be=1;break}be=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,X(ie,be)}while(be!==0);ie.gzhead.hcrc&&ie.pending>de&&(R.adler=u(R.adler,ie.pending_buf,ie.pending-de,de)),be===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){de=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>de&&(R.adler=u(R.adler,ie.pending_buf,ie.pending-de,de)),j(R),de=ie.pending,ie.pending===ie.pending_buf_size)){be=1;break}be=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,X(ie,be)}while(be!==0);ie.gzhead.hcrc&&ie.pending>de&&(R.adler=u(R.adler,ie.pending_buf,ie.pending-de,de)),be===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&j(R),ie.pending+2<=ie.pending_buf_size&&(X(ie,255&R.adler),X(ie,R.adler>>8&255),R.adler=0,ie.status=z)):ie.status=z),ie.pending!==0){if(j(R),R.avail_out===0)return ie.last_flush=-1,_}else if(R.avail_in===0&&G(pe)<=G(ve)&&pe!==h)return q(R,-5);if(ie.status===666&&R.avail_in!==0)return q(R,-5);if(R.avail_in!==0||ie.lookahead!==0||pe!==g&&ie.status!==666){var Be=ie.strategy===2?function(Se,Ie){for(var je;;){if(Se.lookahead===0&&(xe(Se),Se.lookahead===0)){if(Ie===g)return k;break}if(Se.match_length=0,je=s._tr_tally(Se,0,Se.window[Se.strstart]),Se.lookahead--,Se.strstart++,je&&(V(Se,!1),Se.strm.avail_out===0))return k}return Se.insert=0,Ie===h?(V(Se,!0),Se.strm.avail_out===0?H:Y):Se.last_lit&&(V(Se,!1),Se.strm.avail_out===0)?k:I}(ie,pe):ie.strategy===3?function(Se,Ie){for(var je,Ke,Pe,ht,yt=Se.window;;){if(Se.lookahead<=M){if(xe(Se),Se.lookahead<=M&&Ie===g)return k;if(Se.lookahead===0)break}if(Se.match_length=0,Se.lookahead>=D&&0<Se.strstart&&(Ke=yt[Pe=Se.strstart-1])===yt[++Pe]&&Ke===yt[++Pe]&&Ke===yt[++Pe]){ht=Se.strstart+M;do;while(Ke===yt[++Pe]&&Ke===yt[++Pe]&&Ke===yt[++Pe]&&Ke===yt[++Pe]&&Ke===yt[++Pe]&&Ke===yt[++Pe]&&Ke===yt[++Pe]&&Ke===yt[++Pe]&&Pe<ht);Se.match_length=M-(ht-Pe),Se.match_length>Se.lookahead&&(Se.match_length=Se.lookahead)}if(Se.match_length>=D?(je=s._tr_tally(Se,1,Se.match_length-D),Se.lookahead-=Se.match_length,Se.strstart+=Se.match_length,Se.match_length=0):(je=s._tr_tally(Se,0,Se.window[Se.strstart]),Se.lookahead--,Se.strstart++),je&&(V(Se,!1),Se.strm.avail_out===0))return k}return Se.insert=0,Ie===h?(V(Se,!0),Se.strm.avail_out===0?H:Y):Se.last_lit&&(V(Se,!1),Se.strm.avail_out===0)?k:I}(ie,pe):n[ie.level].func(ie,pe);if(Be!==H&&Be!==Y||(ie.status=666),Be===k||Be===H)return R.avail_out===0&&(ie.last_flush=-1),_;if(Be===I&&(pe===1?s._tr_align(ie):pe!==5&&(s._tr_stored_block(ie,0,0,!1),pe===3&&($(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),j(R),R.avail_out===0))return ie.last_flush=-1,_}return pe!==h?_:ie.wrap<=0?1:(ie.wrap===2?(X(ie,255&R.adler),X(ie,R.adler>>8&255),X(ie,R.adler>>16&255),X(ie,R.adler>>24&255),X(ie,255&R.total_in),X(ie,R.total_in>>8&255),X(ie,R.total_in>>16&255),X(ie,R.total_in>>24&255)):(Q(ie,R.adler>>>16),Q(ie,65535&R.adler)),j(R),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?_:1)},r.deflateEnd=function(R){var pe;return R&&R.state?(pe=R.state.status)!==O&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==z&&pe!==666?q(R,x):(R.state=null,pe===z?q(R,-3):_):x},r.deflateSetDictionary=function(R,pe){var ve,ie,de,be,Ue,Be,Se,Ie,je=pe.length;if(!R||!R.state||(be=(ve=R.state).wrap)===2||be===1&&ve.status!==O||ve.lookahead)return x;for(be===1&&(R.adler=o(R.adler,pe,je,0)),ve.wrap=0,je>=ve.w_size&&(be===0&&($(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0),Ie=new a.Buf8(ve.w_size),a.arraySet(Ie,pe,je-ve.w_size,ve.w_size,0),pe=Ie,je=ve.w_size),Ue=R.avail_in,Be=R.next_in,Se=R.input,R.avail_in=je,R.next_in=0,R.input=pe,xe(ve);ve.lookahead>=D;){for(ie=ve.strstart,de=ve.lookahead-(D-1);ve.ins_h=(ve.ins_h<<ve.hash_shift^ve.window[ie+D-1])&ve.hash_mask,ve.prev[ie&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=ie,ie++,--de;);ve.strstart=ie,ve.lookahead=D-1,xe(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=D-1,ve.match_available=0,R.next_in=Be,R.input=Se,R.avail_in=Ue,ve.wrap=be,_},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(n,a){var s,o,u,l,g,h,_,x,S,w,c,v,y,b,C,E,p,f,D,M,P,O,z,k,I;s=n.state,o=n.next_in,k=n.input,u=o+(n.avail_in-5),l=n.next_out,I=n.output,g=l-(a-n.avail_out),h=l+(n.avail_out-257),_=s.dmax,x=s.wsize,S=s.whave,w=s.wnext,c=s.window,v=s.hold,y=s.bits,b=s.lencode,C=s.distcode,E=(1<<s.lenbits)-1,p=(1<<s.distbits)-1;e:do{y<15&&(v+=k[o++]<<y,y+=8,v+=k[o++]<<y,y+=8),f=b[v&E];t:for(;;){if(v>>>=D=f>>>24,y-=D,(D=f>>>16&255)===0)I[l++]=65535&f;else{if(!(16&D)){if(!(64&D)){f=b[(65535&f)+(v&(1<<D)-1)];continue t}if(32&D){s.mode=12;break e}n.msg="invalid literal/length code",s.mode=30;break e}M=65535&f,(D&=15)&&(y<D&&(v+=k[o++]<<y,y+=8),M+=v&(1<<D)-1,v>>>=D,y-=D),y<15&&(v+=k[o++]<<y,y+=8,v+=k[o++]<<y,y+=8),f=C[v&p];r:for(;;){if(v>>>=D=f>>>24,y-=D,!(16&(D=f>>>16&255))){if(!(64&D)){f=C[(65535&f)+(v&(1<<D)-1)];continue r}n.msg="invalid distance code",s.mode=30;break e}if(P=65535&f,y<(D&=15)&&(v+=k[o++]<<y,(y+=8)<D&&(v+=k[o++]<<y,y+=8)),_<(P+=v&(1<<D)-1)){n.msg="invalid distance too far back",s.mode=30;break e}if(v>>>=D,y-=D,(D=l-g)<P){if(S<(D=P-D)&&s.sane){n.msg="invalid distance too far back",s.mode=30;break e}if(z=c,(O=0)===w){if(O+=x-D,D<M){for(M-=D;I[l++]=c[O++],--D;);O=l-P,z=I}}else if(w<D){if(O+=x+w-D,(D-=w)<M){for(M-=D;I[l++]=c[O++],--D;);if(O=0,w<M){for(M-=D=w;I[l++]=c[O++],--D;);O=l-P,z=I}}}else if(O+=w-D,D<M){for(M-=D;I[l++]=c[O++],--D;);O=l-P,z=I}for(;2<M;)I[l++]=z[O++],I[l++]=z[O++],I[l++]=z[O++],M-=3;M&&(I[l++]=z[O++],1<M&&(I[l++]=z[O++]))}else{for(O=l-P;I[l++]=I[O++],I[l++]=I[O++],I[l++]=I[O++],2<(M-=3););M&&(I[l++]=I[O++],1<M&&(I[l++]=I[O++]))}break}}break}}while(o<u&&l<h);o-=M=y>>3,v&=(1<<(y-=M<<3))-1,n.next_in=o,n.next_out=l,n.avail_in=o<u?u-o+5:5-(o-u),n.avail_out=l<h?h-l+257:257-(l-h),s.hold=v,s.bits=y}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),a=e("./adler32"),s=e("./crc32"),o=e("./inffast"),u=e("./inftrees"),l=1,g=2,h=0,_=-2,x=1,S=852,w=592;function c(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(O){var z;return O&&O.state?(z=O.state,O.total_in=O.total_out=z.total=0,O.msg="",z.wrap&&(O.adler=1&z.wrap),z.mode=x,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new n.Buf32(S),z.distcode=z.distdyn=new n.Buf32(w),z.sane=1,z.back=-1,h):_}function b(O){var z;return O&&O.state?((z=O.state).wsize=0,z.whave=0,z.wnext=0,y(O)):_}function C(O,z){var k,I;return O&&O.state?(I=O.state,z<0?(k=0,z=-z):(k=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?_:(I.window!==null&&I.wbits!==z&&(I.window=null),I.wrap=k,I.wbits=z,b(O))):_}function E(O,z){var k,I;return O?(I=new v,(O.state=I).window=null,(k=C(O,z))!==h&&(O.state=null),k):_}var p,f,D=!0;function M(O){if(D){var z;for(p=new n.Buf32(512),f=new n.Buf32(32),z=0;z<144;)O.lens[z++]=8;for(;z<256;)O.lens[z++]=9;for(;z<280;)O.lens[z++]=7;for(;z<288;)O.lens[z++]=8;for(u(l,O.lens,0,288,p,0,O.work,{bits:9}),z=0;z<32;)O.lens[z++]=5;u(g,O.lens,0,32,f,0,O.work,{bits:5}),D=!1}O.lencode=p,O.lenbits=9,O.distcode=f,O.distbits=5}function P(O,z,k,I){var H,Y=O.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new n.Buf8(Y.wsize)),I>=Y.wsize?(n.arraySet(Y.window,z,k-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(I<(H=Y.wsize-Y.wnext)&&(H=I),n.arraySet(Y.window,z,k-I,H,Y.wnext),(I-=H)?(n.arraySet(Y.window,z,k-I,I,0),Y.wnext=I,Y.whave=Y.wsize):(Y.wnext+=H,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=H))),0}r.inflateReset=b,r.inflateReset2=C,r.inflateResetKeep=y,r.inflateInit=function(O){return E(O,15)},r.inflateInit2=E,r.inflate=function(O,z){var k,I,H,Y,q,G,$,j,V,X,Q,te,xe,Ne,ye,Fe,Me,_e,Qe,Xe,R,pe,ve,ie,de=0,be=new n.Buf8(4),Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return _;(k=O.state).mode===12&&(k.mode=13),q=O.next_out,H=O.output,$=O.avail_out,Y=O.next_in,I=O.input,G=O.avail_in,j=k.hold,V=k.bits,X=G,Q=$,pe=h;e:for(;;)switch(k.mode){case x:if(k.wrap===0){k.mode=13;break}for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(2&k.wrap&&j===35615){be[k.check=0]=255&j,be[1]=j>>>8&255,k.check=s(k.check,be,2,0),V=j=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&j)<<8)+(j>>8))%31){O.msg="incorrect header check",k.mode=30;break}if((15&j)!=8){O.msg="unknown compression method",k.mode=30;break}if(V-=4,R=8+(15&(j>>>=4)),k.wbits===0)k.wbits=R;else if(R>k.wbits){O.msg="invalid window size",k.mode=30;break}k.dmax=1<<R,O.adler=k.check=1,k.mode=512&j?10:12,V=j=0;break;case 2:for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(k.flags=j,(255&k.flags)!=8){O.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){O.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=j>>8&1),512&k.flags&&(be[0]=255&j,be[1]=j>>>8&255,k.check=s(k.check,be,2,0)),V=j=0,k.mode=3;case 3:for(;V<32;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.head&&(k.head.time=j),512&k.flags&&(be[0]=255&j,be[1]=j>>>8&255,be[2]=j>>>16&255,be[3]=j>>>24&255,k.check=s(k.check,be,4,0)),V=j=0,k.mode=4;case 4:for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.head&&(k.head.xflags=255&j,k.head.os=j>>8),512&k.flags&&(be[0]=255&j,be[1]=j>>>8&255,k.check=s(k.check,be,2,0)),V=j=0,k.mode=5;case 5:if(1024&k.flags){for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.length=j,k.head&&(k.head.extra_len=j),512&k.flags&&(be[0]=255&j,be[1]=j>>>8&255,k.check=s(k.check,be,2,0)),V=j=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(G<(te=k.length)&&(te=G),te&&(k.head&&(R=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),n.arraySet(k.head.extra,I,Y,te,R)),512&k.flags&&(k.check=s(k.check,I,te,Y)),G-=te,Y+=te,k.length-=te),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(G===0)break e;for(te=0;R=I[Y+te++],k.head&&R&&k.length<65536&&(k.head.name+=String.fromCharCode(R)),R&&te<G;);if(512&k.flags&&(k.check=s(k.check,I,te,Y)),G-=te,Y+=te,R)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(G===0)break e;for(te=0;R=I[Y+te++],k.head&&R&&k.length<65536&&(k.head.comment+=String.fromCharCode(R)),R&&te<G;);if(512&k.flags&&(k.check=s(k.check,I,te,Y)),G-=te,Y+=te,R)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(j!==(65535&k.check)){O.msg="header crc mismatch",k.mode=30;break}V=j=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),O.adler=k.check=0,k.mode=12;break;case 10:for(;V<32;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}O.adler=k.check=c(j),V=j=0,k.mode=11;case 11:if(k.havedict===0)return O.next_out=q,O.avail_out=$,O.next_in=Y,O.avail_in=G,k.hold=j,k.bits=V,2;O.adler=k.check=1,k.mode=12;case 12:if(z===5||z===6)break e;case 13:if(k.last){j>>>=7&V,V-=7&V,k.mode=27;break}for(;V<3;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}switch(k.last=1&j,V-=1,3&(j>>>=1)){case 0:k.mode=14;break;case 1:if(M(k),k.mode=20,z!==6)break;j>>>=2,V-=2;break e;case 2:k.mode=17;break;case 3:O.msg="invalid block type",k.mode=30}j>>>=2,V-=2;break;case 14:for(j>>>=7&V,V-=7&V;V<32;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if((65535&j)!=(j>>>16^65535)){O.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&j,V=j=0,k.mode=15,z===6)break e;case 15:k.mode=16;case 16:if(te=k.length){if(G<te&&(te=G),$<te&&(te=$),te===0)break e;n.arraySet(H,I,Y,te,q),G-=te,Y+=te,$-=te,q+=te,k.length-=te;break}k.mode=12;break;case 17:for(;V<14;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(k.nlen=257+(31&j),j>>>=5,V-=5,k.ndist=1+(31&j),j>>>=5,V-=5,k.ncode=4+(15&j),j>>>=4,V-=4,286<k.nlen||30<k.ndist){O.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;V<3;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.lens[Ue[k.have++]]=7&j,j>>>=3,V-=3}for(;k.have<19;)k.lens[Ue[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ve={bits:k.lenbits},pe=u(0,k.lens,0,19,k.lencode,0,k.work,ve),k.lenbits=ve.bits,pe){O.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;Fe=(de=k.lencode[j&(1<<k.lenbits)-1])>>>16&255,Me=65535&de,!((ye=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(Me<16)j>>>=ye,V-=ye,k.lens[k.have++]=Me;else{if(Me===16){for(ie=ye+2;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(j>>>=ye,V-=ye,k.have===0){O.msg="invalid bit length repeat",k.mode=30;break}R=k.lens[k.have-1],te=3+(3&j),j>>>=2,V-=2}else if(Me===17){for(ie=ye+3;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}V-=ye,R=0,te=3+(7&(j>>>=ye)),j>>>=3,V-=3}else{for(ie=ye+7;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}V-=ye,R=0,te=11+(127&(j>>>=ye)),j>>>=7,V-=7}if(k.have+te>k.nlen+k.ndist){O.msg="invalid bit length repeat",k.mode=30;break}for(;te--;)k.lens[k.have++]=R}}if(k.mode===30)break;if(k.lens[256]===0){O.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ve={bits:k.lenbits},pe=u(l,k.lens,0,k.nlen,k.lencode,0,k.work,ve),k.lenbits=ve.bits,pe){O.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ve={bits:k.distbits},pe=u(g,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ve),k.distbits=ve.bits,pe){O.msg="invalid distances set",k.mode=30;break}if(k.mode=20,z===6)break e;case 20:k.mode=21;case 21:if(6<=G&&258<=$){O.next_out=q,O.avail_out=$,O.next_in=Y,O.avail_in=G,k.hold=j,k.bits=V,o(O,Q),q=O.next_out,H=O.output,$=O.avail_out,Y=O.next_in,I=O.input,G=O.avail_in,j=k.hold,V=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;Fe=(de=k.lencode[j&(1<<k.lenbits)-1])>>>16&255,Me=65535&de,!((ye=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(Fe&&!(240&Fe)){for(_e=ye,Qe=Fe,Xe=Me;Fe=(de=k.lencode[Xe+((j&(1<<_e+Qe)-1)>>_e)])>>>16&255,Me=65535&de,!(_e+(ye=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}j>>>=_e,V-=_e,k.back+=_e}if(j>>>=ye,V-=ye,k.back+=ye,k.length=Me,Fe===0){k.mode=26;break}if(32&Fe){k.back=-1,k.mode=12;break}if(64&Fe){O.msg="invalid literal/length code",k.mode=30;break}k.extra=15&Fe,k.mode=22;case 22:if(k.extra){for(ie=k.extra;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.length+=j&(1<<k.extra)-1,j>>>=k.extra,V-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;Fe=(de=k.distcode[j&(1<<k.distbits)-1])>>>16&255,Me=65535&de,!((ye=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(!(240&Fe)){for(_e=ye,Qe=Fe,Xe=Me;Fe=(de=k.distcode[Xe+((j&(1<<_e+Qe)-1)>>_e)])>>>16&255,Me=65535&de,!(_e+(ye=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}j>>>=_e,V-=_e,k.back+=_e}if(j>>>=ye,V-=ye,k.back+=ye,64&Fe){O.msg="invalid distance code",k.mode=30;break}k.offset=Me,k.extra=15&Fe,k.mode=24;case 24:if(k.extra){for(ie=k.extra;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.offset+=j&(1<<k.extra)-1,j>>>=k.extra,V-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){O.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if($===0)break e;if(te=Q-$,k.offset>te){if((te=k.offset-te)>k.whave&&k.sane){O.msg="invalid distance too far back",k.mode=30;break}xe=te>k.wnext?(te-=k.wnext,k.wsize-te):k.wnext-te,te>k.length&&(te=k.length),Ne=k.window}else Ne=H,xe=q-k.offset,te=k.length;for($<te&&(te=$),$-=te,k.length-=te;H[q++]=Ne[xe++],--te;);k.length===0&&(k.mode=21);break;case 26:if($===0)break e;H[q++]=k.length,$--,k.mode=21;break;case 27:if(k.wrap){for(;V<32;){if(G===0)break e;G--,j|=I[Y++]<<V,V+=8}if(Q-=$,O.total_out+=Q,k.total+=Q,Q&&(O.adler=k.check=k.flags?s(k.check,H,Q,q-Q):a(k.check,H,Q,q-Q)),Q=$,(k.flags?j:c(j))!==k.check){O.msg="incorrect data check",k.mode=30;break}V=j=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;V<32;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(j!==(4294967295&k.total)){O.msg="incorrect length check",k.mode=30;break}V=j=0}k.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return _}return O.next_out=q,O.avail_out=$,O.next_in=Y,O.avail_in=G,k.hold=j,k.bits=V,(k.wsize||Q!==O.avail_out&&k.mode<30&&(k.mode<27||z!==4))&&P(O,O.output,O.next_out,Q-O.avail_out)?(k.mode=31,-4):(X-=O.avail_in,Q-=O.avail_out,O.total_in+=X,O.total_out+=Q,k.total+=Q,k.wrap&&Q&&(O.adler=k.check=k.flags?s(k.check,H,Q,O.next_out-Q):a(k.check,H,Q,O.next_out-Q)),O.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(X==0&&Q===0||z===4)&&pe===h&&(pe=-5),pe)},r.inflateEnd=function(O){if(!O||!O.state)return _;var z=O.state;return z.window&&(z.window=null),O.state=null,h},r.inflateGetHeader=function(O,z){var k;return O&&O.state&&2&(k=O.state).wrap?((k.head=z).done=!1,h):_},r.inflateSetDictionary=function(O,z){var k,I=z.length;return O&&O.state?(k=O.state).wrap!==0&&k.mode!==11?_:k.mode===11&&a(1,z,I,0)!==k.check?-3:P(O,z,I,I)?(k.mode=31,-4):(k.havedict=1,h):_},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(l,g,h,_,x,S,w,c){var v,y,b,C,E,p,f,D,M,P=c.bits,O=0,z=0,k=0,I=0,H=0,Y=0,q=0,G=0,$=0,j=0,V=null,X=0,Q=new n.Buf16(16),te=new n.Buf16(16),xe=null,Ne=0;for(O=0;O<=15;O++)Q[O]=0;for(z=0;z<_;z++)Q[g[h+z]]++;for(H=P,I=15;1<=I&&Q[I]===0;I--);if(I<H&&(H=I),I===0)return x[S++]=20971520,x[S++]=20971520,c.bits=1,0;for(k=1;k<I&&Q[k]===0;k++);for(H<k&&(H=k),O=G=1;O<=15;O++)if(G<<=1,(G-=Q[O])<0)return-1;if(0<G&&(l===0||I!==1))return-1;for(te[1]=0,O=1;O<15;O++)te[O+1]=te[O]+Q[O];for(z=0;z<_;z++)g[h+z]!==0&&(w[te[g[h+z]]++]=z);if(p=l===0?(V=xe=w,19):l===1?(V=a,X-=257,xe=s,Ne-=257,256):(V=o,xe=u,-1),O=k,E=S,q=z=j=0,b=-1,C=($=1<<(Y=H))-1,l===1&&852<$||l===2&&592<$)return 1;for(;;){for(f=O-q,M=w[z]<p?(D=0,w[z]):w[z]>p?(D=xe[Ne+w[z]],V[X+w[z]]):(D=96,0),v=1<<O-q,k=y=1<<Y;x[E+(j>>q)+(y-=v)]=f<<24|D<<16|M|0,y!==0;);for(v=1<<O-1;j&v;)v>>=1;if(v!==0?(j&=v-1,j+=v):j=0,z++,--Q[O]==0){if(O===I)break;O=g[h+w[z]]}if(H<O&&(j&C)!==b){for(q===0&&(q=H),E+=k,G=1<<(Y=O-q);Y+q<I&&!((G-=Q[Y+q])<=0);)Y++,G<<=1;if($+=1<<Y,l===1&&852<$||l===2&&592<$)return 1;x[b=j&C]=H<<24|Y<<16|E-S|0}}return j!==0&&(x[E+j]=O-q<<24|64<<16|0),c.bits=H,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common"),a=0,s=1;function o(de){for(var be=de.length;0<=--be;)de[be]=0}var u=0,l=29,g=256,h=g+1+l,_=30,x=19,S=2*h+1,w=15,c=16,v=7,y=256,b=16,C=17,E=18,p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));o(P);var O=new Array(2*_);o(O);var z=new Array(512);o(z);var k=new Array(256);o(k);var I=new Array(l);o(I);var H,Y,q,G=new Array(_);function $(de,be,Ue,Be,Se){this.static_tree=de,this.extra_bits=be,this.extra_base=Ue,this.elems=Be,this.max_length=Se,this.has_stree=de&&de.length}function j(de,be){this.dyn_tree=de,this.max_code=0,this.stat_desc=be}function V(de){return de<256?z[de]:z[256+(de>>>7)]}function X(de,be){de.pending_buf[de.pending++]=255&be,de.pending_buf[de.pending++]=be>>>8&255}function Q(de,be,Ue){de.bi_valid>c-Ue?(de.bi_buf|=be<<de.bi_valid&65535,X(de,de.bi_buf),de.bi_buf=be>>c-de.bi_valid,de.bi_valid+=Ue-c):(de.bi_buf|=be<<de.bi_valid&65535,de.bi_valid+=Ue)}function te(de,be,Ue){Q(de,Ue[2*be],Ue[2*be+1])}function xe(de,be){for(var Ue=0;Ue|=1&de,de>>>=1,Ue<<=1,0<--be;);return Ue>>>1}function Ne(de,be,Ue){var Be,Se,Ie=new Array(w+1),je=0;for(Be=1;Be<=w;Be++)Ie[Be]=je=je+Ue[Be-1]<<1;for(Se=0;Se<=be;Se++){var Ke=de[2*Se+1];Ke!==0&&(de[2*Se]=xe(Ie[Ke]++,Ke))}}function ye(de){var be;for(be=0;be<h;be++)de.dyn_ltree[2*be]=0;for(be=0;be<_;be++)de.dyn_dtree[2*be]=0;for(be=0;be<x;be++)de.bl_tree[2*be]=0;de.dyn_ltree[2*y]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function Fe(de){8<de.bi_valid?X(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function Me(de,be,Ue,Be){var Se=2*be,Ie=2*Ue;return de[Se]<de[Ie]||de[Se]===de[Ie]&&Be[be]<=Be[Ue]}function _e(de,be,Ue){for(var Be=de.heap[Ue],Se=Ue<<1;Se<=de.heap_len&&(Se<de.heap_len&&Me(be,de.heap[Se+1],de.heap[Se],de.depth)&&Se++,!Me(be,Be,de.heap[Se],de.depth));)de.heap[Ue]=de.heap[Se],Ue=Se,Se<<=1;de.heap[Ue]=Be}function Qe(de,be,Ue){var Be,Se,Ie,je,Ke=0;if(de.last_lit!==0)for(;Be=de.pending_buf[de.d_buf+2*Ke]<<8|de.pending_buf[de.d_buf+2*Ke+1],Se=de.pending_buf[de.l_buf+Ke],Ke++,Be===0?te(de,Se,be):(te(de,(Ie=k[Se])+g+1,be),(je=p[Ie])!==0&&Q(de,Se-=I[Ie],je),te(de,Ie=V(--Be),Ue),(je=f[Ie])!==0&&Q(de,Be-=G[Ie],je)),Ke<de.last_lit;);te(de,y,be)}function Xe(de,be){var Ue,Be,Se,Ie=be.dyn_tree,je=be.stat_desc.static_tree,Ke=be.stat_desc.has_stree,Pe=be.stat_desc.elems,ht=-1;for(de.heap_len=0,de.heap_max=S,Ue=0;Ue<Pe;Ue++)Ie[2*Ue]!==0?(de.heap[++de.heap_len]=ht=Ue,de.depth[Ue]=0):Ie[2*Ue+1]=0;for(;de.heap_len<2;)Ie[2*(Se=de.heap[++de.heap_len]=ht<2?++ht:0)]=1,de.depth[Se]=0,de.opt_len--,Ke&&(de.static_len-=je[2*Se+1]);for(be.max_code=ht,Ue=de.heap_len>>1;1<=Ue;Ue--)_e(de,Ie,Ue);for(Se=Pe;Ue=de.heap[1],de.heap[1]=de.heap[de.heap_len--],_e(de,Ie,1),Be=de.heap[1],de.heap[--de.heap_max]=Ue,de.heap[--de.heap_max]=Be,Ie[2*Se]=Ie[2*Ue]+Ie[2*Be],de.depth[Se]=(de.depth[Ue]>=de.depth[Be]?de.depth[Ue]:de.depth[Be])+1,Ie[2*Ue+1]=Ie[2*Be+1]=Se,de.heap[1]=Se++,_e(de,Ie,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(yt,le){var ue,ge,$e,ke,it,st,se=le.dyn_tree,Ge=le.max_code,Je=le.stat_desc.static_tree,pt=le.stat_desc.has_stree,Le=le.stat_desc.extra_bits,ot=le.stat_desc.extra_base,oe=le.stat_desc.max_length,ut=0;for(ke=0;ke<=w;ke++)yt.bl_count[ke]=0;for(se[2*yt.heap[yt.heap_max]+1]=0,ue=yt.heap_max+1;ue<S;ue++)oe<(ke=se[2*se[2*(ge=yt.heap[ue])+1]+1]+1)&&(ke=oe,ut++),se[2*ge+1]=ke,Ge<ge||(yt.bl_count[ke]++,it=0,ot<=ge&&(it=Le[ge-ot]),st=se[2*ge],yt.opt_len+=st*(ke+it),pt&&(yt.static_len+=st*(Je[2*ge+1]+it)));if(ut!==0){do{for(ke=oe-1;yt.bl_count[ke]===0;)ke--;yt.bl_count[ke]--,yt.bl_count[ke+1]+=2,yt.bl_count[oe]--,ut-=2}while(0<ut);for(ke=oe;ke!==0;ke--)for(ge=yt.bl_count[ke];ge!==0;)Ge<($e=yt.heap[--ue])||(se[2*$e+1]!==ke&&(yt.opt_len+=(ke-se[2*$e+1])*se[2*$e],se[2*$e+1]=ke),ge--)}}(de,be),Ne(Ie,ht,de.bl_count)}function R(de,be,Ue){var Be,Se,Ie=-1,je=be[1],Ke=0,Pe=7,ht=4;for(je===0&&(Pe=138,ht=3),be[2*(Ue+1)+1]=65535,Be=0;Be<=Ue;Be++)Se=je,je=be[2*(Be+1)+1],++Ke<Pe&&Se===je||(Ke<ht?de.bl_tree[2*Se]+=Ke:Se!==0?(Se!==Ie&&de.bl_tree[2*Se]++,de.bl_tree[2*b]++):Ke<=10?de.bl_tree[2*C]++:de.bl_tree[2*E]++,Ie=Se,ht=(Ke=0)===je?(Pe=138,3):Se===je?(Pe=6,3):(Pe=7,4))}function pe(de,be,Ue){var Be,Se,Ie=-1,je=be[1],Ke=0,Pe=7,ht=4;for(je===0&&(Pe=138,ht=3),Be=0;Be<=Ue;Be++)if(Se=je,je=be[2*(Be+1)+1],!(++Ke<Pe&&Se===je)){if(Ke<ht)for(;te(de,Se,de.bl_tree),--Ke!=0;);else Se!==0?(Se!==Ie&&(te(de,Se,de.bl_tree),Ke--),te(de,b,de.bl_tree),Q(de,Ke-3,2)):Ke<=10?(te(de,C,de.bl_tree),Q(de,Ke-3,3)):(te(de,E,de.bl_tree),Q(de,Ke-11,7));Ie=Se,ht=(Ke=0)===je?(Pe=138,3):Se===je?(Pe=6,3):(Pe=7,4)}}o(G);var ve=!1;function ie(de,be,Ue,Be){Q(de,(u<<1)+(Be?1:0),3),function(Se,Ie,je,Ke){Fe(Se),Ke&&(X(Se,je),X(Se,~je)),n.arraySet(Se.pending_buf,Se.window,Ie,je,Se.pending),Se.pending+=je}(de,be,Ue,!0)}r._tr_init=function(de){ve||(function(){var be,Ue,Be,Se,Ie,je=new Array(w+1);for(Se=Be=0;Se<l-1;Se++)for(I[Se]=Be,be=0;be<1<<p[Se];be++)k[Be++]=Se;for(k[Be-1]=Se,Se=Ie=0;Se<16;Se++)for(G[Se]=Ie,be=0;be<1<<f[Se];be++)z[Ie++]=Se;for(Ie>>=7;Se<_;Se++)for(G[Se]=Ie<<7,be=0;be<1<<f[Se]-7;be++)z[256+Ie++]=Se;for(Ue=0;Ue<=w;Ue++)je[Ue]=0;for(be=0;be<=143;)P[2*be+1]=8,be++,je[8]++;for(;be<=255;)P[2*be+1]=9,be++,je[9]++;for(;be<=279;)P[2*be+1]=7,be++,je[7]++;for(;be<=287;)P[2*be+1]=8,be++,je[8]++;for(Ne(P,h+1,je),be=0;be<_;be++)O[2*be+1]=5,O[2*be]=xe(be,5);H=new $(P,p,g+1,h,w),Y=new $(O,f,0,_,w),q=new $(new Array(0),D,0,x,v)}(),ve=!0),de.l_desc=new j(de.dyn_ltree,H),de.d_desc=new j(de.dyn_dtree,Y),de.bl_desc=new j(de.bl_tree,q),de.bi_buf=0,de.bi_valid=0,ye(de)},r._tr_stored_block=ie,r._tr_flush_block=function(de,be,Ue,Be){var Se,Ie,je=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(Ke){var Pe,ht=4093624447;for(Pe=0;Pe<=31;Pe++,ht>>>=1)if(1&ht&&Ke.dyn_ltree[2*Pe]!==0)return a;if(Ke.dyn_ltree[18]!==0||Ke.dyn_ltree[20]!==0||Ke.dyn_ltree[26]!==0)return s;for(Pe=32;Pe<g;Pe++)if(Ke.dyn_ltree[2*Pe]!==0)return s;return a}(de)),Xe(de,de.l_desc),Xe(de,de.d_desc),je=function(Ke){var Pe;for(R(Ke,Ke.dyn_ltree,Ke.l_desc.max_code),R(Ke,Ke.dyn_dtree,Ke.d_desc.max_code),Xe(Ke,Ke.bl_desc),Pe=x-1;3<=Pe&&Ke.bl_tree[2*M[Pe]+1]===0;Pe--);return Ke.opt_len+=3*(Pe+1)+5+5+4,Pe}(de),Se=de.opt_len+3+7>>>3,(Ie=de.static_len+3+7>>>3)<=Se&&(Se=Ie)):Se=Ie=Ue+5,Ue+4<=Se&&be!==-1?ie(de,be,Ue,Be):de.strategy===4||Ie===Se?(Q(de,2+(Be?1:0),3),Qe(de,P,O)):(Q(de,4+(Be?1:0),3),function(Ke,Pe,ht,yt){var le;for(Q(Ke,Pe-257,5),Q(Ke,ht-1,5),Q(Ke,yt-4,4),le=0;le<yt;le++)Q(Ke,Ke.bl_tree[2*M[le]+1],3);pe(Ke,Ke.dyn_ltree,Pe-1),pe(Ke,Ke.dyn_dtree,ht-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,je+1),Qe(de,de.dyn_ltree,de.dyn_dtree)),ye(de),Be&&Fe(de)},r._tr_tally=function(de,be,Ue){return de.pending_buf[de.d_buf+2*de.last_lit]=be>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&be,de.pending_buf[de.l_buf+de.last_lit]=255&Ue,de.last_lit++,be===0?de.dyn_ltree[2*Ue]++:(de.matches++,be--,de.dyn_ltree[2*(k[Ue]+g+1)]++,de.dyn_dtree[2*V(be)]++),de.last_lit===de.lit_bufsize-1},r._tr_align=function(de){Q(de,2,3),te(de,y,P),function(be){be.bi_valid===16?(X(be,be.bi_buf),be.bi_buf=0,be.bi_valid=0):8<=be.bi_valid&&(be.pending_buf[be.pending++]=255&be.bi_buf,be.bi_buf>>=8,be.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(n){(function(a,s){"use strict";if(!a.setImmediate){var o,u,l,g,h=1,_={},x=!1,S=a.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(a);w=w&&w.setTimeout?w:a,o={}.toString.call(a.process)==="[object process]"?function(b){process.nextTick(function(){v(b)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,C=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=C,b}}()?(g="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",y,!1):a.attachEvent("onmessage",y),function(b){a.postMessage(g+b,"*")}):a.MessageChannel?((l=new MessageChannel).port1.onmessage=function(b){v(b.data)},function(b){l.port2.postMessage(b)}):S&&"onreadystatechange"in S.createElement("script")?(u=S.documentElement,function(b){var C=S.createElement("script");C.onreadystatechange=function(){v(b),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(b){setTimeout(v,0,b)},w.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var C=new Array(arguments.length-1),E=0;E<C.length;E++)C[E]=arguments[E+1];var p={callback:b,args:C};return _[h]=p,o(h),h++},w.clearImmediate=c}function c(b){delete _[b]}function v(b){if(x)setTimeout(v,0,b);else{var C=_[b];if(C){x=!0;try{(function(E){var p=E.callback,f=E.args;switch(f.length){case 0:p();break;case 1:p(f[0]);break;case 2:p(f[0],f[1]);break;case 3:p(f[0],f[1],f[2]);break;default:p.apply(s,f)}})(C)}finally{c(b),x=!1}}}}function y(b){b.source===a&&typeof b.data=="string"&&b.data.indexOf(g)===0&&v(+b.data.slice(g.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var KO=Pn((fde,YO)=>{"use strict";var Tg={};Tg._getBinaryFromXHR=function(e){return e.response||e.responseText};function VO(){try{return new window.XMLHttpRequest}catch{}}function UR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch{}}var jR=typeof window<"u"&&window.ActiveXObject?function(){return VO()||UR()}:VO;Tg.getBinaryContent=function(e,t){var r,n,a,s;t||(t={}),typeof t=="function"?(s=t,t={}):typeof t.callback=="function"&&(s=t.callback),!s&&typeof Promise<"u"?r=new Promise(function(u,l){n=u,a=l}):(n=function(u){s(null,u)},a=function(u){s(u,null)});try{var o=jR();o.open("GET",e,!0),"responseType"in o&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(u){if(o.readyState===4)if(o.status===200||o.status===0)try{n(Tg._getBinaryFromXHR(o))}catch(l){a(new Error(l))}else a(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText))},t.progress&&(o.onprogress=function(u){t.progress({path:e,originalEvent:u,percent:u.loaded/u.total*100,loaded:u.loaded,total:u.total})}),o.send()}catch(u){a(new Error(u),null)}return r};YO.exports=Tg});var ln,Lg,WR,GR,Og,ZO=ae(()=>{ln=en(Nn()),Lg=en(jf());Sn();WR=HO(),GR=KO(),Og=class extends ln.default.Component{constructor(t){super(t),this.state={}}getConf=()=>{let t=`job,step_number,type,name,version,parameters
`,r="";return this.props.analyses.forEach(n=>{n=n.replace(/_job/,""),console.log("Getting config for "+n),JSON.parse(si(n,this.props.joblist_url,"application/json")).steps.forEach(s=>{s.task.configuration.length!==0&&s.task.configuration.forEach(o=>{r+=n+","+s.ordering+","+o.type+","+o.name+","+o.version+","+o.parameters+`
`})})}),t+r};returnJobConfig=()=>{let t=this.getConf();(0,Lg.saveAs)(new Blob(t.split()),this.props.uuid+".csv")};getSVGArea=t=>{var r=document.getElementById(t);let n=null;return r&&(n=r.innerHTML,n=n.replace(/<g id="toggle".+?<\/g>/,""),n=n.replace(/<g id="buttons".+?<\/g>/,"")),n};returnZip=async()=>{let t=new WR;Object.keys(this.props.results_files).forEach(a=>{Object.keys(this.props.results_files[a]).forEach(s=>{if(s.includes(".png")||s.includes(".jpg")||s.includes(".jpeg")||s.includes(".gif")){let u=this.props.files_url+"/submissions/"+s;var o=null;try{o=GR.getBinaryContent(u)}catch{console.log("Could not get image data for zip: "+s)}t.file(s,o,{binary:!0})}else t.file(s,this.props.results_files[a][s])})}),t.file("job_configuration.csv",this.getConf());var r=this.getSVGArea("sequence_plot");r&&t.file("seq_annotation.svg",r),r=this.getSVGArea("psipred_horiz"),r&&t.file("psipred_cartoon.svg",r),r=this.getSVGArea("disorder_svg"),r&&t.file("disorder_precision.svg",r);let n=await t.generateAsync({type:"blob"});(0,Lg.saveAs)(n,this.props.uuid+".zip")};packageJobDetails=()=>{};getFile=t=>{Object.keys(this.props.results_files).forEach(r=>{Object.keys(this.props.results_files[r]).forEach(n=>{console.log("Getting "+n),n.includes(t.target.value)&&(0,Lg.saveAs)(new Blob(this.props.results_files[r][n].split()),n)})})};createDownloadLinks=(t,r,n)=>{let a=[];return a.push(ln.default.createElement("h5",{key:t},n)),t++,r.forEach(s=>{a.push(ln.default.createElement("button",{className:"fake-link",key:t,onClick:this.getFile,value:s[0]},s[1])),t++,a.push(ln.default.createElement("br",{key:t})),t++}),[a,t]};renderDownloads=()=>{let t=[],r=0;return this.props.struct_job_names.forEach(n=>{let a=[];this.props.analyses.includes(n+"_job")&&(n===this.props.job_strings.metsite.varName&&(a=this.createDownloadLinks(r,[[".MetPred","Metsite PDB"],[".Metpred","Mesite Predictions"]],this.props.job_strings.metsite.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.hspred.varName&&(a=this.createDownloadLinks(r,[["initial.pdb","HSPred First PDB File"],["second.pdb","HSPred Second PDB File"],[".out","HSPRed Predictions"]],this.props.job_strings.hspred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.memembed.varName&&(a=this.createDownloadLinks(r,[[".pdb","PDB Embedding"]],this.props.job_strings.memembed.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.merizo.varName&&(a=this.createDownloadLinks(r,[[".pdb2",this.props.job_strings.merizo.shortName+" Annotated PDB"],[".dom_pdb",this.props.job_strings.merizo.shortName+" Domain PDB files"],[".merizo",this.props.job_strings.merizo.shortName+" Boundaries"]],this.props.job_strings.merizo.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.merizosearch.varName&&(a=this.createDownloadLinks(r,[[".pdb2",this.props.job_strings.merizo.shortName+" Annotated PDB"],[".dom_pdb",this.props.job_strings.merizo.shortName+" Domain PDB files (all)"],["_segment.tsv",this.props.job_strings.merizo.shortName+" Segmenting Result"],["_search.tsv",this.props.job_strings.merizo.shortName+" Significant Results"],["_search_insignificant.tsv",this.props.job_strings.merizo.shortName+" Insignificant Results"]],this.props.job_strings.merizo.shortName+" DOWNLOADS"),t.push(a[0])),r=a[1])}),this.props.seq_job_names.forEach(n=>{let a=[];this.props.analyses.includes(n+"_job")&&((n===this.props.job_strings.psipred.varName||n===this.props.job_strings.dmp.varName)&&(a=this.createDownloadLinks(r,[[".horiz","Horiz Format Output"],[".ss2","SS2 Format Output"]],this.props.job_strings.psipred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.pgenthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.pgenthreader.shortName+" Hits"]],this.props.job_strings.pgenthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.disopred.varName&&(a=this.createDownloadLinks(r,[[".comb","COMB Format Output"],[".pbdat","PBDAT Format Output"]],this.props.job_strings.disopred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.memsatsvm.varName&&(a=this.createDownloadLinks(r,[[".memsat_svm",this.props.job_strings.memsatsvm.shortName+" text format"]],this.props.job_strings.memsatsvm.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmp.varName&&(a=this.createDownloadLinks(r,[[".con",this.props.job_strings.dmp.shortName+" Contact List"]],this.props.job_strings.dmp.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.genthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.genthreader.shortName+" Hits"]],this.props.job_strings.genthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.pdomthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.pdomthreader.shortName+" Hits"]],this.props.job_strings.pdomthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmpfold.varName&&(a=this.createDownloadLinks(r,[[".pdb","PDB Model"]],this.props.job_strings.dmpfold.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.s4pred.varName&&(a=this.createDownloadLinks(r,[[".horiz","Horiz Format Output"],[".ss2","SS2 Format Output"]],this.props.job_strings.s4pred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dompred.varName&&(a=this.createDownloadLinks(r,[[".boundary",this.props.job_strings.dompred.shortName+" Boundaries"]],this.props.job_strings.dompred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.ffpred.varName&&(a=this.createDownloadLinks(r,[[".featcfg",this.props.job_strings.ffpred.shortName+" Predicted Features"],[".full_formatted",this.props.job_strings.ffpred.shortName+" Predictions"]],this.props.job_strings.ffpred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.mempack.varName&&(a=this.createDownloadLinks(r,[["_LIPID_EXPOSURE.results",this.props.job_strings.mempack.shortName+" Lipid Exposure Results"],["_CONTACT_DEF1.results",this.props.job_strings.mempack.shortName+" Contacts"]],this.props.job_strings.mempack.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmpmetal.varName&&(a=this.createDownloadLinks(r,[[".dmpmetal",this.props.job_strings.dmpmetal.shortName+" Residue Results"]],this.props.job_strings.dmpmetal.shortName+" DOWNLOADS"),t.push(a[0])),r=a[1])}),ln.default.createElement("div",null,t)};render(){return ln.default.createElement("div",{className:"box box-warning",id:"downloads_widget"},ln.default.createElement("div",{className:"box-header with-border"},ln.default.createElement("h5",{className:"box-title"},"Downloads"),ln.default.createElement("div",{className:"box-tools pull-right"},ln.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},ln.default.createElement("i",{className:"fa fa-minus"})))),ln.default.createElement("div",{className:"box-body"},ln.default.createElement("h5",null,"RESULTS ZIP FILE"),ln.default.createElement("button",{className:"fake-link",onClick:this.returnZip},"Get Zip File"),ln.default.createElement("br",null),ln.default.createElement("br",null),ln.default.createElement("h5",null,"JOB CONFIGURATION"),ln.default.createElement("button",{className:"fake-link",onClick:this.returnJobConfig},"Get Job Details"),ln.default.createElement("br",null),ln.default.createElement("br",null),this.props.results_files?this.renderDownloads():null),this.props.waiting&&ln.default.createElement("div",{className:"overlay processing"},ln.default.createElement("i",{className:"fa fa-refresh fa-spin"})))}}});var It,kg,XO=ae(()=>{It=en(Nn()),kg=class extends It.default.Component{constructor(t){super(t),this.state={analyses:["psipred_job"],seqStart:1,seqStop:this.props.seq.length,bioDomModellerKey:""},this.timer=null}handleResubmit=t=>{t.preventDefault();let r=this.props.seq.slice(this.state.seqStart-1,this.state.seqStop);console.log("PREPPING RESUBMIT");let n=this.props.name,a=this.props.email;this.props.handleResubmit(this.state.analyses,r,n,a,t)};componentDidUpdate(){}triggerStartChange=t=>{console.log(t),t.length===0&&this.setState({seqStart:1}),t>this.state.seqStop&&this.setState({seqStart:this.state.seqStop})};triggerStopChange=t=>{console.log(t),t.length===0||t>this.props.seq.length?this.setState({seqStop:this.props.seq.length}):t<this.state.seqStart&&this.setState({seqStop:this.state.seqStart})};handleChange=t=>{if(t.target.name==="bioserf_domserf_modeller_key"&&this.setState({bioDomModellerKey:t.target.value,bioserf_modeller_key:t.target.value,domserf_modeller_key:t.target.value}),t.target.name==="start_coord"){clearTimeout(this.timer);let r=" ";r=parseInt(t.target.value),(r&&r>0||!r)&&(r||(r=""),this.setState({seqStart:r}),this.timer=setTimeout(this.triggerStartChange.bind(null,r),1e3))}if(t.target.name==="stop_coord"){clearTimeout(this.timer);let r="";r=parseInt(t.target.value),(r&&r>0||!r)&&(r||(r=""),this.setState({seqStop:r}),this.timer=setTimeout(this.triggerStopChange.bind(null,r),1e3))}};render(){return It.default.createElement("div",{className:"box box-success collapsed-box",id:"resubmission_widget"},It.default.createElement("div",{className:"box-header with-border"},It.default.createElement("h5",{className:"box-title"},"Segment Resubmission"),It.default.createElement("div",{className:"box-tools pull-right"},It.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},It.default.createElement("i",{className:"fa fa-plus"})))),It.default.createElement("div",{className:"box-body"},It.default.createElement("br",null),It.default.createElement("form",{method:"Post",className:"form",intro:"slide",outro:"slide",onSubmit:this.handleResubmit},It.default.createElement("br",null),It.default.createElement("h5",{"data-toggle":"tool-tip",title:"Select subsequence regions from your current result"},"Select subsequence region"),"Start Coordinate ",It.default.createElement("input",{type:"text",id:"start_coord",name:"start_coord",className:"sequence_coord",value:this.state.seqStart,onChange:this.handleChange})," - Stop Coordinate ",It.default.createElement("input",{id:"stop_coord",type:"text",name:"stop_coord",className:"sequence_coord",value:this.state.seqStop,onChange:this.handleChange}),It.default.createElement("div",{className:"form-group"},It.default.createElement("br",null),It.default.createElement("h5",null,"Choose prediction methods (hover for short description)"),It.default.createElement("table",{className:"full-width-table"},It.default.createElement("tbody",null,It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.psipred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.psipred.jobName,value:this.props.job_strings.psipred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.psipred.jobName)}),It.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.psipred.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.disopred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_diospred_job",name:this.props.job_strings.disopred.jobName,value:this.props.job_strings.disopred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.disopred.jobName)}),It.default.createElement("label",{htmlFor:"id_disopred_job"},"\xA0",this.props.job_strings.disopred.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memsatsvm.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_memsatsvm_job",name:this.props.job_strings.memsatsvm.jobName,value:this.props.job_strings.memsatsvm.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.memsatsvm.jobName)}),It.default.createElement("label",{htmlFor:"id_memsatsvm_job"},"\xA0",this.props.job_strings.memsatsvm.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pgenthreader.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_pgenthreader_job",name:this.props.job_strings.pgenthreader.jobName,value:this.props.job_strings.pgenthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.pgenthreader.jobName)}),It.default.createElement("label",{htmlFor:"id_pgenthreader_job"},"\xA0",this.props.job_strings.pgenthreader.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmp.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dmp_job",name:this.props.job_strings.dmp.jobName,value:this.props.job_strings.dmp.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmp.jobName)}),It.default.createElement("label",{htmlFor:"id_dmp_job"},"\xA0",this.props.job_strings.dmp.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.mempack.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_mempack_job",name:this.props.job_strings.mempack.jobName,value:this.props.job_strings.mempack.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.mempack.jobName)}),It.default.createElement("label",{htmlFor:"id_mempack_job"},"\xA0",this.props.job_strings.mempack.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.genthreader.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_genthreader_job",name:this.props.job_strings.genthreader.jobName,value:this.props.job_strings.genthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.genthreader.jobName)}),It.default.createElement("label",{htmlFor:"id_genthreader_job"},"\xA0",this.props.job_strings.genthreader.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pdomthreader.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_pdomthreader_job",name:this.props.job_strings.pdomthreader.jobName,value:this.props.job_strings.pdomthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.pdomthreader.jobName)}),It.default.createElement("label",{htmlFor:"id_pdomthreader_job"},"\xA0",this.props.job_strings.pdomthreader.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpfold.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dmpfold_job",name:this.props.job_strings.dmpfold.jobName,value:this.props.job_strings.dmpfold.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmpfold.jobName)}),It.default.createElement("label",{htmlFor:"id_dmpfold_job"},"\xA0",this.props.job_strings.dmpfold.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dompred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dompred_job",name:this.props.job_strings.dompred.jobName,value:this.props.job_strings.dompred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dompred.jobName)}),It.default.createElement("label",{htmlFor:"id_dompred_job"},"\xA0",this.props.job_strings.dompred.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.s4pred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_s4pred_job",name:this.props.job_strings.s4pred.jobName,value:this.props.job_strings.s4pred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.s4pred.jobName)}),It.default.createElement("label",{htmlFor:"id_s4pred_job"},"\xA0",this.props.job_strings.s4pred.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.ffpred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_ffpred_job",name:this.props.job_strings.ffpred.jobName,value:this.props.job_strings.ffpred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.ffpred.jobName)}),It.default.createElement("label",{htmlFor:"id_ffpred_job"},"\xA0",this.props.job_strings.ffpred.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpmetal.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dmpmetal_job",name:this.props.job_strings.dmpmetal.jobName,value:this.props.job_strings.dmpmetal.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmpmetal.jobName)}),It.default.createElement("label",{htmlFor:"id_dmpmetal_job"},"\xA0",this.props.job_strings.dmpmetal.shortName)),It.default.createElement("td",null))))),It.default.createElement("div",{className:"text-right"},It.default.createElement("input",{value:"Resubmit",type:"submit",className:"btn btn-primary"})),It.default.createElement("br",null))),this.props.waiting&&It.default.createElement("div",{className:"overlay processing"},It.default.createElement("i",{className:"fa fa-refresh fa-spin"})))}}});function $O(e){return e==="MODELIRANJE"}function HR(e){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(t)}function VR(e){var t=/^[0-9]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(t)}function YR(e){var t=/^[0-9]+$/;return!!e.match(t)}function Fw(e){var t=/^[A-Z]$/;return!!e.match(t)}function QO(e,t,r){return e.length===0?"You must provide a protein sequence or MSA for sequence analysis submission":e.length<30?"Your sequence is too short for analysis. Minimum size is 30 residues":e.length>1500?"Your sequence is too long to process. Maximum size is 1500 residues":e.length>500&&t.includes("dmpfold")?"DMPfold jobs have a maximum sequence length of 500 residues.":e.length>500&&t.includes("dmp")?"DeepMetaPSICOV jobs have a maximum sequence length of 500 residues.":(e.match(/A|T|C|G|U|N|a|t|c|g|u|n/g)||[]).length/e.length>.95?"Your sequence appears to be nucleotide sequence. This service requires protein sequence as input":/[^ACDEFGHIKLMNPQRSTVWYX-]+/i.test(e)?"Your sequence contains invalid characters":null}var qO,JO=ae(()=>{qO=(e,t,r)=>{let n=(l,g)=>l.filter(h=>g.includes(h)).length,a={send:!1,message:null,result_page:"seq",jobs:null,pdbData:""},s=e.seq_job_names,o=e.struct_job_names;if(n(t,s)>0&&n(t,o)>0)return a.message="You can not submit both sequence and structure analysis jobs",a;if(n(t,s)===0&&n(t,o)===0)return a.message="You must select at least one analysis job",a;if(t.includes("bioserf")&&!$O(e.bioserf_modeller_key))return a.message="You have not provided a valid MODELLER key for BioSerf. Contact the Sali lab for a MODELLER licence.",a;if(t.includes("domserf")&&!$O(e.domserf_modeller_key))return a.message="You have not provided a valid MODELLER key for DomSerf. Contact the Sali lab for a MODELLER licence.",a;if(!/^[\x00-\x7F]+$/.test(e.name))return a.message="Please restrict job names to alphanumeric characters and simple punctuation",a;if(e.email.length===0){var u=window.confirm(`No email address was provided.

Analyses can be long running and we recommend users leave an
email address to receive completion alerts. Leaving an email address
also allows us to contact you if there are any problems with you analyses

Press OK to submit without an email address.`);if(u===!0)e.email="dummy@dummy.com";else return a}if(!HR(e.email))return a.message="You must provide a valid email address",a;if(e.name.length===0)return a.message="You must provide a short identifying name for your submission",a;if(n(t,o)>0&&(a.result_page="struct"),a.result_page==="seq"){if(t.length===13)return a.message="You can't select all sequence analyses",a;let l=e.seq.split(">").length-1,g=e.seq.split(`
`);if(l<=1){let h="";if(g.forEach(function(_){_.startsWith(">")||(h+=_)}),h.length<1)return a.message="No sequence provided",a;a.message=QO(e.seq,t)}else{let h=0,_=0,x={};g.forEach(function(w){w.startsWith(">")?(h+=1,x[h]=""):(x[h]+=w,_+=w.length)});let S=x[1].length*h;if(_!==S)return a.message="MSA Sequences must be of same length",a;for(let w in x)if(a.message+=QO(x[w]),a.message>0)return a}if(VR(e.dompred_e_value_cutoff)||(a.message="E Value cutoff for Dompred must be a number"),YR(e.dompred_psiblast_iterations)||(a.message="PSI-BLAST iterations for Dompred must be an integer"),a.message)return a}else{if(t.length===4)return a.message="You can't select all structure analyses",a;if(!Fw(e.metsite_chain_id))return a.message="Metsite chain ID must be a single letter",a;if(!Fw(e.hspred_protein_1))return a.message="HSPred Protein 1 must be a single letter",a;if(!Fw(e.hspred_protein_2))return a.message="HSPred Protein 2 must be a single letter",a;if(r&&!/ATOM\s+\d+/i.test(r))return a.message="Your file does not look like a plain text ascii pdb file. This service does not accept .gz or xml format pdb files",a}if(t.includes("pgenthreader")||t.includes("dompred")||t.includes("pdomthreader")||t.includes("bioserf")||t.includes("domserf")||t.includes("metapsicov")){let l=t.indexOf("psipred");l>-1&&t.splice(l,1)}if(t.includes("bioserf")){let l=t.indexOf("pgenthreader");l>-1&&t.splice(l,1)}if(t.includes("domserf")){let l=t.indexOf("pdomthreader");l>-1&&t.splice(l,1)}return a.send=!0,a.message="all tests passed",a.pdbData=r,a.jobs=t,a}});async function KR(e){return await new Promise(r=>{let n=new FileReader;n.onload=a=>r(n.result),n.readAsText(e)})}var Lr,Bw,Pg,ek=ae(()=>{Lr=en(Nn());DC();MC();jO();WO();ZO();XO();JO();Sn();Bw=class extends Lr.default.Component{constructor(t){super(t);let r="",n="",a=null,s="",o="";this.props.location==="Dev"&&(s="test",o="a@b.com"),this.state={displayType:"input",displayTime:!0,formSelectedOption:"StructForm",seq_job_names:["psipred","disopred","pgenthreader","metapsicov","mempack","memsatsvm","genthreader","dompred","pdomthreader","ffpred","dmp","dmpfold","s4pred","dmpmetal"],struct_job_names:["metsite","hspred","memembed","merizo","merizosearch"],analyses:["merizosearch_job"],jobs:[],input_data:r,seq:n,name:s,email:o,pdbData:a,waiting:!1,uuid:null,bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",merizo_iterate:"FALSE",merizo_chain:"A",merizosearch_db:"ted100",merizosearch_iterate:"FALSE",merizosearch_chain:"A",svgs:null,results_files:!1,config_data:null,resubmit:!1,results_map:["png","gif","jpg","horiz","ss2","pbdat","comb","memsat_svm","presult","align","presults","dom_presults","parseds","featcfg","full_formatted","csv","ann","aln","con","pdb","merizo","idx","boundary","Metpred","MetPred","out","results","pdb2","pdf","dmpmetal","dom_pdb","tsv"],job_strings:{psipred:{shortName:"PSIPRED",fullName:"PSIPRED 4.0",describedName:"PSIPRED 4.0 (Predict Secondary Structure)",varName:"psipred",jobName:"psipred_job",tooltip:"Predict helices, beta sheets and coils from AA sequence"},disopred:{shortName:"DISOPRED3",fullName:"DISOPRED3",describedName:"DISOPRED3 (Disored Prediction)",varName:"disopred",jobName:"disopred_job",tooltip:"Detect intrinsically disordered regions in proteins"},pgenthreader:{shortName:"pGenTHREADER",fullName:"pGenTHREADER",describedName:"pGenTHREADER (Profile Based Fold Recognition)",varName:"pgenthreader",jobName:"pgenthreader_job",tooltip:"Protein fold recognition with protein templates of known structure"},memsatsvm:{shortName:"MEMSAT-SVM",fullName:"MEMSAT-SVM",describedName:"MEMSAT-SVM (Membrane Helix Prediction)",varName:"memsatsvm",jobName:"memsatsvm_job",tooltip:"Calculate length, location and topology of transmembrane helices"},dmp:{shortName:"DeepMetaPSICOV",fullName:"DeepMetaPSICOV 1.0",describedName:"DeepMetaPSICOV 1.0 (Structural Contact Prediction)",varName:"dmp",jobName:"dmp_job",tooltip:"Predict inter-residue contacts using a convolutional neural network"},mempack:{shortName:"MEMPACK",fullName:"MEMPACK",describedName:"MEMPACK (TM Topology and Helix Packing)",varName:"mempack",jobName:"mempack_job",tooltip:"Predict membrane helix packing"},genthreader:{shortName:"genTHREADER",fullName:"genTHREADER",describedName:"genTHREADER (Rapid Fold Recognition)",varName:"genthreader",jobName:"genthreader_job",tooltip:"Fast fold recognition method using template structures"},pdomthreader:{shortName:"pDomTHREADER",fullName:"pDomTHREADER",describedName:"pDomTHREADER (Protein Domain Fold Recognition)",varName:"pdomthreader",jobName:"pdomthreader_job",tooltip:"Fast protein domain fold recognition using template domain structures"},dmpfold:{shortName:"DMPFold",fullName:"DMPFold 2.0",describedName:"DMPFold 2.0 (Protein Structure Prediction)",varName:"dmpfold",jobName:"dmpfold_job",tooltip:"Accurate structure prediction using residue-residue contacts"},s4pred:{shortName:"S4Pred",fullName:"S4Pred",describedName:"S4Pred (Single Sequence SS Prediction)",varName:"s4pred",jobName:"s4pred_job",tooltip:"Predict Secondary Structure Prediction with a single sequence"},dompred:{shortName:"DomPred",fullName:"DomPred",describedName:"DomPred (Domain Boundary Prediction)",varName:"dompred",jobName:"dompred_job",tooltip:"Predict protein structural domain boundaries"},ffpred:{shortName:"FFPred",fullName:"FFPred 4",describedName:"FFPred 4 (Eurkaryotic Function Prediction)",varName:"ffpred",jobName:"ffpred_job",tooltip:"Predict protein function, using Gene Ontology annotations"},metsite:{shortName:"Metsite",fullName:"Metsite",describedName:"Metsite (Protein-Metal Ion Contact Prediction)",varName:"metsite",jobName:"metsite_job",tooltip:"Detects metal-binding residues from protein structure"},hspred:{shortName:"HSPred",fullName:"HSPred",describedName:"HSPred (Protein-Protein Hotspot Residue Prediction)",varName:"hspred",jobName:"hspred_job",tooltip:"Predicts protein-protein interaction hotspot residues"},memembed:{shortName:"MEMEMBED",fullName:"MEMEMBED",describedName:"MEMEMBED (Membrane Protein Orientation Prediction)",varName:"memembed",jobName:"memembed_job",tooltip:"Orientate membrane proteins within the lipid bilayer"},merizo:{shortName:"Merizo",fullName:"Merizo",describedName:"Merizo (Protein domain segmentation)",varName:"merizo",jobName:"merizo_job",tooltip:"Fast and accurate protein domain prediction"},merizosearch:{shortName:"Merizo Search",fullName:"Merizo Search",describedName:"Merizo Search (Domain segmentation and identification)",varName:"merizosearch",jobName:"merizosearch_job",tooltip:"Fast domain segmentation and idenftication"},dmpmetal:{shortName:"DMPmetal",fullName:"DMPmetal",describedName:"DMPmetal (Metal Binding Site Prediction)",varName:"dmpmetal",jobName:"dmpmetal_job",tooltip:"llm based prediction of metal binding sites"}}}}handleReset=()=>{this.setState({analyses:["psipred_job"],jobs:[],input_data:"",seq:"",name:"",email:"",waiting:!1,uuid:null,bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",pdbData:null,metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",merizo_iterate:"FALSE",merizosearch_db:"ted100",merizosearch_iterate:"TRUE",merizosearch_chain:"A",annotation_svg:null,results_files:!1,config_data:null,resubmit:!1})};updateResultsFiles=t=>{this.setState({results_files:t})};updateSVGs=t=>{this.setState({svgs:t})};handleResubmit=(t,r,n,a,s)=>{this.setState({analyses:t,jobs:[],input_data:"",seq:r,name:n,email:a,waiting:!1,uuid:null,formSelectedOption:"SeqForm",bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",pdbData:"",metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",merizo_iterate:"FALSE",merizosearch_db:"ted100",merizosearch_iterate:"TRUE",merizosearch_chain:"A",annotation_svg:null,results_files:!1,config_data:null,resubmit:!0}),this.handleSubmit(s)};updateSeq=t=>{this.setState({seq:t})};setTestSeq=()=>{let t="MLELLPTAVEGVSQAQITGRPEWIWLALGTALMGLGTLYFLVKGMGVSDPDAKKFYAITTLVPAIAFTMYLSMLLGYGLTMVPFGGEQNPIYWARYADWLFTTPLLLLDLALLVDADQGTILALVGADGIMIGTGLVGALTKVYSYRFVWWAISTAAMLYILYVLFFGFTSKAESMRPEVASTFKVLRNVTVVLWSAYPVVWLIGSEGAGIVPLNIETLLFMVLDVSAKVGFGLILLRSRAIFGEAEAPEPSAGDGAAATSD";this.setState({seq:t,input_data:t})};setDMPMetSeq=()=>{let t="IDVLLGADDGSLAFVPSEFSISPGEKIVFKNNAGFPHNIVFDEDSIPSGVDASKISMSEEDLLNAKGETFEVALSNKGEYSFYCSPHQGAGMVGKVTVN";this.setState({seq:t,input_data:t})};updateResubmit=t=>{this.setState({resubmit:t})};updateConfig=t=>{this.setState({config_data:t})};updateWaiting=t=>{this.setState({waiting:t})};updateUuid=t=>{this.setState({uuid:t})};updateForm=t=>{this.setState({formSelectedOption:t})};updateAnalyses=t=>{this.setState({analyses:t})};updateDisplayTime=t=>{this.setState({displayTime:t})};componentDidUpdate(){}handleInputChange=t=>{this.handleReset(),this.setState({formSelectedOption:t.target.value,analyses:[]})};handleStructChange=t=>{var r=t.target.value;if(t.target.name==="job_name")this.setState({name:r});else if(t.target.name==="email")this.setState({email:r});else{let n=this.state.analyses,a=this.state.analyses.indexOf(t.target.value);a>-1?n.splice(a,1):n.push(t.target.value),this.setState({analyses:n})}this.state.analyses.length===4&&alert("You have selected every analysis method. We don't allow submissions which select all analyses. Please consider more carefully which predictions you require.")};handleSeqChange=t=>{var r=t.target.value;if(t.target.name==="input_data"){this.setState({input_data:r});var n=(r.match(/>/g)||[]).length;if(n===1){var a=/^>(\S+).*\n(.+)/,s=a.exec(r);s?this.setState({name:s[1],seq:s[2].toUpperCase()}):this.setState({seq:r.toUpperCase()})}else this.setState({seq:r.toUpperCase()})}else if(t.target.name==="job_name")this.setState({name:r});else if(t.target.name==="email")this.setState({email:r});else{let o=this.state.analyses,u=this.state.analyses.indexOf(t.target.value);u>-1?o.splice(u,1):o.push(t.target.value),this.setState({analyses:o}),this.state.analyses.length===12&&alert("You have selected nearly every analysis. This job may take in excess of 12 hours. Please consider submitting seperate jobs ")}this.state.analyses.length===13&&alert("You have selected every analysis method. We don't allow submissions which select all analyses. Please consider more carefully which predictions you require.")};handleSidebarChange=t=>{var r={};r[t.target.name]=t.target.value,this.setState(r)};handleSubmit=async t=>{t.preventDefault();let r=this.state.analyses;r=r.map(o=>o.replace("_job",""));let n=null,a=null;try{n=document.getElementById("pdbFile").files[0],n&&(a=await KR(n))}catch(o){a="",o.message.includes("FileReader.readAsText is not an object")&&alert("File selected not valid")}this.state.seq=this.state.seq.replace(/\r?\n|\r/g,"");let s=qO(this.state,r,a);s.send?this.setState({jobs:s.jobs,pdbData:s.pdbData,displayType:"results"}):alert(s.message)};componentDidMount(){console.log("INCOMING UUID: "+this.props.incoming_uuid),this.props.incoming_uuid&&this.setState({displayType:"results"})}render(){return Lr.default.createElement("div",{className:"row"},this.state.displayType==="input"?Lr.default.createElement("div",null,Lr.default.createElement("div",{className:"col-md-9"},Lr.default.createElement(c0,{...this.state,...this.props,handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,handleStructChange:this.handleStructChange,handleReset:this.handleReset,handleSeqChange:this.handleSeqChange,setTestSeq:this.setTestSeq,setDMPMetSeq:this.setDMPMetSeq})),Lr.default.createElement("div",{className:"col-md-3"},Lr.default.createElement(d0,{...this.state,handleSidebarChange:this.handleSidebarChange}))):Lr.default.createElement("div",null,Lr.default.createElement("div",{className:"col-md-9"},Lr.default.createElement(Mg,{...this.state,...this.props,updateWaiting:this.updateWaiting,updateResultsFiles:this.updateResultsFiles,updateSVGs:this.updateSVGs,updateUuid:this.updateUuid,updateConfig:this.updateConfig,updateResubmit:this.updateResubmit,updateForm:this.updateForm,updateSeq:this.updateSeq,updateAnalyses:this.updateAnalyses,updateDisplayTime:this.updateDisplayTime})),Lr.default.createElement("div",{className:"col-md-3"},this.state.displayTime===!0&&Lr.default.createElement(Ag,{...this.state,...this.props}),Lr.default.createElement(Og,{...this.state,...this.props}),this.state.formSelectedOption==="SeqForm"&&Lr.default.createElement(kg,{...this.state,...this.props,handleResubmit:this.handleResubmit}))))}},Pg=class extends Lr.default.Component{constructor(t){super(t);let r=window.location.href,n=null;window.location.href.includes("&uuid=")&&(r=window.location.href.split("&uuid=")[0],n=window.location.href.split("&uuid=")[1]),console.log("PAGE LOAD location : "+window.location.hostname),console.log("PAGE LOAD href: "+r),console.log("PAGE LOAD uuid: "+n),this.state={suspension_message:null,server_message:null,endpoints_url:null,submit_url:null,times_url:null,joblist_url:null,files_url:null,gears_svg:"http://bioinf.cs.ucl.ac.uk/psipred_beta/static/images/gears.svg",main_url:"http://bioinf.cs.ucl.ac.uk",app_path:"/psipred_beta",location:"Dev",gear_string:'<object width="140" height="140" type="image/svg+xml" data=""></object>',incoming_uuid:n,href:r};let a=Kf(this.state.href,window.location.hostname,this.state.main_url,this.state.app_path);this.state={...this.state,...a}}render(){return Lr.default.createElement("section",{className:"content"},Lr.default.createElement("div",{id:"psipred_site"},this.state.location==="Dev"&&Lr.default.createElement("div",null,Lr.default.createElement("h3",{className:"form_error"},"WARNING: This is Dev")),this.state.location==="Staging"&&Lr.default.createElement("div",null,Lr.default.createElement("h3",{className:"form_error"},"WARNING: This is Staging")),this.state.server_message!==null&&Lr.default.createElement("div",null,Lr.default.createElement("h3",{className:"form_error"},this.state.server_message)),this.state.suspension_message!==null&&Lr.default.createElement("div",null,Lr.default.createElement("h3",{className:"form_error"},this.state.suspension_message)),Lr.default.createElement(Bw,{...this.state}),Lr.default.createElement("div",{className:"row"},Lr.default.createElement("div",{className:"col-md-9"}),Lr.default.createElement("div",{className:"col-md-3"})),Lr.default.createElement("div",{className:"helixy"},Lr.default.createElement("img",{alt:"It's Helixy y'all!",src:"http://bioinf.cs.ucl.ac.uk/psipred_new/static/images/helixy_png_blank.png"}))))}}});var xt,Ng,tk=ae(()=>{xt=en(Nn());ek();Ng=class extends xt.default.Component{constructor(t){super(t),this.state={here:"#"}}render(){return xt.default.createElement("div",{className:"wrapper"},"  ",xt.default.createElement("header",{className:"main-header"},xt.default.createElement("a",{href:"/",className:"logo"},xt.default.createElement("span",{className:"logo-mini"},xt.default.createElement("img",{src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/psipred_logomark.svg",alt:"PSIPRED logomark"})),xt.default.createElement("span",{className:"logo-lg"},xt.default.createElement("img",{src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/psipred_logo.svg",alt:"PSIPRED"}))),xt.default.createElement("nav",{className:"navbar navbar-static-top",role:"navigation"},xt.default.createElement("a",{href:this.state.here,className:"sidebar-toggle","data-toggle":"push-menu",role:"button",style:{paddingTop:"18px"}},xt.default.createElement("span",{className:"sr-only"},"Toggle navigation")),xt.default.createElement("div",{className:"container-fluid"},xt.default.createElement("div",{className:"navbar-header",style:{paddingTop:"5px"}},xt.default.createElement("h4",{className:"psipred_title"},xt.default.createElement("b",null,"UCL Department of Computer Science: Bioinformatics Group"))),xt.default.createElement("div",{className:"collapse navbar-collapse",id:"navbar-collapse"},xt.default.createElement("div",{className:"nav navbar-nav navbar-right"},xt.default.createElement("a",{href:"https://www.ucl.ac.uk/",alt:"UCL"},xt.default.createElement("img",{alt:"UCL Logo",height:"50px",src:"http://cms.cs.ucl.ac.uk/typo3/fileadmin/bioinf/templates/images/ucl-logo.svg"}))))))),xt.default.createElement("aside",{className:"main-sidebar"},xt.default.createElement("section",{className:"sidebar"},xt.default.createElement("ul",{className:"sidebar-menu"},xt.default.createElement("li",{className:"header"},"MAIN NAVIGATION"),xt.default.createElement("section",{className:"sidebar"},xt.default.createElement("ul",{className:"sidebar-menu tree","data-widget":"tree"},xt.default.createElement("ul",{className:"sidebar-menu"},xt.default.createElement("li",{className:"treeview"},xt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/index.html"},xt.default.createElement("i",{className:"fa fa-info"}),xt.default.createElement("span",null,xt.default.createElement("b",null,"Introduction")))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Contact.html"},xt.default.createElement("i",{className:"fa fa-keyboard-o"})," ",xt.default.createElement("span",null,"Contact"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Software_Downloads.html"},xt.default.createElement("i",{className:"fa fa-download"})," ",xt.default.createElement("span",null,"Downloads & Branding"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"https://twitter.com/psipred"},xt.default.createElement("i",{className:"fa fa-twitter"})," ",xt.default.createElement("span",null,"Twitter/News")))),xt.default.createElement("a",{href:this.state.here},xt.default.createElement("i",{className:"fa fa-th"})," ",xt.default.createElement("span",null,"PSIPRED Team Links"),xt.default.createElement("span",{className:"pull-right-container"},xt.default.createElement("i",{className:"fa fa-angle-left pull-right"}))),xt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_People.html"},xt.default.createElement("i",{className:"fa fa-users"})," ",xt.default.createElement("span",null,"People"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_ProCovar.html"},xt.default.createElement("i",{className:"fa fa-archive"})," ",xt.default.createElement("span",null,"ProCovar"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Publications.html"},xt.default.createElement("i",{className:"fa fa-book"})," ",xt.default.createElement("span",null,"Publications"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Vacancies.html"},xt.default.createElement("i",{className:"fa fa-envelope-square"})," ",xt.default.createElement("span",null,"Vacancies")))))),xt.default.createElement("ul",{className:"sidebar-menu"},xt.default.createElement("li",{className:"treeview"},xt.default.createElement("a",{href:this.state.here},xt.default.createElement("i",{className:"fa fa-th"})," ",xt.default.createElement("span",null,"PSIPRED Workbench Links"),xt.default.createElement("span",{className:"pull-right-container"},xt.default.createElement("i",{className:"fa fa-angle-left pull-right"}))),xt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinf.cs.ucl.ac.uk/psipred/"},xt.default.createElement("i",{className:"fa fa-dashboard"})," ",xt.default.createElement("span",null,"PSIPRED Workbench"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_methods_overview.html"},xt.default.createElement("i",{className:"fa fa-list-ul"})," ",xt.default.createElement("span",null,"Workbench Overview"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_PSIPRED_citation.html"},xt.default.createElement("i",{className:"fa fa-file-text-o"})," ",xt.default.createElement("span",null,"Workbench Citation"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},xt.default.createElement("i",{className:"fa fa-question-circle-o"})," ",xt.default.createElement("span",null,"Help & Tutorials"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Web_Services.html"},xt.default.createElement("i",{className:"fa fa-server"})," ",xt.default.createElement("span",null,"REST API"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"https://github.com/psipred"},xt.default.createElement("i",{className:"fa fa-github"})," ",xt.default.createElement("span",null,"PSIPRED Github"))))))))))),xt.default.createElement("div",{className:"content-wrapper"},xt.default.createElement(Pg,null)),xt.default.createElement("footer",{className:"main-footer"},xt.default.createElement("div",{className:"pull-right hidden-xs"},xt.default.createElement("strong",null,"Copyright \xA9",xt.default.createElement("br",null))),"\xA0"))}}});var Rw={};Wh(Rw,{render:()=>ZR});var rk,ZR,Uw=ae(()=>{rk=en(Nn());tk();ZR=()=>rk.default.createElement(Ng,null)});var vh,Ig,nk=ae(()=>{vh=en(Nn());Sn();Sn();Ig=class extends vh.default.Component{constructor(t){super(t);let r=window.location.href,n="http://bioinf.cs.ucl.ac.uk",a="/psipred_beta",s=null,o=null;if(console.log(r),window.location.href.includes("ann=")&&window.location.href.includes("aln=")){let l=window.location.href.split("?")[1];console.log(l);let g=l.split("&");o=g[0].slice(4),s=g[1].slice(4)}console.log("PAGE LOAD location : "+window.location.hostname),console.log("ALN:"+o),console.log("ANN:"+s);let u=Kf(r,window.location.hostname,n,a);u.ann=s,u.aln=o,this.align=vh.default.createRef(),this.state=u,this.aa_colours={A:"#d3f87f",V:"#b2f87f",I:"#97f87f",L:"#86f87f",M:"#7ff87f",F:"#7ff897",Y:"#7ff8d3",W:"#7fd3f8",H:"#7f97f8",R:"#7f7ff8",K:"#977ff8",N:"#d37ff8",Q:"#f87fd3",E:"#f87f97",D:"#f87f7f",S:"#f8867f",T:"#f8977f",G:"#f7b27f",P:"#f7d37f",C:"#f8f87f","-":"#ffffff"},this.ss_colours={C:"#ffffff",H:"#f87fd3",S:"#f8f87f"}}getAlignData(t,r){let n=si(t,this.state.files_url+"/submissions/"),a=si(r,this.state.files_url+"/submissions/");n=n.split(`
`),n=[{seq_name:n[0].slice(1),seq:n[1].split("")},{seq_name:n[2].slice(1),seq:n[3].split("")}],this.setState({aln_data:n,ann_data:a})}componentDidMount(){this.getAlignData(this.state.aln,this.state.ann)}transformAnnotations=(t,r,n)=>{let a={};a[t]=[],a[r]=[];for(let o=0;o<n;o++)a[t][o]="C",a[r][o]="C";let s=this.state.ann_data.split(`
`);return console.log(this.state.ann_data),s.forEach(o=>{let u=o.split(/\s+/);if(u.length===6){let l=parseInt(u[3])-1,g=parseInt(u[4])-1;a[u[1]].forEach((h,_)=>{_>=l&&_<=g&&(a[u[1]][_]=u[0])})}}),a};renderAlignment=()=>{let t=this.transformAnnotations(this.state.aln_data[1].seq_name,this.state.aln_data[0].seq_name,this.state.aln_data[1].seq.length),r="<h2>Alignment:</h2>";return r+="<h2>Query&nbsp;vs&nbsp;"+this.state.aln_data[0].seq_name+"</h2>",r+="<tbody class='residue'>",r+="<tr><td>"+this.state.aln_data[1].seq_name+" </td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach(n=>{r+='<td bgcolor="'+this.aa_colours[n.toUpperCase()]+'">'+n.toUpperCase()+"</td>"}),r+="</tr>",r+="<tr><td>Seconday&nbsp;Structure</td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach((n,a)=>{r+='<td bgcolor="'+this.ss_colours[t[this.state.aln_data[1].seq_name][a]]+'">&nbsp;</td>'}),r+="</tr>",r+="<tr><td>"+this.state.aln_data[0].seq_name+" </td>",r+="<td>:&nbsp</td>",this.state.aln_data[0].seq.forEach(n=>{r+='<td bgcolor="'+this.aa_colours[n.toUpperCase()]+'">'+n.toUpperCase()+"</td>"}),r+="</tr>",r+="<tr><td>Seconday&nbsp;Structure</td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach((n,a)=>{r+='<td bgcolor="'+this.ss_colours[t[this.state.aln_data[0].seq_name][a]]+'">&nbsp;</td>'}),r+="</tr>",r+='</tbody><br/><br/><h4>Residue&nbsp;colours&nbsp;as&nbsp;per&nbsp;<a href="https://academic.oup.com/peds/article/10/7/743/1593029">Taylor&nbsp;(1997)</h4></a>',r+="<h4>Annotations</h4>",r+=`<table><tbody class='residue'><tr><td>Helix:&nbsp</td><td bgcolor="`+this.ss_colours.H+'">&nbsp;</td></tr><tr><td>Strand:&nbsp</td><td bgcolor="'+this.ss_colours.S+'">&nbsp;</td></tr></tbody></table>',r};render(){return vh.default.createElement("div",{style:{overflow:"auto",height:"100%"}},this.state.aln_data?vh.default.createElement("table",{dangerouslySetInnerHTML:{__html:this.renderAlignment()}}):null)}}});var ak={};Wh(ak,{render:()=>XR});var ik,XR,sk=ae(()=>{ik=en(Nn());nk();XR=()=>ik.default.createElement(Ig,null)});var _a,zg,ok=ae(()=>{_a=en(Nn());Sn();Sn();Sn();zg=class extends _a.default.Component{constructor(t){super(t);let r=window.location.href,n="http://bioinf.cs.ucl.ac.uk",a="/psipred_beta",s=null,o=null;if(console.log(r),window.location.href.includes("aln=")){let g=window.location.href.split("?")[1].slice(4).split("&type=");s=g[0],o=g[1]}console.log("PAGE LOAD location : "+window.location.hostname),console.log("ALN:"+s);let u=Kf(r,window.location.hostname,n,a);u.aln=s,this.timer=null,this.state=u,this.state.uuid=null,this.state.model_uri=null,this.state.waiting=!0,this.state.aln=si("/submissions/"+s,this.state.files_url,"text/plain"),this.state.form_data=this.configurePost(this.state.aln,o),this.state.uuid=this.postModelJob(this.state.form_data),this.state.pdb_data=null,console.log("MODELLING JOB UUID: "+this.state.uuid),this.model=_a.default.createRef()}postModelJob=t=>{console.log("SENDING MODELLING JOB TO: "+this.state.submit_url);let r=null;var n=new XMLHttpRequest;return n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&n.status===201&&(r=JSON.parse(n.response))},n.open("POST",this.state.submit_url,!1),n.setRequestHeader("Accept","application/json"),n.send(t),n.onerror=function(){alert("Request failed")},r.UUID};configurePost=(t,r)=>{var n=null;try{n=new Blob([t])}catch(s){alert(s)}let a=new FormData;return a.append("input_data",n,"input.txt"),r==="cath"?(console.log("JOB NAME: cath_modeller "),a.append("job","cath_modeller")):(console.log("JOB NAME: pdb_modeller "),a.append("job","pdb_modeller")),a.append("submission_name","genthreader_model"),a.append("email","dummy@dummy.com"),a};getResultsFiles=(t,r)=>{let n={},a=null;return t.forEach(function(s){if(s.data_path.split(/[.]/).pop().includes("pdb")){let u=si(s.data_path,r.files_url),l=s.data_path.split("/")[2];n[l]=u,a=r.files_url+s.data_path}}),[n,a]};getResults=()=>{let t=this.state.submit_url+this.state.uuid,r=null;this.state.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(n=>{if(n.ok)return n.json().then(a=>a);throw n}).then(n=>{if(n.state!=="Running")if(n.state==="Complete")n.submissions.forEach(a=>{r=this.getResultsFiles(a.results,this.state)}),this.setState({waiting:!1,pdb_data:r[0],model_uri:r[1]}),clearInterval(this.timer);else throw n.state==="Error"?new Error(n.submissions.at(-1).last_message):new Error("Job Failed")}).catch(async n=>{let a="";try{let s=await n.json().then(o=>o);s.error&&(a.message=s.error),s.error.input_data&&(a.message=s.error.input_data)}catch{a=n}return console.log(a.message),console.log("Fetching results: "+t+` Failed. 
`+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidUpdate(t){var r=this.state.pdb_data[Object.keys(this.state.pdb_data)[0]];Ka(this.model.current,r,!0,!1,!1,!1)}componentDidMount(){console.log("Awaiting structure"),this.timer=setInterval(()=>this.getResults(),500)}render(){return _a.default.createElement(_a.default.Fragment,null,this.state.pdb_data?_a.default.createElement("div",null,_a.default.createElement("div",{className:"row"},_a.default.createElement("div",{className:"col-sm-7 col-sm-offset-5"},_a.default.createElement("h2",null,_a.default.createElement("a",{href:this.state.model_uri},"DOWNLOAD MODEL")),_a.default.createElement("div",{id:"container-01",ref:this.model,className:"mol-container",style:{width:"600px",height:"600px",position:"relative"}})))):_a.default.createElement("h1",null,"\xA03D MODEL Requested (may take up to 30mins)..."))}}});var uk={};Wh(uk,{render:()=>$R});var lk,$R,fk=ae(()=>{lk=en(Nn());ok();$R=()=>lk.default.createElement(zg,null)});var dk=en(CC());var QR=en(EC());Window.$3Dmol=QR;var Fg=dk.default.createRoot(document.getElementById("root")),Bg=window.location.pathname;console.log(Bg);Bg.startsWith("/interface")?Promise.resolve().then(()=>(Uw(),Rw)).then(e=>{Fg.render(e.render())}):Bg.includes("/msa")?Promise.resolve().then(()=>(sk(),ak)).then(e=>{Fg.render(e.render())}):Bg.includes("/model")?Promise.resolve().then(()=>(fk(),uk)).then(e=>{Fg.render(e.render())}):Promise.resolve().then(()=>(Uw(),Rw)).then(e=>{Fg.render(e.render())});})();
/*! getEmPixels  | Author: Tyson Matanich (http://matanich.com), 2013 | License: MIT */
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

3dmol/build/3Dmol.js:
  (*!
   * 3dmol v2.0.5
   * JavaScript/TypeScript molecular visualization library
   * Author: David Koes and contributors
   *)
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.0
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-05-11T18:29Z
   *)

datatables.net/js/jquery.dataTables.mjs:
  (*! DataTables 1.13.5
   * 2008-2023 SpryMedia Ltd - datatables.net/license
   *)

datatables.net-dt/js/dataTables.dataTables.mjs:
  (*! DataTables styling integration
   * 2018 SpryMedia Ltd - datatables.net/license
   *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
