(()=>{var Ok=Object.create;var Vh=Object.defineProperty;var kk=Object.getOwnPropertyDescriptor;var Nk=Object.getOwnPropertyNames;var Pk=Object.getPrototypeOf,Ik=Object.prototype.hasOwnProperty;var ml=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var ae=(e,t)=>()=>(e&&(t=e(e=0)),t);var zn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Yh=(e,t)=>{for(var r in t)Vh(e,r,{get:t[r],enumerable:!0})},Kw=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Nk(t))!Ik.call(e,a)&&a!==r&&Vh(e,a,{get:()=>t[a],enumerable:!(n=kk(t,a))||n.enumerable});return e};var Hr=(e,t,r)=>(r=e!=null?Ok(Pk(e)):{},Kw(t||!e||!e.__esModule?Vh(r,"default",{value:e,enumerable:!0}):r,e)),Zw=e=>Kw(Vh({},"__esModule",{value:!0}),e);var a2=zn(_r=>{"use strict";var bd=Symbol.for("react.element"),zk=Symbol.for("react.portal"),Fk=Symbol.for("react.fragment"),Bk=Symbol.for("react.strict_mode"),Uk=Symbol.for("react.profiler"),Rk=Symbol.for("react.provider"),jk=Symbol.for("react.context"),Wk=Symbol.for("react.forward_ref"),Gk=Symbol.for("react.suspense"),Hk=Symbol.for("react.memo"),Vk=Symbol.for("react.lazy"),Xw=Symbol.iterator;function Yk(e){return e===null||typeof e!="object"?null:(e=Xw&&e[Xw]||e["@@iterator"],typeof e=="function"?e:null)}var qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jw=Object.assign,e2={};function Lu(e,t,r){this.props=e,this.context=t,this.refs=e2,this.updater=r||qw}Lu.prototype.isReactComponent={};Lu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function t2(){}t2.prototype=Lu.prototype;function Mv(e,t,r){this.props=e,this.context=t,this.refs=e2,this.updater=r||qw}var Av=Mv.prototype=new t2;Av.constructor=Mv;Jw(Av,Lu.prototype);Av.isPureReactComponent=!0;var $w=Array.isArray,r2=Object.prototype.hasOwnProperty,Tv={current:null},n2={key:!0,ref:!0,__self:!0,__source:!0};function i2(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)r2.call(t,n)&&!n2.hasOwnProperty(n)&&(a[n]=t[n]);var u=arguments.length-2;if(u===1)a.children=r;else if(1<u){for(var l=Array(u),g=0;g<u;g++)l[g]=arguments[g+2];a.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)a[n]===void 0&&(a[n]=u[n]);return{$$typeof:bd,type:e,key:s,ref:o,props:a,_owner:Tv.current}}function Kk(e,t){return{$$typeof:bd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lv(e){return typeof e=="object"&&e!==null&&e.$$typeof===bd}function Zk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qw=/\/+/g;function Dv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zk(""+e.key):t.toString(36)}function Zh(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bd:case zk:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Dv(o,0):n,$w(a)?(r="",e!=null&&(r=e.replace(Qw,"$&/")+"/"),Zh(a,t,r,"",function(g){return g})):a!=null&&(Lv(a)&&(a=Kk(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Qw,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",$w(e))for(var u=0;u<e.length;u++){s=e[u];var l=n+Dv(s,u);o+=Zh(s,t,r,l,a)}else if(l=Yk(e),typeof l=="function")for(e=l.call(e),u=0;!(s=e.next()).done;)s=s.value,l=n+Dv(s,u++),o+=Zh(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kh(e,t,r){if(e==null)return e;var n=[],a=0;return Zh(e,n,"","",function(s){return t.call(r,s,a++)}),n}function Xk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ci={current:null},Xh={transition:null},$k={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:Xh,ReactCurrentOwner:Tv};_r.Children={map:Kh,forEach:function(e,t,r){Kh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Kh(e,function(){t++}),t},toArray:function(e){return Kh(e,function(t){return t})||[]},only:function(e){if(!Lv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_r.Component=Lu;_r.Fragment=Fk;_r.Profiler=Uk;_r.PureComponent=Mv;_r.StrictMode=Bk;_r.Suspense=Gk;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$k;_r.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jw({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Tv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)r2.call(t,l)&&!n2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&u!==void 0?u[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){u=Array(l);for(var g=0;g<l;g++)u[g]=arguments[g+2];n.children=u}return{$$typeof:bd,type:e.type,key:a,ref:s,props:n,_owner:o}};_r.createContext=function(e){return e={$$typeof:jk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rk,_context:e},e.Consumer=e};_r.createElement=i2;_r.createFactory=function(e){var t=i2.bind(null,e);return t.type=e,t};_r.createRef=function(){return{current:null}};_r.forwardRef=function(e){return{$$typeof:Wk,render:e}};_r.isValidElement=Lv;_r.lazy=function(e){return{$$typeof:Vk,_payload:{_status:-1,_result:e},_init:Xk}};_r.memo=function(e,t){return{$$typeof:Hk,type:e,compare:t===void 0?null:t}};_r.startTransition=function(e){var t=Xh.transition;Xh.transition={};try{e()}finally{Xh.transition=t}};_r.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_r.useCallback=function(e,t){return ci.current.useCallback(e,t)};_r.useContext=function(e){return ci.current.useContext(e)};_r.useDebugValue=function(){};_r.useDeferredValue=function(e){return ci.current.useDeferredValue(e)};_r.useEffect=function(e,t){return ci.current.useEffect(e,t)};_r.useId=function(){return ci.current.useId()};_r.useImperativeHandle=function(e,t,r){return ci.current.useImperativeHandle(e,t,r)};_r.useInsertionEffect=function(e,t){return ci.current.useInsertionEffect(e,t)};_r.useLayoutEffect=function(e,t){return ci.current.useLayoutEffect(e,t)};_r.useMemo=function(e,t){return ci.current.useMemo(e,t)};_r.useReducer=function(e,t,r){return ci.current.useReducer(e,t,r)};_r.useRef=function(e){return ci.current.useRef(e)};_r.useState=function(e){return ci.current.useState(e)};_r.useSyncExternalStore=function(e,t,r){return ci.current.useSyncExternalStore(e,t,r)};_r.useTransition=function(){return ci.current.useTransition()};_r.version="18.2.0"});var Dn=zn((uR,s2)=>{"use strict";s2.exports=a2()});var g2=zn(Yr=>{"use strict";function Pv(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(0<$h(a,t))e[n]=t,e[r]=a,r=n;else break e}}function za(e){return e.length===0?null:e[0]}function qh(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,u=e[o],l=o+1,g=e[l];if(0>$h(u,r))l<a&&0>$h(g,u)?(e[n]=g,e[l]=r,n=l):(e[n]=u,e[o]=r,n=o);else if(l<a&&0>$h(g,r))e[n]=g,e[l]=r,n=l;else break e}}return t}function $h(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(o2=performance,Yr.unstable_now=function(){return o2.now()}):(Ov=Date,l2=Ov.now(),Yr.unstable_now=function(){return Ov.now()-l2});var o2,Ov,l2,is=[],go=[],Qk=1,sa=null,Jn=3,Jh=!1,gl=!1,xd=!1,d2=typeof setTimeout=="function"?setTimeout:null,c2=typeof clearTimeout=="function"?clearTimeout:null,u2=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Iv(e){for(var t=za(go);t!==null;){if(t.callback===null)qh(go);else if(t.startTime<=e)qh(go),t.sortIndex=t.expirationTime,Pv(is,t);else break;t=za(go)}}function zv(e){if(xd=!1,Iv(e),!gl)if(za(is)!==null)gl=!0,Bv(Fv);else{var t=za(go);t!==null&&Uv(zv,t.startTime-e)}}function Fv(e,t){gl=!1,xd&&(xd=!1,c2(wd),wd=-1),Jh=!0;var r=Jn;try{for(Iv(t),sa=za(is);sa!==null&&(!(sa.expirationTime>t)||e&&!m2());){var n=sa.callback;if(typeof n=="function"){sa.callback=null,Jn=sa.priorityLevel;var a=n(sa.expirationTime<=t);t=Yr.unstable_now(),typeof a=="function"?sa.callback=a:sa===za(is)&&qh(is),Iv(t)}else qh(is);sa=za(is)}if(sa!==null)var s=!0;else{var o=za(go);o!==null&&Uv(zv,o.startTime-t),s=!1}return s}finally{sa=null,Jn=r,Jh=!1}}var ep=!1,Qh=null,wd=-1,h2=5,p2=-1;function m2(){return!(Yr.unstable_now()-p2<h2)}function kv(){if(Qh!==null){var e=Yr.unstable_now();p2=e;var t=!0;try{t=Qh(!0,e)}finally{t?yd():(ep=!1,Qh=null)}}else ep=!1}var yd;typeof u2=="function"?yd=function(){u2(kv)}:typeof MessageChannel<"u"?(Nv=new MessageChannel,f2=Nv.port2,Nv.port1.onmessage=kv,yd=function(){f2.postMessage(null)}):yd=function(){d2(kv,0)};var Nv,f2;function Bv(e){Qh=e,ep||(ep=!0,yd())}function Uv(e,t){wd=d2(function(){e(Yr.unstable_now())},t)}Yr.unstable_IdlePriority=5;Yr.unstable_ImmediatePriority=1;Yr.unstable_LowPriority=4;Yr.unstable_NormalPriority=3;Yr.unstable_Profiling=null;Yr.unstable_UserBlockingPriority=2;Yr.unstable_cancelCallback=function(e){e.callback=null};Yr.unstable_continueExecution=function(){gl||Jh||(gl=!0,Bv(Fv))};Yr.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):h2=0<e?Math.floor(1e3/e):5};Yr.unstable_getCurrentPriorityLevel=function(){return Jn};Yr.unstable_getFirstCallbackNode=function(){return za(is)};Yr.unstable_next=function(e){switch(Jn){case 1:case 2:case 3:var t=3;break;default:t=Jn}var r=Jn;Jn=t;try{return e()}finally{Jn=r}};Yr.unstable_pauseExecution=function(){};Yr.unstable_requestPaint=function(){};Yr.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=Jn;Jn=e;try{return t()}finally{Jn=r}};Yr.unstable_scheduleCallback=function(e,t,r){var n=Yr.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=r+a,e={id:Qk++,callback:t,priorityLevel:e,startTime:r,expirationTime:a,sortIndex:-1},r>n?(e.sortIndex=r,Pv(go,e),za(is)===null&&e===za(go)&&(xd?(c2(wd),wd=-1):xd=!0,Uv(zv,r-n))):(e.sortIndex=a,Pv(is,e),gl||Jh||(gl=!0,Bv(Fv))),e};Yr.unstable_shouldYield=m2;Yr.unstable_wrapCallback=function(e){var t=Jn;return function(){var r=Jn;Jn=t;try{return e.apply(this,arguments)}finally{Jn=r}}}});var _2=zn((dR,v2)=>{"use strict";v2.exports=g2()});var CC=zn(Xi=>{"use strict";var E3=Dn(),Ki=_2();function Dt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D3=new Set,Hd={};function Tl(e,t){Qu(e,t),Qu(e+"Capture",t)}function Qu(e,t){for(Hd[e]=t,e=0;e<t.length;e++)D3.add(t[e])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l1=Object.prototype.hasOwnProperty,qk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b2={},y2={};function Jk(e){return l1.call(y2,e)?!0:l1.call(b2,e)?!1:qk.test(e)?y2[e]=!0:(b2[e]=!0,!1)}function eN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tN(e,t,r,n){if(t===null||typeof t>"u"||eN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mi(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kn[e]=new mi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kn[t]=new mi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kn[e]=new mi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kn[e]=new mi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kn[e]=new mi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kn[e]=new mi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kn[e]=new mi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kn[e]=new mi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kn[e]=new mi(e,5,!1,e.toLowerCase(),null,!1,!1)});var e_=/[\-:]([a-z])/g;function t_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(e_,t_);Kn[t]=new mi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(e_,t_);Kn[t]=new mi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(e_,t_);Kn[t]=new mi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kn[e]=new mi(e,1,!1,e.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kn[e]=new mi(e,1,!1,e.toLowerCase(),null,!0,!0)});function r_(e,t,r,n){var a=Kn.hasOwnProperty(t)?Kn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tN(t,r,a,n)&&(r=null),n||a===null?Jk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xs=E3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tp=Symbol.for("react.element"),Nu=Symbol.for("react.portal"),Pu=Symbol.for("react.fragment"),n_=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),M3=Symbol.for("react.provider"),A3=Symbol.for("react.context"),i_=Symbol.for("react.forward_ref"),f1=Symbol.for("react.suspense"),d1=Symbol.for("react.suspense_list"),a_=Symbol.for("react.memo"),_o=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var T3=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var x2=Symbol.iterator;function Sd(e){return e===null||typeof e!="object"?null:(e=x2&&e[x2]||e["@@iterator"],typeof e=="function"?e:null)}var on=Object.assign,Rv;function Od(e){if(Rv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rv=t&&t[1]||""}return`
`+Rv+e}var jv=!1;function Wv(e,t){if(!e||jv)return"";jv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var n=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){n=g}e.call(t.prototype)}else{try{throw Error()}catch(g){n=g}e()}}catch(g){if(g&&n&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,u=s.length-1;1<=o&&0<=u&&a[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(a[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||a[o]!==s[u]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=u);break}}}finally{jv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Od(e):""}function rN(e){switch(e.tag){case 5:return Od(e.type);case 16:return Od("Lazy");case 13:return Od("Suspense");case 19:return Od("SuspenseList");case 0:case 2:case 15:return e=Wv(e.type,!1),e;case 11:return e=Wv(e.type.render,!1),e;case 1:return e=Wv(e.type,!0),e;default:return""}}function c1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pu:return"Fragment";case Nu:return"Portal";case u1:return"Profiler";case n_:return"StrictMode";case f1:return"Suspense";case d1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A3:return(e.displayName||"Context")+".Consumer";case M3:return(e._context.displayName||"Context")+".Provider";case i_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case a_:return t=e.displayName||null,t!==null?t:c1(e.type)||"Memo";case _o:t=e._payload,e=e._init;try{return c1(e(t))}catch{}}return null}function nN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c1(t);case 8:return t===n_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ko(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iN(e){var t=L3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rp(e){e._valueTracker||(e._valueTracker=iN(e))}function O3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=L3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Lp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function h1(e,t){var r=t.checked;return on({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function w2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ko(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k3(e,t){t=t.checked,t!=null&&r_(e,"checked",t,!1)}function p1(e,t){k3(e,t);var r=ko(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?m1(e,t.type,r):t.hasOwnProperty("defaultValue")&&m1(e,t.type,ko(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function m1(e,t,r){(t!=="number"||Lp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kd=Array.isArray;function Vu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ko(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function g1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Dt(91));return on({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Dt(92));if(kd(r)){if(1<r.length)throw Error(Dt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ko(r)}}function N3(e,t){var r=ko(t.value),n=ko(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function E2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var np,I3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(np=np||document.createElement("div"),np.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=np.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aN=["Webkit","ms","Moz","O"];Object.keys(Id).forEach(function(e){aN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Id[t]=Id[e]})});function z3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Id.hasOwnProperty(e)&&Id[e]?(""+t).trim():t+"px"}function F3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=z3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var sN=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _1(e,t){if(t){if(sN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Dt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Dt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Dt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Dt(62))}}function b1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y1=null;function s_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var x1=null,Yu=null,Ku=null;function D2(e){if(e=uc(e)){if(typeof x1!="function")throw Error(Dt(280));var t=e.stateNode;t&&(t=i0(t),x1(e.stateNode,e.type,t))}}function B3(e){Yu?Ku?Ku.push(e):Ku=[e]:Yu=e}function U3(){if(Yu){var e=Yu,t=Ku;if(Ku=Yu=null,D2(e),t)for(e=0;e<t.length;e++)D2(t[e])}}function R3(e,t){return e(t)}function j3(){}var Gv=!1;function W3(e,t,r){if(Gv)return e(t,r);Gv=!0;try{return R3(e,t,r)}finally{Gv=!1,(Yu!==null||Ku!==null)&&(j3(),U3())}}function Yd(e,t){var r=e.stateNode;if(r===null)return null;var n=i0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Dt(231,t,typeof r));return r}var w1=!1;if(Vs)try{Ou={},Object.defineProperty(Ou,"passive",{get:function(){w1=!0}}),window.addEventListener("test",Ou,Ou),window.removeEventListener("test",Ou,Ou)}catch{w1=!1}var Ou;function oN(e,t,r,n,a,s,o,u,l){var g=Array.prototype.slice.call(arguments,3);try{t.apply(r,g)}catch(h){this.onError(h)}}var zd=!1,Op=null,kp=!1,S1=null,lN={onError:function(e){zd=!0,Op=e}};function uN(e,t,r,n,a,s,o,u,l){zd=!1,Op=null,oN.apply(lN,arguments)}function fN(e,t,r,n,a,s,o,u,l){if(uN.apply(this,arguments),zd){if(zd){var g=Op;zd=!1,Op=null}else throw Error(Dt(198));kp||(kp=!0,S1=g)}}function Ll(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function G3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M2(e){if(Ll(e)!==e)throw Error(Dt(188))}function dN(e){var t=e.alternate;if(!t){if(t=Ll(e),t===null)throw Error(Dt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return M2(a),e;if(s===n)return M2(a),t;s=s.sibling}throw Error(Dt(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,u=a.child;u;){if(u===r){o=!0,r=a,n=s;break}if(u===n){o=!0,n=a,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=a;break}if(u===n){o=!0,n=s,r=a;break}u=u.sibling}if(!o)throw Error(Dt(189))}}if(r.alternate!==n)throw Error(Dt(190))}if(r.tag!==3)throw Error(Dt(188));return r.stateNode.current===r?e:t}function H3(e){return e=dN(e),e!==null?V3(e):null}function V3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=V3(e);if(t!==null)return t;e=e.sibling}return null}var Y3=Ki.unstable_scheduleCallback,A2=Ki.unstable_cancelCallback,cN=Ki.unstable_shouldYield,hN=Ki.unstable_requestPaint,bn=Ki.unstable_now,pN=Ki.unstable_getCurrentPriorityLevel,o_=Ki.unstable_ImmediatePriority,K3=Ki.unstable_UserBlockingPriority,Np=Ki.unstable_NormalPriority,mN=Ki.unstable_LowPriority,Z3=Ki.unstable_IdlePriority,e0=null,ls=null;function gN(e){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(e0,e,void 0,(e.current.flags&128)===128)}catch{}}var ja=Math.clz32?Math.clz32:bN,vN=Math.log,_N=Math.LN2;function bN(e){return e>>>=0,e===0?32:31-(vN(e)/_N|0)|0}var ip=64,ap=4194304;function Nd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var u=o&~a;u!==0?n=Nd(u):(s&=o,s!==0&&(n=Nd(s)))}else o=r&~a,o!==0?n=Nd(o):s!==0&&(n=Nd(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ja(t),a=1<<r,n|=e[r],t&=~a;return n}function yN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ja(s),u=1<<o,l=a[o];l===-1?(!(u&r)||u&n)&&(a[o]=yN(u,t)):l<=t&&(e.expiredLanes|=u),s&=~u}}function C1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X3(){var e=ip;return ip<<=1,!(ip&4194240)&&(ip=64),e}function Hv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ja(t),e[t]=r}function wN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ja(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function l_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ja(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Fr=0;function $3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Q3,u_,q3,J3,eS,E1=!1,sp=[],Co=null,Eo=null,Do=null,Kd=new Map,Zd=new Map,yo=[],SN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T2(e,t){switch(e){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Kd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(t.pointerId)}}function Cd(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=uc(t),t!==null&&u_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function CN(e,t,r,n,a){switch(t){case"focusin":return Co=Cd(Co,e,t,r,n,a),!0;case"dragenter":return Eo=Cd(Eo,e,t,r,n,a),!0;case"mouseover":return Do=Cd(Do,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Kd.set(s,Cd(Kd.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Zd.set(s,Cd(Zd.get(s)||null,e,t,r,n,a)),!0}return!1}function tS(e){var t=bl(e.target);if(t!==null){var r=Ll(t);if(r!==null){if(t=r.tag,t===13){if(t=G3(r),t!==null){e.blockedOn=t,eS(e.priority,function(){q3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=D1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);y1=n,r.target.dispatchEvent(n),y1=null}else return t=uc(r),t!==null&&u_(t),e.blockedOn=r,!1;t.shift()}return!0}function L2(e,t,r){yp(e)&&r.delete(t)}function EN(){E1=!1,Co!==null&&yp(Co)&&(Co=null),Eo!==null&&yp(Eo)&&(Eo=null),Do!==null&&yp(Do)&&(Do=null),Kd.forEach(L2),Zd.forEach(L2)}function Ed(e,t){e.blockedOn===t&&(e.blockedOn=null,E1||(E1=!0,Ki.unstable_scheduleCallback(Ki.unstable_NormalPriority,EN)))}function Xd(e){function t(a){return Ed(a,e)}if(0<sp.length){Ed(sp[0],e);for(var r=1;r<sp.length;r++){var n=sp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Co!==null&&Ed(Co,e),Eo!==null&&Ed(Eo,e),Do!==null&&Ed(Do,e),Kd.forEach(t),Zd.forEach(t),r=0;r<yo.length;r++)n=yo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yo.length&&(r=yo[0],r.blockedOn===null);)tS(r),r.blockedOn===null&&yo.shift()}var Zu=Xs.ReactCurrentBatchConfig,Ip=!0;function DN(e,t,r,n){var a=Fr,s=Zu.transition;Zu.transition=null;try{Fr=1,f_(e,t,r,n)}finally{Fr=a,Zu.transition=s}}function MN(e,t,r,n){var a=Fr,s=Zu.transition;Zu.transition=null;try{Fr=4,f_(e,t,r,n)}finally{Fr=a,Zu.transition=s}}function f_(e,t,r,n){if(Ip){var a=D1(e,t,r,n);if(a===null)Qv(e,t,n,zp,r),T2(e,n);else if(CN(a,e,t,r,n))n.stopPropagation();else if(T2(e,n),t&4&&-1<SN.indexOf(e)){for(;a!==null;){var s=uc(a);if(s!==null&&Q3(s),s=D1(e,t,r,n),s===null&&Qv(e,t,n,zp,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Qv(e,t,n,null,r)}}var zp=null;function D1(e,t,r,n){if(zp=null,e=s_(n),e=bl(e),e!==null)if(t=Ll(e),t===null)e=null;else if(r=t.tag,r===13){if(e=G3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zp=e,null}function rS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pN()){case o_:return 1;case K3:return 4;case Np:case mN:return 16;case Z3:return 536870912;default:return 16}default:return 16}}var wo=null,d_=null,xp=null;function nS(){if(xp)return xp;var e,t=d_,r=t.length,n,a="value"in wo?wo.value:wo.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return xp=a.slice(e,1<n?1-n:void 0)}function wp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function op(){return!0}function O2(){return!1}function Zi(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?op:O2,this.isPropagationStopped=O2,this}return on(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=op)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=op)},persist:function(){},isPersistent:op}),t}var af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c_=Zi(af),lc=on({},af,{view:0,detail:0}),AN=Zi(lc),Vv,Yv,Dd,t0=on({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dd&&(Dd&&e.type==="mousemove"?(Vv=e.screenX-Dd.screenX,Yv=e.screenY-Dd.screenY):Yv=Vv=0,Dd=e),Vv)},movementY:function(e){return"movementY"in e?e.movementY:Yv}}),k2=Zi(t0),TN=on({},t0,{dataTransfer:0}),LN=Zi(TN),ON=on({},lc,{relatedTarget:0}),Kv=Zi(ON),kN=on({},af,{animationName:0,elapsedTime:0,pseudoElement:0}),NN=Zi(kN),PN=on({},af,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IN=Zi(PN),zN=on({},af,{data:0}),N2=Zi(zN),FN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UN[e])?!!t[e]:!1}function h_(){return RN}var jN=on({},lc,{key:function(e){if(e.key){var t=FN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h_,charCode:function(e){return e.type==="keypress"?wp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WN=Zi(jN),GN=on({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P2=Zi(GN),HN=on({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h_}),VN=Zi(HN),YN=on({},af,{propertyName:0,elapsedTime:0,pseudoElement:0}),KN=Zi(YN),ZN=on({},t0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XN=Zi(ZN),$N=[9,13,27,32],p_=Vs&&"CompositionEvent"in window,Fd=null;Vs&&"documentMode"in document&&(Fd=document.documentMode);var QN=Vs&&"TextEvent"in window&&!Fd,iS=Vs&&(!p_||Fd&&8<Fd&&11>=Fd),I2=" ",z2=!1;function aS(e,t){switch(e){case"keyup":return $N.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Iu=!1;function qN(e,t){switch(e){case"compositionend":return sS(t);case"keypress":return t.which!==32?null:(z2=!0,I2);case"textInput":return e=t.data,e===I2&&z2?null:e;default:return null}}function JN(e,t){if(Iu)return e==="compositionend"||!p_&&aS(e,t)?(e=nS(),xp=d_=wo=null,Iu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iS&&t.locale!=="ko"?null:t.data;default:return null}}var eP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eP[e.type]:t==="textarea"}function oS(e,t,r,n){B3(n),t=Fp(t,"onChange"),0<t.length&&(r=new c_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Bd=null,$d=null;function tP(e){_S(e,0)}function r0(e){var t=Bu(e);if(O3(t))return e}function rP(e,t){if(e==="change")return t}var lS=!1;Vs&&(Vs?(up="oninput"in document,up||(Zv=document.createElement("div"),Zv.setAttribute("oninput","return;"),up=typeof Zv.oninput=="function"),lp=up):lp=!1,lS=lp&&(!document.documentMode||9<document.documentMode));var lp,up,Zv;function B2(){Bd&&(Bd.detachEvent("onpropertychange",uS),$d=Bd=null)}function uS(e){if(e.propertyName==="value"&&r0($d)){var t=[];oS(t,$d,e,s_(e)),W3(tP,t)}}function nP(e,t,r){e==="focusin"?(B2(),Bd=t,$d=r,Bd.attachEvent("onpropertychange",uS)):e==="focusout"&&B2()}function iP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return r0($d)}function aP(e,t){if(e==="click")return r0(t)}function sP(e,t){if(e==="input"||e==="change")return r0(t)}function oP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ga=typeof Object.is=="function"?Object.is:oP;function Qd(e,t){if(Ga(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!l1.call(t,a)||!Ga(e[a],t[a]))return!1}return!0}function U2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function R2(e,t){var r=U2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=U2(r)}}function fS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dS(){for(var e=window,t=Lp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Lp(e.document)}return t}function m_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lP(e){var t=dS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fS(r.ownerDocument.documentElement,r)){if(n!==null&&m_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=R2(r,s);var o=R2(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uP=Vs&&"documentMode"in document&&11>=document.documentMode,zu=null,M1=null,Ud=null,A1=!1;function j2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;A1||zu==null||zu!==Lp(n)||(n=zu,"selectionStart"in n&&m_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ud&&Qd(Ud,n)||(Ud=n,n=Fp(M1,"onSelect"),0<n.length&&(t=new c_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zu)))}function fp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fu={animationend:fp("Animation","AnimationEnd"),animationiteration:fp("Animation","AnimationIteration"),animationstart:fp("Animation","AnimationStart"),transitionend:fp("Transition","TransitionEnd")},Xv={},cS={};Vs&&(cS=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function n0(e){if(Xv[e])return Xv[e];if(!Fu[e])return e;var t=Fu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cS)return Xv[e]=t[r];return e}var hS=n0("animationend"),pS=n0("animationiteration"),mS=n0("animationstart"),gS=n0("transitionend"),vS=new Map,W2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){vS.set(e,t),Tl(t,[e])}for(dp=0;dp<W2.length;dp++)cp=W2[dp],G2=cp.toLowerCase(),H2=cp[0].toUpperCase()+cp.slice(1),Po(G2,"on"+H2);var cp,G2,H2,dp;Po(hS,"onAnimationEnd");Po(pS,"onAnimationIteration");Po(mS,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(gS,"onTransitionEnd");Qu("onMouseEnter",["mouseout","mouseover"]);Qu("onMouseLeave",["mouseout","mouseover"]);Qu("onPointerEnter",["pointerout","pointerover"]);Qu("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function V2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fN(n,t,void 0,e),e.currentTarget=null}function _S(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],l=u.instance,g=u.currentTarget;if(u=u.listener,l!==s&&a.isPropagationStopped())break e;V2(a,u,g),s=l}else for(o=0;o<n.length;o++){if(u=n[o],l=u.instance,g=u.currentTarget,u=u.listener,l!==s&&a.isPropagationStopped())break e;V2(a,u,g),s=l}}}if(kp)throw e=S1,kp=!1,S1=null,e}function Qr(e,t){var r=t[N1];r===void 0&&(r=t[N1]=new Set);var n=e+"__bubble";r.has(n)||(bS(t,e,2,!1),r.add(n))}function $v(e,t,r){var n=0;t&&(n|=4),bS(r,e,n,t)}var hp="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[hp]){e[hp]=!0,D3.forEach(function(r){r!=="selectionchange"&&(fP.has(r)||$v(r,!1,e),$v(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hp]||(t[hp]=!0,$v("selectionchange",!1,t))}}function bS(e,t,r,n){switch(rS(t)){case 1:var a=DN;break;case 4:a=MN;break;default:a=f_}r=a.bind(null,t,r,e),a=void 0,!w1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Qv(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;u!==null;){if(o=bl(u),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}u=u.parentNode}}n=n.return}W3(function(){var g=s,h=s_(r),v=[];e:{var x=vS.get(e);if(x!==void 0){var S=c_,w=e;switch(e){case"keypress":if(wp(r)===0)break e;case"keydown":case"keyup":S=WN;break;case"focusin":w="focus",S=Kv;break;case"focusout":w="blur",S=Kv;break;case"beforeblur":case"afterblur":S=Kv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=k2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=LN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=VN;break;case hS:case pS:case mS:S=NN;break;case gS:S=KN;break;case"scroll":S=AN;break;case"wheel":S=XN;break;case"copy":case"cut":case"paste":S=IN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=P2}var c=(t&4)!==0,_=!c&&e==="scroll",y=c?x!==null?x+"Capture":null:x;c=[];for(var b=g,C;b!==null;){C=b;var E=C.stateNode;if(C.tag===5&&E!==null&&(C=E,y!==null&&(E=Yd(b,y),E!=null&&c.push(Jd(b,E,C)))),_)break;b=b.return}0<c.length&&(x=new S(x,w,null,r,h),v.push({event:x,listeners:c}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",x&&r!==y1&&(w=r.relatedTarget||r.fromElement)&&(bl(w)||w[Ys]))break e;if((S||x)&&(x=h.window===h?h:(x=h.ownerDocument)?x.defaultView||x.parentWindow:window,S?(w=r.relatedTarget||r.toElement,S=g,w=w?bl(w):null,w!==null&&(_=Ll(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(S=null,w=g),S!==w)){if(c=k2,E="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(c=P2,E="onPointerLeave",y="onPointerEnter",b="pointer"),_=S==null?x:Bu(S),C=w==null?x:Bu(w),x=new c(E,b+"leave",S,r,h),x.target=_,x.relatedTarget=C,E=null,bl(h)===g&&(c=new c(y,b+"enter",w,r,h),c.target=C,c.relatedTarget=_,E=c),_=E,S&&w)t:{for(c=S,y=w,b=0,C=c;C;C=ku(C))b++;for(C=0,E=y;E;E=ku(E))C++;for(;0<b-C;)c=ku(c),b--;for(;0<C-b;)y=ku(y),C--;for(;b--;){if(c===y||y!==null&&c===y.alternate)break t;c=ku(c),y=ku(y)}c=null}else c=null;S!==null&&Y2(v,x,S,c,!1),w!==null&&_!==null&&Y2(v,_,w,c,!0)}}e:{if(x=g?Bu(g):window,S=x.nodeName&&x.nodeName.toLowerCase(),S==="select"||S==="input"&&x.type==="file")var p=rP;else if(F2(x))if(lS)p=sP;else{p=iP;var f=nP}else(S=x.nodeName)&&S.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(p=aP);if(p&&(p=p(e,g))){oS(v,p,r,h);break e}f&&f(e,x,g),e==="focusout"&&(f=x._wrapperState)&&f.controlled&&x.type==="number"&&m1(x,"number",x.value)}switch(f=g?Bu(g):window,e){case"focusin":(F2(f)||f.contentEditable==="true")&&(zu=f,M1=g,Ud=null);break;case"focusout":Ud=M1=zu=null;break;case"mousedown":A1=!0;break;case"contextmenu":case"mouseup":case"dragend":A1=!1,j2(v,r,h);break;case"selectionchange":if(uP)break;case"keydown":case"keyup":j2(v,r,h)}var D;if(p_)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Iu?aS(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(iS&&r.locale!=="ko"&&(Iu||M!=="onCompositionStart"?M==="onCompositionEnd"&&Iu&&(D=nS()):(wo=h,d_="value"in wo?wo.value:wo.textContent,Iu=!0)),f=Fp(g,M),0<f.length&&(M=new N2(M,e,null,r,h),v.push({event:M,listeners:f}),D?M.data=D:(D=sS(r),D!==null&&(M.data=D)))),(D=QN?qN(e,r):JN(e,r))&&(g=Fp(g,"onBeforeInput"),0<g.length&&(h=new N2("onBeforeInput","beforeinput",null,r,h),v.push({event:h,listeners:g}),h.data=D))}_S(v,t)})}function Jd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Yd(e,r),s!=null&&n.unshift(Jd(e,s,a)),s=Yd(e,t),s!=null&&n.push(Jd(e,s,a))),e=e.return}return n}function ku(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Y2(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var u=r,l=u.alternate,g=u.stateNode;if(l!==null&&l===n)break;u.tag===5&&g!==null&&(u=g,a?(l=Yd(r,s),l!=null&&o.unshift(Jd(r,l,u))):a||(l=Yd(r,s),l!=null&&o.push(Jd(r,l,u)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var dP=/\r\n?/g,cP=/\u0000|\uFFFD/g;function K2(e){return(typeof e=="string"?e:""+e).replace(dP,`
`).replace(cP,"")}function pp(e,t,r){if(t=K2(t),K2(e)!==t&&r)throw Error(Dt(425))}function Bp(){}var T1=null,L1=null;function O1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var k1=typeof setTimeout=="function"?setTimeout:void 0,hP=typeof clearTimeout=="function"?clearTimeout:void 0,Z2=typeof Promise=="function"?Promise:void 0,pP=typeof queueMicrotask=="function"?queueMicrotask:typeof Z2<"u"?function(e){return Z2.resolve(null).then(e).catch(mP)}:k1;function mP(e){setTimeout(function(){throw e})}function qv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Xd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Xd(t)}function Mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function X2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sf=Math.random().toString(36).slice(2),os="__reactFiber$"+sf,ec="__reactProps$"+sf,Ys="__reactContainer$"+sf,N1="__reactEvents$"+sf,gP="__reactListeners$"+sf,vP="__reactHandles$"+sf;function bl(e){var t=e[os];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ys]||r[os]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=X2(e);e!==null;){if(r=e[os])return r;e=X2(e)}return t}e=r,r=e.parentNode}return null}function uc(e){return e=e[os]||e[Ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Dt(33))}function i0(e){return e[ec]||null}var P1=[],Uu=-1;function Io(e){return{current:e}}function qr(e){0>Uu||(e.current=P1[Uu],P1[Uu]=null,Uu--)}function Kr(e,t){Uu++,P1[Uu]=e.current,e.current=t}var No={},ni=Io(No),Ni=Io(!1),Cl=No;function qu(e,t){var r=e.type.contextTypes;if(!r)return No;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return e=e.childContextTypes,e!=null}function Up(){qr(Ni),qr(ni)}function $2(e,t,r){if(ni.current!==No)throw Error(Dt(168));Kr(ni,t),Kr(Ni,r)}function yS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Dt(108,nN(e)||"Unknown",a));return on({},r,n)}function Rp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Cl=ni.current,Kr(ni,e),Kr(Ni,Ni.current),!0}function Q2(e,t,r){var n=e.stateNode;if(!n)throw Error(Dt(169));r?(e=yS(e,t,Cl),n.__reactInternalMemoizedMergedChildContext=e,qr(Ni),qr(ni),Kr(ni,e)):qr(Ni),Kr(Ni,r)}var js=null,a0=!1,Jv=!1;function xS(e){js===null?js=[e]:js.push(e)}function _P(e){a0=!0,xS(e)}function zo(){if(!Jv&&js!==null){Jv=!0;var e=0,t=Fr;try{var r=js;for(Fr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}js=null,a0=!1}catch(a){throw js!==null&&(js=js.slice(e+1)),Y3(o_,zo),a}finally{Fr=t,Jv=!1}}return null}var Ru=[],ju=0,jp=null,Wp=0,oa=[],la=0,El=null,Ws=1,Gs="";function vl(e,t){Ru[ju++]=Wp,Ru[ju++]=jp,jp=e,Wp=t}function wS(e,t,r){oa[la++]=Ws,oa[la++]=Gs,oa[la++]=El,El=e;var n=Ws;e=Gs;var a=32-ja(n)-1;n&=~(1<<a),r+=1;var s=32-ja(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ws=1<<32-ja(t)+a|r<<a|n,Gs=s+e}else Ws=1<<s|r<<a|n,Gs=e}function g_(e){e.return!==null&&(vl(e,1),wS(e,1,0))}function v_(e){for(;e===jp;)jp=Ru[--ju],Ru[ju]=null,Wp=Ru[--ju],Ru[ju]=null;for(;e===El;)El=oa[--la],oa[la]=null,Gs=oa[--la],oa[la]=null,Ws=oa[--la],oa[la]=null}var Yi=null,Vi=null,rn=!1,Ra=null;function SS(e,t){var r=ua(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function q2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yi=e,Vi=Mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yi=e,Vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=El!==null?{id:Ws,overflow:Gs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ua(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yi=e,Vi=null,!0):!1;default:return!1}}function I1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function z1(e){if(rn){var t=Vi;if(t){var r=t;if(!q2(e,t)){if(I1(e))throw Error(Dt(418));t=Mo(r.nextSibling);var n=Yi;t&&q2(e,t)?SS(n,r):(e.flags=e.flags&-4097|2,rn=!1,Yi=e)}}else{if(I1(e))throw Error(Dt(418));e.flags=e.flags&-4097|2,rn=!1,Yi=e}}}function J2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yi=e}function mp(e){if(e!==Yi)return!1;if(!rn)return J2(e),rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!O1(e.type,e.memoizedProps)),t&&(t=Vi)){if(I1(e))throw CS(),Error(Dt(418));for(;t;)SS(e,t),t=Mo(t.nextSibling)}if(J2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Dt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vi=Mo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vi=null}}else Vi=Yi?Mo(e.stateNode.nextSibling):null;return!0}function CS(){for(var e=Vi;e;)e=Mo(e.nextSibling)}function Ju(){Vi=Yi=null,rn=!1}function __(e){Ra===null?Ra=[e]:Ra.push(e)}var bP=Xs.ReactCurrentBatchConfig;function Ba(e,t){if(e&&e.defaultProps){t=on({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Gp=Io(null),Hp=null,Wu=null,b_=null;function y_(){b_=Wu=Hp=null}function x_(e){var t=Gp.current;qr(Gp),e._currentValue=t}function F1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xu(e,t){Hp=e,b_=Wu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ki=!0),e.firstContext=null)}function da(e){var t=e._currentValue;if(b_!==e)if(e={context:e,memoizedValue:t,next:null},Wu===null){if(Hp===null)throw Error(Dt(308));Wu=e,Hp.dependencies={lanes:0,firstContext:e}}else Wu=Wu.next=e;return t}var yl=null;function w_(e){yl===null?yl=[e]:yl.push(e)}function ES(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,w_(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ks(e,n)}function Ks(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bo=!1;function S_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ks(e,r)}return a=n.interleaved,a===null?(t.next=t,w_(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ks(e,r)}function Sp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,l_(e,r)}}function e3(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vp(e,t,r,n){var a=e.updateQueue;bo=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var l=u,g=l.next;l.next=null,o===null?s=g:o.next=g,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==o&&(u===null?h.firstBaseUpdate=g:u.next=g,h.lastBaseUpdate=l))}if(s!==null){var v=a.baseState;o=0,h=g=l=null,u=s;do{var x=u.lane,S=u.eventTime;if((n&x)===x){h!==null&&(h=h.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=e,c=u;switch(x=t,S=r,c.tag){case 1:if(w=c.payload,typeof w=="function"){v=w.call(S,v,x);break e}v=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=c.payload,x=typeof w=="function"?w.call(S,v,x):w,x==null)break e;v=on({},v,x);break e;case 2:bo=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[u]:x.push(u))}else S={eventTime:S,lane:x,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(g=h=S,l=v):h=h.next=S,o|=x;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;x=u,u=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(h===null&&(l=v),a.baseState=l,a.firstBaseUpdate=g,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=v}}function t3(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Dt(191,a));a.call(n)}}}var MS=new E3.Component().refs;function B1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:on({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var s0={isMounted:function(e){return(e=e._reactInternals)?Ll(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=pi(),a=Lo(e),s=Hs(n,a);s.payload=t,r!=null&&(s.callback=r),t=Ao(e,s,a),t!==null&&(Wa(t,e,a,n),Sp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=pi(),a=Lo(e),s=Hs(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ao(e,s,a),t!==null&&(Wa(t,e,a,n),Sp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pi(),n=Lo(e),a=Hs(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ao(e,a,n),t!==null&&(Wa(t,e,n,r),Sp(t,e,n))}};function r3(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Qd(r,n)||!Qd(a,s):!0}function AS(e,t,r){var n=!1,a=No,s=t.contextType;return typeof s=="object"&&s!==null?s=da(s):(a=Pi(t)?Cl:ni.current,n=t.contextTypes,s=(n=n!=null)?qu(e,a):No),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=s0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function n3(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&s0.enqueueReplaceState(t,t.state,null)}function U1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=MS,S_(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=da(s):(s=Pi(t)?Cl:ni.current,a.context=qu(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(B1(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&s0.enqueueReplaceState(a,a.state,null),Vp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Md(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Dt(309));var n=r.stateNode}if(!n)throw Error(Dt(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=a.refs;u===MS&&(u=a.refs={}),o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Dt(284));if(!r._owner)throw Error(Dt(290,e))}return e}function gp(e,t){throw e=Object.prototype.toString.call(t),Error(Dt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i3(e){var t=e._init;return t(e._payload)}function TS(e){function t(y,b){if(e){var C=y.deletions;C===null?(y.deletions=[b],y.flags|=16):C.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Oo(y,b),y.index=0,y.sibling=null,y}function s(y,b,C){return y.index=C,e?(C=y.alternate,C!==null?(C=C.index,C<b?(y.flags|=2,b):C):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function u(y,b,C,E){return b===null||b.tag!==6?(b=s1(C,y.mode,E),b.return=y,b):(b=a(b,C),b.return=y,b)}function l(y,b,C,E){var p=C.type;return p===Pu?h(y,b,C.props.children,E,C.key):b!==null&&(b.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===_o&&i3(p)===b.type)?(E=a(b,C.props),E.ref=Md(y,b,C),E.return=y,E):(E=Tp(C.type,C.key,C.props,null,y.mode,E),E.ref=Md(y,b,C),E.return=y,E)}function g(y,b,C,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=o1(C,y.mode,E),b.return=y,b):(b=a(b,C.children||[]),b.return=y,b)}function h(y,b,C,E,p){return b===null||b.tag!==7?(b=Sl(C,y.mode,E,p),b.return=y,b):(b=a(b,C),b.return=y,b)}function v(y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=s1(""+b,y.mode,C),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:return C=Tp(b.type,b.key,b.props,null,y.mode,C),C.ref=Md(y,null,b),C.return=y,C;case Nu:return b=o1(b,y.mode,C),b.return=y,b;case _o:var E=b._init;return v(y,E(b._payload),C)}if(kd(b)||Sd(b))return b=Sl(b,y.mode,C,null),b.return=y,b;gp(y,b)}return null}function x(y,b,C,E){var p=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return p!==null?null:u(y,b,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case tp:return C.key===p?l(y,b,C,E):null;case Nu:return C.key===p?g(y,b,C,E):null;case _o:return p=C._init,x(y,b,p(C._payload),E)}if(kd(C)||Sd(C))return p!==null?null:h(y,b,C,E,null);gp(y,C)}return null}function S(y,b,C,E,p){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(C)||null,u(b,y,""+E,p);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case tp:return y=y.get(E.key===null?C:E.key)||null,l(b,y,E,p);case Nu:return y=y.get(E.key===null?C:E.key)||null,g(b,y,E,p);case _o:var f=E._init;return S(y,b,C,f(E._payload),p)}if(kd(E)||Sd(E))return y=y.get(C)||null,h(b,y,E,p,null);gp(b,E)}return null}function w(y,b,C,E){for(var p=null,f=null,D=b,M=b=0,N=null;D!==null&&M<C.length;M++){D.index>M?(N=D,D=null):N=D.sibling;var O=x(y,D,C[M],E);if(O===null){D===null&&(D=N);break}e&&D&&O.alternate===null&&t(y,D),b=s(O,b,M),f===null?p=O:f.sibling=O,f=O,D=N}if(M===C.length)return r(y,D),rn&&vl(y,M),p;if(D===null){for(;M<C.length;M++)D=v(y,C[M],E),D!==null&&(b=s(D,b,M),f===null?p=D:f.sibling=D,f=D);return rn&&vl(y,M),p}for(D=n(y,D);M<C.length;M++)N=S(D,y,M,C[M],E),N!==null&&(e&&N.alternate!==null&&D.delete(N.key===null?M:N.key),b=s(N,b,M),f===null?p=N:f.sibling=N,f=N);return e&&D.forEach(function(z){return t(y,z)}),rn&&vl(y,M),p}function c(y,b,C,E){var p=Sd(C);if(typeof p!="function")throw Error(Dt(150));if(C=p.call(C),C==null)throw Error(Dt(151));for(var f=p=null,D=b,M=b=0,N=null,O=C.next();D!==null&&!O.done;M++,O=C.next()){D.index>M?(N=D,D=null):N=D.sibling;var z=x(y,D,O.value,E);if(z===null){D===null&&(D=N);break}e&&D&&z.alternate===null&&t(y,D),b=s(z,b,M),f===null?p=z:f.sibling=z,f=z,D=N}if(O.done)return r(y,D),rn&&vl(y,M),p;if(D===null){for(;!O.done;M++,O=C.next())O=v(y,O.value,E),O!==null&&(b=s(O,b,M),f===null?p=O:f.sibling=O,f=O);return rn&&vl(y,M),p}for(D=n(y,D);!O.done;M++,O=C.next())O=S(D,y,M,O.value,E),O!==null&&(e&&O.alternate!==null&&D.delete(O.key===null?M:O.key),b=s(O,b,M),f===null?p=O:f.sibling=O,f=O);return e&&D.forEach(function(k){return t(y,k)}),rn&&vl(y,M),p}function _(y,b,C,E){if(typeof C=="object"&&C!==null&&C.type===Pu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case tp:e:{for(var p=C.key,f=b;f!==null;){if(f.key===p){if(p=C.type,p===Pu){if(f.tag===7){r(y,f.sibling),b=a(f,C.props.children),b.return=y,y=b;break e}}else if(f.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===_o&&i3(p)===f.type){r(y,f.sibling),b=a(f,C.props),b.ref=Md(y,f,C),b.return=y,y=b;break e}r(y,f);break}else t(y,f);f=f.sibling}C.type===Pu?(b=Sl(C.props.children,y.mode,E,C.key),b.return=y,y=b):(E=Tp(C.type,C.key,C.props,null,y.mode,E),E.ref=Md(y,b,C),E.return=y,y=E)}return o(y);case Nu:e:{for(f=C.key;b!==null;){if(b.key===f)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){r(y,b.sibling),b=a(b,C.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=o1(C,y.mode,E),b.return=y,y=b}return o(y);case _o:return f=C._init,_(y,b,f(C._payload),E)}if(kd(C))return w(y,b,C,E);if(Sd(C))return c(y,b,C,E);gp(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,C),b.return=y,y=b):(r(y,b),b=s1(C,y.mode,E),b.return=y,y=b),o(y)):r(y,b)}return _}var ef=TS(!0),LS=TS(!1),fc={},us=Io(fc),tc=Io(fc),rc=Io(fc);function xl(e){if(e===fc)throw Error(Dt(174));return e}function C_(e,t){switch(Kr(rc,t),Kr(tc,e),Kr(us,fc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:v1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=v1(t,e)}qr(us),Kr(us,t)}function tf(){qr(us),qr(tc),qr(rc)}function OS(e){xl(rc.current);var t=xl(us.current),r=v1(t,e.type);t!==r&&(Kr(tc,e),Kr(us,r))}function E_(e){tc.current===e&&(qr(us),qr(tc))}var an=Io(0);function Yp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var e1=[];function D_(){for(var e=0;e<e1.length;e++)e1[e]._workInProgressVersionPrimary=null;e1.length=0}var Cp=Xs.ReactCurrentDispatcher,t1=Xs.ReactCurrentBatchConfig,Dl=0,sn=null,Mn=null,Fn=null,Kp=!1,Rd=!1,nc=0,yP=0;function ei(){throw Error(Dt(321))}function M_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ga(e[r],t[r]))return!1;return!0}function A_(e,t,r,n,a,s){if(Dl=s,sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cp.current=e===null||e.memoizedState===null?CP:EP,e=r(n,a),Rd){s=0;do{if(Rd=!1,nc=0,25<=s)throw Error(Dt(301));s+=1,Fn=Mn=null,t.updateQueue=null,Cp.current=DP,e=r(n,a)}while(Rd)}if(Cp.current=Zp,t=Mn!==null&&Mn.next!==null,Dl=0,Fn=Mn=sn=null,Kp=!1,t)throw Error(Dt(300));return e}function T_(){var e=nc!==0;return nc=0,e}function ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?sn.memoizedState=Fn=e:Fn=Fn.next=e,Fn}function ca(){if(Mn===null){var e=sn.alternate;e=e!==null?e.memoizedState:null}else e=Mn.next;var t=Fn===null?sn.memoizedState:Fn.next;if(t!==null)Fn=t,Mn=e;else{if(e===null)throw Error(Dt(310));Mn=e,e={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Fn===null?sn.memoizedState=Fn=e:Fn=Fn.next=e}return Fn}function ic(e,t){return typeof t=="function"?t(e):t}function r1(e){var t=ca(),r=t.queue;if(r===null)throw Error(Dt(311));r.lastRenderedReducer=e;var n=Mn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var u=o=null,l=null,g=s;do{var h=g.lane;if((Dl&h)===h)l!==null&&(l=l.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),n=g.hasEagerState?g.eagerState:e(n,g.action);else{var v={lane:h,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};l===null?(u=l=v,o=n):l=l.next=v,sn.lanes|=h,Ml|=h}g=g.next}while(g!==null&&g!==s);l===null?o=n:l.next=u,Ga(n,t.memoizedState)||(ki=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,sn.lanes|=s,Ml|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function n1(e){var t=ca(),r=t.queue;if(r===null)throw Error(Dt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Ga(s,t.memoizedState)||(ki=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function kS(){}function NS(e,t){var r=sn,n=ca(),a=t(),s=!Ga(n.memoizedState,a);if(s&&(n.memoizedState=a,ki=!0),n=n.queue,L_(zS.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Fn!==null&&Fn.memoizedState.tag&1){if(r.flags|=2048,ac(9,IS.bind(null,r,n,a,t),void 0,null),Bn===null)throw Error(Dt(349));Dl&30||PS(r,t,a)}return a}function PS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function IS(e,t,r,n){t.value=r,t.getSnapshot=n,FS(t)&&BS(e)}function zS(e,t,r){return r(function(){FS(t)&&BS(e)})}function FS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ga(e,r)}catch{return!0}}function BS(e){var t=Ks(e,1);t!==null&&Wa(t,e,1,-1)}function a3(e){var t=ss();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:e},t.queue=e,e=e.dispatch=SP.bind(null,sn,e),[t.memoizedState,e]}function ac(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function US(){return ca().memoizedState}function Ep(e,t,r,n){var a=ss();sn.flags|=e,a.memoizedState=ac(1|t,r,void 0,n===void 0?null:n)}function o0(e,t,r,n){var a=ca();n=n===void 0?null:n;var s=void 0;if(Mn!==null){var o=Mn.memoizedState;if(s=o.destroy,n!==null&&M_(n,o.deps)){a.memoizedState=ac(t,r,s,n);return}}sn.flags|=e,a.memoizedState=ac(1|t,r,s,n)}function s3(e,t){return Ep(8390656,8,e,t)}function L_(e,t){return o0(2048,8,e,t)}function RS(e,t){return o0(4,2,e,t)}function jS(e,t){return o0(4,4,e,t)}function WS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GS(e,t,r){return r=r!=null?r.concat([e]):null,o0(4,4,WS.bind(null,t,e),r)}function O_(){}function HS(e,t){var r=ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&M_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function VS(e,t){var r=ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&M_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function YS(e,t,r){return Dl&21?(Ga(r,t)||(r=X3(),sn.lanes|=r,Ml|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ki=!0),e.memoizedState=r)}function xP(e,t){var r=Fr;Fr=r!==0&&4>r?r:4,e(!0);var n=t1.transition;t1.transition={};try{e(!1),t()}finally{Fr=r,t1.transition=n}}function KS(){return ca().memoizedState}function wP(e,t,r){var n=Lo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZS(e))XS(t,r);else if(r=ES(e,t,r,n),r!==null){var a=pi();Wa(r,e,n,a),$S(r,t,n)}}function SP(e,t,r){var n=Lo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZS(e))XS(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,r);if(a.hasEagerState=!0,a.eagerState=u,Ga(u,o)){var l=t.interleaved;l===null?(a.next=a,w_(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=ES(e,t,a,n),r!==null&&(a=pi(),Wa(r,e,n,a),$S(r,t,n))}}function ZS(e){var t=e.alternate;return e===sn||t!==null&&t===sn}function XS(e,t){Rd=Kp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $S(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,l_(e,r)}}var Zp={readContext:da,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},CP={readContext:da,useCallback:function(e,t){return ss().memoizedState=[e,t===void 0?null:t],e},useContext:da,useEffect:s3,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ep(4194308,4,WS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ep(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ep(4,2,e,t)},useMemo:function(e,t){var r=ss();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ss();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wP.bind(null,sn,e),[n.memoizedState,e]},useRef:function(e){var t=ss();return e={current:e},t.memoizedState=e},useState:a3,useDebugValue:O_,useDeferredValue:function(e){return ss().memoizedState=e},useTransition:function(){var e=a3(!1),t=e[0];return e=xP.bind(null,e[1]),ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=sn,a=ss();if(rn){if(r===void 0)throw Error(Dt(407));r=r()}else{if(r=t(),Bn===null)throw Error(Dt(349));Dl&30||PS(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,s3(zS.bind(null,n,s,e),[e]),n.flags|=2048,ac(9,IS.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ss(),t=Bn.identifierPrefix;if(rn){var r=Gs,n=Ws;r=(n&~(1<<32-ja(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EP={readContext:da,useCallback:HS,useContext:da,useEffect:L_,useImperativeHandle:GS,useInsertionEffect:RS,useLayoutEffect:jS,useMemo:VS,useReducer:r1,useRef:US,useState:function(){return r1(ic)},useDebugValue:O_,useDeferredValue:function(e){var t=ca();return YS(t,Mn.memoizedState,e)},useTransition:function(){var e=r1(ic)[0],t=ca().memoizedState;return[e,t]},useMutableSource:kS,useSyncExternalStore:NS,useId:KS,unstable_isNewReconciler:!1},DP={readContext:da,useCallback:HS,useContext:da,useEffect:L_,useImperativeHandle:GS,useInsertionEffect:RS,useLayoutEffect:jS,useMemo:VS,useReducer:n1,useRef:US,useState:function(){return n1(ic)},useDebugValue:O_,useDeferredValue:function(e){var t=ca();return Mn===null?t.memoizedState=e:YS(t,Mn.memoizedState,e)},useTransition:function(){var e=n1(ic)[0],t=ca().memoizedState;return[e,t]},useMutableSource:kS,useSyncExternalStore:NS,useId:KS,unstable_isNewReconciler:!1};function rf(e,t){try{var r="",n=t;do r+=rN(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function i1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function R1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var MP=typeof WeakMap=="function"?WeakMap:Map;function QS(e,t,r){r=Hs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$p||($p=!0,$1=n),R1(e,t)},r}function qS(e,t,r){r=Hs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){R1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){R1(e,t),typeof n!="function"&&(To===null?To=new Set([this]):To.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function o3(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new MP;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=jP.bind(null,e,t,r),t.then(e,e))}function l3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u3(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hs(-1,1),t.tag=2,Ao(r,t,1))),r.lanes|=1),e)}var AP=Xs.ReactCurrentOwner,ki=!1;function hi(e,t,r,n){t.child=e===null?LS(t,null,r,n):ef(t,e.child,r,n)}function f3(e,t,r,n,a){r=r.render;var s=t.ref;return Xu(t,a),n=A_(e,t,r,n,s,a),r=T_(),e!==null&&!ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a)):(rn&&r&&g_(t),t.flags|=1,hi(e,t,n,a),t.child)}function d3(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!U_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,JS(e,t,s,n,a)):(e=Tp(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Qd,r(o,n)&&e.ref===t.ref)return Zs(e,t,a)}return t.flags|=1,e=Oo(s,n),e.ref=t.ref,e.return=t,t.child=e}function JS(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Qd(s,n)&&e.ref===t.ref)if(ki=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(ki=!0);else return t.lanes=e.lanes,Zs(e,t,a)}return j1(e,t,r,n,a)}function eC(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(Hu,Hi),Hi|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kr(Hu,Hi),Hi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Kr(Hu,Hi),Hi|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Kr(Hu,Hi),Hi|=n;return hi(e,t,a,r),t.child}function tC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function j1(e,t,r,n,a){var s=Pi(r)?Cl:ni.current;return s=qu(t,s),Xu(t,a),r=A_(e,t,r,n,s,a),n=T_(),e!==null&&!ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zs(e,t,a)):(rn&&n&&g_(t),t.flags|=1,hi(e,t,r,a),t.child)}function c3(e,t,r,n,a){if(Pi(r)){var s=!0;Rp(t)}else s=!1;if(Xu(t,a),t.stateNode===null)Dp(e,t),AS(t,r,n),U1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var l=o.context,g=r.contextType;typeof g=="object"&&g!==null?g=da(g):(g=Pi(r)?Cl:ni.current,g=qu(t,g));var h=r.getDerivedStateFromProps,v=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||l!==g)&&n3(t,o,n,g),bo=!1;var x=t.memoizedState;o.state=x,Vp(t,n,o,a),l=t.memoizedState,u!==n||x!==l||Ni.current||bo?(typeof h=="function"&&(B1(t,r,h,n),l=t.memoizedState),(u=bo||r3(t,r,u,n,x,l,g))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=g,n=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,DS(e,t),u=t.memoizedProps,g=t.type===t.elementType?u:Ba(t.type,u),o.props=g,v=t.pendingProps,x=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=da(l):(l=Pi(r)?Cl:ni.current,l=qu(t,l));var S=r.getDerivedStateFromProps;(h=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==v||x!==l)&&n3(t,o,n,l),bo=!1,x=t.memoizedState,o.state=x,Vp(t,n,o,a);var w=t.memoizedState;u!==v||x!==w||Ni.current||bo?(typeof S=="function"&&(B1(t,r,S,n),w=t.memoizedState),(g=bo||r3(t,r,g,n,x,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=l,n=g):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return W1(e,t,r,n,s,a)}function W1(e,t,r,n,a,s){tC(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Q2(t,r,!1),Zs(e,t,s);n=t.stateNode,AP.current=t;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ef(t,e.child,null,s),t.child=ef(t,null,u,s)):hi(e,t,u,s),t.memoizedState=n.state,a&&Q2(t,r,!0),t.child}function rC(e){var t=e.stateNode;t.pendingContext?$2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$2(e,t.context,!1),C_(e,t.containerInfo)}function h3(e,t,r,n,a){return Ju(),__(a),t.flags|=256,hi(e,t,r,n),t.child}var G1={dehydrated:null,treeContext:null,retryLane:0};function H1(e){return{baseLanes:e,cachePool:null,transitions:null}}function nC(e,t,r){var n=t.pendingProps,a=an.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(a&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Kr(an,a&1),e===null)return z1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=f0(o,n,0,null),e=Sl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=H1(r),t.memoizedState=G1,e):k_(t,o));if(a=e.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return TP(e,t,o,n,u,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,u=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Oo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),u!==null?s=Oo(u,s):(s=Sl(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?H1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=G1,n}return s=e.child,e=s.sibling,n=Oo(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function k_(e,t){return t=f0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vp(e,t,r,n){return n!==null&&__(n),ef(t,e.child,null,r),e=k_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TP(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=i1(Error(Dt(422))),vp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=f0({mode:"visible",children:n.children},a,0,null),s=Sl(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ef(t,e.child,null,o),t.child.memoizedState=H1(o),t.memoizedState=G1,s);if(!(t.mode&1))return vp(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(Dt(419)),n=i1(s,n,void 0),vp(e,t,o,n)}if(u=(o&e.childLanes)!==0,ki||u){if(n=Bn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ks(e,a),Wa(n,e,a,-1))}return B_(),n=i1(Error(Dt(421))),vp(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=WP.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Vi=Mo(a.nextSibling),Yi=t,rn=!0,Ra=null,e!==null&&(oa[la++]=Ws,oa[la++]=Gs,oa[la++]=El,Ws=e.id,Gs=e.overflow,El=t),t=k_(t,n.children),t.flags|=4096,t)}function p3(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),F1(e.return,t,r)}function a1(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function iC(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(hi(e,t,n.children,r),n=an.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p3(e,r,t);else if(e.tag===19)p3(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Kr(an,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Yp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),a1(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Yp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}a1(t,!0,r,null,s);break;case"together":a1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ml|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Dt(153));if(t.child!==null){for(e=t.child,r=Oo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Oo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function LP(e,t,r){switch(t.tag){case 3:rC(t),Ju();break;case 5:OS(t);break;case 1:Pi(t.type)&&Rp(t);break;case 4:C_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Kr(Gp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Kr(an,an.current&1),t.flags|=128,null):r&t.child.childLanes?nC(e,t,r):(Kr(an,an.current&1),e=Zs(e,t,r),e!==null?e.sibling:null);Kr(an,an.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return iC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Kr(an,an.current),n)break;return null;case 22:case 23:return t.lanes=0,eC(e,t,r)}return Zs(e,t,r)}var aC,V1,sC,oC;aC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};V1=function(){};sC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,xl(us.current);var s=null;switch(r){case"input":a=h1(e,a),n=h1(e,n),s=[];break;case"select":a=on({},a,{value:void 0}),n=on({},n,{value:void 0}),s=[];break;case"textarea":a=g1(e,a),n=g1(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bp)}_1(r,n);var o;r=null;for(g in a)if(!n.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var u=a[g];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Hd.hasOwnProperty(g)?s||(s=[]):(s=s||[]).push(g,null));for(g in n){var l=n[g];if(u=a?.[g],n.hasOwnProperty(g)&&l!==u&&(l!=null||u!=null))if(g==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(g,r)),r=l;else g==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(g,l)):g==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(g,""+l):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Hd.hasOwnProperty(g)?(l!=null&&g==="onScroll"&&Qr("scroll",e),s||u===l||(s=[])):(s=s||[]).push(g,l))}r&&(s=s||[]).push("style",r);var g=s;(t.updateQueue=g)&&(t.flags|=4)}};oC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ad(e,t){if(!rn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ti(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function OP(e,t,r){var n=t.pendingProps;switch(v_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(t),null;case 1:return Pi(t.type)&&Up(),ti(t),null;case 3:return n=t.stateNode,tf(),qr(Ni),qr(ni),D_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ra!==null&&(J1(Ra),Ra=null))),V1(e,t),ti(t),null;case 5:E_(t);var a=xl(rc.current);if(r=t.type,e!==null&&t.stateNode!=null)sC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Dt(166));return ti(t),null}if(e=xl(us.current),mp(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[os]=t,n[ec]=s,e=(t.mode&1)!==0,r){case"dialog":Qr("cancel",n),Qr("close",n);break;case"iframe":case"object":case"embed":Qr("load",n);break;case"video":case"audio":for(a=0;a<Pd.length;a++)Qr(Pd[a],n);break;case"source":Qr("error",n);break;case"img":case"image":case"link":Qr("error",n),Qr("load",n);break;case"details":Qr("toggle",n);break;case"input":w2(n,s),Qr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Qr("invalid",n);break;case"textarea":C2(n,s),Qr("invalid",n)}_1(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&pp(n.textContent,u,e),a=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&pp(n.textContent,u,e),a=["children",""+u]):Hd.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Qr("scroll",n)}switch(r){case"input":rp(n),S2(n,s,!0);break;case"textarea":rp(n),E2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Bp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[os]=t,e[ec]=n,aC(e,t,!1,!1),t.stateNode=e;e:{switch(o=b1(r,n),r){case"dialog":Qr("cancel",e),Qr("close",e),a=n;break;case"iframe":case"object":case"embed":Qr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Pd.length;a++)Qr(Pd[a],e);a=n;break;case"source":Qr("error",e),a=n;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),a=n;break;case"details":Qr("toggle",e),a=n;break;case"input":w2(e,n),a=h1(e,n),Qr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=on({},n,{value:void 0}),Qr("invalid",e);break;case"textarea":C2(e,n),a=g1(e,n),Qr("invalid",e);break;default:a=n}_1(r,a),u=a;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?F3(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&I3(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vd(e,l):typeof l=="number"&&Vd(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qr("scroll",e):l!=null&&r_(e,s,l,o))}switch(r){case"input":rp(e),S2(e,n,!1);break;case"textarea":rp(e),E2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ko(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Vu(e,!!n.multiple,s,!1):n.defaultValue!=null&&Vu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ti(t),null;case 6:if(e&&t.stateNode!=null)oC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Dt(166));if(r=xl(rc.current),xl(us.current),mp(t)){if(n=t.stateNode,r=t.memoizedProps,n[os]=t,(s=n.nodeValue!==r)&&(e=Yi,e!==null))switch(e.tag){case 3:pp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pp(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[os]=t,t.stateNode=n}return ti(t),null;case 13:if(qr(an),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rn&&Vi!==null&&t.mode&1&&!(t.flags&128))CS(),Ju(),t.flags|=98560,s=!1;else if(s=mp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Dt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Dt(317));s[os]=t}else Ju(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ti(t),s=!1}else Ra!==null&&(J1(Ra),Ra=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||an.current&1?An===0&&(An=3):B_())),t.updateQueue!==null&&(t.flags|=4),ti(t),null);case 4:return tf(),V1(e,t),e===null&&qd(t.stateNode.containerInfo),ti(t),null;case 10:return x_(t.type._context),ti(t),null;case 17:return Pi(t.type)&&Up(),ti(t),null;case 19:if(qr(an),s=t.memoizedState,s===null)return ti(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Ad(s,!1);else{if(An!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Yp(e),o!==null){for(t.flags|=128,Ad(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kr(an,an.current&1|2),t.child}e=e.sibling}s.tail!==null&&bn()>nf&&(t.flags|=128,n=!0,Ad(s,!1),t.lanes=4194304)}else{if(!n)if(e=Yp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ad(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rn)return ti(t),null}else 2*bn()-s.renderingStartTime>nf&&r!==1073741824&&(t.flags|=128,n=!0,Ad(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bn(),t.sibling=null,r=an.current,Kr(an,n?r&1|2:r&1),t):(ti(t),null);case 22:case 23:return F_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hi&1073741824&&(ti(t),t.subtreeFlags&6&&(t.flags|=8192)):ti(t),null;case 24:return null;case 25:return null}throw Error(Dt(156,t.tag))}function kP(e,t){switch(v_(t),t.tag){case 1:return Pi(t.type)&&Up(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tf(),qr(Ni),qr(ni),D_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return E_(t),null;case 13:if(qr(an),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Dt(340));Ju()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qr(an),null;case 4:return tf(),null;case 10:return x_(t.type._context),null;case 22:case 23:return F_(),null;case 24:return null;default:return null}}var _p=!1,ri=!1,NP=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Gu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dn(e,t,n)}else r.current=null}function Y1(e,t,r){try{r()}catch(n){dn(e,t,n)}}var m3=!1;function PP(e,t){if(T1=Ip,e=dS(),m_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,l=-1,g=0,h=0,v=e,x=null;t:for(;;){for(var S;v!==r||a!==0&&v.nodeType!==3||(u=o+a),v!==s||n!==0&&v.nodeType!==3||(l=o+n),v.nodeType===3&&(o+=v.nodeValue.length),(S=v.firstChild)!==null;)x=v,v=S;for(;;){if(v===e)break t;if(x===r&&++g===a&&(u=o),x===s&&++h===n&&(l=o),(S=v.nextSibling)!==null)break;v=x,x=v.parentNode}v=S}r=u===-1||l===-1?null:{start:u,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(L1={focusedElem:e,selectionRange:r},Ip=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){t=Ut;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var c=w.memoizedProps,_=w.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?c:Ba(t.type,c),_);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Dt(163))}}catch(E){dn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}return w=m3,m3=!1,w}function jd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Y1(t,r,s)}a=a.next}while(a!==n)}}function l0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function K1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lC(e){var t=e.alternate;t!==null&&(e.alternate=null,lC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[os],delete t[ec],delete t[N1],delete t[gP],delete t[vP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uC(e){return e.tag===5||e.tag===3||e.tag===4}function g3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Z1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bp));else if(n!==4&&(e=e.child,e!==null))for(Z1(e,t,r),e=e.sibling;e!==null;)Z1(e,t,r),e=e.sibling}function X1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(X1(e,t,r),e=e.sibling;e!==null;)X1(e,t,r),e=e.sibling}var Vn=null,Ua=!1;function vo(e,t,r){for(r=r.child;r!==null;)fC(e,t,r),r=r.sibling}function fC(e,t,r){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(e0,r)}catch{}switch(r.tag){case 5:ri||Gu(r,t);case 6:var n=Vn,a=Ua;Vn=null,vo(e,t,r),Vn=n,Ua=a,Vn!==null&&(Ua?(e=Vn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vn.removeChild(r.stateNode));break;case 18:Vn!==null&&(Ua?(e=Vn,r=r.stateNode,e.nodeType===8?qv(e.parentNode,r):e.nodeType===1&&qv(e,r),Xd(e)):qv(Vn,r.stateNode));break;case 4:n=Vn,a=Ua,Vn=r.stateNode.containerInfo,Ua=!0,vo(e,t,r),Vn=n,Ua=a;break;case 0:case 11:case 14:case 15:if(!ri&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Y1(r,t,o),a=a.next}while(a!==n)}vo(e,t,r);break;case 1:if(!ri&&(Gu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){dn(r,t,u)}vo(e,t,r);break;case 21:vo(e,t,r);break;case 22:r.mode&1?(ri=(n=ri)||r.memoizedState!==null,vo(e,t,r),ri=n):vo(e,t,r);break;default:vo(e,t,r)}}function v3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NP),t.forEach(function(n){var a=GP.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Fa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:Vn=u.stateNode,Ua=!1;break e;case 3:Vn=u.stateNode.containerInfo,Ua=!0;break e;case 4:Vn=u.stateNode.containerInfo,Ua=!0;break e}u=u.return}if(Vn===null)throw Error(Dt(160));fC(s,o,a),Vn=null,Ua=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(g){dn(a,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dC(t,e),t=t.sibling}function dC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fa(t,e),as(e),n&4){try{jd(3,e,e.return),l0(3,e)}catch(c){dn(e,e.return,c)}try{jd(5,e,e.return)}catch(c){dn(e,e.return,c)}}break;case 1:Fa(t,e),as(e),n&512&&r!==null&&Gu(r,r.return);break;case 5:if(Fa(t,e),as(e),n&512&&r!==null&&Gu(r,r.return),e.flags&32){var a=e.stateNode;try{Vd(a,"")}catch(c){dn(e,e.return,c)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,u=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&k3(a,s),b1(u,o);var g=b1(u,s);for(o=0;o<l.length;o+=2){var h=l[o],v=l[o+1];h==="style"?F3(a,v):h==="dangerouslySetInnerHTML"?I3(a,v):h==="children"?Vd(a,v):r_(a,h,v,g)}switch(u){case"input":p1(a,s);break;case"textarea":N3(a,s);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Vu(a,!!s.multiple,S,!1):x!==!!s.multiple&&(s.defaultValue!=null?Vu(a,!!s.multiple,s.defaultValue,!0):Vu(a,!!s.multiple,s.multiple?[]:"",!1))}a[ec]=s}catch(c){dn(e,e.return,c)}}break;case 6:if(Fa(t,e),as(e),n&4){if(e.stateNode===null)throw Error(Dt(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(c){dn(e,e.return,c)}}break;case 3:if(Fa(t,e),as(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xd(t.containerInfo)}catch(c){dn(e,e.return,c)}break;case 4:Fa(t,e),as(e);break;case 13:Fa(t,e),as(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(I_=bn())),n&4&&v3(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(ri=(g=ri)||h,Fa(t,e),ri=g):Fa(t,e),as(e),n&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!h&&e.mode&1)for(Ut=e,h=e.child;h!==null;){for(v=Ut=h;Ut!==null;){switch(x=Ut,S=x.child,x.tag){case 0:case 11:case 14:case 15:jd(4,x,x.return);break;case 1:Gu(x,x.return);var w=x.stateNode;if(typeof w.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(c){dn(n,r,c)}}break;case 5:Gu(x,x.return);break;case 22:if(x.memoizedState!==null){b3(v);continue}}S!==null?(S.return=x,Ut=S):b3(v)}h=h.sibling}e:for(h=null,v=e;;){if(v.tag===5){if(h===null){h=v;try{a=v.stateNode,g?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=v.stateNode,l=v.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=z3("display",o))}catch(c){dn(e,e.return,c)}}}else if(v.tag===6){if(h===null)try{v.stateNode.nodeValue=g?"":v.memoizedProps}catch(c){dn(e,e.return,c)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;h===v&&(h=null),v=v.return}h===v&&(h=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Fa(t,e),as(e),n&4&&v3(e);break;case 21:break;default:Fa(t,e),as(e)}}function as(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uC(r)){var n=r;break e}r=r.return}throw Error(Dt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vd(a,""),n.flags&=-33);var s=g3(e);X1(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,u=g3(e);Z1(e,u,o);break;default:throw Error(Dt(161))}}catch(l){dn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IP(e,t,r){Ut=e,cC(e,t,r)}function cC(e,t,r){for(var n=(e.mode&1)!==0;Ut!==null;){var a=Ut,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||_p;if(!o){var u=a.alternate,l=u!==null&&u.memoizedState!==null||ri;u=_p;var g=ri;if(_p=o,(ri=l)&&!g)for(Ut=a;Ut!==null;)o=Ut,l=o.child,o.tag===22&&o.memoizedState!==null?y3(a):l!==null?(l.return=o,Ut=l):y3(a);for(;s!==null;)Ut=s,cC(s,t,r),s=s.sibling;Ut=a,_p=u,ri=g}_3(e,t,r)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Ut=s):_3(e,t,r)}}function _3(e){for(;Ut!==null;){var t=Ut;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ri||l0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ri)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ba(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&t3(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}t3(t,o,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var h=g.memoizedState;if(h!==null){var v=h.dehydrated;v!==null&&Xd(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Dt(163))}ri||t.flags&512&&K1(t)}catch(x){dn(t,t.return,x)}}if(t===e){Ut=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function b3(e){for(;Ut!==null;){var t=Ut;if(t===e){Ut=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function y3(e){for(;Ut!==null;){var t=Ut;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{l0(4,t)}catch(l){dn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){dn(t,a,l)}}var s=t.return;try{K1(t)}catch(l){dn(t,s,l)}break;case 5:var o=t.return;try{K1(t)}catch(l){dn(t,o,l)}}}catch(l){dn(t,t.return,l)}if(t===e){Ut=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ut=u;break}Ut=t.return}}var zP=Math.ceil,Xp=Xs.ReactCurrentDispatcher,N_=Xs.ReactCurrentOwner,fa=Xs.ReactCurrentBatchConfig,Dr=0,Bn=null,Sn=null,Yn=0,Hi=0,Hu=Io(0),An=0,sc=null,Ml=0,u0=0,P_=0,Wd=null,Oi=null,I_=0,nf=1/0,Rs=null,$p=!1,$1=null,To=null,bp=!1,So=null,Qp=0,Gd=0,Q1=null,Mp=-1,Ap=0;function pi(){return Dr&6?bn():Mp!==-1?Mp:Mp=bn()}function Lo(e){return e.mode&1?Dr&2&&Yn!==0?Yn&-Yn:bP.transition!==null?(Ap===0&&(Ap=X3()),Ap):(e=Fr,e!==0||(e=window.event,e=e===void 0?16:rS(e.type)),e):1}function Wa(e,t,r,n){if(50<Gd)throw Gd=0,Q1=null,Error(Dt(185));oc(e,r,n),(!(Dr&2)||e!==Bn)&&(e===Bn&&(!(Dr&2)&&(u0|=r),An===4&&xo(e,Yn)),Ii(e,n),r===1&&Dr===0&&!(t.mode&1)&&(nf=bn()+500,a0&&zo()))}function Ii(e,t){var r=e.callbackNode;xN(e,t);var n=Pp(e,e===Bn?Yn:0);if(n===0)r!==null&&A2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&A2(r),t===1)e.tag===0?_P(x3.bind(null,e)):xS(x3.bind(null,e)),pP(function(){!(Dr&6)&&zo()}),r=null;else{switch($3(n)){case 1:r=o_;break;case 4:r=K3;break;case 16:r=Np;break;case 536870912:r=Z3;break;default:r=Np}r=yC(r,hC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hC(e,t){if(Mp=-1,Ap=0,Dr&6)throw Error(Dt(327));var r=e.callbackNode;if($u()&&e.callbackNode!==r)return null;var n=Pp(e,e===Bn?Yn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qp(e,n);else{t=n;var a=Dr;Dr|=2;var s=mC();(Bn!==e||Yn!==t)&&(Rs=null,nf=bn()+500,wl(e,t));do try{UP();break}catch(u){pC(e,u)}while(!0);y_(),Xp.current=s,Dr=a,Sn!==null?t=0:(Bn=null,Yn=0,t=An)}if(t!==0){if(t===2&&(a=C1(e),a!==0&&(n=a,t=q1(e,a))),t===1)throw r=sc,wl(e,0),xo(e,n),Ii(e,bn()),r;if(t===6)xo(e,n);else{if(a=e.current.alternate,!(n&30)&&!FP(a)&&(t=qp(e,n),t===2&&(s=C1(e),s!==0&&(n=s,t=q1(e,s))),t===1))throw r=sc,wl(e,0),xo(e,n),Ii(e,bn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Dt(345));case 2:_l(e,Oi,Rs);break;case 3:if(xo(e,n),(n&130023424)===n&&(t=I_+500-bn(),10<t)){if(Pp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){pi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=k1(_l.bind(null,e,Oi,Rs),t);break}_l(e,Oi,Rs);break;case 4:if(xo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ja(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=bn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zP(n/1960))-n,10<n){e.timeoutHandle=k1(_l.bind(null,e,Oi,Rs),n);break}_l(e,Oi,Rs);break;case 5:_l(e,Oi,Rs);break;default:throw Error(Dt(329))}}}return Ii(e,bn()),e.callbackNode===r?hC.bind(null,e):null}function q1(e,t){var r=Wd;return e.current.memoizedState.isDehydrated&&(wl(e,t).flags|=256),e=qp(e,t),e!==2&&(t=Oi,Oi=r,t!==null&&J1(t)),e}function J1(e){Oi===null?Oi=e:Oi.push.apply(Oi,e)}function FP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ga(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xo(e,t){for(t&=~P_,t&=~u0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ja(t),n=1<<r;e[r]=-1,t&=~n}}function x3(e){if(Dr&6)throw Error(Dt(327));$u();var t=Pp(e,0);if(!(t&1))return Ii(e,bn()),null;var r=qp(e,t);if(e.tag!==0&&r===2){var n=C1(e);n!==0&&(t=n,r=q1(e,n))}if(r===1)throw r=sc,wl(e,0),xo(e,t),Ii(e,bn()),r;if(r===6)throw Error(Dt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Oi,Rs),Ii(e,bn()),null}function z_(e,t){var r=Dr;Dr|=1;try{return e(t)}finally{Dr=r,Dr===0&&(nf=bn()+500,a0&&zo())}}function Al(e){So!==null&&So.tag===0&&!(Dr&6)&&$u();var t=Dr;Dr|=1;var r=fa.transition,n=Fr;try{if(fa.transition=null,Fr=1,e)return e()}finally{Fr=n,fa.transition=r,Dr=t,!(Dr&6)&&zo()}}function F_(){Hi=Hu.current,qr(Hu)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hP(r)),Sn!==null)for(r=Sn.return;r!==null;){var n=r;switch(v_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Up();break;case 3:tf(),qr(Ni),qr(ni),D_();break;case 5:E_(n);break;case 4:tf();break;case 13:qr(an);break;case 19:qr(an);break;case 10:x_(n.type._context);break;case 22:case 23:F_()}r=r.return}if(Bn=e,Sn=e=Oo(e.current,null),Yn=Hi=t,An=0,sc=null,P_=u0=Ml=0,Oi=Wd=null,yl!==null){for(t=0;t<yl.length;t++)if(r=yl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}yl=null}return e}function pC(e,t){do{var r=Sn;try{if(y_(),Cp.current=Zp,Kp){for(var n=sn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Kp=!1}if(Dl=0,Fn=Mn=sn=null,Rd=!1,nc=0,N_.current=null,r===null||r.return===null){An=1,sc=t,Sn=null;break}e:{var s=e,o=r.return,u=r,l=t;if(t=Yn,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var g=l,h=u,v=h.tag;if(!(h.mode&1)&&(v===0||v===11||v===15)){var x=h.alternate;x?(h.updateQueue=x.updateQueue,h.memoizedState=x.memoizedState,h.lanes=x.lanes):(h.updateQueue=null,h.memoizedState=null)}var S=l3(o);if(S!==null){S.flags&=-257,u3(S,o,u,s,t),S.mode&1&&o3(s,g,t),t=S,l=g;var w=t.updateQueue;if(w===null){var c=new Set;c.add(l),t.updateQueue=c}else w.add(l);break e}else{if(!(t&1)){o3(s,g,t),B_();break e}l=Error(Dt(426))}}else if(rn&&u.mode&1){var _=l3(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),u3(_,o,u,s,t),__(rf(l,u));break e}}s=l=rf(l,u),An!==4&&(An=2),Wd===null?Wd=[s]:Wd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=QS(s,l,t);e3(s,y);break e;case 1:u=l;var b=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(To===null||!To.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=qS(s,u,t);e3(s,E);break e}}s=s.return}while(s!==null)}vC(r)}catch(p){t=p,Sn===r&&r!==null&&(Sn=r=r.return);continue}break}while(!0)}function mC(){var e=Xp.current;return Xp.current=Zp,e===null?Zp:e}function B_(){(An===0||An===3||An===2)&&(An=4),Bn===null||!(Ml&268435455)&&!(u0&268435455)||xo(Bn,Yn)}function qp(e,t){var r=Dr;Dr|=2;var n=mC();(Bn!==e||Yn!==t)&&(Rs=null,wl(e,t));do try{BP();break}catch(a){pC(e,a)}while(!0);if(y_(),Dr=r,Xp.current=n,Sn!==null)throw Error(Dt(261));return Bn=null,Yn=0,An}function BP(){for(;Sn!==null;)gC(Sn)}function UP(){for(;Sn!==null&&!cN();)gC(Sn)}function gC(e){var t=bC(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,t===null?vC(e):Sn=t,N_.current=null}function vC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=kP(r,t),r!==null){r.flags&=32767,Sn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{An=6,Sn=null;return}}else if(r=OP(r,t,Hi),r!==null){Sn=r;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);An===0&&(An=5)}function _l(e,t,r){var n=Fr,a=fa.transition;try{fa.transition=null,Fr=1,RP(e,t,r,n)}finally{fa.transition=a,Fr=n}return null}function RP(e,t,r,n){do $u();while(So!==null);if(Dr&6)throw Error(Dt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Dt(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(wN(e,s),e===Bn&&(Sn=Bn=null,Yn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bp||(bp=!0,yC(Np,function(){return $u(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=fa.transition,fa.transition=null;var o=Fr;Fr=1;var u=Dr;Dr|=4,N_.current=null,PP(e,r),dC(r,e),lP(L1),Ip=!!T1,L1=T1=null,e.current=r,IP(r,e,a),hN(),Dr=u,Fr=o,fa.transition=s}else e.current=r;if(bp&&(bp=!1,So=e,Qp=a),s=e.pendingLanes,s===0&&(To=null),gN(r.stateNode,n),Ii(e,bn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if($p)throw $p=!1,e=$1,$1=null,e;return Qp&1&&e.tag!==0&&$u(),s=e.pendingLanes,s&1?e===Q1?Gd++:(Gd=0,Q1=e):Gd=0,zo(),null}function $u(){if(So!==null){var e=$3(Qp),t=fa.transition,r=Fr;try{if(fa.transition=null,Fr=16>e?16:e,So===null)var n=!1;else{if(e=So,So=null,Qp=0,Dr&6)throw Error(Dt(331));var a=Dr;for(Dr|=4,Ut=e.current;Ut!==null;){var s=Ut,o=s.child;if(Ut.flags&16){var u=s.deletions;if(u!==null){for(var l=0;l<u.length;l++){var g=u[l];for(Ut=g;Ut!==null;){var h=Ut;switch(h.tag){case 0:case 11:case 15:jd(8,h,s)}var v=h.child;if(v!==null)v.return=h,Ut=v;else for(;Ut!==null;){h=Ut;var x=h.sibling,S=h.return;if(lC(h),h===g){Ut=null;break}if(x!==null){x.return=S,Ut=x;break}Ut=S}}}var w=s.alternate;if(w!==null){var c=w.child;if(c!==null){w.child=null;do{var _=c.sibling;c.sibling=null,c=_}while(c!==null)}}Ut=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ut=o;else e:for(;Ut!==null;){if(s=Ut,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jd(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ut=y;break e}Ut=s.return}}var b=e.current;for(Ut=b;Ut!==null;){o=Ut;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Ut=C;else e:for(o=b;Ut!==null;){if(u=Ut,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:l0(9,u)}}catch(p){dn(u,u.return,p)}if(u===o){Ut=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,Ut=E;break e}Ut=u.return}}if(Dr=a,zo(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(e0,e)}catch{}n=!0}return n}finally{Fr=r,fa.transition=t}}return!1}function w3(e,t,r){t=rf(r,t),t=QS(e,t,1),e=Ao(e,t,1),t=pi(),e!==null&&(oc(e,1,t),Ii(e,t))}function dn(e,t,r){if(e.tag===3)w3(e,e,r);else for(;t!==null;){if(t.tag===3){w3(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(To===null||!To.has(n))){e=rf(r,e),e=qS(t,e,1),t=Ao(t,e,1),e=pi(),t!==null&&(oc(t,1,e),Ii(t,e));break}}t=t.return}}function jP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=pi(),e.pingedLanes|=e.suspendedLanes&r,Bn===e&&(Yn&r)===r&&(An===4||An===3&&(Yn&130023424)===Yn&&500>bn()-I_?wl(e,0):P_|=r),Ii(e,t)}function _C(e,t){t===0&&(e.mode&1?(t=ap,ap<<=1,!(ap&130023424)&&(ap=4194304)):t=1);var r=pi();e=Ks(e,t),e!==null&&(oc(e,t,r),Ii(e,r))}function WP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_C(e,r)}function GP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Dt(314))}n!==null&&n.delete(t),_C(e,r)}var bC;bC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ni.current)ki=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ki=!1,LP(e,t,r);ki=!!(e.flags&131072)}else ki=!1,rn&&t.flags&1048576&&wS(t,Wp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Dp(e,t),e=t.pendingProps;var a=qu(t,ni.current);Xu(t,r),a=A_(null,t,n,e,a,r);var s=T_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(n)?(s=!0,Rp(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,S_(t),a.updater=s0,t.stateNode=a,a._reactInternals=t,U1(t,n,e,r),t=W1(null,t,n,!0,s,r)):(t.tag=0,rn&&s&&g_(t),hi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Dp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=VP(n),e=Ba(n,e),a){case 0:t=j1(null,t,n,e,r);break e;case 1:t=c3(null,t,n,e,r);break e;case 11:t=f3(null,t,n,e,r);break e;case 14:t=d3(null,t,n,Ba(n.type,e),r);break e}throw Error(Dt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ba(n,a),j1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ba(n,a),c3(e,t,n,a,r);case 3:e:{if(rC(t),e===null)throw Error(Dt(387));n=t.pendingProps,s=t.memoizedState,a=s.element,DS(e,t),Vp(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=rf(Error(Dt(423)),t),t=h3(e,t,n,r,a);break e}else if(n!==a){a=rf(Error(Dt(424)),t),t=h3(e,t,n,r,a);break e}else for(Vi=Mo(t.stateNode.containerInfo.firstChild),Yi=t,rn=!0,Ra=null,r=LS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ju(),n===a){t=Zs(e,t,r);break e}hi(e,t,n,r)}t=t.child}return t;case 5:return OS(t),e===null&&z1(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,O1(n,a)?o=null:s!==null&&O1(n,s)&&(t.flags|=32),tC(e,t),hi(e,t,o,r),t.child;case 6:return e===null&&z1(t),null;case 13:return nC(e,t,r);case 4:return C_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ef(t,null,n,r):hi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ba(n,a),f3(e,t,n,a,r);case 7:return hi(e,t,t.pendingProps,r),t.child;case 8:return hi(e,t,t.pendingProps.children,r),t.child;case 12:return hi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Kr(Gp,n._currentValue),n._currentValue=o,s!==null)if(Ga(s.value,o)){if(s.children===a.children&&!Ni.current){t=Zs(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Hs(-1,r&-r),l.tag=2;var g=s.updateQueue;if(g!==null){g=g.shared;var h=g.pending;h===null?l.next=l:(l.next=h.next,h.next=l),g.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),F1(s.return,r,t),u.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Dt(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),F1(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Xu(t,r),a=da(a),n=n(a),t.flags|=1,hi(e,t,n,r),t.child;case 14:return n=t.type,a=Ba(n,t.pendingProps),a=Ba(n.type,a),d3(e,t,n,a,r);case 15:return JS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ba(n,a),Dp(e,t),t.tag=1,Pi(n)?(e=!0,Rp(t)):e=!1,Xu(t,r),AS(t,n,a),U1(t,n,a,r),W1(null,t,n,!0,e,r);case 19:return iC(e,t,r);case 22:return eC(e,t,r)}throw Error(Dt(156,t.tag))};function yC(e,t){return Y3(e,t)}function HP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(e,t,r,n){return new HP(e,t,r,n)}function U_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VP(e){if(typeof e=="function")return U_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i_)return 11;if(e===a_)return 14}return 2}function Oo(e,t){var r=e.alternate;return r===null?(r=ua(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tp(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")U_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pu:return Sl(r.children,a,s,t);case n_:o=8,a|=8;break;case u1:return e=ua(12,r,t,a|2),e.elementType=u1,e.lanes=s,e;case f1:return e=ua(13,r,t,a),e.elementType=f1,e.lanes=s,e;case d1:return e=ua(19,r,t,a),e.elementType=d1,e.lanes=s,e;case T3:return f0(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M3:o=10;break e;case A3:o=9;break e;case i_:o=11;break e;case a_:o=14;break e;case _o:o=16,n=null;break e}throw Error(Dt(130,e==null?e:typeof e,""))}return t=ua(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Sl(e,t,r,n){return e=ua(7,e,n,t),e.lanes=r,e}function f0(e,t,r,n){return e=ua(22,e,n,t),e.elementType=T3,e.lanes=r,e.stateNode={isHidden:!1},e}function s1(e,t,r){return e=ua(6,e,null,t),e.lanes=r,e}function o1(e,t,r){return t=ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YP(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hv(0),this.expirationTimes=Hv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function R_(e,t,r,n,a,s,o,u,l){return e=new YP(e,t,r,u,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ua(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},S_(s),e}function KP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function xC(e){if(!e)return No;e=e._reactInternals;e:{if(Ll(e)!==e||e.tag!==1)throw Error(Dt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Dt(171))}if(e.tag===1){var r=e.type;if(Pi(r))return yS(e,r,t)}return t}function wC(e,t,r,n,a,s,o,u,l){return e=R_(r,n,!0,e,a,s,o,u,l),e.context=xC(null),r=e.current,n=pi(),a=Lo(r),s=Hs(n,a),s.callback=t??null,Ao(r,s,a),e.current.lanes=a,oc(e,a,n),Ii(e,n),e}function d0(e,t,r,n){var a=t.current,s=pi(),o=Lo(a);return r=xC(r),t.context===null?t.context=r:t.pendingContext=r,t=Hs(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ao(a,t,o),e!==null&&(Wa(e,a,o,s),Sp(e,a,o)),o}function Jp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function S3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function j_(e,t){S3(e,t),(e=e.alternate)&&S3(e,t)}function ZP(){return null}var SC=typeof reportError=="function"?reportError:function(e){console.error(e)};function W_(e){this._internalRoot=e}c0.prototype.render=W_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Dt(409));d0(e,t,null,null)};c0.prototype.unmount=W_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Al(function(){d0(null,e,null,null)}),t[Ys]=null}};function c0(e){this._internalRoot=e}c0.prototype.unstable_scheduleHydration=function(e){if(e){var t=J3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yo.length&&t!==0&&t<yo[r].priority;r++);yo.splice(r,0,e),r===0&&tS(e)}};function G_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C3(){}function XP(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var g=Jp(o);s.call(g)}}var o=wC(t,n,e,0,null,!1,!1,"",C3);return e._reactRootContainer=o,e[Ys]=o.current,qd(e.nodeType===8?e.parentNode:e),Al(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var u=n;n=function(){var g=Jp(l);u.call(g)}}var l=R_(e,0,!1,null,null,!1,!1,"",C3);return e._reactRootContainer=l,e[Ys]=l.current,qd(e.nodeType===8?e.parentNode:e),Al(function(){d0(t,l,r,n)}),l}function p0(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var u=a;a=function(){var l=Jp(o);u.call(l)}}d0(t,o,e,a)}else o=XP(r,t,e,a,n);return Jp(o)}Q3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nd(t.pendingLanes);r!==0&&(l_(t,r|1),Ii(t,bn()),!(Dr&6)&&(nf=bn()+500,zo()))}break;case 13:Al(function(){var n=Ks(e,1);if(n!==null){var a=pi();Wa(n,e,1,a)}}),j_(e,1)}};u_=function(e){if(e.tag===13){var t=Ks(e,134217728);if(t!==null){var r=pi();Wa(t,e,134217728,r)}j_(e,134217728)}};q3=function(e){if(e.tag===13){var t=Lo(e),r=Ks(e,t);if(r!==null){var n=pi();Wa(r,e,t,n)}j_(e,t)}};J3=function(){return Fr};eS=function(e,t){var r=Fr;try{return Fr=e,t()}finally{Fr=r}};x1=function(e,t,r){switch(t){case"input":if(p1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=i0(n);if(!a)throw Error(Dt(90));O3(n),p1(n,a)}}}break;case"textarea":N3(e,r);break;case"select":t=r.value,t!=null&&Vu(e,!!r.multiple,t,!1)}};R3=z_;j3=Al;var $P={usingClientEntryPoint:!1,Events:[uc,Bu,i0,B3,U3,z_]},Td={findFiberByHostInstance:bl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QP={bundleType:Td.bundleType,version:Td.version,rendererPackageName:Td.rendererPackageName,rendererConfig:Td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=H3(e),e===null?null:e.stateNode},findFiberByHostInstance:Td.findFiberByHostInstance||ZP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Ld.isDisabled&&Ld.supportsFiber))try{e0=Ld.inject(QP),ls=Ld}catch{}var Ld;Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$P;Xi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G_(t))throw Error(Dt(200));return KP(e,t,null,r)};Xi.createRoot=function(e,t){if(!G_(e))throw Error(Dt(299));var r=!1,n="",a=SC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=R_(e,1,!1,null,null,r,!1,n,a),e[Ys]=t.current,qd(e.nodeType===8?e.parentNode:e),new W_(t)};Xi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Dt(188)):(e=Object.keys(e).join(","),Error(Dt(268,e)));return e=H3(t),e=e===null?null:e.stateNode,e};Xi.flushSync=function(e){return Al(e)};Xi.hydrate=function(e,t,r){if(!h0(t))throw Error(Dt(200));return p0(null,e,t,!0,r)};Xi.hydrateRoot=function(e,t,r){if(!G_(e))throw Error(Dt(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=SC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=wC(t,null,e,1,r??null,a,!1,s,o),e[Ys]=t.current,qd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new c0(t)};Xi.render=function(e,t,r){if(!h0(t))throw Error(Dt(200));return p0(null,e,t,!1,r)};Xi.unmountComponentAtNode=function(e){if(!h0(e))throw Error(Dt(40));return e._reactRootContainer?(Al(function(){p0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ys]=null})}),!0):!1};Xi.unstable_batchedUpdates=z_;Xi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!h0(r))throw Error(Dt(200));if(e==null||e._reactInternals===void 0)throw Error(Dt(38));return p0(e,t,r,!1,n)};Xi.version="18.2.0-next-9e3b772b8-20220608"});var MC=zn((hR,DC)=>{"use strict";function EC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EC)}catch(e){console.error(e)}}EC(),DC.exports=CC()});var TC=zn(H_=>{"use strict";var AC=MC();H_.createRoot=AC.createRoot,H_.hydrateRoot=AC.hydrateRoot;var pR});var LC=zn((exports,module)=>{(function(t,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define([],r):typeof exports=="object"?exports["3Dmol"]=r():t["3Dmol"]=r()})(exports,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{IOBuffer:()=>u});var n=r("./node_modules/iobuffer/lib-esm/text.browser.js");let a=1024*8,s=(()=>{let l=new Uint8Array(4),g=new Uint32Array(l.buffer);return!((g[0]=1)&l[0])})(),o={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class u{constructor(g=a,h={}){let v=!1;typeof g=="number"?g=new ArrayBuffer(g):(v=!0,this.lastWrittenByte=g.byteLength);let x=h.offset?h.offset>>>0:0,S=g.byteLength-x,w=x;(ArrayBuffer.isView(g)||g instanceof u)&&(g.byteLength!==g.buffer.byteLength&&(w=g.byteOffset+x),g=g.buffer),v?this.lastWrittenByte=S:this.lastWrittenByte=0,this.buffer=g,this.length=S,this.byteLength=S,this.byteOffset=w,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,w,S),this._mark=0,this._marks=[]}available(g=1){return this.offset+g<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(g=1){return this.offset+=g,this}back(g=1){return this.offset-=g,this}seek(g){return this.offset=g,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let g=this._marks.pop();if(g===void 0)throw new Error("Mark stack empty");return this.seek(g),this}rewind(){return this.offset=0,this}ensureAvailable(g=1){if(!this.available(g)){let v=(this.offset+g)*2,x=new Uint8Array(v);x.set(new Uint8Array(this.buffer)),this.buffer=x.buffer,this.length=this.byteLength=v,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(g=1){return this.readArray(g,"uint8")}readArray(g,h){let v=o[h].BYTES_PER_ELEMENT*g,x=this.byteOffset+this.offset,S=this.buffer.slice(x,x+v);if(this.littleEndian===s&&h!=="uint8"&&h!=="int8"){let c=new Uint8Array(this.buffer.slice(x,x+v));c.reverse();let _=new o[h](c.buffer);return this.offset+=v,_.reverse(),_}let w=new o[h](S);return this.offset+=v,w}readInt16(){let g=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,g}readUint16(){let g=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,g}readInt32(){let g=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,g}readUint32(){let g=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,g}readFloat32(){let g=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,g}readFloat64(){let g=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,g}readBigInt64(){let g=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,g}readBigUint64(){let g=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,g}readChar(){return String.fromCharCode(this.readInt8())}readChars(g=1){let h="";for(let v=0;v<g;v++)h+=this.readChar();return h}readUtf8(g=1){return(0,n.decode)(this.readBytes(g))}decodeText(g=1,h="utf-8"){return(0,n.decode)(this.readBytes(g),h)}writeBoolean(g){return this.writeUint8(g?255:0),this}writeInt8(g){return this.ensureAvailable(1),this._data.setInt8(this.offset++,g),this._updateLastWrittenByte(),this}writeUint8(g){return this.ensureAvailable(1),this._data.setUint8(this.offset++,g),this._updateLastWrittenByte(),this}writeByte(g){return this.writeUint8(g)}writeBytes(g){this.ensureAvailable(g.length);for(let h=0;h<g.length;h++)this._data.setUint8(this.offset++,g[h]);return this._updateLastWrittenByte(),this}writeInt16(g){return this.ensureAvailable(2),this._data.setInt16(this.offset,g,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(g){return this.ensureAvailable(2),this._data.setUint16(this.offset,g,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(g){return this.ensureAvailable(4),this._data.setInt32(this.offset,g,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(g){return this.ensureAvailable(4),this._data.setUint32(this.offset,g,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(g){return this.ensureAvailable(4),this._data.setFloat32(this.offset,g,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(g){return this.ensureAvailable(8),this._data.setFloat64(this.offset,g,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(g){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,g,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(g){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,g,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(g){return this.writeUint8(g.charCodeAt(0))}writeChars(g){for(let h=0;h<g.length;h++)this.writeUint8(g.charCodeAt(h));return this}writeUtf8(g){return this.writeBytes((0,n.encode)(g))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){"use strict";(function(e){"use strict";if(e.TextEncoder&&e.TextDecoder)return!1;function t(n="utf-8"){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${n}') is invalid.`)}Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let s=0,o=n.length,u=[],l=0,g=Math.max(32,o+(o>>1)+7),h=new Uint8Array(g>>3<<3);for(;s<o;){let v=n.charCodeAt(s++);if(v>=55296&&v<=56319){if(s<o){let x=n.charCodeAt(s);(x&64512)===56320&&(++s,v=((v&1023)<<10)+(x&1023)+65536)}if(v>=55296&&v<=56319)continue}if(l+4>h.length){g+=8,g*=1+s/n.length*2,g=g>>3<<3;let x=new Uint8Array(g);x.set(h),h=x}if(v&4294967168)if(!(v&4294965248))h[l++]=v>>6&31|192;else if(!(v&4294901760))h[l++]=v>>12&15|224,h[l++]=v>>6&63|128;else if(!(v&4292870144))h[l++]=v>>18&7|240,h[l++]=v>>12&63|128,h[l++]=v>>6&63|128;else continue;else{h[l++]=v;continue}h[l++]=v&63|128}return h.slice(0,l)};function r(n="utf-8",a={fatal:!1}){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${n}') is invalid.`);if(a.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");let s=new Uint8Array(n),o=0,u=s.length,l=[];for(;o<u;){let g=s[o++];if(g===0)break;if(!(g&128))l.push(g);else if((g&224)===192){let h=s[o++]&63;l.push((g&31)<<6|h)}else if((g&240)===224){let h=s[o++]&63,v=s[o++]&63;l.push((g&31)<<12|h<<6|v)}else if((g&248)===240){let h=s[o++]&63,v=s[o++]&63,x=s[o++]&63,S=(g&7)<<18|h<<12|v<<6|x;S>65535&&(S-=65536,l.push(S>>>10&1023|55296),S=56320|S&1023),l.push(S)}}return String.fromCharCode.apply(null,l)},e.TextEncoder=t,e.TextDecoder=r})(typeof window<"u"?window:typeof self<"u"?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>s,encode:()=>u});var n=r("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js"),a=r.n(n);function s(l,g="utf8"){return new TextDecoder(g).decode(l)}let o=new TextEncoder;function u(l){return o.encode(l)}},"./node_modules/netcdfjs/lib-esm/data.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{nonRecord:()=>a,record:()=>s});var n=r("./node_modules/netcdfjs/lib-esm/types.js");function a(o,u){let l=(0,n.str2num)(u.type),g=u.size/(0,n.num2bytes)(l),h=new Array(g);for(let v=0;v<g;v++)h[v]=(0,n.readType)(o,l,1);return h}function s(o,u,l){let g=(0,n.str2num)(u.type),h=u.size?u.size/(0,n.num2bytes)(g):1,v=l.length,x=new Array(v),S=l.recordStep;if(S)for(let w=0;w<v;w++){let c=o.offset;x[w]=(0,n.readType)(o,g,h),o.seek(c+S)}else throw new Error("recordDimension.recordStep is undefined");return x}},"./node_modules/netcdfjs/lib-esm/header.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{header:()=>h});var n=r("./node_modules/netcdfjs/lib-esm/types.js"),a=r("./node_modules/netcdfjs/lib-esm/utils.js");let s=0,o=10,u=11,l=12,g=0;function h(w,c){let _={version:c},y={length:w.readUint32()},b=v(w);Array.isArray(b)||(y.id=b.recordId,y.name=b.recordName,_.dimensions=b.dimensions),_.globalAttributes=x(w);let C=S(w,y?.id,c);return Array.isArray(C)||(_.variables=C.variables,y.recordStep=C.recordStep),_.recordDimension=y,_}function v(w){let c={},_,y,b=w.readUint32(),C;if(b===s)return(0,a.notNetcdf)(w.readUint32()!==s,"wrong empty tag for list of dimensions"),[];{(0,a.notNetcdf)(b!==o,"wrong tag for list of dimensions");let E=w.readUint32();C=new Array(E);for(let p=0;p<E;p++){let f=(0,a.readName)(w),D=w.readUint32();D===g&&(_=p,y=f),C[p]={name:f,size:D}}}return _!==void 0&&(c.recordId=_),y!==void 0&&(c.recordName=y),c.dimensions=C,c}function x(w){let c=w.readUint32(),_;if(c===s)return(0,a.notNetcdf)(w.readUint32()!==s,"wrong empty tag for list of attributes"),[];{(0,a.notNetcdf)(c!==l,"wrong tag for list of attributes");let y=w.readUint32();_=new Array(y);for(let b=0;b<y;b++){let C=(0,a.readName)(w),E=w.readUint32();(0,a.notNetcdf)(E<1||E>6,`non valid type ${E}`);let p=w.readUint32(),f=(0,n.readType)(w,E,p);(0,a.padding)(w),_[b]={name:C,type:(0,n.num2str)(E),value:f}}}return _}function S(w,c,_){let y=w.readUint32(),b=0,C;if(y===s)return(0,a.notNetcdf)(w.readUint32()!==s,"wrong empty tag for list of variables"),[];{(0,a.notNetcdf)(y!==u,"wrong tag for list of variables");let E=w.readUint32();C=new Array(E);for(let p=0;p<E;p++){let f=(0,a.readName)(w),D=w.readUint32(),M=new Array(D);for(let H=0;H<D;H++)M[H]=w.readUint32();let N=x(w),O=w.readUint32();(0,a.notNetcdf)(O<1&&O>6,`non valid type ${O}`);let z=w.readUint32(),k=w.readUint32();_===2&&((0,a.notNetcdf)(k>0,"offsets larger than 4GB not supported"),k=w.readUint32());let I=!1;typeof c<"u"&&M[0]===c&&(b+=z,I=!0),C[p]={name:f,dimensions:M,attributes:N,type:(0,n.num2str)(O),size:z,offset:k,record:I}}}return{variables:C,recordStep:b}}},"./node_modules/netcdfjs/lib-esm/index.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NetCDFReader:()=>n.NetCDFReader});var n=r("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{NetCDFReader:()=>l});var n=r("./node_modules/iobuffer/lib-esm/IOBuffer.js"),a=r("./node_modules/netcdfjs/lib-esm/data.js"),s=r("./node_modules/netcdfjs/lib-esm/header.js"),o=r("./node_modules/netcdfjs/lib-esm/toString.js"),u=r("./node_modules/netcdfjs/lib-esm/utils.js");class l{constructor(h){this.toString=o.toString;let v=new n.IOBuffer(h);v.setBigEndian(),(0,u.notNetcdf)(v.readChars(3)!=="CDF","should start with CDF");let x=v.readByte();(0,u.notNetcdf)(x>2,"unknown version"),this.header=(0,s.header)(v,x),this.buffer=v}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(h){let v=this.globalAttributes.find(x=>x.name===h);return v?v.value:null}getDataVariableAsString(h){let v=this.getDataVariable(h);return v?v.join(""):null}get variables(){return this.header.variables}getDataVariable(h){let v;if(typeof h=="string"?v=this.header.variables.find(x=>x.name===h):v=h,v===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(v.offset),v.record?(0,a.record)(this.buffer,v,this.header.recordDimension):(0,a.nonRecord)(this.buffer,v)}dataVariableExists(h){return this.header.variables.find(x=>x.name===h)!==void 0}attributeExists(h){return this.globalAttributes.find(x=>x.name===h)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{toString:()=>n});function n(){let a=[];a.push("DIMENSIONS");for(let o of this.dimensions)a.push(`  ${o.name.padEnd(30)} = size: ${o.size}`);a.push(""),a.push("GLOBAL ATTRIBUTES");for(let o of this.globalAttributes)a.push(`  ${o.name.padEnd(30)} = ${o.value}`);let s=JSON.parse(JSON.stringify(this.variables));a.push(""),a.push("VARIABLES:");for(let o of s){o.value=this.getDataVariable(o);let u=JSON.stringify(o.value);u.length>50&&(u=u.substring(0,50)),isNaN(o.value.length)||(u+=` (length: ${o.value.length})`),a.push(`  ${o.name.padEnd(30)} = ${u}`)}return a.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{num2bytes:()=>s,num2str:()=>a,readType:()=>l,str2num:()=>o});let n={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function a(h){switch(Number(h)){case n.BYTE:return"byte";case n.CHAR:return"char";case n.SHORT:return"short";case n.INT:return"int";case n.FLOAT:return"float";case n.DOUBLE:return"double";default:return"undefined"}}function s(h){switch(Number(h)){case n.BYTE:return 1;case n.CHAR:return 1;case n.SHORT:return 2;case n.INT:return 4;case n.FLOAT:return 4;case n.DOUBLE:return 8;default:return-1}}function o(h){switch(String(h)){case"byte":return n.BYTE;case"char":return n.CHAR;case"short":return n.SHORT;case"int":return n.INT;case"float":return n.FLOAT;case"double":return n.DOUBLE;default:return-1}}function u(h,v){if(h!==1){let x=new Array(h);for(let S=0;S<h;S++)x[S]=v();return x}else return v()}function l(h,v,x){switch(v){case n.BYTE:return Array.from(h.readBytes(x));case n.CHAR:return g(h.readChars(x));case n.SHORT:return u(x,h.readInt16.bind(h));case n.INT:return u(x,h.readInt32.bind(h));case n.FLOAT:return u(x,h.readFloat32.bind(h));case n.DOUBLE:return u(x,h.readFloat64.bind(h));default:throw new Error(`non valid type ${v}`)}}function g(h){return h.charCodeAt(h.length-1)===0?h.substring(0,h.length-1):h}},"./node_modules/netcdfjs/lib-esm/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{notNetcdf:()=>n,padding:()=>a,readName:()=>s});function n(o,u){if(o)throw new TypeError(`Not a valid NetCDF v3.x file: ${u}`)}function a(o){o.offset%4!==0&&o.skip(4-o.offset%4)}function s(o){let u=o.readUint32(),l=o.readChars(u);return a(o),l}},"./src/WebGL/shaders/lib/basic/basic.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/instanced/instanced.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambert/lambert.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/outline/outline.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    gl_Position = projectionMatrix * mvPosition;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/screen/screen.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;

// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0

vec4 applyFXAA(vec2 fragCoord, sampler2D tex)
{
    vec4 color;
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;
    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;
    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;
    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;
    vec3 rgbM  = texture2D(tex, fragCoord  * inverseVP).xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5).xyz +
        texture2D(tex, fragCoord  + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, 1.0);
    else
        color = vec4(rgbB, 1.0);
    return color;
}
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    gl_FragColor = vec4(vLight*vColor, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );


}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);
    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+adjust;
}

`},"./src/WebGL/shaders/lib/sprite/sprite.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform int fogType;
uniform vec3 fogColor;
uniform float fogDensity;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a < alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogType > 0) {

        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = 0.0;

        if (fogType == 1) {
            fogFactor = smoothstep(fogNear, fogFar, depth);
        }

        else {
            const float LOG2 = 1.442695;
            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);
            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);
        }

        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    gl_FragColor = vec4(light*color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
    mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    to.xyz += normalize(to.xyz)*outlinePushback;
    pt.xyz += normalize(pt.xyz)*outlinePushback;

    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/GLDraw.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CAP:()=>a,GLDraw:()=>s});var n=r("./src/WebGL/math/index.ts"),a;(function(o){o[o.NONE=0]="NONE",o[o.FLAT=1]="FLAT",o[o.ROUND=2]="ROUND"})(a||(a={}));var s;(function(o){function u(c,_,y){var b=Math.hypot(c,_),C,E,p,f,D;b<1e-4?(E=0,p=1):(E=-c/b,p=_/b),_=-E*c+p*_,C=Math.hypot(_,y),C<1e-4?(f=0,D=1):(f=y/C,D=_/C);var M=new Float32Array(9);return M[0]=p,M[1]=E,M[2]=0,M[3]=-E*D,M[4]=p*D,M[5]=f,M[6]=E*f,M[7]=-p*f,M[8]=D,M}class l{constructor(){this.cache={};let _=[],y=4,b=Math.pow(2,y),C=2,E=Math.pow(2,C),p=b/E,f;for(_[0]=new n.Vector3(-1,0,0),_[p]=new n.Vector3(0,0,1),_[p*2]=new n.Vector3(1,0,0),_[p*3]=new n.Vector3(0,0,-1),C=3;C<=y;C++){for(E=Math.pow(2,C-1),p=b/E,f=0;f<E-1;f++)_[p/2+f*p]=_[f*p].clone().add(_[(f+1)*p]).normalize();f=E-1,_[p/2+f*p]=_[f*p].clone().add(_[0]).normalize()}this.basisVectors=_}getVerticesForRadius(_,y,b){if(typeof this.cache<"u"&&this.cache[_]!==void 0&&this.cache[_][y+b]!==void 0)return this.cache[_][y+b];for(var C=this.basisVectors.length,E=[],p=[],f,D=0;D<C;D++)E.push(this.basisVectors[D].clone().multiplyScalar(_)),E.push(this.basisVectors[D].clone().multiplyScalar(_)),f=this.basisVectors[D].clone().normalize(),p.push(f),p.push(f);var M=[],N=10,O=C;if(N%2!==0||!N)return console.error("heightSegments must be even"),null;var z=0,k=Math.PI*2,I=0,H=Math.PI,Y,q,G=!1,$=!1;for(q=0;q<=N;q++){G=q===0||q===N,$=q===N/2;var j=[],V=[];for(Y=0;Y<=O;Y++){if($){var X=Y<O?2*Y:0;V.push(X+1),j.push(X);continue}var Q=Y/O,te=q/N;if(!G||Y===0)if(Y<O){var we=new n.Vector3;we.x=-_*Math.cos(z+Q*k)*Math.sin(I+te*H),y==1?we.y=0:we.y=_*Math.cos(I+te*H),we.z=_*Math.sin(z+Q*k)*Math.sin(I+te*H),Math.abs(we.x)<1e-5&&(we.x=0),Math.abs(we.y)<1e-5&&(we.y=0),Math.abs(we.z)<1e-5&&(we.z=0),y==a.FLAT?(f=new n.Vector3(0,Math.cos(I+te*H),0),f.normalize()):(f=new n.Vector3(we.x,we.y,we.z),f.normalize()),E.push(we),p.push(f),j.push(E.length-1)}else j.push(E.length-O);else G&&j.push(E.length-1)}$&&M.push(V),M.push(j)}var Pe={vertices:E,normals:p,verticesRows:M,w:O,h:N};return _ in this.cache||(this.cache[_]={}),this.cache[_][y+b]=Pe,Pe}}var g=new l;function h(c,_,y,b,C,E=0,p=0){if(!(!_||!y)){var f=p||E;C=C||{r:0,g:0,b:0};var D=u(y.x-_.x,y.y-_.y,y.z-_.z),M=g.getVerticesForRadius(b,p,"to"),N=M.w,O=M.h,z=f?O*N+2:2*N,k=c.updateGeoGroup(z),I=M.vertices,H=M.normals,Y=M.verticesRows,q=Y[O/2],G=Y[O/2+1],$=k.vertices,j,V,X,Q,te,we,Pe=k.vertexArray,xe=k.normalArray,Fe=k.colorArray,Ae=k.faceArray;for(X=0;X<N;++X){var be=2*X;Q=D[0]*I[be].x+D[3]*I[be].y+D[6]*I[be].z,te=D[1]*I[be].x+D[4]*I[be].y+D[7]*I[be].z,we=D[5]*I[be].y+D[8]*I[be].z,j=3*($+be),V=k.faceidx,Pe[j]=Q+_.x,Pe[j+1]=te+_.y,Pe[j+2]=we+_.z,Pe[j+3]=Q+y.x,Pe[j+4]=te+y.y,Pe[j+5]=we+y.z,xe[j]=Q,xe[j+3]=Q,xe[j+1]=te,xe[j+4]=te,xe[j+2]=we,xe[j+5]=we,Fe[j]=C.r,Fe[j+3]=C.r,Fe[j+1]=C.g,Fe[j+4]=C.g,Fe[j+2]=C.b,Fe[j+5]=C.b,Ae[V]=G[X]+$,Ae[V+1]=G[X+1]+$,Ae[V+2]=q[X]+$,Ae[V+3]=q[X]+$,Ae[V+4]=G[X+1]+$,Ae[V+5]=q[X+1]+$,k.faceidx+=6}if(f){var Qe=p?0:O/2,Xe=E?O+1:O/2+1,U,pe,_e,ie,de,ye,Re,Be,Ce,Ie,je,Ke,Ne,ht,yt,le,ue,ge,$e,ke,at,ot,se,Ge,Je,pt,Le,lt,oe,ft,At,W;for(te=Qe;te<Xe;te++)if(te!==O/2){var Ve=te<=O/2?y:_,Ye=g.getVerticesForRadius(b,p,"to"),ce=g.getVerticesForRadius(b,E,"from");for(Ve===y?(I=Ye.vertices,H=Ye.normals,Y=Ye.verticesRows):Ve==_&&(I=ce.vertices,H=ce.normals,Y=ce.verticesRows),Q=0;Q<N;Q++)V=k.faceidx,U=Y[te][Q+1],oe=(U+$)*3,pe=Y[te][Q],ft=(pe+$)*3,_e=Y[te+1][Q],At=(_e+$)*3,ie=Y[te+1][Q+1],W=(ie+$)*3,de=D[0]*I[U].x+D[3]*I[U].y+D[6]*I[U].z,ye=D[0]*I[pe].x+D[3]*I[pe].y+D[6]*I[pe].z,Re=D[0]*I[_e].x+D[3]*I[_e].y+D[6]*I[_e].z,Be=D[0]*I[ie].x+D[3]*I[ie].y+D[6]*I[ie].z,Ce=D[1]*I[U].x+D[4]*I[U].y+D[7]*I[U].z,Ie=D[1]*I[pe].x+D[4]*I[pe].y+D[7]*I[pe].z,je=D[1]*I[_e].x+D[4]*I[_e].y+D[7]*I[_e].z,Ke=D[1]*I[ie].x+D[4]*I[ie].y+D[7]*I[ie].z,Ne=D[5]*I[U].y+D[8]*I[U].z,ht=D[5]*I[pe].y+D[8]*I[pe].z,yt=D[5]*I[_e].y+D[8]*I[_e].z,le=D[5]*I[ie].y+D[8]*I[ie].z,Pe[oe]=de+Ve.x,Pe[ft]=ye+Ve.x,Pe[At]=Re+Ve.x,Pe[W]=Be+Ve.x,Pe[oe+1]=Ce+Ve.y,Pe[ft+1]=Ie+Ve.y,Pe[At+1]=je+Ve.y,Pe[W+1]=Ke+Ve.y,Pe[oe+2]=Ne+Ve.z,Pe[ft+2]=ht+Ve.z,Pe[At+2]=yt+Ve.z,Pe[W+2]=le+Ve.z,Fe[oe]=C.r,Fe[ft]=C.r,Fe[At]=C.r,Fe[W]=C.r,Fe[oe+1]=C.g,Fe[ft+1]=C.g,Fe[At+1]=C.g,Fe[W+1]=C.g,Fe[oe+2]=C.b,Fe[ft+2]=C.b,Fe[At+2]=C.b,Fe[W+2]=C.b,ue=D[0]*H[U].x+D[3]*H[U].y+D[6]*H[U].z,ge=D[0]*H[pe].x+D[3]*H[pe].y+D[6]*H[pe].z,$e=D[0]*H[_e].x+D[3]*H[_e].y+D[6]*H[_e].z,ke=D[0]*H[ie].x+D[3]*H[ie].y+D[6]*H[ie].z,at=D[1]*H[U].x+D[4]*H[U].y+D[7]*H[U].z,ot=D[1]*H[pe].x+D[4]*H[pe].y+D[7]*H[pe].z,se=D[1]*H[_e].x+D[4]*H[_e].y+D[7]*H[_e].z,Ge=D[1]*H[ie].x+D[4]*H[ie].y+D[7]*H[ie].z,Je=D[5]*H[U].y+D[8]*H[U].z,pt=D[5]*H[pe].y+D[8]*H[pe].z,Le=D[5]*H[_e].y+D[8]*H[_e].z,lt=D[5]*H[ie].y+D[8]*H[ie].z,te===0?(xe[oe]=ue,xe[At]=$e,xe[W]=ke,xe[oe+1]=at,xe[At+1]=se,xe[W+1]=Ge,xe[oe+2]=Je,xe[At+2]=Le,xe[W+2]=lt,Ae[V]=U+$,Ae[V+1]=_e+$,Ae[V+2]=ie+$,k.faceidx+=3):te===Xe-1?(xe[oe]=ue,xe[ft]=ge,xe[At]=$e,xe[oe+1]=at,xe[ft+1]=ot,xe[At+1]=se,xe[oe+2]=Je,xe[ft+2]=pt,xe[At+2]=Le,Ae[V]=U+$,Ae[V+1]=pe+$,Ae[V+2]=_e+$,k.faceidx+=3):(xe[oe]=ue,xe[ft]=ge,xe[W]=ke,xe[oe+1]=at,xe[ft+1]=ot,xe[W+1]=Ge,xe[oe+2]=Je,xe[ft+2]=pt,xe[W+2]=lt,xe[ft]=ge,xe[At]=$e,xe[W]=ke,xe[ft+1]=ot,xe[At+1]=se,xe[W+1]=Ge,xe[ft+2]=pt,xe[At+2]=Le,xe[W+2]=lt,Ae[V]=U+$,Ae[V+1]=pe+$,Ae[V+2]=ie+$,Ae[V+3]=pe+$,Ae[V+4]=_e+$,Ae[V+5]=ie+$,k.faceidx+=6)}}k.vertices+=z}}o.drawCylinder=h;function v(c,_,y,b,C){if(!_||!y)return;C=C||{r:0,g:0,b:0};let E=new n.Vector3(y.x-_.x,y.y-_.y,y.z-_.z);var p=u(E.x,E.y,E.z);E=E.normalize();var f=g.basisVectors.length,D=g.basisVectors,M=f+2,N=c.updateGeoGroup(M),O=N.vertices,z,k,I,H,Y,q,G=N.vertexArray,$=N.normalArray,j=N.colorArray,V=N.faceArray;for(z=O*3,G[z]=_.x,G[z+1]=_.y,G[z+2]=_.z,$[z]=-E.x,$[z+1]=-E.y,$[z+2]=-E.z,j[z]=C.r,j[z+1]=C.g,j[z+2]=C.b,G[z+3]=y.x,G[z+4]=y.y,G[z+5]=y.z,$[z+3]=E.x,$[z+4]=E.y,$[z+5]=E.z,j[z+3]=C.r,j[z+4]=C.g,j[z+5]=C.b,z+=6,I=0;I<f;++I){var X=D[I].clone();X.multiplyScalar(b),H=p[0]*X.x+p[3]*X.y+p[6]*X.z,Y=p[1]*X.x+p[4]*X.y+p[7]*X.z,q=p[5]*X.y+p[8]*X.z,G[z]=H+_.x,G[z+1]=Y+_.y,G[z+2]=q+_.z,$[z]=H,$[z+1]=Y,$[z+2]=q,j[z]=C.r,j[z+1]=C.g,j[z+2]=C.b,z+=3}for(N.vertices+=f+2,k=N.faceidx,I=0;I<f;I++){var Q=O+2+I,te=O+2+(I+1)%f;V[k]=Q,V[k+1]=te,V[k+2]=O,k+=3,V[k]=Q,V[k+1]=te,V[k+2]=O+1,k+=3}N.faceidx+=6*f}o.drawCone=v;class x{constructor(){this.cache=new Map}getVerticesForRadius(_,y){y=y||2,this.cache.has(y)||this.cache.set(y,new Map);let b=this.cache.get(y);if(b.has(_))return b.get(_);var C={vertices:[],verticesRows:[],normals:[]},E=16*y,p=10*y;_<1&&(E=10*y,p=8*y);var f=0,D=Math.PI*2,M=0,N=Math.PI,O,z;for(z=0;z<=p;z++){let I=[];for(O=0;O<=E;O++){let H=O/E,Y=z/p,q=-_*Math.cos(f+H*D)*Math.sin(M+Y*N),G=_*Math.cos(M+Y*N),$=_*Math.sin(f+H*D)*Math.sin(M+Y*N);var k=new n.Vector3(q,G,$);k.normalize(),C.vertices.push({x:q,y:G,z:$}),C.normals.push(k),I.push(C.vertices.length-1)}C.verticesRows.push(I)}return b.set(_,C),C}}var S=new x;function w(c,_,y,b,C){var E=S.getVerticesForRadius(y,C),p=E.vertices,f=E.normals,D=c.updateGeoGroup(p.length),M=D.vertices,N=D.vertexArray,O=D.colorArray,z=D.faceArray,k=D.lineArray,I=D.normalArray;for(let q=0,G=p.length;q<G;++q){let $=3*(M+q),j=p[q];N[$]=j.x+_.x,N[$+1]=j.y+_.y,N[$+2]=j.z+_.z,O[$]=b.r,O[$+1]=b.g,O[$+2]=b.b}D.vertices+=p.length;let H=E.verticesRows,Y=H.length-1;for(let q=0;q<Y;q++){let G=H[q].length-1;for(let $=0;$<G;$++){let j=D.faceidx,V=D.lineidx,X=H[q][$+1]+M,Q=X*3,te=H[q][$]+M,we=te*3,Pe=H[q+1][$]+M,xe=Pe*3,Fe=H[q+1][$+1]+M,Ae=Fe*3,be=f[X-M],Qe=f[te-M],Xe=f[Pe-M],U=f[Fe-M];Math.abs(p[X-M].y)===y?(I[Q]=be.x,I[xe]=Xe.x,I[Ae]=U.x,I[Q+1]=be.y,I[xe+1]=Xe.y,I[Ae+1]=U.y,I[Q+2]=be.z,I[xe+2]=Xe.z,I[Ae+2]=U.z,z[j]=X,z[j+1]=Pe,z[j+2]=Fe,k[V]=X,k[V+1]=Pe,k[V+2]=X,k[V+3]=Fe,k[V+4]=Pe,k[V+5]=Fe,D.faceidx+=3,D.lineidx+=6):Math.abs(p[Pe-M].y)===y?(I[Q]=be.x,I[we]=Qe.x,I[xe]=Xe.x,I[Q+1]=be.y,I[we+1]=Qe.y,I[xe+1]=Xe.y,I[Q+2]=be.z,I[we+2]=Qe.z,I[xe+2]=Xe.z,z[j]=X,z[j+1]=te,z[j+2]=Pe,k[V]=X,k[V+1]=te,k[V+2]=X,k[V+3]=Pe,k[V+4]=te,k[V+5]=Pe,D.faceidx+=3,D.lineidx+=6):(I[Q]=be.x,I[we]=Qe.x,I[Ae]=U.x,I[Q+1]=be.y,I[we+1]=Qe.y,I[Ae+1]=U.y,I[Q+2]=be.z,I[we+2]=Qe.z,I[Ae+2]=U.z,I[we]=Qe.x,I[xe]=Xe.x,I[Ae]=U.x,I[we+1]=Qe.y,I[xe+1]=Xe.y,I[Ae+1]=U.y,I[we+2]=Qe.z,I[xe+2]=Xe.z,I[Ae+2]=U.z,z[j]=X,z[j+1]=te,z[j+2]=Fe,z[j+3]=te,z[j+4]=Pe,z[j+5]=Fe,k[V]=X,k[V+1]=te,k[V+2]=X,k[V+3]=Fe,k[V+4]=te,k[V+5]=Pe,k[V+6]=Pe,k[V+7]=Fe,D.faceidx+=6,D.lineidx+=8)}}}o.drawSphere=w})(s||(s={}))},"./src/GLModel.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLModel:()=>_});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts"),u=r("./src/GLDraw.ts"),l=r("./src/glcartoon.ts"),g=r("./src/utilities.ts"),h=r("./src/Gradient.ts"),v=r("./src/parsers/index.ts"),x=r("./node_modules/netcdfjs/lib-esm/index.js"),S=r("./node_modules/pako/dist/pako.esm.mjs"),w=r("./src/parsers/utils/assignBonds.ts");function c(y){let b;return typeof y=="string"?b=new TextEncoder().encode(y):b=new Uint8Array(y),(0,S.inflate)(b,{to:"string"})}class _{static sameObj(b,C){return b&&C?JSON.stringify(b)==JSON.stringify(C):b==C}constructor(b,C){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new s.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=o.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=C||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:o.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=b}getRadiusFromStyle(b,C){var E=this.defaultSphereRadius;if(typeof C.radius<"u")E=C.radius;else if(_.vdwRadii[b.elem])E=_.vdwRadii[b.elem];else if(b.elem.length>1){let p=b.elem;p=p[0].toUpperCase()+p[1].toLowerCase(),_.vdwRadii[p]&&(E=_.vdwRadii[p])}return typeof C.scale<"u"&&(E*=C.scale),E}drawAtomCross(b,C){if(b.style.cross){var E=b.style.cross;if(!E.hidden){var p=E.linewidth||_.defaultlineWidth;C[p]||(C[p]=new n.Geometry);var f=C[p].updateGeoGroup(6),D=this.getRadiusFromStyle(b,E),M=[[D,0,0],[-D,0,0],[0,D,0],[0,-D,0],[0,0,D],[0,0,-D]],N=b.clickable||b.hoverable;N&&b.intersectionShape===void 0&&(b.intersectionShape={sphere:[],cylinder:[],line:[]});for(var O=(0,g.getColorFromStyle)(b,E),z=f.vertexArray,k=f.colorArray,I=0;I<6;I++){var H=f.vertices*3;if(f.vertices++,z[H]=b.x+M[I][0],z[H+1]=b.y+M[I][1],z[H+2]=b.z+M[I][2],k[H]=O.r,k[H+1]=O.g,k[H+2]=O.b,N){var Y=new s.Vector3(M[I][0],M[I][1],M[I][2]);Y.multiplyScalar(.1),Y.set(Y.x+b.x,Y.y+b.y,Y.z+b.z),b.intersectionShape.line.push(Y)}}}}}getGoodCross(b,C,E,p){for(var f=null,D=-1,M=0,N=b.bonds.length;M<N;M++)if(b.bonds[M]!=C.index){let z=b.bonds[M],k=this.atoms[z],H=new s.Vector3(k.x,k.y,k.z).clone();H.sub(E);let Y=H.clone();Y.cross(p);var O=Y.lengthSq();if(O>D&&(D=O,f=Y,D>.1))return f}return f}getSideBondV(b,C,E){var p,f,D,M,N,O=new s.Vector3(b.x,b.y,b.z),z=new s.Vector3(C.x,C.y,C.z),k=z.clone(),I=null;if(k.sub(O),b.bonds.length===1)C.bonds.length===1?(I=k.clone(),Math.abs(I.x)>1e-4?I.y+=1:I.x+=1):(p=(E+1)%C.bonds.length,f=C.bonds[p],D=this.atoms[f],M=new s.Vector3(D.x,D.y,D.z),N=M.clone(),N.sub(O),I=N.clone(),I.cross(k));else if(I=this.getGoodCross(b,C,O,k),I.lengthSq()<.01){var H=this.getGoodCross(C,b,O,k);H!=null&&(I=H)}return I.lengthSq()<.01&&(I=k.clone(),Math.abs(I.x)>1e-4?I.y+=1:I.x+=1),I.cross(k),I.normalize(),I}addLine(b,C,E,p,f,D){b[E]=p.x,b[E+1]=p.y,b[E+2]=p.z,C[E]=D.r,C[E+1]=D.g,C[E+2]=D.b,b[E+3]=f.x,b[E+4]=f.y,b[E+5]=f.z,C[E+3]=D.r,C[E+4]=D.g,C[E+5]=D.b}drawBondLines(b,C,E){if(b.style.line){var p=b.style.line;if(!p.hidden){var f,D,M,N,O=p.linewidth||_.defaultlineWidth;E[O]||(E[O]=new n.Geometry);for(var z=E[O].updateGeoGroup(6*b.bonds.length),k=z.vertexArray,I=z.colorArray,H=0;H<b.bonds.length;H++){var Y=b.bonds[H],q=C[Y];if(q.style.line&&!(b.index>=q.index)){var G=new s.Vector3(b.x,b.y,b.z),$=new s.Vector3(q.x,q.y,q.z),j=G.clone().add($).multiplyScalar(.5),V=!1,X=b.clickable||b.hoverable,Q=q.clickable||q.hoverable;(X||Q)&&(X&&(b.intersectionShape===void 0&&(b.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),b.intersectionShape.line.push(G),b.intersectionShape.line.push(j)),Q&&(q.intersectionShape===void 0&&(q.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),q.intersectionShape.line.push(j),q.intersectionShape.line.push($)));var te=(0,g.getColorFromStyle)(b,b.style.line),we=(0,g.getColorFromStyle)(q,q.style.line);if(b.bondStyles&&b.bondStyles[H]){var Pe=b.bondStyles[H];if(!Pe.iswire)continue;Pe.singleBond&&(V=!0),typeof Pe.color1<"u"&&(te=o.CC.color(Pe.color1)),typeof Pe.color2<"u"&&(we=o.CC.color(Pe.color2))}var xe=z.vertices*3,Fe,Ae;if(b.bondOrder[H]>1&&b.bondOrder[H]<4&&!V){var be=this.getSideBondV(b,q,H),Qe=$.clone();Qe.sub(G),b.bondOrder[H]==2?(be.multiplyScalar(.1),f=G.clone(),f.add(be),D=G.clone(),D.sub(be),M=f.clone(),M.add(Qe),N=D.clone(),N.add(Qe),te==we?(z.vertices+=4,this.addLine(k,I,xe,f,M,te),this.addLine(k,I,xe+6,D,N,te)):(z.vertices+=8,Qe.multiplyScalar(.5),Fe=f.clone(),Fe.add(Qe),Ae=D.clone(),Ae.add(Qe),this.addLine(k,I,xe,f,Fe,te),this.addLine(k,I,xe+6,Fe,M,we),this.addLine(k,I,xe+12,D,Ae,te),this.addLine(k,I,xe+18,Ae,N,we))):b.bondOrder[H]==3&&(be.multiplyScalar(.1),f=G.clone(),f.add(be),D=G.clone(),D.sub(be),M=f.clone(),M.add(Qe),N=D.clone(),N.add(Qe),te==we?(z.vertices+=6,this.addLine(k,I,xe,G,$,te),this.addLine(k,I,xe+6,f,M,te),this.addLine(k,I,xe+12,D,N,te)):(z.vertices+=12,Qe.multiplyScalar(.5),Fe=f.clone(),Fe.add(Qe),Ae=D.clone(),Ae.add(Qe),this.addLine(k,I,xe,G,j,te),this.addLine(k,I,xe+6,j,$,we),this.addLine(k,I,xe+12,f,Fe,te),this.addLine(k,I,xe+18,Fe,M,we),this.addLine(k,I,xe+24,D,Ae,te),this.addLine(k,I,xe+30,Ae,N,we)))}else te==we?(z.vertices+=2,this.addLine(k,I,xe,G,$,te)):(z.vertices+=4,this.addLine(k,I,xe,G,j,te),this.addLine(k,I,xe+6,j,$,we))}}}}}drawAtomSphere(b,C){if(b.style.sphere){var E=b.style.sphere;if(!E.hidden){var p=(0,g.getColorFromStyle)(b,E),f=this.getRadiusFromStyle(b,E);if((b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var D=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(D,f))}u.GLDraw.drawSphere(C,b,f,p)}}}drawAtomClickSphere(b){if(b.style.clicksphere){var C=b.style.clicksphere;if(!C.hidden){var E=this.getRadiusFromStyle(b,C);if((b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var p=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(p,E))}}}}drawAtomInstanced(b,C){if(b.style.sphere){var E=b.style.sphere;if(!E.hidden){var p=this.getRadiusFromStyle(b,E),f=(0,g.getColorFromStyle)(b,E),D=C.updateGeoGroup(1),M=D.vertices,N=M*3,O=D.vertexArray,z=D.colorArray,k=D.radiusArray;if(O[N]=b.x,O[N+1]=b.y,O[N+2]=b.z,z[N]=f.r,z[N+1]=f.g,z[N+2]=f.b,k[M]=p,(b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var I=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(I,p))}D.vertices+=1}}}drawSphereImposter(b,C,E,p){var f=b.updateGeoGroup(4),D,M=f.vertices,N=M*3,O=f.vertexArray,z=f.colorArray;for(D=0;D<4;D++)O[N+3*D]=C.x,O[N+3*D+1]=C.y,O[N+3*D+2]=C.z;var k=f.normalArray;for(D=0;D<4;D++)z[N+3*D]=p.r,z[N+3*D+1]=p.g,z[N+3*D+2]=p.b;k[N+0]=-E,k[N+1]=E,k[N+2]=0,k[N+3]=-E,k[N+4]=-E,k[N+5]=0,k[N+6]=E,k[N+7]=-E,k[N+8]=0,k[N+9]=E,k[N+10]=E,k[N+11]=0,f.vertices+=4;var I=f.faceArray,H=f.faceidx;I[H+0]=M,I[H+1]=M+1,I[H+2]=M+2,I[H+3]=M+2,I[H+4]=M+3,I[H+5]=M,f.faceidx+=6}drawAtomImposter(b,C){if(b.style.sphere){var E=b.style.sphere;if(!E.hidden){var p=this.getRadiusFromStyle(b,E),f=(0,g.getColorFromStyle)(b,E);if((b.clickable===!0||b.hoverable)&&b.intersectionShape!==void 0){var D=new s.Vector3(b.x,b.y,b.z);b.intersectionShape.sphere.push(new a.Sphere(D,p))}this.drawSphereImposter(C,b,p,f)}}}static drawStickImposter(b,C,E,p,f){for(var D=b.updateGeoGroup(4),M=D.vertices,N=M*3,O=D.vertexArray,z=D.colorArray,k=D.radiusArray,I=D.normalArray,H=f.r,Y=f.g,q=f.b,G=function(Q){var te=-Q;return te==0&&(te=-1e-4),te},$=N,j=0;j<4;j++)O[$]=C.x,I[$]=E.x,z[$]=H,$++,O[$]=C.y,I[$]=E.y,z[$]=Y,$++,O[$]=C.z,I[$]=E.z,j<2?z[$]=q:z[$]=G(q),$++;D.vertices+=4,k[M]=-p,k[M+1]=p,k[M+2]=-p,k[M+3]=p;var V=D.faceArray,X=D.faceidx;V[X+0]=M,V[X+1]=M+1,V[X+2]=M+2,V[X+3]=M+2,V[X+4]=M+3,V[X+5]=M,D.faceidx+=6}drawBondSticks(b,C,E){if(b.style.stick){var p=b.style.stick;if(!p.hidden){var f=p.radius||this.defaultStickRadius,D=f,M=p.singleBonds||!1,N=0,O=0,z,k,I,H,Y,q,G,$,j,V,X,Q=(0,g.getColorFromStyle)(b,p),te,we,Pe;!b.capDrawn&&b.bonds.length<4&&(N=2);var xe=u.GLDraw.drawCylinder;for(E.imposter&&(xe=_.drawStickImposter),I=0;I<b.bonds.length;I++){var Fe=b.bonds[I],Ae=C[Fe];if(te=we=Pe=null,b.index<Ae.index){var be=Ae.style;if(!be.stick||be.stick.hidden)continue;var Qe=(0,g.getColorFromStyle)(Ae,be.stick);if(D=f,H=M,b.bondStyles&&b.bondStyles[I]){if(Y=b.bondStyles[I],Y.iswire)continue;Y.radius&&(D=Y.radius),Y.singleBond&&(H=!0),typeof Y.color1<"u"&&(Q=o.CC.color(Y.color1)),typeof Y.color2<"u"&&(Qe=o.CC.color(Y.color2))}var Xe=new s.Vector3(b.x,b.y,b.z),U=new s.Vector3(Ae.x,Ae.y,Ae.z);if(b.bondOrder[I]<=1||H||b.bondOrder[I]>3){if(b.bondOrder[I]<1&&(D*=b.bondOrder[I]),!Ae.capDrawn&&Ae.bonds.length<4&&(O=2),Q!=Qe?(te=new s.Vector3().addVectors(Xe,U).multiplyScalar(.5),xe(E,Xe,te,D,Q,N,0),xe(E,te,U,D,Qe,0,O)):xe(E,Xe,U,D,Q,N,O),z=b.clickable||b.hoverable,k=Ae.clickable||Ae.hoverable,z||k){if(te||(te=new s.Vector3().addVectors(Xe,U).multiplyScalar(.5)),z){var pe=new a.Cylinder(Xe,te,D),_e=new a.Sphere(Xe,D);b.intersectionShape.cylinder.push(pe),b.intersectionShape.sphere.push(_e)}if(k){var ie=new a.Cylinder(U,te,D),de=new a.Sphere(U,D);Ae.intersectionShape.cylinder.push(ie),Ae.intersectionShape.sphere.push(de)}}}else if(b.bondOrder[I]>1){var ye=0,Re=0;D!=f&&(ye=2,Re=2);var Be=U.clone(),Ce=null;Be.sub(Xe);var Ie,je,Ke,Ne,ht;Ce=this.getSideBondV(b,Ae,I),b.bondOrder[I]==2?(Ie=D/2.5,Ce.multiplyScalar(Ie*1.5),je=Xe.clone(),je.add(Ce),Ke=Xe.clone(),Ke.sub(Ce),Ne=je.clone(),Ne.add(Be),ht=Ke.clone(),ht.add(Be),Q!=Qe?(te=new s.Vector3().addVectors(je,Ne).multiplyScalar(.5),we=new s.Vector3().addVectors(Ke,ht).multiplyScalar(.5),xe(E,je,te,Ie,Q,ye,0),xe(E,te,Ne,Ie,Qe,0,Re),xe(E,Ke,we,Ie,Q,ye,0),xe(E,we,ht,Ie,Qe,0,Re)):(xe(E,je,Ne,Ie,Q,ye,Re),xe(E,Ke,ht,Ie,Q,ye,Re)),z=b.clickable||b.hoverable,k=Ae.clickable||Ae.hoverable,(z||k)&&(te||(te=new s.Vector3().addVectors(je,Ne).multiplyScalar(.5)),we||(we=new s.Vector3().addVectors(Ke,ht).multiplyScalar(.5)),z&&(q=new a.Cylinder(je,te,Ie),G=new a.Cylinder(Ke,we,Ie),b.intersectionShape.cylinder.push(q),b.intersectionShape.cylinder.push(G)),k&&(j=new a.Cylinder(Ne,te,Ie),V=new a.Cylinder(ht,we,Ie),Ae.intersectionShape.cylinder.push(j),Ae.intersectionShape.cylinder.push(V)))):b.bondOrder[I]==3&&(Ie=D/4,Ce.cross(Be),Ce.normalize(),Ce.multiplyScalar(Ie*3),je=Xe.clone(),je.add(Ce),Ke=Xe.clone(),Ke.sub(Ce),Ne=je.clone(),Ne.add(Be),ht=Ke.clone(),ht.add(Be),Q!=Qe?(te=new s.Vector3().addVectors(je,Ne).multiplyScalar(.5),we=new s.Vector3().addVectors(Ke,ht).multiplyScalar(.5),Pe=new s.Vector3().addVectors(Xe,U).multiplyScalar(.5),xe(E,je,te,Ie,Q,ye,0),xe(E,te,Ne,Ie,Qe,0,Re),xe(E,Xe,Pe,Ie,Q,N,0),xe(E,Pe,U,Ie,Qe,0,O),xe(E,Ke,we,Ie,Q,ye,0),xe(E,we,ht,Ie,Qe,0,Re)):(xe(E,je,Ne,Ie,Q,ye,Re),xe(E,Xe,U,Ie,Q,N,O),xe(E,Ke,ht,Ie,Q,ye,Re)),z=b.clickable||b.hoverable,k=Ae.clickable||Ae.hoverable,(z||k)&&(te||(te=new s.Vector3().addVectors(je,Ne).multiplyScalar(.5)),we||(we=new s.Vector3().addVectors(Ke,ht).multiplyScalar(.5)),Pe||(Pe=new s.Vector3().addVectors(Xe,U).multiplyScalar(.5)),z&&(q=new a.Cylinder(je.clone(),te.clone(),Ie),G=new a.Cylinder(Ke.clone(),we.clone(),Ie),$=new a.Cylinder(Xe.clone(),Pe.clone(),Ie),b.intersectionShape.cylinder.push(q),b.intersectionShape.cylinder.push(G),b.intersectionShape.cylinder.push($)),k&&(j=new a.Cylinder(Ne.clone(),te.clone(),Ie),V=new a.Cylinder(ht.clone(),we.clone(),Ie),X=new a.Cylinder(U.clone(),Pe.clone(),Ie),Ae.intersectionShape.cylinder.push(j),Ae.intersectionShape.cylinder.push(V),Ae.intersectionShape.cylinder.push(X))))}}}var yt=!1,le=0,ue=!1;for(I=0;I<b.bonds.length;I++)H=M,b.bondStyles&&b.bondStyles[I]&&(Y=b.bondStyles[I],Y.singleBond&&(H=!0),Y.radius&&Y.radius!=f&&(ue=!0)),(H||b.bondOrder[I]==1)&&le++;ue?le>0&&(yt=!0):le==0&&(b.bonds.length>0||p.showNonBonded)&&(yt=!0),yt&&(D=f,E.imposter?this.drawSphereImposter(E.sphereGeometry,b,D,Q):u.GLDraw.drawSphere(E,b,D,Q))}}}createMolObj(b,C){C=C||{};var E=new n.Object3D,p=[],f={},D={},M=this.drawAtomSphere,N=null,O=null;C.supportsImposters?(M=this.drawAtomImposter,N=new n.Geometry(!0),N.imposter=!0,O=new n.Geometry(!0,!0),O.imposter=!0,O.sphereGeometry=new n.Geometry(!0),O.sphereGeometry.imposter=!0,O.drawnCaps={}):C.supportsAIA?(M=this.drawAtomInstanced,N=new n.Geometry(!1,!0,!0),N.instanced=!0,O=new n.Geometry(!0)):(N=new n.Geometry(!0),O=new n.Geometry(!0));var z,k,I,H,Y={},q=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(z=0,I=b.length;z<I;z++){var G=b[z];if(G&&G.style){(G.clickable||G.hoverable)&&G.intersectionShape===void 0&&(G.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),H={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(k in H)G.style[k]?G.style[k].opacity?H[k]=parseFloat(G.style[k].opacity):H[k]=1:H[k]=void 0,Y[k]?H[k]!=null&&Y[k]!=H[k]&&(console.log("Warning: "+k+" opacity is ambiguous"),Y[k]=1):Y[k]=H[k];M.call(this,G,N),this.drawAtomClickSphere(G),this.drawAtomCross(G,D),this.drawBondLines(G,b,f),this.drawBondSticks(G,b,O),typeof G.style.cartoon<"u"&&!G.style.cartoon.hidden&&(G.style.cartoon.color==="spectrum"&&typeof G.resi=="number"&&!G.hetflag&&(G.resi<q[0]&&(q[0]=G.resi),G.resi>q[1]&&(q[1]=G.resi)),p.push(G))}}if(p.length>0&&(0,l.drawCartoon)(E,p,q,this.defaultCartoonQuality),N&&N.vertices>0){N.initTypedArrays();var $=null,j=null;N.imposter?$=new n.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):N.instanced?(j=new n.Geometry(!0),u.GLDraw.drawSphere(j,{x:0,y:0,z:0},1,new o.Color(.5,.5,.5)),j.initTypedArrays(),$=new n.InstancedMaterial({sphereMaterial:new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:j})):$=new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Y.sphere<1&&Y.sphere>=0&&($.transparent=!0,$.opacity=Y.sphere),j=new n.Mesh(N,$),E.add(j)}if(O.vertices>0){var V=null,X=null,Q=O.sphereGeometry;(!Q||typeof Q.vertices>"u"||Q.vertices==0)&&(Q=null),O.initTypedArrays(),Q&&Q.initTypedArrays();var te={ambient:0,vertexColors:!0,reflectivity:0};O.imposter?(V=new n.StickImposterMaterial(te),X=new n.SphereImposterMaterial(te)):(V=new n.MeshLambertMaterial(te),X=new n.MeshLambertMaterial(te),V.wireframe&&(O.setUpWireframe(),Q&&Q.setUpWireframe())),Y.stick<1&&Y.stick>=0&&(V.transparent=!0,V.opacity=Y.stick,X.transparent=!0,X.opacity=Y.stick);var we=new n.Mesh(O,V);if(E.add(we),Q){var Pe=new n.Mesh(Q,X);E.add(Pe)}}var xe;for(z in f)if(f.hasOwnProperty(z)){xe=z;var Fe=new n.LineBasicMaterial({linewidth:xe,vertexColors:!0});Y.line<1&&Y.line>=0&&(Fe.transparent=!0,Fe.opacity=Y.line),f[z].initTypedArrays();var Ae=new n.Line(f[z],Fe,n.LineStyle.LinePieces);E.add(Ae)}for(z in D)if(D.hasOwnProperty(z)){xe=z;var be=new n.LineBasicMaterial({linewidth:xe,vertexColors:!0});Y.cross<1&&Y.cross>=0&&(be.transparent=!0,be.opacity=Y.cross),D[z].initTypedArrays();var Qe=new n.Line(D[z],be,n.LineStyle.LinePieces);E.add(Qe)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Xe=new n.Object3D,U;for(U=0;U<this.modelData.symmetries.length;U++){var pe=new n.Object3D;pe=E.clone(),pe.matrix.copy(this.modelData.symmetries[U]),pe.matrixAutoUpdate=!1,Xe.add(pe)}return Xe}return E}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(b){this.atoms=b.atoms,this.frames=b.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){let b=this.modelData.cryst;this.modelData.cryst.matrix=(0,s.conversionMatrix3)(b.a,b.b,b.c,b.alpha,b.beta,b.gamma)}return this.modelData.cryst}else return null}setCrystData(b,C,E,p,f,D){b=b||1,C=C||1,E=E||1,p=p||90,f=f||90,D=D||90;let M=(0,s.conversionMatrix3)(b,C,E,p,f,D);this.modelData.cryst={a:b,b:C,c:E,alpha:p,beta:f,gamma:D,matrix:M}}setCrystMatrix(b){b=b||new s.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:b}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(b){typeof b>"u"?this.modelData.symmetries=[this.idMatrix]:this.modelData.symmetries=b}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(b,C,E,p){var f=C-b;return f<-E?C+p:f>E?C-p:C}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var b=this.box[0],C=this.box[1],E=this.box[2],p=b*.9,f=C*.9,D=E*.9,M=0;M<this.atomdfs.length;M++)for(var N=this.atomdfs[M],O=1;O<N.length;O++){var z=this.atoms[N[O][0]],k=this.atoms[N[O][1]];z.x=this.adjustCoord(k.x,z.x,p,b),z.y=this.adjustCoord(k.y,z.y,f,C),z.z=this.adjustCoord(k.z,z.z,D,E)}}setFrame(b,C){var E=this.getNumFrames();let p=this;return new Promise(function(f,D){if(E==0&&f(),(b<0||b>=E)&&(b=E-1),p.frames.url!=null){var M=p.frames.url;(0,g.getbin)(M+"/traj/frame/"+b+"/"+p.frames.path,void 0,"POST",void 0).then(function(N){for(var O=new Float32Array(N,44),z=0,k=0;k<p.atoms.length;k++)p.atoms[k].x=O[z++],p.atoms[k].y=O[z++],p.atoms[k].z=O[z++];p.box&&p.atomdfs&&p.adjustCoordinatesToBox(),f()}).catch(D)}else p.atoms=p.frames[b],f();p.molObj=null,p.modelDatas&&b<p.modelDatas.length&&(p.modelData=p.modelDatas[b],p.unitCellObjects&&C&&(C.removeUnitCell(p),C.addUnitCell(p)))})}addFrame(b){this.frames.push(b)}vibrate(b=10,C=1,E=!1,p,f){var D=0,M=b;E&&(D=-b,M=b),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),D<M&&(this.frames=[]),E&&(this.frames.origIndex=b);for(var N=D;N<M;N++){var O=[],z=this.frames.length;if(N==0&&!f){this.frames.push(this.atoms);continue}for(var k=0;k<this.atoms.length;k++){var I=(0,g.getAtomProperty)(this.atoms[k],"dx"),H=(0,g.getAtomProperty)(this.atoms[k],"dy"),Y=(0,g.getAtomProperty)(this.atoms[k],"dz"),q=new s.Vector3(I,H,Y),G=new s.Vector3(this.atoms[k].x,this.atoms[k].y,this.atoms[k].z),$=N*C/b;q.multiplyScalar($),G.add(q);var j={};for(var V in this.atoms[k])j[V]=this.atoms[k][V];if(j.x=G.x,j.y=G.y,j.z=G.z,O.push(j),p&&f){var X=(0,g.extend)({},f),Q=new s.Vector3(I,H,Y);if(Q.multiplyScalar(C),Q.add(G),X.start=G,X.end=Q,X.frame=z,!X.color){var te=j.style.sphere;te||(te=j.style.stick),te||(te=j.style.line),X.color=(0,g.getColorFromStyle)(j,te)}p.addArrow(X)}}this.frames.push(O)}}setAtomDefaults(b){for(let C=0;C<b.length;C++){let E=b[C];E&&(E.style=E.style||(0,g.deepCopy)(_.defaultAtomStyle),E.color=E.color||this.ElementColors[E.elem]||this.defaultColor,E.model=this.id,(E.clickable||E.hoverable)&&(E.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(b,C,E={}){var p=_.parseMolData(b,C,E);this.dontDuplicateAtoms=!E.duplicateAssemblyAtoms;var f=p.modelData;if(f&&(Array.isArray(f)?(this.modelData=f[0],E.frames&&(this.modelDatas=f)):this.modelData=f),p.box?this.box=p.box:this.box=null,this.frames.length==0){for(let M=0;M<p.length;M++)p[M].length!=0&&this.frames.push(p[M]);this.frames[0]&&(this.atoms=this.frames[0])}else if(E.frames)for(let M=0;M<p.length;M++)this.frames.push(p[M]);else for(var D=0;D<p.length;D++)this.addAtoms(p[D]);for(let M=0;M<this.frames.length;M++)this.setAtomDefaults(this.frames[M]);E.vibrate&&E.vibrate.frames&&E.vibrate.amplitude&&this.vibrate(E.vibrate.frames,E.vibrate.amplitude),E.style&&this.setStyle({},E.style)}setDontDuplicateAtoms(b){this.dontDuplicateAtoms=b}setModelData(b){this.modelData=b}propertyMatches(b,C){if(b==C)return!0;if(typeof C=="string"&&typeof b=="number"){var E=C.match(/(-?\d+)\s*-\s*(-?\d+)/);if(E){var p=parseInt(E[1]),f=parseInt(E[2]);if(E&&b>=p&&b<=f)return!0}}return!1}static deepCopyAndCache(b,C){if(typeof b!="object"||b==null||b.__cache_created)return b;let E={};for(let p in b){let f=b[p];if(Array.isArray(f)){E[p]=[];for(let D=0;D<f.length;D++)E[p].push(_.deepCopyAndCache(f[D],C))}else typeof f=="object"&&p!="properties"&&p!="model"?E[p]=_.deepCopyAndCache(f,C):E[p]=f;if(p=="and"||p=="or"){let D=[];for(let M of E[p]){let N=new Set;for(let O of C.selectedAtoms(M))N.add(O.index);D.push(N)}if(p=="and"){let M=function(O,z){let k=new Set;for(let I of z)O.has(I)&&k.add(I);return k},N=new Set(D[0]);for(let O of D.splice(1))N=M(N,O);E[p].__cached_results=N}else if(p=="or"){let M=new Set;for(let N of D)for(let O of N)M.add(O);E[p].__cached_results=M}}}return E.__cache_created=!0,E}atomIsSelected(b,C){if(typeof C>"u")return!0;var E=!!C.invert,p=!0;for(var f in C)if(f=="and"||f=="or"||f=="not"){if(f=="not"){if(this.atomIsSelected(b,C[f])){p=!1;break}}else if(C[f].__cached_results===void 0&&(C=_.deepCopyAndCache(C,this)),p=C[f].__cached_results.has(b.index),!p)break}else if(f==="predicate"){if(!C.predicate(b)){p=!1;break}}else if(f=="properties"&&b[f]){for(var D in C.properties)if(!D.startsWith("__cache")){if(typeof b.properties[D]>"u"){p=!1;break}if(b.properties[D]!=C.properties[D]){p=!1;break}}}else if(C.hasOwnProperty(f)&&!_.ignoredKeys.has(f)&&!f.startsWith("__cache")){if(typeof b[f]>"u"){p=!1;break}var M=!1;if(f==="bonds"){var N=C[f];if(N!=b.bonds.length){p=!1;break}}else if(Array.isArray(C[f])){var O=C[f],z=b[f];for(let k=0;k<O.length;k++)if(this.propertyMatches(z,O[k])){M=!0;break}if(!M){p=!1;break}}else{let k=C[f];if(!this.propertyMatches(b[f],k)){p=!1;break}}}return E?!p:p}static squaredDistance(b,C){var E=C.x-b.x,p=C.y-b.y,f=C.z-b.z;return E*E+p*p+f*f}expandAtomList(b,C){if(C<=0)return b;for(var E=(0,g.getExtent)(b,void 0),p=[[],[],[]],f=0;f<3;f++)p[0][f]=E[0][f]-C,p[1][f]=E[1][f]+C,p[2][f]=E[2][f];var D=[];for(let z=0;z<this.atoms.length;z++){var M=this.atoms[z].x,N=this.atoms[z].y,O=this.atoms[z].z;M>=p[0][0]&&M<=p[1][0]&&N>=p[0][1]&&N<=p[1][1]&&O>=p[0][2]&&O<=p[1][2]&&(M>=E[0][0]&&M<=E[1][0]&&N>=E[0][1]&&N<=E[1][1]&&O>=E[0][2]&&O<=E[1][2]||D.push(this.atoms[z]))}return D}static getFloat(b){return typeof b=="number"?b:parseFloat(b)}selectedAtoms(b,C){var E=[];b=_.deepCopyAndCache(b||{},this),C||(C=this.atoms);for(var p=C.length,f=0;f<p;f++){var D=C[f];D&&this.atomIsSelected(D,b)&&E.push(D)}if(b.hasOwnProperty("expand")){let j=_.getFloat(b.expand),V=this.expandAtomList(E,j),X=E.length,Q=j*j;for(let te=0;te<V.length;te++)for(let we=0;we<X;we++){var M=_.squaredDistance(V[te],E[we]);M<Q&&M>0&&E.push(V[te])}}if(b.hasOwnProperty("within")&&b.within.hasOwnProperty("sel")&&b.within.hasOwnProperty("distance")){var N=this.selectedAtoms(b.within.sel,this.atoms),O={};let j=_.getFloat(b.within.distance),V=j*j;for(let X=0;X<N.length;X++)for(let Q=0;Q<E.length;Q++){let te=_.squaredDistance(N[X],E[Q]);te<V&&te>0&&(O[Q]=1)}var z=[];if(b.within.invert)for(let X=0;X<E.length;X++)O[X]||z.push(E[X]);else for(let X in O)z.push(E[X]);E=z}if(b.hasOwnProperty("byres")){var k={},I=[],H=[];for(let j=0;j<E.length;j++){let V=E[j];var Y=V.chain,q=V.resi;if(k[Y]===void 0&&(k[Y]={}),V.hasOwnProperty("resi")&&k[Y][q]===void 0){for(k[Y][q]=!0,H.push(V);H.length>0;)if(V=H.pop(),Y=V.chain,q=V.resi,I[V.index]===void 0){I[V.index]=!0;for(var G=0;G<V.bonds.length;G++){var $=this.atoms[V.bonds[G]];I[$.index]===void 0&&$.hasOwnProperty("resi")&&$.chain==Y&&$.resi==q&&(H.push($),E.push($))}}}}}return E}addAtoms(b){this.molObj=null;var C=this.atoms.length,E=[],p;for(p=0;p<b.length;p++)typeof b[p].index>"u"&&(b[p].index=p),typeof b[p].serial>"u"&&(b[p].serial=p),E[b[p].index]=C+p;for(p=0;p<b.length;p++){var f=b[p],D=E[f.index],M=(0,g.extend)({},f);M.index=D,M.bonds=[],M.bondOrder=[],M.model=this.id,M.style=M.style||(0,g.deepCopy)(_.defaultAtomStyle),typeof M.color>"u"&&(M.color=this.ElementColors[M.elem]||this.defaultColor);for(var N=f.bonds?f.bonds.length:0,O=0;O<N;O++){var z=E[f.bonds[O]];typeof z<"u"&&(M.bonds.push(z),M.bondOrder.push(f.bondOrder?f.bondOrder[O]:1))}this.atoms.push(M)}}assignBonds(){(0,w.assignBonds)(this.atoms)}removeAtoms(b){this.molObj=null;var C=[],E;for(E=0;E<b.length;E++)C[b[E].index]=!0;var p=[];for(E=0;E<this.atoms.length;E++){var f=this.atoms[E];C[f.index]||p.push(f)}this.atoms=[],this.addAtoms(p)}setStyle(b,C,E){typeof C>"u"&&typeof E>"u"&&(C=b,b={}),b=b,typeof C=="string"&&(C=(0,g.specStringToObject)(C));var p=!1,f=this,D=function(N){var O=f.selectedAtoms(b,N);for(let z=0;z<N.length;z++)N[z]&&(N[z].capDrawn=!1);for(let z=0;z<O.length;z++){p=!0,(O[z].clickable||O[z].hoverable)&&(O[z].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),E||(O[z].style={});for(let k in C)C.hasOwnProperty(k)&&(O[z].style[k]=O[z].style[k]||{},Object.assign(O[z].style[k],C[k]))}};if(b.frame!==void 0&&b.frame<this.frames.length){let N=b.frame;N<0&&(N=this.frames.length+N),D(this.frames[N])}else{D(this.atoms);for(var M=0;M<this.frames.length;M++)this.frames[M]!==this.atoms&&D(this.frames[M])}p&&(this.molObj=null)}setClickable(b,C,E){if(C=!!C,E=(0,g.makeFunction)(E),E===null){console.log("Callback is not a function");return}var p=this.selectedAtoms(b,this.atoms),f=p.length;for(let D=0;D<f;D++)p[D].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},p[D].clickable=C,E&&(p[D].callback=E);f>0&&(this.molObj=null)}setHoverable(b,C,E,p){if(C=!!C,E=(0,g.makeFunction)(E),p=(0,g.makeFunction)(p),E===null){console.log("Hover_callback is not a function");return}if(p===null){console.log("Unhover_callback is not a function");return}var f=this.selectedAtoms(b,this.atoms),D=f.length;for(let M=0;M<D;M++)f[M].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},f[M].hoverable=C,E&&(f[M].hover_callback=E),p&&(f[M].unhover_callback=p);D>0&&(this.molObj=null)}enableContextMenu(b,C){C=!!C;var E,p=this.selectedAtoms(b,this.atoms),f=p.length;for(E=0;E<f;E++)p[E].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},p[E].contextMenuEnabled=C;f>0&&(this.molObj=null)}setColorByElement(b,C){if(!(this.molObj!==null&&_.sameObj(C,this.lastColors))){this.lastColors=C;var E=this.selectedAtoms(b,E);E.length>0&&(this.molObj=null);for(var p=0;p<E.length;p++){var f=E[p];typeof C[f.elem]<"u"&&(f.color=C[f.elem])}}}setColorByProperty(b,C,E,p){var f,D,M=this.selectedAtoms(b,M);for(this.lastColors=null,M.length>0&&(this.molObj=null),typeof E=="string"&&typeof h.Gradient.builtinGradients[E]<"u"&&(E=new h.Gradient.builtinGradients[E]),E=E,p||(p=E.range()),p||(p=(0,g.getPropertyRange)(M,C)),f=0;f<M.length;f++){D=M[f];var N=(0,g.getAtomProperty)(D,C);N!=null&&(D.color=E.valueToHex(parseFloat(D.properties[C]),p))}}setColorByFunction(b,C){var E=this.selectedAtoms(b,E);if(typeof C=="function"){this.lastColors=null,E.length>0&&(this.molObj=null);for(let p=0;p<E.length;p++){let f=E[p];f.color=C(f)}}}toCDObject(b=!1){var C={a:[],b:[]};b&&(C.s=[]);for(let p=0;p<this.atoms.length;p++){let f={},D=this.atoms[p];if(f.x=D.x,f.y=D.y,f.z=D.z,D.elem!="C"&&(f.l=D.elem),b){for(var E=0;E<C.s.length&&JSON.stringify(D.style)!==JSON.stringify(C.s[E]);)E++;E===C.s.length&&C.s.push(D.style),E!==0&&(f.s=E)}C.a.push(f);for(let M=0;M<D.bonds.length;M++){let N=p,O=D.bonds[M];if(N>=O)continue;let z={b:N,e:O},k=D.bondOrder[M];k!=1&&(z.o=k),C.b.push(z)}}return C}globj(b,C){(this.molObj===null||C.regen)&&(this.molObj=this.createMolObj(this.atoms,C),this.renderedMolObj&&(b.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),b.add(this.renderedMolObj))}exportVRML(){var b=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return b.vrml()}removegl(b){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),b.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(b,C,E,p){for(var f=this.selectedAtoms(C,f),D=(0,g.deepCopy)(p),M=0;M<f.length;M++){var N=f[M],O=null;typeof N[b]<"u"?O=String(N[b]):typeof N.properties[b]<"u"&&(O=String(N.properties[b])),O!=null&&(D.position=N,E.addLabel(O,D))}}addResLabels(b,C,E,p=!1){var f=[],D=function(N,O){for(var z=N.selectedAtoms(b,z),k={},I=0;I<z.length;I++){var H=z[I],Y=H.chain,q=H.resn,G=H.resi,$=q+""+G;k[Y]||(k[Y]={}),k[Y][$]||(k[Y][$]=[]),k[Y][$].push(H)}var j=(0,g.deepCopy)(E);for(let X in k)if(k.hasOwnProperty(X)){var V=k[X];for(let Q in V)if(V.hasOwnProperty(Q)){let te=V[Q],we=new s.Vector3(0,0,0);for(let xe=0;xe<te.length;xe++){let Fe=te[xe];we.x+=Fe.x,we.y+=Fe.y,we.z+=Fe.z}we.divideScalar(te.length),j.position=we,j.frame=O;let Pe=C.addLabel(Q,j,void 0,!0);f.push(Pe)}}};if(p){var M=this.getNumFrames();let N=this.atoms;for(let O=0;O<M;O++)this.frames[O]&&(this.atoms=this.frames[O],D(this,O));this.atoms=N}else D(this);return f}setupDFS(){this.atomdfs=[];var b=this,C=new Int8Array(this.atoms.length);C.fill(0);for(var E=function(M,N,O){O.push([M,N]);var z=b.atoms[M];C[M]=1;for(var k=0;k<z.bonds.length;k++){var I=z.bonds[k];b.atoms[I]&&!C[I]&&E(I,M,O)}},p=0;p<this.atoms.length;p++){var f=this.atoms[p];if(f&&!C[p]){var D=[];E(p,-1,D),this.atomdfs.push(D)}}}setCoordinatesFromURL(b,C){this.frames=[];var E=this;return this.box&&this.setupDFS(),b.startsWith("http")||(b="http://"+b),(0,g.get)(b+"/traj/numframes/"+C,function(p){if(!isNaN(parseInt(p)))return E.frames.push(E.atoms),E.frames.numFrames=p,E.frames.url=b,E.frames.path=C,E.setFrame(0)})}setCoordinates(b,C){if(C=C||"",!b)return[];if(/\.gz$/.test(C)){C=C.replace(/\.gz$/,"");try{b=c(b)}catch(k){console.log(k)}}var E={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(E.hasOwnProperty(C)){this.frames=[];for(var p=this.atoms.length,f=_.parseCrd(b,C),D=0;D<f.length;){for(var M=[],N=0;N<p;N++){var O={};for(var z in this.atoms[N])O[z]=this.atoms[N][z];M[N]=O,M[N].x=f[D++],M[N].y=f[D++],M[N].z=f[D++]}this.frames.push(M)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(b){}static parseCrd(b,C){var E=[],p=0;if(C=="pdb")for(var f=b.indexOf(`
ATOM`);f!=-1;){for(;b.slice(f,f+5)==`
ATOM`||b.slice(f,f+7)==`
HETATM`;)E[p++]=parseFloat(b.slice(f+31,f+39)),E[p++]=parseFloat(b.slice(f+39,f+47)),E[p++]=parseFloat(b.slice(f+47,f+55)),f=b.indexOf(`
`,f+54),b.slice(f,f+4)==`
TER`&&(f=b.indexOf(`
`,f+5));f=b.indexOf(`
ATOM`,f)}else if(C=="netcdf"){var D=new x.NetCDFReader(b);E=[].concat.apply([],D.getDataVariable("coordinates"))}else{if(C=="array"||Array.isArray(b))return b.flat(2);{let M=b.indexOf(`
`);C=="inpcrd"&&(M=b.indexOf(`
`,M+1)),b=b.slice(M+1),E=b.match(/\S+/g).map(parseFloat)}}return E}static parseMolData(b,C="",E){if(!b)return[];if(/\.gz$/.test(C)){C=C.replace(/\.gz$/,"");try{b=c(b)}catch(D){console.log(D)}}typeof v.Parsers[C]>"u"&&(C=C.split(".").pop(),typeof v.Parsers[C]>"u"&&(console.log("Unknown format: "+C),b instanceof Uint8Array?C="mmtf":b.match(/^@<TRIPOS>MOLECULE/gm)?C="mol2":b.match(/^data_/gm)&&b.match(/^loop_/gm)?C="cif":b.match(/^HETATM/gm)||b.match(/^ATOM/gm)?C="pdb":b.match(/ITEM: TIMESTEP/gm)?C="lammpstrj":b.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?C="sdf":b.match(/^%VERSION\s+VERSION_STAMP/gm)?C="prmtop":C="xyz",console.log("Best guess: "+C)));var p=v.Parsers[C],f=p(b,E);return f}}_.defaultAtomStyle={line:{}},_.defaultlineWidth=1,_.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},_.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLShape:()=>x,splitMesh:()=>S});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts"),u=r("./src/ProteinSurface4.ts"),l=r("./src/VolumeData.ts"),g=r("./src/GLDraw.ts"),h=r("./src/glcartoon.ts"),v=r("./src/utilities.ts");class x{static finalizeGeo(c){var _=c.updateGeoGroup(0);_.vertices>0&&_.truncateArrayBuffers(!0,!0)}static updateColor(c,_){_=_||o.CC.color(_),c.colorsNeedUpdate=!0;var y,b,C;_.constructor!==Array&&(y=_.r,b=_.g,C=_.b);for(let E in c.geometryGroups){let p=c.geometryGroups[E],f=p.colorArray;for(let D=0,M=p.vertices;D<M;++D){if(_.constructor===Array){let N=_[D];y=N.r,b=N.g,C=N.b}f[D*3]=y,f[D*3+1]=b,f[D*3+2]=C}}}static drawArrow(c,_,y){var b=y.start,C=y.end,E=y.radius,p=y.radiusRatio,f=y.mid,D=y.midpos;if(!(b&&C))return;var M=_.updateGeoGroup(51),N=new s.Vector3(C.x,C.y,C.z).sub(b);if(D){let Le=N.length();D>0?f=D/Le:f=(Le+D)/Le}N.multiplyScalar(f);var O=new s.Vector3(b.x,b.y,b.z).add(N),z=N.clone().negate();let k=new s.Vector3(b.x,b.y,b.z);c.intersectionShape.cylinder.push(new a.Cylinder(k,O.clone(),E)),c.intersectionShape.sphere.push(new a.Sphere(k,E));var I=[];I[0]=N.clone(),Math.abs(I[0].x)>1e-4?I[0].y+=1:I[0].x+=1,I[0].cross(N),I[0].normalize(),I[4]=I[0].clone(),I[4].crossVectors(I[0],N),I[4].normalize(),I[8]=I[0].clone().negate(),I[12]=I[4].clone().negate(),I[2]=I[0].clone().add(I[4]).normalize(),I[6]=I[4].clone().add(I[8]).normalize(),I[10]=I[8].clone().add(I[12]).normalize(),I[14]=I[12].clone().add(I[0]).normalize(),I[1]=I[0].clone().add(I[2]).normalize(),I[3]=I[2].clone().add(I[4]).normalize(),I[5]=I[4].clone().add(I[6]).normalize(),I[7]=I[6].clone().add(I[8]).normalize(),I[9]=I[8].clone().add(I[10]).normalize(),I[11]=I[10].clone().add(I[12]).normalize(),I[13]=I[12].clone().add(I[14]).normalize(),I[15]=I[14].clone().add(I[0]).normalize();var H=M.vertices,Y=M.vertexArray,q=M.faceArray,G=M.normalArray,$=M.lineArray,j,V,X;for(V=0,X=I.length;V<X;++V){j=3*(H+3*V);var Q=I[V].clone().multiplyScalar(E).add(b),te=I[V].clone().multiplyScalar(E).add(O),we=I[V].clone().multiplyScalar(E*p).add(O);if(Y[j]=Q.x,Y[j+1]=Q.y,Y[j+2]=Q.z,Y[j+3]=te.x,Y[j+4]=te.y,Y[j+5]=te.z,Y[j+6]=we.x,Y[j+7]=we.y,Y[j+8]=we.z,V>0){var Pe=Y[j-3],xe=Y[j-2],Fe=Y[j-1],Ae=new s.Vector3(Pe,xe,Fe),be=new s.Vector3(C.x,C.y,C.z),Qe=O.clone(),Xe=new s.Vector3(we.x,we.y,we.z);c.intersectionShape.triangle.push(new a.Triangle(Xe,be,Ae)),c.intersectionShape.triangle.push(new a.Triangle(Ae.clone(),Qe,Xe.clone()))}}M.vertices+=48,j=M.vertices*3,Y[j]=b.x,Y[j+1]=b.y,Y[j+2]=b.z,Y[j+3]=O.x,Y[j+4]=O.y,Y[j+5]=O.z,Y[j+6]=C.x,Y[j+7]=C.y,Y[j+8]=C.z,M.vertices+=3;var U,pe,_e,ie,de,ye,Re,Be,Ce,Ie,je,Ke,Ne,ht,yt,le,ue,ge,$e,ke=M.vertices-3,at=M.vertices-2,ot=M.vertices-1,se=ke*3,Ge=at*3,Je=ot*3;for(V=0,X=I.length-1;V<X;++V){var pt=H+3*V;j=pt*3,pe=M.faceidx,_e=M.lineidx,ie=pt,Ie=ie*3,de=pt+1,je=de*3,ye=pt+2,Ke=ye*3,Re=pt+4,Ne=Re*3,Be=pt+5,ht=Be*3,Ce=pt+3,yt=Ce*3,le=ue=I[V],ge=$e=I[V+1],G[Ie]=le.x,G[je]=ue.x,G[yt]=$e.x,G[Ie+1]=le.y,G[je+1]=ue.y,G[yt+1]=$e.y,G[Ie+2]=le.z,G[je+2]=ue.z,G[yt+2]=$e.z,G[je]=ue.x,G[Ne]=ge.x,G[yt]=$e.x,G[je+1]=ue.y,G[Ne+1]=ge.y,G[yt+1]=$e.y,G[je+2]=ue.z,G[Ne+2]=ge.z,G[yt+2]=$e.z,G[Ke]=ue.x,G[ht]=ge.x,G[Ke+1]=ue.y,G[ht+1]=ge.y,G[Ke+2]=ue.z,G[ht+2]=ge.z,q[pe]=ie,q[pe+1]=de,q[pe+2]=Ce,q[pe+3]=de,q[pe+4]=Re,q[pe+5]=Ce,q[pe+6]=ie,q[pe+7]=Ce,q[pe+8]=ke,q[pe+9]=ye,q[pe+10]=at,q[pe+11]=Be,q[pe+12]=ye,q[pe+13]=ot,q[pe+14]=Be,$[_e]=ie,$[_e+1]=de,$[_e+2]=ie,$[_e+3]=Ce,$[_e+4]=Re,$[_e+5]=Ce,$[_e+6]=ie,$[_e+7]=Ce,$[_e+8]=ye,$[_e+9]=de,$[_e+10]=ye,$[_e+11]=Be,$[_e+12]=Re,$[_e+13]=Be,$[_e+14]=ye,$[_e+15]=ot,$[_e+16]=ye,$[_e+17]=Be,$[_e+18]=ot,$[_e+19]=Be,M.faceidx+=15,M.lineidx+=20}U=[H+45,H+46,H+1,H,H+47,H+2],pe=M.faceidx,_e=M.lineidx,ie=U[0],Ie=ie*3,de=U[1],je=de*3,ye=U[4],Ke=ye*3,Re=U[2],Ne=Re*3,Be=U[5],ht=Be*3,Ce=U[3],yt=Ce*3,le=ue=I[15],ge=$e=I[0],G[Ie]=le.x,G[je]=ue.x,G[yt]=$e.x,G[Ie+1]=le.y,G[je+1]=ue.y,G[yt+1]=$e.y,G[Ie+2]=le.z,G[je+2]=ue.z,G[yt+2]=$e.z,G[je]=ue.x,G[Ne]=ge.x,G[yt]=$e.x,G[je+1]=ue.y,G[Ne+1]=ge.y,G[yt+1]=$e.y,G[je+2]=ue.z,G[Ne+2]=ge.z,G[yt+2]=$e.z,G[Ke]=ue.x,G[ht]=ge.x,G[Ke+1]=ue.y,G[ht+1]=ge.y,G[Ke+2]=ue.z,G[ht+2]=ge.z,N.normalize(),z.normalize(),G[se]=z.x,G[Ge]=G[Je]=N.x,G[se+1]=z.y,G[Ge+1]=G[Je+1]=N.y,G[se+2]=z.z,G[Ge+2]=G[Je+2]=N.z,q[pe]=ie,q[pe+1]=de,q[pe+2]=Ce,q[pe+3]=de,q[pe+4]=Re,q[pe+5]=Ce,q[pe+6]=ie,q[pe+7]=Ce,q[pe+8]=ke,q[pe+9]=ye,q[pe+10]=at,q[pe+11]=Be,q[pe+12]=ye,q[pe+13]=ot,q[pe+14]=Be,$[_e]=ie,$[_e+1]=de,$[_e+2]=ie,$[_e+3]=Ce,$[_e+4]=Re,$[_e+5]=Ce,$[_e+6]=ie,$[_e+7]=Ce,$[_e+8]=ye,$[_e+9]=de,$[_e+10]=ye,$[_e+11]=Be,$[_e+12]=Re,$[_e+13]=Be,$[_e+14]=ye,$[_e+15]=ot,$[_e+16]=ye,$[_e+17]=Be,$[_e+18]=ot,$[_e+19]=Be,M.faceidx+=15,M.lineidx+=20}static updateBoundingFromPoints(c,_,y,b){c.center.set(0,0,0);let C=1/0,E=1/0,p=1/0,f=-1/0,D=-1/0,M=-1/0;c.box&&(C=c.box.min.x,f=c.box.max.x,E=c.box.min.y,D=c.box.max.y,p=c.box.min.z,M=c.box.max.z);for(let k=0,I=b;k<I;k++){var N=y[k*3],O=y[k*3+1],z=y[k*3+2];N<C&&(C=N),O<E&&(E=O),z<p&&(p=z),N>f&&(f=N),O>D&&(D=O),z>M&&(M=z)}c.center.set((f+C)/2,(D+E)/2,(M+p)/2),c.radius=c.center.distanceTo({x:f,y:D,z:M}),c.box={min:{x:C,y:E,z:p},max:{x:f,y:D,z:M}}}static addCustomGeo(c,_,y,b,C){var E=_.addGeoGroup(),p=y.vertexArr,f=y.normalArr,D=y.faceArr;E.vertices=p.length,E.faceidx=D.length;var M,N,O,z,k,I,H,Y,q,G=E.vertexArray,$=E.colorArray;for(b.constructor!==Array&&(Y=b.r,q=b.g,z=b.b),I=0,H=E.vertices;I<H;++I)M=I*3,N=p[I],G[M]=N.x,G[M+1]=N.y,G[M+2]=N.z,b.constructor===Array&&(k=b[I],Y=k.r,q=k.g,z=k.b),$[M]=Y,$[M+1]=q,$[M+2]=z;if(C)for(I=0,H=E.faceidx/3;I<H;++I){M=I*3,O=D[M],z=D[M+1],k=D[M+2];var j=new s.Vector3,V=new s.Vector3,X=new s.Vector3;c.intersectionShape.triangle.push(new a.Triangle(j.copy(p[O]),V.copy(p[z]),X.copy(p[k])))}if(C){var Q=new s.Vector3(0,0,0),te=0;for(let xe=0;xe<_.geometryGroups.length;xe++)Q.add(_.geometryGroups[xe].getCentroid()),te++;Q.divideScalar(te),x.updateBoundingFromPoints(c.boundingSphere,{centroid:Q},G,E.vertices)}if(E.faceArray=new Uint16Array(D),E.truncateArrayBuffers(!0,!0),f.length<E.vertices)E.setNormals();else{var we=E.normalArray=new Float32Array(E.vertices*3),Pe;for(I=0,H=E.vertices;I<H;++I)M=I*3,Pe=f[I],we[M]=Pe.x,we[M+1]=Pe.y,we[M+2]=Pe.z}E.setLineIndices(),E.lineidx=E.lineArray.length}static updateFromStyle(c,_){typeof _.color<"u"?(c.color=_.color||new o.Color,_.color instanceof o.Color||(c.color=o.CC.color(_.color))):c.color=o.CC.color(0),c.wireframe=!!_.wireframe,c.opacity=_.alpha?(0,s.clamp)(_.alpha,0,1):1,typeof _.opacity<"u"&&(c.opacity=(0,s.clamp)(_.opacity,0,1)),c.side=_.side!==void 0?_.side:n.DoubleSide,c.linewidth=typeof _.linewidth>"u"?1:_.linewidth,c.clickable=!!_.clickable,c.callback=(0,v.makeFunction)(_.callback),c.hoverable=!!_.hoverable,c.hover_callback=(0,v.makeFunction)(_.hover_callback),c.unhover_callback=(0,v.makeFunction)(_.unhover_callback),c.hidden=_.hidden,c.frame=_.frame}constructor(c){this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.side=n.DoubleSide,this.stylespec=c||{},this.boundingSphere=new a.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},x.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new n.Geometry(!0),this.linegeo=new n.Geometry(!0)}updateStyle(c){for(var _ in c)this.stylespec[_]=c[_];if(x.updateFromStyle(this,this.stylespec),c.voldata&&c.volscheme){(0,v.adjustVolumeStyle)(c);let y=c.volscheme,b=c.voldata,C=o.CC,E=y.range()||[-1,1];this.geo.setColors(function(p,f,D){let M=b.getVal(p,f,D);return C.color(y.valueToHex(M,E))}),delete this.color}}addCustom(c){c.vertexArr=c.vertexArr||[],c.faceArr=c.faceArr||[],c.normalArr=c.normalArr||[],x.drawCustom(this,this.geo,c)}addSphere(c){c.center||(c.center=new s.Vector3(0,0,0)),c.radius=c.radius?(0,s.clamp)(c.radius,0,1/0):1.5,c.color=o.CC.color(c.color),this.intersectionShape.sphere.push(new a.Sphere(c.center,c.radius)),g.GLDraw.drawSphere(this.geo,c.center,c.radius,c.color,c.quality),this.components.push({centroid:new s.Vector3(c.center.x,c.center.y,c.center.z)});var _=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,_.vertexArray,_.vertices)}addBox(c){var _=c.dimensions||{w:1,h:1,d:1},y;typeof _.w=="number"?y={x:_.w,y:0,z:0}:y=_.w;var b;typeof _.h=="number"?b={x:0,y:_.h,z:0}:b=_.h;var C;typeof _.d=="number"?C={x:0,y:0,z:_.d}:C=_.d;var E=c.corner;E==null&&(c.center!==void 0?E={x:c.center.x-.5*(y.x+b.x+C.x),y:c.center.y-.5*(y.y+b.y+C.y),z:c.center.z-.5*(y.z+b.z+C.z)}:E={x:0,y:0,z:0});var p=[{x:E.x,y:E.y,z:E.z},{x:E.x+y.x,y:E.y+y.y,z:E.z+y.z},{x:E.x+b.x,y:E.y+b.y,z:E.z+b.z},{x:E.x+y.x+b.x,y:E.y+y.y+b.y,z:E.z+y.z+b.z},{x:E.x+C.x,y:E.y+C.y,z:E.z+C.z},{x:E.x+y.x+C.x,y:E.y+y.y+C.y,z:E.z+y.z+C.z},{x:E.x+b.x+C.x,y:E.y+b.y+C.y,z:E.z+b.z+C.z},{x:E.x+y.x+b.x+C.x,y:E.y+y.y+b.y+C.y,z:E.z+y.z+b.z+C.z}],f=[],D=[];f.splice(f.length,0,p[0],p[1],p[2],p[3]),D.splice(D.length,0,0,2,1,1,2,3);var M=4;f.splice(f.length,0,p[2],p[3],p[6],p[7]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,p[4],p[5],p[0],p[1]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,p[6],p[7],p[4],p[5]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,p[3],p[1],p[7],p[5]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4,f.splice(f.length,0,p[2],p[6],p[0],p[4]),D.splice(D.length,0,M+0,M+2,M+1,M+1,M+2,M+3),M+=4;var N=(0,v.extend)({},c);N.vertexArr=f,N.faceArr=D,N.normalArr=[],x.drawCustom(this,this.geo,N);var O=new s.Vector3;this.components.push({centroid:O.addVectors(p[0],p[7]).multiplyScalar(.5)});var z=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,z.vertexArray,z.vertices)}addCylinder(c){var _,y;c.start?_=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):_=new s.Vector3(0,0,0),c.end?(y=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof y.x>"u"&&(y.x=3)):y=new s.Vector3(0,0,0);var b=c.radius||.1,C=o.CC.color(c.color);this.intersectionShape.cylinder.push(new a.Cylinder(_,y,b)),g.GLDraw.drawCylinder(this.geo,_,y,b,C,c.fromCap,c.toCap);var E=new s.Vector3;this.components.push({centroid:E.addVectors(_,y).multiplyScalar(.5)});var p=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,p.vertexArray,p.vertices)}addDashedCylinder(c){c.dashLength=c.dashLength||.25,c.gapLength=c.gapLength||.25;var _;c.start?_=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):_=new s.Vector3(0,0,0);var y;c.end?(y=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof y.x>"u"&&(y.x=3)):y=new s.Vector3(3,0,0);for(var b=c.radius||.1,C=o.CC.color(c.color),E=Math.sqrt(Math.pow(_.x-y.x,2)+Math.pow(_.y-y.y,2)+Math.pow(_.z-y.z,2)),p=E/(c.gapLength+c.dashLength),f=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),D=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),M=new s.Vector3((y.x-_.x)/(E/c.gapLength),(y.y-_.y)/(E/c.gapLength),(y.z-_.z)/(E/c.gapLength)),N=new s.Vector3((y.x-_.x)/(E/c.dashLength),(y.y-_.y)/(E/c.dashLength),(y.z-_.z)/(E/c.dashLength)),O=0;O<p;O++)D=new s.Vector3(f.x+N.x,f.y+N.y,f.z+N.z),this.intersectionShape.cylinder.push(new a.Cylinder(f,D,b)),g.GLDraw.drawCylinder(this.geo,f,D,b,C,c.fromCap,c.toCap),f=new s.Vector3(D.x+M.x,D.y+M.y,D.z+M.z);var z=new s.Vector3;this.components.push({centroid:z.addVectors(_,y).multiplyScalar(.5)});var k=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,k.vertexArray,k.vertices)}addCurve(c){c.points=c.points||[],c.smooth=c.smooth||10,typeof c.fromCap>"u"&&(c.fromCap=2),typeof c.toCap>"u"&&(c.toCap=2);var _=(0,h.subdivide_spline)(c.points,c.smooth);if(_.length<3){console.log("Too few points in addCurve");return}var y=c.radius||.1,b=o.CC.color(c.color),C=0,E=_.length-1,p=_[0].distanceTo(_[1]),f=Math.ceil(2*y/p);if(c.toArrow){E-=f;let O={start:_[E],end:_[_.length-1],radius:y,color:b,mid:1e-4};this.addArrow(O)}if(c.fromArrow){C+=f;let O={start:_[C],end:_[0],radius:y,color:b,mid:1e-4};this.addArrow(O)}for(var D=Math.ceil(_.length/2),M={radius:y,color:b,fromCap:2,toCap:2},N=C;N<E;N++)M.start=_[N],M.end=_[N+1],M.fromCap=2,M.toCap=2,N<D?(M.fromCap=2,M.toCap=0):N>D?(M.fromCap=0,M.toCap=2):(M.fromCap=2,M.toCap=2),this.addCylinder(M)}addLine(c){var _,y;c.start?_=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):_=new s.Vector3(0,0,0),c.end?(y=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof y.x>"u"&&(y.x=3)):y=new s.Vector3(3,0,0);var b=this.geo.updateGeoGroup(2),C=b.vertices,E=C*3,p=b.vertexArray;p[E]=_.x,p[E+1]=_.y,p[E+2]=_.z,p[E+3]=y.x,p[E+4]=y.y,p[E+5]=y.z,b.vertices+=2;var f=b.lineArray,D=b.lineidx;f[D]=C,f[D+1]=C+1,b.lineidx+=2;var M=new s.Vector3;this.components.push({centroid:M.addVectors(_,y).multiplyScalar(.5)}),b=this.geo.updateGeoGroup(0),x.updateBoundingFromPoints(this.boundingSphere,this.components,b.vertexArray,b.vertices)}addArrow(c){if(c.start?c.start=new s.Vector3(c.start.x||0,c.start.y||0,c.start.z||0):c.start=new s.Vector3(0,0,0),c.dir instanceof s.Vector3&&typeof c.length=="number"){var _=c.dir.clone().multiplyScalar(c.length).add(c.start);c.end=_}else c.end?(c.end=new s.Vector3(c.end.x,c.end.y||0,c.end.z||0),typeof c.end.x>"u"&&(c.end.x=3)):c.end=new s.Vector3(3,0,0);c.radius=c.radius||.1,c.radiusRatio=c.radiusRatio||1.618034,c.mid=0<c.mid&&c.mid<1?c.mid:.618034,x.drawArrow(this,this.geo,c);var y=new s.Vector3;this.components.push({centroid:y.addVectors(c.start,c.end).multiplyScalar(.5)});var b=this.geo.updateGeoGroup(0);x.updateBoundingFromPoints(this.boundingSphere,this.components,b.vertexArray,b.vertices)}static distance_from(c,_){return Math.sqrt(Math.pow(c.x-_.x,2)+Math.pow(c.y-_.y,2)+Math.pow(c.z-_.z,2))}static inSelectedRegion(c,_,y){for(var b=0;b<_.length;b++)if(x.distance_from(_[b],c)<=y)return!0;return!1}addIsosurface(c,_,y){var b=_.isoval!==void 0&&typeof _.isoval=="number"?_.isoval:0,C=!!_.voxel,E=_.smoothness===void 0?1:_.smoothness,p=c.size.x,f=c.size.y,D=c.size.z,M=new Int16Array(p*f*D),N=c.data,O,z;for(O=0,z=M.length;O<z;++O)M[O]=-1;var k=new Uint8Array(p*f*D);for(O=0,z=N.length;O<z;++O){var I=b>=0?N[O]-b:b-N[O];I>0&&(k[O]|=x.ISDONE)}var H=[],Y=[];u.MarchingCube.march(k,H,Y,{fulltable:!0,voxel:C,unitCube:c.unit,origin:c.origin,matrix:c.matrix,nX:p,nY:f,nZ:D}),!C&&E>0&&u.MarchingCube.laplacianSmooth(E,H,Y);var q=[],G=[],$=[];if(_.selectedRegion&&_.coords===void 0&&(_.coords=_.selectedRegion),_.coords!==void 0){var j=_.coords[0].x,V=_.coords[0].y,X=_.coords[0].z,Q=_.coords[0].x,te=_.coords[0].y,we=_.coords[0].z;for(let pe=0;pe<_.coords.length;pe++)_.coords[pe].x>j?j=_.coords[pe].x:_.coords[pe].x<Q&&(Q=_.coords[pe].x),_.coords[pe].y>V?V=_.coords[pe].y:_.coords[pe].y<te&&(te=_.coords[pe].y),_.coords[pe].z>X?X=_.coords[pe].z:_.coords[pe].z<we&&(we=_.coords[pe].z);var Pe=2;_.radius!==void 0&&(Pe=_.radius),_.selectedOffset!==void 0&&(Pe=_.selectedOffset),_.seldist!==void 0&&(Pe=_.seldist),Q-=Pe,j+=Pe,te-=Pe,V+=Pe,we-=Pe,X+=Pe;for(let pe=0;pe<H.length;pe++)H[pe].x>Q&&H[pe].x<j&&H[pe].y>te&&H[pe].y<V&&H[pe].z>we&&H[pe].z<X&&x.inSelectedRegion(H[pe],_.coords,Pe)?(q.push(G.length),G.push(H[pe])):q.push(-1);for(let pe=0;pe+2<Y.length;pe+=3)q[Y[pe]]!==-1&&q[Y[pe+1]]!==-1&&q[Y[pe+2]]!==-1&&($.push(Y[pe]-(Y[pe]-q[Y[pe]])),$.push(Y[pe+1]-(Y[pe+1]-q[Y[pe+1]])),$.push(Y[pe+2]-(Y[pe+2]-q[Y[pe+2]])));H=G,Y=$}x.drawCustom(this,this.geo,{vertexArr:H,faceArr:Y,normalArr:[],clickable:_.clickable,hoverable:_.hoverable}),this.updateStyle(_);var xe=new s.Vector3(c.origin.x,c.origin.y,c.origin.z),Fe=new s.Vector3(c.size.x*c.unit.x,c.size.y*c.unit.y,c.size.z*c.unit.z),Ae=new s.Vector3(0,0,0),be=xe.clone(),Qe=xe.clone().add(Fe);for(let pe=0;pe<H.length;pe++)Ae.add(H[pe]),be.max(H[pe]),Qe.min(H[pe]);Ae.divideScalar(H.length);var Xe=Ae.distanceTo(Qe),U=Ae.distanceTo(be);this.boundingSphere.center=Ae,this.boundingSphere.radius=Math.max(Xe,U),typeof y=="function"&&y()}addVolumetricData(c,_,y){c=new l.VolumeData(c,_),this.addIsosurface(c,y)}finalize(){return x.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(c){if(this.renderedShapeObj&&(c.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){x.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&x.updateColor(this.geo,this.color),this.shapeObj=new n.Object3D;var _=null;this.side==n.DoubleSide?_=new n.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors}):_=new n.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors});var y=new n.Mesh(this.geo,_);this.shapeObj.add(y);var b=new n.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),C=new n.Line(this.linegeo,b,n.LineStyle.LinePieces);this.shapeObj.add(C),this.renderedShapeObj=this.shapeObj.clone(),c.add(this.renderedShapeObj)}}removegl(c){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),c.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}x.ISDONE=2,x.drawCustom=function(w,c,_){var y=_,b=y.vertexArr,C=y.faceArr;(b.length===0||C.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var E=_.color;typeof E>"u"&&(E=w.color),E=o.CC.color(E);for(var p=S(y),f=0,D=p.length;f<D;f++)x.addCustomGeo(w,c,p[f],p[f].colorArr?p[f].colorArr:E,_.clickable)};function S(w){var c=64e3;if(w.vertexArr.length<c)return[w];var _=[{vertexArr:[],normalArr:[],faceArr:[]}];w.colorArr&&(_.colorArr=[]);var y=[],b=[],C=0,E=w.faceArr;for(let f=0,D=E.length;f<D;f+=3){let M=_[C];for(let N=0;N<3;N++){var p=E[f+N];y[p]!==C&&(y[p]=C,b[p]=M.vertexArr.length,M.vertexArr.push(w.vertexArr[p]),w.normalArr&&w.normalArr[p]&&M.normalArr.push(w.normalArr[p]),w.colorArr&&w.colorArr[p]&&M.colorArr.push(w.colorArr[p])),M.faceArr.push(b[p])}M.vertexArr.length>=c&&(_.push({vertexArr:[],normalArr:[],faceArr:[]}),w.colorArr&&(_.colorArr=[]),C++)}return _}},"./src/GLViewer.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLViewer:()=>_,createStereoViewer:()=>C,createViewer:()=>y,createViewerGrid:()=>b});var n=r("./src/WebGL/index.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/colors.ts"),o=r("./src/utilities.ts"),u=r("./src/Gradient.ts"),l=r("./src/GLModel.ts"),g=r("./src/Label.ts"),h=r("./src/GLShape.ts"),v=r("./src/VolumeData.ts"),x=r("./src/ProteinSurface4.ts"),S=r("./src/VolumetricRender.ts"),w=r("./node_modules/upng-js/UPNG.js"),c=r.n(w);class _{getRect(){let p=this.container,f=p.getBoundingClientRect();if(f.width==0&&f.height==0&&p.style.display==="none"){let D=p.style.position,M=p.style.visibility;p.style.display="block",p.style.visibility="hidden",p.style.position="absolute",f=p.getBoundingClientRect(),p.style.display="none",p.style.visibility=M,p.style.position=D}return f}getWidth(){return this.getRect().width}getHeight(){return this.getRect().height}setupRenderer(){this.renderer=new n.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH||1,containerHeight:this.HEIGHT||1}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new n.Scene,this.scene.fog=new n.Fog(this.bgColor,100,200),this.modelGroup=new n.Object3D,this.rotationGroup=new n.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new a.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var p=new n.Light(16777215);p.position=new a.Vector3(.2,.2,1).normalize(),p.intensity=1,this.scene.add(p)}initContainer(p){this.container=p,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var p=0;for(let D in this.surfaces)if(this.surfaces.hasOwnProperty(D)){var f=parseInt(D);isNaN(f)||f>p&&(p=f)}return p+1}setSlabAndFog(){let p=this.camera.position.z-this.rotationGroup.position.z;p<1&&(p=1),this.camera.near=p+this.slabNear,this.camera.near<1&&(this.camera.near=1),this.camera.far=p+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=p*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(p){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!p&&this.linkedViewers.length>0))for(var f=this._viewer.getView(),D=0;D<this.linkedViewers.length;D++){var M=this.linkedViewers[D];M.setView(f,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledAtoms.splice(0,this.contextMenuEnabledAtoms.length);for(let p=0,f=this.models.length;p<f;p++){let D=this.models[p];if(D){let M=D.selectedAtoms({clickable:!0}),N=D.selectedAtoms({hoverable:!0}),O=D.selectedAtoms({contextMenuEnabled:!0});for(let z=0;z<N.length;z++)this.hoverables.push(N[z]);for(let z=0;z<M.length;z++)this.clickables.push(M[z]);for(let z=0;z<O.length;z++)this.contextMenuEnabledAtoms.push(O[z])}}for(let p=0,f=this.shapes.length;p<f;p++){let D=this.shapes[p];D&&D.clickable&&this.clickables.push(D),D&&D.hoverable&&this.hoverables.push(D)}}handleClickSelection(p,f,D){let M=this.targetedObjects(p,f,this.clickables);if(M.length){var N=M[0].clickable;N.callback!==void 0&&(typeof N.callback!="function"&&(N.callback=(0,o.makeFunction)(N.callback)),typeof N.callback=="function"&&N.callback(N,this._viewer,D,this.container,M))}}canvasOffset(){let p=this.glDOM,f=p.getBoundingClientRect(),D=p.ownerDocument,M=D.documentElement,N=D.defaultView;return{top:f.top+N.pageYOffset-M.clientTop,left:f.left+N.pageXOffset-M.clientLeft}}setHover(p,f,D){this.current_hover!=p&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,o.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,f,this.container,D)),this.current_hover=p,p&&p.hover_callback!==void 0&&(typeof p.hover_callback!="function"&&(p.hover_callback=(0,o.makeFunction)(p.hover_callback)),typeof p.hover_callback=="function"&&p.hover_callback(p,this._viewer,f,this.container,D)))}handleHoverSelection(p,f,D){if(this.hoverables.length==0)return;let M=this.targetedObjects(p,f,this.hoverables);if(M.length){var N=M[0].clickable;this.setHover(N,D,M),this.current_hover=N}else this.setHover(null)}handleHoverContinue(p,f){let D=this.targetedObjects(p,f,this.hoverables);(D.length==0||D[0]===void 0)&&this.setHover(null),D[0]!==void 0&&D[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(p,{allowTolerance:f=p.targetTouches,tolerance:D=5}={}){let M=this.getX(p),N=this.getY(p);if(f){let O=Math.abs(M-this.mouseStartX),z=Math.abs(N-this.mouseStartY);return O<=D&&z<=D}else return M===this.mouseStartX&&N===this.mouseStartY}calcTouchDistance(p){var f=p.targetTouches[0].pageX-p.targetTouches[1].pageX,D=p.targetTouches[0].pageY-p.targetTouches[1].pageY;return Math.hypot(f,D)}getX(p){var f=p.pageX;return f==null&&(f=p.pageX),p.targetTouches&&p.targetTouches[0]?f=p.targetTouches[0].pageX:p.changedTouches&&p.changedTouches[0]&&(f=p.changedTouches[0].pageX),f}getY(p){var f=p.pageY;return f==null&&(f=p.pageY),p.targetTouches&&p.targetTouches[0]?f=p.targetTouches[0].pageY:p.changedTouches&&p.changedTouches[0]&&(f=p.changedTouches[0].pageY),f}isInViewer(p,f){if(this.viewers!=null){var D=this.WIDTH/this.cols,M=this.HEIGHT/this.rows,N=this.canvasOffset(),O=p-N.left,z=f-N.top,k=this.rows-Math.floor(z/M)-1,I=Math.floor(O/D);if(k!=this.row||I!=this.col)return!1}return!0}adjustZoomToLimits(p){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let f=this.CAMERA_Z-this.config.lowerZoomLimit;p>f&&(p=f)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let f=this.CAMERA_Z-this.config.upperZoomLimit;p<f&&(p=f)}return p>this.CAMERA_Z-1&&(p=this.CAMERA_Z-1),p}static slerp(p,f,D){if(D==1)return f.clone();if(D==0)return p.clone();let M=p.x*f.x+p.y*f.y+p.z*f.z+p.w*f.w;if(M>.9995){let Y=new a.Quaternion(p.x+D*(f.x-p.x),p.y+D*(f.y-p.y),p.z+D*(f.z-p.z),p.w+D*(f.w-p.w));return Y.normalize(),Y}M<0&&(f=f.clone().multiplyScalar(-1),M=-M),M>1?M=1:M<-1&&(M=-1);var N=Math.acos(M),O=N*D,z=f.clone();z.sub(p.clone().multiplyScalar(M)),z.normalize();var k=Math.cos(O),I=Math.sin(O),H=new a.Quaternion(p.x*k+z.x*I,p.y*k+z.y*I,p.z*k+z.z*I,p.w*k+z.w*I);return H.normalize(),H}constructor(p,f={}){this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledAtoms=[],this.current_hover=null,this.hoverDuration=500,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new a.Quaternion(0,0,0,1),this.dq=new a.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=f,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=s.elementColors.defaultColors),this.nomouse=this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=s.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=parseFloat(this.config.camerax)),this._viewer=this,this.container=p,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new n.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new a.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new a.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new n.Raycaster(new a.Vector3(0,0,0),new a.Vector3(0,0,0)),this.projector=new n.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=s.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container));try{typeof this.callback=="function"&&this.callback(this)}catch(D){console.log("error with glviewer callback: "+D)}}targetedObjects(p,f,D){var M={x:p,y:f,z:-1};return Array.isArray(D)||(D=this.selectedAtoms(D)),D.length==0?[]:(this.raycaster.setFromCamera(M,this.camera),this.raycaster.intersectObjects(this.modelGroup,D))}modelToScreen(p){let f=!1;Array.isArray(p)||(p=[p],f=!0);let D=this.renderer.getXRatio(),M=this.renderer.getYRatio(),N=this.col,O=this.row,z=N*(this.WIDTH/D),k=(M-O-1)*(this.HEIGHT/M),I=[],H=this.canvasOffset();return p.forEach(Y=>{let q=new a.Vector3(Y.x,Y.y,Y.z);q.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(q,this.camera);let G=this.WIDTH/D*(q.x+1)/2+H.left+z,$=-(this.HEIGHT/M)*(q.y-1)/2+H.top+k;I.push({x:G,y:$})}),f&&(I=I[0]),I}screenOffsetToModel(p,f,D){var M=p/this.WIDTH,N=f/this.HEIGHT,O=D===void 0?this.rotationGroup.position.z:D,z=this.rotationGroup.quaternion,k=new a.Vector3(0,0,O);return this.projector.projectVector(k,this.camera),k.x+=M*2,k.y-=N*2,this.projector.unprojectVector(k,this.camera),k.z=0,k.applyQuaternion(z),k}screenToModelDistance(p,f){let D=this.canvasOffset(),M=new a.Vector3(f.x,f.y,f.z);M.applyMatrix4(this.modelGroup.matrixWorld);let N=M.clone();this.projector.projectVector(M,this.camera);let O=new a.Vector3((p.x-D.left)*2/this.WIDTH-1,(p.y-D.top)*2/-this.HEIGHT+1,M.z);return this.projector.unprojectVector(O,this.camera),O.distanceTo(N)}setViewChangeCallback(p){(typeof p=="function"||p==null)&&(this.viewChangeCallback=p)}setStateChangeCallback(p){(typeof p=="function"||p==null)&&(this.stateChangeCallback=p)}getConfig(){return this.config}setConfig(p){this.config=p}getInternalState(){var p={models:[],surfaces:[],shapes:[],labels:[]};for(let f=0;f<this.models.length;f++)this.models[f]&&(p.models[f]=this.models[f].getInternalState());return p}setInternalState(p){this.clear();var f=p.models;for(let D=0;D<f.length;D++)f[D]&&(this.models[D]=new l.GLModel(D),this.models[D].setInternalState(f[D]));this.render()}setZoomLimits(p,f){typeof p<"u"&&(this.config.lowerZoomLimit=p),f&&(this.config.upperZoomLimit=f),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(p){p.fov!==void 0&&(this.fov=p.fov,this.camera.fov=this.fov),p.z!==void 0&&(this.CAMERA_Z=p.z,this.camera.z=this.CAMERA_Z),p.orthographic!==void 0&&(this.camera.ortho=p.orthographic)}_handleMouseDown(p){if(p.preventDefault(),!this.scene)return;var f=this.getX(p),D=this.getY(p);if(f===void 0)return;this.isDragging=!0,this.mouseButton=p.which,this.mouseStartX=f,this.mouseStartY=D,this.touchHold=!0,this.touchDistanceStart=0,p.targetTouches&&p.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(p)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let M=this;setTimeout(function(){p.targetTouches&&M.touchHold==!0&&(M.glDOM=M.renderer.domElement,M.glDOM.dispatchEvent(new Event("contextmenu")))},1e3)}_handleMouseUp(p){if(this.touchHold=!1,this.isDragging&&this.scene){var f=this.getX(p),D=this.getY(p);if(this.closeEnoughForClick(p)&&this.isInViewer(f,D)){let M=this.mouseXY(f,D);this.handleClickSelection(M.x,M.y,p)}}this.isDragging=!1}_handleMouseScroll(p){if(p.preventDefault(),!!this.scene){var f=this.getX(p),D=this.getY(p);if(f!==void 0&&!(!this.control_all&&!this.isInViewer(f,D))){var M=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,N=1;if(p.ctrlKey&&(N=-1),p.detail)this.rotationGroup.position.z+=N*M*p.detail/10;else if(p.wheelDelta){let O=p.wheelDelta*600/(p.wheelDelta+600);this.rotationGroup.position.z-=N*M*O/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(p){let f=this;return p=p||1,new Promise(function(D){let M=0,N=f.viewChangeCallback,O=[],z=[],k=Date.now();f.viewChangeCallback=function(){z.push(Date.now()-k),k=Date.now(),O.push(new Promise(I=>{f.getCanvas().toBlob(function(H){H.arrayBuffer().then(I)},"image/png")})),M+=1,M==p&&(f.viewChangeCallback=N,Promise.all(O).then(I=>{let H=[];for(let V=0;V<I.length;V++){let X=(0,w.decode)(I[V]);H.push((0,w.toRGBA8)(X)[0])}let Y=f.getCanvas().width,q=f.getCanvas().height,G=(0,w.encode)(H,Y,q,0,z),$=new Blob([G],{type:"image/png"}),j=new FileReader;j.onload=function(V){D(V.target.result)},j.readAsDataURL($)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(p){this.hoverDuration=p}mouseXY(p,f){let D=this.canvasOffset(),M=this.renderer.getXRatio(),N=this.renderer.getYRatio(),O=this.col,z=this.row,k=O*(this.WIDTH/M),I=(N-z-1)*(this.HEIGHT/N),H=(p-D.left-k)/(this.WIDTH/M)*2-1,Y=-((f-D.top-I)/(this.HEIGHT/N))*2+1;return{x:H,y:Y}}_handleMouseMove(p){clearTimeout(this.hoverTimeout),p.preventDefault();let f=this.getX(p),D=this.getY(p);if(f===void 0)return;let M=this.renderer.getXRatio(),N=this.renderer.getYRatio(),O=this.mouseXY(f,D),z=this;this.current_hover!==null&&this.handleHoverContinue(O.x,O.y);var k=0;if(!(!this.control_all&&!this.isInViewer(f,D))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){z.handleHoverSelection(O.x,O.y,p)},this.hoverDuration)),!!this.isDragging)){var I=(f-this.mouseStartX)/this.WIDTH,H=(D-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&p.targetTouches&&p.targetTouches.length==2){var Y=this.calcTouchDistance(p);k=2,H=(Y-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else p.targetTouches&&p.targetTouches.length==3&&(k=1);I*=M,H*=N;var q=Math.hypot(I,H),G;if(k==3||this.mouseButton==3&&p.ctrlKey)this.slabNear=this.cslabNear+I*100,this.slabFar=this.cslabFar-H*100;else if(k==2||this.mouseButton==3||p.shiftKey)G=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,G<80&&(G=80),this.rotationGroup.position.z=this.cz+H*G,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(k==1||this.mouseButton==2||p.ctrlKey){var $=this.screenOffsetToModel(M*(f-this.mouseStartX),N*(D-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,$)}else if((k===0||this.mouseButton==1)&&q!==0){var j=Math.sin(q*Math.PI)/q;this.dq.x=Math.cos(q*Math.PI),this.dq.y=0,this.dq.z=j*I,this.dq.w=-j*H,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(p){p.preventDefault();var f=this.getX(p),D=this.getY(p);if(!(f!=this.mouseStartX||D!=this.mouseStartY)){var O=this.mouseStartX,z=this.mouseStartY,N=this.canvasOffset();let k=this.mouseXY(O,z),I=k.x,H=k.y,Y=this.targetedObjects(I,H,this.contextMenuEnabledAtoms);var M=null;Y.length&&(M=Y[0].clickable);var N=this.canvasOffset(),O=this.mouseStartX-N.left,z=this.mouseStartY-N.top;this.userContextMenuHandler&&this.userContextMenuHandler(M,O,z,Y)}}setContainer(p){let f=(0,o.getElement)(p)||this.container;return this.initContainer(f),this}setBackgroundColor(p,f){(typeof f>"u"||f<0||f>1)&&(f=1);var D=s.CC.color(p);return this.scene.fog.color=D,this.bgColor=D.getHex(),this.renderer.setClearColorHex(D.getHex(),f),this.show(),this}setProjection(p){this.camera.ortho=p==="orthographic",this.setSlabAndFog()}setViewStyle(p){if(p.style==="outline"){var f={};p.color&&(f.color=s.CC.color(p.color)),p.width&&(f.width=p.width),this.renderer.enableOutline(f)}else this.renderer.disableOutline();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(p){return this.WIDTH=p||this.WIDTH,this.updateSize(),this}setHeight(p){return this.HEIGHT=p||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let p=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0&&(this.container.querySelector("canvas").remove(),this.setupRenderer(),this.initContainer(this.container),p=!0),this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),p){let f=this.renderer.supportedExtensions();f.regen=!0,this._viewer.render(null,f)}else this.show();return this}getModel(p){return p===void 0?this.models.length==0?null:this.models[this.models.length-1]:p instanceof l.GLModel?p:p in this.models?this.models[p]:this.models.length==0?null:this.models[this.models.length-1]}spin(p,f=1){if(clearInterval(this.spinInterval),typeof p>"u"&&(p="y"),typeof p=="boolean")if(p)p="y";else return;Array.isArray(p)&&(p={x:p[0],y:p[1],z:p[2]});var D=this;this.spinInterval=setInterval(function(){!D.getCanvas().isConnected&&D.renderer.isLost()&&clearInterval(D.spinInterval),D.rotate(1*f,p)},25)}animateMotion(p,f,D,M,N,O){var z=20,k=Math.ceil(p/z);k<1&&(k=1),this.incAnim();var I={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(f){let q=new Array(k);for(let V=0;V<k;V++){let X=(V+1)/k,Q={mpos:I.mpos,rz:I.rz,rot:I.rot};Q.mpos=D.clone().sub(I.mpos).multiplyScalar(X).add(I.mpos),Q.rz=I.rz+X*(M-I.rz),Q.rot=_.slerp(I.rot,N,X),Q.cam=O.clone().sub(I.cam).multiplyScalar(X).add(I.cam),q[V]=Q}let G=0,$=this,j=function(){var V=q[G];G+=1,$.modelGroup.position=V.mpos,$.rotationGroup.position.z=V.rz,$.rotationGroup.quaternion=V.rot,$.camera.lookAt(V.cam),G<q.length?setTimeout(j,z):$.decAnim(),$.show()};setTimeout(j,z)}else{var H={};let q=1/k;if(D&&(H.mpos=D.clone().sub(I.mpos).multiplyScalar(q)),typeof M<"u"&&M!=null&&(H.rz=q*(M-I.rz)),N){var Y=_.slerp(I.rot,N,q);H.rot=I.rot.clone().inverse().multiply(Y)}O&&(H.cam=O.clone().sub(I.cam).multiplyScalar(q));let G=0,$=this,j=function(){G+=1,H.mpos&&$.modelGroup.position.add(H.mpos),H.rz&&($.rotationGroup.position.z+=H.rz),H.rot&&$.rotationGroup.quaternion.multiply(H.rot),H.cam&&($.lookingAt.add(H.cam),$.camera.lookAt($.lookingAt)),G<k?setTimeout(j,z):$.decAnim(),$.show()};setTimeout(j,z)}}rotate(p,f="y",D=0,M=!1){if(f=="x"?f={x:1,y:0,z:0}:f=="y"?f={x:0,y:1,z:0}:f=="z"&&(f={x:0,y:0,z:1}),f=="vx"?f={vx:1,vy:0,vz:0}:f=="vy"?f={vx:0,vy:1,vz:0}:f=="vz"&&(f={vx:0,vy:0,vz:1}),typeof f.vx<"u"){var N=new a.Vector3(f.vx,f.vy,f.vz);N.applyQuaternion(this.rotationGroup.quaternion),f={x:N.x,y:N.y,z:N.z}}var O=function(H){var Y=Math.sin(H/2),q=Math.cos(H/2),G=0,$=0,j=0;return G=f.x*Y,$=f.y*Y,j=f.z*Y,new a.Quaternion(G,$,j,q).normalize()},z=Math.PI*p/180,k=O(z);if(D){var I=new a.Quaternion().copy(this.rotationGroup.quaternion).multiply(k);this.animateMotion(D,M,this.modelGroup.position,this.rotationGroup.position.z,I,this.lookingAt)}else this.rotationGroup.quaternion.multiply(k),this.show();return this}surfacesFinished(){for(var p in this.surfaces)if(!this.surfaces[p][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var p=this.modelGroup.position,f=this.rotationGroup.quaternion;return[p.x,p.y,p.z,this.rotationGroup.position.z,f.x,f.y,f.z,f.w]}setView(p,f){return p===void 0||!(p instanceof Array||p.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=p[0],this.modelGroup.position.y=p[1],this.modelGroup.position.z=p[2],this.rotationGroup.position.z=p[3],this.rotationGroup.quaternion.x=p[4],this.rotationGroup.quaternion.y=p[5],this.rotationGroup.quaternion.z=p[6],this.rotationGroup.quaternion.w=p[7],typeof p[8]<"u"&&(this.rotationGroup.position.x=p[8],this.rotationGroup.position.y=p[9]),this.show(f),this)}render(p,f){this.renderer.setViewport(),this.updateClickables();var D=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var M,N;for(f||(f=this.renderer.supportedExtensions()),M=0;M<this.models.length;M++)this.models[M]&&this.models[M].globj(this.modelGroup,f);for(M=0;M<this.shapes.length;M++)this.shapes[M]&&(typeof this.shapes[M].frame>"u"||this.viewer_frame<0||this.shapes[M].frame<0||this.shapes[M].frame==this.viewer_frame?this.shapes[M].globj(this.modelGroup,f):this.shapes[M].removegl(this.modelGroup));for(M=0;M<this.labels.length;M++)this.labels[M]&&typeof this.labels[M].frame<"u"&&this.labels[M].frame>=0&&(this.modelGroup.remove(this.labels[M].sprite),(this.viewer_frame<0||this.labels[M].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[M].sprite));for(M in this.surfaces)if(this.surfaces.hasOwnProperty(M)){var O=this.surfaces[M];for(N=0;N<O.length;N++)if(O.hasOwnProperty(N)){var z=O[N].geo;if(!O[N].finished||f.regen){z.verticesNeedUpdate=!0,z.elementsNeedUpdate=!0,z.normalsNeedUpdate=!0,z.colorsNeedUpdate=!0,z.buffersNeedUpdate=!0,z.boundingSphere=null,O[N].done&&(O[N].finished=!0),O[N].lastGL&&this.modelGroup.remove(O[N].lastGL);var k=null;if(O[N].mat instanceof n.LineBasicMaterial?k=new n.Line(z,O[N].mat):k=new n.Mesh(z,O[N].mat),O[N].mat.transparent&&O[N].mat.opacity==0?k.visible=!1:k.visible=!0,O[N].symmetries.length>1||O[N].symmetries.length==1&&!O[N].symmetries[N].isIdentity()){var I,H=new n.Object3D;for(I=0;I<O[N].symmetries.length;I++){var Y=k.clone();Y.matrix=O[N].symmetries[I],Y.matrixAutoUpdate=!1,H.add(Y)}O[N].lastGL=H,this.modelGroup.add(H)}else O[N].lastGL=k,this.modelGroup.add(k)}}}return this.setView(D),typeof p=="function"&&p(this),this}getModelList(p){let f=[];if(typeof p>"u"||typeof p.model>"u")for(let M=0;M<this.models.length;M++)this.models[M]&&f.push(this.models[M]);else{let M=p.model;Array.isArray(M)||(M=[M]);for(let N=0;N<M.length;N++)if(typeof M[N]=="number"){var D=M[N];D<0&&(D+=this.models.length),f.push(this.models[D])}else f.push(M[N])}return f}getAtomsFromSel(p){var f=[];typeof p>"u"&&(p={});var D=this.getModelList(p);for(let M=0;M<D.length;M++)f=f.concat(D[M].selectedAtoms(p));return f}atomIsSelected(p,f){typeof f>"u"&&(f={});for(var D=this.getModelList(f),M=0;M<D.length;M++)if(D[M].atomIsSelected(p,f))return!0;return!1}selectedAtoms(p){return this.getAtomsFromSel(p)}getUniqueValues(p,f){typeof f>"u"&&(f={});var D=this.getAtomsFromSel(f),M={};for(var N in D)if(D[N].hasOwnProperty(p)){var O=D[N][p];M[O]=!0}return Object.keys(M)}pdbData(p){for(var f=this.getAtomsFromSel(p),D="",M=0,N=f.length;M<N;++M)D+=f[M].pdbline+`
`;return D}zoom(p=2,f=0,D=!1){var M=(this.CAMERA_Z-this.rotationGroup.position.z)/p,N=this.CAMERA_Z-M;return f>0?this.animateMotion(f,D,this.modelGroup.position,this.adjustZoomToLimits(N),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(N),this.show()),this}translate(p,f,D=0,M=!1){var N=p/this.WIDTH,O=f/this.HEIGHT,z=new a.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(z,this.camera),z.x-=N,z.y-=O,this.projector.unprojectVector(z,this.camera),z.z=0;var k=this.lookingAt.clone().add(z);return D>0?this.animateMotion(D,M,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,k):(this.lookingAt=k,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(p,f,D=0,M=!1){var N=this.screenOffsetToModel(p,f),O=this.modelGroup.position.clone().add(N);return D>0?this.animateMotion(D,M,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=O,this.show()),this}fitSlab(p){p=p||{};var f=this.getAtomsFromSel(p),D=(0,o.getExtent)(f),M=D[1][0]-D[0][0],N=D[1][1]-D[0][1],O=D[1][2]-D[0][2],z=Math.hypot(M,N,O);return z<5&&(z=5),this.slabNear=-z/1.9,this.slabFar=z/2,this}center(p={},f=0,D=!1){var M,N,O=this.getAtomsFromSel(p),z=(0,o.getExtent)(O);(0,o.isEmptyObject)(p)?(this.shapes.forEach(X=>{if(X&&X.boundingSphere&&X.boundingSphere.center){var Q=X.boundingSphere.center,te=X.boundingSphere.radius;te>0?(O.push(new a.Vector3(Q.x+te,Q.y,Q.z)),O.push(new a.Vector3(Q.x-te,Q.y,Q.z)),O.push(new a.Vector3(Q.x,Q.y+te,Q.z)),O.push(new a.Vector3(Q.x,Q.y-te,Q.z)),O.push(new a.Vector3(Q.x,Q.y,Q.z+te)),O.push(new a.Vector3(Q.x,Q.y,Q.z-te))):O.push(Q)}}),z=(0,o.getExtent)(O),M=O,N=z):(M=this.getAtomsFromSel({}),N=(0,o.getExtent)(M));var k=new a.Vector3(z[2][0],z[2][1],z[2][2]),I=N[1][0]-N[0][0],H=N[1][1]-N[0][1],Y=N[1][2]-N[0][2],q=Math.hypot(I,H,Y);q<5&&(q=5),this.slabNear=-q/1.9,this.slabFar=q/2,I=z[1][0]-z[0][0],H=z[1][1]-z[0][1],Y=z[1][2]-z[0][2],q=Math.hypot(I,H,Y),q<5&&(q=5);for(var G=25,$=0;$<O.length;$++)if(O[$]){var j=k.distanceToSquared(O[$]);j>G&&(G=j)}q=Math.sqrt(G)*2;var V=k.clone().multiplyScalar(-1);return f>0?this.animateMotion(f,D,V,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=V,this.show()),this}zoomTo(p={},f=0,D=!1){let M=this.getAtomsFromSel(p),N=(0,o.getExtent)(M),O=N;if((0,o.isEmptyObject)(p)){let Q=M&&M.length;if(this.shapes.forEach(te=>{if(te&&te.boundingSphere){if(te.boundingSphere.box){let xe=te.boundingSphere.box;M.push(new a.Vector3(xe.min.x,xe.min.y,xe.min.z)),M.push(new a.Vector3(xe.max.x,xe.max.y,xe.max.z))}else if(te.boundingSphere.center){var we=te.boundingSphere.center,Pe=te.boundingSphere.radius;Pe>0?(M.push(new a.Vector3(we.x+Pe,we.y,we.z)),M.push(new a.Vector3(we.x-Pe,we.y,we.z)),M.push(new a.Vector3(we.x,we.y+Pe,we.z)),M.push(new a.Vector3(we.x,we.y-Pe,we.z)),M.push(new a.Vector3(we.x,we.y,we.z+Pe)),M.push(new a.Vector3(we.x,we.y,we.z-Pe))):M.push(we)}}}),O=(0,o.getExtent)(M),!Q)for(let te=0;te<3;te++)N[2][te]=(O[0][te]+O[1][te])/2}else{let Q=this.getAtomsFromSel({});O=(0,o.getExtent)(Q)}var z=new a.Vector3(N[2][0],N[2][1],N[2][2]),k=O[1][0]-O[0][0],I=O[1][1]-O[0][1],H=O[1][2]-O[0][2],Y=Math.hypot(k,I,H);Y<5&&(Y=5),this.slabNear=-Y/1.9,this.slabFar=Y/2,Object.keys(p).length===0&&(this.slabNear=Math.min(-Y*2,-50),this.slabFar=Math.max(Y*2,50));var q=this.config.minimumZoomToDistance||5;k=N[1][0]-N[0][0],I=N[1][1]-N[0][1],H=N[1][2]-N[0][2],Y=Math.hypot(k,I,H),Y<q&&(Y=q);for(var G=q*q,$=0;$<M.length;$++)if(M[$]){var j=z.distanceToSquared(M[$]);j>G&&(G=j)}Y=Math.sqrt(G)*2;var V=z.clone().multiplyScalar(-1),X=-(Y*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return X=this.adjustZoomToLimits(X),f>0?this.animateMotion(f,D,V,X,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=V,this.rotationGroup.position.z=X,this.show()),this}setSlab(p,f){this.slabNear=p,this.slabFar=f}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(p,f={},D,M=!1){if(D){var N=(0,o.getExtent)(this.getAtomsFromSel(D));f.position={x:N[2][0],y:N[2][1],z:N[2][2]}}var O=new g.Label(p,f);return O.setContext(),this.modelGroup.add(O.sprite),this.labels.push(O),M||this.show(),O}addResLabels(p,f,D=!1){let M=this.labels.length;return this.applyToModels("addResLabels",p,this,f,D),this.show(),this.labels.slice(M)}addPropertyLabels(p,f,D){return this.applyToModels("addPropertyLabels",p,f,this,D),this.show(),this}removeLabel(p){for(var f=0;f<this.labels.length;f++)if(this.labels[f]==p){this.labels.splice(f,1),p.dispose(),this.modelGroup.remove(p.sprite);break}return this.show(),this}removeAllLabels(){for(var p=0;p<this.labels.length;p++)this.labels[p]&&this.labels[p].sprite&&this.modelGroup.remove(this.labels[p].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}setLabelStyle(p,f){return this.modelGroup.remove(p.sprite),p.dispose(),p.stylespec=f,p.setContext(),this.modelGroup.add(p.sprite),this.show(),p}setLabelText(p,f){return this.modelGroup.remove(p.sprite),p.dispose(),p.text=f,p.setContext(),this.modelGroup.add(p.sprite),this.show(),p}addShape(p){p=p||{};var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,this.shapes.push(f),f}removeShape(p){if(!p)return this;for(p.removegl(this.modelGroup),delete this.shapes[p.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var p=0;p<this.shapes.length;p++){var f=this.shapes[p];f&&f.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(p){if(p.hasOwnProperty("x")&&p.hasOwnProperty("y")&&p.hasOwnProperty("z"))return p;var f=this.getAtomsFromSel(p);if(f.length==0)return{x:0,y:0,z:0};var D=(0,o.getExtent)(f);return{x:D[0][0]+(D[1][0]-D[0][0])/2,y:D[0][1]+(D[1][1]-D[0][1])/2,z:D[0][2]+(D[1][2]-D[0][2])/2}}addSphere(p){p=p||{},p.center=this.getSelectionCenter(p.center);var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addSphere(p),this.shapes.push(f),f.finalize(),f}addBox(p={}){p.corner!=null&&(p.corner=this.getSelectionCenter(p.corner)),p.center!=null&&(p.center=this.getSelectionCenter(p.center));var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addBox(p),this.shapes.push(f),f.finalize(),f}addArrow(p={}){p.start=this.getSelectionCenter(p.start),p.end=this.getSelectionCenter(p.end);var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addArrow(p),this.shapes.push(f),f.finalize(),f}addCylinder(p={}){p.start=this.getSelectionCenter(p.start),p.end=this.getSelectionCenter(p.end);var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,p.dashed?f.addDashedCylinder(p):f.addCylinder(p),this.shapes.push(f),f.finalize(),f}addCurve(p={}){var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addCurve(p),this.shapes.push(f),f.finalize(),f}addLine(p={}){p.start=this.getSelectionCenter(p.start),p.end=this.getSelectionCenter(p.end),p.wireframe=!0;var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,p.dashed?f=this.addLineDashed(p,f):f.addLine(p),this.shapes.push(f),f.finalize(),f}addUnitCell(p,f){p=this.getModel(p),f=f||{alabel:"a",blabel:"b",clabel:"c"},f.box=f.box||{},f.astyle=f.astyle||{color:"red",radius:.1,midpos:-1},f.bstyle=f.bstyle||{color:"green",radius:.1,midpos:-1},f.cstyle=f.cstyle||{color:"blue",radius:.1,midpos:-1},f.alabelstyle=f.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},f.blabelstyle=f.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},f.clabelstyle=f.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},p.unitCellObjects&&this.removeUnitCell(p),p.unitCellObjects={shapes:[],labels:[]};var D=p.getCrystData(),M=null;if(D){if(D.matrix)M=D.matrix;else{var N=D.a,O=D.b,z=D.c,k=D.alpha,I=D.beta,H=D.gamma;k=k*Math.PI/180,I=I*Math.PI/180,H=H*Math.PI/180;var Y,q,G;Y=Math.cos(I),q=(Math.cos(k)-Math.cos(I)*Math.cos(H))/Math.sin(H),G=Math.sqrt(Math.max(0,1-Y*Y-q*q)),M=new a.Matrix3(N,O*Math.cos(H),z*Y,0,O*Math.sin(H),z*q,0,0,z*G)}var $=[new a.Vector3(0,0,0),new a.Vector3(1,0,0),new a.Vector3(0,1,0),new a.Vector3(0,0,1),new a.Vector3(1,1,0),new a.Vector3(0,1,1),new a.Vector3(1,0,1),new a.Vector3(1,1,1)];if(D.matrix4)for(let V=0;V<$.length;V++)D.size&&$[V].multiplyVectors($[V],D.size),$[V]=$[V].applyMatrix4(D.matrix4);else for(let V=0;V<$.length;V++)$[V]=$[V].applyMatrix3(M);if(f.box&&!f.box.hidden){f.box.wireframe=!0;var j=new h.GLShape(f.box);j.shapePosition=this.shapes.length,j.addLine({start:$[0],end:$[1]}),j.addLine({start:$[0],end:$[2]}),j.addLine({start:$[1],end:$[4]}),j.addLine({start:$[2],end:$[4]}),j.addLine({start:$[0],end:$[3]}),j.addLine({start:$[3],end:$[5]}),j.addLine({start:$[2],end:$[5]}),j.addLine({start:$[1],end:$[6]}),j.addLine({start:$[4],end:$[7]}),j.addLine({start:$[6],end:$[7]}),j.addLine({start:$[3],end:$[6]}),j.addLine({start:$[5],end:$[7]}),this.shapes.push(j),p.unitCellObjects.shapes.push(j),j.finalize()}if(!f.astyle.hidden){f.astyle.start=$[0],f.astyle.end=$[1];let V=this.addArrow(f.astyle);p.unitCellObjects.shapes.push(V)}if(!f.bstyle.hidden){f.bstyle.start=$[0],f.bstyle.end=$[2];let V=this.addArrow(f.bstyle);p.unitCellObjects.shapes.push(V)}if(!f.cstyle.hidden){f.cstyle.start=$[0],f.cstyle.end=$[3];let V=this.addArrow(f.cstyle);p.unitCellObjects.shapes.push(V)}if(f.alabel){f.alabelstyle.position=$[1];let V=this.addLabel(f.alabel,f.alabelstyle);p.unitCellObjects.labels.push(V)}if(f.blabel){f.blabelstyle.position=$[2];let V=this.addLabel(f.blabel,f.blabelstyle);p.unitCellObjects.labels.push(V)}if(f.clabel){f.clabelstyle.position=$[3];let V=this.addLabel(f.clabel,f.clabelstyle);p.unitCellObjects.labels.push(V)}}}removeUnitCell(p){if(p=this.getModel(p),p.unitCellObjects){let f=this;p.unitCellObjects.shapes.forEach(function(D){f.removeShape(D)}),p.unitCellObjects.labels.forEach(function(D){f.removeLabel(D)})}delete p.unitCellObjects}replicateUnitCell(p=3,f=p,D=f,M,N){M=this.getModel(M);let O=M.getCrystData();if(O){let z=M.selectedAtoms({}),k=O.matrix,I=function(H){return H%2==0?-H/2:Math.ceil(H/2)};for(let H=0;H<p;H++)for(let Y=0;Y<f;Y++)for(let q=0;q<D;q++){if(H==0&&Y==0&&q==0)continue;let G=new a.Vector3(I(H),I(Y),I(q));G.applyMatrix3(k);let $=[];for(let j=0;j<z.length;j++){let V={};for(let X in z[j])V[X]=z[j][X];V.x+=G.x,V.y+=G.y,V.z+=G.z,$.push(V)}M.addAtoms($)}N&&M.assignBonds()}}addLineDashed(p,f){p.dashLength=p.dashLength||.5,p.gapLength=p.gapLength||.5;var D;p.start?D=new a.Vector3(p.start.x||0,p.start.y||0,p.start.z||0):D=new a.Vector3(0,0,0);var M;p.end?M=new a.Vector3(p.end.x,p.end.y||0,p.end.z||0):M=new a.Vector3(0,0,0);var N=new a.Vector3,O=new a.Vector3,z=new a.Vector3,k,I,H,Y=D.clone(),q=0;for(N.subVectors(M,D),k=N.length(),N.normalize(),O=N.clone(),z=N.clone(),O.multiplyScalar(p.dashLength),z.multiplyScalar(p.gapLength),I=O.length(),H=z.length();q<k;){if(q+I>k){p.start=D,p.end=M,f.addLine(p);break}Y.addVectors(D,O),p.start=D,p.end=Y,f.addLine(p),D=Y.clone(),q+=I,Y.addVectors(D,z),D=Y.clone(),q+=H}return f.finalize(),f}addCustom(p){p=p||{};var f=new h.GLShape(p);return f.shapePosition=this.shapes.length,f.addCustom(p),this.shapes.push(f),f.finalize(),f}addVolumetricData(p,f,D={}){var M=new v.VolumeData(p,f);return D.hasOwnProperty("transferfn")?this.addVolumetricRender(M,D):this.addIsosurface(M,D)}addIsosurface(p,f={},D){var M=new h.GLShape(f);return M.shapePosition=this.shapes.length,M.addIsosurface(p,f,D),this.shapes.push(M),M}addVolumetricRender(p,f){f=f||{};var D=new S.GLVolumetricRender(p,f);return D.shapePosition=this.shapes.length,this.shapes.push(D),D}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(p){p?this.scene.fog=new n.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(p){this.viewer_frame=p;let f=this;return new Promise(function(D){var M=f.models.map(function(N){return N.setFrame(p,f)});Promise.all(M).then(function(){D()})})}getFrame(){return this.viewer_frame}getNumFrames(){var p=0;for(let f=0;f<this.models.length;f++)this.models[f].getNumFrames()>p&&(p=this.models[f].getNumFrames());for(let f=0;f<this.shapes.length;f++)this.shapes[f].frame&&this.shapes[f].frame>=p&&(p=this.shapes[f].frame+1);for(let f=0;f<this.labels.length;f++)this.labels[f].frame&&this.labels[f].frame>=p&&(p=this.labels[f].frame+1);return p}animate(p){this.incAnim();var f=100,D="forward",M=0;p=p||{},p.interval&&(f=p.interval),p.loop&&(D=p.loop),p.reps&&(M=p.reps);var N=this.getNumFrames(),O=this,z=0;p.startFrame&&(z=p.startFrame%N);var k=1;p.step&&(k=p.step,M/=k);var I=0,H=N*M,Y=new Date,q,G,$=function(j){Y=new Date,j=="forward"?O.setFrame(z).then(function(){z=(z+k)%N,q()}):j=="backward"?O.setFrame(N-1-z).then(function(){z=(z+k)%N,q()}):O.setFrame(z).then(function(){z+=k,k*=z%(N-1)==0?-1:1,q()})};return q=function(){if(O.render(),!O.getCanvas().isConnected)O.stopAnimate();else if(++I==H||!O.isAnimated())G.cancel(),O.animationTimers.delete(G),O.decAnim();else{var j=f-(new Date().getTime()-Y.getTime());j=j>0?j:0,O.animationTimers.delete(G),G=new o.PausableTimer($,j,D),O.animationTimers.add(G)}},G=new o.PausableTimer($,0,D),this.animationTimers.add(G),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(p){p.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(p){p.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(p){p.resume()}),this}isAnimated(){return this.animated>0}addModel(p,f="",D){D&&!D.defaultcolors?(D.defaultcolors=this.defaultcolors,D.cartoonQuality=D.cartoonQuality||this.config.cartoonQuality):typeof D>"u"&&(D={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality});var M=new l.GLModel(this.models.length,D);return M.addMolData(p,f,D),this.models.push(M),M}addModels(p,f,D){D=D||{},D.multimodel=!0,D.frames=!0;for(var M=l.GLModel.parseMolData(p,f,D),N=0;N<M.length;N++){var O=new l.GLModel(this.models.length,this.defaultcolors);O.setAtomDefaults(M[N]),O.addFrame(M[N]),O.setFrame(0),M.modelData&&O.setModelData(M.modelData[N]),O.setDontDuplicateAtoms(!D.duplicateAssemblyAtoms),this.models.push(O)}return this.models}addModelsAsFrames(p,f,D){D=D||{},D.multimodel=!0,D.frames=!0;var M=new l.GLModel(this.models.length,this.defaultcolors);return M.addMolData(p,f,D),this.models.push(M),M}addAsOneMolecule(p,f,D){D=D||{},D.multimodel=!0,D.onemol=!0;var M=new l.GLModel(this.models.length,this.defaultcolors);return M.addMolData(p,f,D),this.models.push(M),M}removeModel(p){if(p=this.getModel(p),!!p){for(p.removegl(this.modelGroup),delete this.models[p.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var p=0;p<this.models.length;p++){var f=this.models[p];f&&f.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(p,f){var D={};return f===void 0?D.m=this.models.map(function(M){return M.toCDObject(p)}):D.m=[this.models[f].toCDObject()],JSON.stringify(D)}exportVRML(){var p=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new n.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var f=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=p,f}createModelFrom(p,f=!1){for(var D=new l.GLModel(this.models.length,this.defaultcolors),M=0;M<this.models.length;M++)if(this.models[M]){var N=this.models[M].selectedAtoms(p);D.addAtoms(N),f&&this.models[M].removeAtoms(N)}return this.models.push(D),D}applyToModels(p,f,D,M,N,O,z){for(var k=this.getModelList(f),I=0;I<k.length;I++)k[I][p](f,D,M,N,O,z)}setStyle(p,f){return typeof f>"u"&&(f=p,p={}),this.applyToModels("setStyle",p,f,!1),this}addStyle(p,f){return typeof f>"u"&&(f=p,p={}),this.applyToModels("setStyle",p,f,!0),this}setClickable(p,f,D){return this.applyToModels("setClickable",p,f,D),this}setHoverable(p,f,D,M){return this.applyToModels("setHoverable",p,f,D,M),this}enableContextMenu(p,f){return this.applyToModels("enableContextMenu",p,f),this}vibrate(p,f,D,M){return this.applyToModels("vibrate",p,f,D,this,M),this}setColorByProperty(p,f,D,M){return this.applyToModels("setColorByProperty",p,f,D,M),this}setColorByElement(p,f){return this.applyToModels("setColorByElement",p,f),this}static getAtomsWithin(p,f){var D=[];for(let N=0;N<p.length;N++){var M=p[N];typeof M>"u"||M.x<f[0][0]||M.x>f[1][0]||M.y<f[0][1]||M.y>f[1][1]||M.z<f[0][2]||M.z>f[1][2]||D.push(M)}return D}static volume(p){var f=p[1][0]-p[0][0],D=p[1][1]-p[0][1],M=p[1][2]-p[0][2];return f*D*M}carveUpExtent(p,f,D){let M=[],N={};for(let Y=0,q=f.length;Y<q;Y++)N[f[Y].index]=Y;let O=function(Y){let q=[];for(let G=0,$=Y.length;G<$;G++)Y[G].index in N&&q.push(N[Y[G].index]);return q},z=function(Y){let q=[];return q[0]=[Y[0][0],Y[0][1],Y[0][2]],q[1]=[Y[1][0],Y[1][1],Y[1][2]],q},k=function(Y){if(_.volume(Y)<_.maxVolume)return[Y];var q=Y[1][0]-Y[0][0],G=Y[1][1]-Y[0][1],$=Y[1][2]-Y[0][2],j;q>G&&q>$?j=0:G>q&&G>$?j=1:j=2;var V=z(Y),X=z(Y),Q=(Y[1][j]-Y[0][j])/2+Y[0][j];V[1][j]=Q,X[0][j]=Q;var te=k(V),we=k(X);return te.concat(we)},I=k(p),H=6;for(let Y=0,q=I.length;Y<q;Y++){let G=z(I[Y]);G[0][0]-=H,G[0][1]-=H,G[0][2]-=H,G[1][0]+=H,G[1][1]+=H,G[1][2]+=H;let $=_.getAtomsWithin(f,G),j=_.getAtomsWithin(D,I[Y]);M.push({extent:I[Y],atoms:O($),toshow:O(j)})}return M}static generateSurfaceMesh(p,f,D){var M=new n.Geometry(!0),N=M.updateGeoGroup(0),O=[];for(let U=0,pe=p.length;U<pe;U++){var z=p[U];z&&(typeof z.surfaceColor<"u"?O[U]=z.surfaceColor:z.color&&(O[U]=s.CC.color(z.color)))}var k=N.vertexArray,I=f.vertices;for(let U=0,pe=I.length;U<pe;U++){let _e=N.vertices*3;k[_e]=I[U].x,k[_e+1]=I[U].y,k[_e+2]=I[U].z,N.vertices++}var H=N.colorArray;if(D.voldata&&D.volscheme){var Y=D.volscheme,q=D.voldata,G=Y.range()||[-1,1];for(let U=0,pe=I.length;U<pe;U++){let _e=q.getVal(I[U].x,I[U].y,I[U].z),ie=s.CC.color(Y.valueToHex(_e,G)),de=U*3;H[de]=ie.r,H[de+1]=ie.g,H[de+2]=ie.b}}else if(O.length>0)for(let U=0,pe=I.length;U<pe;U++){let _e=I[U].atomid,ie=U*3;H[ie]=O[_e].r,H[ie+1]=O[_e].g,H[ie+2]=O[_e].b}var $=f.faces;N.faceidx=$.length,M.initTypedArrays();var j=N.vertexArray,V=N.normalArray,X,Q,te,we;for(let U=0,pe=$.length;U<pe;U+=3){var Pe=$[U],xe=$[U+1],Fe=$[U+2],Ae=Pe*3,be=xe*3,Qe=Fe*3;X=new a.Vector3(j[Ae],j[Ae+1],j[Ae+2]),Q=new a.Vector3(j[be],j[be+1],j[be+2]),te=new a.Vector3(j[Qe],j[Qe+1],j[Qe+2]),te.subVectors(te,Q),X.subVectors(X,Q),te.cross(X),we=te,we.normalize(),V[Ae]+=we.x,V[be]+=we.x,V[Qe]+=we.x,V[Ae+1]+=we.y,V[be+1]+=we.y,V[Qe+1]+=we.y,V[Ae+2]+=we.z,V[be+2]+=we.z,V[Qe+2]+=we.z}N.faceArray=new Uint16Array($);var Xe=new n.Mesh(M,D);return Xe}static generateMeshSyncHelper(p,f,D,M,N,O){var z=new x.ProteinSurface;return z.initparm(f,p!==1,O),z.fillvoxels(N,D),z.buildboundary(),(p==x.SurfaceType.SES||p==x.SurfaceType.MS)&&(z.fastdistancemap(),z.boundingatom(!1),z.fillvoxelswaals(N,D)),z.marchingcube(p),z.getFacesAndVertices(M)}static getMatWithStyle(p){var f=new n.MeshLambertMaterial;f.vertexColors=n.Coloring.VertexColors;for(var D in p)D==="color"||D==="map"||p.hasOwnProperty(D)&&(f[D]=p[D]);return p.opacity!==void 0&&(p.opacity===1?f.transparent=!1:f.transparent=!0),f}addMesh(p){var f={geo:p.geometry,mat:p.material,done:!0,finished:!1},D=this.nextSurfID();return this.surfaces[D]=f,D}static shallowCopy(p){var f=[];let D=p.length;for(let M=0;M<D;M++)f[M]=(0,o.extend)({},p[M]);return f}addSurface(p,f={},D={},M,N,O){let z=this.nextSurfID(),k=null,I=this,H=x.SurfaceType.VDW;typeof p=="string"?_.surfaceTypeMap[p.toUpperCase()]!==void 0?H=_.surfaceTypeMap[p]:console.log("Surface type : "+p+" is not recognized"):typeof p=="number"&&(H=p);var Y=null,q=null,G=_.shallowCopy(this.getAtomsFromSel(D));M?Y=_.shallowCopy(this.getAtomsFromSel(M)):Y=G,(0,o.adjustVolumeStyle)(f);var $=!1,j;for(j=0;j<this.models.length;j++)if(this.models[j]){var V=this.models[j].getSymmetries();if(V.length>1||V.length==1&&!V[0].isIdentity()){$=!0;break}}var X=function(Ae,be,Qe){N?q=_.shallowCopy(I.getAtomsFromSel(N)):q=Qe;var Xe,U=(0,o.getExtent)(Qe,!0);if(f.map&&f.map.prop){var pe=f.map.prop;let Ne=(0,u.getGradient)(f.map.scheme||f.map.gradient||new u.Gradient.RWB),ht=Ne.range();ht||(ht=(0,o.getPropertyRange)(Qe,pe)),f.colorscheme={prop:pe,gradient:Ne}}for(let Ne=0,ht=be.length;Ne<ht;Ne++)Xe=be[Ne],Xe.surfaceColor=(0,o.getColorFromStyle)(Xe,f);var _e=_.volume(U),ie=I.carveUpExtent(U,be,Qe);if(q&&q.length&&q.length>0){var de=(0,o.getExtent)(q,!0),ye=function(Ne,ht){var yt=function(ge,$e){var ke=ge.extent,at=ke[1][0]-ke[0][0],ot=ke[1][1]-ke[0][1],se=ke[1][2]-ke[0][2],Ge=at-$e[2][0];Ge*=Ge;var Je=ot-$e[2][1];Je*=Je;var pt=se-$e[2][2];return pt*=pt,Ge+Je+pt},le=yt(Ne,de),ue=yt(ht,de);return le-ue};ie.sort(ye)}var Re=[];for(let Ne=0,ht=be.length;Ne<ht;Ne++)Xe=be[Ne],Re[Ne]={x:Xe.x,y:Xe.y,z:Xe.z,serial:Ne,elem:Xe.elem};var Be=!!x.syncSurface;if(Be){var Ce=function(ht){return new Promise(function(yt){for(var le=_.generateMeshSyncHelper(H,ie[ht].extent,ie[ht].atoms,ie[ht].toshow,Re,_e),ue=(0,h.splitMesh)({vertexArr:le.vertices,faceArr:le.faces}),ge=0,$e=ue.length;ge<$e;ge++){le={vertices:ue[ge].vertexArr,faces:ue[ge].faceArr};var ke=_.generateSurfaceMesh(be,le,k);(0,o.mergeGeos)(Ae.geo,ke)}I.render(),yt()})},Ie=[];for(let Ne=0;Ne<ie.length;Ne++)Ie.push(Ce(Ne));return Promise.all(Ie).then(function(){return Ae.done=!0,Promise.resolve(z)})}else{var je=[];H<0&&(H=0);for(let Ne=0,ht=_.numWorkers;Ne<ht;Ne++){var Ke=new Worker($3Dmol.SurfaceWorker);je.push(Ke),Ke.postMessage({type:-1,atoms:Re,volume:_e})}return new Promise(function(Ne,ht){var yt=0,le=function(){!je||!je.length||je.forEach(function(ke){ke&&ke.terminate&&ke.terminate()})},ue=function(ke){for(var at=(0,h.splitMesh)({vertexArr:ke.data.vertices,faceArr:ke.data.faces}),ot=0,se=at.length;ot<se;ot++){var Ge={vertices:at[ot].vertexArr,faces:at[ot].faceArr},Je=_.generateSurfaceMesh(be,Ge,k);(0,o.mergeGeos)(Ae.geo,Je)}I.render(),yt++,yt==ie.length&&(Ae.done=!0,le(),Ne(z))},ge=function(ke){le(),console.log(ke.message+" ("+ke.filename+":"+ke.lineno+")"),ht(ke)};for(let ke=0;ke<ie.length;ke++){var $e=je[ke%je.length];$e.onmessage=ue,$e.onerror=ge,$e.postMessage({type:H,expandedExtent:ie[ke].extent,extendedAtoms:ie[ke].atoms,atomsToShow:ie[ke].toshow})}})}};f=f||{},k=_.getMatWithStyle(f);var Q=[];Q.style=f,Q.atomsel=D,Q.allsel=M,Q.focus=N;var te=null;if($){var we={},Pe={};for(j=0;j<this.models.length;j++)we[j]=[],Pe[j]=[];for(j=0;j<Y.length;j++)we[Y[j].model].push(Y[j]);for(j=0;j<G.length;j++)Pe[G[j].model].push(G[j]);var xe=[];for(j=0;j<this.models.length;j++)Pe[j].length>0&&(Q.push({geo:new n.Geometry(!0),mat:k,done:!1,finished:!1,symmetries:this.models[j].getSymmetries()}),xe.push(X(Q[Q.length-1],we[j],Pe[j])));te=Promise.all(xe)}else Q.push({geo:new n.Geometry(!0),mat:k,done:!1,finished:!1,symmetries:[new a.Matrix4]}),te=X(Q[Q.length-1],Y,G);return this.surfaces[z]=Q,te.surfid=z,O&&typeof O=="function"?(te.then(function(Fe){O(Fe)}),z):te}setSurfaceMaterialStyle(p,f){if((0,o.adjustVolumeStyle)(f),this.surfaces[p]){var D=this.surfaces[p];D.style=f;for(var M=0;M<D.length;M++){var N=D[M].mat=_.getMatWithStyle(f);if(D[M].mat.side=n.FrontSide,f.color){D[M].mat.color=f.color,D[M].geo.colorsNeedUpdate=!0;let O=s.CC.color(f.color);D[M].geo.setColors(function(){return O})}else if(N.voldata&&N.volscheme){let O=N.volscheme,z=N.voldata,k=s.CC,I=O.range()||[-1,1];D[M].geo.setColors(function(H,Y,q){let G=z.getVal(H,Y,q);return k.color(O.valueToHex(G,I))})}D[M].finished=!1}}return this}getSurface(p){return this.surfaces[p]}removeSurface(p){for(var f=this.surfaces[p],D=0;D<f.length;D++)f[D]&&f[D].lastGL&&(f[D].geo!==void 0&&f[D].geo.dispose(),f[D].mat!==void 0&&f[D].mat.dispose(),this.modelGroup.remove(f[D].lastGL));return delete this.surfaces[p],this.show(),this}removeAllSurfaces(){for(var p in this.surfaces)if(this.surfaces.hasOwnProperty(p)){for(var f=this.surfaces[p],D=0;D<f.length;D++)f[D]&&f[D].lastGL&&(f[D].geo!==void 0&&f[D].geo.dispose(),f[D].mat!==void 0&&f[D].mat.dispose(),this.modelGroup.remove(f[D].lastGL));delete this.surfaces[p]}return this.show(),this}jmolMoveTo(){var p=this.modelGroup.position,f="center { "+-p.x+" "+-p.y+" "+-p.z+" }; ",D=this.rotationGroup.quaternion;return f+="moveto .5 quaternion { "+D.x+" "+D.y+" "+D.z+" "+D.w+" };",f}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(p,f){f=f||{};var D=this.getAtomsFromSel(f);if(typeof p=="function")for(let O=0,z=D.length;O<z;O++){let k=D[O];p(k)}else for(let O=0,z=D.length;O<z;O++){var M=D[O];for(let k=0,I=p.length;k<I;k++){let H=p[k];if(H.props)for(var N in H.props)H.props.hasOwnProperty(N)&&this.atomIsSelected(M,H)&&(M.properties||(M.properties={}),M.properties[N]=H.props[N])}}return this}linkViewer(p){return this.linkedViewers.push(p),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(p){this.rotationGroup.position.z=this.CAMERA_Z-p}setAutoEyeSeparation(p,f){var D=this.getPerceivedDistance();return f||(f=5),p||this.camera.position.x>0?this.camera.position.x=D*Math.tan(Math.PI/180*f):this.camera.position.x=-D*Math.tan(Math.PI/180*f),this.camera.lookAt(new a.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(p){this.config.cartoonQuality=p}}_.numWorkers=4,_.maxVolume=64e3,_.surfaceTypeMap={VDW:x.SurfaceType.VDW,MS:x.SurfaceType.MS,SAS:x.SurfaceType.SAS,SES:x.SurfaceType.SES};function y(E,p){if(E=(0,o.getElement)(E),!!E){p=p||{};try{var f=new _(E,p);return f}catch(D){throw"error creating viewer: "+D}}}function b(E,p={},f={}){if(E=(0,o.getElement)(E),!!E){var D=[],M=document.createElement("canvas");f.rows=p.rows,f.cols=p.cols,f.control_all=p.control_all!=null?p.control_all:!1,E.appendChild(M);try{for(var N=0;N<p.rows;N++){for(var O=[],z=0;z<p.cols;z++){f.row=N,f.col=z,f.canvas=M,f.viewers=D,f.control_all=p.control_all;var k=y(E,(0,o.extend)({},f));O.push(k)}D.unshift(O)}}catch(I){throw"error creating viewer grid: "+I}return D}}function C(E){var p=this;if(E=(0,o.getElement)(E),!!E){var f=b(E,{rows:1,cols:2,control_all:!0});this.glviewer1=f[0][0],this.glviewer2=f[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var D=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(N){return typeof p.glviewer1[N]=="function"}),M=0;M<D.length;M++)this[D[M]]=function(N){return function(){var O=this.glviewer1[N].apply(this.glviewer1,arguments),z=this.glviewer2[N].apply(this.glviewer2,arguments);return[O,z]}}(D[M]);this.setCoordinates=function(N,O,z){for(var k=0;k<N.length;k++)N[k].setCoordinates(O,z)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(N){this.glviewer1.render(),this.glviewer2.render(),N&&N(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CustomLinear:()=>h,Gradient:()=>x,GradientType:()=>a,ROYGB:()=>l,RWB:()=>u,Sinebow:()=>g,builtinGradients:()=>v,getGradient:()=>o,normalizeValue:()=>s});var n=r("./src/colors.ts");class a{}function s(S,w,c){return w>=S?(c<S&&(c=S),c>w&&(c=w),{lo:S,hi:w,val:c}):(c>S&&(c=S),c<w&&(c=w),c=S-c+w,{lo:w,hi:S,val:c})}function o(S){if(S instanceof a)return S;if(S.gradient!==void 0&&v[S.gradient]){let w=S.min===void 0?-1:S.min,c=S.max===void 0?1:S.max;return S.mid===void 0?S.colors===void 0?new v[S.gradient](w,c):new v[S.gradient](w,c,S.colors):new v[S.gradient](w,c,S.mid)}return S}class u extends a{constructor(w,c,_){super(),this.gradient="RWB",this.mult=1,this.mid=_,this.min=w,this.max=c,typeof c>"u"&&Array.isArray(w)&&w.length>=2?(this.max=w[1],this.min=w[0]):w&&c&&!Array.isArray(w)&&(this.min=w,this.max=c)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(w,c){var _,y;if(w=this.mult*w,c?(_=c[0],y=c[1]):(_=this.min,y=this.max),w===void 0)return 16777215;var b=s(_,y,w);_=b.lo,y=b.hi,w=b.val;var C=(y+_)/2;c&&typeof c[2]<"u"?C=c[2]:typeof this.mid<"u"?C=this.mid:C=(_+y)/2;var E,p;return w<C?(E=Math.floor(255*Math.sqrt((w-_)/(C-_))),p=16711680+256*E+E,p):w>C?(E=Math.floor(255*Math.sqrt(1-(w-C)/(y-C))),p=65536*E+256*E+255,p):16777215}}class l extends a{constructor(w,c){super(),this.gradient="ROYGB",this.mult=1,this.min=w,this.max=c,typeof c>"u"&&Array.isArray(w)&&w.length>=2?(this.max=w[1],this.min=w[0]):w&&c&&!Array.isArray(w)&&(this.min=w,this.max=c)}valueToHex(w,c){var _,y;if(w=this.mult*w,c?(_=c[0],y=c[1]):(_=this.min,y=this.max),typeof w>"u")return 16777215;var b=s(_,y,w);_=b.lo,y=b.hi,w=b.val;var C=(_+y)/2,E=(_+C)/2,p=(C+y)/2,f,D;return w<E?(f=Math.floor(255*Math.sqrt((w-_)/(E-_))),D=16711680+256*f+0,D):w<C?(f=Math.floor(255*Math.sqrt(1-(w-E)/(C-E))),D=65536*f+65280+0,D):w<p?(f=Math.floor(255*Math.sqrt((w-C)/(p-C))),D=65280+1*f,D):(f=Math.floor(255*Math.sqrt(1-(w-p)/(y-p))),D=0+256*f+255,D)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class g extends a{constructor(w,c){super(),this.gradient="Sinebow",this.mult=1,this.min=w,this.max=c,typeof c>"u"&&Array.isArray(w)&&w.length>=2&&(this.max=w[1],this.min=w[0]),c<w&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(w,c){var _,y;if(w=this.mult*w,c?(_=c[0],y=c[1]):(_=this.min,y=this.max),typeof w>"u")return 16777215;var b=x.normalizeValue(_,y,w);_=b.lo,y=b.hi,w=b.val;var C=(w-_)/(y-_),E=5*C/6+.5,p=Math.sin(Math.PI*E);p*=p*255;var f=Math.sin(Math.PI*(E+1/3));f*=f*255;var D=Math.sin(Math.PI*(E+2/3));return D*=D*255,65536*Math.floor(p)+256*Math.floor(D)+1*Math.floor(f)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class h extends a{constructor(w,c,_){super(),this.gradient="linear",this.colors=new Array;var y;if(Array.isArray(w)&&w.length>=2?(this.max=w[1],this.min=w[0],y=c):(this.min=w,this.max=c,y=_),y)for(let b of y)this.colors.push(n.CC.color(b));else this.colors.push(n.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(w,c){var _,y;if(c?(_=c[0],y=c[1]):(_=this.min,y=this.max),w===void 0)return 16777215;var b=s(_,y,w);_=b.lo,y=b.hi,w=b.val;let C=this.colors.length,E=(y-_)/C,p=Math.min(Math.floor((w-_)/E),C-1),f=Math.min(p+1,C-1),D=(w-_-p*E)/E,M=this.colors[p],N=this.colors[f];return new n.Color(M.r+D*(N.r-M.r),M.g+D*(N.g-M.g),M.b+D*(N.b-M.b)).getHex()}}let v={rwb:u,RWB:u,roygb:l,ROYGB:l,sinebow:g,linear:h};class x extends a{valueToHex(w,c){return 0}range(){return null}}x.RWB=u,x.ROYGB=l,x.Sinebow=g,x.CustomLinear=h,x.builtinGradients=v,x.normalizeValue=s,x.getGradient=o},"./src/Label.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Label:()=>g,LabelCount:()=>o});var n=r("./src/WebGL/index.ts"),a=r("./src/Gradient.ts"),s=r("./src/colors.ts");let o=0;function u(h,v,x,S,w,c,_){h.beginPath(),h.moveTo(v+c,x),h.lineTo(v+S-c,x),h.quadraticCurveTo(v+S,x,v+S,x+c),h.lineTo(v+S,x+w-c),h.quadraticCurveTo(v+S,x+w,v+S-c,x+w),h.lineTo(v+c,x+w),h.quadraticCurveTo(v,x+w,v,x+w-c),h.lineTo(v,x+c),h.quadraticCurveTo(v,x,v+c,x),h.closePath(),h.fill(),_&&h.stroke()}function l(h,v,x){var S=x;return typeof h<"u"&&(h instanceof s.Color?S=h.scaled():(S=s.CC.color(h),typeof S.scaled<"u"&&(S=S.scaled()))),typeof v<"u"&&(S.a=parseFloat(v)),S}class g{constructor(v,x){this.id=o++,this.stylespec=x||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new n.Sprite,this.text=v,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}setContext(){var v=this.stylespec,x=typeof v.useScreen>"u"?!1:v.useScreen,S=v.showBackground;(S==="0"||S==="false")&&(S=!1),typeof S>"u"&&(S=!0);var w=v.font?v.font:"sans-serif",c=parseInt(v.fontSize)?parseInt(v.fontSize):18,_=l(v.fontColor,v.fontOpacity,{r:255,g:255,b:255,a:1}),y=v.padding?v.padding:4,b=v.borderThickness?v.borderThickness:0,C=l(v.backgroundColor,v.backgroundOpacity,{r:0,g:0,b:0,a:1}),E=l(v.borderColor,v.borderOpacity,C),p=v.position?v.position:{x:-10,y:1,z:1},f=v.inFront!==void 0?v.inFront:!0;(f==="false"||f==="0")&&(f=!1);var D=v.alignment||n.SpriteAlignment.topLeft;typeof D=="string"&&D in n.SpriteAlignment&&(D=n.SpriteAlignment[D]);var M="";v.bold&&(M="bold "),this.context.font=M+c+"px  "+w;var N=this.context.measureText(this.text),O=N.width;S||(b=0);var z=O+2.5*b+2*y,k=c*1.25+2*b+2*y;if(v.backgroundImage){var I=v.backgroundImage,H=v.backgroundWidth?v.backgroundWidth:I.width,Y=v.backgroundHeight?v.backgroundHeight:I.height;H>z&&(z=H),Y>k&&(k=Y)}if(this.canvas.width=z,this.canvas.height=k,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),M="",v.bold&&(M="bold "),this.context.font=M+c+"px  "+w,this.context.fillStyle="rgba("+C.r+","+C.g+","+C.b+","+C.a+")",this.context.strokeStyle="rgba("+E.r+","+E.g+","+E.b+","+E.a+")",v.backgroundGradient){let G=this.context.createLinearGradient(0,k/2,z,k/2),$=a.Gradient.getGradient(v.backgroundGradient),j=$.range(),V=-1,X=1;j&&(V=j[0],X=j[1]);let Q=X-V;for(let te=0;te<1.01;te+=.1){let we=l($.valueToHex(V+Q*te)),Pe="rgba("+we.r+","+we.g+","+we.b+","+we.a+")";G.addColorStop(te,Pe)}this.context.fillStyle=G}this.context.lineWidth=b,S&&u(this.context,b,b,z-2*b,k-2*b,6,b>0),v.backgroundImage&&this.context.drawImage(I,0,0,z,k),this.context.fillStyle="rgba("+_.r+","+_.g+","+_.b+","+_.a+")",this.context.fillText(this.text,b+y,c+b+y,O);var q=new n.Texture(this.canvas);q.needsUpdate=!0,this.sprite.material=new n.SpriteMaterial({map:q,useScreenCoordinates:x,alignment:D,depthTest:!f,screenOffset:v.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(p.x,p.y,p.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MarchingCube:()=>l,MarchingCubeInitializer:()=>u,PointGrid:()=>g,ProteinSurface:()=>h,SurfaceType:()=>a,setSyncSurface:()=>o,syncSurface:()=>s});var n=r("./src/WebGL/math/index.ts"),a;(function(v){v[v.VDW=1]="VDW",v[v.MS=2]="MS",v[v.SAS=3]="SAS",v[v.SES=4]="SES"})(a||(a={}));var s=!1;function o(v){s=v}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(s=!0);class u{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(x,S,w,c){let _=!!c.fulltable,y=c.hasOwnProperty("origin")&&c.origin.hasOwnProperty("x")?c.origin:{x:0,y:0,z:0},b=!!c.voxel,C=c.matrix,E=c.nX||0,p=c.nY||0,f=c.nZ||0,D=c.scale||1,M=null;c.unitCube?M=c.unitCube:M={x:D,y:D,z:D};let N=new Int32Array(E*p*f),O,z;for(O=0,z=N.length;O<z;++O)N[O]=-1;let k=function(q,G,$,j,V,X){let Q={x:0,y:0,z:0},te=!!(j&1<<V),we=!!(j&1<<X),Pe=V;if(!te&&we&&(Pe=X),Pe&1&&$++,Pe&2&&G++,Pe&4&&q++,C){let Fe=new n.Vector3(q,G,$);Fe=Fe.applyMatrix4(C),Q={x:Fe.x,y:Fe.y,z:Fe.z}}else Q.x=y.x+M.x*q,Q.y=y.y+M.y*G,Q.z=y.z+M.z*$;let xe=(p*q+G)*f+$;return b?(S.push(Q),S.length-1):(N[xe]<0&&(N[xe]=S.length,S.push(Q)),N[xe])},I=new Int32Array(12),H=_?this.edgeTable2:this.edgeTable,Y=_?this.triTable2:this.triTable;for(O=0;O<E-1;++O)for(let q=0;q<p-1;++q)for(let G=0;G<f-1;++G){let $=0;for(let X=0;X<8;++X){let Q=(p*(O+((X&4)>>2))+q+((X&2)>>1))*f+G+(X&1),te=!!(x[Q]&this.ISDONE);$|=te<<X}if($===0||$===255)continue;let j=H[$];if(j===0)continue;let V=Y[$];j&1&&(I[0]=k(O,q,G,$,0,1)),j&2&&(I[1]=k(O,q,G,$,1,3)),j&4&&(I[2]=k(O,q,G,$,3,2)),j&8&&(I[3]=k(O,q,G,$,2,0)),j&16&&(I[4]=k(O,q,G,$,4,5)),j&32&&(I[5]=k(O,q,G,$,5,7)),j&64&&(I[6]=k(O,q,G,$,7,6)),j&128&&(I[7]=k(O,q,G,$,6,4)),j&256&&(I[8]=k(O,q,G,$,0,4)),j&512&&(I[9]=k(O,q,G,$,1,5)),j&1024&&(I[10]=k(O,q,G,$,3,7)),j&2048&&(I[11]=k(O,q,G,$,2,6));for(let X=0;X<V.length;X+=3){let Q=I[V[X]],te=I[V[X+1]],we=I[V[X+2]];b&&X>=3&&(S.push(S[Q]),Q=S.length-1,S.push(S[te]),te=S.length-1,S.push(S[we]),we=S.length-1),w.push(Q),w.push(te),w.push(we)}}}laplacianSmooth(x,S,w){let c=new Array(S.length),_,y,b,C,E;for(_=0,y=S.length;_<y;_++)c[_]={x:0,y:0,z:0};let p=new Array(20),f;for(_=0;_<20;_++)p[_]=new Array(S.length);for(_=0,y=S.length;_<y;_++)p[0][_]=0;for(_=0,y=w.length/3;_<y;_++){let N=_*3,O=_*3+1,z=_*3+2;for(f=!0,b=0,C=p[0][w[N]];b<C;b++)if(w[O]==p[b+1][w[N]]){f=!1;break}for(f&&(p[0][w[N]]++,p[p[0][w[N]]][w[N]]=w[O]),f=!0,b=0,C=p[0][w[N]];b<C;b++)if(w[z]==p[b+1][w[N]]){f=!1;break}for(f&&(p[0][w[N]]++,p[p[0][w[N]]][w[N]]=w[z]),f=!0,b=0,C=p[0][w[O]];b<C;b++)if(w[N]==p[b+1][w[O]]){f=!1;break}for(f&&(p[0][w[O]]++,p[p[0][w[O]]][w[O]]=w[N]),f=!0,b=0,C=p[0][w[O]];b<C;b++)if(w[z]==p[b+1][w[O]]){f=!1;break}for(f&&(p[0][w[O]]++,p[p[0][w[O]]][w[O]]=w[z]),f=!0,b=0;b<p[0][w[z]];b++)if(w[N]==p[b+1][w[z]]){f=!1;break}for(f&&(p[0][w[z]]++,p[p[0][w[z]]][w[z]]=w[N]),f=!0,b=0,C=p[0][w[z]];b<C;b++)if(w[O]==p[b+1][w[z]]){f=!1;break}f&&(p[0][w[z]]++,p[p[0][w[z]]][w[z]]=w[O])}let D=1,M=.5;for(E=0;E<x;E++){for(_=0,y=S.length;_<y;_++)if(p[0][_]<3)c[_].x=S[_].x,c[_].y=S[_].y,c[_].z=S[_].z;else if(p[0][_]==3||p[0][_]==4){for(c[_].x=0,c[_].y=0,c[_].z=0,b=0,C=p[0][_];b<C;b++)c[_].x+=S[p[b+1][_]].x,c[_].y+=S[p[b+1][_]].y,c[_].z+=S[p[b+1][_]].z;c[_].x+=M*S[_].x,c[_].y+=M*S[_].y,c[_].z+=M*S[_].z,c[_].x/=M+p[0][_],c[_].y/=M+p[0][_],c[_].z/=M+p[0][_]}else{for(c[_].x=0,c[_].y=0,c[_].z=0,b=0,C=p[0][_];b<C;b++)c[_].x+=S[p[b+1][_]].x,c[_].y+=S[p[b+1][_]].y,c[_].z+=S[p[b+1][_]].z;c[_].x+=D*S[_].x,c[_].y+=D*S[_].y,c[_].z+=D*S[_].z,c[_].x/=D+p[0][_],c[_].y/=D+p[0][_],c[_].z/=D+p[0][_]}for(_=0,y=S.length;_<y;_++)S[_].x=c[_].x,S[_].y=c[_].y,S[_].z=c[_].z}}}let l=new u;class g{constructor(x,S,w){this.data=new Int32Array(x*S*w*3),this.width=S,this.height=w}set(x,S,w,c){let _=((x*this.width+S)*this.height+w)*3;this.data[_]=c.ix,this.data[_+1]=c.iy,this.data[_+2]=c.iz}get(x,S,w){let c=((x*this.width+S)*this.height+w)*3;return{ix:this.data[c],iy:this.data[c+1],iz:this.data[c+2]}}}class h{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],h.MarchingCube||(h.MarchingCube=new u)}getVDWIndex(x){return!x.elem||typeof this.vdwRadii[x.elem]>"u"?"X":x.elem}getFacesAndVertices(x){let S={};for(let _=0,y=x.length;_<y;_++)S[x[_]]=!0;let w=this.verts;for(let _=0,y=w.length;_<y;_++)w[_].x=w[_].x/this.scaleFactor-this.ptranx,w[_].y=w[_].y/this.scaleFactor-this.ptrany,w[_].z=w[_].z/this.scaleFactor-this.ptranz;let c=[];for(let _=0,y=this.faces.length;_<y;_+=3){let b=this.faces[_],C=this.faces[_+1],E=this.faces[_+2],p=w[b].atomid,f=w[C].atomid,D=w[E].atomid,M=p;f<M&&(M=f),D<M&&(M=D),S[M]&&b!==C&&C!==E&&b!==E&&(c.push(b),c.push(C),c.push(E))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:w,faces:c}}initparm(x,S,w){w>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let c=1/this.scaleFactor*5.5;this.pminx=x[0][0],this.pmaxx=x[1][0],this.pminy=x[0][1],this.pmaxy=x[1][1],this.pminz=x[0][2],this.pmaxz=x[1][2],S?(this.pminx-=this.probeRadius+c,this.pminy-=this.probeRadius+c,this.pminz-=this.probeRadius+c,this.pmaxx+=this.probeRadius+c,this.pmaxy+=this.probeRadius+c,this.pmaxz+=this.probeRadius+c):(this.pminx-=c,this.pminy-=c,this.pminz-=c,this.pmaxx+=c,this.pmaxy+=c,this.pmaxz+=c),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(S),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(x){let S={};for(let w in this.vdwRadii){let c=this.vdwRadii[w];x?S[w]=(c+this.probeRadius)*this.scaleFactor+.5:S[w]=c*this.scaleFactor+.5;let _=S[w]*S[w];this.widxz[w]=Math.floor(S[w])+1,this.depty[w]=new Int32Array(this.widxz[w]*this.widxz[w]);let y=0;for(let b=0;b<this.widxz[w];b++)for(let C=0;C<this.widxz[w];C++){let E=b*b+C*C;if(E>_)this.depty[w][y]=-1;else{let p=Math.sqrt(_-E);this.depty[w][y]=Math.floor(p)}y++}}}fillvoxels(x,S){for(let w=0,c=this.vpBits.length;w<c;w++)this.vpBits[w]=0,this.vpDistance[w]=-1,this.vpAtomID[w]=-1;for(let w in S){let c=x[S[w]];c!==void 0&&this.fillAtom(c,x)}for(let w=0,c=this.vpBits.length;w<c;w++)this.vpBits[w]&this.INOUT&&(this.vpBits[w]|=this.ISDONE)}fillAtom(x,S){let w=Math.floor(.5+this.scaleFactor*(x.x+this.ptranx)),c=Math.floor(.5+this.scaleFactor*(x.y+this.ptrany)),_=Math.floor(.5+this.scaleFactor*(x.z+this.ptranz)),y=this.getVDWIndex(x),b=0,C=this.pWidth*this.pHeight;for(let E=0,p=this.widxz[y];E<p;E++)for(let f=0;f<p;f++){if(this.depty[y][b]!=-1){for(let D=-1;D<2;D++)for(let M=-1;M<2;M++)for(let N=-1;N<2;N++)if(D!==0&&M!==0&&N!==0){let O=D*E,z=N*f;for(let k=0;k<=this.depty[y][b];k++){let I=k*M,H=w+O,Y=c+I,q=_+z;if(H<0||Y<0||q<0||H>=this.pLength||Y>=this.pWidth||q>=this.pHeight)continue;let G=H*C+Y*this.pHeight+q;if(!(this.vpBits[G]&this.INOUT))this.vpBits[G]|=this.INOUT,this.vpAtomID[G]=x.serial;else{let $=S[this.vpAtomID[G]];if($.serial!=x.serial){let j=w+O-Math.floor(.5+this.scaleFactor*($.x+this.ptranx)),V=c+I-Math.floor(.5+this.scaleFactor*($.y+this.ptrany)),X=_+z-Math.floor(.5+this.scaleFactor*($.z+this.ptranz));O*O+I*I+z*z<j*j+V*V+X*X&&(this.vpAtomID[G]=x.serial)}}}}}b++}}fillvoxelswaals(x,S){for(let w=0,c=this.vpBits.length;w<c;w++)this.vpBits[w]&=~this.ISDONE;for(let w in S){let c=x[S[w]];c!==void 0&&this.fillAtomWaals(c,x)}}fillAtomWaals(x,S){let w=0,c=Math.floor(.5+this.scaleFactor*(x.x+this.ptranx)),_=Math.floor(.5+this.scaleFactor*(x.y+this.ptrany)),y=Math.floor(.5+this.scaleFactor*(x.z+this.ptranz)),b=this.getVDWIndex(x),C=this.pWidth*this.pHeight;for(let E=0,p=this.widxz[b];E<p;E++)for(let f=0;f<p;f++){if(this.depty[b][w]!=-1){for(let D=-1;D<2;D++)for(let M=-1;M<2;M++)for(let N=-1;N<2;N++)if(D!==0&&M!==0&&N!==0){let O=D*E,z=N*f;for(let k=0;k<=this.depty[b][w];k++){let I=k*M,H=c+O,Y=_+I,q=y+z;if(H<0||Y<0||q<0||H>=this.pLength||Y>=this.pWidth||q>=this.pHeight)continue;let G=H*C+Y*this.pHeight+q;if(!(this.vpBits[G]&this.ISDONE))this.vpBits[G]|=this.ISDONE,this.vpAtomID[G]=x.serial;else{let $=S[this.vpAtomID[G]];if($.serial!=x.serial){let j=c+O-Math.floor(.5+this.scaleFactor*($.x+this.ptranx)),V=_+I-Math.floor(.5+this.scaleFactor*($.y+this.ptrany)),X=y+z-Math.floor(.5+this.scaleFactor*($.z+this.ptranz));O*O+I*I+z*z<j*j+V*V+X*X&&(this.vpAtomID[G]=x.serial)}}}}}w++}}buildboundary(){let x=this.pWidth*this.pHeight;for(let S=0;S<this.pLength;S++)for(let w=0;w<this.pHeight;w++)for(let c=0;c<this.pWidth;c++){let _=S*x+c*this.pHeight+w;if(this.vpBits[_]&this.INOUT){let y=0;for(;y<26;){let b=S+this.nb[y][0],C=w+this.nb[y][2],E=c+this.nb[y][1];if(b>-1&&b<this.pLength&&E>-1&&E<this.pWidth&&C>-1&&C<this.pHeight&&!(this.vpBits[b*x+E*this.pHeight+C]&this.INOUT)){this.vpBits[_]|=this.ISBOUND;break}else y++}}}}fastdistancemap(){let x=new g(this.pLength,this.pWidth,this.pHeight),S=this.pWidth*this.pHeight,w=this.cutRadius*this.cutRadius,c=[],_=[],y;for(let E=0;E<this.pLength;E++)for(let p=0;p<this.pWidth;p++)for(let f=0;f<this.pHeight;f++)if(y=E*S+p*this.pHeight+f,this.vpBits[y]&=~this.ISDONE,this.vpBits[y]&this.INOUT&&this.vpBits[y]&this.ISBOUND){let D={ix:E,iy:p,iz:f};x.set(E,p,f,D),c.push(D),this.vpDistance[y]=0,this.vpBits[y]|=this.ISDONE,this.vpBits[y]&=~this.ISBOUND}do{_=this.fastoneshell(c,x),c=[];for(let E=0,p=_.length;E<p;E++)y=S*_[E].ix+this.pHeight*_[E].iy+_[E].iz,this.vpBits[y]&=~this.ISBOUND,this.vpDistance[y]<=1.0404*w&&c.push({ix:_[E].ix,iy:_[E].iy,iz:_[E].iz})}while(c.length!==0);c=[],_=[],x=null;let b=this.scaleFactor-.5;b<0&&(b=0);let C=w-.5/(.1+b);for(let E=0;E<this.pLength;E++)for(let p=0;p<this.pWidth;p++)for(let f=0;f<this.pHeight;f++)y=E*S+p*this.pHeight+f,this.vpBits[y]&=~this.ISBOUND,this.vpBits[y]&this.INOUT&&(!(this.vpBits[y]&this.ISDONE)||this.vpBits[y]&this.ISDONE&&this.vpDistance[y]>=C)&&(this.vpBits[y]|=this.ISBOUND)}fastoneshell(x,S){let w,c,_,y,b,C,E,p,f,D=[];if(x.length===0)return D;let M={ix:-1,iy:-1,iz:-1},N=this.pWidth*this.pHeight;for(let O=0,z=x.length;O<z;O++){w=x[O].ix,c=x[O].iy,_=x[O].iz,p=S.get(w,c,_);for(let k=0;k<6;k++)M.ix=w+this.nb[k][0],M.iy=c+this.nb[k][1],M.iz=_+this.nb[k][2],M.ix<this.pLength&&M.ix>-1&&M.iy<this.pWidth&&M.iy>-1&&M.iz<this.pHeight&&M.iz>-1&&(f=M.ix*N+this.pHeight*M.iy+M.iz,this.vpBits[f]&this.INOUT&&!(this.vpBits[f]&this.ISDONE)?(S.set(M.ix,M.iy,_+this.nb[k][2],p),y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,this.vpDistance[f]=E,this.vpBits[f]|=this.ISDONE,this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})):this.vpBits[f]&this.INOUT&&this.vpBits[f]&this.ISDONE&&(y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,E<this.vpDistance[f]&&(S.set(M.ix,M.iy,M.iz,p),this.vpDistance[f]=E,this.vpBits[f]&this.ISBOUND||(this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})))))}for(let O=0,z=x.length;O<z;O++){w=x[O].ix,c=x[O].iy,_=x[O].iz,p=S.get(w,c,_);for(let k=6;k<18;k++)M.ix=w+this.nb[k][0],M.iy=c+this.nb[k][1],M.iz=_+this.nb[k][2],M.ix<this.pLength&&M.ix>-1&&M.iy<this.pWidth&&M.iy>-1&&M.iz<this.pHeight&&M.iz>-1&&(f=M.ix*N+this.pHeight*M.iy+M.iz,this.vpBits[f]&this.INOUT&&!(this.vpBits[f]&this.ISDONE)?(S.set(M.ix,M.iy,_+this.nb[k][2],p),y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,this.vpDistance[f]=E,this.vpBits[f]|=this.ISDONE,this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})):this.vpBits[f]&this.INOUT&&this.vpBits[f]&this.ISDONE&&(y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,E<this.vpDistance[f]&&(S.set(M.ix,M.iy,M.iz,p),this.vpDistance[f]=E,this.vpBits[f]&this.ISBOUND||(this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})))))}for(let O=0,z=x.length;O<z;O++){w=x[O].ix,c=x[O].iy,_=x[O].iz,p=S.get(w,c,_);for(let k=18;k<26;k++)M.ix=w+this.nb[k][0],M.iy=c+this.nb[k][1],M.iz=_+this.nb[k][2],M.ix<this.pLength&&M.ix>-1&&M.iy<this.pWidth&&M.iy>-1&&M.iz<this.pHeight&&M.iz>-1&&(f=M.ix*N+this.pHeight*M.iy+M.iz,this.vpBits[f]&this.INOUT&&!(this.vpBits[f]&this.ISDONE)?(S.set(M.ix,M.iy,_+this.nb[k][2],p),y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,this.vpDistance[f]=E,this.vpBits[f]|=this.ISDONE,this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})):this.vpBits[f]&this.INOUT&&this.vpBits[f]&this.ISDONE&&(y=M.ix-p.ix,b=M.iy-p.iy,C=M.iz-p.iz,E=y*y+b*b+C*C,E<this.vpDistance[f]&&(S.set(M.ix,M.iy,M.iz,p),this.vpDistance[f]=E,this.vpBits[f]&this.ISBOUND||(this.vpBits[f]|=this.ISBOUND,D.push({ix:M.ix,iy:M.iy,iz:M.iz})))))}return D}marchingcubeinit(x){for(let S=0,w=this.vpBits.length;S<w;S++)x==1?this.vpBits[S]&=~this.ISBOUND:x==4?(this.vpBits[S]&=~this.ISDONE,this.vpBits[S]&this.ISBOUND&&(this.vpBits[S]|=this.ISDONE),this.vpBits[S]&=~this.ISBOUND):x==2?this.vpBits[S]&this.ISBOUND&&this.vpBits[S]&this.ISDONE?this.vpBits[S]&=~this.ISBOUND:this.vpBits[S]&this.ISBOUND&&!(this.vpBits[S]&this.ISDONE)&&(this.vpBits[S]|=this.ISDONE):x==3&&(this.vpBits[S]&=~this.ISBOUND)}marchingcube(x){this.marchingcubeinit(x),this.verts=[],this.faces=[],h.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let S=this.pWidth*this.pHeight;for(let w=0,c=this.verts.length;w<c;w++)this.verts[w].atomid=this.vpAtomID[this.verts[w].x*S+this.pHeight*this.verts[w].y+this.verts[w].z];h.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}h.MarchingCube=new u},"./src/VolumeData.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VolumeData:()=>l});var n=r("./src/utilities.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/parsers/VASP.ts"),o=r("./src/parsers/CUBE.ts"),u=r("./node_modules/pako/dist/pako.esm.mjs");class l{constructor(h,v,x){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(y){var b=y/(this.size.y*this.size.z),C=y%(this.size.y*this.size.z),E=y%this.size.z;return b*=this.unit.x,C*=this.unit.y,E*=this.unit.z,b+=this.origin.x,C+=this.origin.y,E+=this.origin.z,{x:b,y:C,z:E}},this.vasp=function(y){var b=y.replace(/^\s+/,"").split(/[\n\r]/),C=(0,s.VASP)(y)[0],E=C.length;if(E==0){console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var p=1.889725992,f=.036749309,D=parseFloat(b[1]),M;M=b[2].replace(/^\s+/,"").split(/\s+/);var N=new a.Vector3(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])).multiplyScalar(D*p);M=b[3].replace(/^\s+/,"").split(/\s+/);var O=new a.Vector3(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])).multiplyScalar(D*p);M=b[4].replace(/^\s+/,"").split(/\s+/);var z=new a.Vector3(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])).multiplyScalar(D*p),k=N.x*(O.y*z.z-z.y*O.z)-O.x*(N.y*z.z-z.y*N.z)+z.x*(N.y*O.z-O.y*N.z);k=Math.abs(k)/Math.pow(p,3);var I=1/k;b.splice(0,8+E+1);var H=b[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Y=Math.abs(parseFloat(H[0])),q=Math.abs(parseFloat(H[1])),G=Math.abs(parseFloat(H[2])),$=this.origin=new a.Vector3(0,0,0);this.size={x:Y,y:q,z:G},this.unit=new a.Vector3(N.x,O.y,z.z),N=N.multiplyScalar(1/(p*Y)),O=O.multiplyScalar(1/(p*q)),z=z.multiplyScalar(1/(p*G)),(N.y!=0||N.z!=0||O.x!=0||O.z!=0||z.x!=0||z.y!=0)&&(this.matrix=new a.Matrix4(N.x,O.x,z.x,0,N.y,O.y,z.y,0,N.z,O.z,z.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new a.Matrix4().makeTranslation($.x,$.y,$.z)),this.origin=new a.Vector3(0,0,0),this.unit=new a.Vector3(1,1,1)),b.splice(0,1);var j=b.join(" ");j=j.replace(/^\s+/,"");var V=j.split(/[\s\r]+/);V.splice(Y*q*G+1);for(var X=Float32Array.from(V,parseFloat),Q=0;Q<X.length;Q++)X[Q]=X[Q]*I*f;this.data=X},this.dx=function(y){var b=y.split(/[\n\r]+/),C,E=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,p=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,f=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,D=/data follows/,M=0;for(M=0;M<b.length;M++){var N=b[M];if(C=E.exec(N)){var O=parseInt(C[1]),z=parseInt(C[2]),k=parseInt(C[3]);this.size={x:O,y:z,z:k}}else if(C=f.exec(N)){var I=parseFloat(C[1]);if((parseFloat(C[2])!=0||parseFloat(C[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),M+=1,N=b[M],C=f.exec(N),C==null){console.log("Parse error in dx delta matrix");return}var H=parseFloat(C[2]);if((parseFloat(C[1])!=0||parseFloat(C[3])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),M+=1,N=b[M],C=f.exec(N),C==null){console.log("Parse error in dx delta matrix");return}var Y=parseFloat(C[3]);(parseFloat(C[1])!=0||parseFloat(C[2])!=0)&&console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new a.Vector3(I,H,Y)}else if(C=p.exec(N)){var q=parseFloat(C[1]),G=parseFloat(C[2]),$=parseFloat(C[3]);this.origin=new a.Vector3(q,G,$)}else if(C=D.exec(N))break}if(M+=1,!this.size||!this.origin||!this.unit||!this.size){console.log("Error parsing dx format");return}var j=b.splice(M).join(" "),V=j.split(/[\s\r]+/);this.data=Float32Array.from(V,parseFloat)},v=v.toLowerCase(),/\.gz$/.test(v)){v=v.replace(/\.gz$/,"");try{this[v]&&this.isbinary.has(v)?(typeof h=="string"&&(h=(0,n.base64ToArray)(h)),h=(0,u.inflate)(h)):h=new TextDecoder("utf-8").decode((0,u.inflate)(h))}catch(y){console.log(y)}}if(this[v]&&(this.isbinary.has(v)&&typeof h=="string"&&(h=(0,n.base64ToArray)(h)),this[v](h)),x){if(x.negate)for(let y=0,b=this.data.length;y<b;y++)this.data[y]=-this.data[y];if(x.normalize){var S=0;for(let y=0,b=this.data.length;y<b;y++)S+=this.data[y];var w=S/this.data.length;S=0;for(let y=0,b=this.data.length;y<b;y++){var c=this.data[y]-w;S+=c*c}var _=S/this.data.length;for(let y=0,b=this.data.length;y<b;y++)this.data[y]=(this.data[y]-w)/_}}}getIndex(h,v,x){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new a.Matrix4().getInverse(this.matrix));var S=new a.Vector3(h,v,x);S=S.applyMatrix4(this.inversematrix),h=S.x,v=S.y,x=S.z}else h-=this.origin.x,v-=this.origin.y,x-=this.origin.z,h/=this.unit.x,v/=this.unit.y,x/=this.unit.z;return h=Math.round(h),v=Math.round(v),x=Math.round(x),h<0||h>=this.size.x||v<0||v>=this.size.y||x<0||x>=this.size.z?-1:h*this.size.y*this.size.z+v*this.size.z+x}getVal(h,v,x){let S=this.getIndex(h,v,x);return S<0?0:this.data[S]}cube(h){var v=h.split(/\r?\n/);if(!(v.length<6)){var x=(0,o.CUBE)(h,{}).modelData[0].cryst,S=v[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w=parseFloat(S[0]),c=Math.abs(w);this.origin=x.origin,this.size=x.size,this.unit=x.unit,this.matrix=x.matrix4;var _=6;w<0&&_++;var y=v.splice(c+_).join(" ");y=y.replace(/^\s+/,"");var b=y.split(/[\s\r]+/);this.data=Float32Array.from(b,parseFloat)}}ccp4(h){var v={};h=new Int8Array(h);var x=new Int32Array(h.buffer,0,56),S=new Float32Array(h.buffer,0,56),w=new DataView(h.buffer);if(v.MAP=String.fromCharCode(w.getUint8(208),w.getUint8(209),w.getUint8(210),w.getUint8(211)),v.MACHST=[w.getUint8(212),w.getUint8(213)],v.MACHST[0]===17&&v.MACHST[1]===17)for(var c=h.byteLength,_=0;_<c;_+=4)w.setFloat32(_,w.getFloat32(_),!0);v.NX=x[0],v.NY=x[1],v.NZ=x[2],v.MODE=x[3],v.NXSTART=x[4],v.NYSTART=x[5],v.NZSTART=x[6],v.MX=x[7],v.MY=x[8],v.MZ=x[9],v.xlen=S[10],v.ylen=S[11],v.zlen=S[12],v.alpha=S[13],v.beta=S[14],v.gamma=S[15],v.MAPC=x[16],v.MAPR=x[17],v.MAPS=x[18],v.DMIN=S[19],v.DMAX=S[20],v.DMEAN=S[21],v.ISPG=x[22],v.NSYMBT=x[23],v.LSKFLG=x[24],v.originX=S[49],v.originY=S[50],v.originZ=S[51],v.ARMS=S[54];var y=v,b=[y.xlen,0,0],C=[y.ylen*Math.cos(Math.PI/180*y.gamma),y.ylen*Math.sin(Math.PI/180*y.gamma),0],E=[y.zlen*Math.cos(Math.PI/180*y.beta),y.zlen*(Math.cos(Math.PI/180*y.alpha)-Math.cos(Math.PI/180*y.gamma)*Math.cos(Math.PI/180*y.beta))/Math.sin(Math.PI/180*y.gamma),0];E[2]=Math.sqrt(y.zlen*y.zlen*Math.sin(Math.PI/180*y.beta)*Math.sin(Math.PI/180*y.beta)-E[1]*E[1]);var p=[0,b,C,E],f=[0,y.MX,y.MY,y.MZ],D=[0,y.MAPC,y.MAPR,y.MAPS];this.matrix=new a.Matrix4,this.matrix.set(p[D[1]][0]/f[D[1]],p[D[2]][0]/f[D[2]],p[D[3]][0]/f[D[3]],0,p[D[1]][1]/f[D[1]],p[D[2]][1]/f[D[2]],p[D[3]][1]/f[D[3]],0,p[D[1]][2]/f[D[1]],p[D[2]][2]/f[D[2]],p[D[3]][2]/f[D[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new a.Matrix4().makeTranslation(y.NXSTART+y.originX,y.NYSTART+y.originY,y.NZSTART+y.originZ)),this.origin=new a.Vector3(0,0,0),this.unit=new a.Vector3(1,1,1),this.size={x:v.NX,y:v.NY,z:v.NZ},this.dimensionorder=[v.MAPC,v.MAPR,v.MAPS];var M=new Float32Array(h.buffer,1024+v.NSYMBT),N=v.NX,O=v.NY,z=v.NZ;this.data=new Float32Array(N*O*z);for(let k=0;k<N;k++)for(let I=0;I<O;I++)for(let H=0;H<z;H++)this.data[(k*O+I)*z+H]=M[(H*O+I)*N+k]}}},"./src/VolumetricRender.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLVolumetricRender:()=>l});var n=r("./src/WebGL/shapes/index.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/index.ts"),o=r("./src/colors.ts"),u=r("./src/GLShape.ts");class l{static interpolateArray(h,v){function x(E,p,f){return E+(p-E)*f}var S=[],w=(h.length-1)/(v-1);S[0]=h[0];for(var c=1;c<v-1;c++){var _=c*w,y=Math.floor(_),b=Math.ceil(_),C=_-y;S[c]=x(h[y],h[b],C)}return S[v-1]=h[h.length-1],S}constructor(h,v){this.hidden=!1,this.boundingSphere=new n.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,v=v||{};var x=Object.assign([],v.transferfn);this.subsamples=v.subsamples||5;let S=256;x.forEach(function(N){N.value=parseFloat(N.value)}),x.sort(function(N,O){return N.value-O.value}),this.min=x[0].value,x.length==0&&x.push(x[0]),this.max=x[x.length-1].value;var w,c,_,y,b,C,E,p,f,D;for(let N=0;N<x.length-1;N++)if(_=o.CC.color(x[N].color),y=o.CC.color(x[N+1].color),f=x[N].opacity,D=x[N+1].opacity,w=Math.floor((x[N].value-this.min)*S/(this.max-this.min)),c=Math.floor((x[N+1].value-this.min)*S/(this.max-this.min)),w!=c){b=l.interpolateArray([_.r*255,y.r*255],c-w),C=l.interpolateArray([_.g*255,y.g*255],c-w),E=l.interpolateArray([_.b*255,y.b*255],c-w),p=l.interpolateArray([f*255,D*255],c-w);for(let O=0;O<b.length;O++)this.transferfunctionbuffer.push(b[O]),this.transferfunctionbuffer.push(C[O]),this.transferfunctionbuffer.push(E[O]),this.transferfunctionbuffer.push(p[O])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),h.matrix){let N=new a.Vector3(0,0,0),O=new a.Vector3(h.size.x,h.size.y,h.size.z),z=new a.Vector3(1,1,1);N.applyMatrix4(h.matrix),O.applyMatrix4(h.matrix),z.applyMatrix4(h.matrix).sub(N),this.extent=[[N.x,N.y,N.z],[O.x,O.y,O.z]];for(let Y=1;Y<7;Y++)O.x=Y&1?h.size.x:0,O.y=Y&2?h.size.y:0,O.z=Y&4?h.size.z:0,O.applyMatrix4(h.matrix),this.extent[0][0]=Math.min(this.extent[0][0],O.x),this.extent[0][1]=Math.min(this.extent[0][1],O.y),this.extent[0][2]=Math.min(this.extent[0][2],O.z),this.extent[1][0]=Math.max(this.extent[1][0],O.x),this.extent[1][1]=Math.max(this.extent[1][1],O.y),this.extent[1][2]=Math.max(this.extent[1][2],O.z);let k=O.x-N.x,I=O.y-N.y,H=O.z-N.z;this.maxdepth=Math.sqrt(k*k+I*I+H*H),this.minunit=Math.min(Math.min(z.x,z.y),z.z),this.texmatrix=new a.Matrix4().identity().scale({x:h.size.x,y:h.size.y,z:h.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(h.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new a.Matrix4().identity();let N=h.unit.x*h.size.x,O=h.unit.y*h.size.y,z=h.unit.z*h.size.z;this.texmatrix.makeTranslation(-h.origin.x/N,-h.origin.y/O,-h.origin.z/z),this.texmatrix.scale({x:1/N,y:1/O,z:1/z}),this.minunit=Math.min(Math.min(h.unit.x,h.unit.y),h.unit.z),this.extent=[[h.origin.x,h.origin.y,h.origin.z],[h.origin.x+N,h.origin.y+O,h.origin.z+z]],this.maxdepth=Math.sqrt(N*N+O*O+z*z)}var M=new u.GLShape({});if(M.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=M.finalize(),this.boundingSphere.center=new a.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,v.coords!==void 0&&v.seldist!==void 0){let N=new Uint8Array(h.data.length),O=v.seldist,z=O*O;for(let k=0,I=v.coords.length;k<I;k++){let H=v.coords[k],Y=H.x-O,q=H.y-O,G=H.z-O,$=H.x+O,j=H.y+O,V=H.z+O;if(h.getIndex(Y,q,G)>=0||h.getIndex($,j,V)>=0)for(let X=Y;X<$;X+=this.minunit)for(let Q=q;Q<j;Q+=this.minunit)for(let te=G;te<V;te+=this.minunit){let we=h.getIndex(X,Q,te);we>=0&&!N[we]&&(X-H.x)*(X-H.x)+(Q-H.y)*(Q-H.y)+(te-H.z)*(te-H.z)<z&&(N[we]=1)}}for(let k=0,I=h.data.length;k<I;k++)N[k]==0&&(h.data[k]=1/0)}this.data=h}globj(h){if(this.renderedShapeObj&&(h.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new s.Object3D;var v=null,x=new s.Texture(this.data,!0),S=new s.Texture(this.transferfunctionbuffer,!1);x.needsUpdate=!0,S.needsUpdate=!0,S.flipY=!1,v=new s.VolumetricMaterial({transferfn:S,transfermin:this.min,transfermax:this.max,map:x,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var w=new s.Mesh(this.geo,v);this.shapeObj.add(w),this.renderedShapeObj=this.shapeObj.clone(),h.add(this.renderedShapeObj)}}removegl(h){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),h.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Camera:()=>s});var n=r("./src/WebGL/core/index.ts"),a=r("./src/WebGL/math/index.ts");class s extends n.Object3D{constructor(u=50,l=1,g=.1,h=2e3,v=!1){super(),this.projectionMatrix=new a.Matrix4,this.projectionMatrixInverse=new a.Matrix4,this.matrixWorldInverse=new a.Matrix4,this.fov=u,this.aspect=l,this.near=g,this.far=h;var x=this.position.z;this.right=x*Math.tan(Math.PI/180*u),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!v,this.updateProjectionMatrix()}lookAt(u){this.matrix.lookAt(this.position,u,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof a.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Fog:()=>a});var n=r("./src/colors.ts");class a{constructor(o,u=1,l=1e3){this.name="",this.color=new n.Color(o),this.near=u,this.far=l}clone(){return new a(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Renderer:()=>S});var n=r("./src/WebGL/Camera.ts"),a=r("./src/WebGL/constants/Sides.ts"),s=r("./src/WebGL/constants/TextureConstants.ts"),o=r("./src/WebGL/core/index.ts"),u=r("./src/colors.ts"),l=r("./src/WebGL/materials/index.ts"),g=r("./src/WebGL/math/index.ts"),h=r("./src/WebGL/objects/index.ts"),v=r("./src/WebGL/shaders/index.ts"),x=r("./src/WebGL/SpritePlugin.ts");class S{constructor(c){this.context=null,this.devicePixelRatio=1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._projScreenMatrix=new g.Matrix4,this._vector3=new g.Vector3,this._worldInverse=new g.Matrix4,this._projInverse=new g.Matrix4,this._textureMatrix=new g.Matrix4,this._direction=new g.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new x.SpritePlugin,this._screenshader=null,this._vertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,c=c||{},this.row=c.row,this.col=c.col,this.rows=c.rows,this.cols=c.cols,this._canvas=c.canvas!==void 0?c.canvas:document.createElement("canvas"),this._precision=c.precision!==void 0?c.precision:"highp",this._alpha=c.alpha!==void 0?c.alpha:!0,this._premultipliedAlpha=c.premultipliedAlpha!==void 0?c.premultipliedAlpha:!0,this._antialias=c.antialias!==void 0?c.antialias:!1,this._stencil=c.stencil!==void 0?c.stencil:!0,this._preserveDrawingBuffer=c.preserveDrawingBuffer!==void 0?c.preserveDrawingBuffer:!1,this._clearColor=c.clearColor!==void 0?new u.Color(c.clearColor):new u.Color(0),this._clearAlpha=c.clearAlpha!==void 0?c.clearAlpha:0,this._outlineMaterial=new l.MeshOutlineMaterial(c.outline),this._outlineSphereImposterMaterial=new l.SphereImposterOutlineMaterial(c.outline),this._outlineStickImposterMaterial=new l.StickImposterOutlineMaterial(c.outline),this._outlineEnabled=!!c.outline,this.domElement=this._canvas,this._canvas.id=c.id,this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this)}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}isLost(){return this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(c,_){this._clearColor.setHex(c),this._clearAlpha=_,this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(c){this._outlineMaterial=new l.MeshOutlineMaterial(c),this._outlineSphereImposterMaterial=new l.SphereImposterOutlineMaterial(c),this._outlineStickImposterMaterial=new l.StickImposterOutlineMaterial(c),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}setViewport(){if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var c=this._canvas.width/this.cols,_=this._canvas.height/this.rows;this._viewportWidth=c,this._viewportHeight=_,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(c*this.col,_*this.row,c,_),this._gl.viewport(c*this.col,_*this.row,c,_)}}setSize(c,_){if(this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var y=c/this.cols,b=_/this.rows;this._canvas.width=c*this.devicePixelRatio,this._canvas.height=_*this.devicePixelRatio,this._viewportWidth=y*this.devicePixelRatio,this._viewportHeight=b*this.devicePixelRatio,this._canvas.style.width=c+"px",this._canvas.style.height=_+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=c*this.devicePixelRatio,this._viewportHeight=this._canvas.height=_*this.devicePixelRatio,this._canvas.style.width=c+"px",this._canvas.style.height=_+"px",this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(c,_,y){var b=0;(c===void 0||c)&&(b|=this._gl.COLOR_BUFFER_BIT),(_===void 0||_)&&(b|=this._gl.DEPTH_BUFFER_BIT),(y===void 0||y)&&(b|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(b)}clearTarget(c,_,y){this.clear(c,_,y)}setMaterialFaces(c,_){var y=c.side===a.DoubleSide,b=c.side===a.BackSide;c.imposter||(b=_?!b:b),this._oldDoubleSided!==y&&(y?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=y),this._oldFlipSided!==b&&(b?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=b),this._gl.cullFace(this._gl.BACK)}setDepthTest(c){this._oldDepthTest!==c&&(c?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=c)}setDepthWrite(c){this._oldDepthWrite!==c&&(this._gl.depthMask(c),this._oldDepthWrite=c)}setBlending(c){c?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(c,_,y,b){c.addEventListener("dispose",this.onMaterialDispose.bind(this));var C,E;if(E=c.shaderID,E){var p=v.ShaderLib[E];c.vertexShader=p.vertexShader,c.fragmentShader=p.fragmentShader,c.uniforms=v.ShaderUtils.clone(p.uniforms)}C={wireframe:c.wireframe,fragdepth:c.imposter,volumetric:c.volumetric},c.program=this.buildProgram(c.fragmentShader,c.vertexShader,c.uniforms,C)}renderBuffer(c,_,y,b,C,E){if(b.visible){var p,f;if(p=this.setProgram(c,_,y,b,E,this),!!p){f=p.attributes;var D=!1,M=b.wireframe?1:0,N=C.id*16777215+p.id*2+M;N!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=N,D=!0),D&&(this.disableAttributes(),f.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglVertexBuffer),this.enableAttribute(f.position),this._gl.vertexAttribPointer(f.position,3,this._gl.FLOAT,!1,0,0)),f.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglColorBuffer),this.enableAttribute(f.color),this._gl.vertexAttribPointer(f.color,3,this._gl.FLOAT,!1,0,0)),f.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglNormalBuffer),this.enableAttribute(f.normal),this._gl.vertexAttribPointer(f.normal,3,this._gl.FLOAT,!1,0,0)),f.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglOffsetBuffer),this.enableAttribute(f.offset),this._gl.vertexAttribPointer(f.offset,3,this._gl.FLOAT,!1,0,0)),f.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglRadiusBuffer),this.enableAttribute(f.radius),this._gl.vertexAttribPointer(f.radius,1,this._gl.FLOAT,!1,0,0)));var O,z;if(E instanceof h.Mesh){if(b.shaderID==="instanced"){var k=b.sphere.geometryGroups[0];D&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,k.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,C.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,k.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,k.faceArray,this._gl.STATIC_DRAW)),O=k.faceidx,this._extInstanced.vertexAttribDivisorANGLE(f.offset,1),this._extInstanced.vertexAttribDivisorANGLE(f.radius,1),this._extInstanced.vertexAttribDivisorANGLE(f.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,O,this._gl.UNSIGNED_SHORT,0,C.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(f.offset,0),this._extInstanced.vertexAttribDivisorANGLE(f.radius,0),this._extInstanced.vertexAttribDivisorANGLE(f.color,0)}else b.wireframe?(z=C.lineidx,this.setLineWidth(b.wireframeLinewidth),D&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,z,this._gl.UNSIGNED_SHORT,0)):(O=C.faceidx,D&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,C.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,O,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=O,this.info.render.faces+=O/3}else E instanceof h.Line&&(z=C.vertices,this.setLineWidth(b.linewidth),this._gl.drawArrays(this._gl.LINES,0,z),this.info.render.calls++)}}}render(c,_,y){if(!(_ instanceof n.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var b,C,E,p,f,D=c.__lights,M=c.fog;this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&c.updateMatrixWorld(),_.parent===void 0&&_.updateMatrixWorld(),_.matrixWorldInverse.getInverse(_.matrixWorld),this._projScreenMatrix.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(c),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),(this.autoClear||y)&&(this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)),f=c.__webglObjects;var N=!1;for(b=0,C=f.length;b<C;b++)E=f[b],p=E.object,E.render=!1,p.visible&&(this.setupMatrices(p,_),this.unrollBufferMaterial(E),E.render=!0,E.volumetric&&(N=!0));var O=null;this.setBlending(!1),this.renderObjects(c.__webglObjects,!0,"opaque",_,D,M,!1,O),this.renderSprites(c,_,!1),this.renderObjects(c.__webglObjects,!0,"blank",_,D,M,!0,O),this.renderObjects(c.__webglObjects,!1,"transparent",_,D,M,!0,O),N&&this._fb&&(this.reinitFrameBuffer(),this.renderObjects(c.__webglObjects,!1,"volumetric",_,D,M,!0,O)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(c,_,!0)}reinitFrameBuffer(){this.isWebGL1()||(this._fb=this._gl.createFramebuffer(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0))}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let c=this._viewportWidth,_=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,c,_),this._gl.viewport(0,0,c,_),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,c,_,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,c,_,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let c=this._viewportWidth,_=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,c,_),this._gl.viewport(0,0,c,_),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var y=v.ShaderLib.screen;this._screenshader=this.buildProgram(y.fragmentShader,y.vertexShader,y.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var b=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(b),this._gl.STATIC_DRAW)}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(c){if(c.__webglObjects||(c.__webglObjects=[],c.__webglObjectsImmediate=[],c.__webglSprites=[],c.__webglFlares=[]),c.__objectsAdded.length){for(;c.__objectsAdded.length;)this.addObject(c.__objectsAdded[0],c),c.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;c.__objectsRemoved.length;)this.removeObject(c.__objectsRemoved[0],c),c.__objectsRemoved.splice(0,1);for(var _=0,y=c.__webglObjects.length;_<y;_++)this.updateObject(c.__webglObjects[_].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(c,_){(c==null||_==null)&&(c=this._canvas.width,_=this._canvas.height);var y=c/_;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var b=c/this.cols,C=_/this.rows;y=b/C}return y}setTexture(c,_,y){if(c.needsUpdate){c.__webglInit||(c.__webglInit=!0,c.addEventListener("dispose",this.onTextureDispose.bind(this)),c.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+_);var b=y?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(b,c.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,c.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,c.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,c.unpackAlignment);var C=this.paramToGL(c.format),E=this.paramToGL(c.type);if(y)this.setTextureParameters(this._gl.TEXTURE_3D,c),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,c.image.size.z,c.image.size.y,c.image.size.x,0,this._gl.RED,this._gl.FLOAT,c.image.data);else{var p=c.image,f=p.width,D=p.height;typeof f>"u"&&(f=p.length,C==this._gl.RGBA&&(f/=4),D=1),this.setTextureParameters(this._gl.TEXTURE_2D,c),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,C,C,E,c.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,C,f,D,0,C,E,c.image)}c.needsUpdate=!1,c.onUpdate&&c.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+_),y?this._gl.bindTexture(this._gl.TEXTURE_3D,c.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,c.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(c){this._enabledAttributes[c]||(this._gl.enableVertexAttribArray(c),this._enabledAttributes[c]=!0)}disableAttributes(){for(let c in this._enabledAttributes)this._enabledAttributes[c]&&(this._gl.disableVertexAttribArray(c),this._enabledAttributes[c]=!1)}setPolygonOffset(c,_,y){this._oldPolygonOffset!==c&&(c?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(c){c!==this._oldLineWidth&&(this._gl.lineWidth(c),this._oldLineWidth=c)}deallocateGeometry(c){if(c.__webglInit=void 0,c.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(c.__webglVertexBuffer),c.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(c.__webglColorBuffer),c.geometryGroups!==void 0)for(var _=0,y=c.groups;_<y;_++){var b=c.geometryGroups[_];b.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(b.__webglVertexBuffer),b.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(b.__webglColorBuffer),b.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(b.__webglNormalBuffer),b.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(b.__webglFaceBuffer),b.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(b.__webglLineBuffer)}}deallocateMaterial(c){var _=c.program;if(_!==void 0){c.program=void 0;var y,b,C,E=!1;for(y=0,b=this._programs.length;y<b;y++)if(C=this._programs[y],C.program===_){C.usedTimes--,C.usedTimes===0&&(E=!0);break}if(E===!0){var p=[];for(y=0,b=this._programs.length;y<b;y++)C=this._programs[y],C.program!==_&&p.push(C);this._programs=p,this._gl.deleteProgram(_),this.info.memory.programs--}}}deallocateTexture(c){if(c.image&&c.image.__webglTextureCube)this._gl.deleteTexture(c.image.__webglTextureCube);else{if(!c.__webglInit)return;c.__webglInit=!1,this._gl.deleteTexture(c.__webglTexture)}}onGeometryDispose(c){var _=c.target;_.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(_),this.info.memory.geometries--}onTextureDispose(c){var _=c.target;_.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(_),this.info.memory.textures--}onMaterialDispose(c){var _=c.target;_.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(_)}getShader(c,_){var y;return!this.isWebGL1()&&!_.startsWith("#version")&&(_=_.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),c=="fragment"?_=_.replace(/varying/g,"in"):_=_.replace(/varying/g,"out"),_=_.replace(/attribute/g,"in"),_=_.replace(/texture2D/g,"texture"),_=_.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),_=_.replace(/gl_FragColor/g,"glFragColor"),_=`#version 300 es
`+_),c==="fragment"?y=this._gl.createShader(this._gl.FRAGMENT_SHADER):c==="vertex"&&(y=this._gl.createShader(this._gl.VERTEX_SHADER)),y==null?null:(this._gl.shaderSource(y,_),this._gl.compileShader(y),this._gl.getShaderParameter(y,this._gl.COMPILE_STATUS)?y:(console.error(this._gl.getShaderInfoLog(y)),console.error("could not initialize shader"),null))}buildProgram(c,_,y,b){var C,E,p,f,D=[];D.push(c),D.push(_);for(C in b)D.push(C),D.push(b[C]);for(f=D.join(),C=0,E=this._programs.length;C<E;C++){var M=this._programs[C];if(M.code===f)return M.usedTimes++,M.program}if(this.isWebGL1()&&b.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(p=this._gl.createProgram(),p==null)return null;var N=this._precision,O="precision "+N+" float;",z=[b.volumetric?"#version 300 es":"",O].join(`
`),k=[b.volumetric?"#version 300 es":"",b.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",b.wireframe?"#define WIREFRAME 1":"",O].join(`
`),I=this.getShader("fragment",k+c),H=this.getShader("vertex",z+_);H!=null&&this._gl.attachShader(p,H),I!=null&&this._gl.attachShader(p,I),this._gl.linkProgram(p),this._gl.getProgramParameter(p,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),p.uniforms={},p.attributes={};var Y,q,G;Y=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"];for(q in y)Y.push(q);for(G=0;G<Y.length;G++){var $=Y[G];p.uniforms[$]=this._gl.getUniformLocation(p,$)}for(Y=["position","normal","color","lineDistance","offset","radius"],G=0;G<Y.length;G++){var j=Y[G];p.attributes[j]=this._gl.getAttribLocation(p,j)}return p.id=this._programs_counter++,this._programs.push({program:p,code:f,usedTimes:1}),this.info.memory.programs=this._programs.length,p}setProgram(c,_,y,b,C,E){if(b.needsUpdate&&(b.program&&this.deallocateMaterial(b),this.initMaterial(b,_,y,C),b.needsUpdate=!1),b.program==null)return null;var p=!1,f=b.program,D=f.uniforms,M=b.uniforms;if(f!=this._currentProgram&&(this._gl.useProgram(f),this._currentProgram=f,p=!0),b.id!=this._currentMaterialId&&(this._currentMaterialId=b.id,p=!0),c!=this._currentCamera&&(this._currentCamera=c,p=!0),this._gl.uniformMatrix4fv(D.projectionMatrix,!1,c.projectionMatrix.elements),this._gl.uniformMatrix4fv(D.modelViewMatrix,!1,C._modelViewMatrix.elements),this._gl.uniformMatrix3fv(D.normalMatrix,!1,C._normalMatrix.elements),p){if(M.fogColor.value=y.color,M.fogNear.value=y.near,M.fogFar.value=y.far,b.shaderID.startsWith("lambert")||b.shaderID==="instanced"||b.shaderID.endsWith("imposter"))this._gl.uniformMatrix4fv(D.viewMatrix,!1,c.matrixWorldInverse.elements),this._lightsNeedUpdate&&(this.setupLights(f,_),this._lightsNeedUpdate=!1),M.directionalLightColor.value=this._lights.directional.colors,M.directionalLightDirection.value=this._lights.directional.positions;else if(b.shaderID.endsWith("outline"))M.outlineColor.value=b.outlineColor,M.outlineWidth.value=b.outlineWidth,M.outlinePushback.value=b.outlinePushback;else if(b.shaderID==="volumetric"){C._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(C._modelViewMatrix),this._projInverse.getInverse(c.projectionMatrix),this._textureMatrix.multiplyMatrices(C.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(D.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(D.projinv,!1,this._projInverse.elements);let N=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);M.step.value=C.material.unit*N,M.maxdepth.value=C.material.maxdepth*N,M.transfermax.value=C.material.transfermax,M.transfermin.value=C.material.transfermin,M.subsamples.value=C.material.subsamples,E.setTexture(C.material.transferfn,4,!1),E.setTexture(C.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}M.opacity.value=b.opacity,this.loadMaterialUniforms(D,M)}return f}loadMaterialUniforms(c,_){var y,b,C,E;for(y in _)c[y]&&(b=_[y].type,C=_[y].value,E=c[y],b==="f"?this._gl.uniform1f(E,C):b==="i"?this._gl.uniform1i(E,C):b==="fv"?this._gl.uniform3fv(E,C):b==="c"?this._gl.uniform3f(E,C.r,C.g,C.b):b==="f4"&&this._gl.uniform4f(E,C[0],C[1],C[2],C[3]))}addObject(c,_){var y,b,C,E;if(!c.__webglInit&&(c.__webglInit=!0,c._modelViewMatrix=new g.Matrix4,c._normalMatrix=new g.Matrix3,c.geometry!==void 0&&c.geometry.__webglInit===void 0&&(c.geometry.__webglInit=!0,c.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),c instanceof h.Mesh||c instanceof h.Line))for(C=c.geometry,y=0,b=C.geometryGroups.length;y<b;y++)E=C.geometryGroups[y],E.id=this._geometryGroupCounter++,E.__webglVertexBuffer||(c instanceof h.Mesh?(this.createMeshBuffers(E),C.elementsNeedUpdate=!0,C.normalsNeedUpdate=!0):c instanceof h.Line&&this.createLineBuffers(E),C.verticesNeedUpdate=!0,C.colorsNeedUpdate=!0);if(!c.__webglActive){if(c instanceof h.Mesh||c instanceof h.Line)for(C=c.geometry,y=0,b=C.geometryGroups.length;y<b;y++)E=C.geometryGroups[y],this.addBuffer(_.__webglObjects,E,c);else c instanceof h.Sprite&&_.__webglSprites.push(c);c.__webglActive=!0}}updateObject(c){var _=c.geometry,y;if(c instanceof h.Mesh||c instanceof h.Line){for(var b=0,C=_.geometryGroups.length;b<C;b++)y=_.geometryGroups[b],(_.verticesNeedUpdate||_.elementsNeedUpdate||_.colorsNeedUpdate||_.normalsNeedUpdate)&&this.setBuffers(y,this._gl.STATIC_DRAW);_.verticesNeedUpdate=!1,_.elementsNeedUpdate=!1,_.normalsNeedUpdate=!1,_.colorsNeedUpdate=!1,_.buffersNeedUpdate=!1}}removeObject(c,_){c instanceof h.Mesh||c instanceof h.Line?this.removeInstances(_.__webglObjects,c):c instanceof h.Sprite&&this.removeInstancesDirect(_.__webglSprites,c),c.__webglActive=!1}removeInstances(c,_){for(var y=c.length-1;y>=0;--y)c[y].object===_&&c.splice(y,1)}removeInstancesDirect(c,_){for(var y=c.length-1;y>=0;--y)c[y]===_&&c.splice(y,1)}unrollBufferMaterial(c){var _=c.object,y=_.material;if(y.volumetric)c.opaque=null,c.transparent=null,c.volumetric=y;else if(y.transparent){if(c.opaque=null,c.volumetric=null,c.transparent=y,!y.wireframe){var b=y.clone();b.opacity=0,c.blank=b}}else c.opaque=y,c.transparent=null,c.volumetric=null}setBuffers(c,_){var y=c.vertexArray,b=c.colorArray;if(c.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,y,_)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,y,_)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,b,_),c.normalArray&&c.__webglNormalBuffer!==void 0){var C=c.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,C,_)}if(c.radiusArray&&c.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,c.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,c.radiusArray,_)),c.faceArray&&c.__webglFaceBuffer!==void 0){var E=c.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,c.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,E,_)}if(c.lineArray&&c.__webglLineBuffer!==void 0){var p=c.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,c.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,p,_)}}createMeshBuffers(c){c.radiusArray&&(c.__webglRadiusBuffer=this._gl.createBuffer()),c.useOffset&&(c.__webglOffsetBuffer=this._gl.createBuffer()),c.__webglVertexBuffer=this._gl.createBuffer(),c.__webglNormalBuffer=this._gl.createBuffer(),c.__webglColorBuffer=this._gl.createBuffer(),c.__webglFaceBuffer=this._gl.createBuffer(),c.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(c){c.__webglVertexBuffer=this._gl.createBuffer(),c.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(c,_,y){c.push({buffer:_,object:y,opaque:null,transparent:null})}setupMatrices(c,_){c._modelViewMatrix.multiplyMatrices(_.matrixWorldInverse,c.matrixWorld),c._normalMatrix.getInverse(c._modelViewMatrix),c._normalMatrix.transpose()}filterFallback(c){return this._gl.LINEAR}setTextureParameters(c,_){c==this._gl.TEXTURE_2D?(this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(_.magFilter)),this._gl.texParameteri(c,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(_.minFilter))):(this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(c,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(c,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(c,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(c,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(c,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(c){return c===s.UnsignedByteType?this._gl.UNSIGNED_BYTE:c===s.RGBAFormat?this._gl.RGBA:c===s.NearestFilter?this._gl.NEAREST:0}setupLights(c,_){var y,b,C,E=0,p=0,f=0,D,M,N=this._lights,O=N.directional.colors,z=N.directional.positions,k=0,I=0;for(y=0,b=_.length;y<b;y++)if(C=_[y],D=C.color,M=C.intensity,C instanceof o.Light){if(this._direction.getPositionFromMatrix(C.matrixWorld),this._vector3.getPositionFromMatrix(C.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;z[I]=this._direction.x,z[I+1]=this._direction.y,z[I+2]=this._direction.z,O[I]=D.r*M,O[I+1]=D.g*M,O[I+2]=D.b*M,I+=3,k++}N.ambient[0]=E,N.ambient[1]=p,N.ambient[2]=f,N.directional.length=k}initGL(){try{if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,stencil:this._stencil,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var c=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(c[6])}catch(_){console.error(_)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearColor(0,0,0,1),this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(c,_,y,b,C,E,p,O){var D,M,N,O,z,k,I;_?(z=c.length-1,k=-1,I=-1):(z=0,k=c.length,I=1);for(var H=z;H!==k;H+=I)if(D=c[H],D.render){if(M=D.object,N=D.buffer,O=D[y],!O)continue;p&&this.setBlending(!0),this.setDepthTest(O.depthTest),this.setDepthWrite(O.depthWrite),this.setPolygonOffset(O.polygonOffset,O.polygonOffsetFactor,O.polygonOffsetUnits);var Y=M._modelViewMatrix.isReflected();this.setMaterialFaces(O,Y),this.renderBuffer(b,C,E,O,N,M),(this._outlineEnabled||O.outline)&&(O.shaderID=="sphereimposter"?this.renderBuffer(b,C,E,this._outlineSphereImposterMaterial,N,M):O.shaderID=="stickimposter"?this.renderBuffer(b,C,E,this._outlineStickImposterMaterial,N,M):!O.wireframe&&O.shaderID!=="basic"&&O.opacity!==0&&this.renderBuffer(b,C,E,this._outlineMaterial,N,M))}}renderSprites(c,_,y){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(c,_,this._currentWidth,this._currentHeight,y),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpritePlugin:()=>a});var n=r("./src/WebGL/shaders/index.ts");class a{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(u){this.gl=u.context,this.renderer=u,this.precision=u.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var l=0;this.sprite.vertices[l++]=-1,this.sprite.vertices[l++]=-1,this.sprite.vertices[l++]=0,this.sprite.vertices[l++]=0,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=-1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=0,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=-1,this.sprite.vertices[l++]=1,this.sprite.vertices[l++]=0,this.sprite.vertices[l++]=1,l=0,this.sprite.faces[l++]=0,this.sprite.faces[l++]=1,this.sprite.faces[l++]=2,this.sprite.faces[l++]=0,this.sprite.faces[l++]=2,this.sprite.faces[l++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(n.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};let g={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),g.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),g.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),g.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),g.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),g.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),g.color=this.gl.getUniformLocation(this.sprite.program,"color"),g.map=this.gl.getUniformLocation(this.sprite.program,"map"),g.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),g.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),g.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),g.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),g.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),g.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),g.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),g.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),g.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),g.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),g.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=g}render(u,l,g,h,v){var x,S,w,c,_,y,b,C,E,p;if(!this.gl)throw new Error("WebGLRenderer not initialized");let f=[];(x=u?.__webglSprites)===null||x===void 0||x.forEach(te=>{(v&&te.material.depthTest==!1||!v&&te.material.depthTest)&&f.push(te)});let D=f.length;if(!D)return;let M=this.sprite.attributes,N=this.sprite.uniforms;if(!N)throw new Error("Uniforms not defined");var O=g*.5,z=h*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(M.position),this.gl.enableVertexAttribArray(M.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(M.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(M.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(N.projectionMatrix,!1,l.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(N.map,0);var k=0,I=0,H=u.fog;H?(this.gl.uniform3f(N.fogColor,H.color.r,H.color.g,H.color.b),this.gl.uniform1f(N.fogNear,H.near),this.gl.uniform1f(N.fogFar,H.far),this.gl.uniform1i(N.fogType,1),k=1,I=1):(this.gl.uniform1i(N.fogType,0),k=0,I=0);var Y;let q,G,$,j,V=[];for(Y=0;Y<D;Y++)q=f[Y],G=q.material,G&&(G.depthTest==!1&&!v||!q.visible||G.opacity===0||(G.useScreenCoordinates?q.z=-q.position.z:(q._modelViewMatrix.multiplyMatrices(l.matrixWorldInverse,q.matrixWorld),q.z=-q._modelViewMatrix.elements[14])));for(f.sort(s),Y=0;Y<D;Y++)if(q=f[Y],G=q.material,!!G&&!(!q.visible||G.opacity===0)&&G.map&&G.map.image&&G.map.image.width){this.gl.uniform1f(N?.alphaTest||null,G.alphaTest);var X=G.map.image.width,Q=G.map.image.height;V[0]=X*this.renderer.devicePixelRatio/g,V[1]=Q*this.renderer.devicePixelRatio/h,G.useScreenCoordinates===!0?(this.gl.uniform1i(N.useScreenCoordinates,1),this.gl.uniform3f(N.screenPosition,(q.position.x*this.renderer.devicePixelRatio-O)/O,(z-q.position.y*this.renderer.devicePixelRatio)/z,Math.max(0,Math.min(1,q.position.z)))):(this.gl.uniform1i(N.useScreenCoordinates,0),this.gl.uniformMatrix4fv(N.modelViewMatrix,!1,q._modelViewMatrix.elements)),u.fog&&G.fog?j=I:j=0,k!==j&&(this.gl.uniform1i(N.fogType,j),k=j),$=1/(G.scaleByViewport?h:1),V[0]*=$*q.scale.x,V[1]*=$*q.scale.y;let te=(S=G?.alignment)===null||S===void 0?void 0:S.x,we=(w=G?.alignment)===null||w===void 0?void 0:w.y;G.screenOffset&&(te=(te||0)+2*G.screenOffset.x/X,we=(we||0)+2*G.screenOffset.y/Q),this.gl.uniform2f(N.uvScale,((c=G?.uvScale)===null||c===void 0?void 0:c.x)||1,((_=G?.uvScale)===null||_===void 0?void 0:_.y)||1),this.gl.uniform2f(N.uvOffset,((y=G?.uvOffset)===null||y===void 0?void 0:y.x)||0,((b=G?.uvOffset)===null||b===void 0?void 0:b.y)||0),this.gl.uniform2f(N.alignment,te||0,we||0),this.gl.uniform1f(N.opacity,G.opacity),this.gl.uniform3f(N.color,((C=G?.color)===null||C===void 0?void 0:C.r)||0,((E=G?.color)===null||E===void 0?void 0:E.g)||0,((p=G?.color)===null||p===void 0?void 0:p.b)||0),this.gl.uniform1f(N.rotation,q.rotation),this.gl.uniform2fv(N.scale,V),this.renderer.setDepthTest(G.depthTest),this.renderer.setDepthWrite(G.depthWrite),this.renderer.setTexture(G.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(u,l){if(!this.gl)throw new Error("WebGL Rendering context not found");var g=this.gl.createProgram();if(!g)throw new Error("Error creating webgl program");var h=this.gl.createShader(this.gl.FRAGMENT_SHADER),v=this.gl.createShader(this.gl.VERTEX_SHADER);if(!h)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!v)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var x="precision "+l+` float;
`;if(this.gl.shaderSource(h,x+u.fragmentShader),this.gl.shaderSource(v,x+u.vertexShader),this.gl.compileShader(h),this.gl.compileShader(v),!this.gl.getShaderParameter(h,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(v,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(h)} 
      ${this.gl.getShaderInfoLog(v)}`);return this.gl.attachShader(g,h),this.gl.attachShader(g,v),this.gl.linkProgram(g),this.gl.getProgramParameter(g,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),g}}function s(o,u){return o.z!==u.z?u.z-o.z:u.id-o.id}},"./src/WebGL/constants/Coloring.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Coloring:()=>n});var n;(function(a){a[a.NoColors=0]="NoColors",a[a.FaceColors=1]="FaceColors",a[a.VertexColors=2]="VertexColors"})(n||(n={}))},"./src/WebGL/constants/Shading.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Shading:()=>n});var n;(function(a){a[a.NoShading=0]="NoShading",a[a.FlatShading=1]="FlatShading",a[a.SmoothShading=2]="SmoothShading"})(n||(n={}))},"./src/WebGL/constants/Sides.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>a,DoubleSide:()=>s,FrontSide:()=>n});let n=0,a=1,s=2},"./src/WebGL/constants/SpriteAlignment.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpriteAlignment:()=>a});var n=r("./src/WebGL/math/index.ts");let a={topLeft:new n.Vector2(1,-1),topCenter:new n.Vector2(0,-1),topRight:new n.Vector2(-1,-1),centerLeft:new n.Vector2(1,0),center:new n.Vector2(0,0),centerRight:new n.Vector2(-1,0),bottomLeft:new n.Vector2(1,1),bottomCenter:new n.Vector2(0,1),bottomRight:new n.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ClampToEdgeWrapping:()=>n,FloatType:()=>l,LinearFilter:()=>a,LinearMipMapLinearFilter:()=>o,NearestFilter:()=>s,R32Format:()=>v,RFormat:()=>h,RGBAFormat:()=>g,UnsignedByteType:()=>u});let n=1001,a=1006,s=1007,o=1008,u=1009,l=1010,g=1021,h=1022,v=1023},"./src/WebGL/constants/TextureOperations.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{TextureOperations:()=>n});var n;(function(a){a[a.MultiplyOperation=0]="MultiplyOperation",a[a.MixOperation=1]="MixOperation",a[a.AddOperation=2]="AddOperation"})(n||(n={}))},"./src/WebGL/constants/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>a.BackSide,ClampToEdgeWrapping:()=>u.ClampToEdgeWrapping,Coloring:()=>n.Coloring,DoubleSide:()=>a.DoubleSide,FloatType:()=>u.FloatType,FrontSide:()=>a.FrontSide,LinearFilter:()=>u.LinearFilter,LinearMipMapLinearFilter:()=>u.LinearMipMapLinearFilter,NearestFilter:()=>u.NearestFilter,R32Format:()=>u.R32Format,RFormat:()=>u.RFormat,RGBAFormat:()=>u.RGBAFormat,Shading:()=>s.Shading,SpriteAlignment:()=>o.SpriteAlignment,TextureOperations:()=>l.TextureOperations,UnsignedByteType:()=>u.UnsignedByteType});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Sides.ts"),s=r("./src/WebGL/constants/Shading.ts"),o=r("./src/WebGL/constants/SpriteAlignment.ts"),u=r("./src/WebGL/constants/TextureConstants.ts"),l=r("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{EventDispatcher:()=>n});class n{constructor(){this.listeners={}}dispatchEvent(s){var o=this.listeners[s.type];if(o!==void 0){s.target=this;for(var u=0,l=o.length;u<l;u++)o[u].call(this,s)}}removeEventListener(s,o){if(!o)this.listeners[s]=[];else{var u=this.listeners[s].indexOf(o);u!==-1&&this.listeners[s].splice(u,1)}}addEventListener(s,o){this.listeners[s]===void 0&&(this.listeners[s]=[]),this.listeners[s].indexOf(o)===-1&&this.listeners[s].push(o)}}},"./src/WebGL/core/Geometry.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Geometry:()=>g,GeometryGroup:()=>l,GeometryIDCount:()=>h});var n=r("./src/WebGL/materials/LineBasicMaterial.ts"),a=r("./src/WebGL/core/EventDispatcher.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts");let u=65535;class l{constructor(x=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=x}setColors(x){var S=this.vertexArray,w=this.colorArray;if(!S)throw new Error("vertex array not initialized");if(!w)throw new Error("color array not initialized");if(S.length!=w.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var c=0;c<S.length;c+=3){var _=x(S[c],S[c+1],S[c+2]);_ instanceof o.Color||(_=o.CC.color(_)),w[c]=_.r,w[c+1]=_.g,w[c+2]=_.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var x=new s.Vector3,S,w,c,_,y=0;y<this.vertices;++y)S=y*3,w=this.vertexArray[S],c=this.vertexArray[S+1],_=this.vertexArray[S+2],x.x+=w,x.y+=c,x.z+=_;return x.divideScalar(this.vertices),x}setNormals(){var x=this.faceArray,S=this.vertexArray,w=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!x)throw new Error("face array not initialized");if(!S)throw new Error("vertex array not initialized");if(!w)throw new Error("normal array not initialized");for(var c,_,y,b,C,E,p,f=0;f<x.length/3;++f)c=x[f*3]*3,_=x[f*3+1]*3,y=x[f*3+2]*3,b=new s.Vector3(S[c],S[c+1],S[c+2]),C=new s.Vector3(S[_],S[_+1],S[_+2]),E=new s.Vector3(S[y],S[y+1],S[y+2]),b.subVectors(b,C),E.subVectors(E,C),E.cross(b),p=E,p.normalize(),w[c]+=p.x,w[_]+=p.x,w[y]+=p.x,w[c+1]+=p.y,w[_+1]+=p.y,w[y+1]+=p.y,w[c+2]+=p.z,w[_+2]+=p.z,w[y+2]+=p.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var x=this.faceArray,S=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!x)throw new Error("face array not initialized");for(var w=0;w<this.faceidx/3;++w){var c=w*3,_=c*2,y=x[c],b=x[c+1],C=x[c+2];S[_]=y,S[_+1]=b,S[_+2]=y,S[_+3]=C,S[_+4]=b,S[_+5]=C}}}vrml(x,S){var w,c,_,y,b,C,E,p,f,D,M,N,O,z,k,I="";I+=x+`Shape {
`+x+` appearance Appearance {
`+x+`  material Material {
`+x+"   diffuseColor "+((w=S?.color)===null||w===void 0?void 0:w.r)+" "+((c=S?.color)===null||c===void 0?void 0:c.g)+" "+((_=S?.color)===null||_===void 0?void 0:_.b)+`
`,S?.transparent&&(I+=x+"   transparency "+(1-S.opacity)+`
`),I+=x+`  }
`,I+=x+` }
`;var H=x;if(x+=" ",S instanceof n.LineBasicMaterial){I+=x+`geometry IndexedLineSet {
`+x+` colorPerVertex TRUE
`+x+` coord Coordinate {
`+x+`  point [
`;let q,G,$;for(let j=0;j<this.vertices;++j){let V=j*3;q=(y=this.vertexArray)===null||y===void 0?void 0:y[V],G=(b=this.vertexArray)===null||b===void 0?void 0:b[V+1],$=(C=this.vertexArray)===null||C===void 0?void 0:C[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}if(I+=x+`  ]
`,I+=x+` }
`,this.colorArray){I+=x+` color Color {
`+x+`  color [
`;for(let j=0;j<this.vertices;++j){let V=j*3;q=this.colorArray[V],G=this.colorArray[V+1],$=this.colorArray[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}I+=x+`  ]
`,I+=x+` }
`}I+=x+` coordIndex [
`;for(let j=0;j<this.vertices;j+=2)I+=x+"  "+j+", "+(j+1)+`, -1,
`;I+=x+` ]
`,I+=x+`}
`}else{I+=x+`geometry IndexedFaceSet {
`+x+` colorPerVertex TRUE
`+x+` normalPerVertex TRUE
`+x+` solid FALSE
`,I+=x+` coord Coordinate {
`+x+`  point [
`;let q,G,$;for(let j=0;j<this.vertices;++j){let V=j*3;q=(E=this.vertexArray)===null||E===void 0?void 0:E[V],G=(p=this.vertexArray)===null||p===void 0?void 0:p[V+1],$=(f=this.vertexArray)===null||f===void 0?void 0:f[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}I+=x+`  ]
`,I+=x+` }
`,I+=x+` normal Normal {
`+x+`  vector [
`;for(let j=0;j<this.vertices;++j){let V=j*3;q=(D=this.normalArray)===null||D===void 0?void 0:D[V],G=(M=this.normalArray)===null||M===void 0?void 0:M[V+1],$=(N=this.normalArray)===null||N===void 0?void 0:N[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}if(I+=x+`  ]
`,I+=x+` }
`,this.colorArray){I+=x+` color Color {
`+x+`  color [
`;for(let j=0;j<this.vertices;++j){let V=j*3;q=this.colorArray[V],G=this.colorArray[V+1],$=this.colorArray[V+2],I+=x+"   "+q+" "+G+" "+$+`,
`}I+=x+`  ]
`,I+=x+` }
`}I+=x+` coordIndex [
`;for(var Y=0;Y<this.faceidx;Y+=3)q=(O=this.faceArray)===null||O===void 0?void 0:O[Y],G=(z=this.faceArray)===null||z===void 0?void 0:z[Y+1],$=(k=this.faceArray)===null||k===void 0?void 0:k[Y+2],I+=x+"  "+q+", "+G+", "+$+`, -1,
`;I+=x+` ]
`,I+=x+`}
`}return I+=H+"}",I}truncateArrayBuffers(x=!0,S=!1){var w=this.vertexArray,c=this.colorArray,_=this.normalArray,y=this.faceArray,b=this.lineArray,C=this.radiusArray;this.vertexArray=w?.subarray(0,this.vertices*3)||null,this.colorArray=c?.subarray(0,this.vertices*3)||null,x?(this.normalArray=_?.subarray(0,this.vertices*3)||null,this.faceArray=y?.subarray(0,this.faceidx)||null,this.lineidx>0?this.lineArray=b?.subarray(0,this.lineidx)||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),C&&(this.radiusArray=C.subarray(0,this.vertices)),S&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class g extends a.EventDispatcher{constructor(x=!1,S=!1,w=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=h++,this.mesh=x,this.radii=S,this.offset=w}updateGeoGroup(x=0){var S,w=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!w||w.vertices+x>(((S=w?.vertexArray)===null||S===void 0?void 0:S.length)||0)/3)&&(w=this.addGeoGroup()),w}vrml(x,S){for(var w="",c=this.geometryGroups.length,_=0;_<c;_++){var y=this.geometryGroups[_];w+=y.vrml(x,S)+`,
`}return w}addGeoGroup(){var x=new l(this.geometryGroups.length);return this.geometryGroups.push(x),this.groups=this.geometryGroups.length,x.vertexArray=new Float32Array(u*3),x.colorArray=new Float32Array(u*3),this.mesh&&(x.normalArray=new Float32Array(u*3),x.faceArray=new Uint16Array(u*6),x.lineArray=new Uint16Array(u*6)),this.radii&&(x.radiusArray=new Float32Array(u)),x.useOffset=this.offset,x}setUpNormals(...x){for(var S=0;S<this.groups;S++){var w=this.geometryGroups[S];w.setNormals(...x)}}setColors(...x){for(var S=this.geometryGroups.length,w=0;w<S;w++){var c=this.geometryGroups[w];c.setColors(...x)}}setUpWireframe(...x){for(var S=0;S<this.groups;S++){var w=this.geometryGroups[S];w.setLineIndices(...x)}}initTypedArrays(){for(var x=0;x<this.groups;x++){var S=this.geometryGroups[x];S.__inittedArrays!==!0&&S.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var x=0,S=0;S<this.groups;S++)x+=this.geometryGroups[S].vertices;return x}}let h=0},"./src/WebGL/core/Object3D.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Light:()=>l,Object3D:()=>o,Object3DIDCount:()=>s,Scene:()=>u});var n=r("./src/WebGL/math/index.ts"),a=r("./src/colors.ts");let s=0;class o{constructor(){this.id=s++,this.name="",this.children=[],this.position=new n.Vector3,this.rotation=new n.Vector3,this.matrix=new n.Matrix4,this.matrixWorld=new n.Matrix4,this.quaternion=new n.Quaternion,this.eulerOrder="XYZ",this.up=new n.Vector3(0,1,0),this.scale=new n.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(h){this.matrix.lookAt(h,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof n.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(h){if(h===this){console.error("Can't add $3Dmol.Object3D to itself");return}h.parent=this,this.children.push(h);for(var v=this;v.parent!==void 0;)v=v.parent;v!==void 0&&v instanceof u&&v.__addObject(h)}remove(h){var v=this.children.indexOf(h);if(v!==-1){h.parent=void 0,this.children.splice(v,1);for(var x=this;x.parent!==void 0;)x=x.parent;x!==void 0&&x instanceof u&&x.__removeObject(h)}}vrml(h){h||(h=" ");var v=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),x=0,S=0,w=0;if(v!=0){let y=Math.sin(v/2);x=this.quaternion.x/y,S=this.quaternion.y/y,w=this.quaternion.z/y}var c=h+`Transform {
`+h+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+h+" rotation "+x+" "+S+" "+w+" "+v+`
`+h+` children [
`;this.geometry&&(c+=this.geometry.vrml(h,this.material));for(var _=0;_<this.children.length;_++)c+=this.children[_].vrml(h+" ")+`,
`;return c+=` ]
`,c+="}",c}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof n.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(h){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||h===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var v=0;v<this.children.length;v++)this.children[v].updateMatrixWorld(!0)}clone(h){h===void 0&&(h=new o),h.name=this.name,h.up.copy(this.up),h.position.copy(this.position),h.rotation instanceof n.Vector3&&this.rotation instanceof n.Vector3?h.rotation.copy(this.rotation):h.rotation=this.rotation,h.eulerOrder=this.eulerOrder,h.scale.copy(this.scale),h.rotationAutoUpdate=this.rotationAutoUpdate,h.matrix.copy(this.matrix),h.matrixWorld.copy(this.matrixWorld),h.quaternion.copy(this.quaternion),h.matrixAutoUpdate=this.matrixAutoUpdate,h.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,h.useQuaternion=this.useQuaternion,h.visible=this.visible;for(var v=0;v<this.children.length;v++){var x=this.children[v];h.add(x.clone())}return h}setVisible(h){this.visible=h;for(var v=0;v<this.children.length;v++){var x=this.children[v];x.setVisible(h)}}}class u extends o{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(h){if(h instanceof l)this.__lights.indexOf(h)===-1&&this.__lights.push(h),h.target&&h.target.parent===void 0&&this.add(h.target);else if(this.__objects.indexOf(h)===-1){this.__objects.push(h),this.__objectsAdded.push(h);var v=this.__objectsRemoved.indexOf(h);v!==-1&&this.__objectsRemoved.splice(v,1)}for(var x=0;x<h.children.length;x++)this.__addObject(h.children[x])}__removeObject(h){var v;if(h instanceof l)v=this.__lights.indexOf(h),v!==-1&&this.__lights.splice(v,1);else if(v=this.__objects.indexOf(h),v!==-1){this.__objects.splice(v,1),this.__objectsRemoved.push(h);var x=this.__objectsAdded.indexOf(h);x!==-1&&this.__objectsAdded.splice(v,1)}for(var S=0;S<h.children.length;S++)this.__removeObject(h.children[S])}}class l extends o{constructor(h,v=1){super(),this.position=new n.Vector3(0,1,0),this.target=new o,this.castShadow=!1,this.onlyShadow=!1,this.color=new a.Color(h),this.intensity=v}}},"./src/WebGL/core/Projector.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Projector:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Matrix4;class s{static unprojectVector(u,l){return l.projectionMatrixInverse.getInverse(l.projectionMatrix),a.multiplyMatrices(l.matrixWorld,l.projectionMatrixInverse),u.applyProjection(a)}static projectVector(u,l){return l.matrixWorldInverse.getInverse(l.matrixWorld),a.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),u.applyProjection(a)}projectVector(u,l){return s.projectVector(u,l)}unprojectVector(u,l){return s.unprojectVector(u,l)}}},"./src/WebGL/core/Raycaster.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Raycaster:()=>u,intersectObject:()=>y});var n=r("./src/WebGL/math/index.ts"),a=r("./src/WebGL/shapes/index.ts");let s=(b,C)=>b.distance-C.distance,o=new n.Matrix4;class u{constructor(C,E,p,f){this.precision=1e-4,this.linePrecision=.2,this.ray=new n.Ray(C,E),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=f||0,this.far=p||1/0}set(C,E){this.ray.set(C,E)}setFromCamera(C,E){E.ortho?(this.ray.origin.set(C.x,C.y,(E.near+E.far)/(E.near-E.far)).unproject(E),this.ray.direction.set(0,0,-1).transformDirection(E.matrixWorld)):(this.ray.origin.setFromMatrixPosition(E.matrixWorld),this.ray.direction.set(C.x,C.y,C.z),E.projectionMatrixInverse.getInverse(E.projectionMatrix),o.multiplyMatrices(E.matrixWorld,E.projectionMatrixInverse),this.ray.direction.applyProjection(o),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(C,E){for(var p=[],f=0,D=E.length;f<D;f++)y(C,E[f],this,p);return p.sort(s),p}}let l=b=>Math.min(Math.max(b,-1),1);var g=new a.Sphere,h=new a.Cylinder,v=new a.Triangle,x=new n.Vector3,S=new n.Vector3,w=new n.Vector3,c=new n.Vector3,_=new n.Vector3;function y(b,C,E,p){if(_.getPositionFromMatrix(b.matrixWorld),C.intersectionShape===void 0)return p;var f=C.intersectionShape,D=E.linePrecision;D*=b.matrixWorld.getMaxScaleOnAxis();var M=D*D;if(C.boundingSphere!==void 0&&C.boundingSphere instanceof a.Sphere&&(g.copy(C.boundingSphere),g.applyMatrix4(b.matrixWorld),!E.ray.isIntersectionSphere(g)))return p;var N,O,z,k,I,H,Y,q,G,$,j,V,X,Q;for(N=0,O=f.triangle.length;N<O;N++)if(f.triangle[N]instanceof a.Triangle){if(v.copy(f.triangle[N]),v.applyMatrix4(b.matrixWorld),z=v.getNormal(),k=E.ray.direction.dot(z),k>=0||(x.subVectors(v.a,E.ray.origin),Y=z.dot(x)/k,Y<0))continue;S.copy(E.ray.direction).multiplyScalar(Y).add(E.ray.origin),S.sub(v.a),w.copy(v.b).sub(v.a),c.copy(v.c).sub(v.a);var te=w.dot(c),we=w.lengthSq(),Pe=c.lengthSq();if(V=(we*S.dot(c)-te*S.dot(w))/(we*Pe-te*te),V<0||V>1||(j=(S.dot(w)-V*te)/we,j<0||j>1||j+V>1))continue;p.push({clickable:C,distance:Y})}for(N=0,O=f.cylinder.length;N<O;N++)if(f.cylinder[N]instanceof a.Cylinder){if(h.copy(f.cylinder[N]),h.applyMatrix4(b.matrixWorld),x.subVectors(h.c1,E.ray.origin),I=x.dot(h.direction),H=x.dot(E.ray.direction),k=l(E.ray.direction.dot(h.direction)),G=1-k*k,G===0)continue;X=(k*H-I)/G,Q=(H-k*I)/G,S.copy(h.direction).multiplyScalar(X).add(h.c1),w.copy(E.ray.direction).multiplyScalar(Q).add(E.ray.origin),q=c.subVectors(S,w).lengthSq();var xe=h.radius*h.radius;if(q<=xe){if($=(k*I-H)*(k*I-H)-G*(x.lengthSq()-I*I-xe),$<=0?V=Y=Math.sqrt(q):V=Y=(H-k*I-Math.sqrt($))/G,j=k*V-I,j<0||j*j>h.lengthSq()||V<0)continue;p.push({clickable:C,distance:Y})}}for(N=0,O=f.line.length;N<O;N+=2){S.copy(f.line[N]),S.applyMatrix4(b.matrixWorld),w.copy(f.line[N+1]),w.applyMatrix4(b.matrixWorld),c.subVectors(w,S);var Fe=c.lengthSq();c.normalize(),x.subVectors(S,E.ray.origin);var Ae=x.dot(c);H=x.dot(E.ray.direction),k=l(E.ray.direction.dot(c)),G=1-k*k,G!==0&&(X=(k*H-Ae)/G,Q=(H-k*Ae)/G,S.add(c.multiplyScalar(X)),w.copy(E.ray.direction).multiplyScalar(Q).add(E.ray.origin),q=c.subVectors(w,S).lengthSq(),q<M&&X*X<Fe&&p.push({clickable:C,distance:Q}))}for(N=0,O=f.sphere.length;N<O;N++)if(f.sphere[N]instanceof a.Sphere&&(g.copy(f.sphere[N]),g.applyMatrix4(b.matrixWorld),E.ray.isIntersectionSphere(g))){S.subVectors(g.center,E.ray.origin);var be=S.dot(E.ray.direction);if($=be*be-(S.lengthSq()-g.radius*g.radius),be<0)return p;$<=0?Y=be:Y=be-Math.sqrt($),p.push({clickable:C,distance:Y})}return p}},"./src/WebGL/core/Texture.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Texture:()=>u,TextureIdCount:()=>l});var n=r("./src/WebGL/constants/TextureConstants.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/core/EventDispatcher.ts"),o=r("./src/WebGL/core/UVMapping.ts");class u extends s.EventDispatcher{constructor(h,v){super(),this.id=l++,this.name="",this.image=h,this.mapping=new o.UVMapping,this.wrapS=n.ClampToEdgeWrapping,this.wrapT=n.ClampToEdgeWrapping,this.anisotropy=1,v?(this.format=n.RFormat,this.type=n.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=n.NearestFilter,this.minFilter=n.NearestFilter):(this.format=n.RGBAFormat,this.type=n.UnsignedByteType,this.offset=new a.Vector2(0,0),this.repeat=new a.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=n.LinearFilter,this.minFilter=n.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(h=new u){return h.image=this.image,h.mapping=this.mapping,h.wrapS=this.wrapS,h.wrapT=this.wrapT,h.magFilter=this.magFilter,h.minFilter=this.minFilter,h.anisotropy=this.anisotropy,h.format=this.format,h.type=this.type,h.offset.copy(this.offset),h.repeat.copy(this.repeat),h.premultiplyAlpha=this.premultiplyAlpha,h.flipY=this.flipY,h.unpackAlignment=this.unpackAlignment,h}dispose(){this.dispatchEvent({type:"dispose"})}}let l=0},"./src/WebGL/core/UVMapping.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{UVMapping:()=>n});class n{}},"./src/WebGL/core/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{EventDispatcher:()=>n.EventDispatcher,Geometry:()=>a.Geometry,GeometryGroup:()=>a.GeometryGroup,GeometryIDCount:()=>a.GeometryIDCount,Light:()=>s.Light,Object3D:()=>s.Object3D,Object3DIDCount:()=>s.Object3DIDCount,Projector:()=>o.Projector,Raycaster:()=>u.Raycaster,Scene:()=>s.Scene,Texture:()=>l.Texture,TextureIdCount:()=>l.TextureIdCount,UVMapping:()=>g.UVMapping,intersectObject:()=>u.intersectObject});var n=r("./src/WebGL/core/EventDispatcher.ts"),a=r("./src/WebGL/core/Geometry.ts"),s=r("./src/WebGL/core/Object3D.ts"),o=r("./src/WebGL/core/Projector.ts"),u=r("./src/WebGL/core/Raycaster.ts"),l=r("./src/WebGL/core/Texture.ts"),g=r("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BackSide:()=>n.BackSide,Camera:()=>h.Camera,ClampToEdgeWrapping:()=>n.ClampToEdgeWrapping,Coloring:()=>n.Coloring,Cylinder:()=>g.Cylinder,DoubleSide:()=>n.DoubleSide,EventDispatcher:()=>a.EventDispatcher,FloatType:()=>n.FloatType,Fog:()=>v.Fog,FrontSide:()=>n.FrontSide,Geometry:()=>a.Geometry,GeometryGroup:()=>a.GeometryGroup,GeometryIDCount:()=>a.GeometryIDCount,ImposterMaterial:()=>s.ImposterMaterial,InstancedMaterial:()=>s.InstancedMaterial,Light:()=>a.Light,Line:()=>u.Line,LineBasicMaterial:()=>s.LineBasicMaterial,LineStyle:()=>u.LineStyle,LinearFilter:()=>n.LinearFilter,LinearMipMapLinearFilter:()=>n.LinearMipMapLinearFilter,Material:()=>s.Material,MaterialIdCount:()=>s.MaterialIdCount,Matrix3:()=>o.Matrix3,Matrix4:()=>o.Matrix4,Mesh:()=>u.Mesh,MeshDoubleLambertMaterial:()=>s.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>s.MeshLambertMaterial,MeshOutlineMaterial:()=>s.MeshOutlineMaterial,NearestFilter:()=>n.NearestFilter,Object3D:()=>a.Object3D,Object3DIDCount:()=>a.Object3DIDCount,Projector:()=>a.Projector,Quaternion:()=>o.Quaternion,R32Format:()=>n.R32Format,RFormat:()=>n.RFormat,RGBAFormat:()=>n.RGBAFormat,Ray:()=>o.Ray,Raycaster:()=>a.Raycaster,Renderer:()=>x.Renderer,Scene:()=>a.Scene,ShaderLib:()=>l.ShaderLib,ShaderUtils:()=>l.ShaderUtils,Shading:()=>n.Shading,Sphere:()=>g.Sphere,SphereImposterMaterial:()=>s.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>s.SphereImposterOutlineMaterial,Sprite:()=>u.Sprite,SpriteAlignment:()=>n.SpriteAlignment,SpriteMaterial:()=>s.SpriteMaterial,SpritePlugin:()=>S.SpritePlugin,StickImposterMaterial:()=>s.StickImposterMaterial,StickImposterOutlineMaterial:()=>s.StickImposterOutlineMaterial,Texture:()=>a.Texture,TextureIdCount:()=>a.TextureIdCount,TextureOperations:()=>n.TextureOperations,Triangle:()=>g.Triangle,UVMapping:()=>a.UVMapping,UnsignedByteType:()=>n.UnsignedByteType,Vector2:()=>o.Vector2,Vector3:()=>o.Vector3,VolumetricMaterial:()=>s.VolumetricMaterial,basic:()=>l.basic,clamp:()=>o.clamp,clone:()=>l.clone,conversionMatrix3:()=>o.conversionMatrix3,degToRad:()=>o.degToRad,instanced:()=>l.instanced,intersectObject:()=>a.intersectObject,lambert:()=>l.lambert,lambertdouble:()=>l.lambertdouble,outline:()=>l.outline,screen:()=>l.screen,screenaa:()=>l.screenaa,sphereimposter:()=>l.sphereimposter,sphereimposteroutline:()=>l.sphereimposteroutline,sprite:()=>l.sprite,stickimposter:()=>l.stickimposter,stickimposteroutline:()=>l.stickimposteroutline,volumetric:()=>l.volumetric});var n=r("./src/WebGL/constants/index.ts"),a=r("./src/WebGL/core/index.ts"),s=r("./src/WebGL/materials/index.ts"),o=r("./src/WebGL/math/index.ts"),u=r("./src/WebGL/objects/index.ts"),l=r("./src/WebGL/shaders/index.ts"),g=r("./src/WebGL/shapes/index.ts"),h=r("./src/WebGL/Camera.ts"),v=r("./src/WebGL/Fog.ts"),x=r("./src/WebGL/Renderer.ts"),S=r("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ImposterMaterial:()=>l});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),u=r("./src/WebGL/materials/Material.ts");class l extends u.Material{constructor(h){super(),this.color=new s.Color(16777215),this.ambient=new s.Color(1048575),this.emissive=new s.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new o.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID=null,this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(h)}clone(h=new l){return super.clone.call(this,h),h.color.copy(this.color),h.ambient.copy(this.ambient),h.emissive.copy(this.emissive),h.wrapAround=this.wrapAround,h.wrapRGB.copy(this.wrapRGB),h.map=this.map,h.lightMap=this.lightMap,h.specularMap=this.specularMap,h.envMap=this.envMap,h.combine=this.combine,h.reflectivity=this.reflectivity,h.refractionRatio=this.refractionRatio,h.fog=this.fog,h.shading=this.shading,h.shaderID=this.shaderID,h.vertexColors=this.vertexColors,h.skinning=this.skinning,h.morphTargets=this.morphTargets,h.morphNormals=this.morphNormals,h}}},"./src/WebGL/materials/InstancedMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstancedMaterial:()=>l});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),u=r("./src/WebGL/materials/Material.ts");class l extends u.Material{constructor(h){super(),this.color=new s.Color(16777215),this.ambient=new s.Color(1048575),this.emissive=new s.Color(0),this.wrapAround=!1,this.wrapRGB=new o.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(h)}clone(h=new l){return super.clone.call(this,h),h.color.copy(this.color),h.ambient.copy(this.ambient),h.emissive.copy(this.emissive),h.wrapAround=this.wrapAround,h.wrapRGB.copy(this.wrapRGB),h.map=this.map,h.lightMap=this.lightMap,h.specularMap=this.specularMap,h.envMap=this.envMap,h.combine=this.combine,h.reflectivity=this.reflectivity,h.refractionRatio=this.refractionRatio,h.fog=this.fog,h.shading=this.shading,h.shaderID=this.shaderID,h.vertexColors=this.vertexColors,h.skinning=this.skinning,h.morphTargets=this.morphTargets,h.morphNormals=this.morphNormals,h.sphere=this.sphere,h}}},"./src/WebGL/materials/LineBasicMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{LineBasicMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/Material.ts");class s extends a.Material{constructor(u){super(),this.color=new n.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(u)}clone(u=new s){return super.clone.call(this,u),u.color.copy(this.color),u}}},"./src/WebGL/materials/Material.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Material:()=>u,MaterialIdCount:()=>l});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/WebGL/core/index.ts"),s=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts");class u extends a.EventDispatcher{constructor(){super(...arguments),this.id=l++,this.name="",this.side=n.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.stencilTest=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1}setValues(h={}){if(h!==void 0)for(var v in h){var x=h[v];if(x===void 0){console.warn("$3Dmol.Material: '"+v+"' parameter is undefined.");continue}if(v in this){var S=this[v];S instanceof o.Color&&x instanceof o.Color?S.copy(x):S instanceof o.Color?S.set(x):S instanceof s.Vector3&&x instanceof s.Vector3?S.copy(x):this[v]=x}}}clone(h=new u){return h.name=this.name,h.side=this.side,h.opacity=this.opacity,h.transparent=this.transparent,h.depthTest=this.depthTest,h.depthWrite=this.depthWrite,h.stencilTest=this.stencilTest,h.polygonOffset=this.polygonOffset,h.polygonOffsetFactor=this.polygonOffsetFactor,h.polygonOffsetUnits=this.polygonOffsetUnits,h.alphaTest=this.alphaTest,h.overdraw=this.overdraw,h.visible=this.visible,h}dispose(){this.dispatchEvent({type:"dispose"})}}let l=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshDoubleLambertMaterial:()=>s});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/WebGL/materials/MeshLambertMaterial.ts");class s extends a.MeshLambertMaterial{constructor(u){super(u),this.shaderID="lambertdouble",this.side=n.DoubleSide,this.outline=!1}clone(u=new s){return super.clone.call(this,u),u}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshLambertMaterial:()=>l});var n=r("./src/WebGL/constants/Coloring.ts"),a=r("./src/WebGL/constants/Shading.ts"),s=r("./src/WebGL/materials/Material.ts"),o=r("./src/colors.ts"),u=r("./src/WebGL/math/index.ts");class l extends s.Material{constructor(h){super(),this.color=new o.Color(16777215),this.ambient=new o.Color(1048575),this.emissive=new o.Color(0),this.wrapAround=!1,this.wrapRGB=new u.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=a.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(h)}clone(h=new l){return super.clone.call(this,h),h.color.copy(this.color),h.ambient.copy(this.ambient),h.emissive.copy(this.emissive),h.wrapAround=this.wrapAround,h.wrapRGB.copy(this.wrapRGB),h.map=this.map,h.lightMap=this.lightMap,h.specularMap=this.specularMap,h.envMap=this.envMap,h.combine=this.combine,h.reflectivity=this.reflectivity,h.refractionRatio=this.refractionRatio,h.fog=this.fog,h.shading=this.shading,h.shaderID=this.shaderID,h.vertexColors=this.vertexColors,h.skinning=this.skinning,h.morphTargets=this.morphTargets,h.morphNormals=this.morphNormals,h}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MeshOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/Material.ts");class s extends a.Material{constructor(u){super(),u=u||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=u.color||new n.Color(0,0,0),this.outlineWidth=u.width||.1,this.outlinePushback=u.pushback||1}clone(u=new s){return super.clone.call(this,u),u.fog=this.fog,u.shaderID=this.shaderID,u.wireframe=this.wireframe,u}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SphereImposterMaterial:()=>a});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class a extends n.ImposterMaterial{constructor(o){super(o),this.shaderID="sphereimposter",this.setValues(o)}clone(o=new a){return super.clone.call(this,o),o}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SphereImposterOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/ImposterMaterial.ts");class s extends a.ImposterMaterial{constructor(u){super(u),u=u||{},this.shaderID="sphereimposteroutline",this.outlineColor=u.color||new n.Color(0,0,0),this.outlineWidth=u.width||.1,this.outlinePushback=u.pushback||1,this.setValues(u)}clone(u=new s){return super.clone.call(this,u),u.outlineColor=this.outlineColor,u.outlineWidth=this.outlineWidth,u.outlinePushback=this.outlinePushback,u}}},"./src/WebGL/materials/SpriteMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SpriteMaterial:()=>l});var n=r("./src/WebGL/constants/SpriteAlignment.ts"),a=r("./src/WebGL/core/Texture.ts"),s=r("./src/colors.ts"),o=r("./src/WebGL/math/index.ts"),u=r("./src/WebGL/materials/Material.ts");class l extends u.Material{constructor(h){super(),this.color=new s.Color(16777215),this.map=new a.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new o.Vector2(0,0),this.uvScale=new o.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=n.SpriteAlignment.center.clone(),this.setValues(h),h=h||{},h.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),h.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),h.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(h=new l){return super.clone.call(this,h),h.color.copy(this.color),h.map=this.map,h.useScreenCoordinates=this.useScreenCoordinates,h.screenOffset=this.screenOffset,h.sizeAttenuation=this.sizeAttenuation,h.scaleByViewport=this.scaleByViewPort,h.alignment.copy(this.alignment),h.uvOffset.copy(this.uvOffset),h}}},"./src/WebGL/materials/StickImposterMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StickImposterMaterial:()=>a});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class a extends n.ImposterMaterial{constructor(o){super(o),this.shaderID="stickimposter",this.setValues(o)}clone(o=new a){return super.clone.call(this,o),o}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{StickImposterOutlineMaterial:()=>s});var n=r("./src/colors.ts"),a=r("./src/WebGL/materials/ImposterMaterial.ts");class s extends a.ImposterMaterial{constructor(u={}){super(u),this.shaderID="stickimposteroutline",this.outlineColor=new n.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,u.color&&(this.outlineColor=u.color),u.width&&(this.outlineWidth=u.width),u.pushback&&(this.outlinePushback=u.pushback),this.setValues(u)}clone(u=new s){return super.clone.call(this,u),u.outlineColor=this.outlineColor,u.outlineWidth=this.outlineWidth,u.outlinePushback=this.outlinePushback,u}}},"./src/WebGL/materials/VolumetricMaterial.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VolumetricMaterial:()=>o});var n=r("./src/WebGL/constants/Sides.ts"),a=r("./src/colors.ts"),s=r("./src/WebGL/materials/Material.ts");class o extends s.Material{constructor(l){super(),this.transparent=!1,this.volumetric=!0,this.color=new a.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=n.FrontSide,this.setValues(l)}clone(l=new o){return super.clone.call(this,l),l.transparent=this.transparent,l.volumetric=this.volumetric,l.color=this.color,l.transferfn=this.transferfn,l.map=this.map,l.extent=this.extent,l.maxdepth=this.maxdepth,l.unit=this.unit,l.texmatrix=this.texmatrix,l.transfermin=this.transfermin,l.transfermax=this.transfermax,l.subsamples=this.subsamples,l.shaderID=this.shaderID,l.side=this.side,l}}},"./src/WebGL/materials/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ImposterMaterial:()=>n.ImposterMaterial,InstancedMaterial:()=>a.InstancedMaterial,LineBasicMaterial:()=>s.LineBasicMaterial,Material:()=>o.Material,MaterialIdCount:()=>o.MaterialIdCount,MeshDoubleLambertMaterial:()=>u.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>l.MeshLambertMaterial,MeshOutlineMaterial:()=>g.MeshOutlineMaterial,SphereImposterMaterial:()=>h.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>v.SphereImposterOutlineMaterial,SpriteMaterial:()=>x.SpriteMaterial,StickImposterMaterial:()=>S.StickImposterMaterial,StickImposterOutlineMaterial:()=>w.StickImposterOutlineMaterial,VolumetricMaterial:()=>c.VolumetricMaterial});var n=r("./src/WebGL/materials/ImposterMaterial.ts"),a=r("./src/WebGL/materials/InstancedMaterial.ts"),s=r("./src/WebGL/materials/LineBasicMaterial.ts"),o=r("./src/WebGL/materials/Material.ts"),u=r("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),l=r("./src/WebGL/materials/MeshLambertMaterial.ts"),g=r("./src/WebGL/materials/MeshOutlineMaterial.ts"),h=r("./src/WebGL/materials/SphereImposterMaterial.ts"),v=r("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),x=r("./src/WebGL/materials/SpriteMaterial.ts"),S=r("./src/WebGL/materials/StickImposterMaterial.ts"),w=r("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),c=r("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Quaternion:()=>n});class n{constructor(s,o,u,l){this.x=s||0,this.y=o||0,this.z=u||0,this.w=l!==void 0?l:1}set(s,o,u,l){return this.x=s,this.y=o,this.z=u,this.w=l,this}copy(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let s=this.length();return s===0?(this.x=0,this.y=0,this.z=0,this.w=1):(s=1/s,this.x*=s,this.y*=s,this.z*=s,this.w*=s),this}multiply(s){return this.multiplyQuaternions(this,s)}multiplyScalar(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this}multiplyQuaternions(s,o){let u=s.x,l=s.y,g=s.z,h=s.w,v=o.x,x=o.y,S=o.z,w=o.w;return this.x=u*w+h*v+l*S-g*x,this.y=l*w+h*x+g*v-u*S,this.z=g*w+h*S+u*x-l*v,this.w=h*w-u*v-l*x-g*S,this}sub(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this.w-=s.w,this}clone(){return new n(this.x,this.y,this.z,this.w)}setFromEuler(s){let o=Math.cos(s.x/2),u=Math.cos(s.y/2),l=Math.cos(s.z/2),g=Math.sin(s.x/2),h=Math.sin(s.y/2),v=Math.sin(s.z/2);return this.x=g*u*l+o*h*v,this.y=o*h*l-g*u*v,this.z=o*u*v+g*h*l,this.w=o*u*l-g*h*v,this}}},"./src/WebGL/math/Vector2.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Vector2:()=>n});class n{constructor(s,o){this.x=s||0,this.y=o||0}set(s,o){return this.x=s,this.y=o,this}subVectors(s,o){return this.x=s.x-o.x,this.y=s.y-o.y,this}copy(s){return this.x=s.x,this.y=s.y,this}clone(){return new n(this.x,this.y)}}},"./src/WebGL/math/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Matrix3:()=>l.Matrix3,Matrix4:()=>l.Matrix4,Quaternion:()=>n.Quaternion,Ray:()=>l.Ray,Vector2:()=>a.Vector2,Vector3:()=>l.Vector3,clamp:()=>s.clamp,conversionMatrix3:()=>o.conversionMatrix3,degToRad:()=>u.degToRad});var n=r("./src/WebGL/math/Quaternion.ts"),a=r("./src/WebGL/math/Vector2.ts"),s=r("./src/WebGL/math/utils/clamp.ts"),o=r("./src/WebGL/math/utils/conversionMatrix3.ts"),u=r("./src/WebGL/math/utils/degToRad.ts"),l=r("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Matrix3:()=>x,Matrix4:()=>h,Ray:()=>S,Vector3:()=>v});var n=r("./src/WebGL/math/utils/degToRad.ts"),a=r("./src/WebGL/math/utils/clamp.ts"),s,o,u,l,g;class h{constructor(c=1,_=0,y=0,b=0,C=0,E=1,p=0,f=0,D=0,M=0,N=1,O=0,z=0,k=0,I=0,H=1){typeof c<"u"&&typeof c!="number"?this.elements=new Float32Array(c):(this.elements=new Float32Array(16),this.elements[0]=c,this.elements[4]=_,this.elements[8]=y,this.elements[12]=b,this.elements[1]=C,this.elements[5]=E,this.elements[9]=p,this.elements[13]=f,this.elements[2]=D,this.elements[6]=M,this.elements[10]=N,this.elements[14]=O,this.elements[3]=z,this.elements[7]=k,this.elements[11]=I,this.elements[15]=H)}makeScale(c,_,y){throw new Error("Method not implemented.")}set(c,_,y,b,C,E,p,f,D,M,N,O,z,k,I,H){let Y=this.elements;return Y[0]=c,Y[4]=_,Y[8]=y,Y[12]=b,Y[1]=C,Y[5]=E,Y[9]=p,Y[13]=f,Y[2]=D,Y[6]=M,Y[10]=N,Y[14]=O,Y[3]=z,Y[7]=k,Y[11]=I,Y[15]=H,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(c){let _=c.elements;return this.set(_[0],_[4],_[8],_[12],_[1],_[5],_[9],_[13],_[2],_[6],_[10],_[14],_[3],_[7],_[11],_[15]),this}matrix3FromTopLeft(){let c=this.elements;return new x(c[0],c[4],c[8],c[1],c[5],c[9],c[2],c[6],c[10])}setRotationFromEuler(c,_){let y=this.elements,{x:b,y:C,z:E}=c,p=Math.cos(b),f=Math.sin(b),D=Math.cos(C),M=Math.sin(C),N=Math.cos(E),O=Math.sin(E);if(_===void 0||_==="XYZ"){let z=p*N,k=p*O,I=f*N,H=f*O;y[0]=D*N,y[4]=-D*O,y[8]=M,y[1]=k+I*M,y[5]=z-H*M,y[9]=-f*D,y[2]=H-z*M,y[6]=I+k*M,y[10]=p*D}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${_}`);return this}setRotationFromQuaternion(c){let _=this.elements,{x:y,y:b,z:C,w:E}=c,p=y+y,f=b+b,D=C+C,M=y*p,N=y*f,O=y*D,z=b*f,k=b*D,I=C*D,H=E*p,Y=E*f,q=E*D;return _[0]=1-(z+I),_[4]=N-q,_[8]=O+Y,_[1]=N+q,_[5]=1-(M+I),_[9]=k-H,_[2]=O-Y,_[6]=k+H,_[10]=1-(M+z),this}multiplyMatrices(c,_){let y=c.elements,b=_.elements,C=this.elements,E=y[0],p=y[4],f=y[8],D=y[12],M=y[1],N=y[5],O=y[9],z=y[13],k=y[2],I=y[6],H=y[10],Y=y[14],q=y[3],G=y[7],$=y[11],j=y[15],V=b[0],X=b[4],Q=b[8],te=b[12],we=b[1],Pe=b[5],xe=b[9],Fe=b[13],Ae=b[2],be=b[6],Qe=b[10],Xe=b[14],U=b[3],pe=b[7],_e=b[11],ie=b[15];return C[0]=E*V+p*we+f*Ae+D*U,C[4]=E*X+p*Pe+f*be+D*pe,C[8]=E*Q+p*xe+f*Qe+D*_e,C[12]=E*te+p*Fe+f*Xe+D*ie,C[1]=M*V+N*we+O*Ae+z*U,C[5]=M*X+N*Pe+O*be+z*pe,C[9]=M*Q+N*xe+O*Qe+z*_e,C[13]=M*te+N*Fe+O*Xe+z*ie,C[2]=k*V+I*we+H*Ae+Y*U,C[6]=k*X+I*Pe+H*be+Y*pe,C[10]=k*Q+I*xe+H*Qe+Y*_e,C[14]=k*te+I*Fe+H*Xe+Y*ie,C[3]=q*V+G*we+$*Ae+j*U,C[7]=q*X+G*Pe+$*be+j*pe,C[11]=q*Q+G*xe+$*Qe+j*_e,C[15]=q*te+G*Fe+$*Xe+j*ie,this}multiplyScalar(c){let _=this.elements;return _[0]*=c,_[4]*=c,_[8]*=c,_[12]*=c,_[1]*=c,_[5]*=c,_[9]*=c,_[13]*=c,_[2]*=c,_[6]*=c,_[10]*=c,_[14]*=c,_[3]*=c,_[7]*=c,_[11]*=c,_[15]*=c,this}makeTranslation(c,_,y){return this.set(1,0,0,c,0,1,0,_,0,0,1,y,0,0,0,1),this}snap(c){c||(c=4);let _=Math.pow(10,4),y=this.elements;for(let b=0;b<16;b++){let C=Math.round(y[b]);C===Math.round(y[b]*_)/_&&(y[b]=C)}return this}transpose(){let c=this.elements,_;return _=c[1],c[1]=c[4],c[4]=_,_=c[2],c[2]=c[8],c[8]=_,_=c[6],c[6]=c[9],c[9]=_,_=c[3],c[3]=c[12],c[12]=_,_=c[7],c[7]=c[13],c[13]=_,_=c[11],c[11]=c[14],c[14]=_,this}setPosition(c){let _=this.elements;return _[12]=c.x,_[13]=c.y,_[14]=c.z,this}translate(c){let _=this.elements;return _[12]+=c.x,_[13]+=c.y,_[14]+=c.z,this}getInverse(c,_){let y=this.elements,b=c.elements,C=b[0],E=b[4],p=b[8],f=b[12],D=b[1],M=b[5],N=b[9],O=b[13],z=b[2],k=b[6],I=b[10],H=b[14],Y=b[3],q=b[7],G=b[11],$=b[15];y[0]=N*H*q-O*I*q+O*k*G-M*H*G-N*k*$+M*I*$,y[4]=f*I*q-p*H*q-f*k*G+E*H*G+p*k*$-E*I*$,y[8]=p*O*q-f*N*q+f*M*G-E*O*G-p*M*$+E*N*$,y[12]=f*N*k-p*O*k-f*M*I+E*O*I+p*M*H-E*N*H,y[1]=O*I*Y-N*H*Y-O*z*G+D*H*G+N*z*$-D*I*$,y[5]=p*H*Y-f*I*Y+f*z*G-C*H*G-p*z*$+C*I*$,y[9]=f*N*Y-p*O*Y-f*D*G+C*O*G+p*D*$-C*N*$,y[13]=p*O*z-f*N*z+f*D*I-C*O*I-p*D*H+C*N*H,y[2]=M*H*Y-O*k*Y+O*z*q-D*H*q-M*z*$+D*k*$,y[6]=f*k*Y-E*H*Y-f*z*q+C*H*q+E*z*$-C*k*$,y[10]=E*O*Y-f*M*Y+f*D*q-C*O*q-E*D*$+C*M*$,y[14]=f*M*z-E*O*z-f*D*k+C*O*k+E*D*H-C*M*H,y[3]=N*k*Y-M*I*Y-N*z*q+D*I*q+M*z*G-D*k*G,y[7]=E*I*Y-p*k*Y+p*z*q-C*I*q-E*z*G+C*k*G,y[11]=p*M*Y-E*N*Y-p*D*q+C*N*q+E*D*G-C*M*G,y[15]=E*N*z-p*M*z+p*D*k-C*N*k-E*D*I+C*M*I;let j=C*y[0]+D*y[4]+z*y[8]+Y*y[12];if(j===0){let V="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(_)throw new Error(V);return console.warn(V),this.identity(),this}return this.multiplyScalar(1/j),this}isReflected(){let c=this.elements,_=c[0],y=c[4],b=c[8],C=c[1],E=c[5],p=c[9],f=c[2],D=c[6],M=c[10];return _*E*M+C*D*b+f*y*p-f*E*b-C*y*M-_*D*p<0}scale(c){let _=this.elements,{x:y}=c,{y:b}=c,{z:C}=c;return _[0]*=y,_[4]*=b,_[8]*=C,_[1]*=y,_[5]*=b,_[9]*=C,_[2]*=y,_[6]*=b,_[10]*=C,_[3]*=y,_[7]*=b,_[11]*=C,this}getMaxScaleOnAxis(){let c=this.elements,_=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],y=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],b=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(_,Math.max(y,b)))}makeFrustum(c,_,y,b,C,E){let p=this.elements,f=2*C/(_-c),D=2*C/(b-y),M=(_+c)/(_-c),N=(b+y)/(b-y),O=-(E+C)/(E-C),z=-2*E*C/(E-C);return p[0]=f,p[4]=0,p[8]=M,p[12]=0,p[1]=0,p[5]=D,p[9]=N,p[13]=0,p[2]=0,p[6]=0,p[10]=O,p[14]=z,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makePerspective(c,_,y,b){let C=y*Math.tan((0,n.degToRad)(c*.5)),E=-C,p=E*_,f=C*_;return this.makeFrustum(p,f,E,C,y,b)}makeOrthographic(c,_,y,b,C,E){let p=this.elements,f=1/(_-c),D=1/(y-b),M=1/(E-C),N=(_+c)*f,O=(y+b)*D,z=(E+C)*M;return p[0]=2*f,p[4]=0,p[8]=0,p[12]=-N,p[1]=0,p[5]=2*D,p[9]=0,p[13]=-O,p[2]=0,p[6]=0,p[10]=-2*M,p[14]=-z,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}isEqual(c){let _=c.elements,y=this.elements;return y[0]===_[0]&&y[4]===_[4]&&y[8]===_[8]&&y[12]===_[12]&&y[1]===_[1]&&y[5]===_[5]&&y[9]===_[9]&&y[13]===_[13]&&y[2]===_[2]&&y[6]===_[6]&&y[10]===_[10]&&y[14]===_[14]&&y[3]===_[3]&&y[7]===_[7]&&y[11]===_[11]&&y[15]===_[15]}clone(){let c=this.elements;return new h(c[0],c[4],c[8],c[12],c[1],c[5],c[9],c[13],c[2],c[6],c[10],c[14],c[3],c[7],c[11],c[15])}isIdentity(){let c=this.elements;return c[0]===1&&c[4]===0&&c[8]===0&&c[12]===0&&c[1]===0&&c[5]===1&&c[9]===0&&c[13]===0&&c[2]===0&&c[6]===0&&c[10]===1&&c[14]===0&&c[3]===0&&c[7]===0&&c[11]===0&&c[15]===1}isNearlyIdentity(c){return this.clone().snap(c).isIdentity()}getScale(c){let _=this.elements;return c=c||new v,u.set(_[0],_[1],_[2]),l.set(_[4],_[5],_[6]),g.set(_[8],_[9],_[10]),c.x=u.length(),c.y=l.length(),c.z=g.length(),c}lookAt(c,_,y){let b=this.elements;return g.subVectors(c,_).normalize(),g.length()===0&&(g.z=1),u.crossVectors(y,g).normalize(),u.length()===0&&(g.x+=1e-4,u.crossVectors(y,g).normalize()),l.crossVectors(g,u),b[0]=u.x,b[4]=l.x,b[8]=g.x,b[1]=u.y,b[5]=l.y,b[9]=g.y,b[2]=u.z,b[6]=l.z,b[10]=g.z,this}compose(c,_,y){let b=this.elements;return s.identity(),s.setRotationFromQuaternion(_),o.makeScale(y.x,y.y,y.z),this.multiplyMatrices(s,o),b[12]=c.x,b[13]=c.y,b[14]=c.z,this}}s=new h,o=new h;class v{constructor(c,_,y){this.x=c||0,this.y=_||0,this.z=y||0,this.atomid=void 0}set(c,_,y){return this.x=c,this.y=_,this.z=y,this}copy(c){return this.x=c.x,this.y=c.y,this.z=c.z,this}add(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z,this}addVectors(c,_){return this.x=c.x+_.x,this.y=c.y+_.y,this.z=c.z+_.z,this}multiplyVectors(c,_){return this.x=c.x*_.x,this.y=c.y*_.y,this.z=c.z*_.z,this}sub(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z,this}subVectors(c,_){return this.x=c.x-_.x,this.y=c.y-_.y,this.z=c.z-_.z,this}multiplyScalar(c){return this.x*=c,this.y*=c,this.z*=c,this}divideScalar(c){return c!==0?(this.x/=c,this.y/=c,this.z/=c):(this.x=0,this.y=0,this.z=0),this}max(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this}min(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this}distanceTo(c){return Math.sqrt(this.distanceToSquared(c))}distanceToSquared(c){let _=this.x-c.x,y=this.y-c.y,b=this.z-c.z;return _*_+y*y+b*b}applyMatrix3(c){let{x:_}=this,{y}=this,{z:b}=this,C=c.elements;return this.x=C[0]*_+C[3]*y+C[6]*b,this.y=C[1]*_+C[4]*y+C[7]*b,this.z=C[2]*_+C[5]*y+C[8]*b,this}applyMatrix4(c){let{x:_}=this,{y}=this,{z:b}=this,C=c.elements;return this.x=C[0]*_+C[4]*y+C[8]*b+C[12],this.y=C[1]*_+C[5]*y+C[9]*b+C[13],this.z=C[2]*_+C[6]*y+C[10]*b+C[14],this}applyProjection(c){let{x:_}=this,{y}=this,{z:b}=this,C=c.elements,E=C[3]*_+C[7]*y+C[11]*b+C[15];return this.x=(C[0]*_+C[4]*y+C[8]*b+C[12])/E,this.y=(C[1]*_+C[5]*y+C[9]*b+C[13])/E,this.z=(C[2]*_+C[6]*y+C[10]*b+C[14])/E,this}applyQuaternion(c){let{x:_}=this,{y}=this,{z:b}=this,C=c.x,E=c.y,p=c.z,f=c.w,D={};D.x=2*(y*p-b*E),D.y=2*(b*C-_*p),D.z=2*(_*E-y*C);let M={};return M.x=D.y*p-D.z*E,M.y=D.z*C-D.x*p,M.z=D.x*E-D.y*C,this.x=_+f*D.x+M.x,this.y=y+f*D.y+M.y,this.z=b+f*D.z+M.z,this}negate(){return this.multiplyScalar(-1)}dot(c){return this.x*c.x+this.y*c.y+this.z*c.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(c){let{x:_}=this,{y}=this,{z:b}=this;return this.x=y*c.z-b*c.y,this.y=b*c.x-_*c.z,this.z=_*c.y-y*c.x,this}crossVectors(c,_){return this.x=c.y*_.z-c.z*_.y,this.y=c.z*_.x-c.x*_.z,this.z=c.x*_.y-c.y*_.x,this}equals(c){return this.x==c.x&&this.y==c.y&&this.z==c.z}getPositionFromMatrix(c){return this.x=c.elements[12],this.y=c.elements[13],this.z=c.elements[14],this}setEulerFromRotationMatrix(c,_){let y=c.elements,b=y[0],C=y[4],E=y[8],p=y[5],f=y[9],D=y[6],M=y[10];return _===void 0||_==="XYZ"?(this.y=Math.asin((0,a.clamp)(E,-1,1)),Math.abs(E)<.99999?(this.x=Math.atan2(-f,M),this.z=Math.atan2(-C,b)):(this.x=Math.atan2(D,p),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${_}`),this}rotateAboutVector(c,_){c.normalize();let y=Math.cos(_),b=Math.sin(_),C=this.clone().multiplyScalar(y),E=c.clone().cross(this).multiplyScalar(b),p=c.clone().multiplyScalar(c.clone().dot(this)).multiplyScalar(1-y),f=C.add(E).add(p);return this.x=f.x,this.y=f.y,this.z=f.z,this}setFromMatrixPosition(c){let _=c.elements;return this.x=_[12],this.y=_[13],this.z=_[14],this}transformDirection(c){let{x:_}=this,{y}=this,{z:b}=this,C=c.elements;return this.x=C[0]*_+C[4]*y+C[8]*b,this.y=C[1]*_+C[5]*y+C[9]*b,this.z=C[2]*_+C[6]*y+C[10]*b,this.normalize()}clone(){return new v(this.x,this.y,this.z)}unproject(c){let _=s;return _.multiplyMatrices(c.matrixWorld,_.getInverse(c.projectionMatrix)),this.applyMatrix4(_)}}u=new v,l=new v,g=new v;class x{constructor(c=1,_=0,y=0,b=0,C=1,E=0,p=0,f=0,D=1){this.elements=new Float32Array(9),this.set(c,_,y,b,C,E,p,f,D)}set(c,_,y,b,C,E,p,f,D){let M=this.elements;return M[0]=c,M[3]=_,M[6]=y,M[1]=b,M[4]=C,M[7]=E,M[2]=p,M[5]=f,M[8]=D,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(c){let _=c.elements;this.set(_[0],_[3],_[6],_[1],_[4],_[7],_[2],_[5],_[8])}multiplyScalar(c){let _=this.elements;return _[0]*=c,_[3]*=c,_[6]*=c,_[1]*=c,_[4]*=c,_[7]*=c,_[2]*=c,_[5]*=c,_[8]*=c,this}getInverse3(c){let _=c.elements,y=this.elements;y[0]=_[4]*_[8]-_[5]*_[7],y[3]=_[6]*_[5]-_[3]*_[8],y[6]=_[3]*_[7]-_[6]*_[4],y[1]=_[7]*_[2]-_[1]*_[8],y[4]=_[0]*_[8]-_[6]*_[2],y[7]=_[1]*_[6]-_[0]*_[7],y[2]=_[1]*_[5]-_[2]*_[4],y[5]=_[2]*_[3]-_[0]*_[5],y[8]=_[0]*_[4]-_[1]*_[3];let b=_[0]*y[0]+_[3]*y[1]+_[6]*y[2];return this.multiplyScalar(1/b),this}getInverse(c,_){let y=c.elements,b=this.elements;b[0]=y[10]*y[5]-y[6]*y[9],b[1]=-y[10]*y[1]+y[2]*y[9],b[2]=y[6]*y[1]-y[2]*y[5],b[3]=-y[10]*y[4]+y[6]*y[8],b[4]=y[10]*y[0]-y[2]*y[8],b[5]=-y[6]*y[0]+y[2]*y[4],b[6]=y[9]*y[4]-y[5]*y[8],b[7]=-y[9]*y[0]+y[1]*y[8],b[8]=y[5]*y[0]-y[1]*y[4];let C=y[0]*b[0]+y[1]*b[3]+y[2]*b[6];if(C===0){let E="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(_)throw new Error(E);return console.warn(E),this.identity(),this}return this.multiplyScalar(1/C),this}getDeterminant(){let c=this.elements;return c[0]*c[4]*c[8]+c[1]*c[5]*c[6]+c[2]*c[3]*c[7]-c[2]*c[4]*c[6]-c[1]*c[3]*c[8]-c[0]*c[5]*c[7]}transpose(){let c,_=this.elements;return c=_[1],_[1]=_[3],_[3]=c,c=_[2],_[2]=_[6],_[6]=c,c=_[5],_[5]=_[7],_[7]=c,this}clone(){let c=this.elements;return new x(c[0],c[3],c[6],c[1],c[4],c[7],c[2],c[5],c[8])}getMatrix4(){let c=this.elements;return new h(c[0],c[3],c[6],0,c[1],c[4],c[7],0,c[2],c[5],c[8],0)}}class S{constructor(c,_){this.origin=c!==void 0?c:new v,this.direction=_!==void 0?_:new v}set(c,_){return this.origin.copy(c),this.direction.copy(_),this}copy(c){return this.origin.copy(c.origin),this.direction.copy(c.direction),this}at(c,_){return(_||new v).copy(this.direction).multiplyScalar(c).add(this.origin)}recast(c){let _=u;return this.origin.copy(this.at(c,_)),this}closestPointToPoint(c,_){let y=_||new v;y.subVectors(c,this.origin);let b=y.dot(this.direction);return y.copy(this.direction).multiplyScalar(b).add(this.origin)}distanceToPoint(c){let _=u,y=_.subVectors(c,this.origin).dot(this.direction);return _.copy(this.direction).multiplyScalar(y).add(this.origin),_.distanceTo(c)}isIntersectionCylinder(){}isIntersectionSphere(c){return this.distanceToPoint(c.center)<=c.radius}isIntersectionPlane(c){return c.normal.dot(this.direction)!==0||c.distanceToPoint(this.origin)===0}distanceToPlane(c){let _=c.normal.dot(this.direction);return _===0?c.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(c.normal)+c.constant)/_}intersectPlane(c,_){let y=this.distanceToPlane(c);if(y!==void 0)return this.at(y,_)}applyMatrix4(c){return this.direction.add(this.origin).applyMatrix4(c),this.origin.applyMatrix4(c),this.direction.sub(this.origin),this}clone(){return new S().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{clamp:()=>n});function n(a,s,o){return Math.min(Math.max(a,s),o)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{conversionMatrix3:()=>a});var n=r("./src/WebGL/math/math.ts");function a(s,o,u,l,g,h){l=l*Math.PI/180,g=g*Math.PI/180,h=h*Math.PI/180;let v=y=>y*y,x=Math.cos(l),S=Math.cos(g),w=Math.cos(h),c=Math.sin(h);return new n.Matrix3(s,o*w,u*S,0,o*c,u*(x-S*w)/c,0,0,u*Math.sqrt(1-v(x)-v(S)-v(w)+2*x*S*w)/c)}},"./src/WebGL/math/utils/degToRad.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{degToRad:()=>a});let n=Math.PI/180;function a(s){return s*n}},"./src/WebGL/objects/Line.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Line:()=>o,LineStyle:()=>s});var n=r("./src/WebGL/materials/index.ts"),a=r("./src/WebGL/core/index.ts"),s;(function(u){u[u.LineStrip=0]="LineStrip",u[u.LinePieces=1]="LinePieces"})(s||(s={}));class o extends a.Object3D{constructor(l,g=new n.LineBasicMaterial({color:Math.random()*16777215}),h=s.LineStrip){super(),this.geometry=l,this.material=g,this.type=h}clone(l=new o(this.geometry,this.material,this.type)){return super.clone.call(this,l),l}}},"./src/WebGL/objects/Mesh.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Mesh:()=>a});var n=r("./src/WebGL/core/index.ts");class a extends n.Object3D{constructor(o,u){super(),this.geometry=o,this.material=u}clone(o){return o===void 0&&(o=new a(this.geometry,this.material)),super.clone.call(this,o),o}}},"./src/WebGL/objects/Sprite.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Sprite:()=>s});var n=r("./src/WebGL/materials/index.ts"),a=r("./src/WebGL/core/index.ts");class s extends a.Object3D{constructor(u=new n.SpriteMaterial){super(),this.material=u,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(u=new s(this.material)){return a.Object3D.prototype.clone.call(this,u),u}}},"./src/WebGL/objects/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Line:()=>n.Line,LineStyle:()=>n.LineStyle,Mesh:()=>a.Mesh,Sprite:()=>s.Sprite});var n=r("./src/WebGL/objects/Line.ts"),a=r("./src/WebGL/objects/Mesh.ts"),s=r("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(e,t,r)=>{"use strict";r.r(t)},"./src/WebGL/shaders/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderLib:()=>n.ShaderLib,ShaderUtils:()=>a.ShaderUtils,basic:()=>n.basic,clone:()=>a.clone,instanced:()=>n.instanced,lambert:()=>n.lambert,lambertdouble:()=>n.lambertdouble,outline:()=>n.outline,screen:()=>n.screen,screenaa:()=>n.screenaa,sphereimposter:()=>n.sphereimposter,sphereimposteroutline:()=>n.sphereimposteroutline,sprite:()=>n.sprite,stickimposter:()=>n.stickimposter,stickimposteroutline:()=>n.stickimposteroutline,volumetric:()=>n.volumetric});var n=r("./src/WebGL/shaders/lib/index.ts"),a=r("./src/WebGL/shaders/utils/index.ts"),s=r("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{basic:()=>o});var n=r("./src/WebGL/shaders/lib/basic/uniforms.ts"),a=r("./src/WebGL/shaders/lib/basic/basic.frag"),s=r("./src/WebGL/shaders/lib/basic/basic.vert");let o={vertexShader:s.default.replace("#define GLSLIFY 1",""),fragmentShader:a.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderLib:()=>_,basic:()=>n.basic,instanced:()=>a.instanced,lambert:()=>s.lambert,lambertdouble:()=>o.lambertdouble,outline:()=>u.outline,screen:()=>l.screen,screenaa:()=>g.screenaa,sphereimposter:()=>h.sphereimposter,sphereimposteroutline:()=>v.sphereimposteroutline,sprite:()=>x.sprite,stickimposter:()=>S.stickimposter,stickimposteroutline:()=>w.stickimposteroutline,volumetric:()=>c.volumetric});var n=r("./src/WebGL/shaders/lib/basic/index.ts"),a=r("./src/WebGL/shaders/lib/instanced/index.ts"),s=r("./src/WebGL/shaders/lib/lambert/index.ts"),o=r("./src/WebGL/shaders/lib/lambertdouble/index.ts"),u=r("./src/WebGL/shaders/lib/outline/index.ts"),l=r("./src/WebGL/shaders/lib/screen/index.ts"),g=r("./src/WebGL/shaders/lib/screenaa/index.ts"),h=r("./src/WebGL/shaders/lib/sphereimposter/index.ts"),v=r("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),x=r("./src/WebGL/shaders/lib/sprite/index.ts"),S=r("./src/WebGL/shaders/lib/stickimposter/index.ts"),w=r("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),c=r("./src/WebGL/shaders/lib/volumetric/index.ts");let _={basic:n.basic,instanced:a.instanced,lambert:s.lambert,lambertdouble:o.lambertdouble,outline:u.outline,screen:l.screen,screenaa:g.screenaa,sphereimposter:h.sphereimposter,sphereimposteroutline:v.sphereimposteroutline,sprite:x.sprite,stickimposter:S.stickimposter,stickimposteroutline:w.stickimposteroutline,volumetric:c.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{instanced:()=>o});var n=r("./src/WebGL/shaders/lib/instanced/uniforms.ts"),a=r("./src/WebGL/shaders/lib/instanced/instanced.frag"),s=r("./src/WebGL/shaders/lib/instanced/instanced.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{lambert:()=>o});var n=r("./src/WebGL/shaders/lib/lambert/uniforms.ts"),a=r("./src/WebGL/shaders/lib/lambert/lambert.frag"),s=r("./src/WebGL/shaders/lib/lambert/lambert.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{lambertdouble:()=>o});var n=r("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),a=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),s=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{outline:()=>o});var n=r("./src/WebGL/shaders/lib/outline/uniforms.ts"),a=r("./src/WebGL/shaders/lib/outline/outline.frag"),s=r("./src/WebGL/shaders/lib/outline/outline.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/screen/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{screen:()=>o});var n=r("./src/WebGL/shaders/lib/screen/uniforms.ts"),a=r("./src/WebGL/shaders/lib/screen/screen.frag"),s=r("./src/WebGL/shaders/lib/screen/screen.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{screenaa:()=>o});var n=r("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),a=r("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),s=r("./src/WebGL/shaders/lib/screenaa/screenaa.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sphereimposter:()=>o});var n=r("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),s=r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");let o={vertexShader:s.default.replace("#define GLSLIFY 1",""),fragmentShader:a.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sphereimposteroutline:()=>o});var n=r("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),s=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/sprite/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{sprite:()=>o});var n=r("./src/WebGL/shaders/lib/sprite/uniforms.ts"),a=r("./src/WebGL/shaders/lib/sprite/sprite.frag"),s=r("./src/WebGL/shaders/lib/sprite/sprite.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>n});let n={}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{stickimposter:()=>l});var n=r("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),s=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),o=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");let l={fragmentShader:[a.default,s.default].join(`
`).replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{stickimposteroutline:()=>u});var n=r("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag"),s=r("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");let u={fragmentShader:(a.default+"gl_FragColor = vec4(color,1.0);}").replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new n.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{volumetric:()=>o});var n=r("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),a=r("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),s=r("./src/WebGL/shaders/lib/volumetric/volumetric.vert");let o={fragmentShader:a.default.replace("#define GLSLIFY 1",""),vertexShader:s.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{uniforms:()=>a});var n=r("./src/colors.ts");let a={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{clone:()=>a});var n=r("./src/colors.ts");function a(s){let o={};for(let l in s){o[l]={},o[l].type=s[l].type;var u=s[l].value;u instanceof n.Color?o[l].value=u.clone():typeof u=="number"?o[l].value=u:u instanceof Array?o[l].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return o}},"./src/WebGL/shaders/utils/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShaderUtils:()=>s,clone:()=>n.clone});var n=r("./src/WebGL/shaders/utils/clone.ts"),a=r("./src/WebGL/shaders/utils/stickimposterFragmentShader.partial.frag");let s={clone:n.clone,stickimposterFragmentShader:a.default}},"./src/WebGL/shapes/Cylinder.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Cylinder:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Vector3;class s{constructor(u=new n.Vector3,l=new n.Vector3,g=0){this.c1=u,this.c2=l,this.radius=g,this.direction=new n.Vector3().subVectors(this.c2,this.c1).normalize()}copy(u){return this.c1.copy(u.c1),this.c2.copy(u.c2),this.direction.copy(u.direction),this.radius=u.radius,this}lengthSq(){return a.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(u){return this.direction.add(this.c1).applyMatrix4(u),this.c1.applyMatrix4(u),this.c2.applyMatrix4(u),this.direction.sub(this.c1).normalize(),this.radius=this.radius*u.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Sphere:()=>a});var n=r("./src/WebGL/math/index.ts");class a{constructor(o={x:0,y:0,z:0},u=0){this.center=new n.Vector3(o.x,o.y,o.z),this.radius=u}set(o,u){return this.center.copy(o),this.radius=u,this}copy(o){return this.center.copy(o.center),this.radius=o.radius,this}applyMatrix4(o){return this.center.applyMatrix4(o),this.radius=this.radius*o.getMaxScaleOnAxis(),this}translate(o){return this.center.add(o),this}equals(o){return o.center.equals(this.center)&&o.radius===this.radius}clone(){return new a().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Triangle:()=>s});var n=r("./src/WebGL/math/index.ts");let a=new n.Vector3;class s{constructor(u=new n.Vector3,l=new n.Vector3,g=new n.Vector3){this.a=u,this.b=l,this.c=g}copy(u){return this.a.copy(u.a),this.b.copy(u.b),this.c.copy(u.c),this}applyMatrix4(u){return this.a.applyMatrix4(u),this.b.applyMatrix4(u),this.c.applyMatrix4(u),this}getNormal(){var u=this.a.clone();return u.sub(this.b),a.subVectors(this.c,this.b),u.cross(a),u.normalize(),u}}},"./src/WebGL/shapes/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Cylinder:()=>a.Cylinder,Sphere:()=>n.Sphere,Triangle:()=>s.Triangle});var n=r("./src/WebGL/shapes/Sphere.ts"),a=r("./src/WebGL/shapes/Cylinder.ts"),s=r("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{autoinit:()=>autoinit,autoload:()=>autoload,processing_autoinit:()=>processing_autoinit,viewers:()=>viewers});var _GLViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/GLViewer.ts"),_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ProteinSurface4.ts"),_utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utilities.ts"),_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/colors.ts"),autoinit=!1,processing_autoinit=!1,viewers={};function autoload(viewer,callback){var i,dataname,type;if(document.querySelector(".viewer_3Dmoljs")!=null&&(autoinit=!0),autoinit){processing_autoinit=!0,viewer=viewer??null;var nviewers=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(viewerdiv=>{var datauri=[],datatypes=[],uri="";viewerdiv.style.position=="static"&&(viewerdiv.style.position="relative");var UI=null;if(type=null,viewerdiv.dataset.pdb)datauri.push("https://files.rcsb.org/view/"+viewerdiv.dataset.pdb+".pdb"),datatypes.push("pdb");else if(viewerdiv.dataset.cid)datatypes.push("sdf"),datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+viewerdiv.dataset.cid+"/SDF?record_type=3d");else if(viewerdiv.dataset.href||viewerdiv.dataset.url){viewerdiv.dataset.href?uri=viewerdiv.dataset.href:uri=viewerdiv.dataset.url,datauri.push(uri),type=uri.substring(uri.lastIndexOf(".")+1),datatypes.push(type);var molName=uri.substring(uri.lastIndexOf("/")+1,uri.lastIndexOf("."));molName=="/"&&(molName=uri.substring(uri.lastIndexOf("/")+1)),viewerdiv.dataset[datatypes[datatypes.length-1]]=molName}var divdata=viewerdiv.dataset;for(i in divdata)i.substring(0,3)==="pdb"&&i!=="pdb"?(datauri.push("https://files.rcsb.org/view/"+divdata[i]+".pdb"),datatypes.push("pdb")):i.substring(0,4)==="href"&&i!=="href"?(uri=divdata[i],datauri.push(uri),datatypes.push(uri.substring(uri.lastIndexOf(".")+1))):i.substring(0,3)==="cid"&&i!=="cid"&&(datauri.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+divdata[i]+"/SDF?record_type=3d"),datatypes.push("sdf"));var options={};viewerdiv.dataset.options&&(options=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.options));var bgcolor=_colors__WEBPACK_IMPORTED_MODULE_3__.CC.color(viewerdiv.dataset.backgroundcolor),bgalpha=viewerdiv.dataset.backgroundalpha;bgalpha=bgalpha==null?1:parseFloat(bgalpha);var style={line:{}};viewerdiv.dataset.style&&(style=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.style));var select={};viewerdiv.dataset.select&&(select=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.select));var selectstylelist=[],surfaces=[],labels=[],zoomto={},spin=null,d=viewerdiv.dataset,stylere=/style(.+)/,surfre=/surface(.*)/,reslabre=/labelres(.*)/,keys=[];for(dataname in d)Object.prototype.hasOwnProperty.call(d,dataname)&&keys.push(dataname);for(keys.sort(),i=0;i<keys.length;i++){dataname=keys[i];var m=stylere.exec(dataname),selname,newsel,styleobj;m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),selectstylelist.push([newsel,styleobj])),m=surfre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),surfaces.push([newsel,styleobj])),m=reslabre.exec(dataname),m&&(selname="select"+m[1],newsel=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[selname]),styleobj=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]),labels.push([newsel,styleobj])),dataname=="zoomto"&&(zoomto=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname])),dataname=="spin"&&(spin=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(d[dataname]))}var applyStyles=function(e){for(e.setStyle(select,style),UI&&UI.createSelectionAndStyle(select,style),i=0;i<selectstylelist.length;i++){let t=selectstylelist[i][0]||{},r=selectstylelist[i][1]||{line:{}};e.setStyle(t,r),UI&&UI.createSelectionAndStyle(select,style)}for(i=0;i<surfaces.length;i++){let t=surfaces[i][0]||{},r=surfaces[i][1]||{};UI?e.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,r,t,t).then(a=>{UI.loadSurface("VDW",t,r,a)}):e.addSurface(_ProteinSurface4__WEBPACK_IMPORTED_MODULE_1__.SurfaceType.VDW,r,t,t)}for(i=0;i<labels.length;i++){let t=labels[i][0]||{},r=labels[i][1]||{};e.addResLabels(t,r)}e.render(),e.zoomTo(zoomto),spin&&e.spin(spin.axis,spin.speed)},glviewer=viewer;try{var config=(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.specStringToObject)(viewerdiv.dataset.config)||{};config.backgroundColor===void 0&&(config.backgroundColor=bgcolor),config.backgroundAlpha===void 0&&(config.backgroundAlpha=bgalpha),glviewer==null?glviewer=viewers[viewerdiv.id||nviewers++]=(0,_GLViewer__WEBPACK_IMPORTED_MODULE_0__.createViewer)(viewerdiv,config):(glviewer.setBackgroundColor(bgcolor,bgalpha),glviewer.setConfig(config),UI&&UI.initiateUI()),viewerdiv.dataset.ui&&$3Dmol.StateManager&&(UI=new $3Dmol.StateManager(glviewer))}catch(e){console.log(e),viewerdiv.textContent="WebGL appears to be disabled."}if(datauri.length!=0){let i=0;var process=function(moldata){uri=datauri[i];var type=viewerdiv.dataset.type||viewerdiv.dataset.datatype||datatypes[i];if(glviewer.addModel(moldata,type,options),UI){var modelName=viewerdiv.dataset[datatypes[i]];UI.setModelTitle(modelName)}if(i+=1,i<datauri.length)(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[i]).then(process);else{if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}};(0,_utilities__WEBPACK_IMPORTED_MODULE_2__.get)(datauri[0]).then(process)}else{if(viewerdiv.dataset.element){var moldataid="#"+viewerdiv.dataset.element,molelem=document.querySelector(moldataid),moldata=molelem?molelem.textContent:"";type=viewerdiv.dataset.type||viewerdiv.dataset.datatype,glviewer.addModel(moldata,type,options)}if(applyStyles(glviewer),viewerdiv.dataset.callback){var runres=eval(viewerdiv.dataset.callback);typeof runres=="function"&&runres(glviewer)}processing_autoinit=!1,callback&&callback(glviewer)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&autoload()}},"./src/colors.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CC:()=>a,Color:()=>n,builtinColorSchemes:()=>v,chains:()=>h,elementColors:()=>l,htmlColors:()=>s,residues:()=>g,ssColors:()=>o});class n{constructor(S,w,c){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof S=="number"?(this.r=S||0,this.g=w||0,this.b=c||0,this):this.set(S||0)}set(S){return S instanceof n?S.clone():(typeof S=="number"?this.setHex(S):typeof S=="object"&&(this.r=S?.r||0,this.g=S?.g||0,this.b=S?.b||0),this)}setHex(S){return S=Math.floor(S),this.r=(S>>16&255)/255,this.g=(S>>8&255)/255,this.b=(S&255)/255,this}getHex(){var S=Math.round(this.r*255),w=Math.round(this.g*255),c=Math.round(this.b*255);return S<<16|w<<8|c}clone(){return new n(this.r,this.g,this.b)}copy(S){return this.r=S.r,this.g=S.g,this.b=S.b,this}scaled(){var S={};return S.r=Math.round(this.r*255),S.g=Math.round(this.g*255),S.b=Math.round(this.b*255),S.a=1,S}}class a{static color(S){if(!S)return a.cache[0];if(S instanceof n)return S;if(typeof S=="number"&&typeof a.cache[S]<"u")return a.cache[S];if(S&&Array.isArray(S))return S.map(a.color);let w=a.getHex(S),c=new n(w);return a.cache[w]=c,c}static getHex(S){var w;if(Array.isArray(S))return S.map(a.getHex);if(typeof S=="string"){let c=S;if(!isNaN(parseInt(c)))return parseInt(c);if(c=c.trim(),c.length==4&&c[0]=="#"&&(c="#"+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]),c.length==7&&c[0]=="#")return parseInt(c.substring(1),16);let _=a.rgbRegEx.exec(c);if(_){_[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let y=0;for(let b=2;b<5;b++){y*=256;let C=_[b].endsWith("%")?255*parseFloat(_[b])/100:parseFloat(_[b]);y+=Math.round(C)}return y}return((w=window?.$3Dmol)===null||w===void 0?void 0:w.htmlColors[S.toLowerCase()])||0}return S}}a.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,a.cache={0:new n(0)};let s={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},o={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},u={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},l={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:u,defaultColors:Object.assign({},u),greenCarbon:Object.assign(Object.assign({},u),{C:65280}),cyanCarbon:Object.assign(Object.assign({},u),{C:65535}),magentaCarbon:Object.assign(Object.assign({},u),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},u),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},u),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},u),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},u),{C:8388736}),blueCarbon:Object.assign(Object.assign({},u),{C:255})},g={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},h={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},v={ssPyMol:{prop:"ss",map:o.pyMol},ssJmol:{prop:"ss",map:o.Jmol},Jmol:{prop:"elem",map:l.Jmol},amino:{prop:"resn",map:g.amino},shapely:{prop:"resn",map:g.shapely},nucleic:{prop:"resn",map:g.nucleic},chain:{prop:"chain",map:h.atom},rasmol:{prop:"elem",map:l.rasmol},default:{prop:"elem",map:l.defaultColors},greenCarbon:{prop:"elem",map:l.greenCarbon},chainHetatm:{prop:"chain",map:h.hetatm},cyanCarbon:{prop:"elem",map:l.cyanCarbon},magentaCarbon:{prop:"elem",map:l.magentaCarbon},purpleCarbon:{prop:"elem",map:l.purpleCarbon},whiteCarbon:{prop:"elem",map:l.whiteCarbon},orangeCarbon:{prop:"elem",map:l.orangeCarbon},yellowCarbon:{prop:"elem",map:l.yellowCarbon},blueCarbon:{prop:"elem",map:l.blueCarbon}}},"./src/glcartoon.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{drawCartoon:()=>k,subdivide_spline:()=>h});var n=r("./src/WebGL/math/index.ts"),a=r("./src/WebGL/shapes/index.ts"),s=r("./src/WebGL/index.ts"),o=r("./src/Gradient.ts"),u=r("./src/colors.ts"),l=r("./src/GLDraw.ts"),g=r("./src/utilities.ts");function h(I,H){var Y=[],q=I;q=[],q.push(I[0]);var G,$,j,V,X,Q,te,we,Pe;for(G=1,$=I.length-1;G<$;G++)if(X=I[G],Q=I[G+1],X.smoothen){var xe=new n.Vector3((X.x+Q.x)/2,(X.y+Q.y)/2,(X.z+Q.z)/2);xe.atom=X.atom,q.push(xe)}else q.push(X);for(q.push(I[I.length-1]),G=-1,j=q.length;G<=j-3;G++)if(V=q[G===-1?0:G],X=q[G+1],Q=q[G+2],te=q[G===j-3?j-1:G+3],we=new n.Vector3().subVectors(Q,V).multiplyScalar(.5),Pe=new n.Vector3().subVectors(te,X).multiplyScalar(.5),!Q.skip)for(var Fe=0;Fe<H;Fe++){var Ae=1/H*Fe,be=X.x+Ae*we.x+Ae*Ae*(-3*X.x+3*Q.x-2*we.x-Pe.x)+Ae*Ae*Ae*(2*X.x-2*Q.x+we.x+Pe.x),Qe=X.y+Ae*we.y+Ae*Ae*(-3*X.y+3*Q.y-2*we.y-Pe.y)+Ae*Ae*Ae*(2*X.y-2*Q.y+we.y+Pe.y),Xe=X.z+Ae*we.z+Ae*Ae*(-3*X.z+3*Q.z-2*we.z-Pe.z)+Ae*Ae*Ae*(2*X.z-2*Q.z+we.z+Pe.z),U=new n.Vector3(be,Qe,Xe);Fe<H/2?U.atom=X.atom:U.atom=Q.atom,Y.push(U)}return Y.push(q[q.length-1]),Y}let v=.5,x=1.3,S=.8,w=.4,c=.4;function _(I,H,Y,q){for(var G,$,j,V,X=0,Q=H.length;X<Q;X++){V=Math.round(X*(q.length-1)/Q),j=u.CC.color(q[V]);var te=I.updateGeoGroup(2),we=te.vertexArray,Pe=te.colorArray,xe=te.faceArray;G=te.vertices,$=G*3,we[$]=H[X].x,we[$+1]=H[X].y,we[$+2]=H[X].z,we[$+3]=Y[X].x,we[$+4]=Y[X].y,we[$+5]=Y[X].z;for(var Fe=0;Fe<6;++Fe)Pe[$+3*Fe]=j.r,Pe[$+1+3*Fe]=j.g,Pe[$+2+3*Fe]=j.b;if(X>0){var Ae=[G,G+1,G-1,G-2],be=te.faceidx;xe[be]=Ae[0],xe[be+1]=Ae[1],xe[be+2]=Ae[3],xe[be+3]=Ae[1],xe[be+4]=Ae[2],xe[be+5]=Ae[3],te.faceidx+=6}te.vertices+=2}}function y(I,H,Y,q,G,$,j){var V,X,Q,te;if(Q=H.length,Q<2||H[0].length<2)return;for(V=0;V<Q;V++)H[V]=h(H[V],q);if(te=H[0].length,!G)return _(I,H[0],H[Q-1],Y);var we,Pe,xe,Fe,Ae,be,Qe=[],Xe=[],U=[];for(X=0;X<Q;X++)Qe.push(.25+1.5*Math.sqrt((Q-1)*X-Math.pow(X,2))/(Q-1)),Xe.push(.5),U.push(2*(Math.pow(X/Q,2)-X/Q)+.6);var pe=[];for(X=0;X<Q*2-1;X++)pe[X]=[X,X+1,X+1-2*Q,X-2*Q];pe[Q*2-1]=[X,X+1-2*Q,X+1-4*Q,X-2*Q];var _e,ie,de,ye,Re,Be,Ce,Ie,je,Ke;let Ne=I.updateGeoGroup();for(V=0;V<te;V++){let ue=I.groups,ge=!1;Ne=I.updateGeoGroup(2*Q),ue!=I.groups&&V>0&&(V=V-1,ge=!0),Be=Math.round(V*(Y.length-1)/te),Re=u.CC.color(Y[Be]),Ae=xe,be=Fe,xe=[],Fe=[],we=[],H[0][V].atom!==void 0&&(ye=H[0][V].atom,j==="oval"?Pe=Qe:j==="rectangle"?Pe=Xe:j==="parabola"&&(Pe=U)),Pe||(Pe=Xe);var ht,yt;for(X=0;X<Q;X++)V<te-1?ht=H[X][V+1].clone().sub(H[X][V]):ht=H[X][V-1].clone().sub(H[X][V]).negate(),X<Q-1?yt=H[X+1][V].clone().sub(H[X][V]):yt=H[X-1][V].clone().sub(H[X][V]).negate(),we[X]=yt.cross(ht).normalize().multiplyScalar(G*Pe[X]);for(X=0;X<Q;X++)xe[X]=H[X][V].clone().add(we[X].clone().negate());for(X=0;X<Q;X++)Fe[X]=H[X][V].clone().add(we[X]);for(Ce=Ne.vertexArray,Ie=Ne.colorArray,je=Ne.faceArray,_e=Ne.vertices,ie=_e*3,X=0;X<Q;X++)Ce[ie+3*X+0]=xe[X].x,Ce[ie+3*X+1]=xe[X].y,Ce[ie+3*X+2]=xe[X].z;for(X=0;X<Q;X++)Ce[ie+3*X+0+3*Q]=Fe[Q-1-X].x,Ce[ie+3*X+1+3*Q]=Fe[Q-1-X].y,Ce[ie+3*X+2+3*Q]=Fe[Q-1-X].z;for(X=0;X<2*Q;++X)Ie[ie+3*X+0]=Re.r,Ie[ie+3*X+1]=Re.g,Ie[ie+3*X+2]=Re.b;if(V>0&&!ge){for(X=0;X<Q*2;X++)Ke=[_e+pe[X][0],_e+pe[X][1],_e+pe[X][2],_e+pe[X][3]],de=Ne.faceidx,je[de]=Ke[0],je[de+1]=Ke[1],je[de+2]=Ke[3],je[de+3]=Ke[1],je[de+4]=Ke[2],je[de+5]=Ke[3],Ne.faceidx+=6;if(ye.clickable||ye.hoverable){var le=[];le.push(new a.Triangle(Ae[0],xe[0],xe[Q-1])),le.push(new a.Triangle(Ae[0],xe[Q-1],Ae[Q-1])),le.push(new a.Triangle(Ae[Q-1],xe[Q-1],Fe[Q-1])),le.push(new a.Triangle(Ae[Q-1],Fe[Q-1],be[Q-1])),le.push(new a.Triangle(Fe[0],be[0],be[Q-1])),le.push(new a.Triangle(Fe[Q-1],Fe[0],be[Q-1])),le.push(new a.Triangle(xe[0],Ae[0],be[0])),le.push(new a.Triangle(Fe[0],xe[0],be[0]));for(X in le)ye.intersectionShape.triangle.push(le[X])}}Ne.vertices+=2*Q}for(Ce=Ne.vertexArray,Ie=Ne.colorArray,je=Ne.faceArray,_e=Ne.vertices,ie=_e*3,de=Ne.faceidx,V=0;V<Q-1;V++)Ke=[V,V+1,2*Q-2-V,2*Q-1-V],de=Ne.faceidx,je[de]=Ke[0],je[de+1]=Ke[1],je[de+2]=Ke[3],je[de+3]=Ke[1],je[de+4]=Ke[2],je[de+5]=Ke[3],Ne.faceidx+=6;for(V=0;V<Q-1;V++)Ke=[_e-1-V,_e-2-V,_e-2*Q+V+1,_e-2*Q+V],de=Ne.faceidx,je[de]=Ke[0],je[de+1]=Ke[1],je[de+2]=Ke[3],je[de+3]=Ke[1],je[de+4]=Ke[2],je[de+5]=Ke[3],Ne.faceidx+=6}function b(I,H,Y,q,G,$){if(!(H.length<2)){var j,V;if(j=H[0],V=H[H.length-1],j=h(j,q),V=h(V,q),!G)return _(I,j,V,Y);var X=[],Q,te,we,Pe,xe,Fe=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],Ae,be,Qe,Xe,U,pe,_e,ie,de,ye,Re,Be,Ce,Ie,je,Ke,Ne;for(ie=0,de=j.length;ie<de;ie++){if(U=Math.round(ie*(Y.length-1)/de),Xe=u.CC.color(Y[U]),X.push(te=j[ie]),X.push(te),X.push(we=V[ie]),X.push(we),ie<de-1){var ht=j[ie+1].clone().sub(j[ie]),yt=V[ie].clone().sub(j[ie]);Q=yt.cross(ht).normalize().multiplyScalar(G)}for(X.push(Pe=j[ie].clone().add(Q)),X.push(Pe),X.push(xe=V[ie].clone().add(Q)),X.push(xe),te.atom!==void 0&&(pe=te.atom),Ie=I.updateGeoGroup(8),je=Ie.vertexArray,Ke=Ie.colorArray,Ne=Ie.faceArray,Ae=Ie.vertices,be=Ae*3,je[be]=te.x,je[be+1]=te.y,je[be+2]=te.z,je[be+3]=te.x,je[be+4]=te.y,je[be+5]=te.z,je[be+6]=we.x,je[be+7]=we.y,je[be+8]=we.z,je[be+9]=we.x,je[be+10]=we.y,je[be+11]=we.z,je[be+12]=Pe.x,je[be+13]=Pe.y,je[be+14]=Pe.z,je[be+15]=Pe.x,je[be+16]=Pe.y,je[be+17]=Pe.z,je[be+18]=xe.x,je[be+19]=xe.y,je[be+20]=xe.z,je[be+21]=xe.x,je[be+22]=xe.y,je[be+23]=xe.z,ye=0;ye<8;++ye)Ke[be+3*ye]=Xe.r,Ke[be+1+3*ye]=Xe.g,Ke[be+2+3*ye]=Xe.b;if(ie>0){var le=_e!==void 0&&pe!==void 0&&_e.serial!==pe.serial;for(ye=0;ye<4;ye++){var ue=[Ae+Fe[ye][0],Ae+Fe[ye][1],Ae+Fe[ye][2],Ae+Fe[ye][3]];if(Qe=Ie.faceidx,Ne[Qe]=ue[0],Ne[Qe+1]=ue[1],Ne[Qe+2]=ue[3],Ne[Qe+3]=ue[1],Ne[Qe+4]=ue[2],Ne[Qe+5]=ue[3],Ie.faceidx+=6,pe.clickable||_e.clickable||pe.hoverable||_e.hoverable){var ge=X[ue[3]].clone(),$e=X[ue[0]].clone(),ke=X[ue[2]].clone(),at=X[ue[1]].clone();if(ge.atom=X[ue[3]].atom||null,ke.atom=X[ue[2]].atom||null,$e.atom=X[ue[0]].atom||null,at.atom=X[ue[1]].atom||null,le){var ot=ge.clone().add($e).multiplyScalar(.5),se=ke.clone().add(at).multiplyScalar(.5),Ge=ge.clone().add(at).multiplyScalar(.5);ye%2===0?((_e.clickable||_e.hoverable)&&(Re=new a.Triangle(ot,Ge,ge),Be=new a.Triangle(se,ke,Ge),Ce=new a.Triangle(Ge,ke,ge),_e.intersectionShape.triangle.push(Re),_e.intersectionShape.triangle.push(Be),_e.intersectionShape.triangle.push(Ce)),(pe.clickable||pe.hoverable)&&(Re=new a.Triangle($e,at,Ge),Be=new a.Triangle(at,se,Ge),Ce=new a.Triangle($e,Ge,ot),pe.intersectionShape.triangle.push(Re),pe.intersectionShape.triangle.push(Be),pe.intersectionShape.triangle.push(Ce))):((pe.clickable||pe.hoverable)&&(Re=new a.Triangle(ot,Ge,ge),Be=new a.Triangle(se,ke,Ge),Ce=new a.Triangle(Ge,ke,ge),pe.intersectionShape.triangle.push(Re),pe.intersectionShape.triangle.push(Be),pe.intersectionShape.triangle.push(Ce)),(_e.clickable||_e.hoverable)&&(Re=new a.Triangle($e,at,Ge),Be=new a.Triangle(at,se,Ge),Ce=new a.Triangle($e,Ge,ot),_e.intersectionShape.triangle.push(Re),_e.intersectionShape.triangle.push(Be),_e.intersectionShape.triangle.push(Ce)))}else(pe.clickable||pe.hoverable)&&(Re=new a.Triangle($e,at,ge),Be=new a.Triangle(at,ke,ge),pe.intersectionShape.triangle.push(Re),pe.intersectionShape.triangle.push(Be))}}}Ie.vertices+=8,_e=pe}var Je=X.length-8;for(Ie=I.updateGeoGroup(8),je=Ie.vertexArray,Ke=Ie.colorArray,Ne=Ie.faceArray,Ae=Ie.vertices,be=Ae*3,Qe=Ie.faceidx,ie=0;ie<4;ie++){X.push(X[ie*2]),X.push(X[Je+ie*2]);var pt=X[ie*2],Le=X[Je+ie*2];je[be+6*ie]=pt.x,je[be+1+6*ie]=pt.y,je[be+2+6*ie]=pt.z,je[be+3+6*ie]=Le.x,je[be+4+6*ie]=Le.y,je[be+5+6*ie]=Le.z,Ke[be+6*ie]=Xe.r,Ke[be+1+6*ie]=Xe.g,Ke[be+2+6*ie]=Xe.b,Ke[be+3+6*ie]=Xe.r,Ke[be+4+6*ie]=Xe.g,Ke[be+5+6*ie]=Xe.b}Je+=8,Re=[Ae,Ae+2,Ae+6,Ae+4],Be=[Ae+1,Ae+5,Ae+7,Ae+3],Ne[Qe]=Re[0],Ne[Qe+1]=Re[1],Ne[Qe+2]=Re[3],Ne[Qe+3]=Re[1],Ne[Qe+4]=Re[2],Ne[Qe+5]=Re[3],Ne[Qe+6]=Be[0],Ne[Qe+7]=Be[1],Ne[Qe+8]=Be[3],Ne[Qe+9]=Be[1],Ne[Qe+10]=Be[2],Ne[Qe+11]=Be[3],Ie.faceidx+=12,Ie.vertices+=8}}function C(I,H,Y,q,G,$,j){(!j||j==="default")&&(j="rectangle"),j==="edged"?b(I,H,Y,q,G,$):(j==="rectangle"||j==="oval"||j==="parabola")&&y(I,H,Y,q,G,$,j)}function E(I){return I&&I.elem==="C"&&I.atom==="CA"}function p(I,H){if(I&&H&&I.chain===H.chain){if(!I.hetflag&&!H.hetflag&&I.reschain===H.reschain&&(I.resi===H.resi||I.resi===H.resi-1))return!0;if(I.resi<H.resi){var Y=I.x-H.x,q=I.y-H.y,G=I.z-H.z,$=Y*Y+q*q+G*G;if(I.atom=="CA"&&H.atom=="CA"&&$<16)return!0;if((I.atom=="P"||H.atom=="P")&&$<64)return!0}}return!1}function f(I,H,Y,q,G){if(!(H==null||H.vertices==0)){G&&(H.initTypedArrays(),H.setUpNormals());var $=new s.MeshDoubleLambertMaterial;$.vertexColors=s.Coloring.FaceColors,typeof Y=="number"&&Y>=0&&Y<1&&($.transparent=!0,$.opacity=Y),$.outline=q;var j=new s.Mesh(H,$);I.add(j)}}function D(I,H,Y,q,G,$,j,V,X){var Q,te,we,Pe,xe,Fe;if(!(!q||!G||!j)){var Ae=G.sub(q);Ae.normalize();var be=V[X];for(te=X+1;te<V.length&&(be=V[te],be.atom!=j.atom);te++);if(be=be?new n.Vector3(be.x,be.y,be.z):new n.Vector3(0,0,0),be.sub(q),j.ss==="arrow start"){var Qe=be.clone().multiplyScalar(.3).cross(G);q.add(Qe);var Xe=be.clone().cross(Ae).normalize();Ae.rotateAboutVector(Xe,.43)}for(j.style.cartoon.ribbon?Q=j.style.cartoon.thickness||w:j.style.cartoon.width?Q=j.style.cartoon.width:j.ss==="c"?j.atom==="P"?Q=S:Q=v:j.ss==="arrow start"?(Q=x,xe=!0):j.ss==="arrow end"||j.ss==="h"&&j.style.cartoon.tubes||j.ss==="tube start"?Q=v:Q=x,$!=null&&Ae.dot($)<0&&Ae.negate(),Ae.multiplyScalar(Q),te=0;te<H;te++)we=-1+te*2/(H-1),Pe=new n.Vector3(q.x+we*Ae.x,q.y+we*Ae.y,q.z+we*Ae.z),Pe.atom=j,Y&&j.ss==="s"&&(Pe.smoothen=!0),I[te].push(Pe);if(xe)for(Ae.multiplyScalar(2),te=0;te<H;te++)we=-1+te*2/(H-1),Pe=new n.Vector3(q.x+we*Ae.x,q.y+we*Ae.y,q.z+we*Ae.z),Pe.atom=j,Pe.smoothen=!1,Pe.skip=!0,I[te].push(Pe);return Fe=j.style.cartoon.style||"default",I.style?I.style!=Fe&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),I.style="default"):I.style=Fe,(j.ss==="arrow start"||j.ss==="arrow end")&&(j.ss="s"),xe}}let M={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},N={DA:!0,DG:!0,A:!0,G:!0},O={DT:!0,DC:!0,U:!0,C:!0,T:!0},z={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function k(I,H,Y,q=10){let G=q,$=q;var j,V,X,Q,te,we,Pe,xe,Fe,Ae,be,Qe,Xe,U,pe,_e,ie,de,ye=new s.Geometry(!0),Re=new s.Geometry(!0),Be=[],Ce=[],Ie=1,je=!1,Ke={};for(var Ne in o.Gradient.builtinGradients)o.Gradient.builtinGradients.hasOwnProperty(Ne)&&(Ke[Ne]=new o.Gradient.builtinGradients[Ne](Y[1],Y[0]));var ht=function(oe,ft){return Y&&ft.color==="spectrum"?ft.colorscheme in Ke?Ke[ft.colorscheme].valueToHex(oe.resi):Ke.sinebow.valueToHex(oe.resi):(0,g.getColorFromStyle)(oe,ft).getHex()};for(xe=0;xe<G;xe++)Ce[xe]=[];var yt=!1,le=!1,ue=[];for(xe in H){if(Q=H[xe],Q.elem==="C"&&Q.atom==="CA"){var ge=p(X,Q);ge&&Q.ss==="s"?yt=!0:yt&&(X&&V&&X.style.cartoon.arrows&&V.style.cartoon.arrows&&(X.ss="arrow end",V.ss="arrow start"),yt=!1),ge&&(X.ss==="h"||X.ss=="tube start")&&X.style.cartoon.tubes?!le&&X.ss!="tube start"&&Q.style.cartoon.tubes&&(Q.ss="tube start",le=!0):le&&(X.ss==="tube start"?X.ss="tube end":V&&V.style.cartoon.tubes&&(V.ss="tube end"),le=!1),V=X,X=Q}Q&&Q.atom in M&&ue.push(Q)}le&&X.style.cartoon.tubes&&(X.ss="tube end",le=!1);var $e=function(oe){Ce[0].length>0&&C(Re,Ce,Be,$,Pe,Ie,Ce.style);var ft=[],At=null;if(oe){for(xe=0;xe<G;xe++)ft[xe]=Ce[xe][Ce[xe].length-1];At=Be[Be.length-1]}for(Ce=[],xe=0;xe<G;xe++)Ce[xe]=[];if(Be=[],oe){for(xe=0;xe<G;xe++)Ce[xe].push(ft[xe]);Be.push(At)}f(I,Re,Ie,je,!0),f(I,ye,Ie,je,!1),Re=new s.Geometry(!0),ye=new s.Geometry(!0)};X=void 0;for(var ke=0;ke<ue.length;ke++){Q=ue[ke];var at=Q.resn.trim(),ot=at in z;if(Ie=1,j=Q.style.cartoon,X&&X.style.cartoon&&(Ie=X.style.cartoon.opacity),X&&X.style.cartoon&&X.style.cartoon.outline&&(je=X.style.cartoon.outline),X&&X.style.cartoon&&(!Q.style.cartoon||X.style.cartoon.opacity!=Q.style.cartoon.opacity)&&$e(X.chain==Q.chain),j.style==="trace"){if(!Q.hetflag){if(Q.elem==="C"&&Q.atom==="CA"||ot&&Q.atom==="P"||Q.atom==="BB"){if(we=ht(Q,j),(0,g.isNumeric)(j.thickness)?Pe=j.thickness:Pe=w,p(X,Q))if(we==te){var se=u.CC.color(we);l.GLDraw.drawCylinder(ye,X,Q,Pe,se,2,2)}else{var Ge=new n.Vector3().addVectors(X,Q).multiplyScalar(.5),Je=u.CC.color(te),pt=u.CC.color(we);l.GLDraw.drawCylinder(ye,X,Ge,Pe,Je,2,0),l.GLDraw.drawCylinder(ye,Ge,Q,Pe,pt,0,2)}if((Q.clickable===!0||Q.hoverable)&&Q.intersectionShape!==void 0){var Le=new n.Vector3(Q.x,Q.y,Q.z);Q.intersectionShape.sphere.push(new a.Sphere(Le,Pe))}X=Q,te=we}}}else{if(E(Q)||ot&&(Q.atom==="P"||Q.atom.indexOf("O5")==0)){if(de)if(Q.ss==="tube end")de=!1,ie=new n.Vector3(Q.x,Q.y,Q.z),l.GLDraw.drawCylinder(ye,_e,ie,2,u.CC.color(te),1,1),Q.ss="h";else if(X.chain!=Q.chain||X.ss==="tube end")de=!1,X.ss="h",ie=new n.Vector3(X.x,X.y,X.z),l.GLDraw.drawCylinder(ye,_e,ie,2,u.CC.color(te),1,1);else continue;if(X&&(!p(X,Q)||X.ss==="tube start")){for(X.ss==="tube start"&&(de=!0,_e=new n.Vector3(X.x,X.y,X.z),X.ss="h"),pe&&(Qe?U=new n.Vector3().addVectors(X,Qe).multiplyScalar(.5):U=new n.Vector3(X.x,X.y,X.z),l.GLDraw.drawCylinder(ye,U,pe,c,u.CC.color(pe.color),0,2),D(Ce,G,!0,Qe,Xe,be,X,ue,ke),Be.push(we),U=null,pe=null),Ce[0].length>0&&C(Re,Ce,Be,$,Pe,Ie,Ce.style),Ce=[],xe=0;xe<G;xe++)Ce[xe]=[];Be=[]}if(X===void 0||X.rescode!=Q.rescode||X.resi!=Q.resi){if(pe){U=new n.Vector3().addVectors(X,Q).multiplyScalar(.5);var lt=U.clone().sub(pe).multiplyScalar(.02);U.add(lt),l.GLDraw.drawCylinder(ye,U,pe,c,u.CC.color(pe.color),0,2),U=null,pe=null}we=ht(Q,j),Be.push(we),(0,g.isNumeric)(j.thickness)?Pe=j.thickness:Pe=w,X=Q,Fe=new n.Vector3(X.x,X.y,X.z),Fe.resi=X.resi,te=we}(Q.clickable===!0||Q.hoverable===!0)&&(Q.intersectionShape===void 0||Q.intersectionShape.triangle===void 0)&&(Q.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else E(X)&&Q.atom==="O"||ot&&X.atom==="P"&&(Q.atom==="OP2"||Q.atom==="O2P")||ot&&X.atom.indexOf("O5")==0&&Q.atom.indexOf("C5")==0?(Ae=new n.Vector3(Q.x,Q.y,Q.z),Ae.resi=Q.resi,(Q.atom==="OP2"||Q.atom==="O2P")&&(Xe=new n.Vector3(Q.x,Q.y,Q.z))):ot&&Q.atom.indexOf("O3")==0?Qe=new n.Vector3(Q.x,Q.y,Q.z):(Q.atom==="N1"&&at in N||Q.atom==="N3"&&at in O)&&(pe=new n.Vector3(Q.x,Q.y,Q.z),pe.color=(0,g.getColorFromStyle)(Q,j).getHex());Ae&&Fe&&Ae.resi===Fe.resi&&(D(Ce,G,!0,Fe,Ae,be,X,ue,ke),be=Ae,Fe=null,Ae=null,Be.push(we))}}pe&&(Qe?U=new n.Vector3().addVectors(X,Qe).multiplyScalar(.5):U=new n.Vector3(X.x,X.y,X.z),l.GLDraw.drawCylinder(ye,U,pe,c,u.CC.color(pe.color),0,2),D(Ce,G,!0,Qe,Xe,be,X,ue,ke),Be.push(we)),$e(!1)}},"./src/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CAP:()=>c.CAP,CC:()=>a.CC,Color:()=>a.Color,CustomLinear:()=>n.CustomLinear,Cylinder:()=>g.Cylinder,GLDraw:()=>c.GLDraw,GLModel:()=>y.GLModel,GLShape:()=>w.GLShape,GLViewer:()=>b.GLViewer,GLVolumetricRender:()=>S.GLVolumetricRender,Gradient:()=>n.Gradient,GradientType:()=>n.GradientType,Label:()=>s.Label,LabelCount:()=>s.LabelCount,MarchingCube:()=>v.MarchingCube,MarchingCubeInitializer:()=>v.MarchingCubeInitializer,Matrix3:()=>l.Matrix3,Matrix4:()=>l.Matrix4,Parsers:()=>u.Parsers,PausableTimer:()=>h.PausableTimer,PointGrid:()=>v.PointGrid,ProteinSurface:()=>v.ProteinSurface,Quaternion:()=>l.Quaternion,ROYGB:()=>n.ROYGB,RWB:()=>n.RWB,Ray:()=>l.Ray,Sinebow:()=>n.Sinebow,Sphere:()=>g.Sphere,SurfaceType:()=>v.SurfaceType,Triangle:()=>g.Triangle,Vector2:()=>l.Vector2,Vector3:()=>l.Vector3,VolumeData:()=>x.VolumeData,adjustVolumeStyle:()=>h.adjustVolumeStyle,applyPartialCharges:()=>o.applyPartialCharges,autoinit:()=>C.autoinit,autoload:()=>C.autoload,base64ToArray:()=>h.base64ToArray,bondLength:()=>u.bondLength,builtinColorSchemes:()=>a.builtinColorSchemes,builtinGradients:()=>n.builtinGradients,chains:()=>a.chains,clamp:()=>l.clamp,conversionMatrix3:()=>l.conversionMatrix3,createStereoViewer:()=>b.createStereoViewer,createViewer:()=>b.createViewer,createViewerGrid:()=>b.createViewerGrid,deepCopy:()=>h.deepCopy,degToRad:()=>l.degToRad,download:()=>h.download,drawCartoon:()=>_.drawCartoon,elementColors:()=>a.elementColors,extend:()=>h.extend,get:()=>h.get,getAtomProperty:()=>h.getAtomProperty,getColorFromStyle:()=>h.getColorFromStyle,getElement:()=>h.getElement,getExtent:()=>h.getExtent,getGradient:()=>n.getGradient,getPropertyRange:()=>h.getPropertyRange,getbin:()=>h.getbin,htmlColors:()=>a.htmlColors,isEmptyObject:()=>h.isEmptyObject,isNumeric:()=>h.isNumeric,makeFunction:()=>h.makeFunction,mergeGeos:()=>h.mergeGeos,normalizeValue:()=>n.normalizeValue,partialCharges:()=>o.partialCharges,processing_autoinit:()=>C.processing_autoinit,residues:()=>a.residues,setBondLength:()=>u.setBondLength,setSyncSurface:()=>v.setSyncSurface,specStringToObject:()=>h.specStringToObject,splitMesh:()=>w.splitMesh,ssColors:()=>a.ssColors,subdivide_spline:()=>_.subdivide_spline,syncSurface:()=>v.syncSurface,viewers:()=>C.viewers});var n=r("./src/Gradient.ts"),a=r("./src/colors.ts"),s=r("./src/Label.ts"),o=r("./src/partialCharges.ts"),u=r("./src/parsers/index.ts"),l=r("./src/WebGL/math/index.ts"),g=r("./src/WebGL/shapes/index.ts"),h=r("./src/utilities.ts"),v=r("./src/ProteinSurface4.ts"),x=r("./src/VolumeData.ts"),S=r("./src/VolumetricRender.ts"),w=r("./src/GLShape.ts"),c=r("./src/GLDraw.ts"),_=r("./src/glcartoon.ts"),y=r("./src/GLModel.ts"),b=r("./src/GLViewer.ts"),C=r("./src/autoload.ts"),E=r("./src/specs.ts");window&&(window.$3Dmol=t)},"./src/parsers/CDJSON.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CDJSON:()=>n});function n(a,s){var o=[[]];typeof a=="string"&&(a=JSON.parse(a));for(var u=a.m,l=u[0].a,g=u[0].b,h=u[0].s,v=s!==void 0&&s.parseStyle!==void 0?s.parseStyle:h!==void 0,x=o[o.length-1].length,S=0;S<l.length;S++){var w=l[S],c={};c.id=w.i,c.x=w.x,c.y=w.y,c.z=w.z||0,c.bonds=[],c.bondOrder=[];var _=w.l||"C";c.elem=_[0].toUpperCase()+_.substring(1).toLowerCase(),c.serial=o[o.length-1].length,v&&(c.style=h[w.s||0]),o[o.length-1].push(c)}for(let y=0;y<g.length;y++){let b=g[y],C=b.b+x,E=b.e+x,p=b.o||1,f=o[o.length-1][C],D=o[o.length-1][E];f.bonds.push(E),f.bondOrder.push(p),D.bonds.push(C),D.bondOrder.push(p)}return o}},"./src/parsers/CIF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CIF:()=>u});var n=r("./src/parsers/utils/assignBonds.ts"),a=r("./src/parsers/utils/computeSecondaryStructure.ts"),s=r("./src/parsers/utils/processSymmetries.ts"),o=r("./src/WebGL/index.ts");function u(l,g={}){var h=[],v=!g.doAssembly,x=h.modelData=[],S=g.assignBonds===void 0?!0:g.assignBonds,w=function(ue,ge,$e,ke){return new o.Vector3(ge,$e,ke).applyMatrix3(ue)};function c(ue,ge){for(var $e=[],ke=0,at=0;at<ue.length;){for(;ue.substring(at,at+ge.length)!==ge&&at<ue.length;){if(ue[at]==="'")for(at++;at<ue.length&&ue[at]!=="'";)at++;else if(ue[at]==='"')for(at++;at<ue.length&&ue[at]!=='"';)at++;at++}$e.push(ue.substring(ke,at)),ke=at=at+ge.length}return $e}var _=l.split(/\r?\n|\r/),y=[],b=!1;for(let ue=0;ue<_.length;ue++){var C=_[ue].split("#")[0];if(b?C[0]===";"&&(b=!1):C[0]===";"&&(b=!0),b||C!==""){if(!b&&(C=C.trim(),C[0]==="_")){var E=C.split(/\s/)[0].indexOf(".");if(E>-1){let ge=C.split("");ge[E]="_",C=ge.join(""),C=C.substring(0,E)+"_"+C.substring(E+1)}}y.push(C)}}for(var p=0;p<y.length;){for(;!y[p].startsWith("data_")||y[p]==="data_global";)p++;p++;for(var f={};p<y.length&&!y[p].startsWith("data_");)if(y[p][0]===void 0)p++;else if(y[p][0]==="_"){var D=y[p].split(/\s/)[0].toLowerCase(),M=f[D]=f[D]||[],N=y[p].substring(y[p].indexOf(D)+D.length);if(N==="")if(p++,y[p][0]===";"){var O=y[p].substring(1);for(p++;y[p]!==";";)O=O+`
`+y[p],p++;M.push(O)}else M.push(y[p]);else M.push(N.trim());p++}else if(y[p].substring(0,5)==="loop_"){p++;for(var z=[];y[p]===""||y[p][0]==="_";){if(y[p]!==""){let ue=y[p].split(/\s/)[0].toLowerCase(),ge=f[ue]=f[ue]||[];z.push(ge)}p++}for(var k=0;p<y.length&&y[p][0]!=="_"&&!y[p].startsWith("loop_")&&!y[p].startsWith("data_");){let ue=c(y[p]," ");for(var I=0;I<ue.length;I++)ue[I]!==""&&(z[k].push(ue[I]),k=(k+1)%z.length);p++}}else p++;x.push({symmetries:[]}),h.push([]);var H=f._atom_site_id!==void 0?f._atom_site_id.length:f._atom_site_label.length,Y;if(f._cell_length_a!==void 0){var q=parseFloat(f._cell_length_a),G=parseFloat(f._cell_length_b),$=parseFloat(f._cell_length_c),j=parseFloat(f._cell_angle_alpha)||90,V=parseFloat(f._cell_angle_beta)||90,X=parseFloat(f._cell_angle_gamma)||90;Y=(0,o.conversionMatrix3)(q,G,$,j,V,X),x[x.length-1].cryst={a:q,b:G,c:$,alpha:j,beta:V,gamma:X}}for(var Q=0;Q<H;Q++)if(!(f._atom_site_group_pdb!==void 0&&f._atom_site_group_pdb[Q]==="TER")){var te={};if(f._atom_site_cartn_x!==void 0)te.x=parseFloat(f._atom_site_cartn_x[Q]),te.y=parseFloat(f._atom_site_cartn_y[Q]),te.z=parseFloat(f._atom_site_cartn_z[Q]);else{var we=w(Y,parseFloat(f._atom_site_fract_x[Q]),parseFloat(f._atom_site_fract_y[Q]),parseFloat(f._atom_site_fract_z[Q]));te.x=we.x,te.y=we.y,te.z=we.z}te.chain=f._atom_site_auth_asym_id?f._atom_site_auth_asym_id[Q]:void 0,te.resi=f._atom_site_auth_seq_id?parseInt(f._atom_site_auth_seq_id[Q]):void 0,te.resn=f._atom_site_auth_comp_id?f._atom_site_auth_comp_id[Q].trim():void 0,te.atom=f._atom_site_auth_atom_id?f._atom_site_auth_atom_id[Q].replace(/"/gm,""):void 0,te.hetflag=!f._atom_site_group_pdb||f._atom_site_group_pdb[Q]==="HETA"||f._atom_site_group_pdb[Q]==="HETATM";var Pe="X";f._atom_site_type_symbol?Pe=f._atom_site_type_symbol[Q].replace(/\(?\+?\d+.*/,""):f._atom_site_label&&(Pe=f._atom_site_label[Q].split("_")[0].replace(/\(?\d+.*/,"")),te.elem=Pe[0].toUpperCase()+Pe.substring(1,2).toLowerCase(),te.bonds=[],te.ss="c",te.serial=Q,te.bondOrder=[],te.properties={},h[h.length-1].push(te)}if(f._pdbx_struct_oper_list_id!==void 0&&!v)for(let ue=0;ue<f._pdbx_struct_oper_list_id.length;ue++){var xe=parseFloat(f["_pdbx_struct_oper_list_matrix[1][1]"][ue]),Fe=parseFloat(f["_pdbx_struct_oper_list_matrix[1][2]"][ue]),Ae=parseFloat(f["_pdbx_struct_oper_list_matrix[1][3]"][ue]),be=parseFloat(f["_pdbx_struct_oper_list_vector[1]"][ue]),Qe=parseFloat(f["_pdbx_struct_oper_list_matrix[2][1]"][ue]),Xe=parseFloat(f["_pdbx_struct_oper_list_matrix[2][2]"][ue]),U=parseFloat(f["_pdbx_struct_oper_list_matrix[2][3]"][ue]),pe=parseFloat(f["_pdbx_struct_oper_list_vector[2]"][ue]),_e=parseFloat(f["_pdbx_struct_oper_list_matrix[3][1]"][ue]),ie=parseFloat(f["_pdbx_struct_oper_list_matrix[3][2]"][ue]),de=parseFloat(f["_pdbx_struct_oper_list_matrix[3][3]"][ue]),ye=parseFloat(f["_pdbx_struct_oper_list_vector[3]"][ue]),Re=new o.Matrix4(xe,Fe,Ae,be,Qe,Xe,U,pe,_e,ie,de,ye);x[x.length-1].symmetries.push(Re)}var Be=function(ue){var ge=ue.match("-");ue=ue.replace(/[-xyz]/g,"");var $e=ue.split("/"),ke,at;return $e[1]===void 0?at=1:at=parseInt($e[1]),$e[0]===""?ke=1:ke=parseInt($e[0]),ke/at*(ge?-1:1)};if(f._symmetry_equiv_pos_as_xyz!==void 0&&!v)for(var Ce=0;Ce<f._symmetry_equiv_pos_as_xyz.length;Ce++){var Ie=f._symmetry_equiv_pos_as_xyz[Ce].replace(/["' ]/g,""),je=Ie.split(",").map(function(ge){return ge.replace(/-/g,"+-")});let ue=new o.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let ge=0;ge<3;ge++){var Ke=je[ge].split("+");for(let $e=0;$e<Ke.length;$e++){var Ne=Ke[$e];if(Ne!==""){var ht=Be(Ne);Ne.match("x")?ue.elements[ge+0]=ht:Ne.match("y")?ue.elements[ge+4]=ht:Ne.match("z")?ue.elements[ge+8]=ht:ue.elements[ge+12]=ht}}}var yt=Y.getMatrix4(),le=new o.Matrix4().getInverse(yt,!0);ue=new o.Matrix4().multiplyMatrices(ue,le),ue=new o.Matrix4().multiplyMatrices(yt,ue),x[x.length-1].symmetries.push(ue)}}for(let ue=0;ue<h.length;ue++)S&&(0,n.assignBonds)(h[ue]),(0,a.computeSecondaryStructure)(h[ue],g.hbondCutoff),(0,s.processSymmetries)(x[ue].symmetries,h[ue],g,x[ue].cryst),g.duplicateAssemblyAtoms&&!g.dontConnectDuplicatedAtoms&&S&&(0,n.assignBonds)(h[ue]);return h}},"./src/parsers/CUBE.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CUBE:()=>o});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/assignBonds.ts"),s=r("./src/parsers/utils/anumToSymbol.ts");function o(u,l){l=l||{};var g=[[]],h=u.split(/\r?\n/),v=l.assignBonds===void 0?!0:l.assignBonds;if(h.length<6)return g;var x=h[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),S=Math.abs(parseFloat(x[0]));let w={};var c=w.origin=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3]));x=h[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),x=h[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var _=x[0]>0?.529177:1;c.multiplyScalar(_);var y=Math.abs(x[0]),b=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])).multiplyScalar(_);x=h[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var C=Math.abs(x[0]),E=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])).multiplyScalar(_);x=h[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var p=Math.abs(x[0]),f=new n.Vector3(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])).multiplyScalar(_);if(w.size={x:y,y:C,z:p},w.unit=new n.Vector3(b.x,E.y,f.z),b.y!=0||b.z!=0||E.x!=0||E.z!=0||f.x!=0||f.y!=0){w.matrix4=new n.Matrix4(b.x,E.x,f.x,0,b.y,E.y,f.y,0,b.z,E.z,f.z,0,0,0,0,1);let I=new n.Matrix4().makeTranslation(c.x,c.y,c.z);w.matrix4=w.matrix4.multiplyMatrices(I,w.matrix4),w.matrix=w.matrix4.matrix3FromTopLeft(),w.origin=new n.Vector3(0,0,0),w.unit=new n.Vector3(1,1,1)}g.modelData=[{cryst:w}],h=h.splice(6,S);for(var D=g[g.length-1].length,M=D+h.length,N=D;N<M;++N){var O={};O.serial=N;var z=h[N-D],k=z.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");O.elem=s.anumToSymbol[k[0]],O.x=parseFloat(k[2])*_,O.y=parseFloat(k[3])*_,O.z=parseFloat(k[4])*_,O.hetflag=!0,O.bonds=[],O.bondOrder=[],O.properties={},g[g.length-1].push(O)}if(v)for(let I=0;I<g.length;I++)(0,a.assignBonds)(g[I]);return g}},"./src/parsers/GRO.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GRO:()=>s});var n=r("./src/parsers/utils/assignPDBBonds.ts"),a=r("./src/parsers/utils/atomNameToElem.ts");function s(o){for(var u=[],l=o.split(/\r?\n|\r/);l.length>0&&!(l.length<3);){var g=parseInt(l[1]);if(isNaN(g)||g<=0||l.length<g+3)break;var h=[];u.push(h);for(var v=2,x=h.length,S=x+g,w=x;w<S;w++){var c=l[v++],_={};_.serial=w,_.atom=c.slice(10,15).trim(),_.elem=(0,a.atomNameToElem)(_.atom,!0),_.x=10*parseFloat(c.slice(20,28)),_.y=10*parseFloat(c.slice(28,36)),_.z=10*parseFloat(c.slice(36,44)),_.resi=parseInt(c.slice(0,5)),_.resn=c.slice(5,10).trim(),_.bonds=[],_.bondOrder=[],_.properties={},c.length>44&&(_.dx=10*parseFloat(c.slice(44,52)),_.dy=10*parseFloat(c.slice(52,60)),_.dz=10*parseFloat(c.slice(60,68))),h[w]=_}if(l.length<=v+3){var y=l[v++],b=y.trim().split(/\s+/);if(b.length==3){for(var C=0;C<3;C++)b[C]=parseFloat(b[C])*10;u.box=b}}l.splice(0,++v)}for(let E=0;E<u.length;E++)(0,n.assignPDBBonds)(u[E]);return u}},"./src/parsers/LAMMPSTRJ.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{LAMMPSTRJ:()=>a});var n=r("./src/parsers/utils/assignBonds.ts");function a(s,o){for(var u=[],l={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"},g=s.split(/\r?\n|\r/),h=0,v=0,x=0;x<g.length-9;){for(var S=x;S<g.length;S++)if(g[S].match(/ITEM: NUMBER OF ATOMS/)&&(v=parseInt(g[S+1])),g[S].match(/ITEM: ATOMS/)){h=S+1;break}var w=g[h-1].replace("ITEM: ATOMS ","").split(" ");u.push([]);for(let p=h;p<h+v;p++){for(var c={},_={},y=g[p].split(" "),b=0;b<y.length;b++){var C=l[w[b]];C!=null&&(C=="serial"?c[C]=parseInt(y[b]):C=="x"||C=="y"||C==="z"?c[C]=parseFloat(y[b]):C=="charge"||C=="radius"?_[C]=parseFloat(y[b]):c[C]=y[b]),c.properties=_,c.bonds=[],c.bondOrder=[]}u[u.length-1][p-h]=c}x=h+v-1}if(o.assignBonds)for(var E=0;E<u.length;E++)(0,n.assignBonds)(u[E]);return u}},"./src/parsers/MMTF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MMTFparser:()=>v});var n=r("./src/utilities.ts"),a=r("./src/WebGL/index.ts"),s=r("./src/parsers/utils/computeSecondaryStructure.ts"),o=r("./src/parsers/utils/processSymmetries.ts"),u=r("./src/vendor/mmtf.js"),l=function(x){return String.fromCharCode.apply(null,x).replace(/\0/g,"")},g=function(x){return x==0||x==2||x==4?"h":x==3?"s":"c"};let h=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function v(x,S){var w=!S.keepH,c=S.altLoc?S.altLoc:"A",_=!!S.noSecondaryStructure,y=!S.noComputeSecondaryStructure,b=!S.doAssembly,C=S.assemblyIndex?S.assemblyIndex:0;typeof x=="string"?x=(0,n.base64ToArray)(x):x=new Uint8Array(x);var E=u.decode(x),p=[[]],f=p.modelData=[],D=0,M=0,N=0,O=E.secStructList,z=E.bFactorList,k=E.altLocList,I=E.occupancyList,H=E.bondAtomList,Y=E.bondOrderList,q=E.numModels;if(q==0)return p;S.multimodel||(q=1);var G,$,j,V,X,Q,te=[];if(!b&&E.bioAssemblyList&&E.bioAssemblyList.length>0){var we=E.bioAssemblyList[C].transformList;for(G=0,Q=we.length;G<Q;G++){var Pe=new a.Matrix4(we[G].matrix);Pe.transpose(),te.push(Pe)}}var xe=null;if(E.unitCell){var Fe=E.unitCell;xe={a:Fe[0],b:Fe[1],c:Fe[2],alpha:Fe[3],beta:Fe[4],gamma:Fe[5]}}let Ae=[];E.entityList.forEach(Ye=>{Ye.chainIndexList.forEach(ce=>{Ae[ce]=Ye.type=="polymer"})});var be=0;for(X=0;X<q;X++){var Qe=E.chainsPerModel[X],Xe=p[p.length-1],U=[];for(f.push({symmetries:te,cryst:xe}),G=0;G<Qe;++G){var pe=E.groupsPerChain[D],_e=l(E.chainIdList.subarray(D*4,D*4+4));E.chainNameList&&(_e=l(E.chainNameList.subarray(D*4,D*4+4)));var ie=M,de="";for($=0;$<pe;++$){var ye=E.groupList[E.groupTypeList[M]],Re=ye.atomNameList.length,Be=0,Ce=!1,Ie=!1;if(O){Be=O[M];var je=g(Be);(M==0||je!=de)&&(Ce=!0),de=je;var Ke=M+1;(Ke>=O.length||g(O[Ke]!=je))&&(Ie=!0)}var Ne=E.groupIdList[M],ht=ye.groupName;let Ye=ye.chemCompType;var yt=N;let ce=h.has(Ye)||!Ae[D];for(j=0;j<Re;++j){var le=ye.elementList[j];if(w&&le=="H"){N+=1;continue}var ue="";z&&(ue=z[N]);var ge="";k&&k[N]&&(ge=String.fromCharCode(k[N]));var $e="";if(I&&($e=I[N]),ge!=""&&ge!=c&&c!="*"){N+=1;continue}var ke=E.atomIdList[N],at=ye.atomNameList[j],ot=0;ye.atomChargeList&&(ot=ye.atomChargeList[j]);var se=E.xCoordList[N],Ge=E.yCoordList[N],Je=E.zCoordList[N];U[N]=Xe.length,Xe.push({resn:ht,x:se,y:Ge,z:Je,elem:le,hetflag:ce,chain:_e,resi:Ne,icode:ge,rescode:Ne+(ge!=" "?"^"+ge:""),serial:ke,altLoc:ge,index:N,atom:at,bonds:[],ss:g(Be),ssbegin:Ce,ssend:Ie,bondOrder:[],properties:{charge:ot,occupancy:$e},b:ue}),N+=1}var pt=ye.bondAtomList;for(j=0,V=ye.bondOrderList.length;j<V;++j){var Le=yt+pt[j*2],lt=yt+pt[j*2+1],oe=ye.bondOrderList[j],ft=U[Le],At=U[lt],W=Xe[ft],Ve=Xe[At];W&&Ve&&(W.bonds.push(At),W.bondOrder.push(oe),Ve.bonds.push(ft),Ve.bondOrder.push(oe))}M+=1}for(M=ie,$=0;$<pe;++$)M+=1;D+=1}if(H)for(let Ye=be,ce=H.length;Ye<ce;Ye+=2){let ze=H[Ye],tt=H[Ye+1],Lt=Y?Y[Ye/2]:1;if(ze>=N){be=Ye;break}let Mt=U[ze],st=U[tt],qt=Xe[Mt],Zr=Xe[st];qt&&Zr&&(qt.bonds.push(st),qt.bondOrder.push(Lt),Zr.bonds.push(Mt),Zr.bondOrder.push(Lt))}S.multimodel&&(S.onemol||p.push([]))}if(!b)for(let Ye=0;Ye<p.length;Ye++)(0,o.processSymmetries)(f[Ye].symmetries,p[Ye],S,f[Ye].cryst);return y&&!_&&(0,s.computeSecondaryStructure)(p,S.hbondCutoff),p}},"./src/parsers/MOL2.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{MOL2:()=>a});let n={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function a(s,o){var u=[[]],l=!1;typeof o.keepH<"u"&&(l=!o.keepH);var g=s.search(/@<TRIPOS>MOLECULE/),h=s.search(/@<TRIPOS>ATOM/);if(g==-1||h==-1)return u;for(var v=s.substring(g).split(/\r?\n|\r/);v.length>0;){var x=[],S=v[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),w=parseInt(S[0]),c=0;S.length>1&&(c=parseInt(S[1]));var _=4,y;for(y=3;y<v.length;y++)if(v[y]=="@<TRIPOS>ATOM"){_=y+1;break}var b=u[u.length-1].length,C=b+w,E;for(y=b;y<C;y++){E=v[_++],S=E.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var p={},f=S[5];if(n[f]!==void 0?f=n[f]:(f=f.split(".")[0],f=f[0].toUpperCase()+f.substring(1).toLowerCase()),p.atom=S[1],p.elem=f,!(p.elem=="H"&&l)){var D=u[u.length-1].length,M=parseInt(S[0]);p.serial=M,p.x=parseFloat(S[2]),p.y=parseFloat(S[3]),p.z=parseFloat(S[4]),p.atom=S[5];var N=parseFloat(S[8]);p.index=D,p.bonds=[],p.bondOrder=[],p.properties={charge:N,partialCharge:N},x[M]=D,u[u.length-1].push(p)}}for(var O=!1;_<v.length;)if(v[_++]=="@<TRIPOS>BOND"){O=!0;break}if(O&&c)for(y=0;y<c;y++){E=v[_++],S=E.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var z=parseInt(S[1]),k=u[u.length-1][x[z]],I=parseInt(S[2]),H=u[u.length-1][x[I]],Y=parseInt(S[3]);isNaN(Y)&&(Y=1),k!==void 0&&H!==void 0&&(k.bonds.push(x[I]),k.bondOrder.push(Y),H.bonds.push(x[z]),H.bondOrder.push(Y))}if(o.multimodel){o.onemol||u.push([]),v.splice(0,_),s=v.join(`
`);continue}else break}return u}},"./src/parsers/PDB.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PDB:()=>a});var n=r("./src/parsers/utils/getSinglePDB.ts");function a(s,o){o=o||{};var u=[],l={};u.modelData=[];for(var g=s.split(/\r?\n|\r/);g.length>0;){var h=(0,n.getSinglePDB)(g,o,l),v=h[0],x=h[1];if(g=h[2],v.length!=0){if(o.multimodel&&o.onemol&&u.length>0)for(var S=u[0].length,w=0;w<v.length;w++){var c=v[w];c.index=w;for(var _=0;_<c.bonds.length;_++)c.bonds[_]+=S;u[0].push(c)}else u.modelData.push(x),u.push(v);if(!o.multimodel)break}}return u}},"./src/parsers/PQR.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PQR:()=>s});var n=r("./src/parsers/utils/assignPDBBonds.ts"),a=r("./src/parsers/utils/computeSecondaryStructure.ts");function s(o,u){var l=[[]],g=!u.noSecondaryStructure;l.modelData=[{symmetries:[]}];var h=[],v=o.split(/\r?\n|\r/),x;for(let O=0;O<v.length;O++){x=v[O].replace(/^\s*/,"");var S=x.substring(0,6);if(S.indexOf("END")==0)if(u.multimodel){u.onemol||l.push([]);continue}else break;else if(S=="ATOM  "||S=="HETATM"){var w;let z=parseInt(x.substring(6,11)),k=x.substring(12,16).replace(/ /g,""),I=x.substring(17,20).trim(),H=x.substring(21,22),Y=parseInt(x.substring(22,26));var c=x.substring(30).trim().split(/\s+/),_=parseFloat(c[0]),y=parseFloat(c[1]),b=parseFloat(c[2]),C=parseFloat(c[3]),E=parseFloat(c[4]),p=k[0];k.length>1&&k[1].toUpperCase()!=k[1]&&(p=k.substring(0,2)),x[0]=="H"?w=!0:w=!1,h[z]=l[l.length-1].length,l[l.length-1].push({resn:I,x:_,y,z:b,elem:p,hetflag:w,chain:H,resi:Y,serial:z,atom:k,bonds:[],ss:"c",bondOrder:[],properties:{charge:C,partialCharge:C,radius:E},pdbline:x})}else if(S=="CONECT"){var f=parseInt(x.substring(6,11)),D=l[l.length-1][h[f]];for(let z=0;z<4;z++){var M=parseInt(x.substring([11,16,21,26][z],[11,16,21,26][z]+5)),N=l[l.length-1][h[M]];D!==void 0&&N!==void 0&&(D.bonds.push(h[M]),D.bondOrder.push(1))}}}for(let O=0;O<l.length;O++)(0,n.assignPDBBonds)(l[O]),g&&(0,a.computeSecondaryStructure)(l[O],u.hbondCutoff);return l}},"./src/parsers/PRMTOP.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{PRMTOP:()=>n});function n(a){var s=[],o,u=0,l=a.split(/\r?\n|\r/);if(l.length>0&&l[0].includes("VERSION")){var g=l.filter(function(_){return _.includes("POINTERS")||_.includes("ATOM_NAME")||_.includes("CHARGE")||_.includes("RADII")||_.includes("BONDS_INC_HYDROGEN")||_.includes("BONDS_WITHOUT_HYDROGEN")}),h=w("POINTERS");if(h==-1)return[];var v=c(h),x=parseInt(l[h+1].slice(0,v[1]));if(isNaN(x)||x<=0)return[];if(h=w("ATOM_NAME"),h==-1)return[];v=c(h);var S=v[0];for(let _=0;_<x/v[0];_++){_==parseInt(x/v[0])&&(S=x%v[0]);for(let y=0;y<S;y++){let b={},C={charge:"",radii:""};b.serial=u,b.x=0,b.y=0,b.z=0,b.atom=l[h+1].slice(v[1]*y,v[1]*(y+1)),b.elem=l[h+1].slice(v[1]*y,v[1]*y+1),b.properties=C,b.bonds=[],b.bondOrder=[],s.push(b),u++}h++}if(h=w("CHARGE"),h!=-1){v=c(h),u=0,S=v[0];for(let _=0;_<x/v[0];_++){_==parseInt(x/v[0])&&(S=x%v[0]);for(let y=0;y<S;y++)s[u].properties.charge=parseFloat(l[h+1].slice(v[1]*y,v[1]*(y+1))),u++;h++}}if(h=w("RADII"),h!=-1){v=c(h),u=0,S=v[0];for(let _=0;_<x/v[0];_++){_==parseInt(x/v[0])&&(S=x%v[0]);for(let y=0;y<S;y++)s[u].properties.radii=parseFloat(l[h+1].slice(v[1]*y,v[1]*(y+1))),u++;h++}}if(h=w("BONDS_WITHOUT_HYDROGEN"),h!=-1)for(v=c(h),u=0,S=v[0],h=h+1;!l[h].match(/^%FLAG/);){l[h+1].match(/^%FLAG/)&&(S=x%v[0]);for(let _=0;_<S;_++)u%3==0?o=parseInt(l[h].slice(v[1]*_,v[1]*(_+1))/3):u%3==1&&s[o].bonds.push(parseInt(l[h].slice(v[1]*_,v[1]*(_+1))/3)),u++;h++}if(h=w("BONDS_INC_HYDROGEN"),h!=-1)for(v=c(h),u=0,S=v[0],h=h+1;!l[h].match(/^%FLAG/);){l[h+1].match(/^%FLAG/)&&(S=x%v[0]);for(let _=0;_<S;_++)u%3==0?o=parseInt(l[h].slice(v[1]*_,v[1]*(_+1))/3):u%3==1&&s[o].bonds.push(parseInt(l[h].slice(v[1]*_,v[1]*(_+1))/3)),u++;h++}}else return[];function w(_){var y=l.indexOf(g.filter(function(b){return b.includes(_)})[0]);if(Number.isInteger(y)&&y>0){for(;!l[y].includes("FORMAT");)y++;return y}else return-1}function c(_){var y=l[_].match(/\((\d*)\S*/),b=l[_].match(/[a-zA-Z](\d*)\)\s*/);return b==null&&(b=l[_].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[y[1],b[1]]}return[s]}},"./src/parsers/SDF.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{SDF:()=>s});var n=function(o,u){var l=[[]],g=!1;for(typeof u.keepH<"u"&&(g=!u.keepH);o.length>0&&!(o.length<4);){var h=parseInt(o[3].substring(0,3));if(isNaN(h)||h<=0)break;var v=parseInt(o[3].substring(3,6)),x=4;if(o.length<4+h+v)break;var S=[],w=l[l.length-1].length,c=w+h,_,y;for(_=w;_<c;_++,x++){y=o[x];var b={},C=y.substring(31,34).replace(/ /g,"");b.atom=b.elem=C[0].toUpperCase()+C.substring(1).toLowerCase(),(b.elem!=="H"||!g)&&(b.serial=_,S[_]=l[l.length-1].length,b.x=parseFloat(y.substring(0,10)),b.y=parseFloat(y.substring(10,20)),b.z=parseFloat(y.substring(20,30)),b.hetflag=!0,b.bonds=[],b.bondOrder=[],b.properties={},b.index=l[l.length-1].length,l[l.length-1].push(b))}for(_=0;_<v;_++,x++){y=o[x];var E=S[parseInt(y.substring(0,3))-1+w],p=S[parseInt(y.substring(3,6))-1+w],f=parseFloat(y.substring(6));typeof E<"u"&&typeof p<"u"&&(l[l.length-1][E].bonds.push(p),l[l.length-1][E].bondOrder.push(f),l[l.length-1][p].bonds.push(E),l[l.length-1][p].bondOrder.push(f))}if(u.multimodel){for(u.onemol||l.push([]);o[x]!=="$$$$"&&x<o.length;)x++;o.splice(0,++x)}else break}return l},a=function(o,u){var l=[[]],g=!1;for(typeof u.keepH<"u"&&(g=!u.keepH);o.length>0&&!(o.length<8||!o[4].startsWith("M  V30 BEGIN CTAB")||!o[5].startsWith("M  V30 COUNTS")||o[5].length<14);){var h=o[5].substring(13).match(/\S+/g);if(h.length<2)break;var v=parseInt(h[0]);if(isNaN(v)||v<=0)break;var x=parseInt(h[1]),S=7;if(o.length<8+v+x)break;var w=[],c=l[l.length-1].length,_=c+v,y,b;for(y=c;y<_;y++,S++){b=o[S];var C=b.substring(6).match(/\S+/g);if(C.length>4){var E={},p=C[1].replace(/ /g,"");E.atom=E.elem=p[0].toUpperCase()+p.substring(1).toLowerCase(),(E.elem!=="H"||!g)&&(E.serial=y,w[y]=l[l.length-1].length,E.x=parseFloat(C[2]),E.y=parseFloat(C[3]),E.z=parseFloat(C[4]),E.hetflag=!0,E.bonds=[],E.bondOrder=[],E.properties={},E.index=l[l.length-1].length,l[l.length-1].push(E))}}if(o[S]==="M  V30 END ATOM")S++;else break;if(x!==0&&o[S]==="M  V30 BEGIN BOND")S++;else break;for(y=0;y<x;y++,S++){b=o[S];var f=b.substring(6).match(/\S+/g);if(f.length>3){var D=w[parseInt(f[2])-1+c],M=w[parseInt(f[3])-1+c],N=parseFloat(f[1]);typeof D<"u"&&typeof M<"u"&&(l[l.length-1][D].bonds.push(M),l[l.length-1][D].bondOrder.push(N),l[l.length-1][M].bonds.push(D),l[l.length-1][M].bondOrder.push(N))}}if(u.multimodel){for(u.onemol||l.push([]);o[S]!=="$$$$"&&S<o.length;)S++;o.splice(0,++S)}else break}return l};function s(o,u){var l="V2000",g=o.split(/\r?\n|\r/);return g.length>3&&g[3].length>38&&(l=g[3].substring(34,39)),l==="V2000"?n(g,u):l==="V3000"?a(g,u):[[""]]}},"./src/parsers/VASP.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{VASP:()=>a});var n=r("./src/WebGL/index.ts");function a(s){var o=[[]],u={},l=s.replace(/^\s+/,"").split(/\r?\n/);if(l.length<3)return o;if(l[1].match(/\d+/))u.length=parseFloat(l[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),o;if(u.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),o;u.xVec=new Float32Array(l[2].replace(/^\s+/,"").split(/\s+/)),u.yVec=new Float32Array(l[3].replace(/^\s+/,"").split(/\s+/)),u.zVec=new Float32Array(l[4].replace(/^\s+/,"").split(/\s+/));var g=new n.Matrix3(u.xVec[0],u.xVec[1],u.xVec[2],u.yVec[0],u.yVec[1],u.yVec[2],u.zVec[0],u.zVec[1],u.zVec[2]);g.multiplyScalar(u.length),o.modelData=[{symmetries:[],cryst:{matrix:g}}];var h=l[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/),v=new Int16Array(l[6].replace(/^\s+/,"").split(/\s+/)),x=l[7].replace(/\s+/,"");if(x.match(/C/))x="cartesian";else if(x.match(/D/))x="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),o;if(h.length!=v.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(h),console.log(v),o;l.splice(0,8);for(var S=0,w=0,c=h.length;w<c;w++){for(var _=h[w],y=0,b=v[w];y<b;y++){var C=new Float32Array(l[S+y].replace(/^\s+/,"").split(/\s+/)),E={};E.elem=_,x=="cartesian"?(E.x=u.length*C[0],E.y=u.length*C[1],E.z=u.length*C[2]):(E.x=u.length*(C[0]*u.xVec[0]+C[1]*u.yVec[0]+C[2]*u.zVec[0]),E.y=u.length*(C[0]*u.xVec[1]+C[1]*u.yVec[1]+C[2]*u.zVec[1]),E.z=u.length*(C[0]*u.xVec[2]+C[1]*u.yVec[2]+C[2]*u.zVec[2])),E.bonds=[],o[0].push(E)}S+=v[w]}return o}},"./src/parsers/XYZ.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{XYZ:()=>s});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/assignBonds.ts");function s(o,u){u=u||{};for(var l=[[]],g=u.assignBonds===void 0?!0:u.assignBonds,h=o.split(/\r?\n|\r/);h.length>0&&!(h.length<3);){var v=parseInt(h[0]);if(isNaN(v)||v<=0||h.length<v+2)break;var x=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,S=x.exec(h[1]);if(S!=null&&S.length>1){var w=new Float32Array(S[1].split(/\s+/)),c=new n.Matrix3(w[0],w[3],w[6],w[1],w[4],w[7],w[2],w[5],w[8]);l.modelData=[{cryst:{matrix:c}}]}for(var _=2,y=l[l.length-1].length,b=y+v,C=y;C<b;C++){var E=h[_++],p=E.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),f={};f.serial=C;var D=p[0];f.atom=f.elem=D[0].toUpperCase()+D.substring(1,2).toLowerCase(),f.x=parseFloat(p[1]),f.y=parseFloat(p[2]),f.z=parseFloat(p[3]),f.hetflag=!0,f.bonds=[],f.bondOrder=[],f.properties={},l[l.length-1][C]=f,p.length>=7&&(f.dx=parseFloat(p[4]),f.dy=parseFloat(p[5]),f.dz=parseFloat(p[6]))}if(u.multimodel)l.push([]),h.splice(0,_);else break}if(g)for(let N=0;N<l.length;N++)(0,a.assignBonds)(l[N]);if(u.onemol){var M=l;l=[],l.push(M[0]);for(let N=1;N<M.length;N++){let O=l[0].length;for(let z=0;z<M[N].length;z++){let k=M[N][z];for(let I=0;I<k.bonds.length;I++)k.bonds[I]=k.bonds[I]+O;k.index=l[0].length,k.serial=l[0].length,l[0].push(k)}}}return l}},"./src/parsers/index.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Parsers:()=>y,bondLength:()=>_.bondLength,setBondLength:()=>_.setBondLength});var n=r("./src/parsers/VASP.ts"),a=r("./src/parsers/CUBE.ts"),s=r("./src/parsers/XYZ.ts"),o=r("./src/parsers/SDF.ts"),u=r("./src/parsers/CDJSON.ts"),l=r("./src/parsers/CIF.ts"),g=r("./src/parsers/MOL2.ts"),h=r("./src/parsers/PDB.ts"),v=r("./src/parsers/PQR.ts"),x=r("./src/parsers/MMTF.ts"),S=r("./src/parsers/PRMTOP.ts"),w=r("./src/parsers/GRO.ts"),c=r("./src/parsers/LAMMPSTRJ.ts"),_=r("./src/parsers/utils/bondLength.ts");let y={vasp:n.VASP,VASP:n.VASP,cube:a.CUBE,CUBE:a.CUBE,xyz:s.XYZ,XYZ:s.XYZ,sdf:o.SDF,SDF:o.SDF,json:u.CDJSON,cdjson:u.CDJSON,CDJSON:u.CDJSON,mcif:l.CIF,cif:l.CIF,CIF:l.CIF,mol2:g.MOL2,MOL2:g.MOL2,pdb:h.PDB,PDB:h.PDB,pdbqt:h.PDB,PDBQT:h.PDB,pqr:v.PQR,PQR:v.PQR,mmtf:x.MMTFparser,MMTF:x.MMTFparser,prmtop:S.PRMTOP,PRMTOP:S.PRMTOP,gro:w.GRO,GRO:w.GRO,lammpstrj:c.LAMMPSTRJ,LAMMPSTRJ:c.LAMMPSTRJ}},"./src/parsers/utils/anumToSymbol.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{anumToSymbol:()=>n});let n={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{areConnected:()=>a});var n=r("./src/parsers/utils/bondLength.ts");function a(s,o){var u=(0,n.bondLength)(s.elem)+(0,n.bondLength)(o.elem);u+=.25,u*=u;var l=s.x-o.x;if(l*=l,l>u)return!1;var g=s.y-o.y;if(g*=g,g>u)return!1;var h=s.z-o.z;if(h*=h,h>u)return!1;var v=l+g+h;return isNaN(v)||v<.5||v>u?!1:!(s.altLoc!=o.altLoc&&s.altLoc!=" "&&o.altLoc!=" ")}},"./src/parsers/utils/assignBackboneHBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignBackboneHBonds:()=>n});function n(a,s){let o=s||3.2,u=o*o,l=[];for(let _=0,y=a.length;_<y;_++){a[_].index=_;var g=a[_];!g.hetflag&&(g.atom==="N"||g.atom==="O")&&(l.push(g),g.hbondOther=null,g.hbondDistanceSq=Number.POSITIVE_INFINITY)}l.sort(function(_,y){return _.z-y.z});for(let _=0,y=l.length;_<y;_++){var h=l[_];for(let b=_+1;b<y;b++){var v=l[b],x=v.z-h.z;if(x>o)break;if(v.atom!=h.atom){var S=Math.abs(v.y-h.y);if(!(S>o)){var w=Math.abs(v.x-h.x);if(!(w>o)){var c=w*w+S*S+x*x;c>u||v.chain==h.chain&&Math.abs(v.resi-h.resi)<4||(c<h.hbondDistanceSq&&(h.hbondOther=v,h.hbondDistanceSq=c),c<v.hbondDistanceSq&&(v.hbondOther=h,v.hbondDistanceSq=c))}}}}}}},"./src/parsers/utils/assignBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignBonds:()=>a});var n=r("./src/parsers/utils/areConnected.ts");function a(s){for(var o=0,u=s.length;o<u;o++)s[o].index||(s[o].index=o);for(var l={},g=4.95,h=0;h<s.length;h++){var v=s[h],x=Math.floor(v.x/g),S=Math.floor(v.y/g),w=Math.floor(v.z/g);l[x]||(l[x]={}),l[x][S]||(l[x][S]={}),l[x][S][w]||(l[x][S][w]=[]),l[x][S][w].push(v)}var c=function(y,b){for(var C=0;C<y.length;C++)for(var E=y[C],p=0;p<b.length;p++){var f=b[p];if((0,n.areConnected)(E,f)){var D=E.bonds.indexOf(f.index),M=f.bonds.indexOf(E.index);D==-1&&M==-1?(E.bonds.push(f.index),E.bondOrder.push(1),f.bonds.push(E.index),f.bondOrder.push(1)):D==-1?(E.bonds.push(f.index),E.bondOrder.push(f.bondOrder[M])):M==-1&&(f.bonds.push(E.index),f.bondOrder.push(E.bondOrder[D]))}}},_=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(let y in l){let b=parseInt(y);for(let C in l[b]){let E=parseInt(C);for(let p in l[b][E]){let f=parseInt(p),D=l[b][E][f];for(let M=0;M<D.length;M++){let N=D[M];for(let O=M+1;O<D.length;O++){let z=D[O];(0,n.areConnected)(N,z)&&N.bonds.indexOf(z.index)==-1&&(N.bonds.push(z.index),N.bondOrder.push(1),z.bonds.push(N.index),z.bondOrder.push(1))}}for(let M=0;M<_.length;M++){let N=_[M];if(!l[b+N.x]||!l[b+N.x][E+N.y]||!l[b+N.x][E+N.y][f+N.z])continue;let O=l[b+N.x][E+N.y][f+N.z];c(D,O)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{assignPDBBonds:()=>o});var n=r("./src/parsers/utils/areConnected.ts"),a=r("./src/parsers/utils/assignBonds.ts"),s=r("./src/parsers/utils/standardResidues.ts");function o(u){var l=[],g=[],h,v;for(h=0,v=u.length;h<v;h++){var x=u[h];x.index=h,x.hetflag||!s.standardResidues.has(x.resn)?g.push(x):l.push(x)}(0,a.assignBonds)(g),l.sort(function(C,E){return C.chain!=E.chain?C.chain<E.chain?-1:1:C.resi-E.resi});var S=-1,w=-1,c;for(h=0,v=l.length;h<v;h++){var _=l[h];_.resi!==S&&(S=_.resi,c||w++,c=!1),_.reschain=w;for(var y=h+1;y<l.length;y++){var b=l[y];if(b.chain!=_.chain||b.resi-_.resi>1)break;(0,n.areConnected)(_,b)&&(_.bonds.indexOf(b.index)===-1&&(_.bonds.push(b.index),_.bondOrder.push(1),b.bonds.push(_.index),b.bondOrder.push(1)),_.resi!==b.resi&&(c=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{atomNameToElem:()=>a});var n=r("./src/parsers/utils/bondLength.ts");function a(s,o){var u=s.replace(/ /g,"");return u.length>0&&u[0]=="H"&&u!="Hg"&&u!="He"&&u!="Hf"&&u!="Hs"&&u!="Ho"&&(u="H"),u.length>1&&(u=u[0].toUpperCase()+u.substring(1).toLowerCase(),typeof n.bondTable[u]>"u"?u=u[0]:o&&(u=="Ca"||u=="Cd")&&(u="C")),u}},"./src/parsers/utils/bondLength.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{bondLength:()=>a,bondTable:()=>n,setBondLength:()=>s});let n={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function a(o){return n[o]||1.6}function s(o,u){u<0&&(u=0),n[o]=u}},"./src/parsers/utils/computeSecondaryStructure.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{computeSecondaryStructure:()=>a});var n=r("./src/parsers/utils/assignBackboneHBonds.ts");function a(s,o){(0,n.assignBackboneHBonds)(s,o);var u={},l,g,h,v,x,S;for(l=0,g=s.length;l<g;l++)if(x=s[l],typeof u[x.chain]>"u"&&(u[x.chain]=[]),isFinite(x.hbondDistanceSq)){var w=x.hbondOther;typeof u[w.chain]>"u"&&(u[w.chain]=[]),Math.abs(w.resi-x.resi)===4&&(u[x.chain][x.resi]="h")}for(h in u)for(v=1;v<u[h].length-1;v++){var c=u[h][v-1],_=u[h][v+1];S=u[h][v],c=="h"&&c==_&&S!=c&&(u[h][v]=c)}for(l=0,g=s.length;l<g;l++)x=s[l],isFinite(x.hbondDistanceSq)&&u[x.chain][x.resi]!="h"&&x.ss!="h"&&(u[x.chain][x.resi]="maybesheet");for(let y=0,b=s.length;y<b;y++)if(x=s[y],isFinite(x.hbondDistanceSq)&&u[x.chain][x.resi]=="maybesheet"){let C=x.hbondOther,E=u[C.chain][C.resi];(E=="maybesheet"||E=="s")&&(u[x.chain][x.resi]="s",u[C.chain][C.resi]="s")}for(let y in u){for(let b=1;b<u[y].length-1;b++){let C=u[y][b-1],E=u[y][b+1];S=u[y][b],C=="s"&&C==E&&S!=C&&(u[y][b]=C)}for(let b=0;b<u[y].length;b++){let C=u[y][b];(C=="h"||C=="s")&&u[y][b-1]!=C&&u[y][b+1]!=C&&delete u[y][b]}}for(l=0,g=s.length;l<g;l++)x=s[l],S=u[x.chain][x.resi],delete x.hbondOther,delete x.hbondDistanceSq,!(typeof S>"u"||S=="maybesheet")&&(x.ss=S,u[x.chain][x.resi-1]!=S&&(x.ssbegin=!0),u[x.chain][x.resi+1]!=S&&(x.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getSinglePDB:()=>v});var n=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/atomNameToElem.ts"),s=r("./src/parsers/utils/bondLength.ts"),o=r("./src/parsers/utils/computeSecondaryStructure.ts"),u=r("./src/parsers/utils/isEmpty.ts"),l=r("./src/parsers/utils/processSymmetries.ts"),g=r("./src/parsers/utils/assignPDBBonds.ts"),h=r("./src/parsers/utils/validateBonds.ts");function v(x,S,w){var c=[],_=S.assignBonds===void 0?!0:S.assignBonds,y=!S.keepH,b=!!S.noSecondaryStructure,C=!S.noComputeSecondaryStructure,E=!S.doAssembly,p=S.altLoc?S.altLoc:"A",f={symmetries:[]},D,M=[],N=[],O,z={};for(let ht=0;ht<x.length;ht++){O=x[ht].replace(/^\s*/,"");var k=O.substring(0,6),I,H,Y;if(k.indexOf("END")==0){if(M=x.slice(ht+1),k=="END")for(var q in w)w.hasOwnProperty(q)&&delete w[q];break}else if(k=="ATOM  "||k=="HETATM"){var G,$,j,V,X,Q,te,we,Pe,xe,Fe,Ae;if(Fe=O.substring(16,17),Fe!=" "&&Fe!=p&&p!="*"||(xe=parseInt(O.substring(6,11)),D=O.substring(12,16).replace(/ /g,""),G=O.substring(17,20).replace(/ /g,""),$=O.substring(21,22),j=parseInt(O.substring(22,26)),V=O.substring(26,27),X=parseFloat(O.substring(30,38)),Q=parseFloat(O.substring(38,46)),te=parseFloat(O.substring(46,54)),Ae=parseFloat(O.substring(60,68)),Pe=O.substring(76,78).replace(/ /g,""),Pe===""||typeof s.bondTable[Pe]>"u"?Pe=(0,a.atomNameToElem)(O.substring(12,14),O[0]=="A"):Pe=Pe[0].toUpperCase()+Pe.substring(1).toLowerCase(),Pe=="H"&&y))continue;k[0]=="H"?we=!0:we=!1,N[xe]=c.length,c.push({resn:G,x:X,y:Q,z:te,elem:Pe,hetflag:we,altLoc:Fe,chain:$,resi:j,icode:V,rescode:j+(V!=" "?"^"+V:""),serial:xe,atom:D,bonds:[],ss:"c",bondOrder:[],properties:{},b:Ae,pdbline:O})}else if(k=="SHEET "){I=O.substring(21,22),H=parseInt(O.substring(22,26)),Y=parseInt(O.substring(33,37)),I in w||(w[I]={}),w[I][H]="s1";for(var be=H+1;be<Y;be++)w[I][be]="s";w[I][Y]="s2"}else if(k=="CONECT"){var Qe=parseInt(O.substring(6,11)),Xe=N[Qe],U=c[Xe],pe=[11,16,21,26];for(let yt=0;yt<4;yt++){var _e=parseInt(O.substring(pe[yt],pe[yt]+5)),ie=N[_e];let le=Xe+":"+ie;var de=c[ie];if(U!==void 0&&de!==void 0)if(!z[le])z[le]=1,(U.bonds.length==0||U.bonds[U.bonds.length-1]!=ie)&&(U.bonds.push(ie),U.bondOrder.push(1));else{z[le]+=1;for(let ue=0;ue<U.bonds.length;ue++)if(U.bonds[ue]==ie){var ye=z[le];ye>=4?U.bondOrder[ue]=1:U.bondOrder[ue]=ye}}}}else if(k=="HELIX "){I=O.substring(19,20),H=parseInt(O.substring(21,25)),Y=parseInt(O.substring(33,37)),I in w||(w[I]={}),w[I][H]="h1";for(let yt=H+1;yt<Y;yt++)w[I][yt]="h";w[I][Y]="h2"}else if(!E&&k=="REMARK"&&O.substring(13,18)=="BIOMT"){var Re,Be=new n.Matrix4;for(Re=1;Re<=3;Re++)if(O=x[ht].replace(/^\s*/,""),parseInt(O.substring(18,19))==Re)Be.elements[Re-1]=parseFloat(O.substring(23,33)),Be.elements[Re-1+4]=parseFloat(O.substring(33,43)),Be.elements[Re-1+8]=parseFloat(O.substring(43,53)),Be.elements[Re-1+12]=parseFloat(O.substring(53)),ht++;else for(;O.substring(13,18)=="BIOMT";)ht++,O=x[ht].replace(/^\s*/,"");Be.elements[3]=0,Be.elements[7]=0,Be.elements[11]=0,Be.elements[15]=1,f.symmetries.push(Be),ht--}else if(k=="CRYST1"){let yt,le,ue,ge,$e,ke;yt=parseFloat(O.substring(7,15)),le=parseFloat(O.substring(16,24)),ue=parseFloat(O.substring(25,33)),ge=parseFloat(O.substring(34,40)),$e=parseFloat(O.substring(41,47)),ke=parseFloat(O.substring(48,54)),f.cryst={a:yt,b:le,c:ue,alpha:ge,beta:$e,gamma:ke}}else if(k=="ANISOU"){let yt=parseInt(O.substring(6,11));var Ce=N[yt],Ie=c[Ce];if(Ie){var je=O.substring(30).trim().split(/\s+/),Ke={u11:parseInt(je[0]),u22:parseInt(je[1]),u33:parseInt(je[2]),u12:parseInt(je[3]),u13:parseInt(je[4]),u23:parseInt(je[5])};Ie.uMat=Ke}}}if((0,h.validateBonds)(c,N),_&&(0,g.assignPDBBonds)(c),E||(0,l.processSymmetries)(f.symmetries,c,S,f.cryst),C&&!b&&(0,o.computeSecondaryStructure)(c,S.hbondCutoff),!(0,u.isEmpty)(w)){for(let ht=0;ht<c.length;ht++)if(D=c[ht],D!==void 0&&D.chain in w&&D.resi in w[D.chain]){var Ne=w[D.chain][D.resi];D.ss=Ne[0],Ne.length>1&&(Ne[1]=="1"?D.ssbegin=!0:Ne[1]=="2"&&(D.ssend=!0))}}return[c,f,M]}},"./src/parsers/utils/isEmpty.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{isEmpty:()=>n});function n(a){var s;for(s in a)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{processSymmetries:()=>a});var n=r("./src/WebGL/index.ts");function a(s,o,u,l){var g=!u.duplicateAssemblyAtoms,h=o.length,v=h,x,S,w;let c=-1;if(u.normalizeAssembly&&l){let p=(0,n.conversionMatrix3)(l.a,l.b,l.c,l.alpha,l.beta,l.gamma),f=new n.Matrix3;for(f.getInverse3(p),x=0;x<s.length;x++){let D=new n.Vector3(0,0,0);for(w=0;w<h;w++){let z=new n.Vector3(o[w].x,o[w].y,o[w].z);z.applyMatrix4(s[x]),z.applyMatrix3(f),D.add(z)}D.divideScalar(h);let M=[D.x,D.y,D.z],N=[0,0,0];for(let z=0;z<3;z++){for(;M[z]<-.001;)M[z]+=1,N[z]+=1;for(;M[z]>1.001;)M[z]-=1,N[z]-=1}let O=new n.Vector3(N[0],N[1],N[2]);O.applyMatrix3(p),s[x].isNearlyIdentity()&&O.lengthSq()>.001&&(c=x),s[x].translate(O)}}if(g){if(s.length>1)for(x=0;x<o.length;x++){var C=[];for(S=0;S<s.length;S++)if(!s[S].isNearlyIdentity()){var E=new n.Vector3;E.set(o[x].x,o[x].y,o[x].z),E.applyMatrix4(s[S]),C.push(E)}o[x].symmetries=C}}else{for(w=0;w<h;w++)o[w].sym=-1;for(x=0;x<s.length;x++)if(!s[x].isNearlyIdentity()&&c!=x){let p=new n.Vector3;for(w=0;w<h;w++){var _=[];for(S=0;S<o[w].bonds.length;S++)_.push(o[w].bonds[S]+v);p.set(o[w].x,o[w].y,o[w].z),p.applyMatrix4(s[x]);var y={};for(var b in o[w])y[b]=o[w][b];y.x=p.x,y.y=p.y,y.z=p.z,y.bonds=_,y.sym=x,y.index=o.length,o.push(y)}v=o.length}else for(w=0;w<h;w++)o[w].sym=x;if(c>=0){let p=new n.Vector3;for(w=0;w<h;w++)p.set(o[w].x,o[w].y,o[w].z),p.applyMatrix4(s[c]),o[w].x=p.x,o[w].y=p.y,o[w].z=p.z}s.length=0}}},"./src/parsers/utils/standardResidues.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{standardResidues:()=>n});let n=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{validateBonds:()=>n});function n(a,s){for(var o=0,u=a.length;o<u;o++)for(var l=a[o],g=0;g<l.bonds.length;g++){var h=l.bonds[g],v=a[h],x=s[l.serial];if(v&&x){var S=v.bonds.indexOf(x);S<0&&(v.bonds.push(x),v.bondOrder.push(l.bondOrder[g]))}}}},"./src/partialCharges.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{applyPartialCharges:()=>a,partialCharges:()=>n});let n={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function a(s,o){if((!o||typeof s.partialCharge>"u")&&s.resn&&s.atom){var u=s.resn+":"+s.atom;s.properties.partialCharge=n[u]}}},"./src/specs.ts":(e,t,r)=>{"use strict";r.r(t)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts");function extend(e,t){for(var r in t)t.hasOwnProperty(r)&&t[r]!==void 0&&(e[r]=t[r]);return e}function deepCopy(e){let t,r,n;if(e==null)return{};if(typeof e!="object"||e===null)return e;t=Array.isArray(e)?[]:{};for(n in e)r=e[n],t[n]=deepCopy(r);return t}function isNumeric(e){var t=typeof e;return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))}function isEmptyObject(e){var t;for(t in e)return!1;return!0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?null:callback}function adjustVolumeStyle(e){e&&(e.volformat&&!(e.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(e.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(e.voldata,e.volformat)),e.volscheme&&(e.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(e.volscheme)))}function getExtent(e,t){var r,n,a,s,o,u,l,g,h,v,x=!t;if(r=n=a=9999,s=o=u=-9999,l=g=h=v=0,e.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var S=0;S<e.length;S++){var w=e[S];if(!(typeof w>"u"||!isFinite(w.x)||!isFinite(w.y)||!isFinite(w.z))&&(v++,l+=w.x,g+=w.y,h+=w.z,r=r<w.x?r:w.x,n=n<w.y?n:w.y,a=a<w.z?a:w.z,s=s>w.x?s:w.x,o=o>w.y?o:w.y,u=u>w.z?u:w.z,w.symmetries&&x))for(var c=0;c<w.symmetries.length;c++)v++,l+=w.symmetries[c].x,g+=w.symmetries[c].y,h+=w.symmetries[c].z,r=r<w.symmetries[c].x?r:w.symmetries[c].x,n=n<w.symmetries[c].y?n:w.symmetries[c].y,a=a<w.symmetries[c].z?a:w.symmetries[c].z,s=s>w.symmetries[c].x?s:w.symmetries[c].x,o=o>w.symmetries[c].y?o:w.symmetries[c].y,u=u>w.symmetries[c].z?u:w.symmetries[c].z}return[[r,n,a],[s,o,u],[l/v,g/v,h/v]]}function getPropertyRange(e,t){for(var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=0,s=e.length;a<s;a++){var o=e[a],u=getAtomProperty(o,t);u!=null&&(u<r&&(r=u),u>n&&(n=u))}return!isFinite(r)&&!isFinite(n)?r=n=0:isFinite(r)?isFinite(n)||(n=r):r=n,[r,n]}class PausableTimer{constructor(t,r,n){this.total_time_run=0,this.fn=t,this.arg=n,this.countdown=r,this.start_time=new Date().getTime(),this.ident=setTimeout(t,r,n)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(e){for(var t=window.atob(e),r=t.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=t.charCodeAt(a);return n}function getAtomProperty(e,t){var r=null;return e.properties&&typeof e.properties[t]<"u"?r=e.properties[t]:typeof e[t]<"u"&&(r=e[t]),r}function mergeGeos(e,t){var r=t.geometry;r!==void 0&&e.geometryGroups.push(r.geometryGroups[0])}function specStringToObject(e){if(typeof e=="object")return e;if(typeof e>"u"||e==null)return e;try{return JSON.parse(e)}catch{}e=e.replace(/%7E/g,"~");var t=function(x){return isNumeric(x)?Math.floor(parseFloat(x))==parseInt(x)||x.indexOf(".")>=0?parseFloat(x):parseInt(x):x==="true"?!0:x==="false"?!1:x},r={};if(e==="all")return r;for(var n=e.split(";"),a=0;a<n.length;a++){var s=n[a].split(":"),o=s[0],u={},l=s[1];if(l)if(l=l.replace(/~/g,"="),l.indexOf("=")!==-1)for(var g=l.split(","),h=0;h<g.length;h++){var v=g[h].split("=",2);u[v[0]]=t(v[1])}else l.indexOf(",")!==-1?u=l.split(","):u=t(l);r[o]=u}return r}function checkStatus(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}function get(e,t){var r=fetch(e).then(checkStatus).then(n=>n.text());return t?r.then(t):r}function getbin(e,t,r,n){var a;return r=="POST"?a=fetch(e,{method:"POST",body:n}).then(s=>checkStatus(s)).then(s=>s.arrayBuffer()):a=fetch(e).then(s=>checkStatus(s)).then(s=>s.arrayBuffer()),t?a.then(t):a}function download(e,t,r,n){var a="",s="",o="",u="",l=null,g=t.addModel();if(e.indexOf(":")<0&&(e.length==4?e="pdb:"+e:isNaN(e)?e="url:"+e:e="cid:"+e),e.substring(0,5)==="mmtf:")s=r&&r.pdbUri?r.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",e=e.substring(5).toUpperCase(),u=s+e,r&&typeof r.noComputeSecondaryStructure>"u"&&(r.noComputeSecondaryStructure=!0),l=new Promise(function(v){getbin(u).then(function(x){g.addMolData(x,"mmtf",r),t.zoomTo(),t.render(),v(g)},function(){console.log("fetch of "+u+" failed.")})});else{if(e.substring(0,4)==="pdb:"){if(a="mmtf",r&&r.format&&(a=r.format),r&&typeof r.noComputeSecondaryStructure>"u"&&(r.noComputeSecondaryStructure=!0),e=e.substring(4).toUpperCase(),!e.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}a=="mmtf"?(o=r&&r.mmtfUri?r.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",u=o+e.toUpperCase()):(s=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",u=s+e+"."+a)}else if(e.substring(0,4)=="cid:"){if(a="sdf",e=e.substring(4),!e.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}u="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else e.substring(0,4)=="url:"&&(u=e.substring(4),a=u);var h=function(v){g.addMolData(v,a,r),t.zoomTo(),t.render()};l=new Promise(function(v){a=="mmtf"?getbin(u).then(function(x){h(x),v(g)}).catch(function(){s=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",u=s+e+".pdb",a="pdb",console.log("falling back to pdb format"),get(u).then(function(x){h(x),v(g)}).catch(function(x){h(""),v(g),console.log("fetch of "+u+" failed: "+x.statusText)})}):get(u).then(function(x){h(x),v(g)}).catch(function(x){h(""),v(g),console.log("fetch of "+u+" failed: "+x.statusText)})})}return n?(l.then(function(v){n(v)}),g):l}function getColorFromStyle(e,t){let r=t.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]<"u")r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r];else if(typeof r=="string"&&r.endsWith("Carbon")){let o=r.substring(0,r.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[o]<"u"){let u=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);u.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[o],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]={prop:"elem",map:u},r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]}}let n=e.color;if(typeof t.color<"u"&&t.color!="spectrum"&&(n=t.color),typeof r<"u"){let o,u;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r]<"u")r=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r],typeof r[e[r.prop]]<"u"&&(n=r.map[e[r.prop]]);else if(typeof r[e[r.prop]]<"u")n=r.map[e[r.prop]];else if(typeof r.prop<"u"&&typeof r.gradient<"u"){o=r.prop;var a=r.gradient;typeof _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[a]<"u"&&(a=new _Gradient__WEBPACK_IMPORTED_MODULE_0__.builtinGradients[a](r.min,r.max,r.mid?r.mid:r.colors));let l=a.range()||[-1,1];u=getAtomProperty(e,o),u!=null&&(n=a.valueToHex(u,l))}else typeof r.prop<"u"&&typeof r.map<"u"?(o=r.prop,u=getAtomProperty(e,o),typeof r.map[u]<"u"&&(n=r.map[u])):typeof t.colorscheme[e.elem]<"u"?n=t.colorscheme[e.elem]:console.log("Could not interpret colorscheme "+r)}else typeof t.colorfunc<"u"&&(n=t.colorfunc(e));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(n)}function getElement(e){let t=e;return typeof e=="string"?t=document.querySelector("#"+e):typeof e=="object"&&e.get&&(t=e.get(0)),t}},"./node_modules/upng-js/UPNG.js":(e,t,r)=>{(function(){var n={},a;e.exports=n,a=r("./node_modules/upng-js/node_modules/pako/index.js");function s(){typeof process>"u",console.log.apply(console,arguments)}(function(o,u){o.toRGBA8=function(l){var g=l.width,h=l.height;if(l.tabs.acTL==null)return[o.toRGBA8.decodeImage(l.data,g,h,l).buffer];var v=[];l.frames[0].data==null&&(l.frames[0].data=l.data);for(var x,S=new Uint8Array(g*h*4),w=0;w<l.frames.length;w++){var c=l.frames[w],_=c.rect.x,y=c.rect.y,b=c.rect.width,C=c.rect.height,E=o.toRGBA8.decodeImage(c.data,b,C,l);if(w==0?x=E:c.blend==0?o._copyTile(E,b,C,x,g,h,_,y,0):c.blend==1&&o._copyTile(E,b,C,x,g,h,_,y,1),v.push(x.buffer),x=x.slice(0),c.dispose!=0){if(c.dispose==1)o._copyTile(S,b,C,x,g,h,_,y,0);else if(c.dispose==2){for(var p=w-1;l.frames[p].dispose==2;)p--;x=new Uint8Array(v[p]).slice(0)}}}return v},o.toRGBA8.decodeImage=function(l,g,h,v){var x=g*h,S=o.decode._getBPP(v),w=Math.ceil(g*S/8),c=new Uint8Array(x*4),_=new Uint32Array(c.buffer),y=v.ctype,b=v.depth,C=o._bin.readUshort;if(y==6){var E=x<<2;if(b==8)for(var p=0;p<E;p++)c[p]=l[p];if(b==16)for(var p=0;p<E;p++)c[p]=l[p<<1]}else if(y==2){var f=v.tabs.tRNS,D=-1,M=-1,N=-1;if(f&&(D=f[0],M=f[1],N=f[2]),b==8)for(var p=0;p<x;p++){var O=p<<2,z=p*3;c[O]=l[z],c[O+1]=l[z+1],c[O+2]=l[z+2],c[O+3]=255,D!=-1&&l[z]==D&&l[z+1]==M&&l[z+2]==N&&(c[O+3]=0)}if(b==16)for(var p=0;p<x;p++){var O=p<<2,z=p*6;c[O]=l[z],c[O+1]=l[z+2],c[O+2]=l[z+4],c[O+3]=255,D!=-1&&C(l,z)==D&&C(l,z+2)==M&&C(l,z+4)==N&&(c[O+3]=0)}}else if(y==3){var k=v.tabs.PLTE,I=v.tabs.tRNS,H=I?I.length:0;if(b==1)for(var Y=0;Y<h;Y++)for(var q=Y*w,G=Y*g,p=0;p<g;p++){var O=G+p<<2,$=l[q+(p>>3)]>>7-((p&7)<<0)&1,j=3*$;c[O]=k[j],c[O+1]=k[j+1],c[O+2]=k[j+2],c[O+3]=$<H?I[$]:255}if(b==2)for(var Y=0;Y<h;Y++)for(var q=Y*w,G=Y*g,p=0;p<g;p++){var O=G+p<<2,$=l[q+(p>>2)]>>6-((p&3)<<1)&3,j=3*$;c[O]=k[j],c[O+1]=k[j+1],c[O+2]=k[j+2],c[O+3]=$<H?I[$]:255}if(b==4)for(var Y=0;Y<h;Y++)for(var q=Y*w,G=Y*g,p=0;p<g;p++){var O=G+p<<2,$=l[q+(p>>1)]>>4-((p&1)<<2)&15,j=3*$;c[O]=k[j],c[O+1]=k[j+1],c[O+2]=k[j+2],c[O+3]=$<H?I[$]:255}if(b==8)for(var p=0;p<x;p++){var O=p<<2,$=l[p],j=3*$;c[O]=k[j],c[O+1]=k[j+1],c[O+2]=k[j+2],c[O+3]=$<H?I[$]:255}}else if(y==4){if(b==8)for(var p=0;p<x;p++){var O=p<<2,V=p<<1,X=l[V];c[O]=X,c[O+1]=X,c[O+2]=X,c[O+3]=l[V+1]}if(b==16)for(var p=0;p<x;p++){var O=p<<2,V=p<<2,X=l[V];c[O]=X,c[O+1]=X,c[O+2]=X,c[O+3]=l[V+2]}}else if(y==0){var D=v.tabs.tRNS?v.tabs.tRNS:-1;if(b==1)for(var p=0;p<x;p++){var X=255*(l[p>>3]>>7-(p&7)&1),Q=X==D*255?0:255;_[p]=Q<<24|X<<16|X<<8|X}if(b==2)for(var p=0;p<x;p++){var X=85*(l[p>>2]>>6-((p&3)<<1)&3),Q=X==D*85?0:255;_[p]=Q<<24|X<<16|X<<8|X}if(b==4)for(var p=0;p<x;p++){var X=17*(l[p>>1]>>4-((p&1)<<2)&15),Q=X==D*17?0:255;_[p]=Q<<24|X<<16|X<<8|X}if(b==8)for(var p=0;p<x;p++){var X=l[p],Q=X==D?0:255;_[p]=Q<<24|X<<16|X<<8|X}if(b==16)for(var p=0;p<x;p++){var X=l[p<<1],Q=C(l,p<<1)==D?0:255;_[p]=Q<<24|X<<16|X<<8|X}}return c},o.decode=function(l){for(var g=new Uint8Array(l),h=8,v=o._bin,x=v.readUshort,S=v.readUint,w={tabs:{},frames:[]},c=new Uint8Array(g.length),_=0,y,b=0,C=[137,80,78,71,13,10,26,10],E=0;E<8;E++)if(g[E]!=C[E])throw"The input is not a PNG file!";for(;h<g.length;){var p=v.readUint(g,h);h+=4;var f=v.readASCII(g,h,4);if(h+=4,f=="IHDR")o.decode._IHDR(g,h,w);else if(f=="IDAT"){for(var E=0;E<p;E++)c[_+E]=g[h+E];_+=p}else if(f=="acTL")w.tabs[f]={num_frames:S(g,h),num_plays:S(g,h+4)},y=new Uint8Array(g.length);else if(f=="fcTL"){if(b!=0){var D=w.frames[w.frames.length-1];D.data=o.decode._decompress(w,y.slice(0,b),D.rect.width,D.rect.height),b=0}var M={x:S(g,h+12),y:S(g,h+16),width:S(g,h+4),height:S(g,h+8)},N=x(g,h+22);N=x(g,h+20)/(N==0?100:N);var O={rect:M,delay:Math.round(N*1e3),dispose:g[h+24],blend:g[h+25]};w.frames.push(O)}else if(f=="fdAT"){for(var E=0;E<p-4;E++)y[b+E]=g[h+E+4];b+=p-4}else if(f=="pHYs")w.tabs[f]=[v.readUint(g,h),v.readUint(g,h+4),g[h+8]];else if(f=="cHRM"){w.tabs[f]=[];for(var E=0;E<8;E++)w.tabs[f].push(v.readUint(g,h+E*4))}else if(f=="tEXt"){w.tabs[f]==null&&(w.tabs[f]={});var z=v.nextZero(g,h),k=v.readASCII(g,h,z-h),I=v.readASCII(g,z+1,h+p-z-1);w.tabs[f][k]=I}else if(f=="iTXt"){w.tabs[f]==null&&(w.tabs[f]={});var z=0,H=h;z=v.nextZero(g,H);var k=v.readASCII(g,H,z-H);H=z+1;var Y=g[H],q=g[H+1];H+=2,z=v.nextZero(g,H);var G=v.readASCII(g,H,z-H);H=z+1,z=v.nextZero(g,H);var $=v.readUTF8(g,H,z-H);H=z+1;var I=v.readUTF8(g,H,p-(H-h));w.tabs[f][k]=I}else if(f=="PLTE")w.tabs[f]=v.readBytes(g,h,p);else if(f=="hIST"){var j=w.tabs.PLTE.length/3;w.tabs[f]=[];for(var E=0;E<j;E++)w.tabs[f].push(x(g,h+E*2))}else if(f=="tRNS")w.ctype==3?w.tabs[f]=v.readBytes(g,h,p):w.ctype==0?w.tabs[f]=x(g,h):w.ctype==2&&(w.tabs[f]=[x(g,h),x(g,h+2),x(g,h+4)]);else if(f=="gAMA")w.tabs[f]=v.readUint(g,h)/1e5;else if(f=="sRGB")w.tabs[f]=g[h];else if(f=="bKGD")w.ctype==0||w.ctype==4?w.tabs[f]=[x(g,h)]:w.ctype==2||w.ctype==6?w.tabs[f]=[x(g,h),x(g,h+2),x(g,h+4)]:w.ctype==3&&(w.tabs[f]=g[h]);else if(f=="IEND"){if(b!=0){var D=w.frames[w.frames.length-1];D.data=o.decode._decompress(w,y.slice(0,b),D.rect.width,D.rect.height),b=0}w.data=o.decode._decompress(w,c,w.width,w.height);break}h+=p;var V=v.readUint(g,h);h+=4}return delete w.compress,delete w.interlace,delete w.filter,w},o.decode._decompress=function(l,g,h,v){return l.compress==0&&(g=o.decode._inflate(g)),l.interlace==0?g=o.decode._filterZero(g,l,0,h,v):l.interlace==1&&(g=o.decode._readInterlace(g,l)),g},o.decode._inflate=function(l){return u.inflate(l)},o.decode._readInterlace=function(l,g){for(var h=g.width,v=g.height,x=o.decode._getBPP(g),S=x>>3,w=Math.ceil(h*x/8),c=new Uint8Array(v*w),_=0,y=[0,0,4,0,2,0,1],b=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],E=[8,8,4,4,2,2,1],p=0;p<7;){for(var f=C[p],D=E[p],M=0,N=0,O=y[p];O<v;)O+=f,N++;for(var z=b[p];z<h;)z+=D,M++;var k=Math.ceil(M*x/8);o.decode._filterZero(l,g,_,M,N);for(var I=0,H=y[p];H<v;){for(var Y=b[p],q=_+I*k<<3;Y<h;){if(x==1){var G=l[q>>3];G=G>>7-(q&7)&1,c[H*w+(Y>>3)]|=G<<7-((Y&3)<<0)}if(x==2){var G=l[q>>3];G=G>>6-(q&7)&3,c[H*w+(Y>>2)]|=G<<6-((Y&3)<<1)}if(x==4){var G=l[q>>3];G=G>>4-(q&7)&15,c[H*w+(Y>>1)]|=G<<4-((Y&1)<<2)}if(x>=8)for(var $=H*w+Y*S,j=0;j<S;j++)c[$+j]=l[(q>>3)+j];q+=x,Y+=D}I++,H+=f}M*N!=0&&(_+=N*(1+k)),p=p+1}return c},o.decode._getBPP=function(l){var g=[1,null,3,1,2,null,4][l.ctype];return g*l.depth},o.decode._filterZero=function(l,g,h,v,x){var S=o.decode._getBPP(g),w=Math.ceil(v*S/8),c=o.decode._paeth;S=Math.ceil(S/8);for(var _=0;_<x;_++){var y=h+_*w,b=y+_+1,C=l[b-1];if(C==0)for(var E=0;E<w;E++)l[y+E]=l[b+E];else if(C==1){for(var E=0;E<S;E++)l[y+E]=l[b+E];for(var E=S;E<w;E++)l[y+E]=l[b+E]+l[y+E-S]&255}else if(_==0){for(var E=0;E<S;E++)l[y+E]=l[b+E];if(C==2)for(var E=S;E<w;E++)l[y+E]=l[b+E]&255;if(C==3)for(var E=S;E<w;E++)l[y+E]=l[b+E]+(l[y+E-S]>>1)&255;if(C==4)for(var E=S;E<w;E++)l[y+E]=l[b+E]+c(l[y+E-S],0,0)&255}else{if(C==2)for(var E=0;E<w;E++)l[y+E]=l[b+E]+l[y+E-w]&255;if(C==3){for(var E=0;E<S;E++)l[y+E]=l[b+E]+(l[y+E-w]>>1)&255;for(var E=S;E<w;E++)l[y+E]=l[b+E]+(l[y+E-w]+l[y+E-S]>>1)&255}if(C==4){for(var E=0;E<S;E++)l[y+E]=l[b+E]+c(0,l[y+E-w],0)&255;for(var E=S;E<w;E++)l[y+E]=l[b+E]+c(l[y+E-S],l[y+E-w],l[y+E-S-w])&255}}}return l},o.decode._paeth=function(l,g,h){var v=l+g-h,x=Math.abs(v-l),S=Math.abs(v-g),w=Math.abs(v-h);return x<=S&&x<=w?l:S<=w?g:h},o.decode._IHDR=function(l,g,h){var v=o._bin;h.width=v.readUint(l,g),g+=4,h.height=v.readUint(l,g),g+=4,h.depth=l[g],g++,h.ctype=l[g],g++,h.compress=l[g],g++,h.filter=l[g],g++,h.interlace=l[g],g++},o._bin={nextZero:function(l,g){for(;l[g]!=0;)g++;return g},readUshort:function(l,g){return l[g]<<8|l[g+1]},writeUshort:function(l,g,h){l[g]=h>>8&255,l[g+1]=h&255},readUint:function(l,g){return l[g]*16777216+(l[g+1]<<16|l[g+2]<<8|l[g+3])},writeUint:function(l,g,h){l[g]=h>>24&255,l[g+1]=h>>16&255,l[g+2]=h>>8&255,l[g+3]=h&255},readASCII:function(l,g,h){for(var v="",x=0;x<h;x++)v+=String.fromCharCode(l[g+x]);return v},writeASCII:function(l,g,h){for(var v=0;v<h.length;v++)l[g+v]=h.charCodeAt(v)},readBytes:function(l,g,h){for(var v=[],x=0;x<h;x++)v.push(l[g+x]);return v},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,g,h){for(var v="",x,S=0;S<h;S++)v+="%"+o._bin.pad(l[g+S].toString(16));try{x=decodeURIComponent(v)}catch{return o._bin.readASCII(l,g,h)}return x}},o._copyTile=function(l,g,h,v,x,S,w,c,_){for(var y=Math.min(g,x),b=Math.min(h,S),C=0,E=0,p=0;p<b;p++)for(var f=0;f<y;f++)if(w>=0&&c>=0?(C=p*g+f<<2,E=(c+p)*x+w+f<<2):(C=(-c+p)*g-w+f<<2,E=p*x+f<<2),_==0)v[E]=l[C],v[E+1]=l[C+1],v[E+2]=l[C+2],v[E+3]=l[C+3];else if(_==1){var D=l[C+3]*.00392156862745098,M=l[C]*D,N=l[C+1]*D,O=l[C+2]*D,z=v[E+3]*(1/255),k=v[E]*z,I=v[E+1]*z,H=v[E+2]*z,Y=1-D,q=D+z*Y,G=q==0?0:1/q;v[E+3]=255*q,v[E+0]=(M+k*Y)*G,v[E+1]=(N+I*Y)*G,v[E+2]=(O+H*Y)*G}else if(_==2){var D=l[C+3],M=l[C],N=l[C+1],O=l[C+2],z=v[E+3],k=v[E],I=v[E+1],H=v[E+2];D==z&&M==k&&N==I&&O==H?(v[E]=0,v[E+1]=0,v[E+2]=0,v[E+3]=0):(v[E]=M,v[E+1]=N,v[E+2]=O,v[E+3]=D)}else if(_==3){var D=l[C+3],M=l[C],N=l[C+1],O=l[C+2],z=v[E+3],k=v[E],I=v[E+1],H=v[E+2];if(D==z&&M==k&&N==I&&O==H)continue;if(D<220&&z>20)return!1}return!0},o.encode=function(l,g,h,v,x,S){v==null&&(v=0),S==null&&(S=!1);for(var w=new Uint8Array(l[0].byteLength*l.length+100),c=[137,80,78,71,13,10,26,10],_=0;_<8;_++)w[_]=c[_];var y=8,b=o._bin,C=o.crc.crc,E=b.writeUint,p=b.writeUshort,f=b.writeASCII,D=o.encode.compressPNG(l,g,h,v,S);E(w,y,13),y+=4,f(w,y,"IHDR"),y+=4,E(w,y,g),y+=4,E(w,y,h),y+=4,w[y]=D.depth,y++,w[y]=D.ctype,y++,w[y]=0,y++,w[y]=0,y++,w[y]=0,y++,E(w,y,C(w,y-17,17)),y+=4,E(w,y,1),y+=4,f(w,y,"sRGB"),y+=4,w[y]=1,y++,E(w,y,C(w,y-5,5)),y+=4;var M=l.length>1;if(M&&(E(w,y,8),y+=4,f(w,y,"acTL"),y+=4,E(w,y,l.length),y+=4,E(w,y,0),y+=4,E(w,y,C(w,y-12,12)),y+=4),D.ctype==3){var N=D.plte.length;E(w,y,N*3),y+=4,f(w,y,"PLTE"),y+=4;for(var _=0;_<N;_++){var O=_*3,z=D.plte[_],k=z&255,I=z>>8&255,H=z>>16&255;w[y+O+0]=k,w[y+O+1]=I,w[y+O+2]=H}if(y+=N*3,E(w,y,C(w,y-N*3-4,N*3+4)),y+=4,D.gotAlpha){E(w,y,N),y+=4,f(w,y,"tRNS"),y+=4;for(var _=0;_<N;_++)w[y+_]=D.plte[_]>>24&255;y+=N,E(w,y,C(w,y-N-4,N+4)),y+=4}}for(var Y=0,q=0;q<D.frames.length;q++){var G=D.frames[q];M&&(E(w,y,26),y+=4,f(w,y,"fcTL"),y+=4,E(w,y,Y++),y+=4,E(w,y,G.rect.width),y+=4,E(w,y,G.rect.height),y+=4,E(w,y,G.rect.x),y+=4,E(w,y,G.rect.y),y+=4,p(w,y,x[q]),y+=2,p(w,y,1e3),y+=2,w[y]=G.dispose,y++,w[y]=G.blend,y++,E(w,y,C(w,y-30,30)),y+=4);var $=G.cimg,N=$.length;E(w,y,N+(q==0?0:4)),y+=4;var j=y;f(w,y,q==0?"IDAT":"fdAT"),y+=4,q!=0&&(E(w,y,Y++),y+=4);for(var _=0;_<N;_++)w[y+_]=$[_];y+=N,E(w,y,C(w,j,y-j)),y+=4}return E(w,y,0),y+=4,f(w,y,"IEND"),y+=4,E(w,y,C(w,y-4,4)),y+=4,w.buffer.slice(0,y)},o.encode.compressPNG=function(l,g,h,v,x){for(var S=o.encode.compress(l,g,h,v,!1,x),w=0;w<l.length;w++){var c=S.frames[w],_=c.rect.width,y=c.rect.height,b=c.bpl,C=c.bpp,E=new Uint8Array(y*b+y);c.cimg=o.encode._filterZero(c.img,y,C,b,E)}return S},o.encode.compress=function(l,g,h,v,x,S){S==null&&(S=!1);for(var w=6,c=8,_=4,y=255,b=0;b<l.length;b++)for(var C=new Uint8Array(l[b]),E=C.length,p=0;p<E;p+=4)y&=C[p+3];var f=y!=255,D={},M=[];if(l.length!=0&&(D[0]=0,M.push(0),v!=0&&v--),v!=0){var N=o.quantize(l,v,x);l=N.bufs;for(var p=0;p<N.plte.length;p++){var O=N.plte[p].est.rgba;D[O]==null&&(D[O]=M.length,M.push(O))}}else for(var b=0;b<l.length;b++)for(var z=new Uint32Array(l[b]),E=z.length,p=0;p<E;p++){var O=z[p];if((p<g||O!=z[p-1]&&O!=z[p-g])&&D[O]==null&&(D[O]=M.length,M.push(O),M.length>=300))break}var k=f?x:!1,I=M.length;I<=256&&S==!1&&(I<=2?c=1:I<=4?c=2:I<=16?c=4:c=8,x&&(c=8),f=!0);for(var H=[],b=0;b<l.length;b++){var Y=new Uint8Array(l[b]),q=new Uint32Array(Y.buffer),G=0,$=0,j=g,V=h,X=0;if(b!=0&&!k){for(var Q=x||b==1||H[H.length-2].dispose==2?1:2,te=0,we=1e9,Pe=0;Pe<Q;Pe++){for(var _e=new Uint8Array(l[b-1-Pe]),xe=new Uint32Array(l[b-1-Pe]),Fe=g,Ae=h,be=-1,Qe=-1,Xe=0;Xe<h;Xe++)for(var U=0;U<g;U++){var p=Xe*g+U;q[p]!=xe[p]&&(U<Fe&&(Fe=U),U>be&&(be=U),Xe<Ae&&(Ae=Xe),Xe>Qe&&(Qe=Xe))}var pe=be==-1?1:(be-Fe+1)*(Qe-Ae+1);pe<we&&(we=pe,te=Pe,be==-1?(G=$=0,j=V=1):(G=Fe,$=Ae,j=be-Fe+1,V=Qe-Ae+1))}var _e=new Uint8Array(l[b-1-te]);te==1&&(H[H.length-1].dispose=2);var ie=new Uint8Array(j*V*4),de=new Uint32Array(ie.buffer);o._copyTile(_e,g,h,ie,j,V,-G,-$,0),o._copyTile(Y,g,h,ie,j,V,-G,-$,3)?(o._copyTile(Y,g,h,ie,j,V,-G,-$,2),X=1):(o._copyTile(Y,g,h,ie,j,V,-G,-$,0),X=0),Y=ie,q=new Uint32Array(Y.buffer)}var ye=4*j;if(I<=256&&S==!1){ye=Math.ceil(c*j/8);for(var ie=new Uint8Array(ye*V),Xe=0;Xe<V;Xe++){var p=Xe*ye,Re=Xe*j;if(c==8)for(var U=0;U<j;U++)ie[p+U]=D[q[Re+U]];else if(c==4)for(var U=0;U<j;U++)ie[p+(U>>1)]|=D[q[Re+U]]<<4-(U&1)*4;else if(c==2)for(var U=0;U<j;U++)ie[p+(U>>2)]|=D[q[Re+U]]<<6-(U&3)*2;else if(c==1)for(var U=0;U<j;U++)ie[p+(U>>3)]|=D[q[Re+U]]<<7-(U&7)*1}Y=ie,w=3,_=1}else if(f==!1&&l.length==1){for(var ie=new Uint8Array(j*V*3),Be=j*V,p=0;p<Be;p++){var Ce=p*3,Ie=p*4;ie[Ce]=Y[Ie],ie[Ce+1]=Y[Ie+1],ie[Ce+2]=Y[Ie+2]}Y=ie,w=2,_=3,ye=3*j}H.push({rect:{x:G,y:$,width:j,height:V},img:Y,bpl:ye,bpp:_,blend:X,dispose:k?1:0})}return{ctype:w,depth:c,plte:M,gotAlpha:f,frames:H}},o.encode._filterZero=function(l,g,h,v,x){for(var S=[],w=0;w<5;w++)if(!(g*v>5e5&&(w==2||w==3||w==4))){for(var c=0;c<g;c++)o.encode._filterLine(x,l,c,v,h,w);if(S.push(u.deflate(x)),h==1)break}for(var _,y=1e9,b=0;b<S.length;b++)S[b].length<y&&(_=b,y=S[b].length);return S[_]},o.encode._filterLine=function(l,g,h,v,x,S){var w=h*v,c=w+h,_=o.decode._paeth;if(l[c]=S,c++,S==0)for(var y=0;y<v;y++)l[c+y]=g[w+y];else if(S==1){for(var y=0;y<x;y++)l[c+y]=g[w+y];for(var y=x;y<v;y++)l[c+y]=g[w+y]-g[w+y-x]+256&255}else if(h==0){for(var y=0;y<x;y++)l[c+y]=g[w+y];if(S==2)for(var y=x;y<v;y++)l[c+y]=g[w+y];if(S==3)for(var y=x;y<v;y++)l[c+y]=g[w+y]-(g[w+y-x]>>1)+256&255;if(S==4)for(var y=x;y<v;y++)l[c+y]=g[w+y]-_(g[w+y-x],0,0)+256&255}else{if(S==2)for(var y=0;y<v;y++)l[c+y]=g[w+y]+256-g[w+y-v]&255;if(S==3){for(var y=0;y<x;y++)l[c+y]=g[w+y]+256-(g[w+y-v]>>1)&255;for(var y=x;y<v;y++)l[c+y]=g[w+y]+256-(g[w+y-v]+g[w+y-x]>>1)&255}if(S==4){for(var y=0;y<x;y++)l[c+y]=g[w+y]+256-_(0,g[w+y-v],0)&255;for(var y=x;y<v;y++)l[c+y]=g[w+y]+256-_(g[w+y-x],g[w+y-v],g[w+y-x-v])&255}}},o.crc={table:function(){for(var l=new Uint32Array(256),g=0;g<256;g++){for(var h=g,v=0;v<8;v++)h&1?h=3988292384^h>>>1:h=h>>>1;l[g]=h}return l}(),update:function(l,g,h,v){for(var x=0;x<v;x++)l=o.crc.table[(l^g[h+x])&255]^l>>>8;return l},crc:function(l,g,h){return o.crc.update(4294967295,l,g,h)^4294967295}},o.quantize=function(l,g,h){for(var v=[],x=0,S=0;S<l.length;S++)v.push(o.encode.alphaMul(new Uint8Array(l[S]),h)),x+=l[S].byteLength;for(var w=new Uint8Array(x),c=new Uint32Array(w.buffer),_=0,S=0;S<v.length;S++){for(var y=v[S],b=y.length,C=0;C<b;C++)w[_+C]=y[C];_+=b}var E={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=o.quantize.stats(w,E.i0,E.i1),E.est=o.quantize.estats(E.bst);for(var p=[E];p.length<g;){for(var f=0,D=0,S=0;S<p.length;S++)p[S].est.L>f&&(f=p[S].est.L,D=S);if(f<.001)break;var M=p[D],N=o.quantize.splitPixels(w,c,M.i0,M.i1,M.est.e,M.est.eMq255),O={i0:M.i0,i1:N,bst:null,est:null,tdst:0,left:null,right:null};O.bst=o.quantize.stats(w,O.i0,O.i1),O.est=o.quantize.estats(O.bst);var z={i0:N,i1:M.i1,bst:null,est:null,tdst:0,left:null,right:null};z.bst={R:[],m:[],N:M.bst.N-O.bst.N};for(var S=0;S<16;S++)z.bst.R[S]=M.bst.R[S]-O.bst.R[S];for(var S=0;S<4;S++)z.bst.m[S]=M.bst.m[S]-O.bst.m[S];z.est=o.quantize.estats(z.bst),M.left=O,M.right=z,p[D]=O,p.push(z)}p.sort(function(we,Pe){return Pe.bst.N-we.bst.N});for(var k=0;k<v.length;k++){for(var I=o.quantize.planeDst,H=new Uint8Array(v[k].buffer),Y=new Uint32Array(v[k].buffer),q=H.length,G=[],$=0,S=0;S<q;S+=4){for(var j=H[S]*.00392156862745098,V=H[S+1]*(1/255),X=H[S+2]*(1/255),Q=H[S+3]*(1/255),te=E;te.left;)te=I(te.est,j,V,X,Q)<=0?te.left:te.right;Y[S>>2]=te.est.rgba}v[k]=Y.buffer}return{bufs:v,plte:p}},o.quantize.getNearest=function(l,g,h,v,x){if(l.left==null)return l.tdst=o.quantize.dist(l.est.q,g,h,v,x),l;var S=o.quantize.planeDst(l.est,g,h,v,x),w=l.left,c=l.right;S>0&&(w=l.right,c=l.left);var _=o.quantize.getNearest(w,g,h,v,x);if(_.tdst<=S*S)return _;var y=o.quantize.getNearest(c,g,h,v,x);return y.tdst<_.tdst?y:_},o.quantize.planeDst=function(l,g,h,v,x){var S=l.e;return S[0]*g+S[1]*h+S[2]*v+S[3]*x-l.eMq},o.quantize.dist=function(l,g,h,v,x){var S=g-l[0],w=h-l[1],c=v-l[2],_=x-l[3];return S*S+w*w+c*c+_*_},o.quantize.splitPixels=function(l,g,h,v,x,S){var w=o.quantize.vecDot;v-=4;for(var c=0;h<v;){for(;w(l,h,x)<=S;)h+=4;for(;w(l,v,x)>S;)v-=4;if(h>=v)break;var _=g[h>>2];g[h>>2]=g[v>>2],g[v>>2]=_,h+=4,v-=4}for(;w(l,h,x)>S;)h-=4;return h+4},o.quantize.vecDot=function(l,g,h){return l[g]*h[0]+l[g+1]*h[1]+l[g+2]*h[2]+l[g+3]*h[3]},o.quantize.stats=function(l,g,h){for(var v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=[0,0,0,0],S=h-g>>2,w=g;w<h;w+=4){var c=l[w]*.00392156862745098,_=l[w+1]*(1/255),y=l[w+2]*(1/255),b=l[w+3]*(1/255);x[0]+=c,x[1]+=_,x[2]+=y,x[3]+=b,v[0]+=c*c,v[1]+=c*_,v[2]+=c*y,v[3]+=c*b,v[5]+=_*_,v[6]+=_*y,v[7]+=_*b,v[10]+=y*y,v[11]+=y*b,v[15]+=b*b}return v[4]=v[1],v[8]=v[2],v[12]=v[3],v[9]=v[6],v[13]=v[7],v[14]=v[11],{R:v,m:x,N:S}},o.quantize.estats=function(l){var g=l.R,h=l.m,v=l.N,x=h[0],S=h[1],w=h[2],c=h[3],_=v==0?0:1/v,y=[g[0]-x*x*_,g[1]-x*S*_,g[2]-x*w*_,g[3]-x*c*_,g[4]-S*x*_,g[5]-S*S*_,g[6]-S*w*_,g[7]-S*c*_,g[8]-w*x*_,g[9]-w*S*_,g[10]-w*w*_,g[11]-w*c*_,g[12]-c*x*_,g[13]-c*S*_,g[14]-c*w*_,g[15]-c*c*_],b=y,C=o.M4,E=[.5,.5,.5,.5],p=0,f=0;if(v!=0)for(var D=0;D<10&&(E=C.multVec(b,E),f=Math.sqrt(C.dot(E,E)),E=C.sml(1/f,E),!(Math.abs(f-p)<1e-9));D++)p=f;var M=[x*_,S*_,w*_,c*_],N=C.dot(C.sml(255,M),E),O=M[3]<.001?0:1/M[3];return{Cov:y,q:M,e:E,L:p,eMq255:N,eMq:C.dot(E,M),rgba:(Math.round(255*M[3])<<24|Math.round(255*M[2]*O)<<16|Math.round(255*M[1]*O)<<8|Math.round(255*M[0]*O)<<0)>>>0}},o.M4={multVec:function(l,g){return[l[0]*g[0]+l[1]*g[1]+l[2]*g[2]+l[3]*g[3],l[4]*g[0]+l[5]*g[1]+l[6]*g[2]+l[7]*g[3],l[8]*g[0]+l[9]*g[1]+l[10]*g[2]+l[11]*g[3],l[12]*g[0]+l[13]*g[1]+l[14]*g[2]+l[15]*g[3]]},dot:function(l,g){return l[0]*g[0]+l[1]*g[1]+l[2]*g[2]+l[3]*g[3]},sml:function(l,g){return[l*g[0],l*g[1],l*g[2],l*g[3]]}},o.encode.alphaMul=function(l,g){for(var h=new Uint8Array(l.length),v=l.length>>2,x=0;x<v;x++){var S=x<<2,w=l[S+3];g&&(w=w<128?0:255);var c=w*(1/255);h[S+0]=l[S+0]*c,h[S+1]=l[S+1]*c,h[S+2]=l[S+2]*c,h[S+3]=w}return h}})(n,a)})()},"./node_modules/upng-js/node_modules/pako/index.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,a=r("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),u={};n(u,a,s,o),e.exports=u},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),l=Object.prototype.toString,g=0,h=4,v=0,x=1,S=2,w=-1,c=0,_=8;function y(p){if(!(this instanceof y))return new y(p);this.options=a.assign({level:w,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},p||{});var f=this.options;f.raw&&f.windowBits>0?f.windowBits=-f.windowBits:f.gzip&&f.windowBits>0&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var D=n.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(D!==v)throw new Error(o[D]);if(f.header&&n.deflateSetHeader(this.strm,f.header),f.dictionary){var M;if(typeof f.dictionary=="string"?M=s.string2buf(f.dictionary):l.call(f.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(f.dictionary):M=f.dictionary,D=n.deflateSetDictionary(this.strm,M),D!==v)throw new Error(o[D]);this._dict_set=!0}}y.prototype.push=function(p,f){var D=this.strm,M=this.options.chunkSize,N,O;if(this.ended)return!1;O=f===~~f?f:f===!0?h:g,typeof p=="string"?D.input=s.string2buf(p):l.call(p)==="[object ArrayBuffer]"?D.input=new Uint8Array(p):D.input=p,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(M),D.next_out=0,D.avail_out=M),N=n.deflate(D,O),N!==x&&N!==v)return this.onEnd(N),this.ended=!0,!1;(D.avail_out===0||D.avail_in===0&&(O===h||O===S))&&(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(D.output,D.next_out))):this.onData(a.shrinkBuf(D.output,D.next_out)))}while((D.avail_in>0||D.avail_out===0)&&N!==x);return O===h?(N=n.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===v):(O===S&&(this.onEnd(v),D.avail_out=0),!0)},y.prototype.onData=function(p){this.chunks.push(p)},y.prototype.onEnd=function(p){p===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function b(p,f){var D=new y(f);if(D.push(p,!0),D.err)throw D.msg||o[D.err];return D.result}function C(p,f){return f=f||{},f.raw=!0,b(p,f)}function E(p,f){return f=f||{},f.gzip=!0,b(p,f)}t.Deflate=y,t.deflate=b,t.deflateRaw=C,t.gzip=E},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),g=r("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),h=Object.prototype.toString;function v(w){if(!(this instanceof v))return new v(w);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},w||{});var c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),c.windowBits>=0&&c.windowBits<16&&!(w&&w.windowBits)&&(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&(c.windowBits&15||(c.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var _=n.inflateInit2(this.strm,c.windowBits);if(_!==o.Z_OK)throw new Error(u[_]);if(this.header=new g,n.inflateGetHeader(this.strm,this.header),c.dictionary&&(typeof c.dictionary=="string"?c.dictionary=s.string2buf(c.dictionary):h.call(c.dictionary)==="[object ArrayBuffer]"&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(_=n.inflateSetDictionary(this.strm,c.dictionary),_!==o.Z_OK)))throw new Error(u[_])}v.prototype.push=function(w,c){var _=this.strm,y=this.options.chunkSize,b=this.options.dictionary,C,E,p,f,D,M=!1;if(this.ended)return!1;E=c===~~c?c:c===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof w=="string"?_.input=s.binstring2buf(w):h.call(w)==="[object ArrayBuffer]"?_.input=new Uint8Array(w):_.input=w,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new a.Buf8(y),_.next_out=0,_.avail_out=y),C=n.inflate(_,o.Z_NO_FLUSH),C===o.Z_NEED_DICT&&b&&(C=n.inflateSetDictionary(this.strm,b)),C===o.Z_BUF_ERROR&&M===!0&&(C=o.Z_OK,M=!1),C!==o.Z_STREAM_END&&C!==o.Z_OK)return this.onEnd(C),this.ended=!0,!1;_.next_out&&(_.avail_out===0||C===o.Z_STREAM_END||_.avail_in===0&&(E===o.Z_FINISH||E===o.Z_SYNC_FLUSH))&&(this.options.to==="string"?(p=s.utf8border(_.output,_.next_out),f=_.next_out-p,D=s.buf2string(_.output,p),_.next_out=f,_.avail_out=y-f,f&&a.arraySet(_.output,_.output,p,f,0),this.onData(D)):this.onData(a.shrinkBuf(_.output,_.next_out))),_.avail_in===0&&_.avail_out===0&&(M=!0)}while((_.avail_in>0||_.avail_out===0)&&C!==o.Z_STREAM_END);return C===o.Z_STREAM_END&&(E=o.Z_FINISH),E===o.Z_FINISH?(C=n.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===o.Z_OK):(E===o.Z_SYNC_FLUSH&&(this.onEnd(o.Z_OK),_.avail_out=0),!0)},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg};function x(w,c){var _=new v(c);if(_.push(w,!0),_.err)throw _.msg||u[_.err];return _.result}function S(w,c){return c=c||{},c.raw=!0,x(w,c)}t.Inflate=v,t.inflate=x,t.inflateRaw=S,t.ungzip=x},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(e,t)=>{"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,u){return Object.prototype.hasOwnProperty.call(o,u)}t.assign=function(o){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var l=u.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var g in l)n(l,g)&&(o[g]=l[g])}}return o},t.shrinkBuf=function(o,u){return o.length===u?o:o.subarray?o.subarray(0,u):(o.length=u,o)};var a={arraySet:function(o,u,l,g,h){if(u.subarray&&o.subarray){o.set(u.subarray(l,l+g),h);return}for(var v=0;v<g;v++)o[h+v]=u[l+v]},flattenChunks:function(o){var u,l,g,h,v,x;for(g=0,u=0,l=o.length;u<l;u++)g+=o[u].length;for(x=new Uint8Array(g),h=0,u=0,l=o.length;u<l;u++)v=o[u],x.set(v,h),h+=v.length;return x}},s={arraySet:function(o,u,l,g,h){for(var v=0;v<g;v++)o[h+v]=u[l+v]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var o=new n.Buf8(256),u=0;u<256;u++)o[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;o[254]=o[254]=1,t.string2buf=function(g){var h,v,x,S,w,c=g.length,_=0;for(S=0;S<c;S++)v=g.charCodeAt(S),(v&64512)===55296&&S+1<c&&(x=g.charCodeAt(S+1),(x&64512)===56320&&(v=65536+(v-55296<<10)+(x-56320),S++)),_+=v<128?1:v<2048?2:v<65536?3:4;for(h=new n.Buf8(_),w=0,S=0;w<_;S++)v=g.charCodeAt(S),(v&64512)===55296&&S+1<c&&(x=g.charCodeAt(S+1),(x&64512)===56320&&(v=65536+(v-55296<<10)+(x-56320),S++)),v<128?h[w++]=v:v<2048?(h[w++]=192|v>>>6,h[w++]=128|v&63):v<65536?(h[w++]=224|v>>>12,h[w++]=128|v>>>6&63,h[w++]=128|v&63):(h[w++]=240|v>>>18,h[w++]=128|v>>>12&63,h[w++]=128|v>>>6&63,h[w++]=128|v&63);return h};function l(g,h){if(h<65534&&(g.subarray&&s||!g.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(g,h));for(var v="",x=0;x<h;x++)v+=String.fromCharCode(g[x]);return v}t.buf2binstring=function(g){return l(g,g.length)},t.binstring2buf=function(g){for(var h=new n.Buf8(g.length),v=0,x=h.length;v<x;v++)h[v]=g.charCodeAt(v);return h},t.buf2string=function(g,h){var v,x,S,w,c=h||g.length,_=new Array(c*2);for(x=0,v=0;v<c;){if(S=g[v++],S<128){_[x++]=S;continue}if(w=o[S],w>4){_[x++]=65533,v+=w-1;continue}for(S&=w===2?31:w===3?15:7;w>1&&v<c;)S=S<<6|g[v++]&63,w--;if(w>1){_[x++]=65533;continue}S<65536?_[x++]=S:(S-=65536,_[x++]=55296|S>>10&1023,_[x++]=56320|S&1023)}return l(_,x)},t.utf8border=function(g,h){var v;for(h=h||g.length,h>g.length&&(h=g.length),v=h-1;v>=0&&(g[v]&192)===128;)v--;return v<0||v===0?h:v+o[g[v]]>h?v:h}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":e=>{"use strict";function t(r,n,a,s){for(var o=r&65535|0,u=r>>>16&65535|0,l=0;a!==0;){l=a>2e3?2e3:a,a-=l;do o=o+n[s++]|0,u=u+o|0;while(--l);o%=65521,u%=65521}return o|u<<16|0}e.exports=t},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":e=>{"use strict";function t(){for(var a,s=[],o=0;o<256;o++){a=o;for(var u=0;u<8;u++)a=a&1?3988292384^a>>>1:a>>>1;s[o]=a}return s}var r=t();function n(a,s,o,u){var l=r,g=u+o;a^=-1;for(var h=u;h<g;h++)a=a>>>8^l[(a^s[h])&255];return a^-1}e.exports=n},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),l=0,g=1,h=3,v=4,x=5,S=0,w=1,c=-2,_=-3,y=-5,b=-1,C=1,E=2,p=3,f=4,D=0,M=2,N=8,O=9,z=15,k=8,I=29,H=256,Y=H+1+I,q=30,G=19,$=2*Y+1,j=15,V=3,X=258,Q=X+V+1,te=32,we=42,Pe=69,xe=73,Fe=91,Ae=103,be=113,Qe=666,Xe=1,U=2,pe=3,_e=4,ie=3;function de(W,Ve){return W.msg=u[Ve],Ve}function ye(W){return(W<<1)-(W>4?9:0)}function Re(W){for(var Ve=W.length;--Ve>=0;)W[Ve]=0}function Be(W){var Ve=W.state,Ye=Ve.pending;Ye>W.avail_out&&(Ye=W.avail_out),Ye!==0&&(n.arraySet(W.output,Ve.pending_buf,Ve.pending_out,Ye,W.next_out),W.next_out+=Ye,Ve.pending_out+=Ye,W.total_out+=Ye,W.avail_out-=Ye,Ve.pending-=Ye,Ve.pending===0&&(Ve.pending_out=0))}function Ce(W,Ve){a._tr_flush_block(W,W.block_start>=0?W.block_start:-1,W.strstart-W.block_start,Ve),W.block_start=W.strstart,Be(W.strm)}function Ie(W,Ve){W.pending_buf[W.pending++]=Ve}function je(W,Ve){W.pending_buf[W.pending++]=Ve>>>8&255,W.pending_buf[W.pending++]=Ve&255}function Ke(W,Ve,Ye,ce){var ze=W.avail_in;return ze>ce&&(ze=ce),ze===0?0:(W.avail_in-=ze,n.arraySet(Ve,W.input,W.next_in,ze,Ye),W.state.wrap===1?W.adler=s(W.adler,Ve,ze,Ye):W.state.wrap===2&&(W.adler=o(W.adler,Ve,ze,Ye)),W.next_in+=ze,W.total_in+=ze,ze)}function Ne(W,Ve){var Ye=W.max_chain_length,ce=W.strstart,ze,tt,Lt=W.prev_length,Mt=W.nice_match,st=W.strstart>W.w_size-Q?W.strstart-(W.w_size-Q):0,qt=W.window,Zr=W.w_mask,Vt=W.prev,Jt=W.strstart+X,Nt=qt[ce+Lt-1],kr=qt[ce+Lt];W.prev_length>=W.good_match&&(Ye>>=2),Mt>W.lookahead&&(Mt=W.lookahead);do if(ze=Ve,!(qt[ze+Lt]!==kr||qt[ze+Lt-1]!==Nt||qt[ze]!==qt[ce]||qt[++ze]!==qt[ce+1])){ce+=2,ze++;do;while(qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&qt[++ce]===qt[++ze]&&ce<Jt);if(tt=X-(Jt-ce),ce=Jt-X,tt>Lt){if(W.match_start=Ve,Lt=tt,tt>=Mt)break;Nt=qt[ce+Lt-1],kr=qt[ce+Lt]}}while((Ve=Vt[Ve&Zr])>st&&--Ye!==0);return Lt<=W.lookahead?Lt:W.lookahead}function ht(W){var Ve=W.w_size,Ye,ce,ze,tt,Lt;do{if(tt=W.window_size-W.lookahead-W.strstart,W.strstart>=Ve+(Ve-Q)){n.arraySet(W.window,W.window,Ve,Ve,0),W.match_start-=Ve,W.strstart-=Ve,W.block_start-=Ve,ce=W.hash_size,Ye=ce;do ze=W.head[--Ye],W.head[Ye]=ze>=Ve?ze-Ve:0;while(--ce);ce=Ve,Ye=ce;do ze=W.prev[--Ye],W.prev[Ye]=ze>=Ve?ze-Ve:0;while(--ce);tt+=Ve}if(W.strm.avail_in===0)break;if(ce=Ke(W.strm,W.window,W.strstart+W.lookahead,tt),W.lookahead+=ce,W.lookahead+W.insert>=V)for(Lt=W.strstart-W.insert,W.ins_h=W.window[Lt],W.ins_h=(W.ins_h<<W.hash_shift^W.window[Lt+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[Lt+V-1])&W.hash_mask,W.prev[Lt&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=Lt,Lt++,W.insert--,!(W.lookahead+W.insert<V)););}while(W.lookahead<Q&&W.strm.avail_in!==0)}function yt(W,Ve){var Ye=65535;for(Ye>W.pending_buf_size-5&&(Ye=W.pending_buf_size-5);;){if(W.lookahead<=1){if(ht(W),W.lookahead===0&&Ve===l)return Xe;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var ce=W.block_start+Ye;if((W.strstart===0||W.strstart>=ce)&&(W.lookahead=W.strstart-ce,W.strstart=ce,Ce(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-Q&&(Ce(W,!1),W.strm.avail_out===0))return Xe}return W.insert=0,Ve===v?(Ce(W,!0),W.strm.avail_out===0?pe:_e):(W.strstart>W.block_start&&(Ce(W,!1),W.strm.avail_out===0),Xe)}function le(W,Ve){for(var Ye,ce;;){if(W.lookahead<Q){if(ht(W),W.lookahead<Q&&Ve===l)return Xe;if(W.lookahead===0)break}if(Ye=0,W.lookahead>=V&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),Ye!==0&&W.strstart-Ye<=W.w_size-Q&&(W.match_length=Ne(W,Ye)),W.match_length>=V)if(ce=a._tr_tally(W,W.strstart-W.match_start,W.match_length-V),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=V){W.match_length--;do W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart;while(--W.match_length!==0);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else ce=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(ce&&(Ce(W,!1),W.strm.avail_out===0))return Xe}return W.insert=W.strstart<V-1?W.strstart:V-1,Ve===v?(Ce(W,!0),W.strm.avail_out===0?pe:_e):W.last_lit&&(Ce(W,!1),W.strm.avail_out===0)?Xe:U}function ue(W,Ve){for(var Ye,ce,ze;;){if(W.lookahead<Q){if(ht(W),W.lookahead<Q&&Ve===l)return Xe;if(W.lookahead===0)break}if(Ye=0,W.lookahead>=V&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=V-1,Ye!==0&&W.prev_length<W.max_lazy_match&&W.strstart-Ye<=W.w_size-Q&&(W.match_length=Ne(W,Ye),W.match_length<=5&&(W.strategy===C||W.match_length===V&&W.strstart-W.match_start>4096)&&(W.match_length=V-1)),W.prev_length>=V&&W.match_length<=W.prev_length){ze=W.strstart+W.lookahead-V,ce=a._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-V),W.lookahead-=W.prev_length-1,W.prev_length-=2;do++W.strstart<=ze&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+V-1])&W.hash_mask,Ye=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart);while(--W.prev_length!==0);if(W.match_available=0,W.match_length=V-1,W.strstart++,ce&&(Ce(W,!1),W.strm.avail_out===0))return Xe}else if(W.match_available){if(ce=a._tr_tally(W,0,W.window[W.strstart-1]),ce&&Ce(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return Xe}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(ce=a._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<V-1?W.strstart:V-1,Ve===v?(Ce(W,!0),W.strm.avail_out===0?pe:_e):W.last_lit&&(Ce(W,!1),W.strm.avail_out===0)?Xe:U}function ge(W,Ve){for(var Ye,ce,ze,tt,Lt=W.window;;){if(W.lookahead<=X){if(ht(W),W.lookahead<=X&&Ve===l)return Xe;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=V&&W.strstart>0&&(ze=W.strstart-1,ce=Lt[ze],ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze])){tt=W.strstart+X;do;while(ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ce===Lt[++ze]&&ze<tt);W.match_length=X-(tt-ze),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=V?(Ye=a._tr_tally(W,1,W.match_length-V),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(Ye=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),Ye&&(Ce(W,!1),W.strm.avail_out===0))return Xe}return W.insert=0,Ve===v?(Ce(W,!0),W.strm.avail_out===0?pe:_e):W.last_lit&&(Ce(W,!1),W.strm.avail_out===0)?Xe:U}function $e(W,Ve){for(var Ye;;){if(W.lookahead===0&&(ht(W),W.lookahead===0)){if(Ve===l)return Xe;break}if(W.match_length=0,Ye=a._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,Ye&&(Ce(W,!1),W.strm.avail_out===0))return Xe}return W.insert=0,Ve===v?(Ce(W,!0),W.strm.avail_out===0?pe:_e):W.last_lit&&(Ce(W,!1),W.strm.avail_out===0)?Xe:U}function ke(W,Ve,Ye,ce,ze){this.good_length=W,this.max_lazy=Ve,this.nice_length=Ye,this.max_chain=ce,this.func=ze}var at;at=[new ke(0,0,0,0,yt),new ke(4,4,8,4,le),new ke(4,5,16,8,le),new ke(4,6,32,32,le),new ke(4,4,16,16,ue),new ke(8,16,32,32,ue),new ke(8,16,128,128,ue),new ke(8,32,128,256,ue),new ke(32,128,258,1024,ue),new ke(32,258,258,4096,ue)];function ot(W){W.window_size=2*W.w_size,Re(W.head),W.max_lazy_match=at[W.level].max_lazy,W.good_match=at[W.level].good_length,W.nice_match=at[W.level].nice_length,W.max_chain_length=at[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=V-1,W.match_available=0,W.ins_h=0}function se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16($*2),this.dyn_dtree=new n.Buf16((2*q+1)*2),this.bl_tree=new n.Buf16((2*G+1)*2),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(j+1),this.heap=new n.Buf16(2*Y+1),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*Y+1),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(W){var Ve;return!W||!W.state?de(W,c):(W.total_in=W.total_out=0,W.data_type=M,Ve=W.state,Ve.pending=0,Ve.pending_out=0,Ve.wrap<0&&(Ve.wrap=-Ve.wrap),Ve.status=Ve.wrap?we:be,W.adler=Ve.wrap===2?0:1,Ve.last_flush=l,a._tr_init(Ve),S)}function Je(W){var Ve=Ge(W);return Ve===S&&ot(W.state),Ve}function pt(W,Ve){return!W||!W.state||W.state.wrap!==2?c:(W.state.gzhead=Ve,S)}function Le(W,Ve,Ye,ce,ze,tt){if(!W)return c;var Lt=1;if(Ve===b&&(Ve=6),ce<0?(Lt=0,ce=-ce):ce>15&&(Lt=2,ce-=16),ze<1||ze>O||Ye!==N||ce<8||ce>15||Ve<0||Ve>9||tt<0||tt>f)return de(W,c);ce===8&&(ce=9);var Mt=new se;return W.state=Mt,Mt.strm=W,Mt.wrap=Lt,Mt.gzhead=null,Mt.w_bits=ce,Mt.w_size=1<<Mt.w_bits,Mt.w_mask=Mt.w_size-1,Mt.hash_bits=ze+7,Mt.hash_size=1<<Mt.hash_bits,Mt.hash_mask=Mt.hash_size-1,Mt.hash_shift=~~((Mt.hash_bits+V-1)/V),Mt.window=new n.Buf8(Mt.w_size*2),Mt.head=new n.Buf16(Mt.hash_size),Mt.prev=new n.Buf16(Mt.w_size),Mt.lit_bufsize=1<<ze+6,Mt.pending_buf_size=Mt.lit_bufsize*4,Mt.pending_buf=new n.Buf8(Mt.pending_buf_size),Mt.d_buf=1*Mt.lit_bufsize,Mt.l_buf=3*Mt.lit_bufsize,Mt.level=Ve,Mt.strategy=tt,Mt.method=Ye,Je(W)}function lt(W,Ve){return Le(W,Ve,N,z,k,D)}function oe(W,Ve){var Ye,ce,ze,tt;if(!W||!W.state||Ve>x||Ve<0)return W?de(W,c):c;if(ce=W.state,!W.output||!W.input&&W.avail_in!==0||ce.status===Qe&&Ve!==v)return de(W,W.avail_out===0?y:c);if(ce.strm=W,Ye=ce.last_flush,ce.last_flush=Ve,ce.status===we)if(ce.wrap===2)W.adler=0,Ie(ce,31),Ie(ce,139),Ie(ce,8),ce.gzhead?(Ie(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),Ie(ce,ce.gzhead.time&255),Ie(ce,ce.gzhead.time>>8&255),Ie(ce,ce.gzhead.time>>16&255),Ie(ce,ce.gzhead.time>>24&255),Ie(ce,ce.level===9?2:ce.strategy>=E||ce.level<2?4:0),Ie(ce,ce.gzhead.os&255),ce.gzhead.extra&&ce.gzhead.extra.length&&(Ie(ce,ce.gzhead.extra.length&255),Ie(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(W.adler=o(W.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=Pe):(Ie(ce,0),Ie(ce,0),Ie(ce,0),Ie(ce,0),Ie(ce,0),Ie(ce,ce.level===9?2:ce.strategy>=E||ce.level<2?4:0),Ie(ce,ie),ce.status=be);else{var Lt=N+(ce.w_bits-8<<4)<<8,Mt=-1;ce.strategy>=E||ce.level<2?Mt=0:ce.level<6?Mt=1:ce.level===6?Mt=2:Mt=3,Lt|=Mt<<6,ce.strstart!==0&&(Lt|=te),Lt+=31-Lt%31,ce.status=be,je(ce,Lt),ce.strstart!==0&&(je(ce,W.adler>>>16),je(ce,W.adler&65535)),W.adler=1}if(ce.status===Pe)if(ce.gzhead.extra){for(ze=ce.pending;ce.gzindex<(ce.gzhead.extra.length&65535)&&!(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),Be(W),ze=ce.pending,ce.pending===ce.pending_buf_size));)Ie(ce,ce.gzhead.extra[ce.gzindex]&255),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=xe)}else ce.status=xe;if(ce.status===xe)if(ce.gzhead.name){ze=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),Be(W),ze=ce.pending,ce.pending===ce.pending_buf_size)){tt=1;break}ce.gzindex<ce.gzhead.name.length?tt=ce.gzhead.name.charCodeAt(ce.gzindex++)&255:tt=0,Ie(ce,tt)}while(tt!==0);ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),tt===0&&(ce.gzindex=0,ce.status=Fe)}else ce.status=Fe;if(ce.status===Fe)if(ce.gzhead.comment){ze=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),Be(W),ze=ce.pending,ce.pending===ce.pending_buf_size)){tt=1;break}ce.gzindex<ce.gzhead.comment.length?tt=ce.gzhead.comment.charCodeAt(ce.gzindex++)&255:tt=0,Ie(ce,tt)}while(tt!==0);ce.gzhead.hcrc&&ce.pending>ze&&(W.adler=o(W.adler,ce.pending_buf,ce.pending-ze,ze)),tt===0&&(ce.status=Ae)}else ce.status=Ae;if(ce.status===Ae&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&Be(W),ce.pending+2<=ce.pending_buf_size&&(Ie(ce,W.adler&255),Ie(ce,W.adler>>8&255),W.adler=0,ce.status=be)):ce.status=be),ce.pending!==0){if(Be(W),W.avail_out===0)return ce.last_flush=-1,S}else if(W.avail_in===0&&ye(Ve)<=ye(Ye)&&Ve!==v)return de(W,y);if(ce.status===Qe&&W.avail_in!==0)return de(W,y);if(W.avail_in!==0||ce.lookahead!==0||Ve!==l&&ce.status!==Qe){var st=ce.strategy===E?$e(ce,Ve):ce.strategy===p?ge(ce,Ve):at[ce.level].func(ce,Ve);if((st===pe||st===_e)&&(ce.status=Qe),st===Xe||st===pe)return W.avail_out===0&&(ce.last_flush=-1),S;if(st===U&&(Ve===g?a._tr_align(ce):Ve!==x&&(a._tr_stored_block(ce,0,0,!1),Ve===h&&(Re(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),Be(W),W.avail_out===0))return ce.last_flush=-1,S}return Ve!==v?S:ce.wrap<=0?w:(ce.wrap===2?(Ie(ce,W.adler&255),Ie(ce,W.adler>>8&255),Ie(ce,W.adler>>16&255),Ie(ce,W.adler>>24&255),Ie(ce,W.total_in&255),Ie(ce,W.total_in>>8&255),Ie(ce,W.total_in>>16&255),Ie(ce,W.total_in>>24&255)):(je(ce,W.adler>>>16),je(ce,W.adler&65535)),Be(W),ce.wrap>0&&(ce.wrap=-ce.wrap),ce.pending!==0?S:w)}function ft(W){var Ve;return!W||!W.state?c:(Ve=W.state.status,Ve!==we&&Ve!==Pe&&Ve!==xe&&Ve!==Fe&&Ve!==Ae&&Ve!==be&&Ve!==Qe?de(W,c):(W.state=null,Ve===be?de(W,_):S))}function At(W,Ve){var Ye=Ve.length,ce,ze,tt,Lt,Mt,st,qt,Zr;if(!W||!W.state||(ce=W.state,Lt=ce.wrap,Lt===2||Lt===1&&ce.status!==we||ce.lookahead))return c;for(Lt===1&&(W.adler=s(W.adler,Ve,Ye,0)),ce.wrap=0,Ye>=ce.w_size&&(Lt===0&&(Re(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Zr=new n.Buf8(ce.w_size),n.arraySet(Zr,Ve,Ye-ce.w_size,ce.w_size,0),Ve=Zr,Ye=ce.w_size),Mt=W.avail_in,st=W.next_in,qt=W.input,W.avail_in=Ye,W.next_in=0,W.input=Ve,ht(ce);ce.lookahead>=V;){ze=ce.strstart,tt=ce.lookahead-(V-1);do ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ze+V-1])&ce.hash_mask,ce.prev[ze&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ze,ze++;while(--tt);ce.strstart=ze,ce.lookahead=V-1,ht(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=V-1,ce.match_available=0,W.next_in=st,W.input=qt,W.avail_in=Mt,ce.wrap=Lt,S}t.deflateInit=lt,t.deflateInit2=Le,t.deflateReset=Je,t.deflateResetKeep=Ge,t.deflateSetHeader=pt,t.deflate=oe,t.deflateEnd=ft,t.deflateSetDictionary=At,t.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":e=>{"use strict";function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=t},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":e=>{"use strict";var t=30,r=12;e.exports=function(a,s){var o,u,l,g,h,v,x,S,w,c,_,y,b,C,E,p,f,D,M,N,O,z,k,I,H;o=a.state,u=a.next_in,I=a.input,l=u+(a.avail_in-5),g=a.next_out,H=a.output,h=g-(s-a.avail_out),v=g+(a.avail_out-257),x=o.dmax,S=o.wsize,w=o.whave,c=o.wnext,_=o.window,y=o.hold,b=o.bits,C=o.lencode,E=o.distcode,p=(1<<o.lenbits)-1,f=(1<<o.distbits)-1;e:do{b<15&&(y+=I[u++]<<b,b+=8,y+=I[u++]<<b,b+=8),D=C[y&p];t:for(;;){if(M=D>>>24,y>>>=M,b-=M,M=D>>>16&255,M===0)H[g++]=D&65535;else if(M&16){N=D&65535,M&=15,M&&(b<M&&(y+=I[u++]<<b,b+=8),N+=y&(1<<M)-1,y>>>=M,b-=M),b<15&&(y+=I[u++]<<b,b+=8,y+=I[u++]<<b,b+=8),D=E[y&f];r:for(;;){if(M=D>>>24,y>>>=M,b-=M,M=D>>>16&255,M&16){if(O=D&65535,M&=15,b<M&&(y+=I[u++]<<b,b+=8,b<M&&(y+=I[u++]<<b,b+=8)),O+=y&(1<<M)-1,O>x){a.msg="invalid distance too far back",o.mode=t;break e}if(y>>>=M,b-=M,M=g-h,O>M){if(M=O-M,M>w&&o.sane){a.msg="invalid distance too far back",o.mode=t;break e}if(z=0,k=_,c===0){if(z+=S-M,M<N){N-=M;do H[g++]=_[z++];while(--M);z=g-O,k=H}}else if(c<M){if(z+=S+c-M,M-=c,M<N){N-=M;do H[g++]=_[z++];while(--M);if(z=0,c<N){M=c,N-=M;do H[g++]=_[z++];while(--M);z=g-O,k=H}}}else if(z+=c-M,M<N){N-=M;do H[g++]=_[z++];while(--M);z=g-O,k=H}for(;N>2;)H[g++]=k[z++],H[g++]=k[z++],H[g++]=k[z++],N-=3;N&&(H[g++]=k[z++],N>1&&(H[g++]=k[z++]))}else{z=g-O;do H[g++]=H[z++],H[g++]=H[z++],H[g++]=H[z++],N-=3;while(N>2);N&&(H[g++]=H[z++],N>1&&(H[g++]=H[z++]))}}else if(M&64){a.msg="invalid distance code",o.mode=t;break e}else{D=E[(D&65535)+(y&(1<<M)-1)];continue r}break}}else if(M&64)if(M&32){o.mode=r;break e}else{a.msg="invalid literal/length code",o.mode=t;break e}else{D=C[(D&65535)+(y&(1<<M)-1)];continue t}break}}while(u<l&&g<v);N=b>>3,u-=N,b-=N<<3,y&=(1<<b)-1,a.next_in=u,a.next_out=g,a.avail_in=u<l?5+(l-u):5-(u-l),a.avail_out=g<v?257+(v-g):257-(g-v),o.hold=y,o.bits=b}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),u=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),l=0,g=1,h=2,v=4,x=5,S=6,w=0,c=1,_=2,y=-2,b=-3,C=-4,E=-5,p=8,f=1,D=2,M=3,N=4,O=5,z=6,k=7,I=8,H=9,Y=10,q=11,G=12,$=13,j=14,V=15,X=16,Q=17,te=18,we=19,Pe=20,xe=21,Fe=22,Ae=23,be=24,Qe=25,Xe=26,U=27,pe=28,_e=29,ie=30,de=31,ye=32,Re=852,Be=592,Ce=15,Ie=Ce;function je(Le){return(Le>>>24&255)+(Le>>>8&65280)+((Le&65280)<<8)+((Le&255)<<24)}function Ke(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ne(Le){var lt;return!Le||!Le.state?y:(lt=Le.state,Le.total_in=Le.total_out=lt.total=0,Le.msg="",lt.wrap&&(Le.adler=lt.wrap&1),lt.mode=f,lt.last=0,lt.havedict=0,lt.dmax=32768,lt.head=null,lt.hold=0,lt.bits=0,lt.lencode=lt.lendyn=new n.Buf32(Re),lt.distcode=lt.distdyn=new n.Buf32(Be),lt.sane=1,lt.back=-1,w)}function ht(Le){var lt;return!Le||!Le.state?y:(lt=Le.state,lt.wsize=0,lt.whave=0,lt.wnext=0,Ne(Le))}function yt(Le,lt){var oe,ft;return!Le||!Le.state||(ft=Le.state,lt<0?(oe=0,lt=-lt):(oe=(lt>>4)+1,lt<48&&(lt&=15)),lt&&(lt<8||lt>15))?y:(ft.window!==null&&ft.wbits!==lt&&(ft.window=null),ft.wrap=oe,ft.wbits=lt,ht(Le))}function le(Le,lt){var oe,ft;return Le?(ft=new Ke,Le.state=ft,ft.window=null,oe=yt(Le,lt),oe!==w&&(Le.state=null),oe):y}function ue(Le){return le(Le,Ie)}var ge=!0,$e,ke;function at(Le){if(ge){var lt;for($e=new n.Buf32(512),ke=new n.Buf32(32),lt=0;lt<144;)Le.lens[lt++]=8;for(;lt<256;)Le.lens[lt++]=9;for(;lt<280;)Le.lens[lt++]=7;for(;lt<288;)Le.lens[lt++]=8;for(u(g,Le.lens,0,288,$e,0,Le.work,{bits:9}),lt=0;lt<32;)Le.lens[lt++]=5;u(h,Le.lens,0,32,ke,0,Le.work,{bits:5}),ge=!1}Le.lencode=$e,Le.lenbits=9,Le.distcode=ke,Le.distbits=5}function ot(Le,lt,oe,ft){var At,W=Le.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new n.Buf8(W.wsize)),ft>=W.wsize?(n.arraySet(W.window,lt,oe-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(At=W.wsize-W.wnext,At>ft&&(At=ft),n.arraySet(W.window,lt,oe-ft,At,W.wnext),ft-=At,ft?(n.arraySet(W.window,lt,oe-ft,ft,0),W.wnext=ft,W.whave=W.wsize):(W.wnext+=At,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=At))),0}function se(Le,lt){var oe,ft,At,W,Ve,Ye,ce,ze,tt,Lt,Mt,st,qt,Zr,Vt=0,Jt,Nt,kr,Mr,Br,nn,dr,Zt,ir=new n.Buf8(4),Ur,Wr,wi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Le||!Le.state||!Le.output||!Le.input&&Le.avail_in!==0)return y;oe=Le.state,oe.mode===G&&(oe.mode=$),Ve=Le.next_out,At=Le.output,ce=Le.avail_out,W=Le.next_in,ft=Le.input,Ye=Le.avail_in,ze=oe.hold,tt=oe.bits,Lt=Ye,Mt=ce,Zt=w;e:for(;;)switch(oe.mode){case f:if(oe.wrap===0){oe.mode=$;break}for(;tt<16;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if(oe.wrap&2&&ze===35615){oe.check=0,ir[0]=ze&255,ir[1]=ze>>>8&255,oe.check=s(oe.check,ir,2,0),ze=0,tt=0,oe.mode=D;break}if(oe.flags=0,oe.head&&(oe.head.done=!1),!(oe.wrap&1)||(((ze&255)<<8)+(ze>>8))%31){Le.msg="incorrect header check",oe.mode=ie;break}if((ze&15)!==p){Le.msg="unknown compression method",oe.mode=ie;break}if(ze>>>=4,tt-=4,dr=(ze&15)+8,oe.wbits===0)oe.wbits=dr;else if(dr>oe.wbits){Le.msg="invalid window size",oe.mode=ie;break}oe.dmax=1<<dr,Le.adler=oe.check=1,oe.mode=ze&512?Y:G,ze=0,tt=0;break;case D:for(;tt<16;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if(oe.flags=ze,(oe.flags&255)!==p){Le.msg="unknown compression method",oe.mode=ie;break}if(oe.flags&57344){Le.msg="unknown header flags set",oe.mode=ie;break}oe.head&&(oe.head.text=ze>>8&1),oe.flags&512&&(ir[0]=ze&255,ir[1]=ze>>>8&255,oe.check=s(oe.check,ir,2,0)),ze=0,tt=0,oe.mode=M;case M:for(;tt<32;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}oe.head&&(oe.head.time=ze),oe.flags&512&&(ir[0]=ze&255,ir[1]=ze>>>8&255,ir[2]=ze>>>16&255,ir[3]=ze>>>24&255,oe.check=s(oe.check,ir,4,0)),ze=0,tt=0,oe.mode=N;case N:for(;tt<16;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}oe.head&&(oe.head.xflags=ze&255,oe.head.os=ze>>8),oe.flags&512&&(ir[0]=ze&255,ir[1]=ze>>>8&255,oe.check=s(oe.check,ir,2,0)),ze=0,tt=0,oe.mode=O;case O:if(oe.flags&1024){for(;tt<16;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}oe.length=ze,oe.head&&(oe.head.extra_len=ze),oe.flags&512&&(ir[0]=ze&255,ir[1]=ze>>>8&255,oe.check=s(oe.check,ir,2,0)),ze=0,tt=0}else oe.head&&(oe.head.extra=null);oe.mode=z;case z:if(oe.flags&1024&&(st=oe.length,st>Ye&&(st=Ye),st&&(oe.head&&(dr=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Array(oe.head.extra_len)),n.arraySet(oe.head.extra,ft,W,st,dr)),oe.flags&512&&(oe.check=s(oe.check,ft,st,W)),Ye-=st,W+=st,oe.length-=st),oe.length))break e;oe.length=0,oe.mode=k;case k:if(oe.flags&2048){if(Ye===0)break e;st=0;do dr=ft[W+st++],oe.head&&dr&&oe.length<65536&&(oe.head.name+=String.fromCharCode(dr));while(dr&&st<Ye);if(oe.flags&512&&(oe.check=s(oe.check,ft,st,W)),Ye-=st,W+=st,dr)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=I;case I:if(oe.flags&4096){if(Ye===0)break e;st=0;do dr=ft[W+st++],oe.head&&dr&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(dr));while(dr&&st<Ye);if(oe.flags&512&&(oe.check=s(oe.check,ft,st,W)),Ye-=st,W+=st,dr)break e}else oe.head&&(oe.head.comment=null);oe.mode=H;case H:if(oe.flags&512){for(;tt<16;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if(ze!==(oe.check&65535)){Le.msg="header crc mismatch",oe.mode=ie;break}ze=0,tt=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),Le.adler=oe.check=0,oe.mode=G;break;case Y:for(;tt<32;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}Le.adler=oe.check=je(ze),ze=0,tt=0,oe.mode=q;case q:if(oe.havedict===0)return Le.next_out=Ve,Le.avail_out=ce,Le.next_in=W,Le.avail_in=Ye,oe.hold=ze,oe.bits=tt,_;Le.adler=oe.check=1,oe.mode=G;case G:if(lt===x||lt===S)break e;case $:if(oe.last){ze>>>=tt&7,tt-=tt&7,oe.mode=U;break}for(;tt<3;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}switch(oe.last=ze&1,ze>>>=1,tt-=1,ze&3){case 0:oe.mode=j;break;case 1:if(at(oe),oe.mode=Pe,lt===S){ze>>>=2,tt-=2;break e}break;case 2:oe.mode=Q;break;case 3:Le.msg="invalid block type",oe.mode=ie}ze>>>=2,tt-=2;break;case j:for(ze>>>=tt&7,tt-=tt&7;tt<32;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if((ze&65535)!==(ze>>>16^65535)){Le.msg="invalid stored block lengths",oe.mode=ie;break}if(oe.length=ze&65535,ze=0,tt=0,oe.mode=V,lt===S)break e;case V:oe.mode=X;case X:if(st=oe.length,st){if(st>Ye&&(st=Ye),st>ce&&(st=ce),st===0)break e;n.arraySet(At,ft,W,st,Ve),Ye-=st,W+=st,ce-=st,Ve+=st,oe.length-=st;break}oe.mode=G;break;case Q:for(;tt<14;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if(oe.nlen=(ze&31)+257,ze>>>=5,tt-=5,oe.ndist=(ze&31)+1,ze>>>=5,tt-=5,oe.ncode=(ze&15)+4,ze>>>=4,tt-=4,oe.nlen>286||oe.ndist>30){Le.msg="too many length or distance symbols",oe.mode=ie;break}oe.have=0,oe.mode=te;case te:for(;oe.have<oe.ncode;){for(;tt<3;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}oe.lens[wi[oe.have++]]=ze&7,ze>>>=3,tt-=3}for(;oe.have<19;)oe.lens[wi[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,Ur={bits:oe.lenbits},Zt=u(l,oe.lens,0,19,oe.lencode,0,oe.work,Ur),oe.lenbits=Ur.bits,Zt){Le.msg="invalid code lengths set",oe.mode=ie;break}oe.have=0,oe.mode=we;case we:for(;oe.have<oe.nlen+oe.ndist;){for(;Vt=oe.lencode[ze&(1<<oe.lenbits)-1],Jt=Vt>>>24,Nt=Vt>>>16&255,kr=Vt&65535,!(Jt<=tt);){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if(kr<16)ze>>>=Jt,tt-=Jt,oe.lens[oe.have++]=kr;else{if(kr===16){for(Wr=Jt+2;tt<Wr;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if(ze>>>=Jt,tt-=Jt,oe.have===0){Le.msg="invalid bit length repeat",oe.mode=ie;break}dr=oe.lens[oe.have-1],st=3+(ze&3),ze>>>=2,tt-=2}else if(kr===17){for(Wr=Jt+3;tt<Wr;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}ze>>>=Jt,tt-=Jt,dr=0,st=3+(ze&7),ze>>>=3,tt-=3}else{for(Wr=Jt+7;tt<Wr;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}ze>>>=Jt,tt-=Jt,dr=0,st=11+(ze&127),ze>>>=7,tt-=7}if(oe.have+st>oe.nlen+oe.ndist){Le.msg="invalid bit length repeat",oe.mode=ie;break}for(;st--;)oe.lens[oe.have++]=dr}}if(oe.mode===ie)break;if(oe.lens[256]===0){Le.msg="invalid code -- missing end-of-block",oe.mode=ie;break}if(oe.lenbits=9,Ur={bits:oe.lenbits},Zt=u(g,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,Ur),oe.lenbits=Ur.bits,Zt){Le.msg="invalid literal/lengths set",oe.mode=ie;break}if(oe.distbits=6,oe.distcode=oe.distdyn,Ur={bits:oe.distbits},Zt=u(h,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,Ur),oe.distbits=Ur.bits,Zt){Le.msg="invalid distances set",oe.mode=ie;break}if(oe.mode=Pe,lt===S)break e;case Pe:oe.mode=xe;case xe:if(Ye>=6&&ce>=258){Le.next_out=Ve,Le.avail_out=ce,Le.next_in=W,Le.avail_in=Ye,oe.hold=ze,oe.bits=tt,o(Le,Mt),Ve=Le.next_out,At=Le.output,ce=Le.avail_out,W=Le.next_in,ft=Le.input,Ye=Le.avail_in,ze=oe.hold,tt=oe.bits,oe.mode===G&&(oe.back=-1);break}for(oe.back=0;Vt=oe.lencode[ze&(1<<oe.lenbits)-1],Jt=Vt>>>24,Nt=Vt>>>16&255,kr=Vt&65535,!(Jt<=tt);){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if(Nt&&!(Nt&240)){for(Mr=Jt,Br=Nt,nn=kr;Vt=oe.lencode[nn+((ze&(1<<Mr+Br)-1)>>Mr)],Jt=Vt>>>24,Nt=Vt>>>16&255,kr=Vt&65535,!(Mr+Jt<=tt);){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}ze>>>=Mr,tt-=Mr,oe.back+=Mr}if(ze>>>=Jt,tt-=Jt,oe.back+=Jt,oe.length=kr,Nt===0){oe.mode=Xe;break}if(Nt&32){oe.back=-1,oe.mode=G;break}if(Nt&64){Le.msg="invalid literal/length code",oe.mode=ie;break}oe.extra=Nt&15,oe.mode=Fe;case Fe:if(oe.extra){for(Wr=oe.extra;tt<Wr;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}oe.length+=ze&(1<<oe.extra)-1,ze>>>=oe.extra,tt-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=Ae;case Ae:for(;Vt=oe.distcode[ze&(1<<oe.distbits)-1],Jt=Vt>>>24,Nt=Vt>>>16&255,kr=Vt&65535,!(Jt<=tt);){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if(!(Nt&240)){for(Mr=Jt,Br=Nt,nn=kr;Vt=oe.distcode[nn+((ze&(1<<Mr+Br)-1)>>Mr)],Jt=Vt>>>24,Nt=Vt>>>16&255,kr=Vt&65535,!(Mr+Jt<=tt);){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}ze>>>=Mr,tt-=Mr,oe.back+=Mr}if(ze>>>=Jt,tt-=Jt,oe.back+=Jt,Nt&64){Le.msg="invalid distance code",oe.mode=ie;break}oe.offset=kr,oe.extra=Nt&15,oe.mode=be;case be:if(oe.extra){for(Wr=oe.extra;tt<Wr;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}oe.offset+=ze&(1<<oe.extra)-1,ze>>>=oe.extra,tt-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){Le.msg="invalid distance too far back",oe.mode=ie;break}oe.mode=Qe;case Qe:if(ce===0)break e;if(st=Mt-ce,oe.offset>st){if(st=oe.offset-st,st>oe.whave&&oe.sane){Le.msg="invalid distance too far back",oe.mode=ie;break}st>oe.wnext?(st-=oe.wnext,qt=oe.wsize-st):qt=oe.wnext-st,st>oe.length&&(st=oe.length),Zr=oe.window}else Zr=At,qt=Ve-oe.offset,st=oe.length;st>ce&&(st=ce),ce-=st,oe.length-=st;do At[Ve++]=Zr[qt++];while(--st);oe.length===0&&(oe.mode=xe);break;case Xe:if(ce===0)break e;At[Ve++]=oe.length,ce--,oe.mode=xe;break;case U:if(oe.wrap){for(;tt<32;){if(Ye===0)break e;Ye--,ze|=ft[W++]<<tt,tt+=8}if(Mt-=ce,Le.total_out+=Mt,oe.total+=Mt,Mt&&(Le.adler=oe.check=oe.flags?s(oe.check,At,Mt,Ve-Mt):a(oe.check,At,Mt,Ve-Mt)),Mt=ce,(oe.flags?ze:je(ze))!==oe.check){Le.msg="incorrect data check",oe.mode=ie;break}ze=0,tt=0}oe.mode=pe;case pe:if(oe.wrap&&oe.flags){for(;tt<32;){if(Ye===0)break e;Ye--,ze+=ft[W++]<<tt,tt+=8}if(ze!==(oe.total&4294967295)){Le.msg="incorrect length check",oe.mode=ie;break}ze=0,tt=0}oe.mode=_e;case _e:Zt=c;break e;case ie:Zt=b;break e;case de:return C;case ye:default:return y}return Le.next_out=Ve,Le.avail_out=ce,Le.next_in=W,Le.avail_in=Ye,oe.hold=ze,oe.bits=tt,(oe.wsize||Mt!==Le.avail_out&&oe.mode<ie&&(oe.mode<U||lt!==v))&&ot(Le,Le.output,Le.next_out,Mt-Le.avail_out)?(oe.mode=de,C):(Lt-=Le.avail_in,Mt-=Le.avail_out,Le.total_in+=Lt,Le.total_out+=Mt,oe.total+=Mt,oe.wrap&&Mt&&(Le.adler=oe.check=oe.flags?s(oe.check,At,Mt,Le.next_out-Mt):a(oe.check,At,Mt,Le.next_out-Mt)),Le.data_type=oe.bits+(oe.last?64:0)+(oe.mode===G?128:0)+(oe.mode===Pe||oe.mode===V?256:0),(Lt===0&&Mt===0||lt===v)&&Zt===w&&(Zt=E),Zt)}function Ge(Le){if(!Le||!Le.state)return y;var lt=Le.state;return lt.window&&(lt.window=null),Le.state=null,w}function Je(Le,lt){var oe;return!Le||!Le.state||(oe=Le.state,!(oe.wrap&2))?y:(oe.head=lt,lt.done=!1,w)}function pt(Le,lt){var oe=lt.length,ft,At,W;return!Le||!Le.state||(ft=Le.state,ft.wrap!==0&&ft.mode!==q)?y:ft.mode===q&&(At=1,At=a(At,lt,oe,0),At!==ft.check)?b:(W=ot(Le,lt,oe,oe),W?(ft.mode=de,C):(ft.havedict=1,w))}t.inflateReset=ht,t.inflateReset2=yt,t.inflateResetKeep=Ne,t.inflateInit=ue,t.inflateInit2=le,t.inflate=se,t.inflateEnd=Ge,t.inflateGetHeader=Je,t.inflateSetDictionary=pt,t.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=15,s=852,o=592,u=0,l=1,g=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],S=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(c,_,y,b,C,E,p,f){var D=f.bits,M=0,N=0,O=0,z=0,k=0,I=0,H=0,Y=0,q=0,G=0,$,j,V,X,Q,te=null,we=0,Pe,xe=new n.Buf16(a+1),Fe=new n.Buf16(a+1),Ae=null,be=0,Qe,Xe,U;for(M=0;M<=a;M++)xe[M]=0;for(N=0;N<b;N++)xe[_[y+N]]++;for(k=D,z=a;z>=1&&xe[z]===0;z--);if(k>z&&(k=z),z===0)return C[E++]=20971520,C[E++]=20971520,f.bits=1,0;for(O=1;O<z&&xe[O]===0;O++);for(k<O&&(k=O),Y=1,M=1;M<=a;M++)if(Y<<=1,Y-=xe[M],Y<0)return-1;if(Y>0&&(c===u||z!==1))return-1;for(Fe[1]=0,M=1;M<a;M++)Fe[M+1]=Fe[M]+xe[M];for(N=0;N<b;N++)_[y+N]!==0&&(p[Fe[_[y+N]]++]=N);if(c===u?(te=Ae=p,Pe=19):c===l?(te=h,we-=257,Ae=v,be-=257,Pe=256):(te=x,Ae=S,Pe=-1),G=0,N=0,M=O,Q=E,I=k,H=0,V=-1,q=1<<k,X=q-1,c===l&&q>s||c===g&&q>o)return 1;for(;;){Qe=M-H,p[N]<Pe?(Xe=0,U=p[N]):p[N]>Pe?(Xe=Ae[be+p[N]],U=te[we+p[N]]):(Xe=96,U=0),$=1<<M-H,j=1<<I,O=j;do j-=$,C[Q+(G>>H)+j]=Qe<<24|Xe<<16|U|0;while(j!==0);for($=1<<M-1;G&$;)$>>=1;if($!==0?(G&=$-1,G+=$):G=0,N++,--xe[M]===0){if(M===z)break;M=_[y+p[N]]}if(M>k&&(G&X)!==V){for(H===0&&(H=k),Q+=O,I=M-H,Y=1<<I;I+H<z&&(Y-=xe[I+H],!(Y<=0));)I++,Y<<=1;if(q+=1<<I,c===l&&q>s||c===g&&q>o)return 1;V=G&X,C[V]=k<<24|I<<16|Q-E|0}}return G!==0&&(C[Q+G]=M-H<<24|4194304|0),f.bits=k,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(e,t,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),a=4,s=0,o=1,u=2;function l(se){for(var Ge=se.length;--Ge>=0;)se[Ge]=0}var g=0,h=1,v=2,x=3,S=258,w=29,c=256,_=c+1+w,y=30,b=19,C=2*_+1,E=15,p=16,f=7,D=256,M=16,N=17,O=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=512,q=new Array((_+2)*2);l(q);var G=new Array(y*2);l(G);var $=new Array(Y);l($);var j=new Array(S-x+1);l(j);var V=new Array(w);l(V);var X=new Array(y);l(X);function Q(se,Ge,Je,pt,Le){this.static_tree=se,this.extra_bits=Ge,this.extra_base=Je,this.elems=pt,this.max_length=Le,this.has_stree=se&&se.length}var te,we,Pe;function xe(se,Ge){this.dyn_tree=se,this.max_code=0,this.stat_desc=Ge}function Fe(se){return se<256?$[se]:$[256+(se>>>7)]}function Ae(se,Ge){se.pending_buf[se.pending++]=Ge&255,se.pending_buf[se.pending++]=Ge>>>8&255}function be(se,Ge,Je){se.bi_valid>p-Je?(se.bi_buf|=Ge<<se.bi_valid&65535,Ae(se,se.bi_buf),se.bi_buf=Ge>>p-se.bi_valid,se.bi_valid+=Je-p):(se.bi_buf|=Ge<<se.bi_valid&65535,se.bi_valid+=Je)}function Qe(se,Ge,Je){be(se,Je[Ge*2],Je[Ge*2+1])}function Xe(se,Ge){var Je=0;do Je|=se&1,se>>>=1,Je<<=1;while(--Ge>0);return Je>>>1}function U(se){se.bi_valid===16?(Ae(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):se.bi_valid>=8&&(se.pending_buf[se.pending++]=se.bi_buf&255,se.bi_buf>>=8,se.bi_valid-=8)}function pe(se,Ge){var Je=Ge.dyn_tree,pt=Ge.max_code,Le=Ge.stat_desc.static_tree,lt=Ge.stat_desc.has_stree,oe=Ge.stat_desc.extra_bits,ft=Ge.stat_desc.extra_base,At=Ge.stat_desc.max_length,W,Ve,Ye,ce,ze,tt,Lt=0;for(ce=0;ce<=E;ce++)se.bl_count[ce]=0;for(Je[se.heap[se.heap_max]*2+1]=0,W=se.heap_max+1;W<C;W++)Ve=se.heap[W],ce=Je[Je[Ve*2+1]*2+1]+1,ce>At&&(ce=At,Lt++),Je[Ve*2+1]=ce,!(Ve>pt)&&(se.bl_count[ce]++,ze=0,Ve>=ft&&(ze=oe[Ve-ft]),tt=Je[Ve*2],se.opt_len+=tt*(ce+ze),lt&&(se.static_len+=tt*(Le[Ve*2+1]+ze)));if(Lt!==0){do{for(ce=At-1;se.bl_count[ce]===0;)ce--;se.bl_count[ce]--,se.bl_count[ce+1]+=2,se.bl_count[At]--,Lt-=2}while(Lt>0);for(ce=At;ce!==0;ce--)for(Ve=se.bl_count[ce];Ve!==0;)Ye=se.heap[--W],!(Ye>pt)&&(Je[Ye*2+1]!==ce&&(se.opt_len+=(ce-Je[Ye*2+1])*Je[Ye*2],Je[Ye*2+1]=ce),Ve--)}}function _e(se,Ge,Je){var pt=new Array(E+1),Le=0,lt,oe;for(lt=1;lt<=E;lt++)pt[lt]=Le=Le+Je[lt-1]<<1;for(oe=0;oe<=Ge;oe++){var ft=se[oe*2+1];ft!==0&&(se[oe*2]=Xe(pt[ft]++,ft))}}function ie(){var se,Ge,Je,pt,Le,lt=new Array(E+1);for(Je=0,pt=0;pt<w-1;pt++)for(V[pt]=Je,se=0;se<1<<z[pt];se++)j[Je++]=pt;for(j[Je-1]=pt,Le=0,pt=0;pt<16;pt++)for(X[pt]=Le,se=0;se<1<<k[pt];se++)$[Le++]=pt;for(Le>>=7;pt<y;pt++)for(X[pt]=Le<<7,se=0;se<1<<k[pt]-7;se++)$[256+Le++]=pt;for(Ge=0;Ge<=E;Ge++)lt[Ge]=0;for(se=0;se<=143;)q[se*2+1]=8,se++,lt[8]++;for(;se<=255;)q[se*2+1]=9,se++,lt[9]++;for(;se<=279;)q[se*2+1]=7,se++,lt[7]++;for(;se<=287;)q[se*2+1]=8,se++,lt[8]++;for(_e(q,_+1,lt),se=0;se<y;se++)G[se*2+1]=5,G[se*2]=Xe(se,5);te=new Q(q,z,c+1,_,E),we=new Q(G,k,0,y,E),Pe=new Q(new Array(0),I,0,b,f)}function de(se){var Ge;for(Ge=0;Ge<_;Ge++)se.dyn_ltree[Ge*2]=0;for(Ge=0;Ge<y;Ge++)se.dyn_dtree[Ge*2]=0;for(Ge=0;Ge<b;Ge++)se.bl_tree[Ge*2]=0;se.dyn_ltree[D*2]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function ye(se){se.bi_valid>8?Ae(se,se.bi_buf):se.bi_valid>0&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function Re(se,Ge,Je,pt){ye(se),pt&&(Ae(se,Je),Ae(se,~Je)),n.arraySet(se.pending_buf,se.window,Ge,Je,se.pending),se.pending+=Je}function Be(se,Ge,Je,pt){var Le=Ge*2,lt=Je*2;return se[Le]<se[lt]||se[Le]===se[lt]&&pt[Ge]<=pt[Je]}function Ce(se,Ge,Je){for(var pt=se.heap[Je],Le=Je<<1;Le<=se.heap_len&&(Le<se.heap_len&&Be(Ge,se.heap[Le+1],se.heap[Le],se.depth)&&Le++,!Be(Ge,pt,se.heap[Le],se.depth));)se.heap[Je]=se.heap[Le],Je=Le,Le<<=1;se.heap[Je]=pt}function Ie(se,Ge,Je){var pt,Le,lt=0,oe,ft;if(se.last_lit!==0)do pt=se.pending_buf[se.d_buf+lt*2]<<8|se.pending_buf[se.d_buf+lt*2+1],Le=se.pending_buf[se.l_buf+lt],lt++,pt===0?Qe(se,Le,Ge):(oe=j[Le],Qe(se,oe+c+1,Ge),ft=z[oe],ft!==0&&(Le-=V[oe],be(se,Le,ft)),pt--,oe=Fe(pt),Qe(se,oe,Je),ft=k[oe],ft!==0&&(pt-=X[oe],be(se,pt,ft)));while(lt<se.last_lit);Qe(se,D,Ge)}function je(se,Ge){var Je=Ge.dyn_tree,pt=Ge.stat_desc.static_tree,Le=Ge.stat_desc.has_stree,lt=Ge.stat_desc.elems,oe,ft,At=-1,W;for(se.heap_len=0,se.heap_max=C,oe=0;oe<lt;oe++)Je[oe*2]!==0?(se.heap[++se.heap_len]=At=oe,se.depth[oe]=0):Je[oe*2+1]=0;for(;se.heap_len<2;)W=se.heap[++se.heap_len]=At<2?++At:0,Je[W*2]=1,se.depth[W]=0,se.opt_len--,Le&&(se.static_len-=pt[W*2+1]);for(Ge.max_code=At,oe=se.heap_len>>1;oe>=1;oe--)Ce(se,Je,oe);W=lt;do oe=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Ce(se,Je,1),ft=se.heap[1],se.heap[--se.heap_max]=oe,se.heap[--se.heap_max]=ft,Je[W*2]=Je[oe*2]+Je[ft*2],se.depth[W]=(se.depth[oe]>=se.depth[ft]?se.depth[oe]:se.depth[ft])+1,Je[oe*2+1]=Je[ft*2+1]=W,se.heap[1]=W++,Ce(se,Je,1);while(se.heap_len>=2);se.heap[--se.heap_max]=se.heap[1],pe(se,Ge),_e(Je,At,se.bl_count)}function Ke(se,Ge,Je){var pt,Le=-1,lt,oe=Ge[0*2+1],ft=0,At=7,W=4;for(oe===0&&(At=138,W=3),Ge[(Je+1)*2+1]=65535,pt=0;pt<=Je;pt++)lt=oe,oe=Ge[(pt+1)*2+1],!(++ft<At&&lt===oe)&&(ft<W?se.bl_tree[lt*2]+=ft:lt!==0?(lt!==Le&&se.bl_tree[lt*2]++,se.bl_tree[M*2]++):ft<=10?se.bl_tree[N*2]++:se.bl_tree[O*2]++,ft=0,Le=lt,oe===0?(At=138,W=3):lt===oe?(At=6,W=3):(At=7,W=4))}function Ne(se,Ge,Je){var pt,Le=-1,lt,oe=Ge[0*2+1],ft=0,At=7,W=4;for(oe===0&&(At=138,W=3),pt=0;pt<=Je;pt++)if(lt=oe,oe=Ge[(pt+1)*2+1],!(++ft<At&&lt===oe)){if(ft<W)do Qe(se,lt,se.bl_tree);while(--ft!==0);else lt!==0?(lt!==Le&&(Qe(se,lt,se.bl_tree),ft--),Qe(se,M,se.bl_tree),be(se,ft-3,2)):ft<=10?(Qe(se,N,se.bl_tree),be(se,ft-3,3)):(Qe(se,O,se.bl_tree),be(se,ft-11,7));ft=0,Le=lt,oe===0?(At=138,W=3):lt===oe?(At=6,W=3):(At=7,W=4)}}function ht(se){var Ge;for(Ke(se,se.dyn_ltree,se.l_desc.max_code),Ke(se,se.dyn_dtree,se.d_desc.max_code),je(se,se.bl_desc),Ge=b-1;Ge>=3&&se.bl_tree[H[Ge]*2+1]===0;Ge--);return se.opt_len+=3*(Ge+1)+5+5+4,Ge}function yt(se,Ge,Je,pt){var Le;for(be(se,Ge-257,5),be(se,Je-1,5),be(se,pt-4,4),Le=0;Le<pt;Le++)be(se,se.bl_tree[H[Le]*2+1],3);Ne(se,se.dyn_ltree,Ge-1),Ne(se,se.dyn_dtree,Je-1)}function le(se){var Ge=4093624447,Je;for(Je=0;Je<=31;Je++,Ge>>>=1)if(Ge&1&&se.dyn_ltree[Je*2]!==0)return s;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return o;for(Je=32;Je<c;Je++)if(se.dyn_ltree[Je*2]!==0)return o;return s}var ue=!1;function ge(se){ue||(ie(),ue=!0),se.l_desc=new xe(se.dyn_ltree,te),se.d_desc=new xe(se.dyn_dtree,we),se.bl_desc=new xe(se.bl_tree,Pe),se.bi_buf=0,se.bi_valid=0,de(se)}function $e(se,Ge,Je,pt){be(se,(g<<1)+(pt?1:0),3),Re(se,Ge,Je,!0)}function ke(se){be(se,h<<1,3),Qe(se,D,q),U(se)}function at(se,Ge,Je,pt){var Le,lt,oe=0;se.level>0?(se.strm.data_type===u&&(se.strm.data_type=le(se)),je(se,se.l_desc),je(se,se.d_desc),oe=ht(se),Le=se.opt_len+3+7>>>3,lt=se.static_len+3+7>>>3,lt<=Le&&(Le=lt)):Le=lt=Je+5,Je+4<=Le&&Ge!==-1?$e(se,Ge,Je,pt):se.strategy===a||lt===Le?(be(se,(h<<1)+(pt?1:0),3),Ie(se,q,G)):(be(se,(v<<1)+(pt?1:0),3),yt(se,se.l_desc.max_code+1,se.d_desc.max_code+1,oe+1),Ie(se,se.dyn_ltree,se.dyn_dtree)),de(se),pt&&ye(se)}function ot(se,Ge,Je){return se.pending_buf[se.d_buf+se.last_lit*2]=Ge>>>8&255,se.pending_buf[se.d_buf+se.last_lit*2+1]=Ge&255,se.pending_buf[se.l_buf+se.last_lit]=Je&255,se.last_lit++,Ge===0?se.dyn_ltree[Je*2]++:(se.matches++,Ge--,se.dyn_ltree[(j[Je]+c+1)*2]++,se.dyn_dtree[Fe(Ge)*2]++),se.last_lit===se.lit_bufsize-1}t._tr_init=ge,t._tr_stored_block=$e,t._tr_flush_block=at,t._tr_tally=ot,t._tr_align=ke},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":e=>{"use strict";function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=t},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=function(){self.onmessage=function(e){var t=e.data,r=t.type;if(r<0)self.atomData=t.atoms,self.volume=t.volume,self.ps=new ProteinSurface;else{var n=self.ps;n.initparm(t.expandedExtent,r!=1,self.volume),n.fillvoxels(self.atomData,t.extendedAtoms),n.buildboundary(),(r===4||r===2)&&(n.fastdistancemap(),n.boundingatom(!1),n.fillvoxelswaals(self.atomData,t.extendedAtoms)),n.marchingcube(r);var a=n.getFacesAndVertices(t.atomsToShow);self.postMessage(a)}}}.toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":e=>{typeof e.exports=="object"&&(e.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(e,t){(function(r,n){n(t)})(this,function(r){"use strict";function n(le,ue,ge){for(var $e=(le.byteLength,0),ke=ge.length;ke>$e;$e++){var at=ge.charCodeAt($e);if(128>at)le.setUint8(ue++,at>>>0&127|0);else if(2048>at)le.setUint8(ue++,at>>>6&31|192),le.setUint8(ue++,at>>>0&63|128);else if(65536>at)le.setUint8(ue++,at>>>12&15|224),le.setUint8(ue++,at>>>6&63|128),le.setUint8(ue++,at>>>0&63|128);else{if(!(1114112>at))throw new Error("bad codepoint "+at);le.setUint8(ue++,at>>>18&7|240),le.setUint8(ue++,at>>>12&63|128),le.setUint8(ue++,at>>>6&63|128),le.setUint8(ue++,at>>>0&63|128)}}}function a(le){for(var ue=0,ge=0,$e=le.length;$e>ge;ge++){var ke=le.charCodeAt(ge);if(128>ke)ue+=1;else if(2048>ke)ue+=2;else if(65536>ke)ue+=3;else{if(!(1114112>ke))throw new Error("bad codepoint "+ke);ue+=4}}return ue}function s(le,ue,ge){var $e=typeof le;if($e==="string"){var ke=a(le);if(32>ke)return ue.setUint8(ge,160|ke),n(ue,ge+1,le),1+ke;if(256>ke)return ue.setUint8(ge,217),ue.setUint8(ge+1,ke),n(ue,ge+2,le),2+ke;if(65536>ke)return ue.setUint8(ge,218),ue.setUint16(ge+1,ke),n(ue,ge+3,le),3+ke;if(4294967296>ke)return ue.setUint8(ge,219),ue.setUint32(ge+1,ke),n(ue,ge+5,le),5+ke}if(le instanceof Uint8Array){var ke=le.byteLength,at=new Uint8Array(ue.buffer);if(256>ke)return ue.setUint8(ge,196),ue.setUint8(ge+1,ke),at.set(le,ge+2),2+ke;if(65536>ke)return ue.setUint8(ge,197),ue.setUint16(ge+1,ke),at.set(le,ge+3),3+ke;if(4294967296>ke)return ue.setUint8(ge,198),ue.setUint32(ge+1,ke),at.set(le,ge+5),5+ke}if($e==="number"){if(!isFinite(le))throw new Error("Number not finite: "+le);if(Math.floor(le)!==le)return ue.setUint8(ge,203),ue.setFloat64(ge+1,le),9;if(le>=0){if(128>le)return ue.setUint8(ge,le),1;if(256>le)return ue.setUint8(ge,204),ue.setUint8(ge+1,le),2;if(65536>le)return ue.setUint8(ge,205),ue.setUint16(ge+1,le),3;if(4294967296>le)return ue.setUint8(ge,206),ue.setUint32(ge+1,le),5;throw new Error("Number too big 0x"+le.toString(16))}if(le>=-32)return ue.setInt8(ge,le),1;if(le>=-128)return ue.setUint8(ge,208),ue.setInt8(ge+1,le),2;if(le>=-32768)return ue.setUint8(ge,209),ue.setInt16(ge+1,le),3;if(le>=-2147483648)return ue.setUint8(ge,210),ue.setInt32(ge+1,le),5;throw new Error("Number too small -0x"+(-le).toString(16).substr(1))}if(le===null)return ue.setUint8(ge,192),1;if($e==="boolean")return ue.setUint8(ge,le?195:194),1;if($e==="object"){var ke,Ge=0,ot=Array.isArray(le);if(ot)ke=le.length;else{var se=Object.keys(le);ke=se.length}var Ge;if(16>ke?(ue.setUint8(ge,ke|(ot?144:128)),Ge=1):65536>ke?(ue.setUint8(ge,ot?220:222),ue.setUint16(ge+1,ke),Ge=3):4294967296>ke&&(ue.setUint8(ge,ot?221:223),ue.setUint32(ge+1,ke),Ge=5),ot)for(var Je=0;ke>Je;Je++)Ge+=s(le[Je],ue,ge+Ge);else for(var Je=0;ke>Je;Je++){var pt=se[Je];Ge+=s(pt,ue,ge+Ge),Ge+=s(le[pt],ue,ge+Ge)}return Ge}throw new Error("Unknown type "+$e)}function o(le){var ue=typeof le;if(ue==="string"){var ge=a(le);if(32>ge)return 1+ge;if(256>ge)return 2+ge;if(65536>ge)return 3+ge;if(4294967296>ge)return 5+ge}if(le instanceof Uint8Array){var ge=le.byteLength;if(256>ge)return 2+ge;if(65536>ge)return 3+ge;if(4294967296>ge)return 5+ge}if(ue==="number"){if(Math.floor(le)!==le)return 9;if(le>=0){if(128>le)return 1;if(256>le)return 2;if(65536>le)return 3;if(4294967296>le)return 5;throw new Error("Number too big 0x"+le.toString(16))}if(le>=-32)return 1;if(le>=-128)return 2;if(le>=-32768)return 3;if(le>=-2147483648)return 5;throw new Error("Number too small -0x"+le.toString(16).substr(1))}if(ue==="boolean"||le===null)return 1;if(ue==="object"){var ge,$e=0;if(Array.isArray(le)){ge=le.length;for(var ke=0;ge>ke;ke++)$e+=o(le[ke])}else{var at=Object.keys(le);ge=at.length;for(var ke=0;ge>ke;ke++){var ot=at[ke];$e+=o(ot)+o(le[ot])}}if(16>ge)return 1+$e;if(65536>ge)return 3+$e;if(4294967296>ge)return 5+$e;throw new Error("Array or object too long 0x"+ge.toString(16))}throw new Error("Unknown type "+ue)}function u(le){var ue=new ArrayBuffer(o(le)),ge=new DataView(ue);return s(le,ge,0),new Uint8Array(ue)}function l(le,ue,ge){return ue?new le(ue.buffer,ue.byteOffset,ue.byteLength/(ge||1)):void 0}function g(le){return l(DataView,le)}function h(le){return l(Uint8Array,le)}function v(le){return l(Int8Array,le)}function x(le){return l(Int32Array,le,4)}function S(le){return l(Float32Array,le,4)}function w(le,ue){var ge=le.length/2;ue||(ue=new Int16Array(ge));for(var $e=0,ke=0;ge>$e;++$e,ke+=2)ue[$e]=le[ke]<<8^le[ke+1]<<0;return ue}function c(le,ue){var ge=le.length;ue||(ue=new Uint8Array(2*ge));for(var $e=g(ue),ke=0;ge>ke;++ke)$e.setInt16(2*ke,le[ke]);return h(ue)}function _(le,ue){var ge=le.length/4;ue||(ue=new Int32Array(ge));for(var $e=0,ke=0;ge>$e;++$e,ke+=4)ue[$e]=le[ke]<<24^le[ke+1]<<16^le[ke+2]<<8^le[ke+3]<<0;return ue}function y(le,ue){var ge=le.length;ue||(ue=new Uint8Array(4*ge));for(var $e=g(ue),ke=0;ge>ke;++ke)$e.setInt32(4*ke,le[ke]);return h(ue)}function b(le,ue){var ge=le.length;ue||(ue=new Float32Array(ge/4));for(var $e=g(ue),ke=g(le),at=0,ot=0,se=ge/4;se>at;++at,ot+=4)$e.setFloat32(ot,ke.getFloat32(ot),!0);return ue}function C(le,ue,ge){var $e=le.length,ke=1/ue;ge||(ge=new Float32Array($e));for(var at=0;$e>at;++at)ge[at]=le[at]*ke;return ge}function E(le,ue,ge){var $e=le.length;ge||(ge=new Int32Array($e));for(var ke=0;$e>ke;++ke)ge[ke]=Math.round(le[ke]*ue);return ge}function p(le,ue){var ge,$e;if(!ue){var ke=0;for(ge=0,$e=le.length;$e>ge;ge+=2)ke+=le[ge+1];ue=new le.constructor(ke)}var at=0;for(ge=0,$e=le.length;$e>ge;ge+=2)for(var ot=le[ge],se=le[ge+1],Ge=0;se>Ge;++Ge)ue[at]=ot,++at;return ue}function f(le){if(le.length===0)return new Int32Array;var ue,ge,$e=2;for(ue=1,ge=le.length;ge>ue;++ue)le[ue-1]!==le[ue]&&($e+=2);var ke=new Int32Array($e),at=0,ot=1;for(ue=1,ge=le.length;ge>ue;++ue)le[ue-1]!==le[ue]?(ke[at]=le[ue-1],ke[at+1]=ot,ot=1,at+=2):++ot;return ke[at]=le[le.length-1],ke[at+1]=ot,ke}function D(le,ue){var ge=le.length;ue||(ue=new le.constructor(ge)),ge&&(ue[0]=le[0]);for(var $e=1;ge>$e;++$e)ue[$e]=le[$e]+ue[$e-1];return ue}function M(le,ue){var ge=le.length;ue||(ue=new le.constructor(ge)),ue[0]=le[0];for(var $e=1;ge>$e;++$e)ue[$e]=le[$e]-le[$e-1];return ue}function N(le,ue){var ge,$e,ke=le instanceof Int8Array?127:32767,at=-ke-1,ot=le.length;if(!ue){var se=0;for(ge=0;ot>ge;++ge)le[ge]<ke&&le[ge]>at&&++se;ue=new Int32Array(se)}for(ge=0,$e=0;ot>ge;){for(var Ge=0;le[ge]===ke||le[ge]===at;)Ge+=le[ge],++ge;Ge+=le[ge],++ge,ue[$e]=Ge,++$e}return ue}function O(le,ue){var ge,$e=ue?127:32767,ke=-$e-1,at=le.length,ot=0;for(ge=0;at>ge;++ge){var se=le[ge];se===0?++ot:se>0?(ot+=Math.ceil(se/$e),se%$e===0&&(ot+=1)):(ot+=Math.ceil(se/ke),se%ke===0&&(ot+=1))}var Ge=ue?new Int8Array(ot):new Int16Array(ot),Je=0;for(ge=0;at>ge;++ge){var se=le[ge];if(se>=0)for(;se>=$e;)Ge[Je]=$e,++Je,se-=$e;else for(;ke>=se;)Ge[Je]=ke,++Je,se-=ke;Ge[Je]=se,++Je}return Ge}function z(le,ue){return D(p(le),ue)}function k(le){return f(M(le))}function I(le,ue,ge){return C(p(le,x(ge)),ue,ge)}function H(le,ue){return f(E(le,ue))}function Y(le,ue,ge){return C(D(le,x(ge)),ue,ge)}function q(le,ue,ge){return M(E(le,ue),ge)}function G(le,ue,ge){return C(N(le,x(ge)),ue,ge)}function $(le,ue,ge){var $e=N(le,x(ge));return Y($e,ue,S($e))}function j(le,ue,ge){return O(q(le,ue),ge)}function V(at){var ue=g(at),ge=ue.getInt32(0),$e=ue.getInt32(4),ke=at.subarray(8,12),at=at.subarray(12);return[ge,at,$e,ke]}function X(le,ue,ge,$e){var ke=new ArrayBuffer(12+$e.byteLength),at=new Uint8Array(ke),ot=new DataView(ke);return ot.setInt32(0,le),ot.setInt32(4,ue),ge&&at.set(ge,8),at.set($e,12),at}function Q(le){var ue=le.length,ge=h(le);return X(2,ue,void 0,ge)}function te(le){var ue=le.length,ge=y(le);return X(4,ue,void 0,ge)}function we(le,ue){var ge=le.length/ue,$e=y([ue]),ke=h(le);return X(5,ge,$e,ke)}function Pe(le){var ue=le.length,ge=y(f(le));return X(6,ue,void 0,ge)}function xe(le){var ue=le.length,ge=y(k(le));return X(8,ue,void 0,ge)}function Fe(le,ue){var ge=le.length,$e=y([ue]),ke=y(H(le,ue));return X(9,ge,$e,ke)}function Ae(le,ue){var ge=le.length,$e=y([ue]),ke=c(j(le,ue));return X(10,ge,$e,ke)}function be(le){var ue={};return Ce.forEach(function(ge){le[ge]!==void 0&&(ue[ge]=le[ge])}),le.bondAtomList&&(ue.bondAtomList=te(le.bondAtomList)),le.bondOrderList&&(ue.bondOrderList=Q(le.bondOrderList)),ue.xCoordList=Ae(le.xCoordList,1e3),ue.yCoordList=Ae(le.yCoordList,1e3),ue.zCoordList=Ae(le.zCoordList,1e3),le.bFactorList&&(ue.bFactorList=Ae(le.bFactorList,100)),le.atomIdList&&(ue.atomIdList=xe(le.atomIdList)),le.altLocList&&(ue.altLocList=Pe(le.altLocList)),le.occupancyList&&(ue.occupancyList=Fe(le.occupancyList,100)),ue.groupIdList=xe(le.groupIdList),ue.groupTypeList=te(le.groupTypeList),le.secStructList&&(ue.secStructList=Q(le.secStructList)),le.insCodeList&&(ue.insCodeList=Pe(le.insCodeList)),le.sequenceIndexList&&(ue.sequenceIndexList=xe(le.sequenceIndexList)),ue.chainIdList=we(le.chainIdList,4),le.chainNameList&&(ue.chainNameList=we(le.chainNameList,4)),ue}function Qe(le){function ue(Ge){for(var Je={},pt=0;Ge>pt;pt++){var Le=at();Je[Le]=at()}return Je}function ge(Ge){var Je=le.subarray(ot,ot+Ge);return ot+=Ge,Je}function $e(Ge){var Je=le.subarray(ot,ot+Ge);ot+=Ge;var pt=65535;if(Ge>pt){for(var Le=[],lt=0;lt<Je.length;lt+=pt)Le.push(String.fromCharCode.apply(null,Je.subarray(lt,lt+pt)));return Le.join("")}return String.fromCharCode.apply(null,Je)}function ke(Ge){for(var Je=new Array(Ge),pt=0;Ge>pt;pt++)Je[pt]=at();return Je}function at(){var Ge,Je,pt=le[ot];if(!(128&pt))return ot++,pt;if((240&pt)===128)return Je=15&pt,ot++,ue(Je);if((240&pt)===144)return Je=15&pt,ot++,ke(Je);if((224&pt)===160)return Je=31&pt,ot++,$e(Je);if((224&pt)===224)return Ge=se.getInt8(ot),ot++,Ge;switch(pt){case 192:return ot++,null;case 194:return ot++,!1;case 195:return ot++,!0;case 196:return Je=se.getUint8(ot+1),ot+=2,ge(Je);case 197:return Je=se.getUint16(ot+1),ot+=3,ge(Je);case 198:return Je=se.getUint32(ot+1),ot+=5,ge(Je);case 202:return Ge=se.getFloat32(ot+1),ot+=5,Ge;case 203:return Ge=se.getFloat64(ot+1),ot+=9,Ge;case 204:return Ge=le[ot+1],ot+=2,Ge;case 205:return Ge=se.getUint16(ot+1),ot+=3,Ge;case 206:return Ge=se.getUint32(ot+1),ot+=5,Ge;case 208:return Ge=se.getInt8(ot+1),ot+=2,Ge;case 209:return Ge=se.getInt16(ot+1),ot+=3,Ge;case 210:return Ge=se.getInt32(ot+1),ot+=5,Ge;case 217:return Je=se.getUint8(ot+1),ot+=2,$e(Je);case 218:return Je=se.getUint16(ot+1),ot+=3,$e(Je);case 219:return Je=se.getUint32(ot+1),ot+=5,$e(Je);case 220:return Je=se.getUint16(ot+1),ot+=3,ke(Je);case 221:return Je=se.getUint32(ot+1),ot+=5,ke(Je);case 222:return Je=se.getUint16(ot+1),ot+=3,ue(Je);case 223:return Je=se.getUint32(ot+1),ot+=5,ue(Je)}throw new Error("Unknown type 0x"+pt.toString(16))}var ot=0,se=new DataView(le.buffer);return at()}function Xe(le,ue,ge,$e){switch(le){case 1:return b(ue);case 2:return v(ue);case 3:return w(ue);case 4:return _(ue);case 5:return h(ue);case 6:return p(_(ue),new Uint8Array(ge));case 7:return p(_(ue));case 8:return z(_(ue));case 9:return I(_(ue),_($e)[0]);case 10:return $(w(ue),_($e)[0]);case 11:return C(w(ue),_($e)[0]);case 12:return G(w(ue),_($e)[0]);case 13:return G(v(ue),_($e)[0]);case 14:return N(w(ue));case 15:return N(v(ue))}}function U(le,ue){ue=ue||{};var ge=ue.ignoreFields,$e={};return je.forEach(function(ke){var at=ge?ge.indexOf(ke)!==-1:!1,ot=le[ke];at||ot===void 0||(ot instanceof Uint8Array?$e[ke]=Xe.apply(null,V(ot)):$e[ke]=ot)}),$e}function pe(le){return String.fromCharCode.apply(null,le).replace(/\0/g,"")}function _e(le,ue,ge){ge=ge||{};var $e,ke,at,ot,se,Ge,Je=ge.firstModelOnly,pt=ue.onModel,Le=ue.onChain,lt=ue.onGroup,oe=ue.onAtom,ft=ue.onBond,At=0,W=0,Ve=0,Ye=0,ce=0,ze=-1,tt=le.chainNameList,Lt=le.secStructList,Mt=le.insCodeList,st=le.sequenceIndexList,qt=le.atomIdList,Zr=le.bFactorList,Vt=le.altLocList,Jt=le.occupancyList,Nt=le.bondAtomList,kr=le.bondOrderList;for($e=0,ke=le.chainsPerModel.length;ke>$e&&!(Je&&At>0);++$e){var Mr=le.chainsPerModel[At];for(pt&&pt({chainCount:Mr,modelIndex:At}),at=0;Mr>at;++at){var Br=le.groupsPerChain[W];if(Le){var nn=pe(le.chainIdList.subarray(4*W,4*W+4)),dr=null;tt&&(dr=pe(tt.subarray(4*W,4*W+4))),Le({groupCount:Br,chainIndex:W,modelIndex:At,chainId:nn,chainName:dr})}for(ot=0;Br>ot;++ot){var Zt=le.groupList[le.groupTypeList[Ve]],ir=Zt.atomNameList.length;if(lt){var Ur=null;Lt&&(Ur=Lt[Ve]);var Wr=null;le.insCodeList&&(Wr=String.fromCharCode(Mt[Ve]));var wi=null;st&&(wi=st[Ve]),lt({atomCount:ir,groupIndex:Ve,chainIndex:W,modelIndex:At,groupId:le.groupIdList[Ve],groupType:le.groupTypeList[Ve],groupName:Zt.groupName,singleLetterCode:Zt.singleLetterCode,chemCompType:Zt.chemCompType,secStruct:Ur,insCode:Wr,sequenceIndex:wi})}for(se=0;ir>se;++se){if(oe){var Ss=null;qt&&(Ss=qt[Ye]);var xa=null;Zr&&(xa=Zr[Ye]);var Ar=null;Vt&&(Ar=String.fromCharCode(Vt[Ye]));var ta=null;Jt&&(ta=Jt[Ye]),oe({atomIndex:Ye,groupIndex:Ve,chainIndex:W,modelIndex:At,atomId:Ss,element:Zt.elementList[se],atomName:Zt.atomNameList[se],formalCharge:Zt.formalChargeList[se],xCoord:le.xCoordList[Ye],yCoord:le.yCoordList[Ye],zCoord:le.zCoordList[Ye],bFactor:xa,altLoc:Ar,occupancy:ta})}Ye+=1}if(ft){var Cs=Zt.bondAtomList;for(se=0,Ge=Zt.bondOrderList.length;Ge>se;++se)ft({atomIndex1:Ye-ir+Cs[2*se],atomIndex2:Ye-ir+Cs[2*se+1],bondOrder:Zt.bondOrderList[se]})}Ve+=1}W+=1}if(ce=ze+1,ze=Ye-1,ft&&Nt)for(se=0,Ge=Nt.length;Ge>se;se+=2){var Xa=Nt[se],$a=Nt[se+1];(Xa>=ce&&ze>=Xa||$a>=ce&&ze>=$a)&&ft({atomIndex1:Xa,atomIndex2:$a,bondOrder:kr?kr[se/2]:null})}At+=1}}function ie(le){return u(be(le))}function de(le,ue){le instanceof ArrayBuffer&&(le=new Uint8Array(le));var ge;return ge=le instanceof Uint8Array?Qe(le):le,U(ge,ue)}function ye(le,ue,ge,$e){function ke(){try{var ot=de(at.response);ge(ot)}catch(se){$e(se)}}var at=new XMLHttpRequest;at.addEventListener("load",ke,!0),at.addEventListener("error",$e,!0),at.responseType="arraybuffer",at.open("GET",ue+le.toUpperCase()),at.send()}function Re(le,ue,ge){ye(le,ht,ue,ge)}function Be(le,ue,ge){ye(le,yt,ue,ge)}var Ce=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],Ie=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],je=Ce.concat(Ie),Ke="v1.0.1",Ne="//mmtf.rcsb.org/v1.0/",ht=Ne+"full/",yt=Ne+"reduced/";r.encode=ie,r.decode=de,r.traverse=_e,r.fetch=Re,r.fetchReduced=Be,r.version=Ke,r.fetchUrl=ht,r.fetchReducedUrl=yt,r.encodeMsgpack=u,r.encodeMmtf=be,r.decodeMsgpack=Qe,r.decodeMmtf=U})},"./node_modules/pako/dist/pako.esm.mjs":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Deflate:()=>Bh,Inflate:()=>jh,constants:()=>pl,default:()=>Gh,deflate:()=>Uh,deflateRaw:()=>Rh,gzip:()=>Et,inflate:()=>Wh,inflateRaw:()=>_d,ungzip:()=>yr});let n=4,a=0,s=1,o=2;function u(L){let ne=L.length;for(;--ne>=0;)L[ne]=0}let l=0,g=1,h=2,v=3,x=258,S=29,w=256,c=w+1+S,_=30,y=19,b=2*c+1,C=15,E=16,p=7,f=256,D=16,M=17,N=18,O=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),z=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),k=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H=512,Y=new Array((c+2)*2);u(Y);let q=new Array(_*2);u(q);let G=new Array(H);u(G);let $=new Array(x-v+1);u($);let j=new Array(S);u(j);let V=new Array(_);u(V);function X(L,ne,B,me,Me){this.static_tree=L,this.extra_bits=ne,this.extra_base=B,this.elems=me,this.max_length=Me,this.has_stree=L&&L.length}let Q,te,we;function Pe(L,ne){this.dyn_tree=L,this.max_code=0,this.stat_desc=ne}let xe=L=>L<256?G[L]:G[256+(L>>>7)],Fe=(L,ne)=>{L.pending_buf[L.pending++]=ne&255,L.pending_buf[L.pending++]=ne>>>8&255},Ae=(L,ne,B)=>{L.bi_valid>E-B?(L.bi_buf|=ne<<L.bi_valid&65535,Fe(L,L.bi_buf),L.bi_buf=ne>>E-L.bi_valid,L.bi_valid+=B-E):(L.bi_buf|=ne<<L.bi_valid&65535,L.bi_valid+=B)},be=(L,ne,B)=>{Ae(L,B[ne*2],B[ne*2+1])},Qe=(L,ne)=>{let B=0;do B|=L&1,L>>>=1,B<<=1;while(--ne>0);return B>>>1},Xe=L=>{L.bi_valid===16?(Fe(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=L.bi_buf&255,L.bi_buf>>=8,L.bi_valid-=8)},U=(L,ne)=>{let B=ne.dyn_tree,me=ne.max_code,Me=ne.stat_desc.static_tree,De=ne.stat_desc.has_stree,it=ne.stat_desc.extra_bits,qe=ne.stat_desc.extra_base,Ft=ne.stat_desc.max_length,He,ut,xr,zt,Ct,Yt,$r=0;for(zt=0;zt<=C;zt++)L.bl_count[zt]=0;for(B[L.heap[L.heap_max]*2+1]=0,He=L.heap_max+1;He<b;He++)ut=L.heap[He],zt=B[B[ut*2+1]*2+1]+1,zt>Ft&&(zt=Ft,$r++),B[ut*2+1]=zt,!(ut>me)&&(L.bl_count[zt]++,Ct=0,ut>=qe&&(Ct=it[ut-qe]),Yt=B[ut*2],L.opt_len+=Yt*(zt+Ct),De&&(L.static_len+=Yt*(Me[ut*2+1]+Ct)));if($r!==0){do{for(zt=Ft-1;L.bl_count[zt]===0;)zt--;L.bl_count[zt]--,L.bl_count[zt+1]+=2,L.bl_count[Ft]--,$r-=2}while($r>0);for(zt=Ft;zt!==0;zt--)for(ut=L.bl_count[zt];ut!==0;)xr=L.heap[--He],!(xr>me)&&(B[xr*2+1]!==zt&&(L.opt_len+=(zt-B[xr*2+1])*B[xr*2],B[xr*2+1]=zt),ut--)}},pe=(L,ne,B)=>{let me=new Array(C+1),Me=0,De,it;for(De=1;De<=C;De++)Me=Me+B[De-1]<<1,me[De]=Me;for(it=0;it<=ne;it++){let qe=L[it*2+1];qe!==0&&(L[it*2]=Qe(me[qe]++,qe))}},_e=()=>{let L,ne,B,me,Me,De=new Array(C+1);for(B=0,me=0;me<S-1;me++)for(j[me]=B,L=0;L<1<<O[me];L++)$[B++]=me;for($[B-1]=me,Me=0,me=0;me<16;me++)for(V[me]=Me,L=0;L<1<<z[me];L++)G[Me++]=me;for(Me>>=7;me<_;me++)for(V[me]=Me<<7,L=0;L<1<<z[me]-7;L++)G[256+Me++]=me;for(ne=0;ne<=C;ne++)De[ne]=0;for(L=0;L<=143;)Y[L*2+1]=8,L++,De[8]++;for(;L<=255;)Y[L*2+1]=9,L++,De[9]++;for(;L<=279;)Y[L*2+1]=7,L++,De[7]++;for(;L<=287;)Y[L*2+1]=8,L++,De[8]++;for(pe(Y,c+1,De),L=0;L<_;L++)q[L*2+1]=5,q[L*2]=Qe(L,5);Q=new X(Y,O,w+1,c,C),te=new X(q,z,0,_,C),we=new X(new Array(0),k,0,y,p)},ie=L=>{let ne;for(ne=0;ne<c;ne++)L.dyn_ltree[ne*2]=0;for(ne=0;ne<_;ne++)L.dyn_dtree[ne*2]=0;for(ne=0;ne<y;ne++)L.bl_tree[ne*2]=0;L.dyn_ltree[f*2]=1,L.opt_len=L.static_len=0,L.sym_next=L.matches=0},de=L=>{L.bi_valid>8?Fe(L,L.bi_buf):L.bi_valid>0&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0},ye=(L,ne,B,me)=>{let Me=ne*2,De=B*2;return L[Me]<L[De]||L[Me]===L[De]&&me[ne]<=me[B]},Re=(L,ne,B)=>{let me=L.heap[B],Me=B<<1;for(;Me<=L.heap_len&&(Me<L.heap_len&&ye(ne,L.heap[Me+1],L.heap[Me],L.depth)&&Me++,!ye(ne,me,L.heap[Me],L.depth));)L.heap[B]=L.heap[Me],B=Me,Me<<=1;L.heap[B]=me},Be=(L,ne,B)=>{let me,Me,De=0,it,qe;if(L.sym_next!==0)do me=L.pending_buf[L.sym_buf+De++]&255,me+=(L.pending_buf[L.sym_buf+De++]&255)<<8,Me=L.pending_buf[L.sym_buf+De++],me===0?be(L,Me,ne):(it=$[Me],be(L,it+w+1,ne),qe=O[it],qe!==0&&(Me-=j[it],Ae(L,Me,qe)),me--,it=xe(me),be(L,it,B),qe=z[it],qe!==0&&(me-=V[it],Ae(L,me,qe)));while(De<L.sym_next);be(L,f,ne)},Ce=(L,ne)=>{let B=ne.dyn_tree,me=ne.stat_desc.static_tree,Me=ne.stat_desc.has_stree,De=ne.stat_desc.elems,it,qe,Ft=-1,He;for(L.heap_len=0,L.heap_max=b,it=0;it<De;it++)B[it*2]!==0?(L.heap[++L.heap_len]=Ft=it,L.depth[it]=0):B[it*2+1]=0;for(;L.heap_len<2;)He=L.heap[++L.heap_len]=Ft<2?++Ft:0,B[He*2]=1,L.depth[He]=0,L.opt_len--,Me&&(L.static_len-=me[He*2+1]);for(ne.max_code=Ft,it=L.heap_len>>1;it>=1;it--)Re(L,B,it);He=De;do it=L.heap[1],L.heap[1]=L.heap[L.heap_len--],Re(L,B,1),qe=L.heap[1],L.heap[--L.heap_max]=it,L.heap[--L.heap_max]=qe,B[He*2]=B[it*2]+B[qe*2],L.depth[He]=(L.depth[it]>=L.depth[qe]?L.depth[it]:L.depth[qe])+1,B[it*2+1]=B[qe*2+1]=He,L.heap[1]=He++,Re(L,B,1);while(L.heap_len>=2);L.heap[--L.heap_max]=L.heap[1],U(L,ne),pe(B,Ft,L.bl_count)},Ie=(L,ne,B)=>{let me,Me=-1,De,it=ne[0*2+1],qe=0,Ft=7,He=4;for(it===0&&(Ft=138,He=3),ne[(B+1)*2+1]=65535,me=0;me<=B;me++)De=it,it=ne[(me+1)*2+1],!(++qe<Ft&&De===it)&&(qe<He?L.bl_tree[De*2]+=qe:De!==0?(De!==Me&&L.bl_tree[De*2]++,L.bl_tree[D*2]++):qe<=10?L.bl_tree[M*2]++:L.bl_tree[N*2]++,qe=0,Me=De,it===0?(Ft=138,He=3):De===it?(Ft=6,He=3):(Ft=7,He=4))},je=(L,ne,B)=>{let me,Me=-1,De,it=ne[0*2+1],qe=0,Ft=7,He=4;for(it===0&&(Ft=138,He=3),me=0;me<=B;me++)if(De=it,it=ne[(me+1)*2+1],!(++qe<Ft&&De===it)){if(qe<He)do be(L,De,L.bl_tree);while(--qe!==0);else De!==0?(De!==Me&&(be(L,De,L.bl_tree),qe--),be(L,D,L.bl_tree),Ae(L,qe-3,2)):qe<=10?(be(L,M,L.bl_tree),Ae(L,qe-3,3)):(be(L,N,L.bl_tree),Ae(L,qe-11,7));qe=0,Me=De,it===0?(Ft=138,He=3):De===it?(Ft=6,He=3):(Ft=7,He=4)}},Ke=L=>{let ne;for(Ie(L,L.dyn_ltree,L.l_desc.max_code),Ie(L,L.dyn_dtree,L.d_desc.max_code),Ce(L,L.bl_desc),ne=y-1;ne>=3&&L.bl_tree[I[ne]*2+1]===0;ne--);return L.opt_len+=3*(ne+1)+5+5+4,ne},Ne=(L,ne,B,me)=>{let Me;for(Ae(L,ne-257,5),Ae(L,B-1,5),Ae(L,me-4,4),Me=0;Me<me;Me++)Ae(L,L.bl_tree[I[Me]*2+1],3);je(L,L.dyn_ltree,ne-1),je(L,L.dyn_dtree,B-1)},ht=L=>{let ne=4093624447,B;for(B=0;B<=31;B++,ne>>>=1)if(ne&1&&L.dyn_ltree[B*2]!==0)return a;if(L.dyn_ltree[9*2]!==0||L.dyn_ltree[10*2]!==0||L.dyn_ltree[13*2]!==0)return s;for(B=32;B<w;B++)if(L.dyn_ltree[B*2]!==0)return s;return a},yt=!1,le=L=>{yt||(_e(),yt=!0),L.l_desc=new Pe(L.dyn_ltree,Q),L.d_desc=new Pe(L.dyn_dtree,te),L.bl_desc=new Pe(L.bl_tree,we),L.bi_buf=0,L.bi_valid=0,ie(L)},ue=(L,ne,B,me)=>{Ae(L,(l<<1)+(me?1:0),3),de(L),Fe(L,B),Fe(L,~B),B&&L.pending_buf.set(L.window.subarray(ne,ne+B),L.pending),L.pending+=B},ge=L=>{Ae(L,g<<1,3),be(L,f,Y),Xe(L)},$e=(L,ne,B,me)=>{let Me,De,it=0;L.level>0?(L.strm.data_type===o&&(L.strm.data_type=ht(L)),Ce(L,L.l_desc),Ce(L,L.d_desc),it=Ke(L),Me=L.opt_len+3+7>>>3,De=L.static_len+3+7>>>3,De<=Me&&(Me=De)):Me=De=B+5,B+4<=Me&&ne!==-1?ue(L,ne,B,me):L.strategy===n||De===Me?(Ae(L,(g<<1)+(me?1:0),3),Be(L,Y,q)):(Ae(L,(h<<1)+(me?1:0),3),Ne(L,L.l_desc.max_code+1,L.d_desc.max_code+1,it+1),Be(L,L.dyn_ltree,L.dyn_dtree)),ie(L),me&&de(L)},ke=(L,ne,B)=>(L.pending_buf[L.sym_buf+L.sym_next++]=ne,L.pending_buf[L.sym_buf+L.sym_next++]=ne>>8,L.pending_buf[L.sym_buf+L.sym_next++]=B,ne===0?L.dyn_ltree[B*2]++:(L.matches++,ne--,L.dyn_ltree[($[B]+w+1)*2]++,L.dyn_dtree[xe(ne)*2]++),L.sym_next===L.sym_end);var at=le,ot=ue,se=$e,Ge=ke,Je=ge,pt={_tr_init:at,_tr_stored_block:ot,_tr_flush_block:se,_tr_tally:Ge,_tr_align:Je},lt=(L,ne,B,me)=>{let Me=L&65535|0,De=L>>>16&65535|0,it=0;for(;B!==0;){it=B>2e3?2e3:B,B-=it;do Me=Me+ne[me++]|0,De=De+Me|0;while(--it);Me%=65521,De%=65521}return Me|De<<16|0};let oe=()=>{let L,ne=[];for(var B=0;B<256;B++){L=B;for(var me=0;me<8;me++)L=L&1?3988292384^L>>>1:L>>>1;ne[B]=L}return ne},ft=new Uint32Array(oe());var W=(L,ne,B,me)=>{let Me=ft,De=me+B;L^=-1;for(let it=me;it<De;it++)L=L>>>8^Me[(L^ne[it])&255];return L^-1},Ve={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ye={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:ce,_tr_stored_block:ze,_tr_flush_block:tt,_tr_tally:Lt,_tr_align:Mt}=pt,{Z_NO_FLUSH:st,Z_PARTIAL_FLUSH:qt,Z_FULL_FLUSH:Zr,Z_FINISH:Vt,Z_BLOCK:Jt,Z_OK:Nt,Z_STREAM_END:kr,Z_STREAM_ERROR:Mr,Z_DATA_ERROR:Br,Z_BUF_ERROR:nn,Z_DEFAULT_COMPRESSION:dr,Z_FILTERED:Zt,Z_HUFFMAN_ONLY:ir,Z_RLE:Ur,Z_FIXED:Wr,Z_DEFAULT_STRATEGY:wi,Z_UNKNOWN:Ss,Z_DEFLATED:xa}=Ye,Ar=9,ta=15,Cs=8,el=256+1+29,tl=30,qf=19,Jf=2*el+1,mu=15,sr=3,li=258,$n=li+sr+1,kn=32,ui=42,Qa=57,so=69,wa=73,qa=91,oo=103,Si=113,Ci=666,fn=1,Sa=2,Xr=3,En=4,Es=3,Ca=(L,ne)=>(L.msg=Ve[ne],ne),gu=L=>L*2-(L>4?9:0),Nn=L=>{let ne=L.length;for(;--ne>=0;)L[ne]=0},Ea=L=>{let ne,B,me,Me=L.w_size;ne=L.hash_size,me=ne;do B=L.head[--me],L.head[me]=B>=Me?B-Me:0;while(--ne);ne=Me,me=ne;do B=L.prev[--me],L.prev[me]=B>=Me?B-Me:0;while(--ne)},ra=(L,ne,B)=>(ne<<L.hash_shift^B)&L.hash_mask,mn=L=>{let ne=L.state,B=ne.pending;B>L.avail_out&&(B=L.avail_out),B!==0&&(L.output.set(ne.pending_buf.subarray(ne.pending_out,ne.pending_out+B),L.next_out),L.next_out+=B,ne.pending_out+=B,L.total_out+=B,L.avail_out-=B,ne.pending-=B,ne.pending===0&&(ne.pending_out=0))},yn=(L,ne)=>{tt(L,L.block_start>=0?L.block_start:-1,L.strstart-L.block_start,ne),L.block_start=L.strstart,mn(L.strm)},hr=(L,ne)=>{L.pending_buf[L.pending++]=ne},Da=(L,ne)=>{L.pending_buf[L.pending++]=ne>>>8&255,L.pending_buf[L.pending++]=ne&255},lo=(L,ne,B,me)=>{let Me=L.avail_in;return Me>me&&(Me=me),Me===0?0:(L.avail_in-=Me,ne.set(L.input.subarray(L.next_in,L.next_in+Me),B),L.state.wrap===1?L.adler=lt(L.adler,ne,Me,B):L.state.wrap===2&&(L.adler=W(L.adler,ne,Me,B)),L.next_in+=Me,L.total_in+=Me,Me)},_u=(L,ne)=>{let B=L.max_chain_length,me=L.strstart,Me,De,it=L.prev_length,qe=L.nice_match,Ft=L.strstart>L.w_size-$n?L.strstart-(L.w_size-$n):0,He=L.window,ut=L.w_mask,xr=L.prev,zt=L.strstart+li,Ct=He[me+it-1],Yt=He[me+it];L.prev_length>=L.good_match&&(B>>=2),qe>L.lookahead&&(qe=L.lookahead);do if(Me=ne,!(He[Me+it]!==Yt||He[Me+it-1]!==Ct||He[Me]!==He[me]||He[++Me]!==He[me+1])){me+=2,Me++;do;while(He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&He[++me]===He[++Me]&&me<zt);if(De=li-(zt-me),me=zt-li,De>it){if(L.match_start=ne,it=De,De>=qe)break;Ct=He[me+it-1],Yt=He[me+it]}}while((ne=xr[ne&ut])>Ft&&--B!==0);return it<=L.lookahead?it:L.lookahead},Ma=L=>{let ne=L.w_size,B,me,Me;do{if(me=L.window_size-L.lookahead-L.strstart,L.strstart>=ne+(ne-$n)&&(L.window.set(L.window.subarray(ne,ne+ne-me),0),L.match_start-=ne,L.strstart-=ne,L.block_start-=ne,L.insert>L.strstart&&(L.insert=L.strstart),Ea(L),me+=ne),L.strm.avail_in===0)break;if(B=lo(L.strm,L.window,L.strstart+L.lookahead,me),L.lookahead+=B,L.lookahead+L.insert>=sr)for(Me=L.strstart-L.insert,L.ins_h=L.window[Me],L.ins_h=ra(L,L.ins_h,L.window[Me+1]);L.insert&&(L.ins_h=ra(L,L.ins_h,L.window[Me+sr-1]),L.prev[Me&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=Me,Me++,L.insert--,!(L.lookahead+L.insert<sr)););}while(L.lookahead<$n&&L.strm.avail_in!==0)},bu=(L,ne)=>{let B=L.pending_buf_size-5>L.w_size?L.w_size:L.pending_buf_size-5,me,Me,De,it=0,qe=L.strm.avail_in;do{if(me=65535,De=L.bi_valid+42>>3,L.strm.avail_out<De||(De=L.strm.avail_out-De,Me=L.strstart-L.block_start,me>Me+L.strm.avail_in&&(me=Me+L.strm.avail_in),me>De&&(me=De),me<B&&(me===0&&ne!==Vt||ne===st||me!==Me+L.strm.avail_in)))break;it=ne===Vt&&me===Me+L.strm.avail_in?1:0,ze(L,0,0,it),L.pending_buf[L.pending-4]=me,L.pending_buf[L.pending-3]=me>>8,L.pending_buf[L.pending-2]=~me,L.pending_buf[L.pending-1]=~me>>8,mn(L.strm),Me&&(Me>me&&(Me=me),L.strm.output.set(L.window.subarray(L.block_start,L.block_start+Me),L.strm.next_out),L.strm.next_out+=Me,L.strm.avail_out-=Me,L.strm.total_out+=Me,L.block_start+=Me,me-=Me),me&&(lo(L.strm,L.strm.output,L.strm.next_out,me),L.strm.next_out+=me,L.strm.avail_out-=me,L.strm.total_out+=me)}while(it===0);return qe-=L.strm.avail_in,qe&&(qe>=L.w_size?(L.matches=2,L.window.set(L.strm.input.subarray(L.strm.next_in-L.w_size,L.strm.next_in),0),L.strstart=L.w_size,L.insert=L.strstart):(L.window_size-L.strstart<=qe&&(L.strstart-=L.w_size,L.window.set(L.window.subarray(L.w_size,L.w_size+L.strstart),0),L.matches<2&&L.matches++,L.insert>L.strstart&&(L.insert=L.strstart)),L.window.set(L.strm.input.subarray(L.strm.next_in-qe,L.strm.next_in),L.strstart),L.strstart+=qe,L.insert+=qe>L.w_size-L.insert?L.w_size-L.insert:qe),L.block_start=L.strstart),L.high_water<L.strstart&&(L.high_water=L.strstart),it?En:ne!==st&&ne!==Vt&&L.strm.avail_in===0&&L.strstart===L.block_start?Sa:(De=L.window_size-L.strstart,L.strm.avail_in>De&&L.block_start>=L.w_size&&(L.block_start-=L.w_size,L.strstart-=L.w_size,L.window.set(L.window.subarray(L.w_size,L.w_size+L.strstart),0),L.matches<2&&L.matches++,De+=L.w_size,L.insert>L.strstart&&(L.insert=L.strstart)),De>L.strm.avail_in&&(De=L.strm.avail_in),De&&(lo(L.strm,L.window,L.strstart,De),L.strstart+=De,L.insert+=De>L.w_size-L.insert?L.w_size-L.insert:De),L.high_water<L.strstart&&(L.high_water=L.strstart),De=L.bi_valid+42>>3,De=L.pending_buf_size-De>65535?65535:L.pending_buf_size-De,B=De>L.w_size?L.w_size:De,Me=L.strstart-L.block_start,(Me>=B||(Me||ne===Vt)&&ne!==st&&L.strm.avail_in===0&&Me<=De)&&(me=Me>De?De:Me,it=ne===Vt&&L.strm.avail_in===0&&me===Me?1:0,ze(L,L.block_start,me,it),L.block_start+=me,mn(L.strm)),it?Xr:fn)},rl=(L,ne)=>{let B,me;for(;;){if(L.lookahead<$n){if(Ma(L),L.lookahead<$n&&ne===st)return fn;if(L.lookahead===0)break}if(B=0,L.lookahead>=sr&&(L.ins_h=ra(L,L.ins_h,L.window[L.strstart+sr-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),B!==0&&L.strstart-B<=L.w_size-$n&&(L.match_length=_u(L,B)),L.match_length>=sr)if(me=Lt(L,L.strstart-L.match_start,L.match_length-sr),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=sr){L.match_length--;do L.strstart++,L.ins_h=ra(L,L.ins_h,L.window[L.strstart+sr-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart;while(--L.match_length!==0);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=ra(L,L.ins_h,L.window[L.strstart+1]);else me=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(me&&(yn(L,!1),L.strm.avail_out===0))return fn}return L.insert=L.strstart<sr-1?L.strstart:sr-1,ne===Vt?(yn(L,!0),L.strm.avail_out===0?Xr:En):L.sym_next&&(yn(L,!1),L.strm.avail_out===0)?fn:Sa},na=(L,ne)=>{let B,me,Me;for(;;){if(L.lookahead<$n){if(Ma(L),L.lookahead<$n&&ne===st)return fn;if(L.lookahead===0)break}if(B=0,L.lookahead>=sr&&(L.ins_h=ra(L,L.ins_h,L.window[L.strstart+sr-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=sr-1,B!==0&&L.prev_length<L.max_lazy_match&&L.strstart-B<=L.w_size-$n&&(L.match_length=_u(L,B),L.match_length<=5&&(L.strategy===Zt||L.match_length===sr&&L.strstart-L.match_start>4096)&&(L.match_length=sr-1)),L.prev_length>=sr&&L.match_length<=L.prev_length){Me=L.strstart+L.lookahead-sr,me=Lt(L,L.strstart-1-L.prev_match,L.prev_length-sr),L.lookahead-=L.prev_length-1,L.prev_length-=2;do++L.strstart<=Me&&(L.ins_h=ra(L,L.ins_h,L.window[L.strstart+sr-1]),B=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart);while(--L.prev_length!==0);if(L.match_available=0,L.match_length=sr-1,L.strstart++,me&&(yn(L,!1),L.strm.avail_out===0))return fn}else if(L.match_available){if(me=Lt(L,0,L.window[L.strstart-1]),me&&yn(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return fn}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(me=Lt(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<sr-1?L.strstart:sr-1,ne===Vt?(yn(L,!0),L.strm.avail_out===0?Xr:En):L.sym_next&&(yn(L,!1),L.strm.avail_out===0)?fn:Sa},ed=(L,ne)=>{let B,me,Me,De,it=L.window;for(;;){if(L.lookahead<=li){if(Ma(L),L.lookahead<=li&&ne===st)return fn;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=sr&&L.strstart>0&&(Me=L.strstart-1,me=it[Me],me===it[++Me]&&me===it[++Me]&&me===it[++Me])){De=L.strstart+li;do;while(me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&me===it[++Me]&&Me<De);L.match_length=li-(De-Me),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=sr?(B=Lt(L,1,L.match_length-sr),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(B=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),B&&(yn(L,!1),L.strm.avail_out===0))return fn}return L.insert=0,ne===Vt?(yn(L,!0),L.strm.avail_out===0?Xr:En):L.sym_next&&(yn(L,!1),L.strm.avail_out===0)?fn:Sa},td=(L,ne)=>{let B;for(;;){if(L.lookahead===0&&(Ma(L),L.lookahead===0)){if(ne===st)return fn;break}if(L.match_length=0,B=Lt(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,B&&(yn(L,!1),L.strm.avail_out===0))return fn}return L.insert=0,ne===Vt?(yn(L,!0),L.strm.avail_out===0?Xr:En):L.sym_next&&(yn(L,!1),L.strm.avail_out===0)?fn:Sa};function Ei(L,ne,B,me,Me){this.good_length=L,this.max_lazy=ne,this.nice_length=B,this.max_chain=me,this.func=Me}let Ds=[new Ei(0,0,0,0,bu),new Ei(4,4,8,4,rl),new Ei(4,5,16,8,rl),new Ei(4,6,32,32,rl),new Ei(4,4,16,16,na),new Ei(8,16,32,32,na),new Ei(8,16,128,128,na),new Ei(8,32,128,256,na),new Ei(32,128,258,1024,na),new Ei(32,258,258,4096,na)],rd=L=>{L.window_size=2*L.w_size,Nn(L.head),L.max_lazy_match=Ds[L.level].max_lazy,L.good_match=Ds[L.level].good_length,L.nice_match=Ds[L.level].nice_length,L.max_chain_length=Ds[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=sr-1,L.match_available=0,L.ins_h=0};function nd(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xa,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Jf*2),this.dyn_dtree=new Uint16Array((2*tl+1)*2),this.bl_tree=new Uint16Array((2*qf+1)*2),Nn(this.dyn_ltree),Nn(this.dyn_dtree),Nn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(mu+1),this.heap=new Uint16Array(2*el+1),Nn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*el+1),Nn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let Ms=L=>{if(!L)return 1;let ne=L.state;return!ne||ne.strm!==L||ne.status!==ui&&ne.status!==Qa&&ne.status!==so&&ne.status!==wa&&ne.status!==qa&&ne.status!==oo&&ne.status!==Si&&ne.status!==Ci?1:0},nl=L=>{if(Ms(L))return Ca(L,Mr);L.total_in=L.total_out=0,L.data_type=Ss;let ne=L.state;return ne.pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap===2?Qa:ne.wrap?ui:Si,L.adler=ne.wrap===2?0:1,ne.last_flush=-2,ce(ne),Nt},uo=L=>{let ne=nl(L);return ne===Nt&&rd(L.state),ne},fo=(L,ne)=>Ms(L)||L.state.wrap!==2?Mr:(L.state.gzhead=ne,Nt),Ja=(L,ne,B,me,Me,De)=>{if(!L)return Mr;let it=1;if(ne===dr&&(ne=6),me<0?(it=0,me=-me):me>15&&(it=2,me-=16),Me<1||Me>Ar||B!==xa||me<8||me>15||ne<0||ne>9||De<0||De>Wr||me===8&&it!==1)return Ca(L,Mr);me===8&&(me=9);let qe=new nd;return L.state=qe,qe.strm=L,qe.status=ui,qe.wrap=it,qe.gzhead=null,qe.w_bits=me,qe.w_size=1<<qe.w_bits,qe.w_mask=qe.w_size-1,qe.hash_bits=Me+7,qe.hash_size=1<<qe.hash_bits,qe.hash_mask=qe.hash_size-1,qe.hash_shift=~~((qe.hash_bits+sr-1)/sr),qe.window=new Uint8Array(qe.w_size*2),qe.head=new Uint16Array(qe.hash_size),qe.prev=new Uint16Array(qe.w_size),qe.lit_bufsize=1<<Me+6,qe.pending_buf_size=qe.lit_bufsize*4,qe.pending_buf=new Uint8Array(qe.pending_buf_size),qe.sym_buf=qe.lit_bufsize,qe.sym_end=(qe.lit_bufsize-1)*3,qe.level=ne,qe.strategy=De,qe.method=B,uo(L)},yu=(L,ne)=>Ja(L,ne,xa,ta,Cs,wi),il=(L,ne)=>{if(Ms(L)||ne>Jt||ne<0)return L?Ca(L,Mr):Mr;let B=L.state;if(!L.output||L.avail_in!==0&&!L.input||B.status===Ci&&ne!==Vt)return Ca(L,L.avail_out===0?nn:Mr);let me=B.last_flush;if(B.last_flush=ne,B.pending!==0){if(mn(L),L.avail_out===0)return B.last_flush=-1,Nt}else if(L.avail_in===0&&gu(ne)<=gu(me)&&ne!==Vt)return Ca(L,nn);if(B.status===Ci&&L.avail_in!==0)return Ca(L,nn);if(B.status===ui&&B.wrap===0&&(B.status=Si),B.status===ui){let Me=xa+(B.w_bits-8<<4)<<8,De=-1;if(B.strategy>=ir||B.level<2?De=0:B.level<6?De=1:B.level===6?De=2:De=3,Me|=De<<6,B.strstart!==0&&(Me|=kn),Me+=31-Me%31,Da(B,Me),B.strstart!==0&&(Da(B,L.adler>>>16),Da(B,L.adler&65535)),L.adler=1,B.status=Si,mn(L),B.pending!==0)return B.last_flush=-1,Nt}if(B.status===Qa){if(L.adler=0,hr(B,31),hr(B,139),hr(B,8),B.gzhead)hr(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),hr(B,B.gzhead.time&255),hr(B,B.gzhead.time>>8&255),hr(B,B.gzhead.time>>16&255),hr(B,B.gzhead.time>>24&255),hr(B,B.level===9?2:B.strategy>=ir||B.level<2?4:0),hr(B,B.gzhead.os&255),B.gzhead.extra&&B.gzhead.extra.length&&(hr(B,B.gzhead.extra.length&255),hr(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(L.adler=W(L.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=so;else if(hr(B,0),hr(B,0),hr(B,0),hr(B,0),hr(B,0),hr(B,B.level===9?2:B.strategy>=ir||B.level<2?4:0),hr(B,Es),B.status=Si,mn(L),B.pending!==0)return B.last_flush=-1,Nt}if(B.status===so){if(B.gzhead.extra){let Me=B.pending,De=(B.gzhead.extra.length&65535)-B.gzindex;for(;B.pending+De>B.pending_buf_size;){let qe=B.pending_buf_size-B.pending;if(B.pending_buf.set(B.gzhead.extra.subarray(B.gzindex,B.gzindex+qe),B.pending),B.pending=B.pending_buf_size,B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),B.gzindex+=qe,mn(L),B.pending!==0)return B.last_flush=-1,Nt;Me=0,De-=qe}let it=new Uint8Array(B.gzhead.extra);B.pending_buf.set(it.subarray(B.gzindex,B.gzindex+De),B.pending),B.pending+=De,B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),B.gzindex=0}B.status=wa}if(B.status===wa){if(B.gzhead.name){let Me=B.pending,De;do{if(B.pending===B.pending_buf_size){if(B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),mn(L),B.pending!==0)return B.last_flush=-1,Nt;Me=0}B.gzindex<B.gzhead.name.length?De=B.gzhead.name.charCodeAt(B.gzindex++)&255:De=0,hr(B,De)}while(De!==0);B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),B.gzindex=0}B.status=qa}if(B.status===qa){if(B.gzhead.comment){let Me=B.pending,De;do{if(B.pending===B.pending_buf_size){if(B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me)),mn(L),B.pending!==0)return B.last_flush=-1,Nt;Me=0}B.gzindex<B.gzhead.comment.length?De=B.gzhead.comment.charCodeAt(B.gzindex++)&255:De=0,hr(B,De)}while(De!==0);B.gzhead.hcrc&&B.pending>Me&&(L.adler=W(L.adler,B.pending_buf,B.pending-Me,Me))}B.status=oo}if(B.status===oo){if(B.gzhead.hcrc){if(B.pending+2>B.pending_buf_size&&(mn(L),B.pending!==0))return B.last_flush=-1,Nt;hr(B,L.adler&255),hr(B,L.adler>>8&255),L.adler=0}if(B.status=Si,mn(L),B.pending!==0)return B.last_flush=-1,Nt}if(L.avail_in!==0||B.lookahead!==0||ne!==st&&B.status!==Ci){let Me=B.level===0?bu(B,ne):B.strategy===ir?td(B,ne):B.strategy===Ur?ed(B,ne):Ds[B.level].func(B,ne);if((Me===Xr||Me===En)&&(B.status=Ci),Me===fn||Me===Xr)return L.avail_out===0&&(B.last_flush=-1),Nt;if(Me===Sa&&(ne===qt?Mt(B):ne!==Jt&&(ze(B,0,0,!1),ne===Zr&&(Nn(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),mn(L),L.avail_out===0))return B.last_flush=-1,Nt}return ne!==Vt?Nt:B.wrap<=0?kr:(B.wrap===2?(hr(B,L.adler&255),hr(B,L.adler>>8&255),hr(B,L.adler>>16&255),hr(B,L.adler>>24&255),hr(B,L.total_in&255),hr(B,L.total_in>>8&255),hr(B,L.total_in>>16&255),hr(B,L.total_in>>24&255)):(Da(B,L.adler>>>16),Da(B,L.adler&65535)),mn(L),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?Nt:kr)},co=L=>{if(Ms(L))return Mr;let ne=L.state.status;return L.state=null,ne===Si?Ca(L,Br):Nt},id=(L,ne)=>{let B=ne.length;if(Ms(L))return Mr;let me=L.state,Me=me.wrap;if(Me===2||Me===1&&me.status!==ui||me.lookahead)return Mr;if(Me===1&&(L.adler=lt(L.adler,ne,B,0)),me.wrap=0,B>=me.w_size){Me===0&&(Nn(me.head),me.strstart=0,me.block_start=0,me.insert=0);let Ft=new Uint8Array(me.w_size);Ft.set(ne.subarray(B-me.w_size,B),0),ne=Ft,B=me.w_size}let De=L.avail_in,it=L.next_in,qe=L.input;for(L.avail_in=B,L.next_in=0,L.input=ne,Ma(me);me.lookahead>=sr;){let Ft=me.strstart,He=me.lookahead-(sr-1);do me.ins_h=ra(me,me.ins_h,me.window[Ft+sr-1]),me.prev[Ft&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=Ft,Ft++;while(--He);me.strstart=Ft,me.lookahead=sr-1,Ma(me)}return me.strstart+=me.lookahead,me.block_start=me.strstart,me.insert=me.lookahead,me.lookahead=0,me.match_length=me.prev_length=sr-1,me.match_available=0,L.next_in=it,L.input=qe,L.avail_in=De,me.wrap=Me,Nt};var ad=yu,sd=Ja,As=uo,al=nl,Ir=fo,Ts=il,Ls=co,od=id,A="pako deflate (from Nodeca project)",P={deflateInit:ad,deflateInit2:sd,deflateReset:As,deflateResetKeep:al,deflateSetHeader:Ir,deflate:Ts,deflateEnd:Ls,deflateSetDictionary:od,deflateInfo:A};let R=(L,ne)=>Object.prototype.hasOwnProperty.call(L,ne);var K=function(L){let ne=Array.prototype.slice.call(arguments,1);for(;ne.length;){let B=ne.shift();if(B){if(typeof B!="object")throw new TypeError(B+"must be non-object");for(let me in B)R(B,me)&&(L[me]=B[me])}}return L},ee=L=>{let ne=0;for(let me=0,Me=L.length;me<Me;me++)ne+=L[me].length;let B=new Uint8Array(ne);for(let me=0,Me=0,De=L.length;me<De;me++){let it=L[me];B.set(it,Me),Me+=it.length}return B},re={assign:K,flattenChunks:ee};let fe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fe=!1}let Oe=new Uint8Array(256);for(let L=0;L<256;L++)Oe[L]=L>=252?6:L>=248?5:L>=240?4:L>=224?3:L>=192?2:1;Oe[254]=Oe[254]=1;var Te=L=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(L);let ne,B,me,Me,De,it=L.length,qe=0;for(Me=0;Me<it;Me++)B=L.charCodeAt(Me),(B&64512)===55296&&Me+1<it&&(me=L.charCodeAt(Me+1),(me&64512)===56320&&(B=65536+(B-55296<<10)+(me-56320),Me++)),qe+=B<128?1:B<2048?2:B<65536?3:4;for(ne=new Uint8Array(qe),De=0,Me=0;De<qe;Me++)B=L.charCodeAt(Me),(B&64512)===55296&&Me+1<it&&(me=L.charCodeAt(Me+1),(me&64512)===56320&&(B=65536+(B-55296<<10)+(me-56320),Me++)),B<128?ne[De++]=B:B<2048?(ne[De++]=192|B>>>6,ne[De++]=128|B&63):B<65536?(ne[De++]=224|B>>>12,ne[De++]=128|B>>>6&63,ne[De++]=128|B&63):(ne[De++]=240|B>>>18,ne[De++]=128|B>>>12&63,ne[De++]=128|B>>>6&63,ne[De++]=128|B&63);return ne};let Ze=(L,ne)=>{if(ne<65534&&L.subarray&&fe)return String.fromCharCode.apply(null,L.length===ne?L:L.subarray(0,ne));let B="";for(let me=0;me<ne;me++)B+=String.fromCharCode(L[me]);return B};var ct=(L,ne)=>{let B=ne||L.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(L.subarray(0,ne));let me,Me,De=new Array(B*2);for(Me=0,me=0;me<B;){let it=L[me++];if(it<128){De[Me++]=it;continue}let qe=Oe[it];if(qe>4){De[Me++]=65533,me+=qe-1;continue}for(it&=qe===2?31:qe===3?15:7;qe>1&&me<B;)it=it<<6|L[me++]&63,qe--;if(qe>1){De[Me++]=65533;continue}it<65536?De[Me++]=it:(it-=65536,De[Me++]=55296|it>>10&1023,De[Me++]=56320|it&1023)}return Ze(De,Me)},_t=(L,ne)=>{ne=ne||L.length,ne>L.length&&(ne=L.length);let B=ne-1;for(;B>=0&&(L[B]&192)===128;)B--;return B<0||B===0?ne:B+Oe[L[B]]>ne?B:ne},nt={string2buf:Te,buf2string:ct,utf8border:_t};function wt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kt=wt;let ur=Object.prototype.toString,{Z_NO_FLUSH:tr,Z_SYNC_FLUSH:gn,Z_FULL_FLUSH:tn,Z_FINISH:Di,Z_OK:Wn,Z_STREAM_END:or,Z_DEFAULT_COMPRESSION:Aa,Z_DEFAULT_STRATEGY:pr,Z_DEFLATED:Gr}=Ye;function Ri(L){this.options=re.assign({level:Aa,method:Gr,chunkSize:16384,windowBits:15,memLevel:8,strategy:pr},L||{});let ne=this.options;ne.raw&&ne.windowBits>0?ne.windowBits=-ne.windowBits:ne.gzip&&ne.windowBits>0&&ne.windowBits<16&&(ne.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let B=P.deflateInit2(this.strm,ne.level,ne.method,ne.windowBits,ne.memLevel,ne.strategy);if(B!==Wn)throw new Error(Ve[B]);if(ne.header&&P.deflateSetHeader(this.strm,ne.header),ne.dictionary){let me;if(typeof ne.dictionary=="string"?me=nt.string2buf(ne.dictionary):ur.call(ne.dictionary)==="[object ArrayBuffer]"?me=new Uint8Array(ne.dictionary):me=ne.dictionary,B=P.deflateSetDictionary(this.strm,me),B!==Wn)throw new Error(Ve[B]);this._dict_set=!0}}Ri.prototype.push=function(L,ne){let B=this.strm,me=this.options.chunkSize,Me,De;if(this.ended)return!1;for(ne===~~ne?De=ne:De=ne===!0?Di:tr,typeof L=="string"?B.input=nt.string2buf(L):ur.call(L)==="[object ArrayBuffer]"?B.input=new Uint8Array(L):B.input=L,B.next_in=0,B.avail_in=B.input.length;;){if(B.avail_out===0&&(B.output=new Uint8Array(me),B.next_out=0,B.avail_out=me),(De===gn||De===tn)&&B.avail_out<=6){this.onData(B.output.subarray(0,B.next_out)),B.avail_out=0;continue}if(Me=P.deflate(B,De),Me===or)return B.next_out>0&&this.onData(B.output.subarray(0,B.next_out)),Me=P.deflateEnd(this.strm),this.onEnd(Me),this.ended=!0,Me===Wn;if(B.avail_out===0){this.onData(B.output);continue}if(De>0&&B.next_out>0){this.onData(B.output.subarray(0,B.next_out)),B.avail_out=0;continue}if(B.avail_in===0)break}return!0},Ri.prototype.onData=function(L){this.chunks.push(L)},Ri.prototype.onEnd=function(L){L===Wn&&(this.result=re.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function Mi(L,ne){let B=new Ri(ne);if(B.push(L,!0),B.err)throw B.msg||Ve[B.err];return B.result}function Ai(L,ne){return ne=ne||{},ne.raw=!0,Mi(L,ne)}function Ta(L,ne){return ne=ne||{},ne.gzip=!0,Mi(L,ne)}var Ti=Ri,Li=Mi,ia=Ai,Qn=Ta,sl=Ye,ji={Deflate:Ti,deflate:Li,deflateRaw:ia,gzip:Qn,constants:sl};let Gn=16209,ld=16191;var xu=function(ne,B){let me,Me,De,it,qe,Ft,He,ut,xr,zt,Ct,Yt,$r,gr,Qt,Tr,cr,Pt,Er,wn,Xt,zr,vr,er,mr=ne.state;me=ne.next_in,vr=ne.input,Me=me+(ne.avail_in-5),De=ne.next_out,er=ne.output,it=De-(B-ne.avail_out),qe=De+(ne.avail_out-257),Ft=mr.dmax,He=mr.wsize,ut=mr.whave,xr=mr.wnext,zt=mr.window,Ct=mr.hold,Yt=mr.bits,$r=mr.lencode,gr=mr.distcode,Qt=(1<<mr.lenbits)-1,Tr=(1<<mr.distbits)-1;e:do{Yt<15&&(Ct+=vr[me++]<<Yt,Yt+=8,Ct+=vr[me++]<<Yt,Yt+=8),cr=$r[Ct&Qt];t:for(;;){if(Pt=cr>>>24,Ct>>>=Pt,Yt-=Pt,Pt=cr>>>16&255,Pt===0)er[De++]=cr&65535;else if(Pt&16){Er=cr&65535,Pt&=15,Pt&&(Yt<Pt&&(Ct+=vr[me++]<<Yt,Yt+=8),Er+=Ct&(1<<Pt)-1,Ct>>>=Pt,Yt-=Pt),Yt<15&&(Ct+=vr[me++]<<Yt,Yt+=8,Ct+=vr[me++]<<Yt,Yt+=8),cr=gr[Ct&Tr];r:for(;;){if(Pt=cr>>>24,Ct>>>=Pt,Yt-=Pt,Pt=cr>>>16&255,Pt&16){if(wn=cr&65535,Pt&=15,Yt<Pt&&(Ct+=vr[me++]<<Yt,Yt+=8,Yt<Pt&&(Ct+=vr[me++]<<Yt,Yt+=8)),wn+=Ct&(1<<Pt)-1,wn>Ft){ne.msg="invalid distance too far back",mr.mode=Gn;break e}if(Ct>>>=Pt,Yt-=Pt,Pt=De-it,wn>Pt){if(Pt=wn-Pt,Pt>ut&&mr.sane){ne.msg="invalid distance too far back",mr.mode=Gn;break e}if(Xt=0,zr=zt,xr===0){if(Xt+=He-Pt,Pt<Er){Er-=Pt;do er[De++]=zt[Xt++];while(--Pt);Xt=De-wn,zr=er}}else if(xr<Pt){if(Xt+=He+xr-Pt,Pt-=xr,Pt<Er){Er-=Pt;do er[De++]=zt[Xt++];while(--Pt);if(Xt=0,xr<Er){Pt=xr,Er-=Pt;do er[De++]=zt[Xt++];while(--Pt);Xt=De-wn,zr=er}}}else if(Xt+=xr-Pt,Pt<Er){Er-=Pt;do er[De++]=zt[Xt++];while(--Pt);Xt=De-wn,zr=er}for(;Er>2;)er[De++]=zr[Xt++],er[De++]=zr[Xt++],er[De++]=zr[Xt++],Er-=3;Er&&(er[De++]=zr[Xt++],Er>1&&(er[De++]=zr[Xt++]))}else{Xt=De-wn;do er[De++]=er[Xt++],er[De++]=er[Xt++],er[De++]=er[Xt++],Er-=3;while(Er>2);Er&&(er[De++]=er[Xt++],Er>1&&(er[De++]=er[Xt++]))}}else if(Pt&64){ne.msg="invalid distance code",mr.mode=Gn;break e}else{cr=gr[(cr&65535)+(Ct&(1<<Pt)-1)];continue r}break}}else if(Pt&64)if(Pt&32){mr.mode=ld;break e}else{ne.msg="invalid literal/length code",mr.mode=Gn;break e}else{cr=$r[(cr&65535)+(Ct&(1<<Pt)-1)];continue t}break}}while(me<Me&&De<qe);Er=Yt>>3,me-=Er,Yt-=Er<<3,Ct&=(1<<Yt)-1,ne.next_in=me,ne.next_out=De,ne.avail_in=me<Me?5+(Me-me):5-(me-Me),ne.avail_out=De<qe?257+(qe-De):257-(De-qe),mr.hold=Ct,mr.bits=Yt};let wr=15,Cr=852,Os=592,Hn=0,aa=1,wu=2,ud=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),es=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),La=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ol=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Wi=(L,ne,B,me,Me,De,it,qe)=>{let Ft=qe.bits,He=0,ut=0,xr=0,zt=0,Ct=0,Yt=0,$r=0,gr=0,Qt=0,Tr=0,cr,Pt,Er,wn,Xt,zr=null,vr,er=new Uint16Array(wr+1),mr=new Uint16Array(wr+1),Fs=null,ns,Du,Mu;for(He=0;He<=wr;He++)er[He]=0;for(ut=0;ut<me;ut++)er[ne[B+ut]]++;for(Ct=Ft,zt=wr;zt>=1&&er[zt]===0;zt--);if(Ct>zt&&(Ct=zt),zt===0)return Me[De++]=1<<24|64<<16|0,Me[De++]=1<<24|64<<16|0,qe.bits=1,0;for(xr=1;xr<zt&&er[xr]===0;xr++);for(Ct<xr&&(Ct=xr),gr=1,He=1;He<=wr;He++)if(gr<<=1,gr-=er[He],gr<0)return-1;if(gr>0&&(L===Hn||zt!==1))return-1;for(mr[1]=0,He=1;He<wr;He++)mr[He+1]=mr[He]+er[He];for(ut=0;ut<me;ut++)ne[B+ut]!==0&&(it[mr[ne[B+ut]]++]=ut);if(L===Hn?(zr=Fs=it,vr=20):L===aa?(zr=ud,Fs=es,vr=257):(zr=La,Fs=ol,vr=0),Tr=0,ut=0,He=xr,Xt=De,Yt=Ct,$r=0,Er=-1,Qt=1<<Ct,wn=Qt-1,L===aa&&Qt>Cr||L===wu&&Qt>Os)return 1;for(;;){ns=He-$r,it[ut]+1<vr?(Du=0,Mu=it[ut]):it[ut]>=vr?(Du=Fs[it[ut]-vr],Mu=zr[it[ut]-vr]):(Du=96,Mu=0),cr=1<<He-$r,Pt=1<<Yt,xr=Pt;do Pt-=cr,Me[Xt+(Tr>>$r)+Pt]=ns<<24|Du<<16|Mu|0;while(Pt!==0);for(cr=1<<He-1;Tr&cr;)cr>>=1;if(cr!==0?(Tr&=cr-1,Tr+=cr):Tr=0,ut++,--er[He]===0){if(He===zt)break;He=ne[B+it[ut]]}if(He>Ct&&(Tr&wn)!==Er){for($r===0&&($r=Ct),Xt+=xr,Yt=He-$r,gr=1<<Yt;Yt+$r<zt&&(gr-=er[Yt+$r],!(gr<=0));)Yt++,gr<<=1;if(Qt+=1<<Yt,L===aa&&Qt>Cr||L===wu&&Qt>Os)return 1;Er=Tr&wn,Me[Er]=Ct<<24|Yt<<16|Xt-De|0}}return Tr!==0&&(Me[Xt+Tr]=He-$r<<24|64<<16|0),qe.bits=Ct,0};let ka=0,Na=1,ks=2,{Z_FINISH:Ns,Z_BLOCK:fd,Z_TREES:Gi,Z_OK:fi,Z_STREAM_END:Ps,Z_NEED_DICT:dd,Z_STREAM_ERROR:Pn,Z_DATA_ERROR:ll,Z_MEM_ERROR:Se,Z_BUF_ERROR:We,Z_DEFLATED:rt}=Ye,dt=16180,vt=16181,Tt=16182,Ot=16183,Bt=16184,kt=16185,ar=16186,jt=16187,Gt=16188,rr=16189,Wt=16190,fr=16191,vn=16192,_n=16193,In=16194,qn=16195,Pa=16196,xn=16197,wh=16198,Su=16199,Cu=16200,Sh=16201,Ch=16202,Eh=16203,Dh=16204,Mh=16205,cd=16206,Ah=16207,Th=16208,Vr=16209,ul=16210,Lh=16211,Hg=852,Vg=592,Yg=15,Oh=L=>(L>>>24&255)+(L>>>8&65280)+((L&65280)<<8)+((L&255)<<24);function Kg(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let Is=L=>{if(!L)return 1;let ne=L.state;return!ne||ne.strm!==L||ne.mode<dt||ne.mode>Lh?1:0},hd=L=>{if(Is(L))return Pn;let ne=L.state;return L.total_in=L.total_out=ne.total=0,L.msg="",ne.wrap&&(L.adler=ne.wrap&1),ne.mode=dt,ne.last=0,ne.havedict=0,ne.flags=-1,ne.dmax=32768,ne.head=null,ne.hold=0,ne.bits=0,ne.lencode=ne.lendyn=new Int32Array(Hg),ne.distcode=ne.distdyn=new Int32Array(Vg),ne.sane=1,ne.back=-1,fi},pd=L=>{if(Is(L))return Pn;let ne=L.state;return ne.wsize=0,ne.whave=0,ne.wnext=0,hd(L)},md=(L,ne)=>{let B;if(Is(L))return Pn;let me=L.state;return ne<0?(B=0,ne=-ne):(B=(ne>>4)+5,ne<48&&(ne&=15)),ne&&(ne<8||ne>15)?Pn:(me.window!==null&&me.wbits!==ne&&(me.window=null),me.wrap=B,me.wbits=ne,pd(L))},fl=(L,ne)=>{if(!L)return Pn;let B=new Kg;L.state=B,B.strm=L,B.window=null,B.mode=dt;let me=md(L,ne);return me!==fi&&(L.state=null),me},ho=L=>fl(L,Yg),dl=!0,Eu,ts,kh=L=>{if(dl){Eu=new Int32Array(512),ts=new Int32Array(32);let ne=0;for(;ne<144;)L.lens[ne++]=8;for(;ne<256;)L.lens[ne++]=9;for(;ne<280;)L.lens[ne++]=7;for(;ne<288;)L.lens[ne++]=8;for(Wi(Na,L.lens,0,288,Eu,0,L.work,{bits:9}),ne=0;ne<32;)L.lens[ne++]=5;Wi(ks,L.lens,0,32,ts,0,L.work,{bits:5}),dl=!1}L.lencode=Eu,L.lenbits=9,L.distcode=ts,L.distbits=5},gd=(L,ne,B,me)=>{let Me,De=L.state;return De.window===null&&(De.wsize=1<<De.wbits,De.wnext=0,De.whave=0,De.window=new Uint8Array(De.wsize)),me>=De.wsize?(De.window.set(ne.subarray(B-De.wsize,B),0),De.wnext=0,De.whave=De.wsize):(Me=De.wsize-De.wnext,Me>me&&(Me=me),De.window.set(ne.subarray(B-me,B-me+Me),De.wnext),me-=Me,me?(De.window.set(ne.subarray(B-me,B),0),De.wnext=me,De.whave=De.wsize):(De.wnext+=Me,De.wnext===De.wsize&&(De.wnext=0),De.whave<De.wsize&&(De.whave+=Me))),0},Zg=(L,ne)=>{let B,me,Me,De,it,qe,Ft,He,ut,xr,zt,Ct,Yt,$r,gr=0,Qt,Tr,cr,Pt,Er,wn,Xt,zr,vr=new Uint8Array(4),er,mr,Fs=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Is(L)||!L.output||!L.input&&L.avail_in!==0)return Pn;B=L.state,B.mode===fr&&(B.mode=vn),it=L.next_out,Me=L.output,Ft=L.avail_out,De=L.next_in,me=L.input,qe=L.avail_in,He=B.hold,ut=B.bits,xr=qe,zt=Ft,zr=fi;e:for(;;)switch(B.mode){case dt:if(B.wrap===0){B.mode=vn;break}for(;ut<16;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if(B.wrap&2&&He===35615){B.wbits===0&&(B.wbits=15),B.check=0,vr[0]=He&255,vr[1]=He>>>8&255,B.check=W(B.check,vr,2,0),He=0,ut=0,B.mode=vt;break}if(B.head&&(B.head.done=!1),!(B.wrap&1)||(((He&255)<<8)+(He>>8))%31){L.msg="incorrect header check",B.mode=Vr;break}if((He&15)!==rt){L.msg="unknown compression method",B.mode=Vr;break}if(He>>>=4,ut-=4,Xt=(He&15)+8,B.wbits===0&&(B.wbits=Xt),Xt>15||Xt>B.wbits){L.msg="invalid window size",B.mode=Vr;break}B.dmax=1<<B.wbits,B.flags=0,L.adler=B.check=1,B.mode=He&512?rr:fr,He=0,ut=0;break;case vt:for(;ut<16;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if(B.flags=He,(B.flags&255)!==rt){L.msg="unknown compression method",B.mode=Vr;break}if(B.flags&57344){L.msg="unknown header flags set",B.mode=Vr;break}B.head&&(B.head.text=He>>8&1),B.flags&512&&B.wrap&4&&(vr[0]=He&255,vr[1]=He>>>8&255,B.check=W(B.check,vr,2,0)),He=0,ut=0,B.mode=Tt;case Tt:for(;ut<32;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}B.head&&(B.head.time=He),B.flags&512&&B.wrap&4&&(vr[0]=He&255,vr[1]=He>>>8&255,vr[2]=He>>>16&255,vr[3]=He>>>24&255,B.check=W(B.check,vr,4,0)),He=0,ut=0,B.mode=Ot;case Ot:for(;ut<16;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}B.head&&(B.head.xflags=He&255,B.head.os=He>>8),B.flags&512&&B.wrap&4&&(vr[0]=He&255,vr[1]=He>>>8&255,B.check=W(B.check,vr,2,0)),He=0,ut=0,B.mode=Bt;case Bt:if(B.flags&1024){for(;ut<16;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}B.length=He,B.head&&(B.head.extra_len=He),B.flags&512&&B.wrap&4&&(vr[0]=He&255,vr[1]=He>>>8&255,B.check=W(B.check,vr,2,0)),He=0,ut=0}else B.head&&(B.head.extra=null);B.mode=kt;case kt:if(B.flags&1024&&(Ct=B.length,Ct>qe&&(Ct=qe),Ct&&(B.head&&(Xt=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Uint8Array(B.head.extra_len)),B.head.extra.set(me.subarray(De,De+Ct),Xt)),B.flags&512&&B.wrap&4&&(B.check=W(B.check,me,Ct,De)),qe-=Ct,De+=Ct,B.length-=Ct),B.length))break e;B.length=0,B.mode=ar;case ar:if(B.flags&2048){if(qe===0)break e;Ct=0;do Xt=me[De+Ct++],B.head&&Xt&&B.length<65536&&(B.head.name+=String.fromCharCode(Xt));while(Xt&&Ct<qe);if(B.flags&512&&B.wrap&4&&(B.check=W(B.check,me,Ct,De)),qe-=Ct,De+=Ct,Xt)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=jt;case jt:if(B.flags&4096){if(qe===0)break e;Ct=0;do Xt=me[De+Ct++],B.head&&Xt&&B.length<65536&&(B.head.comment+=String.fromCharCode(Xt));while(Xt&&Ct<qe);if(B.flags&512&&B.wrap&4&&(B.check=W(B.check,me,Ct,De)),qe-=Ct,De+=Ct,Xt)break e}else B.head&&(B.head.comment=null);B.mode=Gt;case Gt:if(B.flags&512){for(;ut<16;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if(B.wrap&4&&He!==(B.check&65535)){L.msg="header crc mismatch",B.mode=Vr;break}He=0,ut=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),L.adler=B.check=0,B.mode=fr;break;case rr:for(;ut<32;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}L.adler=B.check=Oh(He),He=0,ut=0,B.mode=Wt;case Wt:if(B.havedict===0)return L.next_out=it,L.avail_out=Ft,L.next_in=De,L.avail_in=qe,B.hold=He,B.bits=ut,dd;L.adler=B.check=1,B.mode=fr;case fr:if(ne===fd||ne===Gi)break e;case vn:if(B.last){He>>>=ut&7,ut-=ut&7,B.mode=cd;break}for(;ut<3;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}switch(B.last=He&1,He>>>=1,ut-=1,He&3){case 0:B.mode=_n;break;case 1:if(kh(B),B.mode=Su,ne===Gi){He>>>=2,ut-=2;break e}break;case 2:B.mode=Pa;break;case 3:L.msg="invalid block type",B.mode=Vr}He>>>=2,ut-=2;break;case _n:for(He>>>=ut&7,ut-=ut&7;ut<32;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if((He&65535)!==(He>>>16^65535)){L.msg="invalid stored block lengths",B.mode=Vr;break}if(B.length=He&65535,He=0,ut=0,B.mode=In,ne===Gi)break e;case In:B.mode=qn;case qn:if(Ct=B.length,Ct){if(Ct>qe&&(Ct=qe),Ct>Ft&&(Ct=Ft),Ct===0)break e;Me.set(me.subarray(De,De+Ct),it),qe-=Ct,De+=Ct,Ft-=Ct,it+=Ct,B.length-=Ct;break}B.mode=fr;break;case Pa:for(;ut<14;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if(B.nlen=(He&31)+257,He>>>=5,ut-=5,B.ndist=(He&31)+1,He>>>=5,ut-=5,B.ncode=(He&15)+4,He>>>=4,ut-=4,B.nlen>286||B.ndist>30){L.msg="too many length or distance symbols",B.mode=Vr;break}B.have=0,B.mode=xn;case xn:for(;B.have<B.ncode;){for(;ut<3;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}B.lens[Fs[B.have++]]=He&7,He>>>=3,ut-=3}for(;B.have<19;)B.lens[Fs[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,er={bits:B.lenbits},zr=Wi(ka,B.lens,0,19,B.lencode,0,B.work,er),B.lenbits=er.bits,zr){L.msg="invalid code lengths set",B.mode=Vr;break}B.have=0,B.mode=wh;case wh:for(;B.have<B.nlen+B.ndist;){for(;gr=B.lencode[He&(1<<B.lenbits)-1],Qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(Qt<=ut);){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if(cr<16)He>>>=Qt,ut-=Qt,B.lens[B.have++]=cr;else{if(cr===16){for(mr=Qt+2;ut<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if(He>>>=Qt,ut-=Qt,B.have===0){L.msg="invalid bit length repeat",B.mode=Vr;break}Xt=B.lens[B.have-1],Ct=3+(He&3),He>>>=2,ut-=2}else if(cr===17){for(mr=Qt+3;ut<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}He>>>=Qt,ut-=Qt,Xt=0,Ct=3+(He&7),He>>>=3,ut-=3}else{for(mr=Qt+7;ut<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}He>>>=Qt,ut-=Qt,Xt=0,Ct=11+(He&127),He>>>=7,ut-=7}if(B.have+Ct>B.nlen+B.ndist){L.msg="invalid bit length repeat",B.mode=Vr;break}for(;Ct--;)B.lens[B.have++]=Xt}}if(B.mode===Vr)break;if(B.lens[256]===0){L.msg="invalid code -- missing end-of-block",B.mode=Vr;break}if(B.lenbits=9,er={bits:B.lenbits},zr=Wi(Na,B.lens,0,B.nlen,B.lencode,0,B.work,er),B.lenbits=er.bits,zr){L.msg="invalid literal/lengths set",B.mode=Vr;break}if(B.distbits=6,B.distcode=B.distdyn,er={bits:B.distbits},zr=Wi(ks,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,er),B.distbits=er.bits,zr){L.msg="invalid distances set",B.mode=Vr;break}if(B.mode=Su,ne===Gi)break e;case Su:B.mode=Cu;case Cu:if(qe>=6&&Ft>=258){L.next_out=it,L.avail_out=Ft,L.next_in=De,L.avail_in=qe,B.hold=He,B.bits=ut,xu(L,zt),it=L.next_out,Me=L.output,Ft=L.avail_out,De=L.next_in,me=L.input,qe=L.avail_in,He=B.hold,ut=B.bits,B.mode===fr&&(B.back=-1);break}for(B.back=0;gr=B.lencode[He&(1<<B.lenbits)-1],Qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(Qt<=ut);){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if(Tr&&!(Tr&240)){for(Pt=Qt,Er=Tr,wn=cr;gr=B.lencode[wn+((He&(1<<Pt+Er)-1)>>Pt)],Qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(Pt+Qt<=ut);){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}He>>>=Pt,ut-=Pt,B.back+=Pt}if(He>>>=Qt,ut-=Qt,B.back+=Qt,B.length=cr,Tr===0){B.mode=Mh;break}if(Tr&32){B.back=-1,B.mode=fr;break}if(Tr&64){L.msg="invalid literal/length code",B.mode=Vr;break}B.extra=Tr&15,B.mode=Sh;case Sh:if(B.extra){for(mr=B.extra;ut<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}B.length+=He&(1<<B.extra)-1,He>>>=B.extra,ut-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=Ch;case Ch:for(;gr=B.distcode[He&(1<<B.distbits)-1],Qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(Qt<=ut);){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if(!(Tr&240)){for(Pt=Qt,Er=Tr,wn=cr;gr=B.distcode[wn+((He&(1<<Pt+Er)-1)>>Pt)],Qt=gr>>>24,Tr=gr>>>16&255,cr=gr&65535,!(Pt+Qt<=ut);){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}He>>>=Pt,ut-=Pt,B.back+=Pt}if(He>>>=Qt,ut-=Qt,B.back+=Qt,Tr&64){L.msg="invalid distance code",B.mode=Vr;break}B.offset=cr,B.extra=Tr&15,B.mode=Eh;case Eh:if(B.extra){for(mr=B.extra;ut<mr;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}B.offset+=He&(1<<B.extra)-1,He>>>=B.extra,ut-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){L.msg="invalid distance too far back",B.mode=Vr;break}B.mode=Dh;case Dh:if(Ft===0)break e;if(Ct=zt-Ft,B.offset>Ct){if(Ct=B.offset-Ct,Ct>B.whave&&B.sane){L.msg="invalid distance too far back",B.mode=Vr;break}Ct>B.wnext?(Ct-=B.wnext,Yt=B.wsize-Ct):Yt=B.wnext-Ct,Ct>B.length&&(Ct=B.length),$r=B.window}else $r=Me,Yt=it-B.offset,Ct=B.length;Ct>Ft&&(Ct=Ft),Ft-=Ct,B.length-=Ct;do Me[it++]=$r[Yt++];while(--Ct);B.length===0&&(B.mode=Cu);break;case Mh:if(Ft===0)break e;Me[it++]=B.length,Ft--,B.mode=Cu;break;case cd:if(B.wrap){for(;ut<32;){if(qe===0)break e;qe--,He|=me[De++]<<ut,ut+=8}if(zt-=Ft,L.total_out+=zt,B.total+=zt,B.wrap&4&&zt&&(L.adler=B.check=B.flags?W(B.check,Me,zt,it-zt):lt(B.check,Me,zt,it-zt)),zt=Ft,B.wrap&4&&(B.flags?He:Oh(He))!==B.check){L.msg="incorrect data check",B.mode=Vr;break}He=0,ut=0}B.mode=Ah;case Ah:if(B.wrap&&B.flags){for(;ut<32;){if(qe===0)break e;qe--,He+=me[De++]<<ut,ut+=8}if(B.wrap&4&&He!==(B.total&4294967295)){L.msg="incorrect length check",B.mode=Vr;break}He=0,ut=0}B.mode=Th;case Th:zr=Ps;break e;case Vr:zr=ll;break e;case ul:return Se;case Lh:default:return Pn}return L.next_out=it,L.avail_out=Ft,L.next_in=De,L.avail_in=qe,B.hold=He,B.bits=ut,(B.wsize||zt!==L.avail_out&&B.mode<Vr&&(B.mode<cd||ne!==Ns))&&gd(L,L.output,L.next_out,zt-L.avail_out),xr-=L.avail_in,zt-=L.avail_out,L.total_in+=xr,L.total_out+=zt,B.total+=zt,B.wrap&4&&zt&&(L.adler=B.check=B.flags?W(B.check,Me,zt,L.next_out-zt):lt(B.check,Me,zt,L.next_out-zt)),L.data_type=B.bits+(B.last?64:0)+(B.mode===fr?128:0)+(B.mode===Su||B.mode===In?256:0),(xr===0&&zt===0||ne===Ns)&&zr===fi&&(zr=We),zr},Xg=L=>{if(Is(L))return Pn;let ne=L.state;return ne.window&&(ne.window=null),L.state=null,fi},$g=(L,ne)=>{if(Is(L))return Pn;let B=L.state;return B.wrap&2?(B.head=ne,ne.done=!1,fi):Pn},Qg=(L,ne)=>{let B=ne.length,me,Me,De;return Is(L)||(me=L.state,me.wrap!==0&&me.mode!==Wt)?Pn:me.mode===Wt&&(Me=1,Me=lt(Me,ne,B,0),Me!==me.check)?ll:(De=gd(L,ne,B,B),De?(me.mode=ul,Se):(me.havedict=1,fi))};var qg=pd,Jg=md,ev=hd,tv=ho,rv=fl,nv=Zg,iv=Xg,av=$g,sv=Qg,ov="pako inflate (from Nodeca project)",Ia={inflateReset:qg,inflateReset2:Jg,inflateResetKeep:ev,inflateInit:tv,inflateInit2:rv,inflate:nv,inflateEnd:iv,inflateGetHeader:av,inflateSetDictionary:sv,inflateInfo:ov};function lv(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uv=lv;let Nh=Object.prototype.toString,{Z_NO_FLUSH:fv,Z_FINISH:dv,Z_OK:cl,Z_STREAM_END:vd,Z_NEED_DICT:hl,Z_STREAM_ERROR:cv,Z_DATA_ERROR:Ph,Z_MEM_ERROR:hv}=Ye;function zs(L){this.options=re.assign({chunkSize:65536,windowBits:15,to:""},L||{});let ne=this.options;ne.raw&&ne.windowBits>=0&&ne.windowBits<16&&(ne.windowBits=-ne.windowBits,ne.windowBits===0&&(ne.windowBits=-15)),ne.windowBits>=0&&ne.windowBits<16&&!(L&&L.windowBits)&&(ne.windowBits+=32),ne.windowBits>15&&ne.windowBits<48&&(ne.windowBits&15||(ne.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let B=Ia.inflateInit2(this.strm,ne.windowBits);if(B!==cl)throw new Error(Ve[B]);if(this.header=new uv,Ia.inflateGetHeader(this.strm,this.header),ne.dictionary&&(typeof ne.dictionary=="string"?ne.dictionary=nt.string2buf(ne.dictionary):Nh.call(ne.dictionary)==="[object ArrayBuffer]"&&(ne.dictionary=new Uint8Array(ne.dictionary)),ne.raw&&(B=Ia.inflateSetDictionary(this.strm,ne.dictionary),B!==cl)))throw new Error(Ve[B])}zs.prototype.push=function(L,ne){let B=this.strm,me=this.options.chunkSize,Me=this.options.dictionary,De,it,qe;if(this.ended)return!1;for(ne===~~ne?it=ne:it=ne===!0?dv:fv,Nh.call(L)==="[object ArrayBuffer]"?B.input=new Uint8Array(L):B.input=L,B.next_in=0,B.avail_in=B.input.length;;){for(B.avail_out===0&&(B.output=new Uint8Array(me),B.next_out=0,B.avail_out=me),De=Ia.inflate(B,it),De===hl&&Me&&(De=Ia.inflateSetDictionary(B,Me),De===cl?De=Ia.inflate(B,it):De===Ph&&(De=hl));B.avail_in>0&&De===vd&&B.state.wrap>0&&L[B.next_in]!==0;)Ia.inflateReset(B),De=Ia.inflate(B,it);switch(De){case cv:case Ph:case hl:case hv:return this.onEnd(De),this.ended=!0,!1}if(qe=B.avail_out,B.next_out&&(B.avail_out===0||De===vd))if(this.options.to==="string"){let Ft=nt.utf8border(B.output,B.next_out),He=B.next_out-Ft,ut=nt.buf2string(B.output,Ft);B.next_out=He,B.avail_out=me-He,He&&B.output.set(B.output.subarray(Ft,Ft+He),0),this.onData(ut)}else this.onData(B.output.length===B.next_out?B.output:B.output.subarray(0,B.next_out));if(!(De===cl&&qe===0)){if(De===vd)return De=Ia.inflateEnd(this.strm),this.onEnd(De),this.ended=!0,!0;if(B.avail_in===0)break}}return!0},zs.prototype.onData=function(L){this.chunks.push(L)},zs.prototype.onEnd=function(L){L===cl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=re.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg};function po(L,ne){let B=new zs(ne);if(B.push(L),B.err)throw B.msg||Ve[B.err];return B.result}function pv(L,ne){return ne=ne||{},ne.raw=!0,po(L,ne)}var mv=zs,gv=po,vv=pv,_v=po,bv=Ye,Ih={Inflate:mv,inflate:gv,inflateRaw:vv,ungzip:_v,constants:bv};let{Deflate:yv,deflate:xv,deflateRaw:zh,gzip:wv}=ji,{Inflate:Sv,inflate:Cv,inflateRaw:rs,ungzip:Fh}=Ih;var Bh=yv,Uh=xv,Rh=zh,Et=wv,jh=Sv,Wh=Cv,_d=rs,yr=Fh,pl=Ye,Gh={Deflate:Bh,deflate:Uh,deflateRaw:Rh,gzip:Et,Inflate:jh,inflate:Wh,inflateRaw:_d,ungzip:yr,constants:pl}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())});var mt,m0,V_,Y_,K_,Z_,X_,$_,Q_,q_,OC=ae(()=>{mt=Hr(Dn()),m0=class extends mt.default.Component{render(){return mt.default.createElement("div",{className:"box box-primary",id:"main_form"},mt.default.createElement("div",{className:"box-header with-border"},mt.default.createElement("h5",{className:"box-title"},"Additional Settings")),mt.default.createElement("div",{className:"box-body"},mt.default.createElement("div",{className:"col-md-12"},this.props.analyses.includes(this.props.job_strings.dompred.jobName)&&mt.default.createElement(Z_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.ffpred.jobName)&&mt.default.createElement(X_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.metsite.jobName)&&mt.default.createElement(V_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.hspred.jobName)&&mt.default.createElement(Y_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.memembed.jobName)&&mt.default.createElement(K_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.merizo.jobName)&&mt.default.createElement($_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.merizosearch.jobName)&&mt.default.createElement(Q_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}),this.props.analyses.includes(this.props.job_strings.gsrcl.jobName)&&mt.default.createElement(q_,{...this.props,handleSidebarChange:this.props.handleSidebarChange}))))}},V_=class extends mt.default.Component{render(){return mt.default.createElement("div",{className:"row form-header-row"},mt.default.createElement("h4",null,this.props.job_strings.metsite.fullName),mt.default.createElement("strong",null,"Select Metal:"),mt.default.createElement("br",null),mt.default.createElement("select",{id:"metsite_metal_type",size:"6",name:"metsite_metal_type",value:this.props.metsite_metal_type,onChange:this.props.handleSidebarChange},mt.default.createElement("option",{value:"CA"},"Calcium"),mt.default.createElement("option",{value:"ZN"},"Zinc"),mt.default.createElement("option",{value:"MG"},"Magnesium"),mt.default.createElement("option",{value:"FE"},"Iron"),mt.default.createElement("option",{value:"CU"},"Copper"),mt.default.createElement("option",{value:"MN"},"Manganese")),mt.default.createElement("br",null),mt.default.createElement("br",null),mt.default.createElement("strong",null,"Chain ID:"),mt.default.createElement("input",{type:"text",id:"metsite_chain_id",name:"metsite_chain_id",value:this.props.metsite_chain_id,onChange:this.props.handleSidebarChange}),mt.default.createElement("br",null),mt.default.createElement("br",null),mt.default.createElement("strong",null,"False Positive Rate:"),mt.default.createElement("br",null),mt.default.createElement("select",{id:"metsite_fpr",size:"1",name:"metsite_fpr",value:this.props.metsite_fpr,onChange:this.props.handleSidebarChange},mt.default.createElement("option",{value:"0"},"1%"),mt.default.createElement("option",{value:"1"},"5%"),mt.default.createElement("option",{value:"2"},"10%"),mt.default.createElement("option",{value:"3"},"20%")))}},Y_=class extends mt.default.Component{render(){return mt.default.createElement("div",{className:"row form-header-row"},mt.default.createElement("h4",null,this.props.job_strings.hspred.fullName),mt.default.createElement("strong",null,"Protein 1:"),mt.default.createElement("input",{type:"text",id:"hspred_protein_1",name:"hspred_protein_1",value:this.props.hspred_protein_1,onChange:this.props.handleSidebarChange}),mt.default.createElement("br",null),mt.default.createElement("br",null),mt.default.createElement("strong",null,"Protein 2:")," ",mt.default.createElement("input",{type:"text",id:"hspred_protein_2",name:"hspred_protein_2",value:this.props.hspred_protein_2,onChange:this.props.handleSidebarChange}))}},K_=class extends mt.default.Component{render(){return mt.default.createElement("div",{className:"row form-header-row"},mt.default.createElement("h4",null,this.props.job_strings.memembed.fullName),mt.default.createElement("strong",null,"Search Type:"),mt.default.createElement("select",{id:"memembed_algorithm",size:"1",name:"memembed_algorithm",value:this.props.memembed_algorithm,onChange:this.props.handleSidebarChange},mt.default.createElement("option",{value:"0"},"Genetic Algorithm"),mt.default.createElement("option",{value:"1"},"Grid Search"),mt.default.createElement("option",{value:"2"},"Direct"),mt.default.createElement("option",{value:"3"},"GA x 5")),mt.default.createElement("br",null),mt.default.createElement("br",null),mt.default.createElement("strong",null,"Target is Beta Barrel:"),mt.default.createElement("br",null),mt.default.createElement("input",{type:"radio",id:"memembed_barrel_yes",name:"memembed_barrel",value:"TRUE",checked:this.props.memembed_barrel==="TRUE",onChange:this.props.handleSidebarChange})," ",mt.default.createElement("label",{htmlFor:"memembed_barrel_yes"},"Yes"),mt.default.createElement("br",null),mt.default.createElement("input",{type:"radio",id:"memembed_barrel_no",name:"memembed_barrel",value:"FALSE",checked:this.props.memembed_barrel==="FALSE",onChange:this.props.handleSidebarChange})," ",mt.default.createElement("label",{htmlFor:"memembed_barrel_no"},"No"),mt.default.createElement("br",null),mt.default.createElement("br",null),mt.default.createElement("strong",null,"N-Terminal Location:"),mt.default.createElement("br",null),mt.default.createElement("input",{type:"radio",id:"memembed_terminal_in",name:"memembed_terminal",value:"in",checked:this.props.memembed_terminal==="in",onChange:this.props.handleSidebarChange})," ",mt.default.createElement("label",{htmlFor:"memembed_terminal_in"},"Cytoplasmic"),mt.default.createElement("br",null),mt.default.createElement("input",{type:"radio",id:"memembed_terminal_out",name:"memembed_terminal",value:"out",checked:this.props.memembed_terminal==="out",onChange:this.props.handleSidebarChange})," ",mt.default.createElement("label",{htmlFor:"memembed_terminal_out"},"Extra Cellular"),mt.default.createElement("br",null),mt.default.createElement("br",null))}},Z_=class extends mt.default.Component{render(){return mt.default.createElement("div",{className:"row form-header-row"},mt.default.createElement("h4",null,this.props.job_strings.dompred.fullName),mt.default.createElement("strong",null,"PSI-BLAST e-value cutoff:"),mt.default.createElement("input",{type:"text",id:"dompred_e_value_cutoff",name:"dompred_e_value_cutoff",value:this.props.dompred_e_value_cutoff,onChange:this.props.handleSidebarChange}),mt.default.createElement("br",null),mt.default.createElement("br",null),mt.default.createElement("strong",null,"PSI-BLAST Iterations:")," ",mt.default.createElement("input",{type:"text",id:"dompred_psiblast_iterations",name:"dompred_psiblast_iterations",value:this.props.dompred_psiblast_iterations,onChange:this.props.handleSidebarChange}))}},X_=class extends mt.default.Component{render(){return mt.default.createElement("div",{className:"row form-header-row"},mt.default.createElement("h4",null,this.props.job_strings.ffpred.fullName),mt.default.createElement("input",{type:"radio",id:"ffpred_human",name:"ffpred_selection",value:"human",checked:this.props.ffpred_selection==="human",onChange:this.props.handleSidebarChange})," ",mt.default.createElement("label",{htmlFor:"ffpred_human"},"Human Prediction"),mt.default.createElement("br",null),mt.default.createElement("input",{type:"radio",id:"ffpred_fly",name:"ffpred_selection",value:"fly",checked:this.props.ffpred_selection==="fly",onChange:this.props.handleSidebarChange})," ",mt.default.createElement("label",{htmlFor:"ffpred_fly"},"Fly Prediction"))}},$_=class extends mt.default.Component{render(){return mt.default.createElement("div",{className:"row form-header-row"},mt.default.createElement("h4",null,this.props.job_strings.merizo.fullName),mt.default.createElement("strong",null,"Chain:"),mt.default.createElement("input",{type:"text",id:"merizo_chain",name:"merizo_chain",value:this.props.merizo_chain,onChange:this.props.handleSidebarChange}),mt.default.createElement("br",null),mt.default.createElement("br",null),mt.default.createElement("strong",null,"Segmentation Mode:"),mt.default.createElement("br",null),mt.default.createElement("input",{type:"radio",id:"merizo_mode_default",name:"merizo_iterate",value:"FALSE",checked:this.props.merizo_iterate==="FALSE",onChange:this.props.handleSidebarChange})," ",mt.default.createElement("label",{htmlFor:"merizo_mode"},"Default (short chain)"),mt.default.createElement("br",null),mt.default.createElement("input",{type:"radio",id:"merizo_mode_iterative",name:"merizo_iterate",value:"TRUE",checked:this.props.merizo_iterate==="TRUE",onChange:this.props.handleSidebarChange})," ",mt.default.createElement("label",{htmlFor:"merizo_mode"},"Iterative (long chain)"),mt.default.createElement("br",null))}},Q_=class extends mt.default.Component{render(){return mt.default.createElement("div",{className:"row form-header-row"},mt.default.createElement("h4",null,this.props.job_strings.merizosearch.fullName),mt.default.createElement("strong",null,"Chain:"),mt.default.createElement("input",{type:"text",id:"merizosearch_chain",name:"merizosearch_chain",value:this.props.merizosearch_chain,onChange:this.props.handleSidebarChange}),mt.default.createElement("br",null),mt.default.createElement("br",null),mt.default.createElement("strong",null,"Search Database:"),mt.default.createElement("br",null),mt.default.createElement("input",{type:"radio",id:"merizosearch_db_ted",name:"merizosearch_db",value:"ted",checked:this.props.merizosearch_db==="ted",onChange:this.props.handleSidebarChange})," ",mt.default.createElement("label",{htmlFor:"merizosearch_db"},"\xA0TED (slow)"),mt.default.createElement("br",null),mt.default.createElement("input",{type:"radio",id:"merizosearch_db_cath",name:"merizosearch_db",value:"cath",checked:this.props.merizosearch_db==="cath",onChange:this.props.handleSidebarChange}),mt.default.createElement("label",{htmlFor:"merizosearch_db"},"\xA0CATH 4.3 (fast)"),mt.default.createElement("br",null))}},q_=class extends mt.default.Component{render(){return mt.default.createElement("div",{className:"row form-header-row"},mt.default.createElement("h4",null,this.props.job_strings.gsrcl.fullName),mt.default.createElement("strong",null,"Tissue Dataset:"),mt.default.createElement("select",{id:"gsrcl_tissue",size:"1",name:"gsrcl_tissue",value:this.props.gsrcl_tissue,onChange:this.props.handleSidebarChange},mt.default.createElement("option",{value:"Quake_Smart-seq2_Limb_Muscle"},"Mouse Limb Muscle")))}}});var ve,J_,eb,tb,rb,g0,kC=ae(()=>{ve=Hr(Dn()),J_=class extends ve.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"col-md-12"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("br",null),ve.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},ve.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("table",{className:"full-width-table"},ve.default.createElement("tbody",null,ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"Popular Analyses"))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.psipred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.psipred.jobName,value:this.props.job_strings.psipred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.psipred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_psipred_job"},this.props.job_strings.psipred.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.disopred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_disopred_job",name:this.props.job_strings.disopred.jobName,value:this.props.job_strings.disopred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.disopred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_disopred_job"},this.props.job_strings.disopred.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memsatsvm.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_memsatsvm_job",name:this.props.job_strings.memsatsvm.jobName,value:this.props.job_strings.memsatsvm.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.memsatsvm.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_memsatsvm_job"},this.props.job_strings.memsatsvm.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pgenthreader.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_pgenthreader_job",name:this.props.job_strings.pgenthreader.jobName,value:this.props.job_strings.pgenthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.pgenthreader.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_pgenthreader_job"},this.props.job_strings.pgenthreader.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Structure Modelling")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpfold.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_dmpfold_job",name:this.props.job_strings.dmpfold.jobName,value:this.props.job_strings.dmpfold.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmpfold.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_dmpfold_job"},this.props.job_strings.dmpfold.describedName)),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Single Sequence Prediction")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.s4pred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_s4pred_job",name:this.props.job_strings.s4pred.jobName,value:this.props.job_strings.s4pred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.s4pred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_s4pred_job"},this.props.job_strings.s4pred.describedName)),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"Contact Analysis"))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmp.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_dmp_job",name:this.props.job_strings.dmp.jobName,value:this.props.job_strings.dmp.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmp.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_dmp_job"},this.props.job_strings.dmp.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.mempack.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_mempack_job",name:this.props.job_strings.mempack.jobName,value:this.props.job_strings.mempack.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.mempack.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_mempack_job"},this.props.job_strings.mempack.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Fold Recognition")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.genthreader.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_genthreader_job",name:this.props.job_strings.genthreader.jobName,value:this.props.job_strings.genthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.genthreader.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_genthreader_job"},this.props.job_strings.genthreader.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pdomthreader.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_pdomthreader_job",name:this.props.job_strings.pdomthreader.jobName,value:this.props.job_strings.pdomthreader.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.pdomthreader.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_pdomthreader_job"},this.props.job_strings.pdomthreader.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Domain Prediction")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dompred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_dompred_job",name:this.props.job_strings.dompred.jobName,value:this.props.job_strings.dompred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dompred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_dompred_job"},this.props.job_strings.dompred.describedName)),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{className:"input_table",colSpan:"2"},ve.default.createElement("hr",null))),ve.default.createElement("tr",null,ve.default.createElement("td",null,ve.default.createElement("h4",null,"Function Prediction")),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.ffpred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_ffpred_job",name:this.props.job_strings.ffpred.jobName,value:this.props.job_strings.ffpred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.ffpred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_ffpred_job"},this.props.job_strings.ffpred.describedName)," "),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpmetal.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_dmpmetal_job",name:this.props.job_strings.dmpmetal.jobName,value:this.props.job_strings.dmpmetal.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.dmpmetal.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_dmpmetal_job"},this.props.job_strings.dmpmetal.describedName)," ")),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null)))))),ve.default.createElement("div",{className:"col-sm-12 form-header-blue"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Submission details"))),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("p",{className:"form_error"}),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_input_data"},"Protein Sequence"),ve.default.createElement("textarea",{className:"form-control",cols:"40",rows:"3",placeholder:"Protein Sequence",title:"",required:"",id:"id_input_data",name:"input_data",value:this.props.input_data,onChange:this.handleChange}))),ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null)," If you wish to test these services follow this link to retrieve ",ve.default.createElement("a",{className:"form-link",href:"http://www.uniprot.org/uniprot/B0R5N9.fasta"},"a test fasta sequence")," or ",ve.default.createElement("button",{onClick:this.props.setTestSeq,type:"button",class:"fake-link"},"click here to load a test seq"),".",ve.default.createElement("br",null),"For DMPmetal, ",ve.default.createElement("button",{onClick:this.props.setDMPMetSeq,type:"button",class:"fake-link"},"click here to set a test sequence"),".",ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),ve.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),ve.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?ve.default.createElement("div",null,ve.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):ve.default.createElement("div",{className:"form-group"},ve.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",ve.default.createElement("input",{className:"btn btn-primary",name:"submit",type:"submit",value:"submit"}))))))}},eb=class extends ve.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"col-md-12"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("br",null),ve.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},ve.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("table",{className:"full-width-table"},ve.default.createElement("tbody",null,ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"Popular Analyses"))),ve.default.createElement("tr",null,ve.default.createElement("td",{colspan:"2","data-toggle":"tool-tip",title:this.props.job_strings.merizosearch.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_merizosearch_job",name:this.props.job_strings.merizosearch.jobName,value:this.props.job_strings.merizosearch.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.merizosearch.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_merizosearch_job"},this.props.job_strings.merizosearch.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"Structure Analyses"))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.metsite.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_metsite_job",name:this.props.job_strings.metsite.jobName,value:this.props.job_strings.metsite.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.metsite.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_metsite_job"},this.props.job_strings.metsite.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.hspred.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_hspred_job",name:this.props.job_strings.hspred.jobName,value:this.props.job_strings.hspred.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.hspred.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_hspred_job"},this.props.job_strings.hspred.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memembed.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_memembed_job",name:this.props.job_strings.memembed.jobName,value:this.props.job_strings.memembed.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.memembed.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_memembed_job"},this.props.job_strings.memembed.describedName)),ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.merizo.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_merizo_job",name:this.props.job_strings.merizo.jobName,value:this.props.job_strings.merizo.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.merizo.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_merizo_job"},this.props.job_strings.merizo.describedName))),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null)))))),ve.default.createElement("div",{className:"col-sm-12 form-header-red"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Submission details"))),ve.default.createElement("p",{className:"form_error"})," ",ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("br",null)," Select PDB file",ve.default.createElement("br",null)," ",ve.default.createElement("input",{type:"file",id:"pdbFile",name:"pdbFile",defaultValue:""}),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null),"If you wish to try Metsite or HSPred follow this link to retrieve ",ve.default.createElement("a",{className:"form-link",href:"http://www.rcsb.org/pdb/download/downloadFile.do?fileFormat=pdb&compression=NO&structureId=1IAR"},"a test pdb file."),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),ve.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),ve.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?ve.default.createElement("div",null,ve.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):ve.default.createElement("div",{className:"form-group"},ve.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",ve.default.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))))))}},tb=class extends ve.default.Component{handleChange=t=>{this.props.handleChange(t)};handleSubmit=t=>{this.props.handleSubmit(t)};render(){return ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"col-md-12"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("br",null),ve.default.createElement("form",{className:"form",id:"main_form",method:"Post",intro:"slide",outro:"slide",name:"main_form",onSubmit:this.handleSubmit},ve.default.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:"6TwolraqeOHCMgVbxvCgNJ3EQsHdqo9Rbp5GNIZkxWUFhlYjWMfLikgu0x7SxLDa"}),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("table",{className:"full-width-table"},ve.default.createElement("tbody",null,ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("h4",null,"RNASeq Analyses"))),ve.default.createElement("tr",null,ve.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.gsrcl.tooltip},ve.default.createElement("input",{type:"checkbox",id:"id_gsrcl_job",name:this.props.job_strings.gsrcl.jobName,value:this.props.job_strings.gsrcl.jobName,onChange:this.handleChange,checked:this.props.analyses.includes(this.props.job_strings.gsrcl.jobName)}),"\xA0",ve.default.createElement("label",{htmlFor:"id_gsrcl_job"},this.props.job_strings.gsrcl.describedName)),ve.default.createElement("td",null)),ve.default.createElement("tr",null,ve.default.createElement("td",{colSpan:"2"},ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null)))))),ve.default.createElement("div",{className:"col-sm-12 form-header-green"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Submission details"))),ve.default.createElement("p",{className:"form_error"})," ",ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("br",null)," Input data must be submitted in ",ve.default.createElement("a",{href:"https://www.hdfgroup.org/solutions/hdf5/"},"Hierarchical Data Format (HDF)"),". Please consult our ",ve.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"docutmentation")," on the required hdf5 layout for your data.",ve.default.createElement("br",null),ve.default.createElement("br",null)," ",ve.default.createElement("input",{type:"file",id:"pdbFile",name:"pdbFile",defaultValue:""}),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("a",{className:"form-link",href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},"Help..."),ve.default.createElement("br",null),"If you wish to try this method follow this link to retrieve ",ve.default.createElement("a",{className:"form-link",href:""},"a test csv file."),ve.default.createElement("br",null),ve.default.createElement("br",null),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_job_name"},"Job name"),ve.default.createElement("input",{className:"form-control",type:"text",placeholder:"Job name",title:"",required:"",id:"id_job_name",name:"job_name",value:this.props.name,onChange:this.handleChange}))),ve.default.createElement("div",{className:"form-group"},ve.default.createElement("div",{className:"form-group"},ve.default.createElement("label",{className:"control-label",htmlFor:"id_email"},"Email (optional)"),ve.default.createElement("input",{className:"form-control",type:"email",placeholder:"Email (optional)",title:"",id:"id_email",name:"email",value:this.props.email,onChange:this.handleChange}))),this.props.suspension_message!==null?ve.default.createElement("div",null,ve.default.createElement("h3",{className:"form_error"},this.props.suspension_message)):ve.default.createElement("div",{className:"form-group"},ve.default.createElement("input",{className:"btn btn-danger",type:"reset",value:"Reset",onClick:this.props.handleReset})," ",ve.default.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))))))}},rb=class extends ve.default.Component{render(t){return ve.default.createElement("div",{className:"box-body"},ve.default.createElement("div",{className:"form-group"},this.props.formSelectedOption==="SeqForm"?ve.default.createElement("div",{className:"col-md-12 form-header-blue"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Select input data type"))):this.props.formSelectedOption==="StructForm"?ve.default.createElement("div",{className:"col-md-12 form-header-red"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Select input data type"))):ve.default.createElement("div",{className:"col-md-12 form-header-green"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Select input data type"))),ve.default.createElement("div",{className:"col-md-12"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("div",{className:"funkyradio"},ve.default.createElement("div",{className:"funkyradio-primary"},ve.default.createElement("input",{type:"radio",id:"radio1",name:"radio",value:"SeqForm",checked:this.props.formSelectedOption==="SeqForm",onChange:this.props.handleInputChange})," ",ve.default.createElement("label",{htmlFor:"radio1"},ve.default.createElement("b",null,"Sequence Data\xA0\xA0"))),"\xA0\xA0\xA0",ve.default.createElement("div",{className:"funkyradio-danger"},ve.default.createElement("input",{type:"radio",id:"radio2",name:"radio",value:"StructForm",checked:this.props.formSelectedOption==="StructForm",onChange:this.props.handleInputChange})," ",ve.default.createElement("label",{htmlFor:"radio2"},ve.default.createElement("b",null,"PDB Structure Data\xA0\xA0"))),"\xA0\xA0\xA0",ve.default.createElement("div",{className:"funkyradio-success"},ve.default.createElement("input",{type:"radio",id:"radio3",name:"radio",value:"TransForm",checked:this.props.formSelectedOption==="TransForm",onChange:this.props.handleInputChange})," ",ve.default.createElement("label",{htmlFor:"radio3"},ve.default.createElement("b",null,"RNASeq Data\xA0\xA0")))),ve.default.createElement("br",null)))),ve.default.createElement("div",{className:"form-group"},this.props.formSelectedOption==="SeqForm"?ve.default.createElement("div",{className:"col-md-12 form-header-blue"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)"))):this.props.formSelectedOption==="StructForm"?ve.default.createElement("div",{className:"col-md-12 form-header-red"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)"))):ve.default.createElement("div",{className:"col-md-12 form-header-green"},ve.default.createElement("div",{className:"row form-header-row"},ve.default.createElement("h5",{className:"float-header"},"Choose prediction methods (hover for short description)")))),this.props.formSelectedOption==="SeqForm"?ve.default.createElement(J_,{...this.props,handleChange:this.props.handleSeqChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit,setTestSeq:this.props.setTestSeq}):this.props.formSelectedOption==="StructForm"?ve.default.createElement(eb,{...this.props,handleChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit}):ve.default.createElement(tb,{...this.props,handleChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSubmit:this.props.handleSubmit}))}},g0=class extends ve.default.Component{render(){return ve.default.createElement("div",{id:"main_form",className:"box box-primary"},ve.default.createElement("div",{className:"box-header with-border"},ve.default.createElement("p",null,"The PSIPRED Workbench provides a range of protein structure prediction methods. The site can be used interactively via a web browser or programmatically via our REST API. For high-throughput analyses, downloads of all the algorithms are available."),ve.default.createElement("p",null,ve.default.createElement("b",null,"Amino acid")," sequences enable: secondary structure prediction, including regions of disorder and transmembrane helix packing; contact analysis; fold recognition; structure modelling; and prediction of domains and function. In addition ",ve.default.createElement("b",null,"PDB Structure files")," allow prediction of protein-metal ion contacts, protein-protein hotspot residues, and membrane protein orientation."),ve.default.createElement("p",null,"Video tutorials for our most popular and latest methods can be found at the ",ve.default.createElement("a",{href:"https://www.youtube.com/@psipreducl"},"PSIPRED YouTube Channel")," "),ve.default.createElement("p",null,"For Help or Errors please email psipred-help@cs.ucl.ac.uk"),ve.default.createElement("hr",{id:"hr_form"})),ve.default.createElement("div",{className:"box-header with-border"},ve.default.createElement("h5",{className:"box-title"},"Data Input")),ve.default.createElement(rb,{...this.props,handleSubmit:this.props.handleSubmit,handleInputChange:this.props.handleInputChange,handleStructChange:this.props.handleStructChange,handleReset:this.props.handleReset,handleSeqChange:this.props.handleSeqChange,setTestSeq:this.props.setTestSeq}))}}});var of=zn((NC,v0)=>{(function(e,t){"use strict";typeof v0=="object"&&typeof v0.exports=="object"?v0.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return t(r)}:t(e)})(typeof window<"u"?window:NC,function(e,t){"use strict";var r=[],n=Object.getPrototypeOf,a=r.slice,s=r.flat?function(A){return r.flat.call(A)}:function(A){return r.concat.apply([],A)},o=r.push,u=r.indexOf,l={},g=l.toString,h=l.hasOwnProperty,v=h.toString,x=v.call(Object),S={},w=function(P){return typeof P=="function"&&typeof P.nodeType!="number"&&typeof P.item!="function"},c=function(P){return P!=null&&P===P.window},_=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function b(A,P,R){R=R||_;var K,ee,re=R.createElement("script");if(re.text=A,P)for(K in y)ee=P[K]||P.getAttribute&&P.getAttribute(K),ee&&re.setAttribute(K,ee);R.head.appendChild(re).parentNode.removeChild(re)}function C(A){return A==null?A+"":typeof A=="object"||typeof A=="function"?l[g.call(A)]||"object":typeof A}var E="3.7.0",p=/HTML$/i,f=function(A,P){return new f.fn.init(A,P)};f.fn=f.prototype={jquery:E,constructor:f,length:0,toArray:function(){return a.call(this)},get:function(A){return A==null?a.call(this):A<0?this[A+this.length]:this[A]},pushStack:function(A){var P=f.merge(this.constructor(),A);return P.prevObject=this,P},each:function(A){return f.each(this,A)},map:function(A){return this.pushStack(f.map(this,function(P,R){return A.call(P,R,P)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(A,P){return(P+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(A,P){return P%2}))},eq:function(A){var P=this.length,R=+A+(A<0?P:0);return this.pushStack(R>=0&&R<P?[this[R]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:r.sort,splice:r.splice},f.extend=f.fn.extend=function(){var A,P,R,K,ee,re,fe=arguments[0]||{},Oe=1,Te=arguments.length,Ze=!1;for(typeof fe=="boolean"&&(Ze=fe,fe=arguments[Oe]||{},Oe++),typeof fe!="object"&&!w(fe)&&(fe={}),Oe===Te&&(fe=this,Oe--);Oe<Te;Oe++)if((A=arguments[Oe])!=null)for(P in A)K=A[P],!(P==="__proto__"||fe===K)&&(Ze&&K&&(f.isPlainObject(K)||(ee=Array.isArray(K)))?(R=fe[P],ee&&!Array.isArray(R)?re=[]:!ee&&!f.isPlainObject(R)?re={}:re=R,ee=!1,fe[P]=f.extend(Ze,re,K)):K!==void 0&&(fe[P]=K));return fe},f.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(A){throw new Error(A)},noop:function(){},isPlainObject:function(A){var P,R;return!A||g.call(A)!=="[object Object]"?!1:(P=n(A),P?(R=h.call(P,"constructor")&&P.constructor,typeof R=="function"&&v.call(R)===x):!0)},isEmptyObject:function(A){var P;for(P in A)return!1;return!0},globalEval:function(A,P,R){b(A,{nonce:P&&P.nonce},R)},each:function(A,P){var R,K=0;if(D(A))for(R=A.length;K<R&&P.call(A[K],K,A[K])!==!1;K++);else for(K in A)if(P.call(A[K],K,A[K])===!1)break;return A},text:function(A){var P,R="",K=0,ee=A.nodeType;if(ee){if(ee===1||ee===9||ee===11)return A.textContent;if(ee===3||ee===4)return A.nodeValue}else for(;P=A[K++];)R+=f.text(P);return R},makeArray:function(A,P){var R=P||[];return A!=null&&(D(Object(A))?f.merge(R,typeof A=="string"?[A]:A):o.call(R,A)),R},inArray:function(A,P,R){return P==null?-1:u.call(P,A,R)},isXMLDoc:function(A){var P=A&&A.namespaceURI,R=A&&(A.ownerDocument||A).documentElement;return!p.test(P||R&&R.nodeName||"HTML")},merge:function(A,P){for(var R=+P.length,K=0,ee=A.length;K<R;K++)A[ee++]=P[K];return A.length=ee,A},grep:function(A,P,R){for(var K,ee=[],re=0,fe=A.length,Oe=!R;re<fe;re++)K=!P(A[re],re),K!==Oe&&ee.push(A[re]);return ee},map:function(A,P,R){var K,ee,re=0,fe=[];if(D(A))for(K=A.length;re<K;re++)ee=P(A[re],re,R),ee!=null&&fe.push(ee);else for(re in A)ee=P(A[re],re,R),ee!=null&&fe.push(ee);return s(fe)},guid:1,support:S}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=r[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(A,P){l["[object "+P+"]"]=P.toLowerCase()});function D(A){var P=!!A&&"length"in A&&A.length,R=C(A);return w(A)||c(A)?!1:R==="array"||P===0||typeof P=="number"&&P>0&&P-1 in A}function M(A,P){return A.nodeName&&A.nodeName.toLowerCase()===P.toLowerCase()}var N=r.pop,O=r.sort,z=r.splice,k="[\\x20\\t\\r\\n\\f]",I=new RegExp("^"+k+"+|((?:^|[^\\\\])(?:\\\\.)*)"+k+"+$","g");f.contains=function(A,P){var R=P&&P.parentNode;return A===R||!!(R&&R.nodeType===1&&(A.contains?A.contains(R):A.compareDocumentPosition&&A.compareDocumentPosition(R)&16))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Y(A,P){return P?A==="\0"?"\uFFFD":A.slice(0,-1)+"\\"+A.charCodeAt(A.length-1).toString(16)+" ":"\\"+A}f.escapeSelector=function(A){return(A+"").replace(H,Y)};var q=_,G=o;(function(){var A,P,R,K,ee,re=G,fe,Oe,Te,Ze,ct,_t=f.expando,nt=0,wt=0,Kt=Os(),ur=Os(),tr=Os(),gn=Os(),tn=function(Se,We){return Se===We&&(ee=!0),0},Di="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Wn="(?:\\\\[\\da-fA-F]{1,6}"+k+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",or="\\["+k+"*("+Wn+")(?:"+k+"*([*^$|!~]?=)"+k+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Wn+"))|)"+k+"*\\]",Aa=":("+Wn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+or+")*)|.*)\\)|)",pr=new RegExp(k+"+","g"),Gr=new RegExp("^"+k+"*,"+k+"*"),Ri=new RegExp("^"+k+"*([>+~]|"+k+")"+k+"*"),Mi=new RegExp(k+"|>"),Ai=new RegExp(Aa),Ta=new RegExp("^"+Wn+"$"),Ti={ID:new RegExp("^#("+Wn+")"),CLASS:new RegExp("^\\.("+Wn+")"),TAG:new RegExp("^("+Wn+"|[*])"),ATTR:new RegExp("^"+or),PSEUDO:new RegExp("^"+Aa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+k+"*(even|odd|(([+-]|)(\\d*)n|)"+k+"*(?:([+-]|)"+k+"*(\\d+)|))"+k+"*\\)|)","i"),bool:new RegExp("^(?:"+Di+")$","i"),needsContext:new RegExp("^"+k+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+k+"*((?:-\\d)?\\d*)"+k+"*\\)|)(?=[^-]|$)","i")},Li=/^(?:input|select|textarea|button)$/i,ia=/^h\d$/i,Qn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sl=/[+~]/,ji=new RegExp("\\\\[\\da-fA-F]{1,6}"+k+"?|\\\\([^\\r\\n\\f])","g"),Gn=function(Se,We){var rt="0x"+Se.slice(1)-65536;return We||(rt<0?String.fromCharCode(rt+65536):String.fromCharCode(rt>>10|55296,rt&1023|56320))},ld=function(){Oa()},xu=ks(function(Se){return Se.disabled===!0&&M(Se,"fieldset")},{dir:"parentNode",next:"legend"});function wr(){try{return fe.activeElement}catch{}}try{re.apply(r=a.call(q.childNodes),q.childNodes),r[q.childNodes.length].nodeType}catch{re={apply:function(We,rt){G.apply(We,a.call(rt))},call:function(We){G.apply(We,a.call(arguments,1))}}}function Cr(Se,We,rt,dt){var vt,Tt,Ot,Bt,kt,ar,jt,Gt=We&&We.ownerDocument,rr=We?We.nodeType:9;if(rt=rt||[],typeof Se!="string"||!Se||rr!==1&&rr!==9&&rr!==11)return rt;if(!dt&&(Oa(We),We=We||fe,Te)){if(rr!==11&&(kt=Qn.exec(Se)))if(vt=kt[1]){if(rr===9)if(Ot=We.getElementById(vt)){if(Ot.id===vt)return re.call(rt,Ot),rt}else return rt;else if(Gt&&(Ot=Gt.getElementById(vt))&&Cr.contains(We,Ot)&&Ot.id===vt)return re.call(rt,Ot),rt}else{if(kt[2])return re.apply(rt,We.getElementsByTagName(Se)),rt;if((vt=kt[3])&&We.getElementsByClassName)return re.apply(rt,We.getElementsByClassName(vt)),rt}if(!gn[Se+" "]&&(!Ze||!Ze.test(Se))){if(jt=Se,Gt=We,rr===1&&(Mi.test(Se)||Ri.test(Se))){for(Gt=sl.test(Se)&&ol(We.parentNode)||We,(Gt!=We||!S.scope)&&((Bt=We.getAttribute("id"))?Bt=f.escapeSelector(Bt):We.setAttribute("id",Bt=_t)),ar=ka(Se),Tt=ar.length;Tt--;)ar[Tt]=(Bt?"#"+Bt:":scope")+" "+Na(ar[Tt]);jt=ar.join(",")}try{return re.apply(rt,Gt.querySelectorAll(jt)),rt}catch{gn(Se,!0)}finally{Bt===_t&&We.removeAttribute("id")}}}return ll(Se.replace(I,"$1"),We,rt,dt)}function Os(){var Se=[];function We(rt,dt){return Se.push(rt+" ")>P.cacheLength&&delete We[Se.shift()],We[rt+" "]=dt}return We}function Hn(Se){return Se[_t]=!0,Se}function aa(Se){var We=fe.createElement("fieldset");try{return!!Se(We)}catch{return!1}finally{We.parentNode&&We.parentNode.removeChild(We),We=null}}function wu(Se){return function(We){return M(We,"input")&&We.type===Se}}function ud(Se){return function(We){return(M(We,"input")||M(We,"button"))&&We.type===Se}}function es(Se){return function(We){return"form"in We?We.parentNode&&We.disabled===!1?"label"in We?"label"in We.parentNode?We.parentNode.disabled===Se:We.disabled===Se:We.isDisabled===Se||We.isDisabled!==!Se&&xu(We)===Se:We.disabled===Se:"label"in We?We.disabled===Se:!1}}function La(Se){return Hn(function(We){return We=+We,Hn(function(rt,dt){for(var vt,Tt=Se([],rt.length,We),Ot=Tt.length;Ot--;)rt[vt=Tt[Ot]]&&(rt[vt]=!(dt[vt]=rt[vt]))})})}function ol(Se){return Se&&typeof Se.getElementsByTagName<"u"&&Se}function Oa(Se){var We,rt=Se?Se.ownerDocument||Se:q;return rt==fe||rt.nodeType!==9||!rt.documentElement||(fe=rt,Oe=fe.documentElement,Te=!f.isXMLDoc(fe),ct=Oe.matches||Oe.webkitMatchesSelector||Oe.msMatchesSelector,q!=fe&&(We=fe.defaultView)&&We.top!==We&&We.addEventListener("unload",ld),S.getById=aa(function(dt){return Oe.appendChild(dt).id=f.expando,!fe.getElementsByName||!fe.getElementsByName(f.expando).length}),S.disconnectedMatch=aa(function(dt){return ct.call(dt,"*")}),S.scope=aa(function(){return fe.querySelectorAll(":scope")}),S.cssHas=aa(function(){try{return fe.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),S.getById?(P.filter.ID=function(dt){var vt=dt.replace(ji,Gn);return function(Tt){return Tt.getAttribute("id")===vt}},P.find.ID=function(dt,vt){if(typeof vt.getElementById<"u"&&Te){var Tt=vt.getElementById(dt);return Tt?[Tt]:[]}}):(P.filter.ID=function(dt){var vt=dt.replace(ji,Gn);return function(Tt){var Ot=typeof Tt.getAttributeNode<"u"&&Tt.getAttributeNode("id");return Ot&&Ot.value===vt}},P.find.ID=function(dt,vt){if(typeof vt.getElementById<"u"&&Te){var Tt,Ot,Bt,kt=vt.getElementById(dt);if(kt){if(Tt=kt.getAttributeNode("id"),Tt&&Tt.value===dt)return[kt];for(Bt=vt.getElementsByName(dt),Ot=0;kt=Bt[Ot++];)if(Tt=kt.getAttributeNode("id"),Tt&&Tt.value===dt)return[kt]}return[]}}),P.find.TAG=function(dt,vt){return typeof vt.getElementsByTagName<"u"?vt.getElementsByTagName(dt):vt.querySelectorAll(dt)},P.find.CLASS=function(dt,vt){if(typeof vt.getElementsByClassName<"u"&&Te)return vt.getElementsByClassName(dt)},Ze=[],aa(function(dt){var vt;Oe.appendChild(dt).innerHTML="<a id='"+_t+"' href='' disabled='disabled'></a><select id='"+_t+"-\r\\' disabled='disabled'><option selected=''></option></select>",dt.querySelectorAll("[selected]").length||Ze.push("\\["+k+"*(?:value|"+Di+")"),dt.querySelectorAll("[id~="+_t+"-]").length||Ze.push("~="),dt.querySelectorAll("a#"+_t+"+*").length||Ze.push(".#.+[+~]"),dt.querySelectorAll(":checked").length||Ze.push(":checked"),vt=fe.createElement("input"),vt.setAttribute("type","hidden"),dt.appendChild(vt).setAttribute("name","D"),Oe.appendChild(dt).disabled=!0,dt.querySelectorAll(":disabled").length!==2&&Ze.push(":enabled",":disabled"),vt=fe.createElement("input"),vt.setAttribute("name",""),dt.appendChild(vt),dt.querySelectorAll("[name='']").length||Ze.push("\\["+k+"*name"+k+"*="+k+`*(?:''|"")`)}),S.cssHas||Ze.push(":has"),Ze=Ze.length&&new RegExp(Ze.join("|")),tn=function(dt,vt){if(dt===vt)return ee=!0,0;var Tt=!dt.compareDocumentPosition-!vt.compareDocumentPosition;return Tt||(Tt=(dt.ownerDocument||dt)==(vt.ownerDocument||vt)?dt.compareDocumentPosition(vt):1,Tt&1||!S.sortDetached&&vt.compareDocumentPosition(dt)===Tt?dt===fe||dt.ownerDocument==q&&Cr.contains(q,dt)?-1:vt===fe||vt.ownerDocument==q&&Cr.contains(q,vt)?1:K?u.call(K,dt)-u.call(K,vt):0:Tt&4?-1:1)}),fe}Cr.matches=function(Se,We){return Cr(Se,null,null,We)},Cr.matchesSelector=function(Se,We){if(Oa(Se),Te&&!gn[We+" "]&&(!Ze||!Ze.test(We)))try{var rt=ct.call(Se,We);if(rt||S.disconnectedMatch||Se.document&&Se.document.nodeType!==11)return rt}catch{gn(We,!0)}return Cr(We,fe,null,[Se]).length>0},Cr.contains=function(Se,We){return(Se.ownerDocument||Se)!=fe&&Oa(Se),f.contains(Se,We)},Cr.attr=function(Se,We){(Se.ownerDocument||Se)!=fe&&Oa(Se);var rt=P.attrHandle[We.toLowerCase()],dt=rt&&h.call(P.attrHandle,We.toLowerCase())?rt(Se,We,!Te):void 0;return dt!==void 0?dt:Se.getAttribute(We)},Cr.error=function(Se){throw new Error("Syntax error, unrecognized expression: "+Se)},f.uniqueSort=function(Se){var We,rt=[],dt=0,vt=0;if(ee=!S.sortStable,K=!S.sortStable&&a.call(Se,0),O.call(Se,tn),ee){for(;We=Se[vt++];)We===Se[vt]&&(dt=rt.push(vt));for(;dt--;)z.call(Se,rt[dt],1)}return K=null,Se},f.fn.uniqueSort=function(){return this.pushStack(f.uniqueSort(a.apply(this)))},P=f.expr={cacheLength:50,createPseudo:Hn,match:Ti,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Se){return Se[1]=Se[1].replace(ji,Gn),Se[3]=(Se[3]||Se[4]||Se[5]||"").replace(ji,Gn),Se[2]==="~="&&(Se[3]=" "+Se[3]+" "),Se.slice(0,4)},CHILD:function(Se){return Se[1]=Se[1].toLowerCase(),Se[1].slice(0,3)==="nth"?(Se[3]||Cr.error(Se[0]),Se[4]=+(Se[4]?Se[5]+(Se[6]||1):2*(Se[3]==="even"||Se[3]==="odd")),Se[5]=+(Se[7]+Se[8]||Se[3]==="odd")):Se[3]&&Cr.error(Se[0]),Se},PSEUDO:function(Se){var We,rt=!Se[6]&&Se[2];return Ti.CHILD.test(Se[0])?null:(Se[3]?Se[2]=Se[4]||Se[5]||"":rt&&Ai.test(rt)&&(We=ka(rt,!0))&&(We=rt.indexOf(")",rt.length-We)-rt.length)&&(Se[0]=Se[0].slice(0,We),Se[2]=rt.slice(0,We)),Se.slice(0,3))}},filter:{TAG:function(Se){var We=Se.replace(ji,Gn).toLowerCase();return Se==="*"?function(){return!0}:function(rt){return M(rt,We)}},CLASS:function(Se){var We=Kt[Se+" "];return We||(We=new RegExp("(^|"+k+")"+Se+"("+k+"|$)"))&&Kt(Se,function(rt){return We.test(typeof rt.className=="string"&&rt.className||typeof rt.getAttribute<"u"&&rt.getAttribute("class")||"")})},ATTR:function(Se,We,rt){return function(dt){var vt=Cr.attr(dt,Se);return vt==null?We==="!=":We?(vt+="",We==="="?vt===rt:We==="!="?vt!==rt:We==="^="?rt&&vt.indexOf(rt)===0:We==="*="?rt&&vt.indexOf(rt)>-1:We==="$="?rt&&vt.slice(-rt.length)===rt:We==="~="?(" "+vt.replace(pr," ")+" ").indexOf(rt)>-1:We==="|="?vt===rt||vt.slice(0,rt.length+1)===rt+"-":!1):!0}},CHILD:function(Se,We,rt,dt,vt){var Tt=Se.slice(0,3)!=="nth",Ot=Se.slice(-4)!=="last",Bt=We==="of-type";return dt===1&&vt===0?function(kt){return!!kt.parentNode}:function(kt,ar,jt){var Gt,rr,Wt,fr,vn,_n=Tt!==Ot?"nextSibling":"previousSibling",In=kt.parentNode,qn=Bt&&kt.nodeName.toLowerCase(),Pa=!jt&&!Bt,xn=!1;if(In){if(Tt){for(;_n;){for(Wt=kt;Wt=Wt[_n];)if(Bt?M(Wt,qn):Wt.nodeType===1)return!1;vn=_n=Se==="only"&&!vn&&"nextSibling"}return!0}if(vn=[Ot?In.firstChild:In.lastChild],Ot&&Pa){for(rr=In[_t]||(In[_t]={}),Gt=rr[Se]||[],fr=Gt[0]===nt&&Gt[1],xn=fr&&Gt[2],Wt=fr&&In.childNodes[fr];Wt=++fr&&Wt&&Wt[_n]||(xn=fr=0)||vn.pop();)if(Wt.nodeType===1&&++xn&&Wt===kt){rr[Se]=[nt,fr,xn];break}}else if(Pa&&(rr=kt[_t]||(kt[_t]={}),Gt=rr[Se]||[],fr=Gt[0]===nt&&Gt[1],xn=fr),xn===!1)for(;(Wt=++fr&&Wt&&Wt[_n]||(xn=fr=0)||vn.pop())&&!((Bt?M(Wt,qn):Wt.nodeType===1)&&++xn&&(Pa&&(rr=Wt[_t]||(Wt[_t]={}),rr[Se]=[nt,xn]),Wt===kt)););return xn-=vt,xn===dt||xn%dt===0&&xn/dt>=0}}},PSEUDO:function(Se,We){var rt,dt=P.pseudos[Se]||P.setFilters[Se.toLowerCase()]||Cr.error("unsupported pseudo: "+Se);return dt[_t]?dt(We):dt.length>1?(rt=[Se,Se,"",We],P.setFilters.hasOwnProperty(Se.toLowerCase())?Hn(function(vt,Tt){for(var Ot,Bt=dt(vt,We),kt=Bt.length;kt--;)Ot=u.call(vt,Bt[kt]),vt[Ot]=!(Tt[Ot]=Bt[kt])}):function(vt){return dt(vt,0,rt)}):dt}},pseudos:{not:Hn(function(Se){var We=[],rt=[],dt=Pn(Se.replace(I,"$1"));return dt[_t]?Hn(function(vt,Tt,Ot,Bt){for(var kt,ar=dt(vt,null,Bt,[]),jt=vt.length;jt--;)(kt=ar[jt])&&(vt[jt]=!(Tt[jt]=kt))}):function(vt,Tt,Ot){return We[0]=vt,dt(We,null,Ot,rt),We[0]=null,!rt.pop()}}),has:Hn(function(Se){return function(We){return Cr(Se,We).length>0}}),contains:Hn(function(Se){return Se=Se.replace(ji,Gn),function(We){return(We.textContent||f.text(We)).indexOf(Se)>-1}}),lang:Hn(function(Se){return Ta.test(Se||"")||Cr.error("unsupported lang: "+Se),Se=Se.replace(ji,Gn).toLowerCase(),function(We){var rt;do if(rt=Te?We.lang:We.getAttribute("xml:lang")||We.getAttribute("lang"))return rt=rt.toLowerCase(),rt===Se||rt.indexOf(Se+"-")===0;while((We=We.parentNode)&&We.nodeType===1);return!1}}),target:function(Se){var We=e.location&&e.location.hash;return We&&We.slice(1)===Se.id},root:function(Se){return Se===Oe},focus:function(Se){return Se===wr()&&fe.hasFocus()&&!!(Se.type||Se.href||~Se.tabIndex)},enabled:es(!1),disabled:es(!0),checked:function(Se){return M(Se,"input")&&!!Se.checked||M(Se,"option")&&!!Se.selected},selected:function(Se){return Se.parentNode&&Se.parentNode.selectedIndex,Se.selected===!0},empty:function(Se){for(Se=Se.firstChild;Se;Se=Se.nextSibling)if(Se.nodeType<6)return!1;return!0},parent:function(Se){return!P.pseudos.empty(Se)},header:function(Se){return ia.test(Se.nodeName)},input:function(Se){return Li.test(Se.nodeName)},button:function(Se){return M(Se,"input")&&Se.type==="button"||M(Se,"button")},text:function(Se){var We;return M(Se,"input")&&Se.type==="text"&&((We=Se.getAttribute("type"))==null||We.toLowerCase()==="text")},first:La(function(){return[0]}),last:La(function(Se,We){return[We-1]}),eq:La(function(Se,We,rt){return[rt<0?rt+We:rt]}),even:La(function(Se,We){for(var rt=0;rt<We;rt+=2)Se.push(rt);return Se}),odd:La(function(Se,We){for(var rt=1;rt<We;rt+=2)Se.push(rt);return Se}),lt:La(function(Se,We,rt){var dt;for(rt<0?dt=rt+We:rt>We?dt=We:dt=rt;--dt>=0;)Se.push(dt);return Se}),gt:La(function(Se,We,rt){for(var dt=rt<0?rt+We:rt;++dt<We;)Se.push(dt);return Se})}},P.pseudos.nth=P.pseudos.eq;for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})P.pseudos[A]=wu(A);for(A in{submit:!0,reset:!0})P.pseudos[A]=ud(A);function Wi(){}Wi.prototype=P.filters=P.pseudos,P.setFilters=new Wi;function ka(Se,We){var rt,dt,vt,Tt,Ot,Bt,kt,ar=ur[Se+" "];if(ar)return We?0:ar.slice(0);for(Ot=Se,Bt=[],kt=P.preFilter;Ot;){(!rt||(dt=Gr.exec(Ot)))&&(dt&&(Ot=Ot.slice(dt[0].length)||Ot),Bt.push(vt=[])),rt=!1,(dt=Ri.exec(Ot))&&(rt=dt.shift(),vt.push({value:rt,type:dt[0].replace(I," ")}),Ot=Ot.slice(rt.length));for(Tt in P.filter)(dt=Ti[Tt].exec(Ot))&&(!kt[Tt]||(dt=kt[Tt](dt)))&&(rt=dt.shift(),vt.push({value:rt,type:Tt,matches:dt}),Ot=Ot.slice(rt.length));if(!rt)break}return We?Ot.length:Ot?Cr.error(Se):ur(Se,Bt).slice(0)}function Na(Se){for(var We=0,rt=Se.length,dt="";We<rt;We++)dt+=Se[We].value;return dt}function ks(Se,We,rt){var dt=We.dir,vt=We.next,Tt=vt||dt,Ot=rt&&Tt==="parentNode",Bt=wt++;return We.first?function(kt,ar,jt){for(;kt=kt[dt];)if(kt.nodeType===1||Ot)return Se(kt,ar,jt);return!1}:function(kt,ar,jt){var Gt,rr,Wt=[nt,Bt];if(jt){for(;kt=kt[dt];)if((kt.nodeType===1||Ot)&&Se(kt,ar,jt))return!0}else for(;kt=kt[dt];)if(kt.nodeType===1||Ot)if(rr=kt[_t]||(kt[_t]={}),vt&&M(kt,vt))kt=kt[dt]||kt;else{if((Gt=rr[Tt])&&Gt[0]===nt&&Gt[1]===Bt)return Wt[2]=Gt[2];if(rr[Tt]=Wt,Wt[2]=Se(kt,ar,jt))return!0}return!1}}function Ns(Se){return Se.length>1?function(We,rt,dt){for(var vt=Se.length;vt--;)if(!Se[vt](We,rt,dt))return!1;return!0}:Se[0]}function fd(Se,We,rt){for(var dt=0,vt=We.length;dt<vt;dt++)Cr(Se,We[dt],rt);return rt}function Gi(Se,We,rt,dt,vt){for(var Tt,Ot=[],Bt=0,kt=Se.length,ar=We!=null;Bt<kt;Bt++)(Tt=Se[Bt])&&(!rt||rt(Tt,dt,vt))&&(Ot.push(Tt),ar&&We.push(Bt));return Ot}function fi(Se,We,rt,dt,vt,Tt){return dt&&!dt[_t]&&(dt=fi(dt)),vt&&!vt[_t]&&(vt=fi(vt,Tt)),Hn(function(Ot,Bt,kt,ar){var jt,Gt,rr,Wt,fr=[],vn=[],_n=Bt.length,In=Ot||fd(We||"*",kt.nodeType?[kt]:kt,[]),qn=Se&&(Ot||!We)?Gi(In,fr,Se,kt,ar):In;if(rt?(Wt=vt||(Ot?Se:_n||dt)?[]:Bt,rt(qn,Wt,kt,ar)):Wt=qn,dt)for(jt=Gi(Wt,vn),dt(jt,[],kt,ar),Gt=jt.length;Gt--;)(rr=jt[Gt])&&(Wt[vn[Gt]]=!(qn[vn[Gt]]=rr));if(Ot){if(vt||Se){if(vt){for(jt=[],Gt=Wt.length;Gt--;)(rr=Wt[Gt])&&jt.push(qn[Gt]=rr);vt(null,Wt=[],jt,ar)}for(Gt=Wt.length;Gt--;)(rr=Wt[Gt])&&(jt=vt?u.call(Ot,rr):fr[Gt])>-1&&(Ot[jt]=!(Bt[jt]=rr))}}else Wt=Gi(Wt===Bt?Wt.splice(_n,Wt.length):Wt),vt?vt(null,Bt,Wt,ar):re.apply(Bt,Wt)})}function Ps(Se){for(var We,rt,dt,vt=Se.length,Tt=P.relative[Se[0].type],Ot=Tt||P.relative[" "],Bt=Tt?1:0,kt=ks(function(Gt){return Gt===We},Ot,!0),ar=ks(function(Gt){return u.call(We,Gt)>-1},Ot,!0),jt=[function(Gt,rr,Wt){var fr=!Tt&&(Wt||rr!=R)||((We=rr).nodeType?kt(Gt,rr,Wt):ar(Gt,rr,Wt));return We=null,fr}];Bt<vt;Bt++)if(rt=P.relative[Se[Bt].type])jt=[ks(Ns(jt),rt)];else{if(rt=P.filter[Se[Bt].type].apply(null,Se[Bt].matches),rt[_t]){for(dt=++Bt;dt<vt&&!P.relative[Se[dt].type];dt++);return fi(Bt>1&&Ns(jt),Bt>1&&Na(Se.slice(0,Bt-1).concat({value:Se[Bt-2].type===" "?"*":""})).replace(I,"$1"),rt,Bt<dt&&Ps(Se.slice(Bt,dt)),dt<vt&&Ps(Se=Se.slice(dt)),dt<vt&&Na(Se))}jt.push(rt)}return Ns(jt)}function dd(Se,We){var rt=We.length>0,dt=Se.length>0,vt=function(Tt,Ot,Bt,kt,ar){var jt,Gt,rr,Wt=0,fr="0",vn=Tt&&[],_n=[],In=R,qn=Tt||dt&&P.find.TAG("*",ar),Pa=nt+=In==null?1:Math.random()||.1,xn=qn.length;for(ar&&(R=Ot==fe||Ot||ar);fr!==xn&&(jt=qn[fr])!=null;fr++){if(dt&&jt){for(Gt=0,!Ot&&jt.ownerDocument!=fe&&(Oa(jt),Bt=!Te);rr=Se[Gt++];)if(rr(jt,Ot||fe,Bt)){re.call(kt,jt);break}ar&&(nt=Pa)}rt&&((jt=!rr&&jt)&&Wt--,Tt&&vn.push(jt))}if(Wt+=fr,rt&&fr!==Wt){for(Gt=0;rr=We[Gt++];)rr(vn,_n,Ot,Bt);if(Tt){if(Wt>0)for(;fr--;)vn[fr]||_n[fr]||(_n[fr]=N.call(kt));_n=Gi(_n)}re.apply(kt,_n),ar&&!Tt&&_n.length>0&&Wt+We.length>1&&f.uniqueSort(kt)}return ar&&(nt=Pa,R=In),vn};return rt?Hn(vt):vt}function Pn(Se,We){var rt,dt=[],vt=[],Tt=tr[Se+" "];if(!Tt){for(We||(We=ka(Se)),rt=We.length;rt--;)Tt=Ps(We[rt]),Tt[_t]?dt.push(Tt):vt.push(Tt);Tt=tr(Se,dd(vt,dt)),Tt.selector=Se}return Tt}function ll(Se,We,rt,dt){var vt,Tt,Ot,Bt,kt,ar=typeof Se=="function"&&Se,jt=!dt&&ka(Se=ar.selector||Se);if(rt=rt||[],jt.length===1){if(Tt=jt[0]=jt[0].slice(0),Tt.length>2&&(Ot=Tt[0]).type==="ID"&&We.nodeType===9&&Te&&P.relative[Tt[1].type]){if(We=(P.find.ID(Ot.matches[0].replace(ji,Gn),We)||[])[0],We)ar&&(We=We.parentNode);else return rt;Se=Se.slice(Tt.shift().value.length)}for(vt=Ti.needsContext.test(Se)?0:Tt.length;vt--&&(Ot=Tt[vt],!P.relative[Bt=Ot.type]);)if((kt=P.find[Bt])&&(dt=kt(Ot.matches[0].replace(ji,Gn),sl.test(Tt[0].type)&&ol(We.parentNode)||We))){if(Tt.splice(vt,1),Se=dt.length&&Na(Tt),!Se)return re.apply(rt,dt),rt;break}}return(ar||Pn(Se,jt))(dt,We,!Te,rt,!We||sl.test(Se)&&ol(We.parentNode)||We),rt}S.sortStable=_t.split("").sort(tn).join("")===_t,Oa(),S.sortDetached=aa(function(Se){return Se.compareDocumentPosition(fe.createElement("fieldset"))&1}),f.find=Cr,f.expr[":"]=f.expr.pseudos,f.unique=f.uniqueSort,Cr.compile=Pn,Cr.select=ll,Cr.setDocument=Oa,Cr.escape=f.escapeSelector,Cr.getText=f.text,Cr.isXML=f.isXMLDoc,Cr.selectors=f.expr,Cr.support=f.support,Cr.uniqueSort=f.uniqueSort})();var $=function(A,P,R){for(var K=[],ee=R!==void 0;(A=A[P])&&A.nodeType!==9;)if(A.nodeType===1){if(ee&&f(A).is(R))break;K.push(A)}return K},j=function(A,P){for(var R=[];A;A=A.nextSibling)A.nodeType===1&&A!==P&&R.push(A);return R},V=f.expr.match.needsContext,X=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(A,P,R){return w(P)?f.grep(A,function(K,ee){return!!P.call(K,ee,K)!==R}):P.nodeType?f.grep(A,function(K){return K===P!==R}):typeof P!="string"?f.grep(A,function(K){return u.call(P,K)>-1!==R}):f.filter(P,A,R)}f.filter=function(A,P,R){var K=P[0];return R&&(A=":not("+A+")"),P.length===1&&K.nodeType===1?f.find.matchesSelector(K,A)?[K]:[]:f.find.matches(A,f.grep(P,function(ee){return ee.nodeType===1}))},f.fn.extend({find:function(A){var P,R,K=this.length,ee=this;if(typeof A!="string")return this.pushStack(f(A).filter(function(){for(P=0;P<K;P++)if(f.contains(ee[P],this))return!0}));for(R=this.pushStack([]),P=0;P<K;P++)f.find(A,ee[P],R);return K>1?f.uniqueSort(R):R},filter:function(A){return this.pushStack(Q(this,A||[],!1))},not:function(A){return this.pushStack(Q(this,A||[],!0))},is:function(A){return!!Q(this,typeof A=="string"&&V.test(A)?f(A):A||[],!1).length}});var te,we=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Pe=f.fn.init=function(A,P,R){var K,ee;if(!A)return this;if(R=R||te,typeof A=="string")if(A[0]==="<"&&A[A.length-1]===">"&&A.length>=3?K=[null,A,null]:K=we.exec(A),K&&(K[1]||!P))if(K[1]){if(P=P instanceof f?P[0]:P,f.merge(this,f.parseHTML(K[1],P&&P.nodeType?P.ownerDocument||P:_,!0)),X.test(K[1])&&f.isPlainObject(P))for(K in P)w(this[K])?this[K](P[K]):this.attr(K,P[K]);return this}else return ee=_.getElementById(K[2]),ee&&(this[0]=ee,this.length=1),this;else return!P||P.jquery?(P||R).find(A):this.constructor(P).find(A);else{if(A.nodeType)return this[0]=A,this.length=1,this;if(w(A))return R.ready!==void 0?R.ready(A):A(f)}return f.makeArray(A,this)};Pe.prototype=f.fn,te=f(_);var xe=/^(?:parents|prev(?:Until|All))/,Fe={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(A){var P=f(A,this),R=P.length;return this.filter(function(){for(var K=0;K<R;K++)if(f.contains(this,P[K]))return!0})},closest:function(A,P){var R,K=0,ee=this.length,re=[],fe=typeof A!="string"&&f(A);if(!V.test(A)){for(;K<ee;K++)for(R=this[K];R&&R!==P;R=R.parentNode)if(R.nodeType<11&&(fe?fe.index(R)>-1:R.nodeType===1&&f.find.matchesSelector(R,A))){re.push(R);break}}return this.pushStack(re.length>1?f.uniqueSort(re):re)},index:function(A){return A?typeof A=="string"?u.call(f(A),this[0]):u.call(this,A.jquery?A[0]:A):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(A,P){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(A,P))))},addBack:function(A){return this.add(A==null?this.prevObject:this.prevObject.filter(A))}});function Ae(A,P){for(;(A=A[P])&&A.nodeType!==1;);return A}f.each({parent:function(A){var P=A.parentNode;return P&&P.nodeType!==11?P:null},parents:function(A){return $(A,"parentNode")},parentsUntil:function(A,P,R){return $(A,"parentNode",R)},next:function(A){return Ae(A,"nextSibling")},prev:function(A){return Ae(A,"previousSibling")},nextAll:function(A){return $(A,"nextSibling")},prevAll:function(A){return $(A,"previousSibling")},nextUntil:function(A,P,R){return $(A,"nextSibling",R)},prevUntil:function(A,P,R){return $(A,"previousSibling",R)},siblings:function(A){return j((A.parentNode||{}).firstChild,A)},children:function(A){return j(A.firstChild)},contents:function(A){return A.contentDocument!=null&&n(A.contentDocument)?A.contentDocument:(M(A,"template")&&(A=A.content||A),f.merge([],A.childNodes))}},function(A,P){f.fn[A]=function(R,K){var ee=f.map(this,P,R);return A.slice(-5)!=="Until"&&(K=R),K&&typeof K=="string"&&(ee=f.filter(K,ee)),this.length>1&&(Fe[A]||f.uniqueSort(ee),xe.test(A)&&ee.reverse()),this.pushStack(ee)}});var be=/[^\x20\t\r\n\f]+/g;function Qe(A){var P={};return f.each(A.match(be)||[],function(R,K){P[K]=!0}),P}f.Callbacks=function(A){A=typeof A=="string"?Qe(A):f.extend({},A);var P,R,K,ee,re=[],fe=[],Oe=-1,Te=function(){for(ee=ee||A.once,K=P=!0;fe.length;Oe=-1)for(R=fe.shift();++Oe<re.length;)re[Oe].apply(R[0],R[1])===!1&&A.stopOnFalse&&(Oe=re.length,R=!1);A.memory||(R=!1),P=!1,ee&&(R?re=[]:re="")},Ze={add:function(){return re&&(R&&!P&&(Oe=re.length-1,fe.push(R)),function ct(_t){f.each(_t,function(nt,wt){w(wt)?(!A.unique||!Ze.has(wt))&&re.push(wt):wt&&wt.length&&C(wt)!=="string"&&ct(wt)})}(arguments),R&&!P&&Te()),this},remove:function(){return f.each(arguments,function(ct,_t){for(var nt;(nt=f.inArray(_t,re,nt))>-1;)re.splice(nt,1),nt<=Oe&&Oe--}),this},has:function(ct){return ct?f.inArray(ct,re)>-1:re.length>0},empty:function(){return re&&(re=[]),this},disable:function(){return ee=fe=[],re=R="",this},disabled:function(){return!re},lock:function(){return ee=fe=[],!R&&!P&&(re=R=""),this},locked:function(){return!!ee},fireWith:function(ct,_t){return ee||(_t=_t||[],_t=[ct,_t.slice?_t.slice():_t],fe.push(_t),P||Te()),this},fire:function(){return Ze.fireWith(this,arguments),this},fired:function(){return!!K}};return Ze};function Xe(A){return A}function U(A){throw A}function pe(A,P,R,K){var ee;try{A&&w(ee=A.promise)?ee.call(A).done(P).fail(R):A&&w(ee=A.then)?ee.call(A,P,R):P.apply(void 0,[A].slice(K))}catch(re){R.apply(void 0,[re])}}f.extend({Deferred:function(A){var P=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],R="pending",K={state:function(){return R},always:function(){return ee.done(arguments).fail(arguments),this},catch:function(re){return K.then(null,re)},pipe:function(){var re=arguments;return f.Deferred(function(fe){f.each(P,function(Oe,Te){var Ze=w(re[Te[4]])&&re[Te[4]];ee[Te[1]](function(){var ct=Ze&&Ze.apply(this,arguments);ct&&w(ct.promise)?ct.promise().progress(fe.notify).done(fe.resolve).fail(fe.reject):fe[Te[0]+"With"](this,Ze?[ct]:arguments)})}),re=null}).promise()},then:function(re,fe,Oe){var Te=0;function Ze(ct,_t,nt,wt){return function(){var Kt=this,ur=arguments,tr=function(){var tn,Di;if(!(ct<Te)){if(tn=nt.apply(Kt,ur),tn===_t.promise())throw new TypeError("Thenable self-resolution");Di=tn&&(typeof tn=="object"||typeof tn=="function")&&tn.then,w(Di)?wt?Di.call(tn,Ze(Te,_t,Xe,wt),Ze(Te,_t,U,wt)):(Te++,Di.call(tn,Ze(Te,_t,Xe,wt),Ze(Te,_t,U,wt),Ze(Te,_t,Xe,_t.notifyWith))):(nt!==Xe&&(Kt=void 0,ur=[tn]),(wt||_t.resolveWith)(Kt,ur))}},gn=wt?tr:function(){try{tr()}catch(tn){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(tn,gn.error),ct+1>=Te&&(nt!==U&&(Kt=void 0,ur=[tn]),_t.rejectWith(Kt,ur))}};ct?gn():(f.Deferred.getErrorHook?gn.error=f.Deferred.getErrorHook():f.Deferred.getStackHook&&(gn.error=f.Deferred.getStackHook()),e.setTimeout(gn))}}return f.Deferred(function(ct){P[0][3].add(Ze(0,ct,w(Oe)?Oe:Xe,ct.notifyWith)),P[1][3].add(Ze(0,ct,w(re)?re:Xe)),P[2][3].add(Ze(0,ct,w(fe)?fe:U))}).promise()},promise:function(re){return re!=null?f.extend(re,K):K}},ee={};return f.each(P,function(re,fe){var Oe=fe[2],Te=fe[5];K[fe[1]]=Oe.add,Te&&Oe.add(function(){R=Te},P[3-re][2].disable,P[3-re][3].disable,P[0][2].lock,P[0][3].lock),Oe.add(fe[3].fire),ee[fe[0]]=function(){return ee[fe[0]+"With"](this===ee?void 0:this,arguments),this},ee[fe[0]+"With"]=Oe.fireWith}),K.promise(ee),A&&A.call(ee,ee),ee},when:function(A){var P=arguments.length,R=P,K=Array(R),ee=a.call(arguments),re=f.Deferred(),fe=function(Oe){return function(Te){K[Oe]=this,ee[Oe]=arguments.length>1?a.call(arguments):Te,--P||re.resolveWith(K,ee)}};if(P<=1&&(pe(A,re.done(fe(R)).resolve,re.reject,!P),re.state()==="pending"||w(ee[R]&&ee[R].then)))return re.then();for(;R--;)pe(ee[R],fe(R),re.reject);return re.promise()}});var _e=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(A,P){e.console&&e.console.warn&&A&&_e.test(A.name)&&e.console.warn("jQuery.Deferred exception: "+A.message,A.stack,P)},f.readyException=function(A){e.setTimeout(function(){throw A})};var ie=f.Deferred();f.fn.ready=function(A){return ie.then(A).catch(function(P){f.readyException(P)}),this},f.extend({isReady:!1,readyWait:1,ready:function(A){(A===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(A!==!0&&--f.readyWait>0)&&ie.resolveWith(_,[f]))}}),f.ready.then=ie.then;function de(){_.removeEventListener("DOMContentLoaded",de),e.removeEventListener("load",de),f.ready()}_.readyState==="complete"||_.readyState!=="loading"&&!_.documentElement.doScroll?e.setTimeout(f.ready):(_.addEventListener("DOMContentLoaded",de),e.addEventListener("load",de));var ye=function(A,P,R,K,ee,re,fe){var Oe=0,Te=A.length,Ze=R==null;if(C(R)==="object"){ee=!0;for(Oe in R)ye(A,P,Oe,R[Oe],!0,re,fe)}else if(K!==void 0&&(ee=!0,w(K)||(fe=!0),Ze&&(fe?(P.call(A,K),P=null):(Ze=P,P=function(ct,_t,nt){return Ze.call(f(ct),nt)})),P))for(;Oe<Te;Oe++)P(A[Oe],R,fe?K:K.call(A[Oe],Oe,P(A[Oe],R)));return ee?A:Ze?P.call(A):Te?P(A[0],R):re},Re=/^-ms-/,Be=/-([a-z])/g;function Ce(A,P){return P.toUpperCase()}function Ie(A){return A.replace(Re,"ms-").replace(Be,Ce)}var je=function(A){return A.nodeType===1||A.nodeType===9||!+A.nodeType};function Ke(){this.expando=f.expando+Ke.uid++}Ke.uid=1,Ke.prototype={cache:function(A){var P=A[this.expando];return P||(P={},je(A)&&(A.nodeType?A[this.expando]=P:Object.defineProperty(A,this.expando,{value:P,configurable:!0}))),P},set:function(A,P,R){var K,ee=this.cache(A);if(typeof P=="string")ee[Ie(P)]=R;else for(K in P)ee[Ie(K)]=P[K];return ee},get:function(A,P){return P===void 0?this.cache(A):A[this.expando]&&A[this.expando][Ie(P)]},access:function(A,P,R){return P===void 0||P&&typeof P=="string"&&R===void 0?this.get(A,P):(this.set(A,P,R),R!==void 0?R:P)},remove:function(A,P){var R,K=A[this.expando];if(K!==void 0){if(P!==void 0)for(Array.isArray(P)?P=P.map(Ie):(P=Ie(P),P=P in K?[P]:P.match(be)||[]),R=P.length;R--;)delete K[P[R]];(P===void 0||f.isEmptyObject(K))&&(A.nodeType?A[this.expando]=void 0:delete A[this.expando])}},hasData:function(A){var P=A[this.expando];return P!==void 0&&!f.isEmptyObject(P)}};var Ne=new Ke,ht=new Ke,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;function ue(A){return A==="true"?!0:A==="false"?!1:A==="null"?null:A===+A+""?+A:yt.test(A)?JSON.parse(A):A}function ge(A,P,R){var K;if(R===void 0&&A.nodeType===1)if(K="data-"+P.replace(le,"-$&").toLowerCase(),R=A.getAttribute(K),typeof R=="string"){try{R=ue(R)}catch{}ht.set(A,P,R)}else R=void 0;return R}f.extend({hasData:function(A){return ht.hasData(A)||Ne.hasData(A)},data:function(A,P,R){return ht.access(A,P,R)},removeData:function(A,P){ht.remove(A,P)},_data:function(A,P,R){return Ne.access(A,P,R)},_removeData:function(A,P){Ne.remove(A,P)}}),f.fn.extend({data:function(A,P){var R,K,ee,re=this[0],fe=re&&re.attributes;if(A===void 0){if(this.length&&(ee=ht.get(re),re.nodeType===1&&!Ne.get(re,"hasDataAttrs"))){for(R=fe.length;R--;)fe[R]&&(K=fe[R].name,K.indexOf("data-")===0&&(K=Ie(K.slice(5)),ge(re,K,ee[K])));Ne.set(re,"hasDataAttrs",!0)}return ee}return typeof A=="object"?this.each(function(){ht.set(this,A)}):ye(this,function(Oe){var Te;if(re&&Oe===void 0)return Te=ht.get(re,A),Te!==void 0||(Te=ge(re,A),Te!==void 0)?Te:void 0;this.each(function(){ht.set(this,A,Oe)})},null,P,arguments.length>1,null,!0)},removeData:function(A){return this.each(function(){ht.remove(this,A)})}}),f.extend({queue:function(A,P,R){var K;if(A)return P=(P||"fx")+"queue",K=Ne.get(A,P),R&&(!K||Array.isArray(R)?K=Ne.access(A,P,f.makeArray(R)):K.push(R)),K||[]},dequeue:function(A,P){P=P||"fx";var R=f.queue(A,P),K=R.length,ee=R.shift(),re=f._queueHooks(A,P),fe=function(){f.dequeue(A,P)};ee==="inprogress"&&(ee=R.shift(),K--),ee&&(P==="fx"&&R.unshift("inprogress"),delete re.stop,ee.call(A,fe,re)),!K&&re&&re.empty.fire()},_queueHooks:function(A,P){var R=P+"queueHooks";return Ne.get(A,R)||Ne.access(A,R,{empty:f.Callbacks("once memory").add(function(){Ne.remove(A,[P+"queue",R])})})}}),f.fn.extend({queue:function(A,P){var R=2;return typeof A!="string"&&(P=A,A="fx",R--),arguments.length<R?f.queue(this[0],A):P===void 0?this:this.each(function(){var K=f.queue(this,A,P);f._queueHooks(this,A),A==="fx"&&K[0]!=="inprogress"&&f.dequeue(this,A)})},dequeue:function(A){return this.each(function(){f.dequeue(this,A)})},clearQueue:function(A){return this.queue(A||"fx",[])},promise:function(A,P){var R,K=1,ee=f.Deferred(),re=this,fe=this.length,Oe=function(){--K||ee.resolveWith(re,[re])};for(typeof A!="string"&&(P=A,A=void 0),A=A||"fx";fe--;)R=Ne.get(re[fe],A+"queueHooks"),R&&R.empty&&(K++,R.empty.add(Oe));return Oe(),ee.promise(P)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),at=["Top","Right","Bottom","Left"],ot=_.documentElement,se=function(A){return f.contains(A.ownerDocument,A)},Ge={composed:!0};ot.getRootNode&&(se=function(A){return f.contains(A.ownerDocument,A)||A.getRootNode(Ge)===A.ownerDocument});var Je=function(A,P){return A=P||A,A.style.display==="none"||A.style.display===""&&se(A)&&f.css(A,"display")==="none"};function pt(A,P,R,K){var ee,re,fe=20,Oe=K?function(){return K.cur()}:function(){return f.css(A,P,"")},Te=Oe(),Ze=R&&R[3]||(f.cssNumber[P]?"":"px"),ct=A.nodeType&&(f.cssNumber[P]||Ze!=="px"&&+Te)&&ke.exec(f.css(A,P));if(ct&&ct[3]!==Ze){for(Te=Te/2,Ze=Ze||ct[3],ct=+Te||1;fe--;)f.style(A,P,ct+Ze),(1-re)*(1-(re=Oe()/Te||.5))<=0&&(fe=0),ct=ct/re;ct=ct*2,f.style(A,P,ct+Ze),R=R||[]}return R&&(ct=+ct||+Te||0,ee=R[1]?ct+(R[1]+1)*R[2]:+R[2],K&&(K.unit=Ze,K.start=ct,K.end=ee)),ee}var Le={};function lt(A){var P,R=A.ownerDocument,K=A.nodeName,ee=Le[K];return ee||(P=R.body.appendChild(R.createElement(K)),ee=f.css(P,"display"),P.parentNode.removeChild(P),ee==="none"&&(ee="block"),Le[K]=ee,ee)}function oe(A,P){for(var R,K,ee=[],re=0,fe=A.length;re<fe;re++)K=A[re],K.style&&(R=K.style.display,P?(R==="none"&&(ee[re]=Ne.get(K,"display")||null,ee[re]||(K.style.display="")),K.style.display===""&&Je(K)&&(ee[re]=lt(K))):R!=="none"&&(ee[re]="none",Ne.set(K,"display",R)));for(re=0;re<fe;re++)ee[re]!=null&&(A[re].style.display=ee[re]);return A}f.fn.extend({show:function(){return oe(this,!0)},hide:function(){return oe(this)},toggle:function(A){return typeof A=="boolean"?A?this.show():this.hide():this.each(function(){Je(this)?f(this).show():f(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,At=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,W=/^$|^module$|\/(?:java|ecma)script/i;(function(){var A=_.createDocumentFragment(),P=A.appendChild(_.createElement("div")),R=_.createElement("input");R.setAttribute("type","radio"),R.setAttribute("checked","checked"),R.setAttribute("name","t"),P.appendChild(R),S.checkClone=P.cloneNode(!0).cloneNode(!0).lastChild.checked,P.innerHTML="<textarea>x</textarea>",S.noCloneChecked=!!P.cloneNode(!0).lastChild.defaultValue,P.innerHTML="<option></option>",S.option=!!P.lastChild})();var Ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,S.option||(Ve.optgroup=Ve.option=[1,"<select multiple='multiple'>","</select>"]);function Ye(A,P){var R;return typeof A.getElementsByTagName<"u"?R=A.getElementsByTagName(P||"*"):typeof A.querySelectorAll<"u"?R=A.querySelectorAll(P||"*"):R=[],P===void 0||P&&M(A,P)?f.merge([A],R):R}function ce(A,P){for(var R=0,K=A.length;R<K;R++)Ne.set(A[R],"globalEval",!P||Ne.get(P[R],"globalEval"))}var ze=/<|&#?\w+;/;function tt(A,P,R,K,ee){for(var re,fe,Oe,Te,Ze,ct,_t=P.createDocumentFragment(),nt=[],wt=0,Kt=A.length;wt<Kt;wt++)if(re=A[wt],re||re===0)if(C(re)==="object")f.merge(nt,re.nodeType?[re]:re);else if(!ze.test(re))nt.push(P.createTextNode(re));else{for(fe=fe||_t.appendChild(P.createElement("div")),Oe=(At.exec(re)||["",""])[1].toLowerCase(),Te=Ve[Oe]||Ve._default,fe.innerHTML=Te[1]+f.htmlPrefilter(re)+Te[2],ct=Te[0];ct--;)fe=fe.lastChild;f.merge(nt,fe.childNodes),fe=_t.firstChild,fe.textContent=""}for(_t.textContent="",wt=0;re=nt[wt++];){if(K&&f.inArray(re,K)>-1){ee&&ee.push(re);continue}if(Ze=se(re),fe=Ye(_t.appendChild(re),"script"),Ze&&ce(fe),R)for(ct=0;re=fe[ct++];)W.test(re.type||"")&&R.push(re)}return _t}var Lt=/^([^.]*)(?:\.(.+)|)/;function Mt(){return!0}function st(){return!1}function qt(A,P,R,K,ee,re){var fe,Oe;if(typeof P=="object"){typeof R!="string"&&(K=K||R,R=void 0);for(Oe in P)qt(A,Oe,R,K,P[Oe],re);return A}if(K==null&&ee==null?(ee=R,K=R=void 0):ee==null&&(typeof R=="string"?(ee=K,K=void 0):(ee=K,K=R,R=void 0)),ee===!1)ee=st;else if(!ee)return A;return re===1&&(fe=ee,ee=function(Te){return f().off(Te),fe.apply(this,arguments)},ee.guid=fe.guid||(fe.guid=f.guid++)),A.each(function(){f.event.add(this,P,ee,K,R)})}f.event={global:{},add:function(A,P,R,K,ee){var re,fe,Oe,Te,Ze,ct,_t,nt,wt,Kt,ur,tr=Ne.get(A);if(je(A))for(R.handler&&(re=R,R=re.handler,ee=re.selector),ee&&f.find.matchesSelector(ot,ee),R.guid||(R.guid=f.guid++),(Te=tr.events)||(Te=tr.events=Object.create(null)),(fe=tr.handle)||(fe=tr.handle=function(gn){return typeof f<"u"&&f.event.triggered!==gn.type?f.event.dispatch.apply(A,arguments):void 0}),P=(P||"").match(be)||[""],Ze=P.length;Ze--;)Oe=Lt.exec(P[Ze])||[],wt=ur=Oe[1],Kt=(Oe[2]||"").split(".").sort(),wt&&(_t=f.event.special[wt]||{},wt=(ee?_t.delegateType:_t.bindType)||wt,_t=f.event.special[wt]||{},ct=f.extend({type:wt,origType:ur,data:K,handler:R,guid:R.guid,selector:ee,needsContext:ee&&f.expr.match.needsContext.test(ee),namespace:Kt.join(".")},re),(nt=Te[wt])||(nt=Te[wt]=[],nt.delegateCount=0,(!_t.setup||_t.setup.call(A,K,Kt,fe)===!1)&&A.addEventListener&&A.addEventListener(wt,fe)),_t.add&&(_t.add.call(A,ct),ct.handler.guid||(ct.handler.guid=R.guid)),ee?nt.splice(nt.delegateCount++,0,ct):nt.push(ct),f.event.global[wt]=!0)},remove:function(A,P,R,K,ee){var re,fe,Oe,Te,Ze,ct,_t,nt,wt,Kt,ur,tr=Ne.hasData(A)&&Ne.get(A);if(!(!tr||!(Te=tr.events))){for(P=(P||"").match(be)||[""],Ze=P.length;Ze--;){if(Oe=Lt.exec(P[Ze])||[],wt=ur=Oe[1],Kt=(Oe[2]||"").split(".").sort(),!wt){for(wt in Te)f.event.remove(A,wt+P[Ze],R,K,!0);continue}for(_t=f.event.special[wt]||{},wt=(K?_t.delegateType:_t.bindType)||wt,nt=Te[wt]||[],Oe=Oe[2]&&new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"),fe=re=nt.length;re--;)ct=nt[re],(ee||ur===ct.origType)&&(!R||R.guid===ct.guid)&&(!Oe||Oe.test(ct.namespace))&&(!K||K===ct.selector||K==="**"&&ct.selector)&&(nt.splice(re,1),ct.selector&&nt.delegateCount--,_t.remove&&_t.remove.call(A,ct));fe&&!nt.length&&((!_t.teardown||_t.teardown.call(A,Kt,tr.handle)===!1)&&f.removeEvent(A,wt,tr.handle),delete Te[wt])}f.isEmptyObject(Te)&&Ne.remove(A,"handle events")}},dispatch:function(A){var P,R,K,ee,re,fe,Oe=new Array(arguments.length),Te=f.event.fix(A),Ze=(Ne.get(this,"events")||Object.create(null))[Te.type]||[],ct=f.event.special[Te.type]||{};for(Oe[0]=Te,P=1;P<arguments.length;P++)Oe[P]=arguments[P];if(Te.delegateTarget=this,!(ct.preDispatch&&ct.preDispatch.call(this,Te)===!1)){for(fe=f.event.handlers.call(this,Te,Ze),P=0;(ee=fe[P++])&&!Te.isPropagationStopped();)for(Te.currentTarget=ee.elem,R=0;(re=ee.handlers[R++])&&!Te.isImmediatePropagationStopped();)(!Te.rnamespace||re.namespace===!1||Te.rnamespace.test(re.namespace))&&(Te.handleObj=re,Te.data=re.data,K=((f.event.special[re.origType]||{}).handle||re.handler).apply(ee.elem,Oe),K!==void 0&&(Te.result=K)===!1&&(Te.preventDefault(),Te.stopPropagation()));return ct.postDispatch&&ct.postDispatch.call(this,Te),Te.result}},handlers:function(A,P){var R,K,ee,re,fe,Oe=[],Te=P.delegateCount,Ze=A.target;if(Te&&Ze.nodeType&&!(A.type==="click"&&A.button>=1)){for(;Ze!==this;Ze=Ze.parentNode||this)if(Ze.nodeType===1&&!(A.type==="click"&&Ze.disabled===!0)){for(re=[],fe={},R=0;R<Te;R++)K=P[R],ee=K.selector+" ",fe[ee]===void 0&&(fe[ee]=K.needsContext?f(ee,this).index(Ze)>-1:f.find(ee,this,null,[Ze]).length),fe[ee]&&re.push(K);re.length&&Oe.push({elem:Ze,handlers:re})}}return Ze=this,Te<P.length&&Oe.push({elem:Ze,handlers:P.slice(Te)}),Oe},addProp:function(A,P){Object.defineProperty(f.Event.prototype,A,{enumerable:!0,configurable:!0,get:w(P)?function(){if(this.originalEvent)return P(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[A]},set:function(R){Object.defineProperty(this,A,{enumerable:!0,configurable:!0,writable:!0,value:R})}})},fix:function(A){return A[f.expando]?A:new f.Event(A)},special:{load:{noBubble:!0},click:{setup:function(A){var P=this||A;return ft.test(P.type)&&P.click&&M(P,"input")&&Zr(P,"click",!0),!1},trigger:function(A){var P=this||A;return ft.test(P.type)&&P.click&&M(P,"input")&&Zr(P,"click"),!0},_default:function(A){var P=A.target;return ft.test(P.type)&&P.click&&M(P,"input")&&Ne.get(P,"click")||M(P,"a")}},beforeunload:{postDispatch:function(A){A.result!==void 0&&A.originalEvent&&(A.originalEvent.returnValue=A.result)}}}};function Zr(A,P,R){if(!R){Ne.get(A,P)===void 0&&f.event.add(A,P,Mt);return}Ne.set(A,P,!1),f.event.add(A,P,{namespace:!1,handler:function(K){var ee,re=Ne.get(this,P);if(K.isTrigger&1&&this[P]){if(re)(f.event.special[P]||{}).delegateType&&K.stopPropagation();else if(re=a.call(arguments),Ne.set(this,P,re),this[P](),ee=Ne.get(this,P),Ne.set(this,P,!1),re!==ee)return K.stopImmediatePropagation(),K.preventDefault(),ee}else re&&(Ne.set(this,P,f.event.trigger(re[0],re.slice(1),this)),K.stopPropagation(),K.isImmediatePropagationStopped=Mt)}})}f.removeEvent=function(A,P,R){A.removeEventListener&&A.removeEventListener(P,R)},f.Event=function(A,P){if(!(this instanceof f.Event))return new f.Event(A,P);A&&A.type?(this.originalEvent=A,this.type=A.type,this.isDefaultPrevented=A.defaultPrevented||A.defaultPrevented===void 0&&A.returnValue===!1?Mt:st,this.target=A.target&&A.target.nodeType===3?A.target.parentNode:A.target,this.currentTarget=A.currentTarget,this.relatedTarget=A.relatedTarget):this.type=A,P&&f.extend(this,P),this.timeStamp=A&&A.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,isSimulated:!1,preventDefault:function(){var A=this.originalEvent;this.isDefaultPrevented=Mt,A&&!this.isSimulated&&A.preventDefault()},stopPropagation:function(){var A=this.originalEvent;this.isPropagationStopped=Mt,A&&!this.isSimulated&&A.stopPropagation()},stopImmediatePropagation:function(){var A=this.originalEvent;this.isImmediatePropagationStopped=Mt,A&&!this.isSimulated&&A.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(A,P){function R(K){if(_.documentMode){var ee=Ne.get(this,"handle"),re=f.event.fix(K);re.type=K.type==="focusin"?"focus":"blur",re.isSimulated=!0,ee(K),re.target===re.currentTarget&&ee(re)}else f.event.simulate(P,K.target,f.event.fix(K))}f.event.special[A]={setup:function(){var K;if(Zr(this,A,!0),_.documentMode)K=Ne.get(this,P),K||this.addEventListener(P,R),Ne.set(this,P,(K||0)+1);else return!1},trigger:function(){return Zr(this,A),!0},teardown:function(){var K;if(_.documentMode)K=Ne.get(this,P)-1,K?Ne.set(this,P,K):(this.removeEventListener(P,R),Ne.remove(this,P));else return!1},_default:function(K){return Ne.get(K.target,A)},delegateType:P},f.event.special[P]={setup:function(){var K=this.ownerDocument||this.document||this,ee=_.documentMode?this:K,re=Ne.get(ee,P);re||(_.documentMode?this.addEventListener(P,R):K.addEventListener(A,R,!0)),Ne.set(ee,P,(re||0)+1)},teardown:function(){var K=this.ownerDocument||this.document||this,ee=_.documentMode?this:K,re=Ne.get(ee,P)-1;re?Ne.set(ee,P,re):(_.documentMode?this.removeEventListener(P,R):K.removeEventListener(A,R,!0),Ne.remove(ee,P))}}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(A,P){f.event.special[A]={delegateType:P,bindType:P,handle:function(R){var K,ee=this,re=R.relatedTarget,fe=R.handleObj;return(!re||re!==ee&&!f.contains(ee,re))&&(R.type=fe.origType,K=fe.handler.apply(this,arguments),R.type=P),K}}}),f.fn.extend({on:function(A,P,R,K){return qt(this,A,P,R,K)},one:function(A,P,R,K){return qt(this,A,P,R,K,1)},off:function(A,P,R){var K,ee;if(A&&A.preventDefault&&A.handleObj)return K=A.handleObj,f(A.delegateTarget).off(K.namespace?K.origType+"."+K.namespace:K.origType,K.selector,K.handler),this;if(typeof A=="object"){for(ee in A)this.off(ee,P,A[ee]);return this}return(P===!1||typeof P=="function")&&(R=P,P=void 0),R===!1&&(R=st),this.each(function(){f.event.remove(this,A,R,P)})}});var Vt=/<script|<style|<link/i,Jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function kr(A,P){return M(A,"table")&&M(P.nodeType!==11?P:P.firstChild,"tr")&&f(A).children("tbody")[0]||A}function Mr(A){return A.type=(A.getAttribute("type")!==null)+"/"+A.type,A}function Br(A){return(A.type||"").slice(0,5)==="true/"?A.type=A.type.slice(5):A.removeAttribute("type"),A}function nn(A,P){var R,K,ee,re,fe,Oe,Te;if(P.nodeType===1){if(Ne.hasData(A)&&(re=Ne.get(A),Te=re.events,Te)){Ne.remove(P,"handle events");for(ee in Te)for(R=0,K=Te[ee].length;R<K;R++)f.event.add(P,ee,Te[ee][R])}ht.hasData(A)&&(fe=ht.access(A),Oe=f.extend({},fe),ht.set(P,Oe))}}function dr(A,P){var R=P.nodeName.toLowerCase();R==="input"&&ft.test(A.type)?P.checked=A.checked:(R==="input"||R==="textarea")&&(P.defaultValue=A.defaultValue)}function Zt(A,P,R,K){P=s(P);var ee,re,fe,Oe,Te,Ze,ct=0,_t=A.length,nt=_t-1,wt=P[0],Kt=w(wt);if(Kt||_t>1&&typeof wt=="string"&&!S.checkClone&&Jt.test(wt))return A.each(function(ur){var tr=A.eq(ur);Kt&&(P[0]=wt.call(this,ur,tr.html())),Zt(tr,P,R,K)});if(_t&&(ee=tt(P,A[0].ownerDocument,!1,A,K),re=ee.firstChild,ee.childNodes.length===1&&(ee=re),re||K)){for(fe=f.map(Ye(ee,"script"),Mr),Oe=fe.length;ct<_t;ct++)Te=ee,ct!==nt&&(Te=f.clone(Te,!0,!0),Oe&&f.merge(fe,Ye(Te,"script"))),R.call(A[ct],Te,ct);if(Oe)for(Ze=fe[fe.length-1].ownerDocument,f.map(fe,Br),ct=0;ct<Oe;ct++)Te=fe[ct],W.test(Te.type||"")&&!Ne.access(Te,"globalEval")&&f.contains(Ze,Te)&&(Te.src&&(Te.type||"").toLowerCase()!=="module"?f._evalUrl&&!Te.noModule&&f._evalUrl(Te.src,{nonce:Te.nonce||Te.getAttribute("nonce")},Ze):b(Te.textContent.replace(Nt,""),Te,Ze))}return A}function ir(A,P,R){for(var K,ee=P?f.filter(P,A):A,re=0;(K=ee[re])!=null;re++)!R&&K.nodeType===1&&f.cleanData(Ye(K)),K.parentNode&&(R&&se(K)&&ce(Ye(K,"script")),K.parentNode.removeChild(K));return A}f.extend({htmlPrefilter:function(A){return A},clone:function(A,P,R){var K,ee,re,fe,Oe=A.cloneNode(!0),Te=se(A);if(!S.noCloneChecked&&(A.nodeType===1||A.nodeType===11)&&!f.isXMLDoc(A))for(fe=Ye(Oe),re=Ye(A),K=0,ee=re.length;K<ee;K++)dr(re[K],fe[K]);if(P)if(R)for(re=re||Ye(A),fe=fe||Ye(Oe),K=0,ee=re.length;K<ee;K++)nn(re[K],fe[K]);else nn(A,Oe);return fe=Ye(Oe,"script"),fe.length>0&&ce(fe,!Te&&Ye(A,"script")),Oe},cleanData:function(A){for(var P,R,K,ee=f.event.special,re=0;(R=A[re])!==void 0;re++)if(je(R)){if(P=R[Ne.expando]){if(P.events)for(K in P.events)ee[K]?f.event.remove(R,K):f.removeEvent(R,K,P.handle);R[Ne.expando]=void 0}R[ht.expando]&&(R[ht.expando]=void 0)}}}),f.fn.extend({detach:function(A){return ir(this,A,!0)},remove:function(A){return ir(this,A)},text:function(A){return ye(this,function(P){return P===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=P)})},null,A,arguments.length)},append:function(){return Zt(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var P=kr(this,A);P.appendChild(A)}})},prepend:function(){return Zt(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var P=kr(this,A);P.insertBefore(A,P.firstChild)}})},before:function(){return Zt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this)})},after:function(){return Zt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this.nextSibling)})},empty:function(){for(var A,P=0;(A=this[P])!=null;P++)A.nodeType===1&&(f.cleanData(Ye(A,!1)),A.textContent="");return this},clone:function(A,P){return A=A??!1,P=P??A,this.map(function(){return f.clone(this,A,P)})},html:function(A){return ye(this,function(P){var R=this[0]||{},K=0,ee=this.length;if(P===void 0&&R.nodeType===1)return R.innerHTML;if(typeof P=="string"&&!Vt.test(P)&&!Ve[(At.exec(P)||["",""])[1].toLowerCase()]){P=f.htmlPrefilter(P);try{for(;K<ee;K++)R=this[K]||{},R.nodeType===1&&(f.cleanData(Ye(R,!1)),R.innerHTML=P);R=0}catch{}}R&&this.empty().append(P)},null,A,arguments.length)},replaceWith:function(){var A=[];return Zt(this,arguments,function(P){var R=this.parentNode;f.inArray(this,A)<0&&(f.cleanData(Ye(this)),R&&R.replaceChild(P,this))},A)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,P){f.fn[A]=function(R){for(var K,ee=[],re=f(R),fe=re.length-1,Oe=0;Oe<=fe;Oe++)K=Oe===fe?this:this.clone(!0),f(re[Oe])[P](K),o.apply(ee,K.get());return this.pushStack(ee)}});var Ur=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),Wr=/^--/,wi=function(A){var P=A.ownerDocument.defaultView;return(!P||!P.opener)&&(P=e),P.getComputedStyle(A)},Ss=function(A,P,R){var K,ee,re={};for(ee in P)re[ee]=A.style[ee],A.style[ee]=P[ee];K=R.call(A);for(ee in P)A.style[ee]=re[ee];return K},xa=new RegExp(at.join("|"),"i");(function(){function A(){if(Ze){Te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ze.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(Te).appendChild(Ze);var ct=e.getComputedStyle(Ze);R=ct.top!=="1%",Oe=P(ct.marginLeft)===12,Ze.style.right="60%",re=P(ct.right)===36,K=P(ct.width)===36,Ze.style.position="absolute",ee=P(Ze.offsetWidth/3)===12,ot.removeChild(Te),Ze=null}}function P(ct){return Math.round(parseFloat(ct))}var R,K,ee,re,fe,Oe,Te=_.createElement("div"),Ze=_.createElement("div");Ze.style&&(Ze.style.backgroundClip="content-box",Ze.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle=Ze.style.backgroundClip==="content-box",f.extend(S,{boxSizingReliable:function(){return A(),K},pixelBoxStyles:function(){return A(),re},pixelPosition:function(){return A(),R},reliableMarginLeft:function(){return A(),Oe},scrollboxSize:function(){return A(),ee},reliableTrDimensions:function(){var ct,_t,nt,wt;return fe==null&&(ct=_.createElement("table"),_t=_.createElement("tr"),nt=_.createElement("div"),ct.style.cssText="position:absolute;left:-11111px;border-collapse:separate",_t.style.cssText="border:1px solid",_t.style.height="1px",nt.style.height="9px",nt.style.display="block",ot.appendChild(ct).appendChild(_t).appendChild(nt),wt=e.getComputedStyle(_t),fe=parseInt(wt.height,10)+parseInt(wt.borderTopWidth,10)+parseInt(wt.borderBottomWidth,10)===_t.offsetHeight,ot.removeChild(ct)),fe}}))})();function Ar(A,P,R){var K,ee,re,fe,Oe=Wr.test(P),Te=A.style;return R=R||wi(A),R&&(fe=R.getPropertyValue(P)||R[P],Oe&&fe&&(fe=fe.replace(I,"$1")||void 0),fe===""&&!se(A)&&(fe=f.style(A,P)),!S.pixelBoxStyles()&&Ur.test(fe)&&xa.test(P)&&(K=Te.width,ee=Te.minWidth,re=Te.maxWidth,Te.minWidth=Te.maxWidth=Te.width=fe,fe=R.width,Te.width=K,Te.minWidth=ee,Te.maxWidth=re)),fe!==void 0?fe+"":fe}function ta(A,P){return{get:function(){if(A()){delete this.get;return}return(this.get=P).apply(this,arguments)}}}var Cs=["Webkit","Moz","ms"],Xa=_.createElement("div").style,$a={};function el(A){for(var P=A[0].toUpperCase()+A.slice(1),R=Cs.length;R--;)if(A=Cs[R]+P,A in Xa)return A}function tl(A){var P=f.cssProps[A]||$a[A];return P||(A in Xa?A:$a[A]=el(A)||A)}var qf=/^(none|table(?!-c[ea]).+)/,Jf={position:"absolute",visibility:"hidden",display:"block"},mu={letterSpacing:"0",fontWeight:"400"};function sr(A,P,R){var K=ke.exec(P);return K?Math.max(0,K[2]-(R||0))+(K[3]||"px"):P}function li(A,P,R,K,ee,re){var fe=P==="width"?1:0,Oe=0,Te=0,Ze=0;if(R===(K?"border":"content"))return 0;for(;fe<4;fe+=2)R==="margin"&&(Ze+=f.css(A,R+at[fe],!0,ee)),K?(R==="content"&&(Te-=f.css(A,"padding"+at[fe],!0,ee)),R!=="margin"&&(Te-=f.css(A,"border"+at[fe]+"Width",!0,ee))):(Te+=f.css(A,"padding"+at[fe],!0,ee),R!=="padding"?Te+=f.css(A,"border"+at[fe]+"Width",!0,ee):Oe+=f.css(A,"border"+at[fe]+"Width",!0,ee));return!K&&re>=0&&(Te+=Math.max(0,Math.ceil(A["offset"+P[0].toUpperCase()+P.slice(1)]-re-Te-Oe-.5))||0),Te+Ze}function $n(A,P,R){var K=wi(A),ee=!S.boxSizingReliable()||R,re=ee&&f.css(A,"boxSizing",!1,K)==="border-box",fe=re,Oe=Ar(A,P,K),Te="offset"+P[0].toUpperCase()+P.slice(1);if(Ur.test(Oe)){if(!R)return Oe;Oe="auto"}return(!S.boxSizingReliable()&&re||!S.reliableTrDimensions()&&M(A,"tr")||Oe==="auto"||!parseFloat(Oe)&&f.css(A,"display",!1,K)==="inline")&&A.getClientRects().length&&(re=f.css(A,"boxSizing",!1,K)==="border-box",fe=Te in A,fe&&(Oe=A[Te])),Oe=parseFloat(Oe)||0,Oe+li(A,P,R||(re?"border":"content"),fe,K,Oe)+"px"}f.extend({cssHooks:{opacity:{get:function(A,P){if(P){var R=Ar(A,"opacity");return R===""?"1":R}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(A,P,R,K){if(!(!A||A.nodeType===3||A.nodeType===8||!A.style)){var ee,re,fe,Oe=Ie(P),Te=Wr.test(P),Ze=A.style;if(Te||(P=tl(Oe)),fe=f.cssHooks[P]||f.cssHooks[Oe],R!==void 0){if(re=typeof R,re==="string"&&(ee=ke.exec(R))&&ee[1]&&(R=pt(A,P,ee),re="number"),R==null||R!==R)return;re==="number"&&!Te&&(R+=ee&&ee[3]||(f.cssNumber[Oe]?"":"px")),!S.clearCloneStyle&&R===""&&P.indexOf("background")===0&&(Ze[P]="inherit"),(!fe||!("set"in fe)||(R=fe.set(A,R,K))!==void 0)&&(Te?Ze.setProperty(P,R):Ze[P]=R)}else return fe&&"get"in fe&&(ee=fe.get(A,!1,K))!==void 0?ee:Ze[P]}},css:function(A,P,R,K){var ee,re,fe,Oe=Ie(P),Te=Wr.test(P);return Te||(P=tl(Oe)),fe=f.cssHooks[P]||f.cssHooks[Oe],fe&&"get"in fe&&(ee=fe.get(A,!0,R)),ee===void 0&&(ee=Ar(A,P,K)),ee==="normal"&&P in mu&&(ee=mu[P]),R===""||R?(re=parseFloat(ee),R===!0||isFinite(re)?re||0:ee):ee}}),f.each(["height","width"],function(A,P){f.cssHooks[P]={get:function(R,K,ee){if(K)return qf.test(f.css(R,"display"))&&(!R.getClientRects().length||!R.getBoundingClientRect().width)?Ss(R,Jf,function(){return $n(R,P,ee)}):$n(R,P,ee)},set:function(R,K,ee){var re,fe=wi(R),Oe=!S.scrollboxSize()&&fe.position==="absolute",Te=Oe||ee,Ze=Te&&f.css(R,"boxSizing",!1,fe)==="border-box",ct=ee?li(R,P,ee,Ze,fe):0;return Ze&&Oe&&(ct-=Math.ceil(R["offset"+P[0].toUpperCase()+P.slice(1)]-parseFloat(fe[P])-li(R,P,"border",!1,fe)-.5)),ct&&(re=ke.exec(K))&&(re[3]||"px")!=="px"&&(R.style[P]=K,K=f.css(R,P)),sr(R,K,ct)}}}),f.cssHooks.marginLeft=ta(S.reliableMarginLeft,function(A,P){if(P)return(parseFloat(Ar(A,"marginLeft"))||A.getBoundingClientRect().left-Ss(A,{marginLeft:0},function(){return A.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(A,P){f.cssHooks[A+P]={expand:function(R){for(var K=0,ee={},re=typeof R=="string"?R.split(" "):[R];K<4;K++)ee[A+at[K]+P]=re[K]||re[K-2]||re[0];return ee}},A!=="margin"&&(f.cssHooks[A+P].set=sr)}),f.fn.extend({css:function(A,P){return ye(this,function(R,K,ee){var re,fe,Oe={},Te=0;if(Array.isArray(K)){for(re=wi(R),fe=K.length;Te<fe;Te++)Oe[K[Te]]=f.css(R,K[Te],!1,re);return Oe}return ee!==void 0?f.style(R,K,ee):f.css(R,K)},A,P,arguments.length>1)}});function kn(A,P,R,K,ee){return new kn.prototype.init(A,P,R,K,ee)}f.Tween=kn,kn.prototype={constructor:kn,init:function(A,P,R,K,ee,re){this.elem=A,this.prop=R,this.easing=ee||f.easing._default,this.options=P,this.start=this.now=this.cur(),this.end=K,this.unit=re||(f.cssNumber[R]?"":"px")},cur:function(){var A=kn.propHooks[this.prop];return A&&A.get?A.get(this):kn.propHooks._default.get(this)},run:function(A){var P,R=kn.propHooks[this.prop];return this.options.duration?this.pos=P=f.easing[this.easing](A,this.options.duration*A,0,1,this.options.duration):this.pos=P=A,this.now=(this.end-this.start)*P+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),R&&R.set?R.set(this):kn.propHooks._default.set(this),this}},kn.prototype.init.prototype=kn.prototype,kn.propHooks={_default:{get:function(A){var P;return A.elem.nodeType!==1||A.elem[A.prop]!=null&&A.elem.style[A.prop]==null?A.elem[A.prop]:(P=f.css(A.elem,A.prop,""),!P||P==="auto"?0:P)},set:function(A){f.fx.step[A.prop]?f.fx.step[A.prop](A):A.elem.nodeType===1&&(f.cssHooks[A.prop]||A.elem.style[tl(A.prop)]!=null)?f.style(A.elem,A.prop,A.now+A.unit):A.elem[A.prop]=A.now}}},kn.propHooks.scrollTop=kn.propHooks.scrollLeft={set:function(A){A.elem.nodeType&&A.elem.parentNode&&(A.elem[A.prop]=A.now)}},f.easing={linear:function(A){return A},swing:function(A){return .5-Math.cos(A*Math.PI)/2},_default:"swing"},f.fx=kn.prototype.init,f.fx.step={};var ui,Qa,so=/^(?:toggle|show|hide)$/,wa=/queueHooks$/;function qa(){Qa&&(_.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(qa):e.setTimeout(qa,f.fx.interval),f.fx.tick())}function oo(){return e.setTimeout(function(){ui=void 0}),ui=Date.now()}function Si(A,P){var R,K=0,ee={height:A};for(P=P?1:0;K<4;K+=2-P)R=at[K],ee["margin"+R]=ee["padding"+R]=A;return P&&(ee.opacity=ee.width=A),ee}function Ci(A,P,R){for(var K,ee=(Xr.tweeners[P]||[]).concat(Xr.tweeners["*"]),re=0,fe=ee.length;re<fe;re++)if(K=ee[re].call(R,P,A))return K}function fn(A,P,R){var K,ee,re,fe,Oe,Te,Ze,ct,_t="width"in P||"height"in P,nt=this,wt={},Kt=A.style,ur=A.nodeType&&Je(A),tr=Ne.get(A,"fxshow");R.queue||(fe=f._queueHooks(A,"fx"),fe.unqueued==null&&(fe.unqueued=0,Oe=fe.empty.fire,fe.empty.fire=function(){fe.unqueued||Oe()}),fe.unqueued++,nt.always(function(){nt.always(function(){fe.unqueued--,f.queue(A,"fx").length||fe.empty.fire()})}));for(K in P)if(ee=P[K],so.test(ee)){if(delete P[K],re=re||ee==="toggle",ee===(ur?"hide":"show"))if(ee==="show"&&tr&&tr[K]!==void 0)ur=!0;else continue;wt[K]=tr&&tr[K]||f.style(A,K)}if(Te=!f.isEmptyObject(P),!(!Te&&f.isEmptyObject(wt))){_t&&A.nodeType===1&&(R.overflow=[Kt.overflow,Kt.overflowX,Kt.overflowY],Ze=tr&&tr.display,Ze==null&&(Ze=Ne.get(A,"display")),ct=f.css(A,"display"),ct==="none"&&(Ze?ct=Ze:(oe([A],!0),Ze=A.style.display||Ze,ct=f.css(A,"display"),oe([A]))),(ct==="inline"||ct==="inline-block"&&Ze!=null)&&f.css(A,"float")==="none"&&(Te||(nt.done(function(){Kt.display=Ze}),Ze==null&&(ct=Kt.display,Ze=ct==="none"?"":ct)),Kt.display="inline-block")),R.overflow&&(Kt.overflow="hidden",nt.always(function(){Kt.overflow=R.overflow[0],Kt.overflowX=R.overflow[1],Kt.overflowY=R.overflow[2]})),Te=!1;for(K in wt)Te||(tr?"hidden"in tr&&(ur=tr.hidden):tr=Ne.access(A,"fxshow",{display:Ze}),re&&(tr.hidden=!ur),ur&&oe([A],!0),nt.done(function(){ur||oe([A]),Ne.remove(A,"fxshow");for(K in wt)f.style(A,K,wt[K])})),Te=Ci(ur?tr[K]:0,K,nt),K in tr||(tr[K]=Te.start,ur&&(Te.end=Te.start,Te.start=0))}}function Sa(A,P){var R,K,ee,re,fe;for(R in A)if(K=Ie(R),ee=P[K],re=A[R],Array.isArray(re)&&(ee=re[1],re=A[R]=re[0]),R!==K&&(A[K]=re,delete A[R]),fe=f.cssHooks[K],fe&&"expand"in fe){re=fe.expand(re),delete A[K];for(R in re)R in A||(A[R]=re[R],P[R]=ee)}else P[K]=ee}function Xr(A,P,R){var K,ee,re=0,fe=Xr.prefilters.length,Oe=f.Deferred().always(function(){delete Te.elem}),Te=function(){if(ee)return!1;for(var _t=ui||oo(),nt=Math.max(0,Ze.startTime+Ze.duration-_t),wt=nt/Ze.duration||0,Kt=1-wt,ur=0,tr=Ze.tweens.length;ur<tr;ur++)Ze.tweens[ur].run(Kt);return Oe.notifyWith(A,[Ze,Kt,nt]),Kt<1&&tr?nt:(tr||Oe.notifyWith(A,[Ze,1,0]),Oe.resolveWith(A,[Ze]),!1)},Ze=Oe.promise({elem:A,props:f.extend({},P),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},R),originalProperties:P,originalOptions:R,startTime:ui||oo(),duration:R.duration,tweens:[],createTween:function(_t,nt){var wt=f.Tween(A,Ze.opts,_t,nt,Ze.opts.specialEasing[_t]||Ze.opts.easing);return Ze.tweens.push(wt),wt},stop:function(_t){var nt=0,wt=_t?Ze.tweens.length:0;if(ee)return this;for(ee=!0;nt<wt;nt++)Ze.tweens[nt].run(1);return _t?(Oe.notifyWith(A,[Ze,1,0]),Oe.resolveWith(A,[Ze,_t])):Oe.rejectWith(A,[Ze,_t]),this}}),ct=Ze.props;for(Sa(ct,Ze.opts.specialEasing);re<fe;re++)if(K=Xr.prefilters[re].call(Ze,A,ct,Ze.opts),K)return w(K.stop)&&(f._queueHooks(Ze.elem,Ze.opts.queue).stop=K.stop.bind(K)),K;return f.map(ct,Ci,Ze),w(Ze.opts.start)&&Ze.opts.start.call(A,Ze),Ze.progress(Ze.opts.progress).done(Ze.opts.done,Ze.opts.complete).fail(Ze.opts.fail).always(Ze.opts.always),f.fx.timer(f.extend(Te,{elem:A,anim:Ze,queue:Ze.opts.queue})),Ze}f.Animation=f.extend(Xr,{tweeners:{"*":[function(A,P){var R=this.createTween(A,P);return pt(R.elem,A,ke.exec(P),R),R}]},tweener:function(A,P){w(A)?(P=A,A=["*"]):A=A.match(be);for(var R,K=0,ee=A.length;K<ee;K++)R=A[K],Xr.tweeners[R]=Xr.tweeners[R]||[],Xr.tweeners[R].unshift(P)},prefilters:[fn],prefilter:function(A,P){P?Xr.prefilters.unshift(A):Xr.prefilters.push(A)}}),f.speed=function(A,P,R){var K=A&&typeof A=="object"?f.extend({},A):{complete:R||!R&&P||w(A)&&A,duration:A,easing:R&&P||P&&!w(P)&&P};return f.fx.off?K.duration=0:typeof K.duration!="number"&&(K.duration in f.fx.speeds?K.duration=f.fx.speeds[K.duration]:K.duration=f.fx.speeds._default),(K.queue==null||K.queue===!0)&&(K.queue="fx"),K.old=K.complete,K.complete=function(){w(K.old)&&K.old.call(this),K.queue&&f.dequeue(this,K.queue)},K},f.fn.extend({fadeTo:function(A,P,R,K){return this.filter(Je).css("opacity",0).show().end().animate({opacity:P},A,R,K)},animate:function(A,P,R,K){var ee=f.isEmptyObject(A),re=f.speed(P,R,K),fe=function(){var Oe=Xr(this,f.extend({},A),re);(ee||Ne.get(this,"finish"))&&Oe.stop(!0)};return fe.finish=fe,ee||re.queue===!1?this.each(fe):this.queue(re.queue,fe)},stop:function(A,P,R){var K=function(ee){var re=ee.stop;delete ee.stop,re(R)};return typeof A!="string"&&(R=P,P=A,A=void 0),P&&this.queue(A||"fx",[]),this.each(function(){var ee=!0,re=A!=null&&A+"queueHooks",fe=f.timers,Oe=Ne.get(this);if(re)Oe[re]&&Oe[re].stop&&K(Oe[re]);else for(re in Oe)Oe[re]&&Oe[re].stop&&wa.test(re)&&K(Oe[re]);for(re=fe.length;re--;)fe[re].elem===this&&(A==null||fe[re].queue===A)&&(fe[re].anim.stop(R),ee=!1,fe.splice(re,1));(ee||!R)&&f.dequeue(this,A)})},finish:function(A){return A!==!1&&(A=A||"fx"),this.each(function(){var P,R=Ne.get(this),K=R[A+"queue"],ee=R[A+"queueHooks"],re=f.timers,fe=K?K.length:0;for(R.finish=!0,f.queue(this,A,[]),ee&&ee.stop&&ee.stop.call(this,!0),P=re.length;P--;)re[P].elem===this&&re[P].queue===A&&(re[P].anim.stop(!0),re.splice(P,1));for(P=0;P<fe;P++)K[P]&&K[P].finish&&K[P].finish.call(this);delete R.finish})}}),f.each(["toggle","show","hide"],function(A,P){var R=f.fn[P];f.fn[P]=function(K,ee,re){return K==null||typeof K=="boolean"?R.apply(this,arguments):this.animate(Si(P,!0),K,ee,re)}}),f.each({slideDown:Si("show"),slideUp:Si("hide"),slideToggle:Si("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(A,P){f.fn[A]=function(R,K,ee){return this.animate(P,R,K,ee)}}),f.timers=[],f.fx.tick=function(){var A,P=0,R=f.timers;for(ui=Date.now();P<R.length;P++)A=R[P],!A()&&R[P]===A&&R.splice(P--,1);R.length||f.fx.stop(),ui=void 0},f.fx.timer=function(A){f.timers.push(A),f.fx.start()},f.fx.interval=13,f.fx.start=function(){Qa||(Qa=!0,qa())},f.fx.stop=function(){Qa=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(A,P){return A=f.fx&&f.fx.speeds[A]||A,P=P||"fx",this.queue(P,function(R,K){var ee=e.setTimeout(R,A);K.stop=function(){e.clearTimeout(ee)}})},function(){var A=_.createElement("input"),P=_.createElement("select"),R=P.appendChild(_.createElement("option"));A.type="checkbox",S.checkOn=A.value!=="",S.optSelected=R.selected,A=_.createElement("input"),A.value="t",A.type="radio",S.radioValue=A.value==="t"}();var En,Es=f.expr.attrHandle;f.fn.extend({attr:function(A,P){return ye(this,f.attr,A,P,arguments.length>1)},removeAttr:function(A){return this.each(function(){f.removeAttr(this,A)})}}),f.extend({attr:function(A,P,R){var K,ee,re=A.nodeType;if(!(re===3||re===8||re===2)){if(typeof A.getAttribute>"u")return f.prop(A,P,R);if((re!==1||!f.isXMLDoc(A))&&(ee=f.attrHooks[P.toLowerCase()]||(f.expr.match.bool.test(P)?En:void 0)),R!==void 0){if(R===null){f.removeAttr(A,P);return}return ee&&"set"in ee&&(K=ee.set(A,R,P))!==void 0?K:(A.setAttribute(P,R+""),R)}return ee&&"get"in ee&&(K=ee.get(A,P))!==null?K:(K=f.find.attr(A,P),K??void 0)}},attrHooks:{type:{set:function(A,P){if(!S.radioValue&&P==="radio"&&M(A,"input")){var R=A.value;return A.setAttribute("type",P),R&&(A.value=R),P}}}},removeAttr:function(A,P){var R,K=0,ee=P&&P.match(be);if(ee&&A.nodeType===1)for(;R=ee[K++];)A.removeAttribute(R)}}),En={set:function(A,P,R){return P===!1?f.removeAttr(A,R):A.setAttribute(R,R),R}},f.each(f.expr.match.bool.source.match(/\w+/g),function(A,P){var R=Es[P]||f.find.attr;Es[P]=function(K,ee,re){var fe,Oe,Te=ee.toLowerCase();return re||(Oe=Es[Te],Es[Te]=fe,fe=R(K,ee,re)!=null?Te:null,Es[Te]=Oe),fe}});var Ca=/^(?:input|select|textarea|button)$/i,gu=/^(?:a|area)$/i;f.fn.extend({prop:function(A,P){return ye(this,f.prop,A,P,arguments.length>1)},removeProp:function(A){return this.each(function(){delete this[f.propFix[A]||A]})}}),f.extend({prop:function(A,P,R){var K,ee,re=A.nodeType;if(!(re===3||re===8||re===2))return(re!==1||!f.isXMLDoc(A))&&(P=f.propFix[P]||P,ee=f.propHooks[P]),R!==void 0?ee&&"set"in ee&&(K=ee.set(A,R,P))!==void 0?K:A[P]=R:ee&&"get"in ee&&(K=ee.get(A,P))!==null?K:A[P]},propHooks:{tabIndex:{get:function(A){var P=f.find.attr(A,"tabindex");return P?parseInt(P,10):Ca.test(A.nodeName)||gu.test(A.nodeName)&&A.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),S.optSelected||(f.propHooks.selected={get:function(A){var P=A.parentNode;return P&&P.parentNode&&P.parentNode.selectedIndex,null},set:function(A){var P=A.parentNode;P&&(P.selectedIndex,P.parentNode&&P.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function Nn(A){var P=A.match(be)||[];return P.join(" ")}function Ea(A){return A.getAttribute&&A.getAttribute("class")||""}function vu(A){return Array.isArray(A)?A:typeof A=="string"?A.match(be)||[]:[]}f.fn.extend({addClass:function(A){var P,R,K,ee,re,fe;return w(A)?this.each(function(Oe){f(this).addClass(A.call(this,Oe,Ea(this)))}):(P=vu(A),P.length?this.each(function(){if(K=Ea(this),R=this.nodeType===1&&" "+Nn(K)+" ",R){for(re=0;re<P.length;re++)ee=P[re],R.indexOf(" "+ee+" ")<0&&(R+=ee+" ");fe=Nn(R),K!==fe&&this.setAttribute("class",fe)}}):this)},removeClass:function(A){var P,R,K,ee,re,fe;return w(A)?this.each(function(Oe){f(this).removeClass(A.call(this,Oe,Ea(this)))}):arguments.length?(P=vu(A),P.length?this.each(function(){if(K=Ea(this),R=this.nodeType===1&&" "+Nn(K)+" ",R){for(re=0;re<P.length;re++)for(ee=P[re];R.indexOf(" "+ee+" ")>-1;)R=R.replace(" "+ee+" "," ");fe=Nn(R),K!==fe&&this.setAttribute("class",fe)}}):this):this.attr("class","")},toggleClass:function(A,P){var R,K,ee,re,fe=typeof A,Oe=fe==="string"||Array.isArray(A);return w(A)?this.each(function(Te){f(this).toggleClass(A.call(this,Te,Ea(this),P),P)}):typeof P=="boolean"&&Oe?P?this.addClass(A):this.removeClass(A):(R=vu(A),this.each(function(){if(Oe)for(re=f(this),ee=0;ee<R.length;ee++)K=R[ee],re.hasClass(K)?re.removeClass(K):re.addClass(K);else(A===void 0||fe==="boolean")&&(K=Ea(this),K&&Ne.set(this,"__className__",K),this.setAttribute&&this.setAttribute("class",K||A===!1?"":Ne.get(this,"__className__")||""))}))},hasClass:function(A){var P,R,K=0;for(P=" "+A+" ";R=this[K++];)if(R.nodeType===1&&(" "+Nn(Ea(R))+" ").indexOf(P)>-1)return!0;return!1}});var ra=/\r/g;f.fn.extend({val:function(A){var P,R,K,ee=this[0];return arguments.length?(K=w(A),this.each(function(re){var fe;this.nodeType===1&&(K?fe=A.call(this,re,f(this).val()):fe=A,fe==null?fe="":typeof fe=="number"?fe+="":Array.isArray(fe)&&(fe=f.map(fe,function(Oe){return Oe==null?"":Oe+""})),P=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!P||!("set"in P)||P.set(this,fe,"value")===void 0)&&(this.value=fe))})):ee?(P=f.valHooks[ee.type]||f.valHooks[ee.nodeName.toLowerCase()],P&&"get"in P&&(R=P.get(ee,"value"))!==void 0?R:(R=ee.value,typeof R=="string"?R.replace(ra,""):R??"")):void 0}}),f.extend({valHooks:{option:{get:function(A){var P=f.find.attr(A,"value");return P??Nn(f.text(A))}},select:{get:function(A){var P,R,K,ee=A.options,re=A.selectedIndex,fe=A.type==="select-one",Oe=fe?null:[],Te=fe?re+1:ee.length;for(re<0?K=Te:K=fe?re:0;K<Te;K++)if(R=ee[K],(R.selected||K===re)&&!R.disabled&&(!R.parentNode.disabled||!M(R.parentNode,"optgroup"))){if(P=f(R).val(),fe)return P;Oe.push(P)}return Oe},set:function(A,P){for(var R,K,ee=A.options,re=f.makeArray(P),fe=ee.length;fe--;)K=ee[fe],(K.selected=f.inArray(f.valHooks.option.get(K),re)>-1)&&(R=!0);return R||(A.selectedIndex=-1),re}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(A,P){if(Array.isArray(P))return A.checked=f.inArray(f(A).val(),P)>-1}},S.checkOn||(f.valHooks[this].get=function(A){return A.getAttribute("value")===null?"on":A.value})});var mn=e.location,yn={guid:Date.now()},hr=/\?/;f.parseXML=function(A){var P,R;if(!A||typeof A!="string")return null;try{P=new e.DOMParser().parseFromString(A,"text/xml")}catch{}return R=P&&P.getElementsByTagName("parsererror")[0],(!P||R)&&f.error("Invalid XML: "+(R?f.map(R.childNodes,function(K){return K.textContent}).join(`
`):A)),P};var Da=/^(?:focusinfocus|focusoutblur)$/,lo=function(A){A.stopPropagation()};f.extend(f.event,{trigger:function(A,P,R,K){var ee,re,fe,Oe,Te,Ze,ct,_t,nt=[R||_],wt=h.call(A,"type")?A.type:A,Kt=h.call(A,"namespace")?A.namespace.split("."):[];if(re=_t=fe=R=R||_,!(R.nodeType===3||R.nodeType===8)&&!Da.test(wt+f.event.triggered)&&(wt.indexOf(".")>-1&&(Kt=wt.split("."),wt=Kt.shift(),Kt.sort()),Te=wt.indexOf(":")<0&&"on"+wt,A=A[f.expando]?A:new f.Event(wt,typeof A=="object"&&A),A.isTrigger=K?2:3,A.namespace=Kt.join("."),A.rnamespace=A.namespace?new RegExp("(^|\\.)"+Kt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,A.result=void 0,A.target||(A.target=R),P=P==null?[A]:f.makeArray(P,[A]),ct=f.event.special[wt]||{},!(!K&&ct.trigger&&ct.trigger.apply(R,P)===!1))){if(!K&&!ct.noBubble&&!c(R)){for(Oe=ct.delegateType||wt,Da.test(Oe+wt)||(re=re.parentNode);re;re=re.parentNode)nt.push(re),fe=re;fe===(R.ownerDocument||_)&&nt.push(fe.defaultView||fe.parentWindow||e)}for(ee=0;(re=nt[ee++])&&!A.isPropagationStopped();)_t=re,A.type=ee>1?Oe:ct.bindType||wt,Ze=(Ne.get(re,"events")||Object.create(null))[A.type]&&Ne.get(re,"handle"),Ze&&Ze.apply(re,P),Ze=Te&&re[Te],Ze&&Ze.apply&&je(re)&&(A.result=Ze.apply(re,P),A.result===!1&&A.preventDefault());return A.type=wt,!K&&!A.isDefaultPrevented()&&(!ct._default||ct._default.apply(nt.pop(),P)===!1)&&je(R)&&Te&&w(R[wt])&&!c(R)&&(fe=R[Te],fe&&(R[Te]=null),f.event.triggered=wt,A.isPropagationStopped()&&_t.addEventListener(wt,lo),R[wt](),A.isPropagationStopped()&&_t.removeEventListener(wt,lo),f.event.triggered=void 0,fe&&(R[Te]=fe)),A.result}},simulate:function(A,P,R){var K=f.extend(new f.Event,R,{type:A,isSimulated:!0});f.event.trigger(K,null,P)}}),f.fn.extend({trigger:function(A,P){return this.each(function(){f.event.trigger(A,P,this)})},triggerHandler:function(A,P){var R=this[0];if(R)return f.event.trigger(A,P,R,!0)}});var _u=/\[\]$/,Ma=/\r?\n/g,bu=/^(?:submit|button|image|reset|file)$/i,rl=/^(?:input|select|textarea|keygen)/i;function na(A,P,R,K){var ee;if(Array.isArray(P))f.each(P,function(re,fe){R||_u.test(A)?K(A,fe):na(A+"["+(typeof fe=="object"&&fe!=null?re:"")+"]",fe,R,K)});else if(!R&&C(P)==="object")for(ee in P)na(A+"["+ee+"]",P[ee],R,K);else K(A,P)}f.param=function(A,P){var R,K=[],ee=function(re,fe){var Oe=w(fe)?fe():fe;K[K.length]=encodeURIComponent(re)+"="+encodeURIComponent(Oe??"")};if(A==null)return"";if(Array.isArray(A)||A.jquery&&!f.isPlainObject(A))f.each(A,function(){ee(this.name,this.value)});else for(R in A)na(R,A[R],P,ee);return K.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var A=f.prop(this,"elements");return A?f.makeArray(A):this}).filter(function(){var A=this.type;return this.name&&!f(this).is(":disabled")&&rl.test(this.nodeName)&&!bu.test(A)&&(this.checked||!ft.test(A))}).map(function(A,P){var R=f(this).val();return R==null?null:Array.isArray(R)?f.map(R,function(K){return{name:P.name,value:K.replace(Ma,`\r
`)}}):{name:P.name,value:R.replace(Ma,`\r
`)}}).get()}});var ed=/%20/g,td=/#.*$/,Ei=/([?&])_=[^&]*/,Ds=/^(.*?):[ \t]*([^\r\n]*)$/mg,rd=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,nd=/^(?:GET|HEAD)$/,Ms=/^\/\//,nl={},uo={},fo="*/".concat("*"),Ja=_.createElement("a");Ja.href=mn.href;function yu(A){return function(P,R){typeof P!="string"&&(R=P,P="*");var K,ee=0,re=P.toLowerCase().match(be)||[];if(w(R))for(;K=re[ee++];)K[0]==="+"?(K=K.slice(1)||"*",(A[K]=A[K]||[]).unshift(R)):(A[K]=A[K]||[]).push(R)}}function il(A,P,R,K){var ee={},re=A===uo;function fe(Oe){var Te;return ee[Oe]=!0,f.each(A[Oe]||[],function(Ze,ct){var _t=ct(P,R,K);if(typeof _t=="string"&&!re&&!ee[_t])return P.dataTypes.unshift(_t),fe(_t),!1;if(re)return!(Te=_t)}),Te}return fe(P.dataTypes[0])||!ee["*"]&&fe("*")}function co(A,P){var R,K,ee=f.ajaxSettings.flatOptions||{};for(R in P)P[R]!==void 0&&((ee[R]?A:K||(K={}))[R]=P[R]);return K&&f.extend(!0,A,K),A}function id(A,P,R){for(var K,ee,re,fe,Oe=A.contents,Te=A.dataTypes;Te[0]==="*";)Te.shift(),K===void 0&&(K=A.mimeType||P.getResponseHeader("Content-Type"));if(K){for(ee in Oe)if(Oe[ee]&&Oe[ee].test(K)){Te.unshift(ee);break}}if(Te[0]in R)re=Te[0];else{for(ee in R){if(!Te[0]||A.converters[ee+" "+Te[0]]){re=ee;break}fe||(fe=ee)}re=re||fe}if(re)return re!==Te[0]&&Te.unshift(re),R[re]}function ad(A,P,R,K){var ee,re,fe,Oe,Te,Ze={},ct=A.dataTypes.slice();if(ct[1])for(fe in A.converters)Ze[fe.toLowerCase()]=A.converters[fe];for(re=ct.shift();re;)if(A.responseFields[re]&&(R[A.responseFields[re]]=P),!Te&&K&&A.dataFilter&&(P=A.dataFilter(P,A.dataType)),Te=re,re=ct.shift(),re){if(re==="*")re=Te;else if(Te!=="*"&&Te!==re){if(fe=Ze[Te+" "+re]||Ze["* "+re],!fe){for(ee in Ze)if(Oe=ee.split(" "),Oe[1]===re&&(fe=Ze[Te+" "+Oe[0]]||Ze["* "+Oe[0]],fe)){fe===!0?fe=Ze[ee]:Ze[ee]!==!0&&(re=Oe[0],ct.unshift(Oe[1]));break}}if(fe!==!0)if(fe&&A.throws)P=fe(P);else try{P=fe(P)}catch(_t){return{state:"parsererror",error:fe?_t:"No conversion from "+Te+" to "+re}}}}return{state:"success",data:P}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mn.href,type:"GET",isLocal:rd.test(mn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":fo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(A,P){return P?co(co(A,f.ajaxSettings),P):co(f.ajaxSettings,A)},ajaxPrefilter:yu(nl),ajaxTransport:yu(uo),ajax:function(A,P){typeof A=="object"&&(P=A,A=void 0),P=P||{};var R,K,ee,re,fe,Oe,Te,Ze,ct,_t,nt=f.ajaxSetup({},P),wt=nt.context||nt,Kt=nt.context&&(wt.nodeType||wt.jquery)?f(wt):f.event,ur=f.Deferred(),tr=f.Callbacks("once memory"),gn=nt.statusCode||{},tn={},Di={},Wn="canceled",or={readyState:0,getResponseHeader:function(pr){var Gr;if(Te){if(!re)for(re={};Gr=Ds.exec(ee);)re[Gr[1].toLowerCase()+" "]=(re[Gr[1].toLowerCase()+" "]||[]).concat(Gr[2]);Gr=re[pr.toLowerCase()+" "]}return Gr==null?null:Gr.join(", ")},getAllResponseHeaders:function(){return Te?ee:null},setRequestHeader:function(pr,Gr){return Te==null&&(pr=Di[pr.toLowerCase()]=Di[pr.toLowerCase()]||pr,tn[pr]=Gr),this},overrideMimeType:function(pr){return Te==null&&(nt.mimeType=pr),this},statusCode:function(pr){var Gr;if(pr)if(Te)or.always(pr[or.status]);else for(Gr in pr)gn[Gr]=[gn[Gr],pr[Gr]];return this},abort:function(pr){var Gr=pr||Wn;return R&&R.abort(Gr),Aa(0,Gr),this}};if(ur.promise(or),nt.url=((A||nt.url||mn.href)+"").replace(Ms,mn.protocol+"//"),nt.type=P.method||P.type||nt.method||nt.type,nt.dataTypes=(nt.dataType||"*").toLowerCase().match(be)||[""],nt.crossDomain==null){Oe=_.createElement("a");try{Oe.href=nt.url,Oe.href=Oe.href,nt.crossDomain=Ja.protocol+"//"+Ja.host!=Oe.protocol+"//"+Oe.host}catch{nt.crossDomain=!0}}if(nt.data&&nt.processData&&typeof nt.data!="string"&&(nt.data=f.param(nt.data,nt.traditional)),il(nl,nt,P,or),Te)return or;Ze=f.event&&nt.global,Ze&&f.active++===0&&f.event.trigger("ajaxStart"),nt.type=nt.type.toUpperCase(),nt.hasContent=!nd.test(nt.type),K=nt.url.replace(td,""),nt.hasContent?nt.data&&nt.processData&&(nt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(nt.data=nt.data.replace(ed,"+")):(_t=nt.url.slice(K.length),nt.data&&(nt.processData||typeof nt.data=="string")&&(K+=(hr.test(K)?"&":"?")+nt.data,delete nt.data),nt.cache===!1&&(K=K.replace(Ei,"$1"),_t=(hr.test(K)?"&":"?")+"_="+yn.guid+++_t),nt.url=K+_t),nt.ifModified&&(f.lastModified[K]&&or.setRequestHeader("If-Modified-Since",f.lastModified[K]),f.etag[K]&&or.setRequestHeader("If-None-Match",f.etag[K])),(nt.data&&nt.hasContent&&nt.contentType!==!1||P.contentType)&&or.setRequestHeader("Content-Type",nt.contentType),or.setRequestHeader("Accept",nt.dataTypes[0]&&nt.accepts[nt.dataTypes[0]]?nt.accepts[nt.dataTypes[0]]+(nt.dataTypes[0]!=="*"?", "+fo+"; q=0.01":""):nt.accepts["*"]);for(ct in nt.headers)or.setRequestHeader(ct,nt.headers[ct]);if(nt.beforeSend&&(nt.beforeSend.call(wt,or,nt)===!1||Te))return or.abort();if(Wn="abort",tr.add(nt.complete),or.done(nt.success),or.fail(nt.error),R=il(uo,nt,P,or),!R)Aa(-1,"No Transport");else{if(or.readyState=1,Ze&&Kt.trigger("ajaxSend",[or,nt]),Te)return or;nt.async&&nt.timeout>0&&(fe=e.setTimeout(function(){or.abort("timeout")},nt.timeout));try{Te=!1,R.send(tn,Aa)}catch(pr){if(Te)throw pr;Aa(-1,pr)}}function Aa(pr,Gr,Ri,Mi){var Ai,Ta,Ti,Li,ia,Qn=Gr;Te||(Te=!0,fe&&e.clearTimeout(fe),R=void 0,ee=Mi||"",or.readyState=pr>0?4:0,Ai=pr>=200&&pr<300||pr===304,Ri&&(Li=id(nt,or,Ri)),!Ai&&f.inArray("script",nt.dataTypes)>-1&&f.inArray("json",nt.dataTypes)<0&&(nt.converters["text script"]=function(){}),Li=ad(nt,Li,or,Ai),Ai?(nt.ifModified&&(ia=or.getResponseHeader("Last-Modified"),ia&&(f.lastModified[K]=ia),ia=or.getResponseHeader("etag"),ia&&(f.etag[K]=ia)),pr===204||nt.type==="HEAD"?Qn="nocontent":pr===304?Qn="notmodified":(Qn=Li.state,Ta=Li.data,Ti=Li.error,Ai=!Ti)):(Ti=Qn,(pr||!Qn)&&(Qn="error",pr<0&&(pr=0))),or.status=pr,or.statusText=(Gr||Qn)+"",Ai?ur.resolveWith(wt,[Ta,Qn,or]):ur.rejectWith(wt,[or,Qn,Ti]),or.statusCode(gn),gn=void 0,Ze&&Kt.trigger(Ai?"ajaxSuccess":"ajaxError",[or,nt,Ai?Ta:Ti]),tr.fireWith(wt,[or,Qn]),Ze&&(Kt.trigger("ajaxComplete",[or,nt]),--f.active||f.event.trigger("ajaxStop")))}return or},getJSON:function(A,P,R){return f.get(A,P,R,"json")},getScript:function(A,P){return f.get(A,void 0,P,"script")}}),f.each(["get","post"],function(A,P){f[P]=function(R,K,ee,re){return w(K)&&(re=re||ee,ee=K,K=void 0),f.ajax(f.extend({url:R,type:P,dataType:re,data:K,success:ee},f.isPlainObject(R)&&R))}}),f.ajaxPrefilter(function(A){var P;for(P in A.headers)P.toLowerCase()==="content-type"&&(A.contentType=A.headers[P]||"")}),f._evalUrl=function(A,P,R){return f.ajax({url:A,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(K){f.globalEval(K,P,R)}})},f.fn.extend({wrapAll:function(A){var P;return this[0]&&(w(A)&&(A=A.call(this[0])),P=f(A,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&P.insertBefore(this[0]),P.map(function(){for(var R=this;R.firstElementChild;)R=R.firstElementChild;return R}).append(this)),this},wrapInner:function(A){return w(A)?this.each(function(P){f(this).wrapInner(A.call(this,P))}):this.each(function(){var P=f(this),R=P.contents();R.length?R.wrapAll(A):P.append(A)})},wrap:function(A){var P=w(A);return this.each(function(R){f(this).wrapAll(P?A.call(this,R):A)})},unwrap:function(A){return this.parent(A).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(A){return!f.expr.pseudos.visible(A)},f.expr.pseudos.visible=function(A){return!!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var sd={0:200,1223:204},As=f.ajaxSettings.xhr();S.cors=!!As&&"withCredentials"in As,S.ajax=As=!!As,f.ajaxTransport(function(A){var P,R;if(S.cors||As&&!A.crossDomain)return{send:function(K,ee){var re,fe=A.xhr();if(fe.open(A.type,A.url,A.async,A.username,A.password),A.xhrFields)for(re in A.xhrFields)fe[re]=A.xhrFields[re];A.mimeType&&fe.overrideMimeType&&fe.overrideMimeType(A.mimeType),!A.crossDomain&&!K["X-Requested-With"]&&(K["X-Requested-With"]="XMLHttpRequest");for(re in K)fe.setRequestHeader(re,K[re]);P=function(Oe){return function(){P&&(P=R=fe.onload=fe.onerror=fe.onabort=fe.ontimeout=fe.onreadystatechange=null,Oe==="abort"?fe.abort():Oe==="error"?typeof fe.status!="number"?ee(0,"error"):ee(fe.status,fe.statusText):ee(sd[fe.status]||fe.status,fe.statusText,(fe.responseType||"text")!=="text"||typeof fe.responseText!="string"?{binary:fe.response}:{text:fe.responseText},fe.getAllResponseHeaders()))}},fe.onload=P(),R=fe.onerror=fe.ontimeout=P("error"),fe.onabort!==void 0?fe.onabort=R:fe.onreadystatechange=function(){fe.readyState===4&&e.setTimeout(function(){P&&R()})},P=P("abort");try{fe.send(A.hasContent&&A.data||null)}catch(Oe){if(P)throw Oe}},abort:function(){P&&P()}}}),f.ajaxPrefilter(function(A){A.crossDomain&&(A.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(A){return f.globalEval(A),A}}}),f.ajaxPrefilter("script",function(A){A.cache===void 0&&(A.cache=!1),A.crossDomain&&(A.type="GET")}),f.ajaxTransport("script",function(A){if(A.crossDomain||A.scriptAttrs){var P,R;return{send:function(K,ee){P=f("<script>").attr(A.scriptAttrs||{}).prop({charset:A.scriptCharset,src:A.url}).on("load error",R=function(re){P.remove(),R=null,re&&ee(re.type==="error"?404:200,re.type)}),_.head.appendChild(P[0])},abort:function(){R&&R()}}}});var al=[],Ir=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var A=al.pop()||f.expando+"_"+yn.guid++;return this[A]=!0,A}}),f.ajaxPrefilter("json jsonp",function(A,P,R){var K,ee,re,fe=A.jsonp!==!1&&(Ir.test(A.url)?"url":typeof A.data=="string"&&(A.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ir.test(A.data)&&"data");if(fe||A.dataTypes[0]==="jsonp")return K=A.jsonpCallback=w(A.jsonpCallback)?A.jsonpCallback():A.jsonpCallback,fe?A[fe]=A[fe].replace(Ir,"$1"+K):A.jsonp!==!1&&(A.url+=(hr.test(A.url)?"&":"?")+A.jsonp+"="+K),A.converters["script json"]=function(){return re||f.error(K+" was not called"),re[0]},A.dataTypes[0]="json",ee=e[K],e[K]=function(){re=arguments},R.always(function(){ee===void 0?f(e).removeProp(K):e[K]=ee,A[K]&&(A.jsonpCallback=P.jsonpCallback,al.push(K)),re&&w(ee)&&ee(re[0]),re=ee=void 0}),"script"}),S.createHTMLDocument=function(){var A=_.implementation.createHTMLDocument("").body;return A.innerHTML="<form></form><form></form>",A.childNodes.length===2}(),f.parseHTML=function(A,P,R){if(typeof A!="string")return[];typeof P=="boolean"&&(R=P,P=!1);var K,ee,re;return P||(S.createHTMLDocument?(P=_.implementation.createHTMLDocument(""),K=P.createElement("base"),K.href=_.location.href,P.head.appendChild(K)):P=_),ee=X.exec(A),re=!R&&[],ee?[P.createElement(ee[1])]:(ee=tt([A],P,re),re&&re.length&&f(re).remove(),f.merge([],ee.childNodes))},f.fn.load=function(A,P,R){var K,ee,re,fe=this,Oe=A.indexOf(" ");return Oe>-1&&(K=Nn(A.slice(Oe)),A=A.slice(0,Oe)),w(P)?(R=P,P=void 0):P&&typeof P=="object"&&(ee="POST"),fe.length>0&&f.ajax({url:A,type:ee||"GET",dataType:"html",data:P}).done(function(Te){re=arguments,fe.html(K?f("<div>").append(f.parseHTML(Te)).find(K):Te)}).always(R&&function(Te,Ze){fe.each(function(){R.apply(this,re||[Te.responseText,Ze,Te])})}),this},f.expr.pseudos.animated=function(A){return f.grep(f.timers,function(P){return A===P.elem}).length},f.offset={setOffset:function(A,P,R){var K,ee,re,fe,Oe,Te,Ze,ct=f.css(A,"position"),_t=f(A),nt={};ct==="static"&&(A.style.position="relative"),Oe=_t.offset(),re=f.css(A,"top"),Te=f.css(A,"left"),Ze=(ct==="absolute"||ct==="fixed")&&(re+Te).indexOf("auto")>-1,Ze?(K=_t.position(),fe=K.top,ee=K.left):(fe=parseFloat(re)||0,ee=parseFloat(Te)||0),w(P)&&(P=P.call(A,R,f.extend({},Oe))),P.top!=null&&(nt.top=P.top-Oe.top+fe),P.left!=null&&(nt.left=P.left-Oe.left+ee),"using"in P?P.using.call(A,nt):_t.css(nt)}},f.fn.extend({offset:function(A){if(arguments.length)return A===void 0?this:this.each(function(ee){f.offset.setOffset(this,A,ee)});var P,R,K=this[0];if(K)return K.getClientRects().length?(P=K.getBoundingClientRect(),R=K.ownerDocument.defaultView,{top:P.top+R.pageYOffset,left:P.left+R.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var A,P,R,K=this[0],ee={top:0,left:0};if(f.css(K,"position")==="fixed")P=K.getBoundingClientRect();else{for(P=this.offset(),R=K.ownerDocument,A=K.offsetParent||R.documentElement;A&&(A===R.body||A===R.documentElement)&&f.css(A,"position")==="static";)A=A.parentNode;A&&A!==K&&A.nodeType===1&&(ee=f(A).offset(),ee.top+=f.css(A,"borderTopWidth",!0),ee.left+=f.css(A,"borderLeftWidth",!0))}return{top:P.top-ee.top-f.css(K,"marginTop",!0),left:P.left-ee.left-f.css(K,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var A=this.offsetParent;A&&f.css(A,"position")==="static";)A=A.offsetParent;return A||ot})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(A,P){var R=P==="pageYOffset";f.fn[A]=function(K){return ye(this,function(ee,re,fe){var Oe;if(c(ee)?Oe=ee:ee.nodeType===9&&(Oe=ee.defaultView),fe===void 0)return Oe?Oe[P]:ee[re];Oe?Oe.scrollTo(R?Oe.pageXOffset:fe,R?fe:Oe.pageYOffset):ee[re]=fe},A,K,arguments.length)}}),f.each(["top","left"],function(A,P){f.cssHooks[P]=ta(S.pixelPosition,function(R,K){if(K)return K=Ar(R,P),Ur.test(K)?f(R).position()[P]+"px":K})}),f.each({Height:"height",Width:"width"},function(A,P){f.each({padding:"inner"+A,content:P,"":"outer"+A},function(R,K){f.fn[K]=function(ee,re){var fe=arguments.length&&(R||typeof ee!="boolean"),Oe=R||(ee===!0||re===!0?"margin":"border");return ye(this,function(Te,Ze,ct){var _t;return c(Te)?K.indexOf("outer")===0?Te["inner"+A]:Te.document.documentElement["client"+A]:Te.nodeType===9?(_t=Te.documentElement,Math.max(Te.body["scroll"+A],_t["scroll"+A],Te.body["offset"+A],_t["offset"+A],_t["client"+A])):ct===void 0?f.css(Te,Ze,Oe):f.style(Te,Ze,ct,Oe)},P,fe?ee:void 0,fe)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(A,P){f.fn[P]=function(R){return this.on(P,R)}}),f.fn.extend({bind:function(A,P,R){return this.on(A,null,P,R)},unbind:function(A,P){return this.off(A,null,P)},delegate:function(A,P,R,K){return this.on(P,A,R,K)},undelegate:function(A,P,R){return arguments.length===1?this.off(A,"**"):this.off(P,A||"**",R)},hover:function(A,P){return this.mouseenter(A).mouseleave(P||A)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(A,P){f.fn[P]=function(R,K){return arguments.length>0?this.on(P,null,R,K):this.trigger(P)}});var Ts=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(A,P){var R,K,ee;if(typeof P=="string"&&(R=A[P],P=A,A=R),!!w(A))return K=a.call(arguments,2),ee=function(){return A.apply(P||this,K.concat(a.call(arguments)))},ee.guid=A.guid=A.guid||f.guid++,ee},f.holdReady=function(A){A?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=M,f.isFunction=w,f.isWindow=c,f.camelCase=Ie,f.type=C,f.now=Date.now,f.isNumeric=function(A){var P=f.type(A);return(P==="number"||P==="string")&&!isNaN(A-parseFloat(A))},f.trim=function(A){return A==null?"":(A+"").replace(Ts,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return f});var Ls=e.jQuery,od=e.$;return f.noConflict=function(A){return e.$===f&&(e.$=od),A&&e.jQuery===f&&(e.jQuery=Ls),f},typeof t>"u"&&(e.jQuery=e.$=f),f})});function vc(e){var t="a aa ai ao as b fn i m o s ",r,n,a={};Ee.each(e,function(s,o){r=s.match(/^([^A-Z]+?)([A-Z])/),r&&t.indexOf(r[1]+" ")!==-1&&(n=s.replace(r[0],r[2].toLowerCase()),a[n]=s,r[1]==="o"&&vc(e[s]))}),e._hungarianMap=a}function $s(e,t,r){e._hungarianMap||vc(e);var n;Ee.each(t,function(a,s){n=e._hungarianMap[a],n!==void 0&&(r||t[n]===void 0)&&(n.charAt(0)==="o"?(t[n]||(t[n]={}),Ee.extend(!0,t[n],t[a]),$s(e[n],t[n],r)):t[n]=t[a])})}function ob(e){var t=St.defaults.oLanguage,r=t.sDecimal;if(r&&hb(r),e){var n=e.sZeroRecords;!e.sEmptyTable&&n&&t.sEmptyTable==="No data available in table"&&Ha(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&t.sLoadingRecords==="Loading..."&&Ha(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var a=e.sDecimal;a&&r!==a&&hb(a)}}function zC(e){zi(e,"ordering","bSort"),zi(e,"orderMulti","bSortMulti"),zi(e,"orderClasses","bSortClasses"),zi(e,"orderCellsTop","bSortCellsTop"),zi(e,"order","aaSorting"),zi(e,"orderFixed","aaSortingFixed"),zi(e,"paging","bPaginate"),zi(e,"pagingType","sPaginationType"),zi(e,"pageLength","iDisplayLength"),zi(e,"searching","bFilter"),typeof e.sScrollX=="boolean"&&(e.sScrollX=e.sScrollX?"100%":""),typeof e.scrollX=="boolean"&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var r=0,n=t.length;r<n;r++)t[r]&&$s(St.models.oSearch,t[r])}function ZC(e){zi(e,"orderable","bSortable"),zi(e,"orderData","aDataSort"),zi(e,"orderSequence","asSorting"),zi(e,"orderDataType","sortDataType");var t=e.aDataSort;typeof t=="number"&&!Array.isArray(t)&&(e.aDataSort=[t])}function XC(e){if(!St.__browser){var t={};St.__browser=t;var r=Ee("<div/>").css({position:"fixed",top:0,left:Ee(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append(Ee("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(Ee("<div/>").css({width:"100%",height:10}))).appendTo("body"),n=r.children(),a=n.children();t.barWidth=n[0].offsetWidth-n[0].clientWidth,t.bScrollOversize=a[0].offsetWidth===100&&n[0].clientWidth!==100,t.bScrollbarLeft=Math.round(a.offset().left)!==1,t.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}Ee.extend(e.oBrowser,St.__browser),e.oScroll.iBarWidth=St.__browser.barWidth}function FC(e,t,r,n,a,s){var o=n,u,l=!1;for(r!==void 0&&(u=r,l=!0);o!==a;)e.hasOwnProperty(o)&&(u=l?t(u,e[o],o,e):e[o],l=!0,o+=s);return u}function pb(e,t){var r=St.defaults.column,n=e.aoColumns.length,a=Ee.extend({},St.models.oColumn,r,{nTh:t||document.createElement("th"),sTitle:r.sTitle?r.sTitle:t?t.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[n],mData:r.mData?r.mData:n,idx:n});e.aoColumns.push(a);var s=e.aoPreSearchCols;s[n]=Ee.extend({},St.models.oSearch,s[n]),S0(e,n,Ee(t).data())}function S0(e,t,r){var n=e.aoColumns[t],a=e.oClasses,s=Ee(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var o=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);o&&(n.sWidthOrig=o[1])}if(r!=null){ZC(r),$s(St.defaults.column,r,!0),r.mDataProp!==void 0&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&s.addClass(r.sClass);var u=n.sClass;Ee.extend(n,r),Ha(n,r,"sWidth","sWidthOrig"),u!==n.sClass&&(n.sClass=u+" "+n.sClass),r.iDataSort!==void 0&&(n.aDataSort=[r.iDataSort]),Ha(n,r,"aDataSort")}var l=n.mData,g=df(l),h=n.mRender?df(n.mRender):null,v=function(w){return typeof w=="string"&&w.indexOf("@")!==-1};n._bAttrSrc=Ee.isPlainObject(l)&&(v(l.sort)||v(l.type)||v(l.filter)),n._setter=null,n.fnGetData=function(w,c,_){var y=g(w,c,void 0,_);return h&&c?h(y,c,w,_):y},n.fnSetData=function(w,c,_){return Fo(l)(w,c,_)},typeof l!="number"&&!n._isArrayHost&&(e._rowReadObject=!0),e.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone));var x=Ee.inArray("asc",n.asSorting)!==-1,S=Ee.inArray("desc",n.asSorting)!==-1;!n.bSortable||!x&&!S?(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI=""):x&&!S?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!x&&S?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI)}function _c(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;wb(e);for(var r=0,n=t.length;r<n;r++)t[r].nTh.style.width=t[r].sWidth}var a=e.oScroll;(a.sY!==""||a.sX!=="")&&I0(e),Nr(e,null,"column-sizing",[e])}function bc(e,t){var r=T0(e,"bVisible");return typeof r[t]=="number"?r[t]:null}function yc(e,t){var r=T0(e,"bVisible"),n=Ee.inArray(t,r);return n!==-1?n:null}function cf(e){var t=0;return Ee.each(e.aoColumns,function(r,n){n.bVisible&&Ee(n.nTh).css("display")!=="none"&&t++}),t}function T0(e,t){var r=[];return Ee.map(e.aoColumns,function(n,a){n[t]&&r.push(a)}),r}function mb(e){var t=e.aoColumns,r=e.aoData,n=St.ext.type.detect,a,s,o,u,l,g,h,v,x,S;for(a=0,s=t.length;a<s;a++)if(h=t[a],S=[],!h.sType&&h._sManualType)h.sType=h._sManualType;else if(!h.sType){for(o=0,u=n.length;o<u;o++){for(l=0,g=r.length;l<g&&(S[l]===void 0&&(S[l]=Fi(e,l,a,"type")),x=n[o](S[l],e),!(!x&&o!==n.length-1||x==="html"&&!ds(S[l])));l++);if(x){h.sType=x;break}}h.sType||(h.sType="string")}}function $C(e,t,r,n){var a,s,o,u,l,g,h,v=e.aoColumns;if(t)for(a=t.length-1;a>=0;a--){h=t[a];var x=h.target!==void 0?h.target:h.targets!==void 0?h.targets:h.aTargets;for(Array.isArray(x)||(x=[x]),o=0,u=x.length;o<u;o++)if(typeof x[o]=="number"&&x[o]>=0){for(;v.length<=x[o];)pb(e);n(x[o],h)}else if(typeof x[o]=="number"&&x[o]<0)n(v.length+x[o],h);else if(typeof x[o]=="string")for(l=0,g=v.length;l<g;l++)(x[o]=="_all"||Ee(v[l].nTh).hasClass(x[o]))&&n(l,h)}if(r)for(a=0,s=r.length;a<s;a++)n(a,r[a])}function Bo(e,t,r,n){var a=e.aoData.length,s=Ee.extend(!0,{},St.models.oRow,{src:r?"dom":"data",idx:a});s._aData=t,e.aoData.push(s);for(var o,u,l=e.aoColumns,g=0,h=l.length;g<h;g++)l[g].sType=null;e.aiDisplayMaster.push(a);var v=e.rowIdFn(t);return v!==void 0&&(e.aIds[v]=s),(r||!e.oFeatures.bDeferRender)&&vb(e,a,r,n),a}function L0(e,t){var r;return t instanceof Ee||(t=Ee(t)),t.map(function(n,a){return r=gb(e,a),Bo(e,r.data,a,r.cells)})}function nI(e,t){return t._DT_RowIndex!==void 0?t._DT_RowIndex:null}function iI(e,t,r){return Ee.inArray(r,e.aoData[t].anCells)}function Fi(e,t,r,n){n==="search"?n="filter":n==="order"&&(n="sort");var a=e.iDraw,s=e.aoColumns[r],o=e.aoData[t]._aData,u=s.sDefaultContent,l=s.fnGetData(o,n,{settings:e,row:t,col:r});if(l===void 0)return e.iDrawError!=a&&u===null&&(ha(e,0,"Requested unknown parameter "+(typeof s.mData=="function"?"{function}":"'"+s.mData+"'")+" for row "+t+", column "+r,4),e.iDrawError=a),u;if((l===o||l===null)&&u!==null&&n!==void 0)l=u;else if(typeof l=="function")return l.call(o);if(l===null&&n==="display")return"";if(n==="filter"){var g=St.ext.type.search;g[s.sType]&&(l=g[s.sType](l))}return l}function QC(e,t,r,n){var a=e.aoColumns[r],s=e.aoData[t]._aData;a.fnSetData(s,n,{settings:e,row:t,col:r})}function lb(e){return Ee.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function ub(e){return Qi(e.aoData,"_aData")}function O0(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function b0(e,t,r){for(var n=-1,a=0,s=e.length;a<s;a++)e[a]==t?n=a:e[a]>t&&e[a]--;n!=-1&&r===void 0&&e.splice(n,1)}function xc(e,t,r,n){var a=e.aoData[t],s,o,u=function(h,v){for(;h.childNodes.length;)h.removeChild(h.firstChild);h.innerHTML=Fi(e,t,v,"display")};if(r==="dom"||(!r||r==="auto")&&a.src==="dom")a._aData=gb(e,a,n,n===void 0?void 0:a._aData).data;else{var l=a.anCells;if(l)if(n!==void 0)u(l[n],n);else for(s=0,o=l.length;s<o;s++)u(l[s],s)}a._aSortData=null,a._aFilterData=null;var g=e.aoColumns;if(n!==void 0)g[n].sType=null;else{for(s=0,o=g.length;s<o;s++)g[s].sType=null;_b(e,a)}}function gb(e,t,r,n){var a=[],s=t.firstChild,o,u,l,g=0,h,v=e.aoColumns,x=e._rowReadObject;n=n!==void 0?n:x?{}:[];var S=function(C,E){if(typeof C=="string"){var p=C.indexOf("@");if(p!==-1){var f=C.substring(p+1),D=Fo(C);D(n,E.getAttribute(f))}}},w=function(C){if(r===void 0||r===g)if(u=v[g],h=C.innerHTML.trim(),u&&u._bAttrSrc){var E=Fo(u.mData._);E(n,h),S(u.mData.sort,C),S(u.mData.type,C),S(u.mData.filter,C)}else x?(u._setter||(u._setter=Fo(u.mData)),u._setter(n,h)):n[g]=h;g++};if(s)for(;s;)o=s.nodeName.toUpperCase(),(o=="TD"||o=="TH")&&(w(s),a.push(s)),s=s.nextSibling;else{a=t.anCells;for(var c=0,_=a.length;c<_;c++)w(a[c])}var y=t.firstChild?t:t.nTr;if(y){var b=y.getAttribute("id");b&&Fo(e.rowId)(n,b)}return{data:n,cells:a}}function vb(e,t,r,n){var a=e.aoData[t],s=a._aData,o=[],u,l,g,h,v,x;if(a.nTr===null){for(u=r||document.createElement("tr"),a.nTr=u,a.anCells=o,u._DT_RowIndex=t,_b(e,a),h=0,v=e.aoColumns.length;h<v;h++)g=e.aoColumns[h],x=!r,l=x?document.createElement(g.sCellType):n[h],l||ha(e,0,"Incorrect column count",18),l._DT_CellIndex={row:t,column:h},o.push(l),(x||(g.mRender||g.mData!==h)&&(!Ee.isPlainObject(g.mData)||g.mData._!==h+".display"))&&(l.innerHTML=Fi(e,t,h,"display")),g.sClass&&(l.className+=" "+g.sClass),g.bVisible&&!r?u.appendChild(l):!g.bVisible&&r&&l.parentNode.removeChild(l),g.fnCreatedCell&&g.fnCreatedCell.call(e.oInstance,l,Fi(e,t,h),s,t,h);Nr(e,"aoRowCreatedCallback",null,[u,s,t,o])}}function _b(e,t){var r=t.nTr,n=t._aData;if(r){var a=e.rowIdFn(n);if(a&&(r.id=a),n.DT_RowClass){var s=n.DT_RowClass.split(" ");t.__rowc=t.__rowc?A0(t.__rowc.concat(s)):s,Ee(r).removeClass(t.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&Ee(r).attr(n.DT_RowAttr),n.DT_RowData&&Ee(r).data(n.DT_RowData)}}function qC(e){var t,r,n,a,s,o=e.nTHead,u=e.nTFoot,l=Ee("th, td",o).length===0,g=e.oClasses,h=e.aoColumns;for(l&&(a=Ee("<tr/>").appendTo(o)),t=0,r=h.length;t<r;t++)s=h[t],n=Ee(s.nTh).addClass(s.sClass),l&&n.appendTo(a),e.oFeatures.bSort&&(n.addClass(s.sSortingClass),s.bSortable!==!1&&(n.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Cb(e,s.nTh,t))),s.sTitle!=n[0].innerHTML&&n.html(s.sTitle),Mb(e,"header")(e,n,s,g);if(l&&mc(e.aoHeader,o),Ee(o).children("tr").children("th, td").addClass(g.sHeaderTH),Ee(u).children("tr").children("th, td").addClass(g.sFooterTH),u!==null){var v=e.aoFooter[0];for(t=0,r=v.length;t<r;t++)s=h[t],s?(s.nTf=v[t].cell,s.sClass&&Ee(s.nTf).addClass(s.sClass)):ha(e,0,"Incorrect column count",18)}}function pc(e,t,r){var n,a,s,o,u,l,g,h,v=[],x=[],S=e.aoColumns.length,w,c;if(t){for(r===void 0&&(r=!1),n=0,a=t.length;n<a;n++){for(v[n]=t[n].slice(),v[n].nTr=t[n].nTr,s=S-1;s>=0;s--)!e.aoColumns[s].bVisible&&!r&&v[n].splice(s,1);x.push([])}for(n=0,a=v.length;n<a;n++){if(h=v[n].nTr,h)for(;g=h.firstChild;)h.removeChild(g);for(s=0,o=v[n].length;s<o;s++)if(w=1,c=1,x[n][s]===void 0){for(h.appendChild(v[n][s].cell),x[n][s]=1;v[n+w]!==void 0&&v[n][s].cell==v[n+w][s].cell;)x[n+w][s]=1,w++;for(;v[n][s+c]!==void 0&&v[n][s].cell==v[n][s+c].cell;){for(u=0;u<w;u++)x[n+u][s+c]=1;c++}Ee(v[n][s].cell).attr("rowspan",w).attr("colspan",c)}}}}function Uo(e,t){aI(e);var r=Nr(e,"aoPreDrawCallback","preDraw",[e]);if(Ee.inArray(!1,r)!==-1){$i(e,!1);return}var n=[],a=0,s=e.asStripeClasses,o=s.length,u=e.oLanguage,l=ii(e)=="ssp",g=e.aiDisplay,h=e._iDisplayStart,v=e.fnDisplayEnd();if(e.bDrawing=!0,e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,$i(e,!1);else if(!l)e.iDraw++;else if(!e.bDestroying&&!t){eE(e);return}if(g.length!==0)for(var x=l?0:h,S=l?e.aoData.length:v,w=x;w<S;w++){var c=g[w],_=e.aoData[c];_.nTr===null&&vb(e,c);var y=_.nTr;if(o!==0){var b=s[a%o];_._sRowStripe!=b&&(Ee(y).removeClass(_._sRowStripe).addClass(b),_._sRowStripe=b)}Nr(e,"aoRowCallback",null,[y,_._aData,a,w,c]),n.push(y),a++}else{var C=u.sZeroRecords;e.iDraw==1&&ii(e)=="ajax"?C=u.sLoadingRecords:u.sEmptyTable&&e.fnRecordsTotal()===0&&(C=u.sEmptyTable),n[0]=Ee("<tr/>",{class:o?s[0]:""}).append(Ee("<td />",{valign:"top",colSpan:cf(e),class:e.oClasses.sRowEmpty}).html(C))[0]}Nr(e,"aoHeaderCallback","header",[Ee(e.nTHead).children("tr")[0],ub(e),h,v,g]),Nr(e,"aoFooterCallback","footer",[Ee(e.nTFoot).children("tr")[0],ub(e),h,v,g]);var E=Ee(e.nTBody);E.children().detach(),E.append(Ee(n)),Nr(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function kl(e,t){var r=e.oFeatures,n=r.bSort,a=r.bFilter;n&&_E(e),a?Sc(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,Uo(e),e._drawHold=!1}function JC(e){var t=e.oClasses,r=Ee(e.nTable),n=Ee("<div/>").insertBefore(r),a=e.oFeatures,s=Ee("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=s[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o=e.sDom.split(""),u,l,g,h,v,x,S=0;S<o.length;S++){if(u=null,l=o[S],l=="<"){if(g=Ee("<div/>")[0],h=o[S+1],h=="'"||h=='"'){for(v="",x=2;o[S+x]!=h;)v+=o[S+x],x++;if(v=="H"?v=t.sJUIHeader:v=="F"&&(v=t.sJUIFooter),v.indexOf(".")!=-1){var w=v.split(".");g.id=w[0].substr(1,w[0].length-1),g.className=w[1]}else v.charAt(0)=="#"?g.id=v.substr(1,v.length-1):g.className=v;S+=x}s.append(g),s=Ee(g)}else if(l==">")s=s.parent();else if(l=="l"&&a.bPaginate&&a.bLengthChange)u=dE(e);else if(l=="f"&&a.bFilter)u=nE(e);else if(l=="r"&&a.bProcessing)u=hE(e);else if(l=="t")u=pE(e);else if(l=="i"&&a.bInfo)u=lE(e);else if(l=="p"&&a.bPaginate)u=cE(e);else if(St.ext.feature.length!==0){for(var c=St.ext.feature,_=0,y=c.length;_<y;_++)if(l==c[_].cFeature){u=c[_].fnInit(e);break}}if(u){var b=e.aanFeatures;b[l]||(b[l]=[]),b[l].push(u),s.append(u)}}n.replaceWith(s),e.nHolding=null}function mc(e,t){var r=Ee(t).children("tr"),n,a,s,o,u,l,g,h,v,x,S,w,c=function(_,y,b){for(var C=_[y];C[b];)b++;return b};for(e.splice(0,e.length),s=0,l=r.length;s<l;s++)e.push([]);for(s=0,l=r.length;s<l;s++)for(n=r[s],v=0,a=n.firstChild;a;){if(a.nodeName.toUpperCase()=="TD"||a.nodeName.toUpperCase()=="TH")for(x=a.getAttribute("colspan")*1,S=a.getAttribute("rowspan")*1,x=!x||x===0||x===1?1:x,S=!S||S===0||S===1?1:S,h=c(e,s,v),w=x===1,u=0;u<x;u++)for(o=0;o<S;o++)e[s+o][h+u]={cell:a,unique:w},e[s+o].nTr=n;a=a.nextSibling}}function k0(e,t,r){var n=[];r||(r=e.aoHeader,t&&(r=[],mc(r,t)));for(var a=0,s=r.length;a<s;a++)for(var o=0,u=r[a].length;o<u;o++)r[a][o].unique&&(!n[o]||!e.bSortCellsTop)&&(n[o]=r[a][o].cell);return n}function aI(e){var t=ii(e)=="ssp",r=e.iInitDisplayStart;r!==void 0&&r!==-1&&(e._iDisplayStart=t?r:r>=e.fnRecordsDisplay()?0:r,e.iInitDisplayStart=-1)}function N0(e,t,r){if(Nr(e,"aoServerParams","serverParams",[t]),t&&Array.isArray(t)){var n={},a=/(.*?)\[\]$/;Ee.each(t,function(v,x){var S=x.name.match(a);if(S){var w=S[0];n[w]||(n[w]=[]),n[w].push(x.value)}else n[x.name]=x.value}),t=n}var s,o=e.ajax,u=e.oInstance,l=function(v){var x=e.jqXHR?e.jqXHR.status:null;(v===null||typeof x=="number"&&x==204)&&(v={},wc(e,v,[]));var S=v.error||v.sError;S&&ha(e,0,S),e.json=v,Nr(e,null,"xhr",[e,v,e.jqXHR]),r(v)};if(Ee.isPlainObject(o)&&o.data){s=o.data;var g=typeof s=="function"?s(t,e):s;t=typeof s=="function"&&g?g:Ee.extend(!0,t,g),delete o.data}var h={data:t,success:l,dataType:"json",cache:!1,type:e.sServerMethod,error:function(v,x,S){var w=Nr(e,null,"xhr",[e,null,e.jqXHR]);Ee.inArray(!0,w)===-1&&(x=="parsererror"?ha(e,0,"Invalid JSON response",1):v.readyState===4&&ha(e,0,"Ajax error",7)),$i(e,!1)}};e.oAjaxData=t,Nr(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(u,e.sAjaxSource,Ee.map(t,function(v,x){return{name:x,value:v}}),l,e):e.sAjaxSource||typeof o=="string"?e.jqXHR=Ee.ajax(Ee.extend(h,{url:o||e.sAjaxSource})):typeof o=="function"?e.jqXHR=o.call(u,t,l,e):(e.jqXHR=Ee.ajax(Ee.extend(h,o)),o.data=s)}function eE(e){e.iDraw++,$i(e,!0);var t=e._drawHold;N0(e,tE(e),function(r){e._drawHold=t,rE(e,r),e._drawHold=!1})}function tE(e){var t=e.aoColumns,r=t.length,n=e.oFeatures,a=e.oPreviousSearch,s=e.aoPreSearchCols,o,u=[],l,g,h,v=hf(e),x=e._iDisplayStart,S=n.bPaginate!==!1?e._iDisplayLength:-1,w=function(y,b){u.push({name:y,value:b})};w("sEcho",e.iDraw),w("iColumns",r),w("sColumns",Qi(t,"sName").join(",")),w("iDisplayStart",x),w("iDisplayLength",S);var c={draw:e.iDraw,columns:[],order:[],start:x,length:S,search:{value:a.sSearch,regex:a.bRegex}};for(o=0;o<r;o++)g=t[o],h=s[o],l=typeof g.mData=="function"?"function":g.mData,c.columns.push({data:l,name:g.sName,searchable:g.bSearchable,orderable:g.bSortable,search:{value:h.sSearch,regex:h.bRegex}}),w("mDataProp_"+o,l),n.bFilter&&(w("sSearch_"+o,h.sSearch),w("bRegex_"+o,h.bRegex),w("bSearchable_"+o,g.bSearchable)),n.bSort&&w("bSortable_"+o,g.bSortable);n.bFilter&&(w("sSearch",a.sSearch),w("bRegex",a.bRegex)),n.bSort&&(Ee.each(v,function(y,b){c.order.push({column:b.col,dir:b.dir}),w("iSortCol_"+y,b.col),w("sSortDir_"+y,b.dir)}),w("iSortingCols",v.length));var _=St.ext.legacy.ajax;return _===null?e.sAjaxSource?u:c:_?u:c}function rE(e,t){var r=function(g,h){return t[g]!==void 0?t[g]:t[h]},n=wc(e,t),a=r("sEcho","draw"),s=r("iTotalRecords","recordsTotal"),o=r("iTotalDisplayRecords","recordsFiltered");if(a!==void 0){if(a*1<e.iDraw)return;e.iDraw=a*1}n||(n=[]),O0(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(o,10);for(var u=0,l=n.length;u<l;u++)Bo(e,n[u]);e.aiDisplay=e.aiDisplayMaster.slice(),Uo(e,!0),e._bInitComplete||C0(e,t),$i(e,!1)}function wc(e,t,r){var n=Ee.isPlainObject(e.ajax)&&e.ajax.dataSrc!==void 0?e.ajax.dataSrc:e.sAjaxDataProp;if(!r)return n==="data"?t.aaData||t[n]:n!==""?df(n)(t):t;Fo(n)(t,r)}function nE(e){var t=e.oClasses,r=e.sTableId,n=e.oLanguage,a=e.oPreviousSearch,s=e.aanFeatures,o='<input type="search" class="'+t.sFilterInput+'"/>',u=n.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",o):u+o;var l=Ee("<div/>",{id:s.f?null:r+"_filter",class:t.sFilter}).append(Ee("<label/>").append(u)),g=function(x){var S=s.f,w=this.value?this.value:"";a.return&&x.key!=="Enter"||w!=a.sSearch&&(Sc(e,{sSearch:w,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive,return:a.return}),e._iDisplayStart=0,Uo(e))},h=e.searchDelay!==null?e.searchDelay:ii(e)==="ssp"?400:0,v=Ee("input",l).val(a.sSearch).attr("placeholder",n.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",h?Sb(g,h):g).on("mouseup.DT",function(x){setTimeout(function(){g.call(v[0],x)},10)}).on("keypress.DT",function(x){if(x.keyCode==13)return!1}).attr("aria-controls",r);return Ee(e.nTable).on("search.dt.DT",function(x,S){if(e===S)try{v[0]!==document.activeElement&&v.val(a.sSearch)}catch{}}),l[0]}function Sc(e,t,r){var n=e.oPreviousSearch,a=e.aoPreSearchCols,s=function(l){n.sSearch=l.sSearch,n.bRegex=l.bRegex,n.bSmart=l.bSmart,n.bCaseInsensitive=l.bCaseInsensitive,n.return=l.return},o=function(l){return l.bEscapeRegex!==void 0?!l.bEscapeRegex:l.bRegex};if(mb(e),ii(e)!="ssp"){sE(e,t.sSearch,r,o(t),t.bSmart,t.bCaseInsensitive),s(t);for(var u=0;u<a.length;u++)aE(e,a[u].sSearch,u,o(a[u]),a[u].bSmart,a[u].bCaseInsensitive);iE(e)}else s(t);e.bFiltered=!0,Nr(e,null,"search",[e])}function iE(e){for(var t=St.ext.search,r=e.aiDisplay,n,a,s=0,o=t.length;s<o;s++){for(var u=[],l=0,g=r.length;l<g;l++)a=r[l],n=e.aoData[a],t[s](e,n._aFilterData,a,n._aData,l)&&u.push(a);r.length=0,Ee.merge(r,u)}}function aE(e,t,r,n,a,s){if(t!==""){for(var o,u=[],l=e.aiDisplay,g=bb(t,n,a,s),h=0;h<l.length;h++)o=e.aoData[l[h]]._aFilterData[r],g.test(o)&&u.push(l[h]);e.aiDisplay=u}}function sE(e,t,r,n,a,s){var o=bb(t,n,a,s),u=e.oPreviousSearch.sSearch,l=e.aiDisplayMaster,g,h,v,x=[];if(St.ext.search.length!==0&&(r=!0),h=oE(e),t.length<=0)e.aiDisplay=l.slice();else{for((h||r||n||u.length>t.length||t.indexOf(u)!==0||e.bSorted)&&(e.aiDisplay=l.slice()),g=e.aiDisplay,v=0;v<g.length;v++)o.test(e.aoData[g[v]]._sFilterRow)&&x.push(g[v]);e.aiDisplay=x}}function bb(e,t,r,n){if(e=t?e:yb(e),r){var a=Ee.map(e.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(s){if(s.charAt(0)==='"'){var o=s.match(/^"(.*)"$/);s=o?o[1]:s}else if(s.charAt(0)==="\u201C"){var o=s.match(/^\u201C(.*)\u201D$/);s=o?o[1]:s}return s.replace('"',"")});e="^(?=.*?"+a.join(")(?=.*?")+").*$"}return new RegExp(e,n?"i":"")}function oE(e){var t=e.aoColumns,r,n,a,s,o,u,l,g,h=!1;for(n=0,s=e.aoData.length;n<s;n++)if(g=e.aoData[n],!g._aFilterData){for(u=[],a=0,o=t.length;a<o;a++)r=t[a],r.bSearchable?(l=Fi(e,n,a,"filter"),l===null&&(l=""),typeof l!="string"&&l.toString&&(l=l.toString())):l="",l.indexOf&&l.indexOf("&")!==-1&&(y0.innerHTML=l,l=sI?y0.textContent:y0.innerText),l.replace&&(l=l.replace(/[\r\n\u2028]/g,"")),u.push(l);g._aFilterData=u,g._sFilterRow=u.join("  "),h=!0}return h}function BC(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function UC(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function lE(e){var t=e.sTableId,r=e.aanFeatures.i,n=Ee("<div/>",{class:e.oClasses.sInfo,id:r?null:t+"_info"});return r||(e.aoDrawCallback.push({fn:uE,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),Ee(e.nTable).attr("aria-describedby",t+"_info")),n[0]}function uE(e){var t=e.aanFeatures.i;if(t.length!==0){var r=e.oLanguage,n=e._iDisplayStart+1,a=e.fnDisplayEnd(),s=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),u=o?r.sInfo:r.sInfoEmpty;o!==s&&(u+=" "+r.sInfoFiltered),u+=r.sInfoPostFix,u=fE(e,u);var l=r.fnInfoCallback;l!==null&&(u=l.call(e.oInstance,e,n,a,s,o,u)),Ee(t).html(u)}}function fE(e,t){var r=e.fnFormatNumber,n=e._iDisplayStart+1,a=e._iDisplayLength,s=e.fnRecordsDisplay(),o=a===-1;return t.replace(/_START_/g,r.call(e,n)).replace(/_END_/g,r.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,r.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,r.call(e,s)).replace(/_PAGE_/g,r.call(e,o?1:Math.ceil(n/a))).replace(/_PAGES_/g,r.call(e,o?1:Math.ceil(s/a)))}function hc(e){var t,r,n=e.iInitDisplayStart,a=e.aoColumns,s,o=e.oFeatures,u=e.bDeferLoading;if(!e.bInitialised){setTimeout(function(){hc(e)},200);return}for(JC(e),qC(e),pc(e,e.aoHeader),pc(e,e.aoFooter),$i(e,!0),o.bAutoWidth&&wb(e),t=0,r=a.length;t<r;t++)s=a[t],s.sWidth&&(s.nTh.style.width=cn(s.sWidth));Nr(e,null,"preInit",[e]),kl(e);var l=ii(e);(l!="ssp"||u)&&(l=="ajax"?N0(e,[],function(g){var h=wc(e,g);for(t=0;t<h.length;t++)Bo(e,h[t]);e.iInitDisplayStart=n,kl(e),$i(e,!1),C0(e,g)},e):($i(e,!1),C0(e)))}function C0(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&_c(e),Nr(e,null,"plugin-init",[e,t]),Nr(e,"aoInitComplete","init",[e,t])}function xb(e,t){var r=parseInt(t,10);e._iDisplayLength=r,Db(e),Nr(e,null,"length",[e,r])}function dE(e){for(var t=e.oClasses,r=e.sTableId,n=e.aLengthMenu,a=Array.isArray(n[0]),s=a?n[0]:n,o=a?n[1]:n,u=Ee("<select/>",{name:r+"_length","aria-controls":r,class:t.sLengthSelect}),l=0,g=s.length;l<g;l++)u[0][l]=new Option(typeof o[l]=="number"?e.fnFormatNumber(o[l]):o[l],s[l]);var h=Ee("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(h[0].id=r+"_length"),h.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",u[0].outerHTML)),Ee("select",h).val(e._iDisplayLength).on("change.DT",function(v){xb(e,Ee(this).val()),Uo(e)}),Ee(e.nTable).on("length.dt.DT",function(v,x,S){e===x&&Ee("select",h).val(S)}),h[0]}function cE(e){var t=e.sPaginationType,r=St.ext.pager[t],n=typeof r=="function",a=function(u){Uo(u)},s=Ee("<div/>").addClass(e.oClasses.sPaging+t)[0],o=e.aanFeatures;return n||r.fnInit(e,s,a),o.p||(s.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(u){if(n){var l=u._iDisplayStart,g=u._iDisplayLength,h=u.fnRecordsDisplay(),v=g===-1,x=v?0:Math.ceil(l/g),S=v?1:Math.ceil(h/g),w=r(x,S),c,_;for(c=0,_=o.p.length;c<_;c++)Mb(u,"pageButton")(u,o.p[c],c,w,x,S)}else r.fnUpdate(u,a)},sName:"pagination"})),s}function P0(e,t,r){var n=e._iDisplayStart,a=e._iDisplayLength,s=e.fnRecordsDisplay();s===0||a===-1?n=0:typeof t=="number"?(n=t*a,n>s&&(n=0)):t=="first"?n=0:t=="previous"?(n=a>=0?n-a:0,n<0&&(n=0)):t=="next"?n+a<s&&(n+=a):t=="last"?n=Math.floor((s-1)/a)*a:ha(e,0,"Unknown paging action: "+t,5);var o=e._iDisplayStart!==n;return e._iDisplayStart=n,o?(Nr(e,null,"page",[e]),r&&Uo(e)):Nr(e,null,"page-nc",[e]),o}function hE(e){return Ee("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing,role:"status"}).html(e.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(e.nTable)[0]}function $i(e,t){e.oFeatures.bProcessing&&Ee(e.aanFeatures.r).css("display",t?"block":"none"),Nr(e,null,"processing",[e,t])}function pE(e){var t=Ee(e.nTable),r=e.oScroll;if(r.sX===""&&r.sY==="")return e.nTable;var n=r.sX,a=r.sY,s=e.oClasses,o=t.children("caption"),u=o.length?o[0]._captionSide:null,l=Ee(t[0].cloneNode(!1)),g=Ee(t[0].cloneNode(!1)),h=t.children("tfoot"),v="<div/>",x=function(b){return b?cn(b):null};h.length||(h=null);var S=Ee(v,{class:s.sScrollWrapper}).append(Ee(v,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?x(n):"100%"}).append(Ee(v,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:r.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append(u==="top"?o:null).append(t.children("thead"))))).append(Ee(v,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:x(n)}).append(t));h&&S.append(Ee(v,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:n?x(n):"100%"}).append(Ee(v,{class:s.sScrollFootInner}).append(g.removeAttr("id").css("margin-left",0).append(u==="bottom"?o:null).append(t.children("tfoot")))));var w=S.children(),c=w[0],_=w[1],y=h?w[2]:null;return n&&Ee(_).on("scroll.DT",function(b){var C=this.scrollLeft;c.scrollLeft=C,h&&(y.scrollLeft=C)}),Ee(_).css("max-height",a),r.bCollapse||Ee(_).css("height",a),e.nScrollHead=c,e.nScrollBody=_,e.nScrollFoot=y,e.aoDrawCallback.push({fn:I0,sName:"scrolling"}),S[0]}function I0(e){var t=e.oScroll,r=t.sX,n=t.sXInner,a=t.sY,s=t.iBarWidth,o=Ee(e.nScrollHead),u=o[0].style,l=o.children("div"),g=l[0].style,h=l.children("table"),v=e.nScrollBody,x=Ee(v),S=v.style,w=Ee(e.nScrollFoot),c=w.children("div"),_=c.children("table"),y=Ee(e.nTHead),b=Ee(e.nTable),C=b[0],E=C.style,p=e.nTFoot?Ee(e.nTFoot):null,f=e.oBrowser,D=f.bScrollOversize,M=Qi(e.aoColumns,"nTh"),N,O,z,k,I,H,Y=[],q=[],G=[],$=[],j,V,X,Q=function(Fe){var Ae=Fe.style;Ae.paddingTop="0",Ae.paddingBottom="0",Ae.borderTopWidth="0",Ae.borderBottomWidth="0",Ae.height=0},te=v.scrollHeight>v.clientHeight;if(e.scrollBarVis!==te&&e.scrollBarVis!==void 0){e.scrollBarVis=te,_c(e);return}else e.scrollBarVis=te;b.children("thead, tfoot").remove(),p&&(H=p.clone().prependTo(b),O=p.find("tr"),k=H.find("tr"),H.find("[id]").removeAttr("id")),I=y.clone().prependTo(b),N=y.find("tr"),z=I.find("tr"),I.find("th, td").removeAttr("tabindex"),I.find("[id]").removeAttr("id"),r||(S.width="100%",o[0].style.width="100%"),Ee.each(k0(e,I),function(Fe,Ae){j=bc(e,Fe),Ae.style.width=e.aoColumns[j].sWidth}),p&&fs(function(Fe){Fe.style.width=""},k),X=b.outerWidth(),r===""?(E.width="100%",D&&(b.find("tbody").height()>v.offsetHeight||x.css("overflow-y")=="scroll")&&(E.width=cn(b.outerWidth()-s)),X=b.outerWidth()):n!==""&&(E.width=cn(n),X=b.outerWidth()),fs(Q,z),fs(function(Fe){var Ae=window.getComputedStyle?window.getComputedStyle(Fe).width:cn(Ee(Fe).width());G.push(Fe.innerHTML),Y.push(Ae)},z),fs(function(Fe,Ae){Fe.style.width=Y[Ae]},N),Ee(z).css("height",0),p&&(fs(Q,k),fs(function(Fe){$.push(Fe.innerHTML),q.push(cn(Ee(Fe).css("width")))},k),fs(function(Fe,Ae){Fe.style.width=q[Ae]},O),Ee(k).height(0)),fs(function(Fe,Ae){Fe.innerHTML='<div class="dataTables_sizing">'+G[Ae]+"</div>",Fe.childNodes[0].style.height="0",Fe.childNodes[0].style.overflow="hidden",Fe.style.width=Y[Ae]},z),p&&fs(function(Fe,Ae){Fe.innerHTML='<div class="dataTables_sizing">'+$[Ae]+"</div>",Fe.childNodes[0].style.height="0",Fe.childNodes[0].style.overflow="hidden",Fe.style.width=q[Ae]},k),Math.round(b.outerWidth())<Math.round(X)?(V=v.scrollHeight>v.offsetHeight||x.css("overflow-y")=="scroll"?X+s:X,D&&(v.scrollHeight>v.offsetHeight||x.css("overflow-y")=="scroll")&&(E.width=cn(V-s)),(r===""||n!=="")&&ha(e,1,"Possible column misalignment",6)):V="100%",S.width=cn(V),u.width=cn(V),p&&(e.nScrollFoot.style.width=cn(V)),a||D&&(S.height=cn(C.offsetHeight+s));var we=b.outerWidth();h[0].style.width=cn(we),g.width=cn(we);var Pe=b.height()>v.clientHeight||x.css("overflow-y")=="scroll",xe="padding"+(f.bScrollbarLeft?"Left":"Right");g[xe]=Pe?s+"px":"0px",p&&(_[0].style.width=cn(we),c[0].style.width=cn(we),c[0].style[xe]=Pe?s+"px":"0px"),b.children("colgroup").insertBefore(b.children("thead")),x.trigger("scroll"),(e.bSorted||e.bFiltered)&&!e._drawHold&&(v.scrollTop=0)}function fs(e,t,r){for(var n=0,a=0,s=t.length,o,u;a<s;){for(o=t[a].firstChild,u=r?r[a].firstChild:null;o;)o.nodeType===1&&(r?e(o,u,n):e(o,n),n++),o=o.nextSibling,u=r?u.nextSibling:null;a++}}function wb(e){var t=e.nTable,r=e.aoColumns,n=e.oScroll,a=n.sY,s=n.sX,o=n.sXInner,u=r.length,l=T0(e,"bVisible"),g=Ee("th",e.nTHead),h=t.getAttribute("width"),v=t.parentNode,x=!1,S,w,c,_,y,b=e.oBrowser,C=b.bScrollOversize,E=t.style.width;for(E&&E.indexOf("%")!==-1&&(h=E),S=0;S<l.length;S++)w=r[l[S]],w.sWidth!==null&&(w.sWidth=mE(w.sWidthOrig,v),x=!0);if(C||!x&&!s&&!a&&u==cf(e)&&u==g.length)for(S=0;S<u;S++){var p=bc(e,S);p!==null&&(r[p].sWidth=cn(g.eq(S).width()))}else{var f=Ee(t).clone().css("visibility","hidden").removeAttr("id");f.find("tbody tr").remove();var D=Ee("<tr/>").appendTo(f.find("tbody"));for(f.find("thead, tfoot").remove(),f.append(Ee(e.nTHead).clone()).append(Ee(e.nTFoot).clone()),f.find("tfoot th, tfoot td").css("width",""),g=k0(e,f.find("thead")[0]),S=0;S<l.length;S++)w=r[l[S]],g[S].style.width=w.sWidthOrig!==null&&w.sWidthOrig!==""?cn(w.sWidthOrig):"",w.sWidthOrig&&s&&Ee(g[S]).append(Ee("<div/>").css({width:w.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(e.aoData.length)for(S=0;S<l.length;S++)c=l[S],w=r[c],Ee(gE(e,c)).clone(!1).append(w.sContentPadding).appendTo(D);Ee("[name]",f).removeAttr("name");var M=Ee("<div/>").css(s||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(f).appendTo(v);s&&o?f.width(o):s?(f.css("width","auto"),f.removeAttr("width"),f.width()<v.clientWidth&&h&&f.width(v.clientWidth)):a?f.width(v.clientWidth):h&&f.width(h);var N=0;for(S=0;S<l.length;S++){var O=Ee(g[S]),z=O.outerWidth()-O.width(),k=b.bBounding?Math.ceil(g[S].getBoundingClientRect().width):O.outerWidth();N+=k,r[l[S]].sWidth=cn(k-z)}t.style.width=cn(N),M.remove()}if(h&&(t.style.width=cn(h)),(h||s)&&!e._reszEvt){var I=function(){Ee(window).on("resize.DT-"+e.sInstance,Sb(function(){_c(e)}))};C?setTimeout(I,1e3):I(),e._reszEvt=!0}}function mE(e,t){if(!e)return 0;var r=Ee("<div/>").css("width",cn(e)).appendTo(t||document.body),n=r[0].offsetWidth;return r.remove(),n}function gE(e,t){var r=vE(e,t);if(r<0)return null;var n=e.aoData[r];return n.nTr?n.anCells[t]:Ee("<td/>").html(Fi(e,r,t,"display"))[0]}function vE(e,t){for(var r,n=-1,a=-1,s=0,o=e.aoData.length;s<o;s++)r=Fi(e,s,t,"display")+"",r=r.replace(oI,""),r=r.replace(/&nbsp;/g," "),r.length>n&&(n=r.length,a=s);return a}function cn(e){return e===null?"0px":typeof e=="number"?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function hf(e){var t,r,n,a,s=[],o=[],u=e.aoColumns,l,g,h,v,x=e.aaSortingFixed,S=Ee.isPlainObject(x),w=[],c=function(_){_.length&&!Array.isArray(_[0])?w.push(_):Ee.merge(w,_)};for(Array.isArray(x)&&c(x),S&&x.pre&&c(x.pre),c(e.aaSorting),S&&x.post&&c(x.post),t=0;t<w.length;t++)for(v=w[t][0],l=u[v].aDataSort,n=0,a=l.length;n<a;n++)g=l[n],h=u[g].sType||"string",w[t]._idx===void 0&&(w[t]._idx=Ee.inArray(w[t][1],u[g].asSorting)),s.push({src:v,col:g,dir:w[t][1],index:w[t]._idx,type:h,formatter:St.ext.type.order[h+"-pre"]});return s}function _E(e){var t,r,n,a,s,o,u,l,g,h=[],v=St.ext.type.order,x=e.aoData,S=e.aoColumns,w,c,_,y,b,C=0,E,p=e.aiDisplayMaster,f;for(mb(e),f=hf(e),t=0,r=f.length;t<r;t++)E=f[t],E.formatter&&C++,yE(e,E.col);if(ii(e)!="ssp"&&f.length!==0){for(t=0,n=p.length;t<n;t++)h[p[t]]=t;C===f.length?p.sort(function(D,M){var N,O,z,k,I,H=f.length,Y=x[D]._aSortData,q=x[M]._aSortData;for(z=0;z<H;z++)if(I=f[z],N=Y[I.col],O=q[I.col],k=N<O?-1:N>O?1:0,k!==0)return I.dir==="asc"?k:-k;return N=h[D],O=h[M],N<O?-1:N>O?1:0}):p.sort(function(D,M){var N,O,z,k,I,H,Y,q=f.length,G=x[D]._aSortData,$=x[M]._aSortData;for(z=0;z<q;z++)if(H=f[z],N=G[H.col],O=$[H.col],Y=v[H.type+"-"+H.dir]||v["string-"+H.dir],I=Y(N,O),I!==0)return I;return N=h[D],O=h[M],N<O?-1:N>O?1:0})}e.bSorted=!0}function bE(e){for(var t,r,n=e.aoColumns,a=hf(e),s=e.oLanguage.oAria,o=0,u=n.length;o<u;o++){var l=n[o],g=l.asSorting,h=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),v=l.nTh;v.removeAttribute("aria-sort"),l.bSortable?(a.length>0&&a[0].col==o?(v.setAttribute("aria-sort",a[0].dir=="asc"?"ascending":"descending"),r=g[a[0].index+1]||g[0]):r=g[0],t=h+(r==="asc"?s.sSortAscending:s.sSortDescending)):t=h,v.setAttribute("aria-label",t)}}function fb(e,t,r,n){var a=e.aoColumns[t],s=e.aaSorting,o=a.asSorting,u,l=function(h,v){var x=h._idx;return x===void 0&&(x=Ee.inArray(h[1],o)),x+1<o.length?x+1:v?null:0};if(typeof s[0]=="number"&&(s=e.aaSorting=[s]),r&&e.oFeatures.bSortMulti){var g=Ee.inArray(t,Qi(s,"0"));g!==-1?(u=l(s[g],!0),u===null&&s.length===1&&(u=0),u===null?s.splice(g,1):(s[g][1]=o[u],s[g]._idx=u)):(s.push([t,o[0],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==t?(u=l(s[0]),s.length=1,s[0][1]=o[u],s[0]._idx=u):(s.length=0,s.push([t,o[0]]),s[0]._idx=0);kl(e),typeof n=="function"&&n(e)}function Cb(e,t,r,n){var a=e.aoColumns[r];Eb(t,{},function(s){a.bSortable!==!1&&(e.oFeatures.bProcessing?($i(e,!0),setTimeout(function(){fb(e,r,s.shiftKey,n),ii(e)!=="ssp"&&$i(e,!1)},0)):fb(e,r,s.shiftKey,n))})}function E0(e){var t=e.aLastSort,r=e.oClasses.sSortColumn,n=hf(e),a=e.oFeatures,s,o,u;if(a.bSort&&a.bSortClasses){for(s=0,o=t.length;s<o;s++)u=t[s].src,Ee(Qi(e.aoData,"anCells",u)).removeClass(r+(s<2?s+1:3));for(s=0,o=n.length;s<o;s++)u=n[s].src,Ee(Qi(e.aoData,"anCells",u)).addClass(r+(s<2?s+1:3))}e.aLastSort=n}function yE(e,t){var r=e.aoColumns[t],n=St.ext.order[r.sSortDataType],a;n&&(a=n.call(e.oInstance,e,t,yc(e,t)));for(var s,o,u=St.ext.type.order[r.sType+"-pre"],l=0,g=e.aoData.length;l<g;l++)s=e.aoData[l],s._aSortData||(s._aSortData=[]),(!s._aSortData[t]||n)&&(o=n?a[l]:Fi(e,l,t,"sort"),s._aSortData[t]=u?u(o):o)}function Cc(e){if(!e._bLoadingState){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:Ee.extend(!0,[],e.aaSorting),search:BC(e.oPreviousSearch),columns:Ee.map(e.aoColumns,function(r,n){return{visible:r.bVisible,search:BC(e.aoPreSearchCols[n])}})};e.oSavedState=t,Nr(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oFeatures.bStateSave&&!e.bDestroying&&e.fnStateSaveCallback.call(e.oInstance,e,t)}}function xE(e,t,r){if(!e.oFeatures.bStateSave){r();return}var n=function(s){db(e,s,r)},a=e.fnStateLoadCallback.call(e.oInstance,e,n);return a!==void 0&&db(e,a,r),!0}function db(e,t,r){var n,a,s=e.aoColumns;e._bLoadingState=!0;var o=e._bInitComplete?new St.Api(e):null;if(!t||!t.time){e._bLoadingState=!1,r();return}var u=Nr(e,"aoStateLoadParams","stateLoadParams",[e,t]);if(Ee.inArray(!1,u)!==-1){e._bLoadingState=!1,r();return}var l=e.iStateDuration;if(l>0&&t.time<+new Date-l*1e3){e._bLoadingState=!1,r();return}if(t.columns&&s.length!==t.columns.length){e._bLoadingState=!1,r();return}if(e.oLoadedState=Ee.extend(!0,{},t),t.length!==void 0&&(o?o.page.len(t.length):e._iDisplayLength=t.length),t.start!==void 0&&(o===null?(e._iDisplayStart=t.start,e.iInitDisplayStart=t.start):P0(e,t.start/e._iDisplayLength)),t.order!==void 0&&(e.aaSorting=[],Ee.each(t.order,function(h,v){e.aaSorting.push(v[0]>=s.length?[0,v[1]]:v)})),t.search!==void 0&&Ee.extend(e.oPreviousSearch,UC(t.search)),t.columns){for(n=0,a=t.columns.length;n<a;n++){var g=t.columns[n];g.visible!==void 0&&(o?o.column(n).visible(g.visible,!1):s[n].bVisible=g.visible),g.search!==void 0&&Ee.extend(e.aoPreSearchCols[n],UC(g.search))}o&&o.columns.adjust()}e._bLoadingState=!1,Nr(e,"aoStateLoaded","stateLoaded",[e,t]),r()}function D0(e){var t=St.settings,r=Ee.inArray(e,Qi(t,"nTable"));return r!==-1?t[r]:null}function ha(e,t,r,n){if(r="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+r,n&&(r+=". For more information about this error, please see http://datatables.net/tn/"+n),t)window.console&&console.log&&console.log(r);else{var a=St.ext,s=a.sErrMode||a.errMode;if(e&&Nr(e,null,"error",[e,n,r]),s=="alert")alert(r);else{if(s=="throw")throw new Error(r);typeof s=="function"&&s(e,n,r)}}}function Ha(e,t,r,n){if(Array.isArray(r)){Ee.each(r,function(a,s){Array.isArray(s)?Ha(e,t,s[0],s[1]):Ha(e,t,s)});return}n===void 0&&(n=r),t[r]!==void 0&&(e[n]=t[r])}function cb(e,t,r){var n;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],Ee.isPlainObject(n)?(Ee.isPlainObject(e[a])||(e[a]={}),Ee.extend(!0,e[a],n)):r&&a!=="data"&&a!=="aaData"&&Array.isArray(n)?e[a]=n.slice():e[a]=n);return e}function Eb(e,t,r){Ee(e).on("click.DT",t,function(n){Ee(e).trigger("blur"),r(n)}).on("keypress.DT",t,function(n){n.which===13&&(n.preventDefault(),r(n))}).on("selectstart.DT",function(){return!1})}function gi(e,t,r,n){r&&e[t].push({fn:r,sName:n})}function Nr(e,t,r,n){var a=[];if(t&&(a=Ee.map(e[t].slice().reverse(),function(u,l){return u.fn.apply(e.oInstance,n)})),r!==null){var s=Ee.Event(r+".dt"),o=Ee(e.nTable);o.trigger(s,n),o.parents("body").length===0&&Ee("body").trigger(s,n),a.push(s.result)}return a}function Db(e){var t=e._iDisplayStart,r=e.fnDisplayEnd(),n=e._iDisplayLength;t>=r&&(t=r-n),t-=t%n,(n===-1||t<0)&&(t=0),e._iDisplayStart=t}function Mb(e,t){var r=e.renderer,n=St.ext.renderer[t];return Ee.isPlainObject(r)&&r[t]?n[r[t]]||n._:typeof r=="string"&&n[r]||n._}function ii(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function cc(e,t){var r=[],n=AE.numbers_length,a=Math.floor(n/2),s=1;return t<=n?r=ff(0,t):e<=a?(r=ff(0,n-2),r.push("ellipsis"),r.push(t-1)):e>=t-1-a?(r=ff(t-(n-2),t),r.splice(0,0,"ellipsis"),r.splice(0,0,0)):(r=ff(e-a+2,e+a-1),r.push("ellipsis"),r.push(t-1),r.splice(0,0,"ellipsis"),r.splice(0,0,0)),r.DT_el="span",r}function hb(e){Ee.each({num:function(t){return _0(t,e)},"num-fmt":function(t){return _0(t,e,ab)},"html-num":function(t){return _0(t,e,w0)},"html-num-fmt":function(t){return _0(t,e,w0,ab)}},function(t,r){Cn.type.order[t+e+"-pre"]=r,t.match(/^html\-/)&&(Cn.type.search[t+e]=Cn.type.search.html)})}function RC(e,t,r,n,a){return window.moment?e[t](a):window.luxon?e[r](a):n?e[n](a):e}function M0(e,t,r){var n;if(window.moment){if(n=window.moment.utc(e,t,r,!0),!n.isValid())return null}else if(window.luxon){if(n=t&&typeof e=="string"?window.luxon.DateTime.fromFormat(e,t):window.luxon.DateTime.fromISO(e),!n.isValid)return null;n.setLocale(r)}else t?(jC||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),jC=!0):n=new Date(e);return n}function ib(e){return function(t,r,n,a){arguments.length===0?(n="en",r=null,t=null):arguments.length===1?(n="en",r=t,t=null):arguments.length===2&&(n=r,r=t,t=null);var s="datetime-"+r;return St.ext.type.order[s]||(St.ext.type.detect.unshift(function(o){return o===s?s:!1}),St.ext.type.order[s+"-asc"]=function(o,u){var l=o.valueOf(),g=u.valueOf();return l===g?0:l<g?-1:1},St.ext.type.order[s+"-desc"]=function(o,u){var l=o.valueOf(),g=u.valueOf();return l===g?0:l>g?-1:1}),function(o,u){if(o==null)if(a==="--now"){var l=new Date;o=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds()))}else o="";if(u==="type")return s;if(o==="")return u!=="sort"?"":M0("0000-01-01 00:00:00",null,n);if(r!==null&&t===r&&u!=="sort"&&u!=="type"&&!(o instanceof Date))return o;var g=M0(o,t,n);if(g===null)return o;if(u==="sort")return g;var h=r===null?RC(g,"toDate","toJSDate","")[e]():RC(g,"format","toFormat","toISOString",r);return u==="display"?x0(h):h}}}function OE(e){return function(){var t=[D0(this[St.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return St.ext.internal[e].apply(this,t)}}var WC,Ee,St,Cn,br,$t,Jr,nb,PC,w0,qP,JP,ab,ds,GC,HC,sb,eI,IC,Qi,gc,ff,VC,tI,rI,A0,YC,KC,zi,dc,lf,df,Fo,yb,y0,sI,oI,Sb,wE,Un,lI,SE,CE,Ab,Tb,Lb,z0,uI,fI,EE,Ob,DE,dI,cI,Ec,F0,hI,ME,pI,mI,gI,AE,_0,x0,jC,TE,LE,uf,Ol,kE=ae(()=>{WC=Hr(of(),1);Ee=WC.default,St=function(e,t){if(St.factory(e,t))return St;if(this instanceof St)return Ee(e).DataTable(t);t=e,this.$=function(o,u){return this.api(!0).$(o,u)},this._=function(o,u){return this.api(!0).rows(o,u).data()},this.api=function(o){return o?new br(D0(this[Cn.iApiIndex])):new br(this)},this.fnAddData=function(o,u){var l=this.api(!0),g=Array.isArray(o)&&(Array.isArray(o[0])||Ee.isPlainObject(o[0]))?l.rows.add(o):l.row.add(o);return(u===void 0||u)&&l.draw(),g.flatten().toArray()},this.fnAdjustColumnSizing=function(o){var u=this.api(!0).columns.adjust(),l=u.settings()[0],g=l.oScroll;o===void 0||o?u.draw(!1):(g.sX!==""||g.sY!=="")&&I0(l)},this.fnClearTable=function(o){var u=this.api(!0).clear();(o===void 0||o)&&u.draw()},this.fnClose=function(o){this.api(!0).row(o).child.hide()},this.fnDeleteRow=function(o,u,l){var g=this.api(!0),h=g.rows(o),v=h.settings()[0],x=v.aoData[h[0][0]];return h.remove(),u&&u.call(this,v,x),(l===void 0||l)&&g.draw(),x},this.fnDestroy=function(o){this.api(!0).destroy(o)},this.fnDraw=function(o){this.api(!0).draw(o)},this.fnFilter=function(o,u,l,g,h,v){var x=this.api(!0);u==null?x.search(o,l,g,v):x.column(u).search(o,l,g,v),x.draw()},this.fnGetData=function(o,u){var l=this.api(!0);if(o!==void 0){var g=o.nodeName?o.nodeName.toLowerCase():"";return u!==void 0||g=="td"||g=="th"?l.cell(o,u).data():l.row(o).data()||null}return l.data().toArray()},this.fnGetNodes=function(o){var u=this.api(!0);return o!==void 0?u.row(o).node():u.rows().nodes().flatten().toArray()},this.fnGetPosition=function(o){var u=this.api(!0),l=o.nodeName.toUpperCase();if(l=="TR")return u.row(o).index();if(l=="TD"||l=="TH"){var g=u.cell(o).index();return[g.row,g.columnVisible,g.column]}return null},this.fnIsOpen=function(o){return this.api(!0).row(o).child.isShown()},this.fnOpen=function(o,u,l){return this.api(!0).row(o).child(u,l).show().child()[0]},this.fnPageChange=function(o,u){var l=this.api(!0).page(o);(u===void 0||u)&&l.draw(!1)},this.fnSetColumnVis=function(o,u,l){var g=this.api(!0).column(o).visible(u);(l===void 0||l)&&g.columns.adjust().draw()},this.fnSettings=function(){return D0(this[Cn.iApiIndex])},this.fnSort=function(o){this.api(!0).order(o).draw()},this.fnSortListener=function(o,u,l){this.api(!0).order.listener(o,u,l)},this.fnUpdate=function(o,u,l,g,h){var v=this.api(!0);return l==null?v.row(u).data(o):v.cell(u,l).data(o),(h===void 0||h)&&v.columns.adjust(),(g===void 0||g)&&v.draw(),0},this.fnVersionCheck=Cn.fnVersionCheck;var r=this,n=t===void 0,a=this.length;n&&(t={}),this.oApi=this.internal=Cn.internal;for(var s in St.ext.internal)s&&(this[s]=OE(s));return this.each(function(){var o={},u=a>1?cb(o,t,!0):t,l=0,g,h,v,x,S,w=this.getAttribute("id"),c=!1,_=St.defaults,y=Ee(this);if(this.nodeName.toLowerCase()!="table"){ha(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}zC(_),ZC(_.column),$s(_,_,!0),$s(_.column,_.column,!0),$s(_,Ee.extend(u,y.data()),!0);var b=St.settings;for(l=0,g=b.length;l<g;l++){var C=b[l];if(C.nTable==this||C.nTHead&&C.nTHead.parentNode==this||C.nTFoot&&C.nTFoot.parentNode==this){var E=u.bRetrieve!==void 0?u.bRetrieve:_.bRetrieve,p=u.bDestroy!==void 0?u.bDestroy:_.bDestroy;if(n||E)return C.oInstance;if(p){C.oInstance.fnDestroy();break}else{ha(C,0,"Cannot reinitialise DataTable",3);return}}if(C.sTableId==this.id){b.splice(l,1);break}}(w===null||w==="")&&(w="DataTables_Table_"+St.ext._unique++,this.id=w);var f=Ee.extend(!0,{},St.models.oSettings,{sDestroyWidth:y[0].style.width,sInstance:w,sTableId:w});f.nTable=this,f.oApi=r.internal,f.oInit=u,b.push(f),f.oInstance=r.length===1?r:y.dataTable(),zC(u),ob(u.oLanguage),u.aLengthMenu&&!u.iDisplayLength&&(u.iDisplayLength=Array.isArray(u.aLengthMenu[0])?u.aLengthMenu[0][0]:u.aLengthMenu[0]),u=cb(Ee.extend(!0,{},_),u),Ha(f.oFeatures,u,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Ha(f,u,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Ha(f.oScroll,u,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ha(f.oLanguage,u,"fnInfoCallback"),gi(f,"aoDrawCallback",u.fnDrawCallback,"user"),gi(f,"aoServerParams",u.fnServerParams,"user"),gi(f,"aoStateSaveParams",u.fnStateSaveParams,"user"),gi(f,"aoStateLoadParams",u.fnStateLoadParams,"user"),gi(f,"aoStateLoaded",u.fnStateLoaded,"user"),gi(f,"aoRowCallback",u.fnRowCallback,"user"),gi(f,"aoRowCreatedCallback",u.fnCreatedRow,"user"),gi(f,"aoHeaderCallback",u.fnHeaderCallback,"user"),gi(f,"aoFooterCallback",u.fnFooterCallback,"user"),gi(f,"aoInitComplete",u.fnInitComplete,"user"),gi(f,"aoPreDrawCallback",u.fnPreDrawCallback,"user"),f.rowIdFn=df(u.rowId),XC(f);var D=f.oClasses;if(Ee.extend(D,St.ext.classes,u.oClasses),y.addClass(D.sTable),f.iInitDisplayStart===void 0&&(f.iInitDisplayStart=u.iDisplayStart,f._iDisplayStart=u.iDisplayStart),u.iDeferLoading!==null){f.bDeferLoading=!0;var M=Array.isArray(u.iDeferLoading);f._iRecordsDisplay=M?u.iDeferLoading[0]:u.iDeferLoading,f._iRecordsTotal=M?u.iDeferLoading[1]:u.iDeferLoading}var N=f.oLanguage;Ee.extend(!0,N,u.oLanguage),N.sUrl?(Ee.ajax({dataType:"json",url:N.sUrl,success:function($){$s(_.oLanguage,$),ob($),Ee.extend(!0,N,$,f.oInit.oLanguage),Nr(f,null,"i18n",[f]),hc(f)},error:function(){hc(f)}}),c=!0):Nr(f,null,"i18n",[f]),u.asStripeClasses===null&&(f.asStripeClasses=[D.sStripeOdd,D.sStripeEven]);var O=f.asStripeClasses,z=y.children("tbody").find("tr").eq(0);Ee.inArray(!0,Ee.map(O,function($,j){return z.hasClass($)}))!==-1&&(Ee("tbody tr",this).removeClass(O.join(" ")),f.asDestroyStripes=O.slice());var k=[],I,H=this.getElementsByTagName("thead");if(H.length!==0&&(mc(f.aoHeader,H[0]),k=k0(f)),u.aoColumns===null)for(I=[],l=0,g=k.length;l<g;l++)I.push(null);else I=u.aoColumns;for(l=0,g=I.length;l<g;l++)pb(f,k?k[l]:null);if($C(f,u.aoColumnDefs,I,function($,j){S0(f,$,j)}),z.length){var Y=function($,j){return $.getAttribute("data-"+j)!==null?j:null};Ee(z[0]).children("th, td").each(function($,j){var V=f.aoColumns[$];if(V||ha(f,0,"Incorrect column count",18),V.mData===$){var X=Y(j,"sort")||Y(j,"order"),Q=Y(j,"filter")||Y(j,"search");(X!==null||Q!==null)&&(V.mData={_:$+".display",sort:X!==null?$+".@data-"+X:void 0,type:X!==null?$+".@data-"+X:void 0,filter:Q!==null?$+".@data-"+Q:void 0},V._isArrayHost=!0,S0(f,$))}})}var q=f.oFeatures,G=function(){if(u.aaSorting===void 0){var $=f.aaSorting;for(l=0,g=$.length;l<g;l++)$[l][1]=f.aoColumns[l].asSorting[0]}E0(f),q.bSort&&gi(f,"aoDrawCallback",function(){if(f.bSorted){var te=hf(f),we={};Ee.each(te,function(Pe,xe){we[xe.src]=xe.dir}),Nr(f,null,"order",[f,te,we]),bE(f)}}),gi(f,"aoDrawCallback",function(){(f.bSorted||ii(f)==="ssp"||q.bDeferRender)&&E0(f)},"sc");var j=y.children("caption").each(function(){this._captionSide=Ee(this).css("caption-side")}),V=y.children("thead");V.length===0&&(V=Ee("<thead/>").appendTo(y)),f.nTHead=V[0];var X=y.children("tbody");X.length===0&&(X=Ee("<tbody/>").insertAfter(V)),f.nTBody=X[0];var Q=y.children("tfoot");if(Q.length===0&&j.length>0&&(f.oScroll.sX!==""||f.oScroll.sY!=="")&&(Q=Ee("<tfoot/>").appendTo(y)),Q.length===0||Q.children().length===0?y.addClass(D.sNoFooter):Q.length>0&&(f.nTFoot=Q[0],mc(f.aoFooter,f.nTFoot)),u.aaData)for(l=0;l<u.aaData.length;l++)Bo(f,u.aaData[l]);else(f.bDeferLoading||ii(f)=="dom")&&L0(f,Ee(f.nTBody).children("tr"));f.aiDisplay=f.aiDisplayMaster.slice(),f.bInitialised=!0,c===!1&&hc(f)};gi(f,"aoDrawCallback",Cc,"state_save"),u.bStateSave?(q.bStateSave=!0,xE(f,u,G)):G()}),r=null,this},nb={},PC=/[\r\n\u2028]/g,w0=/<.*?>/g,qP=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,JP=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ab=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,ds=function(e){return!e||e===!0||e==="-"},GC=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},HC=function(e,t){return nb[t]||(nb[t]=new RegExp(yb(t),"g")),typeof e=="string"&&t!=="."?e.replace(/\./g,"").replace(nb[t],"."):e},sb=function(e,t,r){var n=typeof e,a=n==="string";return n==="number"||n==="bigint"||ds(e)?!0:(t&&a&&(e=HC(e,t)),r&&a&&(e=e.replace(ab,"")),!isNaN(parseFloat(e))&&isFinite(e))},eI=function(e){return ds(e)||typeof e=="string"},IC=function(e,t,r){if(ds(e))return!0;var n=eI(e);return n&&sb(tI(e),t,r)?!0:null},Qi=function(e,t,r){var n=[],a=0,s=e.length;if(r!==void 0)for(;a<s;a++)e[a]&&e[a][t]&&n.push(e[a][t][r]);else for(;a<s;a++)e[a]&&n.push(e[a][t]);return n},gc=function(e,t,r,n){var a=[],s=0,o=t.length;if(n!==void 0)for(;s<o;s++)e[t[s]][r]&&a.push(e[t[s]][r][n]);else for(;s<o;s++)a.push(e[t[s]][r]);return a},ff=function(e,t){var r=[],n;t===void 0?(t=0,n=e):(n=t,t=e);for(var a=t;a<n;a++)r.push(a);return r},VC=function(e){for(var t=[],r=0,n=e.length;r<n;r++)e[r]&&t.push(e[r]);return t},tI=function(e){return e.replace(w0,"").replace(/<script/i,"")},rI=function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),r=t[0],n=1,a=t.length;n<a;n++){if(t[n]===r)return!1;r=t[n]}return!0},A0=function(e){if(rI(e))return e.slice();var t=[],r,n,a=e.length,s,o=0;e:for(n=0;n<a;n++){for(r=e[n],s=0;s<o;s++)if(t[s]===r)continue e;t.push(r),o++}return t},YC=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)YC(e,t[r]);else e.push(t);return e},KC=function(e,t){return t===void 0&&(t=0),this.indexOf(e,t)!==-1};Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});Array.prototype.includes||(Array.prototype.includes=KC);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=KC);St.util={throttle:function(e,t){var r=t!==void 0?t:200,n,a;return function(){var s=this,o=+new Date,u=arguments;n&&o<n+r?(clearTimeout(a),a=setTimeout(function(){n=void 0,e.apply(s,u)},r)):(n=o,e.apply(s,u))}},escapeRegex:function(e){return e.replace(JP,"\\$1")},set:function(e){if(Ee.isPlainObject(e))return St.util.set(e._);if(e===null)return function(){};if(typeof e=="function")return function(r,n,a){e(r,"set",n,a)};if(typeof e=="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var t=function(r,n,a){for(var s=lb(a),o,u=s[s.length-1],l,g,h,v,x=0,S=s.length-1;x<S;x++){if(s[x]==="__proto__"||s[x]==="constructor")throw new Error("Cannot set prototype values");if(l=s[x].match(dc),g=s[x].match(lf),l){if(s[x]=s[x].replace(dc,""),r[s[x]]=[],o=s.slice(),o.splice(0,x+1),v=o.join("."),Array.isArray(n))for(var w=0,c=n.length;w<c;w++)h={},t(h,n[w],v),r[s[x]].push(h);else r[s[x]]=n;return}else g&&(s[x]=s[x].replace(lf,""),r=r[s[x]](n));(r[s[x]]===null||r[s[x]]===void 0)&&(r[s[x]]={}),r=r[s[x]]}u.match(lf)?r=r[u.replace(lf,"")](n):r[u.replace(dc,"")]=n};return function(r,n){return t(r,n,e)}}else return function(r,n){r[e]=n}},get:function(e){if(Ee.isPlainObject(e)){var t={};return Ee.each(e,function(n,a){a&&(t[n]=St.util.get(a))}),function(n,a,s,o){var u=t[a]||t._;return u!==void 0?u(n,a,s,o):n}}else{if(e===null)return function(n){return n};if(typeof e=="function")return function(n,a,s,o){return e(n,a,s,o)};if(typeof e=="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var r=function(n,a,s){var o,u,l,g;if(s!=="")for(var h=lb(s),v=0,x=h.length;v<x;v++){if(o=h[v].match(dc),u=h[v].match(lf),o){if(h[v]=h[v].replace(dc,""),h[v]!==""&&(n=n[h[v]]),l=[],h.splice(0,v+1),g=h.join("."),Array.isArray(n))for(var S=0,w=n.length;S<w;S++)l.push(r(n[S],a,g));var c=o[0].substring(1,o[0].length-1);n=c===""?l:l.join(c);break}else if(u){h[v]=h[v].replace(lf,""),n=n[h[v]]();continue}if(n===null||n[h[v]]===null)return null;if(n===void 0||n[h[v]]===void 0)return;n=n[h[v]]}return n};return function(n,a){return r(n,a,e)}}else return function(n,a){return n[e]}}}};zi=function(e,t,r){e[t]!==void 0&&(e[r]=e[t])};dc=/\[.*?\]$/,lf=/\(\)$/;df=St.util.get,Fo=St.util.set;yb=St.util.escapeRegex,y0=Ee("<div>")[0],sI=y0.textContent!==void 0;oI=/<.*?>/g;Sb=St.util.throttle;wE=[],Un=Array.prototype,lI=function(e){var t,r,n=St.settings,a=Ee.map(n,function(s,o){return s.nTable});if(e){if(e.nTable&&e.oApi)return[e];if(e.nodeName&&e.nodeName.toLowerCase()==="table")return t=Ee.inArray(e,a),t!==-1?[n[t]]:null;if(e&&typeof e.settings=="function")return e.settings().toArray();typeof e=="string"?r=Ee(e):e instanceof Ee&&(r=e)}else return[];if(r)return r.map(function(s){return t=Ee.inArray(this,a),t!==-1?n[t]:null}).toArray()};br=function(e,t){if(!(this instanceof br))return new br(e,t);var r=[],n=function(o){var u=lI(o);u&&r.push.apply(r,u)};if(Array.isArray(e))for(var a=0,s=e.length;a<s;a++)n(e[a]);else n(e);this.context=A0(r),t&&Ee.merge(this,t),this.selector={rows:null,cols:null,opts:null},br.extend(this,this,wE)};St.Api=br;Ee.extend(br.prototype,{any:function(){return this.count()!==0},concat:Un.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,r=this.length;t<r;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new br(t[e],this[e]):null},filter:function(e){var t=[];if(Un.filter)t=Un.filter.call(this,e,this);else for(var r=0,n=this.length;r<n;r++)e.call(this,this[r],r,this)&&t.push(this[r]);return new br(this.context,t)},flatten:function(){var e=[];return new br(this.context,e.concat.apply(e,this.toArray()))},join:Un.join,indexOf:Un.indexOf||function(e,t){for(var r=t||0,n=this.length;r<n;r++)if(this[r]===e)return r;return-1},iterator:function(e,t,r,n){var a=[],s,o,u,l,g,h=this.context,v,x,S,w=this.selector;for(typeof e=="string"&&(n=r,r=t,t=e,e=!1),o=0,u=h.length;o<u;o++){var c=new br(h[o]);if(t==="table")s=r.call(c,h[o],o),s!==void 0&&a.push(s);else if(t==="columns"||t==="rows")s=r.call(c,h[o],this[o],o),s!==void 0&&a.push(s);else if(t==="column"||t==="column-rows"||t==="row"||t==="cell")for(x=this[o],t==="column-rows"&&(v=z0(h[o],w.opts)),l=0,g=x.length;l<g;l++)S=x[l],t==="cell"?s=r.call(c,h[o],S.row,S.column,o,l):s=r.call(c,h[o],S,o,l,v),s!==void 0&&a.push(s)}if(a.length||n){var _=new br(h,e?a.concat.apply([],a):a),y=_.selector;return y.rows=w.rows,y.cols=w.cols,y.opts=w.opts,_}return this},lastIndexOf:Un.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Un.map)t=Un.map.call(this,e,this);else for(var r=0,n=this.length;r<n;r++)t.push(e.call(this,this[r],r));return new br(this.context,t)},pluck:function(e){var t=St.util.get(e);return this.map(function(r){return t(r)})},pop:Un.pop,push:Un.push,reduce:Un.reduce||function(e,t){return FC(this,e,t,0,this.length,1)},reduceRight:Un.reduceRight||function(e,t){return FC(this,e,t,this.length-1,-1,-1)},reverse:Un.reverse,selector:null,shift:Un.shift,slice:function(){return new br(this.context,this)},sort:Un.sort,splice:Un.splice,toArray:function(){return Un.slice.call(this)},to$:function(){return Ee(this)},toJQuery:function(){return Ee(this)},unique:function(){return new br(this.context,A0(this))},unshift:Un.unshift});br.extend=function(e,t,r){if(!(!r.length||!t||!(t instanceof br)&&!t.__dt_wrapper)){var n,a,s,o=function(u,l,g){return function(){var h=l.apply(u,arguments);return br.extend(h,h,g.methodExt),h}};for(n=0,a=r.length;n<a;n++)s=r[n],t[s.name]=s.type==="function"?o(e,s.val,s):s.type==="object"?{}:s.val,t[s.name].__dt_wrapper=!0,br.extend(e,t[s.name],s.propExt)}};br.register=$t=function(e,t){if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)br.register(e[r],t);return}var a,s,o=e.split("."),u=wE,l,g,h=function(x,S){for(var w=0,c=x.length;w<c;w++)if(x[w].name===S)return x[w];return null};for(a=0,s=o.length;a<s;a++){g=o[a].indexOf("()")!==-1,l=g?o[a].replace("()",""):o[a];var v=h(u,l);v||(v={name:l,val:{},methodExt:[],propExt:[],type:"object"},u.push(v)),a===s-1?(v.val=t,v.type=typeof t=="function"?"function":Ee.isPlainObject(t)?"object":"other"):u=g?v.methodExt:v.propExt}};br.registerPlural=Jr=function(e,t,r){br.register(e,r),br.register(t,function(){var n=r.apply(this,arguments);return n===this?this:n instanceof br?n.length?Array.isArray(n[0])?new br(n.context,n[0]):n[0]:void 0:n})};SE=function(e,t){if(Array.isArray(e))return Ee.map(e,function(n){return SE(n,t)});if(typeof e=="number")return[t[e]];var r=Ee.map(t,function(n,a){return n.nTable});return Ee(r).filter(e).map(function(n){var a=Ee.inArray(this,r);return t[a]}).toArray()};$t("tables()",function(e){return e!=null?new br(SE(e,this.context)):this});$t("table()",function(e){var t=this.tables(e),r=t.context;return r.length?new br(r[0]):t});Jr("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)});Jr("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)});Jr("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)});Jr("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)});Jr("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)});$t("draw()",function(e){return this.iterator("table",function(t){e==="page"?Uo(t):(typeof e=="string"&&(e=e!=="full-hold"),kl(t,e===!1))})});$t("page()",function(e){return e===void 0?this.page.info().page:this.iterator("table",function(t){P0(t,e)})});$t("page.info()",function(e){if(this.context.length!==0){var t=this.context[0],r=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,a=t.fnRecordsDisplay(),s=n===-1;return{page:s?0:Math.floor(r/n),pages:s?1:Math.ceil(a/n),start:r,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:a,serverSide:ii(t)==="ssp"}}});$t("page.len()",function(e){return e===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(t){xb(t,e)})});CE=function(e,t,r){if(r){var n=new br(e);n.one("draw",function(){r(n.ajax.json())})}if(ii(e)=="ssp")kl(e,t);else{$i(e,!0);var a=e.jqXHR;a&&a.readyState!==4&&a.abort(),N0(e,[],function(s){O0(e);for(var o=wc(e,s),u=0,l=o.length;u<l;u++)Bo(e,o[u]);kl(e,t),$i(e,!1)})}};$t("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json});$t("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData});$t("ajax.reload()",function(e,t){return this.iterator("table",function(r){CE(r,t===!1,e)})});$t("ajax.url()",function(e){var t=this.context;return e===void 0?t.length===0?void 0:(t=t[0],t.ajax?Ee.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(r){Ee.isPlainObject(r.ajax)?r.ajax.url=e:r.ajax=e})});$t("ajax.url().load()",function(e,t){return this.iterator("table",function(r){CE(r,t===!1,e)})});Ab=function(e,t,r,n,a){var s=[],o,u,l,g,h,v,x=typeof t;for((!t||x==="string"||x==="function"||t.length===void 0)&&(t=[t]),l=0,g=t.length;l<g;l++)for(u=t[l]&&t[l].split&&!t[l].match(/[\[\(:]/)?t[l].split(","):[t[l]],h=0,v=u.length;h<v;h++)o=r(typeof u[h]=="string"?u[h].trim():u[h]),o&&o.length&&(s=s.concat(o));var S=Cn.selector[e];if(S.length)for(l=0,g=S.length;l<g;l++)s=S[l](n,a,s);return A0(s)},Tb=function(e){return e||(e={}),e.filter&&e.search===void 0&&(e.search=e.filter),Ee.extend({search:"none",order:"current",page:"all"},e)},Lb=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},z0=function(e,t){var r,n,a,s=[],o=e.aiDisplay,u=e.aiDisplayMaster,l=t.search,g=t.order,h=t.page;if(ii(e)=="ssp")return l==="removed"?[]:ff(0,u.length);if(h=="current")for(r=e._iDisplayStart,n=e.fnDisplayEnd();r<n;r++)s.push(o[r]);else if(g=="current"||g=="applied"){if(l=="none")s=u.slice();else if(l=="applied")s=o.slice();else if(l=="removed"){for(var v={},r=0,n=o.length;r<n;r++)v[o[r]]=null;s=Ee.map(u,function(x){return v.hasOwnProperty(x)?null:x})}}else if(g=="index"||g=="original")for(r=0,n=e.aoData.length;r<n;r++)l=="none"?s.push(r):(a=Ee.inArray(r,o),(a===-1&&l=="removed"||a>=0&&l=="applied")&&s.push(r));return s},uI=function(e,t,r){var n,a=function(s){var o=GC(s),u,l,g=e.aoData;if(o!==null&&!r)return[o];if(n||(n=z0(e,r)),o!==null&&Ee.inArray(o,n)!==-1)return[o];if(s==null||s==="")return n;if(typeof s=="function")return Ee.map(n,function(c){var _=g[c];return s(c,_._aData,_.nTr)?c:null});if(s.nodeName){var h=s._DT_RowIndex,v=s._DT_CellIndex;if(h!==void 0)return g[h]&&g[h].nTr===s?[h]:[];if(v)return g[v.row]&&g[v.row].nTr===s.parentNode?[v.row]:[];var x=Ee(s).closest("*[data-dt-row]");return x.length?[x.data("dt-row")]:[]}if(typeof s=="string"&&s.charAt(0)==="#"){var S=e.aIds[s.replace(/^#/,"")];if(S!==void 0)return[S.idx]}var w=VC(gc(e.aoData,n,"nTr"));return Ee(w).filter(s).map(function(){return this._DT_RowIndex}).toArray()};return Ab("row",t,a,e,r)};$t("rows()",function(e,t){e===void 0?e="":Ee.isPlainObject(e)&&(t=e,e=""),t=Tb(t);var r=this.iterator("table",function(n){return uI(n,e,t)},1);return r.selector.rows=e,r.selector.opts=t,r});$t("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||void 0},1)});$t("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return gc(e.aoData,t,"_aData")},1)});Jr("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,r){var n=t.aoData[r];return e==="search"?n._aFilterData:n._aSortData},1)});Jr("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,r){xc(t,r,e)})});Jr("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)});Jr("rows().ids()","row().id()",function(e){for(var t=[],r=this.context,n=0,a=r.length;n<a;n++)for(var s=0,o=this[n].length;s<o;s++){var u=r[n].rowIdFn(r[n].aoData[this[n][s]]._aData);t.push((e===!0?"#":"")+u)}return new br(r,t)});Jr("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,r,n){var a=t.aoData,s=a[r],o,u,l,g,h,v;for(a.splice(r,1),o=0,u=a.length;o<u;o++)if(h=a[o],v=h.anCells,h.nTr!==null&&(h.nTr._DT_RowIndex=o),v!==null)for(l=0,g=v.length;l<g;l++)v[l]._DT_CellIndex.row=o;b0(t.aiDisplayMaster,r),b0(t.aiDisplay,r),b0(e[n],r,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,Db(t);var x=t.rowIdFn(s._aData);x!==void 0&&delete t.aIds[x]}),this.iterator("table",function(t){for(var r=0,n=t.aoData.length;r<n;r++)t.aoData[r].idx=r}),this});$t("rows.add()",function(e){var t=this.iterator("table",function(n){var a,s,o,u=[];for(s=0,o=e.length;s<o;s++)a=e[s],a.nodeName&&a.nodeName.toUpperCase()==="TR"?u.push(L0(n,a)[0]):u.push(Bo(n,a));return u},1),r=this.rows(-1);return r.pop(),Ee.merge(r,t),r});$t("row()",function(e,t){return Lb(this.rows(e,t))});$t("row().data()",function(e){var t=this.context;if(e===void 0)return t.length&&this.length?t[0].aoData[this[0]]._aData:void 0;var r=t[0].aoData[this[0]];return r._aData=e,Array.isArray(e)&&r.nTr&&r.nTr.id&&Fo(t[0].rowId)(e,r.nTr.id),xc(t[0],this[0],"data"),this});$t("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null});$t("row.add()",function(e){e instanceof Ee&&e.length&&(e=e[0]);var t=this.iterator("table",function(r){return e.nodeName&&e.nodeName.toUpperCase()==="TR"?L0(r,e)[0]:Bo(r,e)});return this.row(t[0])});Ee(document).on("plugin-init.dt",function(e,t){var r=new br(t),n="on-plugin-init",a="stateSaveParams."+n,s="destroy. "+n;r.on(a,function(u,l,g){for(var h=l.rowIdFn,v=l.aoData,x=[],S=0;S<v.length;S++)v[S]._detailsShow&&x.push("#"+h(v[S]._aData));g.childRows=x}),r.on(s,function(){r.off(a+" "+s)});var o=r.state.loaded();o&&o.childRows&&r.rows(Ee.map(o.childRows,function(u){return u.replace(/:/g,"\\:")})).every(function(){Nr(t,null,"requestChild",[this])})});fI=function(e,t,r,n){var a=[],s=function(o,u){if(Array.isArray(o)||o instanceof Ee){for(var l=0,g=o.length;l<g;l++)s(o[l],u);return}if(o.nodeName&&o.nodeName.toLowerCase()==="tr")a.push(o);else{var h=Ee("<tr><td></td></tr>").addClass(u);Ee("td",h).addClass(u).html(o)[0].colSpan=cf(e),a.push(h[0])}};s(r,n),t._details&&t._details.detach(),t._details=Ee(a),t._detailsShow&&t._details.insertAfter(t.nTr)},EE=St.util.throttle(function(e){Cc(e[0])},500),Ob=function(e,t){var r=e.context;if(r.length){var n=r[0].aoData[t!==void 0?t:e[0]];n&&n._details&&(n._details.remove(),n._detailsShow=void 0,n._details=void 0,Ee(n.nTr).removeClass("dt-hasChild"),EE(r))}},DE=function(e,t){var r=e.context;if(r.length&&e.length){var n=r[0].aoData[e[0]];n._details&&(n._detailsShow=t,t?(n._details.insertAfter(n.nTr),Ee(n.nTr).addClass("dt-hasChild")):(n._details.detach(),Ee(n.nTr).removeClass("dt-hasChild")),Nr(r[0],null,"childRow",[t,e.row(e[0])]),dI(r[0]),EE(r))}},dI=function(e){var t=new br(e),r=".dt.DT_details",n="draw"+r,a="column-sizing"+r,s="destroy"+r,o=e.aoData;t.off(n+" "+a+" "+s),Qi(o,"_details").length>0&&(t.on(n,function(u,l){e===l&&t.rows({page:"current"}).eq(0).each(function(g){var h=o[g];h._detailsShow&&h._details.insertAfter(h.nTr)})}),t.on(a,function(u,l,g,h){if(e===l)for(var v,x=cf(l),S=0,w=o.length;S<w;S++)v=o[S],v._details&&v._details.children("td[colspan]").attr("colspan",x)}),t.on(s,function(u,l){if(e===l)for(var g=0,h=o.length;g<h;g++)o[g]._details&&Ob(t,g)}))},cI="",Ec=cI+"row().child",F0=Ec+"()";$t(F0,function(e,t){var r=this.context;return e===void 0?r.length&&this.length?r[0].aoData[this[0]]._details:void 0:(e===!0?this.child.show():e===!1?Ob(this):r.length&&this.length&&fI(r[0],r[0].aoData[this[0]],e,t),this)});$t([Ec+".show()",F0+".show()"],function(e){return DE(this,!0),this});$t([Ec+".hide()",F0+".hide()"],function(){return DE(this,!1),this});$t([Ec+".remove()",F0+".remove()"],function(){return Ob(this),this});$t(Ec+".isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});hI=/^([^:]+):(name|visIdx|visible)$/,ME=function(e,t,r,n,a){for(var s=[],o=0,u=a.length;o<u;o++)s.push(Fi(e,a[o],t));return s},pI=function(e,t,r){var n=e.aoColumns,a=Qi(n,"sName"),s=Qi(n,"nTh"),o=function(u){var l=GC(u);if(u==="")return ff(n.length);if(l!==null)return[l>=0?l:n.length+l];if(typeof u=="function"){var g=z0(e,r);return Ee.map(n,function(c,_){return u(_,ME(e,_,0,0,g),s[_])?_:null})}var h=typeof u=="string"?u.match(hI):"";if(h)switch(h[2]){case"visIdx":case"visible":var v=parseInt(h[1],10);if(v<0){var x=Ee.map(n,function(c,_){return c.bVisible?_:null});return[x[x.length+v]]}return[bc(e,v)];case"name":return Ee.map(a,function(c,_){return c===h[1]?_:null});default:return[]}if(u.nodeName&&u._DT_CellIndex)return[u._DT_CellIndex.column];var S=Ee(s).filter(u).map(function(){return Ee.inArray(this,s)}).toArray();if(S.length||!u.nodeName)return S;var w=Ee(u).closest("*[data-dt-column]");return w.length?[w.data("dt-column")]:[]};return Ab("column",t,o,e,r)},mI=function(e,t,r){var n=e.aoColumns,a=n[t],s=e.aoData,o,u,l,g,h;if(r===void 0)return a.bVisible;if(a.bVisible!==r){if(r){var v=Ee.inArray(!0,Qi(n,"bVisible"),t+1);for(l=0,g=s.length;l<g;l++)h=s[l].nTr,u=s[l].anCells,h&&h.insertBefore(u[t],u[v]||null)}else Ee(Qi(e.aoData,"anCells",t)).detach();a.bVisible=r}};$t("columns()",function(e,t){e===void 0?e="":Ee.isPlainObject(e)&&(t=e,e=""),t=Tb(t);var r=this.iterator("table",function(n){return pI(n,e,t)},1);return r.selector.cols=e,r.selector.opts=t,r});Jr("columns().header()","column().header()",function(e,t){return this.iterator("column",function(r,n){return r.aoColumns[n].nTh},1)});Jr("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(r,n){return r.aoColumns[n].nTf},1)});Jr("columns().data()","column().data()",function(){return this.iterator("column-rows",ME,1)});Jr("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)});Jr("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,r,n,a,s){return gc(t.aoData,s,e==="search"?"_aFilterData":"_aSortData",r)},1)});Jr("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,r,n,a){return gc(e.aoData,a,"anCells",t)},1)});Jr("columns().visible()","column().visible()",function(e,t){var r=this,n=this.iterator("column",function(a,s){if(e===void 0)return a.aoColumns[s].bVisible;mI(a,s,e)});return e!==void 0&&this.iterator("table",function(a){pc(a,a.aoHeader),pc(a,a.aoFooter),a.aiDisplay.length||Ee(a.nTBody).find("td[colspan]").attr("colspan",cf(a)),Cc(a),r.iterator("column",function(s,o){Nr(s,null,"column-visibility",[s,o,e,t])}),(t===void 0||t)&&r.columns.adjust()}),n});Jr("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,r){return e==="visible"?yc(t,r):r},1)});$t("columns.adjust()",function(){return this.iterator("table",function(e){_c(e)},1)});$t("column.index()",function(e,t){if(this.context.length!==0){var r=this.context[0];if(e==="fromVisible"||e==="toData")return bc(r,t);if(e==="fromData"||e==="toVisible")return yc(r,t)}});$t("column()",function(e,t){return Lb(this.columns(e,t))});gI=function(e,t,r){var n=e.aoData,a=z0(e,r),s=VC(gc(n,a,"anCells")),o=Ee(YC([],s)),u,l=e.aoColumns.length,g,h,v,x,S,w,c=function(_){var y=typeof _=="function";if(_==null||y){for(g=[],h=0,v=a.length;h<v;h++)for(u=a[h],x=0;x<l;x++)S={row:u,column:x},y?(w=n[u],_(S,Fi(e,u,x),w.anCells?w.anCells[x]:null)&&g.push(S)):g.push(S);return g}if(Ee.isPlainObject(_))return _.column!==void 0&&_.row!==void 0&&Ee.inArray(_.row,a)!==-1?[_]:[];var b=o.filter(_).map(function(C,E){return{row:E._DT_CellIndex.row,column:E._DT_CellIndex.column}}).toArray();return b.length||!_.nodeName?b:(w=Ee(_).closest("*[data-dt-row]"),w.length?[{row:w.data("dt-row"),column:w.data("dt-column")}]:[])};return Ab("cell",t,c,e,r)};$t("cells()",function(e,t,r){if(Ee.isPlainObject(e)&&(e.row===void 0?(r=e,e=null):(r=t,t=null)),Ee.isPlainObject(t)&&(r=t,t=null),t==null)return this.iterator("table",function(x){return gI(x,e,Tb(r))});var n=r?{page:r.page,order:r.order,search:r.search}:{},a=this.columns(t,n),s=this.rows(e,n),o,u,l,g,h=this.iterator("table",function(x,S){var w=[];for(o=0,u=s[S].length;o<u;o++)for(l=0,g=a[S].length;l<g;l++)w.push({row:s[S][o],column:a[S][l]});return w},1),v=r&&r.selected?this.cells(h,r):h;return Ee.extend(v.selector,{cols:t,rows:e,opts:r}),v});Jr("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,r){var n=e.aoData[t];return n&&n.anCells?n.anCells[r]:void 0},1)});$t("cells().data()",function(){return this.iterator("cell",function(e,t,r){return Fi(e,t,r)},1)});Jr("cells().cache()","cell().cache()",function(e){return e=e==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(t,r,n){return t.aoData[r][e][n]},1)});Jr("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,r,n){return Fi(t,r,n,e)},1)});Jr("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,r){return{row:t,column:r,columnVisible:yc(e,r)}},1)});Jr("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,r,n){xc(t,r,e,n)})});$t("cell()",function(e,t,r){return Lb(this.cells(e,t,r))});$t("cell().data()",function(e){var t=this.context,r=this[0];return e===void 0?t.length&&r.length?Fi(t[0],r[0].row,r[0].column):void 0:(QC(t[0],r[0].row,r[0].column,e),xc(t[0],r[0].row,"data",r[0].column),this)});$t("order()",function(e,t){var r=this.context;return e===void 0?r.length!==0?r[0].aaSorting:void 0:(typeof e=="number"?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(n){n.aaSorting=e.slice()}))});$t("order.listener()",function(e,t,r){return this.iterator("table",function(n){Cb(n,e,t,r)})});$t("order.fixed()",function(e){if(!e){var t=this.context,r=t.length?t[0].aaSortingFixed:void 0;return Array.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=Ee.extend(!0,{},e)})});$t(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(r,n){var a=[];Ee.each(t[n],function(s,o){a.push([o,e])}),r.aaSorting=a})});$t("search()",function(e,t,r,n){var a=this.context;return e===void 0?a.length!==0?a[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(s){s.oFeatures.bFilter&&Sc(s,Ee.extend({},s.oPreviousSearch,{sSearch:e+"",bRegex:t===null?!1:t,bSmart:r===null?!0:r,bCaseInsensitive:n===null?!0:n}),1)})});Jr("columns().search()","column().search()",function(e,t,r,n){return this.iterator("column",function(a,s){var o=a.aoPreSearchCols;if(e===void 0)return o[s].sSearch;a.oFeatures.bFilter&&(Ee.extend(o[s],{sSearch:e+"",bRegex:t===null?!1:t,bSmart:r===null?!0:r,bCaseInsensitive:n===null?!0:n}),Sc(a,a.oPreviousSearch,1))})});$t("state()",function(){return this.context.length?this.context[0].oSavedState:null});$t("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})});$t("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});$t("state.save()",function(){return this.iterator("table",function(e){Cc(e)})});St.use=function(e,t){t==="lib"||e.fn?Ee=e:t=="win"||e.document?(window=e,document=e.document):(t==="datetime"||e.type==="DateTime")&&(St.DateTime=e)};St.factory=function(e,t){var r=!1;return e&&e.document&&(window=e,document=e.document),t&&t.fn&&t.fn.jquery&&(Ee=t,r=!0),r};St.versionCheck=St.fnVersionCheck=function(e){for(var t=St.version.split("."),r=e.split("."),n,a,s=0,o=r.length;s<o;s++)if(n=parseInt(t[s],10)||0,a=parseInt(r[s],10)||0,n!==a)return n>a;return!0};St.isDataTable=St.fnIsDataTable=function(e){var t=Ee(e).get(0),r=!1;return e instanceof St.Api?!0:(Ee.each(St.settings,function(n,a){var s=a.nScrollHead?Ee("table",a.nScrollHead)[0]:null,o=a.nScrollFoot?Ee("table",a.nScrollFoot)[0]:null;(a.nTable===t||s===t||o===t)&&(r=!0)}),r)};St.tables=St.fnTables=function(e){var t=!1;Ee.isPlainObject(e)&&(t=e.api,e=e.visible);var r=Ee.map(St.settings,function(n){if(!e||e&&Ee(n.nTable).is(":visible"))return n.nTable});return t?new br(r):r};St.camelToHungarian=$s;$t("$()",function(e,t){var r=this.rows(t).nodes(),n=Ee(r);return Ee([].concat(n.filter(e).toArray(),n.find(e).toArray()))});Ee.each(["on","one","off"],function(e,t){$t(t+"()",function(){var r=Array.prototype.slice.call(arguments);r[0]=Ee.map(r[0].split(/\s/),function(a){return a.match(/\.dt\b/)?a:a+".dt"}).join(" ");var n=Ee(this.tables().nodes());return n[t].apply(n,r),this})});$t("clear()",function(){return this.iterator("table",function(e){O0(e)})});$t("settings()",function(){return new br(this.context,this.context)});$t("init()",function(){var e=this.context;return e.length?e[0].oInit:null});$t("data()",function(){return this.iterator("table",function(e){return Qi(e.aoData,"_aData")}).flatten()});$t("destroy()",function(e){return e=e||!1,this.iterator("table",function(t){var r=t.oClasses,n=t.nTable,a=t.nTBody,s=t.nTHead,o=t.nTFoot,u=Ee(n),l=Ee(a),g=Ee(t.nTableWrapper),h=Ee.map(t.aoData,function(_){return _.nTr}),v,x;t.bDestroying=!0,Nr(t,"aoDestroyCallback","destroy",[t]),e||new br(t).columns().visible(!0),g.off(".DT").find(":not(tbody *)").off(".DT"),Ee(window).off(".DT-"+t.sInstance),n!=s.parentNode&&(u.children("thead").detach(),u.append(s)),o&&n!=o.parentNode&&(u.children("tfoot").detach(),u.append(o)),t.aaSorting=[],t.aaSortingFixed=[],E0(t),Ee(h).removeClass(t.asStripeClasses.join(" ")),Ee("th, td",s).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),l.children().detach(),l.append(h);var S=t.nTableWrapper.parentNode,w=e?"remove":"detach";u[w](),g[w](),!e&&S&&(S.insertBefore(n,t.nTableReinsertBefore),u.css("width",t.sDestroyWidth).removeClass(r.sTable),x=t.asDestroyStripes.length,x&&l.children().each(function(_){Ee(this).addClass(t.asDestroyStripes[_%x])}));var c=Ee.inArray(t,St.settings);c!==-1&&St.settings.splice(c,1)})});Ee.each(["column","row","cell"],function(e,t){$t(t+"s().every()",function(r){var n=this.selector.opts,a=this;return this.iterator(t,function(s,o,u,l,g){r.call(a[t](o,t==="cell"?u:n,t==="cell"?n:void 0),o,u,l,g)})})});$t("i18n()",function(e,t,r){var n=this.context[0],a=df(e)(n.oLanguage);return a===void 0&&(a=t),r!==void 0&&Ee.isPlainObject(a)&&(a=a[r]!==void 0?a[r]:a._),typeof a=="string"?a.replace("%d",r):a});St.version="1.13.5";St.settings=[];St.models={};St.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1};St.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};St.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};St.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:Ee.extend({},St.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};vc(St.defaults);St.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};vc(St.defaults.column);St.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return ii(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return ii(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,r=t+e,n=this.aiDisplay.length,a=this.oFeatures,s=a.bPaginate;return a.bServerSide?s===!1||e===-1?t+n:Math.min(t+e,this._iRecordsDisplay):!s||r>n||e===-1?n:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};St.ext=Cn={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:St.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:St.version};Ee.extend(Cn,{afnFiltering:Cn.search,aTypes:Cn.type.detect,ofnSearch:Cn.type.search,oSort:Cn.type.order,afnSortData:Cn.order,aoFeatures:Cn.feature,oApi:Cn.internal,oStdClasses:Cn.classes,oPagination:Cn.pager});Ee.extend(St.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});AE=St.ext.pager;Ee.extend(AE,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[cc(e,t)]},simple_numbers:function(e,t){return["previous",cc(e,t),"next"]},full_numbers:function(e,t){return["first","previous",cc(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",cc(e,t),"last"]},_numbers:cc,numbers_length:7});Ee.extend(!0,St.ext.renderer,{pageButton:{_:function(e,t,r,n,a,s){var o=e.oClasses,u=e.oLanguage.oPaginate,l=e.oLanguage.oAria.paginate||{},g,h,v=function(S,w){var c,_,y,b,C,E=o.sPageButtonDisabled,p=function(N){P0(e,N.data.action,!0)};for(c=0,_=w.length;c<_;c++)if(b=w[c],Array.isArray(b)){var f=Ee("<"+(b.DT_el||"div")+"/>").appendTo(S);v(f,b)}else{switch(g=null,h=b,C=e.iTabIndex,b){case"ellipsis":S.append('<span class="ellipsis">&#x2026;</span>');break;case"first":g=u.sFirst,a===0&&(C=-1,h+=" "+E);break;case"previous":g=u.sPrevious,a===0&&(C=-1,h+=" "+E);break;case"next":g=u.sNext,(s===0||a===s-1)&&(C=-1,h+=" "+E);break;case"last":g=u.sLast,(s===0||a===s-1)&&(C=-1,h+=" "+E);break;default:g=e.fnFormatNumber(b+1),h=a===b?o.sPageButtonActive:"";break}if(g!==null){var D=e.oInit.pagingTag||"a",M=h.indexOf(E)!==-1;y=Ee("<"+D+">",{class:o.sPageButton+" "+h,"aria-controls":e.sTableId,"aria-disabled":M?"true":null,"aria-label":l[b],role:"link","aria-current":h===o.sPageButtonActive?"page":null,"data-dt-idx":b,tabindex:C,id:r===0&&typeof b=="string"?e.sTableId+"_"+b:null}).html(g).appendTo(S),Eb(y,{action:b},p)}}},x;try{x=Ee(t).find(document.activeElement).data("dt-idx")}catch{}v(Ee(t).empty(),n),x!==void 0&&Ee(t).find("[data-dt-idx="+x+"]").trigger("focus")}}});Ee.extend(St.ext.type.detect,[function(e,t){var r=t.oLanguage.sDecimal;return sb(e,r)?"num"+r:null},function(e,t){if(e&&!(e instanceof Date)&&!qP.test(e))return null;var r=Date.parse(e);return r!==null&&!isNaN(r)||ds(e)?"date":null},function(e,t){var r=t.oLanguage.sDecimal;return sb(e,r,!0)?"num-fmt"+r:null},function(e,t){var r=t.oLanguage.sDecimal;return IC(e,r)?"html-num"+r:null},function(e,t){var r=t.oLanguage.sDecimal;return IC(e,r,!0)?"html-num-fmt"+r:null},function(e,t){return ds(e)||typeof e=="string"&&e.indexOf("<")!==-1?"html":null}]);Ee.extend(St.ext.type.search,{html:function(e){return ds(e)?e:typeof e=="string"?e.replace(PC," ").replace(w0,""):""},string:function(e){return ds(e)?e:typeof e=="string"?e.replace(PC," "):e}});_0=function(e,t,r,n){if(e!==0&&(!e||e==="-"))return-1/0;var a=typeof e;return a==="number"||a==="bigint"?e:(t&&(e=HC(e,t)),e.replace&&(r&&(e=e.replace(r,"")),n&&(e=e.replace(n,""))),e*1)};Ee.extend(Cn.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return ds(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return ds(e)?"":typeof e=="string"?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}});hb("");Ee.extend(!0,St.ext.renderer,{header:{_:function(e,t,r,n){Ee(e.nTable).on("order.dt.DT",function(a,s,o,u){if(e===s){var l=r.idx;t.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass(u[l]=="asc"?n.sSortAsc:u[l]=="desc"?n.sSortDesc:r.sSortingClass)}})},jqueryui:function(e,t,r,n){Ee("<div/>").addClass(n.sSortJUIWrapper).append(t.contents()).append(Ee("<span/>").addClass(n.sSortIcon+" "+r.sSortingClassJUI)).appendTo(t),Ee(e.nTable).on("order.dt.DT",function(a,s,o,u){if(e===s){var l=r.idx;t.removeClass(n.sSortAsc+" "+n.sSortDesc).addClass(u[l]=="asc"?n.sSortAsc:u[l]=="desc"?n.sSortDesc:r.sSortingClass),t.find("span."+n.sSortIcon).removeClass(n.sSortJUIAsc+" "+n.sSortJUIDesc+" "+n.sSortJUI+" "+n.sSortJUIAscAllowed+" "+n.sSortJUIDescAllowed).addClass(u[l]=="asc"?n.sSortJUIAsc:u[l]=="desc"?n.sSortJUIDesc:r.sSortingClassJUI)}})}}});x0=function(e){return Array.isArray(e)&&(e=e.join(",")),typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};jC=!1;TE=",",LE=".";if(window.Intl!==void 0)try{for(uf=new Intl.NumberFormat().formatToParts(100000.1),Ol=0;Ol<uf.length;Ol++)uf[Ol].type==="group"?TE=uf[Ol].value:uf[Ol].type==="decimal"&&(LE=uf[Ol].value)}catch{}St.datetime=function(e,t){var r="datetime-detect-"+e;t||(t="en"),St.ext.type.order[r]||(St.ext.type.detect.unshift(function(n){var a=M0(n,e,t);return n===""||a?r:!1}),St.ext.type.order[r+"-pre"]=function(n){return M0(n,e,t)||0})};St.render={date:ib("toLocaleDateString"),datetime:ib("toLocaleString"),time:ib("toLocaleTimeString"),number:function(e,t,r,n,a){return e==null&&(e=TE),t==null&&(t=LE),{display:function(s){if(typeof s!="number"&&typeof s!="string"||s===""||s===null)return s;var o=s<0?"-":"",u=parseFloat(s);if(isNaN(u))return x0(s);u=u.toFixed(r),s=Math.abs(u);var l=parseInt(s,10),g=r?t+(s-l).toFixed(r).substring(2):"";return l===0&&parseFloat(g)===0&&(o=""),o+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+g+(a||"")}}},text:function(){return{display:x0,filter:x0}}};Ee.extend(St.ext.internal,{_fnExternApiFunc:OE,_fnBuildAjax:N0,_fnAjaxUpdate:eE,_fnAjaxParameters:tE,_fnAjaxUpdateDraw:rE,_fnAjaxDataSrc:wc,_fnAddColumn:pb,_fnColumnOptions:S0,_fnAdjustColumnSizing:_c,_fnVisibleToColumnIndex:bc,_fnColumnIndexToVisible:yc,_fnVisbleColumns:cf,_fnGetColumns:T0,_fnColumnTypes:mb,_fnApplyColumnDefs:$C,_fnHungarianMap:vc,_fnCamelToHungarian:$s,_fnLanguageCompat:ob,_fnBrowserDetect:XC,_fnAddData:Bo,_fnAddTr:L0,_fnNodeToDataIndex:nI,_fnNodeToColumnIndex:iI,_fnGetCellData:Fi,_fnSetCellData:QC,_fnSplitObjNotation:lb,_fnGetObjectDataFn:df,_fnSetObjectDataFn:Fo,_fnGetDataMaster:ub,_fnClearTable:O0,_fnDeleteIndex:b0,_fnInvalidate:xc,_fnGetRowElements:gb,_fnCreateTr:vb,_fnBuildHead:qC,_fnDrawHead:pc,_fnDraw:Uo,_fnReDraw:kl,_fnAddOptionsHtml:JC,_fnDetectHeader:mc,_fnGetUniqueThs:k0,_fnFeatureHtmlFilter:nE,_fnFilterComplete:Sc,_fnFilterCustom:iE,_fnFilterColumn:aE,_fnFilter:sE,_fnFilterCreateSearch:bb,_fnEscapeRegex:yb,_fnFilterData:oE,_fnFeatureHtmlInfo:lE,_fnUpdateInfo:uE,_fnInfoMacros:fE,_fnInitialise:hc,_fnInitComplete:C0,_fnLengthChange:xb,_fnFeatureHtmlLength:dE,_fnFeatureHtmlPaginate:cE,_fnPageChange:P0,_fnFeatureHtmlProcessing:hE,_fnProcessingDisplay:$i,_fnFeatureHtmlTable:pE,_fnScrollDraw:I0,_fnApplyToChildren:fs,_fnCalculateColumnWidths:wb,_fnThrottle:Sb,_fnConvertToWidth:mE,_fnGetWidestNode:gE,_fnGetMaxLenString:vE,_fnStringToCss:cn,_fnSortFlatten:hf,_fnSort:_E,_fnSortAria:bE,_fnSortListener:fb,_fnSortAttachListener:Cb,_fnSortingClasses:E0,_fnSortData:yE,_fnSaveState:Cc,_fnLoadState:xE,_fnImplementState:db,_fnSettingsFromNode:D0,_fnLog:ha,_fnMap:Ha,_fnBindAction:Eb,_fnCallbackReg:gi,_fnCallbackFire:Nr,_fnLengthOverflow:Db,_fnRenderer:Mb,_fnDataSource:ii,_fnRowAttributes:_b,_fnExtend:cb,_fnCalculateEnd:function(){}});Ee.fn.dataTable=St;St.$=Ee;Ee.fn.dataTableSettings=St.settings;Ee.fn.dataTableExt=St.ext;Ee.fn.DataTable=function(e){return Ee(this).dataTable(e).api()};Ee.each(St,function(e,t){Ee.fn.DataTable[e]=t})});var vI,Dc=ae(()=>{vI=Hr(of(),1);kE();});var NE=ae(()=>{});function cs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Nl=ae(()=>{});function B0(e){return e.length===1&&(e=_I(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)<0?n=s+1:a=s}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)>0?a=s:n=s+1}return n}}}function _I(e){return function(t,r){return cs(e(t),r)}}var kb=ae(()=>{Nl()});var PE,IE,bI,Ro,Nb=ae(()=>{Nl();kb();PE=B0(cs),IE=PE.right,bI=PE.left,Ro=IE});var Pb=ae(()=>{});var zE=ae(()=>{Pb()});var FE=ae(()=>{});var pf=ae(()=>{});var Ib=ae(()=>{pf()});var zb=ae(()=>{Ib()});function hs(e,t){var r=e.length,n=-1,a,s,o;if(t==null){for(;++n<r;)if((a=e[n])!=null&&a>=a)for(s=o=a;++n<r;)(a=e[n])!=null&&(s>a&&(s=a),o<a&&(o=a))}else for(;++n<r;)if((a=t(e[n],n,e))!=null&&a>=a)for(s=o=a;++n<r;)(a=t(e[n],n,e))!=null&&(s>a&&(s=a),o<a&&(o=a));return[s,o]}var Fb=ae(()=>{});var BE,xI,wI,Bb=ae(()=>{BE=Array.prototype,xI=BE.slice,wI=BE.map});var UE=ae(()=>{});var RE=ae(()=>{});function Va(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}var Ub=ae(()=>{});function R0(e,t,r){var n,a=-1,s,o,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(s=e,e=t,t=s),(u=mf(e,t,r))===0||!isFinite(u))return[];if(u>0)for(e=Math.ceil(e/u),t=Math.floor(t/u),o=new Array(s=Math.ceil(t-e+1));++a<s;)o[a]=(e+a)*u;else for(e=Math.floor(e*u),t=Math.ceil(t*u),o=new Array(s=Math.ceil(e-t+1));++a<s;)o[a]=(e-a)/u;return n&&o.reverse(),o}function mf(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,a);return a>=0?(s>=Rb?10:s>=jb?5:s>=Wb?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=Rb?10:s>=jb?5:s>=Wb?2:1)}function Pl(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=Rb?a*=10:s>=jb?a*=5:s>=Wb&&(a*=2),t<e?-a:a}var Rb,jb,Wb,Gb=ae(()=>{Rb=Math.sqrt(50),jb=Math.sqrt(10),Wb=Math.sqrt(2)});var Hb=ae(()=>{});var WE=ae(()=>{Bb();Nb();UE();Fb();RE();Ub();Gb();Hb()});var j0=ae(()=>{pf()});var GE=ae(()=>{Bb();Nl();pf();j0()});var HE=ae(()=>{zb()});var VE=ae(()=>{});var YE=ae(()=>{pf()});var KE=ae(()=>{Nl();pf();j0()});var ZE=ae(()=>{});var Yb=ae(()=>{});var XE=ae(()=>{});var $E=ae(()=>{Nl()});var QE=ae(()=>{});var qE=ae(()=>{});var Kb=ae(()=>{Yb()});var JE=ae(()=>{Kb()});var vi=ae(()=>{Nb();Nl();kb();zE();FE();zb();Fb();WE();GE();HE();Hb();VE();YE();KE();ZE();Yb();Pb();XE();j0();Ub();$E();QE();qE();Gb();Kb();Ib();JE()});var W0,eD=ae(()=>{W0=Array.prototype.slice});function tD(e){return e}var rD=ae(()=>{});function MI(e){return"translate("+(e+.5)+",0)"}function AI(e){return"translate(0,"+(e+.5)+")"}function TI(e){return function(t){return+e(t)}}function LI(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(r){return+e(r)+t}}function OI(){return!this.__axis}function V0(e,t){var r=[],n=null,a=null,s=6,o=6,u=3,l=e===G0||e===Mc?-1:1,g=e===Mc||e===H0?"x":"y",h=e===G0||e===Zb?MI:AI;function v(x){var S=n??(t.ticks?t.ticks.apply(t,r):t.domain()),w=a??(t.tickFormat?t.tickFormat.apply(t,r):tD),c=Math.max(s,0)+u,_=t.range(),y=+_[0]+.5,b=+_[_.length-1]+.5,C=(t.bandwidth?LI:TI)(t.copy()),E=x.selection?x.selection():x,p=E.selectAll(".domain").data([null]),f=E.selectAll(".tick").data(S,t).order(),D=f.exit(),M=f.enter().append("g").attr("class","tick"),N=f.select("line"),O=f.select("text");p=p.merge(p.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),f=f.merge(M),N=N.merge(M.append("line").attr("stroke","currentColor").attr(g+"2",l*s)),O=O.merge(M.append("text").attr("fill","currentColor").attr(g,l*c).attr("dy",e===G0?"0em":e===Zb?"0.71em":"0.32em")),x!==E&&(p=p.transition(x),f=f.transition(x),N=N.transition(x),O=O.transition(x),D=D.transition(x).attr("opacity",nD).attr("transform",function(z){return isFinite(z=C(z))?h(z):this.getAttribute("transform")}),M.attr("opacity",nD).attr("transform",function(z){var k=this.parentNode.__axis;return h(k&&isFinite(k=k(z))?k:C(z))})),D.remove(),p.attr("d",e===Mc||e==H0?o?"M"+l*o+","+y+"H0.5V"+b+"H"+l*o:"M0.5,"+y+"V"+b:o?"M"+y+","+l*o+"V0.5H"+b+"V"+l*o:"M"+y+",0.5H"+b),f.attr("opacity",1).attr("transform",function(z){return h(C(z))}),N.attr(g+"2",l*s),O.attr(g,l*c).text(w),E.filter(OI).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===H0?"start":e===Mc?"end":"middle"),E.each(function(){this.__axis=C})}return v.scale=function(x){return arguments.length?(t=x,v):t},v.ticks=function(){return r=W0.call(arguments),v},v.tickArguments=function(x){return arguments.length?(r=x==null?[]:W0.call(x),v):r.slice()},v.tickValues=function(x){return arguments.length?(n=x==null?null:W0.call(x),v):n&&n.slice()},v.tickFormat=function(x){return arguments.length?(a=x,v):a},v.tickSize=function(x){return arguments.length?(s=o=+x,v):s},v.tickSizeInner=function(x){return arguments.length?(s=+x,v):s},v.tickSizeOuter=function(x){return arguments.length?(o=+x,v):o},v.tickPadding=function(x){return arguments.length?(u=+x,v):u},v}function Xb(e){return V0(G0,e)}function $b(e){return V0(H0,e)}function Il(e){return V0(Zb,e)}function zl(e){return V0(Mc,e)}var G0,H0,Zb,Mc,nD,iD=ae(()=>{eD();rD();G0=1,H0=2,Zb=3,Mc=4,nD=1e-6});var aD=ae(()=>{iD()});function oD(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Y0(r)}function Y0(e){this._=e}function NI(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function PI(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function sD(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=kI,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var kI,Qb,lD=ae(()=>{kI={value:function(){}};Y0.prototype=oD.prototype={constructor:Y0,on:function(e,t){var r=this._,n=NI(e+"",r),a,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((a=(e=n[s]).type)&&(a=PI(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=n[s]).type)r[a]=sD(r[a],e.name,t);else if(t==null)for(a in r)r[a]=sD(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Y0(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};Qb=oD});var qb=ae(()=>{lD()});var K0,Jb,ey=ae(()=>{K0="http://www.w3.org/1999/xhtml",Jb={svg:"http://www.w3.org/2000/svg",xhtml:K0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Qs(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Jb.hasOwnProperty(t)?{space:Jb[t],local:e}:e}var Z0=ae(()=>{ey()});function II(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===K0&&t.documentElement.namespaceURI===K0?t.createElement(e):t.createElementNS(r,e)}}function zI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function X0(e){var t=Qs(e);return(t.local?zI:II)(t)}var ty=ae(()=>{Z0();ey()});function FI(){}function Fl(e){return e==null?FI:function(){return this.querySelector(e)}}var $0=ae(()=>{});function uD(e){typeof e!="function"&&(e=Fl(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=new Array(o),l,g,h=0;h<o;++h)(l=s[h])&&(g=e.call(l,l.__data__,h,s))&&("__data__"in l&&(g.__data__=l.__data__),u[h]=g);return new hn(n,this._parents)}var fD=ae(()=>{Ya();$0()});function BI(){return[]}function Ac(e){return e==null?BI:function(){return this.querySelectorAll(e)}}var ry=ae(()=>{});function dD(e){typeof e!="function"&&(e=Ac(e));for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var o=t[s],u=o.length,l,g=0;g<u;++g)(l=o[g])&&(n.push(e.call(l,l.__data__,g,o)),a.push(l));return new hn(n,a)}var cD=ae(()=>{Ya();ry()});function Tc(e){return function(){return this.matches(e)}}var ny=ae(()=>{});function hD(e){typeof e!="function"&&(e=Tc(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=[],l,g=0;g<o;++g)(l=s[g])&&e.call(l,l.__data__,g,s)&&u.push(l);return new hn(n,this._parents)}var pD=ae(()=>{Ya();ny()});function Q0(e){return new Array(e.length)}var iy=ae(()=>{});function mD(){return new hn(this._enter||this._groups.map(Q0),this._parents)}function Lc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var ay=ae(()=>{iy();Ya();Lc.prototype={constructor:Lc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function gD(e){return function(){return e}}var vD=ae(()=>{});function RI(e,t,r,n,a,s){for(var o=0,u,l=t.length,g=s.length;o<g;++o)(u=t[o])?(u.__data__=s[o],n[o]=u):r[o]=new Lc(e,s[o]);for(;o<l;++o)(u=t[o])&&(a[o]=u)}function jI(e,t,r,n,a,s,o){var u,l,g={},h=t.length,v=s.length,x=new Array(h),S;for(u=0;u<h;++u)(l=t[u])&&(x[u]=S=_D+o.call(l,l.__data__,u,t),S in g?a[u]=l:g[S]=l);for(u=0;u<v;++u)S=_D+o.call(e,s[u],u,s),(l=g[S])?(n[u]=l,l.__data__=s[u],g[S]=null):r[u]=new Lc(e,s[u]);for(u=0;u<h;++u)(l=t[u])&&g[x[u]]===l&&(a[u]=l)}function bD(e,t){if(!e)return S=new Array(this.size()),g=-1,this.each(function(f){S[++g]=f}),S;var r=t?jI:RI,n=this._parents,a=this._groups;typeof e!="function"&&(e=gD(e));for(var s=a.length,o=new Array(s),u=new Array(s),l=new Array(s),g=0;g<s;++g){var h=n[g],v=a[g],x=v.length,S=e.call(h,h&&h.__data__,g,n),w=S.length,c=u[g]=new Array(w),_=o[g]=new Array(w),y=l[g]=new Array(x);r(h,v,c,_,y,S,t);for(var b=0,C=0,E,p;b<w;++b)if(E=c[b]){for(b>=C&&(C=b+1);!(p=_[C])&&++C<w;);E._next=p||null}}return o=new hn(o,n),o._enter=u,o._exit=l,o}var _D,yD=ae(()=>{Ya();ay();vD();_D="$"});function xD(){return new hn(this._exit||this._groups.map(Q0),this._parents)}var wD=ae(()=>{iy();Ya()});function SD(e,t,r){var n=this.enter(),a=this,s=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(a=t(a)),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}var CD=ae(()=>{});function ED(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),u=0;u<s;++u)for(var l=t[u],g=r[u],h=l.length,v=o[u]=new Array(h),x,S=0;S<h;++S)(x=l[S]||g[S])&&(v[S]=x);for(;u<n;++u)o[u]=t[u];return new hn(o,this._parents)}var DD=ae(()=>{Ya()});function MD(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],o;--a>=0;)(o=n[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}var AD=ae(()=>{});function TD(e){e||(e=WI);function t(v,x){return v&&x?e(v.__data__,x.__data__):!v-!x}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var o=r[s],u=o.length,l=a[s]=new Array(u),g,h=0;h<u;++h)(g=o[h])&&(l[h]=g);l.sort(t)}return new hn(a,this._parents).order()}function WI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var LD=ae(()=>{Ya()});function OD(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var kD=ae(()=>{});function ND(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}var PD=ae(()=>{});function ID(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null}var zD=ae(()=>{});function FD(){var e=0;return this.each(function(){++e}),e}var BD=ae(()=>{});function UD(){return!this.node()}var RD=ae(()=>{});function jD(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length,u;s<o;++s)(u=a[s])&&e.call(u,u.__data__,s,a);return this}var WD=ae(()=>{});function GI(e){return function(){this.removeAttribute(e)}}function HI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function VI(e,t){return function(){this.setAttribute(e,t)}}function YI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function KI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function ZI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function GD(e,t){var r=Qs(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?HI:GI:typeof t=="function"?r.local?ZI:KI:r.local?YI:VI)(r,t))}var HD=ae(()=>{Z0()});function q0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var sy=ae(()=>{});function XI(e){return function(){this.style.removeProperty(e)}}function $I(e,t,r){return function(){this.style.setProperty(e,t,r)}}function QI(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function VD(e,t,r){return arguments.length>1?this.each((t==null?XI:typeof t=="function"?QI:$I)(e,t,r??"")):jo(this.node(),e)}function jo(e,t){return e.style.getPropertyValue(t)||q0(e).getComputedStyle(e,null).getPropertyValue(t)}var oy=ae(()=>{sy()});function qI(e){return function(){delete this[e]}}function JI(e,t){return function(){this[e]=t}}function ez(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function YD(e,t){return arguments.length>1?this.each((t==null?qI:typeof t=="function"?ez:JI)(e,t)):this.node()[e]}var KD=ae(()=>{});function ZD(e){return e.trim().split(/^|\s+/)}function ly(e){return e.classList||new XD(e)}function XD(e){this._node=e,this._names=ZD(e.getAttribute("class")||"")}function $D(e,t){for(var r=ly(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function QD(e,t){for(var r=ly(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function tz(e){return function(){$D(this,e)}}function rz(e){return function(){QD(this,e)}}function nz(e,t){return function(){(t.apply(this,arguments)?$D:QD)(this,e)}}function qD(e,t){var r=ZD(e+"");if(arguments.length<2){for(var n=ly(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?nz:t?tz:rz)(r,t))}var JD=ae(()=>{XD.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function iz(){this.textContent=""}function az(e){return function(){this.textContent=e}}function sz(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function eM(e){return arguments.length?this.each(e==null?iz:(typeof e=="function"?sz:az)(e)):this.node().textContent}var tM=ae(()=>{});function oz(){this.innerHTML=""}function lz(e){return function(){this.innerHTML=e}}function uz(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function rM(e){return arguments.length?this.each(e==null?oz:(typeof e=="function"?uz:lz)(e)):this.node().innerHTML}var nM=ae(()=>{});function fz(){this.nextSibling&&this.parentNode.appendChild(this)}function iM(){return this.each(fz)}var aM=ae(()=>{});function dz(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sM(){return this.each(dz)}var oM=ae(()=>{});function lM(e){var t=typeof e=="function"?e:X0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var uM=ae(()=>{ty()});function cz(){return null}function fM(e,t){var r=typeof e=="function"?e:X0(e),n=t==null?cz:typeof t=="function"?t:Fl(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var dM=ae(()=>{ty();$0()});function hz(){var e=this.parentNode;e&&e.removeChild(this)}function cM(){return this.each(hz)}var hM=ae(()=>{});function pz(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mz(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pM(e){return this.select(e?mz:pz)}var mM=ae(()=>{});function gM(e){return arguments.length?this.property("__data__",e):this.node().__data__}var vM=ae(()=>{});function gz(e,t,r){return e=yM(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function yM(e,t,r){return function(n){var a=uy;uy=n;try{e.call(this,this.__data__,t,r)}finally{uy=a}}}function vz(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function _z(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++n]=s;++n?t.length=n:delete this.__on}}}function bz(e,t,r){var n=bM.hasOwnProperty(e.type)?gz:yM;return function(a,s,o){var u=this.__on,l,g=n(t,s,o);if(u){for(var h=0,v=u.length;h<v;++h)if((l=u[h]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=g,l.capture=r),l.value=t;return}}this.addEventListener(e.type,g,r),l={type:e.type,name:e.name,value:t,listener:g,capture:r},u?u.push(l):this.__on=[l]}}function xM(e,t,r){var n=vz(e+""),a,s=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,g=u.length,h;l<g;++l)for(a=0,h=u[l];a<s;++a)if((o=n[a]).type===h.type&&o.name===h.name)return h.value}return}for(u=t?bz:_z,r==null&&(r=!1),a=0;a<s;++a)this.each(u(n[a],t,r));return this}var bM,uy,_M,wM=ae(()=>{bM={},uy=null;typeof document<"u"&&(_M=document.documentElement,"onmouseenter"in _M||(bM={mouseenter:"mouseover",mouseleave:"mouseout"}))});function SM(e,t,r){var n=q0(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function yz(e,t){return function(){return SM(this,e,t)}}function xz(e,t){return function(){return SM(this,e,t.apply(this,arguments))}}function CM(e,t){return this.each((typeof t=="function"?xz:yz)(e,t))}var EM=ae(()=>{sy()});function hn(e,t){this._groups=e,this._parents=t}function DM(){return new hn([[document.documentElement]],fy)}var fy,qs,Ya=ae(()=>{fD();cD();pD();yD();ay();wD();CD();DD();AD();LD();kD();PD();zD();BD();RD();WD();HD();oy();KD();JD();tM();nM();aM();oM();uM();dM();hM();mM();vM();wM();EM();fy=[null];hn.prototype=DM.prototype={constructor:hn,select:uD,selectAll:dD,filter:hD,data:bD,enter:mD,exit:xD,join:SD,merge:ED,order:MD,sort:TD,call:OD,nodes:ND,node:ID,size:FD,empty:UD,each:jD,attr:GD,style:VD,property:YD,classed:qD,text:eM,html:rM,raise:iM,lower:sM,append:lM,insert:fM,remove:cM,clone:pM,datum:gM,on:xM,dispatch:CM};qs=DM});function en(e){return typeof e=="string"?new hn([[document.querySelector(e)]],[document.documentElement]):new hn([[e]],fy)}var MM=ae(()=>{Ya()});var pa=ae(()=>{ny();Z0();MM();Ya();$0();ry();oy()});var AM=ae(()=>{});function gf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Oc(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var dy=ae(()=>{});function Ul(){}function LM(){return this.rgb().formatHex()}function Tz(){return zM(this).formatHsl()}function OM(){return this.rgb().formatRgb()}function Ka(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?kM(t):r===3?new ai(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?J0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?J0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sz.exec(e))?new ai(t[1],t[2],t[3],1):(t=Cz.exec(e))?new ai(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ez.exec(e))?J0(t[1],t[2],t[3],t[4]):(t=Dz.exec(e))?J0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mz.exec(e))?IM(t[1],t[2]/100,t[3]/100,1):(t=Az.exec(e))?IM(t[1],t[2]/100,t[3]/100,t[4]):TM.hasOwnProperty(e)?kM(TM[e]):e==="transparent"?new ai(NaN,NaN,NaN,0):null}function kM(e){return new ai(e>>16&255,e>>8&255,e&255,1)}function J0(e,t,r,n){return n<=0&&(e=t=r=NaN),new ai(e,t,r,n)}function py(e){return e instanceof Ul||(e=Ka(e)),e?(e=e.rgb(),new ai(e.r,e.g,e.b,e.opacity)):new ai}function _f(e,t,r,n){return arguments.length===1?py(e):new ai(e,t,r,n??1)}function ai(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function NM(){return"#"+cy(this.r)+cy(this.g)+cy(this.b)}function PM(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function cy(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function IM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ps(e,t,r,n)}function zM(e){if(e instanceof ps)return new ps(e.h,e.s,e.l,e.opacity);if(e instanceof Ul||(e=Ka(e)),!e)return new ps;if(e instanceof ps)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,u=s-a,l=(s+a)/2;return u?(t===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-t)/u+2:o=(t-r)/u+4,u/=l<.5?s+a:2-s-a,o*=60):u=l>0&&l<1?0:o,new ps(o,u,l,e.opacity)}function FM(e,t,r,n){return arguments.length===1?zM(e):new ps(e,t,r,n??1)}function ps(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function hy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Wo,Bl,vf,kc,ms,wz,Sz,Cz,Ez,Dz,Mz,Az,TM,my=ae(()=>{dy();Wo=.7,Bl=1/Wo,vf="\\s*([+-]?\\d+)\\s*",kc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ms="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wz=/^#([0-9a-f]{3,8})$/,Sz=new RegExp("^rgb\\("+[vf,vf,vf]+"\\)$"),Cz=new RegExp("^rgb\\("+[ms,ms,ms]+"\\)$"),Ez=new RegExp("^rgba\\("+[vf,vf,vf,kc]+"\\)$"),Dz=new RegExp("^rgba\\("+[ms,ms,ms,kc]+"\\)$"),Mz=new RegExp("^hsl\\("+[kc,ms,ms]+"\\)$"),Az=new RegExp("^hsla\\("+[kc,ms,ms,kc]+"\\)$"),TM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gf(Ul,Ka,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:LM,formatHex:LM,formatHsl:Tz,formatRgb:OM,toString:OM});gf(ai,_f,Oc(Ul,{brighter:function(e){return e=e==null?Bl:Math.pow(Bl,e),new ai(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Wo:Math.pow(Wo,e),new ai(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NM,formatHex:NM,formatRgb:PM,toString:PM}));gf(ps,FM,Oc(Ul,{brighter:function(e){return e=e==null?Bl:Math.pow(Bl,e),new ps(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Wo:Math.pow(Wo,e),new ps(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ai(hy(e>=240?e-240:e+120,a,n),hy(e,a,n),hy(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}))});var BM,UM,RM=ae(()=>{BM=Math.PI/180,UM=180/Math.PI});function Lz(e){if(e instanceof Rl)return new Rl(e.h,e.s,e.l,e.opacity);e instanceof ai||(e=py(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(GM*n+jM*t-WM*r)/(GM+jM-WM),s=n-a,o=(Nc*(r-a)-vy*s)/em,u=Math.sqrt(o*o+s*s)/(Nc*a*(1-a)),l=u?Math.atan2(o,s)*UM-120:NaN;return new Rl(l<0?l+360:l,u,a,e.opacity)}function _i(e,t,r,n){return arguments.length===1?Lz(e):new Rl(e,t,r,n??1)}function Rl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}var HM,gy,vy,em,Nc,jM,WM,GM,VM=ae(()=>{dy();my();RM();HM=-.14861,gy=1.78277,vy=-.29227,em=-.90649,Nc=1.97294,jM=Nc*em,WM=Nc*gy,GM=gy*vy-em*HM;gf(Rl,_i,Oc(Ul,{brighter:function(e){return e=e==null?Bl:Math.pow(Bl,e),new Rl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Wo:Math.pow(Wo,e),new Rl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*BM,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new ai(255*(t+r*(HM*n+gy*a)),255*(t+r*(vy*n+em*a)),255*(t+r*(Nc*n)),this.opacity)}}))});var Go=ae(()=>{my();VM()});function _y(e,t,r,n,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*a)/6}function YM(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],s=e[n+1],o=n>0?e[n-1]:2*a-s,u=n<t-1?e[n+2]:2*s-a;return _y((r-n/t)*t,o,a,s,u)}}var by=ae(()=>{});function KM(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],s=e[n%t],o=e[(n+1)%t],u=e[(n+2)%t];return _y((r-n/t)*t,a,s,o,u)}}var ZM=ae(()=>{by()});function bf(e){return function(){return e}}var yy=ae(()=>{});function XM(e,t){return function(r){return e+r*t}}function Oz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $M(e,t){var r=t-e;return r?XM(e,r>180||r<-180?r-360*Math.round(r/360):r):bf(isNaN(e)?t:e)}function QM(e){return(e=+e)==1?Js:function(t,r){return r-t?Oz(t,r,e):bf(isNaN(t)?r:t)}}function Js(e,t){var r=t-e;return r?XM(e,r):bf(isNaN(e)?t:e)}var xy=ae(()=>{yy()});function qM(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),s=new Array(r),o,u;for(o=0;o<r;++o)u=_f(t[o]),n[o]=u.r||0,a[o]=u.g||0,s[o]=u.b||0;return n=e(n),a=e(a),s=e(s),u.opacity=1,function(l){return u.r=n(l),u.g=a(l),u.b=s(l),u+""}}}var jl,kz,Nz,wy=ae(()=>{Go();by();ZM();xy();jl=function e(t){var r=QM(t);function n(a,s){var o=r((a=_f(a)).r,(s=_f(s)).r),u=r(a.g,s.g),l=r(a.b,s.b),g=Js(a.opacity,s.opacity);return function(h){return a.r=o(h),a.g=u(h),a.b=l(h),a.opacity=g(h),a+""}}return n.gamma=e,n}(1);kz=qM(YM),Nz=qM(KM)});function JM(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function e5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var t5=ae(()=>{});function r5(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=eo(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(u){for(o=0;o<n;++o)s[o]=a[o](u);return s}}var n5=ae(()=>{tm()});function i5(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var a5=ae(()=>{});function Tn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Pc=ae(()=>{});function s5(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=eo(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var o5=ae(()=>{tm()});function Pz(e){return function(){return e}}function Iz(e){return function(t){return e(t)+""}}function Ic(e,t){var r=Cy.lastIndex=Sy.lastIndex=0,n,a,s,o=-1,u=[],l=[];for(e=e+"",t=t+"";(n=Cy.exec(e))&&(a=Sy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,l.push({i:o,x:Tn(n,a)})),r=Sy.lastIndex;return r<t.length&&(s=t.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?l[0]?Iz(l[0].x):Pz(t):(t=l.length,function(g){for(var h=0,v;h<t;++h)u[(v=l[h]).i]=v.x(g);return u.join("")})}var Cy,Sy,Ey=ae(()=>{Pc();Cy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sy=new RegExp(Cy.source,"g")});function eo(e,t){var r=typeof t,n;return t==null||r==="boolean"?bf(t):(r==="number"?Tn:r==="string"?(n=Ka(t))?(t=n,jl):Ic:t instanceof Ka?jl:t instanceof Date?i5:e5(t)?JM:Array.isArray(t)?r5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s5:Tn)(e,t)}var tm=ae(()=>{Go();wy();n5();a5();Pc();o5();Ey();yy();t5()});function zc(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var l5=ae(()=>{});function Dy(e,t,r,n,a,s){var o,u,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,l/=u),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*u5,skewX:Math.atan(l)*u5,scaleX:o,scaleY:u}}var u5,rm,f5=ae(()=>{u5=180/Math.PI,rm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function c5(e){return e==="none"?rm:(Fc||(Fc=document.createElement("DIV"),My=document.documentElement,d5=document.defaultView),Fc.style.transform=e,e=d5.getComputedStyle(My.appendChild(Fc),null).getPropertyValue("transform"),My.removeChild(Fc),e=e.slice(7,-1).split(","),Dy(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function h5(e){return e==null?rm:(nm||(nm=document.createElementNS("http://www.w3.org/2000/svg","g")),nm.setAttribute("transform",e),(e=nm.transform.baseVal.consolidate())?(e=e.matrix,Dy(e.a,e.b,e.c,e.d,e.e,e.f)):rm)}var Fc,My,d5,nm,p5=ae(()=>{f5()});function m5(e,t,r,n){function a(g){return g.length?g.pop()+" ":""}function s(g,h,v,x,S,w){if(g!==v||h!==x){var c=S.push("translate(",null,t,null,r);w.push({i:c-4,x:Tn(g,v)},{i:c-2,x:Tn(h,x)})}else(v||x)&&S.push("translate("+v+t+x+r)}function o(g,h,v,x){g!==h?(g-h>180?h+=360:h-g>180&&(g+=360),x.push({i:v.push(a(v)+"rotate(",null,n)-2,x:Tn(g,h)})):h&&v.push(a(v)+"rotate("+h+n)}function u(g,h,v,x){g!==h?x.push({i:v.push(a(v)+"skewX(",null,n)-2,x:Tn(g,h)}):h&&v.push(a(v)+"skewX("+h+n)}function l(g,h,v,x,S,w){if(g!==v||h!==x){var c=S.push(a(S)+"scale(",null,",",null,")");w.push({i:c-4,x:Tn(g,v)},{i:c-2,x:Tn(h,x)})}else(v!==1||x!==1)&&S.push(a(S)+"scale("+v+","+x+")")}return function(g,h){var v=[],x=[];return g=e(g),h=e(h),s(g.translateX,g.translateY,h.translateX,h.translateY,v,x),o(g.rotate,h.rotate,v,x),u(g.skewX,h.skewX,v,x),l(g.scaleX,g.scaleY,h.scaleX,h.scaleY,v,x),g=h=null,function(S){for(var w=-1,c=x.length,_;++w<c;)v[(_=x[w]).i]=_.x(S);return v.join("")}}}var Ay,Ty,g5=ae(()=>{Pc();p5();Ay=m5(c5,"px, ","px)","deg)"),Ty=m5(h5,", ",")",")")});function v5(e){return function t(r){r=+r;function n(a,s){var o=e((a=_i(a)).h,(s=_i(s)).h),u=Js(a.s,s.s),l=Js(a.l,s.l),g=Js(a.opacity,s.opacity);return function(h){return a.h=o(h),a.s=u(h),a.l=l(Math.pow(h,r)),a.opacity=g(h),a+""}}return n.gamma=t,n}(1)}var zz,yf,_5=ae(()=>{Go();xy();zz=v5($M),yf=v5(Js)});var gs=ae(()=>{tm();Pc();l5();Ey();g5();wy();_5()});function wf(){return Wl||(x5(Fz),Wl=jc.now()+sm)}function Fz(){Wl=0}function Wc(){this._call=this._time=this._next=null}function om(e,t,r){var n=new Wc;return n.restart(e,t,r),n}function w5(){wf(),++xf;for(var e=im,t;e;)(t=Wl-e._time)>=0&&e._call.call(null,t),e=e._next;--xf}function b5(){Wl=(am=jc.now())+sm,xf=Uc=0;try{w5()}finally{xf=0,Uz(),Wl=0}}function Bz(){var e=jc.now(),t=e-am;t>y5&&(sm-=t,am=e)}function Uz(){for(var e,t=im,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:im=r);Rc=e,Ly(n)}function Ly(e){if(!xf){Uc&&(Uc=clearTimeout(Uc));var t=e-Wl;t>24?(e<1/0&&(Uc=setTimeout(b5,e-jc.now()-sm)),Bc&&(Bc=clearInterval(Bc))):(Bc||(am=jc.now(),Bc=setInterval(Bz,y5)),xf=1,x5(b5))}}var xf,Uc,Bc,y5,im,Rc,am,Wl,sm,jc,x5,Oy=ae(()=>{xf=0,Uc=0,Bc=0,y5=1e3,am=0,Wl=0,sm=0,jc=typeof performance=="object"&&performance.now?performance:Date,x5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};Wc.prototype=om.prototype={constructor:Wc,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?wf():+r)+(t==null?0:+t),!this._next&&Rc!==this&&(Rc?Rc._next=this:im=this,Rc=this),this._call=e,this._time=r,Ly()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ly())}}});function lm(e,t,r){var n=new Wc;return t=t==null?0:+t,n.restart(function(a){n.stop(),e(a+t)},t,r),n}var S5=ae(()=>{Oy()});var um=ae(()=>{Oy();S5()});function Ho(e,t,r,n,a,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;Wz(e,r,{name:t,index:n,group:a,on:Rz,tween:jz,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:E5})}function Hc(e,t){var r=Ln(e,t);if(r.state>E5)throw new Error("too late; already scheduled");return r}function bi(e,t){var r=Ln(e,t);if(r.state>fm)throw new Error("too late; already running");return r}function Ln(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Wz(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=om(s,0,r.time);function s(g){r.state=ky,r.timer.restart(o,r.delay,r.time),r.delay<=g&&o(g-r.delay)}function o(g){var h,v,x,S;if(r.state!==ky)return l();for(h in n)if(S=n[h],S.name===r.name){if(S.state===fm)return lm(o);S.state===C5?(S.state=Gc,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete n[h]):+h<t&&(S.state=Gc,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete n[h])}if(lm(function(){r.state===fm&&(r.state=C5,r.timer.restart(u,r.delay,r.time),u(g))}),r.state=dm,r.on.call("start",e,e.__data__,r.index,r.group),r.state===dm){for(r.state=fm,a=new Array(x=r.tween.length),h=0,v=-1;h<x;++h)(S=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(a[++v]=S);a.length=v+1}}function u(g){for(var h=g<r.duration?r.ease.call(null,g/r.duration):(r.timer.restart(l),r.state=cm,1),v=-1,x=a.length;++v<x;)a[v].call(e,h);r.state===cm&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Gc,r.timer.stop(),delete n[t];for(var g in n)return;delete e.__transition}}var Rz,jz,E5,ky,dm,fm,C5,cm,Gc,Bi=ae(()=>{qb();um();Rz=Qb("start","end","cancel","interrupt"),jz=[],E5=0,ky=1,dm=2,fm=3,C5=4,cm=5,Gc=6});function Vc(e,t){var r=e.__transition,n,a,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}a=n.state>dm&&n.state<cm,n.state=Gc,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}var Ny=ae(()=>{Bi()});function D5(e){return this.each(function(){Vc(this,e)})}var M5=ae(()=>{Ny()});function Gz(e,t){var r,n;return function(){var a=bi(this,e),s=a.tween;if(s!==r){n=r=s;for(var o=0,u=n.length;o<u;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function Hz(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=bi(this,e),o=s.tween;if(o!==n){a=(n=o).slice();for(var u={name:t,value:r},l=0,g=a.length;l<g;++l)if(a[l].name===t){a[l]=u;break}l===g&&a.push(u)}s.tween=a}}function A5(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Ln(this.node(),r).tween,a=0,s=n.length,o;a<s;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?Gz:Hz)(r,e,t))}function Sf(e,t,r){var n=e._id;return e.each(function(){var a=bi(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Ln(a,n).value[t]}}var Yc=ae(()=>{Bi()});function hm(e,t){var r;return(typeof t=="number"?Tn:t instanceof Ka?jl:(r=Ka(t))?(t=r,jl):Ic)(e,t)}var Py=ae(()=>{Go();gs()});function Vz(e){return function(){this.removeAttribute(e)}}function Yz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kz(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===n?s:s=t(n=o,r)}}function Zz(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?s:s=t(n=o,r)}}function Xz(e,t,r){var n,a,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=u+"",o===l?null:o===n&&l===a?s:(a=l,s=t(n=o,u)))}}function $z(e,t,r){var n,a,s;return function(){var o,u=r(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=u+"",o===l?null:o===n&&l===a?s:(a=l,s=t(n=o,u)))}}function T5(e,t){var r=Qs(e),n=r==="transform"?Ty:hm;return this.attrTween(e,typeof t=="function"?(r.local?$z:Xz)(r,n,Sf(this,"attr."+e,t)):t==null?(r.local?Yz:Vz)(r):(r.local?Zz:Kz)(r,n,t))}var L5=ae(()=>{gs();pa();Yc();Py()});function Qz(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function qz(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Jz(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&qz(e,s)),r}return a._value=t,a}function e9(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Qz(e,s)),r}return a._value=t,a}function O5(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Qs(e);return this.tween(r,(n.local?Jz:e9)(n,t))}var k5=ae(()=>{pa()});function t9(e,t){return function(){Hc(this,e).delay=+t.apply(this,arguments)}}function r9(e,t){return t=+t,function(){Hc(this,e).delay=t}}function N5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?t9:r9)(t,e)):Ln(this.node(),t).delay}var P5=ae(()=>{Bi()});function n9(e,t){return function(){bi(this,e).duration=+t.apply(this,arguments)}}function i9(e,t){return t=+t,function(){bi(this,e).duration=t}}function I5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?n9:i9)(t,e)):Ln(this.node(),t).duration}var z5=ae(()=>{Bi()});function a9(e,t){if(typeof t!="function")throw new Error;return function(){bi(this,e).ease=t}}function F5(e){var t=this._id;return arguments.length?this.each(a9(t,e)):Ln(this.node(),t).ease}var B5=ae(()=>{Bi()});function U5(e){typeof e!="function"&&(e=Tc(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=[],l,g=0;g<o;++g)(l=s[g])&&e.call(l,l.__data__,g,s)&&u.push(l);return new si(n,this._parents,this._name,this._id)}var R5=ae(()=>{pa();to()});function j5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),u=0;u<s;++u)for(var l=t[u],g=r[u],h=l.length,v=o[u]=new Array(h),x,S=0;S<h;++S)(x=l[S]||g[S])&&(v[S]=x);for(;u<n;++u)o[u]=t[u];return new si(o,this._parents,this._name,this._id)}var W5=ae(()=>{to()});function s9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function o9(e,t,r){var n,a,s=s9(t)?Hc:bi;return function(){var o=s(this,e),u=o.on;u!==n&&(a=(n=u).copy()).on(t,r),o.on=a}}function G5(e,t){var r=this._id;return arguments.length<2?Ln(this.node(),r).on.on(e):this.each(o9(r,e,t))}var H5=ae(()=>{Bi()});function l9(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function V5(){return this.on("end.remove",l9(this._id))}var Y5=ae(()=>{});function K5(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Fl(e));for(var n=this._groups,a=n.length,s=new Array(a),o=0;o<a;++o)for(var u=n[o],l=u.length,g=s[o]=new Array(l),h,v,x=0;x<l;++x)(h=u[x])&&(v=e.call(h,h.__data__,x,u))&&("__data__"in h&&(v.__data__=h.__data__),g[x]=v,Ho(g[x],t,r,x,g,Ln(h,r)));return new si(s,this._parents,t,r)}var Z5=ae(()=>{pa();to();Bi()});function X5(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ac(e));for(var n=this._groups,a=n.length,s=[],o=[],u=0;u<a;++u)for(var l=n[u],g=l.length,h,v=0;v<g;++v)if(h=l[v]){for(var x=e.call(h,h.__data__,v,l),S,w=Ln(h,r),c=0,_=x.length;c<_;++c)(S=x[c])&&Ho(S,t,r,c,x,w);s.push(x),o.push(h)}return new si(s,o,t,r)}var $5=ae(()=>{pa();to();Bi()});function Q5(){return new u9(this._groups,this._parents)}var u9,q5=ae(()=>{pa();u9=qs.prototype.constructor});function f9(e,t){var r,n,a;return function(){var s=jo(this,e),o=(this.style.removeProperty(e),jo(this,e));return s===o?null:s===r&&o===n?a:a=t(r=s,n=o)}}function J5(e){return function(){this.style.removeProperty(e)}}function d9(e,t,r){var n,a=r+"",s;return function(){var o=jo(this,e);return o===a?null:o===n?s:s=t(n=o,r)}}function c9(e,t,r){var n,a,s;return function(){var o=jo(this,e),u=r(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),jo(this,e))),o===l?null:o===n&&l===a?s:(a=l,s=t(n=o,u))}}function h9(e,t){var r,n,a,s="style."+t,o="end."+s,u;return function(){var l=bi(this,e),g=l.on,h=l.value[s]==null?u||(u=J5(t)):void 0;(g!==r||a!==h)&&(n=(r=g).copy()).on(o,a=h),l.on=n}}function eA(e,t,r){var n=(e+="")=="transform"?Ay:hm;return t==null?this.styleTween(e,f9(e,n)).on("end.style."+e,J5(e)):typeof t=="function"?this.styleTween(e,c9(e,n,Sf(this,"style."+e,t))).each(h9(this._id,e)):this.styleTween(e,d9(e,n,t),r).on("end.style."+e,null)}var tA=ae(()=>{gs();pa();Bi();Yc();Py()});function p9(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function m9(e,t,r){var n,a;function s(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&p9(e,o,r)),n}return s._value=t,s}function rA(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,m9(e,t,r??""))}var nA=ae(()=>{});function g9(e){return function(){this.textContent=e}}function v9(e){return function(){var t=e(this);this.textContent=t??""}}function iA(e){return this.tween("text",typeof e=="function"?v9(Sf(this,"text",e)):g9(e==null?"":e+""))}var aA=ae(()=>{Yc()});function _9(e){return function(t){this.textContent=e.call(this,t)}}function b9(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&_9(a)),t}return n._value=e,n}function sA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,b9(e))}var oA=ae(()=>{});function lA(){for(var e=this._name,t=this._id,r=pm(),n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],u=o.length,l,g=0;g<u;++g)if(l=o[g]){var h=Ln(l,t);Ho(l,e,r,g,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new si(n,this._parents,e,r)}var uA=ae(()=>{to();Bi()});function fA(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,o){var u={value:o},l={value:function(){--a===0&&s()}};r.each(function(){var g=bi(this,n),h=g.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),g.on=t})})}var dA=ae(()=>{Bi()});function si(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Iy(e){return qs().transition(e)}function pm(){return++y9}var y9,Cf,to=ae(()=>{pa();L5();k5();P5();z5();B5();R5();W5();H5();Y5();Z5();$5();q5();tA();nA();aA();oA();uA();Yc();dA();y9=0;Cf=qs.prototype;si.prototype=Iy.prototype={constructor:si,select:K5,selectAll:X5,filter:U5,merge:j5,selection:Q5,transition:lA,call:Cf.call,nodes:Cf.nodes,node:Cf.node,size:Cf.size,empty:Cf.empty,each:Cf.each,on:G5,attr:T5,attrTween:O5,style:eA,styleTween:rA,text:iA,textTween:sA,remove:V5,tween:A5,delay:N5,duration:I5,ease:F5,end:fA}});function mm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cA=ae(()=>{});var zy=ae(()=>{cA()});function x9(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return Fy.time=wf(),Fy;return r}function hA(e){var t,r;e instanceof si?(t=e._id,e=e._name):(t=pm(),(r=Fy).time=wf(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],u=o.length,l,g=0;g<u;++g)(l=o[g])&&Ho(l,e,t,g,o,r||x9(l,t));return new si(n,this._parents,e,t)}var Fy,pA=ae(()=>{to();Bi();zy();um();Fy={time:null,delay:0,duration:250,ease:mm}});var mA=ae(()=>{pa();M5();pA();qs.prototype.interrupt=D5;qs.prototype.transition=hA});var gA=ae(()=>{to();Bi()});var Gl=ae(()=>{mA();to();gA();Ny()});var vA=ae(()=>{});var _A=ae(()=>{});var bA=ae(()=>{});function yA(e){return[+e[0],+e[1]]}function w9(e){return[yA(e[0]),yA(e[1])]}function By(e){return{type:e}}var HK,VK,YK,xA=ae(()=>{Gl();vA();_A();bA();HK={name:"x",handles:["w","e"].map(By),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},VK={name:"y",handles:["n","s"].map(By),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},YK={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(By),input:function(e){return e==null?null:w9(e)},output:function(e){return e}}});var wA=ae(()=>{xA()});var SA,S9,C9,Uy=ae(()=>{SA=Math.PI,S9=SA/2,C9=SA*2});var CA=ae(()=>{vi();Uy()});var E9,EA=ae(()=>{E9=Array.prototype.slice});var DA=ae(()=>{});function Wy(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function MA(){return new Wy}var Ry,jy,Hl,D9,Kc,AA=ae(()=>{Ry=Math.PI,jy=2*Ry,Hl=1e-6,D9=jy-Hl;Wy.prototype=MA.prototype={constructor:Wy,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,s){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+s)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var s=this._x1,o=this._y1,u=r-e,l=n-t,g=s-e,h=o-t,v=g*g+h*h;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(v>Hl)if(!(Math.abs(h*u-l*g)>Hl)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var x=r-s,S=n-o,w=u*u+l*l,c=x*x+S*S,_=Math.sqrt(w),y=Math.sqrt(v),b=a*Math.tan((Ry-Math.acos((w+v-c)/(2*_*y)))/2),C=b/y,E=b/_;Math.abs(C-1)>Hl&&(this._+="L"+(e+C*g)+","+(t+C*h)),this._+="A"+a+","+a+",0,0,"+ +(h*x>g*S)+","+(this._x1=e+E*u)+","+(this._y1=t+E*l)}},arc:function(e,t,r,n,a,s){e=+e,t=+t,r=+r,s=!!s;var o=r*Math.cos(n),u=r*Math.sin(n),l=e+o,g=t+u,h=1^s,v=s?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+g:(Math.abs(this._x1-l)>Hl||Math.abs(this._y1-g)>Hl)&&(this._+="L"+l+","+g),r&&(v<0&&(v=v%jy+jy),v>D9?this._+="A"+r+","+r+",0,1,"+h+","+(e-o)+","+(t-u)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=g):v>Hl&&(this._+="A"+r+","+r+",0,"+ +(v>=Ry)+","+h+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};Kc=MA});var gm=ae(()=>{AA()});var TA=ae(()=>{EA();DA();Uy()});var LA=ae(()=>{CA();TA()});function vm(){}function OA(e,t){var r=new vm;if(e instanceof vm)e.each(function(u,l){r.set(l,u)});else if(Array.isArray(e)){var n=-1,a=e.length,s;if(t==null)for(;++n<a;)r.set(n,e[n]);else for(;++n<a;)r.set(t(s=e[n],n,e),s)}else if(e)for(var o in e)r.set(o,e[o]);return r}var qi,vs,_m=ae(()=>{qi="$";vm.prototype=OA.prototype={constructor:vm,has:function(e){return qi+e in this},get:function(e){return this[qi+e]},set:function(e,t){return this[qi+e]=t,this},remove:function(e){var t=qi+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===qi&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===qi&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===qi&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===qi&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===qi&&++e;return e},empty:function(){for(var e in this)if(e[0]===qi)return!1;return!0},each:function(e){for(var t in this)t[0]===qi&&e(this[t],t.slice(1),this)}};vs=OA});var kA=ae(()=>{_m()});function bm(){}function M9(e,t){var r=new bm;if(e instanceof bm)e.each(function(s){r.add(s)});else if(e){var n=-1,a=e.length;if(t==null)for(;++n<a;)r.add(e[n]);else for(;++n<a;)r.add(t(e[n],n,e))}return r}var Vl,NA=ae(()=>{_m();Vl=vs.prototype;bm.prototype=M9.prototype={constructor:bm,has:Vl.has,add:function(e){return e+="",this[qi+e]=e,this},remove:Vl.remove,clear:Vl.clear,values:Vl.keys,size:Vl.size,empty:Vl.empty,each:Vl.each}});var PA=ae(()=>{});var IA=ae(()=>{});var zA=ae(()=>{});var Ef=ae(()=>{kA();NA();_m();PA();IA();zA()});var A9,FA,Gy=ae(()=>{A9=Array.prototype,FA=A9.slice});var BA=ae(()=>{});var UA=ae(()=>{});var Hy=ae(()=>{});var RA=ae(()=>{});var jA=ae(()=>{});var Vy=ae(()=>{vi();Gy();BA();UA();Hy();RA();jA()});var WA=ae(()=>{});var GA=ae(()=>{vi();Gy();WA();Hy();Vy()});var HA=ae(()=>{Vy();GA()});var VA=ae(()=>{});var YA=ae(()=>{});var KA=ae(()=>{});var Yl=ae(()=>{});var ym=ae(()=>{});var ZA=ae(()=>{});var $A=ae(()=>{Yl();ym()});var QA=ae(()=>{Yl();ym();Ef()});var NX,Yy=ae(()=>{Ef();NX=Math.PI*(3-Math.sqrt(5))});var qA=ae(()=>{Yl();ym();Yy()});var JA=ae(()=>{Yl()});var eT=ae(()=>{Yl()});var tT=ae(()=>{Yl()});var rT=ae(()=>{KA();$A();QA();qA();JA();Yy();eT();tT()});function nT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kl(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var Xc=ae(()=>{});function _s(e){return e=Kl(Math.abs(e)),e?e[1]:NaN}var $c=ae(()=>{Xc()});function iT(e,t){return function(r,n){for(var a=r.length,s=[],o=0,u=e[0],l=0;a>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),s.push(r.substring(a-=u,a+u)),!((l+=u+1)>n));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}var aT=ae(()=>{});function sT(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oT=ae(()=>{});function Vo(e){if(!(t=O9.exec(e)))throw new Error("invalid format: "+e);var t;return new xm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function xm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var O9,Ky=ae(()=>{O9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Vo.prototype=xm.prototype;xm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function lT(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var uT=ae(()=>{});function fT(e,t){var r=Kl(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Zy=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Kl(e,Math.max(0,t+s-1))[0]}var Zy,Xy=ae(()=>{Xc()});function $y(e,t){var r=Kl(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var dT=ae(()=>{Xc()});var Qy,cT=ae(()=>{Xc();Xy();dT();Qy={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:nT,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return $y(e*100,t)},r:$y,s:fT,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}});function qy(e){return e}var hT=ae(()=>{});function gT(e){var t=e.grouping===void 0||e.thousands===void 0?qy:iT(pT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?qy:sT(pT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"-":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function g(v){v=Vo(v);var x=v.fill,S=v.align,w=v.sign,c=v.symbol,_=v.zero,y=v.width,b=v.comma,C=v.precision,E=v.trim,p=v.type;p==="n"?(b=!0,p="g"):Qy[p]||(C===void 0&&(C=12),E=!0,p="g"),(_||x==="0"&&S==="=")&&(_=!0,x="0",S="=");var f=c==="$"?r:c==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",D=c==="$"?n:/[%p]/.test(p)?o:"",M=Qy[p],N=/[defgprs%]/.test(p);C=C===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function O(z){var k=f,I=D,H,Y,q;if(p==="c")I=M(z)+I,z="";else{z=+z;var G=z<0||1/z<0;if(z=isNaN(z)?l:M(Math.abs(z),C),E&&(z=lT(z)),G&&+z==0&&w!=="+"&&(G=!1),k=(G?w==="("?w:u:w==="-"||w==="("?"":w)+k,I=(p==="s"?mT[8+Zy/3]:"")+I+(G&&w==="("?")":""),N){for(H=-1,Y=z.length;++H<Y;)if(q=z.charCodeAt(H),48>q||q>57){I=(q===46?a+z.slice(H+1):z.slice(H))+I,z=z.slice(0,H);break}}}b&&!_&&(z=t(z,1/0));var $=k.length+z.length+I.length,j=$<y?new Array(y-$+1).join(x):"";switch(b&&_&&(z=t(j+z,j.length?y-I.length:1/0),j=""),S){case"<":z=k+z+I+j;break;case"=":z=k+j+z+I;break;case"^":z=j.slice(0,$=j.length>>1)+k+z+I+j.slice($);break;default:z=j+k+z+I;break}return s(z)}return O.toString=function(){return v+""},O}function h(v,x){var S=g((v=Vo(v),v.type="f",v)),w=Math.max(-8,Math.min(8,Math.floor(_s(x)/3)))*3,c=Math.pow(10,-w),_=mT[8+w/3];return function(y){return S(c*y)+_}}return{format:g,formatPrefix:h}}var pT,mT,vT=ae(()=>{$c();aT();oT();Ky();uT();cT();Xy();hT();pT=Array.prototype.map,mT=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function Jy(e){return wm=gT(e),Sm=wm.format,Cm=wm.formatPrefix,wm}var wm,Sm,Cm,_T=ae(()=>{vT();Jy({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})});function ex(e){return Math.max(0,-_s(Math.abs(e)))}var bT=ae(()=>{$c()});function tx(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_s(t)/3)))*3-_s(Math.abs(e)))}var yT=ae(()=>{$c()});function rx(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_s(t)-_s(e))+1}var xT=ae(()=>{$c()});var nx=ae(()=>{_T();Ky();bT();yT();xT()});var wT=ae(()=>{});var ST=ae(()=>{});var CT=ae(()=>{});function ma(){return Math.random()}var Zl=ae(()=>{});var k9,ET=ae(()=>{Zl();k9=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,arguments.length===1?(a=n,n=0):a-=n,function(){return t()*a+n}}return r.source=e,r}(ma)});var ix,ax=ae(()=>{Zl();ix=function e(t){function r(n,a){var s,o;return n=n==null?0:+n,a=a==null?1:+a,function(){var u;if(s!=null)u=s,s=null;else do s=t()*2-1,u=t()*2-1,o=s*s+u*u;while(!o||o>1);return n+a*u*Math.sqrt(-2*Math.log(o)/o)}}return r.source=e,r}(ma)});var N9,DT=ae(()=>{Zl();ax();N9=function e(t){function r(){var n=ix.source(t).apply(this,arguments);return function(){return Math.exp(n())}}return r.source=e,r}(ma)});var sx,ox=ae(()=>{Zl();sx=function e(t){function r(n){return function(){for(var a=0,s=0;s<n;++s)a+=t();return a}}return r.source=e,r}(ma)});var P9,MT=ae(()=>{Zl();ox();P9=function e(t){function r(n){var a=sx.source(t)(n);return function(){return a()/n}}return r.source=e,r}(ma)});var I9,AT=ae(()=>{Zl();I9=function e(t){function r(n){return function(){return-Math.log(1-t())/n}}return r.source=e,r}(ma)});var TT=ae(()=>{ET();ax();DT();MT();ox();AT()});function Ui(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var yi=ae(()=>{});var LT,Em,Yo,Ko=ae(()=>{LT=Array.prototype,Em=LT.map,Yo=LT.slice});function Xl(){var e=vs(),t=[],r=[],n=lx;function a(s){var o=s+"",u=e.get(o);if(!u){if(n!==lx)return n;e.set(o,u=t.push(s))}return r[(u-1)%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=vs();for(var o=-1,u=s.length,l,g;++o<u;)e.has(g=(l=s[o])+"")||e.set(g,t.push(l));return a},a.range=function(s){return arguments.length?(r=Yo.call(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Xl(t,r).unknown(n)},Ui.apply(a,arguments),a}var lx,ux=ae(()=>{Ef();Ko();yi();lx={name:"implicit"}});function Ji(){var e=Xl().unknown(void 0),t=e.domain,r=e.range,n=[0,1],a,s,o=!1,u=0,l=0,g=.5;delete e.unknown;function h(){var v=t().length,x=n[1]<n[0],S=n[x-0],w=n[1-x];a=(w-S)/Math.max(1,v-u+l*2),o&&(a=Math.floor(a)),S+=(w-S-a*(v-u))*g,s=a*(1-u),o&&(S=Math.round(S),s=Math.round(s));var c=Va(v).map(function(_){return S+a*_});return r(x?c.reverse():c)}return e.domain=function(v){return arguments.length?(t(v),h()):t()},e.range=function(v){return arguments.length?(n=[+v[0],+v[1]],h()):n.slice()},e.rangeRound=function(v){return n=[+v[0],+v[1]],o=!0,h()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(v){return arguments.length?(o=!!v,h()):o},e.padding=function(v){return arguments.length?(u=Math.min(1,l=+v),h()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),h()):u},e.paddingOuter=function(v){return arguments.length?(l=+v,h()):l},e.align=function(v){return arguments.length?(g=Math.max(0,Math.min(1,v)),h()):g},e.copy=function(){return Ji(t(),n).round(o).paddingInner(u).paddingOuter(l).align(g)},Ui.apply(h(),arguments)}var OT=ae(()=>{vi();yi();ux()});function kT(e){return function(){return e}}var NT=ae(()=>{});function fx(e){return+e}var dx=ae(()=>{});function ga(e){return e}function cx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:kT(isNaN(t)?NaN:.5)}function IT(e){var t=e[0],r=e[e.length-1],n;return t>r&&(n=t,t=r,r=n),function(a){return Math.max(t,Math.min(r,a))}}function z9(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=cx(a,n),s=r(o,s)):(n=cx(n,a),s=r(s,o)),function(u){return s(n(u))}}function F9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=cx(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(u){var l=Ro(e,u,1,n)-1;return s[l](a[l](u))}}function Df(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dm(){var e=PT,t=PT,r=eo,n,a,s,o=ga,u,l,g;function h(){return u=Math.min(e.length,t.length)>2?F9:z9,l=g=null,v}function v(x){return isNaN(x=+x)?s:(l||(l=u(e.map(n),t,r)))(n(o(x)))}return v.invert=function(x){return o(a((g||(g=u(t,e.map(n),Tn)))(x)))},v.domain=function(x){return arguments.length?(e=Em.call(x,fx),o===ga||(o=IT(e)),h()):e.slice()},v.range=function(x){return arguments.length?(t=Yo.call(x),h()):t.slice()},v.rangeRound=function(x){return t=Yo.call(x),r=zc,h()},v.clamp=function(x){return arguments.length?(o=x?IT(e):ga,v):o!==ga},v.interpolate=function(x){return arguments.length?(r=x,h()):r},v.unknown=function(x){return arguments.length?(s=x,v):s},function(x,S){return n=x,a=S,h()}}function Mm(e,t){return Dm()(e,t)}var PT,ro=ae(()=>{vi();gs();Ko();NT();dx();PT=[0,1]});function hx(e,t,r,n){var a=Pl(e,t,r),s;switch(n=Vo(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=tx(a,o))&&(n.precision=s),Cm(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=rx(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=ex(a))&&(n.precision=s-(n.type==="%")*2);break}}return Sm(n)}var px=ae(()=>{vi();nx()});function $l(e){var t=e.domain;return e.ticks=function(r){var n=t();return R0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return hx(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],u=n[s],l;return u<o&&(l=o,o=u,u=l,l=a,a=s,s=l),l=mf(o,u,r),l>0?(o=Math.floor(o/l)*l,u=Math.ceil(u/l)*l,l=mf(o,u,r)):l<0&&(o=Math.ceil(o*l)/l,u=Math.floor(u*l)/l,l=mf(o,u,r)),l>0?(n[a]=Math.floor(o/l)*l,n[s]=Math.ceil(u/l)*l,t(n)):l<0&&(n[a]=Math.ceil(o*l)/l,n[s]=Math.floor(u*l)/l,t(n)),e},e}function va(){var e=Mm(ga,ga);return e.copy=function(){return Df(e,va())},Ui.apply(e,arguments),$l(e)}var Zo=ae(()=>{vi();ro();yi();px()});var zT=ae(()=>{Ko();Zo();dx()});var mx=ae(()=>{});var Am=ae(()=>{vi();mx();ro();yi()});var Tm=ae(()=>{Zo();ro();yi()});var Lm=ae(()=>{Zo();ro();yi()});var FT=ae(()=>{vi();Ko();yi()});var BT=ae(()=>{vi();Ko();Zo();yi()});var UT=ae(()=>{vi();Ko();yi()});function oi(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=function(s){return e(s=new Date(+s)),s},a.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},a.round=function(s){var o=a(s),u=a.ceil(s);return s-o<u-s?o:u},a.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},a.range=function(s,o,u){var l=[],g;if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return l;do l.push(g=new Date(+s)),t(s,u),e(s);while(g<s&&s<o);return l},a.filter=function(s){return oi(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,u){if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!s(o););else for(;--u>=0;)for(;t(o,1),!s(o););})},r&&(a.count=function(s,o){return gx.setTime(+s),vx.setTime(+o),e(gx),e(vx),Math.floor(r(gx,vx))},a.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?function(o){return n(o)%s===0}:function(o){return a.count(0,o)%s===0}):a}),a}var gx,vx,Ql=ae(()=>{gx=new Date,vx=new Date});var Om,km,Nm,Qc=ae(()=>{Om=6e4,km=864e5,Nm=6048e5});var RT,Pm,U9,jT=ae(()=>{Ql();Qc();RT=oi(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Om)/km},function(e){return e.getDate()-1}),Pm=RT,U9=RT.range});function ql(e){return oi(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Om)/Nm})}var qc,Mf,WT,GT,Xo,HT,VT,YT,R9,j9,W9,G9,H9,V9,KT=ae(()=>{Ql();Qc();qc=ql(0),Mf=ql(1),WT=ql(2),GT=ql(3),Xo=ql(4),HT=ql(5),VT=ql(6),YT=qc.range,R9=Mf.range,j9=WT.range,W9=GT.range,G9=Xo.range,H9=HT.range,V9=VT.range});var _x,Jl,Y9,ZT=ae(()=>{Ql();_x=oi(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});_x.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:oi(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};Jl=_x,Y9=_x.range});var XT,Im,K9,$T=ae(()=>{Ql();Qc();XT=oi(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/km},function(e){return e.getUTCDate()-1}),Im=XT,K9=XT.range});function eu(e){return oi(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/Nm})}var Jc,Af,QT,qT,$o,JT,e4,t4,Z9,X9,$9,Q9,q9,J9,r4=ae(()=>{Ql();Qc();Jc=eu(0),Af=eu(1),QT=eu(2),qT=eu(3),$o=eu(4),JT=eu(5),e4=eu(6),t4=Jc.range,Z9=Af.range,X9=QT.range,$9=qT.range,Q9=$o.range,q9=JT.range,J9=e4.range});var bx,tu,e7,n4=ae(()=>{Ql();bx=oi(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});bx.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:oi(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};tu=bx,e7=bx.range});var yx=ae(()=>{jT();KT();ZT();$T();r4();n4()});function xx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Sx(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,u=e.months,l=e.shortMonths,g=th(a),h=rh(a),v=th(s),x=rh(s),S=th(o),w=rh(o),c=th(u),_=rh(u),y=th(l),b=rh(l),C={a:G,A:$,b:j,B:V,c:null,d:u4,e:u4,f:S7,g:N7,G:I7,H:y7,I:x7,j:w7,L:p4,m:C7,M:E7,p:X,q:Q,Q:c4,s:h4,S:D7,u:M7,U:A7,V:T7,w:L7,W:O7,x:null,X:null,y:k7,Y:P7,Z:z7,"%":d4},E={a:te,A:we,b:Pe,B:xe,c:null,d:f4,e:f4,f:R7,g:$7,G:q7,H:F7,I:B7,j:U7,L:g4,m:j7,M:W7,p:Fe,q:Ae,Q:c4,s:h4,S:G7,u:H7,U:V7,V:Y7,w:K7,W:Z7,x:null,X:null,y:X7,Y:Q7,Z:J7,"%":d4},p={a:O,A:z,b:k,B:I,c:H,d:o4,e:o4,f:g7,g:s4,G:a4,H:l4,I:l4,j:c7,L:m7,m:d7,M:h7,p:N,q:f7,Q:_7,s:b7,S:p7,u:a7,U:s7,V:o7,w:i7,W:l7,x:Y,X:q,y:s4,Y:a4,Z:u7,"%":v7};C.x=f(r,C),C.X=f(n,C),C.c=f(t,C),E.x=f(r,E),E.X=f(n,E),E.c=f(t,E);function f(be,Qe){return function(Xe){var U=[],pe=-1,_e=0,ie=be.length,de,ye,Re;for(Xe instanceof Date||(Xe=new Date(+Xe));++pe<ie;)be.charCodeAt(pe)===37&&(U.push(be.slice(_e,pe)),(ye=i4[de=be.charAt(++pe)])!=null?de=be.charAt(++pe):ye=de==="e"?" ":"0",(Re=Qe[de])&&(de=Re(Xe,ye)),U.push(de),_e=pe+1);return U.push(be.slice(_e,pe)),U.join("")}}function D(be,Qe){return function(Xe){var U=eh(1900,void 0,1),pe=M(U,be,Xe+="",0),_e,ie;if(pe!=Xe.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(Qe&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(_e=wx(eh(U.y,0,1)),ie=_e.getUTCDay(),_e=ie>4||ie===0?Af.ceil(_e):Af(_e),_e=Im.offset(_e,(U.V-1)*7),U.y=_e.getUTCFullYear(),U.m=_e.getUTCMonth(),U.d=_e.getUTCDate()+(U.w+6)%7):(_e=xx(eh(U.y,0,1)),ie=_e.getDay(),_e=ie>4||ie===0?Mf.ceil(_e):Mf(_e),_e=Pm.offset(_e,(U.V-1)*7),U.y=_e.getFullYear(),U.m=_e.getMonth(),U.d=_e.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),ie="Z"in U?wx(eh(U.y,0,1)).getUTCDay():xx(eh(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(ie+5)%7:U.w+U.U*7-(ie+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,wx(U)):xx(U)}}function M(be,Qe,Xe,U){for(var pe=0,_e=Qe.length,ie=Xe.length,de,ye;pe<_e;){if(U>=ie)return-1;if(de=Qe.charCodeAt(pe++),de===37){if(de=Qe.charAt(pe++),ye=p[de in i4?Qe.charAt(pe++):de],!ye||(U=ye(be,Xe,U))<0)return-1}else if(de!=Xe.charCodeAt(U++))return-1}return U}function N(be,Qe,Xe){var U=g.exec(Qe.slice(Xe));return U?(be.p=h[U[0].toLowerCase()],Xe+U[0].length):-1}function O(be,Qe,Xe){var U=S.exec(Qe.slice(Xe));return U?(be.w=w[U[0].toLowerCase()],Xe+U[0].length):-1}function z(be,Qe,Xe){var U=v.exec(Qe.slice(Xe));return U?(be.w=x[U[0].toLowerCase()],Xe+U[0].length):-1}function k(be,Qe,Xe){var U=y.exec(Qe.slice(Xe));return U?(be.m=b[U[0].toLowerCase()],Xe+U[0].length):-1}function I(be,Qe,Xe){var U=c.exec(Qe.slice(Xe));return U?(be.m=_[U[0].toLowerCase()],Xe+U[0].length):-1}function H(be,Qe,Xe){return M(be,t,Qe,Xe)}function Y(be,Qe,Xe){return M(be,r,Qe,Xe)}function q(be,Qe,Xe){return M(be,n,Qe,Xe)}function G(be){return o[be.getDay()]}function $(be){return s[be.getDay()]}function j(be){return l[be.getMonth()]}function V(be){return u[be.getMonth()]}function X(be){return a[+(be.getHours()>=12)]}function Q(be){return 1+~~(be.getMonth()/3)}function te(be){return o[be.getUTCDay()]}function we(be){return s[be.getUTCDay()]}function Pe(be){return l[be.getUTCMonth()]}function xe(be){return u[be.getUTCMonth()]}function Fe(be){return a[+(be.getUTCHours()>=12)]}function Ae(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Qe=f(be+="",C);return Qe.toString=function(){return be},Qe},parse:function(be){var Qe=D(be+="",!1);return Qe.toString=function(){return be},Qe},utcFormat:function(be){var Qe=f(be+="",E);return Qe.toString=function(){return be},Qe},utcParse:function(be){var Qe=D(be+="",!0);return Qe.toString=function(){return be},Qe}}}function Lr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function n7(e){return e.replace(r7,"\\$&")}function th(e){return new RegExp("^(?:"+e.map(n7).join("|")+")","i")}function rh(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function i7(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function a7(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function s7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function o7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function l7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function a4(e,t,r){var n=Rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function s4(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function u7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function f7(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function d7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function o4(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function c7(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function l4(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function h7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function m7(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function g7(e,t,r){var n=Rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function v7(e,t,r){var n=t7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function _7(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function b7(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function u4(e,t){return Lr(e.getDate(),t,2)}function y7(e,t){return Lr(e.getHours(),t,2)}function x7(e,t){return Lr(e.getHours()%12||12,t,2)}function w7(e,t){return Lr(1+Pm.count(Jl(e),e),t,3)}function p4(e,t){return Lr(e.getMilliseconds(),t,3)}function S7(e,t){return p4(e,t)+"000"}function C7(e,t){return Lr(e.getMonth()+1,t,2)}function E7(e,t){return Lr(e.getMinutes(),t,2)}function D7(e,t){return Lr(e.getSeconds(),t,2)}function M7(e){var t=e.getDay();return t===0?7:t}function A7(e,t){return Lr(qc.count(Jl(e)-1,e),t,2)}function m4(e){var t=e.getDay();return t>=4||t===0?Xo(e):Xo.ceil(e)}function T7(e,t){return e=m4(e),Lr(Xo.count(Jl(e),e)+(Jl(e).getDay()===4),t,2)}function L7(e){return e.getDay()}function O7(e,t){return Lr(Mf.count(Jl(e)-1,e),t,2)}function k7(e,t){return Lr(e.getFullYear()%100,t,2)}function N7(e,t){return e=m4(e),Lr(e.getFullYear()%100,t,2)}function P7(e,t){return Lr(e.getFullYear()%1e4,t,4)}function I7(e,t){var r=e.getDay();return e=r>=4||r===0?Xo(e):Xo.ceil(e),Lr(e.getFullYear()%1e4,t,4)}function z7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lr(t/60|0,"0",2)+Lr(t%60,"0",2)}function f4(e,t){return Lr(e.getUTCDate(),t,2)}function F7(e,t){return Lr(e.getUTCHours(),t,2)}function B7(e,t){return Lr(e.getUTCHours()%12||12,t,2)}function U7(e,t){return Lr(1+Im.count(tu(e),e),t,3)}function g4(e,t){return Lr(e.getUTCMilliseconds(),t,3)}function R7(e,t){return g4(e,t)+"000"}function j7(e,t){return Lr(e.getUTCMonth()+1,t,2)}function W7(e,t){return Lr(e.getUTCMinutes(),t,2)}function G7(e,t){return Lr(e.getUTCSeconds(),t,2)}function H7(e){var t=e.getUTCDay();return t===0?7:t}function V7(e,t){return Lr(Jc.count(tu(e)-1,e),t,2)}function v4(e){var t=e.getUTCDay();return t>=4||t===0?$o(e):$o.ceil(e)}function Y7(e,t){return e=v4(e),Lr($o.count(tu(e),e)+(tu(e).getUTCDay()===4),t,2)}function K7(e){return e.getUTCDay()}function Z7(e,t){return Lr(Af.count(tu(e)-1,e),t,2)}function X7(e,t){return Lr(e.getUTCFullYear()%100,t,2)}function $7(e,t){return e=v4(e),Lr(e.getUTCFullYear()%100,t,2)}function Q7(e,t){return Lr(e.getUTCFullYear()%1e4,t,4)}function q7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?$o(e):$o.ceil(e),Lr(e.getUTCFullYear()%1e4,t,4)}function J7(){return"+0000"}function d4(){return"%"}function c4(e){return+e}function h4(e){return Math.floor(+e/1e3)}var i4,Rn,t7,r7,_4=ae(()=>{yx();i4={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,t7=/^%/,r7=/[\\^$*+?|[\]().{}]/g});function Cx(e){return Tf=Sx(e),b4=Tf.format,y4=Tf.parse,x4=Tf.utcFormat,w4=Tf.utcParse,Tf}var Tf,b4,y4,x4,w4,S4=ae(()=>{_4();Cx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var C4=ae(()=>{S4()});var eF,tF,rF,Ex,aJ,sJ,oJ,Dx=ae(()=>{vi();Ko();ro();yi();mx();eF=1e3,tF=eF*60,rF=tF*60,Ex=rF*24,aJ=Ex*7,sJ=Ex*30,oJ=Ex*365});var E4=ae(()=>{Dx();yi()});var Mx=ae(()=>{ro();yi();Zo();Am();Tm();Lm()});var M4=ae(()=>{vi();ro();yi()});var A4=ae(()=>{ro();yi();Zo();Am();Mx();Tm();Lm()});var T4=ae(()=>{OT();zT();Zo();Am();Tm();ux();Lm();FT();BT();UT();Dx();E4();Mx();M4();A4();px()});var L4=ae(()=>{});function bs(e){return function(){return e}}var Ax=ae(()=>{});var zm,yee,O4,k4=ae(()=>{zm=Math.PI,yee=zm/2,O4=2*zm});function N4(e){this._context=e}function nh(e){return new N4(e)}var Tx=ae(()=>{N4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function P4(e){return e[0]}function I4(e){return e[1]}var z4=ae(()=>{});function Fm(){var e=P4,t=I4,r=bs(!0),n=null,a=nh,s=null;function o(u){var l,g=u.length,h,v=!1,x;for(n==null&&(s=a(x=Kc())),l=0;l<=g;++l)!(l<g&&r(h=u[l],l,u))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(h,l,u),+t(h,l,u));if(x)return s=null,x+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:bs(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:bs(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:bs(!!u),o):r},o.curve=function(u){return arguments.length?(a=u,n!=null&&(s=a(n)),o):a},o.context=function(u){return arguments.length?(u==null?n=s=null:s=a(n=u),o):n},o}var F4=ae(()=>{gm();Ax();Tx();z4()});var B4,U4=ae(()=>{k4();B4={draw:function(e,t){var r=Math.sqrt(t/zm);e.moveTo(r,0),e.arc(0,0,r,0,O4)}}});var Lx,R4=ae(()=>{Lx={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}}});function Ox(){var e=bs(B4),t=bs(64),r=null;function n(){var a;if(r||(r=a=Kc()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return n.type=function(a){return arguments.length?(e=typeof a=="function"?a:bs(a),n):e},n.size=function(a){return arguments.length?(t=typeof a=="function"?a:bs(+a),n):t},n.context=function(a){return arguments.length?(r=a??null,n):r},n}var j4=ae(()=>{gm();U4();Ax()});function W4(e){return e<0?-1:1}function G4(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),u=(s*a+o*n)/(n+a);return(W4(s)+W4(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function H4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function kx(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,o-u*r,s,o)}function Bm(e){this._context=e}function sF(e){this._context=new V4(e)}function V4(e){this._context=e}function Nx(e){return new Bm(e)}var Y4=ae(()=>{Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kx(this,this._t0,H4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kx(this,H4(this,r=G4(this,e,t)),r);break;default:kx(this,this._t0,r=G4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};(sF.prototype=Object.create(Bm.prototype)).point=function(e,t){Bm.prototype.point.call(this,t,e)};V4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}}});var K4=ae(()=>{F4();j4();R4();Tx();Y4()});var Z4=ae(()=>{});var X4=ae(()=>{});function Px(){this._=null}function Lf(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ih(e,t){var r=t,n=t.R,a=r.U;a?a.L===r?a.L=n:a.R=n:e._=n,n.U=a,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function ah(e,t){var r=t,n=t.L,a=r.U;a?a.L===r?a.L=n:a.R=n:e._=n,n.U=a,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function $4(e){for(;e.L;)e=e.L;return e}var Ix,Um=ae(()=>{Px.prototype={constructor:Px,insert:function(e,t){var r,n,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;r=e}else this._?(e=$4(this._),t.P=null,t.N=e,e.P=e.L=t,r=e):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,e=t;r&&r.C;)n=r.U,r===n.L?(a=n.R,a&&a.C?(r.C=a.C=!1,n.C=!0,e=n):(e===r.R&&(ih(this,r),e=r,r=e.U),r.C=!1,n.C=!0,ah(this,n))):(a=n.L,a&&a.C?(r.C=a.C=!1,n.C=!0,e=n):(e===r.L&&(ah(this,r),e=r,r=e.U),r.C=!1,n.C=!0,ih(this,n))),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,r,n=e.L,a=e.R,s,o;if(n?a?s=$4(a):s=n:s=a,t?t.L===e?t.L=s:t.R=s:this._=s,n&&a?(o=s.C,s.C=e.C,s.L=n,n.U=s,s!==a?(t=s.U,s.U=e.U,e=s.R,t.L=e,s.R=a,a.U=s):(s.U=t,t=s,e=s.R)):(o=e.C,e=s),e&&(e.U=t),!o){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(r=t.R,r.C&&(r.C=!1,t.C=!0,ih(this,t),r=t.R),r.L&&r.L.C||r.R&&r.R.C){(!r.R||!r.R.C)&&(r.L.C=!1,r.C=!0,ah(this,r),r=t.R),r.C=t.C,t.C=r.R.C=!1,ih(this,t),e=this._;break}}else if(r=t.L,r.C&&(r.C=!1,t.C=!0,ah(this,t),r=t.L),r.L&&r.L.C||r.R&&r.R.C){(!r.L||!r.L.C)&&(r.R.C=!1,r.C=!0,ih(this,r),r=t.L),r.C=t.C,t.C=r.L.C=!1,ah(this,t),e=this._;break}r.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};Ix=Px});function Of(e,t,r,n){var a=[null,null],s=jn.push(a)-1;return a.left=e,a.right=t,r&&sh(a,e,t,r),n&&sh(a,t,e,n),xi[e.index].halfedges.push(s),xi[t.index].halfedges.push(s),a}function kf(e,t,r){var n=[t,r];return n.left=e,n}function sh(e,t,r,n){!e[0]&&!e[1]?(e[0]=n,e.left=t,e.right=r):e.left===r?e[1]=n:e[0]=n}function oF(e,t,r,n,a){var s=e[0],o=e[1],u=s[0],l=s[1],g=o[0],h=o[1],v=0,x=1,S=g-u,w=h-l,c;if(c=t-u,!(!S&&c>0)){if(c/=S,S<0){if(c<v)return;c<x&&(x=c)}else if(S>0){if(c>x)return;c>v&&(v=c)}if(c=n-u,!(!S&&c<0)){if(c/=S,S<0){if(c>x)return;c>v&&(v=c)}else if(S>0){if(c<v)return;c<x&&(x=c)}if(c=r-l,!(!w&&c>0)){if(c/=w,w<0){if(c<v)return;c<x&&(x=c)}else if(w>0){if(c>x)return;c>v&&(v=c)}if(c=a-l,!(!w&&c<0)){if(c/=w,w<0){if(c>x)return;c>v&&(v=c)}else if(w>0){if(c<v)return;c<x&&(x=c)}return!(v>0)&&!(x<1)||(v>0&&(e[0]=[u+v*S,l+v*w]),x<1&&(e[1]=[u+x*S,l+x*w])),!0}}}}}function lF(e,t,r,n,a){var s=e[1];if(s)return!0;var o=e[0],u=e.left,l=e.right,g=u[0],h=u[1],v=l[0],x=l[1],S=(g+v)/2,w=(h+x)/2,c,_;if(x===h){if(S<t||S>=n)return;if(g>v){if(!o)o=[S,r];else if(o[1]>=a)return;s=[S,a]}else{if(!o)o=[S,a];else if(o[1]<r)return;s=[S,r]}}else if(c=(g-v)/(x-h),_=w-c*S,c<-1||c>1)if(g>v){if(!o)o=[(r-_)/c,r];else if(o[1]>=a)return;s=[(a-_)/c,a]}else{if(!o)o=[(a-_)/c,a];else if(o[1]<r)return;s=[(r-_)/c,r]}else if(h<x){if(!o)o=[t,c*t+_];else if(o[0]>=n)return;s=[n,c*n+_]}else{if(!o)o=[n,c*n+_];else if(o[0]<t)return;s=[t,c*t+_]}return e[0]=o,e[1]=s,!0}function Q4(e,t,r,n){for(var a=jn.length,s;a--;)(!lF(s=jn[a],e,t,r,n)||!oF(s,e,t,r,n)||!(Math.abs(s[0][0]-s[1][0])>jr||Math.abs(s[0][1]-s[1][1])>jr))&&delete jn[a]}var Rm=ae(()=>{Nf()});function q4(e){return xi[e.index]={site:e,halfedges:[]}}function uF(e,t){var r=e.site,n=t.left,a=t.right;return r===a&&(a=n,n=r),a?Math.atan2(a[1]-n[1],a[0]-n[0]):(r===n?(n=t[1],a=t[0]):(n=t[0],a=t[1]),Math.atan2(n[0]-a[0],a[1]-n[1]))}function zx(e,t){return t[+(t.left!==e.site)]}function fF(e,t){return t[+(t.left===e.site)]}function J4(){for(var e=0,t=xi.length,r,n,a,s;e<t;++e)if((r=xi[e])&&(s=(n=r.halfedges).length)){var o=new Array(s),u=new Array(s);for(a=0;a<s;++a)o[a]=a,u[a]=uF(r,jn[n[a]]);for(o.sort(function(l,g){return u[g]-u[l]}),a=0;a<s;++a)u[a]=n[o[a]];for(a=0;a<s;++a)n[a]=u[a]}}function e6(e,t,r,n){var a=xi.length,s,o,u,l,g,h,v,x,S,w,c,_,y=!0;for(s=0;s<a;++s)if(o=xi[s]){for(u=o.site,g=o.halfedges,l=g.length;l--;)jn[g[l]]||g.splice(l,1);for(l=0,h=g.length;l<h;)w=fF(o,jn[g[l]]),c=w[0],_=w[1],v=zx(o,jn[g[++l%h]]),x=v[0],S=v[1],(Math.abs(c-x)>jr||Math.abs(_-S)>jr)&&(g.splice(l,0,jn.push(kf(u,w,Math.abs(c-e)<jr&&n-_>jr?[e,Math.abs(x-e)<jr?S:n]:Math.abs(_-n)<jr&&r-c>jr?[Math.abs(S-n)<jr?x:r,n]:Math.abs(c-r)<jr&&_-t>jr?[r,Math.abs(x-r)<jr?S:t]:Math.abs(_-t)<jr&&c-e>jr?[Math.abs(S-t)<jr?x:e,t]:null))-1),++h);h&&(y=!1)}if(y){var b,C,E,p=1/0;for(s=0,y=null;s<a;++s)(o=xi[s])&&(u=o.site,b=u[0]-e,C=u[1]-t,E=b*b+C*C,E<p&&(p=E,y=o));if(y){var f=[e,t],D=[e,n],M=[r,n],N=[r,t];y.halfedges.push(jn.push(kf(u=y.site,f,D))-1,jn.push(kf(u,D,M))-1,jn.push(kf(u,M,N))-1,jn.push(kf(u,N,f))-1)}}for(s=0;s<a;++s)(o=xi[s])&&(o.halfedges.length||delete xi[s])}var Fx=ae(()=>{Rm();Nf()});function dF(){Lf(this),this.x=this.y=this.arc=this.site=this.cy=null}function ru(e){var t=e.P,r=e.N;if(!(!t||!r)){var n=t.site,a=e.site,s=r.site;if(n!==s){var o=a[0],u=a[1],l=n[0]-o,g=n[1]-u,h=s[0]-o,v=s[1]-u,x=2*(l*v-g*h);if(!(x>=-r6)){var S=l*l+g*g,w=h*h+v*v,c=(v*S-g*w)/x,_=(l*w-h*S)/x,y=t6.pop()||new dF;y.arc=e,y.site=a,y.x=c+o,y.y=(y.cy=_+u)+Math.sqrt(c*c+_*_),e.circle=y;for(var b=null,C=Pf._;C;)if(y.y<C.y||y.y===C.y&&y.x<=C.x)if(C.L)C=C.L;else{b=C.P;break}else if(C.R)C=C.R;else{b=C;break}Pf.insert(b,y),b||(jm=y)}}}}function nu(e){var t=e.circle;t&&(t.P||(jm=t.N),Pf.remove(t),t6.push(t),Lf(t),e.circle=null)}var t6,jm,Bx=ae(()=>{Um();Nf();t6=[]});function cF(){Lf(this),this.edge=this.site=this.circle=null}function n6(e){var t=i6.pop()||new cF;return t.site=e,t}function Ux(e){nu(e),iu.remove(e),i6.push(e),Lf(e)}function a6(e){var t=e.circle,r=t.x,n=t.cy,a=[r,n],s=e.P,o=e.N,u=[e];Ux(e);for(var l=s;l.circle&&Math.abs(r-l.circle.x)<jr&&Math.abs(n-l.circle.cy)<jr;)s=l.P,u.unshift(l),Ux(l),l=s;u.unshift(l),nu(l);for(var g=o;g.circle&&Math.abs(r-g.circle.x)<jr&&Math.abs(n-g.circle.cy)<jr;)o=g.N,u.push(g),Ux(g),g=o;u.push(g),nu(g);var h=u.length,v;for(v=1;v<h;++v)g=u[v],l=u[v-1],sh(g.edge,l.site,g.site,a);l=u[0],g=u[h-1],g.edge=Of(l.site,g.site,null,a),ru(l),ru(g)}function s6(e){for(var t=e[0],r=e[1],n,a,s,o,u=iu._;u;)if(s=o6(u,r)-t,s>jr)u=u.L;else if(o=t-hF(u,r),o>jr){if(!u.R){n=u;break}u=u.R}else{s>-jr?(n=u.P,a=u):o>-jr?(n=u,a=u.N):n=a=u;break}q4(e);var l=n6(e);if(iu.insert(n,l),!(!n&&!a)){if(n===a){nu(n),a=n6(n.site),iu.insert(l,a),l.edge=a.edge=Of(n.site,l.site),ru(n),ru(a);return}if(!a){l.edge=Of(n.site,l.site);return}nu(n),nu(a);var g=n.site,h=g[0],v=g[1],x=e[0]-h,S=e[1]-v,w=a.site,c=w[0]-h,_=w[1]-v,y=2*(x*_-S*c),b=x*x+S*S,C=c*c+_*_,E=[(_*b-S*C)/y+h,(x*C-c*b)/y+v];sh(a.edge,g,w,E),l.edge=Of(g,e,null,E),a.edge=Of(e,w,null,E),ru(n),ru(a)}}function o6(e,t){var r=e.site,n=r[0],a=r[1],s=a-t;if(!s)return n;var o=e.P;if(!o)return-1/0;r=o.site;var u=r[0],l=r[1],g=l-t;if(!g)return u;var h=u-n,v=1/s-1/g,x=h/g;return v?(-x+Math.sqrt(x*x-2*v*(h*h/(-2*g)-l+g/2+a-s/2)))/v+n:(n+u)/2}function hF(e,t){var r=e.N;if(r)return o6(r,t);var n=e.site;return n[1]===t?n[0]:1/0}var i6,l6=ae(()=>{Um();Fx();Bx();Rm();Nf();i6=[]});function pF(e,t,r){return(e[0]-r[0])*(t[1]-e[1])-(e[0]-t[0])*(r[1]-e[1])}function mF(e,t){return t[1]-e[1]||t[0]-e[0]}function Wm(e,t){var r=e.sort(mF).pop(),n,a,s;for(jn=[],xi=new Array(e.length),iu=new Ix,Pf=new Ix;;)if(s=jm,r&&(!s||r[1]<s.y||r[1]===s.y&&r[0]<s.x))(r[0]!==n||r[1]!==a)&&(s6(r),n=r[0],a=r[1]),r=e.pop();else if(s)a6(s.arc);else break;if(J4(),t){var o=+t[0][0],u=+t[0][1],l=+t[1][0],g=+t[1][1];Q4(o,u,l,g),e6(o,u,l,g)}this.edges=jn,this.cells=xi,iu=Pf=jn=xi=null}var jr,r6,iu,xi,Pf,jn,Nf=ae(()=>{l6();Fx();Bx();Rm();Um();jr=1e-6,r6=1e-12;Wm.prototype={constructor:Wm,polygons:function(){var e=this.edges;return this.cells.map(function(t){var r=t.halfedges.map(function(n){return zx(t,e[n])});return r.data=t.site.data,r})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(r,n){if(u=(s=r.halfedges).length)for(var a=r.site,s,o=-1,u,l,g=t[s[u-1]],h=g.left===a?g.right:g.left;++o<u;)l=h,g=t[s[o]],h=g.left===a?g.right:g.left,l&&h&&n<l.index&&n<h.index&&pF(a,l,h)<0&&e.push([a.data,l.data,h.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,r){for(var n=this,a,s=n._found||0,o=n.cells.length,u;!(u=n.cells[s]);)if(++s>=o)return null;var l=e-u.site[0],g=t-u.site[1],h=l*l+g*g;do u=n.cells[a=s],s=null,u.halfedges.forEach(function(v){var x=n.edges[v],S=x.left;if(!((S===u.site||!S)&&!(S=x.right))){var w=e-S[0],c=t-S[1],_=w*w+c*c;_<h&&(h=_,s=S.index)}});while(s!==null);return n._found=a,r==null||h<=r*r?u.site:null}}});var u6=ae(()=>{Z4();X4();Nf()});var f6=ae(()=>{u6()});var d6=ae(()=>{});var c6=ae(()=>{});function au(e,t,r){this.k=e,this.x=t,this.y=r}function jx(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Rx;return e.__zoom}var Rx,Wx=ae(()=>{au.prototype={constructor:au,scale:function(e){return e===1?this:new au(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new au(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Rx=new au(1,0,0);jx.prototype=au.prototype});var h6=ae(()=>{});var p6=ae(()=>{Gl();d6();c6();Wx();h6()});var m6=ae(()=>{p6();Wx()});var If=ae(()=>{NE();vi();aD();wA();LA();Ef();Go();HA();qb();AM();VA();zy();YA();rT();nx();wT();ST();gs();gm();CT();ZA();TT();T4();L4();pa();K4();yx();C4();um();Gl();f6();m6()});var g6=ae(()=>{});var Hm,Vm,Ym=ae(()=>{Hm="http://www.w3.org/1999/xhtml",Vm={svg:"http://www.w3.org/2000/svg",xhtml:Hm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function oh(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Vm.hasOwnProperty(t)?{space:Vm[t],local:e}:e}var Km=ae(()=>{Ym()});function gF(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Hm&&t.documentElement.namespaceURI===Hm?t.createElement(e):t.createElementNS(r,e)}}function vF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function lh(e){var t=oh(e);return(t.local?vF:gF)(t)}var Zm=ae(()=>{Km();Ym()});function Hx(){return new Gx}function Gx(){this._="@"+(++_F).toString(36)}var _F,v6=ae(()=>{_F=0;Gx.prototype=Hx.prototype={constructor:Gx,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});var b6,zf,_6,Vx,Yx=ae(()=>{b6=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(zf=document.documentElement,zf.matches||(_6=zf.webkitMatchesSelector||zf.msMatchesSelector||zf.mozMatchesSelector||zf.oMatchesSelector,b6=function(e){return function(){return _6.call(this,e)}}));Vx=b6});function bF(e,t,r){return e=w6(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function w6(e,t,r){return function(n){var a=uh;uh=n;try{e.call(this,this.__data__,t,r)}finally{uh=a}}}function yF(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function xF(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.capture):t[++n]=s;++n?t.length=n:delete this.__on}}}function wF(e,t,r){var n=x6.hasOwnProperty(e.type)?bF:w6;return function(a,s,o){var u=this.__on,l,g=n(t,s,o);if(u){for(var h=0,v=u.length;h<v;++h)if((l=u[h]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=g,l.capture=r),l.value=t;return}}this.addEventListener(e.type,g,r),l={type:e.type,name:e.name,value:t,listener:g,capture:r},u?u.push(l):this.__on=[l]}}function S6(e,t,r){var n=yF(e+""),a,s=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,g=u.length,h;l<g;++l)for(a=0,h=u[l];a<s;++a)if((o=n[a]).type===h.type&&o.name===h.name)return h.value}return}for(u=t?wF:xF,r==null&&(r=!1),a=0;a<s;++a)this.each(u(n[a],t,r));return this}var x6,uh,y6,Xm=ae(()=>{x6={},uh=null;typeof document<"u"&&(y6=document.documentElement,"onmouseenter"in y6||(x6={mouseenter:"mouseover",mouseleave:"mouseout"}))});var $m=ae(()=>{Xm()});var Qm=ae(()=>{});var D6=ae(()=>{$m();Qm()});function SF(){}function fh(e){return e==null?SF:function(){return this.querySelector(e)}}var qm=ae(()=>{});function M6(e){typeof e!="function"&&(e=fh(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=new Array(o),l,g,h=0;h<o;++h)(l=s[h])&&(g=e.call(l,l.__data__,h,s))&&("__data__"in l&&(g.__data__=l.__data__),u[h]=g);return new ln(n,this._parents)}var A6=ae(()=>{_a();qm()});function CF(){return[]}function Kx(e){return e==null?CF:function(){return this.querySelectorAll(e)}}var Zx=ae(()=>{});function T6(e){typeof e!="function"&&(e=Kx(e));for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var o=t[s],u=o.length,l,g=0;g<u;++g)(l=o[g])&&(n.push(e.call(l,l.__data__,g,o)),a.push(l));return new ln(n,a)}var L6=ae(()=>{_a();Zx()});function O6(e){typeof e!="function"&&(e=Vx(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,u=n[a]=[],l,g=0;g<o;++g)(l=s[g])&&e.call(l,l.__data__,g,s)&&u.push(l);return new ln(n,this._parents)}var k6=ae(()=>{_a();Yx()});function Jm(e){return new Array(e.length)}var Xx=ae(()=>{});function N6(){return new ln(this._enter||this._groups.map(Jm),this._parents)}function dh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var $x=ae(()=>{Xx();_a();dh.prototype={constructor:dh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function P6(e){return function(){return e}}var I6=ae(()=>{});function EF(e,t,r,n,a,s){for(var o=0,u,l=t.length,g=s.length;o<g;++o)(u=t[o])?(u.__data__=s[o],n[o]=u):r[o]=new dh(e,s[o]);for(;o<l;++o)(u=t[o])&&(a[o]=u)}function DF(e,t,r,n,a,s,o){var u,l,g={},h=t.length,v=s.length,x=new Array(h),S;for(u=0;u<h;++u)(l=t[u])&&(x[u]=S=z6+o.call(l,l.__data__,u,t),S in g?a[u]=l:g[S]=l);for(u=0;u<v;++u)S=z6+o.call(e,s[u],u,s),(l=g[S])?(n[u]=l,l.__data__=s[u],g[S]=null):r[u]=new dh(e,s[u]);for(u=0;u<h;++u)(l=t[u])&&g[x[u]]===l&&(a[u]=l)}function F6(e,t){if(!e)return S=new Array(this.size()),g=-1,this.each(function(f){S[++g]=f}),S;var r=t?DF:EF,n=this._parents,a=this._groups;typeof e!="function"&&(e=P6(e));for(var s=a.length,o=new Array(s),u=new Array(s),l=new Array(s),g=0;g<s;++g){var h=n[g],v=a[g],x=v.length,S=e.call(h,h&&h.__data__,g,n),w=S.length,c=u[g]=new Array(w),_=o[g]=new Array(w),y=l[g]=new Array(x);r(h,v,c,_,y,S,t);for(var b=0,C=0,E,p;b<w;++b)if(E=c[b]){for(b>=C&&(C=b+1);!(p=_[C])&&++C<w;);E._next=p||null}}return o=new ln(o,n),o._enter=u,o._exit=l,o}var z6,B6=ae(()=>{_a();$x();I6();z6="$"});function U6(){return new ln(this._exit||this._groups.map(Jm),this._parents)}var R6=ae(()=>{Xx();_a()});function j6(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),u=0;u<s;++u)for(var l=t[u],g=r[u],h=l.length,v=o[u]=new Array(h),x,S=0;S<h;++S)(x=l[S]||g[S])&&(v[S]=x);for(;u<n;++u)o[u]=t[u];return new ln(o,this._parents)}var W6=ae(()=>{_a()});function G6(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],o;--a>=0;)(o=n[a])&&(s&&s!==o.nextSibling&&s.parentNode.insertBefore(o,s),s=o);return this}var H6=ae(()=>{});function V6(e){e||(e=MF);function t(v,x){return v&&x?e(v.__data__,x.__data__):!v-!x}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var o=r[s],u=o.length,l=a[s]=new Array(u),g,h=0;h<u;++h)(g=o[h])&&(l[h]=g);l.sort(t)}return new ln(a,this._parents).order()}function MF(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Y6=ae(()=>{_a()});function K6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var Z6=ae(()=>{});function X6(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}var $6=ae(()=>{});function Q6(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null}var q6=ae(()=>{});function J6(){var e=0;return this.each(function(){++e}),e}var e8=ae(()=>{});function t8(){return!this.node()}var r8=ae(()=>{});function n8(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length,u;s<o;++s)(u=a[s])&&e.call(u,u.__data__,s,a);return this}var i8=ae(()=>{});function AF(e){return function(){this.removeAttribute(e)}}function TF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function LF(e,t){return function(){this.setAttribute(e,t)}}function OF(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function kF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function NF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function a8(e,t){var r=oh(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?TF:AF:typeof t=="function"?r.local?NF:kF:r.local?OF:LF)(r,t))}var s8=ae(()=>{Km()});function ch(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var eg=ae(()=>{});function PF(e){return function(){this.style.removeProperty(e)}}function IF(e,t,r){return function(){this.style.setProperty(e,t,r)}}function zF(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function o8(e,t,r){var n;return arguments.length>1?this.each((t==null?PF:typeof t=="function"?zF:IF)(e,t,r??"")):ch(n=this.node()).getComputedStyle(n,null).getPropertyValue(e)}var l8=ae(()=>{eg()});function FF(e){return function(){delete this[e]}}function BF(e,t){return function(){this[e]=t}}function UF(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function u8(e,t){return arguments.length>1?this.each((t==null?FF:typeof t=="function"?UF:BF)(e,t)):this.node()[e]}var f8=ae(()=>{});function d8(e){return e.trim().split(/^|\s+/)}function Qx(e){return e.classList||new c8(e)}function c8(e){this._node=e,this._names=d8(e.getAttribute("class")||"")}function h8(e,t){for(var r=Qx(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function p8(e,t){for(var r=Qx(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function RF(e){return function(){h8(this,e)}}function jF(e){return function(){p8(this,e)}}function WF(e,t){return function(){(t.apply(this,arguments)?h8:p8)(this,e)}}function m8(e,t){var r=d8(e+"");if(arguments.length<2){for(var n=Qx(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?WF:t?RF:jF)(r,t))}var g8=ae(()=>{c8.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function GF(){this.textContent=""}function HF(e){return function(){this.textContent=e}}function VF(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function v8(e){return arguments.length?this.each(e==null?GF:(typeof e=="function"?VF:HF)(e)):this.node().textContent}var _8=ae(()=>{});function YF(){this.innerHTML=""}function KF(e){return function(){this.innerHTML=e}}function ZF(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function b8(e){return arguments.length?this.each(e==null?YF:(typeof e=="function"?ZF:KF)(e)):this.node().innerHTML}var y8=ae(()=>{});function XF(){this.nextSibling&&this.parentNode.appendChild(this)}function x8(){return this.each(XF)}var w8=ae(()=>{});function $F(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S8(){return this.each($F)}var C8=ae(()=>{});function E8(e){var t=typeof e=="function"?e:lh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var D8=ae(()=>{Zm()});function QF(){return null}function M8(e,t){var r=typeof e=="function"?e:lh(e),n=t==null?QF:typeof t=="function"?t:fh(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var A8=ae(()=>{Zm();qm()});function qF(){var e=this.parentNode;e&&e.removeChild(this)}function T8(){return this.each(qF)}var L8=ae(()=>{});function O8(e){return arguments.length?this.property("__data__",e):this.node().__data__}var k8=ae(()=>{});function N8(e,t,r){var n=ch(e),a=n.CustomEvent;a?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function JF(e,t){return function(){return N8(this,e,t)}}function eB(e,t){return function(){return N8(this,e,t.apply(this,arguments))}}function P8(e,t){return this.each((typeof t=="function"?eB:JF)(e,t))}var I8=ae(()=>{eg()});function ln(e,t){this._groups=e,this._parents=t}function tB(){return new ln([[document.documentElement]],tg)}var tg,_a=ae(()=>{A6();L6();k6();B6();$x();R6();W6();H6();Y6();Z6();$6();q6();e8();r8();i8();s8();l8();f8();g8();_8();y8();w8();C8();D8();A8();L8();k8();Xm();I8();tg=[null];ln.prototype=tB.prototype={constructor:ln,select:M6,selectAll:T6,filter:O6,data:F6,enter:N6,exit:U6,merge:j6,order:G6,sort:V6,call:K6,nodes:X6,node:Q6,size:J6,empty:t8,each:n8,attr:a8,style:o8,property:u8,classed:m8,text:v8,html:b8,raise:x8,lower:S8,append:E8,insert:M8,remove:T8,datum:O8,on:S6,dispatch:P8}});function qx(e){return typeof e=="string"?new ln([[document.querySelector(e)]],[document.documentElement]):new ln([[e]],tg)}var z8=ae(()=>{_a()});var F8=ae(()=>{_a()});var B8=ae(()=>{$m();Qm()});var U8=ae(()=>{$m();Qm()});var R8=ae(()=>{Zm();v6();Yx();D6();Km();Ym();z8();F8();_a();qm();Zx();B8();U8();eg();Xm()});function su(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var rg=ae(()=>{});function ys(e){return e=su(Math.abs(e)),e?e[1]:NaN}var hh=ae(()=>{rg()});function j8(e,t){return function(r,n){for(var a=r.length,s=[],o=0,u=e[0],l=0;a>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),s.push(r.substring(a-=u,a+u)),!((l+=u+1)>n));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}var W8=ae(()=>{});function G8(e,t){e=e.toPrecision(t);e:for(var r=e.length,n=1,a=-1,s;n<r;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;case"e":break e;default:a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var H8=ae(()=>{});function V8(e,t){var r=su(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Jx=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+su(e,Math.max(0,t+s-1))[0]}var Jx,ew=ae(()=>{rg()});function tw(e,t){var r=su(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var Y8=ae(()=>{rg()});var ng,rw=ae(()=>{H8();ew();Y8();ng={"":G8,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return tw(e*100,t)},r:tw,s:V8,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}});function xs(e){return new K8(e)}function K8(e){if(!(t=rB.exec(e)))throw new Error("invalid format: "+e);var t,r=t[1]||" ",n=t[2]||">",a=t[3]||"-",s=t[4]||"",o=!!t[5],u=t[6]&&+t[6],l=!!t[7],g=t[8]&&+t[8].slice(1),h=t[9]||"";h==="n"?(l=!0,h="g"):ng[h]||(h=""),(o||r==="0"&&n==="=")&&(o=!0,r="0",n="="),this.fill=r,this.align=n,this.sign=a,this.symbol=s,this.zero=o,this.width=u,this.comma=l,this.precision=g,this.type=h}var rB,nw=ae(()=>{rw();rB=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;K8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type}});function nB(e){return e}function ou(e){var t=e.grouping&&e.thousands?j8(e.grouping,e.thousands):nB,r=e.currency,n=e.decimal;function a(o){o=xs(o);var u=o.fill,l=o.align,g=o.sign,h=o.symbol,v=o.zero,x=o.width,S=o.comma,w=o.precision,c=o.type,_=h==="$"?r[0]:h==="#"&&/[boxX]/.test(c)?"0"+c.toLowerCase():"",y=h==="$"?r[1]:/[%p]/.test(c)?"%":"",b=ng[c],C=!c||/[defgprs%]/.test(c);w=w==null?c?6:12:/[gprs]/.test(c)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(p){var f=_,D=y,M,N,O;if(c==="c")D=b(p)+D,p="";else{p=+p;var z=(p<0||1/p<0)&&(p*=-1,!0);if(p=b(p,w),z){for(M=-1,N=p.length,z=!1;++M<N;)if(O=p.charCodeAt(M),48<O&&O<58||c==="x"&&96<O&&O<103||c==="X"&&64<O&&O<71){z=!0;break}}if(f=(z?g==="("?g:"-":g==="-"||g==="("?"":g)+f,D=D+(c==="s"?Z8[8+Jx/3]:"")+(z&&g==="("?")":""),C){for(M=-1,N=p.length;++M<N;)if(O=p.charCodeAt(M),48>O||O>57){D=(O===46?n+p.slice(M+1):p.slice(M))+D,p=p.slice(0,M);break}}}S&&!v&&(p=t(p,1/0));var k=f.length+p.length+D.length,I=k<x?new Array(x-k+1).join(u):"";switch(S&&v&&(p=t(I+p,I.length?x-D.length:1/0),I=""),l){case"<":return f+p+D+I;case"=":return f+I+p+D;case"^":return I.slice(0,k=I.length>>1)+f+p+D+I.slice(k)}return I+f+p+D}return E.toString=function(){return o+""},E}function s(o,u){var l=a((o=xs(o),o.type="f",o)),g=Math.max(-8,Math.min(8,Math.floor(ys(u)/3)))*3,h=Math.pow(10,-g),v=Z8[8+g/3];return function(x){return l(h*x)+v}}return{format:a,formatPrefix:s}}var Z8,iw=ae(()=>{hh();W8();nw();rw();ew();Z8=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function aw(e){return ig=ou(e),lu=ig.format,Ff=ig.formatPrefix,ig}var ig,lu,Ff,X8=ae(()=>{iw();aw({decimal:".",thousands:",",grouping:[3],currency:["$",""]})});function sw(e){return Math.max(0,-ys(Math.abs(e)))}var $8=ae(()=>{hh()});function ow(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ys(t)/3)))*3-ys(Math.abs(e)))}var Q8=ae(()=>{hh()});function lw(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ys(t)-ys(e))+1}var q8=ae(()=>{hh()});var ag=ae(()=>{X8();iw();nw();$8();Q8();q8()});function eL(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new sg(r)}function sg(e){this._=e}function aB(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function sB(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function J8(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=iB,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var iB,ph,tL=ae(()=>{iB={value:function(){}};sg.prototype=eL.prototype={constructor:sg,on:function(e,t){var r=this._,n=aB(e+"",r),a,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((a=(e=n[s]).type)&&(a=sB(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=n[s]).type)r[a]=J8(r[a],e.name,t);else if(t==null)for(a in r)r[a]=J8(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new sg(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};ph=eL});var rL=ae(()=>{tL()});function no(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var uu=ae(()=>{});function og(e){return e.length===1&&(e=oB(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)<0?n=s+1:a=s}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var s=n+a>>>1;e(t[s],r)>0?a=s:n=s+1}return n}}}function oB(e){return function(t,r){return no(e(t),r)}}var uw=ae(()=>{uu()});var nL,iL,lB,fu,fw=ae(()=>{uu();uw();nL=og(no),iL=nL.right,lB=nL.left,fu=iL});var aL=ae(()=>{});var Bf=ae(()=>{});var dw=ae(()=>{Bf()});var cw=ae(()=>{dw()});var hw=ae(()=>{});var sL,fB,dB,pw=ae(()=>{sL=Array.prototype,fB=sL.slice,dB=sL.map});var oL=ae(()=>{});var lL=ae(()=>{});function ug(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}var mw=ae(()=>{});function mh(e,t,r){var n=Qo(e,t,r);return ug(Math.ceil(e/n)*n,Math.floor(t/n)*n+n/2,n)}function Qo(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=cB?a*=10:s>=hB?a*=5:s>=pB&&(a*=2),t<e?-a:a}var cB,hB,pB,gw=ae(()=>{mw();cB=Math.sqrt(50),hB=Math.sqrt(10),pB=Math.sqrt(2)});var vw=ae(()=>{});var uL=ae(()=>{pw();fw();oL();hw();lL();gw();vw()});var fg=ae(()=>{Bf()});var fL=ae(()=>{pw();uu();Bf();fg()});var dL=ae(()=>{cw()});function Uf(e,t){var r=-1,n=e.length,a,s;if(t==null){for(;++r<n;)if((s=e[r])!=null&&s>=s){a=s;break}for(;++r<n;)(s=e[r])!=null&&s>a&&(a=s)}else{for(;++r<n;)if((s=t(e[r],r,e))!=null&&s>=s){a=s;break}for(;++r<n;)(s=t(e[r],r,e))!=null&&s>a&&(a=s)}return a}var cL=ae(()=>{});var hL=ae(()=>{Bf()});var pL=ae(()=>{uu();Bf();fg()});var mL=ae(()=>{});var bw=ae(()=>{});var gL=ae(()=>{});var vL=ae(()=>{});var _L=ae(()=>{uu()});var bL=ae(()=>{});function Rf(e,t){var r=0,n=e.length,a,s=-1;if(t==null)for(;++s<n;)(a=+e[s])&&(r+=a);else for(;++s<n;)(a=+t(e[s],s,e))&&(r+=a);return r}var yL=ae(()=>{});var yw=ae(()=>{bw()});var xL=ae(()=>{yw()});var Za=ae(()=>{fw();uu();uw();aL();cw();hw();uL();fL();dL();vw();cL();hL();pL();mL();bw();gL();vL();fg();mw();_L();bL();yL();gw();yw();dw();xL()});var wL,dg,du,qo=ae(()=>{wL=Array.prototype,dg=wL.map,du=wL.slice});var xw=ae(()=>{Ef();qo()});var SL=ae(()=>{Za();xw()});function cg(e){return function(){return e}}var hg=ae(()=>{});function ww(e){return+e}var Sw=ae(()=>{});function pg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cg(t)}function xB(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=t?0:a>=r?1:n(a)}}}function wB(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=0?t:a>=1?r:n(a)}}}function SB(e,t,r,n){var a=e[0],s=e[1],o=t[0],u=t[1];return s<a?(a=r(s,a),o=n(u,o)):(a=r(a,s),o=n(o,u)),function(l){return o(a(l))}}function CB(e,t,r,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),o=new Array(a),u=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<a;)s[u]=r(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(l){var g=fu(e,l,1,a)-1;return o[g](s[g](l))}}function gh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function jf(e,t){var r=CL,n=CL,a=eo,s=!1,o,u,l;function g(){return o=Math.min(r.length,n.length)>2?CB:SB,u=l=null,h}function h(v){return(u||(u=o(r,n,s?xB(e):e,a)))(+v)}return h.invert=function(v){return(l||(l=o(n,r,pg,s?wB(t):t)))(+v)},h.domain=function(v){return arguments.length?(r=dg.call(v,ww),g()):r.slice()},h.range=function(v){return arguments.length?(n=du.call(v),g()):n.slice()},h.rangeRound=function(v){return n=du.call(v),a=zc,g()},h.clamp=function(v){return arguments.length?(s=!!v,g()):s},h.interpolate=function(v){return arguments.length?(a=v,g()):a},g()}var CL,vh=ae(()=>{Za();gs();qo();hg();Sw();CL=[0,1]});function EL(e,t,r){var n=e[0],a=e[e.length-1],s=Qo(n,a,t??10),o;switch(r=xs(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(a));return r.precision==null&&!isNaN(o=ow(s,u))&&(r.precision=o),Ff(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=lw(s,Math.max(Math.abs(n),Math.abs(a))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=sw(s))&&(r.precision=o-(r.type==="%")*2);break}}return lu(r)}var DL=ae(()=>{Za();ag()});function _h(e){var t=e.domain;return e.ticks=function(r){var n=t();return mh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){return EL(t(),r,n)},e.nice=function(r){var n=t(),a=n.length-1,s=r??10,o=n[0],u=n[a],l=Qo(o,u,s);return l&&(l=Qo(Math.floor(o/l)*l,Math.ceil(u/l)*l,s),n[0]=Math.floor(o/l)*l,n[a]=Math.ceil(u/l)*l,t(n)),e},e}function cu(){var e=jf(pg,Tn);return e.copy=function(){return gh(e,cu())},_h(e)}var Wf=ae(()=>{Za();gs();vh();DL()});var ML=ae(()=>{qo();Wf();Sw()});var Cw=ae(()=>{});var AL=ae(()=>{Za();ag();hg();Cw();vh()});var TL=ae(()=>{hg();Wf();vh()});var LL=ae(()=>{Za();qo()});var OL=ae(()=>{Za();qo();Wf()});var kL=ae(()=>{Za();qo()});var DB,MB,AB,Ew,_le,ble,yle,Dw=ae(()=>{Za();qo();vh();Cw();DB=1e3,MB=DB*60,AB=MB*60,Ew=AB*24,_le=Ew*7,ble=Ew*30,yle=Ew*365});var NL=ae(()=>{Dw()});function ea(e){return e.match(/.{6}/g).map(function(t){return"#"+t})}var Gf=ae(()=>{});var TB,PL=ae(()=>{Gf();TB=ea("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var LB,IL=ae(()=>{Gf();LB=ea("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")});var OB,zL=ae(()=>{Gf();OB=ea("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")});var kB,FL=ae(()=>{Gf();kB=ea("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")});var NB,BL=ae(()=>{Go();gs();NB=yf(_i(300,.5,0),_i(-240,.5,1))});var PB,IB,Ule,UL=ae(()=>{Go();gs();PB=yf(_i(-100,.75,.35),_i(80,1.5,.8)),IB=yf(_i(260,.75,.35),_i(80,1.5,.8)),Ule=_i()});function mg(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var zB,FB,BB,UB,RL=ae(()=>{Gf();zB=mg(ea("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),FB=mg(ea("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),BB=mg(ea("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),UB=mg(ea("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var jL=ae(()=>{Wf()});var WL=ae(()=>{SL();ML();Wf();AL();xw();TL();LL();OL();kL();Dw();NL();PL();IL();zL();FL();BL();UL();RL();jL()});function ZB(){var e=cu(),t="rect",r=15,n=15,a=10,s=2,o=[5],u=void 0,l=[],g="",h=!1,v="",x=Pr.d3_defaultLocale,S=Pr.d3_defaultFormatSpecifier,w=10,c="middle",_=Pr.d3_defaultDelimiter,y=void 0,b="vertical",C=!1,E=void 0,p=void 0,f=ph("cellover","cellout","cellclick");function D(M){var N=Pr.d3_calcType(e,C,o,l,x.format(S),_),O=M.selectAll("g").data([e]);O.enter().append("g").attr("class",g+"legendCells"),u&&Pr.d3_filterCells(N,u);var z=M.select("."+g+"legendCells").selectAll("."+g+"cell").data(N.data),k=z.enter().append("g").attr("class",g+"cell");k.append(t).attr("class",g+"swatch");var I=M.selectAll("g."+g+"cell "+t+"."+g+"swatch").data(N.data);Pr.d3_addEvents(k,f),z.exit().transition().style("opacity",0).remove(),I.exit().transition().style("opacity",0).remove(),I=I.merge(I),Pr.d3_drawShapes(t,I,n,r,a,E);var H=Pr.d3_addText(M,k,N.labels,g,y);z=k.merge(z);var Y=H.nodes().map(function(V){return V.getBBox()}),q=I.nodes().map(function(V){return V.getBBox()});h?I.attr("class",function(V){return g+"swatch "+N.feature(V)}):t=="line"?I.style("stroke",N.feature):I.style("fill",N.feature);var G=void 0,$=void 0,j=c=="start"?0:c=="middle"?.5:1;b==="vertical"?function(){var V=Y.map(function(X,Q){return Math.max(X.height,q[Q].height)});G=function(Q,te){var we=Rf(V.slice(0,te));return"translate(0, "+(we+te*s)+")"},$=function(Q,te){return"translate( "+(q[te].width+q[te].x+w)+", "+(q[te].y+q[te].height/2+5)+")"}}():b==="horizontal"&&(G=function(X,Q){return"translate("+Q*(q[Q].width+s)+",0)"},$=function(X,Q){return"translate("+(q[Q].width*j+q[Q].x)+`,
          `+(q[Q].height+q[Q].y+w+8)+")"}),Pr.d3_placement(b,z,G,H,$,c),Pr.d3_title(M,v,g,p),z.transition().style("opacity",1)}return D.scale=function(M){return arguments.length?(e=M,D):e},D.cells=function(M){return arguments.length?((M.length>1||M>=2)&&(o=M),D):o},D.cellFilter=function(M){return arguments.length?(u=M,D):u},D.shape=function(M,N){return arguments.length?((M=="rect"||M=="circle"||M=="line"||M=="path"&&typeof N=="string")&&(t=M,E=N),D):t},D.shapeWidth=function(M){return arguments.length?(r=+M,D):r},D.shapeHeight=function(M){return arguments.length?(n=+M,D):n},D.shapeRadius=function(M){return arguments.length?(a=+M,D):a},D.shapePadding=function(M){return arguments.length?(s=+M,D):s},D.labels=function(M){return arguments.length?(l=M,D):l},D.labelAlign=function(M){return arguments.length?((M=="start"||M=="end"||M=="middle")&&(c=M),D):c},D.locale=function(M){return arguments.length?(x=ou(M),D):x},D.labelFormat=function(M){return arguments.length?(S=xs(M),D):D.locale().format(S)},D.labelOffset=function(M){return arguments.length?(w=+M,D):w},D.labelDelimiter=function(M){return arguments.length?(_=M,D):_},D.labelWrap=function(M){return arguments.length?(y=M,D):y},D.useClass=function(M){return arguments.length?((M===!0||M===!1)&&(h=M),D):h},D.orient=function(M){return arguments.length?(M=M.toLowerCase(),(M=="horizontal"||M=="vertical")&&(b=M),D):b},D.ascending=function(M){return arguments.length?(C=!!M,D):C},D.classPrefix=function(M){return arguments.length?(g=M,D):g},D.title=function(M){return arguments.length?(v=M,D):v},D.titleWidth=function(M){return arguments.length?(p=M,D):p},D.textWrap=function(M){return arguments.length?(textWrap=M,D):textWrap},D.on=function(){var M=f.on.apply(f,arguments);return M===f?D:M},D}function XB(){var e=cu(),t="rect",r=15,n=2,a=[5],s=void 0,o=[],u="",l="",g=Pr.d3_defaultLocale,h=Pr.d3_defaultFormatSpecifier,v=10,x="middle",S=Pr.d3_defaultDelimiter,w=void 0,c="vertical",_=!1,y=void 0,b=void 0,C=ph("cellover","cellout","cellclick");function E(p){var f=Pr.d3_calcType(e,_,a,o,g.format(h),S),D=p.selectAll("g").data([e]);s&&Pr.d3_filterCells(f,s),D.enter().append("g").attr("class",u+"legendCells");var M=p.select("."+u+"legendCells").selectAll("."+u+"cell").data(f.data),N=M.enter().append("g").attr("class",u+"cell");N.append(t).attr("class",u+"swatch");var O=p.selectAll("g."+u+"cell "+t+"."+u+"swatch");Pr.d3_addEvents(N,C),M.exit().transition().style("opacity",0).remove(),O.exit().transition().style("opacity",0).remove(),O=O.merge(O),t==="line"?(Pr.d3_drawShapes(t,O,0,r),O.attr("stroke-width",f.feature)):Pr.d3_drawShapes(t,O,f.feature,f.feature,f.feature,y);var z=Pr.d3_addText(p,N,f.labels,u,w);M=N.merge(M);var k=z.nodes().map(function(j){return j.getBBox()}),I=O.nodes().map(function(j,V){var X=j.getBBox(),Q=e(f.data[V]);return t==="line"&&c==="horizontal"?X.height=X.height+Q:t==="line"&&c==="vertical"&&(X.width=X.width),X}),H=Uf(I,function(j){return j.height+j.y}),Y=Uf(I,function(j){return j.width+j.x}),q=void 0,G=void 0,$=x=="start"?0:x=="middle"?.5:1;c==="vertical"?function(){var j=k.map(function(X,Q){return Math.max(X.height,I[Q].height)}),V=t=="circle"||t=="line"?I[0].height/2:0;q=function(Q,te){var we=Rf(j.slice(0,te));return"translate(0, "+(V+we+te*n)+")"},G=function(Q,te){return"translate( "+(Y+v)+`,
          `+(I[te].y+I[te].height/2+5)+")"}}():c==="horizontal"&&function(){q=function(X,Q){var te=Rf(I.slice(0,Q),function(Pe){return Pe.width}),we=t=="circle"||t=="line"?H/2:0;return"translate("+(te+Q*n)+", "+we+")"};var j=t=="line"?H/2:H;G=function(X,Q){return"translate( "+(I[Q].width*$+I[Q].x)+`,
              `+(j+v)+")"}}(),Pr.d3_placement(c,M,q,z,G,x),Pr.d3_title(p,l,u,b),M.transition().style("opacity",1)}return E.scale=function(p){return arguments.length?(e=p,E):e},E.cells=function(p){return arguments.length?((p.length>1||p>=2)&&(a=p),E):a},E.cellFilter=function(p){return arguments.length?(s=p,E):s},E.shape=function(p,f){return arguments.length?((p=="rect"||p=="circle"||p=="line")&&(t=p,y=f),E):t},E.shapeWidth=function(p){return arguments.length?(r=+p,E):r},E.shapePadding=function(p){return arguments.length?(n=+p,E):n},E.labels=function(p){return arguments.length?(o=p,E):o},E.labelAlign=function(p){return arguments.length?((p=="start"||p=="end"||p=="middle")&&(x=p),E):x},E.locale=function(p){return arguments.length?(g=ou(p),E):g},E.labelFormat=function(p){return arguments.length?(h=xs(p),E):E.locale().format(h)},E.labelOffset=function(p){return arguments.length?(v=+p,E):v},E.labelDelimiter=function(p){return arguments.length?(S=p,E):S},E.labelWrap=function(p){return arguments.length?(w=p,E):w},E.orient=function(p){return arguments.length?(p=p.toLowerCase(),(p=="horizontal"||p=="vertical")&&(c=p),E):c},E.ascending=function(p){return arguments.length?(_=!!p,E):_},E.classPrefix=function(p){return arguments.length?(u=p,E):u},E.title=function(p){return arguments.length?(l=p,E):l},E.titleWidth=function(p){return arguments.length?(b=p,E):b},E.on=function(){var p=C.on.apply(C,arguments);return p===C?E:p},E}function $B(){var e=cu(),t="path",r=15,n=15,a=10,s=5,o=[5],u=void 0,l=[],g="",h="",v=Pr.d3_defaultLocale,x=Pr.d3_defaultFormatSpecifier,S="middle",w=10,c=Pr.d3_defaultDelimiter,_=void 0,y="vertical",b=!1,C=void 0,E=ph("cellover","cellout","cellclick");function p(f){var D=Pr.d3_calcType(e,b,o,l,v.format(x),c),M=f.selectAll("g").data([e]);u&&Pr.d3_filterCells(D,u),M.enter().append("g").attr("class",g+"legendCells");var N=f.select("."+g+"legendCells").selectAll("."+g+"cell").data(D.data),O=N.enter().append("g").attr("class",g+"cell");O.append(t).attr("class",g+"swatch");var z=f.selectAll("g."+g+"cell "+t+"."+g+"swatch");Pr.d3_addEvents(O,E),N.exit().transition().style("opacity",0).remove(),z.exit().transition().style("opacity",0).remove(),z=z.merge(z),Pr.d3_drawShapes(t,z,n,r,a,D.feature);var k=Pr.d3_addText(f,O,D.labels,g,_);N=O.merge(N);var I=k.nodes().map(function(V){return V.getBBox()}),H=z.nodes().map(function(V){return V.getBBox()}),Y=Uf(H,function(V){return V.height}),q=Uf(H,function(V){return V.width}),G=void 0,$=void 0,j=S=="start"?0:S=="middle"?.5:1;y==="vertical"?function(){var V=I.map(function(X,Q){return Math.max(Y,X.height)});G=function(Q,te){var we=Rf(V.slice(0,te));return"translate(0, "+(we+te*s)+" )"},$=function(Q,te){return"translate( "+(q+w)+`,
              `+(H[te].y+H[te].height/2+5)+")"}}():y==="horizontal"&&(G=function(X,Q){return"translate( "+Q*(q+s)+",0)"},$=function(X,Q){return"translate( "+(H[Q].width*j+H[Q].x)+`,
              `+(Y+w)+")"}),Pr.d3_placement(y,N,G,k,$,S),Pr.d3_title(f,h,g,C),N.transition().style("opacity",1)}return p.scale=function(f){return arguments.length?(e=f,p):e},p.cells=function(f){return arguments.length?((f.length>1||f>=2)&&(o=f),p):o},p.cellFilter=function(f){return arguments.length?(u=f,p):u},p.shapePadding=function(f){return arguments.length?(s=+f,p):s},p.labels=function(f){return arguments.length?(l=f,p):l},p.labelAlign=function(f){return arguments.length?((f=="start"||f=="end"||f=="middle")&&(S=f),p):S},p.locale=function(f){return arguments.length?(v=ou(f),p):v},p.labelFormat=function(f){return arguments.length?(x=xs(f),p):p.locale().format(x)},p.labelOffset=function(f){return arguments.length?(w=+f,p):w},p.labelDelimiter=function(f){return arguments.length?(c=f,p):c},p.labelWrap=function(f){return arguments.length?(_=f,p):_},p.orient=function(f){return arguments.length?(f=f.toLowerCase(),(f=="horizontal"||f=="vertical")&&(y=f),p):y},p.ascending=function(f){return arguments.length?(b=!!f,p):b},p.classPrefix=function(f){return arguments.length?(g=f,p):g},p.title=function(f){return arguments.length?(h=f,p):h},p.titleWidth=function(f){return arguments.length?(C=f,p):C},p.on=function(){var f=E.on.apply(E,arguments);return f===E?p:f},p}var RB,VL,GL,HL,jB,WB,GB,HB,VB,YB,KB,Pr,QB,qB,JB,YL,gg=ae(()=>{R8();ag();rL();WL();Za();RB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VL=function(t){return t},GL=function(t){for(var r=[],n=0,a=t.length;n<a;n++)r[n]=t[a-n-1];return r},HL=function(t,r){t.each(function(){for(var n=qx(this),a=n.text().split(/\s+/).reverse(),s,o=[],u=0,l=1.2,g=n.attr("y"),h=parseFloat(n.attr("dy"))||0,v=n.text(null).append("tspan").attr("x",0).attr("dy",h+"em");s=a.pop();)o.push(s),v.text(o.join(" ")),v.node().getComputedTextLength()>r&&o.length>1&&(o.pop(),v.text(o.join(" ")),o=[s],v=n.append("tspan").attr("x",0).attr("dy",l+h+"em").text(s))})},jB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments[1],n=arguments[2],a=arguments[3],s=arguments[4];if((typeof r>"u"?"undefined":RB(r))==="object"){if(r.length===0)return t;for(var o=r.length;o<t.length;o++)r.push(t[o]);return r}else if(typeof r=="function"){for(var u=[],l=t.length,g=0;g<l;g++)u.push(r({i:g,genLength:l,generatedLabels:t,domain:n,range:a,labelDelimiter:s}));return u}return t},WB=function(t,r,n){var a=[];if(r.length>1)a=r;else for(var s=t.domain(),o=(s[s.length-1]-s[0])/(r-1),u=0;u<r;u++)a.push(s[0]+u*o);var l=a.map(n);return{data:a,labels:l,feature:function(h){return t(h)}}},GB=function(t,r,n){var a=t.range().map(function(s){var o=t.invertExtent(s);return r(o[0])+" "+n+" "+r(o[1])});return{data:t.range(),labels:a,feature:VL}},HB=function(t){return{data:t.domain(),labels:t.domain(),feature:function(n){return t(n)}}},VB=function(t,r,n){t.call("cellover",n,r)},YB=function(t,r,n){t.call("cellout",n,r)},KB=function(t,r,n){t.call("cellclick",n,r)},Pr={d3_drawShapes:function(t,r,n,a,s,o){t==="rect"?r.attr("height",n).attr("width",a):t==="circle"?r.attr("r",s):t==="line"?r.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&r.attr("d",o)},d3_addText:function(t,r,n,a,s){r.append("text").attr("class",a+"label");var o=t.selectAll("g."+a+"cell text."+a+"label").data(n).text(VL);return s&&t.selectAll("g."+a+"cell text."+a+"label").call(HL,s),o},d3_calcType:function(t,r,n,a,s,o){var u=t.invertExtent?GB(t,s,o):t.ticks?WB(t,n,s):HB(t),l=t.range&&t.range()||t.domain();return u.labels=jB(u.labels,a,t.domain(),l,o),r&&(u.labels=GL(u.labels),u.data=GL(u.data)),u},d3_filterCells:function(t,r){var n=t.data.map(function(o,u){return{data:o,label:t.labels[u]}}).filter(r),a=n.map(function(o){return o.data}),s=n.map(function(o){return o.label});return t.data=t.data.filter(function(o){return a.indexOf(o)!==-1}),t.labels=t.labels.filter(function(o){return s.indexOf(o)!==-1}),t},d3_placement:function(t,r,n,a,s,o){r.attr("transform",n),a.attr("transform",s),t==="horizontal"&&a.style("text-anchor",o)},d3_addEvents:function(t,r){t.on("mouseover.legend",function(n){VB(r,n,this)}).on("mouseout.legend",function(n){YB(r,n,this)}).on("click.legend",function(n){KB(r,n,this)})},d3_title:function(t,r,n,a){if(r!==""){var s=t.selectAll("text."+n+"legendTitle");s.data([r]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(r),a&&t.selectAll("text."+n+"legendTitle").call(HL,a);var o=t.select("."+n+"legendCells"),u=t.select("."+n+"legendTitle").nodes().map(function(g){return g.getBBox().height})[0],l=-o.nodes().map(function(g){return g.getBBox().x})[0];o.attr("transform","translate("+l+","+u+")")}},d3_defaultLocale:{format:lu,formatPrefix:Ff},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};QB=function(t){var r=t.i,n=t.genLength,a=t.generatedLabels,s=t.labelDelimiter;if(r===0){var o=a[r].split(" "+s+" ");return"Less than "+o[1]}else if(r===n-1){var u=a[r].split(" "+s+" ");return u[0]+" or more"}return a[r]},qB={thresholdLabels:QB},JB={legendColor:ZB,legendSize:XB,legendSymbol:$B,legendHelpers:qB},YL=JB});var KL=zn((Oue,vg)=>{(function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),n=r&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,s=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,o=(r||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(u){var l,g,h,v,x,S,w,c,_;if(l=u.match(s),!l)throw new Error("invalid data URI");for(g=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),h=!!l[4],v=u.slice(l[0].length),h?x=atob(v):x=decodeURIComponent(v),S=new ArrayBuffer(x.length),w=new Uint8Array(S),c=0;c<x.length;c+=1)w[c]=x.charCodeAt(c);return r?new Blob([n?w:S],{type:g}):(_=new a,_.append(S),_.getBlob(g))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(u,l,g){var h=this;setTimeout(function(){g&&t.toDataURL&&o?u(o(h.toDataURL(l,g))):u(h.mozGetAsFile("blob",l))})}:t.toDataURL&&o&&(t.msToBlob?t.toBlob=function(u,l,g){var h=this;setTimeout(function(){(l&&l!=="image/png"||g)&&t.toDataURL&&o?u(o(h.toDataURL(l,g))):u(h.msToBlob(l))})}:t.toBlob=function(u,l,g){var h=this;setTimeout(function(){u(o(h.toDataURL(l,g)))})})),typeof define=="function"&&define.amd?define(function(){return o}):typeof vg=="object"&&vg.exports?vg.exports=o:e.dataURLtoBlob=o})(window)});var Hf=zn((Mw,Aw)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof Mw<"u"?t():(t(),e.FileSaver={})})(Mw,function(){"use strict";function e(u,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function t(u,l,g){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){o(h.response,l,g)},h.onerror=function(){console.error("could not download file")},h.send()}function r(u){var l=new XMLHttpRequest;l.open("HEAD",u,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function n(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(l)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(u,l,g){var h=a.URL||a.webkitURL,v=document.createElement("a");l=l||u.name||"download",v.download=l,v.rel="noopener",typeof u=="string"?(v.href=u,v.origin===location.origin?n(v):r(v.href)?t(u,l,g):n(v,v.target="_blank")):(v.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(v.href)},4e4),setTimeout(function(){n(v)},0))}:"msSaveOrOpenBlob"in navigator?function(u,l,g){if(l=l||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(e(u,g),l);else if(r(u))t(u,l,g);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){n(h)})}}:function(u,l,g,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return t(u,l,g);var v=u.type==="application/octet-stream",x=/constructor/i.test(a.HTMLElement)||a.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||v&&x||s)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var y=w.result;y=S?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=y:location=y,h=null},w.readAsDataURL(u)}else{var c=a.URL||a.webkitURL,_=c.createObjectURL(u);h?h.location=_:location.href=_,h=null,setTimeout(function(){c.revokeObjectURL(_)},4e4)}});a.saveAs=o.saveAs=o,typeof Aw<"u"&&(Aw.exports=o)})});function Vf(e,t=eU){let r=Object.assign({},t,e);r.em_size=getEmPixels(),r.margin.left=r.em_size*r.margin_scaler,r.margin.right=r.em_size*r.margin_scaler,r.margin.top=r.em_size*r.margin_scaler,r.margin.bottom=r.em_size*r.margin_scaler,en(r.parent).select("svg").remove(),r.svg=en(r.parent).append("svg").attr("id",r.id||"chart").attr("width",r.width).attr("height",r.height),r.svg.style("text-rendering","optimizeLegibility").style("shape-rendering","default").style("font-family","sans-serif"),r.download_buttons&&(r.key_panel=!0),r.key_panel&&(r.chartType==="line"?r.container_width=r.container_width*.9:r.container_height=r.container_height-r.container_height*.2),r.container_width<r.margin.left+r.margin.right&&(r.container_width=r.margin.left+r.margin.right+r.em_size),r.assignment_ribbon&&(r.container_height=r.container_height-r.container_height*.1);let n=r.margin.top,a=0;r.annotation_sets&&(n=r.em_size*5,a=r.em_size*3);let s=0,o=r.container_height-r.margin.bottom;r.chartType,s=r.width-r.margin.right-r.em_size*4,o=r.margin.top,r.chartType==="annotationGrid"&&(s=0,o=r.container_height);let u=r.container_width-r.em_size*10,l=r.container_height-r.margin.bottom;return r.chartType,u=r.width-10*r.em_size,l=r.height-10*r.em_size,r.chartType==="annotationGrid"&&(u=r.width-r.margin.right-r.em_size*10,l=r.container_height),r.container=r.svg.append("g").attr("id","container").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.height-r.margin.top-r.margin.bottom).attr("transform","translate("+[r.margin.left,n]+")"),r.axes=r.svg.append("g").attr("id","axes").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[0,a]+")"),r.key=r.svg.append("g").attr("id","key").attr("width",r.width*.2-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[s,o]+")"),r.buttons=r.svg.append("g").attr("id","buttons").attr("width",r.width*.2-r.margin.left-r.margin.right).attr("height",r.height).attr("transform","translate("+[u,l]+")"),r.ribbon=r.svg.append("g").attr("id","ribbon").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.margin.top).attr("transform","translate("+[r.margin.left,0]+")"),r.annotationToggle=r.svg.append("g").attr("id","toggle").attr("width",r.container_width-r.margin.left-r.margin.right).attr("height",r.margin.top).attr("transform","translate("+[r.margin.left/2,n/3]+")"),r}function $L(e){console.log("parent: "+e.parent),console.log("emsize: "+e.em_size),console.log("width: "+e.width),console.log("height: "+e.height),console.log("container_width: "+e.container_width),console.log("container_height: "+e.container_height),console.log("margin scaler: "+e.margin_scaler),console.log("margin.left: "+e.margin.left),console.log("margin.right: "+e.margin.right),console.log("margin.top: "+e.margin.top),console.log("margin.bottom: "+e.margin.bottom)}function tU(e){e.setAttribute("xlink","http://www.w3.org/1999/xlink");var t=a(e);s(t,e);var r=new XMLSerializer,n=r.serializeToString(e);return n=n.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),n=n.replace(/NS\d+:href/g,"xlink:href"),n;function a(o){var u=[];u.push("#"+o.id);for(var l=0;l<o.classList.length;l++)y("."+o.classList[l],u)||u.push("."+o.classList[l]);for(var g=o.getElementsByTagName("*"),h=0;h<g.length;h++){var v=g[h].id;y("#"+v,u)||u.push("#"+v);var x=g[h].classList;for(let b=0;b<x.length;b++)y("."+x[b],u)||u.push("."+x[b])}var S="";for(let b=0;b<document.styleSheets.length;b++){var w=document.styleSheets[b];try{if(!w.cssRules)continue}catch(C){if(C.name!=="SecurityError")throw C;continue}for(var c=w.cssRules,_=0;_<c.length;_++)y(c[_].selectorText,u)&&(S+=c[_].cssText)}return S;function y(b,C){return C.indexOf(b)!==-1}}function s(o,u){var l=document.createElement("style");l.setAttribute("type","text/css"),l.innerHTML=o;var g=u.hasChildNodes()?u.children[0]:null;u.insertBefore(l,g)}}function rU(e,t,r,n,a){n=n||"png";var s="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),o=document.createElement("canvas"),u=o.getContext("2d");o.width=t,o.height=r;var l=new Image;l.onload=function(){u.clearRect(0,0,t,r),u.drawImage(l,0,0,t,r),o.toBlob(function(g){var h=Math.round(g.length/1024)+" KB";a&&a(g,h)})},l.src=s}function nU(e){try{let n=!!new Blob}catch{alert("blob not supported. Can't save file from the browser you are using")}console.log(e);let t=en("#"+e).attr("title",e).attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML;console.log(t),t=t.substring(t.indexOf("<svg")),t=t.replace(/<g id="toggle".+?<\/g>/,""),t=t.replace(/<g id="buttons".+?<\/g>/,"");let r=new Blob([t],{type:"image/svg+xml"});XL.saveAs(r,e+".svg")}function io(e,t,r,n,a="buttons",s=0,o=0){let u=n+s,l=0+o;e[a].append("rect").attr("x",u).attr("y",l).attr("id",t+r+"Button").attr("width",e.em_size*4.5).attr("height",e.em_size*2).attr("class",r+"button").on("mouseover",function(){en("#"+t+r+"Button").attr("fill","").classed("active",!0),en("#"+t+r+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(){en("#"+t+r+"Button").classed("active",!1),en("#"+t+r+"Text").classed("active",!1)}),e[a].append("text").attr("id",t+r+"Text").attr("class","buttonText").attr("x",e.em_size/2+u).attr("y",e.em_size+l).attr("dy",".35em").text("Get "+r.toUpperCase()).on("mouseover",function(){en("#"+t+r+"Button").attr("fill","").classed("active",!0),en("#"+t+r+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(){en("#"+t+r+"Button").classed("active",!1),en("#"+t+r+"Text").classed("active",!1)})}function Yf(e,t){ZL(e,"Button",t),ZL(e,"Text",t)}function ZL(e,t,r){console.log(r),en("#"+r+"png"+t).on("click",function(){var n=tU(e.svg.node());console.log(n),n=n.replace(/<g id="toggle".+?<\/g>/,""),n=n.replace(/<g id="buttons".+?<\/g>/,""),rU(n,2*e.width,2*e.height,"png",a);function a(s,o){XL.saveAs(s,r+".png")}}),en("#"+r+"svg"+t).on("click",function(){nU(r)})}function QL(e,t,r){var n=1;return r&&(n=-1),e.sort(function(a,s){var o=a[t],u=s[t];return n*(o<u?-1:o>u?1:0)})}function _g(e,t){let r=[];return Object.keys(e).forEach(function(n){r.push(e[n][t])}),r}function hu(e,t){let r=[];for(var n=e;n<=t;n++)r.push(n);return r}var XL,eU,Zn=ae(()=>{pa();If();KL();XL=Hf(),eU={chartType:!1,em_size:!1,width:window.innerWidth,height:window.innerHeight,container_width:window.innerWidth,container_height:window.innerHeight,parent:"body",key_panel:!0,y_axis_label:!1,x_axis_label:!1,ribbon_label:!1,y_cutoff:!1,x_cutoff:!1,x_cutoff_text:"Cutoff",y_cutoff_text:"Cutoff",assignment_ribbon:!1,assignment_label:"",download_buttons:!1,grid_label:!1,grid_colour_type:!1,grid_colour_annotations:!1,x_grid_labels:!1,y_grid_labels:!1,y_labels:!1,x_labels:!1,custom_grid_palette:!1,grid_key:!1,annotation_sets:!1,margin_scaler:5,margin:{left:!1,right:!1,top:!1,bottom:!1}};(function(e,t){"use strict";var r="!important;",n="position:absolute"+r+"visibility:hidden"+r+"width:1em"+r+"font-size:1em"+r+"padding:0"+r;window.getEmPixels=function(a){var s;a||(a=s=e.createElement("body"),s.style.cssText="font-size:1em"+r,t.insertBefore(s,e.body));var o=e.createElement("i");o.style.cssText=n,a.appendChild(o);var u=o.clientWidth;return s?t.removeChild(s):a.removeChild(o),u}})(document,document.documentElement)});function JL(e,t,r,n,a="xyLineChart",s={}){s=Object.assign(s,{chartType:"line"});let o=Vf(s),u=e.reduce(function(x,S){return x.concat(Number(S[t]))},[]),l=function(x){return h.x(x[t])},g=[];r.forEach(function(x){g=g.concat(e.reduce(function(S,w){return S.concat(Number(w[x]))},[]))});let h=eO(o,u,g,o.height-o.margin.bottom*2);oU(o,"axes",h.x,h.y);let v={};r.forEach(function(x){v[x]=function(S){return h.y(S[x])}}),sU(o,e,l,v,h,t),o.key_panel&&aU(o,r,n),o.download_buttons&&(io(o,a,"png",0),io(o,a,"svg",o.em_size*5),Yf(o,a)),o.assignment_ribbon&&iU(e,o,u,h),o.x_cutoff&&qL(o,h,o.x_cutoff,"x"),o.y_cutoff&&qL(o,h,o.y_cutoff,"y")}function iU(e,t,r,n){let a=e.reduce(function(u,l){let g=l[t.assignment_label],h=u[g]||[];return u[g]=h.concat({x:Number(l.pos),y:1}),u},[]);Object.keys(a).forEach(function(u){let l=r.slice(0);a[u].forEach(function(g){l=l.filter(function(h){return h!==g.x})}),l.forEach(function(g){let h=a[u]||[];a[u]=h.concat({x:Number(g),y:null})}),a[u]=QL(a[u],"x")});let o=eO(t,r,[1],t.margin.top/4);Object.keys(a).forEach(function(u){let l=Fm().defined(function(h){return h.y}).x(function(h){return n.x(h.x)}).y(function(h){return o.y(h.y)}).curve(nh),g=t.ribbon.selectAll("."+u+"line").data([a[u]]);g.enter().append("path").classed(u,!0).merge(g).attr("d",l).attr("fill","none")}),t.ribbon_label&&t.ribbon.append("text").attr("transform","translate("+t.margin.left/2+", 10)").style("text-anchor","middle").text(t.ribbon_label)}function qL(e,t,r,n){let a="x",s=1,o=e.y_cutoff_text,u=5;n==="x"&&(a="y",s=0,o=e.x_cutoff_text,u=-3);let l=e.container.append("line").classed("cutoff_line",!0).attr(a+"1",0).attr(n+"1",t[n](r)).attr(a+"2",t[a].range()[s]).attr(n+"2",t[n](r)),g=e.container.append("text").attr("class","cutoffText").attr(a,5).attr(n,t[n](r)-u).attr("dy",".1em").text(o+": "+r.toString())}function aU(e,t,r){var n=Xl().domain(t).range(r),a=YL.legendColor().shape("path",Ox().type(Lx).size(e.em_size*10)()).shapePadding(10).scale(n);e.key.append("g").attr("class","legendOrdinal").call(a)}function sU(e,t,r,n,a,s){Object.keys(n).forEach(function(o){let u=n[o],l=Fm().x(r).y(u).curve(Nx),g=e.container.selectAll("."+o+"line").data([t]);g.enter().append("path").classed(o,!0).merge(g).attr("d",l).attr("fill","none"),e.container.selectAll(".dot").data(t).enter().append("circle").classed(o,!0).attr("r",1.5).attr("cx",r).attr("cy",u).attr("fill","black").append("svg:title").text(function(h,v){return s+": "+h[s]+`
val: `+h[o]+`
type: `+h[e.assignment_label]})})}function eO(e,t,r,n){let a=va().range([0,e.container_width-e.margin.left-e.margin.right]).domain(hs(t)),s=va().range([n,0]).domain(hs(r));return{x:a,y:s}}function oU(e,t,r,n){let a=Il().scale(r),s=zl().scale(n);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(s),e.y_axis_label&&e.container.append("text").attr("transform","rotate(-90)").attr("y",0-e.margin.left/2).attr("x",0-e.container_height/2).attr("dy","1em").style("text-anchor","middle").text(e.y_axis_label),console.log(e.container_height-100),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,e.height-e.margin.bottom]+")").call(a),e.x_axis_label&&e.container.append("text").attr("transform","translate("+e.container_width/2+" ,"+(e.height-e.margin.bottom-e.em_size*3)+")").style("text-anchor","middle").text(e.x_axis_label)}var Rue,Tw=ae(()=>{If();Gl();gg();Zn();Zn();Zn();Zn();Rue=Hf()});var Lw={};Yh(Lw,{aatypes:()=>mU,aatypes_annotations:()=>gU,clustal:()=>dU,clustal_annotations:()=>cU,colorbrewer:()=>lU,lesk:()=>hU,lesk_annotations:()=>pU,secondary_structure:()=>vU,taylor:()=>uU,taylor_annotations:()=>fU,transmembrane:()=>_U});var lU,uU,fU,dU,cU,hU,pU,mU,gU,vU,_U,Ow=ae(()=>{lU={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}},uU={A:{fill:"#ccff00"},V:{fill:"#99ff00"},I:{fill:"#66ff00"},L:{fill:"#33ff00"},M:{fill:"#00ff00"},F:{fill:"#00ff66"},Y:{fill:"#00ffcc"},W:{fill:"#00ccff"},H:{fill:"#0066ff"},R:{fill:"#0000ff"},K:{fill:"#6600ff"},N:{fill:"#cc00ff"},Q:{fill:"#ff00cc"},E:{fill:"#ff0066"},D:{fill:"#ff0000"},S:{fill:"#ff3300"},T:{fill:"#ff6600"},G:{fill:"#ff9900"},P:{fill:"#ffcc00"},C:{fill:"#ffff00"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},fU={S:{fill:"#ffff00",name:"Small axis"},B:{fill:"#00ff00",name:"Big axis"},P:{fill:"#ff0000",name:"Positive axis"},N:{fill:"#0000ff",name:"Negative axis"}},dU={A:{fill:"#c23f35"},V:{fill:"#c23f35"},F:{fill:"#c23f35"},P:{fill:"#c23f35"},I:{fill:"#c23f35"},L:{fill:"#c23f35"},M:{fill:"#c23f35"},W:{fill:"#c23f35"},D:{fill:"#6e6caa"},E:{fill:"#6e6caa"},K:{fill:"#b73c86"},R:{fill:"#b73c86"},C:{fill:"#319900"},N:{fill:"#319900"},Q:{fill:"#319900"},G:{fill:"#319900"},S:{fill:"#319900"},T:{fill:"#319900"},H:{fill:"#319900"},Y:{fill:"#319900"}},cU={S:{fill:"#c23f35",name:"Small and hydrophobic"},A:{fill:"#6e6caa",name:"Acidic"},B:{fill:"#b73c86",name:"Basic"},H:{fill:"#319900",name:"Hydroxyl, sulfhydril, amine"},O:{fill:"LightGrey",name:"Other"}},hU={G:{fill:"#e18f27"},A:{fill:"#e18f27"},S:{fill:"#e18f27"},T:{fill:"#e18f27"},C:{fill:"#319900"},V:{fill:"#319900"},I:{fill:"#319900"},L:{fill:"#319900"},P:{fill:"#319900"},F:{fill:"#319900"},Y:{fill:"#319900"},M:{fill:"#319900"},W:{fill:"#319900"},N:{fill:"#b73c86"},Q:{fill:"#b73c86"},H:{fill:"#b73c86"},D:{fill:"#c23f35"},E:{fill:"#c23f35"},K:{fill:"#6e6caa"},R:{fill:"#6e6caa"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},pU={S:{fill:"#e18f27",name:"Small nonpolar"},H:{fill:"#319900",name:"Hydrophobic"},P:{fill:"#b73c86",name:"Polar"},N:{fill:"#c23f35",name:"Negatively charged"},E:{fill:"#6e6caa",name:"Positively charged"}},mU={A:{fill:"#e18f27"},S:{fill:"#e18f27"},T:{fill:"#e18f27"},G:{fill:"#e18f27"},P:{fill:"#e18f27"},M:{fill:"#319900"},I:{fill:"#319900"},L:{fill:"#319900"},V:{fill:"#319900"},K:{fill:"#c23f35"},R:{fill:"#c23f35"},E:{fill:"#c23f35"},N:{fill:"#c23f35"},D:{fill:"#c23f35"},H:{fill:"#c23f35"},Q:{fill:"#c23f35"},W:{fill:"#7ebfd3"},Y:{fill:"#7ebfd3"},F:{fill:"#7ebfd3"},C:{fill:"#7ebfd3"},X:{fill:"#ffffff"},"-":{fill:"#ffffff"}},gU={S:{fill:"#e18f27",name:"Small nonpolar"},H:{fill:"#319900",name:"Hydrophobic"},P:{fill:"#c23f35",name:"Polar"},A:{fill:"#7ebfd3",name:"Aromatics plus cystiene"}},vU={E:{fill:"Gold"},H:{fill:"HotPink"},C:{fill:"LightGrey"}},_U={C:{fill:"LightGrey"},H:{fill:"#e18f27"}}});function tO(e,t={}){let r={id:"annotationGrid",chartType:"annotationGrid",annotation_sets:yU,download_buttons:!0,grid_label:!0,grid_colour_type:"custom",grid_colour_annotations:["ss","disopred","dompred","dmpmetal","memsat"],custom_grid_palette:bU};r=Object.assign(r,t),rO(e,"res",50,"annotationGrid",r)}function rO(e,t,r,n="seqAnnotationChart",a={}){a=Object.assign(a,{});let s=Vf(a),o=e.length,u=Math.ceil(o/r),l=SU(s,[1,r],[1,u],u*(s.em_size+3),r,u,o);a.debug===!0&&$L(s),wU(s,"axes",l.x,l.y,l.x_top,l.y_right,u*(s.em_size+3)),iO(s,e,l,r),s.key_panel&&nO(s),s.download_buttons&&(io(s,n,"png",0),io(s,n,"svg",s.em_size*5),Yf(s,n)),s.annotation_sets&&xU(s,e,l,r)}function xU(e,t,r,n){let a=function(g){e.grid_colour_type=g.name,e.grid_colour_annotations=g.values,e.container.selectAll(".rect").remove(),e.container.selectAll(".text").remove(),iO(e,t,r,n),e.key.selectAll(".rect").remove(),e.key.selectAll("text").remove(),nO(e)},s=e.annotationToggle.selectAll(".rect").data(e.annotation_sets),o=function(g){return g.name+"button"},u=function(g){return g.label?g.label:g.name};s.enter().append("rect").attr("x",e.em_size*4).attr("id",function(g){return u(g)+"button"}).attr("width",function(g){let h="";return g.label?h="Show "+g.label:h="Show "+g.name,h.length*e.em_size/1.8}).attr("height",e.em_size*1.5).attr("transform",function(g,h){return"translate("+[h*e.em_size*10,0]+")"}).attr("class",function(g){return u(g)+"button"}).on("mouseover",function(g){en("#"+u(g)+"button").attr("fill","").classed("active",!0),en("#"+u(g)+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(g){en("#"+u(g)+"button").classed("active",!1),en("#"+u(g)+"Text").classed("active",!1)}).on("click",a),e.annotationToggle.selectAll(".text").data(e.annotation_sets).enter().append("text").attr("id",function(g){return u(g)+"Text"}).attr("class","buttonText").attr("x",10+e.em_size*4).attr("y",e.em_size*.8).attr("dy",".35em").attr("transform",function(g,h){return"translate("+[h*e.em_size*10,0]+")"}).text(function(g){return"Show "+u(g)}).on("mouseover",function(g){en("#"+u(g)+"button").attr("fill","").classed("active",!0),en("#"+u(g)+"Text").attr("fill","").classed("active",!0)}).on("mouseout",function(g){en("#"+u(g)+"button").classed("active",!1),en("#"+u(g)+"Text").classed("active",!1)}).on("click",a)}function nO(e){let t;e.grid_colour_type==="lesk"&&(t=ao.lesk_annotations),e.grid_colour_type==="aatypes"&&(t=ao.aatypes_annotations),e.grid_colour_type==="clustal"&&(t=ao.clustal_annotations),e.grid_colour_type==="taylor"&&(t=ao.taylor_annotations),e.custom_grid_palette&&e.grid_colour_type==="custom"&&(t=e.custom_grid_palette);let r=0,n=0;e.key.selectAll(".rect").data(Object.keys(t)).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",e.em_size).attr("transform",function(o,u){r==4&&(r=0,n+=1);let l=[r*11*e.em_size+e.margin.left,n*e.em_size*1.4];return r+=1,"translate("+l+")"}).attr("stroke",function(o){let u="white";return t[o].stroke?t[o].stroke:u}).attr("fill",function(o){let u="white";return t[o].fill?t[o].fill:u}),r=0,n=0,e.key.selectAll(".text").data(Object.keys(t)).enter().append("text").attr("transform",function(o,u){r==4&&(r=0,n+=1);let l=[r*11*e.em_size+e.margin.left+e.em_size*1.2,n*e.em_size*1.4+e.em_size/1.5];return r+=1,"translate("+l+")"}).text(function(o){return t[o].name}).attr("font-family","sans-serif").attr("font-size","10px").attr("font-weight","bold").attr("fill","black")}function iO(e,t,r,n){let a=0,s=0,o=va().domain(Va(0,1,1/(ao.colorbrewer.RdYlGn[11].length-1))).range(ao.colorbrewer.RdYlGn[11]),u=va().domain(hs(_g(t,e.grid_colour_annotations))).range([0,1]),l=function(x,S){let w="Pos: "+(S+1)+`
`;if(e.grid_colour_type&&e.grid_colour_annotations)return e.grid_colour_type==="heatmap"&&(w+=x[e.grid_colour_annotations[0]]),(e.grid_colour_type==="lesk"||e.grid_colour_type==="aatypes"||e.grid_colour_type==="clustal"||e.grid_colour_type==="taylor"||e.grid_colour_type==="secondary_structure"||e.grid_colour_type==="transmembrane")&&(w+=x[e.grid_colour_annotations]),e.grid_colour_type==="custom"&&e.grid_colour_annotations.forEach(function(c,_){e.custom_grid_palette[x[c]]&&(w+=c+": "+x[c]+`
`)}),w},g=function(x,S){let w="white";if(e.grid_colour_type&&e.grid_colour_annotations){if(e.grid_colour_type==="heatmap")return o(u(x[e.grid_colour_annotations[0]]));(e.grid_colour_type==="lesk"||e.grid_colour_type==="aatypes"||e.grid_colour_type==="clustal"||e.grid_colour_type==="taylor"||e.grid_colour_type==="secondary_structure"||e.grid_colour_type==="transmembrane")&&ao[e.grid_colour_type].hasOwnProperty(x[e.grid_colour_annotations[0]])&&ao[e.grid_colour_type][x[e.grid_colour_annotations[0]]].hasOwnProperty(S)&&(w=ao[e.grid_colour_type][x[e.grid_colour_annotations[0]]][S]),e.grid_colour_type==="custom"&&e.grid_colour_annotations.forEach(function(c,_){e.custom_grid_palette[x[c]]&&e.custom_grid_palette[x[c]].hasOwnProperty(S)&&(w=e.custom_grid_palette[x[c]][S])})}return w},h=e.container.selectAll(".rect").data(t);if(h.enter().append("rect").attr("class","rect").attr("width",e.em_size*1.1).attr("height",e.em_size*1.1).attr("transform",function(x){return s==n&&(s=0,a+=e.em_size*1.2),s+=1,"translate("+[r.x(s),a]+")"}).attr("fill",function(x){return g(x,"fill")}).attr("stroke",function(x){return g(x,"stroke")}).append("svg:title").text(l),h.exit().transition().remove(),e.grid_label){a=e.em_size*.8,s=0;var v=e.container.selectAll(".text").data(t);v.enter().append("text").attr("transform",function(x){return s==n&&(s=0,a+=e.em_size*1.2),s+=1,"translate("+[r.x(s)+5,a]+")"}).text(function(x){return x.res}).attr("font-family","sans-serif").attr("font-size",e.em_size*.66).attr("font-weight","bold").attr("fill","black").append("svg:title").text(l),v.exit().transition().remove()}}function wU(e,t,r,n,a,s,o){let u=Il().scale(r).tickValues(r.domain().filter(function(x,S){return!((S+1)%10)})),l=Xb().scale(a).tickValues(r.domain().filter(function(x,S){return!((S+1)%10)})),g=zl().scale(n),h=$b().scale(s);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(g).select(".domain").remove(),e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.container_width-e.margin.right,e.margin.top]+")").call(h).selectAll(".domain").remove(),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,o+e.margin.top]+")").call(u).selectAll(".domain").remove();let v=e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,e.margin.top]+")").call(l);e.x_labels&&v.selectAll("text").attr("y",0).attr("x",e.em_size/2).attr("dy",".35em").attr("transform","rotate(-60)").style("text-anchor","start"),v.selectAll(".domain").remove(),e[t].selectAll("line").remove()}function SU(e,t,r,n,a,s,o){let u=Ji().range([0,e.container_width-e.margin.left-e.margin.right]).domain(hu(t[0],t[1])),l=hu(r[0],r[1]);l.forEach(function(S,w){S==1?l[w]=1:l[w]=(S-1)*a+1});let g=Ji().range([0,n]).domain(l),h=Ji().range([0,e.container_width-e.margin.left-e.margin.right]).domain(hu(t[0],t[1]));if(e.x_labels){let S=[];if(e.x_labels.length<a){let w=-1;for(let c=0;c<=a;c+=1)c%e.x_labels.length===0&&(w+=1),S.push(e.x_labels[c%e.x_labels.length]+"_"+w)}else S=e.x_labels;h=Ji().range([0,e.container_width-e.margin.left-e.margin.right]).domain(S.slice(0,a))}let v=hu(r[0],r[1]);v.forEach(function(S,w){v[w]=S*a,w===v.length-1&&(v[w]=o)});let x=Ji().range([0,n]).domain(v);if(e.y_labels){let S=[];if(e.y_labels.length<s){let w=-1;for(let c=0;c<=s;c+=1)c%e.y_labels.length===0&&(w+=1),S.push(e.y_labels[c%e.y_labels.length]+"_"+w)}else S=e.y_labels;x=Ji().range([0,n]).domain(S.slice(0,s))}return{x:u,y:g,x_top:h,y_right:x}}var ao,Que,bU,yU,bg=ae(()=>{If();Gl();gg();Zn();Zn();Zn();Zn();Zn();Zn();ao=(Ow(),Zw(Lw)),Que=Hf(),bU={E:{fill:"Gold",name:"Strand"},H:{fill:"HotPink",name:"Helix"},C:{fill:"LightGrey",name:"Coil"},D:{stroke:"blue",name:"Disordered"},PB:{stroke:"green",name:"Disordered, protein binding"},B:{fill:"#7ebfd3",name:"Putative Domain Boundary"},I:{fill:"DarkGrey",name:"Membrane Interaction"},TM:{fill:"DarkGrey",name:"Transmembrane Helix"},EC:{fill:"Orange",name:"Extracellular"},RH:{fill:"Green",name:"Re-entrant Helix"},CY:{fill:"White",name:"Cytoplasmic"},S:{fill:"Pink",name:"Signal Peptide"},MB:{fill:"FireBrick",name:"Metal Binding"}},yU=[{name:"custom",values:["ss","disopred","dompred","dmpmetal"],label:"psipred"},{name:"custom",values:["memsat"],label:"memsat"},{name:"aatypes",values:["res"]}]});function aO(e,t="psipredChart",r={}){let a=TU(e),s=Math.ceil(a.length/50);r=Object.assign(r,{key_panel:!1,download_buttons:!0,id:t});let o=Vf(r);o.height=7*o.em_size*(s+1),o.container_height=o.height,o.width=o.em_size*50,o.container_width=o.em_size*50,o.chartType="psipred";let u=0;for(let l=0;l<s;l+=1){let g=1+l*50,h=50+l*50,v=0+l*(10*o.em_size),x=7*o.em_size+l*(10*o.em_size),S=MU(o,g,h,7*o.em_size);AU(o,"axes",S.x,S.y,x,v);let w=a.slice(g-1,h);u=DU(o,w,x,v,g)}CU(o,a,u+2*o.em_size,t)}function CU(e,t,r,n){let a=e.container;r+=e.em_size,e.download_buttons&&(io(e,n,"png",0,"buttons",0,3),io(e,n,"svg",e.em_size*5,"buttons",0,3),Yf(e,n)),a.append("text").attr("transform",function(s,o){return"translate("+[0,r]+")"}).text("Legend:").attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black"),r+=e.em_size,kw(e,a,r,"Strand","Gold"),yg(e,a,r,"Conf:","-"),EU(e,a,r),a.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*17.5,r+e.em_size*.8]+")"}).text("+ Confidence of prediction").attr("font-family","sans-serif").attr("fill","black"),r+=e.em_size,kw(e,a,r,"Helix","HotPink"),yg(e,a,r,"Cart:","3-state assignment cartoon"),r+=e.em_size,kw(e,a,r,"Coil","DimGrey"),yg(e,a,r,"Pred:","3-state prediction"),r+=e.em_size,yg(e,a,r,"AA:","Target Sequence")}function EU(e,t,r){let n=9,a=0;for(let s=0;s<9;s+=1)t.append("rect").attr("class","rect").attr("width",e.em_size/2).attr("height",e.em_size*(s/10)).attr("transform",function(o,u){let l=e.em_size-e.em_size*(s/10);return"translate("+[e.em_size*13+e.em_size*a,r+l]+")"}).attr("stroke","black").attr("fill",Pw.colorbrewer.PuBu[9][s]),n-=1,a+=.5}function yg(e,t,r,n,a){t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*10,r+e.em_size*.8]+")"}).text(n).attr("font-family","sans-serif").attr("fill","black").attr("font-weight","bold"),t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*13,r+e.em_size*.8]+")"}).text(a).attr("font-family","sans-serif").attr("fill","black")}function kw(e,t,r,n,a){t.append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(s){return n==="Coil"?e.em_size/4:e.em_size}).attr("transform",function(s,o){let u=0;return n==="Coil"&&(u+=e.em_size/2),"translate("+[0,r+u]+")"}).attr("stroke","White").attr("fill",a),t.append("text").attr("transform",function(s,o){return"translate("+[e.em_size*1.5,r+e.em_size*.8]+")"}).text(n).attr("font-family","sans-serif").attr("fill","black")}function DU(e,t,r,n,a){let s=0,o=0,u=va().domain(Va(0,1,1/(Pw.colorbrewer.PuBu[9].length-1))).range(Pw.colorbrewer.PuBu[9]),l=va().domain(hs(_g(t,"conf"))).range([0,1]);return e.container.selectAll("g").data(t).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(S){return e.em_size*((S.conf+1)/10)}).attr("transform",function(S,w){let c=e.em_size-e.em_size*((S.conf+1)/10);return"translate("+[w*e.em_size,n+c]+")"}).attr("fill",function(S){return u(l(S.conf))}).attr("stroke","black").append("svg:title").text(function(S){return S.conf}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("rect").attr("class","rect").attr("width",e.em_size).attr("height",function(S){return S.pred==="C"?e.em_size/4:e.em_size}).attr("transform",function(S,w){let c=0;return S.pred==="C"&&(c+=e.em_size/3),"translate("+[w*e.em_size,n+c]+")"}).attr("fill",function(S){if(S.pred==="C")return"DimGrey";if(S.pred==="E")return"Gold";if(S.pred==="H")return"HotPink"}).attr("stroke",function(S){if(S.pred==="C")return"DimGrey";if(S.pred==="E")return"Gold";if(S.pred==="H")return"HotPink"}).append("svg:title").text(function(S){return S.pred}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("text").attr("transform",function(S,w){return"translate("+[w*e.em_size,n+e.em_size/2]+")"}).text(function(S){return S.pred}).attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black").append("svg:title").text(function(S,w){return w+a}),n+=e.em_size*2,e.container.selectAll("g").data(t).enter().append("text").attr("transform",function(S,w){return"translate("+[w*e.em_size,n+e.em_size/3]+")"}).text(function(S){return S.aa}).attr("font-family","sans-serif").attr("font-weight","bold").attr("fill","black").append("svg:title").text(function(S,w){return w+a}),n}function MU(e,t,r,n){let a=Ji().range([0,e.container_width]).domain(hu(t,r)),s=Ji().range([0,n]).domain(["Conf","Cart","Pred","AA"]);return{x:a,y:s}}function AU(e,t,r,n,a,s){let o=Il().scale(r).tickValues(r.domain().filter(function(l,g){return!((g+1)%10)})),u=zl().scale(n);e[t].append("g").attr("class","axis y").attr("transform","translate("+[e.margin.left,s+e.margin.top]+")").call(u).select(".domain").remove(),e[t].append("g").attr("class","axis x").attr("transform","translate("+[e.margin.left,a+e.margin.top]+")").call(o).selectAll(".domain").remove(),e[t].selectAll("line").remove()}function TU(e){let t=[],r=e.split(`
`),n="",a="",s="";return r.forEach(function(o,u){n+=Nw(o,"Conf: "),a+=Nw(o,"Pred: "),s+=Nw(o,"  AA: ")}),s.split("").forEach(function(o,u){t.push({aa:s[u],pred:a[u],conf:Number(n[u])})}),t}function Nw(e,t){if(e.startsWith(t)){let r=new RegExp("^"+t);return e.replace(r,"")}else return""}var Pw,ofe,sO=ae(()=>{If();Gl();gg();Zn();Zn();Zn();Zn();Zn();Pw=(Ow(),Zw(Lw)),ofe=Hf()});var Jo,oO,xg,bh=ae(()=>{If();g6();Tw();Tw();bg();bg();bg();sO();Zn();Jo=aO,oO=JL,xg=tO});var pu,Iw=ae(()=>{pu=["white","Blue","Green","Red","Magenta","Orange","Aquamarine","Crimson","DarkGreen","BlueViolet","GoldenRod","DarkKhaki","DarkSalmon","DarkTurquoise","DeepSkyBlue","FireBrick","Fuchsia","Gainsboro","HoneyDew","LavenderBlush"]});function dO(e,t){return t.split(`
`).forEach(n=>{let a=n.split("	"),s=parseInt(a[2])-1;a.length==4&&parseFloat(a[3])>=.1&&(e[s].dmpmetal="MB")}),e}function cO(e){let t=e.split(`
`),r=0,n={"CHEBI:48775":"Cd2+","CHEBI:29108":"Ca2+","CHEBI:48828":"Co2+","CHEBI:49415":"Co3+","CHEBI:23378":"Cu cation","CHEBI:49552":"Cu+","CHEBI:29036":"Cu2+","CHEBI:60240":"divalent metal cation","CHEBI:190135":"di-\u03BC-sulfido-diiron","CHEBI:24875":"iron cation","CHEBI:29033":"Fe2+","CHEBI:29034":"Fe3+","CHEBI:30408":"iron-sulfur cluster","CHEBI:49713":"Li+","CHEBI:18420":"Mg2+","CHEBI:29035":"Mn2+","CHEBI:16793":"Hg2+","CHEBI:49786":"Ni2+","CHEBI:60400":"nickel-iron-sulfur cluster","CHEBI:47739":"NiFe4S4 cluster","CHEBI:29103":"K+","CHEBI:29101":"Na+","CHEBI:49883":"tetra-\u03BC3-sulfido-tetrairon","CHEBI:21137":"tri-\u03BC-sulfido-\u03BC3-sulfido-triiron","CHEBI:29105":"Zn2+","CHEBI:177874":"NiFe4S5 cluster","CHEBI:21143":"Fe8S7 iron-sulfur cluster","CHEBI:60504":"iron-sulfur-iron cofactor","CHEBI:25213":"metal cation"},a='<br /><p>Binding residues are reported where estimated p-value 0.1% or greater.</p><table class="small-table table-striped table-bordered" style="width: 100%">';return a+='<tr><th style="width: 10%">Residue ID</th><th style="width: 30%">CHEBI ID</th><th style="width: 30%">Metal</th><th style="width: 30%">P-Value</th></tr>',t.forEach(s=>{let o=s.split("	");o.length==4&&parseFloat(o[3])>=.1&&(r++,a+='<tr><td style="width: 10%">'+o[2]+"</td>",a+='<td style="width: 30%"><a href="https://www.ebi.ac.uk/chebi/searchId.do?chebiId='+o[1]+'">'+o[1]+"</a></td>",a+='<td style="width: 30%">'+n[o[1]]+"</td>",a+='<td style="width: 30%">'+o[3]+"</td></tr>")}),a+="</table><p>There may be lower probability predictions in the Residue Results file.</p>",r===0&&(a="<h4>No binding site residues with p-value >= 0.1 predicted for this sequence. There may be lower probability predictions in the Residue Results file.</h4>"),a}function hO(e){let t=e.split(`
`);t.shift(),e=t[0];let r='<br /><h3>Domain Assignments</h3><table class="small-table table-striped table-bordered"  style="width: 30%" >';r+="<tr><th>Domain ID</th><th>Domain Region</th><th>Colour</th></tr>";let n=e.split("	");return n[7]?(n[7].split(",").forEach((s,o)=>{r+="<tr><td>"+(o+1)+"</td><td>"+s+'</td><td style="background-color:'+pu[o+1]+';">&nbsp;</td></tr>'}),r+="</table>",r+='<div style="width: 100%;"><div style="display: inline-block; width: 100%;">',r+='<h3>B-factor Temperature Key</h3><table class="small-table table-striped table-bordered" style="width: 30%;">',r+="<tr><th>Range</th><th>Colour</th></tr>",r+='<tr><td>Min</td><td style="background-color:#000080">&nbsp;</td></tr>',r+='<tr><td>Mid</td><td style="background-color:#008000">&nbsp;</td></tr>',r+='<tr><td>Max</td><td style="background-color:#800000">&nbsp;</td></tr>',r+="</table>",r+="</div>",r+='<div style="display: inline-block; width: 100%;">',r+='<h3>B-factor plDDT Key</h3><table class="small-table table-striped table-bordered" style="width: 30%;">',r+="<tr><th NOWRAP>Confidence Bin</th><th>plDDT</th><th>Colour</th></tr>",r+='<tr><td>Very High</td><td>>90</td><td style="background-color:rgb(0, 81, 214)">&nbsp;</td></tr>',r+='<tr><td>High</td><td>70-90</td><td style="background-color:rgb(101, 203, 243)">&nbsp;</td></tr>',r+='<tr><td>Low</td><td>50-70</td><td style="background-color:rgb(255, 219, 19)">&nbsp;</td></tr>',r+='<tr><td>Very Low</td><td><50</td><td style="background-color:rgb(255, 125, 69)">&nbsp;</td></tr>',r+="</table>",r+="</div></div>",r):"<br /><h3>NO DOMAIN BOUNDARIES FOUND FOR THIS PDB FILE</h3>"}function pO(e){let t={},r=e.split(",");for(var n=0;n<r.length;n++){let o=r[n].split(":"),u=parseInt(o[0],10),l=parseInt(o[1],10);t[u]=l}var a=Object.values(t),s=Math.max(...a);return[t,s]}function mO(e){let t='<br /><h3>Key</h3><table class="small-table table-striped table-bordered"><tr><td bgcolor="#ff0000" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Hotspot Residue</td></tr>';return t+='<tr><td bgcolor="#ffffff" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Non-Hotspot Residue</td></tr>',t+='<tr><td bgcolor="#0000ff" style="border-style:solid; border-width:1px; border-color:#000000">&nbsp;&nbsp;</td><td>&nbsp;Non-interface residue</td></tr></table><br /><br />',t+="<h3>Residue Predictions</h3>",t+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Score: <input id="min_hs_score" name="min_hs_score" type="text"></td></tr><tr><td class="alnright" >Max Score: <input id="max_hs_score" name="max_hs_score" type="text"></td></tr></tbody></table><br />',t+='<table id="hspred_table" class="table table-striped table-bordered"><thead><tr><th>Chain/Residue</th><th>Residue Identity</th><th>Score</th><th>Highlight Residue</th></thead><tbody>',e.split(`
`).forEach(function(n,a){let s=n.split(/\s+/);s.length===3&&(t+="<tr><td>"+s[0]+"</td><td>"+s[1]+"</td><td>"+s[2]+'</td><td><input type="checkbox" value="'+s[0]+'" id="'+s[0]+`" onClick="psipred.highlight_hs_residue('`+s[0]+`')"=></td></td></tr>`)}),t+="</tbody><tfoot></tfoot><table>",t}function gO(e){let t='<br /><h3>Key</h3><table class="small-table table-striped table-bordered"><tr><td bgcolor="#ff0000" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Metal Binding Contact&nbsp;</h5></td></tr>';t+='<tr><td bgcolor="#000000" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Chain not predicted&nbsp;</h5></td></tr>',t+='<tr><td bgcolor="#0000ff" style="border-style:solid; border-width:1px; border-color:#000000"></td><td><h5>&nbsp;Predicted chain&nbsp;</h5></td></tr></table><br />',t+="<h3>Residue Predictions</h3>",t+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Score: <input id="min_met_score" name="min_met_score" type="text"></td></tr><tr><td class="alnright" >Max Score: <input id="max_met_score" name="max_met_score" type="text"></td></tr></tbody></table><br />',t+='<table id="metsite_table" class="table small-table table-striped table-bordered"><thead><tr><th>Residue</th><th>Raw Neural Network Score</th><th>Highlight Residue</th><thead><tbody>';let r=/\d+\s.+?\s\w{3}\d+/g,n=e.match(r);return n&&n.forEach(function(a,s){let o=a.split(/\s/);t+="<tr><td>"+o[2]+"</td><td>"+o[1]+'</td><td><input type="checkbox" value="'+o[2]+'" id="'+o[2]+`" onClick="psipred.highlight_metsite_residue('`+o[2]+`')"=></td></tr>`}),t+="</tbody><tfoot></tfoot><table>",t}function vO(e){let t=e.split(`
`),r=[],n=[],a=[],s="";return t.forEach(function(o,u){if(o.startsWith("#"))return;let l=o.split("	");l.length<4||(l[3]==="BP"&&r.push(l),l[3]==="CC"&&a.push(l),l[3]==="MF"&&n.push(l))}),s+="<b>Biological Process Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_bp_prob" name="min_bp_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_bp_prob" name="max_bp_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='bp_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",r.forEach(function(o,u){let l="safe";o[2]==="L"&&(l="notsafe"),s+='<tr class="'+l+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="<b>Molecular Function Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_mf_prob" name="min_mf_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_mf_prob" name="max_mf_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='mf_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",n.forEach(function(o,u){let l="safe";o[2]==="L"&&(l="notsafe"),s+='<tr class="'+l+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="<b>Cellular Component Predictions</b><br />",s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min Probability: <input id="min_cc_prob" name="min_cc_prob" type="text"></td></tr><tr><td class="alnright" >Max Probability: <input id="max_cc_prob" name="max_cc_prob" type="text"></td></tr></tbody></table><br />',s+="<table id='cc_table' class='table small-table table-bordered gen-table'><thead><tr><th>GO term</th><th>Name</th><th>Prob</th><th>SVM Reliability</th></tr></thead><tbody>",a.forEach(function(o,u){let l="safe";o[2]==="L"&&(l="notsafe"),s+='<tr class="'+l+'">',s+="<td>"+o[1]+"</td>",s+="<td>"+o[4]+"</td>",s+="<td>"+o[0]+"</td>",s+="<td>"+o[2]+"</td>",s+="</tr>"}),s+="</tbody><tfoot></tfoot></table><br />",s+="These prediction terms represent terms predicted where SVM training includes assigned GO terms across all evidence code types. SVM reliability is regarded as High (H) when MCC, sensitivity, specificity and precision are jointly above a given threshold. otherwise Reliability is indicated as Low (L). <br />",s}function LU(){let e={};return e.A={val:.071783248006309,sde:.027367661524275},e.V={val:.059624595369901,sde:.020377791528745},e.Y={val:.026075068240437,sde:.014822471531379},e.W={val:.014166002612771,sde:.010471835801996},e.T={val:.052593582972714,sde:.020094793964597},e.S={val:.082123241332099,sde:.028687566081512},e.P={val:.065557531322241,sde:.034239398496736},e.F={val:.037103994969002,sde:.018543423139186},e.M={val:.022562818183955,sde:.011321039662481},e.K={val:.054833979269185,sde:.029264083667157},e.L={val:.10010591575906,sde:.030276808519009},e.I={val:.042034526040467,sde:.020826849262495},e.H={val:.027141403537598,sde:.01550566378985},e.G={val:.069179820104536,sde:.030087562057328},e.Q={val:.065920561931801,sde:.030103091008366},e.E={val:.04647846225838,sde:.019946269461736},e.C={val:.024908551872056,sde:.020822909589504},e.D={val:.044337904726041,sde:.018436677256726},e.N={val:.033507020987033,sde:.016536022288204},e.R={val:.05974046903119,sde:.025165994773384},e}function OU(){let e={};return e.hydrophobicity={val:-.34876828080152,sde:.75559152769799},e["percent positive residues"]={val:11.457717466948,sde:3.567133341139},e["aliphatic index"]={val:79.911549319099,sde:16.787617978827},e["isoelectric point"]={val:7.6102046383603,sde:1.9716111020088},e["molecular weight"]={val:48668.412839961,sde:37838.324895969},e.charge={val:5.0991763057604,sde:16.83863659025},e["percent negative residues"]={val:11.026190128176,sde:4.0206631680926},e["molar extinction coefficient"]={val:46475.293923926,sde:39299.399848823},e}function uO(e){let t=Math.abs(e);return t>=2.96?e>0?"signif1p":"signif1n":t>=2.24?e>0?"signif2p":"signif2n":t>=1.96?e>0?"signif5p":"signif5n":t>=1.645?e>0?"signif10p":"signif10n":"plain"}function _O(e){let t=e.split(`
`),r={},n={},a=OU(),s=LU();t.forEach(function(l,g){if(l.startsWith("AA")){let h=l.split("	");n[h[1]]=h[2]}if(l.startsWith("SF")){let h=l.split("	");r[h[1]]=h[2]}});let o='<table align="center" class="small-table table-striped table-bordered ffpred-table"><tr><th>Feature Name</th><th>Value</th><th>Bias</th></tr>';Object.keys(r).sort().forEach(function(l){let g="";l in a&&(g=uO((parseFloat(r[l])-a[l].val)/a[l].sde)),o+="<tr><td>"+l+"</td><td>"+parseFloat(r[l]).toFixed(2)+'</td><td class="'+g+'">&nbsp;&nbsp;&nbsp;</td></tr>'}),o+="</table>";let u="<b>Amino Acid Composition (percentages)</b><br />";return u+='<table width="50%" class="small-table table-striped table-bordered ffpred-table" align="center" ><tr>',Object.keys(n).sort().forEach(function(l){u+='<th width="5%">'+l+"</th>"}),u+="</tr><tr>",Object.keys(n).sort().forEach(function(l){let g="";g=uO((parseFloat(n[l])-s[l].val)/s[l].sde),u+='<td width="5% class="'+g+'">'+(parseFloat(n[l])*100).toFixed(2)+"</td>"}),u+="</tr></table><br />",u+="<b>Significance Key</b><br /><br />",u+='<table width="50%" class="small-table table-striped table-bordered ffpred-table" align="center">',u+="<thead><tr>",u+='<th width="9%" align="left"><b>low</b></th>',u+='<th colspan="9">&nbsp;</th>',u+='<th width="9%" align="right"><b>high</b></th>',u+="</tr></thead>",u+="<tbody><tr>",u+="<td>&nbsp;</td>",u+='<td class="signif1n">p &lt; 0.01</td>',u+='<td class="signif2n">p &lt; 0.02</td>',u+='<td class="signif5n">p &lt; 0.05</td>',u+='<td class="signif10n">p &lt; 0.1</td>',u+="<td>p &gt;= 0.1</td>",u+='<td class="signif10p">p &lt; 0.1</td>',u+='<td class="signif5p">p &lt; 0.05</td>',u+='<td class="signif2p">p &lt; 0.02</td>',u+='<td class="signif1p">p &lt; 0.01</td>',u+="<td>&nbsp</td>",u+="</tr></tbody>",u+="<tfoot><tr>",u+='<td colspan="11">Significance p value is calculated using the Z score of the percent amino acid composition</td>',u+="</tr><tfoot>",u+="</table>",[o,u]}function wg(e,t){let r=e.exec(t);if(r[1].includes(",")){let n=r[1].split(",");return n.forEach(function(a,s){n[s]=a.split("-"),n[s][0]=parseInt(n[s][0]-1),n[s][1]=parseInt(n[s][1]-1)}),n}else if(r[1].includes("-")){let n=r[1].split("-"),a=[[]];return a[0][0]=parseInt(n[0]-1),a[0][1]=parseInt(n[1]-1),a}return r[1]}function bO(e,t){let r=t.split(`
`);return r.shift(),r=r.filter(Boolean),e.length===r.length?r.forEach(function(n,a){let s=n.split(/\s+/);e[a].ss=s[3]}):alert("SS2 annotation length does not match query sequence"),e}function yO(e,t){let r=t.split(`
`);return r.shift(),r.shift(),r.shift(),r.shift(),r.shift(),r=r.filter(Boolean),e.length===r.length?r.forEach(function(n,a){let s=n.split(/\s+/);s[3]==="-"&&(e[a].disopred="D"),s[3]==="^"&&(e[a].disopred="PB")}):alert("PBDAT annotation length does not match query sequence"),e}function xO(e){let t=[],r=e.split(`
`);return r.shift(),r.shift(),r.shift(),r=r.filter(Boolean),r.forEach(function(n,a){let s=n.split(/\s+/);t[a]={},t[a].pos=s[1],t[a].precision=s[4]}),t}function wO(e,t){let r=wg(/Topology:\s+(.+?)\n/,t),n=wg(/Signal\speptide:\s+(.+)\n/,t),a=wg(/Re-entrant\shelices:\s+(.+?)\n/,t),s=wg(/N-terminal:\s+(.+?)\n/,t),o="CY";s==="out"&&(o="EC");let u=new Array(e.length);if(r!=="Not detected."){let l=0;r.forEach(function(g){u=u.fill("TM",g[0],g[1]+1),l>0&&(l-=1),u=u.fill(o,l,g[0]),o==="EC"?o="CY":o="EC",l=g[1]+2}),u=u.fill(o,l-1,e.length)}return n!=="Not detected."&&n.forEach(function(l){u=u.fill("S",l[0],l[1]+1)}),a!=="Not detected."&&a.forEach(function(l){u=u.fill("RH",l[0],l[1]+1)}),u.forEach(function(l,g){e[g].memsat=l}),e}function Cg(e,t,r){let n="http://127.0.0.1:3000";n="http://127.0.0.1:3000/";let a=e.split(`
`),s=null;return Object.keys(t).length>0?(s='<div class="text-right modeller-key" style="visibility: visible;">Modeller Licence Key: <input class="text" value=""><br><br></div>',s+='<table class="filter_table" cellspacing="5" cellpadding="5" border="0"><tbody><tr><td class="alnright"><h4>Filter Table Rows</h4></td></tr><tr><td class="alnright">Min P-Value: <input id="min_'+r+'_pval" name="min_'+r+'_score" type="text"></td></tr><tr><td class="alnright" >Max P-Value: <input id="max_'+r+'_pval" name="max_'+r+'_pval" type="text"></td></tr></tbody></table><br />',s+='<table id="'+r+`_table" class="small-table table-striped table-bordered gen-table"><thead>
`,s+="<tr><th>Conf.</th>",s+="<th>Net Score</th>",s+="<th>p-value</th>",s+="<th>PairE</th>",s+="<th>SolvE</th>",s+="<th>Aln Score</th>",s+="<th>Aln Length</th>",s+="<th>Target Len</th>",s+="<th>Query Len</th>",r==="dgen"?(s+="<th>Region Start</th>",s+="<th>Region End</th>",s+="<th>CATH</th>",s+="<th>SCOP</th>"):(s+="<th>Fold</th>",s+="<th>SCOP</th>",s+="<th>CATH</th>"),s+="<th>PDBSUM</th>",s+="<th>Alignment</th>",s+="<th>MODEL</th>",s+=`</tr></thead><tbody">
`,a.forEach(function(o,u){if(o.length===0)return;let l=o.split(/\s+/),g=l[9];if(r==="dgen"&&(g=l[11]),g+"_"+u in t){s+="<tr>",s+="<td class='"+l[0].toLowerCase()+"'>"+l[0]+"</td>",s+="<td>"+l[1]+"</td>",s+="<td>"+l[2]+"</td>",s+="<td>"+l[3]+"</td>",s+="<td>"+l[4]+"</td>",s+="<td>"+l[5]+"</td>",s+="<td>"+l[6]+"</td>",s+="<td>"+l[7]+"</td>",s+="<td>"+l[8]+"</td>";let h=l[9].substring(0,l[9].length-2);r==="dgen"&&(h=l[11].substring(0,l[11].length-3)),r==="dgen"?(s+="<td>"+l[9]+"</td>",s+="<td>"+l[10]+"</td>",s+="<td><a target='_blank' href='http://www.cathdb.info/version/latest/domain/"+g+"'>"+g+"</a></td>",s+="<td><a target='_blank' href='https://www.ebi.ac.uk/pdbe/scop/search?t=txt;q="+h+"'>SEARCH</a></td>",s+="<td><a target='_blank' href='http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/GetPage.pl?pdbcode="+h+"'>Open</a></td>",s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/msa/?aln="+t[g+"_"+u].aln+"&ann="+t[g+"_"+u].ann+`", "Popup", "scrolling=yes, scrollbars=yes status width=1000 height=400 top=30")' value='View' /></td>`,s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/model/?aln="+t[g+"_"+u].aln+`&type=cath", "Popup", "scrolling=yes, scrollbars=yes status width=500 height=600 top=30")' value='View' /></td>`):(s+="<td><a target='_blank' href='https://www.rcsb.org/pdb/explore/explore.do?structureId="+h+"'>"+g+"</a></td>",s+="<td><a target='_blank' href='https://www.ebi.ac.uk/pdbe/scop/search?t=txt;q="+h+"'>SEARCH</a></td>",s+="<td><a target='_blank' href='http://www.cathdb.info/pdb/"+h+"'>SEARCH</a></td>",s+="<td><a target='_blank' href='http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/GetPage.pl?pdbcode="+h+"'>Open</a></td>",s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/msa/?aln="+t[g+"_"+u].aln+"&ann="+t[g+"_"+u].ann+`", "Popup", "scrolling=yes, scrollbars=yes status width=1000 height=400 top=30")' value='View' /></td>`,s+=`<td><input class='button' type='button' onClick='window.open("`+n+"/model/?aln="+t[g+"_"+u].aln+`&type=pdb", "Popup", "scrolling=yes, scrollbars=yes status width=500 height=600 top=30")' value='View' /></td>`),s+=`</tr>
`}}),s+=`</tbody><tfoot></tfoot></table>
`):s="<h3>No good hits found. GUESS and LOW confidence hits can be found in the results file</h3>",s}function SO(e,t){let n=/Domain\sBoundary\slocations\spredicted\sDPS:\s(.+)/.exec(t);if(n){let a=[];n[1].indexOf(",")?(a=n[1].split(","),a.forEach(function(s,o){a[o]=parseInt(s)})):a[0]=parseInt(n[1]),a.forEach(function(s){e[s].dompred="B"})}return e}function fO(e,t,r,n){let a={},s='<table width="100%" class="small-table table-striped table-bordered ffpred-table" id="'+n+'" align="center"><thead><tr>';r&&(s+="<th>Show</th>",s+="<th>Chopping</th>",s+="<th>plddt</th>"),t?(s+="<th>Hit:CATH</th>",s+="<th>CATH H-Family</th>",s+="<th>Hit:PDB</th>"):(s+="<th>Hit:TED</th>",s+="<th>Get all Atom PDB</th>",s+="<th>CATH H-Family</th>"),s+="<th>Cosine Sim</th>",r&&(s+="<th>Query Length</th>"),s+="<th>Hit Length</th>",s+="<th>Align Length</th>",s+="<th>Seq ID</th>",s+="<th>Max TM</th>",s+="<th>RMSD</th>",t||(s+="<th>Species</th>"),s+="</tr></thead><tbody>";let o=0;return e.forEach(function(u){if(u.length>0){o+=1,s+="<tr>";let l=u.split(/\t+/),g=l.shift();if(r){let v=parseInt(g.slice(-2),10);s+='<td><button class="btn btn-secondary btn-block merizo_tbl_buttons" id="show_msearch_'+v+'">Show</button></td>',a[v]="show_msearch_"+v}let h=[];l.length===15&&(h=l.pop(),h=h.replace(/'/g,'"'),h=JSON.parse(h)),l.forEach(function(v,x){if(!(x===1||x===3||x===10||x===11))if(x===4)if(t)s+='<td><a href="https://www.cathdb.info/version/latest/domain/'+v+'">'+v+"</a></td>",h.cath.includes("NA")?s+="<td>Unassigned</td>":s+='<td><a href="https://www.cathdb.info/version/latest/superfamily/'+h.cath+'">'+h.cath+"</a></td>",s+='<td><a href="https://www.rcsb.org/structure/'+v.substring(0,4)+'">'+v.substring(0,4)+"</a></td>";else{let S=v;S=S.replace("AF-",""),S=S.replace("-F1-model_v4","");let w=S.slice(0,-2);w=w.replace("_TED",""),s+='<td><a href="https://ted.cathdb.info/uniprot/'+w+'">'+S+"</a></td>",s+='<td><a href="https://ted.cathdb.info/api/v1/files/'+v+'.pdb">DOWNLOAD PDB</a></td>',h.cath?h.cath.includes("NA")?s+="<td>Unassigned</td>":s+='<td><a href="https://www.cathdb.info/version/latest/superfamily/'+h.cath+'">'+h.cath+"</a></td>":s+="<td>Unkown</td>"}else!r&&(x===0||x===6||x===2)||(s+="<td>"+v+"</td>")}),t||(h.cath?s+='<td><a href="https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id='+h.taxid+'">'+h.taxsci+"</a></td>":s+="<td>Unkown</td>"),s+="</tr>"}}),s+="</tbody></table>",o===0?{html:"<h2>Merizo Search identified no significant domain hits for this structure after segmentation</h2>",data:{}}:{html:s,data:a}}function CO(e,t){let r=!0;r=!0;let n={},a={},s=e.split(`
`);s.shift(),s.forEach(function(v,x){if(v.length===0)return;let S=v.split(/\t+/);S[5].includes("_TED")&&(r=!1);let w=parseInt(S[0].slice(-2),10);w in n||(n[w]={tm:0,data:[]},a[w]={data:[]}),parseFloat(S[12])>n[w].tm&&(n[w].tm=parseFloat(S[12]),n[w].data=[v]),a[w].data.push(v)});let o=[];for(let[v,x]of Object.entries(n))s=n[v].data,o.push(s[0]);let u=fO(o,r,!0,"toptmtable");u.html='<button align="right" class="btn btn-secondary btn-block merizo_buttons" id="colorByDomains">Re-colour All Segments&nbsp</button><h3>Domains with highest TM Score</h3>'+u.html;let l="",g={},h=[];for(let[v,x]of Object.entries(a)){let S=x.data.slice(0,10),w=fO(S,r,!1,v+"tmtable"),c=x.data[0].split("	");l+="<h3>Domain "+v+": "+c[1]+", Length "+c[7]+"</h3>",l+='<button align="right" class="btn btn-secondary btn-block merizo_buttons" id="show_domain_'+v+'">Show Domain '+v+"&nbsp</button>"+w.html,g[v]="show_domain_"+v,h.push(v+"tmtable")}return{html:u.html,data:u.data,althtml:l,domdata:g,tableids:h}}function kU(e){let t=JSON.parse(e),r='<svg version="1.1" baseProfile="full" width="500" height="30" xmlns="http://www.w3.org/2000/svg" aria-label="chain summary figure role="img">';r+='<rect width="492" height="6" x="4" y="12" fill="#aaaaaa"><title>Unmatched region</title></rect>';let n=0,a=0;return t.forEach(s=>{let o=parseInt(s.clen);o>a&&(a=o)}),t.forEach((s,o)=>{let u=pu[o+1];s.rr.split("_").forEach(g=>{let h=g.split("-");h[0]=parseInt(h[0]),h[1]=parseInt(h[1]);let v=h[0]/a*492,S=h[1]/a*492-v;s.cath==="NA"?r+='<rect width="'+S+'" height="22" x="'+(v+4)+'" y="4" fill="'+u+'"><title>Unassigned CATH : '+g+"</title></rect>":r+='<a href="https://www.cathdb.info/version/latest/superfamily/'+s.cath+'"><rect width="'+S+'" height="22" x="'+(v+4)+'" y="4" fill="'+u+'"><title>'+s.cath+" : "+g+"</title></rect></a>"})}),r+="</svg>",r}function Sg(e,t){let r=!0;e.forEach(a=>{a[6].includes('"ted":')&&(r=!1)});let n="<div><h3>"+t+'</h3><table width="100%" class="small-table table-striped table-bordered ffpred-table" align="center"><thead>';return r?n+='<th>Link to CATH Entry</th><th>Link to PDB Entry</th><th>Total Domains in hit chain</th><th style="width: 500px">MDA Diagram</th></thead><tbody>':n+='<th>Link to TED Entry</th><th>Link to AFDB Entry</th><th>Total Domains in hit chain</th><th style="width: 500px">MDA Diagram</th></thead><tbody>',e.forEach(a=>{if(r){var s=a[2].slice(0,-1);n+='<tr><td><a href="https://cathdb.info/search?q='+a[2]+'">'+a[2]+"</a></td>",n+='<td><a href="https://www.rcsb.org/structure/'+s+'">'+s+"</a></td>"}else{var o=a[2].indexOf("-"),u=a[2].indexOf("-",o+1);let l=a[2].slice(o+1,u);n+='<tr><td><a href="https://ted.cathdb.info/uniprot/'+l+'">'+l+"</a></td>",n+='<td><a href="https://www.alphafold.ebi.ac.uk/entry/'+l+'">'+a[2]+"</a></td>"}n+="<td >"+a[3]+"</td>",n+="<td>"+kU(a[6])+"</td></tr>"}),n+="</tbody></table></div>",n}function EO(e){let t=[],r=[],n=[],a=[];e.split(`
`).forEach(v=>{let x=v.split("	");x[4]=parseInt(x[4]),x[4]===0&&t.push(x),x[4]===1&&r.push(x),x[4]===2&&n.push(x),x[4]===3&&a.push(x)});let o="",u="",l="",g="";return t.length>0?(o=Sg(t.slice(0,10),"Unordered chain matches"),console.log(t)):o="<h3>There are no unordered chain matches for this query</h3>",r.length>0?u=Sg(r.slice(0,10),"Discontiguous chain matches"):u="<h3>There are no discontiguous chain matches for this query</h3>",n.length>0?l=Sg(n.slice(0,10),"Contiguous chain matches"):l="<h3>There are no contiguous chain matches for this query</h3>",a.length>0?g=Sg(a.slice(0,10),"Exact chain matches"):g="<h3>There are exact chain matches for this query</h3>",{unorderedhtml:o,discontightml:u,contightml:l,exacthtml:g,tableids:[]}}var Xn=ae(()=>{Iw()});var DO=zn((zw,Kf)=>{(function(e,t){typeof zw=="object"&&typeof Kf<"u"?Kf.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(zw,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function r(T){e=T}function n(T){return T instanceof Array||Object.prototype.toString.call(T)==="[object Array]"}function a(T){return T!=null&&Object.prototype.toString.call(T)==="[object Object]"}function s(T,F){return Object.prototype.hasOwnProperty.call(T,F)}function o(T){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(T).length===0;var F;for(F in T)if(s(T,F))return!1;return!0}function u(T){return T===void 0}function l(T){return typeof T=="number"||Object.prototype.toString.call(T)==="[object Number]"}function g(T){return T instanceof Date||Object.prototype.toString.call(T)==="[object Date]"}function h(T,F){var Z=[],J,he=T.length;for(J=0;J<he;++J)Z.push(F(T[J],J));return Z}function v(T,F){for(var Z in F)s(F,Z)&&(T[Z]=F[Z]);return s(F,"toString")&&(T.toString=F.toString),s(F,"valueOf")&&(T.valueOf=F.valueOf),T}function x(T,F,Z,J){return xu(T,F,Z,J,!0).utc()}function S(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function w(T){return T._pf==null&&(T._pf=S()),T._pf}var c;Array.prototype.some?c=Array.prototype.some:c=function(T){var F=Object(this),Z=F.length>>>0,J;for(J=0;J<Z;J++)if(J in F&&T.call(this,F[J],J,F))return!0;return!1};function _(T){if(T._isValid==null){var F=w(T),Z=c.call(F.parsedDateParts,function(he){return he!=null}),J=!isNaN(T._d.getTime())&&F.overflow<0&&!F.empty&&!F.invalidEra&&!F.invalidMonth&&!F.invalidWeekday&&!F.weekdayMismatch&&!F.nullInput&&!F.invalidFormat&&!F.userInvalidated&&(!F.meridiem||F.meridiem&&Z);if(T._strict&&(J=J&&F.charsLeftOver===0&&F.unusedTokens.length===0&&F.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(T))T._isValid=J;else return J}return T._isValid}function y(T){var F=x(NaN);return T!=null?v(w(F),T):w(F).userInvalidated=!0,F}var b=t.momentProperties=[],C=!1;function E(T,F){var Z,J,he,Ue=b.length;if(u(F._isAMomentObject)||(T._isAMomentObject=F._isAMomentObject),u(F._i)||(T._i=F._i),u(F._f)||(T._f=F._f),u(F._l)||(T._l=F._l),u(F._strict)||(T._strict=F._strict),u(F._tzm)||(T._tzm=F._tzm),u(F._isUTC)||(T._isUTC=F._isUTC),u(F._offset)||(T._offset=F._offset),u(F._pf)||(T._pf=w(F)),u(F._locale)||(T._locale=F._locale),Ue>0)for(Z=0;Z<Ue;Z++)J=b[Z],he=F[J],u(he)||(T[J]=he);return T}function p(T){E(this,T),this._d=new Date(T._d!=null?T._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),C===!1&&(C=!0,t.updateOffset(this),C=!1)}function f(T){return T instanceof p||T!=null&&T._isAMomentObject!=null}function D(T){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+T)}function M(T,F){var Z=!0;return v(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,T),Z){var J=[],he,Ue,gt,Ht=arguments.length;for(Ue=0;Ue<Ht;Ue++){if(he="",typeof arguments[Ue]=="object"){he+=`
[`+Ue+"] ";for(gt in arguments[0])s(arguments[0],gt)&&(he+=gt+": "+arguments[0][gt]+", ");he=he.slice(0,-2)}else he=arguments[Ue];J.push(he)}D(T+`
Arguments: `+Array.prototype.slice.call(J).join("")+`
`+new Error().stack),Z=!1}return F.apply(this,arguments)},F)}var N={};function O(T,F){t.deprecationHandler!=null&&t.deprecationHandler(T,F),N[T]||(D(F),N[T]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function z(T){return typeof Function<"u"&&T instanceof Function||Object.prototype.toString.call(T)==="[object Function]"}function k(T){var F,Z;for(Z in T)s(T,Z)&&(F=T[Z],z(F)?this[Z]=F:this["_"+Z]=F);this._config=T,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(T,F){var Z=v({},T),J;for(J in F)s(F,J)&&(a(T[J])&&a(F[J])?(Z[J]={},v(Z[J],T[J]),v(Z[J],F[J])):F[J]!=null?Z[J]=F[J]:delete Z[J]);for(J in T)s(T,J)&&!s(F,J)&&a(T[J])&&(Z[J]=v({},Z[J]));return Z}function H(T){T!=null&&this.set(T)}var Y;Object.keys?Y=Object.keys:Y=function(T){var F,Z=[];for(F in T)s(T,F)&&Z.push(F);return Z};var q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function G(T,F,Z){var J=this._calendar[T]||this._calendar.sameElse;return z(J)?J.call(F,Z):J}function $(T,F,Z){var J=""+Math.abs(T),he=F-J.length,Ue=T>=0;return(Ue?Z?"+":"":"-")+Math.pow(10,Math.max(0,he)).toString().substr(1)+J}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,X={},Q={};function te(T,F,Z,J){var he=J;typeof J=="string"&&(he=function(){return this[J]()}),T&&(Q[T]=he),F&&(Q[F[0]]=function(){return $(he.apply(this,arguments),F[1],F[2])}),Z&&(Q[Z]=function(){return this.localeData().ordinal(he.apply(this,arguments),T)})}function we(T){return T.match(/\[[\s\S]/)?T.replace(/^\[|\]$/g,""):T.replace(/\\/g,"")}function Pe(T){var F=T.match(j),Z,J;for(Z=0,J=F.length;Z<J;Z++)Q[F[Z]]?F[Z]=Q[F[Z]]:F[Z]=we(F[Z]);return function(he){var Ue="",gt;for(gt=0;gt<J;gt++)Ue+=z(F[gt])?F[gt].call(he,T):F[gt];return Ue}}function xe(T,F){return T.isValid()?(F=Fe(F,T.localeData()),X[F]=X[F]||Pe(F),X[F](T)):T.localeData().invalidDate()}function Fe(T,F){var Z=5;function J(he){return F.longDateFormat(he)||he}for(V.lastIndex=0;Z>=0&&V.test(T);)T=T.replace(V,J),V.lastIndex=0,Z-=1;return T}var Ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function be(T){var F=this._longDateFormat[T],Z=this._longDateFormat[T.toUpperCase()];return F||!Z?F:(this._longDateFormat[T]=Z.match(j).map(function(J){return J==="MMMM"||J==="MM"||J==="DD"||J==="dddd"?J.slice(1):J}).join(""),this._longDateFormat[T])}var Qe="Invalid date";function Xe(){return this._invalidDate}var U="%d",pe=/\d{1,2}/;function _e(T){return this._ordinal.replace("%d",T)}var ie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function de(T,F,Z,J){var he=this._relativeTime[Z];return z(he)?he(T,F,Z,J):he.replace(/%d/i,T)}function ye(T,F){var Z=this._relativeTime[T>0?"future":"past"];return z(Z)?Z(F):Z.replace(/%s/i,F)}var Re={};function Be(T,F){var Z=T.toLowerCase();Re[Z]=Re[Z+"s"]=Re[F]=T}function Ce(T){return typeof T=="string"?Re[T]||Re[T.toLowerCase()]:void 0}function Ie(T){var F={},Z,J;for(J in T)s(T,J)&&(Z=Ce(J),Z&&(F[Z]=T[J]));return F}var je={};function Ke(T,F){je[T]=F}function Ne(T){var F=[],Z;for(Z in T)s(T,Z)&&F.push({unit:Z,priority:je[Z]});return F.sort(function(J,he){return J.priority-he.priority}),F}function ht(T){return T%4===0&&T%100!==0||T%400===0}function yt(T){return T<0?Math.ceil(T)||0:Math.floor(T)}function le(T){var F=+T,Z=0;return F!==0&&isFinite(F)&&(Z=yt(F)),Z}function ue(T,F){return function(Z){return Z!=null?($e(this,T,Z),t.updateOffset(this,F),this):ge(this,T)}}function ge(T,F){return T.isValid()?T._d["get"+(T._isUTC?"UTC":"")+F]():NaN}function $e(T,F,Z){T.isValid()&&!isNaN(Z)&&(F==="FullYear"&&ht(T.year())&&T.month()===1&&T.date()===29?(Z=le(Z),T._d["set"+(T._isUTC?"UTC":"")+F](Z,T.month(),ta(Z,T.month()))):T._d["set"+(T._isUTC?"UTC":"")+F](Z))}function ke(T){return T=Ce(T),z(this[T])?this[T]():this}function at(T,F){if(typeof T=="object"){T=Ie(T);var Z=Ne(T),J,he=Z.length;for(J=0;J<he;J++)this[Z[J].unit](T[Z[J].unit])}else if(T=Ce(T),z(this[T]))return this[T](F);return this}var ot=/\d/,se=/\d\d/,Ge=/\d{3}/,Je=/\d{4}/,pt=/[+-]?\d{6}/,Le=/\d\d?/,lt=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ft=/\d{1,3}/,At=/\d{1,4}/,W=/[+-]?\d{1,6}/,Ve=/\d+/,Ye=/[+-]?\d+/,ce=/Z|[+-]\d\d:?\d\d/gi,ze=/Z|[+-]\d\d(?::?\d\d)?/gi,tt=/[+-]?\d+(\.\d{1,3})?/,Lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Mt;Mt={};function st(T,F,Z){Mt[T]=z(F)?F:function(J,he){return J&&Z?Z:F}}function qt(T,F){return s(Mt,T)?Mt[T](F._strict,F._locale):new RegExp(Zr(T))}function Zr(T){return Vt(T.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(F,Z,J,he,Ue){return Z||J||he||Ue}))}function Vt(T){return T.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Jt={};function Nt(T,F){var Z,J=F,he;for(typeof T=="string"&&(T=[T]),l(F)&&(J=function(Ue,gt){gt[F]=le(Ue)}),he=T.length,Z=0;Z<he;Z++)Jt[T[Z]]=J}function kr(T,F){Nt(T,function(Z,J,he,Ue){he._w=he._w||{},F(Z,he._w,he,Ue)})}function Mr(T,F,Z){F!=null&&s(Jt,T)&&Jt[T](F,Z._a,Z,T)}var Br=0,nn=1,dr=2,Zt=3,ir=4,Ur=5,Wr=6,wi=7,Ss=8;function xa(T,F){return(T%F+F)%F}var Ar;Array.prototype.indexOf?Ar=Array.prototype.indexOf:Ar=function(T){var F;for(F=0;F<this.length;++F)if(this[F]===T)return F;return-1};function ta(T,F){if(isNaN(T)||isNaN(F))return NaN;var Z=xa(F,12);return T+=(F-Z)/12,Z===1?ht(T)?29:28:31-Z%7%2}te("M",["MM",2],"Mo",function(){return this.month()+1}),te("MMM",0,0,function(T){return this.localeData().monthsShort(this,T)}),te("MMMM",0,0,function(T){return this.localeData().months(this,T)}),Be("month","M"),Ke("month",8),st("M",Le),st("MM",Le,se),st("MMM",function(T,F){return F.monthsShortRegex(T)}),st("MMMM",function(T,F){return F.monthsRegex(T)}),Nt(["M","MM"],function(T,F){F[nn]=le(T)-1}),Nt(["MMM","MMMM"],function(T,F,Z,J){var he=Z._locale.monthsParse(T,J,Z._strict);he!=null?F[nn]=he:w(Z).invalidMonth=T});var Cs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xa="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$a=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,el=Lt,tl=Lt;function qf(T,F){return T?n(this._months)?this._months[T.month()]:this._months[(this._months.isFormat||$a).test(F)?"format":"standalone"][T.month()]:n(this._months)?this._months:this._months.standalone}function Jf(T,F){return T?n(this._monthsShort)?this._monthsShort[T.month()]:this._monthsShort[$a.test(F)?"format":"standalone"][T.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function mu(T,F,Z){var J,he,Ue,gt=T.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],J=0;J<12;++J)Ue=x([2e3,J]),this._shortMonthsParse[J]=this.monthsShort(Ue,"").toLocaleLowerCase(),this._longMonthsParse[J]=this.months(Ue,"").toLocaleLowerCase();return Z?F==="MMM"?(he=Ar.call(this._shortMonthsParse,gt),he!==-1?he:null):(he=Ar.call(this._longMonthsParse,gt),he!==-1?he:null):F==="MMM"?(he=Ar.call(this._shortMonthsParse,gt),he!==-1?he:(he=Ar.call(this._longMonthsParse,gt),he!==-1?he:null)):(he=Ar.call(this._longMonthsParse,gt),he!==-1?he:(he=Ar.call(this._shortMonthsParse,gt),he!==-1?he:null))}function sr(T,F,Z){var J,he,Ue;if(this._monthsParseExact)return mu.call(this,T,F,Z);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),J=0;J<12;J++){if(he=x([2e3,J]),Z&&!this._longMonthsParse[J]&&(this._longMonthsParse[J]=new RegExp("^"+this.months(he,"").replace(".","")+"$","i"),this._shortMonthsParse[J]=new RegExp("^"+this.monthsShort(he,"").replace(".","")+"$","i")),!Z&&!this._monthsParse[J]&&(Ue="^"+this.months(he,"")+"|^"+this.monthsShort(he,""),this._monthsParse[J]=new RegExp(Ue.replace(".",""),"i")),Z&&F==="MMMM"&&this._longMonthsParse[J].test(T))return J;if(Z&&F==="MMM"&&this._shortMonthsParse[J].test(T))return J;if(!Z&&this._monthsParse[J].test(T))return J}}function li(T,F){var Z;if(!T.isValid())return T;if(typeof F=="string"){if(/^\d+$/.test(F))F=le(F);else if(F=T.localeData().monthsParse(F),!l(F))return T}return Z=Math.min(T.date(),ta(T.year(),F)),T._d["set"+(T._isUTC?"UTC":"")+"Month"](F,Z),T}function $n(T){return T!=null?(li(this,T),t.updateOffset(this,!0),this):ge(this,"Month")}function kn(){return ta(this.year(),this.month())}function ui(T){return this._monthsParseExact?(s(this,"_monthsRegex")||so.call(this),T?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=el),this._monthsShortStrictRegex&&T?this._monthsShortStrictRegex:this._monthsShortRegex)}function Qa(T){return this._monthsParseExact?(s(this,"_monthsRegex")||so.call(this),T?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=tl),this._monthsStrictRegex&&T?this._monthsStrictRegex:this._monthsRegex)}function so(){function T(gt,Ht){return Ht.length-gt.length}var F=[],Z=[],J=[],he,Ue;for(he=0;he<12;he++)Ue=x([2e3,he]),F.push(this.monthsShort(Ue,"")),Z.push(this.months(Ue,"")),J.push(this.months(Ue,"")),J.push(this.monthsShort(Ue,""));for(F.sort(T),Z.sort(T),J.sort(T),he=0;he<12;he++)F[he]=Vt(F[he]),Z[he]=Vt(Z[he]);for(he=0;he<24;he++)J[he]=Vt(J[he]);this._monthsRegex=new RegExp("^("+J.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Z.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+F.join("|")+")","i")}te("Y",0,0,function(){var T=this.year();return T<=9999?$(T,4):"+"+T}),te(0,["YY",2],0,function(){return this.year()%100}),te(0,["YYYY",4],0,"year"),te(0,["YYYYY",5],0,"year"),te(0,["YYYYYY",6,!0],0,"year"),Be("year","y"),Ke("year",1),st("Y",Ye),st("YY",Le,se),st("YYYY",At,Je),st("YYYYY",W,pt),st("YYYYYY",W,pt),Nt(["YYYYY","YYYYYY"],Br),Nt("YYYY",function(T,F){F[Br]=T.length===2?t.parseTwoDigitYear(T):le(T)}),Nt("YY",function(T,F){F[Br]=t.parseTwoDigitYear(T)}),Nt("Y",function(T,F){F[Br]=parseInt(T,10)});function wa(T){return ht(T)?366:365}t.parseTwoDigitYear=function(T){return le(T)+(le(T)>68?1900:2e3)};var qa=ue("FullYear",!0);function oo(){return ht(this.year())}function Si(T,F,Z,J,he,Ue,gt){var Ht;return T<100&&T>=0?(Ht=new Date(T+400,F,Z,J,he,Ue,gt),isFinite(Ht.getFullYear())&&Ht.setFullYear(T)):Ht=new Date(T,F,Z,J,he,Ue,gt),Ht}function Ci(T){var F,Z;return T<100&&T>=0?(Z=Array.prototype.slice.call(arguments),Z[0]=T+400,F=new Date(Date.UTC.apply(null,Z)),isFinite(F.getUTCFullYear())&&F.setUTCFullYear(T)):F=new Date(Date.UTC.apply(null,arguments)),F}function fn(T,F,Z){var J=7+F-Z,he=(7+Ci(T,0,J).getUTCDay()-F)%7;return-he+J-1}function Sa(T,F,Z,J,he){var Ue=(7+Z-J)%7,gt=fn(T,J,he),Ht=1+7*(F-1)+Ue+gt,lr,Rr;return Ht<=0?(lr=T-1,Rr=wa(lr)+Ht):Ht>wa(T)?(lr=T+1,Rr=Ht-wa(T)):(lr=T,Rr=Ht),{year:lr,dayOfYear:Rr}}function Xr(T,F,Z){var J=fn(T.year(),F,Z),he=Math.floor((T.dayOfYear()-J-1)/7)+1,Ue,gt;return he<1?(gt=T.year()-1,Ue=he+En(gt,F,Z)):he>En(T.year(),F,Z)?(Ue=he-En(T.year(),F,Z),gt=T.year()+1):(gt=T.year(),Ue=he),{week:Ue,year:gt}}function En(T,F,Z){var J=fn(T,F,Z),he=fn(T+1,F,Z);return(wa(T)-J+he)/7}te("w",["ww",2],"wo","week"),te("W",["WW",2],"Wo","isoWeek"),Be("week","w"),Be("isoWeek","W"),Ke("week",5),Ke("isoWeek",5),st("w",Le),st("ww",Le,se),st("W",Le),st("WW",Le,se),kr(["w","ww","W","WW"],function(T,F,Z,J){F[J.substr(0,1)]=le(T)});function Es(T){return Xr(T,this._week.dow,this._week.doy).week}var Ca={dow:0,doy:6};function gu(){return this._week.dow}function Nn(){return this._week.doy}function Ea(T){var F=this.localeData().week(this);return T==null?F:this.add((T-F)*7,"d")}function vu(T){var F=Xr(this,1,4).week;return T==null?F:this.add((T-F)*7,"d")}te("d",0,"do","day"),te("dd",0,0,function(T){return this.localeData().weekdaysMin(this,T)}),te("ddd",0,0,function(T){return this.localeData().weekdaysShort(this,T)}),te("dddd",0,0,function(T){return this.localeData().weekdays(this,T)}),te("e",0,0,"weekday"),te("E",0,0,"isoWeekday"),Be("day","d"),Be("weekday","e"),Be("isoWeekday","E"),Ke("day",11),Ke("weekday",11),Ke("isoWeekday",11),st("d",Le),st("e",Le),st("E",Le),st("dd",function(T,F){return F.weekdaysMinRegex(T)}),st("ddd",function(T,F){return F.weekdaysShortRegex(T)}),st("dddd",function(T,F){return F.weekdaysRegex(T)}),kr(["dd","ddd","dddd"],function(T,F,Z,J){var he=Z._locale.weekdaysParse(T,J,Z._strict);he!=null?F.d=he:w(Z).invalidWeekday=T}),kr(["d","e","E"],function(T,F,Z,J){F[J]=le(T)});function ra(T,F){return typeof T!="string"?T:isNaN(T)?(T=F.weekdaysParse(T),typeof T=="number"?T:null):parseInt(T,10)}function mn(T,F){return typeof T=="string"?F.weekdaysParse(T)%7||7:isNaN(T)?null:T}function yn(T,F){return T.slice(F,7).concat(T.slice(0,F))}var hr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Da="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),lo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_u=Lt,Ma=Lt,bu=Lt;function rl(T,F){var Z=n(this._weekdays)?this._weekdays:this._weekdays[T&&T!==!0&&this._weekdays.isFormat.test(F)?"format":"standalone"];return T===!0?yn(Z,this._week.dow):T?Z[T.day()]:Z}function na(T){return T===!0?yn(this._weekdaysShort,this._week.dow):T?this._weekdaysShort[T.day()]:this._weekdaysShort}function ed(T){return T===!0?yn(this._weekdaysMin,this._week.dow):T?this._weekdaysMin[T.day()]:this._weekdaysMin}function td(T,F,Z){var J,he,Ue,gt=T.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],J=0;J<7;++J)Ue=x([2e3,1]).day(J),this._minWeekdaysParse[J]=this.weekdaysMin(Ue,"").toLocaleLowerCase(),this._shortWeekdaysParse[J]=this.weekdaysShort(Ue,"").toLocaleLowerCase(),this._weekdaysParse[J]=this.weekdays(Ue,"").toLocaleLowerCase();return Z?F==="dddd"?(he=Ar.call(this._weekdaysParse,gt),he!==-1?he:null):F==="ddd"?(he=Ar.call(this._shortWeekdaysParse,gt),he!==-1?he:null):(he=Ar.call(this._minWeekdaysParse,gt),he!==-1?he:null):F==="dddd"?(he=Ar.call(this._weekdaysParse,gt),he!==-1||(he=Ar.call(this._shortWeekdaysParse,gt),he!==-1)?he:(he=Ar.call(this._minWeekdaysParse,gt),he!==-1?he:null)):F==="ddd"?(he=Ar.call(this._shortWeekdaysParse,gt),he!==-1||(he=Ar.call(this._weekdaysParse,gt),he!==-1)?he:(he=Ar.call(this._minWeekdaysParse,gt),he!==-1?he:null)):(he=Ar.call(this._minWeekdaysParse,gt),he!==-1||(he=Ar.call(this._weekdaysParse,gt),he!==-1)?he:(he=Ar.call(this._shortWeekdaysParse,gt),he!==-1?he:null))}function Ei(T,F,Z){var J,he,Ue;if(this._weekdaysParseExact)return td.call(this,T,F,Z);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),J=0;J<7;J++){if(he=x([2e3,1]).day(J),Z&&!this._fullWeekdaysParse[J]&&(this._fullWeekdaysParse[J]=new RegExp("^"+this.weekdays(he,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[J]=new RegExp("^"+this.weekdaysShort(he,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[J]=new RegExp("^"+this.weekdaysMin(he,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[J]||(Ue="^"+this.weekdays(he,"")+"|^"+this.weekdaysShort(he,"")+"|^"+this.weekdaysMin(he,""),this._weekdaysParse[J]=new RegExp(Ue.replace(".",""),"i")),Z&&F==="dddd"&&this._fullWeekdaysParse[J].test(T))return J;if(Z&&F==="ddd"&&this._shortWeekdaysParse[J].test(T))return J;if(Z&&F==="dd"&&this._minWeekdaysParse[J].test(T))return J;if(!Z&&this._weekdaysParse[J].test(T))return J}}function Ds(T){if(!this.isValid())return T!=null?this:NaN;var F=this._isUTC?this._d.getUTCDay():this._d.getDay();return T!=null?(T=ra(T,this.localeData()),this.add(T-F,"d")):F}function rd(T){if(!this.isValid())return T!=null?this:NaN;var F=(this.day()+7-this.localeData()._week.dow)%7;return T==null?F:this.add(T-F,"d")}function nd(T){if(!this.isValid())return T!=null?this:NaN;if(T!=null){var F=mn(T,this.localeData());return this.day(this.day()%7?F:F-7)}else return this.day()||7}function Ms(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||fo.call(this),T?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=_u),this._weekdaysStrictRegex&&T?this._weekdaysStrictRegex:this._weekdaysRegex)}function nl(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||fo.call(this),T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ma),this._weekdaysShortStrictRegex&&T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function uo(T){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||fo.call(this),T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bu),this._weekdaysMinStrictRegex&&T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fo(){function T(di,Us){return Us.length-di.length}var F=[],Z=[],J=[],he=[],Ue,gt,Ht,lr,Rr;for(Ue=0;Ue<7;Ue++)gt=x([2e3,1]).day(Ue),Ht=Vt(this.weekdaysMin(gt,"")),lr=Vt(this.weekdaysShort(gt,"")),Rr=Vt(this.weekdays(gt,"")),F.push(Ht),Z.push(lr),J.push(Rr),he.push(Ht),he.push(lr),he.push(Rr);F.sort(T),Z.sort(T),J.sort(T),he.sort(T),this._weekdaysRegex=new RegExp("^("+he.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+J.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Z.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+F.join("|")+")","i")}function Ja(){return this.hours()%12||12}function yu(){return this.hours()||24}te("H",["HH",2],0,"hour"),te("h",["hh",2],0,Ja),te("k",["kk",2],0,yu),te("hmm",0,0,function(){return""+Ja.apply(this)+$(this.minutes(),2)}),te("hmmss",0,0,function(){return""+Ja.apply(this)+$(this.minutes(),2)+$(this.seconds(),2)}),te("Hmm",0,0,function(){return""+this.hours()+$(this.minutes(),2)}),te("Hmmss",0,0,function(){return""+this.hours()+$(this.minutes(),2)+$(this.seconds(),2)});function il(T,F){te(T,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),F)})}il("a",!0),il("A",!1),Be("hour","h"),Ke("hour",13);function co(T,F){return F._meridiemParse}st("a",co),st("A",co),st("H",Le),st("h",Le),st("k",Le),st("HH",Le,se),st("hh",Le,se),st("kk",Le,se),st("hmm",lt),st("hmmss",oe),st("Hmm",lt),st("Hmmss",oe),Nt(["H","HH"],Zt),Nt(["k","kk"],function(T,F,Z){var J=le(T);F[Zt]=J===24?0:J}),Nt(["a","A"],function(T,F,Z){Z._isPm=Z._locale.isPM(T),Z._meridiem=T}),Nt(["h","hh"],function(T,F,Z){F[Zt]=le(T),w(Z).bigHour=!0}),Nt("hmm",function(T,F,Z){var J=T.length-2;F[Zt]=le(T.substr(0,J)),F[ir]=le(T.substr(J)),w(Z).bigHour=!0}),Nt("hmmss",function(T,F,Z){var J=T.length-4,he=T.length-2;F[Zt]=le(T.substr(0,J)),F[ir]=le(T.substr(J,2)),F[Ur]=le(T.substr(he)),w(Z).bigHour=!0}),Nt("Hmm",function(T,F,Z){var J=T.length-2;F[Zt]=le(T.substr(0,J)),F[ir]=le(T.substr(J))}),Nt("Hmmss",function(T,F,Z){var J=T.length-4,he=T.length-2;F[Zt]=le(T.substr(0,J)),F[ir]=le(T.substr(J,2)),F[Ur]=le(T.substr(he))});function id(T){return(T+"").toLowerCase().charAt(0)==="p"}var ad=/[ap]\.?m?\.?/i,sd=ue("Hours",!0);function As(T,F,Z){return T>11?Z?"pm":"PM":Z?"am":"AM"}var al={calendar:q,longDateFormat:Ae,invalidDate:Qe,ordinal:U,dayOfMonthOrdinalParse:pe,relativeTime:ie,months:Cs,monthsShort:Xa,week:Ca,weekdays:hr,weekdaysMin:lo,weekdaysShort:Da,meridiemParse:ad},Ir={},Ts={},Ls;function od(T,F){var Z,J=Math.min(T.length,F.length);for(Z=0;Z<J;Z+=1)if(T[Z]!==F[Z])return Z;return J}function A(T){return T&&T.toLowerCase().replace("_","-")}function P(T){for(var F=0,Z,J,he,Ue;F<T.length;){for(Ue=A(T[F]).split("-"),Z=Ue.length,J=A(T[F+1]),J=J?J.split("-"):null;Z>0;){if(he=K(Ue.slice(0,Z).join("-")),he)return he;if(J&&J.length>=Z&&od(Ue,J)>=Z-1)break;Z--}F++}return Ls}function R(T){return T.match("^[^/\\\\]*$")!=null}function K(T){var F=null,Z;if(Ir[T]===void 0&&typeof Kf<"u"&&Kf&&Kf.exports&&R(T))try{F=Ls._abbr,Z=ml,Z("./locale/"+T),ee(F)}catch{Ir[T]=null}return Ir[T]}function ee(T,F){var Z;return T&&(u(F)?Z=Oe(T):Z=re(T,F),Z?Ls=Z:typeof console<"u"&&console.warn&&console.warn("Locale "+T+" not found. Did you forget to load it?")),Ls._abbr}function re(T,F){if(F!==null){var Z,J=al;if(F.abbr=T,Ir[T]!=null)O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),J=Ir[T]._config;else if(F.parentLocale!=null)if(Ir[F.parentLocale]!=null)J=Ir[F.parentLocale]._config;else if(Z=K(F.parentLocale),Z!=null)J=Z._config;else return Ts[F.parentLocale]||(Ts[F.parentLocale]=[]),Ts[F.parentLocale].push({name:T,config:F}),null;return Ir[T]=new H(I(J,F)),Ts[T]&&Ts[T].forEach(function(he){re(he.name,he.config)}),ee(T),Ir[T]}else return delete Ir[T],null}function fe(T,F){if(F!=null){var Z,J,he=al;Ir[T]!=null&&Ir[T].parentLocale!=null?Ir[T].set(I(Ir[T]._config,F)):(J=K(T),J!=null&&(he=J._config),F=I(he,F),J==null&&(F.abbr=T),Z=new H(F),Z.parentLocale=Ir[T],Ir[T]=Z),ee(T)}else Ir[T]!=null&&(Ir[T].parentLocale!=null?(Ir[T]=Ir[T].parentLocale,T===ee()&&ee(T)):Ir[T]!=null&&delete Ir[T]);return Ir[T]}function Oe(T){var F;if(T&&T._locale&&T._locale._abbr&&(T=T._locale._abbr),!T)return Ls;if(!n(T)){if(F=K(T),F)return F;T=[T]}return P(T)}function Te(){return Y(Ir)}function Ze(T){var F,Z=T._a;return Z&&w(T).overflow===-2&&(F=Z[nn]<0||Z[nn]>11?nn:Z[dr]<1||Z[dr]>ta(Z[Br],Z[nn])?dr:Z[Zt]<0||Z[Zt]>24||Z[Zt]===24&&(Z[ir]!==0||Z[Ur]!==0||Z[Wr]!==0)?Zt:Z[ir]<0||Z[ir]>59?ir:Z[Ur]<0||Z[Ur]>59?Ur:Z[Wr]<0||Z[Wr]>999?Wr:-1,w(T)._overflowDayOfYear&&(F<Br||F>dr)&&(F=dr),w(T)._overflowWeeks&&F===-1&&(F=wi),w(T)._overflowWeekday&&F===-1&&(F=Ss),w(T).overflow=F),T}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nt=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Kt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ur=/^\/?Date\((-?\d+)/i,tr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function tn(T){var F,Z,J=T._i,he=ct.exec(J)||_t.exec(J),Ue,gt,Ht,lr,Rr=wt.length,di=Kt.length;if(he){for(w(T).iso=!0,F=0,Z=Rr;F<Z;F++)if(wt[F][1].exec(he[1])){gt=wt[F][0],Ue=wt[F][2]!==!1;break}if(gt==null){T._isValid=!1;return}if(he[3]){for(F=0,Z=di;F<Z;F++)if(Kt[F][1].exec(he[3])){Ht=(he[2]||" ")+Kt[F][0];break}if(Ht==null){T._isValid=!1;return}}if(!Ue&&Ht!=null){T._isValid=!1;return}if(he[4])if(nt.exec(he[4]))lr="Z";else{T._isValid=!1;return}T._f=gt+(Ht||"")+(lr||""),Li(T)}else T._isValid=!1}function Di(T,F,Z,J,he,Ue){var gt=[Wn(T),Xa.indexOf(F),parseInt(Z,10),parseInt(J,10),parseInt(he,10)];return Ue&&gt.push(parseInt(Ue,10)),gt}function Wn(T){var F=parseInt(T,10);return F<=49?2e3+F:F<=999?1900+F:F}function or(T){return T.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Aa(T,F,Z){if(T){var J=Da.indexOf(T),he=new Date(F[0],F[1],F[2]).getDay();if(J!==he)return w(Z).weekdayMismatch=!0,Z._isValid=!1,!1}return!0}function pr(T,F,Z){if(T)return gn[T];if(F)return 0;var J=parseInt(Z,10),he=J%100,Ue=(J-he)/100;return Ue*60+he}function Gr(T){var F=tr.exec(or(T._i)),Z;if(F){if(Z=Di(F[4],F[3],F[2],F[5],F[6],F[7]),!Aa(F[1],Z,T))return;T._a=Z,T._tzm=pr(F[8],F[9],F[10]),T._d=Ci.apply(null,T._a),T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),w(T).rfc2822=!0}else T._isValid=!1}function Ri(T){var F=ur.exec(T._i);if(F!==null){T._d=new Date(+F[1]);return}if(tn(T),T._isValid===!1)delete T._isValid;else return;if(Gr(T),T._isValid===!1)delete T._isValid;else return;T._strict?T._isValid=!1:t.createFromInputFallback(T)}t.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(T){T._d=new Date(T._i+(T._useUTC?" UTC":""))});function Mi(T,F,Z){return T??F??Z}function Ai(T){var F=new Date(t.now());return T._useUTC?[F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate()]:[F.getFullYear(),F.getMonth(),F.getDate()]}function Ta(T){var F,Z,J=[],he,Ue,gt;if(!T._d){for(he=Ai(T),T._w&&T._a[dr]==null&&T._a[nn]==null&&Ti(T),T._dayOfYear!=null&&(gt=Mi(T._a[Br],he[Br]),(T._dayOfYear>wa(gt)||T._dayOfYear===0)&&(w(T)._overflowDayOfYear=!0),Z=Ci(gt,0,T._dayOfYear),T._a[nn]=Z.getUTCMonth(),T._a[dr]=Z.getUTCDate()),F=0;F<3&&T._a[F]==null;++F)T._a[F]=J[F]=he[F];for(;F<7;F++)T._a[F]=J[F]=T._a[F]==null?F===2?1:0:T._a[F];T._a[Zt]===24&&T._a[ir]===0&&T._a[Ur]===0&&T._a[Wr]===0&&(T._nextDay=!0,T._a[Zt]=0),T._d=(T._useUTC?Ci:Si).apply(null,J),Ue=T._useUTC?T._d.getUTCDay():T._d.getDay(),T._tzm!=null&&T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),T._nextDay&&(T._a[Zt]=24),T._w&&typeof T._w.d<"u"&&T._w.d!==Ue&&(w(T).weekdayMismatch=!0)}}function Ti(T){var F,Z,J,he,Ue,gt,Ht,lr,Rr;F=T._w,F.GG!=null||F.W!=null||F.E!=null?(Ue=1,gt=4,Z=Mi(F.GG,T._a[Br],Xr(wr(),1,4).year),J=Mi(F.W,1),he=Mi(F.E,1),(he<1||he>7)&&(lr=!0)):(Ue=T._locale._week.dow,gt=T._locale._week.doy,Rr=Xr(wr(),Ue,gt),Z=Mi(F.gg,T._a[Br],Rr.year),J=Mi(F.w,Rr.week),F.d!=null?(he=F.d,(he<0||he>6)&&(lr=!0)):F.e!=null?(he=F.e+Ue,(F.e<0||F.e>6)&&(lr=!0)):he=Ue),J<1||J>En(Z,Ue,gt)?w(T)._overflowWeeks=!0:lr!=null?w(T)._overflowWeekday=!0:(Ht=Sa(Z,J,he,Ue,gt),T._a[Br]=Ht.year,T._dayOfYear=Ht.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Li(T){if(T._f===t.ISO_8601){tn(T);return}if(T._f===t.RFC_2822){Gr(T);return}T._a=[],w(T).empty=!0;var F=""+T._i,Z,J,he,Ue,gt,Ht=F.length,lr=0,Rr,di;for(he=Fe(T._f,T._locale).match(j)||[],di=he.length,Z=0;Z<di;Z++)Ue=he[Z],J=(F.match(qt(Ue,T))||[])[0],J&&(gt=F.substr(0,F.indexOf(J)),gt.length>0&&w(T).unusedInput.push(gt),F=F.slice(F.indexOf(J)+J.length),lr+=J.length),Q[Ue]?(J?w(T).empty=!1:w(T).unusedTokens.push(Ue),Mr(Ue,J,T)):T._strict&&!J&&w(T).unusedTokens.push(Ue);w(T).charsLeftOver=Ht-lr,F.length>0&&w(T).unusedInput.push(F),T._a[Zt]<=12&&w(T).bigHour===!0&&T._a[Zt]>0&&(w(T).bigHour=void 0),w(T).parsedDateParts=T._a.slice(0),w(T).meridiem=T._meridiem,T._a[Zt]=ia(T._locale,T._a[Zt],T._meridiem),Rr=w(T).era,Rr!==null&&(T._a[Br]=T._locale.erasConvertYear(Rr,T._a[Br])),Ta(T),Ze(T)}function ia(T,F,Z){var J;return Z==null?F:T.meridiemHour!=null?T.meridiemHour(F,Z):(T.isPM!=null&&(J=T.isPM(Z),J&&F<12&&(F+=12),!J&&F===12&&(F=0)),F)}function Qn(T){var F,Z,J,he,Ue,gt,Ht=!1,lr=T._f.length;if(lr===0){w(T).invalidFormat=!0,T._d=new Date(NaN);return}for(he=0;he<lr;he++)Ue=0,gt=!1,F=E({},T),T._useUTC!=null&&(F._useUTC=T._useUTC),F._f=T._f[he],Li(F),_(F)&&(gt=!0),Ue+=w(F).charsLeftOver,Ue+=w(F).unusedTokens.length*10,w(F).score=Ue,Ht?Ue<J&&(J=Ue,Z=F):(J==null||Ue<J||gt)&&(J=Ue,Z=F,gt&&(Ht=!0));v(T,Z||F)}function sl(T){if(!T._d){var F=Ie(T._i),Z=F.day===void 0?F.date:F.day;T._a=h([F.year,F.month,Z,F.hour,F.minute,F.second,F.millisecond],function(J){return J&&parseInt(J,10)}),Ta(T)}}function ji(T){var F=new p(Ze(Gn(T)));return F._nextDay&&(F.add(1,"d"),F._nextDay=void 0),F}function Gn(T){var F=T._i,Z=T._f;return T._locale=T._locale||Oe(T._l),F===null||Z===void 0&&F===""?y({nullInput:!0}):(typeof F=="string"&&(T._i=F=T._locale.preparse(F)),f(F)?new p(Ze(F)):(g(F)?T._d=F:n(Z)?Qn(T):Z?Li(T):ld(T),_(T)||(T._d=null),T))}function ld(T){var F=T._i;u(F)?T._d=new Date(t.now()):g(F)?T._d=new Date(F.valueOf()):typeof F=="string"?Ri(T):n(F)?(T._a=h(F.slice(0),function(Z){return parseInt(Z,10)}),Ta(T)):a(F)?sl(T):l(F)?T._d=new Date(F):t.createFromInputFallback(T)}function xu(T,F,Z,J,he){var Ue={};return(F===!0||F===!1)&&(J=F,F=void 0),(Z===!0||Z===!1)&&(J=Z,Z=void 0),(a(T)&&o(T)||n(T)&&T.length===0)&&(T=void 0),Ue._isAMomentObject=!0,Ue._useUTC=Ue._isUTC=he,Ue._l=Z,Ue._i=T,Ue._f=F,Ue._strict=J,ji(Ue)}function wr(T,F,Z,J){return xu(T,F,Z,J,!1)}var Cr=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=wr.apply(null,arguments);return this.isValid()&&T.isValid()?T<this?this:T:y()}),Os=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=wr.apply(null,arguments);return this.isValid()&&T.isValid()?T>this?this:T:y()});function Hn(T,F){var Z,J;if(F.length===1&&n(F[0])&&(F=F[0]),!F.length)return wr();for(Z=F[0],J=1;J<F.length;++J)(!F[J].isValid()||F[J][T](Z))&&(Z=F[J]);return Z}function aa(){var T=[].slice.call(arguments,0);return Hn("isBefore",T)}function wu(){var T=[].slice.call(arguments,0);return Hn("isAfter",T)}var ud=function(){return Date.now?Date.now():+new Date},es=["year","quarter","month","week","day","hour","minute","second","millisecond"];function La(T){var F,Z=!1,J,he=es.length;for(F in T)if(s(T,F)&&!(Ar.call(es,F)!==-1&&(T[F]==null||!isNaN(T[F]))))return!1;for(J=0;J<he;++J)if(T[es[J]]){if(Z)return!1;parseFloat(T[es[J]])!==le(T[es[J]])&&(Z=!0)}return!0}function ol(){return this._isValid}function Oa(){return jt(NaN)}function Wi(T){var F=Ie(T),Z=F.year||0,J=F.quarter||0,he=F.month||0,Ue=F.week||F.isoWeek||0,gt=F.day||0,Ht=F.hour||0,lr=F.minute||0,Rr=F.second||0,di=F.millisecond||0;this._isValid=La(F),this._milliseconds=+di+Rr*1e3+lr*6e4+Ht*1e3*60*60,this._days=+gt+Ue*7,this._months=+he+J*3+Z*12,this._data={},this._locale=Oe(),this._bubble()}function ka(T){return T instanceof Wi}function Na(T){return T<0?Math.round(-1*T)*-1:Math.round(T)}function ks(T,F,Z){var J=Math.min(T.length,F.length),he=Math.abs(T.length-F.length),Ue=0,gt;for(gt=0;gt<J;gt++)(Z&&T[gt]!==F[gt]||!Z&&le(T[gt])!==le(F[gt]))&&Ue++;return Ue+he}function Ns(T,F){te(T,0,0,function(){var Z=this.utcOffset(),J="+";return Z<0&&(Z=-Z,J="-"),J+$(~~(Z/60),2)+F+$(~~Z%60,2)})}Ns("Z",":"),Ns("ZZ",""),st("Z",ze),st("ZZ",ze),Nt(["Z","ZZ"],function(T,F,Z){Z._useUTC=!0,Z._tzm=Gi(ze,T)});var fd=/([\+\-]|\d\d)/gi;function Gi(T,F){var Z=(F||"").match(T),J,he,Ue;return Z===null?null:(J=Z[Z.length-1]||[],he=(J+"").match(fd)||["-",0,0],Ue=+(he[1]*60)+le(he[2]),Ue===0?0:he[0]==="+"?Ue:-Ue)}function fi(T,F){var Z,J;return F._isUTC?(Z=F.clone(),J=(f(T)||g(T)?T.valueOf():wr(T).valueOf())-Z.valueOf(),Z._d.setTime(Z._d.valueOf()+J),t.updateOffset(Z,!1),Z):wr(T).local()}function Ps(T){return-Math.round(T._d.getTimezoneOffset())}t.updateOffset=function(){};function dd(T,F,Z){var J=this._offset||0,he;if(!this.isValid())return T!=null?this:NaN;if(T!=null){if(typeof T=="string"){if(T=Gi(ze,T),T===null)return this}else Math.abs(T)<16&&!Z&&(T=T*60);return!this._isUTC&&F&&(he=Ps(this)),this._offset=T,this._isUTC=!0,he!=null&&this.add(he,"m"),J!==T&&(!F||this._changeInProgress?vn(this,jt(T-J,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?J:Ps(this)}function Pn(T,F){return T!=null?(typeof T!="string"&&(T=-T),this.utcOffset(T,F),this):-this.utcOffset()}function ll(T){return this.utcOffset(0,T)}function Se(T){return this._isUTC&&(this.utcOffset(0,T),this._isUTC=!1,T&&this.subtract(Ps(this),"m")),this}function We(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var T=Gi(ce,this._i);T!=null?this.utcOffset(T):this.utcOffset(0,!0)}return this}function rt(T){return this.isValid()?(T=T?wr(T).utcOffset():0,(this.utcOffset()-T)%60===0):!1}function dt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function vt(){if(!u(this._isDSTShifted))return this._isDSTShifted;var T={},F;return E(T,this),T=Gn(T),T._a?(F=T._isUTC?x(T._a):wr(T._a),this._isDSTShifted=this.isValid()&&ks(T._a,F.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tt(){return this.isValid()?!this._isUTC:!1}function Ot(){return this.isValid()?this._isUTC:!1}function Bt(){return this.isValid()?this._isUTC&&this._offset===0:!1}var kt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ar=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jt(T,F){var Z=T,J=null,he,Ue,gt;return ka(T)?Z={ms:T._milliseconds,d:T._days,M:T._months}:l(T)||!isNaN(+T)?(Z={},F?Z[F]=+T:Z.milliseconds=+T):(J=kt.exec(T))?(he=J[1]==="-"?-1:1,Z={y:0,d:le(J[dr])*he,h:le(J[Zt])*he,m:le(J[ir])*he,s:le(J[Ur])*he,ms:le(Na(J[Wr]*1e3))*he}):(J=ar.exec(T))?(he=J[1]==="-"?-1:1,Z={y:Gt(J[2],he),M:Gt(J[3],he),w:Gt(J[4],he),d:Gt(J[5],he),h:Gt(J[6],he),m:Gt(J[7],he),s:Gt(J[8],he)}):Z==null?Z={}:typeof Z=="object"&&("from"in Z||"to"in Z)&&(gt=Wt(wr(Z.from),wr(Z.to)),Z={},Z.ms=gt.milliseconds,Z.M=gt.months),Ue=new Wi(Z),ka(T)&&s(T,"_locale")&&(Ue._locale=T._locale),ka(T)&&s(T,"_isValid")&&(Ue._isValid=T._isValid),Ue}jt.fn=Wi.prototype,jt.invalid=Oa;function Gt(T,F){var Z=T&&parseFloat(T.replace(",","."));return(isNaN(Z)?0:Z)*F}function rr(T,F){var Z={};return Z.months=F.month()-T.month()+(F.year()-T.year())*12,T.clone().add(Z.months,"M").isAfter(F)&&--Z.months,Z.milliseconds=+F-+T.clone().add(Z.months,"M"),Z}function Wt(T,F){var Z;return T.isValid()&&F.isValid()?(F=fi(F,T),T.isBefore(F)?Z=rr(T,F):(Z=rr(F,T),Z.milliseconds=-Z.milliseconds,Z.months=-Z.months),Z):{milliseconds:0,months:0}}function fr(T,F){return function(Z,J){var he,Ue;return J!==null&&!isNaN(+J)&&(O(F,"moment()."+F+"(period, number) is deprecated. Please use moment()."+F+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ue=Z,Z=J,J=Ue),he=jt(Z,J),vn(this,he,T),this}}function vn(T,F,Z,J){var he=F._milliseconds,Ue=Na(F._days),gt=Na(F._months);T.isValid()&&(J=J??!0,gt&&li(T,ge(T,"Month")+gt*Z),Ue&&$e(T,"Date",ge(T,"Date")+Ue*Z),he&&T._d.setTime(T._d.valueOf()+he*Z),J&&t.updateOffset(T,Ue||gt))}var _n=fr(1,"add"),In=fr(-1,"subtract");function qn(T){return typeof T=="string"||T instanceof String}function Pa(T){return f(T)||g(T)||qn(T)||l(T)||wh(T)||xn(T)||T===null||T===void 0}function xn(T){var F=a(T)&&!o(T),Z=!1,J=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],he,Ue,gt=J.length;for(he=0;he<gt;he+=1)Ue=J[he],Z=Z||s(T,Ue);return F&&Z}function wh(T){var F=n(T),Z=!1;return F&&(Z=T.filter(function(J){return!l(J)&&qn(T)}).length===0),F&&Z}function Su(T){var F=a(T)&&!o(T),Z=!1,J=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],he,Ue;for(he=0;he<J.length;he+=1)Ue=J[he],Z=Z||s(T,Ue);return F&&Z}function Cu(T,F){var Z=T.diff(F,"days",!0);return Z<-6?"sameElse":Z<-1?"lastWeek":Z<0?"lastDay":Z<1?"sameDay":Z<2?"nextDay":Z<7?"nextWeek":"sameElse"}function Sh(T,F){arguments.length===1&&(arguments[0]?Pa(arguments[0])?(T=arguments[0],F=void 0):Su(arguments[0])&&(F=arguments[0],T=void 0):(T=void 0,F=void 0));var Z=T||wr(),J=fi(Z,this).startOf("day"),he=t.calendarFormat(this,J)||"sameElse",Ue=F&&(z(F[he])?F[he].call(this,Z):F[he]);return this.format(Ue||this.localeData().calendar(he,this,wr(Z)))}function Ch(){return new p(this)}function Eh(T,F){var Z=f(T)?T:wr(T);return this.isValid()&&Z.isValid()?(F=Ce(F)||"millisecond",F==="millisecond"?this.valueOf()>Z.valueOf():Z.valueOf()<this.clone().startOf(F).valueOf()):!1}function Dh(T,F){var Z=f(T)?T:wr(T);return this.isValid()&&Z.isValid()?(F=Ce(F)||"millisecond",F==="millisecond"?this.valueOf()<Z.valueOf():this.clone().endOf(F).valueOf()<Z.valueOf()):!1}function Mh(T,F,Z,J){var he=f(T)?T:wr(T),Ue=f(F)?F:wr(F);return this.isValid()&&he.isValid()&&Ue.isValid()?(J=J||"()",(J[0]==="("?this.isAfter(he,Z):!this.isBefore(he,Z))&&(J[1]===")"?this.isBefore(Ue,Z):!this.isAfter(Ue,Z))):!1}function cd(T,F){var Z=f(T)?T:wr(T),J;return this.isValid()&&Z.isValid()?(F=Ce(F)||"millisecond",F==="millisecond"?this.valueOf()===Z.valueOf():(J=Z.valueOf(),this.clone().startOf(F).valueOf()<=J&&J<=this.clone().endOf(F).valueOf())):!1}function Ah(T,F){return this.isSame(T,F)||this.isAfter(T,F)}function Th(T,F){return this.isSame(T,F)||this.isBefore(T,F)}function Vr(T,F,Z){var J,he,Ue;if(!this.isValid())return NaN;if(J=fi(T,this),!J.isValid())return NaN;switch(he=(J.utcOffset()-this.utcOffset())*6e4,F=Ce(F),F){case"year":Ue=ul(this,J)/12;break;case"month":Ue=ul(this,J);break;case"quarter":Ue=ul(this,J)/3;break;case"second":Ue=(this-J)/1e3;break;case"minute":Ue=(this-J)/6e4;break;case"hour":Ue=(this-J)/36e5;break;case"day":Ue=(this-J-he)/864e5;break;case"week":Ue=(this-J-he)/6048e5;break;default:Ue=this-J}return Z?Ue:yt(Ue)}function ul(T,F){if(T.date()<F.date())return-ul(F,T);var Z=(F.year()-T.year())*12+(F.month()-T.month()),J=T.clone().add(Z,"months"),he,Ue;return F-J<0?(he=T.clone().add(Z-1,"months"),Ue=(F-J)/(J-he)):(he=T.clone().add(Z+1,"months"),Ue=(F-J)/(he-J)),-(Z+Ue)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Lh(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Hg(T){if(!this.isValid())return null;var F=T!==!0,Z=F?this.clone().utc():this;return Z.year()<0||Z.year()>9999?xe(Z,F?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?F?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",xe(Z,"Z")):xe(Z,F?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Vg(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var T="moment",F="",Z,J,he,Ue;return this.isLocal()||(T=this.utcOffset()===0?"moment.utc":"moment.parseZone",F="Z"),Z="["+T+'("]',J=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",he="-MM-DD[T]HH:mm:ss.SSS",Ue=F+'[")]',this.format(Z+J+he+Ue)}function Yw(T){T||(T=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var F=xe(this,T);return this.localeData().postformat(F)}function Yg(T,F){return this.isValid()&&(f(T)&&T.isValid()||wr(T).isValid())?jt({to:this,from:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()}function Oh(T){return this.from(wr(),T)}function Kg(T,F){return this.isValid()&&(f(T)&&T.isValid()||wr(T).isValid())?jt({from:this,to:T}).locale(this.locale()).humanize(!F):this.localeData().invalidDate()}function Is(T){return this.to(wr(),T)}function hd(T){var F;return T===void 0?this._locale._abbr:(F=Oe(T),F!=null&&(this._locale=F),this)}var pd=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(T){return T===void 0?this.localeData():this.locale(T)});function md(){return this._locale}var fl=1e3,ho=60*fl,dl=60*ho,Eu=(365*400+97)*24*dl;function ts(T,F){return(T%F+F)%F}function kh(T,F,Z){return T<100&&T>=0?new Date(T+400,F,Z)-Eu:new Date(T,F,Z).valueOf()}function gd(T,F,Z){return T<100&&T>=0?Date.UTC(T+400,F,Z)-Eu:Date.UTC(T,F,Z)}function Zg(T){var F,Z;if(T=Ce(T),T===void 0||T==="millisecond"||!this.isValid())return this;switch(Z=this._isUTC?gd:kh,T){case"year":F=Z(this.year(),0,1);break;case"quarter":F=Z(this.year(),this.month()-this.month()%3,1);break;case"month":F=Z(this.year(),this.month(),1);break;case"week":F=Z(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":F=Z(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":F=Z(this.year(),this.month(),this.date());break;case"hour":F=this._d.valueOf(),F-=ts(F+(this._isUTC?0:this.utcOffset()*ho),dl);break;case"minute":F=this._d.valueOf(),F-=ts(F,ho);break;case"second":F=this._d.valueOf(),F-=ts(F,fl);break}return this._d.setTime(F),t.updateOffset(this,!0),this}function Xg(T){var F,Z;if(T=Ce(T),T===void 0||T==="millisecond"||!this.isValid())return this;switch(Z=this._isUTC?gd:kh,T){case"year":F=Z(this.year()+1,0,1)-1;break;case"quarter":F=Z(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":F=Z(this.year(),this.month()+1,1)-1;break;case"week":F=Z(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":F=Z(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":F=Z(this.year(),this.month(),this.date()+1)-1;break;case"hour":F=this._d.valueOf(),F+=dl-ts(F+(this._isUTC?0:this.utcOffset()*ho),dl)-1;break;case"minute":F=this._d.valueOf(),F+=ho-ts(F,ho)-1;break;case"second":F=this._d.valueOf(),F+=fl-ts(F,fl)-1;break}return this._d.setTime(F),t.updateOffset(this,!0),this}function $g(){return this._d.valueOf()-(this._offset||0)*6e4}function Qg(){return Math.floor(this.valueOf()/1e3)}function qg(){return new Date(this.valueOf())}function Jg(){var T=this;return[T.year(),T.month(),T.date(),T.hour(),T.minute(),T.second(),T.millisecond()]}function ev(){var T=this;return{years:T.year(),months:T.month(),date:T.date(),hours:T.hours(),minutes:T.minutes(),seconds:T.seconds(),milliseconds:T.milliseconds()}}function tv(){return this.isValid()?this.toISOString():null}function rv(){return _(this)}function nv(){return v({},w(this))}function iv(){return w(this).overflow}function av(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}te("N",0,0,"eraAbbr"),te("NN",0,0,"eraAbbr"),te("NNN",0,0,"eraAbbr"),te("NNNN",0,0,"eraName"),te("NNNNN",0,0,"eraNarrow"),te("y",["y",1],"yo","eraYear"),te("y",["yy",2],0,"eraYear"),te("y",["yyy",3],0,"eraYear"),te("y",["yyyy",4],0,"eraYear"),st("N",hl),st("NN",hl),st("NNN",hl),st("NNNN",cv),st("NNNNN",Ph),Nt(["N","NN","NNN","NNNN","NNNNN"],function(T,F,Z,J){var he=Z._locale.erasParse(T,J,Z._strict);he?w(Z).era=he:w(Z).invalidEra=T}),st("y",Ve),st("yy",Ve),st("yyy",Ve),st("yyyy",Ve),st("yo",hv),Nt(["y","yy","yyy","yyyy"],Br),Nt(["yo"],function(T,F,Z,J){var he;Z._locale._eraYearOrdinalRegex&&(he=T.match(Z._locale._eraYearOrdinalRegex)),Z._locale.eraYearOrdinalParse?F[Br]=Z._locale.eraYearOrdinalParse(T,he):F[Br]=parseInt(T,10)});function sv(T,F){var Z,J,he,Ue=this._eras||Oe("en")._eras;for(Z=0,J=Ue.length;Z<J;++Z){switch(typeof Ue[Z].since){case"string":he=t(Ue[Z].since).startOf("day"),Ue[Z].since=he.valueOf();break}switch(typeof Ue[Z].until){case"undefined":Ue[Z].until=1/0;break;case"string":he=t(Ue[Z].until).startOf("day").valueOf(),Ue[Z].until=he.valueOf();break}}return Ue}function ov(T,F,Z){var J,he,Ue=this.eras(),gt,Ht,lr;for(T=T.toUpperCase(),J=0,he=Ue.length;J<he;++J)if(gt=Ue[J].name.toUpperCase(),Ht=Ue[J].abbr.toUpperCase(),lr=Ue[J].narrow.toUpperCase(),Z)switch(F){case"N":case"NN":case"NNN":if(Ht===T)return Ue[J];break;case"NNNN":if(gt===T)return Ue[J];break;case"NNNNN":if(lr===T)return Ue[J];break}else if([gt,Ht,lr].indexOf(T)>=0)return Ue[J]}function Ia(T,F){var Z=T.since<=T.until?1:-1;return F===void 0?t(T.since).year():t(T.since).year()+(F-T.offset)*Z}function lv(){var T,F,Z,J=this.localeData().eras();for(T=0,F=J.length;T<F;++T)if(Z=this.clone().startOf("day").valueOf(),J[T].since<=Z&&Z<=J[T].until||J[T].until<=Z&&Z<=J[T].since)return J[T].name;return""}function uv(){var T,F,Z,J=this.localeData().eras();for(T=0,F=J.length;T<F;++T)if(Z=this.clone().startOf("day").valueOf(),J[T].since<=Z&&Z<=J[T].until||J[T].until<=Z&&Z<=J[T].since)return J[T].narrow;return""}function Nh(){var T,F,Z,J=this.localeData().eras();for(T=0,F=J.length;T<F;++T)if(Z=this.clone().startOf("day").valueOf(),J[T].since<=Z&&Z<=J[T].until||J[T].until<=Z&&Z<=J[T].since)return J[T].abbr;return""}function fv(){var T,F,Z,J,he=this.localeData().eras();for(T=0,F=he.length;T<F;++T)if(Z=he[T].since<=he[T].until?1:-1,J=this.clone().startOf("day").valueOf(),he[T].since<=J&&J<=he[T].until||he[T].until<=J&&J<=he[T].since)return(this.year()-t(he[T].since).year())*Z+he[T].offset;return this.year()}function dv(T){return s(this,"_erasNameRegex")||zs.call(this),T?this._erasNameRegex:this._erasRegex}function cl(T){return s(this,"_erasAbbrRegex")||zs.call(this),T?this._erasAbbrRegex:this._erasRegex}function vd(T){return s(this,"_erasNarrowRegex")||zs.call(this),T?this._erasNarrowRegex:this._erasRegex}function hl(T,F){return F.erasAbbrRegex(T)}function cv(T,F){return F.erasNameRegex(T)}function Ph(T,F){return F.erasNarrowRegex(T)}function hv(T,F){return F._eraYearOrdinalRegex||Ve}function zs(){var T=[],F=[],Z=[],J=[],he,Ue,gt=this.eras();for(he=0,Ue=gt.length;he<Ue;++he)F.push(Vt(gt[he].name)),T.push(Vt(gt[he].abbr)),Z.push(Vt(gt[he].narrow)),J.push(Vt(gt[he].name)),J.push(Vt(gt[he].abbr)),J.push(Vt(gt[he].narrow));this._erasRegex=new RegExp("^("+J.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+F.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+T.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Z.join("|")+")","i")}te(0,["gg",2],0,function(){return this.weekYear()%100}),te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function po(T,F){te(0,[T,T.length],0,F)}po("gggg","weekYear"),po("ggggg","weekYear"),po("GGGG","isoWeekYear"),po("GGGGG","isoWeekYear"),Be("weekYear","gg"),Be("isoWeekYear","GG"),Ke("weekYear",1),Ke("isoWeekYear",1),st("G",Ye),st("g",Ye),st("GG",Le,se),st("gg",Le,se),st("GGGG",At,Je),st("gggg",At,Je),st("GGGGG",W,pt),st("ggggg",W,pt),kr(["gggg","ggggg","GGGG","GGGGG"],function(T,F,Z,J){F[J.substr(0,2)]=le(T)}),kr(["gg","GG"],function(T,F,Z,J){F[J]=t.parseTwoDigitYear(T)});function pv(T){return Ih.call(this,T,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function mv(T){return Ih.call(this,T,this.isoWeek(),this.isoWeekday(),1,4)}function gv(){return En(this.year(),1,4)}function vv(){return En(this.isoWeekYear(),1,4)}function _v(){var T=this.localeData()._week;return En(this.year(),T.dow,T.doy)}function bv(){var T=this.localeData()._week;return En(this.weekYear(),T.dow,T.doy)}function Ih(T,F,Z,J,he){var Ue;return T==null?Xr(this,J,he).year:(Ue=En(T,J,he),F>Ue&&(F=Ue),yv.call(this,T,F,Z,J,he))}function yv(T,F,Z,J,he){var Ue=Sa(T,F,Z,J,he),gt=Ci(Ue.year,0,Ue.dayOfYear);return this.year(gt.getUTCFullYear()),this.month(gt.getUTCMonth()),this.date(gt.getUTCDate()),this}te("Q",0,"Qo","quarter"),Be("quarter","Q"),Ke("quarter",7),st("Q",ot),Nt("Q",function(T,F){F[nn]=(le(T)-1)*3});function xv(T){return T==null?Math.ceil((this.month()+1)/3):this.month((T-1)*3+this.month()%3)}te("D",["DD",2],"Do","date"),Be("date","D"),Ke("date",9),st("D",Le),st("DD",Le,se),st("Do",function(T,F){return T?F._dayOfMonthOrdinalParse||F._ordinalParse:F._dayOfMonthOrdinalParseLenient}),Nt(["D","DD"],dr),Nt("Do",function(T,F){F[dr]=le(T.match(Le)[0])});var zh=ue("Date",!0);te("DDD",["DDDD",3],"DDDo","dayOfYear"),Be("dayOfYear","DDD"),Ke("dayOfYear",4),st("DDD",ft),st("DDDD",Ge),Nt(["DDD","DDDD"],function(T,F,Z){Z._dayOfYear=le(T)});function wv(T){var F=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return T==null?F:this.add(T-F,"d")}te("m",["mm",2],0,"minute"),Be("minute","m"),Ke("minute",14),st("m",Le),st("mm",Le,se),Nt(["m","mm"],ir);var Sv=ue("Minutes",!1);te("s",["ss",2],0,"second"),Be("second","s"),Ke("second",15),st("s",Le),st("ss",Le,se),Nt(["s","ss"],Ur);var Cv=ue("Seconds",!1);te("S",0,0,function(){return~~(this.millisecond()/100)}),te(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),te(0,["SSS",3],0,"millisecond"),te(0,["SSSS",4],0,function(){return this.millisecond()*10}),te(0,["SSSSS",5],0,function(){return this.millisecond()*100}),te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Be("millisecond","ms"),Ke("millisecond",16),st("S",ft,ot),st("SS",ft,se),st("SSS",ft,Ge);var rs,Fh;for(rs="SSSS";rs.length<=9;rs+="S")st(rs,Ve);function Bh(T,F){F[Wr]=le(("0."+T)*1e3)}for(rs="S";rs.length<=9;rs+="S")Nt(rs,Bh);Fh=ue("Milliseconds",!1),te("z",0,0,"zoneAbbr"),te("zz",0,0,"zoneName");function Uh(){return this._isUTC?"UTC":""}function Rh(){return this._isUTC?"Coordinated Universal Time":""}var Et=p.prototype;Et.add=_n,Et.calendar=Sh,Et.clone=Ch,Et.diff=Vr,Et.endOf=Xg,Et.format=Yw,Et.from=Yg,Et.fromNow=Oh,Et.to=Kg,Et.toNow=Is,Et.get=ke,Et.invalidAt=iv,Et.isAfter=Eh,Et.isBefore=Dh,Et.isBetween=Mh,Et.isSame=cd,Et.isSameOrAfter=Ah,Et.isSameOrBefore=Th,Et.isValid=rv,Et.lang=pd,Et.locale=hd,Et.localeData=md,Et.max=Os,Et.min=Cr,Et.parsingFlags=nv,Et.set=at,Et.startOf=Zg,Et.subtract=In,Et.toArray=Jg,Et.toObject=ev,Et.toDate=qg,Et.toISOString=Hg,Et.inspect=Vg,typeof Symbol<"u"&&Symbol.for!=null&&(Et[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Et.toJSON=tv,Et.toString=Lh,Et.unix=Qg,Et.valueOf=$g,Et.creationData=av,Et.eraName=lv,Et.eraNarrow=uv,Et.eraAbbr=Nh,Et.eraYear=fv,Et.year=qa,Et.isLeapYear=oo,Et.weekYear=pv,Et.isoWeekYear=mv,Et.quarter=Et.quarters=xv,Et.month=$n,Et.daysInMonth=kn,Et.week=Et.weeks=Ea,Et.isoWeek=Et.isoWeeks=vu,Et.weeksInYear=_v,Et.weeksInWeekYear=bv,Et.isoWeeksInYear=gv,Et.isoWeeksInISOWeekYear=vv,Et.date=zh,Et.day=Et.days=Ds,Et.weekday=rd,Et.isoWeekday=nd,Et.dayOfYear=wv,Et.hour=Et.hours=sd,Et.minute=Et.minutes=Sv,Et.second=Et.seconds=Cv,Et.millisecond=Et.milliseconds=Fh,Et.utcOffset=dd,Et.utc=ll,Et.local=Se,Et.parseZone=We,Et.hasAlignedHourOffset=rt,Et.isDST=dt,Et.isLocal=Tt,Et.isUtcOffset=Ot,Et.isUtc=Bt,Et.isUTC=Bt,Et.zoneAbbr=Uh,Et.zoneName=Rh,Et.dates=M("dates accessor is deprecated. Use date instead.",zh),Et.months=M("months accessor is deprecated. Use month instead",$n),Et.years=M("years accessor is deprecated. Use year instead",qa),Et.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pn),Et.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",vt);function jh(T){return wr(T*1e3)}function Wh(){return wr.apply(null,arguments).parseZone()}function _d(T){return T}var yr=H.prototype;yr.calendar=G,yr.longDateFormat=be,yr.invalidDate=Xe,yr.ordinal=_e,yr.preparse=_d,yr.postformat=_d,yr.relativeTime=de,yr.pastFuture=ye,yr.set=k,yr.eras=sv,yr.erasParse=ov,yr.erasConvertYear=Ia,yr.erasAbbrRegex=cl,yr.erasNameRegex=dv,yr.erasNarrowRegex=vd,yr.months=qf,yr.monthsShort=Jf,yr.monthsParse=sr,yr.monthsRegex=Qa,yr.monthsShortRegex=ui,yr.week=Es,yr.firstDayOfYear=Nn,yr.firstDayOfWeek=gu,yr.weekdays=rl,yr.weekdaysMin=ed,yr.weekdaysShort=na,yr.weekdaysParse=Ei,yr.weekdaysRegex=Ms,yr.weekdaysShortRegex=nl,yr.weekdaysMinRegex=uo,yr.isPM=id,yr.meridiem=As;function pl(T,F,Z,J){var he=Oe(),Ue=x().set(J,F);return he[Z](Ue,T)}function Gh(T,F,Z){if(l(T)&&(F=T,T=void 0),T=T||"",F!=null)return pl(T,F,Z,"month");var J,he=[];for(J=0;J<12;J++)he[J]=pl(T,J,Z,"month");return he}function L(T,F,Z,J){typeof T=="boolean"?(l(F)&&(Z=F,F=void 0),F=F||""):(F=T,Z=F,T=!1,l(F)&&(Z=F,F=void 0),F=F||"");var he=Oe(),Ue=T?he._week.dow:0,gt,Ht=[];if(Z!=null)return pl(F,(Z+Ue)%7,J,"day");for(gt=0;gt<7;gt++)Ht[gt]=pl(F,(gt+Ue)%7,J,"day");return Ht}function ne(T,F){return Gh(T,F,"months")}function B(T,F){return Gh(T,F,"monthsShort")}function me(T,F,Z){return L(T,F,Z,"weekdays")}function Me(T,F,Z){return L(T,F,Z,"weekdaysShort")}function De(T,F,Z){return L(T,F,Z,"weekdaysMin")}ee("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(T){var F=T%10,Z=le(T%100/10)===1?"th":F===1?"st":F===2?"nd":F===3?"rd":"th";return T+Z}}),t.lang=M("moment.lang is deprecated. Use moment.locale instead.",ee),t.langData=M("moment.langData is deprecated. Use moment.localeData instead.",Oe);var it=Math.abs;function qe(){var T=this._data;return this._milliseconds=it(this._milliseconds),this._days=it(this._days),this._months=it(this._months),T.milliseconds=it(T.milliseconds),T.seconds=it(T.seconds),T.minutes=it(T.minutes),T.hours=it(T.hours),T.months=it(T.months),T.years=it(T.years),this}function Ft(T,F,Z,J){var he=jt(F,Z);return T._milliseconds+=J*he._milliseconds,T._days+=J*he._days,T._months+=J*he._months,T._bubble()}function He(T,F){return Ft(this,T,F,1)}function ut(T,F){return Ft(this,T,F,-1)}function xr(T){return T<0?Math.floor(T):Math.ceil(T)}function zt(){var T=this._milliseconds,F=this._days,Z=this._months,J=this._data,he,Ue,gt,Ht,lr;return T>=0&&F>=0&&Z>=0||T<=0&&F<=0&&Z<=0||(T+=xr(Yt(Z)+F)*864e5,F=0,Z=0),J.milliseconds=T%1e3,he=yt(T/1e3),J.seconds=he%60,Ue=yt(he/60),J.minutes=Ue%60,gt=yt(Ue/60),J.hours=gt%24,F+=yt(gt/24),lr=yt(Ct(F)),Z+=lr,F-=xr(Yt(lr)),Ht=yt(Z/12),Z%=12,J.days=F,J.months=Z,J.years=Ht,this}function Ct(T){return T*4800/146097}function Yt(T){return T*146097/4800}function $r(T){if(!this.isValid())return NaN;var F,Z,J=this._milliseconds;if(T=Ce(T),T==="month"||T==="quarter"||T==="year")switch(F=this._days+J/864e5,Z=this._months+Ct(F),T){case"month":return Z;case"quarter":return Z/3;case"year":return Z/12}else switch(F=this._days+Math.round(Yt(this._months)),T){case"week":return F/7+J/6048e5;case"day":return F+J/864e5;case"hour":return F*24+J/36e5;case"minute":return F*1440+J/6e4;case"second":return F*86400+J/1e3;case"millisecond":return Math.floor(F*864e5)+J;default:throw new Error("Unknown unit "+T)}}function gr(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+le(this._months/12)*31536e6:NaN}function Qt(T){return function(){return this.as(T)}}var Tr=Qt("ms"),cr=Qt("s"),Pt=Qt("m"),Er=Qt("h"),wn=Qt("d"),Xt=Qt("w"),zr=Qt("M"),vr=Qt("Q"),er=Qt("y");function mr(){return jt(this)}function Fs(T){return T=Ce(T),this.isValid()?this[T+"s"]():NaN}function ns(T){return function(){return this.isValid()?this._data[T]:NaN}}var Du=ns("milliseconds"),Mu=ns("seconds"),yk=ns("minutes"),xk=ns("hours"),wk=ns("days"),Sk=ns("months"),Ck=ns("years");function Ek(){return yt(this.days()/7)}var Bs=Math.round,Au={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Dk(T,F,Z,J,he){return he.relativeTime(F||1,!!Z,T,J)}function Mk(T,F,Z,J){var he=jt(T).abs(),Ue=Bs(he.as("s")),gt=Bs(he.as("m")),Ht=Bs(he.as("h")),lr=Bs(he.as("d")),Rr=Bs(he.as("M")),di=Bs(he.as("w")),Us=Bs(he.as("y")),mo=Ue<=Z.ss&&["s",Ue]||Ue<Z.s&&["ss",Ue]||gt<=1&&["m"]||gt<Z.m&&["mm",gt]||Ht<=1&&["h"]||Ht<Z.h&&["hh",Ht]||lr<=1&&["d"]||lr<Z.d&&["dd",lr];return Z.w!=null&&(mo=mo||di<=1&&["w"]||di<Z.w&&["ww",di]),mo=mo||Rr<=1&&["M"]||Rr<Z.M&&["MM",Rr]||Us<=1&&["y"]||["yy",Us],mo[2]=F,mo[3]=+T>0,mo[4]=J,Dk.apply(null,mo)}function Ak(T){return T===void 0?Bs:typeof T=="function"?(Bs=T,!0):!1}function Tk(T,F){return Au[T]===void 0?!1:F===void 0?Au[T]:(Au[T]=F,T==="s"&&(Au.ss=F-1),!0)}function Lk(T,F){if(!this.isValid())return this.localeData().invalidDate();var Z=!1,J=Au,he,Ue;return typeof T=="object"&&(F=T,T=!1),typeof T=="boolean"&&(Z=T),typeof F=="object"&&(J=Object.assign({},Au,F),F.s!=null&&F.ss==null&&(J.ss=F.s-1)),he=this.localeData(),Ue=Mk(this,!Z,J,he),Z&&(Ue=he.pastFuture(+this,Ue)),he.postformat(Ue)}var Ev=Math.abs;function Tu(T){return(T>0)-(T<0)||+T}function Hh(){if(!this.isValid())return this.localeData().invalidDate();var T=Ev(this._milliseconds)/1e3,F=Ev(this._days),Z=Ev(this._months),J,he,Ue,gt,Ht=this.asSeconds(),lr,Rr,di,Us;return Ht?(J=yt(T/60),he=yt(J/60),T%=60,J%=60,Ue=yt(Z/12),Z%=12,gt=T?T.toFixed(3).replace(/\.?0+$/,""):"",lr=Ht<0?"-":"",Rr=Tu(this._months)!==Tu(Ht)?"-":"",di=Tu(this._days)!==Tu(Ht)?"-":"",Us=Tu(this._milliseconds)!==Tu(Ht)?"-":"",lr+"P"+(Ue?Rr+Ue+"Y":"")+(Z?Rr+Z+"M":"")+(F?di+F+"D":"")+(he||J||T?"T":"")+(he?Us+he+"H":"")+(J?Us+J+"M":"")+(T?Us+gt+"S":"")):"P0D"}var Sr=Wi.prototype;Sr.isValid=ol,Sr.abs=qe,Sr.add=He,Sr.subtract=ut,Sr.as=$r,Sr.asMilliseconds=Tr,Sr.asSeconds=cr,Sr.asMinutes=Pt,Sr.asHours=Er,Sr.asDays=wn,Sr.asWeeks=Xt,Sr.asMonths=zr,Sr.asQuarters=vr,Sr.asYears=er,Sr.valueOf=gr,Sr._bubble=zt,Sr.clone=mr,Sr.get=Fs,Sr.milliseconds=Du,Sr.seconds=Mu,Sr.minutes=yk,Sr.hours=xk,Sr.days=wk,Sr.weeks=Ek,Sr.months=Sk,Sr.years=Ck,Sr.humanize=Lk,Sr.toISOString=Hh,Sr.toString=Hh,Sr.toJSON=Hh,Sr.locale=hd,Sr.localeData=md,Sr.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hh),Sr.lang=pd,te("X",0,0,"unix"),te("x",0,0,"valueOf"),st("x",Ye),st("X",tt),Nt("X",function(T,F,Z){Z._d=new Date(parseFloat(T)*1e3)}),Nt("x",function(T,F,Z){Z._d=new Date(le(T))});return t.version="2.29.4",r(wr),t.fn=Et,t.min=aa,t.max=wu,t.now=ud,t.utc=x,t.unix=jh,t.months=ne,t.isDate=g,t.locale=ee,t.invalid=y,t.duration=jt,t.isMoment=f,t.weekdays=me,t.parseZone=Wh,t.localeData=Oe,t.isDuration=ka,t.monthsShort=B,t.weekdaysMin=De,t.defineLocale=re,t.updateLocale=fe,t.locales=Te,t.weekdaysShort=Me,t.normalizeUnits=Ce,t.relativeTimeRounding=Ak,t.relativeTimeThreshold=Tk,t.calendarFormat=Cu,t.prototype=Et,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});function ba(e,t,r,n,a,s,o,u){let l=[],g=function(b){return b.ss==="h"?(b.color="#e353e3","#e353e3"):b.ss==="s"?(b.color="#e5dd55","#e5dd55"):(b.color="grey","grey")},h=function(b){let C=l[b.resi];return pu[C]?(b.color=pu[C],pu[C]):(b.color="White","White")},v=function(b){return b.b===1?(b.color="red","red"):b.b===.5?(b.color="black","black"):b.b===50?(b.color="white","white"):b.b===100?(b.color="red","red"):(b.color="blue","blue")},x=function(b){let C=0,f=(1-(b.b-C)/(100-C))*240,M=`rgb(${S(f/360,1,.5).join(",")})`;return b.color=M,M};function S(b,C,E){let p,f,D;if(C===0)p=f=D=E;else{let M=(z,k,I)=>(I<0&&(I+=1),I>1&&(I-=1),I<.16666666666666666?z+(k-z)*6*I:I<.5?k:I<.6666666666666666?z+(k-z)*(.6666666666666666-I)*6:z),N=E<.5?E*(1+C):E+C-E*C,O=2*E-N;p=M(O,N,b+1/3),f=M(O,N,b),D=M(O,N,b-1/3)}return[Math.round(p*255),Math.round(f*255),Math.round(D*255)]}let w=function(b){return b.b>90?(b.color="rgb(0, 81, 214)","rgb(0, 81, 214)"):b.b>70?(b.color="rgb(101, 203, 243)","rgb(101, 203, 243)"):b.b>50?(b.color="rgb(255, 219, 19)","rgb(255, 219, 19)"):(b.color="rgb(255, 125, 69)","rgb(255, 125, 69)")},c=e,_={backgroundColor:"#ffffff"},y=Window.$3Dmol.createViewer(c,_);if(y.addModel(t,"pdb"),o){document.getElementById("colorByDomains").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:h}}),y.render()});for(let[b,C]of Object.entries(o))document.getElementById(C).addEventListener("click",function(){let E=JSON.parse(JSON.stringify(l));for(let[p,f]of Object.entries(l))Number(b)!==Number(f)&&(l[p]=0);y.setStyle({},{cartoon:{colorfunc:h}}),y.render(),l=JSON.parse(JSON.stringify(E))})}if(u){document.getElementById("colorByDomains").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:h}}),y.render()});for(let[b,C]of Object.entries(u))document.getElementById(C).addEventListener("click",function(){let E=JSON.parse(JSON.stringify(l));for(let[p,f]of Object.entries(l))Number(b)!==Number(f)&&(l[p]=0);y.setStyle({},{cartoon:{colorfunc:h}}),y.render(),l=JSON.parse(JSON.stringify(E))})}s?(document.getElementById("colorByBFactor").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:x}}),y.render()}),document.getElementById("colorByDomains").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:h}}),y.render()}),document.getElementById("colorByplDDT").addEventListener("click",function(){y.setStyle({},{cartoon:{colorfunc:w}}),y.render()})):r?y.setStyle({},{cartoon:{colorfunc:g}}):y.setStyle({},{cartoon:{colorfunc:v}}),n&&y.addSurface(Window.$3Dmol.SurfaceType.VDW,{opacity:.8,colorscheme:"whiteCarbon"}),a&&(l=pO(a)[0],y.setStyle({},{cartoon:{colorfunc:h}})),y.zoomTo(),y.render(),y.zoom(1.7,3e3)}function Xf(e,t,r,n){console.log("DECIDING WHERE I AM");let a={endpoints_url:"http://127.0.0.1:8000/analytics_automated/endpoints/",submit_url:"http://127.0.0.1:8000/analytics_automated/submission/",times_url:"http://127.0.0.1:8000/analytics_automated/jobtimes/",joblist_url:"http://127.0.0.1:8000/analytics_automated/job/",gears_svg:"../static/images/gears.svg",app_path:"/interface",files_url:"http://127.0.0.1:8000",location:"Dev",main_url:"http://127.0.0.1"};return e.includes(":3000")&&(a.main_url="http://127.0.0.1:3000"),t==="bioinfstaging1.cs.ucl.ac.uk"?(a.main_url="bioinfstaging3.cs.ucl.ac.uk",a.joblist_url=r+n+"/api/job/",a.endpoints_url=r+n+"/api/endpoints/",a.submit_url=r+n+"/api/submission/",a.times_url=r+n+"/api/jobtimes/",a.files_url=r+n+"/api",a.location="Staging",console.log(a),a):e==="http://bioinf.cs.ucl.ac.uk/psipred_beta"||e.includes("psipred_beta")?(a.app_path=n,a.main_url="bioinf.cs.ucl.ac.uk",a.joblist_url=r+n+"/api/job/",a.endpoints_url=r+n+"/api/endpoints/",a.submit_url=r+n+"/api/submission/",a.times_url=r+n+"/api/jobtimes/",a.files_url=r+n+"/api",a.location="Staging",console.log(a),a):e==="http://bioinf.cs.ucl.ac.uk/psipred_alt"||e.includes("psipred_alt")?(a.app_path="/psipred_alt",a.main_url="bioinf.cs.ucl.ac.uk",a.joblist_url=r+"/psipred_alt/api/job/",a.endpoints_url=r+"/psipred_alt/api/endpoints/",a.submit_url=r+"/psipred_alt/api/submission/",a.times_url=r+"/psipred_alt/api/jobtimes/",a.files_url=r+"/psipred_alt/api",a.location="Staging",console.log(a),a):t==="127.0.0.1"||t==="localhost"?(console.log("dev server using default URIs"),console.log(a),a):(e==="http://bioinf.cs.ucl.ac.uk/psipred/"||e.includes("psipred")?(a.main_url="http://bioinf.cs.ucl.ac.uk/",a.app_path="/psipred",a.joblist_url=r+a.app_path+"/api/job/",a.endpoints_url=r+a.app_path+"/api/endpoints/",a.submit_url=r+a.app_path+"/api/submission/",a.times_url=r+a.app_path+"/api/jobtimes/",a.files_url=r+a.app_path+"/api",a.gears_svg="http://bioinf.cs.ucl.ac.uk/psipred/static/images/gears.svg",a.location="Production",console.log("IN PROD")):(alert("UNSETTING ENDPOINTS WARNING, WARNING! WEBSITE NON FUNCTIONAL"),a.joblist_url="",a.endpoints_url="",a.submit_url="",a.times_url=""),console.log(a),a)}function On(e,t,r){let n=null,a=new XMLHttpRequest;return a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&a.status===200&&(n=a.response)},a.open("GET",t+e,!1),r&&(a.setRequestHeader("Accept",r),a.overrideMimeType(r)),a.send(),a.onerror=function(){alert("Request failed")},n}function ws(e,t,r,n,a,s,o){let u=null;o?u=(0,Zf.default)(e).DataTable({searching:!0,pageLength:t,order:[o]}):u=(0,Zf.default)(e).DataTable({searching:!0,pageLength:t});var l=(0,Zf.default)(r),g=(0,Zf.default)(n);Zf.default.fn.dataTable.ext.search.push(function(h,v){if(h.nTable.id!==a)return!0;var x=parseFloat(l.val(),10),S=parseFloat(g.val(),10),w=parseFloat(v[s])||0;return!!(isNaN(x)&&isNaN(S)||isNaN(x)&&w<=S||x<=w&&isNaN(S)||x<=w&&w<=S)}),l.on("input",function(){u.draw()}),g.on("input",function(){u.draw()})}function MO(e){console.log(e),console.log("Sending form data");var t=null;try{t=new Blob([e.seq])}catch(n){alert(n)}if(e.pdbData)try{t=new Blob([e.pdbData])}catch(n){alert(n)}let r=new FormData;return console.log("JOB NAME: "+e.name),r.append("input_data",t,"input.txt"),r.append("job",e.jobs.join(",")),r.append("submission_name",e.name),r.append("email",e.email),e.jobs.includes("dompred")&&(r.append("psiblast_dompred_evalue",e.dompred_e_value_cutoff),r.append("psiblast_dompred_iterations",e.dompred_psiblast_iterations)),e.jobs.includes("metsite")&&(r.append("metsite_checkchains_chain",e.metsite_chain_id),r.append("extract_fasta_chain",e.metsite_chain_id),r.append("seedSiteFind_metal",e.metsite_metal_type),r.append("seedSiteFind_chain",e.metsite_chain_id),r.append("metpred_wrapper_chain",e.metsite_chain_id),r.append("metpred_wrapper_metal",e.metsite_metal_type),r.append("metpred_wrapper_fpr",e.metsite_fpr)),e.jobs.includes("hspred")&&(r.append("hspred_checkchains_chains",e.hspred_protein_1+e.hspred_protein_2),r.append("hs_pred_first_chain",e.hspred_protein_1),r.append("hs_pred_second_chain",e.hspred_protein_2),r.append("split_pdb_files_first_chain",e.hspred_protein_1),r.append("split_pdb_files_second_chain",e.hspred_protein_2)),e.jobs.includes("memembed")&&(r.append("memembed_algorithm",e.memembed_algorithm),r.append("memembed_barrel",e.memembed_barrel),r.append("memembed_termini",e.memembed_terminal)),e.jobs.includes("ffpred")&&r.append("ffpred_selection",e.ffpred_selection),e.jobs.includes("merizo")&&(r.append("merizo_iterate",e.merizo_iterate),r.append("merizo_chain",e.merizo_chain)),e.jobs.includes("merizosearch")&&(r.append("merizosearch_db",e.merizosearch_db),r.append("merizosearch_chain",e.merizosearch_chain)),e.jobs.includes("gsrcl")&&r.append("gsrcl_tissue",e.gsrcl_tissue),r}function AO(e){let t={loading_message:null};for(let[r,n]of Object.entries(e))t[r]=NU.duration(n*1e3).humanize();return t}function TO(e,t){xg(e.annotations,{parent:t,margin_scaler:2,debug:!1,container_width:900,width:900,height:e.annotation_panel_height,container_height:e.annotation_panel_height})}function $f(e){let t="",r=0;return e.steps.forEach(function(n){n.task.configuration.length>0&&(n.task.configuration.forEach(function(a){t+=e.name+",",t+=r+",",t+=a.type+",",t+=a.name+",",t+=a.version+",",t+='"'+a.parameters+`"
`}),r+=1)}),t}var Zf,NU,pn=ae(()=>{Zf=Hr(of());Dc();bh();Iw();Xn();NU=DO()});var OO=zn((Tfe,LO)=>{LO.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(a){e.addRange(a)}),t&&t.focus()}}});var PO=zn((Lfe,NO)=>{"use strict";var PU=OO(),kO={"text/plain":"Text","text/html":"Url",default:"Text"},IU="Copy to clipboard: #{key}, Enter";function zU(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function FU(e,t){var r,n,a,s,o,u,l=!1;t||(t={}),r=t.debug||!1;try{a=PU(),s=document.createRange(),o=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(h){if(h.stopPropagation(),t.format)if(h.preventDefault(),typeof h.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var v=kO[t.format]||kO.default;window.clipboardData.setData(v,e)}else h.clipboardData.clearData(),h.clipboardData.setData(t.format,e);t.onCopy&&(h.preventDefault(),t.onCopy(h.clipboardData))}),document.body.appendChild(u),s.selectNodeContents(u),o.addRange(s);var g=document.execCommand("copy");if(!g)throw new Error("copy command was unsuccessful");l=!0}catch(h){r&&console.error("unable to copy using execCommand: ",h),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(v){r&&console.error("unable to copy using clipboardData: ",v),r&&console.error("falling back to prompt"),n=zU("message"in t?t.message:IU),window.prompt(n,e)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),u&&document.body.removeChild(u),a()}return l}NO.exports=FU});var jO=zn(Mg=>{"use strict";function Fw(e){"@babel/helpers - typeof";return Fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fw(e)}Object.defineProperty(Mg,"__esModule",{value:!0});Mg.CopyToClipboard=void 0;var Eg=BO(Dn()),BU=BO(PO()),UU=["text","onCopy","options","children"];function BO(e){return e&&e.__esModule?e:{default:e}}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Uw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RU(e,t){if(e==null)return{};var r=jU(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jU(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function WU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GU(e,t,r){return t&&FO(e.prototype,t),r&&FO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Bw(e,t)}function VU(e){var t=KU();return function(){var n=Dg(e),a;if(t){var s=Dg(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return YU(this,a)}}function YU(e,t){if(t&&(Fw(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UO(e)}function UO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(e)}function Uw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var RO=function(e){HU(r,e);var t=VU(r);function r(){var n;WU(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),Uw(UO(n),"onClick",function(u){var l=n.props,g=l.text,h=l.onCopy,v=l.children,x=l.options,S=Eg.default.Children.only(v),w=(0,BU.default)(g,x);h&&h(g,w),S&&S.props&&typeof S.props.onClick=="function"&&S.props.onClick(u)}),n}return GU(r,[{key:"render",value:function(){var a=this.props,s=a.text,o=a.onCopy,u=a.options,l=a.children,g=RU(a,UU),h=Eg.default.Children.only(l);return Eg.default.cloneElement(h,zO(zO({},g),{},{onClick:this.onClick}))}}]),r}(Eg.default.PureComponent);Mg.CopyToClipboard=RO;Uw(RO,"defaultProps",{onCopy:void 0,options:void 0})});var Ag=zn((kfe,WO)=>{"use strict";var ZU=jO(),Rw=ZU.CopyToClipboard;Rw.CopyToClipboard=Rw;WO.exports=Rw});var bt,GO,Tg,HO=ae(()=>{bt=Hr(Dn());pn();pn();pn();pn();GO=Hr(Ag());pn();Xn();Xn();Xn();Xn();Xn();Xn();Xn();Xn();Xn();Xn();bh();bh();Dc();bh();Tg=class extends bt.default.Component{constructor(t){super(t);let r=this.props.seq.split(""),n=[];r.forEach(function(s){n.push({res:s})});let a=(Math.ceil(n.length/50)+2)*20+13*20;a<410&&(a=410),this.state={annotations:n,psipred_results:null,disopred_results:null,memsatsvm_results:null,pgenthreader_results:null,annotation_panel_height:a},this.sequencePlot=bt.default.createRef(),this.horizPlot=bt.default.createRef(),this.disopredPlot=bt.default.createRef(),this.memsatSVMSchematic=bt.default.createRef(),this.memsatSVMCartoon=bt.default.createRef(),this.pgenthreaderTable=bt.default.createRef(),this.dmp_plot=bt.default.createRef(),this.genthreaderTable=bt.default.createRef(),this.pdomthreaderTable=bt.default.createRef(),this.dmpfold_pdb=bt.default.createRef(),this.s4pred_horiz=bt.default.createRef(),this.dompred_chart=bt.default.createRef(),this.dompred_results=bt.default.createRef(),this.ffpred_memsat=bt.default.createRef(),this.ffpred_tables=bt.default.createRef(),this.ffpred_sch=bt.default.createRef(),this.aa_comp=bt.default.createRef(),this.global_features=bt.default.createRef(),this.mempack_plot=bt.default.createRef(),this.gen_table_initialised=!1,this.pdom_table_initialised=!1,this.pgen_table_initialised=!1,this.dmpmetal_table=bt.default.createRef(),this.timer=null}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null),console.log("RUNNING COMPONENT DID UPDATE",this.state);for(let l in this.state.psipred_results)if(l.includes(".horiz")){let g=this.state.psipred_results[l],h=(g.match(/Conf/g)||[]).length,v=6*30*(h+1)+120;Jo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:v,container_height:v})}for(let l in this.state.dompred_results)if(l.includes(".horiz")){let g=this.state.dompred_results[l],h=(g.match(/Conf/g)||[]).length,v=6*30*(h+1)+120;Jo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:v,container_height:v})}for(let l in this.state.ffpred_results)if(l.includes(".horiz")){let g=this.state.ffpred_results[l],h=(g.match(/Conf/g)||[]).length,v=6*30*(h+1)+120;Jo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:v,container_height:v})}for(let l in this.state.disopred_results)if(l.includes(".comb")){let g=this.state.disopred_results[l],h=xO(g);oO(h,"pos",["precision"],["Black"],"DisoNNChart",{parent:this.disopredPlot.current,chartType:"line",y_cutoff:.5,margin_scaler:2,debug:!1,container_width:900,width:900,height:300,container_height:300})}for(let l in this.state.memsatsvm_results){if(l.includes("_schematic.png")){let g=this.state.memsatsvm_results[l],h=document.createElement("img");h.src=g,h.alt="Memsat Schematic diagram",this.memsatSVMSchematic.current.appendChild(h),h=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(h)}if(l.includes("_cartoon_memsat_svm.png")){let g=this.state.memsatsvm_results[l],h=document.createElement("img");h.src=g,h.alt="Memsat Cartoon diagram",this.memsatSVMSchematic.current.appendChild(h),h=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(h)}}let r={},n={},a={};for(let l in this.state.pgenthreader_results)if(l.includes(".ann")){let g=l.substring(0,l.lastIndexOf(".")),h=g.substring(g.lastIndexOf(".")+1,g.length);r[h]={},r[h].ann=g+".ann",r[h].aln=g+".aln"}for(let l in this.state.pgenthreader_results){if(l.includes(".horiz")){let g=this.state.pgenthreader_results[l],h=(g.match(/Conf/g)||[]).length,v=6*30*(h+1)+120;Jo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:v,container_height:v})}if(l.includes(".presults")){let g=this.state.pgenthreader_results[l],h=Cg(g,r,"pgen");var s=document.createElement("template");s.innerHTML=h,this.pgenthreaderTable.current.appendChild(s.content)}}this.state.pgenthreader_results&&this.pgen_table_initialised===!1&&(ws("#pgen_table",50,"#min_pgen_pval","#max_pgen_pval","pgen_table",2,null),this.pgen_table_initialised=!0);for(let l in this.state.genthreader_results){if(l.includes(".ann")){let g=l.substring(0,l.lastIndexOf(".")),h=g.substring(g.lastIndexOf(".")+1,g.length);n[h]={},n[h].ann=g+".ann",n[h].aln=g+".aln"}if(l.includes(".presults")){let g=this.state.genthreader_results[l],h=Cg(g,n,"gen");var o=document.createElement("template");o.innerHTML=h,this.genthreaderTable.current.appendChild(o.content)}}this.state.genthreader_results&&this.gen_table_initialised===!1&&(ws("#gen_table",50,"#min_gen_pval","#max_gen_pval","gen_table",2,null),this.gen_table_initialised=!0);for(let l in this.state.pdomthreader_results)if(l.includes(".ann")){let g=l.substring(0,l.lastIndexOf(".")),h=g.substring(g.lastIndexOf(".")+1,g.length);a[h]={},a[h].ann=g+".ann",a[h].aln=g+".aln"}for(let l in this.state.pdomthreader_results){if(l.includes(".horiz")){let g=this.state.pdomthreader_results[l],h=(g.match(/Conf/g)||[]).length,v=6*30*(h+1)+120;Jo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:v,container_height:v})}if(l.includes(".presults")){let g=this.state.pdomthreader_results[l],h=Cg(g,a,"dgen");var u=document.createElement("template");u.innerHTML=h,this.pdomthreaderTable.current.appendChild(u.content)}}this.state.pdomthreader_results&&this.pdom_table_initialised===!1&&(ws("#pdom_table",50,"#min_pdom_pval","#max_pdom_pval","pdom_table",2,null),this.pdom_table_initialised=!0);for(let l in this.state.dmp_results){if(l.includes(".horiz")){let g=this.state.dmp_results[l],h=(g.match(/Conf/g)||[]).length,v=6*30*(h+1)+120;Jo(g,"psipredChart",{parent:this.horizPlot.current,margin_scaler:2,width:900,container_width:900,height:v,container_height:v})}if(l.includes("png")){let g=this.state.dmp_results[l],h=document.createElement("img");h.src=g,h.alt="DMP Contact Map",this.dmp_plot.current.appendChild(h),h=document.createElement("br"),this.dmp_plot.current.appendChild(h)}}for(let l in this.state.dmpfold_results)l.includes(".pdb")&&ba(this.dmpfold_pdb.current,this.state.dmpfold_results[l],!0,!1);for(let l in this.state.s4pred_results)if(l.includes(".horiz")){let g=this.state.s4pred_results[l],h=(g.match(/Conf/g)||[]).length,v=6*30*(h+1)+120;Jo(g,"psipredChart",{parent:this.s4pred_horiz.current,margin_scaler:2,width:900,container_width:900,height:v,container_height:v})}for(let l in this.state.dompred_results){if(l.includes(".png")){let g=this.state.dompred_results[l],h=document.createElement("img");h.src=g,h.alt="Dompred Chart",this.dompred_chart.current.appendChild(h),h=document.createElement("br"),this.dompred_chart.current.appendChild(h)}if(l.includes(".boundary")){let g=this.state.dompred_results[l],v=/Domain\sBoundary\slocations\spredicted\sDPS:\s(.+)/.exec(g),x=document.createElement("h4");x.innerText+=g,v?x.innerText+=g:x.innerText+="No ParseDS Domain boundaries predicted",this.dompred_results.current.appendChild(x)}}for(let l in this.state.ffpred_results){if(l.includes("_cartoon_memsat_svm.png")){let g=this.state.ffpred_results[l],h=document.createElement("div");h.className="center";let v=document.createElement("img");v.src=g,v.alt="Memsat Cartoon diagram",h.append(v),this.ffpred_memsat.current.appendChild(h),v=document.createElement("br"),this.ffpred_memsat.current.appendChild(v)}if(l.includes("_sch.png")){let g=this.state.ffpred_results[l],h=document.createElement("div");h.className="center";let v=document.createElement("img");v.src=g,v.alt="FFPred Feature Schematic",h.append(v),this.ffpred_sch.current.appendChild(h),v=document.createElement("br"),this.ffpred_sch.current.appendChild(v)}if(l.includes(".featcfg")){let g=this.state.ffpred_results[l],h=_O(g),v=h[0],x=h[1];s=document.createElement("template"),s.innerHTML=v,this.global_features.current.appendChild(s.content),s=document.createElement("template"),s.innerHTML=x,this.aa_comp.current.appendChild(s.content)}if(l.includes(".full_formatted")){let g=this.state.ffpred_results[l],h=vO(g);s=document.createElement("template"),s.innerHTML=h,this.ffpred_tables.current.appendChild(s.content)}}this.state.ffpred_results&&(ws("#bp_table",50,"#min_bp_prob","#max_bp_prob","bp_table",2,[3,"asc"]),ws("#mf_table",50,"#min_mf_prob","#max_mf_prob","mf_table",2,[3,"asc"]),ws("#cc_table",50,"#min_cc_prob","#max_cc_prob","cc_table",2,[3,"asc"]));for(let l in this.state.mempack_results){if(l.includes("_Kamada-Kawai_1.png")){let g=this.state.mempack_results[l],h=document.createElement("img");h.src=g,h.alt="Mempack Diagram",h.setAttribute("width","60%"),this.mempack_plot.current.appendChild(h),h=document.createElement("br"),this.mempack_plot.current.appendChild(h)}if(l.includes("_schematic.png")){let g=this.state.mempack_results[l],h=document.createElement("img");h.src=g,h.alt="Memsat Schematic diagram",this.memsatSVMSchematic.current.appendChild(h),h=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(h)}if(l.includes("_cartoon_memsat_svm.png")){let g=this.state.mempack_results[l],h=document.createElement("img");h.src=g,h.alt="Memsat Cartoon diagram",this.memsatSVMSchematic.current.appendChild(h),h=document.createElement("br"),this.memsatSVMSchematic.current.appendChild(h)}}for(let l in this.state.dmpmetal_results)if(l.includes(".dmpmetal")){let g=this.state.dmpmetal_results[l],h=cO(g),v=document.createElement("template");v.innerHTML=h,this.dmpmetal_table.current.appendChild(v.content)}console.log("UPDATING ANNOTATION GRID"),xg(this.state.annotations,{parent:this.sequencePlot.current,margin_scaler:2,debug:!1,container_width:900,width:900,height:this.state.annotation_panel_height,container_height:this.state.annotation_panel_height})}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,u=a.data_path.split("/")[2];n[u]=o}else if(r.results_map.includes(s))try{let o=On(a.data_path,r.files_url),u=a.data_path.split("/")[2];n[u]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk  providing the following information; submission data, submission email address, analyses you had selected and the job name."+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},u=this.state.annotations,l={};s.submissions.forEach(g=>{n=this.getResultsFiles(g.results,this.props),o[g.job_name]=n,l[g.job_name]=n;let h=On(g.job_name,r,"application/json");a+=$f(JSON.parse(h));for(let v in n)v.includes(".ss2")&&(console.log("Found SS2 and parsing"),u=bO(u,n[v])),v.includes(".pbdat")&&(console.log("Found PDBAT and parsing"),u=yO(u,n[v])),v.includes(".memsat_svm")&&(console.log("Found MEMSAT_SVM and parsing"),u=wO(u,n[v])),v.includes(".boundary")&&(console.log("Found Dompred and parsing"),u=SO(u,n[v])),v.includes(".dmpmetal")&&(console.log("Found DMPmetal and parsing"),u=dO(u,n[v]));this.setState({psipred_results:o.psipred,disopred_results:o.disopred,memsatsvm_results:o.memsatsvm,pgenthreader_results:o.pgenthreader,dmp_results:o.dmp,genthreader_results:o.genthreader,pdomthreader_results:o.pdomthreader,dmpfold_results:o.dmpfold,s4pred_results:o.s4pred,dompred_results:o.dompred,ffpred_results:o.ffpred,mempack_results:o.mempack,dmpmetal_results:o.dmpmetal,annotations:u})}),this.props.updateResultsFiles(l),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw new Error("Job Failed")}}).catch(async s=>{let o="";try{let u=await s.json().then(l=>l);u.error&&(o.message=u.error),u.error.input_data&&(o.message=u.error.input_data)}catch{o=s}return console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidMount(){console.log("DRAWING EMPTY ANNOTATION PANEL"),TO(this.state,this.sequencePlot.current),this.timer=setInterval(()=>this.getResults(),2e4)}renderPanel(t,r,n,a,s,o,u){return bt.default.createElement("div",{className:"box box-primary collapsed-box",id:t},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},r),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,o)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:u})),bt.default.createElement("div",{className:n,id:a,ref:s})))}render(){return bt.default.createElement("div",null,this.props.uuid&&bt.default.createElement("div",{className:"info-box bg-default job_info"},bt.default.createElement("span",{className:"info-box-icon job_info"},bt.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),bt.default.createElement("div",{className:"info-box-content"},bt.default.createElement("div",{className:"job_info_text job_info_text_left"},bt.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),bt.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",bt.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),bt.default.createElement(GO.CopyToClipboard,{text:this.props.result_uri},bt.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},bt.default.createElement("img",{src:"http://127.0.0.1:3000//static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.uuid&&bt.default.createElement("div",{className:"box box-primary"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},"Sequence Plot"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"","data-original-title":"Collapse"},bt.default.createElement("i",{className:"fa fa-minus"})))),bt.default.createElement("div",{className:"box-body"},bt.default.createElement("div",{className:"sequence_plot",id:"sequence_plot",ref:this.sequencePlot}),bt.default.createElement("br",null)),this.props.waiting&&bt.default.createElement("div",{className:"overlay processing"},bt.default.createElement("i",{className:"fa fa-refresh fa-spin"}))),(this.props.analyses.includes("psipred_job")||this.props.analyses.includes("pgenthreader_job")||this.props.analyses.includes("dmp_job")||this.props.analyses.includes("dompred_job")||this.props.analyses.includes("ffpred_job"))&&bt.default.createElement("div",null,this.renderPanel("psipred_cartoon",this.props.job_strings.psipred.shortName+" Cartoon","psipred_cartoon","psipred_horiz",this.horizPlot,this.state.psipred_waiting_message,this.state.psipred_waiting_icon)),this.props.analyses.includes("disopred_job")&&bt.default.createElement("div",null,this.renderPanel("disorder_plot",this.props.job_strings.disopred.shortName+" Plot","disorder_plot","pdisorder_svg",this.disopredPlot,this.state.disopred_waiting_message,this.state.disopred_waiting_icon)),(this.props.analyses.includes("memsatsvm_job")||this.props.analyses.includes("mempack_job"))&&bt.default.createElement("div",{className:"box box-primary collapsed-box",id:"memsatsvm_schematics"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},this.props.job_strings.memsatsvm.shortName," Schematics"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,this.props.memsatsvm_waiting_message)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:this.props.memsatsvm_waiting_icon})),bt.default.createElement("div",{className:"memsatsvm_schematic",id:"memsatsvm_schematic",ref:this.memsatSVMSchematic}),bt.default.createElement("div",{className:"memsatsvm_cartoon",id:"memsatsvm_cartoon",ref:this.memsatSVMCartoon}))),this.props.analyses.includes("pgenthreader_job")&&bt.default.createElement("div",null,this.renderPanel("pgen_table_box",this.props.job_strings.pgenthreader.shortName+" Structural Results","pgen_table_div","pgenthreader_table",this.pgenthreaderTable,this.props.pgenthreader_waiting_message,this.props.pgenthreader_waiting_icon)),this.props.analyses.includes("dmp_job")&&bt.default.createElement("div",null,this.renderPanel("dmp_contact_map",this.props.job_strings.dmp.shortName+" Contact Plot","dmp_plot_div","dmp_plot",this.dmp_plot,this.props.dmp_waiting_message,this.props.dmp_waiting_icon)),this.props.analyses.includes("genthreader_job")&&bt.default.createElement("div",null,this.renderPanel("gen_table_box",this.props.job_strings.genthreader.shortName+" Structural Results","gen_table_div","genthreader_table",this.genthreaderTable,this.props.genthreader_waiting_message,this.props.genthreader_waiting_icon)),this.props.analyses.includes("pdomthreader_job")&&bt.default.createElement("div",null,this.renderPanel("pdom_table_box",this.props.job_strings.pdomthreader.shortName+" Structural Results","pdom_table_div","pdomthreader_table",this.pdomthreaderTable,this.props.pdomthreader_waiting_message,this.props.pdomthreader_waiting_icon)),this.props.analyses.includes("dmpfold_job")&&bt.default.createElement("div",null,this.renderPanel("dmpfold_pdb",this.props.job_strings.dmpfold.shortName+" prediction","pdb_panel_class","dmp_pdb_id",this.dmpfold_pdb,this.props.dmpfold_waiting_message,this.props.dmpfold_waiting_icon)),this.props.analyses.includes("s4pred_job")&&bt.default.createElement("div",null,this.renderPanel("s4pred_cartoon",this.props.job_strings.s4pred.shortName+" Cartoon","s4pred_cartoon","s4pred_horiz",this.s4pred_horiz,this.props.s4pred_waiting_message,this.props.dmpfold_waiting_icon)),this.props.analyses.includes("dompred_job")&&bt.default.createElement("div",{className:"box box-primary collapsed-box",id:"dompred_results"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},this.props.job_strings.dompred.shortName," Results"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,this.props.dompred_waiting_message)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:this.props.dompred_waiting_icon})),bt.default.createElement("div",{className:"dompred_results",id:"dompread_results",ref:this.dompred_results}),bt.default.createElement("div",{className:"dompred_chart",id:"dompred_chart",ref:this.dompred_chart}))),this.props.analyses.includes("ffpred_job")&&bt.default.createElement("div",{className:"box box-primary collapsed-box",id:"ffpred_schematics"},bt.default.createElement("div",{className:"box-header with-border"},bt.default.createElement("h5",{className:"box-title"},this.props.job_strings.ffpred.shortName," Predictions"),bt.default.createElement("div",{className:"box-tools pull-right"},bt.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},bt.default.createElement("i",{className:"fa fa-plus"})))),bt.default.createElement("div",{className:"box-body"},this.state.error_message&&bt.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&bt.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},bt.default.createElement("br",null),bt.default.createElement("h4",null,this.props.ffpred_waiting_message)),this.props.waiting&&bt.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},bt.default.createElement("img",{alt:"waiting icon",src:this.props.ffpred_waiting_icon})),bt.default.createElement("p",null,"These prediction terms represent terms predicted where SVM training includes assigned GO terms across all evidence code types. SVM reliability is regarded as High (H) when MCC, sensitivity, specificity and precision are jointly above a given threshold, Otherwise Reliability is indicated as Low (L). "),bt.default.createElement("div",{className:"ffpred_bp_table",id:"ffpred_bp_table",ref:this.ffpred_tables}),bt.default.createElement("h4",null,"Sequence Feature Map"),bt.default.createElement("p",null,"Position dependent feature predictions are mapped onto the sequence schematic shown below. The line height of the Phosphorylation and Glycosylation features reflects the confidence of the residue prediction."),bt.default.createElement("div",{className:"ffpred_sch",id:"ffpred_sch",ref:this.ffpred_sch}),bt.default.createElement("h4",null,"Predicted Transmembrane Topology"),bt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.ffpred_memsat}),bt.default.createElement("h4",null,"Amino Acid Composition"),bt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.aa_comp}),bt.default.createElement("h4",null,"Global Features"),bt.default.createElement("p",null,"Global features are calculated directly from sequence. Localisation values are predicted by the Psort algorithm and reflect the relative likelihood of the protein occupying different cellular localisations. The bias column is highlighted according to the significance of the feature value calculated from Z score of the feature."),bt.default.createElement("div",{className:"ffpred_memsat",id:"ffpred_memsat",ref:this.global_features}))),this.props.analyses.includes("mempack_job")&&bt.default.createElement("div",null,this.renderPanel("mempack_pane",this.props.job_strings.mempack.shortName+" Cartoon","mempack_plot","mempack_plot",this.mempack_plot,this.props.mempack_waiting_message,this.props.mempack_waiting_icon)),this.props.analyses.includes("dmpmetal_job")&&bt.default.createElement("div",null,this.renderPanel("dmpmetal_table",this.props.job_strings.dmpmetal.shortName+" Table","dmpmetal_table","dmpmetal_table",this.dmpmetal_table,this.props.dmpmetal_waiting_message,this.props.dmpmetal_waiting_icon)))}}});var et,VO,jw,Lg,YO=ae(()=>{et=Hr(Dn());pn();pn();pn();pn();VO=Hr(Ag());Xn();Xn();Xn();Xn();Xn();jw=Hr(of());Dc();Lg=class extends et.default.Component{constructor(t){super(t),this.state={},this.metsite_pdb=et.default.createRef(),this.metsite_table=et.default.createRef(),this.hspred_initial_pdb=et.default.createRef(),this.hspred_second_pdb=et.default.createRef(),this.hspred_table=et.default.createRef(),this.memembed_pdb=et.default.createRef(),this.merizo_pdb=et.default.createRef(),this.merizo_boundaries=et.default.createRef(),this.merizo_pdb_sidebar=et.default.createRef(),this.merizosearch_pdb=et.default.createRef(),this.merizosearch_results_table=et.default.createRef(),this.merizosearch_alt_results_table=et.default.createRef(),this.merizosearch_multi_exact_table=et.default.createRef(),this.merizosearch_multi_contiguous_table=et.default.createRef(),this.merizosearch_multi_discontiguous_table=et.default.createRef(),this.merizosearch_multi_unordered_table=et.default.createRef(),this.merizosearch_tables_initialised=!1,this.update_count=0,this.timer=null}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null),this.update_count=this.update_count+1;for(let h in this.state.metsite_results)if(h.includes(".MetPred")&&ba(this.metsite_pdb.current,this.state.metsite_results[h],!1,!1,!1),h.includes(".Metpred")){let v=this.state.metsite_results[h],x=gO(v);var r=document.createElement("template");r.innerHTML=x,this.metsite_table.current.appendChild(r.content)}this.state.metsite_results&&ws("#metsite_table",10,"#min_met_score","#max_met_score","metsite_table",1,null);for(let h in this.state.hspred_results)if(h.includes("_initial.pdb")&&ba(this.hspred_initial_pdb.current,this.state.hspred_results[h],!1,!1,!1),h.includes("_second.pdb")&&ba(this.hspred_second_pdb.current,this.state.hspred_results[h],!1,!1,!1),h.includes(".out")){let v=this.state.hspred_results[h],x=mO(v),S=document.createElement("template");S.innerHTML=x,this.hspred_table.current.appendChild(S.content)}this.state.hspred_results&&ws("#hspred_table",50,"#min_hs_score","#max_hs_score","hspred_table",2,[2,"desc"]);for(let h in this.state.memembed_results)h.includes(".pdb")&&ba(this.memembed_pdb.current,this.state.memembed_results[h],!1,!0,!1);for(let h in this.state.merizo_results){let v=h.slice(0,-15);if(h.includes("_v2.pdb2")){let x=this.state.merizo_results[v+"_merizo_v2.idx"];var n=document.getElementById("merizo_sidebar_bg");n.style.display="inline-block",n.style.verticalAlign="top",n.style.width="200px",n.style.height="400px",n.style.position="relative",n.style.left="0px",n.style.backgroundColor="#ffffff";var a=document.createElement("template");a.innerHTML='<h4><b>Colouring Options</b></h4><div class="btn-group btn-group-justified">',a.innerHTML+='<button class="btn btn-secondary btn-block merizo_buttons" id="colorByDomains">Domains&nbsp</button><br />',a.innerHTML+='<button class="btn btn-secondary btn-block merizo_buttons" id="colorByBFactor">B-factor as temperature</button><br />',a.innerHTML+='<button class="btn btn-secondary btn-block merizo_buttons" id="colorByplDDT">B-factor as plDDT score</button><br />',a.innerHTML+="</div>",this.merizo_pdb_sidebar.current.appendChild(a.content),ba(this.merizo_pdb.current,this.state.merizo_results[h],!1,!1,x,!0)}if(h.includes(".merizo")){let x=this.state.merizo_results[h],S=hO(x);this.state.merizo_results&&Object.keys(this.state.merizo_results).length===1&&(S="<h3>Chain ID not present in PDB file</h3>");var s=document.createElement("template");s.innerHTML=S,this.merizo_boundaries.current.appendChild(s.content)}}let o={},u={},l=!1;for(let h in this.state.merizosearch_results)h.includes("search.tsv")&&(l=!0);for(let h in this.state.merizosearch_results){if(h.includes("search.tsv")){let v=this.state.merizosearch_results[h],{html:x,data:S,althtml:w,domdata:c,tableids:_}=CO(v,this.props.merizosearch_db);o=S,u=c;var r=document.createElement("template");r.innerHTML=x,this.merizosearch_results_table.current.appendChild(r.content);let b=(0,jw.default)("#toptmtable").DataTable({searching:!1,paging:!1,ordering:!0,order:[[1,"asc"]]});var g=document.createElement("template");g.innerHTML=w,this.merizosearch_alt_results_table.current.appendChild(g.content),_.forEach(function(C){let E=(0,jw.default)("#"+C).DataTable({searching:!1,paging:!1,ordering:!0,order:[[7,"dsc"]]})}),this.merizosearch_tables_initialised=!0}if(l===!1&&this.merizosearch_tables_initialised===!1){var r=document.createElement("template");r.innerHTML="<h2>Merizo Search identified no significant domain hits after segmentation</h2>",this.merizosearch_results_table.current.appendChild(r.content);var g=document.createElement("template");g.innerHTML="<h2>Merizo Search identified no significant domain hits after segmentation</h2>",this.merizosearch_alt_results_table.current.appendChild(g.content),this.merizosearch_tables_initialised=!0}}if(this.update_count>1&&this.state.merizosearch_results&&Object.keys(this.state.merizosearch_results).length==0){var r=document.createElement("template");r.innerHTML="<h3>Chain ID not present in PDB file</h3>",this.merizosearch_results_table.current.appendChild(r.content),this.merizosearch_pdb.current.appendChild(r.content)}for(let h in this.state.merizosearch_results)if(h.includes("_search_multi_dom.tsv")){let v=this.state.merizosearch_results[h],{unorderedhtml:x,discontightml:S,contightml:w,exacthtml:c,tableids:_}=EO(v);var r=document.createElement("template");r.innerHTML=w,this.merizosearch_multi_contiguous_table.current.appendChild(r.content);var r=document.createElement("template");r.innerHTML=S,this.merizosearch_multi_discontiguous_table.current.appendChild(r.content);var r=document.createElement("template");r.innerHTML=x,this.merizosearch_multi_unordered_table.current.appendChild(r.content);var r=document.createElement("template");r.innerHTML=c,this.merizosearch_multi_exact_table.current.appendChild(r.content)}for(let h in this.state.merizosearch_results){let v=h.slice(0,-12);if(h.includes(".pdb2")){let x=this.state.merizosearch_results[v+"_merizo.idx"];Object.keys(o).length>0&&Object.keys(u).length>0?ba(this.merizosearch_pdb.current,this.state.merizosearch_results[h],!1,!1,x,!1,o,u):ba(this.merizosearch_pdb.current,this.state.merizosearch_results[h],!1,!1,x,!1)}}}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,u=a.data_path.split("/")[2];n[u]=o}else if(r.results_map.includes(s))try{let o=On(a.data_path,r.files_url,"text/plain;charset=UTF-8"),u=a.data_path.split("/")[2];n[u]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk  providing the following information; submission data, submission email address, analyses you had selected and the job name."+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},u={};s.submissions.forEach(l=>{n=this.getResultsFiles(l.results,this.props),o[l.job_name]=n,u[l.job_name]=n;let g=On(l.job_name,r,"application/json");a+=$f(JSON.parse(g)),this.setState({metsite_results:o.metsite,hspred_results:o.hspred,memembed_results:o.memembed,merizo_results:o.merizo,merizosearch_results:o.merizosearch})}),this.props.updateResultsFiles(u),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw new Error("Job Failed")}}).catch(async s=>{let o="";try{let u=await s.json().then(l=>l);u.error&&(o.message=u.error),u.error.input_data&&(o.message=u.error.input_data)}catch{o=s}return console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidMount(){this.timer=setInterval(()=>this.getResults(),2e4)}renderPanel(t,r,n,a,s,o,u){return et.default.createElement("div",{className:"box box-primary collapsed-box",id:t},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},r),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),et.default.createElement("div",{className:n,id:a,ref:s}),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,o)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},u),this.props.waiting&&et.default.createElement("div",{className:"overlay processing"},et.default.createElement("i",{className:"fa fa-refresh fa-spin"}))))}render(){return et.default.createElement("div",null,this.props.uuid&&et.default.createElement("div",{className:"info-box bg-default job_info"},et.default.createElement("span",{className:"info-box-icon job_info"},et.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),et.default.createElement("div",{className:"info-box-content"},et.default.createElement("div",{className:"job_info_text job_info_text_left"},et.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),et.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",et.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),et.default.createElement(VO.CopyToClipboard,{text:this.props.result_uri},et.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},et.default.createElement("img",{src:"http://127.0.0.1:3000//static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.analyses.includes("metsite_job")&&et.default.createElement("div",{className:"box box-primary",id:"metsite_preds"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.metsite.shortName," Predictions"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.metsite_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.metsite_waiting_icon})),et.default.createElement("div",{className:"metsite_structure pdb_panel_class",id:"metsite_structure",ref:this.metsite_pdb}),et.default.createElement("div",{className:"metsite_table_holder",id:"metsite_table_holder",ref:this.metsite_table}))),this.props.analyses.includes("hspred_job")&&et.default.createElement("div",{className:"box box-primary",id:"hspred_preds"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.hspred.shortName," Predictions"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.hspred_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.hspred_waiting_icon})),et.default.createElement("div",null,et.default.createElement("div",{className:"hspred_structure pdb_panel_class",id:"hs_pred_initial",ref:this.hspred_initial_pdb}),et.default.createElement("div",{className:"hspred_structure pdb_panel_class",id:"hs_pred_second",ref:this.hspred_second_pdb})),et.default.createElement("div",{className:"hspred_table_holder",id:"hspred_table_holder",ref:this.hspred_table}))),this.props.analyses.includes("memembed_job")&&et.default.createElement("div",{className:"box box-primary",id:"memembed_preds"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.memembed.shortName," Prediction"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.memembed_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.memembed_waiting_icon})),et.default.createElement("div",{className:"memembed_pdb pdb_panel_class",id:"memembed",ref:this.memembed_pdb}))),this.props.analyses.includes("merizo_job")&&et.default.createElement("div",{className:"box box-primary",id:"merizo_preds"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizo.shortName," Prediction"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizo_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizo_waiting_icon})),et.default.createElement("div",{className:"pdb_panel_class_merizo_options",id:"merizo_sidebar_bg",ref:this.merizo_pdb_sidebar}),et.default.createElement("div",{className:"merizo_pdb pdb_panel_class_merizo",id:"merizo_pdb_panel",ref:this.merizo_pdb}),et.default.createElement("div",{className:"merizo_boundaries",id:"merizo_boundary_table",ref:this.merizo_boundaries}))),this.props.analyses.includes("merizosearch_job")&&et.default.createElement("div",null,et.default.createElement("div",{className:"box box-primary",id:"merizosearch_structs"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Domains Found"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),et.default.createElement("div",{className:"merizo_pdb pdb_panel_class_merizo",id:"merizoseach_pdb",ref:this.merizosearch_pdb}))),et.default.createElement("div",{className:"box box-primary",id:"merizosearch_table"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Best Hits"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),et.default.createElement("div",{className:"merizosearch_results_table",id:"merizosearch_results_table",ref:this.merizosearch_results_table}))),et.default.createElement("div",{className:"box box-primary",id:"merizosearch_table"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Alternate Hits"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),et.default.createElement("div",{className:"merizosearch_alt_results_table",id:"merizosearch_alt_results_table",ref:this.merizosearch_alt_results_table}))),et.default.createElement("div",{className:"box box-primary",id:"merizomulti_table"},et.default.createElement("div",{className:"box-header with-border"},et.default.createElement("h5",{className:"box-title"},this.props.job_strings.merizosearch.shortName," Multi-domain Chain Matches"),et.default.createElement("div",{className:"box-tools pull-right"},et.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},et.default.createElement("i",{className:"fa fa-plus"})))),et.default.createElement("div",{className:"box-body"},this.state.error_message&&et.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&et.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},et.default.createElement("br",null),et.default.createElement("h4",null,this.props.merizosearch_waiting_message)),this.props.waiting&&et.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},et.default.createElement("img",{alt:"waiting icon",src:this.props.merizosearch_waiting_icon})),et.default.createElement("div",{className:"merizosearch_multi_results_table",id:"merizosearch_multi_exact_table",ref:this.merizosearch_multi_exact_table}),et.default.createElement("div",{className:"merizosearch_multi_results_table",id:"merizosearch_multi_contiguous_table",ref:this.merizosearch_multi_contiguous_table}),et.default.createElement("div",{className:"merizosearch_multi_results_table",id:"merizosearch_multi_discontiguous_table",ref:this.merizosearch_multi_discontiguous_table}),et.default.createElement("div",{className:"merizosearch_multi_results_table",id:"merizosearch_multi_unordered_table",ref:this.merizosearch_multi_unordered_table})))))}}});var nr,KO,pde,Og,ZO=ae(()=>{nr=Hr(Dn());pn();pn();KO=Hr(Ag()),pde=Hr(of());Dc();Og=class extends nr.default.Component{constructor(t){super(t),this.state={},this.update_count=0,this.timer=null}componentDidUpdate(t){this.props.waiting===!1&&(clearInterval(this.timer),this.time=null),this.update_count=this.update_count+1}getResultsFiles=(t,r)=>{let n={};return t.forEach(function(a){let s=a.data_path.split(/[.]/).pop();if(s.includes("png")||s.includes("gif")||s.includes("jpg")||s.includes("ann")||s.includes("aln")){let o=r.files_url+a.data_path,u=a.data_path.split("/")[2];n[u]=o}else if(r.results_map.includes(s))try{let o=On(a.data_path,r.files_url,"text/plain;charset=UTF-8"),u=a.data_path.split("/")[2];n[u]=o}catch(o){return console.log("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk  providing the following information; submission data, submission email address, analyses you had selected and the job name."+o.message),alert("Getting and processing data file: "+a.data_path+" Failed. The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null}}),n};getResults=()=>{let t=this.props.submit_url+this.props.uuid,r=this.props.joblist_url,n=null,a="";this.props.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(s=>{if(s.ok)return s.json().then(o=>o);throw s}).then(s=>{if(s.state!=="Running")if(s.state==="Complete"){let o={},u={};s.submissions.forEach(l=>{n=this.getResultsFiles(l.results,this.props),o[l.job_name]=n,u[l.job_name]=n;let g=On(l.job_name,r,"application/json");a+=$f(JSON.parse(g)),this.setState({gsrcl_results:o.gsrcl})}),this.props.updateResultsFiles(u),this.props.updateDisplayTime(!1),this.props.updateWaiting(!1),this.props.updateConfig(a)}else{if(s.state==="Error")throw new Error(s.submissions.at(-1).last_message);if(s.state==="Submitted")console.log("Awaiting Worker");else throw new Error("Job Failed")}}).catch(async s=>{let o="";try{let u=await s.json().then(l=>l);u.error&&(o.message=u.error),u.error.input_data&&(o.message=u.error.input_data)}catch{o=s}return console.log("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:o.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidMount(){this.timer=setInterval(()=>this.getResults(),2e4)}renderPanel(t,r,n,a,s,o,u){return nr.default.createElement("div",{className:"box box-primary collapsed-box",id:t},nr.default.createElement("div",{className:"box-header with-border"},nr.default.createElement("h5",{className:"box-title"},r),nr.default.createElement("div",{className:"box-tools pull-right"},nr.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},nr.default.createElement("i",{className:"fa fa-plus"})))),nr.default.createElement("div",{className:"box-body"},this.state.error_message&&nr.default.createElement("div",{className:"error"},this.state.error_message),nr.default.createElement("div",{className:n,id:a,ref:s}),this.props.waiting&&nr.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},nr.default.createElement("br",null),nr.default.createElement("h4",null,o)),this.props.waiting&&nr.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},u),this.props.waiting&&nr.default.createElement("div",{className:"overlay processing"},nr.default.createElement("i",{className:"fa fa-refresh fa-spin"}))))}render(){return nr.default.createElement("div",null,this.props.uuid&&nr.default.createElement("div",{className:"info-box bg-default job_info"},nr.default.createElement("span",{className:"info-box-icon job_info"},nr.default.createElement("i",{className:"fa fa-line-chart job_info_icon"})),nr.default.createElement("div",{className:"info-box-content"},nr.default.createElement("div",{className:"job_info_text job_info_text_left"},nr.default.createElement("p",{className:"name_text"},"Name : ",this.props.name)),nr.default.createElement("div",{className:"job_info_text box-tools pull-right job_info_text_right"},"Copy Link: ",nr.default.createElement("input",{id:"retrievalLink",value:this.props.result_uri,width:"160",readOnly:!0}),nr.default.createElement(KO.CopyToClipboard,{text:this.props.result_uri},nr.default.createElement("button",{className:"copyButton",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#retrievalLink"},nr.default.createElement("img",{src:"http://127.0.0.1:3000//static/images/clippy.svg",alt:"Copy to clipboard",width:"16"})))))),this.props.analyses.includes("gsrcl_job")&&nr.default.createElement("div",{className:"box box-primary",id:"gsrcl_preds"},nr.default.createElement("div",{className:"box-header with-border"},nr.default.createElement("h5",{className:"box-title"},this.props.job_strings.metsite.shortName," Predictions"),nr.default.createElement("div",{className:"box-tools pull-right"},nr.default.createElement("button",{className:"btn btn-box-tool",type:"button","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},nr.default.createElement("i",{className:"fa fa-plus"})))),nr.default.createElement("div",{className:"box-body"},this.state.error_message&&nr.default.createElement("div",{className:"error"},this.state.error_message),this.props.waiting&&nr.default.createElement("div",{className:"waiting",intro:"slide",outro:"slide"},nr.default.createElement("br",null),nr.default.createElement("h4",null,this.props.metsite_waiting_message)),this.props.waiting&&nr.default.createElement("div",{className:"waiting_icon",intro:"slide",outro:"slide"},nr.default.createElement("img",{alt:"waiting icon",src:this.props.metsite_waiting_icon})),nr.default.createElement("div",{className:"metsite_structure pdb_panel_class",id:"metsite_structure",ref:this.metsite_pdb}))))}}});var Qf,kg,XO=ae(()=>{Qf=Hr(Dn());pn();pn();HO();YO();ZO();kg=class extends Qf.default.Component{constructor(t){super(t),this.state={result_uri:"",error_message:null,loading_message:"Fetching Times",psipred_waiting_message:"Please wait for your "+this.props.job_strings.psipred.shortName+" job to process",psipred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",disopred_waiting_message:"Please wait for your "+this.props.job_strings.disopred.shortName+" job to process",disopred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",memsatsvm_waiting_message:"Please wait for your "+this.props.job_strings.memsatsvm.shortName+" job to process",memsatsvm_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",pgenthreader_waiting_message:"Please wait for your "+this.props.job_strings.pgenthreader.shortName+" job to process",pgenthreader_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dmp_waiting_message:"Please wait for your "+this.props.job_strings.dmp.shortName+" job to process",dmp_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",mempack_waiting_message:"Please wait for your "+this.props.job_strings.mempack.shortName+" job to process",mempack_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",genthreader_waiting_message:"Please wait for your "+this.props.job_strings.genthreader.shortName+" job to process",genthreader_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",pdomthreader_waiting_message:"Please wait for your "+this.props.job_strings.pdomthreader.shortName+" job to process",pdomthreader_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dmpfold_waiting_message:"Please wait for your "+this.props.job_strings.dmpfold.shortName+" job to process",dmpfold_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",s4pred_waiting_message:"Please wait for your "+this.props.job_strings.s4pred.shortName+" job to process",s4pred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dompred_waiting_message:"Please wait for your "+this.props.job_strings.dompred.shortName+" job to process",dompred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",ffpred_waiting_message:"Please wait for your "+this.props.job_strings.ffpred.shortName+" job to process",ffpred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",metsite_waiting_message:"Please wait for your "+this.props.job_strings.metsite.shortName+" job to process",metsite_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",hspred_waiting_message:"Please wait for your "+this.props.job_strings.hspred.shortName+" job to process",hspred_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",memembed_waiting_message:"Please wait for your "+this.props.job_strings.memembed.shortName+" job to process",memembed_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",merizo_waiting_message:"Please wait for your "+this.props.job_strings.merizo.shortName+" job to process",merizo_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",dmpmetal_waiting_message:"Please wait for your "+this.props.job_strings.dmpmetal.shortName+" job to process",dmpmetal_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",merizosearch_waiting_message:"Please wait for your "+this.props.job_strings.merizosearch.shortName+" job to process",merizosearch_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg",gsrcl_waiting_message:"Please wait for your "+this.props.job_strings.gsrcl.shortName+" job to process",gsrcl_waiting_icon:"http://127.0.0.1:3000//static/images/gears.svg"}}checkSubset=(t,r)=>{let n=new Set(t);return r.every(a=>n.has(a))};getJob=t=>{console.log("Getting Job Data URI request: GET: "+t.props.submit_url+t.props.incoming_uuid),fetch(t.props.submit_url+t.props.incoming_uuid,{headers:{Accept:"application/json"},method:"GET"}).then(r=>{if(r.ok)return r.json().then(n=>n);throw r}).then(r=>{if(r.UUID!==null){console.log("RECIEVED JOB DATA FOR UUID: "+r.UUID);let n=[];r.submissions.forEach(o=>{n.push(o.job_name)});let a=r.submissions[0],s="SeqForm";if(this.checkSubset(t.props.seq_job_names,n)){(n.includes("pdomthreader")||n.includes("pgenthreader"))&&n.push("psipred");let o=On(a.input_file,t.props.files_url);o=o.replace(/\r?\n|\r/g,""),t.props.updateAnalyses(n.map(u=>`${u}_job`)),t.props.updateSeq(o),t.props.updateForm(s)}else this.checkSubset(t.props.struct_job_names,n)&&(s="StructForm",t.props.updateAnalyses(n.map(o=>`${o}_job`)),t.props.updateForm(s));this.setState({result_uri:t.props.main_url+t.props.app_path+"/&uuid="+r.UUID}),t.props.updateName(r.submissions[0].submission_name),t.props.updateUuid(r.UUID),t.props.updateWaiting(!0)}}).catch(async r=>{let n=await r.json().then(s=>s),a="";return n.error&&(a=n.error),n.error.input_data&&(a=n.error.input_data),console.log("Getting Job data "+t.props.submit_url+t.props.incoming_uuid+" Failed. "+a+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Getting Job data to "+t.props.submit_url+t.props.incoming_uuid+" Failed. "+a+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null})};postJob=t=>{console.log("Posting Job URI request: POST: "+t.props.submit_url);let r=MO({...t.state,...t.props});for(let n of r.entries())console.log(`${n[0]}, ${n[1]}`);fetch(t.props.submit_url,{headers:{Accept:"application/json"},method:"POST",body:r}).then(async n=>{if(n.ok)return n.json().then(a=>a);throw n}).then(n=>{if(n.UUID!==null){if(console.log("RECIEVED UUID: "+n.UUID),this.setState({result_uri:t.props.main_url+t.props.app_path+"/&uuid="+n.UUID}),this.props.updateUuid(n.UUID),window.history.replaceState){console.log("Add new history to browser window: "+t.props.main_url+t.props.app_path+"/&uuid="+n.UUID);try{window.history.replaceState({},n.UUID,t.props.app_path+"/&uuid="+n.UUID)}catch{throw new Error("Failed to push new browser history: "+t.props.main_url+t.props.app_path)}}t.props.updateWaiting(!0)}}).catch(async n=>{let a={};try{let s=await n.json().then(o=>o);s.error?a.message=s.error:s.error.input_data?a.message=s.error.input_data:a.message=s}catch{a.message=n}return console.log(a.message),console.log("Posting Job to "+t.props.submit_url+" Failed. "+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),console.log(a.message),alert("Posting Job to "+t.props.submit_url+" Failed. "+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null})};componentDidUpdate(){this.props.resubmit===!0&&(console.log("RESUBMITTING SEQUENCE"),this.props.updateResubmit(!1),this.postJob(this))}componentDidMount(){this.props.incoming_uuid?(console.log("GETTING DETAILS JOB: "+this.props.incoming_uuid),this.getJob(this)):this.postJob(this)}render(){return Qf.default.createElement("div",null,this.props.uuid&&this.props.formSelectedOption==="SeqForm"?Qf.default.createElement(Tg,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}):this.props.formSelectedOption==="StructForm"?Qf.default.createElement(Lg,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}):Qf.default.createElement(Og,{...this.state,...this.props,updateWaiting:this.props.updateWaiting,updateResultsFiles:this.props.updateResultsFiles,updateConfig:this.props.updateConfig}))}}});var Rt,Ng,$O=ae(()=>{Rt=Hr(Dn());pn();Ng=class extends Rt.default.Component{constructor(t){super(t),this.state={loading_message:"Fetching Times"}}componentDidUpdate(){}componentDidMount(){console.log("Getting Times URI request: GET: "+this.props.times_url),fetch(this.props.times_url,{headers:{Accept:"application/json"},method:"GET"}).then(t=>{if(t.ok)return t.json().then(r=>r);throw t}).then(t=>{if(t.UUID!==null){console.log("RECIEVED TIMES");var r=AO(t);this.setState(r)}}).catch(async t=>{let r=await t.json().then(n=>n);return console.log("Getting Times data "+this.props.times_url+" Failed. "+r.error+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Getting Times data "+this.props.times_url+" Failed. "+r.error+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),null})}render(){return Rt.default.createElement("div",{className:"info-box"},Rt.default.createElement("span",{className:"info-box-icon bg-blue"},Rt.default.createElement("i",{className:"fa fa-clock-o"})),Rt.default.createElement("div",{className:"info-box-content"},Rt.default.createElement("span",{className:"info-box-text"},"Average Processing Time"),Rt.default.createElement("br",null),this.state.loading_message&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.state.loading_message),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.psipred.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.psipred.shortName," runtime: ",this.state.psipred),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.disopred.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.disopred.shortName," runtime: ",this.state.disopred),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.memsatsvm.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.memsatsvm.shortName," runtime: ",this.state.memsatsvm),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.pgenthreader.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.pgenthreader.shortName," runtime: ",this.state.pgenthreader),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dmp.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dmp.shortName," runtime: ",this.state.dmp),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.mempack.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.mempack.shortName," runtime: ",this.state.mempack),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.genthreader.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.genthreader.shortName," runtime: ",this.state.genthreader),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.pdomthreader.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.pdomthreader.shortName," runtime: ",this.state.pdomthreader),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.s4pred.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.s4pred.shortName," runtime: ",this.state.s4pred),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dompred.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dompred.shortName," runtime: ",this.state.dompred),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.ffpred.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.ffpred.shortName," runtime: ",this.state.ffpred),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.metsite.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.metsite.shortName," runtime: ",this.state.mesite),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.hspred.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.hspred.shortName," runtime: ",this.state.hspred),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.memembed.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.memembed.shortName," runtime: ",this.state.memembed),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.merizo.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.merizo.shortName," runtime: ",this.state.merizo),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.dmpmetal.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.dmpmetal.shortName," runtime: ",this.state.dmpmetal),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.merizosearch.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.merizosearch.shortName," runtime: ",this.state.merizosearch),Rt.default.createElement("br",null)),this.props.analyses.includes(this.props.job_strings.gsrcl.jobName)&&Rt.default.createElement("div",null,Rt.default.createElement("span",{className:"info-box-number"},this.props.job_strings.gsrcl.shortName," runtime: ",this.state.gsrcl),Rt.default.createElement("br",null))))}}});var qO=zn((QO,Ww)=>{(function(e){typeof QO=="object"&&typeof Ww<"u"?Ww.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=e()})(function(){return function e(t,r,n){function a(u,l){if(!r[u]){if(!t[u]){var g=typeof ml=="function"&&ml;if(!l&&g)return g(u,!0);if(s)return s(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var v=r[u]={exports:{}};t[u][0].call(v.exports,function(x){var S=t[u][1][x];return a(S||x)},v,v.exports,e,t,r,n)}return r[u].exports}for(var s=typeof ml=="function"&&ml,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(o){for(var u,l,g,h,v,x,S,w=[],c=0,_=o.length,y=_,b=n.getTypeOf(o)!=="string";c<o.length;)y=_-c,g=b?(u=o[c++],l=c<_?o[c++]:0,c<_?o[c++]:0):(u=o.charCodeAt(c++),l=c<_?o.charCodeAt(c++):0,c<_?o.charCodeAt(c++):0),h=u>>2,v=(3&u)<<4|l>>4,x=1<y?(15&l)<<2|g>>6:64,S=2<y?63&g:64,w.push(s.charAt(h)+s.charAt(v)+s.charAt(x)+s.charAt(S));return w.join("")},r.decode=function(o){var u,l,g,h,v,x,S=0,w=0,c="data:";if(o.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var _,y=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===s.charAt(64)&&y--,o.charAt(o.length-2)===s.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=a.uint8array?new Uint8Array(0|y):new Array(0|y);S<o.length;)u=s.indexOf(o.charAt(S++))<<2|(h=s.indexOf(o.charAt(S++)))>>4,l=(15&h)<<4|(v=s.indexOf(o.charAt(S++)))>>2,g=(3&v)<<6|(x=s.indexOf(o.charAt(S++))),_[w++]=u,v!==64&&(_[w++]=l),x!==64&&(_[w++]=g);return _}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),a=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function u(l,g,h,v,x){this.compressedSize=l,this.uncompressedSize=g,this.crc32=h,this.compression=v,this.compressedContent=x}u.prototype={getContentWorker:function(){var l=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),g=this;return l.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(l,g,h){return l.pipe(new s).pipe(new o("uncompressedSize")).pipe(g.compressWorker(h)).pipe(new o("compressedSize")).withStreamInfo("compression",g)},t.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),a=function(){for(var s,o=[],u=0;u<256;u++){s=u;for(var l=0;l<8;l++)s=1&s?3988292384^s>>>1:s>>>1;o[u]=s}return o}();t.exports=function(s,o){return s!==void 0&&s.length?n.getTypeOf(s)!=="string"?function(u,l,g,h){var v=a,x=h+g;u^=-1;for(var S=h;S<x;S++)u=u>>>8^v[255&(u^l[S])];return-1^u}(0|o,s,s.length,0):function(u,l,g,h){var v=a,x=h+g;u^=-1;for(var S=h;S<x;S++)u=u>>>8^v[255&(u^l.charCodeAt(S))];return-1^u}(0|o,s,s.length,0):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n=null;n=typeof Promise<"u"?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),s=e("./utils"),o=e("./stream/GenericWorker"),u=n?"uint8array":"array";function l(g,h){o.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=h,this.meta={}}r.magic="\b\0",s.inherits(l,o),l.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,g.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(h){g.push({data:h,meta:g.meta})}},r.compressWorker=function(g){return new l("Deflate",g)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(v,x){var S,w="";for(S=0;S<x;S++)w+=String.fromCharCode(255&v),v>>>=8;return w}function a(v,x,S,w,c,_){var y,b,C=v.file,E=v.compression,p=_!==u.utf8encode,f=s.transformTo("string",_(C.name)),D=s.transformTo("string",u.utf8encode(C.name)),M=C.comment,N=s.transformTo("string",_(M)),O=s.transformTo("string",u.utf8encode(M)),z=D.length!==C.name.length,k=O.length!==M.length,I="",H="",Y="",q=C.dir,G=C.date,$={crc32:0,compressedSize:0,uncompressedSize:0};x&&!S||($.crc32=v.crc32,$.compressedSize=v.compressedSize,$.uncompressedSize=v.uncompressedSize);var j=0;x&&(j|=8),p||!z&&!k||(j|=2048);var V=0,X=0;q&&(V|=16),c==="UNIX"?(X=798,V|=function(te,we){var Pe=te;return te||(Pe=we?16893:33204),(65535&Pe)<<16}(C.unixPermissions,q)):(X=20,V|=function(te){return 63&(te||0)}(C.dosPermissions)),y=G.getUTCHours(),y<<=6,y|=G.getUTCMinutes(),y<<=5,y|=G.getUTCSeconds()/2,b=G.getUTCFullYear()-1980,b<<=4,b|=G.getUTCMonth()+1,b<<=5,b|=G.getUTCDate(),z&&(H=n(1,1)+n(l(f),4)+D,I+="up"+n(H.length,2)+H),k&&(Y=n(1,1)+n(l(N),4)+O,I+="uc"+n(Y.length,2)+Y);var Q="";return Q+=`
\0`,Q+=n(j,2),Q+=E.magic,Q+=n(y,2),Q+=n(b,2),Q+=n($.crc32,4),Q+=n($.compressedSize,4),Q+=n($.uncompressedSize,4),Q+=n(f.length,2),Q+=n(I.length,2),{fileRecord:g.LOCAL_FILE_HEADER+Q+f+I,dirRecord:g.CENTRAL_FILE_HEADER+n(X,2)+Q+n(N.length,2)+"\0\0\0\0"+n(V,4)+n(w,4)+f+I+N}}var s=e("../utils"),o=e("../stream/GenericWorker"),u=e("../utf8"),l=e("../crc32"),g=e("../signature");function h(v,x,S,w){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=S,this.encodeFileName=w,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,o),h.prototype.push=function(v){var x=v.meta.percent||0,S=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,o.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:S?(x+100*(S-w-1))/S:100}}))},h.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var x=this.streamFiles&&!v.file.dir;if(x){var S=a(v,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(v){this.accumulate=!1;var x=this.streamFiles&&!v.file.dir,S=a(v,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),x)this.push({data:function(w){return g.DATA_DESCRIPTOR+n(w.crc32,4)+n(w.compressedSize,4)+n(w.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var v=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var S=this.bytesWritten-v,w=function(c,_,y,b,C){var E=s.transformTo("string",C(b));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(c,2)+n(c,2)+n(_,4)+n(y,4)+n(E.length,2)+E}(this.dirRecords.length,S,v,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(v){this._sources.push(v);var x=this;return v.on("data",function(S){x.processChunk(S)}),v.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),v.on("error",function(S){x.error(S)}),this},h.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(v){var x=this._sources;if(!o.prototype.error.call(this,v))return!1;for(var S=0;S<x.length;S++)try{x[S].error(v)}catch{}return!0},h.prototype.lock=function(){o.prototype.lock.call(this);for(var v=this._sources,x=0;x<v.length;x++)v[x].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),a=e("./ZipFileWorker");r.generateWorker=function(s,o,u){var l=new a(o.streamFiles,u,o.platform,o.encodeFileName),g=0;try{s.forEach(function(h,v){g++;var x=function(_,y){var b=_||y,C=n[b];if(!C)throw new Error(b+" is not a valid compression method !");return C}(v.options.compression,o.compression),S=v.options.compressionOptions||o.compressionOptions||{},w=v.dir,c=v.date;v._compressWorker(x,S).withStreamInfo("file",{name:h,dir:w,date:c,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(l)}),l.entriesCount=g}catch(h){l.error(h)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new n;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(a,s){return new n().loadAsync(a,s)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),a=e("./external"),s=e("./utf8"),o=e("./zipEntries"),u=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function g(h){return new a.Promise(function(v,x){var S=h.decompressed.getContentWorker().pipe(new u);S.on("error",function(w){x(w)}).on("end",function(){S.streamInfo.crc32!==h.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}t.exports=function(h,v){var x=this;return v=n.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",h,!0,v.optimizedBinaryString,v.base64).then(function(S){var w=new o(v);return w.load(S),w}).then(function(S){var w=[a.Promise.resolve(S)],c=S.files;if(v.checkCRC32)for(var _=0;_<c.length;_++)w.push(g(c[_]));return a.Promise.all(w)}).then(function(S){for(var w=S.shift(),c=w.files,_=0;_<c.length;_++){var y=c[_],b=y.fileNameStr,C=n.resolve(y.fileNameStr);x.file(C,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:v.createFolders}),y.dir||(x.file(C).unsafeOriginalName=b)}return w.zipComment.length&&(x.comment=w.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../stream/GenericWorker");function s(o,u){a.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(u)}n.inherits(s,a),s.prototype._bindStream=function(o){var u=this;(this._stream=o).pause(),o.on("data",function(l){u.push({data:l,meta:{percent:0}})}).on("error",function(l){u.isPaused?this.generatedError=l:u.error(l)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function a(s,o,u){n.call(this,o),this._helper=s;var l=this;s.on("data",function(g,h){l.push(g)||l._helper.pause(),u&&u(h)}).on("error",function(g){l.emit("error",g)}).on("end",function(){l.push(null)})}e("../utils").inherits(a,n),a.prototype._read=function(){this._helper.resume()},t.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,a);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,a)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var a=new Buffer(n);return a.fill(0),a},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(e,t,r){"use strict";function n(C,E,p){var f,D=s.getTypeOf(E),M=s.extend(p||{},l);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(C=c(C)),M.createFolders&&(f=w(C))&&_.call(this,f,!0);var N=D==="string"&&M.binary===!1&&M.base64===!1;p&&p.binary!==void 0||(M.binary=!N),(E instanceof g&&E.uncompressedSize===0||M.dir||!E||E.length===0)&&(M.base64=!1,M.binary=!0,E="",M.compression="STORE",D="string");var O=null;O=E instanceof g||E instanceof o?E:x.isNode&&x.isStream(E)?new S(C,E):s.prepareContent(C,E,M.binary,M.optimizedBinaryString,M.base64);var z=new h(C,O,M);this.files[C]=z}var a=e("./utf8"),s=e("./utils"),o=e("./stream/GenericWorker"),u=e("./stream/StreamHelper"),l=e("./defaults"),g=e("./compressedObject"),h=e("./zipObject"),v=e("./generate"),x=e("./nodejsUtils"),S=e("./nodejs/NodejsStreamInputAdapter"),w=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var E=C.lastIndexOf("/");return 0<E?C.substring(0,E):""},c=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},_=function(C,E){return E=E!==void 0?E:l.createFolders,C=c(C),this.files[C]||n.call(this,C,null,{dir:!0,createFolders:E}),this.files[C]};function y(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var E,p,f;for(E in this.files)f=this.files[E],(p=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&C(p,f)},filter:function(C){var E=[];return this.forEach(function(p,f){C(p,f)&&E.push(f)}),E},file:function(C,E,p){if(arguments.length!==1)return C=this.root+C,n.call(this,C,E,p),this;if(y(C)){var f=C;return this.filter(function(M,N){return!N.dir&&f.test(M)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(y(C))return this.filter(function(D,M){return M.dir&&C.test(D)});var E=this.root+C,p=_.call(this,E),f=this.clone();return f.root=p.name,f},remove:function(C){C=this.root+C;var E=this.files[C];if(E||(C.slice(-1)!=="/"&&(C+="/"),E=this.files[C]),E&&!E.dir)delete this.files[C];else for(var p=this.filter(function(D,M){return M.name.slice(0,C.length)===C}),f=0;f<p.length;f++)delete this.files[p[f].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var E,p={};try{if((p=s.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=p.type.toLowerCase(),p.compression=p.compression.toUpperCase(),p.type==="binarystring"&&(p.type="string"),!p.type)throw new Error("No output type specified.");s.checkSupport(p.type),p.platform!=="darwin"&&p.platform!=="freebsd"&&p.platform!=="linux"&&p.platform!=="sunos"||(p.platform="UNIX"),p.platform==="win32"&&(p.platform="DOS");var f=p.comment||this.comment||"";E=v.generateWorker(this,p,f)}catch(D){(E=new o("error")).error(D)}return new u(E,p.type||"string",p.mimeType)},generateAsync:function(C,E){return this.generateInternalStream(C).accumulate(E)},generateNodeStream:function(C,E){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(E)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function a(s){n.call(this,s);for(var o=0;o<this.data.length;o++)s[o]=255&s[o]}e("../utils").inherits(a,n),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var o=s.charCodeAt(0),u=s.charCodeAt(1),l=s.charCodeAt(2),g=s.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===o&&this.data[h+1]===u&&this.data[h+2]===l&&this.data[h+3]===g)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var o=s.charCodeAt(0),u=s.charCodeAt(1),l=s.charCodeAt(2),g=s.charCodeAt(3),h=this.readData(4);return o===h[0]&&u===h[1]&&l===h[2]&&g===h[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var o,u=0;for(this.checkOffset(s),o=this.index+s-1;o>=this.index;o--)u=(u<<8)+this.byteAt(o);return this.index+=s,u},readString:function(s){return n.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},t.exports=a},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function a(s){n.call(this,s)}e("../utils").inherits(a,n),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},t.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),a=e("../support"),s=e("./ArrayReader"),o=e("./StringReader"),u=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(g){var h=n.getTypeOf(g);return n.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new u(g):a.uint8array?new l(n.transformTo("uint8array",g)):new s(n.transformTo("array",g)):new o(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../utils");function s(o){n.call(this,"ConvertWorker to "+o),this.destType=o}a.inherits(s,n),s.prototype.processChunk=function(o){this.push({data:a.transformTo(this.destType,o.data),meta:o.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),a=e("../crc32");function s(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,n),s.prototype.processChunk=function(o){this.streamInfo.crc32=a(o.data,this.streamInfo.crc32||0),this.push(o)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function s(o){a.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}n.inherits(s,a),s.prototype.processChunk=function(o){if(o){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+o.data.length}a.prototype.processChunk.call(this,o)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./GenericWorker");function s(o){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(l){u.dataIsReady=!0,u.data=l,u.max=l&&l.length||0,u.type=n.getTypeOf(l),u.isPaused||u._tickAndRepeat()},function(l){u.error(l)})}n.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,u);break;case"uint8array":o=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":o=this.data.slice(this.index,u)}return this.index=u,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var o=0;o<this._listeners[a].length;o++)this._listeners[a][o].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(o){s.processChunk(o)}),a.on("end",function(){s.end()}),a.on("error",function(o){s.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},t.exports=n},{}],29:[function(e,t,r){"use strict";var n=e("../utils"),a=e("./ConvertWorker"),s=e("./GenericWorker"),o=e("../base64"),u=e("../support"),l=e("../external"),g=null;if(u.nodestream)try{g=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(x,S){return new l.Promise(function(w,c){var _=[],y=x._internalType,b=x._outputType,C=x._mimeType;x.on("data",function(E,p){_.push(E),S&&S(p)}).on("error",function(E){_=[],c(E)}).on("end",function(){try{var E=function(p,f,D){switch(p){case"blob":return n.newBlob(n.transformTo("arraybuffer",f),D);case"base64":return o.encode(f);default:return n.transformTo(p,f)}}(b,function(p,f){var D,M=0,N=null,O=0;for(D=0;D<f.length;D++)O+=f[D].length;switch(p){case"string":return f.join("");case"array":return Array.prototype.concat.apply([],f);case"uint8array":for(N=new Uint8Array(O),D=0;D<f.length;D++)N.set(f[D],M),M+=f[D].length;return N;case"nodebuffer":return Buffer.concat(f);default:throw new Error("concat : unsupported type '"+p+"'")}}(y,_),C);w(E)}catch(p){c(p)}_=[]}).resume()})}function v(x,S,w){var c=S;switch(S){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=S,this._mimeType=w,n.checkSupport(c),this._worker=x.pipe(new a(c)),x.lock()}catch(_){this._worker=new s("error"),this._worker.error(_)}}v.prototype={accumulate:function(x){return h(this,x)},on:function(x,S){var w=this;return x==="data"?this._worker.on(x,function(c){S.call(w,c.data,c.meta)}):this._worker.on(x,function(){n.delay(S,arguments,w)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},t.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(n),r.blob=a.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),a=e("./support"),s=e("./nodejsUtils"),o=e("./stream/GenericWorker"),u=new Array(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;u[254]=u[254]=1;function g(){o.call(this,"utf-8 decode"),this.leftOver=null}function h(){o.call(this,"utf-8 encode")}r.utf8encode=function(v){return a.nodebuffer?s.newBufferFrom(v,"utf-8"):function(x){var S,w,c,_,y,b=x.length,C=0;for(_=0;_<b;_++)(64512&(w=x.charCodeAt(_)))==55296&&_+1<b&&(64512&(c=x.charCodeAt(_+1)))==56320&&(w=65536+(w-55296<<10)+(c-56320),_++),C+=w<128?1:w<2048?2:w<65536?3:4;for(S=a.uint8array?new Uint8Array(C):new Array(C),_=y=0;y<C;_++)(64512&(w=x.charCodeAt(_)))==55296&&_+1<b&&(64512&(c=x.charCodeAt(_+1)))==56320&&(w=65536+(w-55296<<10)+(c-56320),_++),w<128?S[y++]=w:(w<2048?S[y++]=192|w>>>6:(w<65536?S[y++]=224|w>>>12:(S[y++]=240|w>>>18,S[y++]=128|w>>>12&63),S[y++]=128|w>>>6&63),S[y++]=128|63&w);return S}(v)},r.utf8decode=function(v){return a.nodebuffer?n.transformTo("nodebuffer",v).toString("utf-8"):function(x){var S,w,c,_,y=x.length,b=new Array(2*y);for(S=w=0;S<y;)if((c=x[S++])<128)b[w++]=c;else if(4<(_=u[c]))b[w++]=65533,S+=_-1;else{for(c&=_===2?31:_===3?15:7;1<_&&S<y;)c=c<<6|63&x[S++],_--;1<_?b[w++]=65533:c<65536?b[w++]=c:(c-=65536,b[w++]=55296|c>>10&1023,b[w++]=56320|1023&c)}return b.length!==w&&(b.subarray?b=b.subarray(0,w):b.length=w),n.applyFromCharCode(b)}(v=n.transformTo(a.uint8array?"uint8array":"array",v))},n.inherits(g,o),g.prototype.processChunk=function(v){var x=n.transformTo(a.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var S=x;(x=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),x.set(S,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var w=function(_,y){var b;for((y=y||_.length)>_.length&&(y=_.length),b=y-1;0<=b&&(192&_[b])==128;)b--;return b<0||b===0?y:b+u[_[b]]>y?b:y}(x),c=x;w!==x.length&&(a.uint8array?(c=x.subarray(0,w),this.leftOver=x.subarray(w,x.length)):(c=x.slice(0,w),this.leftOver=x.slice(w,x.length))),this.push({data:r.utf8decode(c),meta:v.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=g,n.inherits(h,o),h.prototype.processChunk=function(v){this.push({data:r.utf8encode(v.data),meta:v.meta})},r.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),a=e("./base64"),s=e("./nodejsUtils"),o=e("./external");function u(S){return S}function l(S,w){for(var c=0;c<S.length;++c)w[c]=255&S.charCodeAt(c);return w}e("setimmediate"),r.newBlob=function(S,w){r.checkSupport("blob");try{return new Blob([S],{type:w})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(S),c.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(S,w,c){var _=[],y=0,b=S.length;if(b<=c)return String.fromCharCode.apply(null,S);for(;y<b;)w==="array"||w==="nodebuffer"?_.push(String.fromCharCode.apply(null,S.slice(y,Math.min(y+c,b)))):_.push(String.fromCharCode.apply(null,S.subarray(y,Math.min(y+c,b)))),y+=c;return _.join("")},stringifyByChar:function(S){for(var w="",c=0;c<S.length;c++)w+=String.fromCharCode(S[c]);return w},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function h(S){var w=65536,c=r.getTypeOf(S),_=!0;if(c==="uint8array"?_=g.applyCanBeUsed.uint8array:c==="nodebuffer"&&(_=g.applyCanBeUsed.nodebuffer),_)for(;1<w;)try{return g.stringifyByChunk(S,c,w)}catch{w=Math.floor(w/2)}return g.stringifyByChar(S)}function v(S,w){for(var c=0;c<S.length;c++)w[c]=S[c];return w}r.applyFromCharCode=h;var x={};x.string={string:u,array:function(S){return l(S,new Array(S.length))},arraybuffer:function(S){return x.string.uint8array(S).buffer},uint8array:function(S){return l(S,new Uint8Array(S.length))},nodebuffer:function(S){return l(S,s.allocBuffer(S.length))}},x.array={string:h,array:u,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return s.newBufferFrom(S)}},x.arraybuffer={string:function(S){return h(new Uint8Array(S))},array:function(S){return v(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:u,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return s.newBufferFrom(new Uint8Array(S))}},x.uint8array={string:h,array:function(S){return v(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:u,nodebuffer:function(S){return s.newBufferFrom(S)}},x.nodebuffer={string:h,array:function(S){return v(S,new Array(S.length))},arraybuffer:function(S){return x.nodebuffer.uint8array(S).buffer},uint8array:function(S){return v(S,new Uint8Array(S.length))},nodebuffer:u},r.transformTo=function(S,w){if(w=w||"",!S)return w;r.checkSupport(S);var c=r.getTypeOf(w);return x[c][S](w)},r.resolve=function(S){for(var w=S.split("/"),c=[],_=0;_<w.length;_++){var y=w[_];y==="."||y===""&&_!==0&&_!==w.length-1||(y===".."?c.pop():c.push(y))}return c.join("/")},r.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":n.nodebuffer&&s.isBuffer(S)?"nodebuffer":n.uint8array&&S instanceof Uint8Array?"uint8array":n.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(S){if(!n[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(S){var w,c,_="";for(c=0;c<(S||"").length;c++)_+="\\x"+((w=S.charCodeAt(c))<16?"0":"")+w.toString(16).toUpperCase();return _},r.delay=function(S,w,c){setImmediate(function(){S.apply(c||null,w||[])})},r.inherits=function(S,w){function c(){}c.prototype=w.prototype,S.prototype=new c},r.extend=function(){var S,w,c={};for(S=0;S<arguments.length;S++)for(w in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],w)&&c[w]===void 0&&(c[w]=arguments[S][w]);return c},r.prepareContent=function(S,w,c,_,y){return o.Promise.resolve(w).then(function(b){return n.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new o.Promise(function(C,E){var p=new FileReader;p.onload=function(f){C(f.target.result)},p.onerror=function(f){E(f.target.error)},p.readAsArrayBuffer(b)}):b}).then(function(b){var C=r.getTypeOf(b);return C?(C==="arraybuffer"?b=r.transformTo("uint8array",b):C==="string"&&(y?b=a.decode(b):c&&_!==!0&&(b=function(E){return l(E,n.uint8array?new Uint8Array(E.length):new Array(E.length))}(b))),b):o.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),s=e("./signature"),o=e("./zipEntry"),u=e("./support");function l(g){this.files=[],this.loadOptions=g}l.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(g)+")")}},isSignature:function(g,h){var v=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===h;return this.reader.setIndex(v),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",v=a.transformTo(h,g);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,h,v,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),h=this.reader.readInt(4),v=this.reader.readData(h),this.zip64ExtensibleData[g]={id:g,length:h,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,h;for(g=0;g<this.files.length;g++)h=this.files[g],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(g=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var h=g;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var x=h-v;if(0<x)this.isSignature(h,s.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=n(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),a=e("./utils"),s=e("./compressedObject"),o=e("./crc32"),u=e("./utf8"),l=e("./compressions"),g=e("./support");function h(v,x){this.options=v,this.loadOptions=x}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var x,S;if(v.skip(22),this.fileNameLength=v.readInt(2),S=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(w){for(var c in l)if(Object.prototype.hasOwnProperty.call(l,c)&&l[c].magic===w)return l[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,x,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var x=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(x),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var x,S,w,c=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<c;)x=v.readInt(2),S=v.readInt(2),w=v.readData(S),this.extraFields[x]={id:x,length:S,value:w};v.setIndex(c)},handleUTF8:function(){var v=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var S=a.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var c=a.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var x=n(v.value);return x.readInt(1)!==1||o(this.fileName)!==x.readInt(4)?null:u.utf8decode(x.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var x=n(v.value);return x.readInt(1)!==1||o(this.fileComment)!==x.readInt(4)?null:u.utf8decode(x.readData(v.length-5))}return null}},t.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(x,S,w){this.name=x,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=S,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var a=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),o=e("./utf8"),u=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(x){var S=null,w="string";try{if(!x)throw new Error("No output type specified.");var c=(w=x.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),S=this._decompressWorker();var _=!this._dataBinary;_&&!c&&(S=S.pipe(new o.Utf8EncodeWorker)),!_&&c&&(S=S.pipe(new o.Utf8DecodeWorker))}catch(y){(S=new l("error")).error(y)}return new a(S,w,"")},async:function(x,S){return this.internalStream(x).accumulate(S)},nodeStream:function(x,S){return this.internalStream(x||"nodebuffer").toNodejsStream(S)},_compressWorker:function(x,S){if(this._data instanceof u&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(w,x,S)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<g.length;v++)n.prototype[g[v]]=h;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(n){"use strict";var a,s,o=n.MutationObserver||n.WebKitMutationObserver;if(o){var u=0,l=new o(x),g=n.document.createTextNode("");l.observe(g,{characterData:!0}),a=function(){g.data=u=++u%2}}else if(n.setImmediate||n.MessageChannel===void 0)a="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var S=n.document.createElement("script");S.onreadystatechange=function(){x(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},n.document.documentElement.appendChild(S)}:function(){setTimeout(x,0)};else{var h=new n.MessageChannel;h.port1.onmessage=x,a=function(){h.port2.postMessage(0)}}var v=[];function x(){var S,w;s=!0;for(var c=v.length;c;){for(w=v,v=[],S=-1;++S<c;)w[S]();c=v.length}s=!1}t.exports=function(S){v.push(S)!==1||s||a()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function a(){}var s={},o=["REJECTED"],u=["FULFILLED"],l=["PENDING"];function g(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,c!==a&&S(this,c)}function h(c,_,y){this.promise=c,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function v(c,_,y){n(function(){var b;try{b=_(y)}catch(C){return s.reject(c,C)}b===c?s.reject(c,new TypeError("Cannot resolve promise with itself")):s.resolve(c,b)})}function x(c){var _=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof _=="function")return function(){_.apply(c,arguments)}}function S(c,_){var y=!1;function b(p){y||(y=!0,s.reject(c,p))}function C(p){y||(y=!0,s.resolve(c,p))}var E=w(function(){_(C,b)});E.status==="error"&&b(E.value)}function w(c,_){var y={};try{y.value=c(_),y.status="success"}catch(b){y.status="error",y.value=b}return y}(t.exports=g).prototype.finally=function(c){if(typeof c!="function")return this;var _=this.constructor;return this.then(function(y){return _.resolve(c()).then(function(){return y})},function(y){return _.resolve(c()).then(function(){throw y})})},g.prototype.catch=function(c){return this.then(null,c)},g.prototype.then=function(c,_){if(typeof c!="function"&&this.state===u||typeof _!="function"&&this.state===o)return this;var y=new this.constructor(a);return this.state!==l?v(y,this.state===u?c:_,this.outcome):this.queue.push(new h(y,c,_)),y},h.prototype.callFulfilled=function(c){s.resolve(this.promise,c)},h.prototype.otherCallFulfilled=function(c){v(this.promise,this.onFulfilled,c)},h.prototype.callRejected=function(c){s.reject(this.promise,c)},h.prototype.otherCallRejected=function(c){v(this.promise,this.onRejected,c)},s.resolve=function(c,_){var y=w(x,_);if(y.status==="error")return s.reject(c,y.value);var b=y.value;if(b)S(c,b);else{c.state=u,c.outcome=_;for(var C=-1,E=c.queue.length;++C<E;)c.queue[C].callFulfilled(_)}return c},s.reject=function(c,_){c.state=o,c.outcome=_;for(var y=-1,b=c.queue.length;++y<b;)c.queue[y].callRejected(_);return c},g.resolve=function(c){return c instanceof this?c:s.resolve(new this(a),c)},g.reject=function(c){var _=new this(a);return s.reject(_,c)},g.all=function(c){var _=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=c.length,b=!1;if(!y)return this.resolve([]);for(var C=new Array(y),E=0,p=-1,f=new this(a);++p<y;)D(c[p],p);return f;function D(M,N){_.resolve(M).then(function(O){C[N]=O,++E!==y||b||(b=!0,s.resolve(f,C))},function(O){b||(b=!0,s.reject(f,O))})}},g.race=function(c){var _=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=c.length,b=!1;if(!y)return this.resolve([]);for(var C=-1,E=new this(a);++C<y;)p=c[C],_.resolve(p).then(function(f){b||(b=!0,s.resolve(E,f))},function(f){b||(b=!0,s.reject(E,f))});var p;return E}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),a=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),u=e("./zlib/zstream"),l=Object.prototype.toString,g=0,h=-1,v=0,x=8;function S(c){if(!(this instanceof S))return new S(c);this.options=a.assign({level:h,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},c||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=n.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(y!==g)throw new Error(o[y]);if(_.header&&n.deflateSetHeader(this.strm,_.header),_.dictionary){var b;if(b=typeof _.dictionary=="string"?s.string2buf(_.dictionary):l.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(y=n.deflateSetDictionary(this.strm,b))!==g)throw new Error(o[y]);this._dict_set=!0}}function w(c,_){var y=new S(_);if(y.push(c,!0),y.err)throw y.msg||o[y.err];return y.result}S.prototype.push=function(c,_){var y,b,C=this.strm,E=this.options.chunkSize;if(this.ended)return!1;b=_===~~_?_:_===!0?4:0,typeof c=="string"?C.input=s.string2buf(c):l.call(c)==="[object ArrayBuffer]"?C.input=new Uint8Array(c):C.input=c,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(E),C.next_out=0,C.avail_out=E),(y=n.deflate(C,b))!==1&&y!==g)return this.onEnd(y),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(C.output,C.next_out))):this.onData(a.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&y!==1);return b===4?(y=n.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===g):b!==2||(this.onEnd(g),!(C.avail_out=0))},S.prototype.onData=function(c){this.chunks.push(c)},S.prototype.onEnd=function(c){c===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},r.Deflate=S,r.deflate=w,r.deflateRaw=function(c,_){return(_=_||{}).raw=!0,w(c,_)},r.gzip=function(c,_){return(_=_||{}).gzip=!0,w(c,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),a=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),u=e("./zlib/messages"),l=e("./zlib/zstream"),g=e("./zlib/gzheader"),h=Object.prototype.toString;function v(S){if(!(this instanceof v))return new v(S);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},S||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||S&&S.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=n.inflateInit2(this.strm,w.windowBits);if(c!==o.Z_OK)throw new Error(u[c]);this.header=new g,n.inflateGetHeader(this.strm,this.header)}function x(S,w){var c=new v(w);if(c.push(S,!0),c.err)throw c.msg||u[c.err];return c.result}v.prototype.push=function(S,w){var c,_,y,b,C,E,p=this.strm,f=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;_=w===~~w?w:w===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof S=="string"?p.input=s.binstring2buf(S):h.call(S)==="[object ArrayBuffer]"?p.input=new Uint8Array(S):p.input=S,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new a.Buf8(f),p.next_out=0,p.avail_out=f),(c=n.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&D&&(E=typeof D=="string"?s.string2buf(D):h.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,c=n.inflateSetDictionary(this.strm,E)),c===o.Z_BUF_ERROR&&M===!0&&(c=o.Z_OK,M=!1),c!==o.Z_STREAM_END&&c!==o.Z_OK)return this.onEnd(c),!(this.ended=!0);p.next_out&&(p.avail_out!==0&&c!==o.Z_STREAM_END&&(p.avail_in!==0||_!==o.Z_FINISH&&_!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=s.utf8border(p.output,p.next_out),b=p.next_out-y,C=s.buf2string(p.output,y),p.next_out=b,p.avail_out=f-b,b&&a.arraySet(p.output,p.output,y,b,0),this.onData(C)):this.onData(a.shrinkBuf(p.output,p.next_out)))),p.avail_in===0&&p.avail_out===0&&(M=!0)}while((0<p.avail_in||p.avail_out===0)&&c!==o.Z_STREAM_END);return c===o.Z_STREAM_END&&(_=o.Z_FINISH),_===o.Z_FINISH?(c=n.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===o.Z_OK):_!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},v.prototype.onData=function(S){this.chunks.push(S)},v.prototype.onEnd=function(S){S===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},r.Inflate=v,r.inflate=x,r.inflateRaw=function(S,w){return(w=w||{}).raw=!0,x(S,w)},r.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(o){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var l=u.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var g in l)l.hasOwnProperty(g)&&(o[g]=l[g])}}return o},r.shrinkBuf=function(o,u){return o.length===u?o:o.subarray?o.subarray(0,u):(o.length=u,o)};var a={arraySet:function(o,u,l,g,h){if(u.subarray&&o.subarray)o.set(u.subarray(l,l+g),h);else for(var v=0;v<g;v++)o[h+v]=u[l+v]},flattenChunks:function(o){var u,l,g,h,v,x;for(u=g=0,l=o.length;u<l;u++)g+=o[u].length;for(x=new Uint8Array(g),u=h=0,l=o.length;u<l;u++)v=o[u],x.set(v,h),h+=v.length;return x}},s={arraySet:function(o,u,l,g,h){for(var v=0;v<g;v++)o[h+v]=u[l+v]},flattenChunks:function(o){return[].concat.apply([],o)}};r.setTyped=function(o){o?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var o=new n.Buf8(256),u=0;u<256;u++)o[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(g,h){if(h<65537&&(g.subarray&&s||!g.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(g,h));for(var v="",x=0;x<h;x++)v+=String.fromCharCode(g[x]);return v}o[254]=o[254]=1,r.string2buf=function(g){var h,v,x,S,w,c=g.length,_=0;for(S=0;S<c;S++)(64512&(v=g.charCodeAt(S)))==55296&&S+1<c&&(64512&(x=g.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),S++),_+=v<128?1:v<2048?2:v<65536?3:4;for(h=new n.Buf8(_),S=w=0;w<_;S++)(64512&(v=g.charCodeAt(S)))==55296&&S+1<c&&(64512&(x=g.charCodeAt(S+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),S++),v<128?h[w++]=v:(v<2048?h[w++]=192|v>>>6:(v<65536?h[w++]=224|v>>>12:(h[w++]=240|v>>>18,h[w++]=128|v>>>12&63),h[w++]=128|v>>>6&63),h[w++]=128|63&v);return h},r.buf2binstring=function(g){return l(g,g.length)},r.binstring2buf=function(g){for(var h=new n.Buf8(g.length),v=0,x=h.length;v<x;v++)h[v]=g.charCodeAt(v);return h},r.buf2string=function(g,h){var v,x,S,w,c=h||g.length,_=new Array(2*c);for(v=x=0;v<c;)if((S=g[v++])<128)_[x++]=S;else if(4<(w=o[S]))_[x++]=65533,v+=w-1;else{for(S&=w===2?31:w===3?15:7;1<w&&v<c;)S=S<<6|63&g[v++],w--;1<w?_[x++]=65533:S<65536?_[x++]=S:(S-=65536,_[x++]=55296|S>>10&1023,_[x++]=56320|1023&S)}return l(_,x)},r.utf8border=function(g,h){var v;for((h=h||g.length)>g.length&&(h=g.length),v=h-1;0<=v&&(192&g[v])==128;)v--;return v<0||v===0?h:v+o[g[v]]>h?v:h}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(n,a,s,o){for(var u=65535&n|0,l=n>>>16&65535|0,g=0;s!==0;){for(s-=g=2e3<s?2e3:s;l=l+(u=u+a[o++]|0)|0,--g;);u%=65521,l%=65521}return u|l<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var a,s=[],o=0;o<256;o++){a=o;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;s[o]=a}return s}();t.exports=function(a,s,o,u){var l=n,g=u+o;a^=-1;for(var h=u;h<g;h++)a=a>>>8^l[255&(a^s[h])];return-1^a}},{}],46:[function(e,t,r){"use strict";var n,a=e("../utils/common"),s=e("./trees"),o=e("./adler32"),u=e("./crc32"),l=e("./messages"),g=0,h=4,v=0,x=-2,S=-1,w=4,c=2,_=8,y=9,b=286,C=30,E=19,p=2*b+1,f=15,D=3,M=258,N=M+D+1,O=42,z=113,k=1,I=2,H=3,Y=4;function q(U,pe){return U.msg=l[pe],pe}function G(U){return(U<<1)-(4<U?9:0)}function $(U){for(var pe=U.length;0<=--pe;)U[pe]=0}function j(U){var pe=U.state,_e=pe.pending;_e>U.avail_out&&(_e=U.avail_out),_e!==0&&(a.arraySet(U.output,pe.pending_buf,pe.pending_out,_e,U.next_out),U.next_out+=_e,pe.pending_out+=_e,U.total_out+=_e,U.avail_out-=_e,pe.pending-=_e,pe.pending===0&&(pe.pending_out=0))}function V(U,pe){s._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,pe),U.block_start=U.strstart,j(U.strm)}function X(U,pe){U.pending_buf[U.pending++]=pe}function Q(U,pe){U.pending_buf[U.pending++]=pe>>>8&255,U.pending_buf[U.pending++]=255&pe}function te(U,pe){var _e,ie,de=U.max_chain_length,ye=U.strstart,Re=U.prev_length,Be=U.nice_match,Ce=U.strstart>U.w_size-N?U.strstart-(U.w_size-N):0,Ie=U.window,je=U.w_mask,Ke=U.prev,Ne=U.strstart+M,ht=Ie[ye+Re-1],yt=Ie[ye+Re];U.prev_length>=U.good_match&&(de>>=2),Be>U.lookahead&&(Be=U.lookahead);do if(Ie[(_e=pe)+Re]===yt&&Ie[_e+Re-1]===ht&&Ie[_e]===Ie[ye]&&Ie[++_e]===Ie[ye+1]){ye+=2,_e++;do;while(Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&Ie[++ye]===Ie[++_e]&&ye<Ne);if(ie=M-(Ne-ye),ye=Ne-M,Re<ie){if(U.match_start=pe,Be<=(Re=ie))break;ht=Ie[ye+Re-1],yt=Ie[ye+Re]}}while((pe=Ke[pe&je])>Ce&&--de!=0);return Re<=U.lookahead?Re:U.lookahead}function we(U){var pe,_e,ie,de,ye,Re,Be,Ce,Ie,je,Ke=U.w_size;do{if(de=U.window_size-U.lookahead-U.strstart,U.strstart>=Ke+(Ke-N)){for(a.arraySet(U.window,U.window,Ke,Ke,0),U.match_start-=Ke,U.strstart-=Ke,U.block_start-=Ke,pe=_e=U.hash_size;ie=U.head[--pe],U.head[pe]=Ke<=ie?ie-Ke:0,--_e;);for(pe=_e=Ke;ie=U.prev[--pe],U.prev[pe]=Ke<=ie?ie-Ke:0,--_e;);de+=Ke}if(U.strm.avail_in===0)break;if(Re=U.strm,Be=U.window,Ce=U.strstart+U.lookahead,Ie=de,je=void 0,je=Re.avail_in,Ie<je&&(je=Ie),_e=je===0?0:(Re.avail_in-=je,a.arraySet(Be,Re.input,Re.next_in,je,Ce),Re.state.wrap===1?Re.adler=o(Re.adler,Be,je,Ce):Re.state.wrap===2&&(Re.adler=u(Re.adler,Be,je,Ce)),Re.next_in+=je,Re.total_in+=je,je),U.lookahead+=_e,U.lookahead+U.insert>=D)for(ye=U.strstart-U.insert,U.ins_h=U.window[ye],U.ins_h=(U.ins_h<<U.hash_shift^U.window[ye+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[ye+D-1])&U.hash_mask,U.prev[ye&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=ye,ye++,U.insert--,!(U.lookahead+U.insert<D)););}while(U.lookahead<N&&U.strm.avail_in!==0)}function Pe(U,pe){for(var _e,ie;;){if(U.lookahead<N){if(we(U),U.lookahead<N&&pe===g)return k;if(U.lookahead===0)break}if(_e=0,U.lookahead>=D&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,_e=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),_e!==0&&U.strstart-_e<=U.w_size-N&&(U.match_length=te(U,_e)),U.match_length>=D)if(ie=s._tr_tally(U,U.strstart-U.match_start,U.match_length-D),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=D){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,_e=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else ie=s._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(ie&&(V(U,!1),U.strm.avail_out===0))return k}return U.insert=U.strstart<D-1?U.strstart:D-1,pe===h?(V(U,!0),U.strm.avail_out===0?H:Y):U.last_lit&&(V(U,!1),U.strm.avail_out===0)?k:I}function xe(U,pe){for(var _e,ie,de;;){if(U.lookahead<N){if(we(U),U.lookahead<N&&pe===g)return k;if(U.lookahead===0)break}if(_e=0,U.lookahead>=D&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,_e=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=D-1,_e!==0&&U.prev_length<U.max_lazy_match&&U.strstart-_e<=U.w_size-N&&(U.match_length=te(U,_e),U.match_length<=5&&(U.strategy===1||U.match_length===D&&4096<U.strstart-U.match_start)&&(U.match_length=D-1)),U.prev_length>=D&&U.match_length<=U.prev_length){for(de=U.strstart+U.lookahead-D,ie=s._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-D),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=de&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+D-1])&U.hash_mask,_e=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=D-1,U.strstart++,ie&&(V(U,!1),U.strm.avail_out===0))return k}else if(U.match_available){if((ie=s._tr_tally(U,0,U.window[U.strstart-1]))&&V(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return k}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(ie=s._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<D-1?U.strstart:D-1,pe===h?(V(U,!0),U.strm.avail_out===0?H:Y):U.last_lit&&(V(U,!1),U.strm.avail_out===0)?k:I}function Fe(U,pe,_e,ie,de){this.good_length=U,this.max_lazy=pe,this.nice_length=_e,this.max_chain=ie,this.func=de}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*p),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*E+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(f+1),this.heap=new a.Buf16(2*b+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*b+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(U){var pe;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=c,(pe=U.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?O:z,U.adler=pe.wrap===2?0:1,pe.last_flush=g,s._tr_init(pe),v):q(U,x)}function Qe(U){var pe=be(U);return pe===v&&function(_e){_e.window_size=2*_e.w_size,$(_e.head),_e.max_lazy_match=n[_e.level].max_lazy,_e.good_match=n[_e.level].good_length,_e.nice_match=n[_e.level].nice_length,_e.max_chain_length=n[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=D-1,_e.match_available=0,_e.ins_h=0}(U.state),pe}function Xe(U,pe,_e,ie,de,ye){if(!U)return x;var Re=1;if(pe===S&&(pe=6),ie<0?(Re=0,ie=-ie):15<ie&&(Re=2,ie-=16),de<1||y<de||_e!==_||ie<8||15<ie||pe<0||9<pe||ye<0||w<ye)return q(U,x);ie===8&&(ie=9);var Be=new Ae;return(U.state=Be).strm=U,Be.wrap=Re,Be.gzhead=null,Be.w_bits=ie,Be.w_size=1<<Be.w_bits,Be.w_mask=Be.w_size-1,Be.hash_bits=de+7,Be.hash_size=1<<Be.hash_bits,Be.hash_mask=Be.hash_size-1,Be.hash_shift=~~((Be.hash_bits+D-1)/D),Be.window=new a.Buf8(2*Be.w_size),Be.head=new a.Buf16(Be.hash_size),Be.prev=new a.Buf16(Be.w_size),Be.lit_bufsize=1<<de+6,Be.pending_buf_size=4*Be.lit_bufsize,Be.pending_buf=new a.Buf8(Be.pending_buf_size),Be.d_buf=1*Be.lit_bufsize,Be.l_buf=3*Be.lit_bufsize,Be.level=pe,Be.strategy=ye,Be.method=_e,Qe(U)}n=[new Fe(0,0,0,0,function(U,pe){var _e=65535;for(_e>U.pending_buf_size-5&&(_e=U.pending_buf_size-5);;){if(U.lookahead<=1){if(we(U),U.lookahead===0&&pe===g)return k;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var ie=U.block_start+_e;if((U.strstart===0||U.strstart>=ie)&&(U.lookahead=U.strstart-ie,U.strstart=ie,V(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-N&&(V(U,!1),U.strm.avail_out===0))return k}return U.insert=0,pe===h?(V(U,!0),U.strm.avail_out===0?H:Y):(U.strstart>U.block_start&&(V(U,!1),U.strm.avail_out),k)}),new Fe(4,4,8,4,Pe),new Fe(4,5,16,8,Pe),new Fe(4,6,32,32,Pe),new Fe(4,4,16,16,xe),new Fe(8,16,32,32,xe),new Fe(8,16,128,128,xe),new Fe(8,32,128,256,xe),new Fe(32,128,258,1024,xe),new Fe(32,258,258,4096,xe)],r.deflateInit=function(U,pe){return Xe(U,pe,_,15,8,0)},r.deflateInit2=Xe,r.deflateReset=Qe,r.deflateResetKeep=be,r.deflateSetHeader=function(U,pe){return U&&U.state?U.state.wrap!==2?x:(U.state.gzhead=pe,v):x},r.deflate=function(U,pe){var _e,ie,de,ye;if(!U||!U.state||5<pe||pe<0)return U?q(U,x):x;if(ie=U.state,!U.output||!U.input&&U.avail_in!==0||ie.status===666&&pe!==h)return q(U,U.avail_out===0?-5:x);if(ie.strm=U,_e=ie.last_flush,ie.last_flush=pe,ie.status===O)if(ie.wrap===2)U.adler=0,X(ie,31),X(ie,139),X(ie,8),ie.gzhead?(X(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),X(ie,255&ie.gzhead.time),X(ie,ie.gzhead.time>>8&255),X(ie,ie.gzhead.time>>16&255),X(ie,ie.gzhead.time>>24&255),X(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),X(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(X(ie,255&ie.gzhead.extra.length),X(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(U.adler=u(U.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(X(ie,0),X(ie,0),X(ie,0),X(ie,0),X(ie,0),X(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),X(ie,3),ie.status=z);else{var Re=_+(ie.w_bits-8<<4)<<8;Re|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(Re|=32),Re+=31-Re%31,ie.status=z,Q(ie,Re),ie.strstart!==0&&(Q(ie,U.adler>>>16),Q(ie,65535&U.adler)),U.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(de=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>de&&(U.adler=u(U.adler,ie.pending_buf,ie.pending-de,de)),j(U),de=ie.pending,ie.pending!==ie.pending_buf_size));)X(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>de&&(U.adler=u(U.adler,ie.pending_buf,ie.pending-de,de)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){de=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>de&&(U.adler=u(U.adler,ie.pending_buf,ie.pending-de,de)),j(U),de=ie.pending,ie.pending===ie.pending_buf_size)){ye=1;break}ye=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,X(ie,ye)}while(ye!==0);ie.gzhead.hcrc&&ie.pending>de&&(U.adler=u(U.adler,ie.pending_buf,ie.pending-de,de)),ye===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){de=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>de&&(U.adler=u(U.adler,ie.pending_buf,ie.pending-de,de)),j(U),de=ie.pending,ie.pending===ie.pending_buf_size)){ye=1;break}ye=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,X(ie,ye)}while(ye!==0);ie.gzhead.hcrc&&ie.pending>de&&(U.adler=u(U.adler,ie.pending_buf,ie.pending-de,de)),ye===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&j(U),ie.pending+2<=ie.pending_buf_size&&(X(ie,255&U.adler),X(ie,U.adler>>8&255),U.adler=0,ie.status=z)):ie.status=z),ie.pending!==0){if(j(U),U.avail_out===0)return ie.last_flush=-1,v}else if(U.avail_in===0&&G(pe)<=G(_e)&&pe!==h)return q(U,-5);if(ie.status===666&&U.avail_in!==0)return q(U,-5);if(U.avail_in!==0||ie.lookahead!==0||pe!==g&&ie.status!==666){var Be=ie.strategy===2?function(Ce,Ie){for(var je;;){if(Ce.lookahead===0&&(we(Ce),Ce.lookahead===0)){if(Ie===g)return k;break}if(Ce.match_length=0,je=s._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++,je&&(V(Ce,!1),Ce.strm.avail_out===0))return k}return Ce.insert=0,Ie===h?(V(Ce,!0),Ce.strm.avail_out===0?H:Y):Ce.last_lit&&(V(Ce,!1),Ce.strm.avail_out===0)?k:I}(ie,pe):ie.strategy===3?function(Ce,Ie){for(var je,Ke,Ne,ht,yt=Ce.window;;){if(Ce.lookahead<=M){if(we(Ce),Ce.lookahead<=M&&Ie===g)return k;if(Ce.lookahead===0)break}if(Ce.match_length=0,Ce.lookahead>=D&&0<Ce.strstart&&(Ke=yt[Ne=Ce.strstart-1])===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]){ht=Ce.strstart+M;do;while(Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ke===yt[++Ne]&&Ne<ht);Ce.match_length=M-(ht-Ne),Ce.match_length>Ce.lookahead&&(Ce.match_length=Ce.lookahead)}if(Ce.match_length>=D?(je=s._tr_tally(Ce,1,Ce.match_length-D),Ce.lookahead-=Ce.match_length,Ce.strstart+=Ce.match_length,Ce.match_length=0):(je=s._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++),je&&(V(Ce,!1),Ce.strm.avail_out===0))return k}return Ce.insert=0,Ie===h?(V(Ce,!0),Ce.strm.avail_out===0?H:Y):Ce.last_lit&&(V(Ce,!1),Ce.strm.avail_out===0)?k:I}(ie,pe):n[ie.level].func(ie,pe);if(Be!==H&&Be!==Y||(ie.status=666),Be===k||Be===H)return U.avail_out===0&&(ie.last_flush=-1),v;if(Be===I&&(pe===1?s._tr_align(ie):pe!==5&&(s._tr_stored_block(ie,0,0,!1),pe===3&&($(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),j(U),U.avail_out===0))return ie.last_flush=-1,v}return pe!==h?v:ie.wrap<=0?1:(ie.wrap===2?(X(ie,255&U.adler),X(ie,U.adler>>8&255),X(ie,U.adler>>16&255),X(ie,U.adler>>24&255),X(ie,255&U.total_in),X(ie,U.total_in>>8&255),X(ie,U.total_in>>16&255),X(ie,U.total_in>>24&255)):(Q(ie,U.adler>>>16),Q(ie,65535&U.adler)),j(U),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?v:1)},r.deflateEnd=function(U){var pe;return U&&U.state?(pe=U.state.status)!==O&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==z&&pe!==666?q(U,x):(U.state=null,pe===z?q(U,-3):v):x},r.deflateSetDictionary=function(U,pe){var _e,ie,de,ye,Re,Be,Ce,Ie,je=pe.length;if(!U||!U.state||(ye=(_e=U.state).wrap)===2||ye===1&&_e.status!==O||_e.lookahead)return x;for(ye===1&&(U.adler=o(U.adler,pe,je,0)),_e.wrap=0,je>=_e.w_size&&(ye===0&&($(_e.head),_e.strstart=0,_e.block_start=0,_e.insert=0),Ie=new a.Buf8(_e.w_size),a.arraySet(Ie,pe,je-_e.w_size,_e.w_size,0),pe=Ie,je=_e.w_size),Re=U.avail_in,Be=U.next_in,Ce=U.input,U.avail_in=je,U.next_in=0,U.input=pe,we(_e);_e.lookahead>=D;){for(ie=_e.strstart,de=_e.lookahead-(D-1);_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[ie+D-1])&_e.hash_mask,_e.prev[ie&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=ie,ie++,--de;);_e.strstart=ie,_e.lookahead=D-1,we(_e)}return _e.strstart+=_e.lookahead,_e.block_start=_e.strstart,_e.insert=_e.lookahead,_e.lookahead=0,_e.match_length=_e.prev_length=D-1,_e.match_available=0,U.next_in=Be,U.input=Ce,U.avail_in=Re,_e.wrap=ye,v},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(n,a){var s,o,u,l,g,h,v,x,S,w,c,_,y,b,C,E,p,f,D,M,N,O,z,k,I;s=n.state,o=n.next_in,k=n.input,u=o+(n.avail_in-5),l=n.next_out,I=n.output,g=l-(a-n.avail_out),h=l+(n.avail_out-257),v=s.dmax,x=s.wsize,S=s.whave,w=s.wnext,c=s.window,_=s.hold,y=s.bits,b=s.lencode,C=s.distcode,E=(1<<s.lenbits)-1,p=(1<<s.distbits)-1;e:do{y<15&&(_+=k[o++]<<y,y+=8,_+=k[o++]<<y,y+=8),f=b[_&E];t:for(;;){if(_>>>=D=f>>>24,y-=D,(D=f>>>16&255)===0)I[l++]=65535&f;else{if(!(16&D)){if(!(64&D)){f=b[(65535&f)+(_&(1<<D)-1)];continue t}if(32&D){s.mode=12;break e}n.msg="invalid literal/length code",s.mode=30;break e}M=65535&f,(D&=15)&&(y<D&&(_+=k[o++]<<y,y+=8),M+=_&(1<<D)-1,_>>>=D,y-=D),y<15&&(_+=k[o++]<<y,y+=8,_+=k[o++]<<y,y+=8),f=C[_&p];r:for(;;){if(_>>>=D=f>>>24,y-=D,!(16&(D=f>>>16&255))){if(!(64&D)){f=C[(65535&f)+(_&(1<<D)-1)];continue r}n.msg="invalid distance code",s.mode=30;break e}if(N=65535&f,y<(D&=15)&&(_+=k[o++]<<y,(y+=8)<D&&(_+=k[o++]<<y,y+=8)),v<(N+=_&(1<<D)-1)){n.msg="invalid distance too far back",s.mode=30;break e}if(_>>>=D,y-=D,(D=l-g)<N){if(S<(D=N-D)&&s.sane){n.msg="invalid distance too far back",s.mode=30;break e}if(z=c,(O=0)===w){if(O+=x-D,D<M){for(M-=D;I[l++]=c[O++],--D;);O=l-N,z=I}}else if(w<D){if(O+=x+w-D,(D-=w)<M){for(M-=D;I[l++]=c[O++],--D;);if(O=0,w<M){for(M-=D=w;I[l++]=c[O++],--D;);O=l-N,z=I}}}else if(O+=w-D,D<M){for(M-=D;I[l++]=c[O++],--D;);O=l-N,z=I}for(;2<M;)I[l++]=z[O++],I[l++]=z[O++],I[l++]=z[O++],M-=3;M&&(I[l++]=z[O++],1<M&&(I[l++]=z[O++]))}else{for(O=l-N;I[l++]=I[O++],I[l++]=I[O++],I[l++]=I[O++],2<(M-=3););M&&(I[l++]=I[O++],1<M&&(I[l++]=I[O++]))}break}}break}}while(o<u&&l<h);o-=M=y>>3,_&=(1<<(y-=M<<3))-1,n.next_in=o,n.next_out=l,n.avail_in=o<u?u-o+5:5-(o-u),n.avail_out=l<h?h-l+257:257-(l-h),s.hold=_,s.bits=y}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),a=e("./adler32"),s=e("./crc32"),o=e("./inffast"),u=e("./inftrees"),l=1,g=2,h=0,v=-2,x=1,S=852,w=592;function c(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(O){var z;return O&&O.state?(z=O.state,O.total_in=O.total_out=z.total=0,O.msg="",z.wrap&&(O.adler=1&z.wrap),z.mode=x,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new n.Buf32(S),z.distcode=z.distdyn=new n.Buf32(w),z.sane=1,z.back=-1,h):v}function b(O){var z;return O&&O.state?((z=O.state).wsize=0,z.whave=0,z.wnext=0,y(O)):v}function C(O,z){var k,I;return O&&O.state?(I=O.state,z<0?(k=0,z=-z):(k=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?v:(I.window!==null&&I.wbits!==z&&(I.window=null),I.wrap=k,I.wbits=z,b(O))):v}function E(O,z){var k,I;return O?(I=new _,(O.state=I).window=null,(k=C(O,z))!==h&&(O.state=null),k):v}var p,f,D=!0;function M(O){if(D){var z;for(p=new n.Buf32(512),f=new n.Buf32(32),z=0;z<144;)O.lens[z++]=8;for(;z<256;)O.lens[z++]=9;for(;z<280;)O.lens[z++]=7;for(;z<288;)O.lens[z++]=8;for(u(l,O.lens,0,288,p,0,O.work,{bits:9}),z=0;z<32;)O.lens[z++]=5;u(g,O.lens,0,32,f,0,O.work,{bits:5}),D=!1}O.lencode=p,O.lenbits=9,O.distcode=f,O.distbits=5}function N(O,z,k,I){var H,Y=O.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new n.Buf8(Y.wsize)),I>=Y.wsize?(n.arraySet(Y.window,z,k-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(I<(H=Y.wsize-Y.wnext)&&(H=I),n.arraySet(Y.window,z,k-I,H,Y.wnext),(I-=H)?(n.arraySet(Y.window,z,k-I,I,0),Y.wnext=I,Y.whave=Y.wsize):(Y.wnext+=H,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=H))),0}r.inflateReset=b,r.inflateReset2=C,r.inflateResetKeep=y,r.inflateInit=function(O){return E(O,15)},r.inflateInit2=E,r.inflate=function(O,z){var k,I,H,Y,q,G,$,j,V,X,Q,te,we,Pe,xe,Fe,Ae,be,Qe,Xe,U,pe,_e,ie,de=0,ye=new n.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return v;(k=O.state).mode===12&&(k.mode=13),q=O.next_out,H=O.output,$=O.avail_out,Y=O.next_in,I=O.input,G=O.avail_in,j=k.hold,V=k.bits,X=G,Q=$,pe=h;e:for(;;)switch(k.mode){case x:if(k.wrap===0){k.mode=13;break}for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(2&k.wrap&&j===35615){ye[k.check=0]=255&j,ye[1]=j>>>8&255,k.check=s(k.check,ye,2,0),V=j=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&j)<<8)+(j>>8))%31){O.msg="incorrect header check",k.mode=30;break}if((15&j)!=8){O.msg="unknown compression method",k.mode=30;break}if(V-=4,U=8+(15&(j>>>=4)),k.wbits===0)k.wbits=U;else if(U>k.wbits){O.msg="invalid window size",k.mode=30;break}k.dmax=1<<U,O.adler=k.check=1,k.mode=512&j?10:12,V=j=0;break;case 2:for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(k.flags=j,(255&k.flags)!=8){O.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){O.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=j>>8&1),512&k.flags&&(ye[0]=255&j,ye[1]=j>>>8&255,k.check=s(k.check,ye,2,0)),V=j=0,k.mode=3;case 3:for(;V<32;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.head&&(k.head.time=j),512&k.flags&&(ye[0]=255&j,ye[1]=j>>>8&255,ye[2]=j>>>16&255,ye[3]=j>>>24&255,k.check=s(k.check,ye,4,0)),V=j=0,k.mode=4;case 4:for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.head&&(k.head.xflags=255&j,k.head.os=j>>8),512&k.flags&&(ye[0]=255&j,ye[1]=j>>>8&255,k.check=s(k.check,ye,2,0)),V=j=0,k.mode=5;case 5:if(1024&k.flags){for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.length=j,k.head&&(k.head.extra_len=j),512&k.flags&&(ye[0]=255&j,ye[1]=j>>>8&255,k.check=s(k.check,ye,2,0)),V=j=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(G<(te=k.length)&&(te=G),te&&(k.head&&(U=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),n.arraySet(k.head.extra,I,Y,te,U)),512&k.flags&&(k.check=s(k.check,I,te,Y)),G-=te,Y+=te,k.length-=te),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(G===0)break e;for(te=0;U=I[Y+te++],k.head&&U&&k.length<65536&&(k.head.name+=String.fromCharCode(U)),U&&te<G;);if(512&k.flags&&(k.check=s(k.check,I,te,Y)),G-=te,Y+=te,U)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(G===0)break e;for(te=0;U=I[Y+te++],k.head&&U&&k.length<65536&&(k.head.comment+=String.fromCharCode(U)),U&&te<G;);if(512&k.flags&&(k.check=s(k.check,I,te,Y)),G-=te,Y+=te,U)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;V<16;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(j!==(65535&k.check)){O.msg="header crc mismatch",k.mode=30;break}V=j=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),O.adler=k.check=0,k.mode=12;break;case 10:for(;V<32;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}O.adler=k.check=c(j),V=j=0,k.mode=11;case 11:if(k.havedict===0)return O.next_out=q,O.avail_out=$,O.next_in=Y,O.avail_in=G,k.hold=j,k.bits=V,2;O.adler=k.check=1,k.mode=12;case 12:if(z===5||z===6)break e;case 13:if(k.last){j>>>=7&V,V-=7&V,k.mode=27;break}for(;V<3;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}switch(k.last=1&j,V-=1,3&(j>>>=1)){case 0:k.mode=14;break;case 1:if(M(k),k.mode=20,z!==6)break;j>>>=2,V-=2;break e;case 2:k.mode=17;break;case 3:O.msg="invalid block type",k.mode=30}j>>>=2,V-=2;break;case 14:for(j>>>=7&V,V-=7&V;V<32;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if((65535&j)!=(j>>>16^65535)){O.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&j,V=j=0,k.mode=15,z===6)break e;case 15:k.mode=16;case 16:if(te=k.length){if(G<te&&(te=G),$<te&&(te=$),te===0)break e;n.arraySet(H,I,Y,te,q),G-=te,Y+=te,$-=te,q+=te,k.length-=te;break}k.mode=12;break;case 17:for(;V<14;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(k.nlen=257+(31&j),j>>>=5,V-=5,k.ndist=1+(31&j),j>>>=5,V-=5,k.ncode=4+(15&j),j>>>=4,V-=4,286<k.nlen||30<k.ndist){O.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;V<3;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.lens[Re[k.have++]]=7&j,j>>>=3,V-=3}for(;k.have<19;)k.lens[Re[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,_e={bits:k.lenbits},pe=u(0,k.lens,0,19,k.lencode,0,k.work,_e),k.lenbits=_e.bits,pe){O.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;Fe=(de=k.lencode[j&(1<<k.lenbits)-1])>>>16&255,Ae=65535&de,!((xe=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(Ae<16)j>>>=xe,V-=xe,k.lens[k.have++]=Ae;else{if(Ae===16){for(ie=xe+2;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(j>>>=xe,V-=xe,k.have===0){O.msg="invalid bit length repeat",k.mode=30;break}U=k.lens[k.have-1],te=3+(3&j),j>>>=2,V-=2}else if(Ae===17){for(ie=xe+3;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}V-=xe,U=0,te=3+(7&(j>>>=xe)),j>>>=3,V-=3}else{for(ie=xe+7;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}V-=xe,U=0,te=11+(127&(j>>>=xe)),j>>>=7,V-=7}if(k.have+te>k.nlen+k.ndist){O.msg="invalid bit length repeat",k.mode=30;break}for(;te--;)k.lens[k.have++]=U}}if(k.mode===30)break;if(k.lens[256]===0){O.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,_e={bits:k.lenbits},pe=u(l,k.lens,0,k.nlen,k.lencode,0,k.work,_e),k.lenbits=_e.bits,pe){O.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,_e={bits:k.distbits},pe=u(g,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,_e),k.distbits=_e.bits,pe){O.msg="invalid distances set",k.mode=30;break}if(k.mode=20,z===6)break e;case 20:k.mode=21;case 21:if(6<=G&&258<=$){O.next_out=q,O.avail_out=$,O.next_in=Y,O.avail_in=G,k.hold=j,k.bits=V,o(O,Q),q=O.next_out,H=O.output,$=O.avail_out,Y=O.next_in,I=O.input,G=O.avail_in,j=k.hold,V=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;Fe=(de=k.lencode[j&(1<<k.lenbits)-1])>>>16&255,Ae=65535&de,!((xe=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(Fe&&!(240&Fe)){for(be=xe,Qe=Fe,Xe=Ae;Fe=(de=k.lencode[Xe+((j&(1<<be+Qe)-1)>>be)])>>>16&255,Ae=65535&de,!(be+(xe=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}j>>>=be,V-=be,k.back+=be}if(j>>>=xe,V-=xe,k.back+=xe,k.length=Ae,Fe===0){k.mode=26;break}if(32&Fe){k.back=-1,k.mode=12;break}if(64&Fe){O.msg="invalid literal/length code",k.mode=30;break}k.extra=15&Fe,k.mode=22;case 22:if(k.extra){for(ie=k.extra;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.length+=j&(1<<k.extra)-1,j>>>=k.extra,V-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;Fe=(de=k.distcode[j&(1<<k.distbits)-1])>>>16&255,Ae=65535&de,!((xe=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(!(240&Fe)){for(be=xe,Qe=Fe,Xe=Ae;Fe=(de=k.distcode[Xe+((j&(1<<be+Qe)-1)>>be)])>>>16&255,Ae=65535&de,!(be+(xe=de>>>24)<=V);){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}j>>>=be,V-=be,k.back+=be}if(j>>>=xe,V-=xe,k.back+=xe,64&Fe){O.msg="invalid distance code",k.mode=30;break}k.offset=Ae,k.extra=15&Fe,k.mode=24;case 24:if(k.extra){for(ie=k.extra;V<ie;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}k.offset+=j&(1<<k.extra)-1,j>>>=k.extra,V-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){O.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if($===0)break e;if(te=Q-$,k.offset>te){if((te=k.offset-te)>k.whave&&k.sane){O.msg="invalid distance too far back",k.mode=30;break}we=te>k.wnext?(te-=k.wnext,k.wsize-te):k.wnext-te,te>k.length&&(te=k.length),Pe=k.window}else Pe=H,we=q-k.offset,te=k.length;for($<te&&(te=$),$-=te,k.length-=te;H[q++]=Pe[we++],--te;);k.length===0&&(k.mode=21);break;case 26:if($===0)break e;H[q++]=k.length,$--,k.mode=21;break;case 27:if(k.wrap){for(;V<32;){if(G===0)break e;G--,j|=I[Y++]<<V,V+=8}if(Q-=$,O.total_out+=Q,k.total+=Q,Q&&(O.adler=k.check=k.flags?s(k.check,H,Q,q-Q):a(k.check,H,Q,q-Q)),Q=$,(k.flags?j:c(j))!==k.check){O.msg="incorrect data check",k.mode=30;break}V=j=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;V<32;){if(G===0)break e;G--,j+=I[Y++]<<V,V+=8}if(j!==(4294967295&k.total)){O.msg="incorrect length check",k.mode=30;break}V=j=0}k.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return v}return O.next_out=q,O.avail_out=$,O.next_in=Y,O.avail_in=G,k.hold=j,k.bits=V,(k.wsize||Q!==O.avail_out&&k.mode<30&&(k.mode<27||z!==4))&&N(O,O.output,O.next_out,Q-O.avail_out)?(k.mode=31,-4):(X-=O.avail_in,Q-=O.avail_out,O.total_in+=X,O.total_out+=Q,k.total+=Q,k.wrap&&Q&&(O.adler=k.check=k.flags?s(k.check,H,Q,O.next_out-Q):a(k.check,H,Q,O.next_out-Q)),O.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(X==0&&Q===0||z===4)&&pe===h&&(pe=-5),pe)},r.inflateEnd=function(O){if(!O||!O.state)return v;var z=O.state;return z.window&&(z.window=null),O.state=null,h},r.inflateGetHeader=function(O,z){var k;return O&&O.state&&2&(k=O.state).wrap?((k.head=z).done=!1,h):v},r.inflateSetDictionary=function(O,z){var k,I=z.length;return O&&O.state?(k=O.state).wrap!==0&&k.mode!==11?v:k.mode===11&&a(1,z,I,0)!==k.check?-3:N(O,z,I,I)?(k.mode=31,-4):(k.havedict=1,h):v},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(l,g,h,v,x,S,w,c){var _,y,b,C,E,p,f,D,M,N=c.bits,O=0,z=0,k=0,I=0,H=0,Y=0,q=0,G=0,$=0,j=0,V=null,X=0,Q=new n.Buf16(16),te=new n.Buf16(16),we=null,Pe=0;for(O=0;O<=15;O++)Q[O]=0;for(z=0;z<v;z++)Q[g[h+z]]++;for(H=N,I=15;1<=I&&Q[I]===0;I--);if(I<H&&(H=I),I===0)return x[S++]=20971520,x[S++]=20971520,c.bits=1,0;for(k=1;k<I&&Q[k]===0;k++);for(H<k&&(H=k),O=G=1;O<=15;O++)if(G<<=1,(G-=Q[O])<0)return-1;if(0<G&&(l===0||I!==1))return-1;for(te[1]=0,O=1;O<15;O++)te[O+1]=te[O]+Q[O];for(z=0;z<v;z++)g[h+z]!==0&&(w[te[g[h+z]]++]=z);if(p=l===0?(V=we=w,19):l===1?(V=a,X-=257,we=s,Pe-=257,256):(V=o,we=u,-1),O=k,E=S,q=z=j=0,b=-1,C=($=1<<(Y=H))-1,l===1&&852<$||l===2&&592<$)return 1;for(;;){for(f=O-q,M=w[z]<p?(D=0,w[z]):w[z]>p?(D=we[Pe+w[z]],V[X+w[z]]):(D=96,0),_=1<<O-q,k=y=1<<Y;x[E+(j>>q)+(y-=_)]=f<<24|D<<16|M|0,y!==0;);for(_=1<<O-1;j&_;)_>>=1;if(_!==0?(j&=_-1,j+=_):j=0,z++,--Q[O]==0){if(O===I)break;O=g[h+w[z]]}if(H<O&&(j&C)!==b){for(q===0&&(q=H),E+=k,G=1<<(Y=O-q);Y+q<I&&!((G-=Q[Y+q])<=0);)Y++,G<<=1;if($+=1<<Y,l===1&&852<$||l===2&&592<$)return 1;x[b=j&C]=H<<24|Y<<16|E-S|0}}return j!==0&&(x[E+j]=O-q<<24|64<<16|0),c.bits=H,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common"),a=0,s=1;function o(de){for(var ye=de.length;0<=--ye;)de[ye]=0}var u=0,l=29,g=256,h=g+1+l,v=30,x=19,S=2*h+1,w=15,c=16,_=7,y=256,b=16,C=17,E=18,p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(h+2));o(N);var O=new Array(2*v);o(O);var z=new Array(512);o(z);var k=new Array(256);o(k);var I=new Array(l);o(I);var H,Y,q,G=new Array(v);function $(de,ye,Re,Be,Ce){this.static_tree=de,this.extra_bits=ye,this.extra_base=Re,this.elems=Be,this.max_length=Ce,this.has_stree=de&&de.length}function j(de,ye){this.dyn_tree=de,this.max_code=0,this.stat_desc=ye}function V(de){return de<256?z[de]:z[256+(de>>>7)]}function X(de,ye){de.pending_buf[de.pending++]=255&ye,de.pending_buf[de.pending++]=ye>>>8&255}function Q(de,ye,Re){de.bi_valid>c-Re?(de.bi_buf|=ye<<de.bi_valid&65535,X(de,de.bi_buf),de.bi_buf=ye>>c-de.bi_valid,de.bi_valid+=Re-c):(de.bi_buf|=ye<<de.bi_valid&65535,de.bi_valid+=Re)}function te(de,ye,Re){Q(de,Re[2*ye],Re[2*ye+1])}function we(de,ye){for(var Re=0;Re|=1&de,de>>>=1,Re<<=1,0<--ye;);return Re>>>1}function Pe(de,ye,Re){var Be,Ce,Ie=new Array(w+1),je=0;for(Be=1;Be<=w;Be++)Ie[Be]=je=je+Re[Be-1]<<1;for(Ce=0;Ce<=ye;Ce++){var Ke=de[2*Ce+1];Ke!==0&&(de[2*Ce]=we(Ie[Ke]++,Ke))}}function xe(de){var ye;for(ye=0;ye<h;ye++)de.dyn_ltree[2*ye]=0;for(ye=0;ye<v;ye++)de.dyn_dtree[2*ye]=0;for(ye=0;ye<x;ye++)de.bl_tree[2*ye]=0;de.dyn_ltree[2*y]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function Fe(de){8<de.bi_valid?X(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function Ae(de,ye,Re,Be){var Ce=2*ye,Ie=2*Re;return de[Ce]<de[Ie]||de[Ce]===de[Ie]&&Be[ye]<=Be[Re]}function be(de,ye,Re){for(var Be=de.heap[Re],Ce=Re<<1;Ce<=de.heap_len&&(Ce<de.heap_len&&Ae(ye,de.heap[Ce+1],de.heap[Ce],de.depth)&&Ce++,!Ae(ye,Be,de.heap[Ce],de.depth));)de.heap[Re]=de.heap[Ce],Re=Ce,Ce<<=1;de.heap[Re]=Be}function Qe(de,ye,Re){var Be,Ce,Ie,je,Ke=0;if(de.last_lit!==0)for(;Be=de.pending_buf[de.d_buf+2*Ke]<<8|de.pending_buf[de.d_buf+2*Ke+1],Ce=de.pending_buf[de.l_buf+Ke],Ke++,Be===0?te(de,Ce,ye):(te(de,(Ie=k[Ce])+g+1,ye),(je=p[Ie])!==0&&Q(de,Ce-=I[Ie],je),te(de,Ie=V(--Be),Re),(je=f[Ie])!==0&&Q(de,Be-=G[Ie],je)),Ke<de.last_lit;);te(de,y,ye)}function Xe(de,ye){var Re,Be,Ce,Ie=ye.dyn_tree,je=ye.stat_desc.static_tree,Ke=ye.stat_desc.has_stree,Ne=ye.stat_desc.elems,ht=-1;for(de.heap_len=0,de.heap_max=S,Re=0;Re<Ne;Re++)Ie[2*Re]!==0?(de.heap[++de.heap_len]=ht=Re,de.depth[Re]=0):Ie[2*Re+1]=0;for(;de.heap_len<2;)Ie[2*(Ce=de.heap[++de.heap_len]=ht<2?++ht:0)]=1,de.depth[Ce]=0,de.opt_len--,Ke&&(de.static_len-=je[2*Ce+1]);for(ye.max_code=ht,Re=de.heap_len>>1;1<=Re;Re--)be(de,Ie,Re);for(Ce=Ne;Re=de.heap[1],de.heap[1]=de.heap[de.heap_len--],be(de,Ie,1),Be=de.heap[1],de.heap[--de.heap_max]=Re,de.heap[--de.heap_max]=Be,Ie[2*Ce]=Ie[2*Re]+Ie[2*Be],de.depth[Ce]=(de.depth[Re]>=de.depth[Be]?de.depth[Re]:de.depth[Be])+1,Ie[2*Re+1]=Ie[2*Be+1]=Ce,de.heap[1]=Ce++,be(de,Ie,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(yt,le){var ue,ge,$e,ke,at,ot,se=le.dyn_tree,Ge=le.max_code,Je=le.stat_desc.static_tree,pt=le.stat_desc.has_stree,Le=le.stat_desc.extra_bits,lt=le.stat_desc.extra_base,oe=le.stat_desc.max_length,ft=0;for(ke=0;ke<=w;ke++)yt.bl_count[ke]=0;for(se[2*yt.heap[yt.heap_max]+1]=0,ue=yt.heap_max+1;ue<S;ue++)oe<(ke=se[2*se[2*(ge=yt.heap[ue])+1]+1]+1)&&(ke=oe,ft++),se[2*ge+1]=ke,Ge<ge||(yt.bl_count[ke]++,at=0,lt<=ge&&(at=Le[ge-lt]),ot=se[2*ge],yt.opt_len+=ot*(ke+at),pt&&(yt.static_len+=ot*(Je[2*ge+1]+at)));if(ft!==0){do{for(ke=oe-1;yt.bl_count[ke]===0;)ke--;yt.bl_count[ke]--,yt.bl_count[ke+1]+=2,yt.bl_count[oe]--,ft-=2}while(0<ft);for(ke=oe;ke!==0;ke--)for(ge=yt.bl_count[ke];ge!==0;)Ge<($e=yt.heap[--ue])||(se[2*$e+1]!==ke&&(yt.opt_len+=(ke-se[2*$e+1])*se[2*$e],se[2*$e+1]=ke),ge--)}}(de,ye),Pe(Ie,ht,de.bl_count)}function U(de,ye,Re){var Be,Ce,Ie=-1,je=ye[1],Ke=0,Ne=7,ht=4;for(je===0&&(Ne=138,ht=3),ye[2*(Re+1)+1]=65535,Be=0;Be<=Re;Be++)Ce=je,je=ye[2*(Be+1)+1],++Ke<Ne&&Ce===je||(Ke<ht?de.bl_tree[2*Ce]+=Ke:Ce!==0?(Ce!==Ie&&de.bl_tree[2*Ce]++,de.bl_tree[2*b]++):Ke<=10?de.bl_tree[2*C]++:de.bl_tree[2*E]++,Ie=Ce,ht=(Ke=0)===je?(Ne=138,3):Ce===je?(Ne=6,3):(Ne=7,4))}function pe(de,ye,Re){var Be,Ce,Ie=-1,je=ye[1],Ke=0,Ne=7,ht=4;for(je===0&&(Ne=138,ht=3),Be=0;Be<=Re;Be++)if(Ce=je,je=ye[2*(Be+1)+1],!(++Ke<Ne&&Ce===je)){if(Ke<ht)for(;te(de,Ce,de.bl_tree),--Ke!=0;);else Ce!==0?(Ce!==Ie&&(te(de,Ce,de.bl_tree),Ke--),te(de,b,de.bl_tree),Q(de,Ke-3,2)):Ke<=10?(te(de,C,de.bl_tree),Q(de,Ke-3,3)):(te(de,E,de.bl_tree),Q(de,Ke-11,7));Ie=Ce,ht=(Ke=0)===je?(Ne=138,3):Ce===je?(Ne=6,3):(Ne=7,4)}}o(G);var _e=!1;function ie(de,ye,Re,Be){Q(de,(u<<1)+(Be?1:0),3),function(Ce,Ie,je,Ke){Fe(Ce),Ke&&(X(Ce,je),X(Ce,~je)),n.arraySet(Ce.pending_buf,Ce.window,Ie,je,Ce.pending),Ce.pending+=je}(de,ye,Re,!0)}r._tr_init=function(de){_e||(function(){var ye,Re,Be,Ce,Ie,je=new Array(w+1);for(Ce=Be=0;Ce<l-1;Ce++)for(I[Ce]=Be,ye=0;ye<1<<p[Ce];ye++)k[Be++]=Ce;for(k[Be-1]=Ce,Ce=Ie=0;Ce<16;Ce++)for(G[Ce]=Ie,ye=0;ye<1<<f[Ce];ye++)z[Ie++]=Ce;for(Ie>>=7;Ce<v;Ce++)for(G[Ce]=Ie<<7,ye=0;ye<1<<f[Ce]-7;ye++)z[256+Ie++]=Ce;for(Re=0;Re<=w;Re++)je[Re]=0;for(ye=0;ye<=143;)N[2*ye+1]=8,ye++,je[8]++;for(;ye<=255;)N[2*ye+1]=9,ye++,je[9]++;for(;ye<=279;)N[2*ye+1]=7,ye++,je[7]++;for(;ye<=287;)N[2*ye+1]=8,ye++,je[8]++;for(Pe(N,h+1,je),ye=0;ye<v;ye++)O[2*ye+1]=5,O[2*ye]=we(ye,5);H=new $(N,p,g+1,h,w),Y=new $(O,f,0,v,w),q=new $(new Array(0),D,0,x,_)}(),_e=!0),de.l_desc=new j(de.dyn_ltree,H),de.d_desc=new j(de.dyn_dtree,Y),de.bl_desc=new j(de.bl_tree,q),de.bi_buf=0,de.bi_valid=0,xe(de)},r._tr_stored_block=ie,r._tr_flush_block=function(de,ye,Re,Be){var Ce,Ie,je=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(Ke){var Ne,ht=4093624447;for(Ne=0;Ne<=31;Ne++,ht>>>=1)if(1&ht&&Ke.dyn_ltree[2*Ne]!==0)return a;if(Ke.dyn_ltree[18]!==0||Ke.dyn_ltree[20]!==0||Ke.dyn_ltree[26]!==0)return s;for(Ne=32;Ne<g;Ne++)if(Ke.dyn_ltree[2*Ne]!==0)return s;return a}(de)),Xe(de,de.l_desc),Xe(de,de.d_desc),je=function(Ke){var Ne;for(U(Ke,Ke.dyn_ltree,Ke.l_desc.max_code),U(Ke,Ke.dyn_dtree,Ke.d_desc.max_code),Xe(Ke,Ke.bl_desc),Ne=x-1;3<=Ne&&Ke.bl_tree[2*M[Ne]+1]===0;Ne--);return Ke.opt_len+=3*(Ne+1)+5+5+4,Ne}(de),Ce=de.opt_len+3+7>>>3,(Ie=de.static_len+3+7>>>3)<=Ce&&(Ce=Ie)):Ce=Ie=Re+5,Re+4<=Ce&&ye!==-1?ie(de,ye,Re,Be):de.strategy===4||Ie===Ce?(Q(de,2+(Be?1:0),3),Qe(de,N,O)):(Q(de,4+(Be?1:0),3),function(Ke,Ne,ht,yt){var le;for(Q(Ke,Ne-257,5),Q(Ke,ht-1,5),Q(Ke,yt-4,4),le=0;le<yt;le++)Q(Ke,Ke.bl_tree[2*M[le]+1],3);pe(Ke,Ke.dyn_ltree,Ne-1),pe(Ke,Ke.dyn_dtree,ht-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,je+1),Qe(de,de.dyn_ltree,de.dyn_dtree)),xe(de),Be&&Fe(de)},r._tr_tally=function(de,ye,Re){return de.pending_buf[de.d_buf+2*de.last_lit]=ye>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&ye,de.pending_buf[de.l_buf+de.last_lit]=255&Re,de.last_lit++,ye===0?de.dyn_ltree[2*Re]++:(de.matches++,ye--,de.dyn_ltree[2*(k[Re]+g+1)]++,de.dyn_dtree[2*V(ye)]++),de.last_lit===de.lit_bufsize-1},r._tr_align=function(de){Q(de,2,3),te(de,y,N),function(ye){ye.bi_valid===16?(X(ye,ye.bi_buf),ye.bi_buf=0,ye.bi_valid=0):8<=ye.bi_valid&&(ye.pending_buf[ye.pending++]=255&ye.bi_buf,ye.bi_buf>>=8,ye.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(n){(function(a,s){"use strict";if(!a.setImmediate){var o,u,l,g,h=1,v={},x=!1,S=a.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(a);w=w&&w.setTimeout?w:a,o={}.toString.call(a.process)==="[object process]"?function(b){process.nextTick(function(){_(b)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,C=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=C,b}}()?(g="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",y,!1):a.attachEvent("onmessage",y),function(b){a.postMessage(g+b,"*")}):a.MessageChannel?((l=new MessageChannel).port1.onmessage=function(b){_(b.data)},function(b){l.port2.postMessage(b)}):S&&"onreadystatechange"in S.createElement("script")?(u=S.documentElement,function(b){var C=S.createElement("script");C.onreadystatechange=function(){_(b),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(b){setTimeout(_,0,b)},w.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var C=new Array(arguments.length-1),E=0;E<C.length;E++)C[E]=arguments[E+1];var p={callback:b,args:C};return v[h]=p,o(h),h++},w.clearImmediate=c}function c(b){delete v[b]}function _(b){if(x)setTimeout(_,0,b);else{var C=v[b];if(C){x=!0;try{(function(E){var p=E.callback,f=E.args;switch(f.length){case 0:p();break;case 1:p(f[0]);break;case 2:p(f[0],f[1]);break;case 3:p(f[0],f[1],f[2]);break;default:p.apply(s,f)}})(C)}finally{c(b),x=!1}}}}function y(b){b.source===a&&typeof b.data=="string"&&b.data.indexOf(g)===0&&_(+b.data.slice(g.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var tk=zn((Ade,ek)=>{"use strict";var Pg={};Pg._getBinaryFromXHR=function(e){return e.response||e.responseText};function JO(){try{return new window.XMLHttpRequest}catch{}}function XU(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch{}}var $U=typeof window<"u"&&window.ActiveXObject?function(){return JO()||XU()}:JO;Pg.getBinaryContent=function(e,t){var r,n,a,s;t||(t={}),typeof t=="function"?(s=t,t={}):typeof t.callback=="function"&&(s=t.callback),!s&&typeof Promise<"u"?r=new Promise(function(u,l){n=u,a=l}):(n=function(u){s(null,u)},a=function(u){s(u,null)});try{var o=$U();o.open("GET",e,!0),"responseType"in o&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(u){if(o.readyState===4)if(o.status===200||o.status===0)try{n(Pg._getBinaryFromXHR(o))}catch(l){a(new Error(l))}else a(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText))},t.progress&&(o.onprogress=function(u){t.progress({path:e,originalEvent:u,percent:u.loaded/u.total*100,loaded:u.loaded,total:u.total})}),o.send()}catch(u){a(new Error(u),null)}return r};ek.exports=Pg});var un,Ig,QU,qU,zg,rk=ae(()=>{un=Hr(Dn()),Ig=Hr(Hf());pn();QU=qO(),qU=tk(),zg=class extends un.default.Component{constructor(t){super(t),this.state={}}getConf=()=>{let t=`job,step_number,type,name,version,parameters
`,r="";return this.props.analyses.forEach(n=>{n=n.replace(/_job/,""),console.log("Getting config for "+n),JSON.parse(On(n,this.props.joblist_url,"application/json")).steps.forEach(s=>{s.task.configuration.length!==0&&s.task.configuration.forEach(o=>{r+=n+","+s.ordering+","+o.type+","+o.name+","+o.version+","+o.parameters+`
`})})}),t+r};returnJobConfig=()=>{let t=this.getConf();(0,Ig.saveAs)(new Blob(t.split()),this.props.uuid+".csv")};getSVGArea=t=>{var r=document.getElementById(t);let n=null;return r&&(n=r.innerHTML,n=n.replace(/<g id="toggle".+?<\/g>/,""),n=n.replace(/<g id="buttons".+?<\/g>/,"")),n};returnZip=async()=>{let t=new QU;Object.keys(this.props.results_files).forEach(a=>{Object.keys(this.props.results_files[a]).forEach(s=>{if(s.includes(".png")||s.includes(".jpg")||s.includes(".jpeg")||s.includes(".gif")){let u=this.props.files_url+"/submissions/"+s;var o=null;try{o=qU.getBinaryContent(u)}catch{console.log("Could not get image data for zip: "+s)}t.file(s,o,{binary:!0})}else t.file(s,this.props.results_files[a][s])})}),t.file("job_configuration.csv",this.getConf());var r=this.getSVGArea("sequence_plot");r&&t.file("seq_annotation.svg",r),r=this.getSVGArea("psipred_horiz"),r&&t.file("psipred_cartoon.svg",r),r=this.getSVGArea("disorder_svg"),r&&t.file("disorder_precision.svg",r);let n=await t.generateAsync({type:"blob"});(0,Ig.saveAs)(n,this.props.uuid+".zip")};packageJobDetails=()=>{};getFile=t=>{Object.keys(this.props.results_files).forEach(r=>{Object.keys(this.props.results_files[r]).forEach(n=>{console.log("Getting "+n),n.includes(t.target.value)&&(0,Ig.saveAs)(new Blob(this.props.results_files[r][n].split()),n)})})};createDownloadLinks=(t,r,n)=>{let a=[];return a.push(un.default.createElement("h5",{key:t},n)),t++,r.forEach(s=>{a.push(un.default.createElement("button",{className:"fake-link",key:t,onClick:this.getFile,value:s[0]},s[1])),t++,a.push(un.default.createElement("br",{key:t})),t++}),[a,t]};renderDownloads=()=>{let t=[],r=0;return this.props.struct_job_names.forEach(n=>{let a=[];this.props.analyses.includes(n+"_job")&&(n===this.props.job_strings.metsite.varName&&(a=this.createDownloadLinks(r,[[".MetPred","Metsite PDB"],[".Metpred","Mesite Predictions"]],this.props.job_strings.metsite.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.hspred.varName&&(a=this.createDownloadLinks(r,[["initial.pdb","HSPred First PDB File"],["second.pdb","HSPred Second PDB File"],[".out","HSPRed Predictions"]],this.props.job_strings.hspred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.memembed.varName&&(a=this.createDownloadLinks(r,[[".pdb","PDB Embedding"]],this.props.job_strings.memembed.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.merizo.varName&&(a=this.createDownloadLinks(r,[[".pdb2",this.props.job_strings.merizo.shortName+" Annotated PDB"],[".dom_pdb",this.props.job_strings.merizo.shortName+" Domain PDB files"],[".merizo",this.props.job_strings.merizo.shortName+" Boundaries"]],this.props.job_strings.merizo.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.merizosearch.varName&&(a=this.createDownloadLinks(r,[[".pdb2",this.props.job_strings.merizo.shortName+" Annotated PDB"],[".dom_pdb",this.props.job_strings.merizo.shortName+" Domain PDB files (all)"],["_segment.tsv",this.props.job_strings.merizo.shortName+" Segmenting Result"],["_search.tsv",this.props.job_strings.merizo.shortName+" Significant Results"],["_search_insignificant.tsv",this.props.job_strings.merizo.shortName+" Insignificant Results"],["search_multi_dom.tsv",this.props.job_strings.merizo.shortName+" Multidomain Matches"]],this.props.job_strings.merizo.shortName+" DOWNLOADS"),t.push(a[0])),r=a[1])}),this.props.seq_job_names.forEach(n=>{let a=[];this.props.analyses.includes(n+"_job")&&((n===this.props.job_strings.psipred.varName||n===this.props.job_strings.dmp.varName)&&(a=this.createDownloadLinks(r,[[".horiz","Horiz Format Output"],[".ss2","SS2 Format Output"]],this.props.job_strings.psipred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.pgenthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.pgenthreader.shortName+" Hits"]],this.props.job_strings.pgenthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.disopred.varName&&(a=this.createDownloadLinks(r,[[".comb","COMB Format Output"],[".pbdat","PBDAT Format Output"]],this.props.job_strings.disopred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.memsatsvm.varName&&(a=this.createDownloadLinks(r,[[".memsat_svm",this.props.job_strings.memsatsvm.shortName+" text format"]],this.props.job_strings.memsatsvm.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmp.varName&&(a=this.createDownloadLinks(r,[[".con",this.props.job_strings.dmp.shortName+" Contact List"]],this.props.job_strings.dmp.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.genthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.genthreader.shortName+" Hits"]],this.props.job_strings.genthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.pdomthreader.varName&&(a=this.createDownloadLinks(r,[[".presults",this.props.job_strings.pdomthreader.shortName+" Hits"]],this.props.job_strings.pdomthreader.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmpfold.varName&&(a=this.createDownloadLinks(r,[[".pdb","PDB Model"]],this.props.job_strings.dmpfold.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.s4pred.varName&&(a=this.createDownloadLinks(r,[[".horiz","Horiz Format Output"],[".ss2","SS2 Format Output"]],this.props.job_strings.s4pred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dompred.varName&&(a=this.createDownloadLinks(r,[[".boundary",this.props.job_strings.dompred.shortName+" Boundaries"]],this.props.job_strings.dompred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.ffpred.varName&&(a=this.createDownloadLinks(r,[[".featcfg",this.props.job_strings.ffpred.shortName+" Predicted Features"],[".full_formatted",this.props.job_strings.ffpred.shortName+" Predictions"]],this.props.job_strings.ffpred.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.mempack.varName&&(a=this.createDownloadLinks(r,[["_LIPID_EXPOSURE.results",this.props.job_strings.mempack.shortName+" Lipid Exposure Results"],["_CONTACT_DEF1.results",this.props.job_strings.mempack.shortName+" Contacts"]],this.props.job_strings.mempack.shortName+" DOWNLOADS"),t.push(a[0])),n===this.props.job_strings.dmpmetal.varName&&(a=this.createDownloadLinks(r,[[".dmpmetal",this.props.job_strings.dmpmetal.shortName+" Residue Results"]],this.props.job_strings.dmpmetal.shortName+" DOWNLOADS"),t.push(a[0])),r=a[1])}),un.default.createElement("div",null,t)};render(){return un.default.createElement("div",{className:"box box-warning",id:"downloads_widget"},un.default.createElement("div",{className:"box-header with-border"},un.default.createElement("h5",{className:"box-title"},"Downloads"),un.default.createElement("div",{className:"box-tools pull-right"},un.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},un.default.createElement("i",{className:"fa fa-minus"})))),un.default.createElement("div",{className:"box-body"},un.default.createElement("h5",null,"RESULTS ZIP FILE"),un.default.createElement("button",{className:"fake-link",onClick:this.returnZip},"Get Zip File"),un.default.createElement("br",null),un.default.createElement("br",null),un.default.createElement("h5",null,"JOB CONFIGURATION"),un.default.createElement("button",{className:"fake-link",onClick:this.returnJobConfig},"Get Job Details"),un.default.createElement("br",null),un.default.createElement("br",null),this.props.results_files?this.renderDownloads():null),this.props.waiting&&un.default.createElement("div",{className:"overlay processing"},un.default.createElement("i",{className:"fa fa-refresh fa-spin"})))}}});var It,Fg,nk=ae(()=>{It=Hr(Dn()),Fg=class extends It.default.Component{constructor(t){super(t),this.state={analyses:["psipred_job"],seqStart:1,seqStop:this.props.seq.length,bioDomModellerKey:""},this.timer=null}handleResubmit=t=>{t.preventDefault();let r=this.props.seq.slice(this.state.seqStart-1,this.state.seqStop);console.log("PREPPING RESUBMIT");let n=this.props.name,a=this.props.email;this.props.handleResubmit(this.state.analyses,r,n,a,t)};componentDidUpdate(){}triggerStartChange=t=>{t.length===0&&this.setState({seqStart:1}),t>this.state.seqStop&&this.setState({seqStart:this.state.seqStop})};triggerStopChange=t=>{t.length===0||t>this.props.seq.length?this.setState({seqStop:this.props.seq.length}):t<this.state.seqStart&&this.setState({seqStop:this.state.seqStart})};handleChange=t=>{if(t.target.name==="bioserf_domserf_modeller_key"&&this.setState({bioDomModellerKey:t.target.value,bioserf_modeller_key:t.target.value,domserf_modeller_key:t.target.value}),t.target.name==="start_coord"){clearTimeout(this.timer);let r=" ";r=parseInt(t.target.value),(r&&r>0||!r)&&(r||(r=""),this.setState({seqStart:r}),this.timer=setTimeout(this.triggerStartChange.bind(null,r),1e3))}if(t.target.name==="stop_coord"){clearTimeout(this.timer);let r="";r=parseInt(t.target.value),(r&&r>0||!r)&&(r||(r=""),this.setState({seqStop:r}),this.timer=setTimeout(this.triggerStopChange.bind(null,r),1e3))}};render(){return It.default.createElement("div",{className:"box box-success collapsed-box",id:"resubmission_widget"},It.default.createElement("div",{className:"box-header with-border"},It.default.createElement("h5",{className:"box-title"},"Segment Resubmission"),It.default.createElement("div",{className:"box-tools pull-right"},It.default.createElement("button",{type:"button",className:"btn btn-box-tool","data-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},It.default.createElement("i",{className:"fa fa-plus"})))),It.default.createElement("div",{className:"box-body"},It.default.createElement("br",null),It.default.createElement("form",{method:"Post",className:"form",intro:"slide",outro:"slide",onSubmit:this.handleResubmit},It.default.createElement("br",null),It.default.createElement("h5",{"data-toggle":"tool-tip",title:"Select subsequence regions from your current result"},"Select subsequence region"),"Start Coordinate ",It.default.createElement("input",{type:"text",id:"start_coord",name:"start_coord",className:"sequence_coord",value:this.state.seqStart,onChange:this.handleChange})," - Stop Coordinate ",It.default.createElement("input",{id:"stop_coord",type:"text",name:"stop_coord",className:"sequence_coord",value:this.state.seqStop,onChange:this.handleChange}),It.default.createElement("div",{className:"form-group"},It.default.createElement("br",null),It.default.createElement("h5",null,"Choose prediction methods (hover for short description)"),It.default.createElement("table",{className:"full-width-table"},It.default.createElement("tbody",null,It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.psipred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_psipred_job",name:this.props.job_strings.psipred.jobName,value:this.props.job_strings.psipred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.psipred.jobName)}),It.default.createElement("label",{htmlFor:"id_psipred_job"},"\xA0",this.props.job_strings.psipred.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.disopred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_diospred_job",name:this.props.job_strings.disopred.jobName,value:this.props.job_strings.disopred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.disopred.jobName)}),It.default.createElement("label",{htmlFor:"id_disopred_job"},"\xA0",this.props.job_strings.disopred.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.memsatsvm.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_memsatsvm_job",name:this.props.job_strings.memsatsvm.jobName,value:this.props.job_strings.memsatsvm.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.memsatsvm.jobName)}),It.default.createElement("label",{htmlFor:"id_memsatsvm_job"},"\xA0",this.props.job_strings.memsatsvm.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pgenthreader.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_pgenthreader_job",name:this.props.job_strings.pgenthreader.jobName,value:this.props.job_strings.pgenthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.pgenthreader.jobName)}),It.default.createElement("label",{htmlFor:"id_pgenthreader_job"},"\xA0",this.props.job_strings.pgenthreader.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmp.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dmp_job",name:this.props.job_strings.dmp.jobName,value:this.props.job_strings.dmp.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmp.jobName)}),It.default.createElement("label",{htmlFor:"id_dmp_job"},"\xA0",this.props.job_strings.dmp.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.mempack.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_mempack_job",name:this.props.job_strings.mempack.jobName,value:this.props.job_strings.mempack.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.mempack.jobName)}),It.default.createElement("label",{htmlFor:"id_mempack_job"},"\xA0",this.props.job_strings.mempack.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.genthreader.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_genthreader_job",name:this.props.job_strings.genthreader.jobName,value:this.props.job_strings.genthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.genthreader.jobName)}),It.default.createElement("label",{htmlFor:"id_genthreader_job"},"\xA0",this.props.job_strings.genthreader.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.pdomthreader.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_pdomthreader_job",name:this.props.job_strings.pdomthreader.jobName,value:this.props.job_strings.pdomthreader.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.pdomthreader.jobName)}),It.default.createElement("label",{htmlFor:"id_pdomthreader_job"},"\xA0",this.props.job_strings.pdomthreader.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpfold.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dmpfold_job",name:this.props.job_strings.dmpfold.jobName,value:this.props.job_strings.dmpfold.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmpfold.jobName)}),It.default.createElement("label",{htmlFor:"id_dmpfold_job"},"\xA0",this.props.job_strings.dmpfold.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dompred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dompred_job",name:this.props.job_strings.dompred.jobName,value:this.props.job_strings.dompred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dompred.jobName)}),It.default.createElement("label",{htmlFor:"id_dompred_job"},"\xA0",this.props.job_strings.dompred.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.s4pred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_s4pred_job",name:this.props.job_strings.s4pred.jobName,value:this.props.job_strings.s4pred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.s4pred.jobName)}),It.default.createElement("label",{htmlFor:"id_s4pred_job"},"\xA0",this.props.job_strings.s4pred.shortName)),It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.ffpred.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_ffpred_job",name:this.props.job_strings.ffpred.jobName,value:this.props.job_strings.ffpred.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.ffpred.jobName)}),It.default.createElement("label",{htmlFor:"id_ffpred_job"},"\xA0",this.props.job_strings.ffpred.shortName))),It.default.createElement("tr",null,It.default.createElement("td",{"data-toggle":"tool-tip",title:this.props.job_strings.dmpmetal.tooltip},It.default.createElement("input",{type:"checkbox",id:"id_dmpmetal_job",name:this.props.job_strings.dmpmetal.jobName,value:this.props.job_strings.dmpmetal.jobName,onChange:this.handleChange,checked:this.state.analyses.includes(this.props.job_strings.dmpmetal.jobName)}),It.default.createElement("label",{htmlFor:"id_dmpmetal_job"},"\xA0",this.props.job_strings.dmpmetal.shortName)),It.default.createElement("td",null))))),It.default.createElement("div",{className:"text-right"},It.default.createElement("input",{value:"Resubmit",type:"submit",className:"btn btn-primary"})),It.default.createElement("br",null))),this.props.waiting&&It.default.createElement("div",{className:"overlay processing"},It.default.createElement("i",{className:"fa fa-refresh fa-spin"})))}}});function ik(e){return e==="MODELIRANJE"}function JU(e){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(t)}function eR(e){var t=/^[0-9]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(t)}function tR(e){var t=/^[0-9]+$/;return!!e.match(t)}function yh(e){var t=/^[A-Z]$/;return!!e.match(t)}function ak(e,t,r){return e.length===0?"You must provide a protein sequence or MSA for sequence analysis submission":e.length<30?"Your sequence is too short for analysis. Minimum size is 30 residues":e.length>1500?"Your sequence is too long to process. Maximum size is 1500 residues":e.length>500&&t.includes("dmpfold")?"DMPfold jobs have a maximum sequence length of 500 residues.":e.length>500&&t.includes("dmp")?"DeepMetaPSICOV jobs have a maximum sequence length of 500 residues.":(e.match(/A|T|C|G|U|N|a|t|c|g|u|n/g)||[]).length/e.length>.95?"Your sequence appears to be nucleotide sequence. This service requires protein sequence as input":/[^ACDEFGHIKLMNPQRSTVWYX-]+/i.test(e)?"Your sequence contains invalid characters":null}var sk,ok=ae(()=>{sk=(e,t,r)=>{let n=(l,g)=>l.filter(h=>g.includes(h)).length,a={send:!1,message:null,result_page:"seq",jobs:null,pdbData:""},s=e.seq_job_names,o=e.struct_job_names;if(n(t,s)>0&&n(t,o)>0)return a.message="You can not submit both sequence and structure analysis jobs",a;if(n(t,s)===0&&n(t,o)===0)return a.message="You must select at least one analysis job",a;if(t.includes("bioserf")&&!ik(e.bioserf_modeller_key))return a.message="You have not provided a valid MODELLER key for BioSerf. Contact the Sali lab for a MODELLER licence.",a;if(t.includes("domserf")&&!ik(e.domserf_modeller_key))return a.message="You have not provided a valid MODELLER key for DomSerf. Contact the Sali lab for a MODELLER licence.",a;if(!/^[\x00-\x7F]+$/.test(e.name))return a.message="Please restrict job names to alphanumeric characters and simple punctuation",a;if(e.email.length===0){var u=window.confirm(`No email address was provided.

Analyses can be long running and we recommend users leave an
email address to receive completion alerts. Leaving an email address
also allows us to contact you if there are any problems with you analyses

Press OK to submit without an email address.`);if(u===!0)e.email="dummy@dummy.com";else return a}if(!JU(e.email))return a.message="You must provide a valid email address",a;if(e.name.length===0)return a.message="You must provide a short identifying name for your submission",a;if(n(t,o)>0&&(a.result_page="struct"),a.result_page==="seq"){if(t.length===13)return a.message="You can't select all sequence analyses",a;let l=e.seq.split(">").length-1,g=e.seq.split(`
`);if(l<=1){let h="";if(g.forEach(function(v){v.startsWith(">")||(h+=v)}),h.length<1)return a.message="No sequence provided",a;a.message=ak(h,t),e.seq=h}else{let h=0,v=0,x={};g.forEach(function(w){w.startsWith(">")?(h+=1,x[h]=""):(x[h]+=w,v+=w.length)}),console.log(x);let S=x[1].length*h;if(v!==S)return a.message="MSA Sequences must be of same length",a;for(let w in x)if(a.message+=ak(x[w]),a.message>0)return a;e.seq=x[1]}if(eR(e.dompred_e_value_cutoff)||(a.message="E Value cutoff for Dompred must be a number"),tR(e.dompred_psiblast_iterations)||(a.message="PSI-BLAST iterations for Dompred must be an integer"),a.message)return a}else{if(t.length===4)return a.message="You can't select all structure analyses",a;if(!yh(e.metsite_chain_id))return a.message="Metsite chain ID must be a single letter",a;if(!yh(e.hspred_protein_1))return a.message="HSPred Protein 1 must be a single letter",a;if(!yh(e.hspred_protein_2))return a.message="HSPred Protein 2 must be a single letter",a;if(!yh(e.merizo_chain))return a.message="Merizo chain ID must be a single letter",a;if(!yh(e.merizosearch_chain))return a.message="Merizo Search chain ID be a single letter",a;if(r&&!/ATOM\s+\d+/i.test(r))return a.message="Your file does not look like a plain text ascii pdb file. This service does not accept .gz or xml format pdb files",a}if(t.includes("pgenthreader")||t.includes("dompred")||t.includes("pdomthreader")||t.includes("bioserf")||t.includes("domserf")||t.includes("metapsicov")){let l=t.indexOf("psipred");l>-1&&t.splice(l,1)}if(t.includes("bioserf")){let l=t.indexOf("pgenthreader");l>-1&&t.splice(l,1)}if(t.includes("domserf")){let l=t.indexOf("pdomthreader");l>-1&&t.splice(l,1)}return a.send=!0,a.message="all tests passed",a.pdbData=r,a.jobs=t,a.seq=e.seq,a}});async function rR(e){return await new Promise(r=>{let n=new FileReader;n.onload=a=>r(n.result),n.readAsText(e)})}var Or,Gw,Bg,lk=ae(()=>{Or=Hr(Dn());OC();kC();XO();$O();rk();nk();ok();pn();Gw=class extends Or.default.Component{constructor(t){super(t);let r="",n="",a=null,s="",o="";this.props.location==="Dev"&&(s="test",o="a@b.com"),this.state={displayType:"input",displayTime:!0,formSelectedOption:"TransForm",seq_job_names:["psipred","disopred","pgenthreader","metapsicov","mempack","memsatsvm","genthreader","dompred","pdomthreader","ffpred","dmp","dmpfold","s4pred","dmpmetal"],struct_job_names:["metsite","hspred","memembed","merizo","merizosearch"],trans_job_names:["gsrcl"],analyses:["gsrcl_job"],jobs:[],input_data:r,seq:n,name:s,email:o,pdbData:a,waiting:!1,uuid:null,bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",merizo_iterate:"FALSE",merizo_chain:"A",merizosearch_db:"ted",merizosearch_chain:"A",gsrcl_tissue:"Quake_Smart-seq2_Limb_Muscle",svgs:null,results_files:!1,config_data:null,resubmit:!1,results_map:["png","gif","jpg","horiz","ss2","pbdat","comb","memsat_svm","presult","align","presults","dom_presults","parseds","featcfg","full_formatted","csv","ann","aln","con","pdb","merizo","idx","boundary","Metpred","MetPred","out","results","pdb2","pdf","dmpmetal","dom_pdb","tsv","npy","txt"],job_strings:{psipred:{shortName:"PSIPRED",fullName:"PSIPRED 4.0",describedName:"PSIPRED 4.0 (Predict Secondary Structure)",varName:"psipred",jobName:"psipred_job",tooltip:"Predict helices, beta sheets and coils from AA sequence"},disopred:{shortName:"DISOPRED3",fullName:"DISOPRED3",describedName:"DISOPRED3 (Disorder Prediction)",varName:"disopred",jobName:"disopred_job",tooltip:"Detect intrinsically disordered regions in proteins"},pgenthreader:{shortName:"pGenTHREADER",fullName:"pGenTHREADER",describedName:"pGenTHREADER (Profile Based Fold Recognition)",varName:"pgenthreader",jobName:"pgenthreader_job",tooltip:"Protein fold recognition with protein templates of known structure"},memsatsvm:{shortName:"MEMSAT-SVM",fullName:"MEMSAT-SVM",describedName:"MEMSAT-SVM (Membrane Helix Prediction)",varName:"memsatsvm",jobName:"memsatsvm_job",tooltip:"Calculate length, location and topology of transmembrane helices"},dmp:{shortName:"DeepMetaPSICOV",fullName:"DeepMetaPSICOV 1.0",describedName:"DeepMetaPSICOV 1.0 (Structural Contact Prediction)",varName:"dmp",jobName:"dmp_job",tooltip:"Predict inter-residue contacts using a convolutional neural network"},mempack:{shortName:"MEMPACK",fullName:"MEMPACK",describedName:"MEMPACK (TM Topology and Helix Packing)",varName:"mempack",jobName:"mempack_job",tooltip:"Predict membrane helix packing"},genthreader:{shortName:"genTHREADER",fullName:"genTHREADER",describedName:"genTHREADER (Rapid Fold Recognition)",varName:"genthreader",jobName:"genthreader_job",tooltip:"Fast fold recognition method using template structures"},pdomthreader:{shortName:"pDomTHREADER",fullName:"pDomTHREADER",describedName:"pDomTHREADER (Protein Domain Fold Recognition)",varName:"pdomthreader",jobName:"pdomthreader_job",tooltip:"Fast protein domain fold recognition using template domain structures"},dmpfold:{shortName:"DMPFold",fullName:"DMPFold 2.0",describedName:"DMPFold 2.0 (Protein Structure Prediction)",varName:"dmpfold",jobName:"dmpfold_job",tooltip:"Accurate structure prediction using residue-residue contacts"},s4pred:{shortName:"S4Pred",fullName:"S4Pred",describedName:"S4Pred (Single Sequence SS Prediction)",varName:"s4pred",jobName:"s4pred_job",tooltip:"Predict Secondary Structure Prediction with a single sequence"},dompred:{shortName:"DomPred",fullName:"DomPred",describedName:"DomPred (Domain Boundary Prediction)",varName:"dompred",jobName:"dompred_job",tooltip:"Predict protein structural domain boundaries"},ffpred:{shortName:"FFPred",fullName:"FFPred 4",describedName:"FFPred 4 (Eurkaryotic Function Prediction)",varName:"ffpred",jobName:"ffpred_job",tooltip:"Predict protein function, using Gene Ontology annotations"},metsite:{shortName:"Metsite",fullName:"Metsite",describedName:"Metsite (Protein-Metal Ion Contact Prediction)",varName:"metsite",jobName:"metsite_job",tooltip:"Detects metal-binding residues from protein structure"},hspred:{shortName:"HSPred",fullName:"HSPred",describedName:"HSPred (Protein-Protein Hotspot Residue Prediction)",varName:"hspred",jobName:"hspred_job",tooltip:"Predicts protein-protein interaction hotspot residues"},memembed:{shortName:"MEMEMBED",fullName:"MEMEMBED",describedName:"MEMEMBED (Membrane Protein Orientation Prediction)",varName:"memembed",jobName:"memembed_job",tooltip:"Orientate membrane proteins within the lipid bilayer"},merizo:{shortName:"Merizo",fullName:"Merizo",describedName:"Merizo (Protein domain segmentation)",varName:"merizo",jobName:"merizo_job",tooltip:"Fast and accurate protein domain prediction"},merizosearch:{shortName:"Merizo Search",fullName:"Merizo Search",describedName:"Merizo Search (Domain segmentation and identification)",varName:"merizosearch",jobName:"merizosearch_job",tooltip:"Fast domain segmentation and idenftication"},dmpmetal:{shortName:"DMPmetal",fullName:"DMPmetal",describedName:"DMPmetal (Metal Binding Site Prediction)",varName:"dmpmetal",jobName:"dmpmetal_job",tooltip:"llm based prediction of metal binding sites"},gsrcl:{shortName:"GsRCL",fullName:"GsRCL",describedName:"GsRCL (Cell Type Classifiction)",varName:"gsrcl",jobName:"gsrcl_job",tooltip:"Cell Type Classification using contrastive learning"}}}}handleReset=()=>{this.setState({analyses:["psipred_job"],jobs:[],input_data:"",seq:"",name:"",email:"",waiting:!1,uuid:null,bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",pdbData:null,metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",merizo_iterate:"FALSE",merizo_chain:"A",merizosearch_db:"ted",merizosearch_iterate:"TRUE",merizosearch_chain:"A",gsrcl_reference_set:"Quake_Smart-seq2_Limb_Muscle",annotation_svg:null,results_files:!1,config_data:null,resubmit:!1})};updateResultsFiles=t=>{this.setState({results_files:t})};updateSVGs=t=>{this.setState({svgs:t})};handleResubmit=(t,r,n,a,s)=>{this.setState({analyses:t,jobs:[],input_data:"",seq:r,name:n,email:a,waiting:!1,uuid:null,formSelectedOption:"SeqForm",bioserf_modeller_key:"",domserf_modeller_key:"",dompred_e_value_cutoff:"0.01",dompred_psiblast_iterations:"5",ffpred_selection:"human",pdbData:"",metsite_metal_type:"CA",metsite_chain_id:"A",metsite_fpr:"1",hspred_protein_1:"A",hspred_protein_2:"B",memembed_algorithm:"0",memembed_barrel:"TRUE",memembed_terminal:"in",annotation_svg:null,results_files:!1,config_data:null,resubmit:!0}),this.handleSubmit(s)};updateSeq=t=>{this.setState({seq:t})};setTestSeq=()=>{let t="MLELLPTAVEGVSQAQITGRPEWIWLALGTALMGLGTLYFLVKGMGVSDPDAKKFYAITTLVPAIAFTMYLSMLLGYGLTMVPFGGEQNPIYWARYADWLFTTPLLLLDLALLVDADQGTILALVGADGIMIGTGLVGALTKVYSYRFVWWAISTAAMLYILYVLFFGFTSKAESMRPEVASTFKVLRNVTVVLWSAYPVVWLIGSEGAGIVPLNIETLLFMVLDVSAKVGFGLILLRSRAIFGEAEAPEPSAGDGAAATSD";this.setState({seq:t,input_data:t})};setDMPMetSeq=()=>{let t="IDVLLGADDGSLAFVPSEFSISPGEKIVFKNNAGFPHNIVFDEDSIPSGVDASKISMSEEDLLNAKGETFEVALSNKGEYSFYCSPHQGAGMVGKVTVN";this.setState({seq:t,input_data:t})};updateResubmit=t=>{this.setState({resubmit:t})};updateConfig=t=>{this.setState({config_data:t})};updateWaiting=t=>{this.setState({waiting:t})};updateUuid=t=>{this.setState({uuid:t})};updateName=t=>{this.setState({name:t})};updateForm=t=>{this.setState({formSelectedOption:t})};updateAnalyses=t=>{this.setState({analyses:t})};updateDisplayTime=t=>{this.setState({displayTime:t})};componentDidUpdate(){}handleInputChange=t=>{this.handleReset(),this.setState({formSelectedOption:t.target.value,analyses:[]})};handleStructChange=t=>{var r=t.target.value;if(t.target.name==="job_name")this.setState({name:r});else if(t.target.name==="email")this.setState({email:r});else{let n=this.state.analyses,a=this.state.analyses.indexOf(t.target.value);a>-1?n.splice(a,1):n.push(t.target.value),this.setState({analyses:n})}this.state.analyses.length===4&&alert("You have selected every analysis method. We don't allow submissions which select all analyses. Please consider more carefully which predictions you require.")};handleSeqChange=t=>{var r=t.target.value;if(t.target.name==="input_data"){r=r.replace(/\r/g,""),this.setState({input_data:r});var n=(r.match(/>/g)||[]).length;if(n===1){var a=/^>(\S+).*\n([\S\s]+)/,s=a.exec(r);s?this.setState({name:s[1],seq:s[2].toUpperCase()}):this.setState({seq:r.toUpperCase()})}else this.setState({seq:r.toUpperCase()})}else if(t.target.name==="job_name")this.setState({name:r});else if(t.target.name==="email")this.setState({email:r});else{let o=this.state.analyses,u=this.state.analyses.indexOf(t.target.value);u>-1?o.splice(u,1):o.push(t.target.value),this.setState({analyses:o}),this.state.analyses.length===12&&alert("You have selected nearly every analysis. This job may take in excess of 12 hours. Please consider submitting seperate jobs ")}this.state.analyses.length===13&&alert("You have selected every analysis method. We don't allow submissions which select all analyses. Please consider more carefully which predictions you require.")};handleSidebarChange=t=>{var r={};r[t.target.name]=t.target.value,this.setState(r)};handleSubmit=async t=>{t.preventDefault();let r=this.state.analyses;r=r.map(o=>o.replace("_job",""));let n=null,a=null;try{n=document.getElementById("pdbFile").files[0],n&&(a=await rR(n))}catch(o){a="",o.message.includes("FileReader.readAsText is not an object")&&alert("File selected not valid")}let s=sk(this.state,r,a);this.state.seq=s.seq,s.send?this.setState({jobs:s.jobs,pdbData:s.pdbData,displayType:"results"}):alert(s.message)};componentDidMount(){console.log("INCOMING UUID: "+this.props.incoming_uuid),this.props.incoming_uuid&&this.setState({displayType:"results"})}render(){return Or.default.createElement("div",{className:"row"},this.state.displayType==="input"?Or.default.createElement("div",null,Or.default.createElement("div",{className:"col-md-9"},Or.default.createElement(g0,{...this.state,...this.props,handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,handleStructChange:this.handleStructChange,handleReset:this.handleReset,handleSeqChange:this.handleSeqChange,setTestSeq:this.setTestSeq,setDMPMetSeq:this.setDMPMetSeq})),Or.default.createElement("div",{className:"col-md-3"},Or.default.createElement(m0,{...this.state,handleSidebarChange:this.handleSidebarChange}))):Or.default.createElement("div",null,Or.default.createElement("div",{className:"col-md-9"},Or.default.createElement(kg,{...this.state,...this.props,updateWaiting:this.updateWaiting,updateResultsFiles:this.updateResultsFiles,updateSVGs:this.updateSVGs,updateName:this.updateName,updateUuid:this.updateUuid,updateConfig:this.updateConfig,updateResubmit:this.updateResubmit,updateForm:this.updateForm,updateSeq:this.updateSeq,updateAnalyses:this.updateAnalyses,updateDisplayTime:this.updateDisplayTime})),Or.default.createElement("div",{className:"col-md-3"},this.state.displayTime===!0&&Or.default.createElement(Ng,{...this.state,...this.props}),Or.default.createElement(zg,{...this.state,...this.props}),this.state.formSelectedOption==="SeqForm"&&Or.default.createElement(Fg,{...this.state,...this.props,handleResubmit:this.handleResubmit}))))}},Bg=class extends Or.default.Component{constructor(t){super(t);let r=window.location.href,n=null;window.location.href.includes("&uuid=")&&(r=window.location.href.split("&uuid=")[0],n=window.location.href.split("&uuid=")[1]),console.log("PAGE LOAD location : "+window.location.hostname),console.log("PAGE LOAD href: "+r),console.log("PAGE LOAD uuid: "+n),this.state={suspension_message:null,server_message:null,endpoints_url:null,submit_url:null,times_url:null,joblist_url:null,files_url:null,gears_svg:"http://bioinf.cs.ucl.ac.uk/psipred_beta/static/images/gears.svg",main_url:"http://bioinf.cs.ucl.ac.uk",app_path:"/psipred_beta",location:"Dev",gear_string:'<object width="140" height="140" type="image/svg+xml" data=""></object>',incoming_uuid:n,href:r};let a=Xf(this.state.href,window.location.hostname,this.state.main_url,this.state.app_path);this.state={...this.state,...a}}render(){return Or.default.createElement("section",{className:"content"},Or.default.createElement("div",{id:"psipred_site"},this.state.location==="Dev"&&Or.default.createElement("div",null,Or.default.createElement("h3",{className:"form_error"},"WARNING: This is Dev")),this.state.location==="Staging"&&Or.default.createElement("div",null,Or.default.createElement("h3",{className:"form_error"},"WARNING: This is Staging")),this.state.server_message!==null&&Or.default.createElement("div",null,Or.default.createElement("h3",{className:"form_error"},this.state.server_message)),this.state.suspension_message!==null&&Or.default.createElement("div",null,Or.default.createElement("h3",{className:"form_error"},this.state.suspension_message)),Or.default.createElement(Gw,{...this.state}),Or.default.createElement("div",{className:"row"},Or.default.createElement("div",{className:"col-md-9"}),Or.default.createElement("div",{className:"col-md-3"})),Or.default.createElement("div",{className:"helixy"},Or.default.createElement("img",{alt:"It's Helixy y'all!",src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/helixy_png_blank.png"}))))}}});var xt,Ug,uk=ae(()=>{xt=Hr(Dn());lk();Ug=class extends xt.default.Component{constructor(t){super(t),this.state={here:"#"}}render(){return xt.default.createElement("div",{className:"wrapper"},"  ",xt.default.createElement("header",{className:"main-header"},xt.default.createElement("a",{href:"/",className:"logo"},xt.default.createElement("span",{className:"logo-mini"},xt.default.createElement("img",{src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/psipred_logomark.svg",alt:"PSIPRED logomark"})),xt.default.createElement("span",{className:"logo-lg"},xt.default.createElement("img",{src:"http://bioinf.cs.ucl.ac.uk/psipred/static/images/psipred_logo.svg",alt:"PSIPRED"}))),xt.default.createElement("nav",{className:"navbar navbar-static-top",role:"navigation"},xt.default.createElement("a",{href:"#",className:"sidebar-toggle","data-toggle":"push-menu",role:"button",style:{paddingTop:"18px"}},xt.default.createElement("span",{className:"sr-only"},"Toggle navigation")),xt.default.createElement("div",{className:"container-fluid"},xt.default.createElement("div",{className:"navbar-header",style:{paddingTop:"5px"}},xt.default.createElement("h4",{className:"psipred_title"},xt.default.createElement("b",null,"UCL Department of Computer Science: Bioinformatics Group"))),xt.default.createElement("div",{className:"collapse navbar-collapse",id:"navbar-collapse"},xt.default.createElement("div",{className:"nav navbar-nav navbar-right"},xt.default.createElement("a",{href:"https://www.ucl.ac.uk/",alt:"UCL"},xt.default.createElement("img",{alt:"UCL Logo",height:"50px",src:"http://cms.cs.ucl.ac.uk/typo3/fileadmin/bioinf/templates/images/ucl-logo.svg"}))))))),xt.default.createElement("aside",{className:"main-sidebar"},xt.default.createElement("section",{className:"sidebar"},xt.default.createElement("ul",{className:"sidebar-menu"},xt.default.createElement("li",{className:"header"},"MAIN NAVIGATION"),xt.default.createElement("section",{className:"sidebar"},xt.default.createElement("ul",{className:"sidebar-menu tree","data-widget":"tree"},xt.default.createElement("ul",{className:"sidebar-menu"},xt.default.createElement("li",{className:"treeview"},xt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/index.html"},xt.default.createElement("i",{className:"fa fa-info"}),xt.default.createElement("span",null,xt.default.createElement("b",null,"Introduction")))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Contact.html"},xt.default.createElement("i",{className:"fa fa-keyboard-o"})," ",xt.default.createElement("span",null,"Contact"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Software_Downloads.html"},xt.default.createElement("i",{className:"fa fa-download"})," ",xt.default.createElement("span",null,"Downloads & Branding")))),xt.default.createElement("a",{href:this.state.here},xt.default.createElement("i",{className:"fa fa-th"})," ",xt.default.createElement("span",null,"PSIPRED Team Links"),xt.default.createElement("span",{className:"pull-right-container"},xt.default.createElement("i",{className:"fa fa-angle-left pull-right"}))),xt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_People.html"},xt.default.createElement("i",{className:"fa fa-users"})," ",xt.default.createElement("span",null,"People"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_ProCovar.html"},xt.default.createElement("i",{className:"fa fa-archive"})," ",xt.default.createElement("span",null,"ProCovar"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Publications.html"},xt.default.createElement("i",{className:"fa fa-book"})," ",xt.default.createElement("span",null,"Publications"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Vacancies.html"},xt.default.createElement("i",{className:"fa fa-envelope-square"})," ",xt.default.createElement("span",null,"Vacancies")))))),xt.default.createElement("ul",{className:"sidebar-menu"},xt.default.createElement("li",{className:"treeview"},xt.default.createElement("a",{href:this.state.here},xt.default.createElement("i",{className:"fa fa-th"})," ",xt.default.createElement("span",null,"PSIPRED Workbench Links"),xt.default.createElement("span",{className:"pull-right-container"},xt.default.createElement("i",{className:"fa fa-angle-left pull-right"}))),xt.default.createElement("ul",{className:"treeview-menu",style:{display:"block"}},xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinf.cs.ucl.ac.uk/psipred/"},xt.default.createElement("i",{className:"fa fa-dashboard"})," ",xt.default.createElement("span",null,"PSIPRED Workbench"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_methods_overview.html"},xt.default.createElement("i",{className:"fa fa-list-ul"})," ",xt.default.createElement("span",null,"Workbench Overview"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_PSIPRED_citation.html"},xt.default.createElement("i",{className:"fa fa-file-text-o"})," ",xt.default.createElement("span",null,"Workbench Citation"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Server_Tutorial.html"},xt.default.createElement("i",{className:"fa fa-question-circle-o"})," ",xt.default.createElement("span",null,"Help & Tutorials"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"https://www.youtube.com/@psipreducl"},xt.default.createElement("i",{class:"fa fa-youtube-play"})," ",xt.default.createElement("span",null,"YouTube Tutorials"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"http://bioinfadmin.cs.ucl.ac.uk/UCL-CS_Bioinformatics_Web_Services.html"},xt.default.createElement("i",{className:"fa fa-server"})," ",xt.default.createElement("span",null,"REST API"))),xt.default.createElement("li",null,xt.default.createElement("a",{href:"https://github.com/psipred"},xt.default.createElement("i",{className:"fa fa-github"})," ",xt.default.createElement("span",null,"PSIPRED Github"))))))))))),xt.default.createElement("div",{className:"content-wrapper"},xt.default.createElement(Bg,null)),xt.default.createElement("footer",{className:"main-footer"},xt.default.createElement("div",{className:"pull-right hidden-xs"},xt.default.createElement("strong",null,"Copyright \xA9",xt.default.createElement("br",null))),"\xA0"))}}});var Hw={};Yh(Hw,{render:()=>nR});var fk,nR,Vw=ae(()=>{fk=Hr(Dn());uk();nR=()=>fk.default.createElement(Ug,null)});var xh,Rg,dk=ae(()=>{xh=Hr(Dn());pn();pn();Rg=class extends xh.default.Component{constructor(t){super(t);let r=window.location.href,n="http://bioinf.cs.ucl.ac.uk",a="/psipred_beta",s=null,o=null;if(console.log(r),window.location.href.includes("ann=")&&window.location.href.includes("aln=")){let l=window.location.href.split("?")[1];console.log(l);let g=l.split("&");o=g[0].slice(4),s=g[1].slice(4)}console.log("PAGE LOAD location : "+window.location.hostname),console.log("ALN:"+o),console.log("ANN:"+s);let u=Xf(r,window.location.hostname,n,a);u.ann=s,u.aln=o,this.align=xh.default.createRef(),this.state=u,this.aa_colours={A:"#d3f87f",V:"#b2f87f",I:"#97f87f",L:"#86f87f",M:"#7ff87f",F:"#7ff897",Y:"#7ff8d3",W:"#7fd3f8",H:"#7f97f8",R:"#7f7ff8",K:"#977ff8",N:"#d37ff8",Q:"#f87fd3",E:"#f87f97",D:"#f87f7f",S:"#f8867f",T:"#f8977f",G:"#f7b27f",P:"#f7d37f",C:"#f8f87f","-":"#ffffff"},this.ss_colours={C:"#ffffff",H:"#f87fd3",S:"#f8f87f"}}getAlignData(t,r){let n=On(t,this.state.files_url+"/submissions/"),a=On(r,this.state.files_url+"/submissions/");n=n.split(`
`),n=[{seq_name:n[0].slice(1),seq:n[1].split("")},{seq_name:n[2].slice(1),seq:n[3].split("")}],this.setState({aln_data:n,ann_data:a})}componentDidMount(){this.getAlignData(this.state.aln,this.state.ann)}transformAnnotations=(t,r,n)=>{let a={};a[t]=[],a[r]=[];for(let o=0;o<n;o++)a[t][o]="C",a[r][o]="C";let s=this.state.ann_data.split(`
`);return console.log(this.state.ann_data),s.forEach(o=>{let u=o.split(/\s+/);if(u.length===6){let l=parseInt(u[3])-1,g=parseInt(u[4])-1;a[u[1]].forEach((h,v)=>{v>=l&&v<=g&&(a[u[1]][v]=u[0])})}}),a};renderAlignment=()=>{let t=this.transformAnnotations(this.state.aln_data[1].seq_name,this.state.aln_data[0].seq_name,this.state.aln_data[1].seq.length),r="<h2>Alignment:</h2>";return r+="<h2>Query&nbsp;vs&nbsp;"+this.state.aln_data[0].seq_name+"</h2>",r+="<tbody class='residue'>",r+="<tr><td>"+this.state.aln_data[1].seq_name+" </td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach(n=>{r+='<td bgcolor="'+this.aa_colours[n.toUpperCase()]+'">'+n.toUpperCase()+"</td>"}),r+="</tr>",r+="<tr><td>Seconday&nbsp;Structure</td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach((n,a)=>{r+='<td bgcolor="'+this.ss_colours[t[this.state.aln_data[1].seq_name][a]]+'">&nbsp;</td>'}),r+="</tr>",r+="<tr><td>"+this.state.aln_data[0].seq_name+" </td>",r+="<td>:&nbsp</td>",this.state.aln_data[0].seq.forEach(n=>{r+='<td bgcolor="'+this.aa_colours[n.toUpperCase()]+'">'+n.toUpperCase()+"</td>"}),r+="</tr>",r+="<tr><td>Seconday&nbsp;Structure</td>",r+="<td>:&nbsp</td>",this.state.aln_data[1].seq.forEach((n,a)=>{r+='<td bgcolor="'+this.ss_colours[t[this.state.aln_data[0].seq_name][a]]+'">&nbsp;</td>'}),r+="</tr>",r+='</tbody><br/><br/><h4>Residue&nbsp;colours&nbsp;as&nbsp;per&nbsp;<a href="https://academic.oup.com/peds/article/10/7/743/1593029">Taylor&nbsp;(1997)</h4></a>',r+="<h4>Annotations</h4>",r+=`<table><tbody class='residue'><tr><td>Helix:&nbsp</td><td bgcolor="`+this.ss_colours.H+'">&nbsp;</td></tr><tr><td>Strand:&nbsp</td><td bgcolor="'+this.ss_colours.S+'">&nbsp;</td></tr></tbody></table>',r};render(){return xh.default.createElement("div",{style:{overflow:"auto",height:"100%"}},this.state.aln_data?xh.default.createElement("table",{dangerouslySetInnerHTML:{__html:this.renderAlignment()}}):null)}}});var hk={};Yh(hk,{render:()=>iR});var ck,iR,pk=ae(()=>{ck=Hr(Dn());dk();iR=()=>ck.default.createElement(Rg,null)});var ya,jg,mk=ae(()=>{ya=Hr(Dn());pn();pn();pn();jg=class extends ya.default.Component{constructor(t){super(t);let r=window.location.href,n="http://bioinf.cs.ucl.ac.uk",a="/psipred_beta",s=null,o=null;if(console.log(r),window.location.href.includes("aln=")){let g=window.location.href.split("?")[1].slice(4).split("&type=");s=g[0],o=g[1]}console.log("PAGE LOAD location : "+window.location.hostname),console.log("ALN:"+s);let u=Xf(r,window.location.hostname,n,a);u.aln=s,this.timer=null,this.state=u,this.state.uuid=null,this.state.model_uri=null,this.state.waiting=!0,this.state.aln=On("/submissions/"+s,this.state.files_url,"text/plain"),this.state.form_data=this.configurePost(this.state.aln,o),this.state.uuid=this.postModelJob(this.state.form_data),this.state.pdb_data=null,console.log("MODELLING JOB UUID: "+this.state.uuid),this.model=ya.default.createRef()}postModelJob=t=>{console.log("SENDING MODELLING JOB TO: "+this.state.submit_url);let r=null;var n=new XMLHttpRequest;return n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&n.status===201&&(r=JSON.parse(n.response))},n.open("POST",this.state.submit_url,!1),n.setRequestHeader("Accept","application/json"),n.send(t),n.onerror=function(){alert("Request failed")},r.UUID};configurePost=(t,r)=>{var n=null;try{n=new Blob([t])}catch(s){alert(s)}let a=new FormData;return a.append("input_data",n,"input.txt"),r==="cath"?(console.log("JOB NAME: cath_modeller "),a.append("job","cath_modeller")):(console.log("JOB NAME: pdb_modeller "),a.append("job","pdb_modeller")),a.append("submission_name","genthreader_model"),a.append("email","dummy@dummy.com"),a};getResultsFiles=(t,r)=>{let n={},a=null;return t.forEach(function(s){if(s.data_path.split(/[.]/).pop().includes("pdb")){let u=On(s.data_path,r.files_url),l=s.data_path.split("/")[2];n[l]=u,a=r.files_url+s.data_path}}),[n,a]};getResults=()=>{let t=this.state.submit_url+this.state.uuid,r=null;this.state.waiting&&(console.log("POLLING RESULTS: "+t),fetch(t,{headers:{Accept:"application/json"},method:"GET"}).then(n=>{if(n.ok)return n.json().then(a=>a);throw n}).then(n=>{if(n.state!=="Running")if(n.state==="Complete")n.submissions.forEach(a=>{r=this.getResultsFiles(a.results,this.state)}),this.setState({waiting:!1,pdb_data:r[0],model_uri:r[1]}),clearInterval(this.timer);else throw n.state==="Error"?new Error(n.submissions.at(-1).last_message):new Error("Job Failed")}).catch(async n=>{let a="";try{let s=await n.json().then(o=>o);s.error&&(a.message=s.error),s.error.input_data&&(a.message=s.error.input_data)}catch{a=n}return console.log(a.message),console.log("Fetching results: "+t+` Failed. 
`+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),alert("Fetching results: "+t+` Failed. 
`+a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."),this.setState({error_message:a.message+". The Backend processing service was unable to process your submission. Please contact psipred-help@cs.ucl.ac.uk providing the following information; submission data, submission email address, analyses you had selected and the job name."}),this.props.updateWaiting(!1),null}))};componentDidUpdate(t){var r=this.state.pdb_data[Object.keys(this.state.pdb_data)[0]];ba(this.model.current,r,!0,!1,!1,!1)}componentDidMount(){console.log("Awaiting structure"),this.timer=setInterval(()=>this.getResults(),500)}render(){return ya.default.createElement(ya.default.Fragment,null,this.state.pdb_data?ya.default.createElement("div",null,ya.default.createElement("div",{className:"row"},ya.default.createElement("div",{className:"col-sm-7 col-sm-offset-5"},ya.default.createElement("h2",null,ya.default.createElement("a",{href:this.state.model_uri},"DOWNLOAD MODEL")),ya.default.createElement("div",{id:"container-01",ref:this.model,className:"mol-container",style:{width:"600px",height:"600px",position:"relative"}})))):ya.default.createElement("h1",null,"\xA03D MODEL Requested (may take up to 30mins)..."))}}});var vk={};Yh(vk,{render:()=>aR});var gk,aR,_k=ae(()=>{gk=Hr(Dn());mk();aR=()=>gk.default.createElement(jg,null)});var bk=Hr(TC());var sR=Hr(LC());Window.$3Dmol=sR;var Wg=bk.default.createRoot(document.getElementById("root")),Gg=window.location.pathname;console.log(Gg);Gg.startsWith("/interface")?Promise.resolve().then(()=>(Vw(),Hw)).then(e=>{Wg.render(e.render())}):Gg.includes("/msa")?Promise.resolve().then(()=>(pk(),hk)).then(e=>{Wg.render(e.render())}):Gg.includes("/model")?Promise.resolve().then(()=>(_k(),vk)).then(e=>{Wg.render(e.render())}):Promise.resolve().then(()=>(Vw(),Hw)).then(e=>{Wg.render(e.render())});})();
/*! getEmPixels  | Author: Tyson Matanich (http://matanich.com), 2013 | License: MIT */
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

3dmol/build/3Dmol.js:
  (*!
   * 3dmol v2.0.5
   * JavaScript/TypeScript molecular visualization library
   * Author: David Koes and contributors
   *)
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.0
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-05-11T18:29Z
   *)

datatables.net/js/jquery.dataTables.mjs:
  (*! DataTables 1.13.5
   * ©2008-2023 SpryMedia Ltd - datatables.net/license
   *)

datatables.net-dt/js/dataTables.dataTables.mjs:
  (*! DataTables styling integration
   * ©2018 SpryMedia Ltd - datatables.net/license
   *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
